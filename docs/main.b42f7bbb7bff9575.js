(self.webpackChunksct_implementation_demonstrator=self.webpackChunksct_implementation_demonstrator||[]).push([[792],{951:(Ws,Fd,gs)=>{"use strict";function Do(e,i,t,n,r,s,o){try{var l=e[s](o),b=l.value}catch(C){return void t(C)}l.done?i(b):Promise.resolve(b).then(n,r)}function de(e){return function(){var i=this,t=arguments;return new Promise(function(n,r){var s=e.apply(i,t);function o(b){Do(s,n,r,o,l,"next",b)}function l(b){Do(s,n,r,o,l,"throw",b)}o(void 0)})}}let P=null,a=!1,w=1;const T=Symbol("SIGNAL");function g(e){const i=P;return P=e,i}const u={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function p(e){if((!F(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==w)){if(!e.producerMustRecompute(e)&&!A(e))return e.dirty=!1,void(e.lastCleanEpoch=w);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=w}}function y(e){e.dirty=!0,function v(e){if(void 0===e.liveConsumerNode)return;const i=a;a=!0;try{for(const t of e.liveConsumerNode)t.dirty||y(t)}finally{a=i}}(e),e.consumerMarkedDirty?.(e)}function _(e){return e&&(e.nextProducerIndex=0),g(e)}function E(e,i){if(g(i),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(F(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)k(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function A(e){N(e);for(let i=0;i<e.producerNode.length;i++){const t=e.producerNode[i],n=e.producerLastReadVersion[i];if(n!==t.version||(p(t),n!==t.version))return!0}return!1}function M(e){if(N(e),F(e))for(let i=0;i<e.producerNode.length;i++)k(e.producerNode[i],e.producerIndexOfThis[i]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function k(e,i){if(function V(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),N(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)k(e.producerNode[n],e.producerIndexOfThis[n]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[i]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[i]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,i<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[i],r=e.liveConsumerNode[i];N(r),r.producerIndexOfThis[n]=i}}function F(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function N(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let at=null;const Yt=()=>{},$t={...u,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:Yt};function ne(e){return"function"==typeof e}function le(e){const t=e(n=>{Error.call(n),n.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Me=le(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function pi(e,i){if(e){const t=e.indexOf(i);0<=t&&e.splice(t,1)}}class Ie{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:n}=this;if(ne(n))try{n()}catch(s){i=s instanceof Me?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{ri(s)}catch(o){i=i??[],o instanceof Me?i=[...i,...o.errors]:i.push(o)}}if(i)throw new Me(i)}}add(i){var t;if(i&&i!==this)if(this.closed)ri(i);else{if(i instanceof Ie){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(i)}}_hasParent(i){const{_parentage:t}=this;return t===i||Array.isArray(t)&&t.includes(i)}_addParent(i){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(i),t):t?[t,i]:i}_removeParent(i){const{_parentage:t}=this;t===i?this._parentage=null:Array.isArray(t)&&pi(t,i)}remove(i){const{_finalizers:t}=this;t&&pi(t,i),i instanceof Ie&&i._removeParent(this)}}Ie.EMPTY=(()=>{const e=new Ie;return e.closed=!0,e})();const _i=Ie.EMPTY;function we(e){return e instanceof Ie||e&&"closed"in e&&ne(e.remove)&&ne(e.add)&&ne(e.unsubscribe)}function ri(e){ne(e)?e():e.unsubscribe()}const Ze={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zi={setTimeout(e,i,...t){const{delegate:n}=zi;return n?.setTimeout?n.setTimeout(e,i,...t):setTimeout(e,i,...t)},clearTimeout(e){const{delegate:i}=zi;return(i?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Cn(e){zi.setTimeout(()=>{const{onUnhandledError:i}=Ze;if(!i)throw e;i(e)})}function sr(){}const vn=cs("C",void 0,void 0);function cs(e,i,t){return{kind:e,value:i,error:t}}let Dn=null;function xr(e){if(Ze.useDeprecatedSynchronousErrorHandling){const i=!Dn;if(i&&(Dn={errorThrown:!1,error:null}),e(),i){const{errorThrown:t,error:n}=Dn;if(Dn=null,t)throw n}}else e()}class Xs extends Ie{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,we(i)&&i.add(this)):this.destination=znt}static create(i,t,n){return new Ho(i,t,n)}next(i){this.isStopped?YA(function Fr(e){return cs("N",e,void 0)}(i),this):this._next(i)}error(i){this.isStopped?YA(function bn(e){return cs("E",void 0,e)}(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?YA(vn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Od=Function.prototype.bind;function uc(e,i){return Od.call(e,i)}class Ld{constructor(i){this.partialObserver=i}next(i){const{partialObserver:t}=this;if(t.next)try{t.next(i)}catch(n){Bl(n)}}error(i){const{partialObserver:t}=this;if(t.error)try{t.error(i)}catch(n){Bl(n)}else Bl(i)}complete(){const{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(t){Bl(t)}}}class Ho extends Xs{constructor(i,t,n){let r;if(super(),ne(i)||!i)r={next:i??void 0,error:t??void 0,complete:n??void 0};else{let s;this&&Ze.useDeprecatedNextContext?(s=Object.create(i),s.unsubscribe=()=>this.unsubscribe(),r={next:i.next&&uc(i.next,s),error:i.error&&uc(i.error,s),complete:i.complete&&uc(i.complete,s)}):r=i}this.destination=new Ld(r)}}function Bl(e){Ze.useDeprecatedSynchronousErrorHandling?function ts(e){Ze.useDeprecatedSynchronousErrorHandling&&Dn&&(Dn.errorThrown=!0,Dn.error=e)}(e):Cn(e)}function YA(e,i){const{onStoppedNotification:t}=Ze;t&&zi.setTimeout(()=>t(e,i))}const znt={closed:!0,next:sr,error:function Unt(e){throw e},complete:sr},$A="function"==typeof Symbol&&Symbol.observable||"@@observable";function th(e){return e}function B4(e){return 0===e.length?th:1===e.length?e[0]:function(t){return e.reduce((n,r)=>r(n),t)}}let ur=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(t,n,r){const s=function Wnt(e){return e&&e instanceof Xs||function Hnt(e){return e&&ne(e.next)&&ne(e.error)&&ne(e.complete)}(e)&&we(e)}(t)?t:new Ho(t,n,r);return xr(()=>{const{operator:o,source:l}=this;s.add(o?o.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return new(n=V4(n))((r,s)=>{const o=new Ho({next:l=>{try{t(l)}catch(b){s(b),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)}[$A](){return this}pipe(...t){return B4(t)(this)}toPromise(t){return new(t=V4(t))((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return e.create=i=>new e(i),e})();function V4(e){var i;return null!==(i=e??Ze.Promise)&&void 0!==i?i:Promise}const Xnt=le(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Pe=(()=>{class e extends ur{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const n=new U4(this,this);return n.operator=t,n}_throwIfClosed(){if(this.closed)throw new Xnt}next(t){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(t)}})}error(t){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:n}=this;for(;n.length;)n.shift().error(t)}})}complete(){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:n,isStopped:r,observers:s}=this;return n||r?_i:(this.currentObservers=null,s.push(t),new Ie(()=>{this.currentObservers=null,pi(s,t)}))}_checkFinalizedStatuses(t){const{hasError:n,thrownError:r,isStopped:s}=this;n?t.error(r):s&&t.complete()}asObservable(){const t=new ur;return t.source=this,t}}return e.create=(i,t)=>new U4(i,t),e})();class U4 extends Pe{constructor(i,t){super(),this.destination=i,this.source=t}next(i){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,i)}error(i){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,i)}complete(){var i,t;null===(t=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===t||t.call(i)}_subscribe(i){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(i))&&void 0!==n?n:_i}}class Wr extends Pe{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const t=super._subscribe(i);return!t.closed&&i.next(this._value),t}getValue(){const{hasError:i,thrownError:t,_value:n}=this;if(i)throw t;return this._throwIfClosed(),n}next(i){super.next(this._value=i)}}function z4(e){return ne(e?.lift)}function ds(e){return i=>{if(z4(i))return i.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xr(e,i,t,n,r){return new jnt(e,i,t,n,r)}class jnt extends Xs{constructor(i,t,n,r,s,o){super(i),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(l){try{t(l)}catch(b){i.error(b)}}:super._next,this._error=r?function(l){try{r(l)}catch(b){i.error(b)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(l){i.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}}function Di(e,i){return ds((t,n)=>{let r=0;t.subscribe(Xr(n,s=>{n.next(e.call(i,s,r++))}))})}const G4="https://g.co/ng/security#xss";class ue extends Error{constructor(i,t){super(function Ep(e,i){return`NG0${Math.abs(e)}${i?": "+i:""}`}(i,t)),this.code=i}}function Nd(e){return{toString:e}.toString()}const Dp="__parameters__";function Ip(e,i,t){return Nd(()=>{const n=function QA(e){return function(...t){if(e){const n=e(...t);for(const r in n)this[r]=n[r]}}}(i);function r(...s){if(this instanceof r)return n.apply(this,s),this;const o=new r(...s);return l.annotation=o,l;function l(b,C,D){const R=b.hasOwnProperty(Dp)?b[Dp]:Object.defineProperty(b,Dp,{value:[]})[Dp];for(;R.length<=D;)R.push(null);return(R[D]=R[D]||[]).push(o),b}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}const hr=globalThis;function yr(e){for(let i in e)if(e[i]===yr)return i;throw Error("Could not find renamed property on target object.")}function Ynt(e,i){for(const t in i)i.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=i[t])}function ea(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ea).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const i=e.toString();if(null==i)return""+i;const t=i.indexOf("\n");return-1===t?i:i.substring(0,t)}function KA(e,i){return null==e||""===e?null===i?"":i:null==i||""===i?e:e+" "+i}const $nt=yr({__forward_ref__:yr});function Sn(e){return e.__forward_ref__=Sn,e.toString=function(){return ea(this())},e}function Hi(e){return hw(e)?e():e}function hw(e){return"function"==typeof e&&e.hasOwnProperty($nt)&&e.__forward_ref__===Sn}function Ae(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Pi(e){return{providers:e.providers||[],imports:e.imports||[]}}function fw(e){return j4(e,pw)||j4(e,Y4)}function j4(e,i){return e.hasOwnProperty(i)?e[i]:null}function mw(e){return e&&(e.hasOwnProperty(ZA)||e.hasOwnProperty(trt))?e[ZA]:null}const pw=yr({\u0275prov:yr}),ZA=yr({\u0275inj:yr}),Y4=yr({ngInjectableDef:yr}),trt=yr({ngInjectorDef:yr});class ee{constructor(i,t){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ae({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function n2(e){return e&&!!e.\u0275providers}const F0=yr({\u0275cmp:yr}),r2=yr({\u0275dir:yr}),s2=yr({\u0275pipe:yr}),Q4=yr({\u0275mod:yr}),Bd=yr({\u0275fac:yr}),O0=yr({__NG_ELEMENT_ID__:yr}),K4=yr({__NG_ENV_ID__:yr});function nn(e){return"string"==typeof e?e:null==e?"":String(e)}function a2(e,i){throw new ue(-201,!1)}var Ln=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ln||{});let o2;function Z4(){return o2}function Wo(e){const i=o2;return o2=e,i}function J4(e,i,t){const n=fw(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:t&Ln.Optional?null:void 0!==i?i:void a2()}const L0={},l2="__NG_DI_FLAG__",gw="ngTempTokenPath",art=/\n/gm,q4="__source";let kp;function ih(e){const i=kp;return kp=e,i}function crt(e,i=Ln.Default){if(void 0===kp)throw new ue(-203,!1);return null===kp?J4(e,void 0,i):kp.get(e,i&Ln.Optional?null:void 0,i)}function Jt(e,i=Ln.Default){return(Z4()||crt)(Hi(e),i)}function me(e,i=Ln.Default){return Jt(e,vw(i))}function vw(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function c2(e){const i=[];for(let t=0;t<e.length;t++){const n=Hi(e[t]);if(Array.isArray(n)){if(0===n.length)throw new ue(900,!1);let r,s=Ln.Default;for(let o=0;o<n.length;o++){const l=n[o],b=drt(l);"number"==typeof b?-1===b?r=l.token:s|=b:r=l}i.push(Jt(r,s))}else i.push(Jt(n))}return i}function N0(e,i){return e[l2]=i,e.prototype[l2]=i,e}function drt(e){return e[l2]}const Vd=N0(Ip("Optional"),8),Cf=N0(Ip("SkipSelf"),4);function Sf(e,i){return e.hasOwnProperty(Bd)?e[Bd]:null}function Rp(e,i){e.forEach(t=>Array.isArray(t)?Rp(t,i):i(t))}function e3(e,i,t){i>=e.length?e.push(t):e.splice(i,0,t)}function xw(e,i){return i>=e.length-1?e.pop():e.splice(i,1)[0]}function dl(e,i,t){let n=Pp(e,i);return n>=0?e[1|n]=t:(n=~n,function n3(e,i,t,n){let r=e.length;if(r==i)e.push(t,n);else if(1===r)e.push(n,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>i;)e[r]=e[r-2],r--;e[i]=t,e[i+1]=n}}(e,n,i,t)),n}function u2(e,i){const t=Pp(e,i);if(t>=0)return e[1|t]}function Pp(e,i){return function r3(e,i,t){let n=0,r=e.length>>t;for(;r!==n;){const s=n+(r-n>>1),o=e[s<<t];if(i===o)return s<<t;o>i?r=s:n=s+1}return~(r<<t)}(e,i,1)}const Bc={},Qn=[],Ef=new ee(""),s3=new ee("",-1),h2=new ee("");class bw{get(i,t=L0){if(t===L0){const n=new Error(`NullInjectorError: No provider for ${ea(i)}!`);throw n.name="NullInjectorError",n}return t}}var ww=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ww||{}),hc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(hc||{}),Wt=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Wt||{});function vrt(e,i,t){let n=e.length;for(;;){const r=e.indexOf(i,t);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=i.length;if(r+s===n||e.charCodeAt(r+s)<=32)return r}t=r+1}}function f2(e,i,t){let n=0;for(;n<t.length;){const r=t[n];if("number"==typeof r){if(0!==r)break;n++;const s=t[n++],o=t[n++],l=t[n++];e.setAttribute(i,o,l,s)}else{const s=r,o=t[++n];o3(s)?e.setProperty(i,s,o):e.setAttribute(i,s,o),n++}}return n}function a3(e){return 3===e||4===e||6===e}function o3(e){return 64===e.charCodeAt(0)}function B0(e,i){if(null!==i&&0!==i.length)if(null===e||0===e.length)e=i.slice();else{let t=-1;for(let n=0;n<i.length;n++){const r=i[n];"number"==typeof r?t=r:0===t||l3(e,t,r,null,-1===t||2===t?i[++n]:null)}}return e}function l3(e,i,t,n,r){let s=0,o=e.length;if(-1===i)o=-1;else for(;s<e.length;){const l=e[s++];if("number"==typeof l){if(l===i){o=-1;break}if(l>i){o=s-1;break}}}for(;s<e.length;){const l=e[s];if("number"==typeof l)break;if(l===t){if(null===n)return void(null!==r&&(e[s+1]=r));if(n===e[s+1])return void(e[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,i),s=o+1),e.splice(s++,0,t),null!==n&&e.splice(s++,0,n),null!==r&&e.splice(s++,0,r)}const c3="ng-template";function xrt(e,i,t,n){let r=0;if(n){for(;r<i.length&&"string"==typeof i[r];r+=2)if("class"===i[r]&&-1!==vrt(i[r+1].toLowerCase(),t,0))return!0}else if(m2(e))return!1;if(r=i.indexOf(1,r),r>-1){let s;for(;++r<i.length&&"string"==typeof(s=i[r]);)if(s.toLowerCase()===t)return!0}return!1}function m2(e){return 4===e.type&&e.value!==c3}function yrt(e,i,t){return i===(4!==e.type||t?e.value:c3)}function brt(e,i,t){let n=4;const r=e.attrs,s=null!==r?function Trt(e){for(let i=0;i<e.length;i++)if(a3(e[i]))return i;return e.length}(r):0;let o=!1;for(let l=0;l<i.length;l++){const b=i[l];if("number"!=typeof b){if(!o)if(4&n){if(n=2|1&n,""!==b&&!yrt(e,b,t)||""===b&&1===i.length){if(fc(n))return!1;o=!0}}else if(8&n){if(null===r||!xrt(e,r,b,t)){if(fc(n))return!1;o=!0}}else{const C=i[++l],D=wrt(b,r,m2(e),t);if(-1===D){if(fc(n))return!1;o=!0;continue}if(""!==C){let R;if(R=D>s?"":r[D+1].toLowerCase(),2&n&&C!==R){if(fc(n))return!1;o=!0}}}}else{if(!o&&!fc(n)&&!fc(b))return!1;if(o&&fc(b))continue;o=!1,n=b|1&n}}return fc(n)||o}function fc(e){return!(1&e)}function wrt(e,i,t,n){if(null===i)return-1;let r=0;if(n||!t){let s=!1;for(;r<i.length;){const o=i[r];if(o===e)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let l=i[++r];for(;"string"==typeof l;)l=i[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function Crt(e,i){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const n=e[t];if("number"==typeof n)return-1;if(n===i)return t;t++}return-1}(i,e)}function d3(e,i,t=!1){for(let n=0;n<i.length;n++)if(brt(e,i[n],t))return!0;return!1}function Srt(e,i){t:for(let t=0;t<i.length;t++){const n=i[t];if(e.length===n.length){for(let r=0;r<e.length;r++)if(e[r]!==n[r])continue t;return!0}}return!1}function u3(e,i){return e?":not("+i.trim()+")":i}function Ert(e){let i=e[0],t=1,n=2,r="",s=!1;for(;t<e.length;){let o=e[t];if("string"==typeof o)if(2&n){const l=e[++t];r+="["+o+(l.length>0?'="'+l+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""!==r&&!fc(o)&&(i+=u3(s,r),r=""),n=o,s=s||!fc(n);t++}return""!==r&&(i+=u3(s,r)),i}function $e(e){return Nd(()=>{const i=f3(e),t={...i,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ww.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||hc.Emulated,styles:e.styles||Qn,_:null,schemas:e.schemas||null,tView:null,id:""};m3(t);const n=e.dependencies;return t.directiveDefs=_w(n,!1),t.pipeDefs=_w(n,!0),t.id=function Rrt(e){let i=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of t)i=Math.imul(31,i)+r.charCodeAt(0)|0;return i+=2147483648,"c"+i}(t),t})}function Mrt(e){return En(e)||ia(e)}function Irt(e){return null!==e}function Li(e){return Nd(()=>({type:e.type,bootstrap:e.bootstrap||Qn,declarations:e.declarations||Qn,imports:e.imports||Qn,exports:e.exports||Qn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function h3(e,i){if(null==e)return Bc;const t={};for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];let s,o,l=Wt.None;Array.isArray(r)?(l=r[0],s=r[1],o=r[2]??s):(s=r,o=r),i?(t[s]=l!==Wt.None?[n,l]:n,i[s]=o):t[s]=n}return t}function ce(e){return Nd(()=>{const i=f3(e);return m3(i),i})}function $a(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function En(e){return e[F0]||null}function ia(e){return e[r2]||null}function Oa(e){return e[s2]||null}function Qa(e,i){const t=e[Q4]||null;if(!t&&!0===i)throw new Error(`Type ${ea(e)} does not have '\u0275mod' property.`);return t}function f3(e){const i={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:e.inputs||Bc,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Qn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:h3(e.inputs,i),outputs:h3(e.outputs),debugInfo:null}}function m3(e){e.features?.forEach(i=>i(e))}function _w(e,i){if(!e)return null;const t=i?Oa:Mrt;return()=>("function"==typeof e?e():e).map(n=>t(n)).filter(Irt)}function Prt(...e){return{\u0275providers:p2(0,e),\u0275fromNgModule:!0}}function p2(e,...i){const t=[],n=new Set;let r;const s=o=>{t.push(o)};return Rp(i,o=>{const l=o;Tw(l,s,[],n)&&(r||=[],r.push(l))}),void 0!==r&&p3(r,s),t}function p3(e,i){for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];g2(r,s=>{i(s,n)})}}function Tw(e,i,t,n){if(!(e=Hi(e)))return!1;let r=null,s=mw(e);const o=!s&&En(e);if(s||o){if(o&&!o.standalone)return!1;r=e}else{const b=e.ngModule;if(s=mw(b),!s)return!1;r=b}const l=n.has(r);if(o){if(l)return!1;if(n.add(r),o.dependencies){const b="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const C of b)Tw(C,i,t,n)}}else{if(!s)return!1;{if(null!=s.imports&&!l){let C;n.add(r);try{Rp(s.imports,D=>{Tw(D,i,t,n)&&(C||=[],C.push(D))})}finally{}void 0!==C&&p3(C,i)}if(!l){const C=Sf(r)||(()=>new r);i({provide:r,useFactory:C,deps:Qn},r),i({provide:h2,useValue:r,multi:!0},r),i({provide:Ef,useValue:()=>Jt(r),multi:!0},r)}const b=s.providers;if(null!=b&&!l){const C=e;g2(b,D=>{i(D,C)})}}}return r!==e&&void 0!==e.providers}function g2(e,i){for(let t of e)n2(t)&&(t=t.\u0275providers),Array.isArray(t)?g2(t,i):i(t)}const Frt=yr({provide:String,useValue:yr});function v2(e){return null!==e&&"object"==typeof e&&Frt in e}function Af(e){return"function"==typeof e}const x2=new ee(""),Cw={},Lrt={};let y2;function Sw(){return void 0===y2&&(y2=new bw),y2}class jo{}class Fp extends jo{get destroyed(){return this._destroyed}constructor(i,t,n,r){super(),this.parent=t,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,w2(i,o=>this.processProvider(o)),this.records.set(s3,Op(void 0,this)),r.has("environment")&&this.records.set(jo,Op(void 0,this));const s=this.records.get(x2);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(h2,Qn,Ln.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const i=g(null);try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),g(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const t=ih(this),n=Wo(void 0);try{return i()}finally{ih(t),Wo(n)}}get(i,t=L0,n=Ln.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(K4))return i[K4](this);n=vw(n);const s=ih(this),o=Wo(void 0);try{if(!(n&Ln.SkipSelf)){let b=this.records.get(i);if(void 0===b){const C=function zrt(e){return"function"==typeof e||"object"==typeof e&&e instanceof ee}(i)&&fw(i);b=C&&this.injectableDefInScope(C)?Op(b2(i),Cw):null,this.records.set(i,b)}if(null!=b)return this.hydrate(i,b)}return(n&Ln.Self?Sw():this.parent).get(i,t=n&Ln.Optional&&t===L0?null:t)}catch(l){if("NullInjectorError"===l.name){if((l[gw]=l[gw]||[]).unshift(ea(i)),s)throw l;return function urt(e,i,t,n){const r=e[gw];throw i[q4]&&r.unshift(i[q4]),e.message=function hrt(e,i,t,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=ea(i);if(Array.isArray(i))r=i.map(ea).join(" -> ");else if("object"==typeof i){let s=[];for(let o in i)if(i.hasOwnProperty(o)){let l=i[o];s.push(o+":"+("string"==typeof l?JSON.stringify(l):ea(l)))}r=`{${s.join(", ")}}`}return`${t}${n?"("+n+")":""}[${r}]: ${e.replace(art,"\n  ")}`}("\n"+e.message,r,t,n),e.ngTokenPath=r,e[gw]=null,e}(l,i,"R3InjectorError",this.source)}throw l}finally{Wo(o),ih(s)}}resolveInjectorInitializers(){const i=g(null),t=ih(this),n=Wo(void 0);try{const s=this.get(Ef,Qn,Ln.Self);for(const o of s)o()}finally{ih(t),Wo(n),g(i)}}toString(){const i=[],t=this.records;for(const n of t.keys())i.push(ea(n));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(i){let t=Af(i=Hi(i))?i:Hi(i&&i.provide);const n=function Brt(e){return v2(e)?Op(void 0,e.useValue):Op(x3(e),Cw)}(i);if(!Af(i)&&!0===i.multi){let r=this.records.get(t);r||(r=Op(void 0,Cw,!0),r.factory=()=>c2(r.multi),this.records.set(t,r)),t=i,r.multi.push(i)}this.records.set(t,n)}hydrate(i,t){const n=g(null);try{return t.value===Cw&&(t.value=Lrt,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Urt(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{g(n)}}injectableDefInScope(i){if(!i.providedIn)return!1;const t=Hi(i.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(i){const t=this._onDestroyHooks.indexOf(i);-1!==t&&this._onDestroyHooks.splice(t,1)}}function b2(e){const i=fw(e),t=null!==i?i.factory:Sf(e);if(null!==t)return t;if(e instanceof ee)throw new ue(204,!1);if(e instanceof Function)return function Nrt(e){if(e.length>0)throw new ue(204,!1);const t=function qnt(e){return e&&(e[pw]||e[Y4])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new ue(204,!1)}function x3(e,i,t){let n;if(Af(e)){const r=Hi(e);return Sf(r)||b2(r)}if(v2(e))n=()=>Hi(e.useValue);else if(function v3(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...c2(e.deps||[]));else if(function g3(e){return!(!e||!e.useExisting)}(e))n=()=>Jt(Hi(e.useExisting));else{const r=Hi(e&&(e.useClass||e.provide));if(!function Vrt(e){return!!e.deps}(e))return Sf(r)||b2(r);n=()=>new r(...c2(e.deps))}return n}function Op(e,i,t=!1){return{factory:e,value:i,multi:t?[]:void 0}}function w2(e,i){for(const t of e)Array.isArray(t)?w2(t,i):t&&n2(t)?w2(t.\u0275providers,i):i(t)}function Vc(e,i){e instanceof Fp&&e.assertNotDestroyed();const n=ih(e),r=Wo(void 0);try{return i()}finally{ih(n),Wo(r)}}function y3(){return void 0!==Z4()||null!=function lrt(){return kp}()}function Ew(e){if(!y3())throw new ue(-203,!1)}const es=0,Qe=1,Fi=2,Cs=3,mc=4,Ka=5,ul=6,Np=7,Or=8,La=9,pc=10,$i=11,z0=12,w3=13,Bp=14,us=15,G0=16,Vp=17,Ud=18,H0=19,_3=20,rh=21,Dw=22,Df=23,rn=25,T2=1,Uc=7,Up=9,Ss=10;var C2=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(C2||{});function Za(e){return Array.isArray(e)&&"object"==typeof e[T2]}function Ja(e){return Array.isArray(e)&&!0===e[T2]}function S2(e){return!!(4&e.flags)}function Mf(e){return e.componentOffset>-1}function Iw(e){return!(1&~e.flags)}function gc(e){return!!e.template}function E2(e){return!!(512&e[Fi])}class tst{constructor(i,t,n){this.previousValue=i,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function E3(e,i,t,n){null!==i?i.applyValueToInputSignal(i,n):e[t]=n}function tr(){return A3}function A3(e){return e.type.prototype.ngOnChanges&&(e.setInput=ist),est}function est(){const e=M3(this),i=e?.current;if(i){const t=e.previous;if(t===Bc)e.previous=i;else for(let n in i)t[n]=i[n];e.current=null,this.ngOnChanges(i)}}function ist(e,i,t,n,r){const s=this.declaredInputs[n],o=M3(e)||function nst(e,i){return e[D3]=i}(e,{previous:Bc,current:null}),l=o.current||(o.current={}),b=o.previous,C=b[s];l[s]=new tst(C&&C.currentValue,t,b===Bc),E3(e,i,r,t)}tr.ngInherit=!0;const D3="__ngSimpleChanges__";function M3(e){return e[D3]||null}const zc=function(e,i,t){},I3="svg";let R3=!1;function Sr(e){for(;Array.isArray(e);)e=e[es];return e}function X0(e,i){return Sr(i[e])}function Mo(e,i){return Sr(i[e.index])}function j0(e,i){return e.data[i]}function zp(e,i){return e[i]}function hl(e,i){const t=i[e];return Za(t)?t:t[es]}function k2(e){return!(128&~e[Fi])}function Gc(e,i){return null==i?null:e[i]}function P3(e){e[Vp]=0}function cst(e){1024&e[Fi]||(e[Fi]|=1024,k2(e)&&Y0(e))}function R2(e){return!!(9216&e[Fi]||e[Df]?.dirty)}function P2(e){e[pc].changeDetectionScheduler?.notify(1),R2(e)?Y0(e):64&e[Fi]&&(function sst(){return R3}()?(e[Fi]|=1024,Y0(e)):e[pc].changeDetectionScheduler?.notify())}function Y0(e){e[pc].changeDetectionScheduler?.notify();let i=If(e);for(;null!==i&&!(8192&i[Fi])&&(i[Fi]|=8192,k2(i));)i=If(i)}function kw(e,i){if(!(256&~e[Fi]))throw new ue(911,!1);null===e[rh]&&(e[rh]=[]),e[rh].push(i)}function If(e){const i=e[Cs];return Ja(i)?i[Cs]:i}const Qi={lFrame:H3(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function L3(){return Qi.bindingsEnabled}function Gp(){return null!==Qi.skipHydrationRootTNode}function be(){return Qi.lFrame.lView}function Nn(){return Qi.lFrame.tView}function Ut(e){return Qi.lFrame.contextLView=e,e[Or]}function zt(e){return Qi.lFrame.contextLView=null,e}function br(){let e=N3();for(;null!==e&&64===e.type;)e=e.parent;return e}function N3(){return Qi.lFrame.currentTNode}function Hc(e,i){const t=Qi.lFrame;t.currentTNode=e,t.isParent=i}function O2(){return Qi.lFrame.isParent}function L2(){Qi.lFrame.isParent=!1}function Io(){const e=Qi.lFrame;let i=e.bindingRootIndex;return-1===i&&(i=e.bindingRootIndex=e.tView.bindingStartIndex),i}function zd(){return Qi.lFrame.bindingIndex}function vc(){return Qi.lFrame.bindingIndex++}function Gd(e){const i=Qi.lFrame,t=i.bindingIndex;return i.bindingIndex=i.bindingIndex+e,t}function bst(e,i){const t=Qi.lFrame;t.bindingIndex=t.bindingRootIndex=e,N2(i)}function N2(e){Qi.lFrame.currentDirectiveIndex=e}function B2(e){const i=Qi.lFrame.currentDirectiveIndex;return-1===i?null:e[i]}function V2(){return Qi.lFrame.currentQueryIndex}function Rw(e){Qi.lFrame.currentQueryIndex=e}function _st(e){const i=e[Qe];return 2===i.type?i.declTNode:1===i.type?e[Ka]:null}function z3(e,i,t){if(t&Ln.SkipSelf){let r=i,s=e;for(;!(r=r.parent,null!==r||t&Ln.Host||(r=_st(s),null===r||(s=s[Bp],10&r.type))););if(null===r)return!1;i=r,e=s}const n=Qi.lFrame=G3();return n.currentTNode=i,n.lView=e,!0}function U2(e){const i=G3(),t=e[Qe];Qi.lFrame=i,i.currentTNode=t.firstChild,i.lView=e,i.tView=t,i.contextLView=e,i.bindingIndex=t.bindingStartIndex,i.inI18n=!1}function G3(){const e=Qi.lFrame,i=null===e?null:e.child;return null===i?H3(e):i}function H3(e){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=i),i}function W3(){const e=Qi.lFrame;return Qi.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const X3=W3;function z2(){const e=W3();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function qa(){return Qi.lFrame.selectedIndex}function kf(e){Qi.lFrame.selectedIndex=e}function Lr(){const e=Qi.lFrame;return j0(e.tView,e.selectedIndex)}function fl(){Qi.lFrame.currentNamespace=I3}function Q0(){!function Sst(){Qi.lFrame.currentNamespace=null}()}let Y3=!0;function K0(){return Y3}function Wc(e){Y3=e}function Pw(e,i){for(let t=i.directiveStart,n=i.directiveEnd;t<n;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:l,ngAfterViewInit:b,ngAfterViewChecked:C,ngOnDestroy:D}=s;o&&(e.contentHooks??=[]).push(-t,o),l&&((e.contentHooks??=[]).push(t,l),(e.contentCheckHooks??=[]).push(t,l)),b&&(e.viewHooks??=[]).push(-t,b),C&&((e.viewHooks??=[]).push(t,C),(e.viewCheckHooks??=[]).push(t,C)),null!=D&&(e.destroyHooks??=[]).push(t,D)}}function Fw(e,i,t){$3(e,i,3,t)}function Ow(e,i,t,n){(3&e[Fi])===t&&$3(e,i,t,n)}function G2(e,i){let t=e[Fi];(3&t)===i&&(t&=16383,t+=1,e[Fi]=t)}function $3(e,i,t,n){const s=n??-1,o=i.length-1;let l=0;for(let b=void 0!==n?65535&e[Vp]:0;b<o;b++)if("number"==typeof i[b+1]){if(l=i[b],null!=n&&l>=n)break}else i[b]<0&&(e[Vp]+=65536),(l<s||-1==s)&&(Ast(e,t,i,b),e[Vp]=(4294901760&e[Vp])+b+2),b++}function Q3(e,i){zc(4,e,i);const t=g(null);try{i.call(e)}finally{g(t),zc(5,e,i)}}function Ast(e,i,t,n){const r=t[n]<0,s=t[n+1],l=e[r?-t[n]:t[n]];r?e[Fi]>>14<e[Vp]>>16&&(3&e[Fi])===i&&(e[Fi]+=16384,Q3(l,s)):Q3(l,s)}const Hp=-1;class Z0{constructor(i,t,n){this.factory=i,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function W2(e){return e!==Hp}function J0(e){return 32767&e}function q0(e,i){let t=function Rst(e){return e>>16}(e),n=i;for(;t>0;)n=n[Bp],t--;return n}let X2=!0;function Lw(e){const i=X2;return X2=e,i}const K3=255,Z3=5;let Pst=0;const Xc={};function Nw(e,i){const t=J3(e,i);if(-1!==t)return t;const n=i[Qe];n.firstCreatePass&&(e.injectorIndex=i.length,j2(n.data,e),j2(i,null),j2(n.blueprint,null));const r=Bw(e,i),s=e.injectorIndex;if(W2(r)){const o=J0(r),l=q0(r,i),b=l[Qe].data;for(let C=0;C<8;C++)i[s+C]=l[o+C]|b[o+C]}return i[s+8]=r,s}function j2(e,i){e.push(0,0,0,0,0,0,0,0,i)}function J3(e,i){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===i[e.injectorIndex+8]?-1:e.injectorIndex}function Bw(e,i){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,n=null,r=i;for(;null!==r;){if(n=sB(r),null===n)return Hp;if(t++,r=r[Bp],-1!==n.injectorIndex)return n.injectorIndex|t<<16}return Hp}function Y2(e,i,t){!function Fst(e,i,t){let n;"string"==typeof t?n=t.charCodeAt(0)||0:t.hasOwnProperty(O0)&&(n=t[O0]),null==n&&(n=t[O0]=Pst++);const r=n&K3;i.data[e+(r>>Z3)]|=1<<r}(e,i,t)}function q3(e,i,t){if(t&Ln.Optional||void 0!==e)return e;a2()}function tB(e,i,t,n){if(t&Ln.Optional&&void 0===n&&(n=null),!(t&(Ln.Self|Ln.Host))){const r=e[La],s=Wo(void 0);try{return r?r.get(i,n,t&Ln.Optional):J4(i,n,t&Ln.Optional)}finally{Wo(s)}}return q3(n,0,t)}function eB(e,i,t,n=Ln.Default,r){if(null!==e){if(2048&i[Fi]&&!(n&Ln.Self)){const o=function Vst(e,i,t,n,r){let s=e,o=i;for(;null!==s&&null!==o&&2048&o[Fi]&&!(512&o[Fi]);){const l=iB(s,o,t,n|Ln.Self,Xc);if(l!==Xc)return l;let b=s.parent;if(!b){const C=o[_3];if(C){const D=C.get(t,Xc,n);if(D!==Xc)return D}b=sB(o),o=o[Bp]}s=b}return r}(e,i,t,n,Xc);if(o!==Xc)return o}const s=iB(e,i,t,n,Xc);if(s!==Xc)return s}return tB(i,t,n,r)}function iB(e,i,t,n,r){const s=function Nst(e){if("string"==typeof e)return e.charCodeAt(0)||0;const i=e.hasOwnProperty(O0)?e[O0]:void 0;return"number"==typeof i?i>=0?i&K3:Bst:i}(t);if("function"==typeof s){if(!z3(i,e,n))return n&Ln.Host?q3(r,0,n):tB(i,t,n,r);try{let o;if(o=s(n),null!=o||n&Ln.Optional)return o;a2()}finally{X3()}}else if("number"==typeof s){let o=null,l=J3(e,i),b=Hp,C=n&Ln.Host?i[us][Ka]:null;for((-1===l||n&Ln.SkipSelf)&&(b=-1===l?Bw(e,i):i[l+8],b!==Hp&&rB(n,!1)?(o=i[Qe],l=J0(b),i=q0(b,i)):l=-1);-1!==l;){const D=i[Qe];if(nB(s,l,D.data)){const R=Lst(l,i,t,o,n,C);if(R!==Xc)return R}b=i[l+8],b!==Hp&&rB(n,i[Qe].data[l+8]===C)&&nB(s,l,i)?(o=D,l=J0(b),i=q0(b,i)):l=-1}}return r}function Lst(e,i,t,n,r,s){const o=i[Qe],l=o.data[e+8],D=Vw(l,o,t,null==n?Mf(l)&&X2:n!=o&&!!(3&l.type),r&Ln.Host&&s===l);return null!==D?Rf(i,o,D,l):Xc}function Vw(e,i,t,n,r){const s=e.providerIndexes,o=i.data,l=1048575&s,b=e.directiveStart,D=s>>20,O=r?l+D:e.directiveEnd;for(let L=n?l:l+D;L<O;L++){const U=o[L];if(L<b&&t===U||L>=b&&U.type===t)return L}if(r){const L=o[b];if(L&&gc(L)&&L.type===t)return b}return null}function Rf(e,i,t,n){let r=e[t];const s=i.data;if(function Dst(e){return e instanceof Z0}(r)){const o=r;o.resolving&&function nrt(e,i){throw i&&i.join(" > "),new ue(-200,e)}(function ar(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():nn(e)}(s[t]));const l=Lw(o.canSeeViewProviders);o.resolving=!0;const C=o.injectImpl?Wo(o.injectImpl):null;z3(e,n,Ln.Default);try{r=e[t]=o.factory(void 0,s,e,n),i.firstCreatePass&&t>=n.directiveStart&&function Est(e,i,t){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=i.type.prototype;if(n){const o=A3(i);(t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o)}r&&(t.preOrderHooks??=[]).push(0-e,r),s&&((t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s))}(t,s[t],i)}finally{null!==C&&Wo(C),Lw(l),o.resolving=!1,X3()}}return r}function nB(e,i,t){return!!(t[i+(e>>Z3)]&1<<e)}function rB(e,i){return!(e&Ln.Self||e&Ln.Host&&i)}class ra{constructor(i,t){this._tNode=i,this._lView=t}get(i,t,n){return eB(this._tNode,this._lView,i,vw(n),t)}}function Bst(){return new ra(br(),be())}function wn(e){return Nd(()=>{const i=e.prototype.constructor,t=i[Bd]||$2(i),n=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==n;){const s=r[Bd]||$2(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function $2(e){return hw(e)?()=>{const i=$2(Hi(e));return i&&i()}:Sf(e)}function sB(e){const i=e[Qe],t=i.type;return 2===t?i.declTNode:1===t?e[Ka]:null}function ml(e){return function Ost(e,i){if("class"===i)return e.classes;if("style"===i)return e.styles;const t=e.attrs;if(t){const n=t.length;let r=0;for(;r<n;){const s=t[r];if(a3(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<n&&"string"==typeof t[r];)r++;else{if(s===i)return t[r+1];r+=2}}}return null}(br(),e)}function dB(e,i=null,t=null,n){const r=uB(e,i,t,n);return r.resolveInjectorInitializers(),r}function uB(e,i=null,t=null,n,r=new Set){const s=[t||Qn,Prt(e)];return n=n||("object"==typeof e?void 0:ea(e)),new Fp(s,i||Sw(),n||null,r)}let is=(()=>{class e{static#t=this.THROW_IF_NOT_FOUND=L0;static#e=this.NULL=new bw;static create(t,n){if(Array.isArray(t))return dB({name:""},n,t,"");{const r=t.name??"";return dB({name:r},t.parent,t.providers,r)}}static#i=this.\u0275prov=Ae({token:e,providedIn:"any",factory:()=>Jt(s3)});static#n=this.__NG_ELEMENT_ID__=-1}return e})();function K2(e){return e.ngOriginalError}class pl{constructor(){this._console=console}handleError(i){const t=this._findOriginalError(i);this._console.error("ERROR",i),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(i){let t=i&&K2(i);for(;t&&K2(t);)t=K2(t);return t||null}}const fB=new ee("",{providedIn:"root",factory:()=>me(pl).handleError.bind(void 0)});let jp=(()=>{class e{static#t=this.__NG_ELEMENT_ID__=$st;static#e=this.__NG_ENV_ID__=t=>t}return e})();class Yst extends jp{constructor(i){super(),this._lView=i}onDestroy(i){return kw(this._lView,i),()=>function F2(e,i){if(null===e[rh])return;const t=e[rh].indexOf(i);-1!==t&&e[rh].splice(t,1)}(this._lView,i)}}function $st(){return new Yst(be())}function Qst(){return Yp(br(),be())}function Yp(e,i){return new si(Mo(e,i))}let si=(()=>{class e{constructor(t){this.nativeElement=t}static#t=this.__NG_ELEMENT_ID__=Qst}return e})();function pB(e){return e instanceof si?e.nativeElement:e}function Z2(e){return i=>{setTimeout(e,void 0,i)}}const De=class Kst extends Pe{constructor(i=!1){super(),this.destroyRef=void 0,this.__isAsync=i,y3()&&(this.destroyRef=me(jp,{optional:!0})??void 0)}emit(i){const t=g(null);try{super.next(i)}finally{g(t)}}subscribe(i,t,n){let r=i,s=t||(()=>null),o=n;if(i&&"object"==typeof i){const b=i;r=b.next?.bind(b),s=b.error?.bind(b),o=b.complete?.bind(b)}this.__isAsync&&(s=Z2(s),r&&(r=Z2(r)),o&&(o=Z2(o)));const l=super.subscribe({next:r,error:s,complete:o});return i instanceof Ie&&i.add(l),l}};function Zst(){return this._results[Symbol.iterator]()}class sh{static#t=Symbol.iterator;get changes(){return this._changes??=new De}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=sh.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Zst)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,t){return this._results.reduce(i,t)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,t){this.dirty=!1;const n=function Xo(e){return e.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function grt(e,i,t){if(e.length!==i.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],s=i[n];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function zw(e){return!(128&~e.flags)}const J2=new Map;let qst=0;const tD="__ngContext__";function to(e,i){Za(i)?(e[tD]=i[H0],function eat(e){J2.set(e[H0],e)}(i)):e[tD]=i}function SB(e){return AB(e[z0])}function EB(e){return AB(e[mc])}function AB(e){for(;null!==e&&!Ja(e);)e=e[mc];return e}let eD;function ah(){if(void 0!==eD)return eD;if(typeof document<"u")return document;throw new ue(210,!1)}const ix=new ee("",{providedIn:"root",factory:()=>yat}),yat="ng",OB=new ee(""),Hd=new ee("",{providedIn:"platform",factory:()=>"unknown"}),Nr=new ee(""),iD=new ee("",{providedIn:"root",factory:()=>ah().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let LB=()=>null;function dD(e,i,t=!1){return LB(e,i,t)}const zB=new ee("",{providedIn:"root",factory:()=>!1});let Kw,Zw;function Kp(e){return function mD(){if(void 0===Kw&&(Kw=null,hr.trustedTypes))try{Kw=hr.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Kw}()?.createHTML(e)||e}function HB(e){return function pD(){if(void 0===Zw&&(Zw=null,hr.trustedTypes))try{Zw=hr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Zw}()?.createHTML(e)||e}class Pf{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${G4})`}}class Pat extends Pf{getTypeName(){return"HTML"}}class Fat extends Pf{getTypeName(){return"Style"}}class Oat extends Pf{getTypeName(){return"Script"}}class Lat extends Pf{getTypeName(){return"URL"}}class Nat extends Pf{getTypeName(){return"ResourceURL"}}function gl(e){return e instanceof Pf?e.changingThisBreaksApplicationSecurity:e}function jc(e,i){const t=function Bat(e){return e instanceof Pf&&e.getTypeName()||null}(e);if(null!=t&&t!==i){if("ResourceURL"===t&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${t} (see ${G4})`)}return t===i}class Wat{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const t=(new window.DOMParser).parseFromString(Kp(i),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(i):(t.removeChild(t.firstChild),t)}catch{return null}}}class Xat{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const t=this.inertDocument.createElement("template");return t.innerHTML=Kp(i),t}}const Yat=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jw(e){return(e=String(e)).match(Yat)?e:"unsafe:"+e}function Wd(e){const i={};for(const t of e.split(","))i[t]=!0;return i}function ox(...e){const i={};for(const t of e)for(const n in t)t.hasOwnProperty(n)&&(i[n]=!0);return i}const YB=Wd("area,br,col,hr,img,wbr"),$B=Wd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),QB=Wd("rp,rt"),gD=ox(YB,ox($B,Wd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ox(QB,Wd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ox(QB,$B)),vD=Wd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),KB=ox(vD,Wd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$at=Wd("script,style,template");class Qat{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let t=i.firstChild,n=!0,r=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)r.push(t),t=Jat(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=Zat(t);if(s){t=s;break}t=r.pop()}return this.buf.join("")}startElement(i){const t=ZB(i).toLowerCase();if(!gD.hasOwnProperty(t))return this.sanitizedSomething=!0,!$at.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=i.attributes;for(let r=0;r<n.length;r++){const s=n.item(r),o=s.name,l=o.toLowerCase();if(!KB.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let b=s.value;vD[l]&&(b=Jw(b)),this.buf.push(" ",o,'="',qB(b),'"')}return this.buf.push(">"),!0}endElement(i){const t=ZB(i).toLowerCase();gD.hasOwnProperty(t)&&!YB.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(i){this.buf.push(qB(i))}}function Zat(e){const i=e.nextSibling;if(i&&e!==i.previousSibling)throw JB(i);return i}function Jat(e){const i=e.firstChild;if(i&&function Kat(e,i){return(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,i))throw JB(i);return i}function ZB(e){const i=e.nodeName;return"string"==typeof i?i:"FORM"}function JB(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const qat=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tot=/([^\#-~ |!])/g;function qB(e){return e.replace(/&/g,"&amp;").replace(qat,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(tot,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qw;function t5(e,i){let t=null;try{qw=qw||function jB(e){const i=new Xat(e);return function jat(){try{return!!(new window.DOMParser).parseFromString(Kp(""),"text/html")}catch{return!1}}()?new Wat(i):i}(e);let n=i?String(i):"";t=qw.getInertBodyElement(n);let r=5,s=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=t.innerHTML,t=qw.getInertBodyElement(n)}while(n!==s);return Kp((new Qat).sanitizeChildren(xD(t)||t))}finally{if(t){const n=xD(t)||t;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function xD(e){return"content"in e&&function eot(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Na=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Na||{});function Ff(e){const i=cx();return i?HB(i.sanitize(Na.HTML,e)||""):jc(e,"HTML")?HB(gl(e)):t5(ah(),nn(e))}function lx(e){const i=cx();return i?i.sanitize(Na.URL,e)||"":jc(e,"URL")?gl(e):Jw(nn(e))}function cx(){const e=be();return e&&e[pc].sanitizer}const oot=/^>|^->|<!--|-->|--!>|<!-$/g,lot=/(<|>)/g,cot="\u200b$1\u200b";function vl(e){return e instanceof Function?e():e}var lh=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(lh||{});let _D;function TD(e,i){return _D(e,i)}function Jp(e,i,t,n,r){if(null!=n){let s,o=!1;Ja(n)?s=n:Za(n)&&(o=!0,n=n[es]);const l=Sr(n);0===e&&null!==t?null==r?m5(i,t,l):Of(i,t,l,r||null,!0):1===e&&null!==t?Of(i,t,l,r||null,!0):2===e?function hx(e,i,t){const n=r_(e,i);n&&function Dot(e,i,t,n){e.removeChild(i,t,n)}(e,n,i,t)}(i,l,o):3===e&&i.destroyNode(l),null!=s&&function kot(e,i,t,n,r){const s=t[Uc];s!==Sr(t)&&Jp(i,e,n,s,r);for(let l=Ss;l<t.length;l++){const b=t[l];a_(b[Qe],b,e,i,n,s)}}(i,e,s,t,r)}}function SD(e,i){return e.createComment(function n5(e){return e.replace(oot,i=>i.replace(lot,cot))}(i))}function i_(e,i,t){return e.createElement(i,t)}function u5(e,i){i[pc].changeDetectionScheduler?.notify(1),a_(e,i,i[$i],2,null,null)}function h5(e,i){const t=e[Up],n=t.indexOf(i);t.splice(n,1)}function dx(e,i){if(e.length<=Ss)return;const t=Ss+i,n=e[t];if(n){const r=n[G0];null!==r&&r!==e&&h5(r,n),i>0&&(e[t-1][mc]=n[mc]);const s=xw(e,Ss+i);!function wot(e,i){u5(e,i),i[es]=null,i[Ka]=null}(n[Qe],n);const o=s[Ud];null!==o&&o.detachView(s[Qe]),n[Cs]=null,n[mc]=null,n[Fi]&=-129}return n}function n_(e,i){if(!(256&i[Fi])){const t=i[$i];t.destroyNode&&a_(e,i,t,3,null,null),function Tot(e){let i=e[z0];if(!i)return ED(e[Qe],e);for(;i;){let t=null;if(Za(i))t=i[z0];else{const n=i[Ss];n&&(t=n)}if(!t){for(;i&&!i[mc]&&i!==e;)Za(i)&&ED(i[Qe],i),i=i[Cs];null===i&&(i=e),Za(i)&&ED(i[Qe],i),t=i&&i[mc]}i=t}}(i)}}function ED(e,i){if(256&i[Fi])return;const t=g(null);try{i[Fi]&=-129,i[Fi]|=256,i[Df]&&M(i[Df]),function Aot(e,i){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let n=0;n<t.length;n+=2){const r=i[t[n]];if(!(r instanceof Z0)){const s=t[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const l=r[s[o]],b=s[o+1];zc(4,l,b);try{b.call(l)}finally{zc(5,l,b)}}else{zc(4,r,s);try{s.call(r)}finally{zc(5,r,s)}}}}}(e,i),function Eot(e,i){const t=e.cleanup,n=i[Np];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else t[s].call(n[t[s+1]]);null!==n&&(i[Np]=null);const r=i[rh];if(null!==r){i[rh]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(e,i),1===i[Qe].type&&i[$i].destroy();const n=i[G0];if(null!==n&&Ja(i[Cs])){n!==i[Cs]&&h5(n,i);const r=i[Ud];null!==r&&r.detachView(e)}!function iat(e){J2.delete(e[H0])}(i)}finally{g(t)}}function AD(e,i,t){return function f5(e,i,t){let n=i;for(;null!==n&&40&n.type;)n=(i=n).parent;if(null===n)return t[es];{const{componentOffset:r}=n;if(r>-1){const{encapsulation:s}=e.data[n.directiveStart+r];if(s===hc.None||s===hc.Emulated)return null}return Mo(n,t)}}(e,i.parent,t)}function Of(e,i,t,n,r){e.insertBefore(i,t,n,r)}function m5(e,i,t){e.appendChild(i,t)}function p5(e,i,t,n,r){null!==n?Of(e,i,t,n,r):m5(e,i,t)}function r_(e,i){return e.parentNode(i)}function g5(e,i,t){return x5(e,i,t)}let DD,x5=function v5(e,i,t){return 40&e.type?Mo(e,t):null};function s_(e,i,t,n){const r=AD(e,n,i),s=i[$i],l=g5(n.parent||i[Ka],n,i);if(null!=r)if(Array.isArray(t))for(let b=0;b<t.length;b++)p5(s,r,t[b],l,!1);else p5(s,r,t,l,!1);void 0!==DD&&DD(s,n,i,t,r)}function ux(e,i){if(null!==i){const t=i.type;if(3&t)return Mo(i,e);if(4&t)return MD(-1,e[i.index]);if(8&t){const n=i.child;if(null!==n)return ux(e,n);{const r=e[i.index];return Ja(r)?MD(-1,r):Sr(r)}}if(32&t)return TD(i,e)()||Sr(e[i.index]);{const n=b5(e,i);return null!==n?Array.isArray(n)?n[0]:ux(If(e[us]),n):ux(e,i.next)}}return null}function b5(e,i){return null!==i?e[us][Ka].projection[i.projection]:null}function MD(e,i){const t=Ss+e+1;if(t<i.length){const n=i[t],r=n[Qe].firstChild;if(null!==r)return ux(n,r)}return i[Uc]}function ID(e,i,t,n,r,s,o){for(;null!=t;){const l=n[t.index],b=t.type;if(o&&0===i&&(l&&to(Sr(l),n),t.flags|=2),32&~t.flags)if(8&b)ID(e,i,t.child,n,r,s,!1),Jp(i,e,r,l,s);else if(32&b){const C=TD(t,n);let D;for(;D=C();)Jp(i,e,r,D,s);Jp(i,e,r,l,s)}else 16&b?_5(e,i,n,t,r,s):Jp(i,e,r,l,s);t=o?t.projectionNext:t.next}}function a_(e,i,t,n,r,s){ID(t,n,e.firstChild,i,r,s,!1)}function _5(e,i,t,n,r,s){const o=t[us],b=o[Ka].projection[n.projection];if(Array.isArray(b))for(let C=0;C<b.length;C++)Jp(i,e,r,b[C],s);else{let C=b;const D=o[Cs];zw(n)&&(C.flags|=128),ID(e,i,C,D,r,s,!0)}}function T5(e,i,t){""===t?e.removeAttribute(i,"class"):e.setAttribute(i,"class",t)}function C5(e,i,t){const{mergedAttrs:n,classes:r,styles:s}=t;null!==n&&f2(e,i,n),null!==r&&T5(e,i,r),null!==s&&function Pot(e,i,t){e.setAttribute(i,"style",t)}(e,i,s)}const an={};function ot(e=1){S5(Nn(),be(),qa()+e,!1)}function S5(e,i,t,n){if(!n)if(3&~i[Fi]){const s=e.preOrderHooks;null!==s&&Ow(i,s,0,t)}else{const s=e.preOrderCheckHooks;null!==s&&Fw(i,s,t)}kf(t)}function mt(e,i=Ln.Default){const t=be();return null===t?Jt(e,i):eB(br(),t,Hi(e),i)}function o_(){throw new Error("invalid")}function E5(e,i,t,n,r,s){const o=g(null);try{let l=null;r&Wt.SignalBased&&(l=i[n][T]),null!==l&&void 0!==l.transformFn&&(s=l.transformFn(s)),r&Wt.HasDecoratorInputTransform&&(s=e.inputTransforms[n].call(i,s)),null!==e.setInput?e.setInput(i,l,s,t,n):E3(i,l,n,s)}finally{g(o)}}function l_(e,i,t,n,r,s,o,l,b,C,D){const R=i.blueprint.slice();return R[es]=r,R[Fi]=204|n,(null!==C||e&&2048&e[Fi])&&(R[Fi]|=2048),P3(R),R[Cs]=R[Bp]=e,R[Or]=t,R[pc]=o||e&&e[pc],R[$i]=l||e&&e[$i],R[La]=b||e&&e[La]||null,R[Ka]=s,R[H0]=function tat(){return qst++}(),R[ul]=D,R[_3]=C,R[us]=2==i.type?e[us]:R,R}function qp(e,i,t,n,r){let s=e.data[i];if(null===s)s=function kD(e,i,t,n,r){const s=N3(),o=O2(),b=e.data[i]=function zot(e,i,t,n,r,s){let o=i?i.injectorIndex:-1,l=0;return Gp()&&(l|=128),{type:t,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,i,n,r);return null===e.firstChild&&(e.firstChild=b),null!==s&&(o?null==s.child&&null!==b.parent&&(s.child=b):null===s.next&&(s.next=b,b.prev=s)),b}(e,i,t,n,r),function yst(){return Qi.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=n,s.attrs=r;const o=function $0(){const e=Qi.lFrame,i=e.currentTNode;return e.isParent?i:i.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Hc(s,!0),s}function fx(e,i,t,n){if(0===t)return-1;const r=i.length;for(let s=0;s<t;s++)i.push(n),e.blueprint.push(n),e.data.push(null);return r}function A5(e,i,t,n,r){const s=qa(),o=2&n;try{kf(-1),o&&i.length>rn&&S5(e,i,rn,!1),zc(o?2:0,r),t(n,r)}finally{kf(s),zc(o?3:1,r)}}function RD(e,i,t){if(S2(i)){const n=g(null);try{const s=i.directiveEnd;for(let o=i.directiveStart;o<s;o++){const l=e.data[o];l.contentQueries&&l.contentQueries(1,t[o],o)}}finally{g(n)}}}function PD(e,i,t){L3()&&(function $ot(e,i,t,n){const r=t.directiveStart,s=t.directiveEnd;Mf(t)&&function elt(e,i,t){const n=Mo(i,e),r=D5(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const l=c_(e,l_(e,r,null,o,n,i,null,e[pc].rendererFactory.createRenderer(n,t),null,null,null));e[i.index]=l}(i,t,e.data[r+t.componentOffset]),e.firstCreatePass||Nw(t,i),to(n,i);const o=t.initialInputs;for(let l=r;l<s;l++){const b=e.data[l],C=Rf(i,e,l,t);to(C,i),null!==o&&ilt(0,l-r,C,b,0,o),gc(b)&&(hl(t.index,i)[Or]=Rf(i,e,l,t))}}(e,i,t,Mo(t,i)),!(64&~t.flags)&&P5(e,i,t))}function FD(e,i,t=Mo){const n=i.localNames;if(null!==n){let r=i.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],l=-1===o?t(i,e):e[o];e[r++]=l}}}function D5(e){const i=e.tView;return null===i||i.incompleteFirstPass?e.tView=OD(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):i}function OD(e,i,t,n,r,s,o,l,b,C,D){const R=rn+n,O=R+r,L=function Oot(e,i){const t=[];for(let n=0;n<i;n++)t.push(n<e?null:an);return t}(R,O),U="function"==typeof C?C():C;return L[Qe]={type:e,blueprint:L,template:t,queries:null,viewQuery:l,declTNode:i,data:L.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:b,consts:U,incompleteFirstPass:!1,ssrId:D}}let M5=()=>null;function I5(e,i,t,n,r){for(let s in i){if(!i.hasOwnProperty(s))continue;const o=i[s];if(void 0===o)continue;n??={};let l,b=Wt.None;Array.isArray(o)?(l=o[0],b=o[1]):l=o;let C=s;if(null!==r){if(!r.hasOwnProperty(s))continue;C=r[s]}0===e?k5(n,t,C,l,b):k5(n,t,C,l)}return n}function k5(e,i,t,n,r){let s;e.hasOwnProperty(t)?(s=e[t]).push(i,n):s=e[t]=[i,n],void 0!==r&&s.push(r)}function $o(e,i,t,n,r,s,o,l){const b=Mo(i,t);let D,C=i.inputs;!l&&null!=C&&(D=C[n])?(UD(e,t,D,n,r),Mf(i)&&function Wot(e,i){const t=hl(i,e);16&t[Fi]||(t[Fi]|=64)}(t,i.index)):3&i.type&&(n=function Hot(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),r=null!=o?o(r,i.value||"",n):r,s.setProperty(b,n,r))}function LD(e,i,t,n){if(L3()){const r=null===n?null:{"":-1},s=function Kot(e,i){const t=e.directiveRegistry;let n=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(d3(i,o.selectors,!1))if(n||(n=[]),gc(o))if(null!==o.findHostDirectiveDefs){const l=[];r=r||new Map,o.findHostDirectiveDefs(o,l,r),n.unshift(...l,o),ND(e,i,l.length)}else n.unshift(o),ND(e,i,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return null===n?null:[n,r]}(e,t);let o,l;null===s?o=l=null:[o,l]=s,null!==o&&R5(e,i,t,o,r,l),r&&function Zot(e,i,t){if(i){const n=e.localNames=[];for(let r=0;r<i.length;r+=2){const s=t[i[r+1]];if(null==s)throw new ue(-301,!1);n.push(i[r],s)}}}(t,n,r)}t.mergedAttrs=B0(t.mergedAttrs,t.attrs)}function R5(e,i,t,n,r,s){for(let C=0;C<n.length;C++)Y2(Nw(t,i),e,n[C].type);!function qot(e,i,t){e.flags|=1,e.directiveStart=i,e.directiveEnd=i+t,e.providerIndexes=i}(t,e.data.length,n.length);for(let C=0;C<n.length;C++){const D=n[C];D.providersResolver&&D.providersResolver(D)}let o=!1,l=!1,b=fx(e,i,n.length,null);for(let C=0;C<n.length;C++){const D=n[C];t.mergedAttrs=B0(t.mergedAttrs,D.hostAttrs),tlt(e,t,i,b,D),Jot(b,D,r),null!==D.contentQueries&&(t.flags|=4),(null!==D.hostBindings||null!==D.hostAttrs||0!==D.hostVars)&&(t.flags|=64);const R=D.type.prototype;!o&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),o=!0),!l&&(R.ngOnChanges||R.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),l=!0),b++}!function Got(e,i,t){const r=i.directiveEnd,s=e.data,o=i.attrs,l=[];let b=null,C=null;for(let D=i.directiveStart;D<r;D++){const R=s[D],O=t?t.get(R):null,U=O?O.outputs:null;b=I5(0,R.inputs,D,b,O?O.inputs:null),C=I5(1,R.outputs,D,C,U);const X=null===b||null===o||m2(i)?null:nlt(b,D,o);l.push(X)}null!==b&&(b.hasOwnProperty("class")&&(i.flags|=8),b.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=l,i.inputs=b,i.outputs=C}(e,t,s)}function P5(e,i,t){const n=t.directiveStart,r=t.directiveEnd,s=t.index,o=function wst(){return Qi.lFrame.currentDirectiveIndex}();try{kf(s);for(let l=n;l<r;l++){const b=e.data[l],C=i[l];N2(l),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Qot(b,C)}}finally{kf(-1),N2(o)}}function Qot(e,i){null!==e.hostBindings&&e.hostBindings(1,i)}function ND(e,i,t){i.componentOffset=t,(e.components??=[]).push(i.index)}function Jot(e,i,t){if(t){if(i.exportAs)for(let n=0;n<i.exportAs.length;n++)t[i.exportAs[n]]=e;gc(i)&&(t[""]=e)}}function tlt(e,i,t,n,r){e.data[n]=r;const s=r.factory||(r.factory=Sf(r.type)),o=new Z0(s,gc(r),mt);e.blueprint[n]=o,t[n]=o,function jot(e,i,t,n,r){const s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const l=~i.index;(function Yot(e){let i=e.length;for(;i>0;){const t=e[--i];if("number"==typeof t&&t<0)return t}return 0})(o)!=l&&o.push(l),o.push(t,n,s)}}(e,i,n,fx(e,t,r.hostVars,an),r)}function Yc(e,i,t,n,r,s){const o=Mo(e,i);!function BD(e,i,t,n,r,s,o){if(null==s)e.removeAttribute(i,r,t);else{const l=null==o?nn(s):o(s,n||"",r);e.setAttribute(i,r,l,t)}}(i[$i],o,s,e.value,t,n,r)}function ilt(e,i,t,n,r,s){const o=s[i];if(null!==o)for(let l=0;l<o.length;)E5(n,t,o[l++],o[l++],o[l++],o[l++])}function nlt(e,i,t){let n=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===n&&(n=[]);const o=e[s];for(let l=0;l<o.length;l+=3)if(o[l]===i){n.push(s,o[l+1],o[l+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function F5(e,i,t,n){return[e,!0,0,i,null,n,null,t,null,null]}function O5(e,i){const t=e.contentQueries;if(null!==t){const n=g(null);try{for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const l=e.data[o];Rw(t[r]),l.contentQueries(2,i[o],o)}}}finally{g(n)}}}function c_(e,i){return e[z0]?e[w3][mc]=i:e[z0]=i,e[w3]=i,i}function VD(e,i,t){Rw(0);const n=g(null);try{i(e,t)}finally{g(n)}}function L5(e){return e[Np]||(e[Np]=[])}function N5(e){return e.cleanup||(e.cleanup=[])}function B5(e,i,t){return(null===e||gc(e))&&(t=function I2(e){for(;Array.isArray(e);){if("object"==typeof e[T2])return e;e=e[es]}return null}(t[i.index])),t[$i]}function d_(e,i){const t=e[La],n=t?t.get(pl,null):null;n&&n.handleError(i)}function UD(e,i,t,n,r){for(let s=0;s<t.length;){const o=t[s++],l=t[s++],b=t[s++];E5(e.data[o],i[o],n,l,b,r)}}function Xd(e,i,t){const n=X0(i,e);!function d5(e,i,t){e.setValue(i,t)}(e[$i],n,t)}function rlt(e,i){const t=hl(i,e),n=t[Qe];!function slt(e,i){for(let t=i.length;t<e.blueprint.length;t++)i.push(e.blueprint[t])}(n,t);const r=t[es];null!==r&&null===t[ul]&&(t[ul]=dD(r,t[La])),zD(n,t,t[Or])}function zD(e,i,t){U2(i);try{const n=e.viewQuery;null!==n&&VD(1,n,t);const r=e.template;null!==r&&A5(e,i,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),i[Ud]?.finishViewCreation(e),e.staticContentQueries&&O5(e,i),e.staticViewQueries&&VD(2,e.viewQuery,t);const s=e.components;null!==s&&function alt(e,i){for(let t=0;t<i.length;t++)rlt(e,i[t])}(i,s)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{i[Fi]&=-5,z2()}}function mx(e,i,t,n){const r=g(null);try{const s=i.tView,b=l_(e,s,t,4096&e[Fi]?4096:16,null,i,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null);b[G0]=e[i.index];const D=e[Ud];return null!==D&&(b[Ud]=D.createEmbeddedView(s)),zD(s,b,t),b}finally{g(r)}}function V5(e,i){const t=Ss+i;if(t<e.length)return e[t]}function tg(e,i){return!i||null===i.firstChild||zw(e)}function px(e,i,t,n=!0){const r=i[Qe];if(function Cot(e,i,t,n){const r=Ss+n,s=t.length;n>0&&(t[r-1][mc]=i),n<s-Ss?(i[mc]=t[r],e3(t,Ss+n,i)):(t.push(i),i[mc]=null),i[Cs]=t;const o=i[G0];null!==o&&t!==o&&function Sot(e,i){const t=e[Up];i[us]!==i[Cs][Cs][us]&&(e[Fi]|=C2.HasTransplantedViews),null===t?e[Up]=[i]:t.push(i)}(o,i);const l=i[Ud];null!==l&&l.insertView(e),P2(i),i[Fi]|=128}(r,i,e,t),n){const o=MD(t,e),l=i[$i],b=r_(l,e[Uc]);null!==b&&function _ot(e,i,t,n,r,s){n[es]=r,n[Ka]=i,a_(e,n,t,1,r,s)}(r,e[Ka],l,i,b,o)}const s=i[ul];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function GD(e,i){const t=dx(e,i);return void 0!==t&&n_(t[Qe],t),t}function gx(e,i,t,n,r=!1){for(;null!==t;){const s=i[t.index];null!==s&&n.push(Sr(s)),Ja(s)&&U5(s,n);const o=t.type;if(8&o)gx(e,i,t.child,n);else if(32&o){const l=TD(t,i);let b;for(;b=l();)n.push(b)}else if(16&o){const l=b5(i,t);if(Array.isArray(l))n.push(...l);else{const b=If(i[us]);gx(b[Qe],b,l,n,!0)}}t=r?t.projectionNext:t.next}return n}function U5(e,i){for(let t=Ss;t<e.length;t++){const n=e[t],r=n[Qe].firstChild;null!==r&&gx(n[Qe],n,r,i)}e[Uc]!==e[es]&&i.push(e[Uc])}let z5=[];const dlt={...u,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Y0(e.lView)},consumerOnSignalRead(){this.lView[Df]=this}},G5=100;function u_(e,i=!0,t=0){const n=e[pc],r=n.rendererFactory;r.begin?.();try{!function ult(e,i){HD(e,i);let t=0;for(;R2(e);){if(t===G5)throw new ue(103,!1);t++,HD(e,1)}}(e,t)}catch(o){throw i&&d_(e,o),o}finally{r.end?.(),n.inlineEffectRunner?.flush()}}function hlt(e,i,t,n){const r=i[Fi];if(!(256&~r))return;i[pc].inlineEffectRunner?.flush(),U2(i);let o=null,l=null;(function flt(e){return 2!==e.type})(e)&&(l=function olt(e){return e[Df]??function llt(e){const i=z5.pop()??Object.create(dlt);return i.lView=e,i}(e)}(i),o=_(l));try{P3(i),function V3(e){return Qi.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&A5(e,i,t,2,n);const b=!(3&~r);if(b){const R=e.preOrderCheckHooks;null!==R&&Fw(i,R,null)}else{const R=e.preOrderHooks;null!==R&&Ow(i,R,0,null),G2(i,0)}if(function mlt(e){for(let i=SB(e);null!==i;i=EB(i)){if(!(i[Fi]&C2.HasTransplantedViews))continue;const t=i[Up];for(let n=0;n<t.length;n++){cst(t[n])}}}(i),H5(i,0),null!==e.contentQueries&&O5(e,i),b){const R=e.contentCheckHooks;null!==R&&Fw(i,R)}else{const R=e.contentHooks;null!==R&&Ow(i,R,1),G2(i,1)}!function Fot(e,i){const t=e.hostBindingOpCodes;if(null!==t)try{for(let n=0;n<t.length;n++){const r=t[n];if(r<0)kf(~r);else{const s=r,o=t[++n],l=t[++n];bst(o,s),l(2,i[s])}}}finally{kf(-1)}}(e,i);const C=e.components;null!==C&&X5(i,C,0);const D=e.viewQuery;if(null!==D&&VD(2,D,n),b){const R=e.viewCheckHooks;null!==R&&Fw(i,R)}else{const R=e.viewHooks;null!==R&&Ow(i,R,2),G2(i,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i[Dw]){for(const R of i[Dw])R();i[Dw]=null}i[Fi]&=-73}catch(b){throw Y0(i),b}finally{null!==l&&(E(l,o),function clt(e){e.lView[Df]!==e&&(e.lView=null,z5.push(e))}(l)),z2()}}function H5(e,i){for(let t=SB(e);null!==t;t=EB(t))for(let n=Ss;n<t.length;n++)W5(t[n],i)}function plt(e,i,t){W5(hl(i,e),t)}function W5(e,i){k2(e)&&HD(e,i)}function HD(e,i){const n=e[Qe],r=e[Fi],s=e[Df];let o=!!(0===i&&16&r);if(o||=!!(64&r&&0===i),o||=!!(1024&r),o||=!(!s?.dirty||!A(s)),s&&(s.dirty=!1),e[Fi]&=-9217,o)hlt(n,e,n.template,e[Or]);else if(8192&r){H5(e,1);const l=n.components;null!==l&&X5(e,l,1)}}function X5(e,i,t){for(let n=0;n<i.length;n++)plt(e,i[n],t)}function vx(e){for(e[pc].changeDetectionScheduler?.notify();e;){e[Fi]|=64;const i=If(e);if(E2(e)&&!i)return e;e=i}return null}class xx{get rootNodes(){const i=this._lView,t=i[Qe];return gx(t,i,t.firstChild,[])}constructor(i,t,n=!0){this._lView=i,this._cdRefInjectingView=t,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Or]}set context(i){this._lView[Or]=i}get destroyed(){return!(256&~this._lView[Fi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Cs];if(Ja(i)){const t=i[8],n=t?t.indexOf(this):-1;n>-1&&(dx(i,n),xw(t,n))}this._attachedToViewContainer=!1}n_(this._lView[Qe],this._lView)}onDestroy(i){kw(this._lView,i)}markForCheck(){vx(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fi]&=-129}reattach(){P2(this._lView),this._lView[Fi]|=128}detectChanges(){this._lView[Fi]|=1024,u_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,u5(this._lView[Qe],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=i,P2(this._lView)}}let fr=(()=>{class e{static#t=this.__NG_ELEMENT_ID__=xlt}return e})();const glt=fr,vlt=class extends glt{constructor(i,t,n){super(),this._declarationLView=i,this._declarationTContainer=t,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,t){return this.createEmbeddedViewImpl(i,t)}createEmbeddedViewImpl(i,t,n){const r=mx(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:t,dehydratedView:n});return new xx(r)}};function xlt(){return h_(br(),be())}function h_(e,i){return 4&e.type?new vlt(i,e,Yp(e,i)):null}let Z5=()=>null;function eg(e,i){return Z5(e,i)}class v_{}class Glt{}class J5{}class Wlt{resolveComponentFactory(i){throw function Hlt(e){const i=Error(`No component factory found for ${ea(e)}.`);return i.ngComponent=e,i}(i)}}let Lf=(()=>{class e{static#t=this.NULL=new Wlt}return e})();class QD{}let jd=(()=>{class e{constructor(){this.destroyNode=null}static#t=this.__NG_ELEMENT_ID__=()=>function Xlt(){const e=be(),t=hl(br().index,e);return(Za(t)?t:e)[$i]}()}return e})(),jlt=(()=>{class e{static#t=this.\u0275prov=Ae({token:e,providedIn:"root",factory:()=>null})}return e})();const KD={},tV=new Set;function $c(e){tV.has(e)||(tV.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function eV(...e){}class ii{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new De(!1),this.onMicrotaskEmpty=new De(!1),this.onStable=new De(!1),this.onError=new De(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Ylt(){const e="function"==typeof hr.requestAnimationFrame;let i=hr[e?"requestAnimationFrame":"setTimeout"],t=hr[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&t){const n=i[Zone.__symbol__("OriginalDelegate")];n&&(i=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Klt(e){const i=()=>{!function Qlt(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(hr,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,JD(e),e.isCheckStableRunning=!0,ZD(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),JD(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,s,o,l)=>{if(function Zlt(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(l))return t.invokeTask(r,s,o,l);try{return iV(e),t.invokeTask(r,s,o,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&i(),nV(e)}},onInvoke:(t,n,r,s,o,l,b)=>{try{return iV(e),t.invoke(r,s,o,l,b)}finally{e.shouldCoalesceRunChangeDetection&&i(),nV(e)}},onHasTask:(t,n,r,s)=>{t.hasTask(r,s),n===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,JD(e),ZD(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,n,r,s)=>(t.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ii.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(ii.isInAngularZone())throw new ue(909,!1)}run(i,t,n){return this._inner.run(i,t,n)}runTask(i,t,n,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,i,$lt,eV,eV);try{return s.runTask(o,t,n)}finally{s.cancelTask(o)}}runGuarded(i,t,n){return this._inner.runGuarded(i,t,n)}runOutsideAngular(i){return this._outer.run(i)}}const $lt={};function ZD(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function JD(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function iV(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function nV(e){e._nesting--,ZD(e)}class rV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new De,this.onMicrotaskEmpty=new De,this.onStable=new De,this.onError=new De}run(i,t,n){return i.apply(t,n)}runGuarded(i,t,n){return i.apply(t,n)}runOutsideAngular(i){return i()}runTask(i,t,n,r){return i.apply(t,n)}}var Nf=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Nf||{});const sV={destroy(){}};function aV(e,i){!i&&Ew();const t=i?.injector??me(is);if(!function oh(e){return"browser"===(e??me(is)).get(Hd)}(t))return sV;$c("NgAfterNextRender");const n=t.get(Tx),r=n.handler??=new lV,s=i?.phase??Nf.MixedReadWrite,o=()=>{r.unregister(b),l()},l=t.get(jp).onDestroy(o),b=Vc(t,()=>new oV(s,()=>{o(),e()}));return r.register(b),{destroy:o}}class oV{constructor(i,t){this.phase=i,this.callbackFn=t,this.zone=me(ii),this.errorHandler=me(pl,{optional:!0}),me(v_,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(i){this.errorHandler?.handleError(i)}}}class lV{constructor(){this.executingCallbacks=!1,this.buckets={[Nf.EarlyRead]:new Set,[Nf.Write]:new Set,[Nf.MixedReadWrite]:new Set,[Nf.Read]:new Set},this.deferredCallbacks=new Set}register(i){(this.executingCallbacks?this.deferredCallbacks:this.buckets[i.phase]).add(i)}unregister(i){this.buckets[i.phase].delete(i),this.deferredCallbacks.delete(i)}execute(){this.executingCallbacks=!0;for(const i of Object.values(this.buckets))for(const t of i)t.invoke();this.executingCallbacks=!1;for(const i of this.deferredCallbacks)this.buckets[i.phase].add(i);this.deferredCallbacks.clear()}destroy(){for(const i of Object.values(this.buckets))i.clear();this.deferredCallbacks.clear()}}let Tx=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const n of t)n()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#t=this.\u0275prov=Ae({token:e,providedIn:"root",factory:()=>new e})}return e})();function y_(e,i,t){let n=t?e.styles:null,r=t?e.classes:null,s=0;if(null!==i)for(let o=0;o<i.length;o++){const l=i[o];"number"==typeof l?s=l:1==s?r=KA(r,l):2==s&&(n=KA(n,l+": "+i[++o]+";"))}t?e.styles=n:e.stylesWithoutHost=n,t?e.classes=r:e.classesWithoutHost=r}class uV extends Lf{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const t=En(i);return new Ex(t,this.ngModule)}}function hV(e){const i=[];for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t];void 0!==n&&i.push({propName:Array.isArray(n)?n[0]:n,templateName:t})}return i}class b_{constructor(i,t){this.injector=i,this.parentInjector=t}get(i,t,n){n=vw(n);const r=this.injector.get(i,KD,n);return r!==KD||t===KD?r:this.parentInjector.get(i,t,n)}}class Ex extends J5{get inputs(){const i=this.componentDef,t=i.inputTransforms,n=hV(i.inputs);if(null!==t)for(const r of n)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return n}get outputs(){return hV(this.componentDef.outputs)}constructor(i,t){super(),this.componentDef=i,this.ngModule=t,this.componentType=i.type,this.selector=function Art(e){return e.map(Ert).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!t}create(i,t,n,r){const s=g(null);try{let o=(r=r||this.ngModule)instanceof jo?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const l=o?new b_(i,o):i,b=l.get(QD,null);if(null===b)throw new ue(407,!1);const C=l.get(jlt,null),O={rendererFactory:b,sanitizer:C,inlineEffectRunner:null,afterRenderEventManager:l.get(Tx,null),changeDetectionScheduler:l.get(v_,null)},L=b.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",X=n?function Lot(e,i,t,n){const s=n.get(zB,!1)||t===hc.ShadowDom,o=e.selectRootElement(i,s);return function Not(e){M5(e)}(o),o}(L,n,this.componentDef.encapsulation,l):i_(L,U,function ict(e){const i=e.toLowerCase();return"svg"===i?I3:"math"===i?"math":null}(U));let W=512;this.componentDef.signals?W|=4096:this.componentDef.onPush||(W|=16);let Z=null;null!==X&&(Z=dD(X,l,!0));const rt=OD(0,null,null,1,0,null,null,null,null,null,null),st=l_(null,rt,null,W,null,null,O,L,l,null,Z);let vt,_t;U2(st);try{const Mt=this.componentDef;let ft,dt=null;Mt.findHostDirectiveDefs?(ft=[],dt=new Map,Mt.findHostDirectiveDefs(Mt,ft,dt),ft.push(Mt)):ft=[Mt];const pt=function rct(e,i){const t=e[Qe],n=rn;return e[n]=i,qp(t,n,2,"#host",null)}(st,X),bt=function sct(e,i,t,n,r,s,o){const l=r[Qe];!function act(e,i,t,n){for(const r of e)i.mergedAttrs=B0(i.mergedAttrs,r.hostAttrs);null!==i.mergedAttrs&&(y_(i,i.mergedAttrs,!0),null!==t&&C5(n,t,i))}(n,e,i,o);let b=null;null!==i&&(b=dD(i,r[La]));const C=s.rendererFactory.createRenderer(i,t);let D=16;t.signals?D=4096:t.onPush&&(D=64);const R=l_(r,D5(t),null,D,r[e.index],e,s,C,null,null,b);return l.firstCreatePass&&ND(l,e,n.length-1),c_(r,R),r[e.index]=R}(pt,X,Mt,ft,st,O,L);_t=j0(rt,rn),X&&function lct(e,i,t,n){if(n)f2(e,t,["ng-version","17.3.3"]);else{const{attrs:r,classes:s}=function Drt(e){const i=[],t=[];let n=1,r=2;for(;n<e.length;){let s=e[n];if("string"==typeof s)2===r?""!==s&&i.push(s,e[++n]):8===r&&t.push(s);else{if(!fc(r))break;r=s}n++}return{attrs:i,classes:t}}(i.selectors[0]);r&&f2(e,t,r),s&&s.length>0&&T5(e,t,s.join(" "))}}(L,Mt,X,n),void 0!==t&&function cct(e,i,t){const n=e.projection=[];for(let r=0;r<i.length;r++){const s=t[r];n.push(null!=s?Array.from(s):null)}}(_t,this.ngContentSelectors,t),vt=function oct(e,i,t,n,r,s){const o=br(),l=r[Qe],b=Mo(o,r);R5(l,r,o,t,null,n);for(let D=0;D<t.length;D++)to(Rf(r,l,o.directiveStart+D,o),r);P5(l,r,o),b&&to(b,r);const C=Rf(r,l,o.directiveStart+o.componentOffset,o);if(e[Or]=r[Or]=C,null!==s)for(const D of s)D(C,i);return RD(l,o,r),C}(bt,Mt,ft,dt,st,[dct]),zD(rt,st,null)}finally{z2()}return new nct(this.componentType,vt,Yp(_t,st),st,_t)}finally{g(s)}}}class nct extends Glt{constructor(i,t,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new xx(r,void 0,!1),this.componentType=i}setInput(i,t){const n=this._tNode.inputs;let r;if(null!==n&&(r=n[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),t))return;const s=this._rootLView;UD(s[Qe],s,r,i,t),this.previousInputValues.set(i,t),vx(hl(this._tNode.index,s))}}get injector(){return new ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function dct(){const e=br();Pw(be()[Qe],e)}let Ir=(()=>{class e{static#t=this.__NG_ELEMENT_ID__=uct}return e})();function uct(){return pV(br(),be())}const hct=Ir,fV=class extends hct{constructor(i,t,n){super(),this._lContainer=i,this._hostTNode=t,this._hostLView=n}get element(){return Yp(this._hostTNode,this._hostLView)}get injector(){return new ra(this._hostTNode,this._hostLView)}get parentInjector(){const i=Bw(this._hostTNode,this._hostLView);if(W2(i)){const t=q0(i,this._hostLView),n=J0(i);return new ra(t[Qe].data[n+8],t)}return new ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const t=mV(this._lContainer);return null!==t&&t[i]||null}get length(){return this._lContainer.length-Ss}createEmbeddedView(i,t,n){let r,s;"number"==typeof n?r=n:null!=n&&(r=n.index,s=n.injector);const o=eg(this._lContainer,i.ssrId),l=i.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(l,r,tg(this._hostTNode,o)),l}createComponent(i,t,n,r,s){const o=i&&!function U0(e){return"function"==typeof e}(i);let l;if(o)l=t;else{const U=t||{};l=U.index,n=U.injector,r=U.projectableNodes,s=U.environmentInjector||U.ngModuleRef}const b=o?i:new Ex(En(i)),C=n||this.parentInjector;if(!s&&null==b.ngModule){const X=(o?C:this.parentInjector).get(jo,null);X&&(s=X)}const D=En(b.componentType??{}),R=eg(this._lContainer,D?.id??null),L=b.create(C,r,R?.firstChild??null,s);return this.insertImpl(L.hostView,l,tg(this._hostTNode,R)),L}insert(i,t){return this.insertImpl(i,t,!0)}insertImpl(i,t,n){const r=i._lView;if(function lst(e){return Ja(e[Cs])}(r)){const l=this.indexOf(i);if(-1!==l)this.detach(l);else{const b=r[Cs],C=new fV(b,b[Ka],b[Cs]);C.detach(C.indexOf(i))}}const s=this._adjustIndex(t),o=this._lContainer;return px(o,r,s,n),i.attachToViewContainerRef(),e3(iM(o),s,i),i}move(i,t){return this.insert(i,t)}indexOf(i){const t=mV(this._lContainer);return null!==t?t.indexOf(i):-1}remove(i){const t=this._adjustIndex(i,-1),n=dx(this._lContainer,t);n&&(xw(iM(this._lContainer),t),n_(n[Qe],n))}detach(i){const t=this._adjustIndex(i,-1),n=dx(this._lContainer,t);return n&&null!=xw(iM(this._lContainer),t)?new xx(n):null}_adjustIndex(i,t=0){return i??this.length+t}};function mV(e){return e[8]}function iM(e){return e[8]||(e[8]=[])}function pV(e,i){let t;const n=i[e.index];return Ja(n)?t=n:(t=F5(n,i,null,e),i[e.index]=t,c_(i,t)),gV(t,i,e,n),new fV(t,e,i)}let gV=function xV(e,i,t,n){if(e[Uc])return;let r;r=8&t.type?Sr(n):function fct(e,i){const t=e[$i],n=t.createComment(""),r=Mo(i,e);return Of(t,r_(t,r),n,function Mot(e,i){return e.nextSibling(i)}(t,r),!1),n}(i,t),e[Uc]=r},nM=()=>!1;class rM{constructor(i){this.queryList=i,this.matches=null}clone(){return new rM(this.queryList)}setDirty(){this.queryList.setDirty()}}class sM{constructor(i=[]){this.queries=i}createEmbeddedView(i){const t=i.queries;if(null!==t){const n=null!==i.contentQueries?i.contentQueries[0]:t.length,r=[];for(let s=0;s<n;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new sM(r)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let t=0;t<this.queries.length;t++)null!==dM(i,t).matches&&this.queries[t].setDirty()}}class yV{constructor(i,t,n=null){this.flags=t,this.read=n,this.predicate="string"==typeof i?function wct(e){return e.split(",").map(i=>i.trim())}(i):i}}class aM{constructor(i=[]){this.queries=i}elementStart(i,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(i,t)}elementEnd(i){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(i)}embeddedTView(i){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,s=this.getByIndex(n).embeddedTView(i,r);s&&(s.indexInDeclarationView=n,null!==t?t.push(s):t=[s])}return null!==t?new aM(t):null}template(i,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(i,t)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class oM{constructor(i,t=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(i,t){this.isApplyingToNode(t)&&this.matchTNode(i,t)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,t){this.elementStart(i,t)}embeddedTView(i,t){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,t),new oM(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let n=i.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(i,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];this.matchTNodeWithReadOption(i,t,vct(t,s)),this.matchTNodeWithReadOption(i,t,Vw(t,i,s,!1,!1))}else n===fr?4&t.type&&this.matchTNodeWithReadOption(i,t,-1):this.matchTNodeWithReadOption(i,t,Vw(t,i,n,!1,!1))}matchTNodeWithReadOption(i,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===si||r===Ir||r===fr&&4&t.type)this.addMatch(t.index,-2);else{const s=Vw(t,i,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,n)}}addMatch(i,t){null===this.matches?this.matches=[i,t]:this.matches.push(i,t)}}function vct(e,i){const t=e.localNames;if(null!==t)for(let n=0;n<t.length;n+=2)if(t[n]===i)return t[n+1];return null}function yct(e,i,t,n){return-1===t?function xct(e,i){return 11&e.type?Yp(e,i):4&e.type?h_(e,i):null}(i,e):-2===t?function bct(e,i,t){return t===si?Yp(i,e):t===fr?h_(i,e):t===Ir?pV(i,e):void 0}(e,i,n):Rf(e,e[Qe],t,i)}function bV(e,i,t,n){const r=i[Ud].queries[n];if(null===r.matches){const s=e.data,o=t.matches,l=[];for(let b=0;null!==o&&b<o.length;b+=2){const C=o[b];l.push(C<0?null:yct(i,s[C],o[b+1],t.metadata.read))}r.matches=l}return r.matches}function lM(e,i,t,n){const r=e.queries.getByIndex(t),s=r.matches;if(null!==s){const o=bV(e,i,r,t);for(let l=0;l<s.length;l+=2){const b=s[l];if(b>0)n.push(o[l/2]);else{const C=s[l+1],D=i[-b];for(let R=Ss;R<D.length;R++){const O=D[R];O[G0]===O[Cs]&&lM(O[Qe],O,C,n)}if(null!==D[Up]){const R=D[Up];for(let O=0;O<R.length;O++){const L=R[O];lM(L[Qe],L,C,n)}}}}}return n}function wV(e,i,t){const n=new sh(!(4&~t));return function Uot(e,i,t,n){const r=L5(i);r.push(t),e.firstCreatePass&&N5(e).push(n,r.length-1)}(e,i,n,n.destroy),(i[Ud]??=new sM).queries.push(new rM(n))-1}function CV(e,i,t){null===e.queries&&(e.queries=new aM),e.queries.track(new oM(i,t))}function dM(e,i){return e.queries.getByIndex(i)}function SV(e,i){const t=e[Qe],n=dM(t,i);return n.crossesNgTemplate?lM(t,e,i,[]):bV(t,e,n,i)}function w_(e){return"function"==typeof e&&void 0!==e[T]}function AV(e){return w_(e)&&"function"==typeof e.set}function hi(e){let i=function BV(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const n=[e];for(;i;){let r;if(gc(e))r=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ue(903,!1);r=i.\u0275dir}if(r){if(t){n.push(r);const o=e;o.inputs=T_(e.inputs),o.inputTransforms=T_(e.inputTransforms),o.declaredInputs=T_(e.declaredInputs),o.outputs=T_(e.outputs);const l=r.hostBindings;l&&Nct(e,l);const b=r.viewQuery,C=r.contentQueries;if(b&&Oct(e,b),C&&Lct(e,C),Pct(e,r),Ynt(e.outputs,r.outputs),gc(r)&&r.data.animation){const D=e.data;D.animation=(D.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const l=s[o];l&&l.ngInherit&&l(e),l===hi&&(t=!1)}}i=Object.getPrototypeOf(i)}!function Fct(e){let i=0,t=null;for(let n=e.length-1;n>=0;n--){const r=e[n];r.hostVars=i+=r.hostVars,r.hostAttrs=B0(r.hostAttrs,t=B0(t,r.hostAttrs))}}(n)}function Pct(e,i){for(const t in i.inputs){if(!i.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;const n=i.inputs[t];if(void 0!==n&&(e.inputs[t]=n,e.declaredInputs[t]=i.declaredInputs[t],null!==i.inputTransforms)){const r=Array.isArray(n)?n[0]:n;if(!i.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=i.inputTransforms[r]}}}function T_(e){return e===Bc?{}:e===Qn?[]:e}function Oct(e,i){const t=e.viewQuery;e.viewQuery=t?(n,r)=>{i(n,r),t(n,r)}:i}function Lct(e,i){const t=e.contentQueries;e.contentQueries=t?(n,r,s)=>{i(n,r,s),t(n,r,s)}:i}function Nct(e,i){const t=e.hostBindings;e.hostBindings=t?(n,r)=>{i(n,r),t(n,r)}:i}function ln(e){const i=e.inputConfig,t={};for(const n in i)if(i.hasOwnProperty(n)){const r=i[n];Array.isArray(r)&&r[3]&&(t[n]=r[3])}e.inputTransforms=t}class Bf{}class GV{}class hM extends Bf{constructor(i,t,n){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uV(this);const r=Qa(i);this._bootstrapComponents=vl(r.bootstrap),this._r3Injector=uB(i,t,[{provide:Bf,useValue:this},{provide:Lf,useValue:this.componentFactoryResolver},...n],ea(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class fM extends GV{constructor(i){super(),this.moduleType=i}create(i){return new hM(this.moduleType,i,[])}}class HV extends Bf{constructor(i){super(),this.componentFactoryResolver=new uV(this),this.instance=null;const t=new Fp([...i.providers,{provide:Bf,useValue:this},{provide:Lf,useValue:this.componentFactoryResolver}],i.parent||Sw(),i.debugName,new Set(["environment"]));this.injector=t,i.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function C_(e,i,t=null){return new HV({providers:e,parent:i,debugName:t,runEnvironmentInitializers:!0}).injector}let uh=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Wr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function E_(e){return!!mM(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function mM(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Qc(e,i,t){return e[i]=t}function Es(e,i,t){return!Object.is(e[i],t)&&(e[i]=t,!0)}function Vf(e,i,t,n){const r=Es(e,i,t);return Es(e,i+1,n)||r}function A_(e,i,t,n,r){const s=Vf(e,i,t,n);return Es(e,i+2,r)||s}function Gt(e,i,t,n,r,s,o,l){const b=be(),C=Nn(),D=e+rn,R=C.firstCreatePass?function Kct(e,i,t,n,r,s,o,l,b){const C=i.consts,D=qp(i,e,4,o||null,Gc(C,l));LD(i,t,D,Gc(C,b)),Pw(i,D);const R=D.tView=OD(2,D,n,r,s,i.directiveRegistry,i.pipeRegistry,null,i.schemas,C,null);return null!==i.queries&&(i.queries.template(i,D),R.queries=i.queries.embeddedTView(D)),D}(D,C,b,i,t,n,r,s,o):C.data[D];Hc(R,!1);const O=WV(C,b,R,e);K0()&&s_(C,b,O,R),to(O,b);const L=F5(O,b,O,R);return b[D]=L,c_(b,L),function vV(e,i,t){return nM(e,i,t)}(L,R,b),Iw(R)&&PD(C,b,R),null!=o&&FD(b,R,l),Gt}let WV=function XV(e,i,t,n){return Wc(!0),i[$i].createComment("")};function Ti(e,i,t,n){const r=be();return Es(r,vc(),i)&&(Nn(),Yc(Lr(),r,e,i,t,n)),Ti}function dg(e,i,t,n){return Es(e,vc(),t)?i+nn(t)+n:an}function P_(e,i){return e<<17|i<<2}function fh(e){return e>>17&32767}function CM(e){return 2|e}function zf(e){return(131068&e)>>2}function SM(e,i){return-131069&e|i<<2}function EM(e){return 1|e}function _8(e,i,t,n){const r=e[t+1],s=null===i;let o=n?fh(r):zf(r),l=!1;for(;0!==o&&(!1===l||s);){const C=e[o+1];Odt(e[o],i)&&(l=!0,e[o+1]=n?EM(C):CM(C)),o=n?fh(C):zf(C)}l&&(e[t+1]=n?CM(r):EM(r))}function Odt(e,i){return null===e||null==i||(Array.isArray(e)?e[1]:e)===i||!(!Array.isArray(e)||"string"!=typeof i)&&Pp(e,i)>=0}const sa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function T8(e){return e.substring(sa.key,sa.keyEnd)}function C8(e,i){const t=sa.textEnd;return t===i?-1:(i=sa.keyEnd=function Vdt(e,i,t){for(;i<t&&e.charCodeAt(i)>32;)i++;return i}(e,sa.key=i,t),xg(e,i,t))}function xg(e,i,t){for(;i<t&&e.charCodeAt(i)<=32;)i++;return i}function xt(e,i,t){const n=be();return Es(n,vc(),i)&&$o(Nn(),Lr(),n,e,i,n[$i],t,!1),xt}function AM(e,i,t,n,r){const o=r?"class":"style";UD(e,t,i.inputs[o],o,n)}function Ms(e,i,t){return xc(e,i,t,!1),Ms}function bi(e,i){return xc(e,i,null,!0),bi}function Ul(e){yc($dt,Zc,e,!0)}function Zc(e,i){for(let t=function Ndt(e){return function E8(e){sa.key=0,sa.keyEnd=0,sa.value=0,sa.valueEnd=0,sa.textEnd=e.length}(e),C8(e,xg(e,0,sa.textEnd))}(i);t>=0;t=C8(i,t))dl(e,T8(i),!0)}function xc(e,i,t,n){const r=be(),s=Nn(),o=Gd(2);s.firstUpdatePass&&I8(s,e,o,n),i!==an&&Es(r,o,i)&&R8(s,s.data[qa()],r,r[$i],e,r[o+1]=function Kdt(e,i){return null==e||""===e||("string"==typeof i?e+=i:"object"==typeof e&&(e=ea(gl(e)))),e}(i,t),n,o)}function yc(e,i,t,n){const r=Nn(),s=Gd(2);r.firstUpdatePass&&I8(r,null,s,n);const o=be();if(t!==an&&Es(o,s,t)){const l=r.data[qa()];if(F8(l,n)&&!M8(r,s)){let b=n?l.classesWithoutHost:l.stylesWithoutHost;null!==b&&(t=KA(b,t||"")),AM(r,l,o,t,n)}else!function Qdt(e,i,t,n,r,s,o,l){r===an&&(r=Qn);let b=0,C=0,D=0<r.length?r[0]:null,R=0<s.length?s[0]:null;for(;null!==D||null!==R;){const O=b<r.length?r[b+1]:void 0,L=C<s.length?s[C+1]:void 0;let X,U=null;D===R?(b+=2,C+=2,O!==L&&(U=R,X=L)):null===R||null!==D&&D<R?(b+=2,U=D):(C+=2,U=R,X=L),null!==U&&R8(e,i,t,n,U,X,o,l),D=b<r.length?r[b]:null,R=C<s.length?s[C]:null}}(r,l,o,o[$i],o[s+1],o[s+1]=function Ydt(e,i,t){if(null==t||""===t)return Qn;const n=[],r=gl(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(n,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&e(n,s,r[s]);else"string"==typeof r&&i(n,r);return n}(e,i,t),n,s)}}function M8(e,i){return i>=e.expandoStartIndex}function I8(e,i,t,n){const r=e.data;if(null===r[t+1]){const s=r[qa()],o=M8(e,t);F8(s,n)&&null===i&&!o&&(i=!1),i=function Hdt(e,i,t,n){const r=B2(e);let s=n?i.residualClasses:i.residualStyles;if(null===r)0===(n?i.classBindings:i.styleBindings)&&(t=Px(t=DM(null,e,i,t,n),i.attrs,n),s=null);else{const o=i.directiveStylingLast;if(-1===o||e[o]!==r)if(t=DM(r,e,i,t,n),null===s){let b=function Wdt(e,i,t){const n=t?i.classBindings:i.styleBindings;if(0!==zf(n))return e[fh(n)]}(e,i,n);void 0!==b&&Array.isArray(b)&&(b=DM(null,e,i,b[1],n),b=Px(b,i.attrs,n),function Xdt(e,i,t,n){e[fh(t?i.classBindings:i.styleBindings)]=n}(e,i,n,b))}else s=function jdt(e,i,t){let n;const r=i.directiveEnd;for(let s=1+i.directiveStylingLast;s<r;s++)n=Px(n,e[s].hostAttrs,t);return Px(n,i.attrs,t)}(e,i,n)}return void 0!==s&&(n?i.residualClasses=s:i.residualStyles=s),t}(r,s,i,n),function Pdt(e,i,t,n,r,s){let o=s?i.classBindings:i.styleBindings,l=fh(o),b=zf(o);e[n]=t;let D,C=!1;if(Array.isArray(t)?(D=t[1],(null===D||Pp(t,D)>0)&&(C=!0)):D=t,r)if(0!==b){const O=fh(e[l+1]);e[n+1]=P_(O,l),0!==O&&(e[O+1]=SM(e[O+1],n)),e[l+1]=function kdt(e,i){return 131071&e|i<<17}(e[l+1],n)}else e[n+1]=P_(l,0),0!==l&&(e[l+1]=SM(e[l+1],n)),l=n;else e[n+1]=P_(b,0),0===l?l=n:e[b+1]=SM(e[b+1],n),b=n;C&&(e[n+1]=CM(e[n+1])),_8(e,D,n,!0),_8(e,D,n,!1),function Fdt(e,i,t,n,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof i&&Pp(s,i)>=0&&(t[n+1]=EM(t[n+1]))}(i,D,e,n,s),o=P_(l,b),s?i.classBindings=o:i.styleBindings=o}(r,s,i,t,o,n)}}function DM(e,i,t,n,r){let s=null;const o=t.directiveEnd;let l=t.directiveStylingLast;for(-1===l?l=t.directiveStart:l++;l<o&&(s=i[l],n=Px(n,s.hostAttrs,r),s!==e);)l++;return null!==e&&(t.directiveStylingLast=l),n}function Px(e,i,t){const n=t?1:2;let r=-1;if(null!==i)for(let s=0;s<i.length;s++){const o=i[s];"number"==typeof o?r=o:r===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),dl(e,o,!!t||i[++s]))}return void 0===e?null:e}function $dt(e,i,t){const n=String(i);""!==n&&!n.includes(" ")&&dl(e,n,t)}function R8(e,i,t,n,r,s,o,l){if(!(3&i.type))return;const b=e.data,C=b[l+1],D=function Rdt(e){return!(1&~e)}(C)?P8(b,i,t,r,zf(C),o):void 0;F_(D)||(F_(s)||function Idt(e){return!(2&~e)}(C)&&(s=P8(b,null,t,r,l,o)),function Rot(e,i,t,n,r){if(i)r?e.addClass(t,n):e.removeClass(t,n);else{let s=-1===n.indexOf("-")?void 0:lh.DashCase;null==r?e.removeStyle(t,n,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=lh.Important),e.setStyle(t,n,r,s))}}(n,o,X0(qa(),t),r,s))}function P8(e,i,t,n,r,s){const o=null===i;let l;for(;r>0;){const b=e[r],C=Array.isArray(b),D=C?b[1]:b,R=null===D;let O=t[r+1];O===an&&(O=R?Qn:void 0);let L=R?u2(O,n):D===n?O:void 0;if(C&&!F_(L)&&(L=u2(b,n)),F_(L)&&(l=L,o))return l;const U=e[r+1];r=o?fh(U):zf(U)}if(null!==i){let b=s?i.residualClasses:i.residualStyles;null!=b&&(l=u2(b,n))}return l}function F_(e){return void 0!==e}function F8(e,i){return!!(e.flags&(i?8:16))}class aut{destroy(i){}updateValue(i,t){}swap(i,t){const n=Math.min(i,t),r=Math.max(i,t),s=this.detach(r);if(r-n>1){const o=this.detach(n);this.attach(n,s),this.attach(r,o)}else this.attach(n,s)}move(i,t){this.attach(t,this.detach(i))}}function MM(e,i,t,n,r){return e===t&&Object.is(i,n)?1:Object.is(r(e,i),r(t,n))?-1:0}function IM(e,i,t,n){return!(void 0===i||!i.has(n)||(e.attach(t,i.get(n)),i.delete(n),0))}function L8(e,i,t,n,r){if(IM(e,i,n,t(n,r)))e.updateValue(n,r);else{const s=e.create(n,r);e.attach(n,s)}}function N8(e,i,t,n){const r=new Set;for(let s=i;s<=t;s++)r.add(n(s,e.at(s)));return r}class B8{constructor(){this.kvMap=new Map,this._vMap=void 0}has(i){return this.kvMap.has(i)}delete(i){if(!this.has(i))return!1;const t=this.kvMap.get(i);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(i,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(i),!0}get(i){return this.kvMap.get(i)}set(i,t){if(this.kvMap.has(i)){let n=this.kvMap.get(i);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(n);)n=r.get(n);r.set(n,t)}else this.kvMap.set(i,t)}forEach(i){for(let[t,n]of this.kvMap)if(i(n,t),void 0!==this._vMap){const r=this._vMap;for(;r.has(n);)n=r.get(n),i(n,t)}}}function xn(e,i,t){$c("NgControlFlow");const n=be(),r=vc(),s=kM(n,rn+e);if(Es(n,r,i)){const l=g(null);try{if(GD(s,0),-1!==i){const b=RM(n[Qe],rn+i),C=eg(s,b.tView.ssrId);px(s,mx(n,b,t,{dehydratedView:C}),0,tg(b,C))}}finally{g(l)}}else{const l=V5(s,0);void 0!==l&&(l[Or]=t)}}class lut{constructor(i,t,n){this.lContainer=i,this.$implicit=t,this.$index=n}get $count(){return this.lContainer.length-Ss}}function O_(e,i){return i}class dut{constructor(i,t,n){this.hasEmptyBlock=i,this.trackByFn=t,this.liveCollection=n}}function L_(e,i,t,n,r,s,o,l,b,C,D,R,O){$c("NgControlFlow");const L=void 0!==b,U=be(),X=l?o.bind(U[us][Or]):o,W=new dut(L,X);U[rn+e]=W,Gt(e+1,i,t,n,r,s),L&&Gt(e+2,b,C,D,R,O)}class uut extends aut{constructor(i,t,n){super(),this.lContainer=i,this.hostLView=t,this.templateTNode=n,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ss}at(i){return this.getLView(i)[Or].$implicit}attach(i,t){const n=t[ul];this.needsIndexUpdate||=i!==this.length,px(this.lContainer,t,i,tg(this.templateTNode,n))}detach(i){return this.needsIndexUpdate||=i!==this.length-1,function hut(e,i){return dx(e,i)}(this.lContainer,i)}create(i,t){const n=eg(this.lContainer,this.templateTNode.tView.ssrId);return mx(this.hostLView,this.templateTNode,new lut(this.lContainer,t,i),{dehydratedView:n})}destroy(i){n_(i[Qe],i)}updateValue(i,t){this.getLView(i)[Or].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let i=0;i<this.length;i++)this.getLView(i)[Or].$index=i}getLView(i){return function fut(e,i){return V5(e,i)}(this.lContainer,i)}}function N_(e){const i=g(null),t=qa();try{const n=be(),r=n[Qe],s=n[t];if(void 0===s.liveCollection){const l=t+1,b=kM(n,l),C=RM(r,l);s.liveCollection=new uut(b,n,C)}else s.liveCollection.reset();const o=s.liveCollection;if(function out(e,i,t){let n,r,s=0,o=e.length-1;if(Array.isArray(i)){let l=i.length-1;for(;s<=o&&s<=l;){const b=e.at(s),C=i[s],D=MM(s,b,s,C,t);if(0!==D){D<0&&e.updateValue(s,C),s++;continue}const R=e.at(o),O=i[l],L=MM(o,R,l,O,t);if(0!==L){L<0&&e.updateValue(o,O),o--,l--;continue}const U=t(s,b),X=t(o,R),W=t(s,C);if(Object.is(W,X)){const Z=t(l,O);Object.is(Z,U)?(e.swap(s,o),e.updateValue(o,O),l--,o--):e.move(o,s),e.updateValue(s,C),s++}else if(n??=new B8,r??=N8(e,s,o,t),IM(e,n,s,W))e.updateValue(s,C),s++,o++;else if(r.has(W))n.set(U,e.detach(s)),o--;else{const Z=e.create(s,i[s]);e.attach(s,Z),s++,o++}}for(;s<=l;)L8(e,n,t,s,i[s]),s++}else if(null!=i){const l=i[Symbol.iterator]();let b=l.next();for(;!b.done&&s<=o;){const C=e.at(s),D=b.value,R=MM(s,C,s,D,t);if(0!==R)R<0&&e.updateValue(s,D),s++,b=l.next();else{n??=new B8,r??=N8(e,s,o,t);const O=t(s,D);if(IM(e,n,s,O))e.updateValue(s,D),s++,o++,b=l.next();else if(r.has(O)){const L=t(s,C);n.set(L,e.detach(s)),o--}else e.attach(s,e.create(s,D)),s++,o++,b=l.next()}}for(;!b.done;)L8(e,n,t,e.length,b.value),b=l.next()}for(;s<=o;)e.destroy(e.detach(o--));n?.forEach(l=>{e.destroy(l)})}(o,e,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){const l=vc(),b=0===o.length;if(Es(n,l,b)){const C=t+2,D=kM(n,C);if(b){const R=RM(r,C),O=eg(D,R.tView.ssrId);px(D,mx(n,R,void 0,{dehydratedView:O}),0,tg(R,O))}else GD(D,0)}}}finally{g(i)}}function kM(e,i){return e[i]}function RM(e,i){return j0(e,i)}function q(e,i,t,n){const r=be(),s=Nn(),o=rn+e,l=r[$i],b=s.firstCreatePass?function mut(e,i,t,n,r,s){const o=i.consts,b=qp(i,e,2,n,Gc(o,r));return LD(i,t,b,Gc(o,s)),null!==b.attrs&&y_(b,b.attrs,!1),null!==b.mergedAttrs&&y_(b,b.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,b),b}(o,s,r,i,t,n):s.data[o],C=V8(s,r,b,l,i,e);r[o]=C;const D=Iw(b);return Hc(b,!0),C5(l,C,b),!function Mx(e){return!(32&~e.flags)}(b)&&K0()&&s_(s,r,C,b),0===function dst(){return Qi.lFrame.elementDepthCount}()&&to(C,r),function ust(){Qi.lFrame.elementDepthCount++}(),D&&(PD(s,r,b),RD(s,b,r)),null!==n&&FD(r,b),q}function et(){let e=br();O2()?L2():(e=e.parent,Hc(e,!1));const i=e;(function fst(e){return Qi.skipHydrationRootTNode===e})(i)&&function vst(){Qi.skipHydrationRootTNode=null}(),function hst(){Qi.lFrame.elementDepthCount--}();const t=Nn();return t.firstCreatePass&&(Pw(t,e),S2(e)&&t.queries.elementEnd(e)),null!=i.classesWithoutHost&&function Ist(e){return!!(8&e.flags)}(i)&&AM(t,i,be(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function kst(e){return!!(16&e.flags)}(i)&&AM(t,i,be(),i.stylesWithoutHost,!1),et}function ye(e,i,t,n){return q(e,i,t,n),et(),ye}let V8=(e,i,t,n,r,s)=>(Wc(!0),i_(n,r,function j3(){return Qi.lFrame.currentNamespace}()));function Wi(e,i,t){const n=be(),r=Nn(),s=e+rn,o=r.firstCreatePass?function vut(e,i,t,n,r){const s=i.consts,o=Gc(s,n),l=qp(i,e,8,"ng-container",o);return null!==o&&y_(l,o,!0),LD(i,t,l,Gc(s,r)),null!==i.queries&&i.queries.elementStart(i,l),l}(s,r,n,i,t):r.data[s];Hc(o,!0);const l=U8(r,n,o,e);return n[s]=l,K0()&&s_(r,n,l,o),to(l,n),Iw(o)&&(PD(r,n,o),RD(r,o,n)),null!=t&&FD(n,o),Wi}function Xi(){let e=br();const i=Nn();return O2()?L2():(e=e.parent,Hc(e,!1)),i.firstCreatePass&&(Pw(i,e),S2(e)&&i.queries.elementEnd(e)),Xi}function aa(e,i,t){return Wi(e,i,t),Xi(),aa}let U8=(e,i,t,n)=>(Wc(!0),SD(i[$i],""));function pe(){return be()}function Jc(e,i,t){const n=be();return Es(n,vc(),i)&&$o(Nn(),Lr(),n,e,i,n[$i],t,!0),Jc}function B_(e,i,t){const n=be();if(Es(n,vc(),i)){const s=Nn(),o=Lr();$o(s,o,n,e,i,B5(B2(s.data),o,n),t,!0)}return B_}const Gf=void 0;var wut=["en",[["a","p"],["AM","PM"],Gf],[["AM","PM"],Gf,Gf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gf,"{1} 'at' {0}",Gf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function but(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let yg={};function ko(e){const i=function _ut(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=G8(i);if(t)return t;const n=i.split("-")[0];if(t=G8(n),t)return t;if("en"===n)return wut;throw new ue(701,!1)}function G8(e){return e in yg||(yg[e]=hr.ng&&hr.ng.common&&hr.ng.common.locales&&hr.ng.common.locales[e]),yg[e]}var Br=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Br||{});const bg="en-US";let H8=bg;function Vt(e,i,t,n){const r=be(),s=Nn(),o=br();return OM(s,r,r[$i],o,e,i,n),Vt}function H_(e,i){const t=br(),n=be(),r=Nn();return OM(r,n,B5(B2(r.data),t,n),t,e,i),H_}function OM(e,i,t,n,r,s,o){const l=Iw(n),C=e.firstCreatePass&&N5(e),D=i[Or],R=L5(i);let O=!0;if(3&n.type||o){const X=Mo(n,i),W=o?o(X):X,Z=R.length,rt=o?vt=>o(Sr(vt[n.index])):n.index;let st=null;if(!o&&l&&(st=function xht(e,i,t,n){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===n){const l=i[Np],b=r[s+2];return l.length>b?l[b]:null}"string"==typeof o&&(s+=2)}return null}(e,i,r,n.index)),null!==st)(st.__ngLastListenerFn__||st).__ngNextListenerFn__=s,st.__ngLastListenerFn__=s,O=!1;else{s=g6(n,i,D,s,!1);const vt=t.listen(W,r,s);R.push(s,vt),C&&C.push(r,rt,Z,Z+1)}}else s=g6(n,i,D,s,!1);const L=n.outputs;let U;if(O&&null!==L&&(U=L[r])){const X=U.length;if(X)for(let W=0;W<X;W+=2){const _t=i[U[W]][U[W+1]].subscribe(s),Mt=R.length;R.push(s,_t),C&&C.push(r,n.index,Mt,-(Mt+1))}}}function p6(e,i,t,n){const r=g(null);try{return zc(6,i,t),!1!==t(n)}catch(s){return d_(e,s),!1}finally{zc(7,i,t),g(r)}}function g6(e,i,t,n,r){return function s(o){if(o===Function)return n;vx(e.componentOffset>-1?hl(e.index,i):i);let b=p6(i,t,n,o),C=s.__ngNextListenerFn__;for(;C;)b=p6(i,t,C,o)&&b,C=C.__ngNextListenerFn__;return r&&!1===b&&o.preventDefault(),b}}function Ct(e=1){return function Tst(e){return(Qi.lFrame.contextLView=function F3(e,i){for(;e>0;)i=i[Bp],e--;return i}(e,Qi.lFrame.contextLView))[Or]}(e)}function yht(e,i){let t=null;const n=function _rt(e){const i=e.attrs;if(null!=i){const t=i.indexOf(5);if(!(1&t))return i[t+1]}return null}(e);for(let r=0;r<i.length;r++){const s=i[r];if("*"!==s){if(null===n?d3(e,s,!0):Srt(n,s))return r}else t=r}return t}function Kn(e){const i=be()[us][Ka];if(!i.projection){const n=i.projection=function yw(e,i){const t=[];for(let n=0;n<e;n++)t.push(i);return t}(e?e.length:1,null),r=n.slice();let s=i.child;for(;null!==s;){const o=e?yht(s,e):0;null!==o&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s),s=s.next}}}function xi(e,i=0,t){const n=be(),r=Nn(),s=qp(r,rn+e,16,null,t||null);null===s.projection&&(s.projection=i),L2(),(!n[ul]||Gp())&&32&~s.flags&&function Iot(e,i,t){_5(i[$i],0,i,t,AD(e,t,i),g5(t.parent||i[Ka],t,i))}(r,n,s)}function mh(e,i,t){return W_(e,"",i,"",t),mh}function W_(e,i,t,n,r){const s=be(),o=dg(s,i,t,n);return o!==an&&$o(Nn(),Lr(),s,e,o,s[$i],r,!1),W_}function An(e,i,t,n){!function TV(e,i,t,n){const r=Nn();if(r.firstCreatePass){const s=br();CV(r,new yV(i,t,n),s.index),function _ct(e,i){const t=e.contentQueries||(e.contentQueries=[]);i!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,i)}(r,e),!(2&~t)&&(r.staticContentQueries=!0)}return wV(r,be(),t)}(e,i,t,n)}function Mi(e,i,t){!function _V(e,i,t){const n=Nn();return n.firstCreatePass&&(CV(n,new yV(e,i,t),-1),!(2&~i)&&(n.staticViewQueries=!0)),wV(n,be(),i)}(e,i,t)}function Be(e){const i=be(),t=Nn(),n=V2();Rw(n+1);const r=dM(t,n);if(e.dirty&&function ost(e){return!(4&~e[Fi])}(i)===!(2&~r.metadata.flags)){if(null===r.matches)e.reset([]);else{const s=SV(i,n);e.reset(s,pB),e.notifyOnChanges()}return!0}return!1}function Ve(){return function cM(e,i){return e[Ud].queries[i].queryList}(be(),V2())}function Ki(e){return zp(function xst(){return Qi.lFrame.contextLView}(),rn+e)}function ut(e,i=""){const t=be(),n=Nn(),r=e+rn,s=n.firstCreatePass?qp(n,r,1,i,null):n.data[r],o=F6(n,t,s,i,e);t[r]=o,K0()&&s_(n,t,o,s),Hc(s,!1)}let F6=(e,i,t,n,r)=>(Wc(!0),function CD(e,i){return e.createText(i)}(i[$i],n));function Xe(e){return He("",e,""),Xe}function He(e,i,t){const n=be(),r=dg(n,e,i,t);return r!==an&&Xd(n,qa(),r),He}function Ko(e,i,t,n,r){const s=be(),o=function ug(e,i,t,n,r,s){const l=Vf(e,zd(),t,r);return Gd(2),l?i+nn(t)+n+nn(r)+s:an}(s,e,i,t,n,r);return o!==an&&Xd(s,qa(),o),Ko}function Ux(e,i,t,n,r,s,o){const l=be(),b=function hg(e,i,t,n,r,s,o,l){const C=A_(e,zd(),t,r,o);return Gd(3),C?i+nn(t)+n+nn(r)+s+nn(o)+l:an}(l,e,i,t,n,r,s,o);return b!==an&&Xd(l,qa(),b),Ux}function wa(e,i,t){AV(i)&&(i=i());const n=be();return Es(n,vc(),i)&&$o(Nn(),Lr(),n,e,i,n[$i],t,!1),wa}function Ba(e,i){const t=AV(e);return t&&e.set(i),t}function _a(e,i){const t=be(),n=Nn(),r=br();return OM(n,t,t[$i],r,e,i),_a}function LM(e,i,t,n,r){if(e=Hi(e),Array.isArray(e))for(let s=0;s<e.length;s++)LM(e[s],i,t,n,r);else{const s=Nn(),o=be(),l=br();let b=Af(e)?e:Hi(e.provide);const C=x3(e),D=1048575&l.providerIndexes,R=l.directiveStart,O=l.providerIndexes>>20;if(Af(e)||!e.multi){const L=new Z0(C,r,mt),U=BM(b,i,r?D:D+O,R);-1===U?(Y2(Nw(l,o),s,b),NM(s,e,i.length),i.push(b),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(L),o.push(L)):(t[U]=L,o[U]=L)}else{const L=BM(b,i,D+O,R),U=BM(b,i,D,D+O),W=U>=0&&t[U];if(r&&!W||!r&&!(L>=0&&t[L])){Y2(Nw(l,o),s,b);const Z=function Bht(e,i,t,n,r){const s=new Z0(e,t,mt);return s.multi=[],s.index=i,s.componentProviders=0,z6(s,r,n&&!t),s}(r?Nht:Lht,t.length,r,n,C);!r&&W&&(t[U].providerFactory=Z),NM(s,e,i.length,0),i.push(b),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(Z),o.push(Z)}else NM(s,e,L>-1?L:U,z6(t[r?U:L],C,!r&&n));!r&&n&&W&&t[U].componentProviders++}}}function NM(e,i,t,n){const r=Af(i),s=function Ort(e){return!!e.useClass}(i);if(r||s){const b=(s?Hi(i.useClass):i).prototype.ngOnDestroy;if(b){const C=e.destroyHooks||(e.destroyHooks=[]);if(!r&&i.multi){const D=C.indexOf(t);-1===D?C.push(t,[n,b]):C[D+1].push(n,b)}else C.push(t,b)}}}function z6(e,i,t){return t&&e.componentProviders++,e.multi.push(i)-1}function BM(e,i,t,n){for(let r=t;r<n;r++)if(i[r]===e)return r;return-1}function Lht(e,i,t,n){return VM(this.multi,[])}function Nht(e,i,t,n){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,l=Rf(t,t[Qe],this.providerFactory.index,n);s=l.slice(0,o),VM(r,s);for(let b=o;b<l.length;b++)s.push(l[b])}else s=[],VM(r,s);return s}function VM(e,i){for(let t=0;t<e.length;t++)i.push((0,e[t])());return i}function fi(e,i=[]){return t=>{t.providersResolver=(n,r)=>function Oht(e,i,t){const n=Nn();if(n.firstCreatePass){const r=gc(e);LM(t,n.data,n.blueprint,r,!0),LM(i,n.data,n.blueprint,r,!1)}}(n,r?r(e):e,i)}}let Vht=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const n=p2(0,t.type),r=n.length>0?C_([n],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#t=this.\u0275prov=Ae({token:e,providedIn:"environment",factory:()=>new e(Jt(jo))})}return e})();function Vi(e){$c("NgStandalone"),e.getStandaloneInjector=i=>i.get(Vht).getOrCreateStandaloneInjector(e)}function Zo(e,i,t){const n=Io()+e,r=be();return r[n]===an?Qc(r,n,t?i.call(t):i()):function Dx(e,i){return e[i]}(r,n)}function yl(e,i,t,n){return H6(be(),Io(),e,i,t,n)}function UM(e,i,t,n,r){return W6(be(),Io(),e,i,t,n,r)}function zx(e,i){const t=e[i];return t===an?void 0:t}function H6(e,i,t,n,r,s){const o=i+t;return Es(e,o,r)?Qc(e,o+1,s?n.call(s,r):n(r)):zx(e,o+1)}function W6(e,i,t,n,r,s,o){const l=i+t;return Vf(e,l,r,s)?Qc(e,l+2,o?n.call(o,r,s):n(r,s)):zx(e,l+2)}function hs(e,i){const t=Nn();let n;const r=e+rn;t.firstCreatePass?(n=function Qht(e,i){if(i)for(let t=i.length-1;t>=0;t--){const n=i[t];if(e===n.name)return n}}(i,t.pipeRegistry),t.data[r]=n,n.onDestroy&&(t.destroyHooks??=[]).push(r,n.onDestroy)):n=t.data[r];const s=n.factory||(n.factory=Sf(n.type)),l=Wo(mt);try{const b=Lw(!1),C=s();return Lw(b),function Tht(e,i,t,n){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),i[t]=n}(t,be(),r,C),C}finally{Wo(l)}}function zl(e,i,t){const n=e+rn,r=be(),s=zp(r,n);return Gx(r,n)?H6(r,Io(),i,s.transform,t,s):s.transform(t)}function bc(e,i,t,n){const r=e+rn,s=be(),o=zp(s,r);return Gx(s,r)?W6(s,Io(),i,o.transform,t,n,o):o.transform(t,n)}function $6(e,i,t,n,r){const s=e+rn,o=be(),l=zp(o,s);return Gx(o,s)?function X6(e,i,t,n,r,s,o,l){const b=i+t;return A_(e,b,r,s,o)?Qc(e,b+3,l?n.call(l,r,s,o):n(r,s,o)):zx(e,b+3)}(o,Io(),i,l.transform,t,n,r,l):l.transform(t,n,r)}function Gx(e,i){return e[Qe].data[i].pure}function wg(e,i){return h_(e,i)}let d9=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const p9=new ee(""),$_=new ee("");let $M,jM=(()=>{class e{constructor(t,n,r){this._ngZone=t,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,$M||(function Wft(e){$M=e}(r),r.addToWindow(n)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ii.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(t)||(clearTimeout(n.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,n,r){let s=-1;n&&n>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},n)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,n,r){return[]}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ii),Jt(YM),Jt($_))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}return e})(),YM=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,n){this._applications.set(t,n)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,n=!0){return $M?.findTestabilityInTree(this,t,n)??null}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Xx(e){return!!e&&"function"==typeof e.then}function g9(e){return!!e&&"function"==typeof e.subscribe}const QM=new ee("");let KM=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,n)=>{this.resolve=t,this.reject=n}),this.appInits=me(QM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if(Xx(s))t.push(s);else if(g9(s)){const o=new Promise((l,b)=>{s.subscribe({complete:l,error:b})});t.push(o)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{n()}).catch(r=>{this.reject(r)}),0===t.length&&n(),this.initialized=!0}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ZM=new ee("");function y9(e,i){return Array.isArray(i)?i.reduce(y9,e):{...e,...i}}let Yd=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=me(fB),this.afterRenderEffectManager=me(Tx),this.externalTestViews=new Set,this.beforeRender=new Pe,this.afterTick=new Pe,this.componentTypes=[],this.components=[],this.isStable=me(uh).hasPendingTasks.pipe(Di(t=>!t)),this._injector=me(jo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,n){const r=t instanceof J5;if(!this._injector.get(KM).done)throw!r&&function nh(e){const i=En(e)||ia(e)||Oa(e);return null!==i&&i.standalone}(t),new ue(405,!1);let o;o=r?t:this._injector.get(Lf).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const l=function Xft(e){return e.isBoundToModule}(o)?void 0:this._injector.get(Bf),C=o.create(is.NULL,[],n||o.selector,l),D=C.location.nativeElement,R=C.injector.get(p9,null);return R?.registerApplication(D),C.onDestroy(()=>{this.detachView(C.hostView),Q_(this.components,C),R?.unregisterApplication(D)}),this._loadComponent(C),C}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new ue(101,!1);const n=g(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,g(n)}}detectChangesInAttachedViews(t){let n=0;const r=this.afterRenderEffectManager;for(;;){if(n===G5)throw new ue(103,!1);if(t){const s=0===n;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:l}of this._views)Yft(o,s,l)}if(n++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>JM(s))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>JM(s))))break}}attachView(t){const n=t;this._views.push(n),n.attachToAppRef(this)}detachView(t){const n=t;Q_(this._views,n),n.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const n=this._injector.get(ZM,[]);[...this._bootstrapListeners,...n].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Q_(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ue(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Q_(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}function Yft(e,i,t){!i&&!JM(e)||function $ft(e,i,t){let n;t?(n=0,e[Fi]|=1024):n=64&e[Fi]?0:1,u_(e,i,n)}(e,t,i)}function JM(e){return R2(e)}class Qft{constructor(i,t){this.ngModuleFactory=i,this.componentFactories=t}}let b9=(()=>{class e{compileModuleSync(t){return new fM(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const n=this.compileModuleSync(t),s=vl(Qa(t).declarations).reduce((o,l)=>{const b=En(l);return b&&o.push(new Ex(b)),o},[]);return new Qft(n,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Jft=(()=>{class e{constructor(){this.zone=me(ii),this.applicationRef=me(Yd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function qft(){const e=me(ii),i=me(pl);return t=>e.runOutsideAngular(()=>i.handleError(t))}let emt=(()=>{class e{constructor(){this.subscription=new Ie,this.initialized=!1,this.zone=me(ii),this.pendingTasks=me(uh)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ii.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ii.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const qc=new ee("",{providedIn:"root",factory:()=>me(qc,Ln.Optional|Ln.SkipSelf)||function imt(){return typeof $localize<"u"&&$localize.locale||bg}()}),qM=new ee("");let C9=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,n){const r=function Jlt(e="zone.js",i){return"noop"===e?new rV:"zone.js"===e?new ii(i):e}(n?.ngZone,function T9(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return r.run(()=>{const s=function Wct(e,i,t){return new hM(e,i,t)}(t.moduleType,this.injector,function _9(e){return[{provide:ii,useFactory:e},{provide:Ef,multi:!0,useFactory:()=>{const i=me(Jft,{optional:!0});return()=>i.initialize()}},{provide:Ef,multi:!0,useFactory:()=>{const i=me(emt);return()=>{i.initialize()}}},{provide:fB,useFactory:qft}]}(()=>r)),o=s.injector.get(pl,null);return r.runOutsideAngular(()=>{const l=r.onError.subscribe({next:b=>{o.handleError(b)}});s.onDestroy(()=>{Q_(this._modules,s),l.unsubscribe()})}),function x9(e,i,t){try{const n=t();return Xx(n)?n.catch(r=>{throw i.runOutsideAngular(()=>e.handleError(r)),r}):n}catch(n){throw i.runOutsideAngular(()=>e.handleError(n)),n}}(o,r,()=>{const l=s.injector.get(KM);return l.runInitializers(),l.donePromise.then(()=>(function W8(e){"string"==typeof e&&(H8=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(qc,bg)||bg),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,n=[]){const r=y9({},n);return function Zft(e,i,t){const n=new fM(t);return Promise.resolve(n)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const n=t.injector.get(Yd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new ue(-403,!1);t.instance.ngDoBootstrap(n)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const t=this._injector.get(qM,null);t&&(t.forEach(n=>n()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(is))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),ph=null;const S9=new ee("");function E9(e,i,t=[]){const n=`Platform: ${i}`,r=new ee(n);return(s=[])=>{let o=tI();if(!o||o.injector.get(S9,!1)){const l=[...t,...s,{provide:r,useValue:!0}];e?e(l):function smt(e){if(ph&&!ph.get(S9,!1))throw new ue(400,!1);(function v9(){!function J(e){at=e}(()=>{throw new ue(600,!1)})})(),ph=e;const i=e.get(C9);(function D9(e){e.get(OB,null)?.forEach(t=>t())})(e)}(function A9(e=[],i){return is.create({name:i,providers:[{provide:x2,useValue:"platform"},{provide:qM,useValue:new Set([()=>ph=null])},...e]})}(l,n))}return function amt(e){const i=tI();if(!i)throw new ue(401,!1);return i}()}}function tI(){return ph?.get(C9)??null}let Mn=(()=>{class e{static#t=this.__NG_ELEMENT_ID__=lmt}return e})();function lmt(e){return function cmt(e,i,t){if(Mf(e)&&!t){const n=hl(e.index,i);return new xx(n,n)}return 47&e.type?new xx(i[us],i):null}(br(),be(),!(16&~e))}class P9{constructor(){}supports(i){return E_(i)}create(i){return new mmt(i)}}const fmt=(e,i)=>i;class mmt{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||fmt}forEachItem(i){let t;for(t=this._itHead;null!==t;t=t._next)i(t)}forEachOperation(i){let t=this._itHead,n=this._removalsHead,r=0,s=null;for(;t||n;){const o=!n||t&&t.currentIndex<O9(n,r,s)?t:n,l=O9(o,r,s),b=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const C=l-r,D=b-r;if(C!=D){for(let O=0;O<C;O++){const L=O<s.length?s[O]:s[O]=0,U=L+O;D<=U&&U<C&&(s[O]=L+1)}s[o.previousIndex]=D-C}}l!==b&&i(o,l,b)}}forEachPreviousItem(i){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)i(t)}forEachAddedItem(i){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)i(t)}forEachMovedItem(i){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)i(t)}forEachRemovedItem(i){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)i(t)}forEachIdentityChange(i){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)i(t)}diff(i){if(null==i&&(i=[]),!E_(i))throw new ue(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let r,s,o,t=this._itHead,n=!1;if(Array.isArray(i)){this.length=i.length;for(let l=0;l<this.length;l++)s=i[l],o=this._trackByFn(l,s),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,s,o,l)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,l),n=!0),t=t._next}else r=0,function $ct(e,i){if(Array.isArray(e))for(let t=0;t<e.length;t++)i(e[t]);else{const t=e[Symbol.iterator]();let n;for(;!(n=t.next()).done;)i(n.value)}}(i,l=>{o=this._trackByFn(r,l),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,l,o,r)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,o,r),n=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,t,n,r){let s;return null===i?s=this._itTail:(s=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(i.item,t)||this._addIdentityChange(i,t),this._reinsertAfter(i,s,r)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(i.item,t)||this._addIdentityChange(i,t),this._moveAfter(i,s,r)):i=this._addAfter(new pmt(t,n),s,r),i}_verifyReinsertion(i,t,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?i=this._reinsertAfter(s,i._prev,r):i.currentIndex!=r&&(i.currentIndex=r,this._addToMoves(i,r)),i}_truncate(i){for(;null!==i;){const t=i._next;this._addToRemovals(this._unlink(i)),i=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const r=i._prevRemoved,s=i._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(i,t,n),this._addToMoves(i,n),i}_moveAfter(i,t,n){return this._unlink(i),this._insertAfter(i,t,n),this._addToMoves(i,n),i}_addAfter(i,t,n){return this._insertAfter(i,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,t,n){const r=null===t?this._itHead:t._next;return i._next=r,i._prev=t,null===r?this._itTail=i:r._prev=i,null===t?this._itHead=i:t._next=i,null===this._linkedRecords&&(this._linkedRecords=new F9),this._linkedRecords.put(i),i.currentIndex=n,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const t=i._prev,n=i._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,i}_addToMoves(i,t){return i.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new F9),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,t){return i.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class pmt{constructor(i,t){this.item=i,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gmt{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,i))return n;return null}remove(i){const t=i._prevDup,n=i._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class F9{constructor(){this.map=new Map}put(i){const t=i.trackById;let n=this.map.get(t);n||(n=new gmt,this.map.set(t,n)),n.add(i)}get(i,t){const r=this.map.get(i);return r?r.get(i,t):null}remove(i){const t=i.trackById;return this.map.get(t).remove(i)&&this.map.delete(t),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function O9(e,i,t){const n=e.previousIndex;if(null===n)return n;let r=0;return t&&n<t.length&&(r=t[n]),n+i+r}class L9{constructor(){}supports(i){return i instanceof Map||mM(i)}create(){return new vmt}}class vmt{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let t;for(t=this._mapHead;null!==t;t=t._next)i(t)}forEachPreviousItem(i){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)i(t)}forEachChangedItem(i){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)i(t)}forEachAddedItem(i){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)i(t)}forEachRemovedItem(i){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)i(t)}diff(i){if(i){if(!(i instanceof Map||mM(i)))throw new ue(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(i,(n,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,n);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,t){if(i){const n=i._prev;return t._next=i,t._prev=n,i._prev=t,n&&(n._next=t),i===this._mapHead&&(this._mapHead=t),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(i,t){if(this._records.has(i)){const r=this._records.get(i);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const n=new xmt(i);return this._records.set(i,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,t){Object.is(t,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=t,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,t){i instanceof Map?i.forEach(t):Object.keys(i).forEach(n=>t(i[n],n))}}class xmt{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function N9(){return new gh([new P9])}let gh=(()=>{class e{static#t=this.\u0275prov=Ae({token:e,providedIn:"root",factory:N9});constructor(t){this.factories=t}static create(t,n){if(null!=n){const r=n.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||N9()),deps:[[e,new Cf,new Vd]]}}find(t){const n=this.factories.find(r=>r.supports(t));if(null!=n)return n;throw new ue(901,!1)}}return e})();function B9(){return new q_([new L9])}let q_=(()=>{class e{static#t=this.\u0275prov=Ae({token:e,providedIn:"root",factory:B9});constructor(t){this.factories=t}static create(t,n){if(n){const r=n.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||B9()),deps:[[e,new Cf,new Vd]]}}find(t){const n=this.factories.find(r=>r.supports(t));if(n)return n;throw new ue(901,!1)}}return e})();const wmt=E9(null,"core",[]);let _mt=(()=>{class e{constructor(t){}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Yd))};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})();function Je(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function jr(e,i=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?i:Number(e)}function aU(e){const i=g(null);try{return e()}finally{g(i)}}const Jmt=new ee("",{providedIn:"root",factory:()=>me(qmt)});let qmt=(()=>{class e{static#t=this.\u0275prov=Ae({token:e,providedIn:"root",factory:()=>new tpt})}return e})();class tpt{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=me(uh),this.taskId=null}scheduleEffect(i){if(this.enqueue(i),null===this.taskId){const t=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(t),this.taskId=null})}}enqueue(i){const t=i.creationZone;this.queues.has(t)||this.queues.set(t,new Set);const n=this.queues.get(t);n.has(i)||(this.queuedEffectCount++,n.add(i))}flush(){for(;this.queuedEffectCount>0;)for(const[i,t]of this.queues)null===i?this.flushQueue(t):i.run(()=>this.flushQueue(t))}flushQueue(i){for(const t of i)i.delete(t),this.queuedEffectCount--,t.run()}}class ept{constructor(i,t,n,r,s,o){this.scheduler=i,this.effectFn=t,this.creationZone=n,this.injector=s,this.watcher=function Bt(e,i,t){const n=Object.create($t);t&&(n.consumerAllowSignalWrites=!0),n.fn=e,n.schedule=i;const r=b=>{n.cleanupFn=b};return n.ref={notify:()=>y(n),run:()=>{if(null===n.fn)return;if(function h(){return a}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(n.dirty=!1,n.hasRun&&!A(n))return;n.hasRun=!0;const b=_(n);try{n.cleanupFn(),n.cleanupFn=Yt,n.fn(r)}finally{E(n,b)}},cleanup:()=>n.cleanupFn(),destroy:()=>function o(b){(function s(b){return null===b.fn&&null===b.schedule})(b)||(M(b),b.cleanupFn(),b.fn=null,b.schedule=null,b.cleanupFn=Yt)}(n),[T]:n},n.ref}(l=>this.runEffect(l),()=>this.schedule(),o),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(i){try{this.effectFn(i)}catch(t){this.injector.get(pl,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}let lU=null;function vh(){return lU}class rpt{}const Ni=new ee("");let oI=(()=>{class e{historyGo(t){throw new Error("")}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:()=>me(apt),providedIn:"platform"})}return e})();const spt=new ee("");let apt=(()=>{class e extends oI{constructor(){super(),this._doc=me(Ni),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vh().getBaseHref(this._doc)}onPopState(t){const n=vh().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",t,!1),()=>n.removeEventListener("popstate",t)}onHashChange(t){const n=vh().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",t,!1),()=>n.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,n,r){this._history.pushState(t,n,r)}replaceState(t,n,r){this._history.replaceState(t,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function lI(e,i){if(0==e.length)return i;if(0==i.length)return e;let t=0;return e.endsWith("/")&&t++,i.startsWith("/")&&t++,2==t?e+i.substring(1):1==t?e+i:e+"/"+i}function cU(e){const i=e.match(/#|\?|$/),t=i&&i.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function $d(e){return e&&"?"!==e[0]?"?"+e:e}let Xf=(()=>{class e{historyGo(t){throw new Error("")}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:()=>me(uU),providedIn:"root"})}return e})();const dU=new ee("");let uU=(()=>{class e extends Xf{constructor(t,n){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??me(Ni).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return lI(this._baseHref,t)}path(t=!1){const n=this._platformLocation.pathname+$d(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${n}${r}`:n}pushState(t,n,r,s){const o=this.prepareExternalUrl(r+$d(s));this._platformLocation.pushState(t,n,o)}replaceState(t,n,r,s){const o=this.prepareExternalUrl(r+$d(s));this._platformLocation.replaceState(t,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(oI),Jt(dU,8))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),opt=(()=>{class e extends Xf{constructor(t,n){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(t){const n=lI(this._baseHref,t);return n.length>0?"#"+n:n}pushState(t,n,r,s){let o=this.prepareExternalUrl(r+$d(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,n,o)}replaceState(t,n,r,s){let o=this.prepareExternalUrl(r+$d(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(oI),Jt(dU,8))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}return e})(),jf=(()=>{class e{constructor(t){this._subject=new De,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const n=this._locationStrategy.getBaseHref();this._basePath=function dpt(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(cU(hU(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+$d(n))}normalize(t){return e.stripTrailingSlash(function cpt(e,i){if(!e||!i.startsWith(e))return i;const t=i.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:i}(this._basePath,hU(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,n="",r=null){this._locationStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$d(n)),r)}replaceState(t,n="",r=null){this._locationStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$d(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{const n=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",n){this._urlChangeListeners.forEach(r=>r(t,n))}subscribe(t,n,r){return this._subject.subscribe({next:t,error:n,complete:r})}static#t=this.normalizeQueryParams=$d;static#e=this.joinWithSlash=lI;static#i=this.stripTrailingSlash=cU;static#n=this.\u0275fac=function(n){return new(n||e)(Jt(Xf))};static#r=this.\u0275prov=Ae({token:e,factory:()=>function lpt(){return new jf(Jt(Xf))}(),providedIn:"root"})}return e})();function hU(e){return e.replace(/\/index.html$/,"")}var sT=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(sT||{}),Po=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Po||{}),kr=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(kr||{}),bl=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(bl||{});const js={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function aT(e,i){return Hl(ko(e)[Br.DateFormat],i)}function oT(e,i){return Hl(ko(e)[Br.TimeFormat],i)}function lT(e,i){return Hl(ko(e)[Br.DateTimeFormat],i)}function Gl(e,i){const t=ko(e),n=t[Br.NumberSymbols][i];if(typeof n>"u"){if(i===js.CurrencyDecimal)return t[Br.NumberSymbols][js.Decimal];if(i===js.CurrencyGroup)return t[Br.NumberSymbols][js.Group]}return n}function mU(e){if(!e[Br.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Br.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Hl(e,i){for(let t=i;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function dI(e){const[i,t]=e.split(":");return{hours:+i,minutes:+t}}const Cpt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,cT={},Spt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Qd=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(Qd||{}),or=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(or||{}),lr=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(lr||{});function Ept(e,i,t,n){let r=function Opt(e){if(vU(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[r,s=1,o=1]=e.split("-").map(l=>+l);return dT(r,s-1,o)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(Cpt))return function Lpt(e){const i=new Date(0);let t=0,n=0;const r=e[8]?i.setUTCFullYear:i.setFullYear,s=e[8]?i.setUTCHours:i.setHours;e[9]&&(t=Number(e[9]+e[10]),n=Number(e[9]+e[11])),r.call(i,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-t,l=Number(e[5]||0)-n,b=Number(e[6]||0),C=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(i,o,l,b,C),i}(n)}const i=new Date(e);if(!vU(i))throw new Error(`Unable to convert "${e}" into a date`);return i}(e);i=Kd(t,i)||i;let l,o=[];for(;i;){if(l=Spt.exec(i),!l){o.push(i);break}{o=o.concat(l.slice(1));const D=o.pop();if(!D)break;i=D}}let b=r.getTimezoneOffset();n&&(b=gU(n,b),r=function Fpt(e,i,t){const n=t?-1:1,r=e.getTimezoneOffset();return function Ppt(e,i){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+i),e}(e,n*(gU(i,r)-r))}(r,n,!0));let C="";return o.forEach(D=>{const R=function Rpt(e){if(hI[e])return hI[e];let i;switch(e){case"G":case"GG":case"GGG":i=Vr(lr.Eras,kr.Abbreviated);break;case"GGGG":i=Vr(lr.Eras,kr.Wide);break;case"GGGGG":i=Vr(lr.Eras,kr.Narrow);break;case"y":i=Ys(or.FullYear,1,0,!1,!0);break;case"yy":i=Ys(or.FullYear,2,0,!0,!0);break;case"yyy":i=Ys(or.FullYear,3,0,!1,!0);break;case"yyyy":i=Ys(or.FullYear,4,0,!1,!0);break;case"Y":i=mT(1);break;case"YY":i=mT(2,!0);break;case"YYY":i=mT(3);break;case"YYYY":i=mT(4);break;case"M":case"L":i=Ys(or.Month,1,1);break;case"MM":case"LL":i=Ys(or.Month,2,1);break;case"MMM":i=Vr(lr.Months,kr.Abbreviated);break;case"MMMM":i=Vr(lr.Months,kr.Wide);break;case"MMMMM":i=Vr(lr.Months,kr.Narrow);break;case"LLL":i=Vr(lr.Months,kr.Abbreviated,Po.Standalone);break;case"LLLL":i=Vr(lr.Months,kr.Wide,Po.Standalone);break;case"LLLLL":i=Vr(lr.Months,kr.Narrow,Po.Standalone);break;case"w":i=uI(1);break;case"ww":i=uI(2);break;case"W":i=uI(1,!0);break;case"d":i=Ys(or.Date,1);break;case"dd":i=Ys(or.Date,2);break;case"c":case"cc":i=Ys(or.Day,1);break;case"ccc":i=Vr(lr.Days,kr.Abbreviated,Po.Standalone);break;case"cccc":i=Vr(lr.Days,kr.Wide,Po.Standalone);break;case"ccccc":i=Vr(lr.Days,kr.Narrow,Po.Standalone);break;case"cccccc":i=Vr(lr.Days,kr.Short,Po.Standalone);break;case"E":case"EE":case"EEE":i=Vr(lr.Days,kr.Abbreviated);break;case"EEEE":i=Vr(lr.Days,kr.Wide);break;case"EEEEE":i=Vr(lr.Days,kr.Narrow);break;case"EEEEEE":i=Vr(lr.Days,kr.Short);break;case"a":case"aa":case"aaa":i=Vr(lr.DayPeriods,kr.Abbreviated);break;case"aaaa":i=Vr(lr.DayPeriods,kr.Wide);break;case"aaaaa":i=Vr(lr.DayPeriods,kr.Narrow);break;case"b":case"bb":case"bbb":i=Vr(lr.DayPeriods,kr.Abbreviated,Po.Standalone,!0);break;case"bbbb":i=Vr(lr.DayPeriods,kr.Wide,Po.Standalone,!0);break;case"bbbbb":i=Vr(lr.DayPeriods,kr.Narrow,Po.Standalone,!0);break;case"B":case"BB":case"BBB":i=Vr(lr.DayPeriods,kr.Abbreviated,Po.Format,!0);break;case"BBBB":i=Vr(lr.DayPeriods,kr.Wide,Po.Format,!0);break;case"BBBBB":i=Vr(lr.DayPeriods,kr.Narrow,Po.Format,!0);break;case"h":i=Ys(or.Hours,1,-12);break;case"hh":i=Ys(or.Hours,2,-12);break;case"H":i=Ys(or.Hours,1);break;case"HH":i=Ys(or.Hours,2);break;case"m":i=Ys(or.Minutes,1);break;case"mm":i=Ys(or.Minutes,2);break;case"s":i=Ys(or.Seconds,1);break;case"ss":i=Ys(or.Seconds,2);break;case"S":i=Ys(or.FractionalSeconds,1);break;case"SS":i=Ys(or.FractionalSeconds,2);break;case"SSS":i=Ys(or.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":i=hT(Qd.Short);break;case"ZZZZZ":i=hT(Qd.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":i=hT(Qd.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":i=hT(Qd.Long);break;default:return null}return hI[e]=i,i}(D);C+=R?R(r,t,b):"''"===D?"'":D.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),C}function dT(e,i,t){const n=new Date(0);return n.setFullYear(e,i,t),n.setHours(0,0,0),n}function Kd(e,i){const t=function hpt(e){return ko(e)[Br.LocaleId]}(e);if(cT[t]??={},cT[t][i])return cT[t][i];let n="";switch(i){case"shortDate":n=aT(e,bl.Short);break;case"mediumDate":n=aT(e,bl.Medium);break;case"longDate":n=aT(e,bl.Long);break;case"fullDate":n=aT(e,bl.Full);break;case"shortTime":n=oT(e,bl.Short);break;case"mediumTime":n=oT(e,bl.Medium);break;case"longTime":n=oT(e,bl.Long);break;case"fullTime":n=oT(e,bl.Full);break;case"short":const r=Kd(e,"shortTime"),s=Kd(e,"shortDate");n=uT(lT(e,bl.Short),[r,s]);break;case"medium":const o=Kd(e,"mediumTime"),l=Kd(e,"mediumDate");n=uT(lT(e,bl.Medium),[o,l]);break;case"long":const b=Kd(e,"longTime"),C=Kd(e,"longDate");n=uT(lT(e,bl.Long),[b,C]);break;case"full":const D=Kd(e,"fullTime"),R=Kd(e,"fullDate");n=uT(lT(e,bl.Full),[D,R])}return n&&(cT[t][i]=n),n}function uT(e,i){return i&&(e=e.replace(/\{([^}]+)}/g,function(t,n){return null!=i&&n in i?i[n]:t})),e}function wc(e,i,t="-",n,r){let s="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,s=t));let o=String(e);for(;o.length<i;)o="0"+o;return n&&(o=o.slice(o.length-i)),s+o}function Ys(e,i,t=0,n=!1,r=!1){return function(s,o){let l=function Dpt(e,i){switch(e){case or.FullYear:return i.getFullYear();case or.Month:return i.getMonth();case or.Date:return i.getDate();case or.Hours:return i.getHours();case or.Minutes:return i.getMinutes();case or.Seconds:return i.getSeconds();case or.FractionalSeconds:return i.getMilliseconds();case or.Day:return i.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((t>0||l>-t)&&(l+=t),e===or.Hours)0===l&&-12===t&&(l=12);else if(e===or.FractionalSeconds)return function Apt(e,i){return wc(e,3).substring(0,i)}(l,i);const b=Gl(o,js.MinusSign);return wc(l,i,b,n,r)}}function Vr(e,i,t=Po.Format,n=!1){return function(r,s){return function Mpt(e,i,t,n,r,s){switch(t){case lr.Months:return function ppt(e,i,t){const n=ko(e),s=Hl([n[Br.MonthsFormat],n[Br.MonthsStandalone]],i);return Hl(s,t)}(i,r,n)[e.getMonth()];case lr.Days:return function mpt(e,i,t){const n=ko(e),s=Hl([n[Br.DaysFormat],n[Br.DaysStandalone]],i);return Hl(s,t)}(i,r,n)[e.getDay()];case lr.DayPeriods:const o=e.getHours(),l=e.getMinutes();if(s){const C=function ypt(e){const i=ko(e);return mU(i),(i[Br.ExtraData][2]||[]).map(n=>"string"==typeof n?dI(n):[dI(n[0]),dI(n[1])])}(i),D=function bpt(e,i,t){const n=ko(e);mU(n);const s=Hl([n[Br.ExtraData][0],n[Br.ExtraData][1]],i)||[];return Hl(s,t)||[]}(i,r,n),R=C.findIndex(O=>{if(Array.isArray(O)){const[L,U]=O,X=o>=L.hours&&l>=L.minutes,W=o<U.hours||o===U.hours&&l<U.minutes;if(L.hours<U.hours){if(X&&W)return!0}else if(X||W)return!0}else if(O.hours===o&&O.minutes===l)return!0;return!1});if(-1!==R)return D[R]}return function fpt(e,i,t){const n=ko(e),s=Hl([n[Br.DayPeriodsFormat],n[Br.DayPeriodsStandalone]],i);return Hl(s,t)}(i,r,n)[o<12?0:1];case lr.Eras:return function gpt(e,i){return Hl(ko(e)[Br.Eras],i)}(i,n)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,e,i,t,n)}}function hT(e){return function(i,t,n){const r=-1*n,s=Gl(t,js.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case Qd.Short:return(r>=0?"+":"")+wc(o,2,s)+wc(Math.abs(r%60),2,s);case Qd.ShortGMT:return"GMT"+(r>=0?"+":"")+wc(o,1,s);case Qd.Long:return"GMT"+(r>=0?"+":"")+wc(o,2,s)+":"+wc(Math.abs(r%60),2,s);case Qd.Extended:return 0===n?"Z":(r>=0?"+":"")+wc(o,2,s)+":"+wc(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}const Ipt=0,fT=4;function pU(e){const i=e.getDay(),t=0===i?-3:fT-i;return dT(e.getFullYear(),e.getMonth(),e.getDate()+t)}function uI(e,i=!1){return function(t,n){let r;if(i){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{const s=pU(t),o=function kpt(e){const i=dT(e,Ipt,1).getDay();return dT(e,0,1+(i<=fT?fT:fT+7)-i)}(s.getFullYear()),l=s.getTime()-o.getTime();r=1+Math.round(l/6048e5)}return wc(r,e,Gl(n,js.MinusSign))}}function mT(e,i=!1){return function(t,n){return wc(pU(t).getFullYear(),e,Gl(n,js.MinusSign),i)}}const hI={};function gU(e,i){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?i:t}function vU(e){return e instanceof Date&&!isNaN(e.valueOf())}const Npt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function gI(e){const i=parseInt(e);if(isNaN(i))throw new Error("Invalid integer literal when parsing "+e);return i}function wU(e,i){i=encodeURIComponent(i);for(const t of e.split(";")){const n=t.indexOf("="),[r,s]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)];if(r.trim()===i)return decodeURIComponent(s)}return null}const xI=/\s+/,_U=[];let _c=(()=>{class e{constructor(t,n){this._ngEl=t,this._renderer=n,this.initialClasses=_U,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(xI):_U}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(xI):t}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const n of t)this._updateState(n,!0);else if(null!=t)for(const n of Object.keys(t))this._updateState(n,!!t[n]);this._applyStateDiff()}_updateState(t,n){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(t,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const n=t[0],r=t[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(t,n){(t=t.trim()).length>0&&t.split(xI).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(jd))};static#e=this.\u0275dir=ce({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Wt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class Qpt{constructor(i,t,n,r){this.$implicit=i,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vs=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,n,r){this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const n=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new Qpt(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)n.remove(null===s?void 0:s);else if(null!==s){const l=n.get(s);n.move(l,o),CU(l,r)}});for(let r=0,s=n.length;r<s;r++){const l=n.get(r).context;l.index=r,l.count=s,l.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{CU(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,n){return!0}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ir),mt(fr),mt(gh))};static#e=this.\u0275dir=ce({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function CU(e,i){e.context.$implicit=i.item}let Is=(()=>{class e{constructor(t,n){this._viewContainer=t,this._context=new Kpt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){SU("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){SU("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,n){return!0}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ir),mt(fr))};static#e=this.\u0275dir=ce({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class Kpt{constructor(){this.$implicit=null,this.ngIf=null}}function SU(e,i){if(i&&!i.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ea(i)}'.`)}let AU=(()=>{class e{constructor(t,n,r){this._ngEl=t,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,n){const[r,s]=t.split("."),o=-1===r.indexOf("-")?void 0:lh.DashCase;null!=n?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${n}${s}`:n,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(t){t.forEachRemovedItem(n=>this._setStyle(n.key,null)),t.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),t.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(q_),mt(jd))};static#e=this.\u0275dir=ce({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return e})(),gT=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,n,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,n,r),get:(t,n,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,r)}})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ir))};static#e=this.\u0275dir=ce({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[tr]})}return e})();function Tc(e,i){return new ue(2100,!1)}class egt{createSubscription(i,t){return aU(()=>i.subscribe({next:t,error:n=>{throw n}}))}dispose(i){aU(()=>i.unsubscribe())}}class igt{createSubscription(i,t){return i.then(t,n=>{throw n})}dispose(i){}}const ngt=new igt,rgt=new egt;let wI=(()=>{class e{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,n=>this._updateLatestValue(t,n))}_selectStrategy(t){if(Xx(t))return ngt;if(g9(t))return rgt;throw Tc()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,n){t===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Mn,16))};static#e=this.\u0275pipe=$a({name:"async",type:e,pure:!1,standalone:!0})}return e})();const agt=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let _I=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw Tc();return t.replace(agt,n=>n[0].toUpperCase()+n.slice(1).toLowerCase())}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275pipe=$a({name:"titlecase",type:e,pure:!0,standalone:!0})}return e})(),TI=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw Tc();return t.toUpperCase()}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275pipe=$a({name:"uppercase",type:e,pure:!0,standalone:!0})}return e})();const lgt=new ee(""),cgt=new ee("");let Zd=(()=>{class e{constructor(t,n,r){this.locale=t,this.defaultTimezone=n,this.defaultOptions=r}transform(t,n,r,s){if(null==t||""===t||t!=t)return null;try{return Ept(t,n??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw Tc()}}static#t=this.\u0275fac=function(n){return new(n||e)(mt(qc,16),mt(lgt,24),mt(cgt,24))};static#e=this.\u0275pipe=$a({name:"date",type:e,pure:!0,standalone:!0})}return e})(),DU=(()=>{class e{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=MU}transform(t,n=MU){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ??=this.differs.find(t).create();const r=this.differ.diff(t),s=n!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(o=>{this.keyValues.push(function mgt(e,i){return{key:e,value:i}}(o.key,o.currentValue))})),(r||s)&&(this.keyValues.sort(n),this.compareFn=n),this.keyValues}static#t=this.\u0275fac=function(n){return new(n||e)(mt(q_,16))};static#e=this.\u0275pipe=$a({name:"keyvalue",type:e,pure:!1,standalone:!0})}return e})();function MU(e,i){const t=e.key,n=i.key;if(t===n)return 0;if(void 0===t)return 1;if(void 0===n)return-1;if(null===t)return 1;if(null===n)return-1;if("string"==typeof t&&"string"==typeof n)return t<n?-1:1;if("number"==typeof t&&"number"==typeof n)return t-n;if("boolean"==typeof t&&"boolean"==typeof n)return t<n?-1:1;const r=String(t),s=String(n);return r==s?0:r<s?-1:1}let IU=(()=>{class e{constructor(t){this._locale=t}transform(t,n,r){if(!function CI(e){return!(null==e||""===e||e!=e)}(t))return null;r||=this._locale;try{return function Hpt(e,i,t){return function mI(e,i,t,n,r,s,o=!1){let l="",b=!1;if(isFinite(e)){let C=function Xpt(e){let n,r,s,o,l,i=Math.abs(e)+"",t=0;for((r=i.indexOf("."))>-1&&(i=i.replace(".","")),(s=i.search(/e/i))>0?(r<0&&(r=s),r+=+i.slice(s+1),i=i.substring(0,s)):r<0&&(r=i.length),s=0;"0"===i.charAt(s);s++);if(s===(l=i.length))n=[0],r=1;else{for(l--;"0"===i.charAt(l);)l--;for(r-=s,n=[],o=0;s<=l;s++,o++)n[o]=Number(i.charAt(s))}return r>22&&(n=n.splice(0,21),t=r-1,r=1),{digits:n,exponent:t,integerLen:r}}(e);o&&(C=function Wpt(e){if(0===e.digits[0])return e;const i=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===i?e.digits.push(0,0):1===i&&e.digits.push(0),e.integerLen+=2),e}(C));let D=i.minInt,R=i.minFrac,O=i.maxFrac;if(s){const rt=s.match(Npt);if(null===rt)throw new Error(`${s} is not a valid digit info`);const st=rt[1],vt=rt[3],_t=rt[5];null!=st&&(D=gI(st)),null!=vt&&(R=gI(vt)),null!=_t?O=gI(_t):null!=vt&&R>O&&(O=R)}!function jpt(e,i,t){if(i>t)throw new Error(`The minimum number of digits after fraction (${i}) is higher than the maximum (${t}).`);let n=e.digits,r=n.length-e.integerLen;const s=Math.min(Math.max(i,r),t);let o=s+e.integerLen,l=n[o];if(o>0){n.splice(Math.max(e.integerLen,o));for(let R=o;R<n.length;R++)n[R]=0}else{r=Math.max(0,r),e.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let R=1;R<o;R++)n[R]=0}if(l>=5)if(o-1<0){for(let R=0;R>o;R--)n.unshift(0),e.integerLen++;n.unshift(1),e.integerLen++}else n[o-1]++;for(;r<Math.max(0,s);r++)n.push(0);let b=0!==s;const C=i+e.integerLen,D=n.reduceRight(function(R,O,L,U){return U[L]=(O+=R)<10?O:O-10,b&&(0===U[L]&&L>=C?U.pop():b=!1),O>=10?1:0},0);D&&(n.unshift(D),e.integerLen++)}(C,R,O);let L=C.digits,U=C.integerLen;const X=C.exponent;let W=[];for(b=L.every(rt=>!rt);U<D;U++)L.unshift(0);for(;U<0;U++)L.unshift(0);U>0?W=L.splice(U,L.length):(W=L,L=[0]);const Z=[];for(L.length>=i.lgSize&&Z.unshift(L.splice(-i.lgSize,L.length).join(""));L.length>i.gSize;)Z.unshift(L.splice(-i.gSize,L.length).join(""));L.length&&Z.unshift(L.join("")),l=Z.join(Gl(t,n)),W.length&&(l+=Gl(t,r)+W.join("")),X&&(l+=Gl(t,js.Exponential)+"+"+X)}else l=Gl(t,js.Infinity);return l=e<0&&!b?i.negPre+l+i.negSuf:i.posPre+l+i.posSuf,l}(e,function pI(e,i="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=e.split(";"),r=n[0],s=n[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],l=o[0],b=o[1]||"";t.posPre=l.substring(0,l.indexOf("#"));for(let D=0;D<b.length;D++){const R=b.charAt(D);"0"===R?t.minFrac=t.maxFrac=D+1:"#"===R?t.maxFrac=D+1:t.posSuf+=R}const C=l.split(",");if(t.gSize=C[1]?C[1].length:0,t.lgSize=C[2]||C[1]?(C[2]||C[1]).length:0,s){const D=r.length-t.posPre.length-t.posSuf.length,R=s.indexOf("#");t.negPre=s.substring(0,R).replace(/'/g,""),t.negSuf=s.slice(R+D).replace(/'/g,"")}else t.negPre=i+t.posPre,t.negSuf=t.posSuf;return t}(function cI(e,i){return ko(e)[Br.NumberFormats][i]}(i,sT.Decimal),Gl(i,js.MinusSign)),i,js.Group,js.Decimal,t)}(function SI(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(t),r,n)}catch(s){throw Tc()}}static#t=this.\u0275fac=function(n){return new(n||e)(mt(qc,16))};static#e=this.\u0275pipe=$a({name:"number",type:e,pure:!0,standalone:!0})}return e})();let kU=(()=>{class e{transform(t,n,r){if(null==t)return null;if(!this.supports(t))throw Tc();return t.slice(n,r)}supports(t){return"string"==typeof t||Array.isArray(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275pipe=$a({name:"slice",type:e,pure:!1,standalone:!0})}return e})(),td=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})();const RU="browser";function PU(e){return e===RU}function FU(e){return"server"===e}let bgt=(()=>{class e{static#t=this.\u0275prov=Ae({token:e,providedIn:"root",factory:()=>PU(me(Hd))?new wgt(me(Ni),window):new Tgt})}return e})();class wgt{constructor(i,t){this.document=i,this.window=t,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(i){this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){const t=function _gt(e,i){const t=e.getElementById(i)||e.getElementsByName(i)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(i)||s.querySelector(`[name="${i}"]`);if(o)return o}r=n.nextNode()}}return null}(this.document,i);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(i){this.window.history.scrollRestoration=i}scrollToElement(i){const t=i.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}}class Tgt{setOffset(i){}getScrollPosition(){return[0,0]}scrollToPosition(i){}scrollToAnchor(i){}setHistoryScrollRestoration(i){}}class OU{}class Zgt extends rpt{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class AI extends Zgt{static makeCurrent(){!function npt(e){lU??=e}(new AI)}onAndCancel(i,t,n){return i.addEventListener(t,n),()=>{i.removeEventListener(t,n)}}dispatchEvent(i,t){i.dispatchEvent(t)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,t){return(t=t||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,t){return"window"===t?window:"document"===t?i:"body"===t?i.body:null}getBaseHref(i){const t=function Jgt(){return Zx=Zx||document.querySelector("base"),Zx?Zx.getAttribute("href"):null}();return null==t?null:function qgt(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){Zx=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return wU(document.cookie,i)}}let Zx=null,evt=(()=>{class e{build(){return new XMLHttpRequest}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}return e})();const DI=new ee("");let WU=(()=>{class e{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,n,r){return this._findPluginFor(n).addEventListener(t,n,r)}getZone(){return this._zone}_findPluginFor(t){let n=this._eventNameToPlugin.get(t);if(n)return n;if(n=this._plugins.find(s=>s.supports(t)),!n)throw new ue(5101,!1);return this._eventNameToPlugin.set(t,n),n}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(DI),Jt(ii))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}return e})();class XU{constructor(i){this._doc=i}}const MI="ng-app-id";let jU=(()=>{class e{constructor(t,n,r,s={}){this.doc=t,this.appId=n,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=FU(s),this.resetHostNodes()}addStyles(t){for(const n of t)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(t){for(const n of t)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(n=>n.remove()),t.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const n of this.getAllStyles())this.addStyleToHost(t,n)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const n of this.hostNodes)this.addStyleToHost(n,t)}onStyleRemoved(t){const n=this.styleRef;n.get(t)?.elements?.forEach(r=>r.remove()),n.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${MI}="${this.appId}"]`);if(t?.length){const n=new Map;return t.forEach(r=>{null!=r.textContent&&n.set(r.textContent,r)}),n}return null}changeUsageCount(t,n){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=n,s.usage}return r.set(t,{usage:n,elements:[]}),n}getStyleElement(t,n){const r=this.styleNodesInDOM,s=r?.get(n);if(s?.parentNode===t)return r.delete(n),s.removeAttribute(MI),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=n,this.platformIsServer&&o.setAttribute(MI,this.appId),t.appendChild(o),o}}addStyleToHost(t,n){const r=this.getStyleElement(t,n),s=this.styleRef,o=s.get(n)?.elements;o?o.push(r):s.set(n,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Ni),Jt(ix),Jt(iD,8),Jt(Hd))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}return e})();const II={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kI=/%COMP%/g,svt=new ee("",{providedIn:"root",factory:()=>!0});function $U(e,i){return i.map(t=>t.replace(kI,e))}let RI=(()=>{class e{constructor(t,n,r,s,o,l,b,C=null){this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=l,this.ngZone=b,this.nonce=C,this.rendererByCompId=new Map,this.platformIsServer=FU(l),this.defaultRenderer=new PI(t,o,b,this.platformIsServer)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===hc.ShadowDom&&(n={...n,encapsulation:hc.Emulated});const r=this.getOrCreateRenderer(t,n);return r instanceof KU?r.applyToHost(t):r instanceof FI&&r.applyStyles(),r}getOrCreateRenderer(t,n){const r=this.rendererByCompId;let s=r.get(n.id);if(!s){const o=this.doc,l=this.ngZone,b=this.eventManager,C=this.sharedStylesHost,D=this.removeStylesOnCompDestroy,R=this.platformIsServer;switch(n.encapsulation){case hc.Emulated:s=new KU(b,C,n,this.appId,D,o,l,R);break;case hc.ShadowDom:return new cvt(b,C,t,n,o,l,this.nonce,R);default:s=new FI(b,C,n,D,o,l,R)}r.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(WU),Jt(jU),Jt(ix),Jt(svt),Jt(Ni),Jt(Hd),Jt(ii),Jt(iD))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}return e})();class PI{constructor(i,t,n,r){this.eventManager=i,this.doc=t,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(i,t){return t?this.doc.createElementNS(II[t]||t,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,t){(QU(i)?i.content:i).appendChild(t)}insertBefore(i,t,n){i&&(QU(i)?i.content:i).insertBefore(t,n)}removeChild(i,t){i&&i.removeChild(t)}selectRootElement(i,t){let n="string"==typeof i?this.doc.querySelector(i):i;if(!n)throw new ue(-5104,!1);return t||(n.textContent=""),n}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,t,n,r){if(r){t=r+":"+t;const s=II[r];s?i.setAttributeNS(s,t,n):i.setAttribute(t,n)}else i.setAttribute(t,n)}removeAttribute(i,t,n){if(n){const r=II[n];r?i.removeAttributeNS(r,t):i.removeAttribute(`${n}:${t}`)}else i.removeAttribute(t)}addClass(i,t){i.classList.add(t)}removeClass(i,t){i.classList.remove(t)}setStyle(i,t,n,r){r&(lh.DashCase|lh.Important)?i.style.setProperty(t,n,r&lh.Important?"important":""):i.style[t]=n}removeStyle(i,t,n){n&lh.DashCase?i.style.removeProperty(t):i.style[t]=""}setProperty(i,t,n){null!=i&&(i[t]=n)}setValue(i,t){i.nodeValue=t}listen(i,t,n){if("string"==typeof i&&!(i=vh().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${t}`);return this.eventManager.addEventListener(i,t,this.decoratePreventDefault(n))}decoratePreventDefault(i){return t=>{if("__ngUnwrap__"===t)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(t)):i(t))&&t.preventDefault()}}}function QU(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class cvt extends PI{constructor(i,t,n,r,s,o,l,b){super(i,s,o,b),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=$U(r.id,r.styles);for(const D of C){const R=document.createElement("style");l&&R.setAttribute("nonce",l),R.textContent=D,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,t){return super.appendChild(this.nodeOrShadowRoot(i),t)}insertBefore(i,t,n){return super.insertBefore(this.nodeOrShadowRoot(i),t,n)}removeChild(i,t){return super.removeChild(this.nodeOrShadowRoot(i),t)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class FI extends PI{constructor(i,t,n,r,s,o,l,b){super(i,s,o,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=b?$U(b,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class KU extends FI{constructor(i,t,n,r,s,o,l,b){const C=r+"-"+n.id;super(i,t,n,s,o,l,b,C),this.contentAttr=function avt(e){return"_ngcontent-%COMP%".replace(kI,e)}(C),this.hostAttr=function ovt(e){return"_nghost-%COMP%".replace(kI,e)}(C)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,t){const n=super.createElement(i,t);return super.setAttribute(n,this.contentAttr,""),n}}let dvt=(()=>{class e extends XU{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,r){return t.addEventListener(n,r,!1),()=>this.removeEventListener(t,n,r)}removeEventListener(t,n,r){return t.removeEventListener(n,r)}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Ni))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}return e})();const ZU=["alt","control","meta","shift"],uvt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hvt={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let fvt=(()=>{class e extends XU{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const s=e.parseEventName(n),o=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vh().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(n.pop());let o="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),o="code."),ZU.forEach(C=>{const D=n.indexOf(C);D>-1&&(n.splice(D,1),o+=C+".")}),o+=s,0!=n.length||0===s.length)return null;const b={};return b.domEventName=r,b.fullKey=o,b}static matchEventFullKeyCode(t,n){let r=uvt[t.key]||t.key,s="";return n.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ZU.forEach(o=>{o!==r&&(0,hvt[o])(t)&&(s+=o+".")}),s+=r,s===n)}static eventCallback(t,n,r){return s=>{e.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>n(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Ni))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}return e})();const vvt=E9(wmt,"browser",[{provide:Hd,useValue:RU},{provide:OB,useValue:function mvt(){AI.makeCurrent()},multi:!0},{provide:Ni,useFactory:function gvt(){return function xat(e){eD=e}(document),document},deps:[]}]),xvt=new ee(""),tz=[{provide:$_,useClass:class tvt{addToWindow(i){hr.getAngularTestability=(n,r=!0)=>{const s=i.findTestabilityInTree(n,r);if(null==s)throw new ue(5103,!1);return s},hr.getAllAngularTestabilities=()=>i.getAllTestabilities(),hr.getAllAngularRootElements=()=>i.getAllRootElements(),hr.frameworkStabilizers||(hr.frameworkStabilizers=[]),hr.frameworkStabilizers.push(n=>{const r=hr.getAllAngularTestabilities();let s=r.length;const o=function(){s--,0==s&&n()};r.forEach(l=>{l.whenStable(o)})})}findTestabilityInTree(i,t,n){return null==t?null:i.getTestability(t)??(n?vh().isShadowRoot(t)?this.findTestabilityInTree(i,t.host,!0):this.findTestabilityInTree(i,t.parentElement,!0):null)}},deps:[]},{provide:p9,useClass:jM,deps:[ii,YM,$_]},{provide:jM,useClass:jM,deps:[ii,YM,$_]}],ez=[{provide:x2,useValue:"root"},{provide:pl,useFactory:function pvt(){return new pl},deps:[]},{provide:DI,useClass:dvt,multi:!0,deps:[Ni,ii,Hd]},{provide:DI,useClass:fvt,multi:!0,deps:[Ni]},RI,jU,WU,{provide:QD,useExisting:RI},{provide:OU,useClass:evt,deps:[]},[]];let iz=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:ix,useValue:t.appId}]}}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(xvt,12))};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[...ez,...tz],imports:[td,_mt]})}return e})(),yvt=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Ni))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),OI=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:function(n){let r=null;return r=n?new(n||e):Jt(Tvt),r},providedIn:"root"})}return e})(),Tvt=(()=>{class e extends OI{constructor(t){super(),this._doc=t}sanitize(t,n){if(null==n)return null;switch(t){case Na.NONE:return n;case Na.HTML:return jc(n,"HTML")?gl(n):t5(this._doc,String(n)).toString();case Na.STYLE:return jc(n,"Style")?gl(n):n;case Na.SCRIPT:if(jc(n,"Script"))return gl(n);throw new ue(5200,!1);case Na.URL:return jc(n,"URL")?gl(n):Jw(String(n));case Na.RESOURCE_URL:if(jc(n,"ResourceURL"))return gl(n);throw new ue(5201,!1);default:throw new ue(5202,!1)}}bypassSecurityTrustHtml(t){return function Vat(e){return new Pat(e)}(t)}bypassSecurityTrustStyle(t){return function Uat(e){return new Fat(e)}(t)}bypassSecurityTrustScript(t){return function zat(e){return new Oat(e)}(t)}bypassSecurityTrustUrl(t){return function Gat(e){return new Lat(e)}(t)}bypassSecurityTrustResourceUrl(t){return function Hat(e){return new Nat(e)}(t)}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Ni))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function LI(e){return!!e&&(e instanceof ur||ne(e.lift)&&ne(e.subscribe))}function xh(e){return this instanceof xh?(this.v=e,this):new xh(e)}function cz(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=function UI(e){var i="function"==typeof Symbol&&Symbol.iterator,t=i&&e[i],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=e[s]&&function(o){return new Promise(function(l,b){!function r(s,o,l,b){Promise.resolve(b).then(function(C){s({value:C,done:l})},o)}(l,b,(o=e[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const zI=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function dz(e){return ne(e?.then)}function uz(e){return ne(e[$A])}function hz(e){return Symbol.asyncIterator&&ne(e?.[Symbol.asyncIterator])}function fz(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const mz=function Xvt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function pz(e){return ne(e?.[mz])}function gz(e){return function lz(e,i,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=t.apply(e,i||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(O){n[O]&&(r[O]=function(L){return new Promise(function(U,X){s.push([O,L,U,X])>1||l(O,L)})})}function l(O,L){try{!function b(O){O.value instanceof xh?Promise.resolve(O.value.v).then(C,D):R(s[0][2],O)}(n[O](L))}catch(U){R(s[0][3],U)}}function C(O){l("next",O)}function D(O){l("throw",O)}function R(O,L){O(L),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:n,done:r}=yield xh(t.read());if(r)return yield xh(void 0);yield yield xh(n)}}finally{t.releaseLock()}})}function vz(e){return ne(e?.getReader)}function eo(e){if(e instanceof ur)return e;if(null!=e){if(uz(e))return function jvt(e){return new ur(i=>{const t=e[$A]();if(ne(t.subscribe))return t.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(zI(e))return function Yvt(e){return new ur(i=>{for(let t=0;t<e.length&&!i.closed;t++)i.next(e[t]);i.complete()})}(e);if(dz(e))return function $vt(e){return new ur(i=>{e.then(t=>{i.closed||(i.next(t),i.complete())},t=>i.error(t)).then(null,Cn)})}(e);if(hz(e))return xz(e);if(pz(e))return function Qvt(e){return new ur(i=>{for(const t of e)if(i.next(t),i.closed)return;i.complete()})}(e);if(vz(e))return function Kvt(e){return xz(gz(e))}(e)}throw fz(e)}function xz(e){return new ur(i=>{(function Zvt(e,i){var t,n,r,s;return function az(e,i,t,n){return new(t||(t=Promise))(function(s,o){function l(D){try{C(n.next(D))}catch(R){o(R)}}function b(D){try{C(n.throw(D))}catch(R){o(R)}}function C(D){D.done?s(D.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(D.value).then(l,b)}C((n=n.apply(e,i||[])).next())})}(this,void 0,void 0,function*(){try{for(t=cz(e);!(n=yield t.next()).done;)if(i.next(n.value),i.closed)return}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}i.complete()})})(e,i).catch(t=>i.error(t))})}function Jd(e,i,t,n=0,r=!1){const s=i.schedule(function(){t(),r?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(s),!r)return s}function yz(e,i=0){return ds((t,n)=>{t.subscribe(Xr(n,r=>Jd(n,e,()=>n.next(r),i),()=>Jd(n,e,()=>n.complete(),i),r=>Jd(n,e,()=>n.error(r),i)))})}function bz(e,i=0){return ds((t,n)=>{n.add(e.schedule(()=>t.subscribe(n),i))})}function wz(e,i){if(!e)throw new Error("Iterable cannot be null");return new ur(t=>{Jd(t,i,()=>{const n=e[Symbol.asyncIterator]();Jd(t,i,()=>{n.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function ks(e,i){return i?function n0t(e,i){if(null!=e){if(uz(e))return function Jvt(e,i){return eo(e).pipe(bz(i),yz(i))}(e,i);if(zI(e))return function t0t(e,i){return new ur(t=>{let n=0;return i.schedule(function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())})})}(e,i);if(dz(e))return function qvt(e,i){return eo(e).pipe(bz(i),yz(i))}(e,i);if(hz(e))return wz(e,i);if(pz(e))return function e0t(e,i){return new ur(t=>{let n;return Jd(t,i,()=>{n=e[mz](),Jd(t,i,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>ne(n?.return)&&n.return()})}(e,i);if(vz(e))return function i0t(e,i){return wz(gz(e),i)}(e,i)}throw fz(e)}(e,i):eo(e)}function _z(e){return e&&ne(e.schedule)}function GI(e){return e[e.length-1]}function Tz(e){return ne(GI(e))?e.pop():void 0}function qx(e){return _z(GI(e))?e.pop():void 0}function vi(...e){return ks(e,qx(e))}const{isArray:s0t}=Array,{getPrototypeOf:a0t,prototype:o0t,keys:l0t}=Object;function Cz(e){if(1===e.length){const i=e[0];if(s0t(i))return{args:i,keys:null};if(function c0t(e){return e&&"object"==typeof e&&a0t(e)===o0t}(i)){const t=l0t(i);return{args:t.map(n=>i[n]),keys:t}}}return{args:e,keys:null}}const{isArray:d0t}=Array;function HI(e){return Di(i=>function u0t(e,i){return d0t(i)?e(...i):e(i)}(e,i))}function Sz(e,i){return e.reduce((t,n,r)=>(t[n]=i[r],t),{})}function qd(...e){const i=qx(e),t=Tz(e),{args:n,keys:r}=Cz(e);if(0===n.length)return ks([],i);const s=new ur(function h0t(e,i,t=th){return n=>{Ez(i,()=>{const{length:r}=e,s=new Array(r);let o=r,l=r;for(let b=0;b<r;b++)Ez(i,()=>{const C=ks(e[b],i);let D=!1;C.subscribe(Xr(n,R=>{s[b]=R,D||(D=!0,l--),l||n.next(t(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}(n,i,r?o=>Sz(r,o):th));return t?s.pipe(HI(t)):s}function Ez(e,i,t){e?Jd(t,e,i):i()}const Eg=le(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Ta(e,i,t=1/0){return ne(i)?Ta((n,r)=>Di((s,o)=>i(n,s,r,o))(eo(e(n,r))),t):("number"==typeof i&&(t=i),ds((n,r)=>function f0t(e,i,t,n,r,s,o,l){const b=[];let C=0,D=0,R=!1;const O=()=>{R&&!b.length&&!C&&i.complete()},L=X=>C<n?U(X):b.push(X),U=X=>{s&&i.next(X),C++;let W=!1;eo(t(X,D++)).subscribe(Xr(i,Z=>{r?.(Z),s?L(Z):i.next(Z)},()=>{W=!0},void 0,()=>{if(W)try{for(C--;b.length&&C<n;){const Z=b.shift();o?Jd(i,o,()=>U(Z)):U(Z)}O()}catch(Z){i.error(Z)}}))};return e.subscribe(Xr(i,L,()=>{R=!0,O()})),()=>{l?.()}}(n,r,e,t)))}function Ag(e=1/0){return Ta(th,e)}function ty(...e){return function m0t(){return Ag(1)}()(ks(e,qx(e)))}function Dg(e){return new ur(i=>{eo(e()).subscribe(i)})}function Mg(e,i){const t=ne(e)?e:()=>e,n=r=>r.error(t());return new ur(i?r=>i.schedule(n,0,r):n)}const Jo=new ur(e=>e.complete());function WI(){return ds((e,i)=>{let t=null;e._refCount++;const n=Xr(i,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const r=e._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),i.unsubscribe()});e.subscribe(n),n.closed||(t=e.connect())})}class XI extends ur{constructor(i,t){super(),this.source=i,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,z4(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Ie;const t=this.getSubject();i.add(this.source.subscribe(Xr(t,void 0,()=>{this._teardown(),t.complete()},n=>{this._teardown(),t.error(n)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Ie.EMPTY)}return i}refCount(){return WI()(this)}}function Rs(e,i){return ds((t,n)=>{let r=null,s=0,o=!1;const l=()=>o&&!r&&n.complete();t.subscribe(Xr(n,b=>{r?.unsubscribe();let C=0;const D=s++;eo(e(b,D)).subscribe(r=Xr(n,R=>n.next(i?i(b,R,D,C++):R),()=>{r=null,l()}))},()=>{o=!0,l()}))})}function er(e){return e<=0?()=>Jo:ds((i,t)=>{let n=0;i.subscribe(Xr(t,r=>{++n<=e&&(t.next(r),e<=n&&t.complete())}))})}function Ca(...e){const i=qx(e);return ds((t,n)=>{(i?ty(e,t,i):ty(e,t)).subscribe(n)})}function In(e,i){return ds((t,n)=>{let r=0;t.subscribe(Xr(n,s=>e.call(i,s,r++)&&n.next(s)))})}function bT(e){return ds((i,t)=>{let n=!1;i.subscribe(Xr(t,r=>{n=!0,t.next(r)},()=>{n||t.next(e),t.complete()}))})}function Az(e=g0t){return ds((i,t)=>{let n=!1;i.subscribe(Xr(t,r=>{n=!0,t.next(r)},()=>n?t.complete():t.error(e())))})}function g0t(){return new Eg}function Wl(e,i){const t=arguments.length>=2;return n=>n.pipe(e?In((r,s)=>e(r,s,n)):th,er(1),t?bT(i):Az(()=>new Eg))}function Ig(e,i){return ne(i)?Ta(e,i,1):Ta(e,1)}function fs(e,i,t){const n=ne(e)||i||t?{next:e,error:i,complete:t}:e;return n?ds((r,s)=>{var o;null===(o=n.subscribe)||void 0===o||o.call(n);let l=!0;r.subscribe(Xr(s,b=>{var C;null===(C=n.next)||void 0===C||C.call(n,b),s.next(b)},()=>{var b;l=!1,null===(b=n.complete)||void 0===b||b.call(n),s.complete()},b=>{var C;l=!1,null===(C=n.error)||void 0===C||C.call(n,b),s.error(b)},()=>{var b,C;l&&(null===(b=n.unsubscribe)||void 0===b||b.call(n)),null===(C=n.finalize)||void 0===C||C.call(n)}))}):th}function la(e){return ds((i,t)=>{let s,n=null,r=!1;n=i.subscribe(Xr(t,void 0,void 0,o=>{s=eo(e(o,la(e)(i))),n?(n.unsubscribe(),n=null,s.subscribe(t)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(t))})}function jI(e){return e<=0?()=>Jo:ds((i,t)=>{let n=[];i.subscribe(Xr(t,r=>{n.push(r),e<n.length&&n.shift()},()=>{for(const r of n)t.next(r);t.complete()},void 0,()=>{n=null}))})}function wT(e){return Di(()=>e)}function kg(e){return ds((i,t)=>{try{i.subscribe(t)}finally{t.add(e)}})}function Ui(e){return ds((i,t)=>{eo(e).subscribe(Xr(t,()=>t.complete(),sr)),!t.closed&&i.subscribe(t)})}const yn="primary",ey=Symbol("RouteTitle");class b0t{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t[0]:t}return null}getAll(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Rg(e){return new b0t(e)}function w0t(e,i,t){const n=t.path.split("/");if(n.length>e.length||"full"===t.pathMatch&&(i.hasChildren()||n.length<e.length))return null;const r={};for(let s=0;s<n.length;s++){const o=n[s],l=e[s];if(o.startsWith(":"))r[o.substring(1)]=l;else if(o!==l.path)return null}return{consumed:e.slice(0,n.length),posParams:r}}function ed(e,i){const t=e?YI(e):void 0,n=i?YI(i):void 0;if(!t||!n||t.length!=n.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!Dz(e[r],i[r]))return!1;return!0}function YI(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Dz(e,i){if(Array.isArray(e)&&Array.isArray(i)){if(e.length!==i.length)return!1;const t=[...e].sort(),n=[...i].sort();return t.every((r,s)=>n[s]===r)}return e===i}function Mz(e){return e.length>0?e[e.length-1]:null}function yh(e){return LI(e)?e:Xx(e)?ks(Promise.resolve(e)):vi(e)}const T0t={exact:function Rz(e,i,t){if(!Yf(e.segments,i.segments)||!_T(e.segments,i.segments,t)||e.numberOfChildren!==i.numberOfChildren)return!1;for(const n in i.children)if(!e.children[n]||!Rz(e.children[n],i.children[n],t))return!1;return!0},subset:Pz},Iz={exact:function C0t(e,i){return ed(e,i)},subset:function S0t(e,i){return Object.keys(i).length<=Object.keys(e).length&&Object.keys(i).every(t=>Dz(e[t],i[t]))},ignored:()=>!0};function kz(e,i,t){return T0t[t.paths](e.root,i.root,t.matrixParams)&&Iz[t.queryParams](e.queryParams,i.queryParams)&&!("exact"===t.fragment&&e.fragment!==i.fragment)}function Pz(e,i,t){return Fz(e,i,i.segments,t)}function Fz(e,i,t,n){if(e.segments.length>t.length){const r=e.segments.slice(0,t.length);return!(!Yf(r,t)||i.hasChildren()||!_T(r,t,n))}if(e.segments.length===t.length){if(!Yf(e.segments,t)||!_T(e.segments,t,n))return!1;for(const r in i.children)if(!e.children[r]||!Pz(e.children[r],i.children[r],n))return!1;return!0}{const r=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(Yf(e.segments,r)&&_T(e.segments,r,n)&&e.children[yn])&&Fz(e.children[yn],i,s,n)}}function _T(e,i,t){return i.every((n,r)=>Iz[t](e[r].parameters,n.parameters))}class Pg{constructor(i=new Er([],{}),t={},n=null){this.root=i,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Rg(this.queryParams),this._queryParamMap}toString(){return D0t.serialize(this)}}class Er{constructor(i,t){this.segments=i,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return TT(this)}}class iy{constructor(i,t){this.path=i,this.parameters=t}get parameterMap(){return this._parameterMap??=Rg(this.parameters),this._parameterMap}toString(){return Nz(this)}}function Yf(e,i){return e.length===i.length&&e.every((t,n)=>t.path===i[n].path)}let Fg=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:()=>new $I,providedIn:"root"})}return e})();class $I{parse(i){const t=new V0t(i);return new Pg(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(i){const t=`/${ny(i.root,!0)}`,n=function k0t(e){const i=Object.entries(e).map(([t,n])=>Array.isArray(n)?n.map(r=>`${CT(t)}=${CT(r)}`).join("&"):`${CT(t)}=${CT(n)}`).filter(t=>t);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${t}${n}${"string"==typeof i.fragment?`#${function M0t(e){return encodeURI(e)}(i.fragment)}`:""}`}}const D0t=new $I;function TT(e){return e.segments.map(i=>Nz(i)).join("/")}function ny(e,i){if(!e.hasChildren())return TT(e);if(i){const t=e.children[yn]?ny(e.children[yn],!1):"",n=[];return Object.entries(e.children).forEach(([r,s])=>{r!==yn&&n.push(`${r}:${ny(s,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function A0t(e,i){let t=[];return Object.entries(e.children).forEach(([n,r])=>{n===yn&&(t=t.concat(i(r,n)))}),Object.entries(e.children).forEach(([n,r])=>{n!==yn&&(t=t.concat(i(r,n)))}),t}(e,(n,r)=>r===yn?[ny(e.children[yn],!1)]:[`${r}:${ny(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[yn]?`${TT(e)}/${t[0]}`:`${TT(e)}/(${t.join("//")})`}}function Oz(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function CT(e){return Oz(e).replace(/%3B/gi,";")}function QI(e){return Oz(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ST(e){return decodeURIComponent(e)}function Lz(e){return ST(e.replace(/\+/g,"%20"))}function Nz(e){return`${QI(e.path)}${function I0t(e){return Object.entries(e).map(([i,t])=>`;${QI(i)}=${QI(t)}`).join("")}(e.parameters)}`}const R0t=/^[^\/()?;#]+/;function KI(e){const i=e.match(R0t);return i?i[0]:""}const P0t=/^[^\/()?;=#]+/,O0t=/^[^=?&#]+/,N0t=/^[^&#]+/;class V0t{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Er([],{}):new Er([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(i.length>0||Object.keys(t).length>0)&&(n[yn]=new Er(i,t)),n}parseSegment(){const i=KI(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new ue(4009,!1);return this.capture(i),new iy(ST(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const t=function F0t(e){const i=e.match(P0t);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const r=KI(this.remaining);r&&(n=r,this.capture(n))}i[ST(t)]=ST(n)}parseQueryParam(i){const t=function L0t(e){const i=e.match(O0t);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const o=function B0t(e){const i=e.match(N0t);return i?i[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const r=Lz(t),s=Lz(n);if(i.hasOwnProperty(r)){let o=i[r];Array.isArray(o)||(o=[o],i[r]=o),o.push(s)}else i[r]=s}parseParens(i){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=KI(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new ue(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):i&&(s=yn);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[yn]:new Er([],o),this.consumeOptional("//")}return t}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new ue(4011,!1)}}function Bz(e){return e.segments.length>0?new Er([],{[yn]:e}):e}function Vz(e){const i={};for(const[n,r]of Object.entries(e.children)){const s=Vz(r);if(n===yn&&0===s.segments.length&&s.hasChildren())for(const[o,l]of Object.entries(s.children))i[o]=l;else(s.segments.length>0||s.hasChildren())&&(i[n]=s)}return function U0t(e){if(1===e.numberOfChildren&&e.children[yn]){const i=e.children[yn];return new Er(e.segments.concat(i.segments),i.children)}return e}(new Er(e.segments,i))}function Og(e){return e instanceof Pg}function Uz(e){let i;const r=Bz(function t(s){const o={};for(const b of s.children){const C=t(b);o[b.outlet]=C}const l=new Er(s.url,o);return s===e&&(i=l),l}(e.root));return i??r}function zz(e,i,t,n){let r=e;for(;r.parent;)r=r.parent;if(0===i.length)return ZI(r,r,r,t,n);const s=function G0t(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Hz(!0,0,e);let i=0,t=!1;const n=e.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return Object.entries(s.outlets).forEach(([b,C])=>{l[b]="string"==typeof C?C.split("/"):C}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((l,b)=>{0==b&&"."===l||(0==b&&""===l?t=!0:".."===l?i++:""!=l&&r.push(l))}),r):[...r,s]},[]);return new Hz(t,i,n)}(i);if(s.toRoot())return ZI(r,r,new Er([],{}),t,n);const o=function H0t(e,i,t){if(e.isAbsolute)return new AT(i,!0,0);if(!t)return new AT(i,!1,NaN);if(null===t.parent)return new AT(t,!0,0);const n=ET(e.commands[0])?0:1;return function W0t(e,i,t){let n=e,r=i,s=t;for(;s>r;){if(s-=r,n=n.parent,!n)throw new ue(4005,!1);r=n.segments.length}return new AT(n,!1,r-s)}(t,t.segments.length-1+n,e.numberOfDoubleDots)}(s,r,e),l=o.processChildren?sy(o.segmentGroup,o.index,s.commands):Wz(o.segmentGroup,o.index,s.commands);return ZI(r,o.segmentGroup,l,t,n)}function ET(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ry(e){return"object"==typeof e&&null!=e&&e.outlets}function ZI(e,i,t,n,r){let o,s={};n&&Object.entries(n).forEach(([b,C])=>{s[b]=Array.isArray(C)?C.map(D=>`${D}`):`${C}`}),o=e===i?t:Gz(e,i,t);const l=Bz(Vz(o));return new Pg(l,s,r)}function Gz(e,i,t){const n={};return Object.entries(e.children).forEach(([r,s])=>{n[r]=s===i?t:Gz(s,i,t)}),new Er(e.segments,n)}class Hz{constructor(i,t,n){if(this.isAbsolute=i,this.numberOfDoubleDots=t,this.commands=n,i&&n.length>0&&ET(n[0]))throw new ue(4003,!1);const r=n.find(ry);if(r&&r!==Mz(n))throw new ue(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class AT{constructor(i,t,n){this.segmentGroup=i,this.processChildren=t,this.index=n}}function Wz(e,i,t){if(e??=new Er([],{}),0===e.segments.length&&e.hasChildren())return sy(e,i,t);const n=function j0t(e,i,t){let n=0,r=i;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(n>=t.length)return s;const o=e.segments[r],l=t[n];if(ry(l))break;const b=`${l}`,C=n<t.length-1?t[n+1]:null;if(r>0&&void 0===b)break;if(b&&C&&"object"==typeof C&&void 0===C.outlets){if(!jz(b,C,o))return s;n+=2}else{if(!jz(b,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(e,i,t),r=t.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const s=new Er(e.segments.slice(0,n.pathIndex),{});return s.children[yn]=new Er(e.segments.slice(n.pathIndex),e.children),sy(s,0,r)}return n.match&&0===r.length?new Er(e.segments,{}):n.match&&!e.hasChildren()?JI(e,i,t):n.match?sy(e,0,r):JI(e,i,t)}function sy(e,i,t){if(0===t.length)return new Er(e.segments,{});{const n=function X0t(e){return ry(e[0])?e[0].outlets:{[yn]:e}}(t),r={};if(Object.keys(n).some(s=>s!==yn)&&e.children[yn]&&1===e.numberOfChildren&&0===e.children[yn].segments.length){const s=sy(e.children[yn],i,t);return new Er(e.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=Wz(e.children[s],i,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===n[s]&&(r[s]=o)}),new Er(e.segments,r)}}function JI(e,i,t){const n=e.segments.slice(0,i);let r=0;for(;r<t.length;){const s=t[r];if(ry(s)){const b=Y0t(s.outlets);return new Er(n,b)}if(0===r&&ET(t[0])){n.push(new iy(e.segments[i].path,Xz(t[0]))),r++;continue}const o=ry(s)?s.outlets[yn]:`${s}`,l=r<t.length-1?t[r+1]:null;o&&l&&ET(l)?(n.push(new iy(o,Xz(l))),r+=2):(n.push(new iy(o,{})),r++)}return new Er(n,{})}function Y0t(e){const i={};return Object.entries(e).forEach(([t,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(i[t]=JI(new Er([],{}),0,n))}),i}function Xz(e){const i={};return Object.entries(e).forEach(([t,n])=>i[t]=`${n}`),i}function jz(e,i,t){return e==t.path&&ed(i,t.parameters)}const ay="imperative";var Wn=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Wn||{});class id{constructor(i,t){this.id=i,this.url=t}}class DT extends id{constructor(i,t,n="imperative",r=null){super(i,t),this.type=Wn.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nd extends id{constructor(i,t,n){super(i,t),this.urlAfterRedirects=n,this.type=Wn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var wl=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(wl||{}),MT=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(MT||{});class Lg extends id{constructor(i,t,n,r){super(i,t),this.reason=n,this.code=r,this.type=Wn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ng extends id{constructor(i,t,n,r){super(i,t),this.reason=n,this.code=r,this.type=Wn.NavigationSkipped}}class IT extends id{constructor(i,t,n,r){super(i,t),this.error=n,this.target=r,this.type=Wn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yz extends id{constructor(i,t,n,r){super(i,t),this.urlAfterRedirects=n,this.state=r,this.type=Wn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $0t extends id{constructor(i,t,n,r){super(i,t),this.urlAfterRedirects=n,this.state=r,this.type=Wn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q0t extends id{constructor(i,t,n,r,s){super(i,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=Wn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class K0t extends id{constructor(i,t,n,r){super(i,t),this.urlAfterRedirects=n,this.state=r,this.type=Wn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z0t extends id{constructor(i,t,n,r){super(i,t),this.urlAfterRedirects=n,this.state=r,this.type=Wn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J0t{constructor(i){this.route=i,this.type=Wn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class q0t{constructor(i){this.route=i,this.type=Wn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class txt{constructor(i){this.snapshot=i,this.type=Wn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ext{constructor(i){this.snapshot=i,this.type=Wn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ixt{constructor(i){this.snapshot=i,this.type=Wn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nxt{constructor(i){this.snapshot=i,this.type=Wn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $z{constructor(i,t,n){this.routerEvent=i,this.position=t,this.anchor=n,this.type=Wn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qI{}class tk{constructor(i){this.url=i}}class rxt{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new oy,this.attachRef=null}}let oy=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const r=this.getOrCreateContext(t);r.outlet=n,this.contexts.set(t,r)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new rxt,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Qz{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const t=this.pathFromRoot(i);return t.length>1?t[t.length-2]:null}children(i){const t=ek(i,this._root);return t?t.children.map(n=>n.value):[]}firstChild(i){const t=ek(i,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(i){const t=ik(i,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==i)}pathFromRoot(i){return ik(i,this._root).map(t=>t.value)}}function ek(e,i){if(e===i.value)return i;for(const t of i.children){const n=ek(e,t);if(n)return n}return null}function ik(e,i){if(e===i.value)return[i];for(const t of i.children){const n=ik(e,t);if(n.length)return n.unshift(i),n}return[]}class Cc{constructor(i,t){this.value=i,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bg(e){const i={};return e&&e.children.forEach(t=>i[t.value.outlet]=t),i}class Kz extends Qz{constructor(i,t){super(i),this.snapshot=t,sk(this,i)}toString(){return this.snapshot.toString()}}function Zz(e){const i=function sxt(e){const s=new rk([],{},{},"",{},yn,e,null,{});return new Jz("",new Cc(s,[]))}(e),t=new Wr([new iy("",{})]),n=new Wr({}),r=new Wr({}),s=new Wr({}),o=new Wr(""),l=new Sc(t,n,s,o,r,yn,e,i.root);return l.snapshot=i.root,new Kz(new Cc(l,[]),i)}class Sc{constructor(i,t,n,r,s,o,l,b){this.urlSubject=i,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=l,this._futureSnapshot=b,this.title=this.dataSubject?.pipe(Di(C=>C[ey]))??vi(void 0),this.url=i,this.params=t,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Di(i=>Rg(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Di(i=>Rg(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nk(e,i,t="emptyOnly"){let n;const{routeConfig:r}=e;return n=null===i||"always"!==t&&""!==r?.path&&(i.component||i.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...i.params,...e.params},data:{...i.data,...e.data},resolve:{...e.data,...i.data,...r?.data,...e._resolvedData}},r&&tG(r)&&(n.resolve[ey]=r.title),n}class rk{get title(){return this.data?.[ey]}constructor(i,t,n,r,s,o,l,b,C){this.url=i,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=l,this.routeConfig=b,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rg(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rg(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jz extends Qz{constructor(i,t){super(t),this.url=i,sk(this,t)}toString(){return qz(this._root)}}function sk(e,i){i.value._routerState=e,i.children.forEach(t=>sk(e,t))}function qz(e){const i=e.children.length>0?` { ${e.children.map(qz).join(", ")} } `:"";return`${e.value}${i}`}function ak(e){if(e.snapshot){const i=e.snapshot,t=e._futureSnapshot;e.snapshot=t,ed(i.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),i.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),ed(i.params,t.params)||e.paramsSubject.next(t.params),function _0t(e,i){if(e.length!==i.length)return!1;for(let t=0;t<e.length;++t)if(!ed(e[t],i[t]))return!1;return!0}(i.url,t.url)||e.urlSubject.next(t.url),ed(i.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ok(e,i){const t=ed(e.params,i.params)&&function E0t(e,i){return Yf(e,i)&&e.every((t,n)=>ed(t.parameters,i[n].parameters))}(e.url,i.url);return t&&!(!e.parent!=!i.parent)&&(!e.parent||ok(e.parent,i.parent))}function tG(e){return"string"==typeof e.title||null===e.title}let lk=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=yn,this.activateEvents=new De,this.deactivateEvents=new De,this.attachEvents=new De,this.detachEvents=new De,this.parentContexts=me(oy),this.location=me(Ir),this.changeDetector=me(Mn),this.environmentInjector=me(jo),this.inputBinder=me(kT,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:n,previousValue:r}=t.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ue(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ue(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ue(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new ue(4013,!1);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,b=new axt(t,l,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:b,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[tr]})}return e})();class axt{constructor(i,t,n){this.route=i,this.childContexts=t,this.parent=n,this.__ngOutletInjector=!0}get(i,t){return i===Sc?this.route:i===oy?this.childContexts:this.parent.get(i,t)}}const kT=new ee("");let eG=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:n}=t,r=qd([n.queryParams,n.params,n.data]).pipe(Rs(([s,o,l],b)=>(l={...s,...o,...l},0===b?vi(l):Promise.resolve(l)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(t);const o=function ipt(e){const i=En(e);if(!i)return null;const t=new Ex(i);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}(n.component);if(o)for(const{templateName:l}of o.inputs)t.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}return e})();function ly(e,i,t){if(t&&e.shouldReuseRoute(i.value,t.value.snapshot)){const n=t.value;n._futureSnapshot=i.value;const r=function lxt(e,i,t){return i.children.map(n=>{for(const r of t.children)if(e.shouldReuseRoute(n.value,r.value.snapshot))return ly(e,n,r);return ly(e,n)})}(e,i,t);return new Cc(n,r)}{if(e.shouldAttach(i.value)){const s=e.retrieve(i.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=i.value,o.children=i.children.map(l=>ly(e,l)),o}}const n=function cxt(e){return new Sc(new Wr(e.url),new Wr(e.params),new Wr(e.queryParams),new Wr(e.fragment),new Wr(e.data),e.outlet,e.component,e)}(i.value),r=i.children.map(s=>ly(e,s));return new Cc(n,r)}}const iG="ngNavigationCancelingError";function nG(e,i){const{redirectTo:t,navigationBehaviorOptions:n}=Og(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,r=rG(!1,wl.Redirect);return r.url=t,r.navigationBehaviorOptions=n,r}function rG(e,i){const t=new Error(`NavigationCancelingError: ${e||""}`);return t[iG]=!0,t.cancellationCode=i,t}function sG(e){return!!e&&e[iG]}let aG=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=$e({type:e,selectors:[["ng-component"]],standalone:!0,features:[Vi],decls:1,vars:0,template:function(n,r){1&n&&ye(0,"router-outlet")},dependencies:[lk],encapsulation:2})}return e})();function ck(e){const i=e.children&&e.children.map(ck),t=i?{...e,children:i}:{...e};return!t.component&&!t.loadComponent&&(i||t.loadChildren)&&t.outlet&&t.outlet!==yn&&(t.component=aG),t}function rd(e){return e.outlet||yn}function cy(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let i=e.parent;i;i=i.parent){const t=i.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class vxt{constructor(i,t,n,r,s){this.routeReuseStrategy=i,this.futureState=t,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(i){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,i),ak(this.futureState.root),this.activateChildRoutes(t,n,i)}deactivateChildRoutes(i,t,n){const r=Bg(t);i.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(i,t,n){const r=i.value,s=t?t.value:null;if(r===s)if(r.component){const o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(i,t,o.children)}else this.deactivateChildRoutes(i,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(i,t){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,t):this.deactivateRouteAndOutlet(i,t)}detachAndStoreRouteSubtree(i,t){const n=t.getContext(i.value.outlet),r=n&&i.value.component?n.children:t,s=Bg(i);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){const o=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:o,route:i,contexts:l})}}deactivateRouteAndOutlet(i,t){const n=t.getContext(i.value.outlet),r=n&&i.value.component?n.children:t,s=Bg(i);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(i,t,n){const r=Bg(t);i.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new nxt(s.value.snapshot))}),i.children.length&&this.forwardEvent(new ext(i.value.snapshot))}activateRoutes(i,t,n){const r=i.value,s=t?t.value:null;if(ak(r),r===s)if(r.component){const o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(i,t,o.children)}else this.activateChildRoutes(i,t,n);else if(r.component){const o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(l.contexts),o.attachRef=l.componentRef,o.route=l.route.value,o.outlet&&o.outlet.attach(l.componentRef,l.route.value),ak(l.route.value),this.activateChildRoutes(i,null,o.children)}else{const l=cy(r.snapshot);o.attachRef=null,o.route=r,o.injector=l,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(i,null,o.children)}}else this.activateChildRoutes(i,null,n)}}class oG{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class RT{constructor(i,t){this.component=i,this.route=t}}function xxt(e,i,t){const n=e._root;return dy(n,i?i._root:null,t,[n.value])}function Vg(e,i){const t=Symbol(),n=i.get(e,t);return n===t?"function"!=typeof e||function Jnt(e){return null!==fw(e)}(e)?i.get(e):e:n}function dy(e,i,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Bg(i);return e.children.forEach(o=>{(function bxt(e,i,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=i?i.value:null,l=t?t.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const b=function wxt(e,i,t){if("function"==typeof t)return t(e,i);switch(t){case"pathParamsChange":return!Yf(e.url,i.url);case"pathParamsOrQueryParamsChange":return!Yf(e.url,i.url)||!ed(e.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ok(e,i)||!ed(e.queryParams,i.queryParams);default:return!ok(e,i)}}(o,s,s.routeConfig.runGuardsAndResolvers);b?r.canActivateChecks.push(new oG(n)):(s.data=o.data,s._resolvedData=o._resolvedData),dy(e,i,s.component?l?l.children:null:t,n,r),b&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new RT(l.outlet.component,o))}else o&&uy(i,l,r),r.canActivateChecks.push(new oG(n)),dy(e,null,s.component?l?l.children:null:t,n,r)})(o,s[o.value.outlet],t,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,l])=>uy(l,t.getContext(o),r)),r}function uy(e,i,t){const n=Bg(e),r=e.value;Object.entries(n).forEach(([s,o])=>{uy(o,r.component?i?i.children.getContext(s):null:i,t)}),t.canDeactivateChecks.push(new RT(r.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,r))}function hy(e){return"function"==typeof e}function lG(e){return e instanceof Eg||"EmptyError"===e?.name}const PT=Symbol("INITIAL_VALUE");function Ug(){return Rs(e=>qd(e.map(i=>i.pipe(er(1),Ca(PT)))).pipe(Di(i=>{for(const t of i)if(!0!==t){if(t===PT)return PT;if(!1===t||t instanceof Pg)return t}return!0}),In(i=>i!==PT),er(1)))}function cG(e){return function Gnt(...e){return B4(e)}(fs(i=>{if(Og(i))throw nG(0,i)}),Di(i=>!0===i))}class dk{constructor(i){this.segmentGroup=i||null}}class uk extends Error{constructor(i){super(),this.urlTree=i}}function zg(e){return Mg(new dk(e))}class Uxt{constructor(i,t){this.urlSerializer=i,this.urlTree=t}lineralizeSegments(i,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return vi(n);if(r.numberOfChildren>1||!r.children[yn])return Mg(new ue(4e3,!1));r=r.children[yn]}}applyRedirectCommands(i,t,n){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),i,n);if(t.startsWith("/"))throw new uk(r);return r}applyRedirectCreateUrlTree(i,t,n,r){const s=this.createSegmentGroup(i,t.root,n,r);return new Pg(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(i,t){const n={};return Object.entries(i).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const l=s.substring(1);n[r]=t[l]}else n[r]=s}),n}createSegmentGroup(i,t,n,r){const s=this.createSegments(i,t.segments,n,r);let o={};return Object.entries(t.children).forEach(([l,b])=>{o[l]=this.createSegmentGroup(i,b,n,r)}),new Er(s,o)}createSegments(i,t,n,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(i,s,r):this.findOrReturn(s,n))}findPosParam(i,t,n){const r=n[t.path.substring(1)];if(!r)throw new ue(4001,!1);return r}findOrReturn(i,t){let n=0;for(const r of t){if(r.path===i.path)return t.splice(n),r;n++}return i}}const hk={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zxt(e,i,t,n,r){const s=fk(e,i,t);return s.matched?(n=function uxt(e,i){return e.providers&&!e._injector&&(e._injector=C_(e.providers,i,`Route: ${e.path}`)),e._injector??i}(i,n),function Nxt(e,i,t,n){const r=i.canMatch;return r&&0!==r.length?vi(r.map(o=>{const l=Vg(o,e);return yh(function Axt(e){return e&&hy(e.canMatch)}(l)?l.canMatch(i,t):Vc(e,()=>l(i,t)))})).pipe(Ug(),cG()):vi(!0)}(n,i,t).pipe(Di(o=>!0===o?s:{...hk}))):vi(s)}function fk(e,i,t){if("**"===i.path)return function Gxt(e){return{matched:!0,parameters:e.length>0?Mz(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===i.path)return"full"===i.pathMatch&&(e.hasChildren()||t.length>0)?{...hk}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(i.matcher||w0t)(t,e,i);if(!r)return{...hk};const s={};Object.entries(r.posParams??{}).forEach(([l,b])=>{s[l]=b.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function dG(e,i,t,n){return t.length>0&&function Xxt(e,i,t){return t.some(n=>FT(e,i,n)&&rd(n)!==yn)}(e,t,n)?{segmentGroup:new Er(i,Wxt(n,new Er(t,e.children))),slicedSegments:[]}:0===t.length&&function jxt(e,i,t){return t.some(n=>FT(e,i,n))}(e,t,n)?{segmentGroup:new Er(e.segments,Hxt(e,t,n,e.children)),slicedSegments:t}:{segmentGroup:new Er(e.segments,e.children),slicedSegments:t}}function Hxt(e,i,t,n){const r={};for(const s of t)if(FT(e,i,s)&&!n[rd(s)]){const o=new Er([],{});r[rd(s)]=o}return{...n,...r}}function Wxt(e,i){const t={};t[yn]=i;for(const n of e)if(""===n.path&&rd(n)!==yn){const r=new Er([],{});t[rd(n)]=r}return t}function FT(e,i,t){return(!(e.hasChildren()||i.length>0)||"full"!==t.pathMatch)&&""===t.path}class Qxt{}class Jxt{constructor(i,t,n,r,s,o,l){this.injector=i,this.configLoader=t,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=l,this.applyRedirects=new Uxt(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(i){return new ue(4002,`'${i.segmentGroup}'`)}recognize(){const i=dG(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(Di(t=>{const n=new rk([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yn,this.rootComponentType,null,{}),r=new Cc(n,t),s=new Jz("",r),o=function z0t(e,i,t=null,n=null){return zz(Uz(e),i,t,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(i){return this.processSegmentGroup(this.injector,this.config,i,yn).pipe(la(n=>{if(n instanceof uk)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof dk?this.noMatchError(n):n}))}inheritParamsAndData(i,t){const n=i.value,r=nk(n,t,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),i.children.forEach(s=>this.inheritParamsAndData(s,n))}processSegmentGroup(i,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,t,n):this.processSegment(i,t,n,n.segments,r,!0).pipe(Di(s=>s instanceof Cc?[s]:[]))}processChildren(i,t,n){const r=[];for(const s of Object.keys(n.children))"primary"===s?r.unshift(s):r.push(s);return ks(r).pipe(Ig(s=>{const o=n.children[s],l=function pxt(e,i){const t=e.filter(n=>rd(n)===i);return t.push(...e.filter(n=>rd(n)!==i)),t}(t,s);return this.processSegmentGroup(i,l,o,s)}),function x0t(e,i){return ds(function v0t(e,i,t,n,r){return(s,o)=>{let l=t,b=i,C=0;s.subscribe(Xr(o,D=>{const R=C++;b=l?e(b,D,R):(l=!0,D),n&&o.next(b)},r&&(()=>{l&&o.next(b),o.complete()})))}}(e,i,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),bT(null),function y0t(e,i){const t=arguments.length>=2;return n=>n.pipe(e?In((r,s)=>e(r,s,n)):th,jI(1),t?bT(i):Az(()=>new Eg))}(),Ta(s=>{if(null===s)return zg(n);const o=uG(s);return function qxt(e){e.sort((i,t)=>i.value.outlet===yn?-1:t.value.outlet===yn?1:i.value.outlet.localeCompare(t.value.outlet))}(o),vi(o)}))}processSegment(i,t,n,r,s,o){return ks(t).pipe(Ig(l=>this.processSegmentAgainstRoute(l._injector??i,t,l,n,r,s,o).pipe(la(b=>{if(b instanceof dk)return vi(null);throw b}))),Wl(l=>!!l),la(l=>{if(lG(l))return function $xt(e,i,t){return 0===i.length&&!e.children[t]}(n,r,s)?vi(new Qxt):zg(n);throw l}))}processSegmentAgainstRoute(i,t,n,r,s,o,l){return function Yxt(e,i,t,n){return!!(rd(e)===n||n!==yn&&FT(i,t,e))&&fk(i,e,t).matched}(n,r,s,o)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(i,r,n,s,o):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(i,r,t,n,s,o):zg(r):zg(r)}expandSegmentAgainstRouteUsingRedirect(i,t,n,r,s,o){const{matched:l,consumedSegments:b,positionalParamSegments:C,remainingSegments:D}=fk(t,r,s);if(!l)return zg(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const R=this.applyRedirects.applyRedirectCommands(b,r.redirectTo,C);return this.applyRedirects.lineralizeSegments(r,R).pipe(Ta(O=>this.processSegment(i,n,t,O.concat(D),o,!1)))}matchSegmentAgainstRoute(i,t,n,r,s){const o=zxt(t,n,r,i);return"**"===n.path&&(t.children={}),o.pipe(Rs(l=>l.matched?this.getChildConfig(i=n._injector??i,n,r).pipe(Rs(({routes:b})=>{const C=n._loadedInjector??i,{consumedSegments:D,remainingSegments:R,parameters:O}=l,L=new rk(D,O,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function eyt(e){return e.data||{}}(n),rd(n),n.component??n._loadedComponent??null,n,function iyt(e){return e.resolve||{}}(n)),{segmentGroup:U,slicedSegments:X}=dG(t,D,R,b);if(0===X.length&&U.hasChildren())return this.processChildren(C,b,U).pipe(Di(Z=>null===Z?null:new Cc(L,Z)));if(0===b.length&&0===X.length)return vi(new Cc(L,[]));const W=rd(n)===s;return this.processSegment(C,b,U,X,W?yn:s,!0).pipe(Di(Z=>new Cc(L,Z instanceof Cc?[Z]:[])))})):zg(t)))}getChildConfig(i,t,n){return t.children?vi({routes:t.children,injector:i}):t.loadChildren?void 0!==t._loadedRoutes?vi({routes:t._loadedRoutes,injector:t._loadedInjector}):function Lxt(e,i,t,n){const r=i.canLoad;return void 0===r||0===r.length?vi(!0):vi(r.map(o=>{const l=Vg(o,e);return yh(function Txt(e){return e&&hy(e.canLoad)}(l)?l.canLoad(i,t):Vc(e,()=>l(i,t)))})).pipe(Ug(),cG())}(i,t,n).pipe(Ta(r=>r?this.configLoader.loadChildren(i,t).pipe(fs(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Vxt(e){return Mg(rG(!1,wl.GuardRejected))}())):vi({routes:[],injector:i})}}function tyt(e){const i=e.value.routeConfig;return i&&""===i.path}function uG(e){const i=[],t=new Set;for(const n of e){if(!tyt(n)){i.push(n);continue}const r=i.find(s=>n.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...n.children),t.add(r)):i.push(n)}for(const n of t){const r=uG(n.children);i.push(new Cc(n.value,r))}return i.filter(n=>!t.has(n))}function hG(e){const i=e.children.map(t=>hG(t)).flat();return[e,...i]}function mk(e){return Rs(i=>{const t=e(i);return t?ks(t).pipe(Di(()=>i)):vi(i)})}let fG=(()=>{class e{buildTitle(t){let n,r=t.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(s=>s.outlet===yn);return n}getResolvedTitleForRoute(t){return t.data[ey]}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:()=>me(lyt),providedIn:"root"})}return e})(),lyt=(()=>{class e extends fG{constructor(t){super(),this.title=t}updateTitle(t){const n=this.buildTitle(t);void 0!==n&&this.title.setTitle(n)}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(yvt))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Gg=new ee("",{providedIn:"root",factory:()=>({})}),Hg=new ee("");let pk=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=me(b9)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return vi(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const n=yh(t.loadComponent()).pipe(Di(mG),fs(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),kg(()=>{this.componentLoaders.delete(t)})),r=new XI(n,()=>new Pe).pipe(WI());return this.componentLoaders.set(t,r),r}loadChildren(t,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return vi({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const s=function cyt(e,i,t,n){return yh(e.loadChildren()).pipe(Di(mG),Ta(r=>r instanceof GV||Array.isArray(r)?vi(r):ks(i.compileModuleAsync(r))),Di(r=>{n&&n(e);let s,o,l=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(t).injector,o=s.get(Hg,[],{optional:!0,self:!0}).flat()),{routes:o.map(ck),injector:s}}))}(n,this.compiler,t,this.onLoadEndListener).pipe(kg(()=>{this.childrenLoaders.delete(n)})),o=new XI(s,()=>new Pe).pipe(WI());return this.childrenLoaders.set(n,o),o}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mG(e){return function dyt(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let gk=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:()=>me(uyt),providedIn:"root"})}return e})(),uyt=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const pG=new ee(""),gG=new ee("");function hyt(e,i,t){const n=e.get(gG),r=e.get(Ni);return e.get(ii).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let s;const o=new Promise(C=>{s=C}),l=r.startViewTransition(()=>(s(),function fyt(e){return new Promise(i=>{aV(i,{injector:e})})}(e))),{onViewTransitionCreated:b}=n;return b&&Vc(e,()=>b({transition:l,from:i,to:t})),o})}let OT=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pe,this.transitionAbortSubject=new Pe,this.configLoader=me(pk),this.environmentInjector=me(jo),this.urlSerializer=me(Fg),this.rootContexts=me(oy),this.location=me(jf),this.inputBindingEnabled=null!==me(kT,{optional:!0}),this.titleStrategy=me(fG),this.options=me(Gg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=me(gk),this.createViewTransition=me(pG,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>vi(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new q0t(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new J0t(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:n})}setupNavigations(t,n,r){return this.transitions=new Wr({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ay,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(In(s=>0!==s.id),Di(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Rs(s=>{let o=!1,l=!1;return vi(s).pipe(Rs(b=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",wl.SupersededByNewNavigation),Jo;this.currentTransition=s,this.currentNavigation={id:b.id,initialUrl:b.rawUrl,extractedUrl:b.extractedUrl,trigger:b.source,extras:b.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const C=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!C&&"reload"!==(b.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const R="";return this.events.next(new Ng(b.id,this.urlSerializer.serialize(b.rawUrl),R,MT.IgnoredSameUrlNavigation)),b.resolve(null),Jo}if(this.urlHandlingStrategy.shouldProcessUrl(b.rawUrl))return vi(b).pipe(Rs(R=>{const O=this.transitions?.getValue();return this.events.next(new DT(R.id,this.urlSerializer.serialize(R.extractedUrl),R.source,R.restoredState)),O!==this.transitions?.getValue()?Jo:Promise.resolve(R)}),function nyt(e,i,t,n,r,s){return Ta(o=>function Kxt(e,i,t,n,r,s,o="emptyOnly"){return new Jxt(e,i,t,n,r,o,s).recognize()}(e,i,t,n,o.extractedUrl,r,s).pipe(Di(({state:l,tree:b})=>({...o,targetSnapshot:l,urlAfterRedirects:b}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),fs(R=>{s.targetSnapshot=R.targetSnapshot,s.urlAfterRedirects=R.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects};const O=new Yz(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(O)}));if(C&&this.urlHandlingStrategy.shouldProcessUrl(b.currentRawUrl)){const{id:R,extractedUrl:O,source:L,restoredState:U,extras:X}=b,W=new DT(R,this.urlSerializer.serialize(O),L,U);this.events.next(W);const Z=Zz(this.rootComponentType).snapshot;return this.currentTransition=s={...b,targetSnapshot:Z,urlAfterRedirects:O,extras:{...X,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=O,vi(s)}{const R="";return this.events.next(new Ng(b.id,this.urlSerializer.serialize(b.extractedUrl),R,MT.IgnoredByUrlHandlingStrategy)),b.resolve(null),Jo}}),fs(b=>{const C=new $0t(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(C)}),Di(b=>(this.currentTransition=s={...b,guards:xxt(b.targetSnapshot,b.currentSnapshot,this.rootContexts)},s)),function Dxt(e,i){return Ta(t=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?vi({...t,guardsResult:!0}):function Mxt(e,i,t,n){return ks(e).pipe(Ta(r=>function Oxt(e,i,t,n,r){const s=i&&i.routeConfig?i.routeConfig.canDeactivate:null;return s&&0!==s.length?vi(s.map(l=>{const b=cy(i)??r,C=Vg(l,b);return yh(function Ext(e){return e&&hy(e.canDeactivate)}(C)?C.canDeactivate(e,i,t,n):Vc(b,()=>C(e,i,t,n))).pipe(Wl())})).pipe(Ug()):vi(!0)}(r.component,r.route,t,i,n)),Wl(r=>!0!==r,!0))}(o,n,r,e).pipe(Ta(l=>l&&function _xt(e){return"boolean"==typeof e}(l)?function Ixt(e,i,t,n){return ks(i).pipe(Ig(r=>ty(function Rxt(e,i){return null!==e&&i&&i(new txt(e)),vi(!0)}(r.route.parent,n),function kxt(e,i){return null!==e&&i&&i(new ixt(e)),vi(!0)}(r.route,n),function Fxt(e,i,t){const n=i[i.length-1],s=i.slice(0,i.length-1).reverse().map(o=>function yxt(e){const i=e.routeConfig?e.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:e,guards:i}:null}(o)).filter(o=>null!==o).map(o=>Dg(()=>vi(o.guards.map(b=>{const C=cy(o.node)??t,D=Vg(b,C);return yh(function Sxt(e){return e&&hy(e.canActivateChild)}(D)?D.canActivateChild(n,e):Vc(C,()=>D(n,e))).pipe(Wl())})).pipe(Ug())));return vi(s).pipe(Ug())}(e,r.path,t),function Pxt(e,i,t){const n=i.routeConfig?i.routeConfig.canActivate:null;if(!n||0===n.length)return vi(!0);const r=n.map(s=>Dg(()=>{const o=cy(i)??t,l=Vg(s,o);return yh(function Cxt(e){return e&&hy(e.canActivate)}(l)?l.canActivate(i,e):Vc(o,()=>l(i,e))).pipe(Wl())}));return vi(r).pipe(Ug())}(e,r.route,t))),Wl(r=>!0!==r,!0))}(n,s,e,i):vi(l)),Di(l=>({...t,guardsResult:l})))})}(this.environmentInjector,b=>this.events.next(b)),fs(b=>{if(s.guardsResult=b.guardsResult,Og(b.guardsResult))throw nG(0,b.guardsResult);const C=new Q0t(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot,!!b.guardsResult);this.events.next(C)}),In(b=>!!b.guardsResult||(this.cancelNavigationTransition(b,"",wl.GuardRejected),!1)),mk(b=>{if(b.guards.canActivateChecks.length)return vi(b).pipe(fs(C=>{const D=new K0t(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(D)}),Rs(C=>{let D=!1;return vi(C).pipe(function ryt(e,i){return Ta(t=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return vi(t);const s=new Set(r.map(b=>b.route)),o=new Set;for(const b of s)if(!o.has(b))for(const C of hG(b))o.add(C);let l=0;return ks(o).pipe(Ig(b=>s.has(b)?function syt(e,i,t,n){const r=e.routeConfig,s=e._resolve;return void 0!==r?.title&&!tG(r)&&(s[ey]=r.title),function ayt(e,i,t,n){const r=YI(e);if(0===r.length)return vi({});const s={};return ks(r).pipe(Ta(o=>function oyt(e,i,t,n){const r=cy(i)??n,s=Vg(e,r);return yh(s.resolve?s.resolve(i,t):Vc(r,()=>s(i,t)))}(e[o],i,t,n).pipe(Wl(),fs(l=>{s[o]=l}))),jI(1),wT(s),la(o=>lG(o)?Jo:Mg(o)))}(s,e,i,n).pipe(Di(o=>(e._resolvedData=o,e.data=nk(e,e.parent,t).resolve,null)))}(b,n,e,i):(b.data=nk(b,b.parent,e).resolve,vi(void 0))),fs(()=>l++),jI(1),Ta(b=>l===o.size?vi(t):Jo))})}(this.paramsInheritanceStrategy,this.environmentInjector),fs({next:()=>D=!0,complete:()=>{D||this.cancelNavigationTransition(C,"",wl.NoDataFromResolver)}}))}),fs(C=>{const D=new Z0t(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(D)}))}),mk(b=>{const C=D=>{const R=[];D.routeConfig?.loadComponent&&!D.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(D.routeConfig).pipe(fs(O=>{D.component=O}),Di(()=>{})));for(const O of D.children)R.push(...C(O));return R};return qd(C(b.targetSnapshot.root)).pipe(bT(null),er(1))}),mk(()=>this.afterPreactivation()),Rs(()=>{const{currentSnapshot:b,targetSnapshot:C}=s,D=this.createViewTransition?.(this.environmentInjector,b.root,C.root);return D?ks(D).pipe(Di(()=>s)):vi(s)}),Di(b=>{const C=function oxt(e,i,t){const n=ly(e,i._root,t?t._root:void 0);return new Kz(n,i)}(t.routeReuseStrategy,b.targetSnapshot,b.currentRouterState);return this.currentTransition=s={...b,targetRouterState:C},this.currentNavigation.targetRouterState=C,s}),fs(()=>{this.events.next(new qI)}),((e,i,t,n)=>Di(r=>(new vxt(i,r.targetRouterState,r.currentRouterState,t,n).activate(e),r)))(this.rootContexts,t.routeReuseStrategy,b=>this.events.next(b),this.inputBindingEnabled),er(1),fs({next:b=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nd(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects))),this.titleStrategy?.updateTitle(b.targetRouterState.snapshot),b.resolve(!0)},complete:()=>{o=!0}}),Ui(this.transitionAbortSubject.pipe(fs(b=>{throw b}))),kg(()=>{!o&&!l&&this.cancelNavigationTransition(s,"",wl.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),la(b=>{if(l=!0,sG(b))this.events.next(new Lg(s.id,this.urlSerializer.serialize(s.extractedUrl),b.message,b.cancellationCode)),function dxt(e){return sG(e)&&Og(e.url)}(b)?this.events.next(new tk(b.url)):s.resolve(!1);else{this.events.next(new IT(s.id,this.urlSerializer.serialize(s.extractedUrl),b,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(b))}catch(C){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(C)}}return Jo}))}))}cancelNavigationTransition(t,n,r){const s=new Lg(t.id,this.urlSerializer.serialize(t.extractedUrl),n,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function myt(e){return e!==ay}let pyt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:()=>me(vyt),providedIn:"root"})}return e})();class gyt{shouldDetach(i){return!1}store(i,t){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,t){return i.routeConfig===t.routeConfig}}let vyt=(()=>{class e extends gyt{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vG=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:()=>me(xyt),providedIn:"root"})}return e})(),xyt=(()=>{class e extends vG{constructor(){super(...arguments),this.location=me(jf),this.urlSerializer=me(Fg),this.options=me(Gg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=me(gk),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pg,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Zz(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(n=>{"popstate"===n.type&&t(n.url,n.state)})}handleRouterEvent(t,n){if(t instanceof DT)this.stateMemento=this.createStateMemento();else if(t instanceof Ng)this.rawUrlTree=n.initialUrl;else if(t instanceof Yz){if("eager"===this.urlUpdateStrategy&&!n.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(r,n)}}else t instanceof qI?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,"deferred"===this.urlUpdateStrategy&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):t instanceof Lg&&(t.code===wl.GuardRejected||t.code===wl.NoDataFromResolver)?this.restoreHistory(n):t instanceof IT?this.restoreHistory(n,!0):t instanceof nd&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,n){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const o={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,n=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&0===s&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,n){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var fy=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(fy||{});function xG(e,i){e.events.pipe(In(t=>t instanceof nd||t instanceof Lg||t instanceof IT||t instanceof Ng),Di(t=>t instanceof nd||t instanceof Ng?fy.COMPLETE:t instanceof Lg&&(t.code===wl.Redirect||t.code===wl.SupersededByNewNavigation)?fy.REDIRECTING:fy.FAILED),In(t=>t!==fy.REDIRECTING),er(1)).subscribe(()=>{i()})}function yyt(e){throw e}const byt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wyt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fo=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=me(d9),this.stateManager=me(vG),this.options=me(Gg,{optional:!0})||{},this.pendingTasks=me(uh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=me(OT),this.urlSerializer=me(Fg),this.location=me(jf),this.urlHandlingStrategy=me(gk),this._events=new Pe,this.errorHandler=this.options.errorHandler||yyt,this.navigated=!1,this.routeReuseStrategy=me(pyt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=me(Hg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!me(kT,{optional:!0}),this.eventsSubscription=new Ie,this.isNgZoneEnabled=me(ii)instanceof ii&&ii.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(n=>{try{const r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==r&&null!==s)if(this.stateManager.handleRouterEvent(n,s),n instanceof Lg&&n.code!==wl.Redirect&&n.code!==wl.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof nd)this.navigated=!0;else if(n instanceof tk){const o=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),l={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||myt(r.source)};this.scheduleNavigation(o,ay,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function Tyt(e){return!(e instanceof qI||e instanceof tk)})(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ay,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",n)},0)})}navigateToSyncWithBrowser(t,n,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const b={...r};delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(s.state=b)}const l=this.parseUrl(t);this.scheduleNavigation(l,n,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ck),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,n={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:l,preserveFragment:b}=n,C=b?this.currentUrlTree.fragment:o;let R,D=null;switch(l){case"merge":D={...this.currentUrlTree.queryParams,...s};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=s||null}null!==D&&(D=this.removeEmptyProps(D));try{R=Uz(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),R=this.currentUrlTree.root}return zz(R,t,D,C??null)}navigateByUrl(t,n={skipLocationChange:!1}){const r=Og(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,ay,null,n)}navigate(t,n={skipLocationChange:!1}){return function _yt(e){for(let i=0;i<e.length;i++)if(null==e[i])throw new ue(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,n){let r;if(r=!0===n?{...byt}:!1===n?{...wyt}:n,Og(t))return kz(this.currentUrlTree,t,r);const s=this.parseUrl(t);return kz(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((n,[r,s])=>(null!=s&&(n[r]=s),n),{})}scheduleNavigation(t,n,r,s,o){if(this.disposed)return Promise.resolve(!1);let l,b,C;o?(l=o.resolve,b=o.reject,C=o.promise):C=new Promise((R,O)=>{l=R,b=O});const D=this.pendingTasks.add();return xG(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(D))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:l,reject:b,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(R=>Promise.reject(R))}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class yG{}let Eyt=(()=>{class e{constructor(t,n,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(In(t=>t instanceof nd),Ig(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){const r=[];for(const s of n){s.providers&&!s._injector&&(s._injector=C_(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,l=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(l,s.children??s._loadedRoutes))}return ks(r).pipe(Ag())}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(t,n):vi(null);const s=r.pipe(Ta(o=>null===o?vi(void 0):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return n.loadComponent&&!n._loadedComponent?ks([s,this.loader.loadComponent(n)]).pipe(Ag()):s})}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Fo),Jt(b9),Jt(jo),Jt(yG),Jt(pk))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const xk=new ee("");let bG=(()=>{class e{constructor(t,n,r,s,o={}){this.urlSerializer=t,this.transitions=n,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof DT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nd?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ng&&t.code===MT.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $z&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $z(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#t=this.\u0275fac=function(n){o_()};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}return e})();function sd(e,i){return{\u0275kind:e,\u0275providers:i}}function _G(){const e=me(is);return i=>{const t=e.get(Yd);if(i!==t.components[0])return;const n=e.get(Fo),r=e.get(TG);1===e.get(yk)&&n.initialNavigation(),e.get(CG,null,Ln.Optional)?.setUpPreloading(),e.get(xk,null,Ln.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const TG=new ee("",{factory:()=>new Pe}),yk=new ee("",{providedIn:"root",factory:()=>1}),CG=new ee("");function Iyt(e){return sd(0,[{provide:CG,useExisting:Eyt},{provide:yG,useExisting:e}])}function Ryt(e){return sd(9,[{provide:pG,useValue:hyt},{provide:gG,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const SG=new ee("ROUTER_FORROOT_GUARD"),Pyt=[jf,{provide:Fg,useClass:$I},Fo,oy,{provide:Sc,useFactory:function wG(e){return e.routerState.root},deps:[Fo]},pk,[]];let EG=(()=>{class e{constructor(t){}static forRoot(t,n){return{ngModule:e,providers:[Pyt,[],{provide:Hg,multi:!0,useValue:t},{provide:SG,useFactory:Nyt,deps:[[Fo,new Vd,new Cf]]},{provide:Gg,useValue:n||{}},n?.useHash?{provide:Xf,useClass:opt}:{provide:Xf,useClass:uU},{provide:xk,useFactory:()=>{const e=me(bgt),i=me(ii),t=me(Gg),n=me(OT),r=me(Fg);return t.scrollOffset&&e.setOffset(t.scrollOffset),new bG(r,n,e,i,t)}},n?.preloadingStrategy?Iyt(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?Byt(n):[],n?.bindToComponentInputs?sd(8,[eG,{provide:kT,useExisting:eG}]).\u0275providers:[],n?.enableViewTransitions?Ryt().\u0275providers:[],[{provide:AG,useFactory:_G},{provide:ZM,multi:!0,useExisting:AG}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Hg,multi:!0,useValue:t}]}}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(SG,8))};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})();function Nyt(e){return"guarded"}function Byt(e){return["disabled"===e.initialNavigation?sd(3,[{provide:QM,multi:!0,useFactory:()=>{const i=me(Fo);return()=>{i.setUpLocationChangeListener()}}},{provide:yk,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?sd(2,[{provide:yk,useValue:0},{provide:QM,multi:!0,deps:[is],useFactory:i=>{const t=i.get(spt,Promise.resolve());return()=>t.then(()=>new Promise(n=>{const r=i.get(Fo),s=i.get(TG);xG(r,()=>{n(!0)}),i.get(OT).afterPreactivation=()=>(n(!0),s.closed?vi(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const AG=new ee("");class LT{}function bk(e){return e&&"function"==typeof e.connect&&!(e instanceof XI)}var tu=function(e){return e[e.REPLACED=0]="REPLACED",e[e.INSERTED=1]="INSERTED",e[e.MOVED=2]="MOVED",e[e.REMOVED=3]="REMOVED",e}(tu||{});const my=new ee("_ViewRepeater");class DG{applyChanges(i,t,n,r,s){i.forEachOperation((o,l,b)=>{let C,D;if(null==o.previousIndex){const R=n(o,l,b);C=t.createEmbeddedView(R.templateRef,R.context,R.index),D=tu.INSERTED}else null==b?(t.remove(l),D=tu.REMOVED):(C=t.get(l),t.move(C,b),D=tu.MOVED);s&&s({context:C?.context,operation:D,record:o})})}detach(){}}class wk{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(i=!1,t,n=!0,r){this._multiple=i,this._emitChanges=n,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Pe,t&&t.length&&(i?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...i){this._verifyValueAssignment(i),i.forEach(n=>this._markSelected(n));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...i){this._verifyValueAssignment(i),i.forEach(n=>this._unmarkSelected(n));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...i){this._verifyValueAssignment(i);const t=this.selected,n=new Set(i);i.forEach(s=>this._markSelected(s)),t.filter(s=>!n.has(this._getConcreteValue(s,n))).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(i){return this.isSelected(i)?this.deselect(i):this.select(i)}clear(i=!0){this._unmarkAll();const t=this._hasQueuedChanges();return i&&this._emitChangeEvent(),t}isSelected(i){return this._selection.has(this._getConcreteValue(i))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(i){this._multiple&&this.selected&&this._selected.sort(i)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(i){i=this._getConcreteValue(i),this.isSelected(i)||(this._multiple||this._unmarkAll(),this.isSelected(i)||this._selection.add(i),this._emitChanges&&this._selectedToEmit.push(i))}_unmarkSelected(i){i=this._getConcreteValue(i),this.isSelected(i)&&(this._selection.delete(i),this._emitChanges&&this._deselectedToEmit.push(i))}_unmarkAll(){this.isEmpty()||this._selection.forEach(i=>this._unmarkSelected(i))}_verifyValueAssignment(i){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(i,t){if(this.compareWith){t=t??this._selection;for(let n of t)if(this.compareWith(i,n))return n;return i}return i}}let _k=(()=>{class e{constructor(){this._listeners=[]}notify(t,n){for(let r of this._listeners)r(t,n)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(n=>t!==n)}}ngOnDestroy(){this._listeners=[]}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Sa(e,i){const t="object"==typeof i;return new Promise((n,r)=>{let o,s=!1;e.subscribe({next:l=>{o=l,s=!0},error:r,complete:()=>{s?n(o):t?n(i.defaultValue):r(new Eg)}})})}const Tk={now:()=>(Tk.delegate||Date).now(),delegate:void 0};class py extends Pe{constructor(i=1/0,t=1/0,n=Tk){super(),this._bufferSize=i,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,t)}next(i){const{isStopped:t,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;t||(n.push(i),!r&&n.push(s.now()+o)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(i),{_infiniteTimeWindow:n,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!i.closed;o+=n?1:2)i.next(s[o]);return this._checkFinalizedStatuses(i),t}_trimBuffer(){const{_bufferSize:i,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:r}=this,s=(r?1:2)*i;if(i<1/0&&s<n.length&&n.splice(0,n.length-s),!r){const o=t.now();let l=0;for(let b=1;b<n.length&&n[b]<=o;b+=2)l=b;l&&n.splice(0,l+1)}}}class NT{}class BT{}class qo{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?"string"==typeof i?this.lazyInit=()=>{this.headers=new Map,i.split("\n").forEach(t=>{const n=t.indexOf(":");if(n>0){const r=t.slice(0,n),s=r.toLowerCase(),o=t.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const t=this.headers.get(i.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,t){return this.clone({name:i,value:t,op:"a"})}set(i,t){return this.clone({name:i,value:t,op:"s"})}delete(i,t){return this.clone({name:i,value:t,op:"d"})}maybeSetNormalizedName(i,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,i)}init(){this.lazyInit&&(this.lazyInit instanceof qo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(t=>{this.headers.set(t,i.headers.get(t)),this.normalizedNames.set(t,i.normalizedNames.get(t))})}clone(i){const t=new qo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof qo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([i]),t}applyUpdate(i){const t=i.name.toLowerCase();switch(i.op){case"a":case"s":let n=i.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(i.name,t);const r=("a"===i.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const s=i.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(l=>-1===s.indexOf(l)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(i,t){const n=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=i.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(i,r)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>i(this.normalizedNames.get(t),this.headers.get(t)))}}class Uyt{encodeKey(i){return IG(i)}encodeValue(i){return IG(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const Gyt=/%(\d[a-f0-9])/gi,Hyt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function IG(e){return encodeURIComponent(e).replace(Gyt,(i,t)=>Hyt[t]??i)}function VT(e){return`${e}`}class bh{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new Uyt,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zyt(e,i){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,l]=-1==s?[i.decodeKey(r),""]:[i.decodeKey(r.slice(0,s)),i.decodeValue(r.slice(s+1))],b=t.get(o)||[];b.push(l),t.set(o,b)}),t}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(t=>{const n=i.fromObject[t],r=Array.isArray(n)?n.map(VT):[VT(n)];this.map.set(t,r)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const t=this.map.get(i);return t?t[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,t){return this.clone({param:i,value:t,op:"a"})}appendAll(i){const t=[];return Object.keys(i).forEach(n=>{const r=i[n];Array.isArray(r)?r.forEach(s=>{t.push({param:n,value:s,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(i,t){return this.clone({param:i,value:t,op:"s"})}delete(i,t){return this.clone({param:i,value:t,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const t=this.encoder.encodeKey(i);return this.map.get(i).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const t=new bh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(i),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const t=("a"===i.op?this.map.get(i.param):void 0)||[];t.push(VT(i.value)),this.map.set(i.param,t);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let n=this.map.get(i.param)||[];const r=n.indexOf(VT(i.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(i.param,n):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class Wyt{constructor(){this.map=new Map}set(i,t){return this.map.set(i,t),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function kG(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function RG(e){return typeof Blob<"u"&&e instanceof Blob}function PG(e){return typeof FormData<"u"&&e instanceof FormData}class gy{constructor(i,t,n,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function Xyt(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new qo,this.context??=new Wyt,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const l=t.indexOf("?");this.urlWithParams=t+(-1===l?"?":l<t.length-1?"&":"")+o}}else this.params=new bh,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||kG(this.body)||RG(this.body)||PG(this.body)||function jyt(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof bh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||PG(this.body)?null:RG(this.body)?this.body.type||null:kG(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const t=i.method||this.method,n=i.url||this.url,r=i.responseType||this.responseType,s=i.transferCache??this.transferCache,o=void 0!==i.body?i.body:this.body,l=i.withCredentials??this.withCredentials,b=i.reportProgress??this.reportProgress;let C=i.headers||this.headers,D=i.params||this.params;const R=i.context??this.context;return void 0!==i.setHeaders&&(C=Object.keys(i.setHeaders).reduce((O,L)=>O.set(L,i.setHeaders[L]),C)),i.setParams&&(D=Object.keys(i.setParams).reduce((O,L)=>O.set(L,i.setParams[L]),D)),new gy(t,n,o,{params:D,headers:C,context:R,reportProgress:b,responseType:r,withCredentials:l,transferCache:s})}}var wh=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(wh||{});class Ck{constructor(i,t=vy.Ok,n="OK"){this.headers=i.headers||new qo,this.status=void 0!==i.status?i.status:t,this.statusText=i.statusText||n,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class UT extends Ck{constructor(i={}){super(i),this.type=wh.ResponseHeader}clone(i={}){return new UT({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class $f extends Ck{constructor(i={}){super(i),this.type=wh.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new $f({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class Wg extends Ck{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}var vy=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(vy||{});function Sk(e,i){return{body:i,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let ad=(()=>{class e{constructor(t){this.handler=t}request(t,n,r={}){let s;if(t instanceof gy)s=t;else{let b,C;b=r.headers instanceof qo?r.headers:new qo(r.headers),r.params&&(C=r.params instanceof bh?r.params:new bh({fromObject:r.params})),s=new gy(t,n,void 0!==r.body?r.body:null,{headers:b,context:r.context,params:C,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const o=vi(s).pipe(Ig(b=>this.handler.handle(b)));if(t instanceof gy||"events"===r.observe)return o;const l=o.pipe(In(b=>b instanceof $f));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(Di(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return l.pipe(Di(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return l.pipe(Di(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));default:return l.pipe(Di(b=>b.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:(new bh).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,r={}){return this.request("PATCH",t,Sk(r,n))}post(t,n,r={}){return this.request("POST",t,Sk(r,n))}put(t,n,r={}){return this.request("PUT",t,Sk(r,n))}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(NT))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}return e})();function OG(e,i){return i(e)}function Zyt(e,i){return(t,n)=>i.intercept(t,{handle:r=>e(r,n)})}const qyt=new ee(""),xy=new ee(""),LG=new ee(""),NG=new ee("");function tbt(){let e=null;return(i,t)=>{null===e&&(e=(me(qyt,{optional:!0})??[]).reduceRight(Zyt,OG));const n=me(uh),r=n.add();return e(i,t).pipe(kg(()=>n.remove(r)))}}let BG=(()=>{class e extends NT{constructor(t,n){super(),this.backend=t,this.injector=n,this.chain=null,this.pendingTasks=me(uh);const r=me(NG,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(xy),...this.injector.get(LG,[])]));this.chain=r.reduceRight((s,o)=>function Jyt(e,i,t){return(n,r)=>Vc(t,()=>i(n,s=>e(s,r)))}(s,o,this.injector),OG)}const n=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(kg(()=>this.pendingTasks.remove(n)))}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(BT),Jt(jo))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}return e})();const sbt=/^\)\]\}',?\n/;let UG=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new ue(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?ks(n.\u0275loadImpl()):vi(null)).pipe(Rs(()=>new ur(s=>{const o=n.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((X,W)=>o.setRequestHeader(X,W.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const X=t.detectContentTypeHeader();null!==X&&o.setRequestHeader("Content-Type",X)}if(t.responseType){const X=t.responseType.toLowerCase();o.responseType="json"!==X?X:"text"}const l=t.serializeBody();let b=null;const C=()=>{if(null!==b)return b;const X=o.statusText||"OK",W=new qo(o.getAllResponseHeaders()),Z=function abt(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(o)||t.url;return b=new UT({headers:W,status:o.status,statusText:X,url:Z}),b},D=()=>{let{headers:X,status:W,statusText:Z,url:rt}=C(),st=null;W!==vy.NoContent&&(st=typeof o.response>"u"?o.responseText:o.response),0===W&&(W=st?vy.Ok:0);let vt=W>=200&&W<300;if("json"===t.responseType&&"string"==typeof st){const _t=st;st=st.replace(sbt,"");try{st=""!==st?JSON.parse(st):null}catch(Mt){st=_t,vt&&(vt=!1,st={error:Mt,text:st})}}vt?(s.next(new $f({body:st,headers:X,status:W,statusText:Z,url:rt||void 0})),s.complete()):s.error(new Wg({error:st,headers:X,status:W,statusText:Z,url:rt||void 0}))},R=X=>{const{url:W}=C(),Z=new Wg({error:X,status:o.status||0,statusText:o.statusText||"Unknown Error",url:W||void 0});s.error(Z)};let O=!1;const L=X=>{O||(s.next(C()),O=!0);let W={type:wh.DownloadProgress,loaded:X.loaded};X.lengthComputable&&(W.total=X.total),"text"===t.responseType&&o.responseText&&(W.partialText=o.responseText),s.next(W)},U=X=>{let W={type:wh.UploadProgress,loaded:X.loaded};X.lengthComputable&&(W.total=X.total),s.next(W)};return o.addEventListener("load",D),o.addEventListener("error",R),o.addEventListener("timeout",R),o.addEventListener("abort",R),t.reportProgress&&(o.addEventListener("progress",L),null!==l&&o.upload&&o.upload.addEventListener("progress",U)),o.send(l),s.next({type:wh.Sent}),()=>{o.removeEventListener("error",R),o.removeEventListener("abort",R),o.removeEventListener("load",D),o.removeEventListener("timeout",R),t.reportProgress&&(o.removeEventListener("progress",L),null!==l&&o.upload&&o.upload.removeEventListener("progress",U)),o.readyState!==o.DONE&&o.abort()}})))}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(OU))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}return e})();const Dk=new ee(""),zG=new ee("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),GG=new ee("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class HG{}let cbt=(()=>{class e{constructor(t,n,r){this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=wU(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Ni),Jt(Hd),Jt(zG))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}return e})();function dbt(e,i){const t=e.url.toLowerCase();if(!me(Dk)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return i(e);const n=me(HG).getToken(),r=me(GG);return null!=n&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,n)})),i(e)}var _h=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(_h||{});function ubt(...e){const i=[ad,UG,BG,{provide:NT,useExisting:BG},{provide:BT,useExisting:UG},{provide:xy,useValue:dbt,multi:!0},{provide:Dk,useValue:!0},{provide:HG,useClass:cbt}];for(const t of e)i.push(...t.\u0275providers);return function V0(e){return{\u0275providers:e}}(i)}const WG=new ee("");function hbt(){return function Qf(e,i){return{\u0275kind:e,\u0275providers:i}}(_h.LegacyInterceptors,[{provide:WG,useFactory:tbt},{provide:xy,useExisting:WG,multi:!0}])}let Mk,fbt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[ubt(hbt())]})}return e})();try{Mk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Mk=!1}let Xg,ir=(()=>{class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?PU(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Mk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Hd))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const JG=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function qG(){if(Xg)return Xg;if("object"!=typeof document||!document)return Xg=new Set(JG),Xg;let e=document.createElement("input");return Xg=new Set(JG.filter(i=>(e.setAttribute("type",i),e.type===i))),Xg}let yy;function Ec(e){return function ybt(){if(null==yy&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>yy=!0}))}finally{yy=yy||!1}return yy}()?e:!!e.capture}var od=function(e){return e[e.NORMAL=0]="NORMAL",e[e.NEGATED=1]="NEGATED",e[e.INVERTED=2]="INVERTED",e}(od||{});let GT,Kf,Ik;function tH(){if(null==Kf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Kf=!1,Kf;if("scrollBehavior"in document.documentElement.style)Kf=!0;else{const e=Element.prototype.scrollTo;Kf=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return Kf}function by(){if("object"!=typeof document||!document)return od.NORMAL;if(null==GT){const e=document.createElement("div"),i=e.style;e.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";const t=document.createElement("div"),n=t.style;n.width="2px",n.height="1px",e.appendChild(t),document.body.appendChild(e),GT=od.NORMAL,0===e.scrollLeft&&(e.scrollLeft=1,GT=0===e.scrollLeft?od.NEGATED:od.INVERTED),e.remove()}return GT}function kk(e){if(function bbt(){if(null==Ik){const e=typeof document<"u"?document.head:null;Ik=!(!e||!e.createShadowRoot&&!e.attachShadow)}return Ik}()){const i=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function HT(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){const i=e.shadowRoot.activeElement;if(i===e)break;e=i}return e}function _l(e){return e.composedPath?e.composedPath()[0]:e.target}function Rk(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function io(e,...i){return i.length?i.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}class Pbt extends Ie{constructor(i,t){super()}schedule(i,t=0){return this}}const jT={setInterval(e,i,...t){const{delegate:n}=jT;return n?.setInterval?n.setInterval(e,i,...t):setInterval(e,i,...t)},clearInterval(e){const{delegate:i}=jT;return(i?.clearInterval||clearInterval)(e)},delegate:void 0};class Fk extends Pbt{constructor(i,t){super(i,t),this.scheduler=i,this.work=t,this.pending=!1}schedule(i,t=0){var n;if(this.closed)return this;this.state=i;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(s,this.id,t),this}requestAsyncId(i,t,n=0){return jT.setInterval(i.flush.bind(i,this),n)}recycleAsyncId(i,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&jT.clearInterval(t)}execute(i,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(i,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,t){let r,n=!1;try{this.work(i)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:i,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,pi(n,this),null!=i&&(this.id=this.recycleAsyncId(t,i,null)),this.delay=null,super.unsubscribe()}}}class _y{constructor(i,t=_y.now){this.schedulerActionCtor=i,this.now=t}schedule(i,t=0,n){return new this.schedulerActionCtor(this,i).schedule(n,t)}}_y.now=Tk.now;class Ok extends _y{constructor(i,t=_y.now){super(i,t),this.actions=[],this._active=!1}flush(i){const{actions:t}=this;if(this._active)return void t.push(i);let n;this._active=!0;do{if(n=i.execute(i.state,i.delay))break}while(i=t.shift());if(this._active=!1,n){for(;i=t.shift();)i.unsubscribe();throw n}}}const Ty=new Ok(Fk),Fbt=Ty;function iu(e,i=Ty){return ds((t,n)=>{let r=null,s=null,o=null;const l=()=>{if(r){r.unsubscribe(),r=null;const C=s;s=null,n.next(C)}};function b(){const C=o+e,D=i.now();if(D<C)return r=this.schedule(void 0,C-D),void n.add(r);l()}t.subscribe(Xr(n,C=>{s=C,o=i.now(),r||(r=i.schedule(b,e),n.add(r))},()=>{l(),n.complete()},void 0,()=>{s=r=null}))})}function Lk(e){return In((i,t)=>e<=t)}function nu(e,i=th){return e=e??Obt,ds((t,n)=>{let r,s=!0;t.subscribe(Xr(n,o=>{const l=i(o);(s||!e(r,l))&&(s=!1,r=l,n.next(o))}))})}function Obt(e,i){return e===i}function ca(e){return null!=e&&"false"!=`${e}`}function Sh(e,i=0){return iH(e)?Number(e):i}function iH(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Cy(e){return Array.isArray(e)?e:[e]}function $s(e){return null==e?"":"string"==typeof e?e:`${e}px`}function xs(e){return e instanceof si?e.nativeElement:e}let nH=(()=>{class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Nbt=(()=>{class e{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,n)=>this._cleanupObserver(n))}observe(t){const n=xs(t);return new ur(r=>{const o=this._observeElement(n).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(n)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const n=new Pe,r=this._mutationObserverFactory.create(s=>n.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:n,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:n,stream:r}=this._observedElements.get(t);n&&n.disconnect(),r.complete(),this._observedElements.delete(t)}}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(nH))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rH=(()=>{class e{get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Sh(t),this._subscribe()}constructor(t,n,r){this._contentObserver=t,this._elementRef=n,this._ngZone=r,this.event=new De,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(iu(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Nbt),mt(si),mt(ii))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[Wt.HasDecoratorInputTransform,"cdkObserveContentDisabled","disabled",Je],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[ln]})}return e})(),Nk=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[nH]})}return e})();const sH=new Set;let Zf,Bbt=(()=>{class e{constructor(t,n){this._platform=t,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ubt}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Vbt(e,i){if(!sH.has(e))try{Zf||(Zf=document.createElement("style"),i&&Zf.setAttribute("nonce",i),Zf.setAttribute("type","text/css"),document.head.appendChild(Zf)),Zf.sheet&&(Zf.sheet.insertRule(`@media ${e} {body{ }}`,0),sH.add(e))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ir),Jt(iD,8))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ubt(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let aH=(()=>{class e{constructor(t,n){this._mediaMatcher=t,this._zone=n,this._queries=new Map,this._destroySubject=new Pe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return oH(Cy(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=qd(oH(Cy(t)).map(o=>this._registerQuery(o).observable));return s=ty(s.pipe(er(1)),s.pipe(Lk(1),iu(0))),s.pipe(Di(o=>{const l={matches:!1,breakpoints:{}};return o.forEach(({matches:b,query:C})=>{l.matches=l.matches||b,l.breakpoints[C]=b}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const n=this._mediaMatcher.matchMedia(t),s={observable:new ur(o=>{const l=b=>this._zone.run(()=>o.next(b));return n.addListener(l),()=>{n.removeListener(l)}}).pipe(Ca(n),Di(({matches:o})=>({query:t,matches:o})),Ui(this._destroySubject)),mql:n};return this._queries.set(t,s),s}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Bbt),Jt(ii))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function oH(e){return e.map(i=>i.split(",")).reduce((i,t)=>i.concat(t)).map(i=>i.trim())}function YT(e,i,t){const n=$T(e,i);t=t.trim(),!n.some(r=>r.trim()===t)&&(n.push(t),e.setAttribute(i,n.join(" ")))}function Yg(e,i,t){const n=$T(e,i);t=t.trim();const r=n.filter(s=>s!==t);r.length?e.setAttribute(i,r.join(" ")):e.removeAttribute(i)}function $T(e,i){return e.getAttribute(i)?.match(/\S+/g)??[]}const cH="cdk-describedby-message",QT="cdk-describedby-host";let Bk=0,dH=(()=>{class e{constructor(t,n){this._platform=n,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Bk++,this._document=t,this._id=me(ix)+"-"+Bk++}describe(t,n,r){if(!this._canBeDescribed(t,n))return;const s=Vk(n,r);"string"!=typeof n?(uH(n,this._id),this._messageRegistry.set(s,{messageElement:n,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(n,r),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,n,r){if(!n||!this._isElementNode(t))return;const s=Vk(n,r);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof n){const o=this._messageRegistry.get(s);o&&0===o.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${QT}="${this._id}"]`);for(let n=0;n<t.length;n++)this._removeCdkDescribedByReferenceIds(t[n]),t[n].removeAttribute(QT);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,n){const r=this._document.createElement("div");uH(r,this._id),r.textContent=t,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Vk(t,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<n.length;s++)n[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const n=$T(t,"aria-describedby").filter(r=>0!=r.indexOf(cH));t.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(t,n){const r=this._messageRegistry.get(n);YT(t,"aria-describedby",r.messageElement.id),t.setAttribute(QT,this._id),r.referenceCount++}_removeMessageReference(t,n){const r=this._messageRegistry.get(n);r.referenceCount--,Yg(t,"aria-describedby",r.messageElement.id),t.removeAttribute(QT)}_isElementDescribedByMessage(t,n){const r=$T(t,"aria-describedby"),s=this._messageRegistry.get(n),o=s&&s.messageElement.id;return!!o&&-1!=r.indexOf(o)}_canBeDescribed(t,n){if(!this._isElementNode(t))return!1;if(n&&"object"==typeof n)return!0;const r=null==n?"":`${n}`.trim(),s=t.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Ni),Jt(ir))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Vk(e,i){return"string"==typeof e?`${i||""}/${e}`:e}function uH(e,i){e.id||(e.id=`${cH}-${i}-${Bk++}`)}class hH{constructor(i,t){this._items=i,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Pe,this._typeaheadSubscription=Ie.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=n=>n.disabled,this._pressedLetters=[],this.tabOut=new Pe,this.change=new Pe,i instanceof sh?this._itemChangesSubscription=i.changes.subscribe(n=>this._itemsChanged(n.toArray())):w_(i)&&(this._effectRef=function oU(e,i){$c("NgSignals"),!i?.injector&&Ew();const t=i?.injector??me(is),n=!0!==i?.manualCleanup?t.get(jp):null,r=new ept(t.get(Jmt),e,typeof Zone>"u"?null:Zone.current,n,t,i?.allowSignalWrites??!1),s=t.get(Mn,null,{optional:!0});return s&&8&s._lView[Fi]?(s._lView[Dw]??=[]).push(r.watcher.notify):r.watcher.notify(),r}(()=>this._itemsChanged(i()),{injector:t}))}skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(fs(t=>this._pressedLetters.push(t)),iu(i),In(()=>this._pressedLetters.length>0),Di(()=>this._pressedLetters.join(""))).subscribe(t=>{const n=this._getItemsArray();for(let r=1;r<n.length+1;r++){const s=(this._activeItemIndex+r)%n.length,o=n[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}withPageUpDown(i=!0,t=10){return this._pageUpAndDown={enabled:i,delta:t},this}setActiveItem(i){const t=this._activeItem;this.updateActiveItem(i),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(i){const t=i.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!i[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||io(i,"shiftKey"))&&(i.key&&1===i.key.length?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){const t=this._getItemsArray(),n="number"==typeof i?i:t.indexOf(i);this._activeItem=t[n]??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const r=(this._activeItemIndex+i*n+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,t){const n=this._getItemsArray();if(n[i]){for(;this._skipPredicateFn(n[i]);)if(!n[i+=t])return;this.setActiveItem(i)}}_getItemsArray(){return w_(this._items)?this._items():this._items instanceof sh?this._items.toArray():this._items}_itemsChanged(i){if(this._activeItem){const t=i.indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}}}class fH extends hH{setActiveItem(i){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(i),this.activeItem&&this.activeItem.setActiveStyles()}}class Uk extends hH{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}let KT=(()=>{class e{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Hbt(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const n=function Gbt(e){try{return e.frameElement}catch{return null}}(function Zbt(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(t));if(n&&(-1===pH(n)||!this.isVisible(n)))return!1;let r=t.nodeName.toLowerCase(),s=pH(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Qbt(e){let i=e.nodeName.toLowerCase(),t="input"===i&&e.type;return"text"===t||"password"===t||"select"===i||"textarea"===i}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,n){return function Kbt(e){return!function Xbt(e){return function Ybt(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function Wbt(e){let i=e.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(e)||function jbt(e){return function $bt(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||mH(e))}(t)&&!this.isDisabled(t)&&(n?.ignoreVisibility||this.isVisible(t))}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ir))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mH(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let i=e.getAttribute("tabindex");return!(!i||isNaN(parseInt(i,10)))}function pH(e){if(!mH(e))return null;const i=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class gH{get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}constructor(i,t,n,r,s=!1){this._element=i,this._checker=t,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const i=this._startAnchor,t=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){const t=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);return"start"==i?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return n?.focus(i),!!n}return t.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){const t=this._getRegionBoundary("start");return t&&t.focus(i),!!t}focusLastTabbableElement(i){const t=this._getRegionBoundary("end");return t&&t.focus(i),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const t=i.children;for(let n=0;n<t.length;n++){const r=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(r)return r}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const t=i.children;for(let n=t.length-1;n>=0;n--){const r=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(r)return r}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,t){i?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(er(1)).subscribe(i)}}let zk=(()=>{class e{constructor(t,n,r){this._checker=t,this._ngZone=n,this._document=r}create(t,n=!1){return new gH(t,this._checker,this._ngZone,this._document,n)}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(KT),Jt(ii),Jt(Ni))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ZT(e){return 0===e.buttons||0===e.detail}function JT(e){const i=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}const Jbt=new ee("cdk-input-modality-detector-options"),qbt={ignoreKeys:[18,17,224,91,16]},$g=Ec({passive:!0,capture:!0});let t1t=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(t,n,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Wr(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(l=>l===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=_l(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ZT(o)?"keyboard":"mouse"),this._mostRecentTarget=_l(o))},this._onTouchstart=o=>{JT(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=_l(o))},this._options={...qbt,...s},this.modalityDetected=this._modality.pipe(Lk(1)),this.modalityChanged=this.modalityDetected.pipe(nu()),t.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,$g),r.addEventListener("mousedown",this._onMousedown,$g),r.addEventListener("touchstart",this._onTouchstart,$g)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,$g),document.removeEventListener("mousedown",this._onMousedown,$g),document.removeEventListener("touchstart",this._onTouchstart,$g))}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ir),Jt(ii),Jt(Ni),Jt(Jbt,8))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const e1t=new ee("liveAnnouncerElement",{providedIn:"root",factory:function i1t(){return null}}),n1t=new ee("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let r1t=0,xH=(()=>{class e{constructor(t,n,r,s){this._ngZone=n,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...n){const r=this._defaultOptions;let s,o;return 1===n.length&&"number"==typeof n[0]?o=n[0]:[s,o]=n,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",n=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<n.length;s++)n[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+r1t++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const s=n[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(e1t,8),Jt(ii),Jt(Ni),Jt(n1t,8))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var qT=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(qT||{});const s1t=new ee("cdk-focus-monitor-default-options"),tC=Ec({passive:!0,capture:!0});let Xl=(()=>{class e{constructor(t,n,r,s,o){this._ngZone=t,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Pe,this._rootNodeFocusAndBlurListener=l=>{for(let C=_l(l);C;C=C.parentElement)"focus"===l.type?this._onFocus(l,C):this._onBlur(l,C)},this._document=s,this._detectionMode=o?.detectionMode||qT.IMMEDIATE}monitor(t,n=!1){const r=xs(t);if(!this._platform.isBrowser||1!==r.nodeType)return vi();const s=kk(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return n&&(o.checkChildren=!0),o.subject;const l={checkChildren:n,subject:new Pe,rootNode:s};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(t){const n=xs(t),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(t,n,r){const s=xs(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([l,b])=>this._originChanged(l,n,b)):(this._setOrigin(n),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===qT.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,n){t.classList.toggle("cdk-focused",!!n),t.classList.toggle("cdk-touch-focused","touch"===n),t.classList.toggle("cdk-keyboard-focused","keyboard"===n),t.classList.toggle("cdk-mouse-focused","mouse"===n),t.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(t,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&n,this._detectionMode===qT.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,n){const r=this._elementInfo.get(n),s=_l(t);!r||!r.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),r)}_onBlur(t,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&t.relatedTarget instanceof Node&&n.contains(t.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(t,n){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(n))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const n=t.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,tC),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,tC)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ui(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const n=t.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,tC),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,tC),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,n,r){this._setClasses(t,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(t){const n=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&n.push([s,r])}),n}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(n))return!0;return!1}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ii),Jt(ir),Jt(t1t),Jt(Ni,8),Jt(s1t,8))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),a1t=(()=>{class e{constructor(t,n){this._elementRef=t,this._focusMonitor=n,this._focusOrigin=null,this.cdkFocusChange=new De}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(Xl))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return e})();var Jf=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(Jf||{});const yH="cdk-high-contrast-black-on-white",bH="cdk-high-contrast-white-on-black",Gk="cdk-high-contrast-active";let wH=(()=>{class e{constructor(t,n){this._platform=t,this._document=n,this._breakpointSubscription=me(aH).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Jf.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Jf.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Jf.BLACK_ON_WHITE}return Jf.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Gk,yH,bH),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();n===Jf.BLACK_ON_WHITE?t.add(Gk,yH):n===Jf.WHITE_ON_BLACK&&t.add(Gk,bH)}}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ir),Jt(Ni))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_H=(()=>{class e{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(wH))};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Nk]})}return e})();const o1t=new ee("cdk-dir-doc",{providedIn:"root",factory:function l1t(){return me(Ni)}}),c1t=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Va=(()=>{class e{constructor(t){this.value="ltr",this.change=new De,t&&(this.value=function d1t(e){const i=e?.toLowerCase()||"";return"auto"===i&&typeof navigator<"u"&&navigator?.language?c1t.test(navigator.language)?"rtl":"ltr":"rtl"===i?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(o1t,8))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Sy=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})();const u1t=["text"],h1t=[[["mat-icon"]],"*"],f1t=["mat-icon","*"];function m1t(e,i){if(1&e&&ye(0,"mat-pseudo-checkbox",1),2&e){const t=Ct();xt("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function p1t(e,i){1&e&&ye(0,"mat-pseudo-checkbox",3),2&e&&xt("disabled",Ct().disabled)}function g1t(e,i){if(1&e&&(q(0,"span",4),ut(1),et()),2&e){const t=Ct();ot(),He("(",t.group.label,")")}}const v1t=["mat-internal-form-field",""],x1t=["*"];let y1t=(()=>{class e{static#t=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#e=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#i=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#n=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return e})(),b1t=(()=>{class e{static#t=this.COMPLEX="375ms";static#e=this.ENTERING="225ms";static#i=this.EXITING="195ms"}return e})();const _1t=new ee("mat-sanity-checks",{providedIn:"root",factory:function w1t(){return!0}});let Zi=(()=>{class e{constructor(t,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Rk()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(wH),Jt(_1t,8),Jt(Ni))};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Sy,Sy]})}return e})();class Hk{constructor(i,t,n,r,s){this._defaultMatcher=i,this.ngControl=t,this._parentFormGroup=n,this._parentForm=r,this._stateChanges=s,this.errorState=!1}updateErrorState(){const i=this.errorState,t=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,s=n?.isErrorState(r,t)??!1;s!==i&&(this.errorState=s,this._stateChanges.next())}}let SH=(()=>{class e{isErrorState(t,n){return!!(t&&t.invalid&&(t.touched||n&&n.submitted))}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var jl=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(jl||{});class D1t{constructor(i,t,n,r=!1){this._renderer=i,this.element=t,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=jl.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const EH=Ec({passive:!0,capture:!0});class M1t{constructor(){this._events=new Map,this._delegateEventHandler=i=>{const t=_l(i);t&&this._events.get(i.type)?.forEach((n,r)=>{(r===t||r.contains(t))&&n.forEach(s=>s.handleEvent(i))})}}addHandler(i,t,n,r){const s=this._events.get(t);if(s){const o=s.get(n);o?o.add(r):s.set(n,new Set([r]))}else this._events.set(t,new Map([[n,new Set([r])]])),i.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,EH)})}removeHandler(i,t,n){const r=this._events.get(i);if(!r)return;const s=r.get(t);s&&(s.delete(n),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,EH)))}}const AH={enterDuration:225,exitDuration:150},DH=Ec({passive:!0,capture:!0}),MH=["mousedown","touchstart"],IH=["mouseup","mouseleave","touchend","touchcancel"];class Ay{static#t=this._eventManager=new M1t;constructor(i,t,n,r){this._target=i,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=xs(n))}fadeInRipple(i,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...AH,...n.animation};n.centered&&(i=r.left+r.width/2,t=r.top+r.height/2);const o=n.radius||function k1t(e,i,t){const n=Math.max(Math.abs(e-t.left),Math.abs(e-t.right)),r=Math.max(Math.abs(i-t.top),Math.abs(i-t.bottom));return Math.sqrt(n*n+r*r)}(i,t,r),l=i-r.left,b=t-r.top,C=s.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=l-o+"px",D.style.top=b-o+"px",D.style.height=2*o+"px",D.style.width=2*o+"px",null!=n.color&&(D.style.backgroundColor=n.color),D.style.transitionDuration=`${C}ms`,this._containerElement.appendChild(D);const R=window.getComputedStyle(D),L=R.transitionDuration,U="none"===R.transitionProperty||"0s"===L||"0s, 0s"===L||0===r.width&&0===r.height,X=new D1t(this,D,n,U);D.style.transform="scale3d(1, 1, 1)",X.state=jl.FADING_IN,n.persistent||(this._mostRecentTransientRipple=X);let W=null;return!U&&(C||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Z=()=>this._finishRippleTransition(X),rt=()=>this._destroyRipple(X);D.addEventListener("transitionend",Z),D.addEventListener("transitioncancel",rt),W={onTransitionEnd:Z,onTransitionCancel:rt}}),this._activeRipples.set(X,W),(U||!C)&&this._finishRippleTransition(X),X}fadeOutRipple(i){if(i.state===jl.FADING_OUT||i.state===jl.HIDDEN)return;const t=i.element,n={...AH,...i.config.animation};t.style.transitionDuration=`${n.exitDuration}ms`,t.style.opacity="0",i.state=jl.FADING_OUT,(i._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const t=xs(i);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,MH.forEach(n=>{Ay._eventManager.addHandler(this._ngZone,n,t,this)}))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{IH.forEach(t=>{this._triggerElement.addEventListener(t,this,DH)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){i.state===jl.FADING_IN?this._startFadeOutTransition(i):i.state===jl.FADING_OUT&&this._destroyRipple(i)}_startFadeOutTransition(i){const t=i===this._mostRecentTransientRipple,{persistent:n}=i.config;i.state=jl.VISIBLE,!n&&(!t||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){const t=this._activeRipples.get(i)??null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=jl.HIDDEN,null!==t&&(i.element.removeEventListener("transitionend",t.onTransitionEnd),i.element.removeEventListener("transitioncancel",t.onTransitionCancel)),i.element.remove()}_onMousedown(i){const t=ZT(i),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!JT(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=i.changedTouches;if(t)for(let n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{!i.config.persistent&&(i.state===jl.VISIBLE||i.config.terminateOnPointerUp&&i.state===jl.FADING_IN)&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const i=this._triggerElement;i&&(MH.forEach(t=>Ay._eventManager.removeHandler(t,i,this)),this._pointerUpEventsRegistered&&IH.forEach(t=>i.removeEventListener(t,this,DH)))}}const eC=new ee("mat-ripple-global-options");let ru=(()=>{class e{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,n,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Ay(this,n,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,n=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(ii),mt(ir),mt(eC,8),mt(Nr,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){2&n&&bi("mat-ripple-unbounded",r.unbounded)},inputs:{color:[Wt.None,"matRippleColor","color"],unbounded:[Wt.None,"matRippleUnbounded","unbounded"],centered:[Wt.None,"matRippleCentered","centered"],radius:[Wt.None,"matRippleRadius","radius"],animation:[Wt.None,"matRippleAnimation","animation"],disabled:[Wt.None,"matRippleDisabled","disabled"],trigger:[Wt.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return e})(),Qg=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Zi,Zi]})}return e})(),R1t=(()=>{class e{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Nr,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,r){2&n&&bi("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Vi],decls:0,vars:0,template:function(n,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return e})(),kH=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Zi]})}return e})();const Wk=new ee("MAT_OPTION_PARENT_COMPONENT"),Xk=new ee("MatOptgroup");let P1t=0;class RH{constructor(i,t=!1){this.source=i,this.isUserInput=t}}let su=(()=>{class e{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=t}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,n,r,s){this._element=t,this._changeDetectorRef=n,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+P1t++,this.onSelectionChange=new De,this._stateChanges=new Pe}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,n){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!io(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new RH(this,t))}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(Mn),mt(Wk,8),mt(Xk,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-option"]],viewQuery:function(n,r){if(1&n&&Mi(u1t,7),2&n){let s;Be(s=Ve())&&(r._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,r){1&n&&Vt("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),2&n&&(Jc("id",r.id),Ti("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),bi("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Je]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[ln,Vi],ngContentSelectors:f1t,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,r){1&n&&(Kn(h1t),Gt(0,m1t,1,2,"mat-pseudo-checkbox",1),xi(1),q(2,"span",2,0),xi(4,1),et(),Gt(5,p1t,1,1,"mat-pseudo-checkbox",3)(6,g1t,2,1,"span",4),ye(7,"div",5)),2&n&&(xn(0,r.multiple?0:-1),ot(5),xn(5,r.multiple||!r.selected||r.hideSingleSelectionIndicator?-1:5),ot(),xn(6,r.group&&r.group._inert?6:-1),ot(),xt("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[R1t,ru],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return e})();function PH(e,i,t){if(t.length){let n=i.toArray(),r=t.toArray(),s=0;for(let o=0;o<e+1;o++)n[o].group&&n[o].group===r[s]&&s++;return s}return 0}function FH(e,i,t,n){return e<t?e:e+i>t+n?Math.max(0,e-n+i):t}let iC=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Qg,Zi,kH]})}return e})();const OH={capture:!0},LH=["focus","click","mouseenter","touchstart"],jk="mat-ripple-loader-uninitialized",Yk="mat-ripple-loader-class-name",NH="mat-ripple-loader-centered",nC="mat-ripple-loader-disabled";let F1t=(()=>{class e{constructor(){this._document=me(Ni,{optional:!0}),this._animationMode=me(Nr,{optional:!0}),this._globalRippleOptions=me(eC,{optional:!0}),this._platform=me(ir),this._ngZone=me(ii),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${jk}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of LH)this._document?.addEventListener(t,this._onInteraction,OH)})}ngOnDestroy(){const t=this._hosts.keys();for(const n of t)this.destroyRipple(n);for(const n of LH)this._document?.removeEventListener(n,this._onInteraction,OH)}configureRipple(t,n){t.setAttribute(jk,""),(n.className||!t.hasAttribute(Yk))&&t.setAttribute(Yk,n.className||""),n.centered&&t.setAttribute(NH,""),n.disabled&&t.setAttribute(nC,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,n){const r=this._hosts.get(t);r?r.disabled=n:n?t.setAttribute(nC,""):t.removeAttribute(nC)}_createRipple(t){if(!this._document)return;const n=this._hosts.get(t);if(n)return n;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(Yk)),t.append(r);const s=new ru(new si(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=t,s.centered=t.hasAttribute(NH),s.disabled=t.hasAttribute(nC),this.attachRipple(t,s),s}attachRipple(t,n){t.removeAttribute(jk),this._hosts.set(t,n)}destroyRipple(t){const n=this._hosts.get(t);n&&(n.ngOnDestroy(),this._hosts.delete(t))}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$k=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=$e({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(n,r){2&n&&bi("mdc-form-field--align-end","before"===r.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Vi],attrs:v1t,ngContentSelectors:x1t,decls:1,vars:0,template:function(n,r){1&n&&(Kn(),xi(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0})}return e})();const BH=["mat-button",""],VH=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],UH=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],zH=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",L1t=["mat-icon-button",""],N1t=["*"],B1t=new ee("MAT_BUTTON_CONFIG"),V1t=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let Qk=(()=>{class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,n,r,s){this._elementRef=t,this._platform=n,this._ngZone=r,this._animationMode=s,this._focusMonitor=me(Xl),this._rippleLoader=me(F1t),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const o=me(B1t,{optional:!0}),l=t.nativeElement,b=l.classList;this.disabledInteractive=o?.disabledInteractive??!1,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(const{attribute:C,mdcClasses:D}of V1t)l.hasAttribute(C)&&b.add(...D)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",n){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#t=this.\u0275fac=function(n){o_()};static#e=this.\u0275dir=ce({type:e,inputs:{color:"color",disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Je],disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Je],ariaDisabled:[Wt.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",Je],disabledInteractive:[Wt.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",Je]},features:[ln]})}return e})(),U1t=(()=>{class e extends Qk{constructor(t,n,r,s){super(t,n,r,s),this._haltDisabledEvents=o=>{this.disabled&&(o.preventDefault(),o.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#t=this.\u0275fac=function(n){o_()};static#e=this.\u0275dir=ce({type:e,inputs:{tabIndex:[Wt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?void 0:jr(t)]},features:[ln,hi]})}return e})(),Ea=(()=>{class e extends Qk{constructor(t,n,r,s){super(t,n,r,s)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(ir),mt(ii),mt(Nr,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,r){2&n&&(Ti("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Ul(r.color?"mat-"+r.color:""),bi("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[hi,Vi],attrs:BH,ngContentSelectors:UH,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(Kn(VH),ye(0,"span",0),xi(1),q(2,"span",1),xi(3,1),et(),xi(4,2),ye(5,"span",2)(6,"span",3)),2&n&&bi("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return e})(),z1t=(()=>{class e extends U1t{constructor(t,n,r,s){super(t,n,r,s)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(ir),mt(ii),mt(Nr,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(n,r){2&n&&(Ti("disabled",r._getDisabledAttribute())("tabindex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("aria-disabled",r._getDisabledAttribute()),Ul(r.color?"mat-"+r.color:""),bi("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[hi,Vi],attrs:BH,ngContentSelectors:UH,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(Kn(VH),ye(0,"span",0),xi(1),q(2,"span",1),xi(3,1),et(),xi(4,2),ye(5,"span",2)(6,"span",3)),2&n&&bi("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',zH],encapsulation:2,changeDetection:0})}return e})(),Oo=(()=>{class e extends Qk{constructor(t,n,r,s){super(t,n,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(ir),mt(ii),mt(Nr,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,r){2&n&&(Ti("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Ul(r.color?"mat-"+r.color:""),bi("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[hi,Vi],attrs:L1t,ngContentSelectors:N1t,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(Kn(),ye(0,"span",0),xi(1),ye(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',zH],encapsulation:2,changeDetection:0})}return e})(),Kk=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Zi,Qg,Zi]})}return e})();var Ji=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(Ji||{});const au="*";function mr(e,i){return{type:Ji.Trigger,name:e,definitions:i,options:{}}}function sn(e,i=null){return{type:Ji.Animate,styles:i,timings:e}}function Zk(e,i=null){return{type:Ji.Group,steps:e,options:i}}function qe(e){return{type:Ji.Style,styles:e,offset:null}}function kn(e,i,t){return{type:Ji.State,name:e,styles:i,options:t}}function Kg(e){return{type:Ji.Keyframes,steps:e}}function on(e,i,t=null){return{type:Ji.Transition,expr:e,animation:i,options:t}}function rC(e=null){return{type:Ji.AnimateChild,options:e}}function sC(e,i,t=null){return{type:Ji.Query,selector:e,animation:i,options:t}}class Dy{constructor(i=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class GH{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let t=0,n=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,l)=>Math.max(o,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const t=i*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(r)})}getPosition(){const i=this.players.reduce((t,n)=>null===t||n.totalTime>t.totalTime?n:t,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class qk{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class Zg extends qk{constructor(i,t,n,r,s){super(),this.component=i,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=s}}class ou extends qk{constructor(i,t,n,r){super(),this.templateRef=i,this.viewContainerRef=t,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(i,t=this.context){return this.context=t,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class $1t extends qk{constructor(i){super(),this.element=i instanceof si?i.nativeElement:i}}class aC{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof Zg?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof ou?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof $1t?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Q1t extends aC{constructor(i,t,n,r,s){super(),this.outletElement=i,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=o=>{const l=o.element,b=this._document.createComment("dom-portal");l.parentNode.insertBefore(b,l),this.outletElement.appendChild(l),this._attachedPortal=o,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(l,b)})},this._document=s}attachComponentPortal(i){const n=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let r;return i.viewContainerRef?(r=i.viewContainerRef.createComponent(n,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector,i.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(i.injector||this._defaultInjector||is.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=i,r}attachTemplatePortal(i){let t=i.viewContainerRef,n=t.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(n);-1!==r&&t.remove(r)}),this._attachedPortal=i,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let K1t=(()=>{class e extends ou{constructor(t,n){super(t,n)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fr),mt(Ir))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[hi]})}return e})(),lu=(()=>{class e extends aC{constructor(t,n,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new De,this.attachDomPortal=s=>{const o=s.element,l=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(l,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(o,l)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const n=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=n.createComponent(s,n.length,t.injector||n.injector,t.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lf),mt(Ir),mt(Ni))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[Wt.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[hi]})}return e})(),Jg=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})();const Z1t=["addListener","removeListener"],J1t=["addEventListener","removeEventListener"],q1t=["on","off"];function Ac(e,i,t,n){if(ne(t)&&(n=t,t=void 0),n)return Ac(e,i,t).pipe(HI(n));const[r,s]=function iwt(e){return ne(e.addEventListener)&&ne(e.removeEventListener)}(e)?J1t.map(o=>l=>e[o](i,l,t)):function twt(e){return ne(e.addListener)&&ne(e.removeListener)}(e)?Z1t.map(HH(e,i)):function ewt(e){return ne(e.on)&&ne(e.off)}(e)?q1t.map(HH(e,i)):[];if(!r&&zI(e))return Ta(o=>Ac(o,i,t))(eo(e));if(!r)throw new TypeError("Invalid event target");return new ur(o=>{const l=(...b)=>o.next(1<b.length?b:b[0]);return r(l),()=>s(l)})}function HH(e,i){return t=>n=>e[t](i,n)}const My={schedule(e){let i=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:n}=My;n&&(i=n.requestAnimationFrame,t=n.cancelAnimationFrame);const r=i(s=>{t=void 0,e(s)});return new Ie(()=>t?.(r))},requestAnimationFrame(...e){const{delegate:i}=My;return(i?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:i}=My;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},WH=new class rwt extends Ok{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;i=i||n.shift();do{if(r=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===t&&n.shift());if(this._active=!1,r){for(;(i=n[0])&&i.id===t&&n.shift();)i.unsubscribe();throw r}}}(class nwt extends Fk{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,n=0){return null!==n&&n>0?super.requestAsyncId(i,t,n):(i.actions.push(this),i._scheduled||(i._scheduled=My.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(i,t,n);const{actions:s}=i;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(My.cancelAnimationFrame(t),i._scheduled=void 0)}});let tR,swt=1;const oC={};function XH(e){return e in oC&&(delete oC[e],!0)}const awt={setImmediate(e){const i=swt++;return oC[i]=!0,tR||(tR=Promise.resolve()),tR.then(()=>XH(i)&&e()),i},clearImmediate(e){XH(e)}},{setImmediate:owt,clearImmediate:lwt}=awt,lC={setImmediate(...e){const{delegate:i}=lC;return(i?.setImmediate||owt)(...e)},clearImmediate(e){const{delegate:i}=lC;return(i?.clearImmediate||lwt)(e)},delegate:void 0},eR=new class dwt extends Ok{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;i=i||n.shift();do{if(r=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===t&&n.shift());if(this._active=!1,r){for(;(i=n[0])&&i.id===t&&n.shift();)i.unsubscribe();throw r}}}(class cwt extends Fk{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,n=0){return null!==n&&n>0?super.requestAsyncId(i,t,n):(i.actions.push(this),i._scheduled||(i._scheduled=lC.setImmediate(i.flush.bind(i,void 0))))}recycleAsyncId(i,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(i,t,n);const{actions:s}=i;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(lC.clearImmediate(t),i._scheduled===t&&(i._scheduled=void 0))}});function Iy(e=0,i,t=Fbt){let n=-1;return null!=i&&(_z(i)?t=i:n=i),new ur(r=>{let s=function hwt(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function jH(e,i=Ty){return function uwt(e){return ds((i,t)=>{let n=!1,r=null,s=null,o=!1;const l=()=>{if(s?.unsubscribe(),s=null,n){n=!1;const C=r;r=null,t.next(C)}o&&t.complete()},b=()=>{s=null,o&&t.complete()};i.subscribe(Xr(t,C=>{n=!0,r=C,s||eo(e(C)).subscribe(s=Xr(t,l,b))},()=>{o=!0,(!n||!s||s.closed)&&t.complete()}))})}(()=>Iy(e,i))}let ky=(()=>{class e{constructor(t,n,r){this._ngZone=t,this._platform=n,this._scrolled=new Pe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const n=this.scrollContainers.get(t);n&&(n.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ur(n=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(jH(t)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):vi()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(t,n){const r=this.getAncestorScrollContainers(t);return this.scrolled(n).pipe(In(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const n=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,n){let r=xs(n),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ac(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ii),Jt(ir),Jt(Ni,8))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cC=(()=>{class e{constructor(t,n,r,s){this.elementRef=t,this.scrollDispatcher=n,this.ngZone=r,this.dir=s,this._destroyed=new Pe,this._elementScrolled=new ur(o=>this.ngZone.runOutsideAngular(()=>Ac(this.elementRef.nativeElement,"scroll").pipe(Ui(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const n=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=n.scrollHeight-n.clientHeight-t.bottom),r&&by()!=od.NORMAL?(null!=t.left&&(t.right=n.scrollWidth-n.clientWidth-t.left),by()==od.INVERTED?t.left=t.right:by()==od.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=n.scrollWidth-n.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const n=this.elementRef.nativeElement;tH()?n.scrollTo(t):(null!=t.top&&(n.scrollTop=t.top),null!=t.left&&(n.scrollLeft=t.left))}measureScrollOffset(t){const n="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:n:"end"==t&&(t=o?n:r),o&&by()==od.INVERTED?t==n?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&by()==od.NEGATED?t==n?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==n?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(ky),mt(ii),mt(Va,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return e})(),cu=(()=>{class e{constructor(t,n,r){this._platform=t,this._change=new Pe,this._changeListener=s=>{this._change.next(s)},this._document=r,n.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,n=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||n.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(jH(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ir),Jt(ii),Jt(Ni,8))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),du=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})(),iR=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Sy,du,Sy,du]})}return e})();function YH(e,i=!1){return ds((t,n)=>{let r=0;t.subscribe(Xr(n,s=>{const o=e(s,r++);(o||i)&&n.next(s),!o&&n.complete()}))})}function Yr(...e){const i=qx(e),t=function r0t(e,i){return"number"==typeof GI(e)?e.pop():i}(e,1/0),n=e;return n.length?1===n.length?eo(n[0]):Ag(t)(ks(n,i)):Jo}const $H=tH();class pwt{constructor(i,t){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=$s(-this._previousScrollPosition.left),i.style.top=$s(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,n=i.style,r=this._document.body.style,s=n.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),$H&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),$H&&(n.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,n=this._viewportRuler.getViewportSize();return t.scrollHeight>n.height||t.scrollWidth>n.width}}class gwt{constructor(i,t,n,r){this._scrollDispatcher=i,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0).pipe(In(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class QH{enable(){}disable(){}attach(){}}function nR(e,i){return i.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function KH(e,i){return i.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class vwt{constructor(i,t,n,r){this._scrollDispatcher=i,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();nR(t,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let xwt=(()=>{class e{constructor(t,n,r,s){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new QH,this.close=o=>new gwt(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new pwt(this._viewportRuler,this._document),this.reposition=o=>new vwt(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ky),Jt(cu),Jt(ii),Jt(Ni))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class qg{constructor(i){if(this.scrollStrategy=new QH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const t=Object.keys(i);for(const n of t)void 0!==i[n]&&(this[n]=i[n])}}}class ywt{constructor(i,t){this.connectionPair=i,this.scrollableViewProperties=t}}let ZH=(()=>{class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const n=this._attachedOverlays.indexOf(t);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Ni))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),bwt=(()=>{class e extends ZH{constructor(t,n){super(t),this._ngZone=n,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const l=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Ni),Jt(ii,8))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wwt=(()=>{class e extends ZH{constructor(t,n,r){super(t),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=_l(s)},this._clickListener=s=>{const o=_l(s),l="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const b=this._attachedOverlays.slice();for(let C=b.length-1;C>-1;C--){const D=b[C];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(o)||D.overlayElement.contains(l))break;const R=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(s)):R.next(s)}}}add(t){if(super.add(t),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Ni),Jt(ir),Jt(ii,8))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dC=(()=>{class e{constructor(t,n){this._platform=n,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Rk()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const n=this._document.createElement("div");n.classList.add(t),Rk()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Ni),Jt(ir))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class uC{constructor(i,t,n,r,s,o,l,b,C,D=!1){this._portalOutlet=i,this._host=t,this._pane=n,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=l,this._location=b,this._outsideClickDispatcher=C,this._animationsDisabled=D,this._backdropElement=null,this._backdropClick=new Pe,this._attachments=new Pe,this._detachments=new Pe,this._locationChanges=Ie.EMPTY,this._backdropClickHandler=R=>this._backdropClick.next(R),this._backdropTransitionendHandler=R=>{this._disposeBackdrop(R.target)},this._keydownEvents=new Pe,this._outsidePointerEvents=new Pe,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(er(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config={...this._config,...i},this._updateElementSize()}setDirection(i){this._config={...this._config,direction:i},this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=$s(this._config.width),i.height=$s(this._config.height),i.minWidth=$s(this._config.minWidth),i.minHeight=$s(this._config.minHeight),i.maxWidth=$s(this._config.maxWidth),i.maxHeight=$s(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const i=this._backdropElement;if(i){if(this._animationsDisabled)return void this._disposeBackdrop(i);i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",this._backdropTransitionendHandler)}),i.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(i)},500))}}_toggleClasses(i,t,n){const r=Cy(t||[]).filter(s=>!!s);r.length&&(n?i.classList.add(...r):i.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(Ui(Yr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}_disposeBackdrop(i){i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",this._backdropTransitionendHandler),i.remove(),this._backdropElement===i&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const JH="cdk-overlay-connected-position-bounding-box",_wt=/([A-Za-z%]+)$/;class Twt{get positions(){return this._preferredPositions}constructor(i,t,n,r,s){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Pe,this._resizeSubscription=Ie.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}attach(i){this._validatePositions(),i.hostElement.classList.add(JH),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const i=this._originRect,t=this._overlayRect,n=this._viewportRect,r=this._containerRect,s=[];let o;for(let l of this._preferredPositions){let b=this._getOriginPoint(i,r,l),C=this._getOverlayPoint(b,t,l),D=this._getOverlayFit(C,t,n,l);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,b);this._canFitWithFlexibleDimensions(D,C,n)?s.push({position:l,origin:b,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(b,l)}):(!o||o.overlayFit.visibleArea<D.visibleArea)&&(o={overlayFit:D,overlayPoint:C,originPoint:b,position:l,overlayRect:t})}if(s.length){let l=null,b=-1;for(const C of s){const D=C.boundingBoxRect.width*C.boundingBoxRect.height*(C.position.weight||1);D>b&&(b=D,l=C)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&qf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(JH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,t)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,t,n){let r,s;if("center"==n.originX)r=i.left+i.width/2;else{const o=this._isRtl()?i.right:i.left,l=this._isRtl()?i.left:i.right;r="start"==n.originX?o:l}return t.left<0&&(r-=t.left),s="center"==n.originY?i.top+i.height/2:"top"==n.originY?i.top:i.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(i,t,n){let r,s;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:i.x+r,y:i.y+s}}_getOverlayFit(i,t,n,r){const s=t7(t);let{x:o,y:l}=i,b=this._getOffset(r,"x"),C=this._getOffset(r,"y");b&&(o+=b),C&&(l+=C);let O=0-l,L=l+s.height-n.height,U=this._subtractOverflows(s.width,0-o,o+s.width-n.width),X=this._subtractOverflows(s.height,O,L),W=U*X;return{visibleArea:W,isCompletelyWithinViewport:s.width*s.height===W,fitsInViewportVertically:X===s.height,fitsInViewportHorizontally:U==s.width}}_canFitWithFlexibleDimensions(i,t,n){if(this._hasFlexibleDimensions){const r=n.bottom-t.y,s=n.right-t.x,o=qH(this._overlayRef.getConfig().minHeight),l=qH(this._overlayRef.getConfig().minWidth);return(i.fitsInViewportVertically||null!=o&&o<=r)&&(i.fitsInViewportHorizontally||null!=l&&l<=s)}return!1}_pushOverlayOnScreen(i,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const r=t7(t),s=this._viewportRect,o=Math.max(i.x+r.width-s.width,0),l=Math.max(i.y+r.height-s.height,0),b=Math.max(s.top-n.top-i.y,0),C=Math.max(s.left-n.left-i.x,0);let D=0,R=0;return D=r.width<=s.width?C||-o:i.x<this._viewportMargin?s.left-n.left-i.x:0,R=r.height<=s.height?b||-l:i.y<this._viewportMargin?s.top-n.top-i.y:0,this._previousPushAmount={x:D,y:R},{x:i.x+D,y:i.y+R}}_applyPosition(i,t){if(this._setTransformOrigin(i),this._setOverlayElementStyles(t,i),this._setBoundingBoxStyles(t,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._positionChanges.observers.length){const n=this._getScrollVisibility();if(i!==this._lastPosition||!this._lastScrollVisibility||!function Cwt(e,i){return e===i||e.isOriginClipped===i.isOriginClipped&&e.isOriginOutsideView===i.isOriginOutsideView&&e.isOverlayClipped===i.isOverlayClipped&&e.isOverlayOutsideView===i.isOverlayOutsideView}(this._lastScrollVisibility,n)){const r=new ywt(i,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=i,this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=i.overlayY;n="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(i,t){const n=this._viewportRect,r=this._isRtl();let s,o,l,D,R,O;if("top"===t.overlayY)o=i.y,s=n.height-o+this._viewportMargin;else if("bottom"===t.overlayY)l=n.height-i.y+2*this._viewportMargin,s=n.height-l+this._viewportMargin;else{const L=Math.min(n.bottom-i.y+n.top,i.y),U=this._lastBoundingBoxSize.height;s=2*L,o=i.y-L,s>U&&!this._isInitialRender&&!this._growAfterOpen&&(o=i.y-U/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)O=n.width-i.x+2*this._viewportMargin,D=i.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)R=i.x,D=n.right-i.x;else{const L=Math.min(n.right-i.x+n.left,i.x),U=this._lastBoundingBoxSize.width;D=2*L,R=i.x-L,D>U&&!this._isInitialRender&&!this._growAfterOpen&&(R=i.x-U/2)}return{top:o,left:R,bottom:l,right:O,width:D,height:s}}_setBoundingBoxStyles(i,t){const n=this._calculateBoundingBoxRect(i,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=$s(n.height),r.top=$s(n.top),r.bottom=$s(n.bottom),r.width=$s(n.width),r.left=$s(n.left),r.right=$s(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=$s(s)),o&&(r.maxWidth=$s(o))}this._lastBoundingBoxSize=n,qf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){qf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){qf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,t){const n={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const D=this._viewportRuler.getViewportScrollPosition();qf(n,this._getExactOverlayY(t,i,D)),qf(n,this._getExactOverlayX(t,i,D))}else n.position="static";let l="",b=this._getOffset(t,"x"),C=this._getOffset(t,"y");b&&(l+=`translateX(${b}px) `),C&&(l+=`translateY(${C}px)`),n.transform=l.trim(),o.maxHeight&&(r?n.maxHeight=$s(o.maxHeight):s&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=$s(o.maxWidth):s&&(n.maxWidth="")),qf(this._pane.style,n)}_getExactOverlayY(i,t,n){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,i);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),"bottom"===i.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=$s(s.y),r}_getExactOverlayX(i,t,n){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,i);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),o=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=$s(s.x),r}_getScrollVisibility(){const i=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:KH(i,n),isOriginOutsideView:nR(i,n),isOverlayClipped:KH(t,n),isOverlayOutsideView:nR(t,n)}}_subtractOverflows(i,...t){return t.reduce((n,r)=>n-Math.max(r,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+i-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:i-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,t){return"x"===t?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Cy(i).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof si)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const t=i.width||0,n=i.height||0;return{top:i.y,bottom:i.y+n,left:i.x,right:i.x+t,height:n,width:t}}}function qf(e,i){for(let t in i)i.hasOwnProperty(t)&&(e[t]=i[t]);return e}function qH(e){if("number"!=typeof e&&null!=e){const[i,t]=e.split(_wt);return t&&"px"!==t?null:parseFloat(i)}return e||null}function t7(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}const e7="cdk-global-overlay-wrapper";class Swt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(i){const t=i.getConfig();this._overlayRef=i,this._width&&!t.width&&i.updateSize({width:this._width}),this._height&&!t.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(e7),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:l}=n,b=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),C=!("100%"!==s&&"100vh"!==s||l&&"100%"!==l&&"100vh"!==l),D=this._xPosition,R=this._xOffset,O="rtl"===this._overlayRef.getConfig().direction;let L="",U="",X="";b?X="flex-start":"center"===D?(X="center",O?U=R:L=R):O?"left"===D||"end"===D?(X="flex-end",L=R):("right"===D||"start"===D)&&(X="flex-start",U=R):"left"===D||"start"===D?(X="flex-start",L=R):("right"===D||"end"===D)&&(X="flex-end",U=R),i.position=this._cssPosition,i.marginLeft=b?"0":L,i.marginTop=C?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=b?"0":U,t.justifyContent=X,t.alignItems=C?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(e7),n.justifyContent=n.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let Ewt=(()=>{class e{constructor(t,n,r,s){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=s}global(){return new Swt}flexibleConnectedTo(t){return new Twt(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(cu),Jt(Ni),Jt(ir),Jt(dC))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Awt=0,ys=(()=>{class e{constructor(t,n,r,s,o,l,b,C,D,R,O,L){this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=l,this._ngZone=b,this._document=C,this._directionality=D,this._location=R,this._outsideClickDispatcher=O,this._animationsModuleType=L}create(t){const n=this._createHostElement(),r=this._createPaneElement(n),s=this._createPortalOutlet(r),o=new qg(t);return o.direction=o.direction||this._directionality.value,new uC(s,n,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const n=this._document.createElement("div");return n.id="cdk-overlay-"+Awt++,n.classList.add("cdk-overlay-pane"),t.appendChild(n),n}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Yd)),new Q1t(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(xwt),Jt(dC),Jt(Lf),Jt(Ewt),Jt(bwt),Jt(is),Jt(ii),Jt(Ni),Jt(Va),Jt(jf),Jt(wwt),Jt(Nr,8))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Dwt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i7=new ee("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const e=me(ys);return()=>e.scrollStrategies.reposition()}});let rR=(()=>{class e{constructor(t){this.elementRef=t}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return e})(),n7=(()=>{class e{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}constructor(t,n,r,s,o){this._overlay=t,this._dir=o,this._backdropSubscription=Ie.EMPTY,this._attachSubscription=Ie.EMPTY,this._detachSubscription=Ie.EMPTY,this._positionSubscription=Ie.EMPTY,this._disposeOnNavigation=!1,this._ngZone=me(ii),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new De,this.positionChange=new De,this.attach=new De,this.detach=new De,this.overlayKeydown=new De,this.overlayOutsideClick=new De,this._templatePortal=new ou(n,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Dwt);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!io(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),n=new qg({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(t){const n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof rR?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(YH(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(ys),mt(fr),mt(Ir),mt(i7),mt(Va,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[Wt.None,"cdkConnectedOverlayOrigin","origin"],positions:[Wt.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[Wt.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[Wt.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[Wt.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[Wt.None,"cdkConnectedOverlayWidth","width"],height:[Wt.None,"cdkConnectedOverlayHeight","height"],minWidth:[Wt.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[Wt.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[Wt.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[Wt.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[Wt.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[Wt.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[Wt.None,"cdkConnectedOverlayOpen","open"],disableClose:[Wt.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[Wt.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[Wt.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Je],lockPosition:[Wt.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",Je],flexibleDimensions:[Wt.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Je],growAfterOpen:[Wt.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Je],push:[Wt.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",Je],disposeOnNavigation:[Wt.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Je]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[ln,tr]})}return e})();const Iwt={provide:i7,deps:[ys],useFactory:function Mwt(e){return()=>e.scrollStrategies.reposition()}};let tm=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[ys,Iwt],imports:[Sy,Jg,iR,iR]})}return e})();function kwt(e,i){if(1&e){const t=pe();q(0,"div",1)(1,"button",2),Vt("click",function(){return Ut(t),zt(Ct().action())}),ut(2),et()()}if(2&e){const t=Ct();ot(2),He(" ",t.data.action," ")}}const Rwt=["label"];function Pwt(e,i){}const Fwt=Math.pow(2,31)-1;class hC{constructor(i,t){this._overlayRef=t,this._afterDismissed=new Pe,this._afterOpened=new Pe,this._onAction=new Pe,this._dismissedByAction=!1,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,Fwt))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const sR=new ee("MatSnackBarData");class fC{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let r7=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return e})(),s7=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return e})(),a7=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return e})(),o7=(()=>{class e{constructor(t,n){this.snackBarRef=t,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#t=this.\u0275fac=function(n){return new(n||e)(mt(hC),mt(sR))};static#e=this.\u0275cmp=$e({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Vi],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,r){1&n&&(q(0,"div",0),ut(1),et(),Gt(2,kwt,3,1,"div",1)),2&n&&(ot(),He(" ",r.data.message,"\n"),ot(),xn(2,r.hasAction?2:-1))},dependencies:[Ea,r7,s7,a7],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return e})();const Owt={snackBarState:mr("state",[kn("void, hidden",qe({transform:"scale(0.8)",opacity:0})),kn("visible",qe({transform:"scale(1)",opacity:1})),on("* => visible",sn("150ms cubic-bezier(0, 0, 0.2, 1)")),on("* => void, * => hidden",sn("75ms cubic-bezier(0.4, 0.0, 1, 1)",qe({opacity:0})))])};let Lwt=0,l7=(()=>{class e extends aC{constructor(t,n,r,s,o){super(),this._ngZone=t,this._elementRef=n,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._document=me(Ni),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Pe,this._onExit=new Pe,this._onEnter=new Pe,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Lwt++,this.attachDomPortal=l=>{this._assertNotAttached();const b=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),b},this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const n=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),n}attachTemplatePortal(t){this._assertNotAttached();const n=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),n}onAnimationEnd(t){const{fromState:n,toState:r}=t;if(("void"===r&&"void"!==n||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const t=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(o=>t.classList.add(o)):t.classList.add(n)),this._exposeToModals();const r=this._label.nativeElement,s="mdc-snackbar__label";r.classList.toggle(s,!r.querySelector(`.${s}`))}_exposeToModals(){const t=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const s=n[r],o=s.getAttribute("aria-owns");this._trackedModals.add(s),o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const n=t.getAttribute("aria-owns");if(n){const r=n.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&n){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),n.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(ii),mt(si),mt(Mn),mt(ir),mt(fC))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,r){if(1&n&&(Mi(lu,7),Mi(Rwt,7)),2&n){let s;Be(s=Ve())&&(r._portalOutlet=s.first),Be(s=Ve())&&(r._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(n,r){1&n&&H_("@state.done",function(o){return r.onAnimationEnd(o)}),2&n&&B_("@state",r._animationState)},standalone:!0,features:[hi,Vi],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(q(0,"div",1)(1,"div",2,0)(3,"div",3),Gt(4,Pwt,0,0,"ng-template",4),et(),ye(5,"div"),et()()),2&n&&(ot(5),Ti("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[lu],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Owt.snackBarState]}})}return e})();const Bwt=new ee("mat-snack-bar-default-options",{providedIn:"root",factory:function Nwt(){return new fC}});let Eh=(()=>{class e{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,n,r,s,o,l){this._overlay=t,this._live=n,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=o7,this.snackBarContainerComponent=l7,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(t,n){return this._attach(t,n)}openFromTemplate(t,n){return this._attach(t,n)}open(t,n="",r){const s={...this._defaultConfig,...r};return s.data={message:t,action:n},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,n){const s=is.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:fC,useValue:n}]}),o=new Zg(this.snackBarContainerComponent,n.viewContainerRef,s),l=t.attach(o);return l.instance.snackBarConfig=n,l.instance}_attach(t,n){const r={...new fC,...this._defaultConfig,...n},s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),l=new hC(o,s);if(t instanceof fr){const b=new ou(t,null,{$implicit:r.data,snackBarRef:l});l.instance=o.attachTemplatePortal(b)}else{const b=this._createInjector(r,l),C=new Zg(t,void 0,b),D=o.attachComponentPortal(C);l.instance=D.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Ui(s.detachments())).subscribe(b=>{s.overlayElement.classList.toggle(this.handsetCssClass,b.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(l,r),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(t,n){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),n.duration&&n.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(n.duration))}_createOverlay(t){const n=new qg;n.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,o="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,l=!o&&"center"!==t.horizontalPosition;return o?r.left("0"):l?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),n.positionStrategy=r,this._overlay.create(n)}_createInjector(t,n){return is.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:hC,useValue:n},{provide:sR,useValue:t.data}]})}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ys),Jt(xH),Jt(is),Jt(aH),Jt(e,12),Jt(Bwt))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vwt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[Eh],imports:[tm,Jg,Kk,Zi,o7,Zi]})}return e})(),Ar=(()=>{class e{constructor(t,n){this.sbRef=t,this.data=n}static#t=this.\u0275fac=function(n){return new(n||e)(mt(hC),mt(sR))};static#e=this.\u0275cmp=$e({type:e,selectors:[["snack-alert"]],decls:2,vars:1,consts:[[1,"example-alert"]],template:function(n,r){1&n&&(q(0,"span",0),ut(1),et()),2&n&&(ot(),Xe(r.data))},styles:[".example-alert[_ngcontent-%COMP%]{color:#fff}"]})}return e})(),da=(()=>{class e{constructor(t,n){this.http=t,this._snackBar=n,this.snowstormFhirBase="https://snowstorm.ihtsdotools.org/fhir",this.defaultFhirUrlParam="http://snomed.info/sct",this.fhirUrlParam=this.defaultFhirUrlParam,this.lang="en",this.snowstormFhirBaseSubject=new Wr(this.snowstormFhirBase),this.fhirUrlParamSubject=new Wr(this.fhirUrlParam),this.langSubject=new Wr(this.lang),this.snowstormFhirBase$=this.snowstormFhirBaseSubject.asObservable(),this.fhirUrlParam$=this.fhirUrlParamSubject.asObservable(),this.lang$=this.langSubject.asObservable(),this.conceptCache=new Map}setSnowstormFhirBase(t){this.snowstormFhirBase=t,this.snowstormFhirBaseSubject.next(t)}setFhirUrlParam(t){this.fhirUrlParam=t,this.fhirUrlParamSubject.next(t)}setLang(t){this.lang=t,this.langSubject.next(t)}getSnowstormFhirBase(){return this.snowstormFhirBase}getFhirUrlParam(){return this.fhirUrlParam}getLang(){return this.lang}getCodeSystems(){return this.http.get(`${this.snowstormFhirBase}/CodeSystem`).pipe(la(this.handleError("getCodeSystems",{})))}getCodeSystem(t){return this.http.get(`${this.snowstormFhirBase}/CodeSystem?version=${t}`).pipe(la(this.handleError("getCodeSystem",{})))}getValueSetExpansionUrl(t,n,r,s){return r||(r=0),s||(s=20),"string"!=typeof n&&(n=""),`${this.snowstormFhirBase}/ValueSet/$expand?url=${this.fhirUrlParam}?fhir_vs=ecl/${encodeURIComponent(t)}&count=${s}&offset=${r}&filter=${n}&language=${this.lang}&displayLanguage=${this.lang}`}expandValueSet(t,n,r,s){let o=this.getValueSetExpansionUrl(t,n,r,s);return this.http.get(o).pipe(la(this.handleError("expandValueSet",{})))}translate(t,n,r){return r||(r=this.defaultFhirUrlParam),this.http.get(`${this.snowstormFhirBase}/ConceptMap/$translate?url=http://snomed.info/sct?fhir_cm=${t}&code=${n}&system=${r}`).pipe(la(this.handleError("translate",{})))}expandValueSetFromServer(t,n,r,s,o,l){o||(o=0),l||(l=20),t||(t=this.snowstormFhirBase),n||(n=this.fhirUrlParam),"string"!=typeof s&&(s="");let b=`${t}/ValueSet/$expand?url=${n}?fhir_vs=ecl/${encodeURIComponent(r)}&count=${l}&offset=${o}&filter=${s}&language=${this.lang}&displayLanguage=${this.lang}`;return this.http.get(b).pipe(la(this.handleError("expandValueSet",{})))}handleError(t="operation",n){return r=>(console.error("There was an error!"),console.error(r),this._snackBar.openFromComponent(Ar,{duration:5e3,data:r.message,panelClass:["red-snackbar"]}),vi(n))}lookupConcept(t,n){n||(n=this.fhirUrlParam);const r=`${n}:${t}`,s=this.conceptCache.get(r);if(s)return vi(s);let o=`${this.snowstormFhirBase}/CodeSystem/$lookup?system=http://snomed.info/sct&code=${t}&property=normalForm`;"http://snomed.info/sct"!=n&&(o+=`&version=${n}`);const l={headers:new qo({"Accept-Language":"en"})};return this.http.get(o,l).pipe(fs(b=>{this.conceptCache.set(r,b)}),la(this.handleError("lookupConcept",{})))}getMRCMAttributes(t){let n=`${this.snowstormFhirBase.replace("fhir","snowstorm/snomed-ct")}mrcm/MAIN/domain-attributes?parentIds=${t}&proximalPrimitiveModeling=false&contentType=POSTCOORDINATED`;return this.http.get(n).pipe(la(this.handleError("getMRCMAttributes",{})))}addPostcoordinatedExpression(t){let n=`${this.snowstormFhirBase}/CodeSystem/sct_11000003104_EXP`;const r={headers:new qo({"Content-Type":"application/fhir+json"})};return this.http.patch(n,{resourceType:"CodeSystem",concept:[{code:t}]},r).pipe(la(this.handleError("addPostcoordinatedExpression",{})))}runEclLegacy(t){let n=`https://browser.ihtsdotools.org/snowstorm/snomed-ct/MAIN/SNOMEDCT-ES/2022-10-31/concepts?offset=0&limit=100&termActive=true&ecl=${encodeURIComponent(t)}`;return this.http.get(n).pipe(la(this.handleError("expandValueSet",{})))}getIcd10MapTargets(t){return this.http.get(`${this.snowstormFhirBase}/ConceptMap/$translate?code=${t}&system=http://snomed.info/sct&source=http://snomed.info/sct?fhir_vs&target=http://hl7.org/fhir/sid/icd-10&url=http://snomed.info/sct/900000000000207008/version/20200131?fhir_cm=447562003`).pipe(la(this.handleError("translate",{})))}lookupOtherCodeSystems(t,n){return this.http.get(`${this.snowstormFhirBase}/CodeSystem/$lookup?system=${t}&code=${n}`).pipe(la(this.handleError("lookup",{})))}getNormalForm(t){if(t.parameter)for(let n of t.parameter){let r=!1;if("property"==n.name){for(let s of n.part)"code"==s.name&&"normalForm"==s.valueString&&(r=!0);if(r)for(let s of n.part)if("valueString"==s.name)return s.valueString}}return""}parseNormmalForm(t){const n=[];return t.split("} {").forEach(s=>{const o=s.match(/\d+\|[^\|]+\|\s*=\s*\d+\|[^\|]+\|/g);if(!o)return;const l=o.map(b=>{const[C,D]=b.split("=").map(X=>X.trim()),[R,O]=C.split("|").map(X=>X.trim()),[L,U]=D.split("|").map(X=>X.trim());return{type:{code:R,display:O.replace(/\(.*\)/,"").trim()},target:{code:L,display:U}}});n.push(l)}),{groups:n}}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ad),Jt(Eh))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function c7(...e){const i=Tz(e),{args:t,keys:n}=Cz(e),r=new ur(s=>{const{length:o}=t;if(!o)return void s.complete();const l=new Array(o);let b=o,C=o;for(let D=0;D<o;D++){let R=!1;eo(t[D]).subscribe(Xr(s,O=>{R||(R=!0,C--),l[D]=O},()=>b--,void 0,()=>{(!b||!R)&&(C||s.next(n?Sz(n,l):l),s.complete())}))}});return i?r.pipe(HI(i)):r}function d7(e={}){const{connector:i=(()=>new Pe),resetOnError:t=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=e;return s=>{let o,l,b,C=0,D=!1,R=!1;const O=()=>{l?.unsubscribe(),l=void 0},L=()=>{O(),o=b=void 0,D=R=!1},U=()=>{const X=o;L(),X?.unsubscribe()};return ds((X,W)=>{C++,!R&&!D&&O();const Z=b=b??i();W.add(()=>{C--,0===C&&!R&&!D&&(l=aR(U,r))}),Z.subscribe(W),!o&&C>0&&(o=new Ho({next:rt=>Z.next(rt),error:rt=>{R=!0,O(),l=aR(L,t,rt),Z.error(rt)},complete:()=>{D=!0,O(),l=aR(L,n),Z.complete()}}),eo(X).subscribe(o))})(s)}}function aR(e,i,...t){if(!0===i)return void e();if(!1===i)return;const n=new Ho({next:()=>{n.unsubscribe(),e()}});return eo(i(...t)).subscribe(n)}const Uwt=["*"];let mC;function Ry(e){return function zwt(){if(void 0===mC&&(mC=null,typeof window<"u")){const e=window;void 0!==e.trustedTypes&&(mC=e.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return mC}()?.createHTML(e)||e}function u7(e){return Error(`Unable to find icon with the name "${e}"`)}function h7(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function f7(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class em{constructor(i,t,n){this.url=i,this.svgText=t,this.options=n}}let pC=(()=>{class e{constructor(t,n,r,s){this._httpClient=t,this._sanitizer=n,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,n,r){return this.addSvgIconInNamespace("",t,n,r)}addSvgIconLiteral(t,n,r){return this.addSvgIconLiteralInNamespace("",t,n,r)}addSvgIconInNamespace(t,n,r,s){return this._addSvgIconConfig(t,n,new em(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,n,r,s){const o=this._sanitizer.sanitize(Na.HTML,r);if(!o)throw f7(r);const l=Ry(o);return this._addSvgIconConfig(t,n,new em("",l,s))}addSvgIconSet(t,n){return this.addSvgIconSetInNamespace("",t,n)}addSvgIconSetLiteral(t,n){return this.addSvgIconSetLiteralInNamespace("",t,n)}addSvgIconSetInNamespace(t,n,r){return this._addSvgIconSetConfig(t,new em(n,null,r))}addSvgIconSetLiteralInNamespace(t,n,r){const s=this._sanitizer.sanitize(Na.HTML,n);if(!s)throw f7(n);const o=Ry(s);return this._addSvgIconSetConfig(t,new em("",o,r))}registerFontClassAlias(t,n=t){return this._fontCssClassesByAlias.set(t,n),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const n=this._sanitizer.sanitize(Na.RESOURCE_URL,t);if(!n)throw h7(t);const r=this._cachedIconsByUrl.get(n);return r?vi(gC(r)):this._loadSvgIconFromConfig(new em(t,null)).pipe(fs(s=>this._cachedIconsByUrl.set(n,s)),Di(s=>gC(s)))}getNamedSvgIcon(t,n=""){const r=m7(n,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(n,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(n);return o?this._getSvgFromIconSetConfigs(t,o):Mg(u7(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?vi(gC(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Di(n=>gC(n)))}_getSvgFromIconSetConfigs(t,n){const r=this._extractIconWithNameFromAnySet(t,n);return r?vi(r):c7(n.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(la(l=>{const C=`Loading icon set URL: ${this._sanitizer.sanitize(Na.RESOURCE_URL,o.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(C)),vi(null)})))).pipe(Di(()=>{const o=this._extractIconWithNameFromAnySet(t,n);if(!o)throw u7(t);return o}))}_extractIconWithNameFromAnySet(t,n){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(o,t,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(fs(n=>t.svgText=n),Di(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?vi(null):this._fetchIcon(t).pipe(fs(n=>t.svgText=n))}_extractSvgIconFromSet(t,n,r){const s=t.querySelector(`[id="${n}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const l=this._svgElementFromString(Ry("<svg></svg>"));return l.appendChild(o),this._setSvgAttributes(l,r)}_svgElementFromString(t){const n=this._document.createElement("DIV");n.innerHTML=t;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const n=this._svgElementFromString(Ry("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:l}=r[s];"id"!==o&&n.setAttribute(o,l)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&n.appendChild(t.childNodes[s].cloneNode(!0));return n}_setSvgAttributes(t,n){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),n&&n.viewBox&&t.setAttribute("viewBox",n.viewBox),t}_fetchIcon(t){const{url:n,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function Gwt(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(Na.RESOURCE_URL,n);if(!o)throw h7(n);const l=this._inProgressUrlFetches.get(o);if(l)return l;const b=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Di(C=>Ry(C)),kg(()=>this._inProgressUrlFetches.delete(o)),d7());return this._inProgressUrlFetches.set(o,b),b}_addSvgIconConfig(t,n,r){return this._svgIconConfigs.set(m7(t,n),r),this}_addSvgIconSetConfig(t,n){const r=this._iconSetConfigs.get(t);return r?r.push(n):this._iconSetConfigs.set(t,[n]),this}_svgElementFromConfig(t){if(!t.svgElement){const n=this._svgElementFromString(t.svgText);this._setSvgAttributes(n,t.options),t.svgElement=n}return t.svgElement}_getIconConfigFromResolvers(t,n){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](n,t);if(s)return Wwt(s)?new em(s.url,null,s.options):new em(s,null)}}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ad,8),Jt(OI),Jt(Ni,8),Jt(pl))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gC(e){return e.cloneNode(!0)}function m7(e,i){return e+":"+i}function Wwt(e){return!(!e.url||!e.options)}const Xwt=new ee("MAT_ICON_DEFAULT_OPTIONS"),jwt=new ee("mat-icon-location",{providedIn:"root",factory:function Ywt(){const e=me(Ni),i=e?e.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),p7=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$wt=p7.map(e=>`[${e}]`).join(", "),Qwt=/^url\(['"]?#(.*?)['"]?\)$/;let ua=(()=>{class e{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const n=this._cleanupFontValue(t);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const n=this._cleanupFontValue(t);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(t,n,r,s,o,l){this._elementRef=t,this._iconRegistry=n,this._location=s,this._errorHandler=o,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ie.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const n=t.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let n=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=t.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),n.forEach(r=>t.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const n=this._elementsWithExternalReferences;n&&n.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const n=t.querySelectorAll($wt),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<n.length;s++)p7.forEach(o=>{const l=n[s],b=l.getAttribute(o),C=b?b.match(Qwt):null;if(C){let D=r.get(l);D||(D=[],r.set(l,D)),D.push({name:o,value:C[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[n,r]=this._splitIconName(t);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(er(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${s.message}`))})}}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(pC),ml("aria-hidden"),mt(jwt),mt(pl),mt(Xwt,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,r){2&n&&(Ti("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ul(r.color?"mat-"+r.color:""),bi("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[Wt.HasDecoratorInputTransform,"inline","inline",Je],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[ln,Vi],ngContentSelectors:Uwt,decls:1,vars:0,template:function(n,r){1&n&&(Kn(),xi(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return e})(),Kwt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Zi,Zi]})}return e})();function g7(e,i){return i?t=>ty(i.pipe(er(1),function Zwt(){return ds((e,i)=>{e.subscribe(Xr(i,sr))})}()),t.pipe(g7(e))):Ta((t,n)=>eo(e(t,n)).pipe(er(1),wT(t)))}function oR(e,i=Ty){const t=Iy(e,i);return g7(()=>t)}const Jwt=["mat-menu-item",""],qwt=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],t_t=["mat-icon, [matMenuItemIcon]","*"];function e_t(e,i){1&e&&(fl(),q(0,"svg",2),ye(1,"polygon",3),et())}const i_t=["*"];function n_t(e,i){if(1&e){const t=pe();q(0,"div",0),Vt("keydown",function(r){return Ut(t),zt(Ct()._handleKeydown(r))})("click",function(){return Ut(t),zt(Ct().closed.emit("click"))})("@transformMenu.start",function(r){return Ut(t),zt(Ct()._onAnimationStart(r))})("@transformMenu.done",function(r){return Ut(t),zt(Ct()._onAnimationDone(r))}),q(1,"div",1),xi(2),et()()}if(2&e){const t=Ct();xt("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Ti("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const lR=new ee("MAT_MENU_PANEL");let Yl=(()=>{class e{constructor(t,n,r,s,o){this._elementRef=t,this._document=n,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=o,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new Pe,this._focused=new Pe,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,n){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),n=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<n.length;r++)n[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(Ni),mt(Xl),mt(lR,8),mt(Mn))};static#e=this.\u0275cmp=$e({type:e,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(n,r){1&n&&Vt("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&n&&(Ti("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),bi("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Je],disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Je]},exportAs:["matMenuItem"],standalone:!0,features:[ln,Vi],attrs:Jwt,ngContentSelectors:t_t,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,r){1&n&&(Kn(qwt),xi(0),q(1,"span",0),xi(2,1),et(),ye(3,"div",1),Gt(4,e_t,2,0,":svg:svg",2)),2&n&&(ot(3),xt("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),ot(),xn(4,r._triggersSubmenu?4:-1))},dependencies:[ru],encapsulation:2,changeDetection:0})}return e})();const r_t=new ee("MatMenuContent"),vC={transformMenu:mr("transformMenu",[kn("void",qe({opacity:0,transform:"scale(0.8)"})),on("void => enter",sn("120ms cubic-bezier(0, 0, 0.2, 1)",qe({opacity:1,transform:"scale(1)"}))),on("* => void",sn("100ms 25ms linear",qe({opacity:0})))]),fadeInItems:mr("fadeInItems",[kn("showing",qe({opacity:1})),on("void => *",[qe({opacity:0}),sn("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let s_t=0;const a_t=new ee("mat-menu-default-options",{providedIn:"root",factory:function o_t(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Tl=(()=>{class e{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}set panelClass(t){const n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,n,r,s){this._elementRef=t,this._ngZone=n,this._changeDetectorRef=s,this._elevationPrefix="mat-elevation-z",this._baseElevation=8,this._directDescendantItems=new sh,this._classList={},this._panelAnimationState="void",this._animationDone=new Pe,this.closed=new De,this.close=this.closed,this.panelId="mat-menu-panel-"+s_t++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this.overlapTrigger=r.overlapTrigger,this.hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Uk(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ca(this._directDescendantItems),Rs(t=>Yr(...t.map(n=>n._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const n=this._keyManager;if("enter"===this._panelAnimationState&&n.activeItem?._hasFocus()){const r=t.toArray(),s=Math.max(0,Math.min(r.length-1,n.activeItemIndex||0));r[s]&&!r[s].disabled?n.setActiveItem(s):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Ca(this._directDescendantItems),Rs(n=>Yr(...n.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const n=t.keyCode,r=this._keyManager;switch(n){case 27:io(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===n||40===n)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(er(1)).subscribe(()=>{let n=null;if(this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!n||!n.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&n&&n.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const n=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${n}`,s=Object.keys(this._classList).find(o=>o.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,n=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===n,r["mat-menu-below"]="below"===n,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ca(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(ii),mt(a_t),mt(Mn))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-menu"]],contentQueries:function(n,r,s){if(1&n&&(An(s,r_t,5),An(s,Yl,5),An(s,Yl,4)),2&n){let o;Be(o=Ve())&&(r.lazyContent=o.first),Be(o=Ve())&&(r._allItems=o),Be(o=Ve())&&(r.items=o)}},viewQuery:function(n,r){if(1&n&&Mi(fr,5),2&n){let s;Be(s=Ve())&&(r.templateRef=s.first)}},hostVars:3,hostBindings:function(n,r){2&n&&Ti("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[Wt.None,"aria-label","ariaLabel"],ariaLabelledby:[Wt.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[Wt.None,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[Wt.HasDecoratorInputTransform,"overlapTrigger","overlapTrigger",Je],hasBackdrop:[Wt.HasDecoratorInputTransform,"hasBackdrop","hasBackdrop",t=>null==t?null:Je(t)],panelClass:[Wt.None,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[fi([{provide:lR,useExisting:e}]),ln,Vi],ngContentSelectors:i_t,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id","ngClass"],[1,"mat-mdc-menu-content"]],template:function(n,r){1&n&&(Kn(),Gt(0,n_t,3,6,"ng-template"))},dependencies:[_c],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:var(--mat-menu-item-trailing-spacing);padding-right:var(--mat-menu-item-leading-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]),.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon])[dir=rtl]{padding-left:var(--mat-menu-item-with-icon-trailing-spacing);padding-right:var(--mat-menu-item-with-icon-leading-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;padding-right:var(--mat-menu-item-spacing);padding-left:0}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[vC.transformMenu,vC.fadeInItems]},changeDetection:0})}return e})();const v7=new ee("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const e=me(ys);return()=>e.scrollStrategies.reposition()}}),c_t={provide:v7,deps:[ys],useFactory:function l_t(e){return()=>e.scrollStrategies.reposition()}},x7=Ec({passive:!0});let uu=(()=>{class e{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(n=>{this._destroyMenu(n),("click"===n||"tab"===n)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,n,r,s,o,l,b,C,D){this._overlay=t,this._element=n,this._viewContainerRef=r,this._menuItemInstance=l,this._dir=b,this._focusMonitor=C,this._ngZone=D,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ie.EMPTY,this._hoverSubscription=Ie.EMPTY,this._menuCloseSubscription=Ie.EMPTY,this._changeDetectorRef=me(Mn),this._handleTouchStart=R=>{JT(R)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new De,this.onMenuOpen=this.menuOpened,this.menuClosed=new De,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=o instanceof Tl?o:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,x7)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,x7),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const n=this._createOverlay(t),r=n.getConfig(),s=r.positionStrategy;this._setPosition(t,s),r.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,n.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof Tl&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Ui(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,n){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,n instanceof Tl?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe(In(r=>"void"===r.toState),er(1),Ui(n.lazyContent._attached)).subscribe({next:()=>n.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let n=0,r=t.parentMenu;for(;r;)n++,r=r.parentMenu;t.setElevation(n)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const n=this._getOverlayConfig(t);this._subscribeToPositions(t,n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new qg({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,n){t.setPositionClasses&&n.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",o="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,o)):t.setPositionClasses(s,o)})}_setPosition(t,n){let[r,s]="before"===t.xPosition?["end","start"]:["start","end"],[o,l]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[b,C]=[o,l],[D,R]=[r,s],O=0;if(this.triggersSubmenu()){if(R=r="before"===t.xPosition?"start":"end",s=D="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const L=this._parentMaterialMenu.items.first;this._parentInnerPadding=L?L._getHostElement().offsetTop:0}O="bottom"===o?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(b="top"===o?"bottom":"top",C="top"===l?"bottom":"top");n.withPositions([{originX:r,originY:b,overlayX:D,overlayY:o,offsetY:O},{originX:s,originY:b,overlayX:R,overlayY:o,offsetY:O},{originX:r,originY:C,overlayX:D,overlayY:l,offsetY:-O},{originX:s,originY:C,overlayX:R,overlayY:l,offsetY:-O}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),n=this._overlayRef.detachments();return Yr(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:vi(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(In(o=>o!==this._menuItemInstance),In(()=>this._menuOpen)):vi(),n)}_handleMousedown(t){ZT(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const n=t.keyCode;(13===n||32===n)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===n&&"ltr"===this.dir||37===n&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(In(t=>t===this._menuItemInstance&&!t.disabled),oR(0,eR)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Tl&&this.menu._isAnimating?this.menu._animationDone.pipe(er(1),oR(0,eR),Ui(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new ou(t.templateRef,this._viewContainerRef)),this._portal}static#t=this.\u0275fac=function(n){return new(n||e)(mt(ys),mt(si),mt(Ir),mt(v7),mt(lR,8),mt(Yl,10),mt(Va,8),mt(Xl),mt(ii))};static#e=this.\u0275dir=ce({type:e,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(n,r){1&n&&Vt("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&n&&Ti("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[Wt.None,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[Wt.None,"matMenuTriggerFor","menu"],menuData:[Wt.None,"matMenuTriggerData","menuData"],restoreFocus:[Wt.None,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return e})(),d_t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[c_t],imports:[td,Qg,Zi,tm,du,Zi]})}return e})();const u_t=["determinateSpinner"];function h_t(e,i){if(1&e&&(fl(),q(0,"svg",11),ye(1,"circle",12),et()),2&e){const t=Ct();Ti("viewBox",t._viewBox()),ot(),Ms("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),Ti("r",t._circleRadius())}}const f_t=new ee("mat-progress-spinner-default-options",{providedIn:"root",factory:function m_t(){return{diameter:y7}}}),y7=100;let Ah=(()=>{class e{get color(){return this._color||this._defaultColor}set color(t){this._color=t}constructor(t,n,r){this._elementRef=t,this._defaultColor="primary",this._value=0,this._diameter=y7,this._noopAnimations="NoopAnimations"===n&&!!r&&!r._forceAnimations,this.mode="mat-spinner"===t.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",r&&(r.color&&(this.color=this._defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,t||0))}get diameter(){return this._diameter}set diameter(t){this._diameter=t||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=t||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(Nr,8),mt(f_t))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,r){if(1&n&&Mi(u_t,5),2&n){let s;Be(s=Ve())&&(r._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(n,r){2&n&&(Ti("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),Ul("mat-"+r.color),Ms("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),bi("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:[Wt.HasDecoratorInputTransform,"value","value",jr],diameter:[Wt.HasDecoratorInputTransform,"diameter","diameter",jr],strokeWidth:[Wt.HasDecoratorInputTransform,"strokeWidth","strokeWidth",jr]},exportAs:["matProgressSpinner"],standalone:!0,features:[ln,Vi],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,r){if(1&n&&(Gt(0,h_t,2,8,"ng-template",null,0,wg),q(2,"div",2,1),fl(),q(4,"svg",3),ye(5,"circle",4),et()(),Q0(),q(6,"div",5)(7,"div",6)(8,"div",7),aa(9,8),et(),q(10,"div",9),aa(11,8),et(),q(12,"div",10),aa(13,8),et()()()),2&n){const s=Ki(1);ot(4),Ti("viewBox",r._viewBox()),ot(),Ms("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),Ti("r",r._circleRadius()),ot(4),xt("ngTemplateOutlet",s),ot(2),xt("ngTemplateOutlet",s),ot(2),xt("ngTemplateOutlet",s)}},dependencies:[gT],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return e})(),g_t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[td,Zi]})}return e})();const v_t=["*"],b_t=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],w_t=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],__t=new ee("MAT_CARD_CONFIG");let xC=(()=>{class e{constructor(t){this.appearance=t?.appearance||"raised"}static#t=this.\u0275fac=function(n){return new(n||e)(mt(__t,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,r){2&n&&bi("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[Vi],ngContentSelectors:v_t,decls:1,vars:0,template:function(n,r){1&n&&(Kn(),xi(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return e})(),b7=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return e})(),w7=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return e})(),_7=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return e})(),T7=(()=>{class e{constructor(){this.align="start"}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(n,r){2&n&&bi("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0})}return e})(),C7=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[Vi],ngContentSelectors:w_t,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(n,r){1&n&&(Kn(b_t),xi(0),q(1,"div",0),xi(2,1),et(),xi(3,2))},encapsulation:2,changeDetection:0})}return e})(),C_t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Zi,td,Zi]})}return e})();const S_t=[[["caption"]],[["colgroup"],["col"]],"*"],E_t=["caption","colgroup, col","*"];function A_t(e,i){1&e&&xi(0,2)}function D_t(e,i){1&e&&(q(0,"thead",0),aa(1,1),et(),q(2,"tbody",0),aa(3,2)(4,3),et(),q(5,"tfoot",0),aa(6,4),et())}function M_t(e,i){1&e&&aa(0,1)(1,2)(2,3)(3,4)}const ld=new ee("CDK_TABLE");let tv=(()=>{class e{constructor(t){this.template=t}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fr))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkCellDef",""]],standalone:!0})}return e})(),ev=(()=>{class e{constructor(t){this.template=t}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fr))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}return e})(),yC=(()=>{class e{constructor(t){this.template=t}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fr))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}return e})(),hu=(()=>{class e{get name(){return this._name}set name(t){this._setNameInput(t)}get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){t!==this._stickyEnd&&(this._stickyEnd=t,this._hasStickyChanged=!0)}constructor(t){this._table=t,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#t=this.\u0275fac=function(n){return new(n||e)(mt(ld,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,r,s){if(1&n&&(An(s,tv,5),An(s,ev,5),An(s,yC,5)),2&n){let o;Be(o=Ve())&&(r.cell=o.first),Be(o=Ve())&&(r.headerCell=o.first),Be(o=Ve())&&(r.footerCell=o.first)}},inputs:{name:[Wt.None,"cdkColumnDef","name"],sticky:[Wt.HasDecoratorInputTransform,"sticky","sticky",Je],stickyEnd:[Wt.HasDecoratorInputTransform,"stickyEnd","stickyEnd",Je]},standalone:!0,features:[fi([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),ln]})}return e})();class cR{constructor(i,t){t.nativeElement.classList.add(...i._columnCssClassName)}}let dR=(()=>{class e extends cR{constructor(t,n){super(t,n)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(hu),mt(si))};static#e=this.\u0275dir=ce({type:e,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[hi]})}return e})(),uR=(()=>{class e extends cR{constructor(t,n){super(t,n);const r=t._table?._getCellRole();r&&n.nativeElement.setAttribute("role",r)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(hu),mt(si))};static#e=this.\u0275dir=ce({type:e,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[hi]})}return e})();class E7{constructor(){this.tasks=[],this.endTasks=[]}}const hR=new ee("_COALESCED_STYLE_SCHEDULER");let A7=(()=>{class e{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Pe}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new E7,this._getScheduleObservable().pipe(Ui(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new E7;for(const n of t.tasks)n();for(const n of t.endTasks)n()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?ks(Promise.resolve(void 0)):this._ngZone.onStable.pipe(er(1))}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ii))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}return e})(),fR=(()=>{class e{constructor(t,n){this.template=t,this._differs=n}ngOnChanges(t){if(!this._columnsDiffer){const n=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Py?t.headerCell.template:this instanceof Fy?t.footerCell.template:t.cell.template}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fr),mt(gh))};static#e=this.\u0275dir=ce({type:e,features:[tr]})}return e})(),Py=(()=>{class e extends fR{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,n,r){super(t,n),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fr),mt(gh),mt(ld,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[Wt.None,"cdkHeaderRowDef","columns"],sticky:[Wt.HasDecoratorInputTransform,"cdkHeaderRowDefSticky","sticky",Je]},standalone:!0,features:[ln,hi,tr]})}return e})(),Fy=(()=>{class e extends fR{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,n,r){super(t,n),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fr),mt(gh),mt(ld,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[Wt.None,"cdkFooterRowDef","columns"],sticky:[Wt.HasDecoratorInputTransform,"cdkFooterRowDefSticky","sticky",Je]},standalone:!0,features:[ln,hi,tr]})}return e})(),bC=(()=>{class e extends fR{constructor(t,n,r){super(t,n),this._table=r}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fr),mt(gh),mt(ld,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkRowDef",""]],inputs:{columns:[Wt.None,"cdkRowDefColumns","columns"],when:[Wt.None,"cdkRowDefWhen","when"]},standalone:!0,features:[hi]})}return e})(),fu=(()=>{class e{static#t=this.mostRecentCellOutlet=null;constructor(t){this._viewContainer=t,e.mostRecentCellOutlet=this}ngOnDestroy(){e.mostRecentCellOutlet===this&&(e.mostRecentCellOutlet=null)}static#e=this.\u0275fac=function(n){return new(n||e)(mt(Ir))};static#i=this.\u0275dir=ce({type:e,selectors:[["","cdkCellOutlet",""]],standalone:!0})}return e})(),mR=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=$e({type:e,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[Vi],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&aa(0,0)},dependencies:[fu],encapsulation:2})}return e})(),gR=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=$e({type:e,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[Vi],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&aa(0,0)},dependencies:[fu],encapsulation:2})}return e})(),wC=(()=>{class e{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fr))};static#e=this.\u0275dir=ce({type:e,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}return e})();const D7=["top","bottom","left","right"];class P_t{constructor(i,t,n,r,s=!0,o=!0,l){this._isNativeHtmlTable=i,this._stickCellCss=t,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=l,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(i,t){const n=[];for(const r of i)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let s=0;s<r.children.length;s++)n.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of n)this._removeStickyStyle(r,t)})}updateStickyColumns(i,t,n,r=!0){i.length&&this._isBrowser&&(t.some(s=>s)||n.some(s=>s))?this._coalescedStyleScheduler.schedule(()=>{const s=i[0],o=s.children.length,l=this._getCellWidths(s,r),b=this._getStickyStartColumnPositions(l,t),C=this._getStickyEndColumnPositions(l,n),D=t.lastIndexOf(!0),R=n.indexOf(!0),O="rtl"===this.direction,L=O?"right":"left",U=O?"left":"right";for(const X of i)for(let W=0;W<o;W++){const Z=X.children[W];t[W]&&this._addStickyStyle(Z,L,b[W],W===D),n[W]&&this._addStickyStyle(Z,U,C[W],W===R)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===D?[]:l.slice(0,D+1).map((X,W)=>t[W]?X:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===R?[]:l.slice(R).map((X,W)=>n[W+R]?X:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(i,t,n){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const r="bottom"===n?i.slice().reverse():i,s="bottom"===n?t.slice().reverse():t,o=[],l=[],b=[];for(let D=0,R=0;D<r.length;D++){if(!s[D])continue;o[D]=R;const O=r[D];b[D]=this._isNativeHtmlTable?Array.from(O.children):[O];const L=O.getBoundingClientRect().height;R+=L,l[D]=L}const C=s.lastIndexOf(!0);for(let D=0;D<r.length;D++){if(!s[D])continue;const R=o[D],O=D===C;for(const L of b[D])this._addStickyStyle(L,n,R,O)}"top"===n?this._positionListener?.stickyHeaderRowsUpdated({sizes:l,offsets:o,elements:b}):this._positionListener?.stickyFooterRowsUpdated({sizes:l,offsets:o,elements:b})})}updateStickyFooterContainer(i,t){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const n=i.querySelector("tfoot");n&&(t.some(r=>!r)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1))})}_removeStickyStyle(i,t){for(const r of t)i.style[r]="",i.classList.remove(this._borderCellCss[r]);D7.some(r=>-1===t.indexOf(r)&&i.style[r])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,t,n,r){i.classList.add(this._stickCellCss),r&&i.classList.add(this._borderCellCss[t]),i.style[t]=`${n}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){const t={top:100,bottom:10,left:1,right:1};let n=0;for(const r of D7)i.style[r]&&(n+=t[r]);return n?`${n}`:""}_getCellWidths(i,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],r=i.children;for(let s=0;s<r.length;s++)n.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(i,t){const n=[];let r=0;for(let s=0;s<i.length;s++)t[s]&&(n[s]=r,r+=i[s]);return n}_getStickyEndColumnPositions(i,t){const n=[];let r=0;for(let s=i.length;s>0;s--)t[s]&&(n[s]=r,r+=i[s]);return n}}const vR=new ee("CDK_SPL");let xR=(()=>{class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;const r=me(ld);r._rowOutlet=this,r._outletAssigned()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ir),mt(si))};static#e=this.\u0275dir=ce({type:e,selectors:[["","rowOutlet",""]],standalone:!0})}return e})(),yR=(()=>{class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;const r=me(ld);r._headerRowOutlet=this,r._outletAssigned()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ir),mt(si))};static#e=this.\u0275dir=ce({type:e,selectors:[["","headerRowOutlet",""]],standalone:!0})}return e})(),bR=(()=>{class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;const r=me(ld);r._footerRowOutlet=this,r._outletAssigned()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ir),mt(si))};static#e=this.\u0275dir=ce({type:e,selectors:[["","footerRowOutlet",""]],standalone:!0})}return e})(),wR=(()=>{class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;const r=me(ld);r._noDataRowOutlet=this,r._outletAssigned()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ir),mt(si))};static#e=this.\u0275dir=ce({type:e,selectors:[["","noDataRowOutlet",""]],standalone:!0})}return e})(),_C=(()=>{class e{_getCellRole(){if(void 0===this._cellRoleInternal){const t=this._elementRef.nativeElement.getAttribute("role"),n="grid"===t||"treegrid"===t?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===n?null:n}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=t,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=t,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,n,r,s,o,l,b,C,D,R,O,L){this._differs=t,this._changeDetectorRef=n,this._elementRef=r,this._dir=o,this._platform=b,this._viewRepeater=C,this._coalescedStyleScheduler=D,this._viewportRuler=R,this._stickyPositioningListener=O,this._ngZone=L,this._onDestroy=new Pe,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new De,this.viewChange=new Wr({start:0,end:Number.MAX_VALUE}),s||r.nativeElement.setAttribute("role","table"),this._document=l,this._isServer=!b.isBrowser,this._isNativeHtmlTable="TABLE"===r.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((t,n)=>this.trackBy?this.trackBy(n.dataIndex,n.data):n),this._viewportRuler.change().pipe(Ui(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),bk(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,n,(r,s,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{r.operation===tu.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{n.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&ii.isInAngularZone()?this._ngZone.onStable.pipe(er(1),Ui(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const r=M7(this._headerRowOutlet,"thead");r&&(r.style.display=t.length?"":"none")}const n=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const r=M7(this._footerRowOutlet,"tfoot");r&&(r.style.display=t.length?"":"none")}const n=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...n,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{const o=[];for(let l=0;l<n.length;l++)this._renderRows[l].rowDef===s&&o.push(n[l]);this._addStickyColumnStyles(o,s)}),r.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const t=[],n=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const o=this._getRenderRowsForData(s,r,n.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let l=0;l<o.length;l++){let b=o[l];const C=this._cachedRenderRowsMap.get(b.data);C.has(b.rowDef)?C.get(b.rowDef).push(b):C.set(b.rowDef,[b]),t.push(b)}}return t}_getRenderRowsForData(t,n,r){return this._getRowDefs(t,n).map(o=>{const l=r&&r.has(o)?r.get(o):[];if(l.length){const b=l.shift();return b.dataIndex=n,b}return{data:t,rowDef:o,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),TC(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=TC(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=TC(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=TC(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(n=>!n.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(o,l)=>o||!!l.getColumnsDiff(),n=this._rowDefs.reduce(t,!1);n&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),n||r||s}_switchDataSource(t){this._data=[],bk(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;bk(this.dataSource)?t=this.dataSource.connect(this):LI(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=vi(this.dataSource)),this._renderChangeSubscription=t.pipe(Ui(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,n)=>this._renderRow(this._headerRowOutlet,t,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,n)=>this._renderRow(this._footerRowOutlet,t,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,n){const r=Array.from(n.columns||[]).map(l=>this._columnDefsByName.get(l)),s=r.map(l=>l.sticky),o=r.map(l=>l.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const n=[];for(let r=0;r<t.viewContainer.length;r++){const s=t.viewContainer.get(r);n.push(s.rootNodes[0])}return n}_getRowDefs(t,n){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(n,t));else{let s=this._rowDefs.find(o=>o.when&&o.when(n,t))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(t,n){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:n}}_renderRow(t,n,r,s={}){const o=t.viewContainer.createEmbeddedView(n.template,s,r);return this._renderCellTemplateForItem(n,s),o}_renderCellTemplateForItem(t,n){for(let r of this._getCellTemplates(t))fu.mostRecentCellOutlet&&fu.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let n=0,r=t.length;n<r;n++){const o=t.get(n).context;o.count=r,o.first=0===n,o.last=n===r-1,o.even=n%2==0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[n].dataIndex,o.renderIndex=n):o.index=this._renderRows[n].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,n=>{const r=this._columnDefsByName.get(n);return t.extractCellTemplate(r)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(n,r)=>n||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new P_t(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:vi()).pipe(Ui(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const n=0===this._rowOutlet.viewContainer.length;if(n===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(n){const s=r.createEmbeddedView(t.templateRef),o=s.rootNodes[0];1===s.rootNodes.length&&o?.nodeType===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=n,this._changeDetectorRef.markForCheck()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(gh),mt(Mn),mt(si),ml("role"),mt(Va,8),mt(Ni),mt(ir),mt(my),mt(hR),mt(cu),mt(vR,12),mt(ii,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,r,s){if(1&n&&(An(s,wC,5),An(s,hu,5),An(s,bC,5),An(s,Py,5),An(s,Fy,5)),2&n){let o;Be(o=Ve())&&(r._noDataRow=o.first),Be(o=Ve())&&(r._contentColumnDefs=o),Be(o=Ve())&&(r._contentRowDefs=o),Be(o=Ve())&&(r._contentHeaderRowDefs=o),Be(o=Ve())&&(r._contentFooterRowDefs=o)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(n,r){2&n&&bi("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[Wt.HasDecoratorInputTransform,"multiTemplateDataRows","multiTemplateDataRows",Je],fixedLayout:[Wt.HasDecoratorInputTransform,"fixedLayout","fixedLayout",Je]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[fi([{provide:ld,useExisting:e},{provide:my,useClass:DG},{provide:hR,useClass:A7},{provide:vR,useValue:null}]),ln,Vi],ngContentSelectors:E_t,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){1&n&&(Kn(S_t),xi(0),xi(1,1),Gt(2,A_t,1,0)(3,D_t,7,0)(4,M_t,4,0)),2&n&&(ot(2),xn(2,r._isServer?2:-1),ot(),xn(3,r._isNativeHtmlTable?3:4))},dependencies:[yR,xR,wR,bR],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return e})();function TC(e,i){return e.concat(Array.from(i))}function M7(e,i){const t=i.toUpperCase();let n=e.viewContainer.element.nativeElement;for(;n;){const r=1===n.nodeType?n.nodeName:null;if(r===t)return n;if("TABLE"===r)break;n=n.parentNode}return null}let O_t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[iR]})}return e})();const L_t=[[["caption"]],[["colgroup"],["col"]],"*"],N_t=["caption","colgroup, col","*"];function B_t(e,i){1&e&&xi(0,2)}function V_t(e,i){1&e&&(q(0,"thead",0),aa(1,1),et(),q(2,"tbody",2),aa(3,3)(4,4),et(),q(5,"tfoot",0),aa(6,5),et())}function U_t(e,i){1&e&&aa(0,1)(1,3)(2,4)(3,5)}let Dh=(()=>{class e extends _C{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(n,r){2&n&&bi("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[fi([{provide:_C,useExisting:e},{provide:ld,useExisting:e},{provide:hR,useClass:A7},{provide:my,useClass:DG},{provide:vR,useValue:null}]),hi,Vi],ngContentSelectors:N_t,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){1&n&&(Kn(L_t),xi(0),xi(1,1),Gt(2,B_t,1,0)(3,V_t,7,0)(4,U_t,4,0)),2&n&&(ot(2),xn(2,r._isServer?2:-1),ot(),xn(3,r._isNativeHtmlTable?3:4))},dependencies:[yR,xR,wR,bR],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return e})(),mu=(()=>{class e extends tv{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","matCellDef",""]],standalone:!0,features:[fi([{provide:tv,useExisting:e}]),hi]})}return e})(),pu=(()=>{class e extends ev{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[fi([{provide:ev,useExisting:e}]),hi]})}return e})(),gu=(()=>{class e extends hu{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","matColumnDef",""]],inputs:{name:[Wt.None,"matColumnDef","name"]},standalone:!0,features:[fi([{provide:hu,useExisting:e},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),hi]})}return e})(),vu=(()=>{class e extends dR{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[hi]})}return e})(),xu=(()=>{class e extends uR{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[hi]})}return e})(),Mh=(()=>{class e extends Py{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[Wt.None,"matHeaderRowDef","columns"],sticky:[Wt.HasDecoratorInputTransform,"matHeaderRowDefSticky","sticky",Je]},standalone:!0,features:[fi([{provide:Py,useExisting:e}]),ln,hi]})}return e})(),Ih=(()=>{class e extends bC{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","matRowDef",""]],inputs:{columns:[Wt.None,"matRowDefColumns","columns"],when:[Wt.None,"matRowDefWhen","when"]},standalone:!0,features:[fi([{provide:bC,useExisting:e}]),hi]})}return e})(),kh=(()=>{class e extends mR{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[fi([{provide:mR,useExisting:e}]),hi,Vi],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&aa(0,0)},dependencies:[fu],encapsulation:2})}return e})(),Rh=(()=>{class e extends gR{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[fi([{provide:gR,useExisting:e}]),hi,Vi],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&aa(0,0)},dependencies:[fu],encapsulation:2})}return e})(),$_t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Zi,O_t,Zi]})}return e})();class im extends LT{get data(){return this._data.value}set data(i){i=Array.isArray(i)?i:[],this._data.next(i),this._renderChangesSubscription||this._filterData(i)}get filter(){return this._filter.value}set filter(i){this._filter.next(i),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(i){this._sort=i,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(i){this._paginator=i,this._updateChangeSubscription()}constructor(i=[]){super(),this._renderData=new Wr([]),this._filter=new Wr(""),this._internalPageChanges=new Pe,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,n)=>{const r=t[n];if(iH(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(t,n)=>{const r=n.active,s=n.direction;return r&&""!=s?t.sort((o,l)=>{let b=this.sortingDataAccessor(o,r),C=this.sortingDataAccessor(l,r);const D=typeof b,R=typeof C;D!==R&&("number"===D&&(b+=""),"number"===R&&(C+=""));let O=0;return null!=b&&null!=C?b>C?O=1:b<C&&(O=-1):null!=b?O=1:null!=C&&(O=-1),O*("asc"==s?1:-1)}):t},this.filterPredicate=(t,n)=>{const r=Object.keys(t).reduce((o,l)=>o+t[l]+"\u25ec","").toLowerCase(),s=n.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Wr(i),this._updateChangeSubscription()}_updateChangeSubscription(){const i=this._sort?Yr(this._sort.sortChange,this._sort.initialized):vi(null),t=this._paginator?Yr(this._paginator.page,this._internalPageChanges,this._paginator.initialized):vi(null),r=qd([this._data,this._filter]).pipe(Di(([l])=>this._filterData(l))),s=qd([r,i]).pipe(Di(([l])=>this._orderData(l))),o=qd([s,t]).pipe(Di(([l])=>this._pageData(l)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=o.subscribe(l=>this._renderData.next(l))}_filterData(i){return this.filteredData=null==this.filter||""===this.filter?i:i.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(i){return this.sort?this.sortData(i.slice(),this.sort):i}_pageData(i){if(!this.paginator)return i;const t=this.paginator.pageIndex*this.paginator.pageSize;return i.slice(t,t+this.paginator.pageSize)}_updatePaginator(i){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=i,t.pageIndex>0)){const n=Math.ceil(t.length/t.pageSize)-1||0,r=Math.min(t.pageIndex,n);r!==t.pageIndex&&(t.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}let k7=(()=>{class e{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(jd),mt(si))};static#e=this.\u0275dir=ce({type:e})}return e})(),nm=(()=>{class e extends k7{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,features:[hi]})}return e})();const ha=new ee(""),Z_t={provide:ha,useExisting:Sn(()=>Cl),multi:!0},q_t=new ee("");let Cl=(()=>{class e extends k7{constructor(t,n,r){super(t,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function J_t(){const e=vh()?vh().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(jd),mt(si),mt(q_t,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Vt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[fi([Z_t]),hi]})}return e})();function Ph(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function P7(e){return null!=e&&"number"==typeof e.length}const Qs=new ee(""),Fh=new ee(""),tTt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class cd{static min(i){return function F7(e){return i=>{if(Ph(i.value)||Ph(e))return null;const t=parseFloat(i.value);return!isNaN(t)&&t<e?{min:{min:e,actual:i.value}}:null}}(i)}static max(i){return function O7(e){return i=>{if(Ph(i.value)||Ph(e))return null;const t=parseFloat(i.value);return!isNaN(t)&&t>e?{max:{max:e,actual:i.value}}:null}}(i)}static required(i){return L7(i)}static requiredTrue(i){return function N7(e){return!0===e.value?null:{required:!0}}(i)}static email(i){return function B7(e){return Ph(e.value)||tTt.test(e.value)?null:{email:!0}}(i)}static minLength(i){return V7(i)}static maxLength(i){return function U7(e){return i=>P7(i.value)&&i.value.length>e?{maxlength:{requiredLength:e,actualLength:i.value.length}}:null}(i)}static pattern(i){return z7(i)}static nullValidator(i){return null}static compose(i){return Y7(i)}static composeAsync(i){return $7(i)}}function L7(e){return Ph(e.value)?{required:!0}:null}function V7(e){return i=>Ph(i.value)||!P7(i.value)?null:i.value.length<e?{minlength:{requiredLength:e,actualLength:i.value.length}}:null}function z7(e){if(!e)return CC;let i,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),i=new RegExp(t)):(t=e.toString(),i=e),n=>{if(Ph(n.value))return null;const r=n.value;return i.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function CC(e){return null}function G7(e){return null!=e}function H7(e){return Xx(e)?ks(e):e}function W7(e){let i={};return e.forEach(t=>{i=null!=t?{...i,...t}:i}),0===Object.keys(i).length?null:i}function X7(e,i){return i.map(t=>t(e))}function j7(e){return e.map(i=>function eTt(e){return!e.validate}(i)?i:t=>i.validate(t))}function Y7(e){if(!e)return null;const i=e.filter(G7);return 0==i.length?null:function(t){return W7(X7(t,i))}}function _R(e){return null!=e?Y7(j7(e)):null}function $7(e){if(!e)return null;const i=e.filter(G7);return 0==i.length?null:function(t){return c7(X7(t,i).map(H7)).pipe(Di(W7))}}function TR(e){return null!=e?$7(j7(e)):null}function Q7(e,i){return null===e?[i]:Array.isArray(e)?[...e,i]:[e,i]}function K7(e){return e._rawValidators}function Z7(e){return e._rawAsyncValidators}function CR(e){return e?Array.isArray(e)?e:[e]:[]}function SC(e,i){return Array.isArray(e)?e.includes(i):e===i}function J7(e,i){const t=CR(i);return CR(e).forEach(r=>{SC(t,r)||t.push(r)}),t}function q7(e,i){return CR(i).filter(t=>!SC(e,t))}class tW{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=_R(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=TR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,t){return!!this.control&&this.control.hasError(i,t)}getError(i,t){return this.control?this.control.getError(i,t):null}}class Lo extends tW{get formDirective(){return null}get path(){return null}}class dd extends tW{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class eW{constructor(i){this._cd=i}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let No=(()=>{class e extends eW{constructor(t){super(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(dd,2))};static#e=this.\u0275dir=ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&bi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[hi]})}return e})(),rm=(()=>{class e extends eW{constructor(t){super(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lo,10))};static#e=this.\u0275dir=ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&bi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[hi]})}return e})();const Oy="VALID",AC="INVALID",iv="PENDING",Ly="DISABLED";function AR(e){return(DC(e)?e.validators:e)||null}function DR(e,i){return(DC(i)?i.asyncValidators:e)||null}function DC(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function nW(e,i,t){const n=e.controls;if(!(i?Object.keys(n):n).length)throw new ue(1e3,"");if(!n[t])throw new ue(1001,"")}function rW(e,i,t){e._forEachChild((n,r)=>{if(void 0===t[r])throw new ue(1002,"")})}class MC{constructor(i,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===Oy}get invalid(){return this.status===AC}get pending(){return this.status==iv}get disabled(){return this.status===Ly}get enabled(){return this.status!==Ly}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(J7(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(J7(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(q7(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(q7(i,this._rawAsyncValidators))}hasValidator(i){return SC(this._rawValidators,i)}hasAsyncValidator(i){return SC(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=iv,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=Ly,this.errors=null,this._forEachChild(n=>{n.disable({...i,onlySelf:!0})}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...i,skipPristineCheck:t}),this._onDisabledChange.forEach(n=>n(!0))}enable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=Oy,this._forEachChild(n=>{n.enable({...i,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors({...i,skipPristineCheck:t}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Oy||this.status===iv)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ly:Oy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=iv,this._hasOwnPendingAsyncValidator=!0;const t=H7(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,t={}){this.errors=i,this._updateControlsErrors(!1!==t.emitEvent)}get(i){let t=i;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((n,r)=>n&&n._find(r),this)}getError(i,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[i]:null}hasError(i,t){return!!this.getError(i,t)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new De,this.statusChanges=new De}_calculateStatus(){return this._allControlsDisabled()?Ly:this.errors?AC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(iv)?iv:this._anyControlsHaveStatus(AC)?AC:Oy}_anyControlsHaveStatus(i){return this._anyControls(t=>t.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){DC(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=function sTt(e){return Array.isArray(e)?_R(e):e||null}(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=function aTt(e){return Array.isArray(e)?TR(e):e||null}(this._rawAsyncValidators)}}class nv extends MC{constructor(i,t,n){super(AR(t),DR(n,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,t){return this.controls[i]?this.controls[i]:(this.controls[i]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(i,t,n={}){this.registerControl(i,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(i,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(i,t,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],t&&this.registerControl(i,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,t={}){rW(this,0,i),Object.keys(i).forEach(n=>{nW(this,!0,n),this.controls[n].setValue(i[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(Object.keys(i).forEach(n=>{const r=this.controls[n];r&&r.patchValue(i[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i={},t={}){this._forEachChild((n,r)=>{n.reset(i?i[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(i,t,n)=>(i[n]=t.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(t,n)=>!!n._syncPendingControls()||t);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&i(n,t)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const[t,n]of Object.entries(this.controls))if(this.contains(t)&&i(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,n,r)=>((n.enabled||this.disabled)&&(t[r]=n.value),t))}_reduceChildren(i,t){let n=i;return this._forEachChild((r,s)=>{n=t(n,r,s)}),n}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}}class sW extends nv{}const sm=new ee("CallSetDisabledState",{providedIn:"root",factory:()=>Ny}),Ny="always";function IC(e,i){return[...i.path,e]}function By(e,i,t=Ny){MR(e,i),i.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&i.valueAccessor.setDisabledState?.(e.disabled),function lTt(e,i){i.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&aW(e,i)})}(e,i),function dTt(e,i){const t=(n,r)=>{i.valueAccessor.writeValue(n),r&&i.viewToModelUpdate(n)};e.registerOnChange(t),i._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,i),function cTt(e,i){i.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&aW(e,i),"submit"!==e.updateOn&&e.markAsTouched()})}(e,i),function oTt(e,i){if(i.valueAccessor.setDisabledState){const t=n=>{i.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(t),i._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,i)}function kC(e,i,t=!0){const n=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(n),i.valueAccessor.registerOnTouched(n)),PC(e,i),e&&(i._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function RC(e,i){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(i)})}function MR(e,i){const t=K7(e);null!==i.validator?e.setValidators(Q7(t,i.validator)):"function"==typeof t&&e.setValidators([t]);const n=Z7(e);null!==i.asyncValidator?e.setAsyncValidators(Q7(n,i.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const r=()=>e.updateValueAndValidity();RC(i._rawValidators,r),RC(i._rawAsyncValidators,r)}function PC(e,i){let t=!1;if(null!==e){if(null!==i.validator){const r=K7(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==i.validator);s.length!==r.length&&(t=!0,e.setValidators(s))}}if(null!==i.asyncValidator){const r=Z7(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==i.asyncValidator);s.length!==r.length&&(t=!0,e.setAsyncValidators(s))}}}const n=()=>{};return RC(i._rawValidators,n),RC(i._rawAsyncValidators,n),t}function aW(e,i){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function oW(e,i){MR(e,i)}function kR(e,i){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(i,t.currentValue)}function lW(e,i){e._syncPendingControls(),i.forEach(t=>{const n=t.control;"submit"===n.updateOn&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function RR(e,i){if(!i)return null;let t,n,r;return Array.isArray(i),i.forEach(s=>{s.constructor===Cl?t=s:function fTt(e){return Object.getPrototypeOf(e.constructor)===nm}(s)?n=s:r=s}),r||n||t||null}const pTt={provide:Lo,useExisting:Sn(()=>am)},Vy=Promise.resolve();let am=(()=>{class e extends Lo{constructor(t,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new De,this.form=new nv({},_R(t),TR(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Vy.then(()=>{const n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),By(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Vy.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Vy.then(()=>{const n=this._findContainer(t.path),r=new nv({});oW(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Vy.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){Vy.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,lW(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Qs,10),mt(Fh,10),mt(sm,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Vt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[Wt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fi([pTt]),hi]})}return e})();function cW(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}function dW(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Ps=class extends MC{constructor(i=null,t,n){super(AR(t),DR(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),DC(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=dW(i)?i.value:i)}setValue(i,t={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(i,t={}){this.setValue(i,t)}reset(i=this.defaultValue,t={}){this._applyFormState(i),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){cW(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){cW(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){dW(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}},gTt=Ps,yTt={provide:dd,useExisting:Sn(()=>$l)},fW=Promise.resolve();let $l=(()=>{class e extends dd{constructor(t,n,r,s,o,l){super(),this._changeDetectorRef=o,this.callSetDisabledState=l,this.control=new Ps,this._registered=!1,this.name="",this.update=new De,this._parent=t,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=RR(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),kR(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){By(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){fW.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const n=t.isDisabled.currentValue,r=0!==n&&Je(n);fW.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?IC(t,this._parent):[t]}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lo,9),mt(Qs,10),mt(Fh,10),mt(ha,10),mt(Mn,8),mt(sm,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Wt.None,"disabled","isDisabled"],model:[Wt.None,"ngModel","model"],options:[Wt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[fi([yTt]),hi,tr]})}return e})(),rv=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})();const bTt={provide:ha,useExisting:Sn(()=>FC),multi:!0};let FC=(()=>{class e extends nm{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=n=>{t(""==n?null:parseFloat(n))}}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&Vt("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[fi([bTt]),hi]})}return e})();const PR=new ee(""),CTt={provide:dd,useExisting:Sn(()=>Uy)};let Uy=(()=>{class e extends dd{set isDisabled(t){}static#t=this._ngModelWarningSentOnce=!1;constructor(t,n,r,s,o){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=o,this.update=new De,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=RR(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const n=t.form.previousValue;n&&kC(n,this,!1),By(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}kR(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&kC(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static#e=this.\u0275fac=function(n){return new(n||e)(mt(Qs,10),mt(Fh,10),mt(ha,10),mt(PR,8),mt(sm,8))};static#i=this.\u0275dir=ce({type:e,selectors:[["","formControl",""]],inputs:{form:[Wt.None,"formControl","form"],isDisabled:[Wt.None,"disabled","isDisabled"],model:[Wt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[fi([CTt]),hi,tr]})}return e})();const STt={provide:Lo,useExisting:Sn(()=>ud)};let ud=(()=>{class e extends Lo{constructor(t,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new De,this._setValidators(t),this._setAsyncValidators(n)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(PC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const n=this.form.get(t.path);return By(n,t,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),n}getControl(t){return this.form.get(t.path)}removeControl(t){kC(t.control||null,t,!1),function mTt(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,n){this.form.get(t.path).setValue(n)}onSubmit(t){return this.submitted=!0,lW(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const n=t.control,r=this.form.get(t.path);n!==r&&(kC(n||null,t),(e=>e instanceof Ps)(r)&&(By(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const n=this.form.get(t.path);oW(n,t),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const n=this.form.get(t.path);n&&function uTt(e,i){return PC(e,i)}(n,t)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){MR(this.form,this),this._oldForm&&PC(this._oldForm,this)}_checkFormPresent(){}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Qs,10),mt(Fh,10),mt(sm,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&Vt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[Wt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fi([STt]),hi,tr]})}return e})();const DTt={provide:dd,useExisting:Sn(()=>sv)};let sv=(()=>{class e extends dd{set isDisabled(t){}static#t=this._ngModelWarningSentOnce=!1;constructor(t,n,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new De,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=RR(0,s)}ngOnChanges(t){this._added||this._setUpControl(),kR(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return IC(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#e=this.\u0275fac=function(n){return new(n||e)(mt(Lo,13),mt(Qs,10),mt(Fh,10),mt(ha,10),mt(PR,8))};static#i=this.\u0275dir=ce({type:e,selectors:[["","formControlName",""]],inputs:{name:[Wt.None,"formControlName","name"],isDisabled:[Wt.None,"disabled","isDisabled"],model:[Wt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[fi([DTt]),hi,tr]})}return e})();let om=(()=>{class e{constructor(){this._validator=CC}ngOnChanges(t){if(this.inputName in t){const n=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):CC,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,features:[tr]})}return e})();const NTt={provide:Qs,useExisting:Sn(()=>OC),multi:!0};let OC=(()=>{class e extends om{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Je,this.createValidator=t=>L7}enabled(t){return t}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&Ti("required",r._enabled?"":null)},inputs:{required:"required"},features:[fi([NTt]),hi]})}return e})();const UTt={provide:Qs,useExisting:Sn(()=>BR),multi:!0};let BR=(()=>{class e extends om{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function yW(e){return"number"==typeof e?e:parseInt(e,10)}(t),this.createValidator=t=>V7(t)}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Ti("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[fi([UTt]),hi]})}return e})();const GTt={provide:Qs,useExisting:Sn(()=>NC),multi:!0};let NC=(()=>{class e extends om{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>z7(t)}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Ti("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[fi([GTt]),hi]})}return e})(),SW=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})();class EW extends MC{constructor(i,t,n){super(AR(t),DR(n,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[this._adjustIndex(i)]}push(i,t={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(i,t,n={}){this.controls.splice(i,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(i,t={}){let n=this._adjustIndex(i);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(i,t,n={}){let r=this._adjustIndex(i);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,t={}){rW(this,0,i),i.forEach((n,r)=>{nW(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(i.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i=[],t={}){this._forEachChild((n,r)=>{n.reset(i[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(i=>i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_adjustIndex(i){return i<0?i+this.length:i}_syncPendingControls(){let i=this.controls.reduce((t,n)=>!!n._syncPendingControls()||t,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((t,n)=>{i(t,n)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(t=>t.enabled&&i(t))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}_find(i){return this.at(i)??null}}function AW(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let BC=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,n=null){const r=this._reduceControls(t);let s={};return AW(n)?s=n:null!==n&&(s.validators=n.validator,s.asyncValidators=n.asyncValidator),new nv(r,s)}record(t,n=null){const r=this._reduceControls(t);return new sW(r,n)}control(t,n,r){let s={};return this.useNonNullable?(AW(n)?s=n:(s.validators=n,s.asyncValidators=r),new Ps(t,{...s,nonNullable:!0})):new Ps(t,n,r)}array(t,n,r){const s=t.map(o=>this._createControl(o));return new EW(s,n,r)}_reduceControls(t){const n={};return Object.keys(t).forEach(r=>{n[r]=this._createControl(t[r])}),n}_createControl(t){return t instanceof Ps||t instanceof MC?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),VR=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:sm,useValue:t.callSetDisabledState??Ny}]}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[SW]})}return e})(),HTt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:PR,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:sm,useValue:t.callSetDisabledState??Ny}]}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[SW]})}return e})();class XTt{constructor(i){this._box=i,this._destroyed=new Pe,this._resizeSubject=new Pe,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(i){return this._elementObservables.has(i)||this._elementObservables.set(i,new ur(t=>{const n=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(i,{box:this._box}),()=>{this._resizeObserver?.unobserve(i),n.unsubscribe(),this._elementObservables.delete(i)}}).pipe(In(t=>t.some(n=>n.target===i)),function WTt(e,i,t){let n,r=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:i=1/0,refCount:r=!1,scheduler:t}=e):n=e??1/0,d7({connector:()=>new py(n,i,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({bufferSize:1,refCount:!0}),Ui(this._destroyed))),this._elementObservables.get(i)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let jTt=(()=>{class e{constructor(){this._observers=new Map,this._ngZone=me(ii)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,n){const r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new XTt(r)),this._observers.get(r).observe(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const YTt=["notch"],$Tt=["matFormFieldNotchedOutline",""],QTt=["*"],KTt=["textField"],ZTt=["iconPrefixContainer"],JTt=["textPrefixContainer"],qTt=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],tCt=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function eCt(e,i){1&e&&ye(0,"span",17)}function iCt(e,i){if(1&e&&(q(0,"label",16),xi(1,1),Gt(2,eCt,1,0,"span",17),et()),2&e){const t=Ct(2);xt("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Ti("for",t._control.id),ot(2),xn(2,!t.hideRequiredMarker&&t._control.required?2:-1)}}function nCt(e,i){1&e&&Gt(0,iCt,3,5,"label",16),2&e&&xn(0,Ct()._hasFloatingLabel()?0:-1)}function rCt(e,i){1&e&&ye(0,"div",5)}function sCt(e,i){}function aCt(e,i){1&e&&Gt(0,sCt,0,0,"ng-template",11),2&e&&(Ct(2),xt("ngTemplateOutlet",Ki(1)))}function oCt(e,i){if(1&e&&(q(0,"div",7),Gt(1,aCt,1,1,null,11),et()),2&e){const t=Ct();xt("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),ot(),xn(1,t._forceDisplayInfixLabel()?-1:1)}}function lCt(e,i){1&e&&(q(0,"div",8,2),xi(2,2),et())}function cCt(e,i){1&e&&(q(0,"div",9,3),xi(2,3),et())}function dCt(e,i){}function uCt(e,i){1&e&&Gt(0,dCt,0,0,"ng-template",11),2&e&&(Ct(),xt("ngTemplateOutlet",Ki(1)))}function hCt(e,i){1&e&&(q(0,"div",12),xi(1,4),et())}function fCt(e,i){1&e&&(q(0,"div",13),xi(1,5),et())}function mCt(e,i){1&e&&ye(0,"div",14)}function pCt(e,i){1&e&&(q(0,"div",18),xi(1,6),et()),2&e&&xt("@transitionMessages",Ct()._subscriptAnimationState)}function gCt(e,i){if(1&e&&(q(0,"mat-hint",20),ut(1),et()),2&e){const t=Ct(2);xt("id",t._hintLabelId),ot(),Xe(t.hintLabel)}}function vCt(e,i){if(1&e&&(q(0,"div",19),Gt(1,gCt,2,2,"mat-hint",20),xi(2,7),ye(3,"div",21),xi(4,8),et()),2&e){const t=Ct();xt("@transitionMessages",t._subscriptAnimationState),ot(),xn(1,t.hintLabel?1:-1)}}let tl=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-label"]],standalone:!0})}return e})(),xCt=0;const DW=new ee("MatError");let MW=(()=>{class e{constructor(t,n){this.id="mat-mdc-error-"+xCt++,t||n.nativeElement.setAttribute("aria-live","polite")}static#t=this.\u0275fac=function(n){return new(n||e)(ml("aria-live"),mt(si))};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(n,r){2&n&&Jc("id",r.id)},inputs:{id:"id"},standalone:!0,features:[fi([{provide:DW,useExisting:e}])]})}return e})(),yCt=0,Oh=(()=>{class e{constructor(){this.align="start",this.id="mat-mdc-hint-"+yCt++}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){2&n&&(Jc("id",r.id),Ti("align",null),bi("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},standalone:!0})}return e})();const bCt=new ee("MatPrefix"),IW=new ee("MatSuffix");let kW=(()=>{class e{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[Wt.None,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[fi([{provide:IW,useExisting:e}])]})}return e})();const RW=new ee("FloatingLabelParent");let PW=(()=>{class e{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=me(jTt),this._ngZone=me(ii),this._parent=me(RW),this._resizeSubscription=new Ie}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function wCt(e){if(null!==e.offsetParent)return e.scrollWidth;const t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const n=t.scrollWidth;return t.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si))};static#e=this.\u0275dir=ce({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){2&n&&bi("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return e})();const FW="mdc-line-ripple--active",VC="mdc-line-ripple--deactivating";let OW=(()=>{class e{constructor(t,n){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(VC);"opacity"===r.propertyName&&o&&s.remove(FW,VC)},n.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(VC),t.add(FW)}deactivate(){this._elementRef.nativeElement.classList.add(VC)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(ii))};static#e=this.\u0275dir=ce({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return e})(),LW=(()=>{class e{constructor(t,n){this._elementRef=t,this._ngZone=n,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(ii))};static#e=this.\u0275cmp=$e({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(1&n&&Mi(YTt,5),2&n){let s;Be(s=Ve())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){2&n&&bi("mdc-notched-outline--notched",r.open)},inputs:{open:[Wt.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Vi],attrs:$Tt,ngContentSelectors:QTt,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(n,r){1&n&&(Kn(),ye(0,"div",1),q(1,"div",2,0),xi(3),et(),ye(4,"div",3))},encapsulation:2,changeDetection:0})}return e})();const _Ct={transitionMessages:mr("transitionMessages",[kn("enter",qe({opacity:1,transform:"translateY(0%)"})),on("void => enter",[qe({opacity:0,transform:"translateY(-5px)"}),sn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let UC=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e})}return e})();const zC=new ee("MatFormField"),TCt=new ee("MAT_FORM_FIELD_DEFAULT_OPTIONS");let NW=0,Sl=(()=>{class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ca(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const n=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,n,r,s,o,l,b,C){this._elementRef=t,this._changeDetectorRef=n,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=l,this._animationMode=b,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+NW++,this._hintLabelId="mat-mdc-hint-"+NW++,this._subscriptAnimationState="",this._destroyed=new Pe,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Ui(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Yr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ui(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ui(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const n=this._control?this._control.ngControl:null;return n&&n[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;n?t.push(n.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=n?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const n=t.getRootNode();return n&&n!==t}return document.documentElement.contains(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(Mn),mt(ii),mt(Va),mt(ir),mt(TCt,8),mt(Nr,8),mt(Ni))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-form-field"]],contentQueries:function(n,r,s){if(1&n&&(An(s,tl,5),An(s,tl,7),An(s,UC,5),An(s,bCt,5),An(s,IW,5),An(s,DW,5),An(s,Oh,5)),2&n){let o;Be(o=Ve())&&(r._labelChildNonStatic=o.first),Be(o=Ve())&&(r._labelChildStatic=o.first),Be(o=Ve())&&(r._formFieldControl=o.first),Be(o=Ve())&&(r._prefixChildren=o),Be(o=Ve())&&(r._suffixChildren=o),Be(o=Ve())&&(r._errorChildren=o),Be(o=Ve())&&(r._hintChildren=o)}},viewQuery:function(n,r){if(1&n&&(Mi(KTt,5),Mi(ZTt,5),Mi(JTt,5),Mi(PW,5),Mi(LW,5),Mi(OW,5)),2&n){let s;Be(s=Ve())&&(r._textField=s.first),Be(s=Ve())&&(r._iconPrefixContainer=s.first),Be(s=Ve())&&(r._textPrefixContainer=s.first),Be(s=Ve())&&(r._floatingLabel=s.first),Be(s=Ve())&&(r._notchedOutline=s.first),Be(s=Ve())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,r){2&n&&bi("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[fi([{provide:zC,useExisting:e},{provide:RW,useExisting:e}]),Vi],ngContentSelectors:tCt,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,r){if(1&n){const s=pe();Kn(qTt),Gt(0,nCt,1,1,"ng-template",null,0,wg),q(2,"div",4,1),Vt("click",function(l){return Ut(s),zt(r._control.onContainerClick(l))}),Gt(4,rCt,1,0,"div",5),q(5,"div",6),Gt(6,oCt,2,2,"div",7)(7,lCt,3,0,"div",8)(8,cCt,3,0,"div",9),q(9,"div",10),Gt(10,uCt,1,1,null,11),xi(11),et(),Gt(12,hCt,2,0,"div",12)(13,fCt,2,0,"div",13),et(),Gt(14,mCt,1,0,"div",14),et(),q(15,"div",15),Gt(16,pCt,2,1)(17,vCt,5,2),et()}if(2&n){let s;ot(2),bi("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),ot(2),xn(4,r._hasOutline()||r._control.disabled?-1:4),ot(2),xn(6,r._hasOutline()?6:-1),ot(),xn(7,r._hasIconPrefix?7:-1),ot(),xn(8,r._hasTextPrefix?8:-1),ot(2),xn(10,!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),ot(2),xn(12,r._hasTextSuffix?12:-1),ot(),xn(13,r._hasIconSuffix?13:-1),ot(),xn(14,r._hasOutline()?-1:14),ot(),bi("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),ot(),xn(16,"error"===(s=r._getDisplayedMessages())?16:"hint"===s?17:-1)}},dependencies:[PW,LW,gT,OW,Oh],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[_Ct.transitionMessages]},changeDetection:0})}return e})(),GC=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Zi,td,Nk,Zi]})}return e})();const ECt=["panel"],ACt=["*"];function DCt(e,i){if(1&e){const t=pe();q(0,"div",1,0),Vt("@panelAnimation.done",function(r){return Ut(t),zt(Ct()._animationDone.next(r))}),xi(2),et()}if(2&e){const t=i.id,n=Ct();xt("id",n.id)("ngClass",n._classList)("@panelAnimation",n.isOpen?"visible":"hidden"),Ti("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby(t))}}const MCt=mr("panelAnimation",[kn("void, hidden",qe({opacity:0,transform:"scaleY(0.8)"})),on(":enter, hidden => visible",[Zk([sn("0.03s linear",qe({opacity:1})),sn("0.12s cubic-bezier(0, 0, 0.2, 1)",qe({transform:"scaleY(1)"}))])]),on(":leave, visible => hidden",[sn("0.075s linear",qe({opacity:0}))])]);let ICt=0;class kCt{constructor(i,t){this.source=i,this.option=t}}const UW=new ee("mat-autocomplete-default-options",{providedIn:"root",factory:function RCt(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let PCt=(()=>{class e{get isOpen(){return this._isOpen&&this.showPanel}_setColor(t){this._color=t,this._setThemeClasses(this._classList)}set classList(t){this._classList=t&&t.length?function Lbt(e,i=/\s+/){const t=[];if(null!=e){const n=Array.isArray(e)?e:`${e}`.split(i);for(const r of n){const s=`${r}`.trim();s&&t.push(s)}}return t}(t).reduce((n,r)=>(n[r]=!0,n),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}constructor(t,n,r,s){this._changeDetectorRef=t,this._elementRef=n,this._defaults=r,this._activeOptionChanges=Ie.EMPTY,this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._animationDone=new De,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new De,this.opened=new De,this.closed=new De,this.optionActivated=new De,this._classList={},this.id="mat-autocomplete-"+ICt++,this.inertGroups=s?.SAFARI||!1,this.autoActiveFirstOption=!!r.autoActiveFirstOption,this.autoSelectActiveOption=!!r.autoSelectActiveOption,this.requireSelection=!!r.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new fH(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const n=new kCt(this,t);this.optionSelected.emit(n)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}_setThemeClasses(t){t["mat-primary"]="primary"===this._color,t["mat-warn"]="warn"===this._color,t["mat-accent"]="accent"===this._color}_skipPredicate(){return!1}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Mn),mt(si),mt(UW),mt(ir))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-autocomplete"]],contentQueries:function(n,r,s){if(1&n&&(An(s,su,5),An(s,Xk,5)),2&n){let o;Be(o=Ve())&&(r.options=o),Be(o=Ve())&&(r.optionGroups=o)}},viewQuery:function(n,r){if(1&n&&(Mi(fr,7),Mi(ECt,5)),2&n){let s;Be(s=Ve())&&(r.template=s.first),Be(s=Ve())&&(r.panel=s.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[Wt.None,"aria-label","ariaLabel"],ariaLabelledby:[Wt.None,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[Wt.HasDecoratorInputTransform,"autoActiveFirstOption","autoActiveFirstOption",Je],autoSelectActiveOption:[Wt.HasDecoratorInputTransform,"autoSelectActiveOption","autoSelectActiveOption",Je],requireSelection:[Wt.HasDecoratorInputTransform,"requireSelection","requireSelection",Je],panelWidth:"panelWidth",disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Je],classList:[Wt.None,"class","classList"],hideSingleSelectionIndicator:[Wt.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Je]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[fi([{provide:Wk,useExisting:e}]),ln,Vi],ngContentSelectors:ACt,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"]],template:function(n,r){1&n&&(Kn(),Gt(0,DCt,3,5,"ng-template"))},dependencies:[_c],styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[MCt]},changeDetection:0})}return e})();const FCt={provide:ha,useExisting:Sn(()=>GW),multi:!0},zW=new ee("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const e=me(ys);return()=>e.scrollStrategies.reposition()}}),LCt={provide:zW,deps:[ys],useFactory:function OCt(e){return()=>e.scrollStrategies.reposition()}};let GW=(()=>{class e{constructor(t,n,r,s,o,l,b,C,D,R,O){this._element=t,this._overlay=n,this._viewContainerRef=r,this._zone=s,this._changeDetectorRef=o,this._dir=b,this._formField=C,this._document=D,this._viewportRuler=R,this._defaults=O,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Ie.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Pe,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=Dg(()=>{const L=this.autocomplete?this.autocomplete.options:null;return L?L.changes.pipe(Ca(L),Rs(()=>Yr(...L.map(U=>U.onSelectionChange)))):this._zone.onStable.pipe(er(1),Rs(()=>this.optionSelections))}),this._handlePanelKeydown=L=>{(27===L.keyCode&&!io(L)||38===L.keyCode&&io(L,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),L.stopPropagation(),L.preventDefault())},this._trackedModal=null,this._scrollStrategy=l}ngAfterViewInit(){const t=this._getWindow();typeof t<"u"&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();typeof t<"u"&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal)&&Yg(this._trackedModal,"aria-owns",this.autocomplete.id)}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Yr(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(In(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(In(()=>this._overlayAttached)):vi()).pipe(Di(t=>t instanceof RH?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Yr(Ac(this._document,"click"),Ac(this._document,"auxclick"),Ac(this._document,"touchend")).pipe(In(t=>{const n=_l(t),r=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,s=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&n!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(n))&&(!s||!s.contains(n))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(n)}))}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const n=t.keyCode,r=io(t);if(27===n&&!r&&t.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&13===n&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const s=this.autocomplete._keyManager.activeItem,o=38===n||40===n;9===n||o&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):o&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(o||this.autocomplete._keyManager.activeItem!==s)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let n=t.target,r=n.value;if("number"===n.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r){if(this._previousValue=r,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(r),r){if(this.panelOpen&&!this.autocomplete.requireSelection){const s=this.autocomplete.options?.find(o=>o.selected);s&&r!==this._getDisplayValue(s.value)&&s.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===t.target){const s=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(s)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){return Yr(this._zone.onStable.pipe(er(1)),this.autocomplete.options.changes.pipe(fs(()=>this._positionStrategy.reapplyLastPosition()),oR(0))).pipe(Rs(()=>(this._zone.run(()=>{const r=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit())}),this.panelClosingActions)),er(1)).subscribe(r=>this._setValueAndClose(r))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(t){const n=this.autocomplete;return n&&n.displayWith?n.displayWith(t):t}_assignOptionValue(t){const n=this._getDisplayValue(t);null==t&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(n??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){const n=this.autocomplete,r=t?t.source:this._pendingAutoselectedOption;r?(this._clearPreviousSelectedOption(r),this._assignOptionValue(r.value),this._onChange(r.value),n._emitSelectEvent(r),this._element.nativeElement.focus()):n.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),n._animationDone?n._animationDone.pipe(er(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(t,n){this.autocomplete?.options?.forEach(r=>{r!==t&&r.selected&&r.deselect(n)})}_openPanelInternal(t=this._element.nativeElement.value){this._attachOverlay(t),this._floatLabel(),this._trackedModal&&YT(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(t){let n=this._overlayRef;n?(this._positionStrategy.setOrigin(this._getConnectedElement()),n.updateSize({width:this._getPanelWidth()})):(this._portal=new ou(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),n=this._overlay.create(this._getOverlayConfig()),this._overlayRef=n,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&n&&n.updateSize({width:this._getPanelWidth()})})),n&&!n.hasAttached()&&(n.attach(this._portal),this._valueOnAttach=t,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const r=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&r!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const t=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=t.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=t.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new qg({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,s=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let o;o="above"===this.position?s:"below"===this.position?n:[...n,...s],t.withPositions(o)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;if(t.autoActiveFirstOption){let n=-1;for(let r=0;r<t.options.length;r++)if(!t.options.get(r).disabled){n=r;break}t._keyManager.setActiveItem(n)}else t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(t){const n=this.autocomplete,r=PH(t,n.options,n.optionGroups);if(0===t&&1===r)n._setScrollTop(0);else if(n.panel){const s=n.options.toArray()[t];if(s){const o=s._getHostElement(),l=FH(o.offsetTop,o.offsetHeight,n._getScrollTop(),n.panel.nativeElement.offsetHeight);n._setScrollTop(l)}}}_applyModalPanelOwnership(){const t=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const n=this.autocomplete.id;this._trackedModal&&Yg(this._trackedModal,"aria-owns",n),YT(t,"aria-owns",n),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(Yg(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(ys),mt(Ir),mt(ii),mt(Mn),mt(zW),mt(Va,8),mt(zC,9),mt(Ni,8),mt(cu),mt(UW,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(n,r){1&n&&Vt("focusin",function(){return r._handleFocus()})("blur",function(){return r._onTouched()})("input",function(o){return r._handleInput(o)})("keydown",function(o){return r._handleKeydown(o)})("click",function(){return r._handleClick()}),2&n&&Ti("autocomplete",r.autocompleteAttribute)("role",r.autocompleteDisabled?null:"combobox")("aria-autocomplete",r.autocompleteDisabled?null:"list")("aria-activedescendant",r.panelOpen&&r.activeOption?r.activeOption.id:null)("aria-expanded",r.autocompleteDisabled?null:r.panelOpen.toString())("aria-controls",r.autocompleteDisabled||!r.panelOpen||null==r.autocomplete?null:r.autocomplete.id)("aria-haspopup",r.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[Wt.None,"matAutocomplete","autocomplete"],position:[Wt.None,"matAutocompletePosition","position"],connectedTo:[Wt.None,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[Wt.None,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[Wt.HasDecoratorInputTransform,"matAutocompleteDisabled","autocompleteDisabled",Je]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[fi([FCt]),ln,tr]})}return e})(),NCt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[LCt],imports:[tm,iC,Zi,td,du,iC,Zi]})}return e})();const HW=Ec({passive:!0});let BCt=(()=>{class e{constructor(t,n){this._platform=t,this._ngZone=n,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Jo;const n=xs(t),r=this._monitoredElements.get(n);if(r)return r.subject;const s=new Pe,o="cdk-text-field-autofilled",l=b=>{"cdk-text-field-autofill-start"!==b.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===b.animationName&&n.classList.contains(o)&&(n.classList.remove(o),this._ngZone.run(()=>s.next({target:b.target,isAutofilled:!1}))):(n.classList.add(o),this._ngZone.run(()=>s.next({target:b.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",l,HW),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:s,unlisten:()=>{n.removeEventListener("animationstart",l,HW)}}),s}stopMonitoring(t){const n=xs(t),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((t,n)=>this.stopMonitoring(n))}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ir),Jt(ii))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),VCt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})();const UCt=new ee("MAT_INPUT_VALUE_ACCESSOR"),zCt=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let GCt=0,yu=(()=>{class e{get disabled(){return this._disabled}set disabled(t){this._disabled=ca(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(cd.required)??!1}set required(t){this._required=ca(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&qG().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ca(t)}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,n,r,s,o,l,b,C,D,R){this._elementRef=t,this._platform=n,this.ngControl=r,this._autofillMonitor=C,this._formField=R,this._uid="mat-input-"+GCt++,this.focused=!1,this.stateChanges=new Pe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>qG().has(U)),this._iOSKeyupListener=U=>{const X=U.target;!X.value&&0===X.selectionStart&&0===X.selectionEnd&&(X.setSelectionRange(1,1),X.setSelectionRange(0,0))};const O=this._elementRef.nativeElement,L=O.nodeName.toLowerCase();this._inputValueAccessor=b||O,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&D.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Hk(l,r,o,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const n=this._elementRef.nativeElement;this._previousPlaceholder=t,t?n.setAttribute("placeholder",t):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){zCt.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,n=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(ir),mt(dd,10),mt(am,8),mt(ud,8),mt(SH),mt(UCt,10),mt(BCt),mt(ii),mt(zC,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,r){1&n&&Vt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&n&&(Jc("id",r.id)("disabled",r.disabled)("required",r.required),Ti("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),bi("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[Wt.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[fi([{provide:UC,useExisting:e}]),tr]})}return e})(),HCt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Zi,GC,GC,VCt,Zi]})}return e})();function WCt(e,i){if(1&e&&(q(0,"mat-label"),ut(1),et()),2&e){const t=Ct();ot(),Xe(t.binding.title)}}function XCt(e,i){if(1&e){const t=pe();q(0,"button",7),Vt("click",function(){return Ut(t),zt(Ct().clearInput())}),q(1,"mat-icon"),ut(2,"close"),et()()}}function jCt(e,i){1&e&&(q(0,"mat-option",8),ye(1,"mat-spinner",9),et())}function YCt(e,i){if(1&e&&(q(0,"mat-option",10)(1,"span",11),ut(2),et(),ut(3),et()),2&e){const t=i.$implicit;xt("value",t),ot(2),Xe(t.code),ot(),He("",t.display," ")}}let av=(()=>{class e{static#t=this.nextId=0;constructor(t){this.terminologyService=t,this.term="",this.selectionChange=new De,this.formControl=new gTt,this.loading=!1,this.selectedConcept={},this.stateChanges=new Pe,this.focused=!1,this.ngControl=null,this.errorState=!1,this.controlType="app-autocomplete-binding",this.id="app-autocomplete-binding-"+e.nextId++,this.describedBy="",this.onChange=()=>{},this.onTouched=()=>{}}get empty(){return!this.formControl.value}setDescribedByIds(t){this.describedBy=t.join(" ")}onContainerClick(t){}writeValue(t){this.formControl.setValue(t&&"object"==typeof t&&t.display?t.display:t,{emitEvent:!1})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}ngOnChanges(t){t.term&&(this.term=t.term.currentValue,this.formControl.setValue(this.term&&"object"==typeof this.term&&this.term.display?this.term.display:this.term))}ngOnInit(){this.autoFilter=this.formControl.valueChanges.pipe(iu(300),nu(),Rs(t=>t?.length>=3?(this.loading=!0,this.terminologyService.expandValueSet(this.binding.ecl,t,0,50)):vi([])),fs(t=>{this.loading=!1}))}onTermChange(){this.formControl.setValue(this.term)}optionSelected(t){this.selectedConcept=t,this.selectionChange.emit(t),this.onChange(t)}clearInput(){this.formControl.reset(),this.selectedConcept={code:"",display:""},this.selectionChange.emit(this.selectedConcept)}change(t){const n=t?.option?.value;n&&(this.optionSelected({code:n.code,display:n.display}),this.formControl.setValue(n.display))}static#e=this.\u0275fac=function(n){return new(n||e)(mt(da))};static#i=this.\u0275cmp=$e({type:e,selectors:[["app-autocomplete-binding"]],inputs:{binding:"binding",term:"term"},outputs:{selectionChange:"selectionChange"},features:[fi([{provide:ha,useExisting:Sn(()=>e),multi:!0},{provide:UC,useExisting:e}]),tr],decls:11,vars:10,consts:[["auto","matAutocomplete"],[4,"ngIf"],["type","text","matInput","",3,"placeholder","formControl","matAutocomplete"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["autoActiveFirstOption","",3,"optionSelected"],["disabled","","class","loading",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["disabled","",1,"loading"],["diameter","35"],[3,"value"],[1,"code"]],template:function(n,r){if(1&n){const s=pe();q(0,"mat-form-field"),Gt(1,WCt,2,1,"mat-label",1),ye(2,"input",2),q(3,"mat-hint"),ut(4),et(),Gt(5,XCt,3,0,"button",3),q(6,"mat-autocomplete",4,0),Vt("optionSelected",function(l){return Ut(s),zt(r.change(l))}),Gt(8,jCt,2,0,"mat-option",5)(9,YCt,4,3,"mat-option",6),hs(10,"async"),et()()}if(2&n){let s;const o=Ki(7);ot(),xt("ngIf",r.binding.title),ot(),mh("placeholder",(null==r.formControl.value?null:r.formControl.value.display)||r.binding.title||"Search..."),xt("formControl",r.formControl)("matAutocomplete",o),ot(2),Xe(r.binding.note),ot(),xt("ngIf",r.formControl.value),ot(3),xt("ngIf",r.loading),ot(),xt("ngForOf",null==(s=zl(10,8,r.autoFilter))||null==s.expansion?null:s.expansion.contains)}},dependencies:[vs,Is,Oo,ua,Sl,tl,Oh,kW,PCt,su,GW,Ah,yu,Cl,No,Uy,wI],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}.id-icon[_ngcontent-%COMP%]{margin-left:10px;color:#2e8b57}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}return e})();function $Ct(e,i){1&e&&ye(0,"mat-spinner",20)}function QCt(e,i){1&e&&(q(0,"th",21),ut(1," Date "),et())}function KCt(e,i){if(1&e&&(q(0,"td",22),ut(1),hs(2,"date"),et()),2&e){const t=i.$implicit;ot(),He(" ",bc(2,1,t.date,"yyyy-MM-dd")," ")}}function ZCt(e,i){1&e&&(q(0,"th",21),ut(1," ConceptId "),et())}function JCt(e,i){if(1&e&&(q(0,"td",22),ut(1),et()),2&e){const t=i.$implicit;ot(),He(" ",t.code," ")}}function qCt(e,i){1&e&&(q(0,"th",21),ut(1," Term "),et())}function tSt(e,i){1&e&&(q(0,"span",24),ut(1,"Allergy / Intolerance condition"),et())}function eSt(e,i){if(1&e&&(q(0,"td",22),Gt(1,tSt,2,0,"span",23),ut(2),et()),2&e){const t=i.$implicit;ot(),xt("ngIf",t.allergy),ot(),He(" ",t.display," ")}}function iSt(e,i){1&e&&ye(0,"tr",25)}function nSt(e,i){1&e&&ye(0,"tr",26)}function rSt(e,i){1&e&&(q(0,"th",21),ut(1," ConceptId "),et())}function sSt(e,i){if(1&e&&(q(0,"td",22),ut(1),et()),2&e){const t=i.$implicit;ot(),He(" ",t.code," ")}}function aSt(e,i){1&e&&(q(0,"th",21),ut(1," Term "),et())}function oSt(e,i){if(1&e&&(q(0,"td",22),ut(1),et()),2&e){const t=i.$implicit;ot(),He(" ",t.display," ")}}function lSt(e,i){1&e&&ye(0,"tr",25)}function cSt(e,i){1&e&&ye(0,"tr",26)}const dSt=[],uSt=[];let WW=(()=>{class e{constructor(t){this.terminologyService=t,this.problemBinding={ecl:"< 404684003 |Clinical finding|",title:"Search..."},this.eclProblem="< 404684003 |Clinical finding|",this.term="",this.displayedColumns=["date","code","display"],this.dataToDisplay=[...dSt],this.dataSource=new hSt(this.dataToDisplay),this.loading=!1,this.displayedColumns2=["code","display"],this.dataToDisplay2=[...uSt],this.dataSource2=new fSt(this.dataToDisplay2)}updateProblem(t){var n=this;return de(function*(){n.selectedProblemSct=t})()}addProblem(t){var n=this;return de(function*(){if(n.selectedProblemSct||t){let r=t||n.selectedProblemSct;if(n.loading=!0,n.term=r.display,r.date=new Date,r.code.indexOf(":")>-1){r.allergy=!0;let s=r.substance;n.dataToDisplay2.find(o=>o.code===s.code)||(n.dataToDisplay2=[...n.dataToDisplay2,s],n.dataSource2.setData(n.dataToDisplay2))}else(yield n.getAllergyData(r))?.expansion?.contains?.length>0&&(r.allergy=!0,n.addAllergySubstanceToList(r));n.dataToDisplay.find(s=>s.code===r.code)||(n.dataToDisplay=[...n.dataToDisplay,r],n.dataSource.setData(n.dataToDisplay)),n.loading=!1,n.term=""}})()}addAllergySubstanceToList(t){var n=this;return de(function*(){(yield n.getAllergySubstance(t))?.expansion?.contains?.forEach(s=>{n.dataToDisplay2.find(o=>o.code===s.code)||(n.dataToDisplay2=[...n.dataToDisplay2,s],n.dataSource2.setData(n.dataToDisplay2))})})()}getAllergyData(t){var n=this;return de(function*(){return Sa((yield n.terminologyService.expandValueSet("<<418038007 |Propensity to adverse reactions to substance| OR <<420134006 |Propensity to adverse reaction (finding)|",t.code,0,1)).pipe(Di(s=>s)))})()}getAllergySubstance(t){var n=this;return de(function*(){return Sa((yield n.terminologyService.expandValueSet(`${t.code} |${t.display}| . (246075003 |Causative agent (attribute)| OR 47429007 |Associated with (attribute)|)`,"")).pipe(Di(s=>s)))})()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(da))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-allergies-problem-list"]],decls:60,vars:11,consts:[["substancePopoverMenu","matMenu"],["id","main-card"],[1,"container-space"],[1,"problem-list"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/x/PaDICg","target","_blank"],[1,"container"],[1,"item"],[3,"selectionChange","binding","term"],["mat-flat-button","","color","primary",3,"click"],["diameter","35",4,"ngIf"],["mat-table","",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","display"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["diameter","35"],["mat-header-cell",""],["mat-cell",""],["class","tag pill",4,"ngIf"],[1,"tag","pill"],["mat-header-row",""],["mat-row",""]],template:function(n,r){if(1&n){const s=pe();q(0,"mat-card",1)(1,"div",2)(2,"div",3)(3,"h4"),ut(4,"Problem List "),q(5,"button",4)(6,"mat-icon"),ut(7,"info"),et()(),q(8,"mat-menu",null,0)(10,"span",5),Vt("click",function(l){return Ut(s),zt(l.stopPropagation())}),q(11,"h4"),ut(12,"Problem list"),et(),q(13,"p"),ut(14,"Allergy or intolerance can also be recorded in the EHR as a problem. The problem list is normally restricted to SNOMED CT concepts from three hierarchies \u2013 Clinical finding, Event and Finding with explicit context. This corresponds either to the FHIR finding based AllergyIntolerance resource data model or the FHIR Condition resource."),et(),q(15,"p"),ut(16,"For practical guidance using SNOMED CT to document hypersensitivity to specific substances in a problem list, it is suggested to map to the appropriate concepts under the 473011001 |Allergic condition (finding)|hierarchies. This is due to the lack of sufficient content under 609433001 |Hypersensitivity disposition (finding)|and 421961002 |Hypersensitivity reaction (disorder)| and that many of the concepts under 609328004 |Allergic disposition (finding)|and 419076005 |Allergic reaction (disorder)| have unclear mechanisms which may actually represent non-allergic hypersensitivity. Please note that SNOMED international does not plan to create new children concepts of hypersensitivity disposition to specific substances unless more than one Member country would submit a request for them to answer to an active use-case."),et(),q(17,"p"),ut(18,"Almost all allergy concepts are modeled by substances in SNOMED CT. A very small number of allergy concepts are modeled by products but with explicit description for the specific intended meaning. Records of allergy to multiple substances or to multi-ingredient products should be recoded at the product level and updated when more specific information becomes available (e.g., positive sensitivity test to one specific ingredient of the mix)."),et(),q(19,"p"),ut(20,"Vaccine allergy is an example where allergy concepts are modeled using a product concept. For example, \u2018Allergy to component of vaccine product (finding)\u2019 with a synonym \u2018vaccine allergy\u2019 has been modeled by vaccine product. The concept represents that allergy is caused by any substance in a vaccine product."),et(),q(21,"p"),ut(22,"To record the level of certainty or verification status, it is recommended to use additional data elements in the EHR information model. Even though it is possible to utilize the SNOMED CT model for \u2018situation with explicit context\u2019 to express certainty, this is not recommended due to potential ambiguity. For example, \u201csuspected penicillin allergy\u201d can mean uncertainty with the condition (is it real allergy?) or with the causative agent (is it penicillin?). Even though SNOMED CT editorial guideline is clear that the first interpretation is correct, it is better to use other methods to represent the uncertainty to avoid confusion."),et(),q(23,"p"),ut(24,"For more information check the "),q(25,"a",6),ut(26,"Implementation Guide"),et(),ut(27," developed by the SNOMED International Allergy Clinical Reference Group."),et()()()(),q(28,"div",7)(29,"div",8)(30,"app-autocomplete-binding",9),Vt("selectionChange",function(l){return Ut(s),zt(r.updateProblem(l))}),et()(),q(31,"div",8)(32,"button",10),Vt("click",function(){return Ut(s),zt(r.addProblem())}),ut(33,"Add problem"),et()(),q(34,"div",8),Gt(35,$Ct,1,0,"mat-spinner",11),et()(),q(36,"table",12),Wi(37,13),Gt(38,QCt,2,0,"th",14)(39,KCt,3,4,"td",15),Xi(),Wi(40,16),Gt(41,ZCt,2,0,"th",14)(42,JCt,2,1,"td",15),Xi(),Wi(43,17),Gt(44,qCt,2,0,"th",14)(45,eSt,3,2,"td",15),Xi(),Gt(46,iSt,1,0,"tr",18)(47,nSt,1,0,"tr",19),et()(),q(48,"div",3)(49,"h4"),ut(50,"Substances the patient is allergic to:"),et(),q(51,"table",12),Wi(52,16),Gt(53,rSt,2,0,"th",14)(54,sSt,2,1,"td",15),Xi(),Wi(55,17),Gt(56,aSt,2,0,"th",14)(57,oSt,2,1,"td",15),Xi(),Gt(58,lSt,1,0,"tr",18)(59,cSt,1,0,"tr",19),et()()()()}if(2&n){const s=Ki(9);ot(5),xt("matMenuTriggerFor",s),ot(5),xt("disableRipple",!0),ot(20),xt("binding",r.problemBinding)("term",r.term),ot(5),xt("ngIf",r.loading),ot(),xt("dataSource",r.dataSource),ot(10),xt("matHeaderRowDef",r.displayedColumns),ot(),xt("matRowDefColumns",r.displayedColumns),ot(4),xt("dataSource",r.dataSource2),ot(7),xt("matHeaderRowDef",r.displayedColumns2),ot(),xt("matRowDefColumns",r.displayedColumns2)}},dependencies:[Is,Ea,Oo,ua,Tl,Yl,uu,Ah,xC,Dh,pu,Mh,gu,mu,Ih,vu,xu,kh,Rh,av,Zd],styles:["#main-card[_ngcontent-%COMP%]{padding:10px}app-autocomplete-binding[_ngcontent-%COMP%]{display:block;min-width:500px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;margin:10px 0;gap:10px}.container-space[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;margin:10px 0;gap:10px}.problem-list[_ngcontent-%COMP%]{width:60%}.tag[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding-left:10px;padding-right:10px;margin-top:5px}td[_ngcontent-%COMP%]{position:relative}.pill[_ngcontent-%COMP%]{display:inline-block;font-size:10px;background-color:orange;color:#fff;padding:4px 8px;border-radius:20px;position:absolute;top:0;right:0;margin-top:1rem}.mat-column-display[_ngcontent-%COMP%]{min-width:350px}.long-tooltip[_ngcontent-%COMP%]{padding-left:3rem;padding-right:3rem;font-weight:lighter;font-size:.9rem}"]})}return e})();class hSt extends LT{constructor(i){super(),this._dataStream=new py,this.setData(i)}connect(){return this._dataStream}disconnect(){}setData(i){this._dataStream.next(i)}}class fSt extends LT{constructor(i){super(),this._dataStream=new py,this.setData(i)}connect(){return this._dataStream}disconnect(){}setData(i){this._dataStream.next(i)}}const UR=["*"];function mSt(e,i){1&e&&xi(0)}const pSt=["tabListContainer"],gSt=["tabList"],vSt=["tabListInner"],xSt=["nextPaginator"],ySt=["previousPaginator"],bSt=e=>({animationDuration:e}),wSt=(e,i)=>({value:e,params:i});function _St(e,i){}const TSt=["tabBodyWrapper"],CSt=["tabHeader"];function SSt(e,i){}function ESt(e,i){1&e&&Gt(0,SSt,0,0,"ng-template",12),2&e&&xt("cdkPortalOutlet",Ct().$implicit.templateLabel)}function ASt(e,i){1&e&&ut(0),2&e&&Xe(Ct().$implicit.textLabel)}function DSt(e,i){if(1&e){const t=pe();q(0,"div",7,2),Vt("click",function(){const r=Ut(t),s=r.$implicit,o=r.$index,l=Ct(),b=Ki(1);return zt(l._handleClick(s,b,o))})("cdkFocusChange",function(r){const s=Ut(t).$index;return zt(Ct()._tabFocusChanged(r,s))}),ye(2,"span",8)(3,"div",9),q(4,"span",10)(5,"span",11),Gt(6,ESt,1,1,null,12)(7,ASt,1,1),et()()()}if(2&e){const t=i.$implicit,n=i.$index,r=Ki(1),s=Ct();bi("mdc-tab--active",s.selectedIndex===n),xt("id",s._getTabLabelId(n))("ngClass",t.labelClass)("disabled",t.disabled)("fitInkBarToContent",s.fitInkBarToContent),Ti("tabIndex",s._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(n))("aria-selected",s.selectedIndex===n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),ot(3),xt("matRippleTrigger",r)("matRippleDisabled",t.disabled||s.disableRipple),ot(3),xn(6,t.templateLabel?6:7)}}function MSt(e,i){1&e&&xi(0)}function ISt(e,i){if(1&e){const t=pe();q(0,"mat-tab-body",13),Vt("_onCentered",function(){return Ut(t),zt(Ct()._removeTabBodyWrapperHeight())})("_onCentering",function(r){return Ut(t),zt(Ct()._setTabBodyWrapperHeight(r))}),et()}if(2&e){const t=i.$implicit,n=i.$index,r=Ct();bi("mat-mdc-tab-body-active",r.selectedIndex===n),xt("id",r._getTabContentId(n))("ngClass",t.bodyClass)("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),Ti("tabindex",null!=r.contentTabIndex&&r.selectedIndex===n?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(n))("aria-hidden",r.selectedIndex!==n)}}const kSt=new ee("MatTabContent");let RSt=(()=>{class e{constructor(t){this.template=t}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fr))};static#e=this.\u0275dir=ce({type:e,selectors:[["","matTabContent",""]],standalone:!0,features:[fi([{provide:kSt,useExisting:e}])]})}return e})();const PSt=new ee("MatTabLabel"),XW=new ee("MAT_TAB");let FSt=(()=>{class e extends K1t{constructor(t,n,r){super(t,n),this._closestTab=r}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fr),mt(Ir),mt(XW,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[fi([{provide:PSt,useExisting:e}]),hi]})}return e})();const jW=new ee("MAT_TAB_GROUP");let zy=(()=>{class e{get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}constructor(t,n){this._viewContainerRef=t,this._closestTabGroup=n,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new Pe,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new ou(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ir),mt(jW,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-tab"]],contentQueries:function(n,r,s){if(1&n&&(An(s,FSt,5),An(s,RSt,7,fr)),2&n){let o;Be(o=Ve())&&(r.templateLabel=o.first),Be(o=Ve())&&(r._explicitContent=o.first)}},viewQuery:function(n,r){if(1&n&&Mi(fr,7),2&n){let s;Be(s=Ve())&&(r._implicitContent=s.first)}},hostAttrs:["hidden",""],inputs:{disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Je],textLabel:[Wt.None,"label","textLabel"],ariaLabel:[Wt.None,"aria-label","ariaLabel"],ariaLabelledby:[Wt.None,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[fi([{provide:XW,useExisting:e}]),ln,tr,Vi],ngContentSelectors:UR,decls:1,vars:0,template:function(n,r){1&n&&(Kn(),Gt(0,mSt,1,0,"ng-template"))},encapsulation:2})}return e})();const zR="mdc-tab-indicator--active",YW="mdc-tab-indicator--no-transition";class OSt{constructor(i){this._items=i}hide(){this._items.forEach(i=>i.deactivateInkBar())}alignToElement(i){const t=this._items.find(r=>r.elementRef.nativeElement===i),n=this._currentItem;if(t!==n&&(n?.deactivateInkBar(),t)){const r=n?.elementRef.nativeElement.getBoundingClientRect?.();t.activateInkBar(r),this._currentItem=t}}}let LSt=(()=>{class e{constructor(){this._elementRef=me(si),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(t){this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(t){const n=this._elementRef.nativeElement;if(!t||!n.getBoundingClientRect||!this._inkBarContentElement)return void n.classList.add(zR);const r=n.getBoundingClientRect(),s=t.width/r.width,o=t.left-r.left;n.classList.add(YW),this._inkBarContentElement.style.setProperty("transform",`translateX(${o}px) scaleX(${s})`),n.getBoundingClientRect(),n.classList.remove(YW),n.classList.add(zR),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(zR)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const t=this._elementRef.nativeElement.ownerDocument||document,n=this._inkBarElement=t.createElement("span"),r=this._inkBarContentElement=t.createElement("span");n.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",n.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement).appendChild(this._inkBarElement)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,inputs:{fitInkBarToContent:[Wt.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",Je]},features:[ln]})}return e})(),$W=(()=>{class e extends LSt{constructor(t){super(),this.elementRef=t,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si))};static#e=this.\u0275dir=ce({type:e,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(n,r){2&n&&(Ti("aria-disabled",!!r.disabled),bi("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Je]},standalone:!0,features:[ln,hi]})}return e})();const QW=Ec({passive:!0});let USt=(()=>{class e{get selectedIndex(){return this._selectedIndex}set selectedIndex(t){const n=isNaN(t)?0:t;this._selectedIndex!=n&&(this._selectedIndexChanged=!0,this._selectedIndex=n,this._keyManager&&this._keyManager.updateActiveItem(n))}constructor(t,n,r,s,o,l,b){this._elementRef=t,this._changeDetectorRef=n,this._viewportRuler=r,this._dir=s,this._ngZone=o,this._platform=l,this._animationMode=b,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Pe,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Pe,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new De,this.indexFocused=new De,o.runOutsideAngular(()=>{Ac(t.nativeElement,"mouseleave").pipe(Ui(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Ac(this._previousPaginator.nativeElement,"touchstart",QW).pipe(Ui(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Ac(this._nextPaginator.nativeElement,"touchstart",QW).pipe(Ui(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:vi("ltr"),n=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Uk(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(er(1)).subscribe(r),Yr(t,n,this._items.changes,this._itemsResized()).pipe(Ui(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?Jo:this._items.changes.pipe(Ca(this._items),Rs(t=>new ur(n=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(s=>n.next(s));return t.forEach(s=>r.observe(s.elementRef.nativeElement)),()=>{r.disconnect()}}))),Lk(1),In(t=>t.some(n=>n.contentRect.width>0&&n.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!io(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const n=this._items.get(this.focusIndex);n&&!n.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return!this._items||!!this._items.toArray()[t]}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const n=this._tabListContainer.nativeElement;n.scrollLeft="ltr"==this._getLayoutDirection()?0:n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const n=this._items?this._items.toArray()[t]:null;if(!n)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:o}=n.elementRef.nativeElement;let l,b;"ltr"==this._getLayoutDirection()?(l=s,b=l+o):(b=this._tabListInner.nativeElement.offsetWidth-s,l=b-o);const C=this.scrollDistance,D=this.scrollDistance+r;l<C?this.scrollDistance-=C-l:b>D&&(this.scrollDistance+=Math.min(b-D,l-C))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=t?t.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,n){n&&null!=n.button&&0!==n.button||(this._stopInterval(),Iy(650,100).pipe(Ui(Yr(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:s}=this._scrollHeader(t);(0===s||s>=r)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(Mn),mt(cu),mt(Va,8),mt(ii),mt(ir),mt(Nr,8))};static#e=this.\u0275dir=ce({type:e,inputs:{disablePagination:[Wt.HasDecoratorInputTransform,"disablePagination","disablePagination",Je],selectedIndex:[Wt.HasDecoratorInputTransform,"selectedIndex","selectedIndex",jr]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[ln]})}return e})(),zSt=(()=>{class e extends USt{constructor(t,n,r,s,o,l,b){super(t,n,r,s,o,l,b),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new OSt(this._items),super.ngAfterContentInit()}_itemSelected(t){t.preventDefault()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(Mn),mt(cu),mt(Va,8),mt(ii),mt(ir),mt(Nr,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-tab-header"]],contentQueries:function(n,r,s){if(1&n&&An(s,$W,4),2&n){let o;Be(o=Ve())&&(r._items=o)}},viewQuery:function(n,r){if(1&n&&(Mi(pSt,7),Mi(gSt,7),Mi(vSt,7),Mi(xSt,5),Mi(ySt,5)),2&n){let s;Be(s=Ve())&&(r._tabListContainer=s.first),Be(s=Ve())&&(r._tabList=s.first),Be(s=Ve())&&(r._tabListInner=s.first),Be(s=Ve())&&(r._nextPaginator=s.first),Be(s=Ve())&&(r._previousPaginator=s.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(n,r){2&n&&bi("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Je]},standalone:!0,features:[ln,hi,Vi],ngContentSelectors:UR,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(n,r){if(1&n){const s=pe();Kn(),q(0,"button",5,0),Vt("click",function(){return Ut(s),zt(r._handlePaginatorClick("before"))})("mousedown",function(l){return Ut(s),zt(r._handlePaginatorPress("before",l))})("touchend",function(){return Ut(s),zt(r._stopInterval())}),ye(2,"div",6),et(),q(3,"div",7,1),Vt("keydown",function(l){return Ut(s),zt(r._handleKeydown(l))}),q(5,"div",8,2),Vt("cdkObserveContent",function(){return Ut(s),zt(r._onContentChanges())}),q(7,"div",9,3),xi(9),et()()(),q(10,"button",10,4),Vt("mousedown",function(l){return Ut(s),zt(r._handlePaginatorPress("after",l))})("click",function(){return Ut(s),zt(r._handlePaginatorClick("after"))})("touchend",function(){return Ut(s),zt(r._stopInterval())}),ye(12,"div",6),et()}2&n&&(bi("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),xt("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),ot(3),bi("_mat-animation-noopable","NoopAnimations"===r._animationMode),ot(7),bi("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),xt("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[ru,rH],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}return e})();const GSt=new ee("MAT_TABS_CONFIG"),HSt={translateTab:mr("translateTab",[kn("center, void, left-origin-center, right-origin-center",qe({transform:"none"})),kn("left",qe({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),kn("right",qe({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),on("* => left, * => right, left => center, right => center",sn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),on("void => left-origin-center",[qe({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),sn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),on("void => right-origin-center",[qe({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),sn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let WSt=(()=>{class e extends lu{constructor(t,n,r,s){super(t,n,s),this._host=r,this._centeringSub=Ie.EMPTY,this._leavingSub=Ie.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ca(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lf),mt(Ir),mt(Sn(()=>KW)),mt(Ni))};static#e=this.\u0275dir=ce({type:e,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[hi]})}return e})(),KW=(()=>{class e{set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(t,n,r){this._elementRef=t,this._dir=n,this._dirChangeSubscription=Ie.EMPTY,this._translateTabComplete=new Pe,this._onCentering=new De,this._beforeCentering=new De,this._afterLeavingCenter=new De,this._onCentered=new De(!0),this.animationDuration="500ms",this.preserveContent=!1,n&&(this._dirChangeSubscription=n.change.subscribe(s=>{this._computePositionAnimationState(s),r.markForCheck()})),this._translateTabComplete.pipe(nu((s,o)=>s.fromState===o.fromState&&s.toState===o.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const n=this._isCenterPosition(t.toState);this._beforeCentering.emit(n),n&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const n=this._getLayoutDirection();return"ltr"==n&&t<=0||"rtl"==n&&t>0?"left-origin-center":"right-origin-center"}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(Va,8),mt(Mn))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-tab-body"]],viewQuery:function(n,r){if(1&n&&Mi(lu,5),2&n){let s;Be(s=Ve())&&(r._portalHost=s.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[Wt.None,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[Vi],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(n,r){if(1&n){const s=pe();q(0,"div",1,0),Vt("@translateTab.start",function(l){return Ut(s),zt(r._onTranslateTabStarted(l))})("@translateTab.done",function(l){return Ut(s),zt(r._translateTabComplete.next(l))}),Gt(2,_St,0,0,"ng-template",2),et()}2&n&&xt("@translateTab",UM(3,wSt,r._position,yl(1,bSt,r.animationDuration)))},dependencies:[WSt,cC],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[HSt.translateTab]}})}return e})(),XSt=0,ov=(()=>{class e{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=t,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=isNaN(t)?null:t}get animationDuration(){return this._animationDuration}set animationDuration(t){const n=t+"";this._animationDuration=/^\d+$/.test(n)?t+"ms":n}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=isNaN(t)?null:t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const n=this._elementRef.nativeElement.classList;n.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&n.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}constructor(t,n,r,s){this._elementRef=t,this._changeDetectorRef=n,this._animationMode=s,this._tabs=new sh,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Ie.EMPTY,this._tabLabelSubscription=Ie.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new De,this.focusChange=new De,this.animationDone=new De,this.selectedTabChange=new De(!0),this._isServer=!me(ir).isBrowser,this._groupId=XSt++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,null!=r?.contentTabIndex&&(this.contentTabIndex=r.contentTabIndex),this.preserveContent=!!r?.preserveContent,this.fitInkBarToContent=!(!r||null==r.fitInkBarToContent)&&r.fitInkBarToContent,this.stretchTabs=!r||null==r.stretchTabs||r.stretchTabs}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const n=null==this._selectedIndex;if(!n){this.selectedTabChange.emit(this._createChangeEvent(t));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,s)=>r.isActive=s===t),n||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,r)=>{n.position=r-t,null!=this._selectedIndex&&0==n.position&&!n.origin&&(n.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const n=this._tabs.toArray();let r;for(let s=0;s<n.length;s++)if(n[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,r=n[s];break}!r&&n[t]&&Promise.resolve().then(()=>{n[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ca(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const n=this._tabHeader;n&&(n.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const n=new YSt;return n.index=t,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[t]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Yr(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,n,r){n.focusIndex=r,t.disabled||(this.selectedIndex=r)}_getTabIndex(t){return t===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(t,n){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=n)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(Mn),mt(GSt,8),mt(Nr,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-tab-group"]],contentQueries:function(n,r,s){if(1&n&&An(s,zy,5),2&n){let o;Be(o=Ve())&&(r._allTabs=o)}},viewQuery:function(n,r){if(1&n&&(Mi(TSt,5),Mi(CSt,5)),2&n){let s;Be(s=Ve())&&(r._tabBodyWrapper=s.first),Be(s=Ve())&&(r._tabHeader=s.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(n,r){2&n&&(Ul("mat-"+(r.color||"primary")),Ms("--mat-tab-animation-duration",r.animationDuration),bi("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[Wt.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",Je],stretchTabs:[Wt.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",Je],dynamicHeight:[Wt.HasDecoratorInputTransform,"dynamicHeight","dynamicHeight",Je],selectedIndex:[Wt.HasDecoratorInputTransform,"selectedIndex","selectedIndex",jr],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[Wt.HasDecoratorInputTransform,"contentTabIndex","contentTabIndex",jr],disablePagination:[Wt.HasDecoratorInputTransform,"disablePagination","disablePagination",Je],disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Je],preserveContent:[Wt.HasDecoratorInputTransform,"preserveContent","preserveContent",Je],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[fi([{provide:jW,useExisting:e}]),ln,Vi],ngContentSelectors:UR,decls:9,vars:6,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","ngClass","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","ngClass","content","position","origin","animationDuration","preserveContent"]],template:function(n,r){if(1&n){const s=pe();Kn(),q(0,"mat-tab-header",3,0),Vt("indexFocused",function(l){return Ut(s),zt(r._focusChanged(l))})("selectFocusedIndex",function(l){return Ut(s),zt(r.selectedIndex=l)}),L_(2,DSt,8,16,"div",4,O_),et(),Gt(4,MSt,1,0),q(5,"div",5,1),L_(7,ISt,1,12,"mat-tab-body",6,O_),et()}2&n&&(xt("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),ot(2),N_(r._tabs),ot(2),xn(4,r._isServer?4:-1),ot(),bi("_mat-animation-noopable","NoopAnimations"===r._animationMode),ot(2),N_(r._tabs))},dependencies:[zSt,$W,a1t,_c,ru,lu,KW],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return e})();class YSt{}let $St=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Zi,Zi]})}return e})();var hd=gs(578);class QSt{constructor(i,t){this._document=t;const n=this._textarea=this._document.createElement("textarea"),r=n.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",n.setAttribute("aria-hidden","true"),n.value=i,n.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(n)}copy(){const i=this._textarea;let t=!1;try{if(i){const n=this._document.activeElement;i.select(),i.setSelectionRange(0,i.value.length),t=this._document.execCommand("copy"),n&&n.focus()}}catch{}return t}destroy(){const i=this._textarea;i&&(i.remove(),this._textarea=void 0)}}let GR=(()=>{class e{constructor(t){this._document=t}copy(t){const n=this.beginCopy(t),r=n.copy();return n.destroy(),r}beginCopy(t){return new QSt(t,this._document)}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Ni))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const KSt=new ee("HighlightJs-Config");let HC=(()=>{class e{constructor(t,n,r,s,o){this.el=t,this.ngModel=n,this.doc=r,this.ngZone=o,this.lang="html",this.mode="simple",Object.assign(this,s)}escapeHTML(t){return(t||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}init(){this.ngZone.runOutsideAngular(()=>{this.destroy();const t=this.el.nativeElement,n=this.code||""+t.innerHTML.trim();if(this.codeEl=this.doc.createElement("default"===this.mode?"div":"pre"),null==this.codeEl)return;const r="simple"===this.mode;r?(this.lang&&(this.codeEl.className=this.lang),this.parentEl=t.parentNode,this.parentEl.insertBefore(this.codeEl,t.nextSibling)):(this.parentEl=t,this.parentEl.innerHTML="",this.parentEl.appendChild(this.codeEl)),this.codeEl.innerHTML=n,hljs.configure({...this.options}),r?hljs.highlightElement(this.codeEl):this.codeEl.querySelectorAll("pre code").forEach(s=>{hljs.highlightElement(s)})})}destroy(){this.codeEl&&this.parentEl&&(this.parentEl.removeChild(this.codeEl),this.codeEl=void 0)}ngAfterViewInit(){this.init(),this.ngModel?this.modelValue$=this.ngModel.valueChanges?.subscribe(t=>{this.code=this.escapeHTML(t),this.init()}):this.initMutation()}ngOnDestroy(){this.destroy(),this.destroyMutation(),this.modelValue$&&this.modelValue$.unsubscribe()}initMutation(){typeof MutationObserver>"u"||this.ngZone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.init.bind(this)),this.observer.observe(this.el.nativeElement,{characterData:!0,childList:!0,subtree:!0})})}destroyMutation(){this.observer&&this.observer.disconnect()}}return e.\u0275fac=function(t){return new(t||e)(mt(si),mt($l,8),mt(Ni),mt(KSt,8),mt(ii))},e.\u0275dir=ce({type:e,selectors:[["","highlight-js",""]],hostVars:2,hostBindings:function(t,n){2&t&&Ms("display","simple"===n.mode?"none":null)},inputs:{options:"options",lang:"lang",code:"code",mode:"mode"},exportAs:["highlightJs"],standalone:!0}),e})(),ZSt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Li({type:e}),e.\u0275inj=Pi({imports:[VR]}),e})();const JSt=["trigger"],qSt=["panel"],tEt=[[["mat-select-trigger"]],"*"],eEt=["mat-select-trigger","*"];function iEt(e,i){if(1&e&&(q(0,"span",4),ut(1),et()),2&e){const t=Ct();ot(),Xe(t.placeholder)}}function nEt(e,i){1&e&&xi(0)}function rEt(e,i){if(1&e&&(q(0,"span",11),ut(1),et()),2&e){const t=Ct(2);ot(),Xe(t.triggerValue)}}function sEt(e,i){if(1&e&&(q(0,"span",10),Gt(1,nEt,1,0)(2,rEt,2,1),et()),2&e){const t=Ct();ot(),xn(1,t.customTrigger?1:2)}}function aEt(e,i){if(1&e){const t=pe();q(0,"div",12,1),Vt("@transformPanel.done",function(r){return Ut(t),zt(Ct()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return Ut(t),zt(Ct()._handleKeydown(r))}),xi(2,1),et()}if(2&e){const t=Ct();(function O8(e,i,t){yc(dl,Zc,dg(be(),e,i,t),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),xt("ngClass",t.panelClass)("@transformPanel","showing"),Ti("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const oEt={transformPanelWrap:mr("transformPanelWrap",[on("* => void",sC("@transformPanel",[rC()],{optional:!0}))]),transformPanel:mr("transformPanel",[kn("void",qe({opacity:0,transform:"scale(1, 0.8)"})),on("void => showing",sn("120ms cubic-bezier(0, 0, 0.2, 1)",qe({opacity:1,transform:"scale(1, 1)"}))),on("* => void",sn("100ms linear",qe({opacity:0})))])};let ZW=0;const JW=new ee("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const e=me(ys);return()=>e.scrollStrategies.reposition()}}),cEt=new ee("MAT_SELECT_CONFIG"),dEt={provide:JW,deps:[ys],useFactory:function lEt(e){return()=>e.scrollStrategies.reposition()}},uEt=new ee("MatSelectTrigger");class hEt{constructor(i,t){this.source=i,this.value=t}}let lv=(()=>{class e{_scrollOptionIntoView(t){const n=this.options.toArray()[t];if(n){const r=this.panel.nativeElement,s=PH(t,this.options,this.optionGroups),o=n._getHostElement();r.scrollTop=0===t&&1===s?0:FH(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new hEt(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(cd.required)??!1}set required(t){this._required=t,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=t}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,n,r,s,o,l,b,C,D,R,O,L,U,X){this._viewportRuler=t,this._changeDetectorRef=n,this._elementRef=o,this._dir=l,this._parentFormField=D,this.ngControl=R,this._liveAnnouncer=U,this._defaultOptions=X,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(W,Z)=>W===Z,this._uid="mat-select-"+ZW++,this._triggerAriaLabelledBy=null,this._destroy=new Pe,this.stateChanges=new Pe,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+ZW++,this._panelDoneAnimatingStream=new Pe,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new Pe,this.optionSelectionChanges=Dg(()=>{const W=this.options;return W?W.changes.pipe(Ca(W),Rs(()=>Yr(...W.map(Z=>Z.onSelectionChange)))):this._initialized.pipe(Rs(()=>this.optionSelectionChanges))}),this.openedChange=new De,this._openedStream=this.openedChange.pipe(In(W=>W),Di(()=>{})),this._closedStream=this.openedChange.pipe(In(W=>!W),Di(()=>{})),this.selectionChange=new De,this.valueChange=new De,this._trackedModal=null,this._skipPredicate=W=>!this.panelOpen&&W.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=X?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=X.typeaheadDebounceInterval),this._errorStateTracker=new Hk(s,R,C,b,this.stateChanges),this._scrollStrategyFactory=L,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}ngOnInit(){this._selectionModel=new wk(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(nu(),Ui(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Ui(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Ui(this._destroy)).subscribe(t=>{t.added.forEach(n=>n.select()),t.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Ca(null),Ui(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),n=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(void 0!==this._previousControl&&null!==n.disabled&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const n=`${this.id}-panel`;this._trackedModal&&Yg(this._trackedModal,"aria-owns",n),YT(t,"aria-owns",n),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(Yg(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const n=t.keyCode,r=40===n||38===n||37===n||39===n,s=13===n||32===n,o=this._keyManager;if(!o.isTyping()&&s&&!io(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const l=this.selected;o.onKeydown(t);const b=this.selected;b&&l!==b&&this._liveAnnouncer.announce(b.viewValue,1e4)}}_handleOpenKeydown(t){const n=this._keyManager,r=t.keyCode,s=40===r||38===r,o=n.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(o||13!==r&&32!==r||!n.activeItem||io(t))if(!o&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const l=this.options.some(b=>!b.disabled&&!b.selected);this.options.forEach(b=>{b.disabled||(l?b.select():b.deselect())})}else{const l=n.activeItemIndex;n.onKeydown(t),this._multiple&&s&&t.shiftKey&&n.activeItem&&n.activeItemIndex!==l&&n.activeItem._selectViaInteraction()}else t.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(er(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{const n=this._selectOptionByValue(t);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_getOverlayWidth(t){return"auto"===this.panelWidth?(t instanceof rR?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new fH(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Yr(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ui(t)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Yr(...this.options.map(n=>n._stateChanges)).pipe(Ui(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,n){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),n&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),n&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,t):t.indexOf(n)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let n;n=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){t=n;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let n=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#t=this.\u0275fac=function(n){return new(n||e)(mt(cu),mt(Mn),mt(ii),mt(SH),mt(si),mt(Va,8),mt(am,8),mt(ud,8),mt(zC,8),mt(dd,10),ml("tabindex"),mt(JW),mt(xH),mt(cEt,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-select"]],contentQueries:function(n,r,s){if(1&n&&(An(s,uEt,5),An(s,su,5),An(s,Xk,5)),2&n){let o;Be(o=Ve())&&(r.customTrigger=o.first),Be(o=Ve())&&(r.options=o),Be(o=Ve())&&(r.optionGroups=o)}},viewQuery:function(n,r){if(1&n&&(Mi(JSt,5),Mi(qSt,5),Mi(n7,5)),2&n){let s;Be(s=Ve())&&(r.trigger=s.first),Be(s=Ve())&&(r.panel=s.first),Be(s=Ve())&&(r._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,r){1&n&&Vt("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&n&&(Ti("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),bi("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[Wt.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Je],disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Je],tabIndex:[Wt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:jr(t)],hideSingleSelectionIndicator:[Wt.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Je],placeholder:"placeholder",required:[Wt.HasDecoratorInputTransform,"required","required",Je],multiple:[Wt.HasDecoratorInputTransform,"multiple","multiple",Je],disableOptionCentering:[Wt.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",Je],compareWith:"compareWith",value:"value",ariaLabel:[Wt.None,"aria-label","ariaLabel"],ariaLabelledby:[Wt.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[Wt.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",jr],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[fi([{provide:UC,useExisting:e},{provide:Wk,useExisting:e}]),ln,tr,Vi],ngContentSelectors:eEt,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,r){if(1&n){const s=pe();Kn(tEt),q(0,"div",2,0),Vt("click",function(){return Ut(s),zt(r.open())}),q(3,"div",3),Gt(4,iEt,2,1,"span",4)(5,sEt,3,1),et(),q(6,"div",5)(7,"div",6),fl(),q(8,"svg",7),ye(9,"path",8),et()()()(),Gt(10,aEt,3,9,"ng-template",9),Vt("backdropClick",function(){return Ut(s),zt(r.close())})("attach",function(){return Ut(s),zt(r._onAttached())})("detach",function(){return Ut(s),zt(r.close())})}if(2&n){const s=Ki(1);ot(3),Ti("id",r._valueId),ot(),xn(4,r.empty?4:5),ot(6),xt("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[rR,n7,_c],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[oEt.transformPanel]},changeDetection:0})}return e})(),qW=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[dEt],imports:[td,tm,iC,Zi,du,GC,iC,Zi]})}return e})();const fEt=["tooltip"],eX=new ee("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const e=me(ys);return()=>e.scrollStrategies.reposition({scrollThrottle:20})}}),pEt={provide:eX,deps:[ys],useFactory:function mEt(e){return()=>e.scrollStrategies.reposition({scrollThrottle:20})}},vEt=new ee("mat-tooltip-default-options",{providedIn:"root",factory:function gEt(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),iX="tooltip-panel",nX=Ec({passive:!0});let bu=(()=>{class e{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=ca(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ca(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Sh(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Sh(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,n,r,s,o,l,b,C,D,R,O,L){this._overlay=t,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=o,this._platform=l,this._ariaDescriber=b,this._focusMonitor=C,this._dir=R,this._defaultOptions=O,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=_Et,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Pe,this._scrollStrategy=D,this._document=L,O&&(this._showDelay=O.showDelay,this._hideDelay=O.hideDelay,O.position&&(this.position=O.position),O.positionAtOrigin&&(this.positionAtOrigin=O.positionAtOrigin),O.touchGestures&&(this.touchGestures=O.touchGestures)),R.change.pipe(Ui(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ui(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{t.removeEventListener(n,r,nX)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(n);this._detach(),this._portal=this._portal||new Zg(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Ui(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(t)}hide(t=this.hideDelay){const n=this._tooltipInstance;n&&(n.isVisible()?n.hide(t):(n._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof si)return this._overlayRef;this._detach()}const n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return r.positionChanges.pipe(Ui(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${iX}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ui(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ui(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ui(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!io(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const n=t.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();n.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n||"below"==n?r={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&t||"right"==n&&!t?r={originX:"start",originY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(r={originX:"end",originY:"center"});const{x:s,y:o}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:o}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n?r={overlayX:"center",overlayY:"bottom"}:"below"==n?r={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&t||"right"==n&&!t?r={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:o}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(er(1),Ui(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,n){return"above"===this.position||"below"===this.position?"top"===n?n="bottom":"bottom"===n&&(n="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:n}}_updateCurrentPositionClass(t){const{overlayY:n,originX:r,originY:s}=t;let o;if(o="center"===n?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===n&&"top"===s?"above":"below",o!==this._currentPosition){const l=this._overlayRef;if(l){const b=`${this._cssClassPrefix}-${iX}-`;l.removePanelClass(b+this._currentPosition),l.addPanelClass(b+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let n;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(n=t),this.show(void 0,n)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const n=t.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",n=>{const r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const n=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",n],["touchcancel",n])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,nX)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const n=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const n=this._elementRef.nativeElement,r=n.style;("on"===t||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#t=this.\u0275fac=function(n){return new(n||e)(mt(ys),mt(si),mt(ky),mt(Ir),mt(ii),mt(ir),mt(dH),mt(Xl),mt(eX),mt(Va),mt(vEt,8),mt(Ni))};static#e=this.\u0275dir=ce({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){2&n&&bi("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[Wt.None,"matTooltipPosition","position"],positionAtOrigin:[Wt.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[Wt.None,"matTooltipDisabled","disabled"],showDelay:[Wt.None,"matTooltipShowDelay","showDelay"],hideDelay:[Wt.None,"matTooltipHideDelay","hideDelay"],touchGestures:[Wt.None,"matTooltipTouchGestures","touchGestures"],message:[Wt.None,"matTooltip","message"],tooltipClass:[Wt.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return e})(),_Et=(()=>{class e{constructor(t,n,r){this._changeDetectorRef=t,this._elementRef=n,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Pe,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===r}show(t){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const n=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(n.classList.remove(t?s:r),n.classList.add(t?r:s),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const o=getComputedStyle(n);("0s"===o.getPropertyValue("animation-duration")||"none"===o.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Mn),mt(si),mt(Nr,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(1&n&&Mi(fEt,7),2&n){let s;Be(s=Ve())&&(r._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(n,r){1&n&&Vt("mouseleave",function(o){return r._handleMouseLeave(o)}),2&n&&Ms("zoom",r.isVisible()?1:null)},standalone:!0,features:[Vi],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(n,r){if(1&n){const s=pe();q(0,"div",1,0),Vt("animationend",function(l){return Ut(s),zt(r._handleAnimationEnd(l))}),q(2,"div",2),ut(3),et()()}2&n&&(bi("mdc-tooltip--multiline",r._isMultiline),xt("ngClass",r.tooltipClass),ot(3),Xe(r.message))},dependencies:[_c],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return e})(),rX=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[pEt],imports:[_H,td,tm,Zi,Zi,du]})}return e})();const TEt=["switch"],CEt=["*"];function SEt(e,i){1&e&&(q(0,"div",10),fl(),q(1,"svg",12),ye(2,"path",13),et(),q(3,"svg",14),ye(4,"path",15),et()())}const EEt=new ee("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),AEt={provide:ha,useExisting:Sn(()=>HR),multi:!0};class sX{constructor(i,t){this.source=i,this.checked=t}}let DEt=0,HR=(()=>{class e{_createChangeEvent(t){return new sX(this,t)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,r,s,o,l){this._elementRef=t,this._focusMonitor=n,this._changeDetectorRef=r,this.defaults=o,this._onChange=b=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new De,this.toggleChange=new De,this.tabIndex=parseInt(s)||0,this.color=o.color||"accent",this._noopAnimations="NoopAnimations"===l,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++DEt,this.hideIcon=o.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(t){t.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}validate(t){return this.required&&!0!==t.value?{required:!0}:null}registerOnValidatorChange(t){this._validatorOnChange=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new sX(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(Xl),mt(Mn),ml("tabindex"),mt(EEt),mt(Nr,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(n,r){if(1&n&&Mi(TEt,5),2&n){let s;Be(s=Ve())&&(r._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(n,r){2&n&&(Jc("id",r.id),Ti("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Ul(r.color?"mat-"+r.color:""),bi("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[Wt.None,"aria-label","ariaLabel"],ariaLabelledby:[Wt.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[Wt.None,"aria-describedby","ariaDescribedby"],required:[Wt.HasDecoratorInputTransform,"required","required",Je],color:"color",disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Je],disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Je],tabIndex:[Wt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:jr(t)],checked:[Wt.HasDecoratorInputTransform,"checked","checked",Je],hideIcon:[Wt.HasDecoratorInputTransform,"hideIcon","hideIcon",Je]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[fi([AEt,{provide:Qs,useExisting:e,multi:!0}]),ln,tr,Vi],ngContentSelectors:CEt,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(n,r){if(1&n){const s=pe();Kn(),q(0,"div",1)(1,"button",2,0),Vt("click",function(){return Ut(s),zt(r._handleClick())}),ye(3,"div",3),q(4,"div",4)(5,"div",5)(6,"div",6),ye(7,"div",7),et(),q(8,"div",8),ye(9,"div",9),et(),Gt(10,SEt,5,0,"div",10),et()()(),q(11,"label",11),Vt("click",function(l){return Ut(s),zt(l.stopPropagation())}),xi(12),et()()}if(2&n){const s=Ki(2);xt("labelPosition",r.labelPosition),ot(),bi("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),xt("tabIndex",r.disabled?-1:r.tabIndex)("disabled",r.disabled),Ti("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),ot(8),xt("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),ot(),xn(10,r.hideIcon?-1:10),ot(),xt("for",r.buttonId),Ti("id",r._labelId)}},dependencies:[ru,$k],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0})}return e})(),kEt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[HR,Zi,Zi]})}return e})();function REt(e,i){if(1&e){const t=pe();q(0,"button",14),Vt("click",function(){Ut(t);const r=Ct().index;return zt(Ct().removeReaction(r))}),q(1,"mat-icon"),ut(2,"close"),et()()}}function PEt(e,i){if(1&e){const t=pe();q(0,"mat-option",15),Vt("click",function(){const r=Ut(t).$implicit,s=Ct().$implicit;return zt(Ct().reactionSeveritySelected(s,r))}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),Xe(t.display)}}function FEt(e,i){if(1&e){const t=pe();q(0,"div",4)(1,"div",5),Gt(2,REt,3,0,"button",6),et(),q(3,"div",7)(4,"div",8)(5,"app-autocomplete-binding",9),Vt("selectionChange",function(r){const s=Ut(t).$implicit;return zt(Ct().reactionManifestationSelected(s,r))}),et()(),q(6,"button",10)(7,"mat-icon"),ut(8,"info"),et()(),q(9,"mat-menu",null,0)(11,"span",11),Vt("click",function(r){return Ut(t),zt(r.stopPropagation())}),q(12,"p"),ut(13,"Terminology binding:"),et(),q(14,"pre"),ut(15),et()()()(),q(16,"mat-form-field",12)(17,"mat-label"),ut(18,"Reaction Severity"),et(),q(19,"mat-select"),Gt(20,PEt,2,2,"mat-option",13),et()(),q(21,"div",7)(22,"div",8)(23,"app-autocomplete-binding",9),Vt("selectionChange",function(r){const s=Ut(t).$implicit;return zt(Ct().reactionRouteSelected(s,r))}),et()(),q(24,"button",10)(25,"mat-icon"),ut(26,"info"),et()(),q(27,"mat-menu",null,1)(29,"span",11),Vt("click",function(r){return Ut(t),zt(r.stopPropagation())}),q(30,"p"),ut(31,"Terminology binding:"),et(),q(32,"pre"),ut(33),et()()()()()}if(2&e){const t=i.index,n=Ki(10),r=Ki(28),s=Ct();ot(2),xt("ngIf",t>0),ot(3),xt("binding",s.reactionManifestationBinding),ot(),xt("matMenuTriggerFor",n),ot(5),xt("disableRipple",!0),ot(4),Xe(s.reactionManifestationBinding.ecl),ot(5),xt("ngForOf",s.severityOptions),ot(3),xt("binding",s.routeBinding),ot(),xt("matMenuTriggerFor",r),ot(5),xt("disableRipple",!0),ot(4),Xe(s.routeBinding.ecl)}}let OEt=(()=>{class e{constructor(){this.reactions=[],this.newManifestation=new De,this.severityOptions=[{code:"mild",display:"Mild",sctCode:"255604002",sctDisplay:"Mild (qualifier value)"},{code:"moderate",display:"Moderate",sctCode:"6736007",sctDisplay:"Moderate (qualifier value)"},{code:"severe",display:"Severe",sctCode:"24484000",sctDisplay:"Severe (qualifier value)"}],this.selectedSeverity={},this.reactionManifestationBinding={ecl:"<<404684003 |Clinical finding|",title:"Reaction Manifestation"},this.routeBinding={ecl:"<<284009009 |Route of administration value|",title:"Exposure Route"},this.reaction={},this.onChangeCallback=()=>{},this.onTouchedCallback=()=>{}}writeValue(t){void 0!==t&&(this.reactions=t)}setDisabledState(t){}addNewReaction(){this.reactions.push(this.reaction),this.reaction={},this.onChangeCallback(this.reactions)}removeReaction(t){this.reactions.splice(t,1),this.onChangeCallback(this.reactions)}reactionManifestationSelected(t,n){t.manifestation=n,this.newManifestation.emit(n),this.onChangeCallback(this.reactions)}reactionSeveritySelected(t,n){t.severity=n,this.onChangeCallback(this.reactions)}reactionRouteSelected(t,n){t.route=n,this.onChangeCallback(this.reactions)}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-allergies-allergy-list-reaction"]],inputs:{reactions:"reactions"},outputs:{newManifestation:"newManifestation"},features:[fi([{provide:ha,useExisting:Sn(()=>e),multi:!0}])],decls:5,vars:1,consts:[["reactionPopoverMenu","matMenu"],["routePopoverMenu","matMenu"],["class","reaction",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary","matTooltip","Add reaction",3,"click"],[1,"reaction"],[1,"button-container"],["mat-icon-button","","color","primary","class","remove","matTooltip","Remove reaction",3,"click",4,"ngIf"],[1,"row-centered"],[1,"small-form-field"],[3,"selectionChange","binding"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click","disableRipple"],[1,"form-field"],[3,"value","click",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary","matTooltip","Remove reaction",1,"remove",3,"click"],[3,"click","value"]],template:function(n,r){1&n&&(Gt(0,FEt,34,10,"div",2),q(1,"div")(2,"button",3),Vt("click",function(){return r.addNewReaction()}),q(3,"mat-icon"),ut(4,"add"),et()()()),2&n&&xt("ngForOf",r.reactions)},dependencies:[vs,Is,Oo,ua,Tl,Yl,uu,Sl,tl,su,lv,bu,av],styles:["#main-card[_ngcontent-%COMP%]{padding:10px;width:100%}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:flex-start}.row-centered[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center}.column[_ngcontent-%COMP%]{flex:1;margin:5px;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{width:100%}.smallest-form-field[_ngcontent-%COMP%]{width:60%;margin:5px}.small-form-field[_ngcontent-%COMP%]{width:90%;margin:5px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;padding:4px 8px;height:36px}.mat-mdc-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:0}.reaction[_ngcontent-%COMP%]{border-radius:10px;background-color:#a9bee9;padding:10px;margin-bottom:10px}#output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative}pre[_ngcontent-%COMP%] > code[_ngcontent-%COMP%]{width:45%;white-space:pre-wrap;word-wrap:break-word}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%}"]})}return e})();const LEt=()=>({});function NEt(e,i){if(1&e){const t=pe();q(0,"mat-option",31),Vt("click",function(){return Ut(t),zt(Ct().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),Xe(t.display)}}function BEt(e,i){if(1&e){const t=pe();q(0,"mat-option",31),Vt("click",function(){return Ut(t),zt(Ct().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),Xe(t.display)}}function VEt(e,i){if(1&e){const t=pe();q(0,"mat-option",31),Vt("click",function(){return Ut(t),zt(Ct().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),Xe(t.display)}}function UEt(e,i){if(1&e){const t=pe();q(0,"app-autocomplete-binding",11),Vt("selectionChange",function(r){return Ut(t),zt(Ct().substanceSelected(r,!0))}),et()}if(2&e){const t=Ct();xt("binding",t.substanceBinding)("term",t.selectedSubstanceTerm)}}function zEt(e,i){if(1&e){const t=pe();q(0,"app-autocomplete-binding",11),Vt("selectionChange",function(r){return Ut(t),zt(Ct().substanceSelected(r))}),et()}if(2&e){const t=Ct();xt("binding",t.refinedSubstanceBinding)("term",t.selectedSubstanceTerm)}}function GEt(e,i){if(1&e&&(q(0,"pre"),ut(1),et()),2&e){const t=Ct();ot(),Xe(t.substanceBinding.ecl)}}function HEt(e,i){if(1&e&&(q(0,"pre"),ut(1),et()),2&e){const t=Ct();ot(),Xe(t.refinedSubstanceBinding.ecl)}}function WEt(e,i){if(1&e){const t=pe();q(0,"mat-option",31),Vt("click",function(){return Ut(t),zt(Ct().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),Xe(t.display)}}function XEt(e,i){if(1&e){const t=pe();q(0,"mat-option",31),Vt("click",function(){return Ut(t),zt(Ct().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),Xe(t.display)}}let jEt=(()=>{class e{constructor(t,n,r){this.terminologyService=t,this.clipboard=n,this._snackBar=r,this.newProblem=new De,this.clinicalStatusOptions=[{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical",code:"active",display:"Active"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical",code:"inactive",display:"Inactive"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical",code:"resolved",display:"Resolved"}],this.selectedClinicalStatus=this.clinicalStatusOptions[0],this.verificationStatusOptions=[{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"unconfirmed",display:"Unconfirmed"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"presumed",display:"Presumed"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"confirmed",display:"Confirmed"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"refuted",display:"Refuted"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"entered-in-error",display:"Entered in Error"}],this.selectedVerificationStatus=this.verificationStatusOptions[0],this.intoleranceTypeOptions=[{system:"http://hl7.org/fhir/allergy-intolerance-type",code:"609433001",display:"Hypersensitivity disposition (finding)",fhirCode:"allergy",fhirDisplay:"Allergy"},{system:"http://hl7.org/fhir/allergy-intolerance-type",code:"782197009",display:"Intolerance to substance (finding)",fhirCode:"intolerance",fhirDisplay:"Intolerance"}],this.selectedIntoleranceType=null,this.intoleranceCategoryOptions=[{code:"food",display:"Food"},{code:"medication",display:"Medication"},{code:"environment",display:"Environment"},{code:"biologic",display:"Biologic"}],this.selectedIntoleranceCategories=[],this.selectedIntoleranceCategoriesControl=new Ps(this.selectedIntoleranceCategories),this.criticalityOptions=[{code:"low",display:"Low Risk"},{code:"high",display:"High Risk"},{code:"unable-to-assess",display:"Unable to Assess Risk"}],this.selectedCriticality=null,this.severityOptions=[{code:"mild",display:"Mild",sctCode:"255604002",sctDisplay:"Mild (qualifier value)"},{code:"moderate",display:"Moderate",sctCode:"6736007",sctDisplay:"Moderate (qualifier value)"},{code:"severe",display:"Severe",sctCode:"24484000",sctDisplay:"Severe (qualifier value)"}],this.selectedSeverity={},this.codeBinding={ecl:"<<418038007 |Propensity to adverse reactions to substance| OR <<420134006 |Propensity to adverse reaction (finding)|",title:"Allergy/Intolerance by propensity"},this.selectedCode=null,this.selectedCodeTerm="",this.recordPropensity=!1,this.substanceBinding={ecl:"<<105590001 | Substance (substance) | OR <<373873005 | Pharmaceutical / biologic product (product) |",title:"Allergy/Intolerance substance or product"},this.refinedSubstanceBinding={ecl:"<<105590001 | Substance (substance) |",title:"Allergy/Intolerance substance based on propensity"},this.selectedSubstanceTerm="",this.selectedSubstance=null,this.selectedReactions=[{suibstance:{},manifestation:{},severity:{},route:{}}],this.reactionManifestationBinding={ecl:"<<404684003 |Clinical finding|",title:"Reaction Manifestation"},this.selectedReactionManifestation=null,this.selectedReactionManifestationTerm="",this.routeBinding={ecl:"<<284009009 |Route of administration value|",title:"Exposure Route"},this.selectedRoute=null,this.selectedRouteTerm="",this.outputAllergyBase={resourceType:"AllergyIntolerance",id:"medication",text:{},clinicalStatus:{coding:[]},verificationStatus:{coding:[]},type:"",category:[],criticality:"high",code:{coding:[]},reaction:[{substance:[{coding:[]}],manifestation:[{coding:[]}],exposureRoute:{coding:[]},severity:""}],patient:{reference:"Patient/example"},recordedDate:"2010-03-01",participant:[{function:{coding:[{system:"http://terminology.hl7.org/CodeSystem/provenance-participant-type",code:"author",display:"Author"}]},actor:{reference:"Practitioner/example"}}]},this.outputAllergy=JSON.parse(JSON.stringify(this.outputAllergyBase)),this.outputAllergyStr=""}ngOnInit(){this.updateAllergyStr()}onReactionsChange(t){this.updateAllergyStr()}clear(){this.selectedClinicalStatus=this.clinicalStatusOptions[0],this.selectedVerificationStatus=this.verificationStatusOptions[0],this.selectedIntoleranceType=null,this.selectedIntoleranceCategories=[],this.selectedIntoleranceCategoriesControl=new Ps(this.selectedIntoleranceCategories),this.selectedCriticality=null,this.selectedSeverity={},this.selectedCode=null,this.selectedCodeTerm="",this.recordPropensity=!1,this.selectedSubstanceTerm="",this.selectedReactionManifestation=null,this.selectedReactionManifestationTerm=" ",this.selectedRoute=null,this.selectedRouteTerm=" ",this.selectedReactions=[{suibstance:{},manifestation:{},severity:{},route:{}}],this.outputAllergy=JSON.parse(JSON.stringify(this.outputAllergyBase)),this.updateAllergyStr(),setTimeout(()=>{this.selectedReactionManifestationTerm="",this.selectedRouteTerm=""},100)}updateAllergyStr(){this.outputAllergy.clinicalStatus.coding=[this.selectedClinicalStatus],this.outputAllergy.verificationStatus.coding=[this.selectedVerificationStatus],this.outputAllergy.type=this.selectedIntoleranceType?this.selectedIntoleranceType.fhirCode:"",this.outputAllergy.category=this.selectedIntoleranceCategories.length?this.selectedIntoleranceCategories.map(t=>t.display):[],this.outputAllergy.criticality=this.selectedCriticality?.code?[this.selectedCriticality.code]:{},this.outputAllergy.reaction=[],this.selectedReactions.forEach(t=>{t.manifestation.code&&(t.manifestation.system="http://snomed.info/sct"),t.route.code&&(t.route.system="http://snomed.info/sct"),this.outputAllergy.reaction.push({substance:[{coding:[this.selectedSubstance]}],manifestation:[{coding:t.manifestation?[t.manifestation]:[{}]}],exposureRoute:{coding:t.route?[t.route]:[{}]},severity:t.severity?t.severity.code:""})}),setTimeout(()=>{this.outputAllergyStr=JSON.stringify(this.outputAllergy,null,2)},100)}substanceSelected(t,n){var r=this;return de(function*(){n&&(r.selectedCodeTerm=""),r.selectedSubstance=t,r.selectedIntoleranceCategories=[],t=Object.assign({system:"http://snomed.info/sct"},t),r.recordPropensity||(r.outputAllergy.code.coding=[t]),r.outputAllergy.reaction[0].substance[0].coding=[t],(yield r.getSubstanceCategories(t))?.expansion?.contains?.forEach(o=>{"762766007"==o.code?r.selectedIntoleranceCategories.push(r.intoleranceCategoryOptions[0]):"115668003"==o.code?r.selectedIntoleranceCategories.push(r.intoleranceCategoryOptions[3]):"410942007"==o.code?r.selectedIntoleranceCategories.push(r.intoleranceCategoryOptions[1]):"57795002"==o.code&&r.selectedIntoleranceCategories.push(r.intoleranceCategoryOptions[2])}),r.selectedIntoleranceCategoriesControl.setValue(r.selectedIntoleranceCategories),r.updateAllergyStr()})()}propensityRecordChanged(){this.outputAllergy.code.coding=[],this.selectedCode&&this.codeSelected(this.selectedCode)}codeSelected(t){var n=this;return de(function*(){if(t=Object.assign({system:"http://snomed.info/sct"},t)){n.selectedCodeTerm=t.display,n.selectedCode=t,n.recordPropensity&&(n.outputAllergy.code.coding=[t]);let r=yield n.getTypes(t);if(r.expansion?.contains){const o=r.expansion?.contains[0];n.selectedIntoleranceType=n.intoleranceTypeOptions.find(l=>l.code===o.code)}let s=yield n.getAllergySubstance(t);if(s.expansion.contains||(s=yield n.getIntoleranceSubstance(t)),s.expansion?.contains){const o=s.expansion?.contains[0];n.refinedSubstanceBinding.ecl=`<<${o.code} | ${o.display} |`,n.substanceSelected(o),n.selectedSubstanceTerm=o.display}else n.refinedSubstanceBinding.ecl="<<105590001 | Substance (substance) |"}})()}getIntoleranceSubstance(t){var n=this;return de(function*(){return Sa((yield n.terminologyService.expandValueSet(`${t.code} |${t.display}| . 47429007 |Associated with (attribute)|`,"")).pipe(Di(s=>s)))})()}getAllergySubstance(t){var n=this;return de(function*(){return Sa((yield n.terminologyService.expandValueSet(`${t.code} |${t.display}| . 246075003 |Causative agent (attribute)|`,"")).pipe(Di(s=>s)))})()}getSubstanceCategories(t){var n=this;return de(function*(){return Sa((yield n.terminologyService.expandValueSet(`> ${t.code} |${t.display}| AND (762766007 |Edible substance| OR 115668003 |Biological substance (substance)| OR 410942007 |Drug or medicament (substance)| OR 57795002 |Chemical element|)`,"")).pipe(Di(s=>s)))})()}getTypes(t){var n=this;return de(function*(){return Sa((yield n.terminologyService.expandValueSet(`> ${t.code} |${t.display}| AND (609433001 |Hypersensitivity disposition| OR 782197009 |Intolerance to substance|)`,"")).pipe(Di(s=>s)))})()}saveFhirResource(){var t=new Blob([this.outputAllergyStr],{type:"text/plain;charset=utf-8"});(0,hd.saveAs)(t,"AllergyIntolerance.json")}copyToClipboard(t){this.clipboard.copy(t)}addToProblemsList(){if(this.selectedCode)this.newProblem.emit(this.selectedCode);else if(this.selectedSubstance&&this.selectedIntoleranceType){let t="";"609433001"===this.selectedIntoleranceType.code?t="Allergy to ":"782197009"===this.selectedIntoleranceType.code&&(t="Intolerance to "),t+=this.selectedSubstance.display,this.newProblem.emit({code:`${this.selectedIntoleranceType.code}:246075003=${this.selectedSubstance.code}`,display:t,substance:this.selectedSubstance})}else this._snackBar.openFromComponent(Ar,{duration:1e3,data:"Nothing to add to problem list",panelClass:["yellow-snackbar"]});this.clear()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(da),mt(GR),mt(Eh))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-allergies-allergy-list"]],outputs:{newProblem:"newProblem"},decls:105,vars:30,consts:[["substancePopoverMenu","matMenu"],["codePopoverMenu","matMenu"],["id","main-card"],[1,"row"],[1,"column"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/x/PaDICg","target","_blank"],["mat-flat-button","","color","accent","id","clear",3,"click"],[1,"row-centered"],[1,"smallest-form-field"],[3,"selectionChange","binding","term"],["mat-menu-item","",3,"click","disableRipple"],["matTooltip","Defines wether to use a propensity based model or a substance based model. Defines which one is recorded in the code element of the AllergyIntolerance resource.",3,"ngModelChange","click","ngModel"],[1,"form-field"],[3,"ngModelChange","ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[1,"small-form-field"],[3,"binding","term","selectionChange",4,"ngIf"],[4,"ngIf"],[3,"formControl","multiple"],[3,"ngModelChange","newManifestation","ngModel"],["mat-flat-button","","color","accent",3,"click"],["href","https://hl7.org/FHIR/allergyintolerance.html","target","_blank"],["id","output"],["id","save"],["mat-icon-button","","matTooltip","Download FHIR Resource",3,"click"],["fontIcon","cloud_download"],["mat-icon-button","","matTooltip","Copy FHIR Resource",3,"click"],["fontIcon","content_copy"],["highlight-js","","id","output","wrap","soft",3,"options","lang","innerHTML"],[3,"click","value"]],template:function(n,r){if(1&n){const s=pe();q(0,"mat-card",2)(1,"div",3)(2,"div",4)(3,"h4"),ut(4,"Allergy Intolerance Form "),q(5,"button",5)(6,"mat-icon"),ut(7,"info"),et()(),q(8,"mat-menu",null,0)(10,"span",6),Vt("click",function(l){return Ut(s),zt(l.stopPropagation())}),q(11,"h4"),ut(12,"Allergy list"),et(),q(13,"p"),ut(14,"Allergy or intolerance can be recorded in a specific section (e.g., \u201cDrug Allergy and Intolerance\u201d) of the EHR, which records the causative agent together with other details, including type (allergy, non-allergic hypersensitivity, intolerance), certainty, manifestation, and severity. This corresponds to the FHIR substance based AllergyIntolerance resource data model."),et(),q(15,"p"),ut(16,"In terms of documenting sensitivity type in the allergy list there is the option to map to 609433001 |Hypersensitivity disposition which in SNOMED CT represents both immune-mediated and non-immune mediated hypersensitivity or to map to 609328004 |Allergic disposition (finding)|which is common clinical parlance for what many clinicians would mean by allergic or non-allergic hypersensitivity. In addition, as recommended in the FHIR documentation if one is unclear as to whether a condition represents hypersensitivity or intolerance, one can just omit the type element from the resource."),et(),q(17,"p"),ut(18,"If SNOMED CT concepts are used to document the causative agent, it is preferable to use concepts from the Substance rather than Pharmaceutical/biologic product hierarchy since this will facilitate the downstream use of data, e.g., clinical decision support, data exchange."),et(),q(19,"p"),ut(20,"Almost all allergy and intolerance finding concepts are modeled using substance concepts in SNOMED CT. The SNOMED CT substance hierarchy has grouper concepts that are based on structure (e.g., Macrolide) or disposition (e.g., substance with histamine receptor antagonist mechanism of action). Clinical decision support systems can utilize these grouper concepts to access information at the desired level of granularity. Clinicians can also record a class of substance instead of a specific drug or substance (e.g., angiotensin II receptor antagonist). Note that substance grouper concepts based on therapeutic role (e.g., anticonvulsant) is not recommended for use because they are currently under review and may be retired in future."),et(),q(21,"p"),ut(22,"There are situations in which it is difficult to determine the specific substance as a true cause or most likely cause of a condition. This is the case for allergy/intolerance to a product containing multiple substances."),et(),q(23,"p"),ut(24,"Records of allergy to multiple substances or to multi-ingredient products should be recorded at the product level and updated when more specific information becomes available (e.g., positive sensitivity test to one specific ingredient of the mix)."),et(),q(25,"p"),ut(26,"For more information check the "),q(27,"a",7),ut(28,"Implementation Guide"),et(),ut(29," developed by the SNOMED International Allergy Clinical Reference Group."),et()()()(),q(30,"button",8),Vt("click",function(){return Ut(s),zt(r.clear())}),ut(31,"Clear"),et(),q(32,"div",9)(33,"div",10)(34,"app-autocomplete-binding",11),Vt("selectionChange",function(l){return Ut(s),zt(r.codeSelected(l))}),et()(),q(35,"button",5)(36,"mat-icon"),ut(37,"info"),et()(),q(38,"mat-menu",null,1)(40,"span",12),Vt("click",function(l){return Ut(s),zt(l.stopPropagation())}),q(41,"p"),ut(42,"Terminology binding:"),et(),q(43,"pre"),ut(44),et()()(),q(45,"mat-slide-toggle",13),_a("ngModelChange",function(l){return Ut(s),Ba(r.recordPropensity,l)||(r.recordPropensity=l),zt(l)}),Vt("click",function(){return Ut(s),zt(r.propensityRecordChanged())}),ut(46," Propensity based model "),et()(),q(47,"mat-form-field",14)(48,"mat-label"),ut(49,"Allergy Intolerance Type"),et(),q(50,"mat-select",15),_a("ngModelChange",function(l){return Ut(s),Ba(r.selectedIntoleranceType,l)||(r.selectedIntoleranceType=l),zt(l)}),Gt(51,NEt,2,2,"mat-option",16),et()(),q(52,"div",9)(53,"mat-form-field",4)(54,"mat-label"),ut(55,"Clinical Status"),et(),q(56,"mat-select",15),_a("ngModelChange",function(l){return Ut(s),Ba(r.selectedClinicalStatus,l)||(r.selectedClinicalStatus=l),zt(l)}),Gt(57,BEt,2,2,"mat-option",16),et()(),q(58,"mat-form-field",4)(59,"mat-label"),ut(60,"Verification Status"),et(),q(61,"mat-select",15),_a("ngModelChange",function(l){return Ut(s),Ba(r.selectedVerificationStatus,l)||(r.selectedVerificationStatus=l),zt(l)}),Gt(62,VEt,2,2,"mat-option",16),et()()(),q(63,"div",9)(64,"div",17),Gt(65,UEt,1,2,"app-autocomplete-binding",18)(66,zEt,1,2,"app-autocomplete-binding",18),et(),q(67,"button",5)(68,"mat-icon"),ut(69,"info"),et()(),q(70,"mat-menu",null,0)(72,"span",12),Vt("click",function(l){return Ut(s),zt(l.stopPropagation())}),q(73,"p"),ut(74,"Terminology binding:"),et(),Gt(75,GEt,2,1,"pre",19)(76,HEt,2,1,"pre",19),et()()(),q(77,"div",9)(78,"mat-form-field",4)(79,"mat-label"),ut(80,"Substance Category"),et(),q(81,"mat-select",20),Gt(82,WEt,2,2,"mat-option",16),et()(),q(83,"mat-form-field",4)(84,"mat-label"),ut(85,"Allergy Criticality"),et(),q(86,"mat-select",15),_a("ngModelChange",function(l){return Ut(s),Ba(r.selectedCriticality,l)||(r.selectedCriticality=l),zt(l)}),Gt(87,XEt,2,2,"mat-option",16),et()()(),q(88,"app-allergies-allergy-list-reaction",21),_a("ngModelChange",function(l){return Ut(s),Ba(r.selectedReactions,l)||(r.selectedReactions=l),zt(l)}),Vt("ngModelChange",function(l){return Ut(s),zt(r.onReactionsChange(l))})("newManifestation",function(l){return Ut(s),zt(r.newProblem.emit(l))}),et(),q(89,"button",22),Vt("click",function(){return Ut(s),zt(r.addToProblemsList())}),ut(90,"Save"),et()(),q(91,"div",4)(92,"h4"),ut(93,"AllergyIntolerance HL7 FHIR Resource ("),q(94,"a",23),ut(95,"link"),et(),ut(96,")"),et(),q(97,"div",24)(98,"div",25)(99,"button",26),Vt("click",function(){return Ut(s),zt(r.saveFhirResource())}),ye(100,"mat-icon",27),et(),q(101,"button",28),Vt("click",function(){return Ut(s),zt(r.copyToClipboard(r.outputAllergyStr))}),ye(102,"mat-icon",29),et()(),q(103,"textarea",30),ut(104,"                "),et()()()()()}if(2&n){const s=Ki(9),o=Ki(39);ot(5),xt("matMenuTriggerFor",s),ot(5),xt("disableRipple",!0),ot(24),xt("binding",r.codeBinding)("term",r.selectedCodeTerm),ot(),xt("matMenuTriggerFor",o),ot(5),xt("disableRipple",!0),ot(4),Xe(r.codeBinding.ecl),ot(),wa("ngModel",r.recordPropensity),ot(5),wa("ngModel",r.selectedIntoleranceType),ot(),xt("ngForOf",r.intoleranceTypeOptions),ot(5),wa("ngModel",r.selectedClinicalStatus),ot(),xt("ngForOf",r.clinicalStatusOptions),ot(4),wa("ngModel",r.selectedVerificationStatus),ot(),xt("ngForOf",r.verificationStatusOptions),ot(3),xt("ngIf",!r.recordPropensity),ot(),xt("ngIf",r.recordPropensity),ot(),xt("matMenuTriggerFor",s),ot(5),xt("disableRipple",!0),ot(3),xt("ngIf",!r.recordPropensity),ot(),xt("ngIf",r.recordPropensity),ot(5),xt("formControl",r.selectedIntoleranceCategoriesControl)("multiple",!0),ot(),xt("ngForOf",r.intoleranceCategoryOptions),ot(4),wa("ngModel",r.selectedCriticality),ot(),xt("ngForOf",r.criticalityOptions),ot(),wa("ngModel",r.selectedReactions),ot(15),xt("options",Zo(29,LEt))("lang","json")("innerHTML",r.outputAllergyStr,Ff)}},dependencies:[vs,Is,HC,Ea,Oo,ua,Tl,Yl,uu,Sl,tl,su,No,Uy,xC,lv,$l,bu,HR,av,OEt],styles:["#main-card[_ngcontent-%COMP%]{padding:10px;width:100%}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:flex-start}.row-centered[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center}.column[_ngcontent-%COMP%]{position:relative;flex:1;margin:5px;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{width:100%}.smallest-form-field[_ngcontent-%COMP%]{width:60%;margin:5px}.small-form-field[_ngcontent-%COMP%]{width:90%;margin:5px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;padding:4px 8px;height:36px}.mat-mdc-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:0}.reaction[_ngcontent-%COMP%]{border-radius:10px;background-color:#a9bee9;padding:10px}#output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative}pre[_ngcontent-%COMP%] > code[_ngcontent-%COMP%]{width:45%;white-space:pre-wrap;word-wrap:break-word}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}#clear[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px}.long-tooltip[_ngcontent-%COMP%]{padding-left:3rem;padding-right:3rem;font-weight:lighter;font-size:.9rem}"]})}return e})(),YEt=(()=>{class e{constructor(t){this._snackBar=t}addProblem(t){var n=this;return de(function*(){n.allergiesProblemListComponent.addProblem(t),n._snackBar.openFromComponent(Ar,{duration:1e3,data:"Problem list updated",panelClass:["green-snackbar"]})})()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Eh))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-allergies"]],viewQuery:function(n,r){if(1&n&&Mi(WW,5),2&n){let s;Be(s=Ve())&&(r.allergiesProblemListComponent=s.first)}},decls:31,vars:2,consts:[["substancePopoverMenu","matMenu"],["id","main-panel"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/x/PaDICg","target","_blank"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Allergy List Approach (AllergyIntolerance FHIR resource)"],[3,"newProblem"],["label","Problem List Approach (Condition FHIR resource)"]],template:function(n,r){if(1&n){const s=pe();q(0,"div",1)(1,"h3"),ut(2,"Allergy, Hypersensitivity and Intolerance "),q(3,"button",2)(4,"mat-icon"),ut(5,"info"),et()(),q(6,"mat-menu",null,0)(8,"span",3),Vt("click",function(l){return Ut(s),zt(l.stopPropagation())}),q(9,"h4"),ut(10,"Allergy, Hypersensitivity and Intolerance Implementation Demo"),et(),q(11,"p"),ut(12,"This is a demonstration of different implementation approaches for recording Allergies, Hypersensitivity and Intolerance."),et(),q(13,"p")(14,"b"),ut(15,"Allergy list:"),et(),ut(16," allergy or intolerance can be recorded in a specific section of the EHR, which records the causative agent together with other details, including type (allergy, non-allergic hypersensitivity, intolerance), certainty, manifestation, and severity. This corresponds to the FHIR substance based AllergyIntolerance resource data model."),et(),q(17,"p")(18,"b"),ut(19,"Problem list:"),et(),ut(20," Allergy or intolerance can also be recorded in the EHR as a problem. The problem list is normally restricted to SNOMED CT concepts from three hierarchies \u2013 Clinical finding, Event and Finding with explicit context. This corresponds either to the FHIR finding based AllergyIntolerance resource data model or the FHIR Condition resource."),et(),q(21,"p"),ut(22,"For more information check the "),q(23,"a",4),ut(24,"Implementation Guide"),et(),ut(25," developed by the SNOMED International Allergy Clinical Reference Group."),et()()()(),q(26,"mat-tab-group",5)(27,"mat-tab",6)(28,"app-allergies-allergy-list",7),Vt("newProblem",function(l){return Ut(s),zt(r.addProblem(l))}),et()(),q(29,"mat-tab",8),ye(30,"app-allergies-problem-list"),et()()()}if(2&n){const s=Ki(7);ot(3),xt("matMenuTriggerFor",s),ot(5),xt("disableRipple",!0)}},dependencies:[Oo,ua,Tl,Yl,uu,zy,ov,WW,jEt],styles:["#main-panel[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{margin-top:0}#guideLink[_ngcontent-%COMP%]{font-size:smaller}.long-tooltip[_ngcontent-%COMP%]{padding-left:3rem;padding-right:3rem;font-weight:lighter;font-size:.9rem}"]})}return e})();function WR(e,i,t){for(let n in i)if(i.hasOwnProperty(n)){const r=i[n];r?e.setProperty(n,r,t?.has(n)?"important":""):e.removeProperty(n)}return e}function cv(e,i){const t=i?"":"none";WR(e.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function aX(e,i,t){WR(e.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},t)}function WC(e,i){return i&&"none"!=i?e+" "+i:e}function oX(e){const i=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*i}function XR(e,i){return e.getPropertyValue(i).split(",").map(n=>n.trim())}function jR(e){const i=e.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function YR(e,i,t){const{top:n,bottom:r,left:s,right:o}=e;return t>=n&&t<=r&&i>=s&&i<=o}function Gy(e,i,t){e.top+=i,e.bottom=e.top+e.height,e.left+=t,e.right=e.left+e.width}function lX(e,i,t,n){const{top:r,right:s,bottom:o,left:l,width:b,height:C}=e,D=b*i,R=C*i;return n>r-R&&n<o+R&&t>l-D&&t<s+D}class cX{constructor(i){this._document=i,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:jR(t)})})}handleScroll(i){const t=_l(i),n=this.positions.get(t);if(!n)return null;const r=n.scrollPosition;let s,o;if(t===this._document){const C=this.getViewportScrollPosition();s=C.top,o=C.left}else s=t.scrollTop,o=t.scrollLeft;const l=r.top-s,b=r.left-o;return this.positions.forEach((C,D)=>{C.clientRect&&t!==D&&t.contains(D)&&Gy(C.clientRect,l,b)}),r.top=s,r.left=o,{top:l,left:b}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function dX(e){const i=e.cloneNode(!0),t=i.querySelectorAll("[id]"),n=e.nodeName.toLowerCase();i.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===n?fX(e,i):("input"===n||"select"===n||"textarea"===n)&&hX(e,i),uX("canvas",e,i,fX),uX("input, textarea, select",e,i,hX),i}function uX(e,i,t,n){const r=i.querySelectorAll(e);if(r.length){const s=t.querySelectorAll(e);for(let o=0;o<r.length;o++)n(r[o],s[o])}}let KEt=0;function hX(e,i){"file"!==i.type&&(i.value=e.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${KEt++}`)}function fX(e,i){const t=i.getContext("2d");if(t)try{t.drawImage(e,0,0)}catch{}}const mX=Ec({passive:!0}),XC=Ec({passive:!1}),$R=new Set(["position"]);class JEt{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(t=>cv(t,i)))}constructor(i,t,n,r,s,o){this._config=t,this._document=n,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Pe,this._pointerMoveSubscription=Ie.EMPTY,this._pointerUpSubscription=Ie.EMPTY,this._scrollSubscription=Ie.EMPTY,this._resizeSubscription=Ie.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Pe,this.started=new Pe,this.released=new Pe,this.ended=new Pe,this.entered=new Pe,this.exited=new Pe,this.dropped=new Pe,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const b=this._getTargetHandle(l);b&&!this._disabledHandles.has(b)&&!this.disabled&&this._initializeDragSequence(b,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const b=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){if(Math.abs(b.x-this._pickupPositionOnPage.x)+Math.abs(b.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const L=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),U=this._dropContainer;if(!L)return void this._endDragSequence(l);(!U||!U.isDragging()&&!U.isReceiving())&&(l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}l.preventDefault();const C=this._getConstrainedPointerPosition(b);if(this._hasMoved=!0,this._lastKnownPointerPosition=b,this._updatePointerDirectionDelta(C),this._dropContainer)this._updateActiveDropContainer(C,b);else{const D=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,R=this._activeTransform;R.x=C.x-D.x+this._passiveTransform.x,R.y=C.y-D.y+this._passiveTransform.y,this._applyRootElementTransform(R.x,R.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:C,event:l,distance:this._getDragDistance(C),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this._nativeDragStart=l=>{if(this._handles.length){const b=this._getTargetHandle(l);b&&!this._disabledHandles.has(b)&&!this.disabled&&l.preventDefault()}else this.disabled||l.preventDefault()},this.withRootElement(i).withParent(t.parentDragRef||null),this._parentPositions=new cX(n),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(n=>xs(n)),this._handles.forEach(n=>cv(n,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&t.add(n)}),this._disabledHandles=t,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const t=xs(i);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,XC),t.addEventListener("touchstart",this._pointerDown,mX),t.addEventListener("dragstart",this._nativeDragStart,XC)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?xs(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),cv(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),cv(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){Hy(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const n=this._rootElement,r=n.parentNode,s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),l=this._getShadowRoot();r.insertBefore(o,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),aX(n,!1,$R),this._document.body.appendChild(r.replaceChild(s,n)),this._getPreviewInsertionPoint(r,l).appendChild(this._preview),this.started.next({source:this,event:i}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(i,t){this._parentDragRef&&t.stopPropagation();const n=this.isDragging(),r=Hy(t),s=!r&&0!==t.button,o=this._rootElement,l=_l(t),b=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),C=r?JT(t):ZT(t);if(l&&l.draggable&&"mousedown"===t.type&&t.preventDefault(),n||s||b||C)return;if(this._handles.length){const O=o.style;this._rootElementTapHighlight=O.webkitTapHighlightColor||"",O.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(O=>this._updateOnScroll(O)),this._boundaryElement&&(this._boundaryRect=jR(this._boundaryElement));const D=this._previewTemplate;this._pickupPositionInElement=D&&D.template&&!D.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,i,t);const R=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:R.x,y:R.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(i){aX(this._rootElement,!0,$R),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,n=t.getItemIndex(this),r=this._getPointerPositionOnPage(i),s=this._getDragDistance(r),o=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:r,event:i}),t.drop(this,n,this._initialIndex,this._initialContainer,o,s,r,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:t},{x:n,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,i,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,i,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,i,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,t):this._applyPreviewTransform(i-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const i=this._previewTemplate,t=this.previewClass,n=i?i.template:null;let r;if(n&&i){const s=i.matchSize?this._initialDomRect:null,o=i.viewContainer.createEmbeddedView(n,i.context);o.detectChanges(),r=gX(o,this._document),this._previewRef=o,i.matchSize?vX(r,s):r.style.transform=jC(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=dX(this._rootElement),vX(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return WR(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},$R),cv(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>r.classList.add(s)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const t=function QEt(e){const i=getComputedStyle(e),t=XR(i,"transition-property"),n=t.find(l=>"transform"===l||"all"===l);if(!n)return 0;const r=t.indexOf(n),s=XR(i,"transition-duration"),o=XR(i,"transition-delay");return oX(s[r])+oX(o[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{const r=o=>{(!o||_l(o)===this._preview&&"transform"===o.propertyName)&&(this._preview?.removeEventListener("transitionend",r),n(),clearTimeout(s))},s=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,t=i?i.template:null;let n;return t?(this._placeholderRef=i.viewContainer.createEmbeddedView(t,i.context),this._placeholderRef.detectChanges(),n=gX(this._placeholderRef,this._document)):n=dX(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(i,t,n){const r=t===this._rootElement?null:t,s=r?r.getBoundingClientRect():i,o=Hy(n)?n.targetTouches[0]:n,l=this._getViewportScrollPosition();return{x:s.left-i.left+(o.pageX-s.left-l.left),y:s.top-i.top+(o.pageY-s.top-l.top)}}_getPointerPositionOnPage(i){const t=this._getViewportScrollPosition(),n=Hy(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,r=n.pageX-t.left,s=n.pageY-t.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const l=this._ownerSVGElement.createSVGPoint();return l.x=r,l.y=s,l.matrixTransform(o.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(i){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(i,this,this._initialDomRect,this._pickupPositionInElement):i;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===t)&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,l=this._boundaryRect,{width:b,height:C}=this._getPreviewRect(),D=l.top+o,R=l.bottom-(C-o);n=pX(n,l.left+s,l.right-(b-s)),r=pX(r,D,R)}return{x:n,y:r}}_updatePointerDirectionDelta(i){const{x:t,y:n}=i,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-s.x),l=Math.abs(n-s.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=t>s.x?1:-1,s.x=t),l>this._config.pointerDirectionChangeThreshold&&(r.y=n>s.y?1:-1,s.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,cv(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,XC),i.removeEventListener("touchstart",this._pointerDown,mX),i.removeEventListener("dragstart",this._nativeDragStart,XC)}_applyRootElementTransform(i,t){const n=jC(i,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=WC(n,this._initialTransform)}_applyPreviewTransform(i,t){const n=this._previewTemplate?.template?void 0:this._initialTransform,r=jC(i,t);this._preview.style.transform=WC(r,n)}_getDragDistance(i){const t=this._pickupPositionOnPage;return t?{x:i.x-t.x,y:i.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:t}=this._passiveTransform;if(0===i&&0===t||this.isDragging()||!this._boundaryElement)return;const n=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===n.width&&0===n.height)return;const s=r.left-n.left,o=n.right-r.right,l=r.top-n.top,b=n.bottom-r.bottom;r.width>n.width?(s>0&&(i+=s),o>0&&(i-=o)):i=0,r.height>n.height?(l>0&&(t+=l),b>0&&(t-=b)):t=0,(i!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:i})}_getDragStartDelay(i){const t=this.dragStartDelay;return"number"==typeof t?t:Hy(i)?t.touch:t?t.mouse:0}_updateOnScroll(i){const t=this._parentPositions.handleScroll(i);if(t){const n=_l(i);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&Gy(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=kk(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,t){const n=this._previewContainer||"global";if("parent"===n)return i;if("global"===n){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return xs(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(i){return this._handles.find(t=>i.target&&(i.target===t||t.contains(i.target)))}}function jC(e,i){return`translate3d(${Math.round(e)}px, ${Math.round(i)}px, 0)`}function pX(e,i,t){return Math.max(i,Math.min(t,e))}function Hy(e){return"t"===e.type[0]}function gX(e,i){const t=e.rootNodes;if(1===t.length&&t[0].nodeType===i.ELEMENT_NODE)return t[0];const n=i.createElement("div");return t.forEach(r=>n.appendChild(r)),n}function vX(e,i){e.style.width=`${i.width}px`,e.style.height=`${i.height}px`,e.style.transform=jC(i.left,i.top)}function QR(e,i,t){const n=Wy(i,e.length-1),r=Wy(t,e.length-1);if(n===r)return;const s=e[n],o=r<n?-1:1;for(let l=n;l!==r;l+=o)e[l]=e[l+o];e[r]=s}function Wy(e,i){return Math.max(0,Math.min(i,e))}class qEt{constructor(i,t){this._element=i,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(i){this.withItems(i)}sort(i,t,n,r){const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(i,t,n,r);if(-1===o&&s.length>0)return null;const l="horizontal"===this.orientation,b=s.findIndex(W=>W.drag===i),C=s[o],R=C.clientRect,O=b>o?1:-1,L=this._getItemOffsetPx(s[b].clientRect,R,O),U=this._getSiblingOffsetPx(b,s,O),X=s.slice();return QR(s,b,o),s.forEach((W,Z)=>{if(X[Z]===W)return;const rt=W.drag===i,st=rt?L:U,vt=rt?i.getPlaceholderElement():W.drag.getRootElement();W.offset+=st,l?(vt.style.transform=WC(`translate3d(${Math.round(W.offset)}px, 0, 0)`,W.initialTransform),Gy(W.clientRect,0,st)):(vt.style.transform=WC(`translate3d(0, ${Math.round(W.offset)}px, 0)`,W.initialTransform),Gy(W.clientRect,st,0))}),this._previousSwap.overlaps=YR(R,t,n),this._previousSwap.drag=C.drag,this._previousSwap.delta=l?r.x:r.y,{previousIndex:b,currentIndex:o}}enter(i,t,n,r){const s=null==r||r<0?this._getItemIndexFromPointerPosition(i,t,n):r,o=this._activeDraggables,l=o.indexOf(i),b=i.getPlaceholderElement();let C=o[s];if(C===i&&(C=o[s+1]),!C&&(null==s||-1===s||s<o.length-1)&&this._shouldEnterAsFirstChild(t,n)&&(C=o[0]),l>-1&&o.splice(l,1),C&&!this._dragDropRegistry.isDragging(C)){const D=C.getRootElement();D.parentElement.insertBefore(b,D),o.splice(s,0,i)}else xs(this._element).appendChild(b),o.push(i);b.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables.forEach(i=>{const t=i.getRootElement();if(t){const n=this._itemPositions.find(r=>r.drag===i)?.initialTransform;t.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===i)}updateOnScroll(i,t){this._itemPositions.forEach(({clientRect:n})=>{Gy(n,i,t)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}_cacheItemPositions(){const i="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const n=t.getVisibleElement();return{drag:t,offset:0,initialTransform:n.style.transform||"",clientRect:jR(n)}}).sort((t,n)=>i?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_getItemOffsetPx(i,t,n){const r="horizontal"===this.orientation;let s=r?t.left-i.left:t.top-i.top;return-1===n&&(s+=r?t.width-i.width:t.height-i.height),s}_getSiblingOffsetPx(i,t,n){const r="horizontal"===this.orientation,s=t[i].clientRect,o=t[i+-1*n];let l=s[r?"width":"height"]*n;if(o){const b=r?"left":"top",C=r?"right":"bottom";-1===n?l-=o.clientRect[b]-s[C]:l+=s[b]-o.clientRect[C]}return l}_shouldEnterAsFirstChild(i,t){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this.orientation;if(n[0].drag!==this._activeDraggables[0]){const o=n[n.length-1].clientRect;return r?i>=o.right:t>=o.bottom}{const o=n[0].clientRect;return r?i<=o.left:t<=o.top}}_getItemIndexFromPointerPosition(i,t,n,r){const s="horizontal"===this.orientation,o=this._itemPositions.findIndex(({drag:l,clientRect:b})=>l!==i&&((!r||l!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?r.x:r.y)!==this._previousSwap.delta)&&(s?t>=Math.floor(b.left)&&t<Math.floor(b.right):n>=Math.floor(b.top)&&n<Math.floor(b.bottom))));return-1!==o&&this._sortPredicate(o,i)?o:-1}}var Ql=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e}(Ql||{}),Bo=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e}(Bo||{});class tAt{constructor(i,t,n,r,s){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Pe,this.entered=new Pe,this.exited=new Pe,this.dropped=new Pe,this.sorted=new Pe,this.receivingStarted=new Pe,this.receivingStopped=new Pe,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Ie.EMPTY,this._verticalScrollDirection=Ql.NONE,this._horizontalScrollDirection=Bo.NONE,this._stopScrollTimers=new Pe,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function $Et(e=0,i=Ty){return e<0&&(e=0),Iy(e,e,i)}(0,WH).pipe(Ui(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,l=this.autoScrollStep;this._verticalScrollDirection===Ql.UP?o.scrollBy(0,-l):this._verticalScrollDirection===Ql.DOWN&&o.scrollBy(0,l),this._horizontalScrollDirection===Bo.LEFT?o.scrollBy(-l,0):this._horizontalScrollDirection===Bo.RIGHT&&o.scrollBy(l,0)})},this.element=xs(i),this._document=n,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new cX(n),this._sortStrategy=new qEt(this.element,t),this._sortStrategy.withSortPredicate((o,l)=>this.sortPredicate(o,l,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,t,n,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(i)),this._sortStrategy.enter(i,t,n,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,t,n,r,s,o,l,b={}){this._reset(),this.dropped.next({item:i,currentIndex:t,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:s,distance:o,dropPoint:l,event:b})}withItems(i){const t=this._draggables;return this._draggables=i,i.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===i.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._sortStrategy.direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._sortStrategy.orientation=i,this}withScrollableParents(i){const t=xs(this.element);return this._scrollableElements=-1===i.indexOf(t)?[t,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,t,n,r){if(this.sortingDisabled||!this._domRect||!lX(this._domRect,.05,t,n))return;const s=this._sortStrategy.sort(i,t,n,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,t){if(this.autoScrollDisabled)return;let n,r=Ql.NONE,s=Bo.NONE;if(this._parentPositions.positions.forEach((o,l)=>{l===this._document||!o.clientRect||n||lX(o.clientRect,.05,i,t)&&([r,s]=function eAt(e,i,t,n,r){const s=bX(i,r),o=wX(i,n);let l=Ql.NONE,b=Bo.NONE;if(s){const C=e.scrollTop;s===Ql.UP?C>0&&(l=Ql.UP):e.scrollHeight-C>e.clientHeight&&(l=Ql.DOWN)}if(o){const C=e.scrollLeft;"rtl"===t?o===Bo.RIGHT?C<0&&(b=Bo.RIGHT):e.scrollWidth+C>e.clientWidth&&(b=Bo.LEFT):o===Bo.LEFT?C>0&&(b=Bo.LEFT):e.scrollWidth-C>e.clientWidth&&(b=Bo.RIGHT)}return[l,b]}(l,o.clientRect,this._sortStrategy.direction,i,t),(r||s)&&(n=l))}),!r&&!s){const{width:o,height:l}=this._viewportRuler.getViewportSize(),b={width:o,height:l,top:0,right:o,bottom:l,left:0};r=bX(b,t),s=wX(b,i),n=window}n&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=n,(r||s)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=xs(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const i=xs(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(i).clientRect}_reset(){this._isDragging=!1;const i=xs(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(i,t){return null!=this._domRect&&YR(this._domRect,i,t)}_getSiblingContainerFromPosition(i,t,n){return this._siblings.find(r=>r._canReceive(i,t,n))}_canReceive(i,t,n){if(!this._domRect||!YR(this._domRect,t,n)||!this.enterPredicate(i,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,n);if(!r)return!1;const s=xs(this.element);return r===s||s.contains(r)}_startReceiving(i,t){const n=this._activeSiblings;!n.has(i)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(n.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:t}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(i);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=kk(xs(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,i))}}function bX(e,i){const{top:t,bottom:n,height:r}=e,s=.05*r;return i>=t-s&&i<=t+s?Ql.UP:i>=n-s&&i<=n+s?Ql.DOWN:Ql.NONE}function wX(e,i){const{left:t,right:n,width:r}=e,s=.05*r;return i>=t-s&&i<=t+s?Bo.LEFT:i>=n-s&&i<=n+s?Bo.RIGHT:Bo.NONE}const YC=Ec({passive:!1,capture:!0});let iAt=(()=>{class e{constructor(t,n){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Pe,this.pointerUp=new Pe,this.scroll=new Pe,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=n}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,YC)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,YC)}startDragging(t,n){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=n.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:YC}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:YC}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,o)=>{this._document.addEventListener(o,s.handler,s.options)})})}}stopDragging(t){const n=this._activeDragInstances.indexOf(t);n>-1&&(this._activeDragInstances.splice(n,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const n=[this.scroll];return t&&t!==this._document&&n.push(new ur(r=>this._ngZone.runOutsideAngular(()=>{const o=l=>{this._activeDragInstances.length&&r.next(l)};return t.addEventListener("scroll",o,!0),()=>{t.removeEventListener("scroll",o,!0)}}))),Yr(...n)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,n)=>{this._document.removeEventListener(n,t.handler,t.options)}),this._globalListeners.clear()}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ii),Jt(Ni))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const nAt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let KR=(()=>{class e{constructor(t,n,r,s){this._document=t,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(t,n=nAt){return new JEt(t,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new tAt(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Ni),Jt(ii),Jt(cu),Jt(iAt))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Xy=new ee("CDK_DRAG_PARENT"),_X=new ee("CdkDragHandle");let TX=(()=>{class e{get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._stateChanges.next(this)}constructor(t,n){this.element=t,this._parentDrag=n,this._stateChanges=new Pe,this._disabled=!1,n?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(Xy,12))};static#e=this.\u0275dir=ce({type:e,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[Wt.HasDecoratorInputTransform,"cdkDragHandleDisabled","disabled",Je]},standalone:!0,features:[fi([{provide:_X,useExisting:e}]),ln]})}return e})();const CX=new ee("CDK_DRAG_CONFIG"),SX=new ee("CdkDropList");let ZR=(()=>{class e{static#t=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}constructor(t,n,r,s,o,l,b,C,D,R,O){this.element=t,this.dropContainer=n,this._ngZone=s,this._viewContainerRef=o,this._dir=b,this._changeDetectorRef=D,this._selfHandle=R,this._parentDrag=O,this._destroyed=new Pe,this._handles=new Wr([]),this.started=new De,this.released=new De,this.ended=new De,this.entered=new De,this.exited=new De,this.dropped=new De,this.moved=new ur(L=>{const U=this._dragRef.moved.pipe(Di(X=>({source:this,pointerPosition:X.pointerPosition,event:X.event,delta:X.delta,distance:X.distance}))).subscribe(L);return()=>{U.unsubscribe()}}),this._dragRef=C.createDrag(t,{dragStartThreshold:l&&null!=l.dragStartThreshold?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&null!=l.pointerDirectionChangeThreshold?l.pointerDirectionChangeThreshold:5,zIndex:l?.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),l&&this._assignDefaults(l),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(er(1),Ui(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const n=t.rootElementSelector,r=t.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=e._dragInstances.indexOf(this);t>-1&&e._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){const n=this._handles.getValue();n.push(t),this._handles.next(n)}_removeHandle(t){const n=this._handles.getValue(),r=n.indexOf(t);r>-1&&(n.splice(r,1),this._handles.next(n))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const t=this.element.nativeElement;let n=t;this.rootElementSelector&&(n=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):xs(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const n=this._dir,r=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:Sh(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),n&&t.withDirection(n.value)}}),t.beforeStarted.pipe(er(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let n=this.element.nativeElement.parentElement;for(;n;){if(n.classList.contains("cdk-drag")){t.withParent(e._dragInstances.find(r=>r.element.nativeElement===n)?._dragRef||null);break}n=n.parentElement}})}_handleEvents(t){t.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),t.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(t){const{lockAxis:n,dragStartDelay:r,constrainPosition:s,previewClass:o,boundaryElement:l,draggingDisabled:b,rootElementSelector:C,previewContainer:D}=t;this.disabled=b??!1,this.dragStartDelay=r||0,n&&(this.lockAxis=n),s&&(this.constrainPosition=s),o&&(this.previewClass=o),l&&(this.boundaryElement=l),C&&(this.rootElementSelector=C),D&&(this.previewContainer=D)}_setupHandlesListener(){this._handles.pipe(fs(t=>{const n=t.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),Rs(t=>Yr(...t.map(n=>n._stateChanges.pipe(Ca(n))))),Ui(this._destroyed)).subscribe(t=>{const n=this._dragRef,r=t.element.nativeElement;t.disabled?n.disableHandle(r):n.enableHandle(r)})}static#e=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(SX,12),mt(Ni),mt(ii),mt(Ir),mt(CX,8),mt(Va,8),mt(KR),mt(Mn),mt(_X,10),mt(Xy,12))};static#i=this.\u0275dir=ce({type:e,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(n,r){2&n&&bi("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[Wt.None,"cdkDragData","data"],lockAxis:[Wt.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[Wt.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[Wt.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[Wt.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[Wt.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[Wt.HasDecoratorInputTransform,"cdkDragDisabled","disabled",Je],constrainPosition:[Wt.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[Wt.None,"cdkDragPreviewClass","previewClass"],previewContainer:[Wt.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[fi([{provide:Xy,useExisting:e}]),ln,tr]})}return e})();const JR=new ee("CdkDropListGroup");let aAt=0,qR=(()=>{class e{static#t=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}constructor(t,n,r,s,o,l,b){this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=s,this._dir=o,this._group=l,this._destroyed=new Pe,this.connectedTo=[],this.id="cdk-drop-list-"+aAt++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new De,this.entered=new De,this.exited=new De,this.sorted=new De,this._unsortedItems=new Set,this._dropListRef=n.createDropList(t),this._dropListRef.data=this,b&&this._assignDefaults(b),this._dropListRef.enterPredicate=(C,D)=>this.enterPredicate(C.data,D.data),this._dropListRef.sortPredicate=(C,D,R)=>this.sortPredicate(C,D.data,R.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),l&&l._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,n)=>t._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(Ca(this._dir.value),Ui(this._destroyed)).subscribe(n=>t.withDirection(n)),t.beforeStarted.subscribe(()=>{const n=Cy(this.connectedTo).map(r=>"string"==typeof r?e._dropLists.find(o=>o.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===n.indexOf(r)&&n.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=Sh(this.autoScrollStep,2),t.connectedTo(n.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),Yr(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:n,draggingDisabled:r,sortingDisabled:s,listAutoScrollDisabled:o,listOrientation:l}=t;this.disabled=r??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=o??!1,this.orientation=l||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}static#e=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(KR),mt(Mn),mt(ky),mt(Va,8),mt(JR,12),mt(CX,8))};static#i=this.\u0275dir=ce({type:e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(n,r){2&n&&(Ti("id",r.id),bi("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[Wt.None,"cdkDropListConnectedTo","connectedTo"],data:[Wt.None,"cdkDropListData","data"],orientation:[Wt.None,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[Wt.None,"cdkDropListLockAxis","lockAxis"],disabled:[Wt.HasDecoratorInputTransform,"cdkDropListDisabled","disabled",Je],sortingDisabled:[Wt.HasDecoratorInputTransform,"cdkDropListSortingDisabled","sortingDisabled",Je],enterPredicate:[Wt.None,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[Wt.None,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[Wt.HasDecoratorInputTransform,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Je],autoScrollStep:[Wt.None,"cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[fi([{provide:JR,useValue:void 0},{provide:SX,useExisting:e}]),ln]})}return e})(),dAt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[KR],imports:[du]})}return e})();function uAt(e,i){}class $C{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let EX=(()=>{class e extends aC{constructor(t,n,r,s,o,l,b,C){super(),this._elementRef=t,this._focusTrapFactory=n,this._config=s,this._interactivityChecker=o,this._ngZone=l,this._overlayRef=b,this._focusMonitor=C,this._platform=me(ir),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=me(Mn),this.attachDomPortal=D=>{this._portalOutlet.hasAttached();const R=this._portalOutlet.attachDomPortal(D);return this._contentAttached(),R},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const n=this._ariaLabelledByQueue.indexOf(t);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),n}attachTemplatePortal(t){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(n)}_focusByCssSelector(t,n){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,n)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let n=null;if("string"==typeof t?n=this._document.querySelector(t):"boolean"==typeof t?n=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(n=t),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=HT(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,n=HT();return t===n||t.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=HT()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(zk),mt(Ni,8),mt($C),mt(KT),mt(ii),mt(uC),mt(Xl))};static#e=this.\u0275cmp=$e({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(1&n&&Mi(lu,7),2&n){let s;Be(s=Ve())&&(r._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){2&n&&Ti("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[hi,Vi],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){1&n&&Gt(0,uAt,0,0,"ng-template",0)},dependencies:[lu],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return e})();class tP{constructor(i,t){this.overlayRef=i,this.config=t,this.closed=new Pe,this.disableClose=t.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!io(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(i,t){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(i),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",t=""){return this.overlayRef.updateSize({width:i,height:t}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}}const AX=new ee("DialogScrollStrategy",{providedIn:"root",factory:()=>{const e=me(ys);return()=>e.scrollStrategies.block()}}),hAt=new ee("DialogData"),fAt=new ee("DefaultDialogConfig");let pAt=0,DX=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,n,r,s,o,l){this._overlay=t,this._injector=n,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Pe,this._afterOpenedAtThisLevel=new Pe,this._ariaHiddenElements=new Map,this.afterAllClosed=Dg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ca(void 0))),this._scrollStrategy=l}open(t,n){(n={...this._defaultOptions||new $C,...n}).id=n.id||"cdk-dialog-"+pAt++,n.id&&this.getDialogById(n.id);const s=this._getOverlayConfig(n),o=this._overlay.create(s),l=new tP(o,n),b=this._attachContainer(o,l,n);return l.containerInstance=b,this._attachDialogContent(t,l,b,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){eP(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(n=>n.id===t)}ngOnDestroy(){eP(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),eP(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const n=new qg({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(n.backdropClass=t.backdropClass),n}_attachContainer(t,n,r){const s=r.injector||r.viewContainerRef?.injector,o=[{provide:$C,useValue:r},{provide:tP,useValue:n},{provide:uC,useValue:t}];let l;r.container?"function"==typeof r.container?l=r.container:(l=r.container.type,o.push(...r.container.providers(r))):l=EX;const b=new Zg(l,r.viewContainerRef,is.create({parent:s||this._injector,providers:o}),r.componentFactoryResolver);return t.attach(b).instance}_attachDialogContent(t,n,r,s){if(t instanceof fr){const o=this._createInjector(s,n,r,void 0);let l={$implicit:s.data,dialogRef:n};s.templateContext&&(l={...l,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new ou(t,null,l,o))}else{const o=this._createInjector(s,n,r,this._injector),l=r.attachComponentPortal(new Zg(t,s.viewContainerRef,o,s.componentFactoryResolver));n.componentRef=l,n.componentInstance=l.instance}}_createInjector(t,n,r,s){const o=t.injector||t.viewContainerRef?.injector,l=[{provide:hAt,useValue:t.data},{provide:tP,useValue:n}];return t.providers&&("function"==typeof t.providers?l.push(...t.providers(n,t,r)):l.push(...t.providers)),t.direction&&(!o||!o.get(Va,null,{optional:!0}))&&l.push({provide:Va,useValue:{value:t.direction,change:vi()}}),is.create({parent:o||s,providers:l})}_removeOpenDialog(t,n){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const n=t.parentElement.children;for(let r=n.length-1;r>-1;r--){const s=n[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ys),Jt(is),Jt(fAt,8),Jt(e,12),Jt(dC),Jt(AX))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eP(e,i){let t=e.length;for(;t--;)i(e[t])}let gAt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[DX],imports:[tm,Jg,_H,Jg]})}return e})();function vAt(e,i){}class iP{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const nP="mdc-dialog--open",MX="mdc-dialog--opening",IX="mdc-dialog--closing";let kX=(()=>{class e extends EX{constructor(t,n,r,s,o,l,b,C,D){super(t,n,r,s,o,l,b,D),this._animationMode=C,this._animationStateChanged=new De,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?PX(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?PX(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(RX,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(MX,nP)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(nP),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(nP),this._animationsEnabled?(this._hostElement.style.setProperty(RX,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(IX)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(MX,IX)}_waitForAnimationToComplete(t,n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const n=super.attachComponentPortal(t);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(zk),mt(Ni,8),mt(iP),mt(KT),mt(ii),mt(uC),mt(Nr,8),mt(Xl))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,r){2&n&&(Jc("id",r._config.id),Ti("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),bi("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[hi,Vi],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(q(0,"div",0)(1,"div",1),Gt(2,vAt,0,0,"ng-template",2),et()())},dependencies:[lu],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return e})();const RX="--mat-dialog-transition-duration";function PX(e){return null==e?null:"number"==typeof e?e:e.endsWith("ms")?Sh(e.substring(0,e.length-2)):e.endsWith("s")?1e3*Sh(e.substring(0,e.length-1)):"0"===e?0:null}var QC=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(QC||{});class Lh{constructor(i,t,n){this._ref=i,this._containerInstance=n,this._afterOpened=new Pe,this._beforeClosed=new Pe,this._state=QC.OPEN,this.disableClose=t.disableClose,this.id=i.id,i.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(In(r=>"opened"===r.state),er(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(In(r=>"closed"===r.state),er(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Yr(this.backdropClick(),this.keydownEvents().pipe(In(r=>27===r.keyCode&&!this.disableClose&&!io(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),FX(this,"keydown"===r.type?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(In(t=>"closing"===t.state),er(1)).subscribe(t=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=QC.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let t=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?t.left(i.left):t.right(i.right):t.centerHorizontally(),i&&(i.top||i.bottom)?i.top?t.top(i.top):t.bottom(i.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",t=""){return this._ref.updateSize(i,t),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=QC.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function FX(e,i,t){return e._closeInteractionType=i,e.close(t)}const KC=new ee("MatMdcDialogData"),bAt=new ee("mat-mdc-dialog-default-options"),OX=new ee("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const e=me(ys);return()=>e.scrollStrategies.block()}});let _At=0,lm=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,n,r,s,o,l,b,C){this._overlay=t,this._defaultOptions=s,this._scrollStrategy=o,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Pe,this._afterOpenedAtThisLevel=new Pe,this.dialogConfigClass=iP,this.afterAllClosed=Dg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ca(void 0))),this._dialog=n.get(DX),this._dialogRefConstructor=Lh,this._dialogContainerType=kX,this._dialogDataToken=KC}open(t,n){let r;(n={...this._defaultOptions||new iP,...n}).id=n.id||"mat-mdc-dialog-"+_At++,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:$C,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(o,l,b)=>(r=new this._dialogRefConstructor(o,n,b),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:b},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=s.componentRef,r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(n=>n.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let n=t.length;for(;n--;)t[n].close()}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ys),Jt(is),Jt(jf,8),Jt(bAt,8),Jt(OX),Jt(e,12),Jt(dC),Jt(Nr,8))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),TAt=0,dv=(()=>{class e{constructor(t,n,r){this.dialogRef=t,this._elementRef=n,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=NX(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const n=t._matDialogClose||t._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(t){FX(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lh,8),mt(si),mt(lm))};static#e=this.\u0275dir=ce({type:e,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,r){1&n&&Vt("click",function(o){return r._onButtonClick(o)}),2&n&&Ti("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[Wt.None,"aria-label","ariaLabel"],type:"type",dialogResult:[Wt.None,"mat-dialog-close","dialogResult"],_matDialogClose:[Wt.None,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[tr]})}return e})(),LX=(()=>{class e{constructor(t,n,r){this._dialogRef=t,this._elementRef=n,this._dialog=r}ngOnInit(){this._dialogRef||(this._dialogRef=NX(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lh,8),mt(si),mt(lm))};static#e=this.\u0275dir=ce({type:e,standalone:!0})}return e})(),rP=(()=>{class e extends LX{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+TAt++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,r){2&n&&Jc("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[hi]})}return e})(),jy=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0})}return e})(),Yy=(()=>{class e extends LX{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wn(e)))(r||e)}})();static#e=this.\u0275dir=ce({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,r){2&n&&bi("mat-mdc-dialog-actions-align-start","start"===r.align)("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"},standalone:!0,features:[hi]})}return e})();function NX(e,i){let t=e.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?i.find(n=>n.id===t.id):null}let CAt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[lm],imports:[gAt,tm,Jg,Zi,Zi]})}return e})(),SAt=(()=>{class e{constructor(t,n){this.dialogRef=t,this.data=n,this.localEcl="",this.localEcl=n.ecl}onNoClick(){this.dialogRef.close()}eclChanged(t){this.data.ecl=t?.detail[0]}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lh),mt(KC))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-ecl-builder-dialog"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"full-height"],["apiurl","https://snowstorm.ihtsdotools.org/snowstorm/snomed-ct","branch","MAIN/2023-01-31","v-on:eclOutput","eclChange",3,"eclOutput","eclstring"],["mat-dialog-actions","",1,"actions"],["mat-flat-button","","color","accent","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(n,r){1&n&&(q(0,"h1",0),ut(1,"ECL Builder"),et(),q(2,"div",1)(3,"snomed-ecl-builder",2),Vt("eclOutput",function(o){return r.eclChanged(o)}),et()(),q(4,"div",3)(5,"button",4),ut(6,"Ok"),et()()),2&n&&(ot(3),mh("eclstring",r.localEcl),ot(2),xt("mat-dialog-close",r.data))},dependencies:[Ea,dv,rP,Yy,jy],styles:[".full-height[_ngcontent-%COMP%]{height:78%}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]})}return e})();const VX=new ee("CdkAccordion");let EAt=0,AAt=(()=>{class e{get expanded(){return this._expanded}set expanded(t){this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}constructor(t,n,r){this.accordion=t,this._changeDetectorRef=n,this._expansionDispatcher=r,this._openCloseAllSubscription=Ie.EMPTY,this.closed=new De,this.opened=new De,this.destroyed=new De,this.expandedChange=new De,this.id="cdk-accordion-child-"+EAt++,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,o)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===o&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(VX,12),mt(Mn),mt(_k))};static#e=this.\u0275dir=ce({type:e,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[Wt.HasDecoratorInputTransform,"expanded","expanded",Je],disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Je]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[fi([{provide:VX,useValue:void 0}]),ln]})}return e})(),DAt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({})}return e})();const MAt=["body"],IAt=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],kAt=["mat-expansion-panel-header","*","mat-action-row"];function RAt(e,i){}const PAt=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],FAt=["mat-panel-title","mat-panel-description","*"];function OAt(e,i){1&e&&(q(0,"span",1),fl(),q(1,"svg",2),ye(2,"path",3),et()()),2&e&&xt("@indicatorRotate",Ct()._getExpandedState())}const UX=new ee("MAT_ACCORDION"),zX="225ms cubic-bezier(0.4,0.0,0.2,1)",GX={indicatorRotate:mr("indicatorRotate",[kn("collapsed, void",qe({transform:"rotate(0deg)"})),kn("expanded",qe({transform:"rotate(180deg)"})),on("expanded <=> collapsed, void => collapsed",sn(zX))]),bodyExpansion:mr("bodyExpansion",[kn("collapsed, void",qe({height:"0px",visibility:"hidden"})),kn("expanded",qe({height:"*",visibility:""})),on("expanded <=> collapsed, void => collapsed",sn(zX))])},HX=new ee("MAT_EXPANSION_PANEL");let LAt=(()=>{class e{constructor(t,n){this._template=t,this._expansionPanel=n}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fr),mt(HX,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}return e})(),NAt=0;const WX=new ee("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let XX=(()=>{class e extends AAt{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,n,r,s,o,l,b){super(t,n,r),this._viewContainerRef=s,this._animationMode=l,this._hideToggle=!1,this.afterExpand=new De,this.afterCollapse=new De,this._inputChanges=new Pe,this._headerId="mat-expansion-panel-header-"+NAt++,this.accordion=t,this._document=o,this._animationsDisabled="NoopAnimations"===l,b&&(this.hideToggle=b.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Ca(null),In(()=>this.expanded&&!this._portal),er(1)).subscribe(()=>{this._portal=new ou(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,n=this._body.nativeElement;return t===n||n.contains(t)}return!1}_animationStarted(t){!jX(t)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(t){jX(t)||("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static#t=this.\u0275fac=function(n){return new(n||e)(mt(UX,12),mt(Mn),mt(_k),mt(Ir),mt(Ni),mt(Nr,8),mt(WX,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-expansion-panel"]],contentQueries:function(n,r,s){if(1&n&&An(s,LAt,5),2&n){let o;Be(o=Ve())&&(r._lazyContent=o.first)}},viewQuery:function(n,r){if(1&n&&Mi(MAt,5),2&n){let s;Be(s=Ve())&&(r._body=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(n,r){2&n&&bi("mat-expanded",r.expanded)("_mat-animation-noopable",r._animationsDisabled)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[Wt.HasDecoratorInputTransform,"hideToggle","hideToggle",Je],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[fi([{provide:UX,useValue:void 0},{provide:HX,useExisting:e}]),ln,hi,tr,Vi],ngContentSelectors:kAt,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(n,r){if(1&n){const s=pe();Kn(IAt),xi(0),q(1,"div",1,0),Vt("@bodyExpansion.start",function(l){return Ut(s),zt(r._animationStarted(l))})("@bodyExpansion.done",function(l){return Ut(s),zt(r._animationDone(l))}),q(3,"div",2),xi(4,1),Gt(5,RAt,0,0,"ng-template",3),et(),xi(6,2),et()}2&n&&(ot(),xt("@bodyExpansion",r._getExpandedState())("id",r.id),Ti("aria-labelledby",r._headerId),ot(4),xt("cdkPortalOutlet",r._portal))},dependencies:[lu],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[GX.bodyExpansion]},changeDetection:0})}return e})();function jX(e){return"void"===e.fromState}let BAt=(()=>{class e{constructor(t,n,r,s,o,l,b){this.panel=t,this._element=n,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=l,this._parentChangeSubscription=Ie.EMPTY,this.tabIndex=0;const C=t.accordion?t.accordion._stateChanges.pipe(In(D=>!(!D.hideToggle&&!D.togglePosition))):Jo;this.tabIndex=parseInt(b||"")||0,this._parentChangeSubscription=Yr(t.opened,t.closed,C,t._inputChanges.pipe(In(D=>!!(D.hideToggle||D.disabled||D.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(In(()=>t._containsFocus())).subscribe(()=>r.focusVia(n,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:io(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,n){t?this._focusMonitor.focusVia(this._element,t,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(XX,1),mt(si),mt(Xl),mt(Mn),mt(WX,8),mt(Nr,8),ml("tabindex"))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(n,r){1&n&&Vt("click",function(){return r._toggle()})("keydown",function(o){return r._keydown(o)}),2&n&&(Ti("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),Ms("height",r._getHeaderHeight()),bi("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[Wt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:jr(t)]},standalone:!0,features:[ln,Vi],ngContentSelectors:FAt,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(n,r){1&n&&(Kn(PAt),q(0,"span",0),xi(1),xi(2,1),xi(3,2),et(),Gt(4,OAt,3,1,"span",1)),2&n&&(bi("mat-content-hide-toggle",!r._showToggle()),ot(4),xn(4,r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color);display:inline-block;display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color);display:none;display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[GX.indicatorRotate]},changeDetection:0})}return e})(),VAt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"],standalone:!0})}return e})(),UAt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0})}return e})(),zAt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Zi,DAt,Jg]})}return e})();function GAt(e,i){if(1&e){const t=pe();q(0,"mat-option",2),Vt("click",function(){return Ut(t),zt(Ct().optionClicked())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),He(" ",t.display," ")}}let YX=(()=>{class e{constructor(t){this.terminologyService=t,this.selectionChange=new De}ngOnInit(){this.terminologyService.expandValueSet(this.binding.ecl,"").subscribe(t=>this.options=t.expansion.contains)}optionClicked(){this.selectionChange.emit(this.selectedOptions)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(da))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-dropdown-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},decls:7,vars:5,consts:[[3,"ngModelChange","multiple","ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"]],template:function(n,r){1&n&&(q(0,"mat-form-field")(1,"mat-label"),ut(2),et(),q(3,"mat-select",0),_a("ngModelChange",function(o){return Ba(r.selectedOptions,o)||(r.selectedOptions=o),o}),Gt(4,GAt,2,2,"mat-option",1),et(),q(5,"mat-hint"),ut(6),et()()),2&n&&(ot(2),Xe(r.binding.title),ot(),xt("multiple","Select (Multiple)"==r.binding.type),wa("ngModel",r.selectedOptions),ot(),xt("ngForOf",r.options),ot(2),Xe(r.binding.note))},dependencies:[vs,Sl,tl,Oh,su,No,lv,$l],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}return e})();const HAt=["input"],WAt=["formField"],XAt=["*"];let $X=0;class QX{constructor(i,t){this.source=i,this.value=t}}const jAt={provide:ha,useExisting:Sn(()=>sP),multi:!0},KX=new ee("MatRadioGroup"),YAt=new ee("mat-radio-default-options",{providedIn:"root",factory:function $At(){return{color:"accent"}}});let sP=(()=>{class e{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=t,this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+$X++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new De}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new QX(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Mn))};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-radio-group"]],contentQueries:function(n,r,s){if(1&n&&An(s,ZC,5),2&n){let o;Be(o=Ve())&&(r._radios=o)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Je],required:[Wt.HasDecoratorInputTransform,"required","required",Je]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[fi([jAt,{provide:KX,useExisting:e}]),ln]})}return e})(),ZC=(()=>{class e{get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,r,s,o,l,b,C){this._elementRef=n,this._changeDetector=r,this._focusMonitor=s,this._radioDispatcher=o,this._providerOverride=b,this._uniqueId="mat-radio-"+ ++$X,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new De,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===l,C&&(this.tabIndex=jr(C,0))}focus(t,n){n?this._focusMonitor.focusVia(this._inputElement,n,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,n)=>{t!==this.id&&n===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new QX(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let n;if(n=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,n!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",n+""),this._previousTabIndex=n)}}static#t=this.\u0275fac=function(n){return new(n||e)(mt(KX,8),mt(si),mt(Mn),mt(Xl),mt(_k),mt(Nr,8),mt(YAt,8),ml("tabindex"))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-radio-button"]],viewQuery:function(n,r){if(1&n&&(Mi(HAt,5),Mi(WAt,7,si)),2&n){let s;Be(s=Ve())&&(r._inputElement=s.first),Be(s=Ve())&&(r._rippleTrigger=s.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(n,r){1&n&&Vt("focus",function(){return r._inputElement.nativeElement.focus()}),2&n&&(Ti("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),bi("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[Wt.None,"aria-label","ariaLabel"],ariaLabelledby:[Wt.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[Wt.None,"aria-describedby","ariaDescribedby"],disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Je],tabIndex:[Wt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:jr(t)],checked:[Wt.HasDecoratorInputTransform,"checked","checked",Je],value:"value",labelPosition:"labelPosition",disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Je],required:[Wt.HasDecoratorInputTransform,"required","required",Je],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[ln,Vi],ngContentSelectors:XAt,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(n,r){if(1&n){const s=pe();Kn(),q(0,"div",2,0)(2,"div",3)(3,"div",4),Vt("click",function(l){return Ut(s),zt(r._onTouchTargetClick(l))}),et(),q(4,"input",5,1),Vt("change",function(l){return Ut(s),zt(r._onInputInteraction(l))}),et(),q(6,"div",6),ye(7,"div",7)(8,"div",8),et(),q(9,"div",9),ye(10,"div",10),et()(),q(11,"label",11),xi(12),et()()}2&n&&(xt("labelPosition",r.labelPosition),ot(2),bi("mdc-radio--disabled",r.disabled),ot(2),xt("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),Ti("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),ot(5),xt("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),ot(2),xt("for",r.inputId))},dependencies:[ru,$k],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return e})(),QAt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Zi,td,Qg,ZC,Zi]})}return e})();function KAt(e,i){if(1&e){const t=pe();q(0,"mat-radio-button",3),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct().optionSelected(r))}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t.code),ot(),He(" ",t.display," ")}}let ZX=(()=>{class e{constructor(t){this.terminologyService=t,this.selectionChange=new De}ngOnInit(){this.terminologyService.expandValueSet(this.binding.ecl,"").subscribe(t=>this.options=t.expansion.contains)}optionSelected(t){this.selectionChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(da))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-radios-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},decls:6,vars:3,consts:[["aria-label","Select an option",1,"radio-group"],["class","radio-button",3,"value","click",4,"ngFor","ngForOf"],["id","hint"],[1,"radio-button",3,"click","value"]],template:function(n,r){1&n&&(q(0,"div"),ut(1),et(),q(2,"mat-radio-group",0),Gt(3,KAt,2,2,"mat-radio-button",1),et(),q(4,"div",2),ut(5),et()),2&n&&(ot(),Xe(r.binding.title),ot(2),xt("ngForOf",r.options),ot(2),Xe(r.binding.note))},dependencies:[vs,sP,ZC],styles:["#hint[_ngcontent-%COMP%]{font-size:12px}.radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0;align-items:flex-start}.radio-button[_ngcontent-%COMP%]{margin:0}"]})}return e})(),JX=(()=>{class e{constructor(t){this.terminologyService=t,this.textChange=new De,this.text=""}ngOnInit(){}onTextChange(t){this.text=t,this.textChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(da))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-textbox-binding"]],inputs:{binding:"binding"},outputs:{textChange:"textChange"},decls:6,vars:3,consts:[[1,"example-full-width"],["matInput","","placeholder","Enter text...",3,"ngModelChange","ngModel"]],template:function(n,r){1&n&&(q(0,"mat-form-field",0)(1,"mat-label"),ut(2),et(),q(3,"textarea",1),_a("ngModelChange",function(o){return Ba(r.text,o)||(r.text=o),o}),Vt("ngModelChange",function(o){return r.onTextChange(o)}),et(),q(4,"mat-hint"),ut(5),et()()),2&n&&(ot(2),Xe(r.binding.title),ot(),wa("ngModel",r.text),ot(2),Xe(r.binding.note))},dependencies:[Sl,tl,Oh,yu,Cl,No,$l],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}return e})();const ZAt=["input"],JAt=["label"],qAt=["*"],t2t=new ee("mat-checkbox-default-options",{providedIn:"root",factory:qX});function qX(){return{color:"accent",clickAction:"check-indeterminate"}}var no=function(e){return e[e.Init=0]="Init",e[e.Checked=1]="Checked",e[e.Unchecked=2]="Unchecked",e[e.Indeterminate=3]="Indeterminate",e}(no||{});const e2t={provide:ha,useExisting:Sn(()=>$y),multi:!0};class i2t{}let n2t=0;const tj=qX();let $y=(()=>{class e{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const n=new i2t;return n.source=this,n.checked=t,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,r,s,o,l){this._elementRef=t,this._changeDetectorRef=n,this._ngZone=r,this._animationMode=o,this._options=l,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new De,this.indeterminateChange=new De,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=no.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||tj,this.color=this._options.color||tj.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++n2t}ngOnChanges(t){t.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const n=t!=this._indeterminate;this._indeterminate=t,n&&(this._transitionCheckState(this._indeterminate?no.Indeterminate:this.checked?no.Checked:no.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.required&&!0!==t.value?{required:!0}:null}registerOnValidatorChange(t){this._validatorChangeFn=t}_transitionCheckState(t){let n=this._currentCheckState,r=this._getAnimationTargetElement();if(n!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?no.Checked:no.Unchecked),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,n){if("NoopAnimations"===this._animationMode)return"";switch(t){case no.Init:if(n===no.Checked)return this._animationClasses.uncheckedToChecked;if(n==no.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case no.Unchecked:return n===no.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case no.Checked:return n===no.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case no.Indeterminate:return n===no.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const n=this._inputElement;n&&(n.nativeElement.indeterminate=t)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(Mn),mt(ii),ml("tabindex"),mt(Nr,8),mt(t2t,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-checkbox"]],viewQuery:function(n,r){if(1&n&&(Mi(ZAt,5),Mi(JAt,5),Mi(ru,5)),2&n){let s;Be(s=Ve())&&(r._inputElement=s.first),Be(s=Ve())&&(r._labelElement=s.first),Be(s=Ve())&&(r.ripple=s.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(n,r){2&n&&(Jc("id",r.id),Ti("tabindex",null)("aria-label",null)("aria-labelledby",null),Ul(r.color?"mat-"+r.color:"mat-accent"),bi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{ariaLabel:[Wt.None,"aria-label","ariaLabel"],ariaLabelledby:[Wt.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[Wt.None,"aria-describedby","ariaDescribedby"],id:"id",required:[Wt.HasDecoratorInputTransform,"required","required",Je],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[Wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Je],tabIndex:[Wt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?void 0:jr(t)],color:"color",checked:[Wt.HasDecoratorInputTransform,"checked","checked",Je],disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Je],indeterminate:[Wt.HasDecoratorInputTransform,"indeterminate","indeterminate",Je]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[fi([e2t,{provide:Qs,useExisting:e,multi:!0}]),ln,tr,Vi],ngContentSelectors:qAt,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(n,r){if(1&n){const s=pe();Kn(),q(0,"div",3),Vt("click",function(l){return Ut(s),zt(r._preventBubblingFromLabel(l))}),q(1,"div",4,0)(3,"div",5),Vt("click",function(){return Ut(s),zt(r._onTouchTargetClick())}),et(),q(4,"input",6,1),Vt("blur",function(){return Ut(s),zt(r._onBlur())})("click",function(){return Ut(s),zt(r._onInputClick())})("change",function(l){return Ut(s),zt(r._onInteractionEvent(l))}),et(),ye(6,"div",7),q(7,"div",8),fl(),q(8,"svg",9),ye(9,"path",10),et(),Q0(),ye(10,"div",11),et(),ye(11,"div",12),et(),q(12,"label",13,2),xi(14),et()()}if(2&n){const s=Ki(2);xt("labelPosition",r.labelPosition),ot(4),bi("mdc-checkbox--selected",r.checked),xt("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.disabled?-1:r.tabIndex),Ti("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("name",r.name)("value",r.value),ot(7),xt("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),ot(),xt("for",r.inputId)}},dependencies:[ru,$k],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return e})(),a2t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[$y,Zi,Zi]})}return e})();function o2t(e,i){if(1&e){const t=pe();q(0,"mat-checkbox",3),Vt("click",function(){return Ut(t),zt(Ct().optionClicked())}),ut(1),et()}if(2&e){const t=i.$implicit;mh("formControlName",t.display),ot(),He(" ",t.display," ")}}let ej=(()=>{class e{constructor(t,n){this.terminologyService=t,this._formBuilder=n,this.selectionChange=new De,this.checkboxes=this._formBuilder.group([]),this.present={display:"Known present (qualifier value)",system:"http://snomed.info/sct",code:"410515003"},this.absent={display:"Known absent (qualifier value)",system:"http://snomed.info/sct",code:"410516002"}}ngOnInit(){this.options=[{display:this.binding.title}],this.options?.forEach(t=>{this.checkboxes.addControl(t.display,this._formBuilder.control(!1))})}optionClicked(){let t=[];t.push({title:this.binding.title,code:this.binding.ecl,value:this.checkboxes.value[this.binding.title]?this.present:this.absent}),this.selectionChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(da),mt(BC))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-checkbox-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},decls:4,vars:3,consts:[[1,"check-group",3,"formGroup"],["class","check","labelPosition","before",3,"formControlName","click",4,"ngFor","ngForOf"],[1,"hint"],["labelPosition","before",1,"check",3,"click","formControlName"]],template:function(n,r){1&n&&(q(0,"form",0),Gt(1,o2t,2,2,"mat-checkbox",1),q(2,"span",2),ut(3),et()()),2&n&&(xt("formGroup",r.checkboxes),ot(),xt("ngForOf",r.options),ot(2),Xe(r.binding.note))},dependencies:[vs,rv,No,rm,ud,sv,$y],styles:["#hint[_ngcontent-%COMP%]{font-size:12px}.check-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0;align-items:flex-start}.check[_ngcontent-%COMP%]{margin:0}.hint[_ngcontent-%COMP%]{font-size:.8rem;color:#999;padding:0;margin:0 0 0 5px}"]})}return e})(),ij=(()=>{class e{constructor(t){this.terminologyService=t,this.textChange=new De,this.value=0}ngOnInit(){}onValueChange(t){this.value=t,this.textChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(da))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-integer-binding"]],inputs:{binding:"binding"},outputs:{textChange:"textChange"},decls:6,vars:3,consts:[[1,"example-full-width"],["matInput","","type","number","placeholder","Enter integer value...","pattern","^-?[0-9]\\d*$","title","Only integer values are allowed",3,"ngModelChange","ngModel"]],template:function(n,r){1&n&&(q(0,"mat-form-field",0)(1,"mat-label"),ut(2),et(),q(3,"input",1),_a("ngModelChange",function(o){return Ba(r.value,o)||(r.value=o),o}),Vt("ngModelChange",function(o){return r.onValueChange(o)}),et(),q(4,"mat-hint"),ut(5),et()()),2&n&&(ot(2),Xe(r.binding.title),ot(),wa("ngModel",r.value),ot(2),Xe(r.binding.note))},dependencies:[Sl,tl,Oh,yu,Cl,FC,No,NC,$l],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}return e})(),nj=(()=>{class e{constructor(t){this.terminologyService=t,this.textChange=new De,this.value=0}ngOnInit(){}onValueChange(t){this.value=t,this.textChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(da))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-decimal-binding"]],inputs:{binding:"binding"},outputs:{textChange:"textChange"},decls:6,vars:3,consts:[[1,"example-full-width"],["matInput","","type","number","placeholder","Enter decimal value...","pattern","^-?[0-9]*\\.?[0-9]+$","title","Only decimal values are allowed","step","any",3,"ngModelChange","ngModel"]],template:function(n,r){1&n&&(q(0,"mat-form-field",0)(1,"mat-label"),ut(2),et(),q(3,"input",1),_a("ngModelChange",function(o){return Ba(r.value,o)||(r.value=o),o}),Vt("ngModelChange",function(o){return r.onValueChange(o)}),et(),q(4,"mat-hint"),ut(5),et()()),2&n&&(ot(2),Xe(r.binding.title),ot(),wa("ngModel",r.value),ot(2),Xe(r.binding.note))},dependencies:[Sl,tl,Oh,yu,Cl,FC,No,NC,$l],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}return e})();function l2t(e,i){if(1&e){const t=pe();q(0,"mat-checkbox",3),Vt("click",function(){return Ut(t),zt(Ct().optionClicked())}),ut(1),et()}if(2&e){const t=i.$implicit;mh("formControlName",t.display),ot(),He(" ",t.display," ")}}let rj=(()=>{class e{constructor(t,n){this.terminologyService=t,this._formBuilder=n,this.selectionChange=new De,this.checkboxes=this._formBuilder.group([]),this.present={display:"Known present (qualifier value)",system:"http://snomed.info/sct",code:"410515003"},this.absent={display:"Known absent (qualifier value)",system:"http://snomed.info/sct",code:"410516002"}}ngOnInit(){this.terminologyService.expandValueSet(this.binding.ecl,"").subscribe(t=>{this.options=t.expansion.contains,this.options?.forEach(n=>{this.checkboxes.addControl(n.display,this._formBuilder.control(!1))})})}optionClicked(){let t=[];this.options?.forEach(n=>{t.push({code:n,value:this.checkboxes.value[n.display]?this.present:this.absent})}),this.selectionChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(da),mt(BC))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-checkbox-multiple-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},decls:6,vars:4,consts:[[1,"check-group",3,"formGroup"],["class","check","labelPosition","after",3,"formControlName","click",4,"ngFor","ngForOf"],[1,"hint"],["labelPosition","after",1,"check",3,"click","formControlName"]],template:function(n,r){1&n&&(q(0,"div"),ut(1),et(),q(2,"form",0),Gt(3,l2t,2,2,"mat-checkbox",1),q(4,"span",2),ut(5),et()()),2&n&&(ot(),Xe(r.binding.title),ot(),xt("formGroup",r.checkboxes),ot(),xt("ngForOf",r.options),ot(2),Xe(r.binding.note))},dependencies:[vs,rv,No,rm,ud,sv,$y],styles:["#hint[_ngcontent-%COMP%]{font-size:12px}.check-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0;align-items:flex-start}.check[_ngcontent-%COMP%]{margin:0}.hint[_ngcontent-%COMP%]{font-size:.8rem;color:#999;padding:0;margin:0 0 0 5px}"]})}return e})();const c2t=["newPanel"],d2t=()=>({standalone:!0}),aP=()=>({});function u2t(e,i){1&e&&(q(0,"mat-panel-description"),ut(1," Click to add new binding "),et())}function h2t(e,i){if(1&e){const t=pe();q(0,"button",46),Vt("click",function(){let r;return Ut(t),zt(null==(r=Ct().newBindingForm.get("title"))?null:r.reset())}),q(1,"mat-icon"),ut(2,"close"),et()()}}function f2t(e,i){1&e&&(q(0,"span"),ut(1,"Restrict to Observables"),et())}function m2t(e,i){1&e&&(q(0,"span"),ut(1,"Open to Observables + Findings + Procedures + Situations"),et())}function p2t(e,i){if(1&e&&(q(0,"mat-option",47),ut(1),et()),2&e){const t=i.$implicit;xt("value",t),ot(),He(" ",t," ")}}function g2t(e,i){if(1&e){const t=pe();q(0,"button",46),Vt("click",function(){let r;return Ut(t),zt(null==(r=Ct(2).newBindingForm.get("ecl"))?null:r.reset())}),q(1,"mat-icon"),ut(2,"close"),et()()}}function v2t(e,i){if(1&e){const t=pe();q(0,"mat-form-field",14)(1,"mat-label"),ut(2,"Answer options: ECL Expression"),et(),ye(3,"input",48),q(4,"a",49),Vt("click",function(){let r;Ut(t);const s=Ct();return zt(s.openEclBuilder(null==(r=s.newBindingForm.get("ecl"))?null:r.value,"ecl"))}),ut(5,"ECL Builder"),et(),Gt(6,g2t,3,0,"button",16),q(7,"mat-error"),ut(8),et()()}if(2&e){let t;const n=Ct();ot(6),xt("ngIf",null==(t=n.newBindingForm.get("ecl"))?null:t.value),ot(2),Xe(n.getErrorMessage("ecl"))}}function x2t(e,i){1&e&&(q(0,"span"),ut(1,"Restrict to Observables"),et())}function y2t(e,i){1&e&&(q(0,"span"),ut(1,"Open to Observables + Findings + Procedures"),et())}function b2t(e,i){if(1&e){const t=pe();q(0,"mat-form-field",14),ye(1,"app-autocomplete-binding",50),q(2,"a",19),Vt("click",function(){return Ut(t),zt(Ct().toggleCheckboxBinding())}),Gt(3,x2t,2,0,"span",10)(4,y2t,2,0,"span",10),et(),q(5,"mat-error"),ut(6),et()()}if(2&e){const t=Ct();ot(),xt("binding",t.checkboxBinding),ot(2),xt("ngIf",t.checkboxBinding.ecl===t.codeBindingAll.ecl),ot(),xt("ngIf",t.checkboxBinding.ecl!=t.codeBindingAll.ecl),ot(2),Xe(t.getErrorMessage("ecl"))}}function w2t(e,i){if(1&e){const t=pe();q(0,"button",46),Vt("click",function(){let r;return Ut(t),zt(null==(r=Ct(2).newBindingForm.get("note"))?null:r.reset())}),q(1,"mat-icon"),ut(2,"close"),et()()}}function _2t(e,i){if(1&e&&(q(0,"mat-form-field",51)(1,"mat-label"),ut(2,"Note"),et(),ye(3,"input",52),Gt(4,w2t,3,0,"button",16),q(5,"mat-error"),ut(6),et()()),2&e){let t;const n=Ct();ot(4),xt("ngIf",null==(t=n.newBindingForm.get("note"))?null:t.value),ot(2),Xe(n.getErrorMessage("note"))}}function T2t(e,i){if(1&e){const t=pe();q(0,"button",27),Vt("click",function(){return Ut(t),zt(Ct().addBinding())}),ut(1,"Add binding"),et()}}function C2t(e,i){if(1&e){const t=pe();q(0,"button",27),Vt("click",function(){Ut(t);const r=Ct();return r.addBinding(),zt(r.clearOutput())}),ut(1,"Update binding"),et()}}function S2t(e,i){if(1&e){const t=pe();q(0,"button",35),Vt("click",function(){Ut(t);const r=Ct();return zt(r.showRightContainer=!r.showRightContainer)}),ut(1),et()}if(2&e){const t=Ct();ot(),He(" ",t.showRightContainer?"Close data panel":"Open data panel"," ")}}function E2t(e,i){1&e&&(q(0,"button",53),ut(1," Download form "),et()),2&e&&(Ct(),xt("matMenuTriggerFor",Ki(69)))}function A2t(e,i){if(1&e){const t=pe();q(0,"div",54)(1,"p",55),ut(2),et(),q(3,"button",56),Vt("click",function(){return Ut(t),zt(Ct().titleEditMode=!0)}),q(4,"mat-icon"),ut(5,"edit"),et()()()}if(2&e){const t=Ct();ot(2),Xe(t.formTitle)}}function D2t(e,i){if(1&e){const t=pe();q(0,"div",54)(1,"form",57)(2,"mat-form-field")(3,"mat-label"),ut(4,"Title"),et(),q(5,"input",58),_a("ngModelChange",function(r){Ut(t);const s=Ct();return Ba(s.formTitle,r)||(s.formTitle=r),zt(r)}),Vt("ngModelChange",function(){return Ut(t),zt(Ct().refreshFhirQuestionnaire())}),et(),q(6,"button",46),Vt("click",function(){return Ut(t),zt(Ct().formTitle="")}),q(7,"mat-icon"),ut(8,"close"),et()()()(),q(9,"button",56),Vt("click",function(){return Ut(t),zt(Ct().titleEditMode=!1)}),q(10,"mat-icon"),ut(11,"save"),et()()()}if(2&e){const t=Ct();ot(5),wa("ngModel",t.formTitle),xt("ngModelOptions",Zo(2,d2t))}}function M2t(e,i){if(1&e){const t=pe();q(0,"app-autocomplete-binding",67),Vt("selectionChange",function(r){Ut(t);const s=Ct().$implicit;return zt(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function I2t(e,i){if(1&e){const t=pe();q(0,"app-dropdown-binding",67),Vt("selectionChange",function(r){Ut(t);const s=Ct().$implicit;return zt(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function k2t(e,i){if(1&e){const t=pe();q(0,"app-radios-binding",67),Vt("selectionChange",function(r){Ut(t);const s=Ct().$implicit;return zt(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function R2t(e,i){if(1&e&&(q(0,"span",68),ut(1),et()),2&e){const t=Ct().$implicit;ot(),Xe(t.title)}}function P2t(e,i){if(1&e){const t=pe();q(0,"app-textbox-binding",69),Vt("textChange",function(r){Ut(t);const s=Ct().$implicit;return zt(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function F2t(e,i){if(1&e){const t=pe();q(0,"app-integer-binding",69),Vt("textChange",function(r){Ut(t);const s=Ct().$implicit;return zt(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function O2t(e,i){if(1&e){const t=pe();q(0,"app-decimal-binding",69),Vt("textChange",function(r){Ut(t);const s=Ct().$implicit;return zt(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function L2t(e,i){if(1&e){const t=pe();q(0,"app-checkbox-binding",67),Vt("selectionChange",function(r){Ut(t);const s=Ct().$implicit;return zt(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function N2t(e,i){if(1&e){const t=pe();q(0,"app-checkbox-multiple-binding",67),Vt("selectionChange",function(r){Ut(t);const s=Ct().$implicit;return zt(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function B2t(e,i){if(1&e&&(q(0,"button",70)(1,"mat-icon"),ut(2,"info"),et()()),2&e){const t=Ct().$implicit;xt("matMenuTriggerFor",Ki(15))("disabled",!t.code&&!t.ecl)}}function V2t(e,i){if(1&e){const t=pe();q(0,"span",6),Vt("click",function(r){return Ut(t),zt(r.stopPropagation())}),q(1,"h4"),ut(2,"Question terminology binding"),et(),q(3,"pre"),ut(4),et()()}if(2&e){const t=Ct().$implicit;xt("disableRipple",!0),ot(4),Ko("",null==t.code?null:t.code.code," |",null==t.code?null:t.code.display,"|")}}function U2t(e,i){if(1&e){const t=pe();q(0,"span",6),Vt("click",function(r){return Ut(t),zt(r.stopPropagation())}),q(1,"h4"),ut(2,"Answer terminology binding"),et(),q(3,"pre"),ut(4),et()()}if(2&e){const t=Ct().$implicit;xt("disableRipple",!0),ot(4),Xe(t.ecl)}}function z2t(e,i){if(1&e){const t=pe();q(0,"div",59)(1,"div",60)(2,"mat-icon",61),ut(3,"drag_indicator"),et(),Gt(4,M2t,1,1,"app-autocomplete-binding",62)(5,I2t,1,1,"app-dropdown-binding",62)(6,k2t,1,1,"app-radios-binding",62)(7,R2t,2,1,"span",63)(8,P2t,1,1,"app-textbox-binding",64)(9,F2t,1,1,"app-integer-binding",64)(10,O2t,1,1,"app-decimal-binding",64)(11,L2t,1,1,"app-checkbox-binding",62)(12,N2t,1,1,"app-checkbox-multiple-binding",62)(13,B2t,3,2,"button",65),q(14,"mat-menu",null,0),Gt(16,V2t,5,3,"span",66)(17,U2t,5,2,"span",66),et(),q(18,"button",56),Vt("click",function(){const r=Ut(t).index;return zt(Ct().bindings.splice(r,1))}),q(19,"mat-icon"),ut(20,"delete"),et()(),q(21,"button",56),Vt("click",function(){const r=Ut(t).index;return zt(Ct().edit(r))}),q(22,"mat-icon"),ut(23,"edit"),et()()()()}if(2&e){const t=i.$implicit;ot(4),xt("ngIf","Autocomplete"==t.type),ot(),xt("ngIf","Select (Single)"==t.type||"Select (Multiple)"==t.type),ot(),xt("ngIf","Options"==t.type),ot(),xt("ngIf","Section header"==t.type),ot(),xt("ngIf","Text box"==t.type),ot(),xt("ngIf","Integer"==t.type),ot(),xt("ngIf","Decimal"==t.type),ot(),xt("ngIf","Checkbox"==t.type),ot(),xt("ngIf","Checkbox multiple"==t.type),ot(),xt("ngIf","Section header"!=t.type),ot(3),xt("ngIf",t.code),ot(),xt("ngIf",t.ecl)}}function G2t(e,i){if(1&e){const t=pe();q(0,"div",74)(1,"button",75),Vt("click",function(){Ut(t);const r=Ct(2);return zt(r.saveOutput(r.outputStr))}),ye(2,"mat-icon",76),et(),q(3,"button",77),Vt("click",function(){Ut(t);const r=Ct(2);return zt(r.copyOutputToClipboard(r.outputStr))}),ye(4,"mat-icon",78),et()()}}function H2t(e,i){if(1&e&&(q(0,"div",71),Gt(1,G2t,5,0,"div",72),q(2,"textarea",73),ut(3,"                        "),et()()),2&e){const t=Ct();ot(),xt("ngIf",t.showRightContainer),ot(),xt("options",Zo(4,aP))("lang","json")("innerHTML",t.responseStr,Ff)}}function W2t(e,i){if(1&e){const t=pe();q(0,"div",74)(1,"button",75),Vt("click",function(){Ut(t);const r=Ct(2);return zt(r.saveBundleOutput(r.responseBundleStr))}),ye(2,"mat-icon",76),et(),q(3,"button",77),Vt("click",function(){Ut(t);const r=Ct(2);return zt(r.copyOutputToClipboard(r.responseBundleStr))}),ye(4,"mat-icon",78),et()()}}function X2t(e,i){if(1&e&&(q(0,"div",71),Gt(1,W2t,5,0,"div",72),q(2,"textarea",73),ut(3,"                        "),et()()),2&e){const t=Ct();ot(),xt("ngIf",t.showRightContainer),ot(),xt("options",Zo(4,aP))("lang","json")("innerHTML",t.responseBundleStr,Ff)}}function j2t(e,i){if(1&e){const t=pe();q(0,"div",74)(1,"button",75),Vt("click",function(){Ut(t);const r=Ct(2);return zt(r.saveOutput(r.fhirQuestionnaireStr))}),ye(2,"mat-icon",76),et(),q(3,"button",77),Vt("click",function(){Ut(t);const r=Ct(2);return zt(r.copyOutputToClipboard(r.fhirQuestionnaireStr))}),ye(4,"mat-icon",78),et()()}}function Y2t(e,i){if(1&e&&(q(0,"div",71),Gt(1,j2t,5,0,"div",72),q(2,"textarea",73),ut(3,"                        "),et()()),2&e){const t=Ct();ot(),xt("ngIf",t.showRightContainer),ot(),xt("options",Zo(4,aP))("lang","json")("innerHTML",t.fhirQuestionnaireStr,Ff)}}let $2t=(()=>{class e{constructor(t,n,r){this.terminologyService=t,this.clipboard=n,this.dialog=r,this.formTitle="My new form",this.titleEditMode=!1,this.bindings=[],this.output={},this.outputStr="{}",this.response={},this.responseStr="{}",this.responseBundle={},this.responseBundleStr="{}",this.fhirQuestionnaire={},this.fhirQuestionnaireStr="{}",this.observableBinding={title:"Question code",type:"Autocomplete",ecl:"<< 363787002 |Observable entity (observable entity)|",value:""},this.codeBindingObservables={title:"Question code (Observables)",type:"Autocomplete",ecl:"<< 363787002 |Observable entity (observable entity)|",value:""},this.codeBindingAll={title:"Question code",type:"Autocomplete",ecl:"<< 363787002 |Observable entity (observable entity)| OR << 404684003 |Clinical finding (finding)| OR << 71388002 |Procedure (procedure)| OR << 243796009 |Situation with explicit context (situation)|",value:""},this.codeBinding=this.codeBindingAll,this.checkboxBinding=JSON.parse(JSON.stringify(this.codeBindingAll)),this.example1={title:"Appendicitis data entry form (example)",bindings:[{title:"Diagnosis (type of appendicitis)",type:"Autocomplete",ecl:"<< 74400008 |Appendicitis|",value:"",note:"An autocomplete field to select between all descendants of appendicitis."},{title:"Clinical note",type:"Text box",ecl:"74400008 |Appendicitis|",value:"",note:"A text box for entering free text clinical information."},{title:"Appendicitis type",type:"Select (Single)",ecl:"<< 196781001 |Acute appendicitis with peritonitis (disorder)|",value:"",note:"A single selection dropdown field for a shorter selection of the type of appendicitis."},{title:"Appendicitis type (M)",type:"Select (Multiple)",ecl:"<< 196781001 |Acute appendicitis with peritonitis (disorder)|",value:"",note:"A multiple selection dropdown field for a shorter selection of the type of appendicitis."},{title:"Appendicectomy type",type:"Options",ecl:"<< 174036004 |Emergency appendectomy (procedure)|",value:"",note:"A radio buttons selector for the type of appendicectomy procedure."}]},this.newBindingForm=new nv({title:new Ps("",[cd.required,cd.maxLength(50)]),code:new Ps("",[]),type:new Ps("",[cd.required]),ecl:new Ps("",[]),value:new Ps("",[]),note:new Ps("",[cd.maxLength(500)])}),this.indexInEdit=-1,this.panelOpenState=!1,this.maxSelectCount=50,this.maxOptionsCount=10,this.controlTypes=["Autocomplete","Select (Single)","Select (Multiple)","Options","Section header","Text box","Integer","Decimal","Checkbox","Checkbox multiple"].sort((s,o)=>s.localeCompare(o)),this.showRightContainer=!1}ngOnInit(){this.checkboxBinding.title=this.checkboxBinding.title.replace("Question","Checkbox")}get stateName(){return this.showRightContainer?"open":"closed"}addBinding(){var t=this;return de(function*(){if(t.newBindingForm.markAllAsTouched(),t.newBindingForm.invalid)return;const{title:n,code:r,type:s,ecl:o,value:l,note:b}=t.newBindingForm.controls;let C={title:n.value,code:r.value,type:s.value,ecl:o.value,value:l.value,note:b.value},D=!1;o.value?typeof C.type?.indexOf("Select")<"u"&&C.type?.indexOf("Select")>-1?(yield t.getEclPreview(o.value)).expansion.contains.length>t.maxSelectCount&&(D=!0,o.setErrors({selectTooManyResults:!0})):(typeof C.type?.indexOf("Options")<"u"&&C.type?.indexOf("Options")>-1||typeof C.type?.indexOf("Checkbox multiple")<"u"&&C.type?.indexOf("Checkbox multiple")>-1)&&(yield t.getEclPreview(o.value)).expansion.contains.length>t.maxOptionsCount&&(D=!0,o.setErrors({optionsTooManyResults:!0})):"Section header"!=C.type&&"Text box"!=C.type&&"Integer"!=C.type&&"Decimal"!=C.type&&(D=!0,o.setErrors({required:!0})),!D&&(t.indexInEdit>-1?t.bindings[t.indexInEdit]=C:t.bindings.push(C),t.newBindingForm.reset(),t.newPanel.close(),t.indexInEdit=-1,setTimeout(()=>{t.refreshFhirQuestionnaire(),t.refreshResponse()},100))})()}refreshFhirQuestionnaire(){this.fhirQuestionnaire={resourceType:"Questionnaire",title:this.formTitle,status:"draft",item:[]},this.bindings.forEach((t,n)=>{const r=this.createItemForBinding(t,n);r&&this.fhirQuestionnaire.item.push(r)}),this.fhirQuestionnaireStr=JSON.stringify(this.fhirQuestionnaire,null,2)}createItemForBinding(t,n){const r=this.initializeBaseItem(t,n);return["Select (Single)","Select (Multiple)","Options","Autocomplete"].includes(t.type)&&(r.extension=this.getExtensionForSelectableTypes(),r.answerValueSet=this.getAnswerValueSet(t)),"Autocomplete"===t.type&&r.extension.push(this.getAutocompleteExtension()),"Select (Multiple)"===t.type&&(r.repeats=!0),r}initializeBaseItem(t,n){const r={linkId:n+1,text:t.title,type:this.getQuestionnaireItemType(t.type)};return t.code&&(r.code=[{system:"http://snomed.info/sct",code:t.code.code,display:t.code.display}]),r}getQuestionnaireItemType(t){switch(t){case"Section header":return"display";case"Select (Single)":case"Select (Multiple)":case"Options":case"Checkbox multiple":case"Autocomplete":return"choice";case"Text box":return"text";case"Integer":return"integer";case"Decimal":return"decimal";default:return console.warn(`Unhandled binding type: ${t}`),null}}getExtensionForSelectableTypes(){return[{url:"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-preferredTerminologyServer",valueUrl:"https://snowstorm.ihtsdotools.org/fhir"}]}getAutocompleteExtension(){return{url:"http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",valueCodeableConcept:{coding:[{system:"http://hl7.org/fhir/questionnaire-item-control",code:"autocomplete",display:"Auto-complete"}]}}}getAnswerValueSet(t){return`http://snomed.info/sct/900000000000207008?fhir_vs=ecl%2F${encodeURIComponent(t.ecl)}`}getEclPreview(t){var n=this;return de(function*(){return Sa((yield n.terminologyService.expandValueSet(t,"")).pipe(Di(s=>s)))})()}edit(t){this.indexInEdit=t;const n=this.bindings[t];this.newBindingForm.setValue({title:n.title,code:n.code?n.code:"",type:n.type,ecl:n.ecl,value:n.value,note:n.note}),this.newPanel.open()}onDrop(t){QR(this.bindings,t.previousIndex,t.currentIndex)}getErrors(t){const n=this.newBindingForm.get(t);return n?n.errors:null}getErrorMessage(t){const n=this.getErrors(t);if(n){if(n.required)return"This field is required";if(n.maxlength)return`This field must be less than ${n.maxlength.requiredLength} characters`;if(n.selectTooManyResults)return`Too many results (Max = ${this.maxSelectCount})`;if(n.optionsTooManyResults)return`Too many results (Max = ${this.maxOptionsCount})`}return null}refreshResponse(){this.response={};for(let t of this.bindings)this.response[t.title]={},t.code&&(this.response[t.title].code=t.code);for(let[t,n]of Object.entries(this.output))this.output[t].code&&(this.response[t].code=this.output[t].code),this.output[t].value&&(this.response[t].value=this.output[t].value);this.responseStr=JSON.stringify(this.response,null,2),this.refreshResponseBundle()}refreshResponseBundle(){this.responseBundle={resourceType:"Bundle",type:"collection",entry:[]};for(let[t,n]of Object.entries(this.response)){let r=n;const s=r.code?{coding:[{system:"http://snomed.info/sct",code:r.code.code,display:r.code.display}]}:void 0,o=r.value?.code?{coding:[{system:"http://snomed.info/sct",code:r.value.code,display:r.value.display}]}:void 0;let l={resourceType:"Observation",status:"final",category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"survey",display:"Survey"}]}],subject:{reference:"Patient/123"}};l.code=s||{coding:[{system:"http://snomed.info/sct",code:"363788007",display:"Clinical history/examination observable (observable entity)"}]},o&&(l.valueCodeableConcept=o),r.value&&"string"==typeof r.value&&(l.valueString=r.value),(l.valueCodeableConcept||l.valueString)&&this.responseBundle.entry.push(l)}this.responseBundleStr=JSON.stringify(this.responseBundle,null,2)}optionSelected(t,n,r){this.output[t]={code:n,value:r},n||delete this.output[t].code,this.outputStr=JSON.stringify(this.output,null,2),this.refreshResponse()}loadExample1(){this.formTitle=this.example1.title,this.bindings=this.example1.bindings,this.refreshFhirQuestionnaire(),this.clearOutput(),this.refreshResponse()}cancelEdit(){this.newBindingForm.reset(),this.newPanel.close(),this.indexInEdit=-1}clear(){this.bindings=[],this.clearOutput(),this.newBindingForm.reset(),this.formTitle="My new form",this.showRightContainer=!1}clearOutput(){this.output={},this.outputStr="{}";const t=JSON.parse(JSON.stringify(this.bindings));this.bindings=[],this.bindings=t}saveForm(){var t=new Blob([JSON.stringify({title:this.formTitle,bindings:this.bindings},null,2)],{type:"text/plain;charset=utf-8"});(0,hd.saveAs)(t,`${this.formTitle}.json`)}saveOutput(t){var n=new Blob([t],{type:"text/plain;charset=utf-8"});(0,hd.saveAs)(n,`${this.formTitle}-data.json`)}saveBundleOutput(t){var n=new Blob([t],{type:"text/plain;charset=utf-8"});(0,hd.saveAs)(n,`${this.formTitle}-fhir-bundle.json`)}copyOutputToClipboard(t){this.clipboard.copy(t)}uploadFile(t){if(1!==t.target.files.length)console.error("No file selected");else{const n=new FileReader;n.onloadend=r=>{if(n.result){const s=JSON.parse(n.result?.toString());Array.isArray(s)?(this.bindings=s,this.formTitle="My new form"):(this.bindings=[],this.bindings=s.bindings,this.formTitle=s.title),this.clearOutput(),this.refreshResponse(),this.refreshFhirQuestionnaire()}},n.readAsText(t.target.files[0])}}openEclBuilder(t,n){this.dialog.open(SAt,{data:{ecl:t},width:"80%",height:"80%"}).afterClosed().subscribe(s=>{if(s){const o=this.newBindingForm.get(n);o&&o.setValue(s.ecl)}})}toggleCodeBinding(){this.codeBinding=this.codeBinding===this.codeBindingAll?this.codeBindingObservables:this.codeBindingAll}toggleCheckboxBinding(){this.checkboxBinding=this.checkboxBinding.ecl===this.codeBindingAll.ecl?JSON.parse(JSON.stringify(this.codeBindingObservables)):JSON.parse(JSON.stringify(this.codeBindingAll)),this.checkboxBinding.title=this.checkboxBinding.title.replace("Question","Checkbox")}static#t=this.\u0275fac=function(n){return new(n||e)(mt(da),mt(GR),mt(lm))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-bindings-sandbox"]],viewQuery:function(n,r){if(1&n&&Mi(c2t,5),2&n){let s;Be(s=Ve())&&(r.newPanel=s.first)}},decls:94,vars:27,consts:[["substancePopoverMenu","matMenu"],["newPanel",""],["fileInput",""],["demosMenu","matMenu"],["id","main-panel"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click","disableRipple"],[1,"flex","flex-row","mb-8"],[1,"w-2/3"],[1,"editPanel","w-full","pt-4","pb-4",3,"opened","closed"],[4,"ngIf"],[1,"row",3,"formGroup"],[1,"form-row"],[1,"form-column"],[1,"input-field"],["matInput","","type","text","formControlName","title","placeholder","Enter title..."],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"input-field","autocomplete-field"],["formControlName","code",1,"grow",3,"binding"],["href","javascript:void(0)",1,"bottom-right-link",3,"click"],["formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["class","input-field",4,"ngIf"],["class","input-field full-width",4,"ngIf"],[1,"row"],[1,"grow"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],[1,"w-1/3"],[1,"flex","flex-row","gap-4","justify-end","flex-wrap"],["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["hidden","","type","file","id","file",3,"change"],["mat-flat-button","","color","accent",3,"matMenuTriggerFor",4,"ngIf"],[1,"wide-menu"],["mat-menu-item","",3,"click"],["mat-flat-button","","color","accent",3,"click"],["class","compact-row-container",4,"ngIf"],[1,"row-container"],[1,"row-container-item"],["cdkDropList","",3,"cdkDropListDropped"],["class","output-panel","cdkDrag","",4,"ngFor","ngForOf"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Data collected from form"],["class","output",4,"ngIf"],["label","Data collected (FHIR Bundle)"],["label","FHIR Questionnaire"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],["matInput","","type","text","formControlName","ecl","placeholder","Enter ECL..."],["href","javascript:void(0)",1,"top-right-link",3,"click"],["formControlName","ecl",1,"grow",3,"binding"],[1,"input-field","full-width"],["matInput","","type","text","formControlName","note","placeholder","Enter a description..."],["mat-flat-button","","color","accent",3,"matMenuTriggerFor"],[1,"compact-row-container"],[1,"title"],["mat-icon-button","","color","primary",1,"tool",3,"click"],[1,"row","form-title"],["matInput","","type","text","placeholder","Enter title...",3,"ngModelChange","ngModel","ngModelOptions"],["cdkDrag","",1,"output-panel"],[1,"row","control"],["cdkDragHandle","",1,"tool","drag-handle"],["class","grow",3,"binding","selectionChange",4,"ngIf"],["class","title grow",4,"ngIf"],["class","grow",3,"binding","textChange",4,"ngIf"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled",4,"ngIf"],["mat-menu-item","",3,"disableRipple","click",4,"ngIf"],[1,"grow",3,"selectionChange","binding"],[1,"title","grow"],[1,"grow",3,"textChange","binding"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled"],[1,"output"],["id","save",4,"ngIf"],["highlight-js","","id","output","wrap","soft",3,"options","lang","innerHTML"],["id","save"],["mat-icon-button","","matTooltip","Download",3,"click"],["fontIcon","cloud_download"],["mat-icon-button","","matTooltip","Copy",3,"click"],["fontIcon","content_copy"]],template:function(n,r){if(1&n){const s=pe();q(0,"div",4)(1,"h3"),ut(2,"Terminology Bindings Sandbox "),q(3,"button",5)(4,"mat-icon"),ut(5,"info"),et()(),q(6,"mat-menu",null,0)(8,"span",6),Vt("click",function(l){return Ut(s),zt(l.stopPropagation())}),q(9,"h4"),ut(10,"Terminology Bindings Sandbox"),et(),q(11,"p"),ut(12,"This is a sandbox for creating terminology bindings, designed to support education activities."),et()()()(),q(13,"div",7)(14,"div",8)(15,"mat-expansion-panel",9,1),Vt("opened",function(){return Ut(s),zt(r.panelOpenState=!0)})("closed",function(){return Ut(s),zt(r.panelOpenState=!1)}),q(17,"mat-expansion-panel-header")(18,"mat-panel-title")(19,"h4"),ut(20,"New binding:"),et()(),Gt(21,u2t,2,0,"mat-panel-description",10),et(),q(22,"div")(23,"form",11)(24,"div",12)(25,"div",13)(26,"h5"),ut(27,"Question"),et(),q(28,"mat-form-field",14)(29,"mat-label"),ut(30,"Question text"),et(),ye(31,"input",15),Gt(32,h2t,3,0,"button",16),q(33,"mat-error"),ut(34),et()(),q(35,"mat-form-field",17),ye(36,"app-autocomplete-binding",18),q(37,"a",19),Vt("click",function(){return Ut(s),zt(r.toggleCodeBinding())}),Gt(38,f2t,2,0,"span",10)(39,m2t,2,0,"span",10),et(),q(40,"mat-error"),ut(41),et()()(),q(42,"div",13)(43,"h5"),ut(44,"Answer"),et(),q(45,"mat-form-field",14)(46,"mat-label"),ut(47,"Answer Type"),et(),q(48,"mat-select",20),Gt(49,p2t,2,2,"mat-option",21),et(),q(50,"mat-error"),ut(51),et()(),Gt(52,v2t,9,2,"mat-form-field",22)(53,b2t,7,4,"mat-form-field",22),et()(),Gt(54,_2t,7,2,"mat-form-field",23),et(),ye(55,"br"),q(56,"div",24),ye(57,"span",25),Gt(58,T2t,2,0,"button",26)(59,C2t,2,0,"button",26),q(60,"button",27),Vt("click",function(){return Ut(s),zt(r.cancelEdit())}),ut(61,"Cancel"),et()()()()(),q(62,"div",28)(63,"div",29),Gt(64,S2t,2,1,"button",30),q(65,"input",31,2),Vt("change",function(l){return Ut(s),zt(r.uploadFile(l))}),et(),Gt(67,E2t,2,1,"button",32),q(68,"mat-menu",33,3)(70,"button",34),Vt("click",function(){return Ut(s),zt(r.saveForm())}),ut(71,"Download"),et(),q(72,"button",34),Vt("click",function(){return Ut(s),zt(r.saveOutput(r.fhirQuestionnaireStr))}),ut(73,"Download as FHIR Questionnaire"),et()(),q(74,"button",35),Vt("click",function(){return Ut(s),zt(Ki(66).click())}),ut(75,"Upload form"),et(),q(76,"button",35),Vt("click",function(){return Ut(s),zt(r.loadExample1())}),ut(77,"Example"),et(),q(78,"button",35),Vt("click",function(){return Ut(s),zt(r.clear())}),ut(79,"Clear"),et()()()(),Gt(80,A2t,6,1,"div",36)(81,D2t,12,3,"div",36),q(82,"div",37)(83,"div",38)(84,"div",39),Vt("cdkDropListDropped",function(l){return Ut(s),zt(r.onDrop(l))}),Gt(85,z2t,24,12,"div",40),et()(),q(86,"div",38)(87,"mat-tab-group",41)(88,"mat-tab",42),Gt(89,H2t,4,5,"div",43),et(),q(90,"mat-tab",44),Gt(91,X2t,4,5,"div",43),et(),q(92,"mat-tab",45),Gt(93,Y2t,4,5,"div",43),et()()()()()}if(2&n){let s;const o=Ki(7);ot(3),xt("matMenuTriggerFor",o),ot(5),xt("disableRipple",!0),ot(13),xt("ngIf",!r.panelOpenState),ot(2),xt("formGroup",r.newBindingForm),ot(9),xt("ngIf",null==(s=r.newBindingForm.get("title"))?null:s.value),ot(2),Xe(r.getErrorMessage("title")),ot(2),xt("binding",r.codeBinding),ot(2),xt("ngIf",r.codeBinding===r.codeBindingAll),ot(),xt("ngIf",r.codeBinding!=r.codeBindingAll),ot(2),Xe(r.getErrorMessage("code")),ot(8),xt("ngForOf",r.controlTypes),ot(2),Xe(r.getErrorMessage("type")),ot(),xt("ngIf","Section header"!=r.newBindingForm.controls.type.value&&"Text box"!=r.newBindingForm.controls.type.value&&"Checkbox"!=r.newBindingForm.controls.type.value&&"Integer"!=r.newBindingForm.controls.type.value&&"Decimal"!=r.newBindingForm.controls.type.value),ot(),xt("ngIf","Checkbox"==r.newBindingForm.controls.type.value),ot(),xt("ngIf","Section header"!=r.newBindingForm.controls.type.value),ot(4),xt("ngIf",-1==r.indexInEdit),ot(),xt("ngIf",r.indexInEdit>-1),ot(5),xt("ngIf",r.bindings.length),ot(3),xt("ngIf",r.bindings.length),ot(13),xt("ngIf",!r.titleEditMode),ot(),xt("ngIf",r.titleEditMode),ot(2),xt("@growShrink",r.stateName),ot(2),xt("ngForOf",r.bindings),ot(),xt("@openClose",r.stateName),ot(3),xt("ngIf",r.bindings.length>0),ot(2),xt("ngIf",r.bindings.length>0),ot(2),xt("ngIf",r.bindings.length>0)}},dependencies:[vs,Is,HC,qR,ZR,TX,Ea,Oo,ua,Tl,Yl,uu,Sl,tl,MW,kW,su,yu,rv,Cl,No,rm,ud,sv,zy,ov,lv,$l,am,bu,XX,BAt,UAt,VAt,av,YX,ZX,JX,ej,ij,nj,rj],styles:["#main-panel[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{margin-top:0}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center;gap:10px}.grow[_ngcontent-%COMP%]{flex-grow:4}mat-hint[_ngcontent-%COMP%], mat-error[_ngcontent-%COMP%]{font-size:12px}.editPanel[_ngcontent-%COMP%]{border:1px solid #cccccc00;border-radius:5px;background-color:#a0c8e5}.control[_ngcontent-%COMP%]{margin-bottom:30px}.output-panel[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{opacity:0;transition:opacity .5s}.row[_ngcontent-%COMP%]:hover   .tool[_ngcontent-%COMP%]{opacity:1}.drag-handle[_ngcontent-%COMP%]{cursor:move;color:#616161}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px;margin-left:2rem}.action-button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:20px}.action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}.row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.compact-row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:1rem}.row-container-item[_ngcontent-%COMP%]{width:100%;padding:10px}.output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative;margin:2rem}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}.top-right-link[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;font-size:smaller}.form-title[_ngcontent-%COMP%]{margin-left:1rem}.mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:0!important}.bottom-right-link[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:0;font-size:smaller}.form-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-10px;margin-left:-10px;width:100%}.form-column[_ngcontent-%COMP%]{flex:1 1 0px;padding-right:10px;padding-left:10px;display:flex;flex-direction:column;width:100%}.input-field.full-width[_ngcontent-%COMP%]{width:calc(100% - 20px);margin-bottom:20px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}"],data:{animation:[mr("openClose",[kn("open",qe({opacity:1,width:"50%"})),kn("closed",qe({opacity:0,width:"0"})),on("open <=> closed",[sn("0.5s")])]),mr("growShrink",[kn("open",qe({width:"50%"})),kn("closed",qe({width:"100%"})),on("open <=> closed",[sn("0.5s")])])]}})}return e})(),Q2t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-prescription-main"]],decls:2,vars:0,template:function(n,r){1&n&&(q(0,"p"),ut(1,"prescription-main works!, no?"),et())}})}return e})();const K2t=["mat-sort-header",""],Z2t=["*"];function J2t(e,i){if(1&e){const t=pe();q(0,"div",2),Vt("@arrowPosition.start",function(){return Ut(t),zt(Ct()._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){return Ut(t),zt(Ct()._disableViewStateAnimation=!1)}),ye(1,"div",3),q(2,"div",4),ye(3,"div",5)(4,"div",6)(5,"div",7),et()()}if(2&e){const t=Ct();xt("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),ot(2),xt("@indicator",t._getArrowDirectionState()),ot(),xt("@leftPointer",t._getArrowDirectionState()),ot(),xt("@rightPointer",t._getArrowDirectionState())}}const sj=new ee("MAT_SORT_DEFAULT_OPTIONS");let Nh=(()=>{class e{get direction(){return this._direction}set direction(t){this._direction=t}constructor(t){this._defaultOptions=t,this._initializedStream=new py(1),this.sortables=new Map,this._stateChanges=new Pe,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new De,this.initialized=this._initializedStream}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let r=function q2t(e,i){let t=["asc","desc"];return"desc"==e&&t.reverse(),i||t.push(""),t}(t.start||this.start,t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=r.indexOf(this.direction)+1;return s>=r.length&&(s=0),r[s]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(sj,8))};static#e=this.\u0275dir=ce({type:e,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[Wt.None,"matSortActive","active"],start:[Wt.None,"matSortStart","start"],direction:[Wt.None,"matSortDirection","direction"],disableClear:[Wt.HasDecoratorInputTransform,"matSortDisableClear","disableClear",Je],disabled:[Wt.HasDecoratorInputTransform,"matSortDisabled","disabled",Je]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[ln,tr]})}return e})();const Bh=b1t.ENTERING+" "+y1t.STANDARD_CURVE,uv={indicator:mr("indicator",[kn("active-asc, asc",qe({transform:"translateY(0px)"})),kn("active-desc, desc",qe({transform:"translateY(10px)"})),on("active-asc <=> active-desc",sn(Bh))]),leftPointer:mr("leftPointer",[kn("active-asc, asc",qe({transform:"rotate(-45deg)"})),kn("active-desc, desc",qe({transform:"rotate(45deg)"})),on("active-asc <=> active-desc",sn(Bh))]),rightPointer:mr("rightPointer",[kn("active-asc, asc",qe({transform:"rotate(45deg)"})),kn("active-desc, desc",qe({transform:"rotate(-45deg)"})),on("active-asc <=> active-desc",sn(Bh))]),arrowOpacity:mr("arrowOpacity",[kn("desc-to-active, asc-to-active, active",qe({opacity:1})),kn("desc-to-hint, asc-to-hint, hint",qe({opacity:.54})),kn("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",qe({opacity:0})),on("* => asc, * => desc, * => active, * => hint, * => void",sn("0ms")),on("* <=> *",sn(Bh))]),arrowPosition:mr("arrowPosition",[on("* => desc-to-hint, * => desc-to-active",sn(Bh,Kg([qe({transform:"translateY(-25%)"}),qe({transform:"translateY(0)"})]))),on("* => hint-to-desc, * => active-to-desc",sn(Bh,Kg([qe({transform:"translateY(0)"}),qe({transform:"translateY(25%)"})]))),on("* => asc-to-hint, * => asc-to-active",sn(Bh,Kg([qe({transform:"translateY(25%)"}),qe({transform:"translateY(0)"})]))),on("* => hint-to-asc, * => active-to-asc",sn(Bh,Kg([qe({transform:"translateY(0)"}),qe({transform:"translateY(-25%)"})]))),kn("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",qe({transform:"translateY(0)"})),kn("hint-to-desc, active-to-desc, desc",qe({transform:"translateY(-25%)"})),kn("hint-to-asc, active-to-asc, asc",qe({transform:"translateY(25%)"}))]),allowChildren:mr("allowChildren",[on("* <=> *",[sC("@*",rC(),{optional:!0})])])};let JC=(()=>{class e{constructor(){this.changes=new Pe}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const eDt={provide:JC,deps:[[new Vd,new Cf,JC]],useFactory:function tDt(e){return e||new JC}};let oP=(()=>{class e{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}constructor(t,n,r,s,o,l,b,C){this._intl=t,this._changeDetectorRef=n,this._sort=r,this._columnDef=s,this._focusMonitor=o,this._elementRef=l,this._ariaDescriber=b,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",C?.arrowPosition&&(this.arrowPosition=C?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const n=!!t;n!==this._showIndicatorHint&&(this._setIndicatorHintVisible(n),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t||{},this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){!this._isDisabled()&&(32===t.keyCode||13===t.keyCode)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,t)),this._sortActionDescription=t}_handleStateChanges(){this._rerenderSubscription=Yr(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(JC),mt(Mn),mt(Nh,8),mt("MAT_SORT_HEADER_COLUMN_DEF",8),mt(Xl),mt(si),mt(dH,8),mt(sj,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(n,r){1&n&&Vt("click",function(){return r._handleClick()})("keydown",function(o){return r._handleKeydown(o)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),2&n&&(Ti("aria-sort",r._getAriaSortAttribute()),bi("mat-sort-header-disabled",r._isDisabled()))},inputs:{id:[Wt.None,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Je],sortActionDescription:"sortActionDescription",disableClear:[Wt.HasDecoratorInputTransform,"disableClear","disableClear",Je]},exportAs:["matSortHeader"],standalone:!0,features:[ln,Vi],attrs:K2t,ngContentSelectors:Z2t,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(n,r){1&n&&(Kn(),q(0,"div",0)(1,"div",1),xi(2),et(),Gt(3,J2t,6,6,"div",2),et()),2&n&&(bi("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before","before"===r.arrowPosition),Ti("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),ot(3),xn(3,r._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color);opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[uv.indicator,uv.leftPointer,uv.rightPointer,uv.arrowOpacity,uv.arrowPosition,uv.allowChildren]},changeDetection:0})}return e})(),iDt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[eDt],imports:[Zi]})}return e})(),nDt=(()=>{class e{saveItem(t,n){localStorage.setItem(t,n)}getItem(t){return localStorage.getItem(t)}removeItem(t){localStorage.removeItem(t)}isLocalStorageSupported(){try{const t="__test__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hv=(()=>{class e{constructor(t,n){this.http=t,this.storageService=n,this.baseUrlSubject=new Wr("https://hapi.fhir.org/baseR4"),this.baseUrl$=this.baseUrlSubject.asObservable(),this.userTagSubject=new Wr(""),this.userTag$=this.userTagSubject.asObservable(),this.initialize()}initialize(){if(this.storageService.isLocalStorageSupported()){const t=this.storageService.getItem("baseUrl");t&&this.baseUrlSubject.next(t);const n=this.storageService.getItem("userTag");n&&this.userTagSubject.next(n)}}setBaseUrl(t){this.baseUrlSubject.next(t),this.storageService.saveItem("baseUrl",t)}getBaseUrl(){return this.baseUrlSubject.getValue()}setUserTag(t){this.userTagSubject.next(t),this.storageService.saveItem("userTag",t)}getUserTag(){return this.userTagSubject.getValue()}postQuestionnaire(t){return this.http.post(`${this.baseUrlSubject.value}/Questionnaire`,t)}getQuestionnairesByTag(t,n){return n||(n=100),this.http.get(`${this.baseUrlSubject.value}/Questionnaire?_tag=${t}&_count=${n}`)}tagQuestionnaire(t,n){return this.http.post(`${this.baseUrlSubject.value}/Questionnaire/${t}/$meta-add`,{resourceType:"Parameters",parameter:[{name:"meta",valueMeta:{tag:[{system:"http://snomed.org/tags",code:n}]}}]})}deleteQuestionnaire(t){return this.http.delete(`${this.baseUrlSubject.value}/Questionnaire/${t}`)}updateOrCreateQuestionnaire(t,n){return t.id?this.http.put(`${this.baseUrlSubject.value}/Questionnaire?_id=${t.id}&_tag=${n}`,t).pipe(la(s=>404===s.status?this.postQuestionnaire(t):Mg(s))):this.postQuestionnaire(t)}getQuestionnaireHistory(t){return this.http.get(`${this.getBaseUrl()}/Questionnaire/${t}/_history`)}getSpecificQuestionnaireVersion(t,n){return this.http.get(`${this.getBaseUrl()}/Questionnaire/${t}/_history/${n}`)}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ad),Jt(nDt))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rDt(e,i){if(1&e&&(q(0,"mat-option",15),ut(1),et()),2&e){const t=i.$implicit;xt("value",t),ot(),He(" ",t.title," ")}}function sDt(e,i){1&e&&ye(0,"mat-spinner",16)}function aDt(e,i){if(1&e){const t=pe();q(0,"div",17)(1,"span",18),ut(2,"\u2261"),et(),ut(3),q(4,"button",19),Vt("click",function(){const r=Ut(t).index;return zt(Ct().deleteQuestionnaire(r))}),q(5,"mat-icon"),ut(6,"delete"),et()()()}if(2&e){const t=i.$implicit;ot(3),He(" ",t.title," ")}}let aj=(()=>{class e{constructor(t,n,r,s){this.fb=t,this.fhirService=n,this.data=r,this.dialogRef=s,this.allQuestionnaires=[],this.availableQuestionnaires=[],this.addedQuestionnaires=[],this.userTag="",this.loading=!1}ngOnInit(){this.questionnaireForm=this.fb.group({selectedQuestionnaire:[{value:"",disabled:!0}],assignedName:[{value:"",disabled:!0}]}),this.data&&(this.addedQuestionnaires=this.data.questionnaires,this.questionnaireForm.get("assignedName")?.setValue(this.data.title)),this.questionnaireForm.get("selectedQuestionnaire"),this.userTag=this.fhirService.getUserTag(),this.loadAvailableQuestionnaires()}updateAvailableQuestionnaires(){this.availableQuestionnaires=this.addedQuestionnaires?this.allQuestionnaires.filter(t=>!this.addedQuestionnaires.some(n=>n.id===t.id)):this.allQuestionnaires,this.availableQuestionnaires=this.availableQuestionnaires.filter(t=>!t.extension||!t.extension.some(n=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation"===n.url&&"assemble-root"===n.valueCode))}loadAvailableQuestionnaires(){this.loading=!0,this.fhirService.getQuestionnairesByTag(this.userTag).subscribe(t=>{this.allQuestionnaires=t.entry.map(n=>n.resource),this.allQuestionnaires.sort((n,r)=>n.title.localeCompare(r.title)),this.updateAvailableQuestionnaires(),this.loading=!1,this.questionnaireForm?.get("selectedQuestionnaire")?.enable(),this.questionnaireForm?.get("assignedName")?.enable()})}addQuestionnaire(){const t=this.questionnaireForm.value;t.selectedQuestionnaire&&(this.addedQuestionnaires.push({...t.selectedQuestionnaire,assignedName:t.assignedName}),this.questionnaireForm.get("selectedQuestionnaire")?.reset(),this.updateAvailableQuestionnaires())}drop(t){QR(this.addedQuestionnaires,t.previousIndex,t.currentIndex)}deleteQuestionnaire(t){t>-1&&(this.addedQuestionnaires.splice(t,1),this.updateAvailableQuestionnaires())}isSaveDisabled(){return!this.questionnaireForm.get("assignedName")?.value||!this.addedQuestionnaires.length}closeModal(){this.dialogRef.close({title:this.questionnaireForm.get("assignedName")?.value,questionnaires:this.addedQuestionnaires})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(BC),mt(hv),mt(KC),mt(Lh))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-create-root-module"]],decls:26,vars:6,consts:[[1,"form-layout",3,"formGroup"],[1,"form-row"],[1,"full-width"],["matInput","","formControlName","assignedName"],[1,"half-width"],["formControlName","selectedQuestionnaire"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"add-button",3,"click","disabled"],["diameter","35","class","loading-spinner",4,"ngIf"],[1,"questionnaire-list"],[1,"list",3,"cdkDropListDropped"],["cdkDrag","","class","cdk-drag",4,"ngFor","ngForOf"],[1,"button-container"],["mat-flat-button","","color","primary","mat-dialog-close",""],["mat-flat-button","","color","accent",3,"click","disabled"],[3,"value"],["diameter","35",1,"loading-spinner"],["cdkDrag","",1,"cdk-drag"],[1,"drag-handle"],["mat-icon-button","","aria-label","Delete questionnaire",3,"click"]],template:function(n,r){1&n&&(q(0,"mat-dialog-content")(1,"h2"),ut(2,"Create a modular Questionnaire"),et(),q(3,"form",0)(4,"div",1)(5,"mat-form-field",2)(6,"mat-label"),ut(7,"Assign Name"),et(),ye(8,"input",3),et()(),q(9,"div",1)(10,"mat-form-field",4)(11,"mat-label"),ut(12,"Select Child Questionnaire"),et(),q(13,"mat-select",5),Gt(14,rDt,2,2,"mat-option",6),et()(),q(15,"button",7),Vt("click",function(){return r.addQuestionnaire()}),ut(16,"Add questionnaire"),et(),Gt(17,sDt,1,0,"mat-spinner",8),et()(),q(18,"div",9)(19,"cdk-drop-list",10),Vt("cdkDropListDropped",function(o){return r.drop(o)}),Gt(20,aDt,7,1,"div",11),et()()(),q(21,"mat-dialog-actions",12)(22,"button",13),ut(23,"Cancel"),et(),q(24,"button",14),Vt("click",function(){return r.closeModal()}),ut(25,"Save"),et()()),2&n&&(ot(3),xt("formGroup",r.questionnaireForm),ot(11),xt("ngForOf",r.availableQuestionnaires),ot(),xt("disabled",r.loading),ot(2),xt("ngIf",r.loading),ot(3),xt("ngForOf",r.addedQuestionnaires),ot(4),xt("disabled",r.isSaveDisabled()||r.loading))},dependencies:[vs,Is,qR,ZR,Ea,Oo,ua,Sl,tl,su,Ah,yu,rv,Cl,No,rm,ud,sv,lv,dv,Yy,jy],styles:[".questionnaire-list[_ngcontent-%COMP%]{width:100%;max-height:400px;overflow:auto;border:1px solid #ccc;border-radius:4px;background-color:#f9f9f9;padding:10px}.list[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;background-color:#fff;margin-bottom:10px;padding:10px;display:flex;align-items:center;justify-content:left;box-shadow:0 2px 4px #0000001a}.drag-handle[_ngcontent-%COMP%]{cursor:move;margin-right:15px;font-size:20px;color:#666}.cdk-drag-preview[_ngcontent-%COMP%]{background-color:#e0e0e0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.form-layout[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.form-layout[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.form-layout[_ngcontent-%COMP%]   .half-width[_ngcontent-%COMP%]{width:50%;margin-right:15px}"]})}return e})();function oDt(e,i){if(1&e&&(q(0,"mat-option",16),ut(1),et()),2&e){const t=i.$implicit;xt("value",t),ot(),He(" ",t," ")}}function lDt(e,i){if(1&e){const t=pe();q(0,"mat-form-field",13)(1,"mat-select",15),Vt("selectionChange",function(r){return Ut(t),zt(Ct(2)._changePageSize(r.value))}),L_(2,oDt,2,2,"mat-option",16,O_),et()()}if(2&e){const t=Ct(2);xt("appearance",t._formFieldAppearance)("color",t.color),ot(),xt("value",t.pageSize)("disabled",t.disabled)("aria-labelledby",t._pageSizeLabelId)("panelClass",t.selectConfig.panelClass||"")("disableOptionCentering",t.selectConfig.disableOptionCentering),ot(),N_(t._displayedPageSizeOptions)}}function cDt(e,i){if(1&e&&(q(0,"div",14),ut(1),et()),2&e){const t=Ct(2);ot(),Xe(t.pageSize)}}function dDt(e,i){if(1&e&&(q(0,"div",2)(1,"div",12),ut(2),et(),Gt(3,lDt,4,7,"mat-form-field",13)(4,cDt,2,1,"div",14),et()),2&e){const t=Ct();ot(),Ti("id",t._pageSizeLabelId),ot(),He(" ",t._intl.itemsPerPageLabel," "),ot(),xn(3,t._displayedPageSizeOptions.length>1?3:-1),ot(),xn(4,t._displayedPageSizeOptions.length<=1?4:-1)}}function uDt(e,i){if(1&e){const t=pe();q(0,"button",17),Vt("click",function(){return Ut(t),zt(Ct().firstPage())}),fl(),q(1,"svg",7),ye(2,"path",18),et()()}if(2&e){const t=Ct();xt("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),Ti("aria-label",t._intl.firstPageLabel)}}function hDt(e,i){if(1&e){const t=pe();q(0,"button",19),Vt("click",function(){return Ut(t),zt(Ct().lastPage())}),fl(),q(1,"svg",7),ye(2,"path",20),et()()}if(2&e){const t=Ct();xt("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),Ti("aria-label",t._intl.lastPageLabel)}}let qC=(()=>{class e{constructor(){this.changes=new Pe,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,n,r)=>{if(0==r||0==n)return`0 of ${r}`;const s=t*n;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+n,r):s+n} of ${r}`}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const mDt={provide:qC,deps:[[new Vd,new Cf,qC]],useFactory:function fDt(e){return e||new qC}},gDt=new ee("MAT_PAGINATOR_DEFAULT_OPTIONS");let vDt=0,lP=(()=>{class e{get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(t||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=t||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(t||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(n=>jr(n,0)),this._updateDisplayedPageSizeOptions()}constructor(t,n,r){if(this._intl=t,this._changeDetectorRef=n,this._pageSizeLabelId="mat-paginator-page-size-label-"+vDt++,this._isInitialized=!1,this._initializedStream=new py(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new De,this.initialized=this._initializedStream,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:o,hidePageSize:l,showFirstLastButtons:b}=r;null!=s&&(this._pageSize=s),null!=o&&(this._pageSizeOptions=o),null!=l&&(this.hidePageSize=l),null!=b&&(this.showFirstLastButtons=b)}this._formFieldAppearance=r?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,n)=>t-n),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(qC),mt(Mn),mt(gDt,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[Wt.HasDecoratorInputTransform,"pageIndex","pageIndex",jr],length:[Wt.HasDecoratorInputTransform,"length","length",jr],pageSize:[Wt.HasDecoratorInputTransform,"pageSize","pageSize",jr],pageSizeOptions:"pageSizeOptions",hidePageSize:[Wt.HasDecoratorInputTransform,"hidePageSize","hidePageSize",Je],showFirstLastButtons:[Wt.HasDecoratorInputTransform,"showFirstLastButtons","showFirstLastButtons",Je],selectConfig:"selectConfig",disabled:[Wt.HasDecoratorInputTransform,"disabled","disabled",Je]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[ln,Vi],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(n,r){1&n&&(q(0,"div",0)(1,"div",1),Gt(2,dDt,5,4,"div",2),q(3,"div",3)(4,"div",4),ut(5),et(),Gt(6,uDt,3,5,"button",5),q(7,"button",6),Vt("click",function(){return r.previousPage()}),fl(),q(8,"svg",7),ye(9,"path",8),et()(),Q0(),q(10,"button",9),Vt("click",function(){return r.nextPage()}),fl(),q(11,"svg",7),ye(12,"path",10),et()(),Gt(13,hDt,3,5,"button",11),et()()()),2&n&&(ot(2),xn(2,r.hidePageSize?-1:2),ot(3),He(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),ot(),xn(6,r.showFirstLastButtons?6:-1),ot(),xt("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),Ti("aria-label",r._intl.previousPageLabel),ot(3),xt("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),Ti("aria-label",r._intl.nextPageLabel),ot(3),xn(13,r.showFirstLastButtons?13:-1))},dependencies:[Sl,lv,su,Oo,bu],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking);--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return e})(),xDt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:[mDt],imports:[Kk,qW,rX,lP]})}return e})(),oj=(()=>{class e{constructor(t,n){this.http=t,this.fhirService=n}generateRootQuestionnaire(t,n){var r=this;return de(function*(){try{let o=yield Sa(r.http.get("assets/questionnaires/root-questionnaire-template.json"));o.title=t;let l=0,b=r.fhirService.getBaseUrl();return r.fhirService.getUserTag(),n.forEach(D=>{l++,D.url=b+"/Questionnaire/"+D.id,o.item.push({linkId:l.toString(),text:D.title,type:"group",required:!1,item:[{extension:[{url:"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire",valueCanonical:D.url}],linkId:l.toString()+".1",text:"Unable to resolve sub-questionnaire",type:"display"}]})}),o}catch(s){throw console.error("Error generating root questionnaire:",s),s}})()}getRootQuestionnaireData(t){var n=this;return de(function*(){if(!t||!Array.isArray(t.item))throw new Error("Invalid root questionnaire");const r=t.title,s=t.item.filter(l=>"group"===l.type&&l.item&&Array.isArray(l.item)).flatMap(l=>l.item).map(function(){var l=de(function*(b){const C=b.extension?.find(D=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire"===D.url);return C?n.getQuestionnaireFromUrl(C.valueCanonical):null});return function(b){return l.apply(this,arguments)}}());return{title:r,questionnaires:(yield Promise.all(s)).filter(l=>null!==l)}})()}checkForAssembleRoot(t){return!!(t&&t.extension&&Array.isArray(t.extension))&&t.extension.some(n=>"assemble-root"===n.valueCode)}assembleQuestionnaire(t){var n=this;return de(function*(){if(t=JSON.parse(JSON.stringify(t)),!n.checkForAssembleRoot(t))return null;for(let r of t.item)if("group"==r.type){r.extension=[];for(let s of r.item)if(s.extension&&Array.isArray(s.extension))for(let o of s.extension)if("http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire"===o.url){let l=yield n.getQuestionnaireFromUrl(o.valueCanonical);l&&(r.item=l.item),r.extension||(r.extension=[]),r.extension.push({url:"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assembledFrom",valueCanonical:o.valueCanonical})}}return t.extension=t.extension.filter(r=>"assemble-root"!==r.valueCode),t})()}disassembleQuestionnaire(t){var n=this;return de(function*(){if(!t||!t.item||!Array.isArray(t.item))throw new Error("Invalid root questionnaire");const r=t.title,s=[];for(const o of t.item)if("group"===o.type&&o.extension&&Array.isArray(o.extension)){const l=o.extension.find(b=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assembledFrom"===b.url);if(l){const b=l.valueCanonical,C=yield n.getQuestionnaireFromUrl(b);C&&s.push(C)}}return{title:r,questionnaires:s}})()}getQuestionnaireFromUrl(t){var n=this;return de(function*(){try{return yield Sa(n.http.get(t))}catch(r){return console.error("Error fetching questionnaire:",r),null}})()}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(ad),Jt(hv))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const yDt=()=>[5,10,20],bDt=e=>["status-pill",e],wDt=()=>["status-pill","active"],_Dt=()=>["status-pill","draft"];function TDt(e,i){1&e&&(q(0,"th",19),ut(1," Title "),et())}function CDt(e,i){if(1&e&&(q(0,"td",20),ut(1),et()),2&e){const t=i.$implicit;ot(),He(" ",t.title," ")}}function SDt(e,i){1&e&&(q(0,"th",19),ut(1," Status "),et())}function EDt(e,i){if(1&e&&(q(0,"td",20)(1,"span",21),ut(2),hs(3,"uppercase"),et()()),2&e){const t=i.$implicit;ot(),xt("ngClass",yl(4,bDt,t.status)),ot(),Xe(zl(3,2,t.status))}}function ADt(e,i){1&e&&(q(0,"th",22),ut(1," Version "),et())}function DDt(e,i){if(1&e&&(q(0,"td",20),ut(1),et()),2&e){const t=i.$implicit;ot(),He(" ",t.meta.versionId," ")}}function MDt(e,i){1&e&&(q(0,"th",19),ut(1," Last updated "),et())}function IDt(e,i){if(1&e&&(q(0,"td",20),ut(1),hs(2,"date"),et()),2&e){const t=i.$implicit;ot(),He(" ",bc(2,1,t.meta.lastUpdated,"MMMM d, y, h:mm:ss a")," ")}}function kDt(e,i){1&e&&(q(0,"th",19),ut(1," Type "),et())}function RDt(e,i){1&e&&(q(0,"span",21),ut(1,"QUESTIONNAIRE"),et()),2&e&&xt("ngClass",Zo(1,wDt))}function PDt(e,i){1&e&&(q(0,"span",21),ut(1,"MODULAR ROOT"),et()),2&e&&xt("ngClass",Zo(1,_Dt))}function FDt(e,i){if(1&e&&(q(0,"td",20),Gt(1,RDt,2,2,"span",23)(2,PDt,2,2,"span",23),et()),2&e){const t=i.$implicit,n=Ct();ot(),xt("ngIf",!n.isRootQuestionnaire(t)),ot(),xt("ngIf",n.isRootQuestionnaire(t))}}function ODt(e,i){1&e&&(q(0,"th",22),ut(1," Actions "),et())}function LDt(e,i){if(1&e){const t=pe();q(0,"button",34),Vt("click",function(){Ut(t);const r=Ct().$implicit;return zt(Ct().validate(r))}),q(1,"mat-icon"),ut(2,"done"),et()()}if(2&e){const t=Ct().$implicit;xt("disabled",Ct().isRootQuestionnaire(t))}}function NDt(e,i){if(1&e){const t=pe();q(0,"button",35),Vt("click",function(){Ut(t);const r=Ct().$implicit;return zt(Ct().assemble(r))}),q(1,"mat-icon"),ut(2,"build"),et()()}}function BDt(e,i){if(1&e){const t=pe();q(0,"button",36),Vt("click",function(){Ut(t);const r=Ct().$implicit;return zt(Ct().preview(r))}),q(1,"mat-icon"),ut(2,"visibility"),et()()}}function VDt(e,i){if(1&e){const t=pe();q(0,"button",37),Vt("click",function(){Ut(t);const r=Ct().$implicit;return zt(Ct().openInNewTab(r))}),q(1,"mat-icon"),ut(2,"open_in_new"),et()()}}function UDt(e,i){if(1&e){const t=pe();q(0,"button",38),Vt("click",function(){Ut(t);const r=Ct().$implicit;return zt(Ct().editQuestionnaire(r))}),q(1,"mat-icon"),ut(2,"edit"),et()()}}function zDt(e,i){if(1&e){const t=pe();q(0,"button",39),Vt("click",function(){Ut(t);const r=Ct().$implicit;return zt(Ct().openModularQuestionnaireModal(r))}),q(1,"mat-icon"),ut(2,"edit"),et()()}}function GDt(e,i){if(1&e){const t=pe();q(0,"td",20),Gt(1,LDt,3,1,"button",24)(2,NDt,3,0,"button",25)(3,BDt,3,0,"button",26)(4,VDt,3,0,"button",27),q(5,"button",28),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct().saveQuestionnaire(r))}),q(6,"mat-icon"),ut(7,"cloud_download"),et()(),Gt(8,UDt,3,0,"button",29)(9,zDt,3,0,"button",30),q(10,"button",31),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct().viewHistory(r))}),q(11,"mat-icon"),ut(12,"history"),et()(),q(13,"span",32)(14,"button",33),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct().deleteQuestionnaire(r))}),q(15,"mat-icon"),ut(16,"delete"),et()()()()}if(2&e){const t=i.$implicit,n=Ct();ot(),xt("ngIf",n.config.validate),ot(),xt("ngIf",n.isRootQuestionnaire(t)),ot(),xt("ngIf",n.config.preview&&!n.isRootQuestionnaire(t)),ot(),xt("ngIf",n.config.preview),ot(4),xt("ngIf",!n.isRootQuestionnaire(t)),ot(),xt("ngIf",n.isRootQuestionnaire(t)),ot(),xt("disabled",1==t.meta.versionId),ot(3),mh("matTooltip",n.getDeleteTooltip(t)),ot(),xt("disabled",n.getReferencingQuestionnaires(t).length>0)}}function HDt(e,i){1&e&&ye(0,"tr",40)}function WDt(e,i){1&e&&ye(0,"tr",41)}function XDt(e,i){1&e&&(q(0,"p",42)(1,"i"),ut(2," No questionnaires found. Upload your questionnaires to start. "),et()())}function jDt(e,i){1&e&&ye(0,"mat-spinner",43)}function YDt(e,i){if(1&e){const t=pe();q(0,"button",44),Vt("click",function(){return Ut(t),zt(Ct().downloadAllQuestionnaires())}),ut(1," Download bundle "),et()}}let lj=(()=>{class e{constructor(t,n,r,s){this.fhirService=t,this.questionnaireService=n,this.dialog=r,this._snackBar=s,this.questionnaireSelected=new De,this.validateQuestionnaire=new De,this.previewQuestionnaire=new De,this.viewQuestionaireHistory=new De,this.config={},this.displayedColumns=["title","status","version","lastUpdated","type","actions"],this.dataSource=new im,this.questionnaires=[],this.loading=!1,this.selectedFhirServer="",this.selectedUserTag="",this.notFound=!1,this.baseUrlChanged=new Pe,this.userTagChanged=new Pe,this.fbUrl="https://formbuilder.nlm.nih.gov",this.blankQuestionnaire={resourceType:"Questionnaire",title:"New Form",status:"draft",item:[{type:"string",linkId:"4009522077787",text:"Item 0"}]}}ngOnInit(){}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.sortingDataAccessor=(t,n)=>{switch(n){case"type":return this.isRootQuestionnaire(t)?"Modular root":"Questionnaire";case"version":return t.meta&&t.meta.versionId?t.meta.versionId:"";case"lastUpdated":return t.meta&&t.meta.lastUpdated?new Date(t.meta.lastUpdated):"";default:return t[n]}},this.selectedUserTag&&this.selectedFhirServer&&this.loadQuestionnaires(),qd([this.fhirService.baseUrl$.pipe(iu(1e3),nu()),this.fhirService.userTag$.pipe(iu(1e3),nu())]).subscribe(([t,n])=>{(this.selectedFhirServer!==t||this.selectedUserTag!==n)&&(this.selectedFhirServer=t,this.selectedUserTag=n,this.selectedUserTag&&this.selectedFhirServer&&this.loadQuestionnaires())})}ngOnChanges(t){}loadQuestionnaires(){this.loading=!0,this.notFound=!1,this.questionnaires=[],this.fhirService.getQuestionnairesByTag(this.selectedUserTag).subscribe(t=>{t.entry?(this.questionnaires=t.entry.map(n=>n.resource),this.dataSource.data=this.questionnaires,this.dataSource.sort=this.sort,this.loading=!1,this.sort.active="title",this.sort.direction="asc",this.sort.sortChange.emit()):(this.questionnaires=[],this.dataSource.data=this.questionnaires,this.loading=!1,this.notFound=!0)})}updateQuestionnairesList(t){const n=this.questionnaires.findIndex(r=>r.id===t.id);-1!==n?(this.questionnaires[n]=t,this.dataSource.data=this.questionnaires):(this.questionnaires.push(t),this.dataSource.data=this.questionnaires)}addQuestionnaire(t){this.updateQuestionnairesList(t)}deleteQuestionnaire(t){this._snackBar.openFromComponent(Ar,{duration:5e3,data:"Deleting Questionnaire...",panelClass:["green-snackbar"]}),this.fhirService.deleteQuestionnaire(t.id).subscribe(()=>{this.questionnaires=this.questionnaires.filter(n=>n.id!==t.id),this.dataSource.data=this.questionnaires,this._snackBar.openFromComponent(Ar,{duration:5e3,data:"Questionnaire deleted successfully",panelClass:["green-snackbar"]})})}selectQuestionnaire(t){this.questionnaireSelected.emit(t)}validate(t){this.validateQuestionnaire.emit(t)}viewHistory(t){this.viewQuestionaireHistory.emit(t)}preview(t){this.previewQuestionnaire.emit(t)}openInNewTab(t){window.open(this.selectedFhirServer+"/Questionnaire/"+t.id,"_blank")}saveQuestionnaire(t){var n=new Blob([JSON.stringify(t,null,2)],{type:"text/plain;charset=utf-8"});hd(n,`${t.title}-v${t.meta.versionId}.json`)}isRootQuestionnaire(t){return!(!t.extension||!Array.isArray(t.extension))&&t.extension.some(n=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation"===n.url&&"assemble-root"===n.valueCode)}assemble(t){this._snackBar.openFromComponent(Ar,{duration:2e3,data:"Assembling Questionnaire...",panelClass:["green-snackbar"]}),this.questionnaireService.assembleQuestionnaire(t).then(n=>{n.title=t.title+" (assembled)",this.previewQuestionnaire.emit(n),this._snackBar.openFromComponent(Ar,{duration:2e3,data:"Questionnaire ready",panelClass:["green-snackbar"]})}).catch(n=>{console.error("Error assembling questionnaire:",n)})}createQuestionnaire(){let t=this.blankQuestionnaire;t.meta||(t.meta={}),t.meta.tag=[{system:"http://snomed.org/tags",code:this.selectedUserTag,display:this.selectedUserTag},{system:"http://snomed.org/tags",code:"questionnaireManagerTool",display:"questionnaireManagerTool"}],this.editQuestionnaire(t)}editQuestionnaire(t){const n=window.open(this.fbUrl+"/window-open?referrer="+encodeURIComponent(window.location.href));window.addEventListener("message",function s(o){if(o.origin===r.fbUrl){const b=o.data.questionnaire;switch(o.data.type){case"initialized":n?.postMessage({type:"initialQuestionnaire",questionnaire:t},r.fbUrl);break;case"updateQuestionnaire":break;case"closed":r.fhirService.updateOrCreateQuestionnaire(b,r.selectedUserTag).pipe(Wl()).subscribe(C=>{r._snackBar.openFromComponent(Ar,{duration:5e3,data:"Questionnaire updated successfully",panelClass:["green-snackbar"]}),r.updateQuestionnairesList(C)},C=>{r._snackBar.openFromComponent(Ar,{duration:5e3,data:"Error saving questionnaire",panelClass:["red-snackbar"]})})}}},!0);let r=this}openModularQuestionnaireModal(t){var n=this;return de(function*(){let r=yield n.questionnaireService.getRootQuestionnaireData(t);n.dialog.open(aj,{data:r,width:"75%"}).afterClosed().subscribe(o=>{o&&n.handleDialogResult(o,t)})})()}handleDialogResult(t,n){var r=this;return de(function*(){r._snackBar.openFromComponent(Ar,{duration:5e3,data:"Updating questionnaire...",panelClass:["green-snackbar"]});try{let s=yield r.questionnaireService.generateRootQuestionnaire(t.title,t.questionnaires);s&&(n.title=t.title,n.item=s.item,r.addQuestionnaire(n),r.fhirService.updateOrCreateQuestionnaire(n,r.selectedUserTag).pipe(Wl()).subscribe(o=>{r._snackBar.openFromComponent(Ar,{duration:5e3,data:"Questionnaire updated successfully",panelClass:["green-snackbar"]}),r.updateQuestionnairesList(o)},o=>{r._snackBar.openFromComponent(Ar,{duration:5e3,data:"Error saving questionnaire",panelClass:["red-snackbar"]})}))}catch(s){console.error("Error handling dialog result:",s)}})()}downloadAllQuestionnaires(){this._snackBar.openFromComponent(Ar,{duration:5e3,data:"Downloading Questionnaires...",panelClass:["green-snackbar"]}),this.fhirService.getQuestionnairesByTag(this.selectedUserTag).subscribe(t=>{var n=new Blob([JSON.stringify(t,null,2)],{type:"text/plain;charset=utf-8"});hd(n,"questionnaires-bundle.json"),this._snackBar.openFromComponent(Ar,{duration:5e3,data:"Questionnaires downloaded successfully",panelClass:["green-snackbar"]})})}getReferencingQuestionnaires(t){let r=`${this.fhirService.getBaseUrl()}/Questionnaire/${t.id}`;return this.dataSource.data.filter(o=>o.item&&Array.isArray(o.item)&&o.item.some(l=>l.item&&Array.isArray(l.item)&&l.item.some(b=>b.extension&&Array.isArray(b.extension)&&b.extension.some(C=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire"===C.url&&C.valueCanonical===r))))}getDeleteTooltip(t){const n=this.getReferencingQuestionnaires(t);return 0===n.length?"Delete Questionnaire":`Cannot delete: Referenced by ${n.map(s=>`"${s.title}"`).join(", ")}`}static#t=this.\u0275fac=function(n){return new(n||e)(mt(hv),mt(oj),mt(lm),mt(Eh))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-list-questionnaires"]],viewQuery:function(n,r){if(1&n&&(Mi(lP,5),Mi(Nh,5)),2&n){let s;Be(s=Ve())&&(r.paginator=s.first),Be(s=Ve())&&(r.sort=s.first)}},inputs:{config:"config"},outputs:{questionnaireSelected:"questionnaireSelected",validateQuestionnaire:"validateQuestionnaire",previewQuestionnaire:"previewQuestionnaire",viewQuestionaireHistory:"viewQuestionaireHistory"},features:[tr],decls:28,vars:9,consts:[["id","table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","version"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","lastUpdated"],["matColumnDef","type"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"mat-elevation-z8",3,"pageSizeOptions","pageSize"],["class","not-found",4,"ngIf"],["diameter","35","class","loading-spinner",4,"ngIf"],["id","outer-container"],[1,"download-button-container"],["mat-flat-button","","color","accent","matTooltip","Download all Questionnaires",3,"click",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"ngClass"],["mat-header-cell",""],[3,"ngClass",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Validate Questionnaire",3,"disabled","click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Assemble Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Preview Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Open resource in new tab",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","matTooltip","Download Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Edit Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Edit Modular Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","matTooltip","View Questionnaire History",1,"action-button",3,"click","disabled"],[3,"matTooltip"],["mat-icon-button","","color","accent",3,"click","disabled"],["mat-icon-button","","color","accent","matTooltip","Validate Questionnaire",1,"action-button",3,"click","disabled"],["mat-icon-button","","color","accent","matTooltip","Assemble Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Preview Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Open resource in new tab",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Edit Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Edit Modular Questionnaire",1,"action-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"not-found"],["diameter","35",1,"loading-spinner"],["mat-flat-button","","color","accent","matTooltip","Download all Questionnaires",3,"click"]],template:function(n,r){1&n&&(q(0,"div",0)(1,"table",1),Wi(2,2),Gt(3,TDt,2,0,"th",3)(4,CDt,2,1,"td",4),Xi(),Wi(5,5),Gt(6,SDt,2,0,"th",3)(7,EDt,4,6,"td",4),Xi(),Wi(8,6),Gt(9,ADt,2,0,"th",7)(10,DDt,2,1,"td",4),Xi(),Wi(11,8),Gt(12,MDt,2,0,"th",3)(13,IDt,3,4,"td",4),Xi(),Wi(14,9),Gt(15,kDt,2,0,"th",3)(16,FDt,3,2,"td",4),Xi(),Wi(17,10),Gt(18,ODt,2,0,"th",7)(19,GDt,17,9,"td",4),Xi(),Gt(20,HDt,1,0,"tr",11)(21,WDt,1,0,"tr",12),et(),ye(22,"mat-paginator",13),Gt(23,XDt,3,0,"p",14)(24,jDt,1,0,"mat-spinner",15),et(),q(25,"div",16)(26,"div",17),Gt(27,YDt,2,0,"button",18),et()()),2&n&&(ot(),xt("dataSource",r.dataSource),ot(19),xt("matHeaderRowDef",r.displayedColumns),ot(),xt("matRowDefColumns",r.displayedColumns),ot(),xt("pageSizeOptions",Zo(8,yDt))("pageSize",10),ot(),xt("ngIf",r.notFound&&!r.questionnaires.length),ot(),xt("ngIf",r.loading),ot(3),xt("ngIf",!r.loading&&r.questionnaires.length>0))},dependencies:[_c,Is,Ea,Oo,ua,Ah,Dh,pu,Mh,gu,mu,Ih,vu,xu,kh,Rh,bu,Nh,oP,lP,TI,Zd],styles:[".list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.list-text[_ngcontent-%COMP%]{flex-grow:1}.list-subtext[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-left:1rem}.action-button[_ngcontent-%COMP%]{margin-left:8px}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.list-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.status-pill[_ngcontent-%COMP%]{display:inline-block;padding:3px 8px;border-radius:15px;font-size:10px;color:#fff;text-align:center;margin-left:1rem}.status-pill.draft[_ngcontent-%COMP%]{background-color:#007bff}.status-pill.unknown[_ngcontent-%COMP%]{background-color:#ffc107}.status-pill.active[_ngcontent-%COMP%]{background-color:#28a745}.status-pill.retired[_ngcontent-%COMP%]{background-color:#dc3545}#table-container[_ngcontent-%COMP%]{padding-bottom:2rem}.not-found[_ngcontent-%COMP%]{margin-top:2rem}#outer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.download-button-container[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:2rem}"]})}return e})(),$Dt=(()=>{class e{constructor(t){this.dialogRef=t,this.listConfig={select:!0}}selectAndDownload(t){this.dialogRef.close(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lh))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-load-questionnaire-modal"]],decls:7,vars:1,consts:[[3,"questionnaireSelected","config"],["align","end"],["mat-flat-button","","color","accent","mat-dialog-close",""]],template:function(n,r){1&n&&(q(0,"mat-dialog-content")(1,"h2"),ut(2,"Available Questionnaires"),et(),q(3,"app-list-questionnaires",0),Vt("questionnaireSelected",function(o){return r.selectAndDownload(o)}),et()(),q(4,"mat-dialog-actions",1)(5,"button",2),ut(6,"Close"),et()()),2&n&&(ot(3),xt("config",r.listConfig))},dependencies:[Ea,dv,Yy,jy,lj]})}return e})();const QDt=["settingsForm"];function KDt(e,i){1&e&&(q(0,"mat-error"),ut(1,"Base URL is required"),et())}function ZDt(e,i){1&e&&(q(0,"mat-error"),ut(1,"User Tag is required and must be at least 3 characters"),et())}let cP=(()=>{class e{constructor(t,n){this.fhirService=t,this.dialogRef=n,this.baseUrl="",this.userTag=""}ngAfterViewInit(){this.triggerValidation()}triggerValidation(){Object.keys(this.settingsForm.controls).forEach(t=>{const n=this.settingsForm.control.get(t);n?.markAsTouched({onlySelf:!0}),n?.markAsDirty({onlySelf:!0})})}ngOnInit(){this.baseUrl=this.fhirService.getBaseUrl(),this.userTag=this.fhirService.getUserTag()}updateSettings(){this.settingsForm.valid&&(this.fhirService.setBaseUrl(this.baseUrl),this.fhirService.setUserTag(this.userTag),this.dialogRef.close("save"))}static#t=this.\u0275fac=function(n){return new(n||e)(mt(hv),mt(Lh))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-fhir-server-settings-modal"]],viewQuery:function(n,r){if(1&n&&Mi(QDt,5),2&n){let s;Be(s=Ve())&&(r.settingsForm=s.first)}},decls:29,vars:5,consts:[["settingsForm","ngForm"],["baseUrlField","ngModel"],["userTagField","ngModel"],[1,"form-container"],[1,"warning"],[3,"ngSubmit"],["matInput","","name","baseUrl","required","",3,"ngModelChange","ngModel"],[4,"ngIf"],["matInput","","name","userTag","required","","minlength","3",3,"ngModelChange","ngModel"],[1,"button-container"],["mat-flat-button","","color","accent","type","submit",3,"disabled"],["mat-flat-button","","color","primary","mat-dialog-close",""]],template:function(n,r){if(1&n){const s=pe();q(0,"div",3)(1,"h2"),ut(2,"FHIR Server Connection"),et(),q(3,"p"),ut(4,"Manager mode allows you to store questionnares in a FHIR Server. Enter the FHIR server URL and your "),q(5,"b"),ut(6,"User Tag"),et(),ut(7,", this value will be used to identify your questionnaires."),et(),q(8,"p",4),ut(9,"Warning: using the default public FHIR server will not ensure the persistence of your information, always save your questionnaires to your computer as a backup."),et(),q(10,"form",5,0),Vt("ngSubmit",function(){return Ut(s),zt(r.updateSettings())}),q(12,"mat-form-field")(13,"mat-label"),ut(14,"Base URL of the FHIR Server"),et(),q(15,"input",6,1),_a("ngModelChange",function(l){return Ut(s),Ba(r.baseUrl,l)||(r.baseUrl=l),zt(l)}),et(),Gt(17,KDt,2,0,"mat-error",7),et(),q(18,"mat-form-field")(19,"mat-label"),ut(20,"User Tag"),et(),q(21,"input",8,2),_a("ngModelChange",function(l){return Ut(s),Ba(r.userTag,l)||(r.userTag=l),zt(l)}),et(),Gt(23,ZDt,2,0,"mat-error",7),et(),q(24,"div",9)(25,"button",10),ut(26,"Open FHIR Repository"),et(),q(27,"button",11),ut(28,"Close"),et()()()()}if(2&n){const s=Ki(11),o=Ki(16),l=Ki(22);ot(15),wa("ngModel",r.baseUrl),ot(2),xt("ngIf",o.invalid&&o.touched),ot(4),wa("ngModel",r.userTag),ot(2),xt("ngIf",l.invalid&&l.touched),ot(2),xt("disabled",!s.valid)}},dependencies:[Is,Ea,Sl,tl,MW,yu,rv,Cl,No,rm,OC,BR,$l,am,dv],styles:[".form-container[_ngcontent-%COMP%]{margin:auto;padding:20px}mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.warning[_ngcontent-%COMP%]{color:#ff9500;font-weight:lighter;font-style:italic}"]})}return e})(),dP=(()=>{class e{constructor(t,n){this.data=t,this.dialogRef=n}static#t=this.\u0275fac=function(n){return new(n||e)(mt(KC),mt(Lh))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-confirmation-dialog"]],decls:10,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","",1,"button-container"],["mat-button","",3,"mat-dialog-close"]],template:function(n,r){1&n&&(q(0,"h1",0),ut(1),et(),q(2,"div",1)(3,"p"),ut(4),et()(),q(5,"div",2)(6,"button",3),ut(7,"Yes"),et(),q(8,"button",3),ut(9,"No"),et()()),2&n&&(ot(),Xe(r.data.title),ot(3),Xe(r.data.message),ot(2),xt("mat-dialog-close",!0),ot(2),xt("mat-dialog-close",!1))},dependencies:[Ea,dv,rP,Yy,jy],encapsulation:2})}return e})();const JDt=new ee("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let uP=(()=>{class e{constructor(t,n,r,s,o){this._elementRef=t,this._ngZone=n,this._changeDetectorRef=r,this._animationMode=s,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new De,this._mode="determinate",this._transitionendHandler=l=>{0===this.animationEnd.observers.length||!l.target||!l.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===s,o&&(o.color&&(this.color=this._defaultColor=o.color),this.mode=o.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(t){this._color=t}get value(){return this._value}set value(t){this._value=cj(t||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=cj(t||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(ii),mt(Mn),mt(Nr,8),mt(JDt,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(n,r){2&n&&(Ti("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),Ul("mat-"+r.color),bi("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[Wt.HasDecoratorInputTransform,"value","value",jr],bufferValue:[Wt.HasDecoratorInputTransform,"bufferValue","bufferValue",jr],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[ln,Vi],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(n,r){1&n&&(q(0,"div",0),ye(1,"div",1)(2,"div",2),et(),q(3,"div",3),ye(4,"span",4),et(),q(5,"div",5),ye(6,"span",4),et()),2&n&&(ot(),Ms("flex-basis",r._getBufferBarFlexBasis()),ot(2),Ms("transform",r._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E\")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:start;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0})}return e})();function cj(e,i=0,t=100){return Math.max(i,Math.min(t,e))}let tMt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Zi]})}return e})();const eMt=["questionnairesList"];function iMt(e,i){if(1&e&&(q(0,"div",19),ye(1,"mat-progress-bar",20),q(2,"div",21),ut(3),et()()),2&e){const t=Ct();ot(),xt("value",t.validatingProgress),ot(2),He("",t.validatingProgress,"%")}}function nMt(e,i){if(1&e){const t=pe();q(0,"button",22),Vt("click",function(){return Ut(t),zt(Ct().saveQuestionnaire())}),ut(1," Save changes "),et()}if(2&e){const t=Ct();xt("disabled",t.validating||!t.questionnaire)}}function rMt(e,i){1&e&&(q(0,"span"),ut(1,"Run validation"),et())}function sMt(e,i){1&e&&ye(0,"mat-spinner",26)}function aMt(e,i){if(1&e){const t=pe();q(0,"button",23),Vt("click",function(){return Ut(t),zt(Ct().validate())}),Gt(1,rMt,2,0,"span",24)(2,sMt,1,0,"mat-spinner",25),et()}if(2&e){const t=Ct();ot(),xt("ngIf",!t.validating),ot(),xt("ngIf",t.validating)}}function oMt(e,i){if(1&e&&(q(0,"span",32),ut(1),et()),2&e){const t=Ct(2);ot(),He("Error: ",t.loadResults.error,"")}}function lMt(e,i){if(1&e&&(q(0,"span",33),ut(1),et()),2&e){const t=Ct(2);ot(),He("Inactive: ",t.loadResults.inactive,"")}}function cMt(e,i){if(1&e&&(q(0,"span",34),ut(1),et()),2&e){const t=Ct(2);ot(),He("Active: ",t.loadResults.active,"")}}function dMt(e,i){if(1&e&&(q(0,"p",27)(1,"b"),ut(2,"Questionnaire:"),et(),ut(3),q(4,"i"),ut(5),et(),ut(6,") - "),q(7,"span",28),ut(8),et(),ut(9),hs(10,"date"),Gt(11,oMt,2,1,"span",29)(12,lMt,2,1,"span",30)(13,cMt,2,1,"span",31),et()),2&e){const t=Ct();ot(3),He(" ",t.questionnaire.title," ("),ot(2),Xe(t.questionnaire.url),ot(3),He("",t.dataSource.data.length," bindings"),ot(),Ko(" - - Version: ",t.questionnaire.meta.versionId," (",bc(10,8,t.questionnaire.meta.lastUpdated,"fullDate"),") "),ot(2),xt("ngIf",t.loadResults.total>0),ot(),xt("ngIf",t.loadResults.total>0),ot(),xt("ngIf",t.loadResults.total>0)}}function uMt(e,i){1&e&&(q(0,"th",35),ut(1," # "),et())}function hMt(e,i){if(1&e&&(q(0,"td",36),ut(1),et()),2&e){const t=i.$implicit;ot(),He(" ",t.order," ")}}function fMt(e,i){1&e&&(q(0,"th",35),ut(1," FHIRPath "),et())}function mMt(e,i){if(1&e&&(q(0,"td",36),ut(1),et()),2&e){const t=i.$implicit;ot(),He(" ",t.path," ")}}function pMt(e,i){1&e&&(q(0,"th",35),ut(1," Path "),et())}function gMt(e,i){if(1&e&&(q(0,"td",36),ut(1),et()),2&e){const t=i.$implicit;ot(),He(" ",t.readablePath," ")}}function vMt(e,i){1&e&&(q(0,"th",35),ut(1,"Code "),et())}function xMt(e,i){if(1&e&&(q(0,"td",36)(1,"a",37),ut(2),et()()),2&e){const t=i.$implicit;ot(),W_("href","http://snomed.info/id/",t.code,"",lx),ot(),Xe(t.code)}}function yMt(e,i){1&e&&(q(0,"th",35),ut(1," Display "),et())}function bMt(e,i){if(1&e&&(q(0,"p",41),ut(1),et()),2&e){const t=Ct().$implicit;ot(),He("Concept FSN: ",t.serverDisplay,"")}}function wMt(e,i){1&e&&(q(0,"p",42),ut(1,"Concept is inactive"),et())}function _Mt(e,i){if(1&e){const t=pe();q(0,"p",43),ut(1),q(2,"button",44),Vt("click",function(){const r=Ut(t).$implicit,s=Ct().$implicit;return zt(Ct().replaceInactiveConcept(s,r.replacement))}),q(3,"mat-icon"),ut(4,"arrow_forward"),et()()()}if(2&e){const t=i.$implicit,n=Ct(2);ot(),Ux(" Replacement: ",t.equivalence," to ",t.replacement.code," |",t.replacement.display,"| "),ot(),xt("disabled",n.validating)}}function TMt(e,i){if(1&e&&(q(0,"td",36),ut(1),Gt(2,bMt,2,1,"p",38)(3,wMt,2,0,"p",39)(4,_Mt,5,4,"p",40),et()),2&e){const t=i.$implicit;ot(),He(" ",t.display," "),ot(),xt("ngIf",t.serverDisplay),ot(),xt("ngIf","Inactive"==t.status),ot(),xt("ngForOf",t.replacements)}}function CMt(e,i){1&e&&(q(0,"th",35),ut(1," System "),et())}function SMt(e,i){if(1&e&&(q(0,"td",36),ut(1),et()),2&e){const t=i.$implicit;ot(),He(" ",t.system," ")}}function EMt(e,i){1&e&&(q(0,"th",35),ut(1," Status "),et())}function AMt(e,i){1&e&&(q(0,"span"),ye(1,"mat-progress-bar",45),et())}function DMt(e,i){if(1&e&&(q(0,"span")(1,"span",46),ut(2),et()()),2&e){const t=Ct().$implicit;ot(),xt("ngClass",t.status),ot(),Xe(t.status)}}function MMt(e,i){if(1&e&&(q(0,"td",36),Gt(1,AMt,2,0,"span",24)(2,DMt,3,2,"span",24),et()),2&e){const t=i.$implicit;ot(),xt("ngIf","Validating"==t.status),ot(),xt("ngIf","Validating"!=t.status)}}function IMt(e,i){1&e&&ye(0,"tr",47)}function kMt(e,i){1&e&&ye(0,"tr",48)}function RMt(e,i){1&e&&ye(0,"mat-spinner",49)}let PMt=(()=>{class e{constructor(t,n){this.terminologyService=t,this._snackBar=n,this.questionnaireUpdated=new De,this.validatingQuestionnaire=new De,this.loading=!1,this.validating=!1,this.displayedColumns=["order","readablePath","code","display","system","status"],this.dataSource=new im,this.validatingProgress=0,this.orderCounter=0,this.loadResults={total:0,active:0,inactive:0,error:0},this.requiresSave=!1}ngOnChanges(t){t.questionnaire&&(this.questionnaire?this.loadQuestionnaire(this.questionnaire):this.clearQuestionnaire())}clearQuestionnaire(){this.questionnaire=null,this.dataSource.data=[],this.orderCounter=0,this.validatingProgress=0,this.loadResults={total:0,active:0,inactive:0,error:0}}loadQuestionnaire(t){this.loading=!0,this.clearQuestionnaire(),setTimeout(()=>{this.loading=!1,this.questionnaire=t;let n=this.extractObjects(t);this.dataSource.data=n,this.dataSource.sort=this.sort},700)}validate(){var t=this;this.loadResults={total:0,active:0,inactive:0,error:0},this.dataSource.data.forEach(s=>{s.status="Not checked"}),this.validating=!0,this.validatingQuestionnaire.emit(!0);let n=this.dataSource.data.length,r=0;this.asyncForEach(this.dataSource.data,function(){var s=de(function*(o){t.loadResults.total++,o.status="Validating",r++,t.validatingProgress=Math.round(r/n*100);try{const l=yield t.terminologyService.lookupConcept(o.code,o.system).pipe(Wl()).toPromise();let b=[],C="";for(const D of l.parameter){if("designation"===D.name){let R="",O="";for(const L of D.part)"value"===L.name&&(R=L.valueString),"use"===L.name&&(O=L.valueCoding?.code);b.push(R),"900000000000003001"===O&&(C=R)}"inactive"===D.name&&(D.valueBoolean?(o.status="Inactive",t.loadResults.inactive++):(o.status="Active",t.loadResults.active++))}if((!o.display||!b.includes(o.display))&&(o.serverDisplay=C),"Inactive"==o.status){const D=yield t.getHistoricalAssociationsTarget("900000000000527005",o.code),R=yield t.getHistoricalAssociationsTarget("900000000000530003",o.code),O=yield t.getHistoricalAssociationsTarget("900000000000523009",o.code),L=yield t.getHistoricalAssociationsTarget("900000000000526001",o.code),U=D.concat(R,O,L);o.replacements=U}}catch{o.status="Error",t.loadResults.error++}});return function(o){return s.apply(this,arguments)}}()).then(()=>{this.validating=!1,this.validatingQuestionnaire.emit(!1)})}getHistoricalAssociationsTarget(t,n){var r=this;return de(function*(){let s=[];const o=r.terminologyService.translate(t,n);let l=yield Sa(o.pipe(Di(b=>b)));if(l.parameter)for(const b of l.parameter)if("match"===b.name){let C={replacement:{},equivalence:""};for(const D of b.part)"concept"===D.name&&D.valueCoding&&(C.replacement={code:D.valueCoding.code,display:D.valueCoding.display,system:D.valueCoding.system}),"equivalence"===D.name&&D.valueCode&&(C.equivalence=D.valueCode);s.push(C)}return s})()}removeSemanticTag(t){return t.replace(/\s*\([^)]+\)\s*$/,"").trim().toLowerCase()}asyncForEach(t,n){return de(function*(){for(let r=0;r<t.length;r++)yield n(t[r],r,t)})()}extractObjects(t,n="",r=""){let s=[];if("object"!=typeof t||null===t)return s;if(t.text&&(r=r?`${r} -> ${t.text}`:t.text),t.system&&t.system.startsWith("http://snomed.info/sct")&&t.code&&t.display){this.orderCounter++;const o={order:this.orderCounter,system:t.system,code:t.code,display:t.display,path:n,readablePath:r,status:"Not checked"};s.some(l=>l.system===o.system&&l.code===o.code&&l.display===o.display)||s.push(o)}if(Array.isArray(t))for(let o in t)s=s.concat(this.extractObjects(t[o],`${n}[${o}]`,r));else for(let o in t)t.hasOwnProperty(o)&&(s=s.concat(this.extractObjects(t[o],n?`${n}.${o}`:o,r)));if(t.answerValueSet&&t.answerValueSet.startsWith("http")){const l=new URL(t.answerValueSet).searchParams.get("fhir_vs");if(l){const b=decodeURIComponent(l),C=/(\d{5,})(?:\s*\|\s*([^|]*)\s*\|)?/g;let D;for(;null!==(D=C.exec(b));)this.orderCounter++,s.push({order:this.orderCounter,code:D[1],display:D[2]?D[2].trim():void 0,system:"http://snomed.info/sct",path:n+".answerValueSet",readablePath:r+" -> answerValueSet [ECL]",status:"Not checked"})}}return s}replaceInactiveConcept(t,n){this.searchAndReplace(this.questionnaire,t,n,!1)&&(this.requiresSave=!0,this._snackBar.openFromComponent(Ar,{duration:5e3,data:"Inactive reference replaced successfully. Save the questionnaire to persist the changes.",panelClass:["green-snackbar"]}))}saveQuestionnaire(){this.questionnaireUpdated.emit(this.questionnaire)}searchAndReplace(t,n,r,s){if("object"!=typeof t||null===t)return s;if(t.system==n.system&&t.code==n.code&&t.display==n.display&&(t.system=r.system,t.code=r.code,t.display=r.display,s=!0),t.answerValueSet){const o=new URL(t.answerValueSet),l=o.searchParams.get("fhir_vs");if(l){const b=decodeURIComponent(l),C=new RegExp(`(\\s|^)${n.code}(\\s|$|\\|)`,"g");if(C.test(b)){const D=b.replace(C,`$1${r.code}$2`);s=!0;const R=new RegExp(`\\|\\s*${n.display}\\s*\\|`,"g");if(R.test(D)){const O=D.replace(R,`| ${r.display} |`);o.searchParams.set("fhir_vs",encodeURIComponent(O)),t.answerValueSet=o.toString()}o.searchParams.set("fhir_vs",encodeURIComponent(D)),t.answerValueSet=o.toString()}}}if(Array.isArray(t))for(let o in t)s=this.searchAndReplace(t[o],n,r,s);else for(let o in t)t.hasOwnProperty(o)&&(s=this.searchAndReplace(t[o],n,r,s));if(s&&this.dataSource.data)for(let o in this.dataSource.data)this.dataSource.data[o].system==n.system&&this.dataSource.data[o].code==n.code&&this.dataSource.data[o].display==n.display&&(this.dataSource.data[o].system=r.system,this.dataSource.data[o].code=r.code,this.dataSource.data[o].display=r.display,this.dataSource.data[o].status="Active",this.dataSource.data[o].replacements=[]);return s}static#t=this.\u0275fac=function(n){return new(n||e)(mt(da),mt(Eh))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-validate-questionnaire"]],viewQuery:function(n,r){if(1&n&&(Mi(Nh,5),Mi(ov,5),Mi(eMt,5)),2&n){let s;Be(s=Ve())&&(r.sort=s.first),Be(s=Ve())&&(r.tabGroup=s.first),Be(s=Ve())&&(r.questionnairesList=s.first)}},inputs:{questionnaire:"questionnaire"},outputs:{questionnaireUpdated:"questionnaireUpdated",validatingQuestionnaire:"validatingQuestionnaire"},features:[tr],decls:31,vars:8,consts:[[1,"button-container","bottom-spacer"],["class","progress-container",4,"ngIf"],["mat-flat-button","","color","accent",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["class","header","id","tab-header",4,"ngIf"],[1,"table-container","mt-4"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","order"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","path"],["matColumnDef","readablePath"],["matColumnDef","code"],["matColumnDef","display"],["matColumnDef","system"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["diameter","35","class","loading-spinner",4,"ngIf"],[1,"progress-container"],["mode","determinate",3,"value"],[1,"progress-label"],["mat-flat-button","","color","accent",3,"click","disabled"],["mat-flat-button","","color","accent",3,"click"],[4,"ngIf"],["diameter","20",4,"ngIf"],["diameter","20"],["id","tab-header",1,"header"],[1,"bindingsCount"],["class","mini-pill Error",4,"ngIf"],["class","mini-pill Inactive",4,"ngIf"],["class","mini-pill Active",4,"ngIf"],[1,"mini-pill","Error"],[1,"mini-pill","Inactive"],[1,"mini-pill","Active"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["target","_blank",1,"code-link",3,"href"],["class","server-name",4,"ngIf"],["class","concept-is-inactive",4,"ngIf"],["class","replacement",4,"ngFor","ngForOf"],[1,"server-name"],[1,"concept-is-inactive"],[1,"replacement"],["mat-icon-button","","color","primary","matTooltip","Replace using this concept",3,"click","disabled"],["mode","indeterminate"],[1,"pill",3,"ngClass"],["mat-header-row",""],["mat-row",""],["diameter","35",1,"loading-spinner"]],template:function(n,r){1&n&&(q(0,"div",0),Gt(1,iMt,4,2,"div",1)(2,nMt,2,1,"button",2)(3,aMt,3,2,"button",3),et(),Gt(4,dMt,14,11,"p",4),q(5,"div",5)(6,"table",6),Wi(7,7),Gt(8,uMt,2,0,"th",8)(9,hMt,2,1,"td",9),Xi(),Wi(10,10),Gt(11,fMt,2,0,"th",8)(12,mMt,2,1,"td",9),Xi(),Wi(13,11),Gt(14,pMt,2,0,"th",8)(15,gMt,2,1,"td",9),Xi(),Wi(16,12),Gt(17,vMt,2,0,"th",8)(18,xMt,3,3,"td",9),Xi(),Wi(19,13),Gt(20,yMt,2,0,"th",8)(21,TMt,5,4,"td",9),Xi(),Wi(22,14),Gt(23,CMt,2,0,"th",8)(24,SMt,2,1,"td",9),Xi(),Wi(25,15),Gt(26,EMt,2,0,"th",8)(27,MMt,3,2,"td",9),Xi(),Gt(28,IMt,1,0,"tr",16)(29,kMt,1,0,"tr",17),et(),Gt(30,RMt,1,0,"mat-spinner",18),et()),2&n&&(ot(),xt("ngIf",r.validating),ot(),xt("ngIf",r.requiresSave),ot(),xt("ngIf",!r.validating&&r.questionnaire),ot(),xt("ngIf",r.questionnaire),ot(2),xt("dataSource",r.dataSource),ot(22),xt("matHeaderRowDef",r.displayedColumns),ot(),xt("matRowDefColumns",r.displayedColumns),ot(),xt("ngIf",r.loading))},dependencies:[_c,vs,Is,Ea,Oo,ua,uP,Ah,Dh,pu,Mh,gu,mu,Ih,vu,xu,kh,Rh,bu,Nh,oP,Zd],styles:[".header[_ngcontent-%COMP%]{margin-left:2rem;margin-top:1rem}.table-container[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem;padding-bottom:2rem}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.bottom-spacer[_ngcontent-%COMP%]{margin-bottom:1rem}.pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;font-weight:700;text-align:center;display:inline-block;font-size:.8rem}.pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.mini-pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;text-align:center;font-weight:700;font-size:.9rem;margin-right:2rem;float:right}.mini-pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.mini-pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.mini-pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.progress-container[_ngcontent-%COMP%]{margin-top:1rem;position:relative;width:30%}.progress-label[_ngcontent-%COMP%]{position:absolute;width:100%;text-align:center;top:60%;transform:translateY(-50%);font-size:.9rem;font-weight:700}.bindingsCount[_ngcontent-%COMP%]{font-size:1rem;font-weight:lighter}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.code-link[_ngcontent-%COMP%]{font-size:.8rem}.server-name[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:maroon}.replacement[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:#00800b;display:flex;align-items:center;font-size:.9rem;margin-left:2rem}.concept-is-inactive[_ngcontent-%COMP%]{color:maroon;font-size:.9rem;margin-bottom:0rem}#myFormContainer[_ngcontent-%COMP%], #tab-header[_ngcontent-%COMP%]{margin-top:1rem}.tab-container[_ngcontent-%COMP%]{padding:2rem}.outgoing-link[_ngcontent-%COMP%]{font-size:.8rem;float:right;margin-right:2rem}"]})}return e})();const FMt=e=>["status-pill",e],OMt=()=>["status-pill","active"],LMt=()=>["status-pill","draft"];function NMt(e,i){1&e&&(q(0,"th",15),ut(1," Title "),et())}function BMt(e,i){if(1&e&&(q(0,"td",16),ut(1),et()),2&e){const t=i.$implicit;ot(),He(" ",t.title," ")}}function VMt(e,i){1&e&&(q(0,"th",15),ut(1," Status "),et())}function UMt(e,i){if(1&e&&(q(0,"td",16)(1,"span",17),ut(2),hs(3,"uppercase"),et()()),2&e){const t=i.$implicit;ot(),xt("ngClass",yl(4,FMt,t.status)),ot(),Xe(zl(3,2,t.status))}}function zMt(e,i){1&e&&(q(0,"th",15),ut(1," Version "),et())}function GMt(e,i){if(1&e&&(q(0,"td",16),ut(1),et()),2&e){const t=i.$implicit;ot(),He(" ",t.meta.versionId," ")}}function HMt(e,i){1&e&&(q(0,"th",15),ut(1," Date "),et())}function WMt(e,i){if(1&e&&(q(0,"td",16)(1,"i"),ut(2),hs(3,"date"),et()()),2&e){const t=i.$implicit;ot(2),Xe(bc(3,1,t.meta.lastUpdated,"MMMM d, y, h:mm:ss a"))}}function XMt(e,i){1&e&&(q(0,"th",15),ut(1," Type "),et())}function jMt(e,i){1&e&&(q(0,"span",17),ut(1,"QUESTIONNAIRE"),et()),2&e&&xt("ngClass",Zo(1,OMt))}function YMt(e,i){1&e&&(q(0,"span",17),ut(1,"MODULAR ROOT"),et()),2&e&&xt("ngClass",Zo(1,LMt))}function $Mt(e,i){if(1&e&&(q(0,"td",16),Gt(1,jMt,2,2,"span",18)(2,YMt,2,2,"span",18),et()),2&e){const t=i.$implicit,n=Ct();ot(),xt("ngIf",!n.isRootQuestionnaire(t)),ot(),xt("ngIf",n.isRootQuestionnaire(t))}}function QMt(e,i){1&e&&(q(0,"th",19),ut(1," Actions "),et())}function KMt(e,i){if(1&e){const t=pe();q(0,"button",24),Vt("click",function(){Ut(t);const r=Ct().$implicit;return zt(Ct().restore(r))}),q(1,"mat-icon"),ut(2,"restore_page"),et()()}}function ZMt(e,i){if(1&e){const t=pe();q(0,"td",16)(1,"button",20),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct().preview(r))}),q(2,"mat-icon"),ut(3,"visibility"),et()(),q(4,"button",21),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct().openInNewTab(r))}),q(5,"mat-icon"),ut(6,"open_in_new"),et()(),q(7,"button",22),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct().saveQuestionnaire(r))}),q(8,"mat-icon"),ut(9,"cloud_download"),et()(),Gt(10,KMt,3,0,"button",23),et()}if(2&e){const t=i.$implicit,n=Ct();ot(10),xt("ngIf",(null==t||null==t.meta?null:t.meta.versionId)!=(null==n.versions[0]||null==n.versions[0].meta?null:n.versions[0].meta.versionId))}}function JMt(e,i){1&e&&ye(0,"tr",25)}function qMt(e,i){1&e&&ye(0,"tr",26)}function tIt(e,i){1&e&&(q(0,"p",27)(1,"i"),ut(2," No questionnaire selected. "),et()())}function eIt(e,i){1&e&&ye(0,"mat-spinner",28)}let iIt=(()=>{class e{constructor(t){this.fhirService=t,this.previewQuestionnaire=new De,this.restoreQuestionnaireVersion=new De,this.versions=[],this.loading=!1,this.selectedFhirServer="",this.selectedUserTag="",this.displayedColumns=["title","status","version","lastUpdated","type","actions"],this.dataSource=new im}ngOnChanges(t){t.questionnaire&&t.questionnaire.currentValue&&t.questionnaire.currentValue.id&&this.loadVersions()}ngOnInit(){qd([this.fhirService.baseUrl$.pipe(iu(1e3),nu()),this.fhirService.userTag$.pipe(iu(1e3),nu())]).subscribe(([t,n])=>{(this.selectedFhirServer!==t||this.selectedUserTag!==n)&&(this.selectedFhirServer=t,this.selectedUserTag=n,this.selectedUserTag&&this.selectedFhirServer&&this.loadVersions())})}loadVersions(t){this.versions=[],this.dataSource.data=this.versions,t&&(this.questionnaire=t),this.questionnaire&&(this.loading=!0,this.fhirService.getQuestionnaireHistory(this.questionnaire.id).subscribe(n=>{this.versions=n.entry.map(r=>r.resource),this.dataSource.data=this.versions,this.loading=!1},n=>{this.loading=!1}))}preview(t){this.previewQuestionnaire.emit(t),this.loadVersions()}openInNewTab(t){window.open(this.selectedFhirServer+"/Questionnaire/"+t.id+"/_history/"+t.meta.versionId,"_blank")}saveQuestionnaire(t){var n=new Blob([JSON.stringify(t,null,2)],{type:"text/plain;charset=utf-8"});hd(n,`${t.title}-v${t.meta.versionId}.json`)}restore(t){this.restoreQuestionnaireVersion.emit(t)}isRootQuestionnaire(t){return!(!t.extension||!Array.isArray(t.extension))&&t.extension.some(n=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation"===n.url&&"assemble-root"===n.valueCode)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(hv))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-questionnaire-history"]],inputs:{questionnaire:"questionnaire"},outputs:{previewQuestionnaire:"previewQuestionnaire",restoreQuestionnaireVersion:"restoreQuestionnaireVersion"},features:[tr],decls:24,vars:5,consts:[[1,"table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","version"],["matColumnDef","lastUpdated"],["matColumnDef","type"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","not-found",4,"ngIf"],["diameter","35","class","loading-spinner",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"ngClass"],[3,"ngClass",4,"ngIf"],["mat-header-cell",""],["mat-icon-button","","color","accent","matTooltip","Preview Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Open resource in new tab",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Download Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Restore Version",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","matTooltip","Restore Version",1,"action-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"not-found"],["diameter","35",1,"loading-spinner"]],template:function(n,r){1&n&&(q(0,"div",0)(1,"table",1),Wi(2,2),Gt(3,NMt,2,0,"th",3)(4,BMt,2,1,"td",4),Xi(),Wi(5,5),Gt(6,VMt,2,0,"th",3)(7,UMt,4,6,"td",4),Xi(),Wi(8,6),Gt(9,zMt,2,0,"th",3)(10,GMt,2,1,"td",4),Xi(),Wi(11,7),Gt(12,HMt,2,0,"th",3)(13,WMt,4,4,"td",4),Xi(),Wi(14,8),Gt(15,XMt,2,0,"th",3)(16,$Mt,3,2,"td",4),Xi(),Wi(17,9),Gt(18,QMt,2,0,"th",10)(19,ZMt,11,1,"td",4),Xi(),Gt(20,JMt,1,0,"tr",11)(21,qMt,1,0,"tr",12),et(),Gt(22,tIt,3,0,"p",13)(23,eIt,1,0,"mat-spinner",14),et()),2&n&&(ot(),xt("dataSource",r.dataSource),ot(19),xt("matHeaderRowDef",r.displayedColumns),ot(),xt("matRowDefColumns",r.displayedColumns),ot(),xt("ngIf",!r.questionnaire),ot(),xt("ngIf",r.loading))},dependencies:[_c,Is,Oo,ua,Ah,Dh,pu,Mh,gu,mu,Ih,vu,xu,kh,Rh,bu,Nh,oP,TI,Zd],styles:[".list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.list-text[_ngcontent-%COMP%]{flex-grow:1}.list-subtext[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-left:1rem}.action-button[_ngcontent-%COMP%]{margin-left:8px}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.list-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.status-pill[_ngcontent-%COMP%]{display:inline-block;padding:3px 8px;border-radius:15px;font-size:10px;color:#fff;text-align:center;margin-left:1rem}.status-pill.draft[_ngcontent-%COMP%]{background-color:#007bff}.status-pill.unknown[_ngcontent-%COMP%]{background-color:#ffc107}.status-pill.active[_ngcontent-%COMP%]{background-color:#28a745}.status-pill.retired[_ngcontent-%COMP%]{background-color:#dc3545}.not-found[_ngcontent-%COMP%]{margin-top:2rem}#outer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.download-button-container[_ngcontent-%COMP%]{margin-top:10px}.table-container[_ngcontent-%COMP%]{margin:2rem;padding-bottom:2rem}"]})}return e})();const nIt=["questionnairesList"],rIt=["fileInput"],sIt=["questionnaireHistory"];function aIt(e,i){1&e&&(q(0,"span"),ut(1," / Validator"),et())}function oIt(e,i){1&e&&(q(0,"span"),ut(1," / Questionnaires repository"),et())}function lIt(e,i){if(1&e){const t=pe();q(0,"span",19)(1,"a",20),Vt("click",function(){return Ut(t),zt(Ct(3).mode="Manager")}),q(2,"mat-icon"),ut(3,"play_arrow"),et(),q(4,"span"),ut(5,"Reconnect to last FHIR Server"),et()()()}}function cIt(e,i){if(1&e&&(q(0,"span",19)(1,"span",21),ut(2),q(3,"i"),ut(4),et(),ut(5,'" )'),et()()),2&e){const t=Ct(3);ot(2),He(" ( ",t.selectedFhirServer,' as "'),ot(2),Xe(t.selectedUserTag)}}function dIt(e,i){if(1&e){const t=pe();q(0,"div",14)(1,"h3",15),ut(2,"Work with the Questionnaire Manager"),et(),q(3,"p",15),ut(4,"Connect to a FHIR server to store and version your questionnaire resources. Use the integrated questionnaire manager, editor and validator."),et(),q(5,"div",16)(6,"button",17),Vt("click",function(){Ut(t);const r=Ct(2);return r.step1Response="repository",zt(r.advanceFromStep1())}),ut(7,"Connect to a FHIR Server and Open Repository Manager"),et(),Gt(8,lIt,6,0,"span",18)(9,cIt,6,2,"span",18),et()()}if(2&e){const t=Ct(2);ot(8),xt("ngIf",t.selectedFhirServer&&t.selectedUserTag),ot(),xt("ngIf",t.selectedFhirServer&&t.selectedUserTag)}}function uIt(e,i){if(1&e){const t=pe();q(0,"div",22)(1,"h3",15),ut(2,"Work with a single questionnaire"),et(),q(3,"p",15),ut(4,"Create, preview or validate a questionnaire you upload from your computer."),et(),q(5,"div",23)(6,"button",17),Vt("click",function(){Ut(t);const r=Ct(2);return r.step1Response="edit",zt(r.advanceFromStep1())}),ut(7,"Open NLM Form Builder"),et(),q(8,"button",17),Vt("click",function(){Ut(t);const r=Ct(2);return r.step1Response="example",zt(r.advanceFromStep1())}),ut(9,"Load an example questionnaire"),et(),q(10,"button",17),Vt("click",function(){Ut(t);const r=Ct(2);return r.step1Response="validate",zt(r.advanceFromStep1())}),ut(11,"Upload and validate a questionnaire"),et()()()}}function hIt(e,i){if(1&e&&(q(0,"div",10)(1,"div",11),Gt(2,dIt,10,2,"div",12)(3,uIt,12,0,"div",13),et()()),2&e){const t=Ct();ot(2),xt("ngIf","step1"==t.mode),ot(),xt("ngIf","utility"==t.mode)}}function fIt(e,i){if(1&e&&(q(0,"span"),ut(1," Connected to "),q(2,"a",37),ut(3),et(),ut(4,' as "'),q(5,"i"),ut(6),et(),ut(7,'" '),et()),2&e){const t=Ct(2);ot(2),xt("href",t.selectedFhirServer,lx),ot(),Xe(t.selectedFhirServer),ot(3),Xe(t.selectedUserTag)}}function mIt(e,i){if(1&e){const t=pe();q(0,"button",26),Vt("click",function(){return Ut(t),zt(Ct(2).createQuestionnaire())}),ut(1," Create Questionnaire "),et()}2&e&&xt("disabled",Ct(2).validating)}function pIt(e,i){if(1&e){const t=pe();q(0,"button",26),Vt("click",function(){return Ut(t),zt(Ct(2).openModularQuestionnaireModal())}),ut(1," Create Modular Questionnaire "),et()}2&e&&xt("disabled",Ct(2).validating)}function gIt(e,i){if(1&e){const t=pe();q(0,"mat-tab",38)(1,"div",31)(2,"app-list-questionnaires",39,3),Vt("validateQuestionnaire",function(r){return Ut(t),zt(Ct(2).switchToValidateTab(r))})("previewQuestionnaire",function(r){return Ut(t),zt(Ct(2).switchToPreviewTab(r))})("viewQuestionaireHistory",function(r){return Ut(t),zt(Ct(2).switchToHistoryTab(r))}),et()()()}if(2&e){const t=Ct(2);ot(2),xt("config",t.listConfig)}}function vIt(e,i){if(1&e&&(q(0,"h4"),ut(1),hs(2,"date"),et()),2&e){const t=Ct(2);ot(),Ux("",t.questionnaire.title," - Version: ",t.questionnaire.meta.versionId," (",bc(2,3,t.questionnaire.meta.lastUpdated,"fullDate"),")")}}function xIt(e,i){if(1&e){const t=pe();q(0,"div")(1,"div",24),Gt(2,fIt,8,3,"span",8),q(3,"input",25,0),Vt("change",function(r){return Ut(t),zt(Ct().onFileSelected(r))}),et(),q(5,"button",26),Vt("click",function(){return Ut(t),zt(Ki(4).click())}),ut(6," Upload "),et(),q(7,"button",26),Vt("click",function(){return Ut(t),zt(Ct().saveQuestionnaireToDisk())}),ut(8,"Download"),et(),Gt(9,mIt,2,1,"button",27)(10,pIt,2,1,"button",27),et(),q(11,"mat-tab-group",28),Vt("selectedIndexChange",function(r){return Ut(t),zt(Ct().onTabChange(r))}),Gt(12,gIt,4,1,"mat-tab",29),q(13,"mat-tab",30)(14,"div",31),Gt(15,vIt,3,6,"h4",8),ye(16,"div",32),et()(),q(17,"mat-tab",33)(18,"app-validate-questionnaire",34,1),Vt("questionnaireUpdated",function(r){return Ut(t),zt(Ct().saveQuestionnaire(r))})("validatingQuestionnaire",function(r){return Ut(t),zt(Ct().validating=r)}),et()(),q(20,"mat-tab",35)(21,"app-questionnaire-history",36,2),Vt("previewQuestionnaire",function(r){return Ut(t),zt(Ct().switchToPreviewTab(r))})("restoreQuestionnaireVersion",function(r){return Ut(t),zt(Ct().saveQuestionnaire(r))}),et()()()()}if(2&e){const t=Ct();ot(2),xt("ngIf","Manager"==t.mode),ot(3),xt("disabled",t.validating),ot(2),xt("disabled",t.validating||!t.questionnaire),ot(2),xt("ngIf","Manager"==t.mode),ot(),xt("ngIf","Manager"==t.mode),ot(2),xt("ngIf","Manager"===t.mode),ot(3),xt("ngIf",t.questionnaire),ot(),bi("hidden",!t.questionnaire),ot(2),xt("questionnaire",t.questionnaire),ot(3),xt("questionnaire",t.questionnaire)}}let yIt=(()=>{class e{constructor(t,n,r,s,o,l,b){this.http=t,this.terminologyService=n,this.fhirService=r,this.questionnaireService=s,this.activatedRoute=o,this.dialog=l,this._snackBar=b,this.loading=!1,this.validating=!1,this.orderCounter=0,this.savingQuestionnaire=!1,this.selectedFhirServer="",this.selectedUserTag="",this.showFhirSetupModal=!1,this.listConfig={validate:!0,preview:!0},this.mode="step1"}ngOnInit(){this.fhirService.baseUrl$.subscribe(t=>{this.selectedFhirServer=t}),this.fhirService.userTag$.subscribe(t=>{this.selectedUserTag=t}),this.activatedRoute.queryParams.subscribe(t=>{this.mode="true"===t.utility?"utility":"step1"}),this.loadScript()}loadScript(){const t=document.createElement("script");t.src="https://clinicaltables.nlm.nih.gov/lforms-versions/36.3.2/webcomponent/lhc-forms.js",t.onload=()=>{const n=document.createElement("script");n.src="https://clinicaltables.nlm.nih.gov/lforms-versions/36.3.2/fhir/R4/lformsFHIR.min.js",n.onload=()=>{},document.head.appendChild(n)},document.head.appendChild(t)}toggleMode(){"Validator"===this.mode?this.dialog.open(cP,{width:"60%",disableClose:!0}).afterClosed().subscribe(n=>{"save"===n&&(this.mode="Manager",setTimeout(()=>{this.tabGroup.selectedIndex=0},500))}):this.mode="Validator"}previewForm(){"Preview"==this.getCurrentTabName()&&(this.questionnaire?LForms.Util.addFormToPage(this.questionnaire,"myFormContainer"):LForms.Util.addFormToPage({},"myFormContainer"))}getFormData(){this.questionnaire&&LForms.Util.getFormData("myFormContainer",!0,!0,!0)}displayHistory(t){t&&this.questionnaireHistory.loadVersions(t)}loadExampleQuestionnaire(){Sa(this.http.get("assets/questionnaires/Carcinoma-of-the-Exocrine-Pancreas-Histopathology-Reporting-Form.R4 (11).json")).then(t=>{this.loadQuestionnaire(t),"Manager"===this.mode&&(this.tabGroup.selectedIndex=1)})}clearQuestionnaire(){this.questionnaire=null,this.orderCounter=0,this.previewForm()}createQuestionnaire(){this.questionnairesList.createQuestionnaire()}loadQuestionnaire(t){this.loading=!0,this.clearQuestionnaire(),setTimeout(()=>{this.loading=!1,this.questionnaire=t,this.previewForm()},700)}saveQuestionnaireToDisk(){var t=new Blob([JSON.stringify(this.questionnaire,null,2)],{type:"text/plain;charset=utf-8"});hd(t,`${this.questionnaire.title}.json`)}onFileSelected(t){const n=t.target.files?.[0];if(n){const r=new FileReader;r.onload=s=>{try{const o=JSON.parse(s.target?.result);"Questionnaire"===o.resourceType?(this.loadQuestionnaire(o),setTimeout(()=>{"Manager"===this.mode?this.postCurrentQuestionnaire():this.tabGroup.selectedIndex=1},1e3)):this._snackBar.openFromComponent(Ar,{duration:5e3,data:"The file is not a FHIR Questionnaire Resource",panelClass:["red-snackbar"]})}catch(o){console.error(o),this._snackBar.openFromComponent(Ar,{duration:5e3,data:"Invalid JSON file",panelClass:["red-snackbar"]})}},r.readAsText(n),t.target.value=""}}postCurrentQuestionnaire(){this.postQuestionnaire(this.questionnaire)}postQuestionnaire(t){if(-1!==this.questionnairesList.questionnaires.findIndex(r=>r.title===t.title&&r.id!==t.id))this.dialog.open(dP,{width:"400px",data:{title:"Confirm Action",message:"A questionnaire with the same title and different ID already exists. Do you want to proceed?"}}).afterClosed().subscribe(s=>{s?this.saveQuestionnaire(t):this._snackBar.openFromComponent(Ar,{duration:5e3,data:"Questionnaire save action cancelled",panelClass:["red-snackbar"]})});else{-1!==this.questionnairesList.questionnaires.findIndex(o=>o.title===t.title&&o.id===t.id&&o.meta?.versionId>=t.meta?.versionId)?this.dialog.open(dP,{width:"400px",data:{title:"Confirm Action",message:"A newer version or identical of this questionnaire already exists. Do you want to proceed?"}}).afterClosed().subscribe(l=>{l?this.saveQuestionnaire(t):this._snackBar.openFromComponent(Ar,{duration:5e3,data:"Questionnaire save action cancelled",panelClass:["red-snackbar"]})}):this.saveQuestionnaire(t)}}saveQuestionnaire(t){t?(this.savingQuestionnaire=!0,this._snackBar.openFromComponent(Ar,{duration:5e3,data:"Saving Questionnaire...",panelClass:["green-snackbar"]}),t.meta||(t.meta={}),t.meta.tag=[{system:"http://snomed.org/tags",code:this.selectedUserTag,display:this.selectedUserTag},{system:"http://snomed.org/tags",code:"questionnaireManagerTool",display:"questionnaireManagerTool"}],this.fhirService.updateOrCreateQuestionnaire(t,this.selectedUserTag).pipe(Wl()).subscribe(n=>{setTimeout(()=>{this.tabGroup.selectedIndex=0,setTimeout(()=>{this.savingQuestionnaire=!1,this.questionnairesList.addQuestionnaire(n)},300)},300),this._snackBar.openFromComponent(Ar,{duration:5e3,data:"Questionnaire saved successfully",panelClass:["green-snackbar"]})},n=>{this.savingQuestionnaire=!1,this._snackBar.openFromComponent(Ar,{duration:5e3,data:"Error saving questionnaire",panelClass:["red-snackbar"]}),this.dialog.open(dP,{width:"400px",data:{title:"Save error",message:"This could be an ID conflict. Post again as a new questionnaire?"}}).afterClosed().subscribe(s=>{s?(delete t.id,this.saveQuestionnaire(t)):this._snackBar.openFromComponent(Ar,{duration:5e3,data:"Questionnaire not saved",panelClass:["red-snackbar"]})})})):this._snackBar.openFromComponent(Ar,{duration:5e3,data:"No questionnaire to save",panelClass:["red-snackbar"]})}listQuestionnaires(){this.fhirService.getQuestionnairesByTag(this.selectedUserTag).pipe(Wl()).subscribe(t=>{},t=>{console.error(t)})}openLoadQuestionnairesDialog(){this.dialog.open($Dt,{width:"70%"}).afterClosed().subscribe(n=>{this.loadQuestionnaire(n)})}setFhirServer(){this.fhirService.setBaseUrl(this.selectedFhirServer),this.fhirService.setUserTag(this.selectedUserTag)}setupFhirServer(){this.dialog.open(cP,{width:"60%"})}switchToValidateTab(t){this.loadQuestionnaire(t),this.tabGroup.selectedIndex=2}switchToPreviewTab(t){this.loadQuestionnaire(t),this.tabGroup.selectedIndex=1}switchToHistoryTab(t){this.displayHistory(t),this.tabGroup.selectedIndex=3}advanceFromStep1(){"edit"==this.step1Response?window.open("https://lhcformbuilder.nlm.nih.gov/","_blank"):"validate"==this.step1Response?(this.mode="Validator",setTimeout(()=>{this.uploadInput.nativeElement.click()},200)):"repository"==this.step1Response?this.dialog.open(cP,{width:"60%"}).afterClosed().subscribe(n=>{n&&(this.mode="Manager")}):"example"==this.step1Response?(this.mode="Validator",setTimeout(()=>{this.loadExampleQuestionnaire()},300)):"reconnect"==this.step1Response&&(this.mode="Manager"),this.step1Response=""}getCurrentTabName(){const t=this.tabGroup.selectedIndex;return null!=t?this.tabGroup._tabs.toArray()[t].textLabel:""}onTabChange(t){"Preview"===this.tabGroup._tabs.toArray()[t].textLabel&&setTimeout(()=>{this.previewForm()},300)}openModularQuestionnaireModal(){this.dialog.open(aj,{width:"75%"}).afterClosed().subscribe(n=>{n&&this.questionnaireService.generateRootQuestionnaire(n.title,n.questionnaires).then(r=>{this.postQuestionnaire(r)}).catch(r=>{console.error("Error:",r)})})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(ad),mt(da),mt(hv),mt(oj),mt(Sc),mt(lm),mt(Eh))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-questionnaires-main"]],viewQuery:function(n,r){if(1&n&&(Mi(Nh,5),Mi(ov,5),Mi(nIt,5),Mi(rIt,5),Mi(sIt,5)),2&n){let s;Be(s=Ve())&&(r.sort=s.first),Be(s=Ve())&&(r.tabGroup=s.first),Be(s=Ve())&&(r.questionnairesList=s.first),Be(s=Ve())&&(r.uploadInput=s.first),Be(s=Ve())&&(r.questionnaireHistory=s.first)}},decls:11,vars:4,consts:[["fileInput",""],["validateQuestionnaire",""],["questionnaireHistory",""],["questionnairesList",""],[1,"header-container"],[1,"header"],[1,"breadcrumb"],["href","javascript:void(0)",3,"click"],[4,"ngIf"],["id","step1",4,"ngIf"],["id","step1"],[1,"flex","justify-between","pr-4"],["class","w-full border-2 border-blue-200 bg-transparent rounded-lg p-4 m-2 min-h-[500px]",4,"ngIf"],["class","w-full border-2 border-blue-200 bg-transparent rounded-lg p-4 m-2 min-h-[500px] justify-center",4,"ngIf"],[1,"w-full","border-2","border-blue-200","bg-transparent","rounded-lg","p-4","m-2","min-h-[500px]"],[1,"text-center"],[1,"flex","justify-center","flex-col","gap-1","mt-10"],["mat-flat-button","","color","accent",1,"mx-auto","w-auto","flex-none",3,"click"],["class","mx-auto w-auto flex-none",4,"ngIf"],[1,"mx-auto","w-auto","flex-none"],["href","javascript:void(0)","id","reconnect-link",3,"click"],[1,"muted"],[1,"w-full","border-2","border-blue-200","bg-transparent","rounded-lg","p-4","m-2","min-h-[500px]","justify-center"],[1,"flex","justify-center","flex-col","gap-5","mt-10"],[1,"button-container","bottom-spacer"],["type","file","hidden","",3,"change"],["mat-flat-button","","color","accent",3,"click","disabled"],["mat-flat-button","","color","accent",3,"disabled","click",4,"ngIf"],["mat-stretch-tabs","false","mat-align-tabs","start",3,"selectedIndexChange"],["label","My Questionnaires",4,"ngIf"],["label","Preview"],[1,"tab-container"],["id","myFormContainer"],["label","Validate SNOMED Bindings"],[3,"questionnaireUpdated","validatingQuestionnaire","questionnaire"],["label","History"],[3,"previewQuestionnaire","restoreQuestionnaireVersion","questionnaire"],["target","_blank",3,"href"],["label","My Questionnaires"],[3,"validateQuestionnaire","previewQuestionnaire","viewQuestionaireHistory","config"]],template:function(n,r){1&n&&(q(0,"div",4)(1,"h2",5),ut(2," SNOMED CT Terminology Bindings Validator - FHIR Questionnaire Manager "),et(),q(3,"div",6)(4,"span")(5,"a",7),Vt("click",function(){return r.mode="step1"}),ut(6,"Home"),et(),Gt(7,aIt,2,0,"span",8)(8,oIt,2,0,"span",8),et()()(),Gt(9,hIt,4,2,"div",9)(10,xIt,23,11,"div",8)),2&n&&(ot(7),xt("ngIf","Validator"==r.mode),ot(),xt("ngIf","Manager"==r.mode),ot(),xt("ngIf","step1"==r.mode||"utility"==r.mode),ot(),xt("ngIf","Manager"==r.mode||"Validator"==r.mode))},dependencies:[Is,Ea,ua,zy,ov,lj,PMt,iIt,Zd],styles:[".header[_ngcontent-%COMP%]{margin-left:2rem;margin-top:1rem}.table-container[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.bottom-spacer[_ngcontent-%COMP%]{margin-bottom:1rem}.pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;font-weight:700;text-align:center;display:inline-block;font-size:.8rem}.pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.mini-pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;text-align:center;font-weight:700;font-size:.9rem;margin-right:2rem;float:right}.mini-pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.mini-pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.mini-pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.progress-container[_ngcontent-%COMP%]{margin-top:1rem;position:relative;width:30%}.progress-label[_ngcontent-%COMP%]{position:absolute;width:100%;text-align:center;top:60%;transform:translateY(-50%);font-size:.9rem;font-weight:700}.bindingsCount[_ngcontent-%COMP%]{font-size:1rem;font-weight:lighter}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.code-link[_ngcontent-%COMP%]{font-size:.8rem}.server-name[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:maroon}.replacement[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:#00800b;display:flex;align-items:center;font-size:.9rem;margin-left:2rem}.concept-is-inactive[_ngcontent-%COMP%]{color:maroon;font-size:.9rem;margin-bottom:0rem}#myFormContainer[_ngcontent-%COMP%], #tab-header[_ngcontent-%COMP%]{margin-top:1rem}.tab-container[_ngcontent-%COMP%]{padding-top:1rem;padding-left:2rem;padding-right:2rem}.outgoing-link[_ngcontent-%COMP%]{font-size:.8rem;float:right;margin-right:2rem}#step1[_ngcontent-%COMP%]{margin-top:2rem;margin-left:2rem;font-size:large}#step1[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{margin-left:2rem;display:flex;flex-direction:column;align-items:flex-start}.step-button-container[_ngcontent-%COMP%]{margin-left:30rem;margin-top:2rem}.breadcrumb[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:2rem}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hidden[_ngcontent-%COMP%]{visibility:hidden}.muted[_ngcontent-%COMP%]{color:#8f9397}#reconnect[_ngcontent-%COMP%]{margin-left:5rem}#reconnect-link[_ngcontent-%COMP%]{display:flex;vertical-align:middle;flex-direction:row}"]})}return e})();const bIt=e=>({"bg-pink":e});function wIt(e,i){if(1&e&&(q(0,"p",18),ut(1),et()),2&e){const t=Ct();ot(),Xe(t.studentSubsetDefinition)}}function _It(e,i){1&e&&ye(0,"mat-spinner",19)}function TIt(e,i){if(1&e&&(q(0,"p",23),ut(1),et()),2&e){const t=Ct(2);ot(),Xe(t.definitionVsMembersValidationResult)}}function CIt(e,i){if(1&e&&(q(0,"p",23),ut(1),et()),2&e){const t=Ct(2);ot(),Xe(t.keyConceptValidationResult)}}function SIt(e,i){if(1&e&&(q(0,"div",20)(1,"h3",21),ut(2,"Validation Results"),et(),Gt(3,TIt,2,1,"p",22)(4,CIt,2,1,"p",22),q(5,"p",23),ut(6),et(),q(7,"p",23),ut(8),et()()),2&e){const t=Ct();ot(3),xt("ngIf",t.selectedAssignment.referenceDefinition),ot(),xt("ngIf",t.selectedAssignment.referenceDefinition),ot(2),Xe(t.membersNotInRefrenceListResult),ot(2),Xe(t.refrenceListVsStudentListResult)}}function EIt(e,i){1&e&&(q(0,"th",33),ut(1,"ID"),et())}function AIt(e,i){if(1&e&&(q(0,"td",34),ut(1),et()),2&e){const t=i.$implicit;ot(),Xe(t.referencedComponentId)}}function DIt(e,i){1&e&&(q(0,"th",33),ut(1,"Name"),et())}function MIt(e,i){if(1&e&&(q(0,"td",34),ut(1),et()),2&e){const t=i.$implicit;ot(),Xe(t.name)}}function IIt(e,i){1&e&&(q(0,"th",33),ut(1,"Result"),et())}function kIt(e,i){1&e&&(q(0,"span"),ut(1,"OK"),et())}function RIt(e,i){if(1&e&&(q(0,"span"),ut(1),et()),2&e){const t=Ct(2).$implicit;ot(),He(" ",t.customMessage.note," ")}}function PIt(e,i){1&e&&(q(0,"span"),ut(1," Error "),et())}function FIt(e,i){if(1&e&&(q(0,"span"),Gt(1,kIt,2,0,"span",16)(2,RIt,2,1,"span",16)(3,PIt,2,0,"span",16),et()),2&e){const t=Ct().$implicit;ot(),xt("ngIf",null==t||null==t.inReferenceList?null:t.inReferenceList.value),ot(),xt("ngIf",!(null!=t&&null!=t.inReferenceList&&t.inReferenceList.value)&&(null==t||null==t.customMessage?null:t.customMessage.value)),ot(),xt("ngIf",!(null!=t&&null!=t.inReferenceList&&t.inReferenceList.value||null!=t&&null!=t.customMessage&&t.customMessage.value))}}function OIt(e,i){if(1&e&&(q(0,"td",34),Gt(1,FIt,4,3,"span",16),et()),2&e){const t=Ct(2);ot(),xt("ngIf",t.membersValidationResult)}}function LIt(e,i){1&e&&ye(0,"tr",35)}function NIt(e,i){if(1&e&&ye(0,"tr",36),2&e){const t=i.$implicit,n=Ct(2);xt("ngClass",yl(1,bIt,!(null!=t.inReferenceList&&t.inReferenceList.value)&&n.membersValidationResult))}}function BIt(e,i){if(1&e&&(q(0,"div",24)(1,"table",25),Wi(2,26),Gt(3,EIt,2,0,"th",27)(4,AIt,2,1,"td",28),Xi(),Wi(5,29),Gt(6,DIt,2,0,"th",27)(7,MIt,2,1,"td",28),Xi(),Wi(8,30),Gt(9,IIt,2,0,"th",27)(10,OIt,2,1,"td",28),Xi(),Gt(11,LIt,1,0,"tr",31)(12,NIt,1,3,"tr",32),et()()),2&e){const t=Ct();ot(),xt("dataSource",t.studentSubsetMembersDataSource),ot(10),xt("matHeaderRowDef",t.studentSubsetMembersDisplayedColumns),ot(),xt("matRowDefColumns",t.studentSubsetMembersDisplayedColumns)}}function VIt(e,i){if(1&e){const t=pe();q(0,"button",40),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct(2).setAssignment(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Xe(t.name)}}function UIt(e,i){if(1&e&&(q(0,"div")(1,"h3"),ut(2,"Assignment"),et(),q(3,"button",37),ut(4),et(),q(5,"mat-menu",38,2),Gt(7,VIt,2,1,"button",39),et()()),2&e){const t=Ki(6),n=Ct();ot(3),xt("matMenuTriggerFor",t),ot(),He("Selected assignment: ",null==n.selectedAssignment?null:n.selectedAssignment.name,""),ot(3),xt("ngForOf",n.assignments)}}function zIt(e,i){if(1&e&&(q(0,"h3"),ut(1),et()),2&e){const t=Ct();ot(),He(" Assignment: ",null==t.selectedAssignment?null:t.selectedAssignment.name," ")}}function GIt(e,i){1&e&&(q(0,"ol")(1,"li"),ut(2,"1- Upload definition file"),et(),q(3,"li"),ut(4,"2- Upload members file"),et(),q(5,"li"),ut(6,"3- Click validate"),et()())}function HIt(e,i){1&e&&(q(0,"ol")(1,"li"),ut(2,"1- Upload members file"),et(),q(3,"li"),ut(4,"2- Click validate"),et()())}function WIt(e,i){if(1&e){const t=pe();q(0,"div")(1,"div")(2,"h3"),ut(3,"Reference Data"),et(),q(4,"mat-form-field",41)(5,"mat-label"),ut(6,"Textarea"),et(),q(7,"textarea",42),_a("ngModelChange",function(r){Ut(t);const s=Ct();return Ba(s.assignmentsString,r)||(s.assignmentsString=r),zt(r)}),et()(),q(8,"button",11),Vt("click",function(){return Ut(t),zt(Ct().updateAssignments())}),ut(9,"Update Assignments"),et()()()}if(2&e){const t=Ct();ot(7),wa("ngModel",t.assignmentsString)}}let XIt=(()=>{class e{constructor(t,n,r,s){this.http=t,this.terminologyService=n,this._snackBar=r,this.activatedRoute=s,this.studentSubsetMembersDisplayedColumns=["referencedComponentId","name","result"],this.studentSubsetMembersDataSource=new im,this.studentSubsetmembers=[],this.studentSubsetDefinition="",this.keyConceptValidationResult="",this.definitionVsMembersValidationResult="",this.membersNotInRefrenceListResult="",this.membersValidationResult=!1,this.refrenceListVsStudentListResult="",this.embeddedMode=!1,this.loading=!1,this.ok="\u2705",this.error="\u{1f7e5}",this.assignments=[{name:"Assignment X",referenceData:[{referencedComponentId:"403197009",name:"Sun-induced wrinkles"},{referencedComponentId:"279002006",name:"Lichenification of skin"},{referencedComponentId:"274672009",name:"Changes in skin texture"},{referencedComponentId:"271767006",name:"Peeling of skin"},{referencedComponentId:"271761007",name:"Scaly skin"},{referencedComponentId:"247434009",name:"Wrinkled skin"}],referenceDefinition:"< 185823004 |Finding of skin texture (finding)|",keyConceptsInECL:[{code:"185823004",display:"Finding of skin texture (finding)"}],customMessages:[{conceptId:"85345005",note:"wrong hierarchy",principle:"wrong hierarchy"},{conceptId:"403197009",note:"wrong hierarchy",principle:"wrong hierarchy"}]}],this.assignmentsString=JSON.stringify(this.assignments),this.selectedAssignment=this.assignments[0],this.referenceDataDisplayedColumns=["referencedComponentId","name"],this.referenceDataDataSource=new im(this.selectedAssignment.referenceData)}ngOnInit(){var t=this;return de(function*(){const n=yield Sa(t.http.get("assets/definitions/assignments.json"));t.assignments=n,t.assignmentsString=JSON.stringify(t.assignments),t.setAssignment(t.assignments[0]),t.activatedRoute.queryParams.subscribe(r=>{r.assignment&&t.setAssignment(t.assignments.find(s=>s.name===r.assignment)),t.embeddedMode="true"===r.embedded})})()}setAssignment(t){t&&(this.selectedAssignment=t,this.referenceDataDataSource=new im(this.selectedAssignment.referenceData))}checkStudentECLvsStudentList(){var t=this;return de(function*(){if(!t.studentSubsetDefinition){let r=yield t.terminologyService.expandValueSet(t.studentSubsetDefinition,"").toPromise(),o=0;t.studentSubsetmembers.forEach(l=>{r.expansion.contains.find(C=>C.code===l.referencedComponentId)?l.inStudentECL={value:!0,message:""}:(l.inStudentECL={value:!1,message:""},o++)})}return 0})()}checkStudentECLvsKeyConcept(){if(this.studentSubsetDefinition){console.log("Student ECL not defined");let t=this.studentSubsetDefinition,r=!0;return this.selectedAssignment.keyConceptsInECL.forEach(s=>{t.includes(s.code)||(r=!1)}),r}return!0}checkStudentListVsReferenceList(){let n=this.selectedAssignment.referenceData;this.studentSubsetmembers.forEach(s=>{s.inReferenceList=n.find(l=>l.referencedComponentId===s.referencedComponentId)?{value:!0,message:""}:{value:!1,message:""}})}checkReferenceListVsStudentList(){let t=this.studentSubsetmembers,r=0;return this.selectedAssignment.referenceData.forEach(s=>{t.find(l=>l.referencedComponentId===s.referencedComponentId)?s.inStudentList={value:!0,message:""}:(s.inStudentList={value:!1,message:""},r++)}),r}checkStudentListVsCustomMessages(){let n=this.selectedAssignment.customMessages;this.studentSubsetmembers.forEach(r=>{const s=n.find(o=>o.conceptId===r.referencedComponentId);r.customMessage=s?{value:!0,principle:s.principle,note:s.note}:{value:!1,principle:"",note:""}})}updateAssignments(){this.assignments=JSON.parse(this.assignmentsString),this.setAssignment(this.assignments[0])}validateAssignment(){var t=this;return de(function*(){t.loading=!0,t.keyConceptValidationResult="",t.definitionVsMembersValidationResult="",t.membersValidationResult=!1,t.loading=!0,t.studentSubsetDefinition&&(t.definitionVsMembersValidationResult=(yield t.checkStudentECLvsStudentList())>0?t.error+" The uploaded definition and members files are not in alignment":t.ok+" The uploaded definition and members files are in alignment",t.keyConceptValidationResult=t.checkStudentECLvsKeyConcept()?t.ok+" The definition of your subset includes the key subhierarchy":t.error+" The definition of your subset does not include the key subhierarchy"),t.checkStudentListVsReferenceList();let n=t.studentSubsetmembers.filter(s=>!s.inReferenceList.value).length;t.membersNotInRefrenceListResult=n>0?t.error+" There are "+n+" members in your subset that are not recommended to be included":t.ok+" All members match the recommended list of concepts for the subset",t.checkStudentListVsCustomMessages();let r=t.checkReferenceListVsStudentList();t.refrenceListVsStudentListResult=r>0?t.error+" "+r+" "+(r>1?"concepts are":"concept is")+" missing in the uploaded member list that would be recommended to be included in this subset":t.ok+" All recommended concepts are included in this subset",t.loading=!1,t.membersValidationResult=!0})()}onSubsetmembersFileSelected(t){this.studentSubsetmembers=[],this.studentSubsetMembersDataSource=new im,this.studentSubsetMembersDataSource.sort=this.sort,this.loading=!0;const n=t.target.files?.[0];if(n){const r=new FileReader;r.onload=s=>{try{const l=r.result.split("\n"),b=l[0].split("\t");if(b.length<2)throw new Error("Invalid file format");const C=b.indexOf("referencedComponentId"),D=b.indexOf("name");if(C<0||D<0)throw new Error("Invalid file format");const R=[];for(let O=1;O<l.length;O++){const L=l[O].split("\t");if(L.length<2)continue;const U={};U.referencedComponentId=L[C],U.name=L[D],U.result={value:"Not validated",message:""},U.scope={value:"Not validated",message:""},R.push(U)}R.sort((O,L)=>O.name.localeCompare(L.name)),this.studentSubsetmembers=R,this.studentSubsetMembersDataSource.data=R,this.loading=!1}catch(o){this._snackBar.openFromComponent(Ar,{duration:5e3,data:"Error reading file: "+o.message,panelClass:["red-snackbar"]}),this.loading=!1}},r.onerror=s=>{this._snackBar.openFromComponent(Ar,{duration:5e3,data:"Error reading file: "+s,panelClass:["red-snackbar"]}),this.loading=!1},r.readAsText(n)}else this.loading=!1}onDefinitionFileSelected(t){this.studentSubsetDefinition="",this.loading=!0;const n=t.target.files?.[0];if(n){const r=new FileReader;r.onload=s=>{try{const b=r.result.replace(/\r/g,"").split("\n"),C=b[0].split("\t");if(C.length<2)throw new Error("Invalid file format");const D=C.indexOf("referencedComponentId"),R=C.indexOf("definition");if(D<0||R<0)throw new Error("Invalid file format");this.studentSubsetDefinition=b[1].split("\t")[R],this.loading=!1}catch(o){this._snackBar.openFromComponent(Ar,{duration:5e3,data:"Error reading file: "+o.message,panelClass:["red-snackbar"]}),this.loading=!1}},r.onerror=s=>{this._snackBar.openFromComponent(Ar,{duration:5e3,data:"Error reading file: "+s,panelClass:["red-snackbar"]}),this.loading=!1},r.readAsText(n)}else this.loading=!1}static#t=this.\u0275fac=function(n){return new(n||e)(mt(ad),mt(da),mt(Eh),mt(Sc))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-subset-validator"]],viewQuery:function(n,r){if(1&n&&Mi(Nh,5),2&n){let s;Be(s=Ve())&&(r.sort=s.first)}},decls:31,vars:12,consts:[["fileInput",""],["fileInputDefinition",""],["demosMenu","matMenu"],[1,"layout-container"],[1,"left-column"],[1,"upload-controls"],[1,"mb-4"],["class","terminal-style",4,"ngIf"],["type","file",2,"display","none",3,"change"],[1,"buttons-panel"],["mat-flat-button","","color","primary",3,"click","disabled"],["mat-flat-button","","color","primary",3,"click"],["class","spinner","diameter","30",4,"ngIf"],["class","blue-rounded-div",4,"ngIf"],["class","table-container",4,"ngIf"],[1,"right-column"],[4,"ngIf"],[1,"instructions"],[1,"terminal-style"],["diameter","30",1,"spinner"],[1,"blue-rounded-div"],[1,"text-white","mb-1"],["class","validation-result",4,"ngIf"],[1,"validation-result"],[1,"table-container"],["mat-table","",3,"dataSource"],["matColumnDef","referencedComponentId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","result"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"ngClass"],["mat-flat-button","","color","accent",3,"matMenuTriggerFor"],[1,"wide-menu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],["appearance","fill"],["matInput","",3,"ngModelChange","ngModel"]],template:function(n,r){if(1&n){const s=pe();q(0,"div",3)(1,"div",4)(2,"div",5)(3,"h3"),ut(4,"Subset Members Validator"),et(),q(5,"p",6),ut(6),et(),Gt(7,wIt,2,1,"p",7),q(8,"input",8,0),Vt("change",function(l){return Ut(s),zt(r.onSubsetmembersFileSelected(l))}),et(),q(10,"input",8,1),Vt("change",function(l){return Ut(s),zt(r.onDefinitionFileSelected(l))}),et(),q(12,"div",9)(13,"button",10),Vt("click",function(){return Ut(s),zt(Ki(11).click())}),ut(14," Upload Definition File "),et(),q(15,"button",11),Vt("click",function(){return Ut(s),zt(Ki(9).click())}),ut(16,"Upload Members File"),et(),q(17,"button",10),Vt("click",function(){return Ut(s),zt(r.validateAssignment())}),ut(18,"Validate"),et(),Gt(19,_It,1,0,"mat-spinner",12),et(),Gt(20,SIt,9,4,"div",13),et(),Gt(21,BIt,13,3,"div",14),et(),q(22,"div",15),Gt(23,UIt,8,3,"div",16)(24,zIt,2,1,"h3",16),q(25,"h3"),ut(26,"Instructions"),et(),q(27,"div",17),Gt(28,GIt,7,0,"ol",16)(29,HIt,5,0,"ol",16),et(),Gt(30,WIt,10,1,"div",16),et()()}2&n&&(ot(6),He("Validating against ",r.terminologyService.getFhirUrlParam(),""),ot(),xt("ngIf",r.studentSubsetDefinition),ot(6),xt("disabled",!r.selectedAssignment.referenceDefinition),ot(4),xt("disabled",!r.studentSubsetMembersDataSource.data.length),ot(2),xt("ngIf",r.loading),ot(),xt("ngIf",!r.loading&&r.membersNotInRefrenceListResult),ot(),xt("ngIf",!r.loading&&r.studentSubsetMembersDataSource.data.length),ot(2),xt("ngIf",!r.embeddedMode),ot(),xt("ngIf",r.embeddedMode),ot(4),xt("ngIf",r.selectedAssignment.referenceDefinition),ot(),xt("ngIf",!r.selectedAssignment.referenceDefinition),ot(),xt("ngIf",!r.embeddedMode))},dependencies:[_c,vs,Is,Ea,Tl,Yl,uu,Sl,tl,Ah,yu,Cl,No,Dh,pu,Mh,gu,mu,Ih,vu,xu,kh,Rh,$l],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - 65px)}.layout-container[_ngcontent-%COMP%]{display:flex;height:100%}.left-column[_ngcontent-%COMP%]{flex:0 0 68%;display:flex;flex-direction:column;height:100%}.right-column[_ngcontent-%COMP%]{flex:0 0 28%}.buttons-panel[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem;margin-top:2rem}.upload-controls[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.table-container[_ngcontent-%COMP%]{overflow-y:auto}.upload-controls[_ngcontent-%COMP%]{margin-left:20px}table[_ngcontent-%COMP%]{width:100%}.validation-result[_ngcontent-%COMP%]{font-weight:400;font-size:larger}.blue-rounded-div[_ngcontent-%COMP%]{border-radius:10px;background-color:#4d7fb4;padding:.5rem 3rem 1rem;width:80%;color:#f5f5f5;margin-top:20px}.terminal-style[_ngcontent-%COMP%]{font-family:monospace;font-size:.9rem;background-color:#000;color:#fff;padding:10px;border-radius:10px;margin-top:20px;width:80%}h4[_ngcontent-%COMP%]{margin-top:10px}.instructions[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;font-weight:lighter;font-size:larger}h3[_ngcontent-%COMP%]{margin-top:10px}.bg-pink[_ngcontent-%COMP%]{background-color:pink}tr.mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#aba9a9!important}"]})}return e})();const dj=function(e){const i=[];let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?i[t++]=r:r<2048?(i[t++]=r>>6|192,i[t++]=63&r|128):55296==(64512&r)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n)),i[t++]=r>>18|240,i[t++]=r>>12&63|128,i[t++]=r>>6&63|128,i[t++]=63&r|128):(i[t++]=r>>12|224,i[t++]=r>>6&63|128,i[t++]=63&r|128)}return i},uj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,i){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,l=o?e[r+1]:0,b=r+2<e.length,C=b?e[r+2]:0;let O=(15&l)<<2|C>>6,L=63&C;b||(L=64,o||(O=64)),n.push(t[s>>2],t[(3&s)<<4|l>>4],t[O],t[L])}return n.join("")},encodeString(e,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(e):this.encodeByteArray(dj(e),i)},decodeString(e,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(e):function(e){const i=[];let t=0,n=0;for(;t<e.length;){const r=e[t++];if(r<128)i[n++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[t++];i[n++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const b=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536;i[n++]=String.fromCharCode(55296+(b>>10)),i[n++]=String.fromCharCode(56320+(1023&b))}else{const s=e[t++],o=e[t++];i[n++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return i.join("")}(this.decodeStringToByteArray(e,i))},decodeStringToByteArray(e,i){this.init_();const t=i?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<e.length;){const s=t[e.charAt(r++)],l=r<e.length?t[e.charAt(r)]:0;++r;const C=r<e.length?t[e.charAt(r)]:64;++r;const R=r<e.length?t[e.charAt(r)]:64;if(++r,null==s||null==l||null==C||null==R)throw new KIt;n.push(s<<2|l>>4),64!==C&&(n.push(l<<4&240|C>>2),64!==R&&n.push(C<<6&192|R))}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class KIt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tS=function(e){return function(e){const i=dj(e);return uj.encodeByteArray(i,!0)}(e).replace(/\./g,"")},eS=()=>{try{return function qIt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const i=e&&function(e){try{return uj.decodeString(e,!0)}catch(i){console.error("base64Decode failed: ",i)}return null}(e[1]);return i&&JSON.parse(i)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},fj=()=>{var e;return null===(e=eS())||void 0===e?void 0:e.config};class mj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((i,t)=>{this.resolve=i,this.reject=t})}wrapCallback(i){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof i&&(this.promise.catch(()=>{}),1===i.length?i(t):i(t,n))}}}class fv extends Error{constructor(i,t,n){super(t),this.code=i,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,fv.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vj.prototype.create)}}class vj{constructor(i,t,n){this.service=i,this.serviceName=t,this.errors=n}create(i,...t){const n=t[0]||{},r=`${this.service}/${i}`,s=this.errors[i],o=s?function dkt(e,i){return e.replace(ukt,(t,n)=>{const r=i[n];return null!=r?String(r):`<${n}?>`})}(s,n):"Error";return new fv(r,`${this.serviceName}: ${o} (${r}).`,n)}}const ukt=/\{\$([^}]+)}/g;function Qy(e,i){if(e===i)return!0;const t=Object.keys(e),n=Object.keys(i);for(const r of t){if(!n.includes(r))return!1;const s=e[r],o=i[r];if(yj(s)&&yj(o)){if(!Qy(s,o))return!1}else if(s!==o)return!1}for(const r of n)if(!t.includes(r))return!1;return!0}function yj(e){return null!==e&&"object"==typeof e}function Dc(e){return e&&e._delegate?e._delegate:e}class Ky{constructor(i,t,n){this.name=i,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(i){return this.multipleInstances=i,this}setServiceProps(i){return this.serviceProps=i,this}setInstanceCreatedCallback(i){return this.onInstanceCreated=i,this}}const cm="[DEFAULT]";class ykt{constructor(i,t){this.name=i,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(i){const t=this.normalizeInstanceIdentifier(i);if(!this.instancesDeferred.has(t)){const n=new mj;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(i){var t;const n=this.normalizeInstanceIdentifier(i?.identifier),r=null!==(t=i?.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(i){if(i.name!==this.name)throw Error(`Mismatching Component ${i.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=i,this.shouldAutoInitialize()){if(function wkt(e){return"EAGER"===e.instantiationMode}(i))try{this.getOrInitializeService({instanceIdentifier:cm})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});n.resolve(s)}catch{}}}}clearInstance(i=cm){this.instancesDeferred.delete(i),this.instancesOptions.delete(i),this.instances.delete(i)}delete(){var i=this;return de(function*(){const t=Array.from(i.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(i=cm){return this.instances.has(i)}getOptions(i=cm){return this.instancesOptions.get(i)||{}}initialize(i={}){const{options:t={}}=i,n=this.normalizeInstanceIdentifier(i.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,o]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(i,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(i),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&i(o,r),()=>{s.delete(i)}}invokeOnInitCallbacks(i,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(i,t)}catch{}}getOrInitializeService({instanceIdentifier:i,options:t={}}){let n=this.instances.get(i);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(e=i,e===cm?void 0:e),options:t}),this.instances.set(i,n),this.instancesOptions.set(i,t),this.invokeOnInitCallbacks(n,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,n)}catch{}var e;return n||null}normalizeInstanceIdentifier(i=cm){return this.component?this.component.multipleInstances?i:cm:i}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _kt{constructor(i){this.name=i,this.providers=new Map}addComponent(i){const t=this.getProvider(i.name);if(t.isComponentSet())throw new Error(`Component ${i.name} has already been registered with ${this.name}`);t.setComponent(i)}addOrOverwriteComponent(i){this.getProvider(i.name).isComponentSet()&&this.providers.delete(i.name),this.addComponent(i)}getProvider(i){if(this.providers.has(i))return this.providers.get(i);const t=new ykt(i,this);return this.providers.set(i,t),t}getProviders(){return Array.from(this.providers.values())}}const gP=[];var jn=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(jn||{});const bj={debug:jn.DEBUG,verbose:jn.VERBOSE,info:jn.INFO,warn:jn.WARN,error:jn.ERROR,silent:jn.SILENT},Tkt=jn.INFO,Ckt={[jn.DEBUG]:"log",[jn.VERBOSE]:"log",[jn.INFO]:"info",[jn.WARN]:"warn",[jn.ERROR]:"error"},Skt=(e,i,...t)=>{if(i<e.logLevel)return;const n=(new Date).toISOString(),r=Ckt[i];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`);console[r](`[${n}]  ${e.name}:`,...t)};class wj{constructor(i){this.name=i,this._logLevel=Tkt,this._logHandler=Skt,this._userLogHandler=null,gP.push(this)}get logLevel(){return this._logLevel}set logLevel(i){if(!(i in jn))throw new TypeError(`Invalid value "${i}" assigned to \`logLevel\``);this._logLevel=i}setLogLevel(i){this._logLevel="string"==typeof i?bj[i]:i}get logHandler(){return this._logHandler}set logHandler(i){if("function"!=typeof i)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=i}get userLogHandler(){return this._userLogHandler}set userLogHandler(i){this._userLogHandler=i}debug(...i){this._userLogHandler&&this._userLogHandler(this,jn.DEBUG,...i),this._logHandler(this,jn.DEBUG,...i)}log(...i){this._userLogHandler&&this._userLogHandler(this,jn.VERBOSE,...i),this._logHandler(this,jn.VERBOSE,...i)}info(...i){this._userLogHandler&&this._userLogHandler(this,jn.INFO,...i),this._logHandler(this,jn.INFO,...i)}warn(...i){this._userLogHandler&&this._userLogHandler(this,jn.WARN,...i),this._logHandler(this,jn.WARN,...i)}error(...i){this._userLogHandler&&this._userLogHandler(this,jn.ERROR,...i),this._logHandler(this,jn.ERROR,...i)}}const Ekt=(e,i)=>i.some(t=>e instanceof t);let _j,Tj;const Cj=new WeakMap,vP=new WeakMap,Sj=new WeakMap,xP=new WeakMap,yP=new WeakMap;let bP={get(e,i,t){if(e instanceof IDBTransaction){if("done"===i)return vP.get(e);if("objectStoreNames"===i)return e.objectStoreNames||Sj.get(e);if("store"===i)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Uh(e[i])},set:(e,i,t)=>(e[i]=t,!0),has:(e,i)=>e instanceof IDBTransaction&&("done"===i||"store"===i)||i in e};function Pkt(e){return"function"==typeof e?function Rkt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Dkt(){return Tj||(Tj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...i){return e.apply(wP(this),i),Uh(Cj.get(this))}:function(...i){return Uh(e.apply(wP(this),i))}:function(i,...t){const n=e.call(wP(this),i,...t);return Sj.set(n,i.sort?i.sort():[i]),Uh(n)}}(e):(e instanceof IDBTransaction&&function Ikt(e){if(vP.has(e))return;const i=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});vP.set(e,i)}(e),Ekt(e,function Akt(){return _j||(_j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,bP):e)}function Uh(e){if(e instanceof IDBRequest)return function Mkt(e){const i=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{t(Uh(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return i.then(t=>{t instanceof IDBCursor&&Cj.set(t,e)}).catch(()=>{}),yP.set(i,e),i}(e);if(xP.has(e))return xP.get(e);const i=Pkt(e);return i!==e&&(xP.set(e,i),yP.set(i,e)),i}const wP=e=>yP.get(e),Okt=["get","getKey","getAll","getAllKeys","count"],Lkt=["put","add","delete","clear"],_P=new Map;function Ej(e,i){if(!(e instanceof IDBDatabase)||i in e||"string"!=typeof i)return;if(_P.get(i))return _P.get(i);const t=i.replace(/FromIndex$/,""),n=i!==t,r=Lkt.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!r&&!Okt.includes(t))return;const s=function(){var o=de(function*(l,...b){const C=this.transaction(l,r?"readwrite":"readonly");let D=C.store;return n&&(D=D.index(b.shift())),(yield Promise.all([D[t](...b),r&&C.done]))[0]});return function(b){return o.apply(this,arguments)}}();return _P.set(i,s),s}!function kkt(e){bP=e(bP)}(e=>({...e,get:(i,t,n)=>Ej(i,t)||e.get(i,t,n),has:(i,t)=>!!Ej(i,t)||e.has(i,t)}));class Nkt{constructor(i){this.container=i}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Bkt(e){const i=e.getComponent();return"VERSION"===i?.type}(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}return null}).filter(t=>t).join(" ")}}const nS="@firebase/app",dm=new wj("@firebase/app"),rS="[DEFAULT]",uRt={[nS]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},um=new Map,Zy=new Map,Jy=new Map;function Aj(e,i){try{e.container.addComponent(i)}catch(t){dm.debug(`Component ${i.name} failed to register with FirebaseApp ${e.name}`,t)}}function sS(e){const i=e.name;if(Jy.has(i))return dm.debug(`There were multiple attempts to register component ${i}.`),!1;Jy.set(i,e);for(const t of um.values())Aj(t,e);for(const t of Zy.values())Aj(t,e);return!0}const Kl=new vj("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Mj{constructor(i,t,n){this._isDeleted=!1,this._options=Object.assign({},i),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ky("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this.checkDestroyed(),this._automaticDataCollectionEnabled=i}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(i){this._isDeleted=i}checkDestroyed(){if(this.isDeleted)throw Kl.create("app-deleted",{appName:this._name})}}function Ij(e,i={}){let t=e;"object"!=typeof i&&(i={name:i});const n=Object.assign({name:rS,automaticDataCollectionEnabled:!1},i),r=n.name;if("string"!=typeof r||!r)throw Kl.create("bad-app-name",{appName:String(r)});if(t||(t=fj()),!t)throw Kl.create("no-options");const s=um.get(r);if(s){if(Qy(t,s.options)&&Qy(n,s.config))return s;throw Kl.create("duplicate-app",{appName:r})}const o=new _kt(r);for(const b of Jy.values())o.addComponent(b);const l=new Mj(t,n,o);return um.set(r,l),l}function hm(e,i,t){var n;let r=null!==(n=uRt[e])&&void 0!==n?n:e;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=i.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${i}":`];return s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${i}" contains illegal characters (whitespace or "/")`),void dm.warn(l.join(" "))}sS(new Ky(`${r}-version`,()=>({library:r,version:i}),"VERSION"))}const xRt="firebase-heartbeat-database",yRt=1,qy="firebase-heartbeat-store";let SP=null;function kj(){return SP||(SP=function Fkt(e,i,{blocked:t,upgrade:n,blocking:r,terminated:s}={}){const o=indexedDB.open(e,i),l=Uh(o);return n&&o.addEventListener("upgradeneeded",b=>{n(Uh(o.result),b.oldVersion,b.newVersion,Uh(o.transaction),b)}),t&&o.addEventListener("blocked",b=>t(b.oldVersion,b.newVersion,b)),l.then(b=>{s&&b.addEventListener("close",()=>s()),r&&b.addEventListener("versionchange",C=>r(C.oldVersion,C.newVersion,C))}).catch(()=>{}),l}(xRt,yRt,{upgrade:(e,i)=>{if(0===i)try{e.createObjectStore(qy)}catch(t){console.warn(t)}}}).catch(e=>{throw Kl.create("idb-open",{originalErrorMessage:e.message})})),SP}function EP(){return(EP=de(function*(e){try{const t=(yield kj()).transaction(qy),n=yield t.objectStore(qy).get(Pj(e));return yield t.done,n}catch(i){if(i instanceof fv)dm.warn(i.message);else{const t=Kl.create("idb-get",{originalErrorMessage:i?.message});dm.warn(t.message)}}})).apply(this,arguments)}function Rj(e,i){return AP.apply(this,arguments)}function AP(){return(AP=de(function*(e,i){try{const n=(yield kj()).transaction(qy,"readwrite");yield n.objectStore(qy).put(i,Pj(e)),yield n.done}catch(t){if(t instanceof fv)dm.warn(t.message);else{const n=Kl.create("idb-set",{originalErrorMessage:t?.message});dm.warn(n.message)}}})).apply(this,arguments)}function Pj(e){return`${e.name}!${e.options.appId}`}class TRt{constructor(i){this.container=i,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new SRt(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){var i=this;return de(function*(){var t,n;const s=i.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Fj();if((null!=(null===(t=i._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(i._heartbeatsCache=yield i._heartbeatsCachePromise,null!=(null===(n=i._heartbeatsCache)||void 0===n?void 0:n.heartbeats)))&&i._heartbeatsCache.lastSentHeartbeatDate!==o&&!i._heartbeatsCache.heartbeats.some(l=>l.date===o))return i._heartbeatsCache.heartbeats.push({date:o,agent:s}),i._heartbeatsCache.heartbeats=i._heartbeatsCache.heartbeats.filter(l=>{const b=new Date(l.date).valueOf();return Date.now()-b<=2592e6}),i._storage.overwrite(i._heartbeatsCache)})()}getHeartbeatsHeader(){var i=this;return de(function*(){var t;if(null===i._heartbeatsCache&&(yield i._heartbeatsCachePromise),null==(null===(t=i._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===i._heartbeatsCache.heartbeats.length)return"";const n=Fj(),{heartbeatsToSend:r,unsentEntries:s}=function CRt(e,i=1024){const t=[];let n=e.slice();for(const r of e){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Oj(t)>i){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Oj(t)>i){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}(i._heartbeatsCache.heartbeats),o=tS(JSON.stringify({version:2,heartbeats:r}));return i._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(i._heartbeatsCache.heartbeats=s,yield i._storage.overwrite(i._heartbeatsCache)):(i._heartbeatsCache.heartbeats=[],i._storage.overwrite(i._heartbeatsCache)),o})()}}function Fj(){return(new Date).toISOString().substring(0,10)}class SRt{constructor(i){this.app=i,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return de(function*(){return!!function gj(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function lkt(){return new Promise((e,i)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(n),e(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;i((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(t){i(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var i=this;return de(function*(){if(yield i._canUseIndexedDBPromise){const n=yield function bRt(e){return EP.apply(this,arguments)}(i.app);return n?.heartbeats?n:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(i){var t=this;return de(function*(){var n;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return Rj(t.app,{lastSentHeartbeatDate:null!==(n=i.lastSentHeartbeatDate)&&void 0!==n?n:s.lastSentHeartbeatDate,heartbeats:i.heartbeats})}})()}add(i){var t=this;return de(function*(){var n;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return Rj(t.app,{lastSentHeartbeatDate:null!==(n=i.lastSentHeartbeatDate)&&void 0!==n?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...i.heartbeats]})}})()}}function Oj(e){return tS(JSON.stringify({version:2,heartbeats:e})).length}!function ERt(e){sS(new Ky("platform-logger",i=>new Nkt(i),"PRIVATE")),sS(new Ky("heartbeat",i=>new TRt(i),"PRIVATE")),hm(nS,"0.10.6",e),hm(nS,"0.10.6","esm2017"),hm("fire-js","")}("");var fm,Bj,Lj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nj={};(function(){var e;function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(ft,dt,pt){pt||(pt=0);var bt=Array(16);if("string"==typeof dt)for(var Tt=0;16>Tt;++Tt)bt[Tt]=dt.charCodeAt(pt++)|dt.charCodeAt(pt++)<<8|dt.charCodeAt(pt++)<<16|dt.charCodeAt(pt++)<<24;else for(Tt=0;16>Tt;++Tt)bt[Tt]=dt[pt++]|dt[pt++]<<8|dt[pt++]<<16|dt[pt++]<<24;var Et=ft.g[3],Dt=(dt=ft.g[0])+(Et^(pt=ft.g[1])&((Tt=ft.g[2])^Et))+bt[0]+3614090360&4294967295;Dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=pt+(Dt<<7&4294967295|Dt>>>25))+((Dt=Et+(Tt^dt&(pt^Tt))+bt[1]+3905402710&4294967295)<<12&4294967295|Dt>>>20))+((Dt=Tt+(pt^Et&(dt^pt))+bt[2]+606105819&4294967295)<<17&4294967295|Dt>>>15))+((Dt=pt+(dt^Tt&(Et^dt))+bt[3]+3250441966&4294967295)<<22&4294967295|Dt>>>10))+((Dt=dt+(Et^pt&(Tt^Et))+bt[4]+4118548399&4294967295)<<7&4294967295|Dt>>>25))+((Dt=Et+(Tt^dt&(pt^Tt))+bt[5]+1200080426&4294967295)<<12&4294967295|Dt>>>20))+((Dt=Tt+(pt^Et&(dt^pt))+bt[6]+2821735955&4294967295)<<17&4294967295|Dt>>>15))+((Dt=pt+(dt^Tt&(Et^dt))+bt[7]+4249261313&4294967295)<<22&4294967295|Dt>>>10))+((Dt=dt+(Et^pt&(Tt^Et))+bt[8]+1770035416&4294967295)<<7&4294967295|Dt>>>25))+((Dt=Et+(Tt^dt&(pt^Tt))+bt[9]+2336552879&4294967295)<<12&4294967295|Dt>>>20))+((Dt=Tt+(pt^Et&(dt^pt))+bt[10]+4294925233&4294967295)<<17&4294967295|Dt>>>15))+((Dt=pt+(dt^Tt&(Et^dt))+bt[11]+2304563134&4294967295)<<22&4294967295|Dt>>>10))+((Dt=dt+(Et^pt&(Tt^Et))+bt[12]+1804603682&4294967295)<<7&4294967295|Dt>>>25))+((Dt=Et+(Tt^dt&(pt^Tt))+bt[13]+4254626195&4294967295)<<12&4294967295|Dt>>>20))+((Dt=Tt+(pt^Et&(dt^pt))+bt[14]+2792965006&4294967295)<<17&4294967295|Dt>>>15))+((Dt=pt+(dt^Tt&(Et^dt))+bt[15]+1236535329&4294967295)<<22&4294967295|Dt>>>10))+((Dt=dt+(Tt^Et&(pt^Tt))+bt[1]+4129170786&4294967295)<<5&4294967295|Dt>>>27))+((Dt=Et+(pt^Tt&(dt^pt))+bt[6]+3225465664&4294967295)<<9&4294967295|Dt>>>23))+((Dt=Tt+(dt^pt&(Et^dt))+bt[11]+643717713&4294967295)<<14&4294967295|Dt>>>18))+((Dt=pt+(Et^dt&(Tt^Et))+bt[0]+3921069994&4294967295)<<20&4294967295|Dt>>>12))+((Dt=dt+(Tt^Et&(pt^Tt))+bt[5]+3593408605&4294967295)<<5&4294967295|Dt>>>27))+((Dt=Et+(pt^Tt&(dt^pt))+bt[10]+38016083&4294967295)<<9&4294967295|Dt>>>23))+((Dt=Tt+(dt^pt&(Et^dt))+bt[15]+3634488961&4294967295)<<14&4294967295|Dt>>>18))+((Dt=pt+(Et^dt&(Tt^Et))+bt[4]+3889429448&4294967295)<<20&4294967295|Dt>>>12))+((Dt=dt+(Tt^Et&(pt^Tt))+bt[9]+568446438&4294967295)<<5&4294967295|Dt>>>27))+((Dt=Et+(pt^Tt&(dt^pt))+bt[14]+3275163606&4294967295)<<9&4294967295|Dt>>>23))+((Dt=Tt+(dt^pt&(Et^dt))+bt[3]+4107603335&4294967295)<<14&4294967295|Dt>>>18))+((Dt=pt+(Et^dt&(Tt^Et))+bt[8]+1163531501&4294967295)<<20&4294967295|Dt>>>12))+((Dt=dt+(Tt^Et&(pt^Tt))+bt[13]+2850285829&4294967295)<<5&4294967295|Dt>>>27))+((Dt=Et+(pt^Tt&(dt^pt))+bt[2]+4243563512&4294967295)<<9&4294967295|Dt>>>23))+((Dt=Tt+(dt^pt&(Et^dt))+bt[7]+1735328473&4294967295)<<14&4294967295|Dt>>>18))+((Dt=pt+(Et^dt&(Tt^Et))+bt[12]+2368359562&4294967295)<<20&4294967295|Dt>>>12))+((Dt=dt+(pt^Tt^Et)+bt[5]+4294588738&4294967295)<<4&4294967295|Dt>>>28))+((Dt=Et+(dt^pt^Tt)+bt[8]+2272392833&4294967295)<<11&4294967295|Dt>>>21))+((Dt=Tt+(Et^dt^pt)+bt[11]+1839030562&4294967295)<<16&4294967295|Dt>>>16))+((Dt=pt+(Tt^Et^dt)+bt[14]+4259657740&4294967295)<<23&4294967295|Dt>>>9))+((Dt=dt+(pt^Tt^Et)+bt[1]+2763975236&4294967295)<<4&4294967295|Dt>>>28))+((Dt=Et+(dt^pt^Tt)+bt[4]+1272893353&4294967295)<<11&4294967295|Dt>>>21))+((Dt=Tt+(Et^dt^pt)+bt[7]+4139469664&4294967295)<<16&4294967295|Dt>>>16))+((Dt=pt+(Tt^Et^dt)+bt[10]+3200236656&4294967295)<<23&4294967295|Dt>>>9))+((Dt=dt+(pt^Tt^Et)+bt[13]+681279174&4294967295)<<4&4294967295|Dt>>>28))+((Dt=Et+(dt^pt^Tt)+bt[0]+3936430074&4294967295)<<11&4294967295|Dt>>>21))+((Dt=Tt+(Et^dt^pt)+bt[3]+3572445317&4294967295)<<16&4294967295|Dt>>>16))+((Dt=pt+(Tt^Et^dt)+bt[6]+76029189&4294967295)<<23&4294967295|Dt>>>9))+((Dt=dt+(pt^Tt^Et)+bt[9]+3654602809&4294967295)<<4&4294967295|Dt>>>28))+((Dt=Et+(dt^pt^Tt)+bt[12]+3873151461&4294967295)<<11&4294967295|Dt>>>21))+((Dt=Tt+(Et^dt^pt)+bt[15]+530742520&4294967295)<<16&4294967295|Dt>>>16))+((Dt=pt+(Tt^Et^dt)+bt[2]+3299628645&4294967295)<<23&4294967295|Dt>>>9))+((Dt=dt+(Tt^(pt|~Et))+bt[0]+4096336452&4294967295)<<6&4294967295|Dt>>>26))+((Dt=Et+(pt^(dt|~Tt))+bt[7]+1126891415&4294967295)<<10&4294967295|Dt>>>22))+((Dt=Tt+(dt^(Et|~pt))+bt[14]+2878612391&4294967295)<<15&4294967295|Dt>>>17))+((Dt=pt+(Et^(Tt|~dt))+bt[5]+4237533241&4294967295)<<21&4294967295|Dt>>>11))+((Dt=dt+(Tt^(pt|~Et))+bt[12]+1700485571&4294967295)<<6&4294967295|Dt>>>26))+((Dt=Et+(pt^(dt|~Tt))+bt[3]+2399980690&4294967295)<<10&4294967295|Dt>>>22))+((Dt=Tt+(dt^(Et|~pt))+bt[10]+4293915773&4294967295)<<15&4294967295|Dt>>>17))+((Dt=pt+(Et^(Tt|~dt))+bt[1]+2240044497&4294967295)<<21&4294967295|Dt>>>11))+((Dt=dt+(Tt^(pt|~Et))+bt[8]+1873313359&4294967295)<<6&4294967295|Dt>>>26))+((Dt=Et+(pt^(dt|~Tt))+bt[15]+4264355552&4294967295)<<10&4294967295|Dt>>>22))+((Dt=Tt+(dt^(Et|~pt))+bt[6]+2734768916&4294967295)<<15&4294967295|Dt>>>17))+((Dt=pt+(Et^(Tt|~dt))+bt[13]+1309151649&4294967295)<<21&4294967295|Dt>>>11))+((Et=(dt=pt+((Dt=dt+(Tt^(pt|~Et))+bt[4]+4149444226&4294967295)<<6&4294967295|Dt>>>26))+((Dt=Et+(pt^(dt|~Tt))+bt[11]+3174756917&4294967295)<<10&4294967295|Dt>>>22))^((Tt=Et+((Dt=Tt+(dt^(Et|~pt))+bt[2]+718787259&4294967295)<<15&4294967295|Dt>>>17))|~dt))+bt[9]+3951481745&4294967295,ft.g[0]=ft.g[0]+dt&4294967295,ft.g[1]=ft.g[1]+(Tt+(Dt<<21&4294967295|Dt>>>11))&4294967295,ft.g[2]=ft.g[2]+Tt&4294967295,ft.g[3]=ft.g[3]+Et&4294967295}function o(ft,dt){this.h=dt;for(var pt=[],bt=!0,Tt=ft.length-1;0<=Tt;Tt--){var Et=0|ft[Tt];bt&&Et==dt||(pt[Tt]=Et,bt=!1)}this.g=pt}(function i(ft,dt){function pt(){}pt.prototype=dt.prototype,ft.D=dt.prototype,ft.prototype=new pt,ft.prototype.constructor=ft,ft.C=function(bt,Tt,Et){for(var Dt=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)Dt[Le-2]=arguments[Le];return dt.prototype[Tt].apply(bt,Dt)}})(n,function t(){this.blockSize=-1}),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},n.prototype.u=function(ft,dt){void 0===dt&&(dt=ft.length);for(var pt=dt-this.blockSize,bt=this.B,Tt=this.h,Et=0;Et<dt;){if(0==Tt)for(;Et<=pt;)r(this,ft,Et),Et+=this.blockSize;if("string"==typeof ft){for(;Et<dt;)if(bt[Tt++]=ft.charCodeAt(Et++),Tt==this.blockSize){r(this,bt),Tt=0;break}}else for(;Et<dt;)if(bt[Tt++]=ft[Et++],Tt==this.blockSize){r(this,bt),Tt=0;break}}this.h=Tt,this.o+=dt},n.prototype.v=function(){var ft=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ft[0]=128;for(var dt=1;dt<ft.length-8;++dt)ft[dt]=0;var pt=8*this.o;for(dt=ft.length-8;dt<ft.length;++dt)ft[dt]=255&pt,pt/=256;for(this.u(ft),ft=Array(16),dt=pt=0;4>dt;++dt)for(var bt=0;32>bt;bt+=8)ft[pt++]=this.g[dt]>>>bt&255;return ft};var l={};function b(ft){return-128<=ft&&128>ft?function s(ft,dt){var pt=l;return Object.prototype.hasOwnProperty.call(pt,ft)?pt[ft]:pt[ft]=dt(ft)}(ft,function(dt){return new o([0|dt],0>dt?-1:0)}):new o([0|ft],0>ft?-1:0)}function C(ft){if(isNaN(ft)||!isFinite(ft))return R;if(0>ft)return W(C(-ft));for(var dt=[],pt=1,bt=0;ft>=pt;bt++)dt[bt]=ft/pt|0,pt*=4294967296;return new o(dt,0)}var R=b(0),O=b(1),L=b(16777216);function U(ft){if(0!=ft.h)return!1;for(var dt=0;dt<ft.g.length;dt++)if(0!=ft.g[dt])return!1;return!0}function X(ft){return-1==ft.h}function W(ft){for(var dt=ft.g.length,pt=[],bt=0;bt<dt;bt++)pt[bt]=~ft.g[bt];return new o(pt,~ft.h).add(O)}function Z(ft,dt){return ft.add(W(dt))}function rt(ft,dt){for(;(65535&ft[dt])!=ft[dt];)ft[dt+1]+=ft[dt]>>>16,ft[dt]&=65535,dt++}function st(ft,dt){this.g=ft,this.h=dt}function vt(ft,dt){if(U(dt))throw Error("division by zero");if(U(ft))return new st(R,R);if(X(ft))return dt=vt(W(ft),dt),new st(W(dt.g),W(dt.h));if(X(dt))return dt=vt(ft,W(dt)),new st(W(dt.g),dt.h);if(30<ft.g.length){if(X(ft)||X(dt))throw Error("slowDivide_ only works with positive integers.");for(var pt=O,bt=dt;0>=bt.l(ft);)pt=_t(pt),bt=_t(bt);var Tt=Mt(pt,1),Et=Mt(bt,1);for(bt=Mt(bt,2),pt=Mt(pt,2);!U(bt);){var Dt=Et.add(bt);0>=Dt.l(ft)&&(Tt=Tt.add(pt),Et=Dt),bt=Mt(bt,1),pt=Mt(pt,1)}return dt=Z(ft,Tt.j(dt)),new st(Tt,dt)}for(Tt=R;0<=ft.l(dt);){for(pt=Math.max(1,Math.floor(ft.m()/dt.m())),bt=48>=(bt=Math.ceil(Math.log(pt)/Math.LN2))?1:Math.pow(2,bt-48),Dt=(Et=C(pt)).j(dt);X(Dt)||0<Dt.l(ft);)Dt=(Et=C(pt-=bt)).j(dt);U(Et)&&(Et=O),Tt=Tt.add(Et),ft=Z(ft,Dt)}return new st(Tt,ft)}function _t(ft){for(var dt=ft.g.length+1,pt=[],bt=0;bt<dt;bt++)pt[bt]=ft.i(bt)<<1|ft.i(bt-1)>>>31;return new o(pt,ft.h)}function Mt(ft,dt){var pt=dt>>5;dt%=32;for(var bt=ft.g.length-pt,Tt=[],Et=0;Et<bt;Et++)Tt[Et]=0<dt?ft.i(Et+pt)>>>dt|ft.i(Et+pt+1)<<32-dt:ft.i(Et+pt);return new o(Tt,ft.h)}(e=o.prototype).m=function(){if(X(this))return-W(this).m();for(var ft=0,dt=1,pt=0;pt<this.g.length;pt++){var bt=this.i(pt);ft+=(0<=bt?bt:4294967296+bt)*dt,dt*=4294967296}return ft},e.toString=function(ft){if(2>(ft=ft||10)||36<ft)throw Error("radix out of range: "+ft);if(U(this))return"0";if(X(this))return"-"+W(this).toString(ft);for(var dt=C(Math.pow(ft,6)),pt=this,bt="";;){var Tt=vt(pt,dt).g,Et=((0<(pt=Z(pt,Tt.j(dt))).g.length?pt.g[0]:pt.h)>>>0).toString(ft);if(U(pt=Tt))return Et+bt;for(;6>Et.length;)Et="0"+Et;bt=Et+bt}},e.i=function(ft){return 0>ft?0:ft<this.g.length?this.g[ft]:this.h},e.l=function(ft){return X(ft=Z(this,ft))?-1:U(ft)?0:1},e.abs=function(){return X(this)?W(this):this},e.add=function(ft){for(var dt=Math.max(this.g.length,ft.g.length),pt=[],bt=0,Tt=0;Tt<=dt;Tt++){var Et=bt+(65535&this.i(Tt))+(65535&ft.i(Tt)),Dt=(Et>>>16)+(this.i(Tt)>>>16)+(ft.i(Tt)>>>16);bt=Dt>>>16,pt[Tt]=(Dt&=65535)<<16|(Et&=65535)}return new o(pt,-2147483648&pt[pt.length-1]?-1:0)},e.j=function(ft){if(U(this)||U(ft))return R;if(X(this))return X(ft)?W(this).j(W(ft)):W(W(this).j(ft));if(X(ft))return W(this.j(W(ft)));if(0>this.l(L)&&0>ft.l(L))return C(this.m()*ft.m());for(var dt=this.g.length+ft.g.length,pt=[],bt=0;bt<2*dt;bt++)pt[bt]=0;for(bt=0;bt<this.g.length;bt++)for(var Tt=0;Tt<ft.g.length;Tt++){var Et=this.i(bt)>>>16,Dt=65535&this.i(bt),Le=ft.i(Tt)>>>16,ve=65535&ft.i(Tt);pt[2*bt+2*Tt]+=Dt*ve,rt(pt,2*bt+2*Tt),pt[2*bt+2*Tt+1]+=Et*ve,rt(pt,2*bt+2*Tt+1),pt[2*bt+2*Tt+1]+=Dt*Le,rt(pt,2*bt+2*Tt+1),pt[2*bt+2*Tt+2]+=Et*Le,rt(pt,2*bt+2*Tt+2)}for(bt=0;bt<dt;bt++)pt[bt]=pt[2*bt+1]<<16|pt[2*bt];for(bt=dt;bt<2*dt;bt++)pt[bt]=0;return new o(pt,0)},e.A=function(ft){return vt(this,ft).h},e.and=function(ft){for(var dt=Math.max(this.g.length,ft.g.length),pt=[],bt=0;bt<dt;bt++)pt[bt]=this.i(bt)&ft.i(bt);return new o(pt,this.h&ft.h)},e.or=function(ft){for(var dt=Math.max(this.g.length,ft.g.length),pt=[],bt=0;bt<dt;bt++)pt[bt]=this.i(bt)|ft.i(bt);return new o(pt,this.h|ft.h)},e.xor=function(ft){for(var dt=Math.max(this.g.length,ft.g.length),pt=[],bt=0;bt<dt;bt++)pt[bt]=this.i(bt)^ft.i(bt);return new o(pt,this.h^ft.h)},n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Bj=Nj.Md5=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=C,o.fromString=function D(ft,dt){if(0==ft.length)throw Error("number format error: empty string");if(2>(dt=dt||10)||36<dt)throw Error("radix out of range: "+dt);if("-"==ft.charAt(0))return W(D(ft.substring(1),dt));if(0<=ft.indexOf("-"))throw Error('number format error: interior "-" character');for(var pt=C(Math.pow(dt,8)),bt=R,Tt=0;Tt<ft.length;Tt+=8){var Et=Math.min(8,ft.length-Tt),Dt=parseInt(ft.substring(Tt,Tt+Et),dt);8>Et?(Et=C(Math.pow(dt,Et)),bt=bt.j(Et).add(C(Dt))):bt=(bt=bt.j(pt)).add(C(Dt))}return bt},fm=Nj.Integer=o}).apply(typeof Lj<"u"?Lj:typeof self<"u"?self:typeof window<"u"?window:{});var Vj,Uj,tb,zj,oS,DP,Gj,Hj,Wj,aS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wu={};(function(){var e,i="function"==typeof Object.defineProperties?Object.defineProperty:function(z,ct,yt){return z==Array.prototype||z==Object.prototype||(z[ct]=yt.value),z},n=function t(z){z=["object"==typeof globalThis&&globalThis,z,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof aS&&aS];for(var ct=0;ct<z.length;++ct){var yt=z[ct];if(yt&&yt.Math==Math)return yt}throw Error("Cannot find global object")}(this);!function r(z,ct){if(ct)t:{var yt=n;z=z.split(".");for(var It=0;It<z.length-1;It++){var Zt=z[It];if(!(Zt in yt))break t;yt=yt[Zt]}(ct=ct(It=yt[z=z[z.length-1]]))!=It&&null!=ct&&i(yt,z,{configurable:!0,writable:!0,value:ct})}}("Array.prototype.values",function(z){return z||function(){return function s(z,ct){z instanceof String&&(z+="");var yt=0,It=!1,Zt={next:function(){if(!It&&yt<z.length){var ge=yt++;return{value:ct(ge,z[ge]),done:!1}}return It=!0,{done:!0,value:void 0}}};return Zt[Symbol.iterator]=function(){return Zt},Zt}(this,function(ct,yt){return yt})}});var o=o||{},l=this||self;function b(z){var ct=typeof z;return"array"==(ct="object"!=ct?ct:z?Array.isArray(z)?"array":ct:"null")||"object"==ct&&"number"==typeof z.length}function C(z){var ct=typeof z;return"object"==ct&&null!=z||"function"==ct}function D(z,ct,yt){return z.call.apply(z.bind,arguments)}function R(z,ct,yt){if(!z)throw Error();if(2<arguments.length){var It=Array.prototype.slice.call(arguments,2);return function(){var Zt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Zt,It),z.apply(ct,Zt)}}return function(){return z.apply(ct,arguments)}}function O(z,ct,yt){return(O=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?D:R).apply(null,arguments)}function L(z,ct){var yt=Array.prototype.slice.call(arguments,1);return function(){var It=yt.slice();return It.push.apply(It,arguments),z.apply(this,It)}}function U(z,ct){function yt(){}yt.prototype=ct.prototype,z.aa=ct.prototype,z.prototype=new yt,z.prototype.constructor=z,z.Qb=function(It,Zt,ge){for(var li=Array(arguments.length-2),Pr=2;Pr<arguments.length;Pr++)li[Pr-2]=arguments[Pr];return ct.prototype[Zt].apply(It,li)}}function X(z){const ct=z.length;if(0<ct){const yt=Array(ct);for(let It=0;It<ct;It++)yt[It]=z[It];return yt}return[]}function W(z,ct){for(let yt=1;yt<arguments.length;yt++){const It=arguments[yt];if(b(It)){const Zt=z.length||0,ge=It.length||0;z.length=Zt+ge;for(let li=0;li<ge;li++)z[Zt+li]=It[li]}else z.push(It)}}function rt(z){return/^[\s\xa0]*$/.test(z)}function st(){var z=l.navigator;return z&&(z=z.userAgent)?z:""}function vt(z){return vt[" "](z),z}vt[" "]=function(){};var _t=!(-1==st().indexOf("Gecko")||-1!=st().toLowerCase().indexOf("webkit")&&-1==st().indexOf("Edge")||-1!=st().indexOf("Trident")||-1!=st().indexOf("MSIE")||-1!=st().indexOf("Edge"));function Mt(z,ct,yt){for(const It in z)ct.call(yt,z[It],It,z)}function dt(z){const ct={};for(const yt in z)ct[yt]=z[yt];return ct}const pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bt(z,ct){let yt,It;for(let Zt=1;Zt<arguments.length;Zt++){for(yt in It=arguments[Zt],It)z[yt]=It[yt];for(let ge=0;ge<pt.length;ge++)yt=pt[ge],Object.prototype.hasOwnProperty.call(It,yt)&&(z[yt]=It[yt])}}function Tt(z){var ct=1;z=z.split(":");const yt=[];for(;0<ct&&z.length;)yt.push(z.shift()),ct--;return z.length&&yt.push(z.join(":")),yt}function Et(z){l.setTimeout(()=>{throw z},0)}function Dt(){var z=Ne;let ct=null;return z.g&&(ct=z.g,z.g=z.g.next,z.g||(z.h=null),ct.next=null),ct}var ve=new class Z{constructor(ct,yt){this.i=ct,this.j=yt,this.h=0,this.g=null}get(){let ct;return 0<this.h?(this.h--,ct=this.g,this.g=ct.next,ct.next=null):ct=this.i(),ct}}(()=>new fe,z=>z.reset());class fe{constructor(){this.next=this.g=this.h=null}set(ct,yt){this.h=ct,this.g=yt,this.next=null}reset(){this.next=this.g=this.h=null}}let Qt,_e=!1,Ne=new class Le{constructor(){this.h=this.g=null}add(ct,yt){const It=ve.get();It.set(ct,yt),this.h?this.h.next=It:this.g=It,this.h=It}},Se=()=>{const z=l.Promise.resolve(void 0);Qt=()=>{z.then(Ei)}};var Ei=()=>{for(var z;z=Dt();){try{z.h.call(z.g)}catch(yt){Et(yt)}var ct=ve;ct.j(z),100>ct.h&&(ct.h++,z.next=ct.g,ct.g=z)}_e=!1};function Kt(){this.s=this.s,this.C=this.C}function Re(z,ct){this.type=z,this.g=this.target=ct,this.defaultPrevented=!1}Kt.prototype.s=!1,Kt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Kt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Re.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var z=!1,ct=Object.defineProperty({},"passive",{get:function(){z=!0}});try{const yt=()=>{};l.addEventListener("test",yt,ct),l.removeEventListener("test",yt,ct)}catch{}return z}();function oi(z,ct){if(Re.call(this,z?z.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,z){var yt=this.type=z.type,It=z.changedTouches&&z.changedTouches.length?z.changedTouches[0]:null;if(this.target=z.target||z.srcElement,this.g=ct,ct=z.relatedTarget){if(_t){t:{try{vt(ct.nodeName);var Zt=!0;break t}catch{}Zt=!1}Zt||(ct=null)}}else"mouseover"==yt?ct=z.fromElement:"mouseout"==yt&&(ct=z.toElement);this.relatedTarget=ct,It?(this.clientX=void 0!==It.clientX?It.clientX:It.pageX,this.clientY=void 0!==It.clientY?It.clientY:It.pageY,this.screenX=It.screenX||0,this.screenY=It.screenY||0):(this.clientX=void 0!==z.clientX?z.clientX:z.pageX,this.clientY=void 0!==z.clientY?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0),this.button=z.button,this.key=z.key||"",this.ctrlKey=z.ctrlKey,this.altKey=z.altKey,this.shiftKey=z.shiftKey,this.metaKey=z.metaKey,this.pointerId=z.pointerId||0,this.pointerType="string"==typeof z.pointerType?z.pointerType:ui[z.pointerType]||"",this.state=z.state,this.i=z,z.defaultPrevented&&oi.aa.h.call(this)}}U(oi,Re);var ui={2:"touch",3:"pen",4:"mouse"};oi.prototype.h=function(){oi.aa.h.call(this);var z=this.i;z.preventDefault?z.preventDefault():z.returnValue=!1};var ni="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function jt(z,ct,yt,It,Zt){this.listener=z,this.proxy=null,this.src=ct,this.type=yt,this.capture=!!It,this.ha=Zt,this.key=++Ft,this.da=this.fa=!1}function Xt(z){z.da=!0,z.listener=null,z.proxy=null,z.src=null,z.ha=null}function Ht(z){this.src=z,this.g={},this.h=0}function Te(z,ct){var yt=ct.type;if(yt in z.g){var ge,It=z.g[yt],Zt=Array.prototype.indexOf.call(It,ct,void 0);(ge=0<=Zt)&&Array.prototype.splice.call(It,Zt,1),ge&&(Xt(ct),0==z.g[yt].length&&(delete z.g[yt],z.h--))}}function Pt(z,ct,yt,It){for(var Zt=0;Zt<z.length;++Zt){var ge=z[Zt];if(!ge.da&&ge.listener==ct&&ge.capture==!!yt&&ge.ha==It)return Zt}return-1}Ht.prototype.add=function(z,ct,yt,It,Zt){var ge=z.toString();(z=this.g[ge])||(z=this.g[ge]=[],this.h++);var li=Pt(z,ct,It,Zt);return-1<li?(ct=z[li],yt||(ct.fa=!1)):((ct=new jt(ct,this.src,ge,!!It,Zt)).fa=yt,z.push(ct)),ct};var Ci="closure_lm_"+(1e6*Math.random()|0),Ye={};function Ue(z,ct,yt,It,Zt){if(It&&It.once)return mi(z,ct,yt,It,Zt);if(Array.isArray(ct)){for(var ge=0;ge<ct.length;ge++)Ue(z,ct[ge],yt,It,Zt);return null}return yt=Co(yt),z&&z[ni]?z.K(ct,yt,C(It)?!!It.capture:!!It,Zt):Bi(z,ct,yt,!1,It,Zt)}function Bi(z,ct,yt,It,Zt,ge){if(!ct)throw Error("Invalid event type");var li=C(Zt)?!!Zt.capture:!!Zt,Pr=Ke(z);if(Pr||(z[Ci]=Pr=new Ht(z)),(yt=Pr.add(ct,yt,It,li,ge)).proxy)return yt;if(It=function en(){const ct=Xa;return function z(yt){return ct.call(z.src,z.listener,yt)}}(),yt.proxy=It,It.src=z,It.listener=yt,z.addEventListener)Ce||(Zt=li),void 0===Zt&&(Zt=!1),z.addEventListener(ct.toString(),It,Zt);else if(z.attachEvent)z.attachEvent(ls(ct.toString()),It);else{if(!z.addListener||!z.removeListener)throw Error("addEventListener and attachEvent are unavailable.");z.addListener(It)}return yt}function mi(z,ct,yt,It,Zt){if(Array.isArray(ct)){for(var ge=0;ge<ct.length;ge++)mi(z,ct[ge],yt,It,Zt);return null}return yt=Co(yt),z&&z[ni]?z.L(ct,yt,C(It)?!!It.capture:!!It,Zt):Bi(z,ct,yt,!0,It,Zt)}function nr(z,ct,yt,It,Zt){if(Array.isArray(ct))for(var ge=0;ge<ct.length;ge++)nr(z,ct[ge],yt,It,Zt);else It=C(It)?!!It.capture:!!It,yt=Co(yt),z&&z[ni]?(z=z.i,(ct=String(ct).toString())in z.g&&-1<(yt=Pt(ge=z.g[ct],yt,It,Zt))&&(Xt(ge[yt]),Array.prototype.splice.call(ge,yt,1),0==ge.length&&(delete z.g[ct],z.h--))):z&&(z=Ke(z))&&(ct=z.g[ct.toString()],z=-1,ct&&(z=Pt(ct,yt,It,Zt)),(yt=-1<z?ct[z]:null)&&Jn(yt))}function Jn(z){if("number"!=typeof z&&z&&!z.da){var ct=z.src;if(ct&&ct[ni])Te(ct.i,z);else{var yt=z.type,It=z.proxy;ct.removeEventListener?ct.removeEventListener(yt,It,z.capture):ct.detachEvent?ct.detachEvent(ls(yt),It):ct.addListener&&ct.removeListener&&ct.removeListener(It),(yt=Ke(ct))?(Te(yt,z),0==yt.h&&(yt.src=null,ct[Ci]=null)):Xt(z)}}}function ls(z){return z in Ye?Ye[z]:Ye[z]="on"+z}function Xa(z,ct){if(z.da)z=!0;else{ct=new oi(ct,this);var yt=z.listener,It=z.ha||z.src;z.fa&&Jn(z),z=yt.call(It,ct)}return z}function Ke(z){return(z=z[Ci])instanceof Ht?z:null}var ti="__closure_events_fn_"+(1e9*Math.random()>>>0);function Co(z){return"function"==typeof z?z:(z[ti]||(z[ti]=function(ct){return z.handleEvent(ct)}),z[ti])}function qn(){Kt.call(this),this.i=new Ht(this),this.M=this,this.F=null}function Hn(z,ct){var yt,It=z.F;if(It)for(yt=[];It;It=It.F)yt.push(It);if(z=z.M,It=ct.type||ct,"string"==typeof ct)ct=new Re(ct,z);else if(ct instanceof Re)ct.target=ct.target||z;else{var Zt=ct;bt(ct=new Re(It,z),Zt)}if(Zt=!0,yt)for(var ge=yt.length-1;0<=ge;ge--){var li=ct.g=yt[ge];Zt=ta(li,It,!0,ct)&&Zt}if(Zt=ta(li=ct.g=z,It,!0,ct)&&Zt,Zt=ta(li,It,!1,ct)&&Zt,yt)for(ge=0;ge<yt.length;ge++)Zt=ta(li=ct.g=yt[ge],It,!1,ct)&&Zt}function ta(z,ct,yt,It){if(!(ct=z.i.g[String(ct)]))return!0;ct=ct.concat();for(var Zt=!0,ge=0;ge<ct.length;++ge){var li=ct[ge];if(li&&!li.da&&li.capture==yt){var Pr=li.listener,Ya=li.ha||li.src;li.fa&&Te(z.i,li),Zt=!1!==Pr.call(Ya,It)&&Zt}}return Zt&&!It.defaultPrevented}function So(z,ct,yt){if("function"==typeof z)yt&&(z=O(z,yt));else{if(!z||"function"!=typeof z.handleEvent)throw Error("Invalid listener argument");z=O(z.handleEvent,z)}return 2147483647<Number(ct)?-1:l.setTimeout(z,ct||0)}function qi(z){z.g=So(()=>{z.g=null,z.i&&(z.i=!1,qi(z))},z.l);const ct=z.h;z.h=null,z.m.apply(null,ct)}U(qn,Kt),qn.prototype[ni]=!0,qn.prototype.removeEventListener=function(z,ct,yt,It){nr(this,z,ct,yt,It)},qn.prototype.N=function(){if(qn.aa.N.call(this),this.i){var ct,z=this.i;for(ct in z.g){for(var yt=z.g[ct],It=0;It<yt.length;It++)Xt(yt[It]);delete z.g[ct],z.h--}}this.F=null},qn.prototype.K=function(z,ct,yt,It){return this.i.add(String(z),ct,!1,yt,It)},qn.prototype.L=function(z,ct,yt,It){return this.i.add(String(z),ct,!0,yt,It)};class ji extends Kt{constructor(ct,yt){super(),this.m=ct,this.l=yt,this.h=null,this.i=!1,this.g=null}j(ct){this.h=arguments,this.g?this.i=!0:qi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $n(z){Kt.call(this),this.h=z,this.g={}}U($n,Kt);var Rr=[];function vp(z){Mt(z.g,function(ct,yt){this.g.hasOwnProperty(yt)&&Jn(ct)},z),z.g={}}$n.prototype.N=function(){$n.aa.N.call(this),vp(this)},$n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cc=l.JSON.stringify,Qu=l.JSON.parse,xp=class{stringify(z){return l.JSON.stringify(z,void 0)}parse(z){return l.JSON.parse(z,void 0)}};function A0(){}function PA(){}A0.prototype.h=null;var yp={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wf(){Re.call(this,"d")}function iw(){Re.call(this,"c")}U(wf,Re),U(iw,Re);var Ku={},FA=null;function D0(){return FA=FA||new qn}function OA(z){Re.call(this,Ku.La,z)}function bp(z){const ct=D0();Hn(ct,new OA(ct))}function LA(z,ct){Re.call(this,Ku.STAT_EVENT,z),this.stat=ct}function ja(z){const ct=D0();Hn(ct,new LA(ct,z))}function M0(z,ct){Re.call(this,Ku.Ma,z),this.size=ct}function wp(z,ct){if("function"!=typeof z)throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){z()},ct)}function _p(){this.g=!0}function Ot(z,ct,yt,It){z.info(function(){return"XMLHTTP TEXT ("+ct+"): "+function Rt(z,ct){if(!z.g)return ct;if(!ct)return null;try{var yt=JSON.parse(ct);if(yt)for(z=0;z<yt.length;z++)if(Array.isArray(yt[z])){var It=yt[z];if(!(2>It.length)){var Zt=It[1];if(Array.isArray(Zt)&&!(1>Zt.length)){var ge=Zt[0];if("noop"!=ge&&"stop"!=ge&&"close"!=ge)for(var li=1;li<Zt.length;li++)Zt[li]=""}}}return cc(yt)}catch{return ct}}(z,yt)+(It?" "+It:"")})}Ku.La="serverreachability",U(OA,Re),Ku.STAT_EVENT="statevent",U(LA,Re),Ku.Ma="timingevent",U(M0,Re),_p.prototype.xa=function(){this.g=!1},_p.prototype.info=function(){};var se,Lt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function xe(){}function ie(z,ct,yt,It){this.j=z,this.i=ct,this.l=yt,this.R=It||1,this.U=new $n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ae}function ae(){this.i=null,this.g="",this.h=!1}U(xe,A0),xe.prototype.g=function(){return new XMLHttpRequest},xe.prototype.i=function(){return{}},se=new xe;var oe={},ze={};function We(z,ct,yt){z.L=1,z.v=VA(Ju(ct)),z.m=yt,z.P=!0,yi(z,null)}function yi(z,ct){z.F=Date.now(),Yi(z),z.A=Ju(z.v);var yt=z.A,It=z.R;Array.isArray(It)||(It=[String(It)]),xnt(yt.i,"t",It),z.C=0,yt=z.j.J,z.h=new ae,z.g=Lnt(z.j,yt?ct:null,!z.m),0<z.O&&(z.M=new ji(O(z.Y,z,z.g),z.O)),ct=z.U,yt=z.g,It=z.ca;var Zt="readystatechange";Array.isArray(Zt)||(Zt&&(Rr[0]=Zt.toString()),Zt=Rr);for(var ge=0;ge<Zt.length;ge++){var li=Ue(yt,Zt[ge],It||ct.handleEvent,!1,ct.h||ct);if(!li)break;ct.g[li.key]=li}ct=z.H?dt(z.H):{},z.m?(z.u||(z.u="POST"),ct["Content-Type"]="application/x-www-form-urlencoded",z.g.ea(z.A,z.u,z.m,ct)):(z.u="GET",z.g.ea(z.A,z.u,null,ct)),bp(),function I4(z,ct,yt,It,Zt,ge){z.info(function(){if(z.g)if(ge)for(var li="",Pr=ge.split("&"),Ya=0;Ya<Pr.length;Ya++){var rr=Pr[Ya].split("=");if(1<rr.length){var Eo=rr[0];rr=rr[1];var Ao=Eo.split("_");li=2<=Ao.length&&"type"==Ao[1]?li+(Eo+"=")+rr+"&":li+(Eo+"=redacted&")}}else li=null;else li=ge;return"XMLHTTP REQ ("+It+") [attempt "+Zt+"]: "+ct+"\n"+yt+"\n"+li})}(z.i,z.u,z.A,z.l,z.R,z.m)}function ei(z){return!!z.g&&"GET"==z.u&&2!=z.L&&z.j.Ca}function Ge(z,ct){var yt=z.C,It=ct.indexOf("\n",yt);return-1==It?ze:(yt=Number(ct.substring(yt,It)),isNaN(yt)?oe:(It+=1)+yt>ct.length?ze:(ct=ct.slice(It,It+yt),z.C=It+yt,ct))}function Yi(z){z.S=Date.now()+z.I,Cr(z,z.I)}function Cr(z,ct){if(null!=z.B)throw Error("WatchDog timer not null");z.B=wp(O(z.ba,z),ct)}function Fa(z){z.B&&(l.clearTimeout(z.B),z.B=null)}function Hr(z){0==z.j.G||z.J||Rnt(z.j,z)}function Hs(z){Fa(z);var ct=z.M;ct&&"function"==typeof ct.ma&&ct.ma(),z.M=null,vp(z.U),z.g&&(ct=z.g,z.g=null,ct.abort(),ct.ma())}function Zu(z,ct){try{var yt=z.j;if(0!=yt.G&&(yt.g==z||k4(yt.h,z)))if(!z.K&&k4(yt.h,z)&&3==yt.G){try{var It=yt.Da.g.parse(ct)}catch{It=null}if(Array.isArray(It)&&3==It.length){var Zt=It;if(0==Zt[0]){t:if(!yt.u){if(yt.g){if(!(yt.g.F+3e3<z.F))break t;WA(yt),GA(yt)}O4(yt),ja(18)}}else yt.za=Zt[1],0<yt.za-yt.T&&37500>Zt[2]&&yt.F&&0==yt.v&&!yt.C&&(yt.C=wp(O(yt.Za,yt),6e3));if(1>=dc(yt.h)&&yt.ca){try{yt.ca()}catch{}yt.ca=void 0}}else Sp(yt,11)}else if((z.K||yt.g==z)&&WA(yt),!rt(ct))for(Zt=yt.Da.g.parse(ct),ct=0;ct<Zt.length;ct++){let rr=Zt[ct];if(yt.T=rr[0],rr=rr[1],2==yt.G)if("c"==rr[0]){yt.K=rr[1],yt.ia=rr[2];const Eo=rr[3];null!=Eo&&(yt.la=Eo,yt.j.info("VER="+yt.la));const Ao=rr[4];null!=Ao&&(yt.Aa=Ao,yt.j.info("SVER="+yt.Aa));const P0=rr[5];null!=P0&&"number"==typeof P0&&0<P0&&(yt.L=It=1.5*P0,yt.j.info("backChannelRequestTimeoutMs_="+It)),It=yt;const Nc=z.g;if(Nc){const jA=Nc.g?Nc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jA){var ge=It.h;ge.g||-1==jA.indexOf("spdy")&&-1==jA.indexOf("quic")&&-1==jA.indexOf("h2")||(ge.j=ge.l,ge.g=new Set,ge.h&&(R4(ge,ge.h),ge.h=null))}if(It.D){const N4=Nc.g?Nc.g.getResponseHeader("X-HTTP-Session-Id"):null;N4&&(It.ya=N4,qr(It.I,It.D,N4))}}yt.G=3,yt.l&&yt.l.ua(),yt.ba&&(yt.R=Date.now()-z.F,yt.j.info("Handshake RTT: "+yt.R+"ms"));var li=z;if((It=yt).qa=Ont(It,It.J?It.ia:null,It.W),li.K){dnt(It.h,li);var Pr=li,Ya=It.L;Ya&&(Pr.I=Ya),Pr.B&&(Fa(Pr),Yi(Pr)),It.g=li}else Int(It);0<yt.i.length&&HA(yt)}else"stop"!=rr[0]&&"close"!=rr[0]||Sp(yt,7);else 3==yt.G&&("stop"==rr[0]||"close"==rr[0]?"stop"==rr[0]?Sp(yt,7):F4(yt):"noop"!=rr[0]&&yt.l&&yt.l.ta(rr),yt.v=0)}bp()}catch{}}ie.prototype.ca=function(z){z=z.target;const ct=this.M;ct&&3==qu(z)?ct.j():this.Y(z)},ie.prototype.Y=function(z){try{if(z==this.g)t:{const Ao=qu(this.g);var ct=this.g.Ba();if(this.g.Z(),!(3>Ao)&&(3!=Ao||this.g&&(this.h.h||this.g.oa()||Snt(this.g)))){this.J||4!=Ao||7==ct||bp(),Fa(this);var yt=this.g.Z();this.X=yt;e:if(ei(this)){var It=Snt(this.g);z="";var Zt=It.length,ge=4==qu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Hs(this),Hr(this);var li="";break e}this.h.i=new l.TextDecoder}for(ct=0;ct<Zt;ct++)this.h.h=!0,z+=this.h.i.decode(It[ct],{stream:!(ge&&ct==Zt-1)});It.length=0,this.h.g+=z,this.C=0,li=this.h.g}else li=this.g.oa();if(this.o=200==yt,function At(z,ct,yt,It,Zt,ge,li){z.info(function(){return"XMLHTTP RESP ("+It+") [ attempt "+Zt+"]: "+ct+"\n"+yt+"\n"+ge+" "+li})}(this.i,this.u,this.A,this.l,this.R,Ao,yt),this.o){if(this.T&&!this.K){e:{if(this.g){var Pr,Ya=this.g;if((Pr=Ya.g?Ya.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(Pr)){var rr=Pr;break e}}rr=null}if(!(yt=rr)){this.o=!1,this.s=3,ja(12),Hs(this),Hr(this);break t}Ot(this.i,this.l,yt,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zu(this,yt)}if(this.P){let Nc;for(yt=!0;!this.J&&this.C<li.length;){if(Nc=Ge(this,li),Nc==ze){4==Ao&&(this.s=4,ja(14),yt=!1),Ot(this.i,this.l,null,"[Incomplete Response]");break}if(Nc==oe){this.s=4,ja(15),Ot(this.i,this.l,li,"[Invalid Chunk]"),yt=!1;break}Ot(this.i,this.l,Nc,null),Zu(this,Nc)}if(ei(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ao||0!=li.length||this.h.h||(this.s=1,ja(16),yt=!1),this.o=this.o&&yt,yt){if(0<li.length&&!this.W){this.W=!0;var Eo=this.j;Eo.g==this&&Eo.ba&&!Eo.M&&(Eo.j.info("Great, no buffering proxy detected. Bytes received: "+li.length),L4(Eo),Eo.M=!0,ja(11))}}else Ot(this.i,this.l,li,"[Invalid Chunked Response]"),Hs(this),Hr(this)}else Ot(this.i,this.l,li,null),Zu(this,li);4==Ao&&Hs(this),this.o&&!this.J&&(4==Ao?Rnt(this.j,this):(this.o=!1,Yi(this)))}else(function nqt(z){const ct={};z=(z.g&&2<=qu(z)&&z.g.getAllResponseHeaders()||"").split("\r\n");for(let It=0;It<z.length;It++){if(rt(z[It]))continue;var yt=Tt(z[It]);const Zt=yt[0];if("string"!=typeof(yt=yt[1]))continue;yt=yt.trim();const ge=ct[Zt]||[];ct[Zt]=ge,ge.push(yt)}!function ft(z,ct){for(const yt in z)ct.call(void 0,z[yt],yt,z)}(ct,function(It){return It.join(", ")})})(this.g),400==yt&&0<li.indexOf("Unknown SID")?(this.s=3,ja(12)):(this.s=0,ja(13)),Hs(this),Hr(this)}}}catch{}},ie.prototype.cancel=function(){this.J=!0,Hs(this)},ie.prototype.ba=function(){this.B=null;const z=Date.now();0<=z-this.S?(function kt(z,ct){z.info(function(){return"TIMEOUT: "+ct})}(this.i,this.A),2!=this.L&&(bp(),ja(17)),Hs(this),this.s=2,Hr(this)):Cr(this,this.S-z)};var Tp=class{constructor(z,ct){this.g=z,this.map=ct}};function Pd(z){this.l=z||10,z=l.PerformanceNavigationTiming?0<(z=l.performance.getEntriesByType("navigation")).length&&("hq"==z[0].nextHopProtocol||"h2"==z[0].nextHopProtocol):!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=z?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function I0(z){return!!z.h||!!z.g&&z.g.size>=z.j}function dc(z){return z.h?1:z.g?z.g.size:0}function k4(z,ct){return z.h?z.h==ct:!!z.g&&z.g.has(ct)}function R4(z,ct){z.g?z.g.add(ct):z.h=ct}function dnt(z,ct){z.h&&z.h==ct?z.h=null:z.g&&z.g.has(ct)&&z.g.delete(ct)}function unt(z){if(null!=z.h)return z.i.concat(z.h.D);if(null!=z.g&&0!==z.g.size){let ct=z.i;for(const yt of z.g.values())ct=ct.concat(yt.D);return ct}return X(z.i)}function hnt(z,ct){if(z.forEach&&"function"==typeof z.forEach)z.forEach(ct,void 0);else if(b(z)||"string"==typeof z)Array.prototype.forEach.call(z,ct,void 0);else for(var yt=function HJt(z){if(z.na&&"function"==typeof z.na)return z.na();if(!z.V||"function"!=typeof z.V){if(typeof Map<"u"&&z instanceof Map)return Array.from(z.keys());if(!(typeof Set<"u"&&z instanceof Set)){if(b(z)||"string"==typeof z){var ct=[];z=z.length;for(var yt=0;yt<z;yt++)ct.push(yt);return ct}ct=[],yt=0;for(const It in z)ct[yt++]=It;return ct}}}(z),It=function GJt(z){if(z.V&&"function"==typeof z.V)return z.V();if(typeof Map<"u"&&z instanceof Map||typeof Set<"u"&&z instanceof Set)return Array.from(z.values());if("string"==typeof z)return z.split("");if(b(z)){for(var ct=[],yt=z.length,It=0;It<yt;It++)ct.push(z[It]);return ct}for(It in ct=[],yt=0,z)ct[yt++]=z[It];return ct}(z),Zt=It.length,ge=0;ge<Zt;ge++)ct.call(void 0,It[ge],yt&&yt[ge],z)}Pd.prototype.cancel=function(){if(this.i=unt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const z of this.g.values())z.cancel();this.g.clear()}};var fnt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cp(z){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,z instanceof Cp){this.h=z.h,NA(this,z.j),this.o=z.o,this.g=z.g,BA(this,z.s),this.l=z.l;var ct=z.i,yt=new sw;yt.i=ct.i,ct.g&&(yt.g=new Map(ct.g),yt.h=ct.h),mnt(this,yt),this.m=z.m}else z&&(ct=String(z).match(fnt))?(this.h=!1,NA(this,ct[1]||"",!0),this.o=nw(ct[2]||""),this.g=nw(ct[3]||"",!0),BA(this,ct[4]),this.l=nw(ct[5]||"",!0),mnt(this,ct[6]||"",!0),this.m=nw(ct[7]||"")):(this.h=!1,this.i=new sw(null,this.h))}function Ju(z){return new Cp(z)}function NA(z,ct,yt){z.j=yt?nw(ct,!0):ct,z.j&&(z.j=z.j.replace(/:$/,""))}function BA(z,ct){if(ct){if(ct=Number(ct),isNaN(ct)||0>ct)throw Error("Bad port number "+ct);z.s=ct}else z.s=null}function mnt(z,ct,yt){ct instanceof sw?(z.i=ct,function KJt(z,ct){ct&&!z.j&&(_f(z),z.i=null,z.g.forEach(function(yt,It){var Zt=It.toLowerCase();It!=Zt&&(gnt(this,It),xnt(this,Zt,yt))},z)),z.j=ct}(z.i,z.h)):(yt||(ct=rw(ct,$Jt)),z.i=new sw(ct,z.h))}function qr(z,ct,yt){z.i.set(ct,yt)}function VA(z){return qr(z,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),z}function nw(z,ct){return z?ct?decodeURI(z.replace(/%25/g,"%2525")):decodeURIComponent(z):""}function rw(z,ct,yt){return"string"==typeof z?(z=encodeURI(z).replace(ct,XJt),yt&&(z=z.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z):null}function XJt(z){return"%"+((z=z.charCodeAt(0))>>4&15).toString(16)+(15&z).toString(16)}Cp.prototype.toString=function(){var z=[],ct=this.j;ct&&z.push(rw(ct,pnt,!0),":");var yt=this.g;return(yt||"file"==ct)&&(z.push("//"),(ct=this.o)&&z.push(rw(ct,pnt,!0),"@"),z.push(encodeURIComponent(String(yt)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(yt=this.s)&&z.push(":",String(yt))),(yt=this.l)&&(this.g&&"/"!=yt.charAt(0)&&z.push("/"),z.push(rw(yt,"/"==yt.charAt(0)?YJt:jJt,!0))),(yt=this.i.toString())&&z.push("?",yt),(yt=this.m)&&z.push("#",rw(yt,QJt)),z.join("")};var pnt=/[#\/\?@]/g,jJt=/[#\?:]/g,YJt=/[#\?]/g,$Jt=/[#\?@]/g,QJt=/#/g;function sw(z,ct){this.h=this.g=null,this.i=z||null,this.j=!!ct}function _f(z){z.g||(z.g=new Map,z.h=0,z.i&&function WJt(z,ct){if(z){z=z.split("&");for(var yt=0;yt<z.length;yt++){var It=z[yt].indexOf("="),Zt=null;if(0<=It){var ge=z[yt].substring(0,It);Zt=z[yt].substring(It+1)}else ge=z[yt];ct(ge,Zt?decodeURIComponent(Zt.replace(/\+/g," ")):"")}}}(z.i,function(ct,yt){z.add(decodeURIComponent(ct.replace(/\+/g," ")),yt)}))}function gnt(z,ct){_f(z),ct=k0(z,ct),z.g.has(ct)&&(z.i=null,z.h-=z.g.get(ct).length,z.g.delete(ct))}function vnt(z,ct){return _f(z),ct=k0(z,ct),z.g.has(ct)}function xnt(z,ct,yt){gnt(z,ct),0<yt.length&&(z.i=null,z.g.set(k0(z,ct),X(yt)),z.h+=yt.length)}function k0(z,ct){return ct=String(ct),z.j&&(ct=ct.toLowerCase()),ct}function Tf(z,ct,yt,It,Zt){try{Zt&&(Zt.onload=null,Zt.onerror=null,Zt.onabort=null,Zt.ontimeout=null),It(yt)}catch{}}function qJt(){this.g=new xp}function tqt(z,ct,yt){const It=yt||"";try{hnt(z,function(Zt,ge){let li=Zt;C(Zt)&&(li=cc(Zt)),ct.push(It+ge+"="+encodeURIComponent(li))})}catch(Zt){throw ct.push(It+"type="+encodeURIComponent("_badmap")),Zt}}function aw(z){this.l=z.Ub||null,this.j=z.eb||!1}function UA(z,ct){qn.call(this),this.D=z,this.o=ct,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function ynt(z){z.j.read().then(z.Pa.bind(z)).catch(z.ga.bind(z))}function ow(z){z.readyState=4,z.l=null,z.j=null,z.v=null,lw(z)}function lw(z){z.onreadystatechange&&z.onreadystatechange.call(z)}function bnt(z){let ct="";return Mt(z,function(yt,It){ct+=It,ct+=":",ct+=yt,ct+="\r\n"}),ct}function P4(z,ct,yt){t:{for(It in yt){var It=!1;break t}It=!0}It||(yt=bnt(yt),"string"==typeof z?null!=yt&&encodeURIComponent(String(yt)):qr(z,ct,yt))}function Ts(z){qn.call(this),this.headers=new Map,this.o=z||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=sw.prototype).add=function(z,ct){_f(this),this.i=null,z=k0(this,z);var yt=this.g.get(z);return yt||this.g.set(z,yt=[]),yt.push(ct),this.h+=1,this},e.forEach=function(z,ct){_f(this),this.g.forEach(function(yt,It){yt.forEach(function(Zt){z.call(ct,Zt,It,this)},this)},this)},e.na=function(){_f(this);const z=Array.from(this.g.values()),ct=Array.from(this.g.keys()),yt=[];for(let It=0;It<ct.length;It++){const Zt=z[It];for(let ge=0;ge<Zt.length;ge++)yt.push(ct[It])}return yt},e.V=function(z){_f(this);let ct=[];if("string"==typeof z)vnt(this,z)&&(ct=ct.concat(this.g.get(k0(this,z))));else{z=Array.from(this.g.values());for(let yt=0;yt<z.length;yt++)ct=ct.concat(z[yt])}return ct},e.set=function(z,ct){return _f(this),this.i=null,vnt(this,z=k0(this,z))&&(this.h-=this.g.get(z).length),this.g.set(z,[ct]),this.h+=1,this},e.get=function(z,ct){return z&&0<(z=this.V(z)).length?String(z[0]):ct},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const z=[],ct=Array.from(this.g.keys());for(var yt=0;yt<ct.length;yt++){var It=ct[yt];const ge=encodeURIComponent(String(It)),li=this.V(It);for(It=0;It<li.length;It++){var Zt=ge;""!==li[It]&&(Zt+="="+encodeURIComponent(String(li[It]))),z.push(Zt)}}return this.i=z.join("&")},U(aw,A0),aw.prototype.g=function(){return new UA(this.l,this.j)},aw.prototype.i=function(z){return function(){return z}}({}),U(UA,qn),(e=UA.prototype).open=function(z,ct){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=z,this.A=ct,this.readyState=1,lw(this)},e.send=function(z){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ct={headers:this.u,method:this.B,credentials:this.m,cache:void 0};z&&(ct.body=z),(this.D||l).fetch(new Request(this.A,ct)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ow(this)),this.readyState=0},e.Sa=function(z){if(this.g&&(this.l=z,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=z.headers,this.readyState=2,lw(this)),this.g&&(this.readyState=3,lw(this),this.g)))if("arraybuffer"===this.responseType)z.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in z){if(this.j=z.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ynt(this)}else z.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(z){if(this.g){if(this.o&&z.value)this.response.push(z.value);else if(!this.o){var ct=z.value?z.value:new Uint8Array(0);(ct=this.v.decode(ct,{stream:!z.done}))&&(this.response=this.responseText+=ct)}z.done?ow(this):lw(this),3==this.readyState&&ynt(this)}},e.Ra=function(z){this.g&&(this.response=this.responseText=z,ow(this))},e.Qa=function(z){this.g&&(this.response=z,ow(this))},e.ga=function(){this.g&&ow(this)},e.setRequestHeader=function(z,ct){this.u.append(z,ct)},e.getResponseHeader=function(z){return this.h&&this.h.get(z.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const z=[],ct=this.h.entries();for(var yt=ct.next();!yt.done;)z.push((yt=yt.value)[0]+": "+yt[1]),yt=ct.next();return z.join("\r\n")},Object.defineProperty(UA.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(z){this.m=z?"include":"same-origin"}}),U(Ts,qn);var eqt=/^https?$/i,iqt=["POST","PUT"];function wnt(z,ct){z.h=!1,z.g&&(z.j=!0,z.g.abort(),z.j=!1),z.l=ct,z.m=5,_nt(z),zA(z)}function _nt(z){z.A||(z.A=!0,Hn(z,"complete"),Hn(z,"error"))}function Tnt(z){if(z.h&&typeof o<"u"&&(!z.v[1]||4!=qu(z)||2!=z.Z()))if(z.u&&4==qu(z))So(z.Ea,0,z);else if(Hn(z,"readystatechange"),4==qu(z)){z.h=!1;try{const li=z.Z();t:switch(li){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ct=!0;break t;default:ct=!1}var yt;if(!(yt=ct)){var It;if(It=0===li){var Zt=String(z.D).match(fnt)[1]||null;!Zt&&l.self&&l.self.location&&(Zt=l.self.location.protocol.slice(0,-1)),It=!eqt.test(Zt?Zt.toLowerCase():"")}yt=It}if(yt)Hn(z,"complete"),Hn(z,"success");else{z.m=6;try{var ge=2<qu(z)?z.g.statusText:""}catch{ge=""}z.l=ge+" ["+z.Z()+"]",_nt(z)}}finally{zA(z)}}}function zA(z,ct){if(z.g){Cnt(z);const yt=z.g,It=z.v[0]?()=>{}:null;z.g=null,z.v=null,ct||Hn(z,"ready");try{yt.onreadystatechange=It}catch{}}}function Cnt(z){z.I&&(l.clearTimeout(z.I),z.I=null)}function qu(z){return z.g?z.g.readyState:0}function Snt(z){try{if(!z.g)return null;if("response"in z.g)return z.g.response;switch(z.H){case"":case"text":return z.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in z.g)return z.g.mozResponseArrayBuffer}return null}catch{return null}}function cw(z,ct,yt){return yt&&yt.internalChannelParams&&yt.internalChannelParams[z]||ct}function Ent(z){this.Aa=0,this.i=[],this.j=new _p,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cw("failFast",!1,z),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cw("baseRetryDelayMs",5e3,z),this.cb=cw("retryDelaySeedMs",1e4,z),this.Wa=cw("forwardChannelMaxRetries",2,z),this.wa=cw("forwardChannelRequestTimeoutMs",2e4,z),this.pa=z&&z.xmlHttpFactory||void 0,this.Xa=z&&z.Tb||void 0,this.Ca=z&&z.useFetchStreams||!1,this.L=void 0,this.J=z&&z.supportsCrossDomainXhr||!1,this.K="",this.h=new Pd(z&&z.concurrentRequestLimit),this.Da=new qJt,this.P=z&&z.fastHandshake||!1,this.O=z&&z.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=z&&z.Rb||!1,z&&z.xa&&this.j.xa(),z&&z.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&z&&z.detectBufferingProxy||!1,this.ja=void 0,z&&z.longPollingTimeout&&0<z.longPollingTimeout&&(this.ja=z.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function F4(z){if(Ant(z),3==z.G){var ct=z.U++,yt=Ju(z.I);if(qr(yt,"SID",z.K),qr(yt,"RID",ct),qr(yt,"TYPE","terminate"),dw(z,yt),(ct=new ie(z,z.j,ct)).L=2,ct.v=VA(Ju(yt)),yt=!1,l.navigator&&l.navigator.sendBeacon)try{yt=l.navigator.sendBeacon(ct.v.toString(),"")}catch{}!yt&&l.Image&&((new Image).src=ct.v,yt=!0),yt||(ct.g=Lnt(ct.j,null),ct.g.ea(ct.v)),ct.F=Date.now(),Yi(ct)}Fnt(z)}function GA(z){z.g&&(L4(z),z.g.cancel(),z.g=null)}function Ant(z){GA(z),z.u&&(l.clearTimeout(z.u),z.u=null),WA(z),z.h.cancel(),z.s&&("number"==typeof z.s&&l.clearTimeout(z.s),z.s=null)}function HA(z){if(!I0(z.h)&&!z.s){z.s=!0;var ct=z.Ga;Qt||Se(),_e||(Qt(),_e=!0),Ne.add(ct,z),z.B=0}}function Dnt(z,ct){var yt;yt=ct?ct.l:z.U++;const It=Ju(z.I);qr(It,"SID",z.K),qr(It,"RID",yt),qr(It,"AID",z.T),dw(z,It),z.m&&z.o&&P4(It,z.m,z.o),yt=new ie(z,z.j,yt,z.B+1),null===z.m&&(yt.H=z.o),ct&&(z.i=ct.D.concat(z.i)),ct=Mnt(z,yt,1e3),yt.I=Math.round(.5*z.wa)+Math.round(.5*z.wa*Math.random()),R4(z.h,yt),We(yt,It,ct)}function dw(z,ct){z.H&&Mt(z.H,function(yt,It){qr(ct,It,yt)}),z.l&&hnt({},function(yt,It){qr(ct,It,yt)})}function Mnt(z,ct,yt){yt=Math.min(z.i.length,yt);var It=z.l?O(z.l.Na,z.l,z):null;t:{var Zt=z.i;let ge=-1;for(;;){const li=["count="+yt];-1==ge?0<yt?(ge=Zt[0].g,li.push("ofs="+ge)):ge=0:li.push("ofs="+ge);let Pr=!0;for(let Ya=0;Ya<yt;Ya++){let rr=Zt[Ya].g;const Eo=Zt[Ya].map;if(rr-=ge,0>rr)ge=Math.max(0,Zt[Ya].g-100),Pr=!1;else try{tqt(Eo,li,"req"+rr+"_")}catch{It&&It(Eo)}}if(Pr){It=li.join("&");break t}}}return z=z.i.splice(0,yt),ct.D=z,It}function Int(z){if(!z.g&&!z.u){z.Y=1;var ct=z.Fa;Qt||Se(),_e||(Qt(),_e=!0),Ne.add(ct,z),z.v=0}}function O4(z){return!(z.g||z.u||3<=z.v||(z.Y++,z.u=wp(O(z.Fa,z),Pnt(z,z.v)),z.v++,0))}function L4(z){null!=z.A&&(l.clearTimeout(z.A),z.A=null)}function knt(z){z.g=new ie(z,z.j,"rpc",z.Y),null===z.m&&(z.g.H=z.o),z.g.O=0;var ct=Ju(z.qa);qr(ct,"RID","rpc"),qr(ct,"SID",z.K),qr(ct,"AID",z.T),qr(ct,"CI",z.F?"0":"1"),!z.F&&z.ja&&qr(ct,"TO",z.ja),qr(ct,"TYPE","xmlhttp"),dw(z,ct),z.m&&z.o&&P4(ct,z.m,z.o),z.L&&(z.g.I=z.L);var yt=z.g;z=z.ia,yt.L=1,yt.v=VA(Ju(ct)),yt.m=null,yt.P=!0,yi(yt,z)}function WA(z){null!=z.C&&(l.clearTimeout(z.C),z.C=null)}function Rnt(z,ct){var yt=null;if(z.g==ct){WA(z),L4(z),z.g=null;var It=2}else{if(!k4(z.h,ct))return;yt=ct.D,dnt(z.h,ct),It=1}if(0!=z.G)if(ct.o)if(1==It){yt=ct.m?ct.m.length:0,ct=Date.now()-ct.F;var Zt=z.B;Hn(It=D0(),new M0(It,yt)),HA(z)}else Int(z);else if(3==(Zt=ct.s)||0==Zt&&0<ct.X||!(1==It&&function rqt(z,ct){return!(dc(z.h)>=z.h.j-(z.s?1:0)||(z.s?(z.i=ct.D.concat(z.i),0):1==z.G||2==z.G||z.B>=(z.Va?0:z.Wa)||(z.s=wp(O(z.Ga,z,ct),Pnt(z,z.B)),z.B++,0)))}(z,ct)||2==It&&O4(z)))switch(yt&&0<yt.length&&(ct=z.h,ct.i=ct.i.concat(yt)),Zt){case 1:Sp(z,5);break;case 4:Sp(z,10);break;case 3:Sp(z,6);break;default:Sp(z,2)}}function Pnt(z,ct){let yt=z.Ta+Math.floor(Math.random()*z.cb);return z.isActive()||(yt*=2),yt*ct}function Sp(z,ct){if(z.j.info("Error code "+ct),2==ct){var yt=O(z.fb,z),It=z.Xa;const Zt=!It;It=new Cp(It||"//www.google.com/images/cleardot.gif"),l.location&&"http"==l.location.protocol||NA(It,"https"),VA(It),Zt?function ZJt(z,ct){const yt=new _p;if(l.Image){const It=new Image;It.onload=L(Tf,yt,"TestLoadImage: loaded",!0,ct,It),It.onerror=L(Tf,yt,"TestLoadImage: error",!1,ct,It),It.onabort=L(Tf,yt,"TestLoadImage: abort",!1,ct,It),It.ontimeout=L(Tf,yt,"TestLoadImage: timeout",!1,ct,It),l.setTimeout(function(){It.ontimeout&&It.ontimeout()},1e4),It.src=z}else ct(!1)}(It.toString(),yt):function JJt(z,ct){new _p;const It=new AbortController,Zt=setTimeout(()=>{It.abort(),Tf(0,0,!1,ct)},1e4);fetch(z,{signal:It.signal}).then(ge=>{clearTimeout(Zt),Tf(0,0,!!ge.ok,ct)}).catch(()=>{clearTimeout(Zt),Tf(0,0,!1,ct)})}(It.toString(),yt)}else ja(2);z.G=0,z.l&&z.l.sa(ct),Fnt(z),Ant(z)}function Fnt(z){if(z.G=0,z.ka=[],z.l){const ct=unt(z.h);(0!=ct.length||0!=z.i.length)&&(W(z.ka,ct),W(z.ka,z.i),z.h.i.length=0,X(z.i),z.i.length=0),z.l.ra()}}function Ont(z,ct,yt){var It=yt instanceof Cp?Ju(yt):new Cp(yt);if(""!=It.g)ct&&(It.g=ct+"."+It.g),BA(It,It.s);else{var Zt=l.location;It=Zt.protocol,ct=ct?ct+"."+Zt.hostname:Zt.hostname,Zt=+Zt.port;var ge=new Cp(null);It&&NA(ge,It),ct&&(ge.g=ct),Zt&&BA(ge,Zt),yt&&(ge.l=yt),It=ge}return ct=z.ya,(yt=z.D)&&ct&&qr(It,yt,ct),qr(It,"VER",z.la),dw(z,It),It}function Lnt(z,ct,yt){if(ct&&!z.J)throw Error("Can't create secondary domain capable XhrIo object.");return(ct=new Ts(z.Ca&&!z.pa?new aw({eb:yt}):z.pa)).Ha(z.J),ct}function Nnt(){}function XA(){}function Nl(z,ct){qn.call(this),this.g=new Ent(ct),this.l=z,this.h=ct&&ct.messageUrlParams||null,z=ct&&ct.messageHeaders||null,ct&&ct.clientProtocolHeaderRequired&&(z?z["X-Client-Protocol"]="webchannel":z={"X-Client-Protocol":"webchannel"}),this.g.o=z,z=ct&&ct.initMessageHeaders||null,ct&&ct.messageContentType&&(z?z["X-WebChannel-Content-Type"]=ct.messageContentType:z={"X-WebChannel-Content-Type":ct.messageContentType}),ct&&ct.va&&(z?z["X-WebChannel-Client-Profile"]=ct.va:z={"X-WebChannel-Client-Profile":ct.va}),this.g.S=z,(z=ct&&ct.Sb)&&!rt(z)&&(this.g.m=z),this.v=ct&&ct.supportsCrossDomainXhr||!1,this.u=ct&&ct.sendRawJson||!1,(ct=ct&&ct.httpSessionIdParam)&&!rt(ct)&&(this.g.D=ct,null!==(z=this.h)&&ct in z&&ct in(z=this.h)&&delete z[ct]),this.j=new R0(this)}function Bnt(z){wf.call(this),z.__headers__&&(this.headers=z.__headers__,this.statusCode=z.__status__,delete z.__headers__,delete z.__status__);var ct=z.__sm__;if(ct){t:{for(const yt in ct){z=yt;break t}z=void 0}(this.i=z)&&(z=this.i,ct=null!==ct&&z in ct?ct[z]:void 0),this.data=ct}else this.data=z}function Vnt(){iw.call(this),this.status=1}function R0(z){this.g=z}(e=Ts.prototype).Ha=function(z){this.J=z},e.ea=function(z,ct,yt,It){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+z);ct=ct?ct.toUpperCase():"GET",this.D=z,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():se.g(),this.v=function ew(z){return z.h||(z.h=z.i())}(this.o?this.o:se),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(ct,String(z),!0),this.B=!1}catch(ge){return void wnt(this,ge)}if(z=yt||"",yt=new Map(this.headers),It)if(Object.getPrototypeOf(It)===Object.prototype)for(var Zt in It)yt.set(Zt,It[Zt]);else{if("function"!=typeof It.keys||"function"!=typeof It.get)throw Error("Unknown input type for opt_headers: "+String(It));for(const ge of It.keys())yt.set(ge,It.get(ge))}It=Array.from(yt.keys()).find(ge=>"content-type"==ge.toLowerCase()),Zt=l.FormData&&z instanceof l.FormData,!(0<=Array.prototype.indexOf.call(iqt,ct,void 0))||It||Zt||yt.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,li]of yt)this.g.setRequestHeader(ge,li);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cnt(this),this.u=!0,this.g.send(z),this.u=!1}catch(ge){wnt(this,ge)}},e.abort=function(z){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=z||7,Hn(this,"complete"),Hn(this,"abort"),zA(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zA(this,!0)),Ts.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Tnt(this):this.bb())},e.bb=function(){Tnt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qu(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(z){if(this.g){var ct=this.g.responseText;return z&&0==ct.indexOf(z)&&(ct=ct.substring(z.length)),Qu(ct)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Ent.prototype).la=8,e.G=1,e.connect=function(z,ct,yt,It){ja(0),this.W=z,this.H=ct||{},yt&&void 0!==It&&(this.H.OSID=yt,this.H.OAID=It),this.F=this.X,this.I=Ont(this,null,this.W),HA(this)},e.Ga=function(z){if(this.s)if(this.s=null,1==this.G){if(!z){this.U=Math.floor(1e5*Math.random()),z=this.U++;const Zt=new ie(this,this.j,z);let ge=this.o;if(this.S&&(ge?(ge=dt(ge),bt(ge,this.S)):ge=this.S),null!==this.m||this.O||(Zt.H=ge,ge=null),this.P)t:{for(var ct=0,yt=0;yt<this.i.length;yt++){var It=this.i[yt];if(void 0===(It="__data__"in It.map&&"string"==typeof(It=It.map.__data__)?It.length:void 0))break;if(4096<(ct+=It)){ct=yt;break t}if(4096===ct||yt===this.i.length-1){ct=yt+1;break t}}ct=1e3}else ct=1e3;ct=Mnt(this,Zt,ct),qr(yt=Ju(this.I),"RID",z),qr(yt,"CVER",22),this.D&&qr(yt,"X-HTTP-Session-Id",this.D),dw(this,yt),ge&&(this.O?ct="headers="+encodeURIComponent(String(bnt(ge)))+"&"+ct:this.m&&P4(yt,this.m,ge)),R4(this.h,Zt),this.Ua&&qr(yt,"TYPE","init"),this.P?(qr(yt,"$req",ct),qr(yt,"SID","null"),Zt.T=!0,We(Zt,yt,null)):We(Zt,yt,ct),this.G=2}}else 3==this.G&&(z?Dnt(this,z):0==this.i.length||I0(this.h)||Dnt(this))},e.Fa=function(){if(this.u=null,knt(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var z=2*this.R;this.j.info("BP detection timer enabled: "+z),this.A=wp(O(this.ab,this),z)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ja(10),GA(this),knt(this))},e.Za=function(){null!=this.C&&(this.C=null,GA(this),O4(this),ja(19))},e.fb=function(z){z?(this.j.info("Successfully pinged google.com"),ja(2)):(this.j.info("Failed to ping google.com"),ja(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=Nnt.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},XA.prototype.g=function(z,ct){return new Nl(z,ct)},U(Nl,qn),Nl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nl.prototype.close=function(){F4(this.g)},Nl.prototype.o=function(z){var ct=this.g;if("string"==typeof z){var yt={};yt.__data__=z,z=yt}else this.u&&((yt={}).__data__=cc(z),z=yt);ct.i.push(new Tp(ct.Ya++,z)),3==ct.G&&HA(ct)},Nl.prototype.N=function(){this.g.l=null,delete this.j,F4(this.g),delete this.g,Nl.aa.N.call(this)},U(Bnt,wf),U(Vnt,iw),U(R0,Nnt),R0.prototype.ua=function(){Hn(this.g,"a")},R0.prototype.ta=function(z){Hn(this.g,new Bnt(z))},R0.prototype.sa=function(z){Hn(this.g,new Vnt)},R0.prototype.ra=function(){Hn(this.g,"b")},XA.prototype.createWebChannel=XA.prototype.g,Nl.prototype.send=Nl.prototype.o,Nl.prototype.open=Nl.prototype.m,Nl.prototype.close=Nl.prototype.close,Wj=wu.createWebChannelTransport=function(){return new XA},Hj=wu.getStatEventTarget=function(){return D0()},Gj=wu.Event=Ku,DP=wu.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lt.NO_ERROR=0,Lt.TIMEOUT=8,Lt.HTTP_ERROR=6,oS=wu.ErrorCode=Lt,Nt.COMPLETE="complete",zj=wu.EventType=Nt,PA.EventType=yp,yp.OPEN="a",yp.CLOSE="b",yp.ERROR="c",yp.MESSAGE="d",qn.prototype.listen=qn.prototype.K,tb=wu.WebChannel=PA,Uj=wu.FetchXmlHttpFactory=aw,Ts.prototype.listenOnce=Ts.prototype.L,Ts.prototype.getLastError=Ts.prototype.Ka,Ts.prototype.getLastErrorCode=Ts.prototype.Ba,Ts.prototype.getStatus=Ts.prototype.Z,Ts.prototype.getResponseJson=Ts.prototype.Oa,Ts.prototype.getResponseText=Ts.prototype.oa,Ts.prototype.send=Ts.prototype.ea,Ts.prototype.setWithCredentials=Ts.prototype.Ha,Vj=wu.XhrIo=Ts}).apply(typeof aS<"u"?aS:typeof self<"u"?self:typeof window<"u"?window:{});const Xj="@firebase/firestore";class Aa{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}Aa.UNAUTHENTICATED=new Aa(null),Aa.GOOGLE_CREDENTIALS=new Aa("google-credentials-uid"),Aa.FIRST_PARTY=new Aa("first-party-uid"),Aa.MOCK_USER=new Aa("mock-user");let mv="10.12.3";const zh=new wj("@firebase/firestore");function pv(){return zh.logLevel}function Fe(e,...i){if(zh.logLevel<=jn.DEBUG){const t=i.map(MP);zh.debug(`Firestore (${mv}): ${e}`,...t)}}function Fs(e,...i){if(zh.logLevel<=jn.ERROR){const t=i.map(MP);zh.error(`Firestore (${mv}): ${e}`,...t)}}function El(e,...i){if(zh.logLevel<=jn.WARN){const t=i.map(MP);zh.warn(`Firestore (${mv}): ${e}`,...t)}}function MP(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch{return e}}function gi(e="Unexpected state"){const i=`FIRESTORE (${mv}) INTERNAL ASSERTION FAILED: `+e;throw Fs(i),new Error(i)}function Ai(e,i){e||gi()}function ai(e,i){return e}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends fv{constructor(i,t){super(i,t),this.code=i,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fa{constructor(){this.promise=new Promise((i,t)=>{this.resolve=i,this.reject=t})}}class jj{constructor(i,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class ARt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,t){i.enqueueRetryable(()=>t(Aa.UNAUTHENTICATED))}shutdown(){}}class DRt{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,t){this.changeListener=t,i.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class MRt{constructor(i){this.t=i,this.currentUser=Aa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,t){var n=this;let r=this.i;const s=C=>this.i!==r?(r=this.i,t(C)):Promise.resolve();let o=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fa,i.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const C=o;i.enqueueRetryable(de(function*(){yield C.promise,yield s(n.currentUser)}))},b=C=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(C=>b(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?b(C):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fa)}},0),l()}getToken(){const i=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==i?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ai("string"==typeof n.accessToken),new jj(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return Ai(null===i||"string"==typeof i),new Aa(i)}}class IRt{constructor(i,t,n){this.l=i,this.h=t,this.P=n,this.type="FirstParty",this.user=Aa.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const i=this.T();return i&&this.I.set("Authorization",i),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kRt{constructor(i,t,n){this.l=i,this.h=t,this.P=n}getToken(){return Promise.resolve(new IRt(this.l,this.h,this.P))}start(i,t){i.enqueueRetryable(()=>t(Aa.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yj{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RRt{constructor(i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(i,t){const n=s=>{null!=s.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{i.enqueueRetryable(()=>n(s))};const r=s=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(t=>t?(Ai("string"==typeof t.token),this.R=t.token,new Yj(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function PRt(e){const i=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(e);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(t);else for(let n=0;n<e;n++)t[n]=Math.floor(256*Math.random());return t}class $j{static newId(){const t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=PRt(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return n}}function tn(e,i){return e<i?-1:e>i?1:0}function gv(e,i,t){return e.length===i.length&&e.every((n,r)=>t(n,i[r]))}class ns{constructor(i,t){if(this.seconds=i,this.nanoseconds=t,t<0)throw new Oe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(i<-62135596800)throw new Oe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Oe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return ns.fromMillis(Date.now())}static fromDate(i){return ns.fromMillis(i.getTime())}static fromMillis(i){const t=Math.floor(i/1e3),n=Math.floor(1e6*(i-1e3*t));return new ns(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?tn(this.nanoseconds,i.nanoseconds):tn(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ii{constructor(i){this.timestamp=i}static fromTimestamp(i){return new Ii(i)}static min(){return new Ii(new ns(0,0))}static max(){return new Ii(new ns(253402300799,999999999))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class eb{constructor(i,t,n){void 0===t?t=0:t>i.length&&gi(),void 0===n?n=i.length-t:n>i.length-t&&gi(),this.segments=i,this.offset=t,this.len=n}get length(){return this.len}isEqual(i){return 0===eb.comparator(this,i)}child(i){const t=this.segments.slice(this.offset,this.limit());return i instanceof eb?i.forEach(n=>{t.push(n)}):t.push(i),this.construct(t)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==i.get(t))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==i.get(t))return!1;return!0}forEach(i){for(let t=this.offset,n=this.limit();t<n;t++)i(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,t){const n=Math.min(i.length,t.length);for(let r=0;r<n;r++){const s=i.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return i.length<t.length?-1:i.length>t.length?1:0}}class Bn extends eb{construct(i,t,n){return new Bn(i,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...i){const t=[];for(const n of i){if(n.indexOf("//")>=0)throw new Oe(he.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(r=>r.length>0))}return new Bn(t)}static emptyPath(){return new Bn([])}}const FRt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rs extends eb{construct(i,t,n){return new rs(i,t,n)}static isValidIdentifier(i){return FRt.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rs.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rs(["__name__"])}static fromServerFormat(i){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Oe(he.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<i.length;){const l=i[r];if("\\"===l){if(r+1===i.length)throw new Oe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const b=i[r+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Oe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);n+=b,r+=2}else"`"===l?(o=!o,r++):"."!==l||o?(n+=l,r++):(s(),r++)}if(s(),o)throw new Oe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new rs(t)}static emptyPath(){return new rs([])}}class di{constructor(i){this.path=i}static fromPath(i){return new di(Bn.fromString(i))}static fromName(i){return new di(Bn.fromString(i).popFirst(5))}static empty(){return new di(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return null!==i&&0===Bn.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,t){return Bn.comparator(i.path,t.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new di(new Bn(i.slice()))}}class Al{constructor(i,t,n){this.readTime=i,this.documentKey=t,this.largestBatchId=n}static min(){return new Al(Ii.min(),di.empty(),-1)}static max(){return new Al(Ii.max(),di.empty(),-1)}}function kP(e,i){let t=e.readTime.compareTo(i.readTime);return 0!==t?t:(t=di.comparator(e.documentKey,i.documentKey),0!==t?t:tn(e.largestBatchId,i.largestBatchId))}const Jj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}function Gh(e){return RP.apply(this,arguments)}function RP(){return(RP=de(function*(e){if(e.code!==he.FAILED_PRECONDITION||e.message!==Jj)throw e;Fe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class te{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(i){return this.next(void 0,i)}next(i,t){return this.callbackAttached&&gi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(i,this.result):new te((n,r)=>{this.nextCallback=s=>{this.wrapSuccess(i,s).next(n,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,r)}})}toPromise(){return new Promise((i,t)=>{this.next(i,t)})}wrapUserFunction(i){try{const t=i();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(i,t){return i?this.wrapUserFunction(()=>i(t)):te.resolve(t)}wrapFailure(i,t){return i?this.wrapUserFunction(()=>i(t)):te.reject(t)}static resolve(i){return new te((t,n)=>{t(i)})}static reject(i){return new te((t,n)=>{n(i)})}static waitFor(i){return new te((t,n)=>{let r=0,s=0,o=!1;i.forEach(l=>{++r,l.next(()=>{++s,o&&s===r&&t()},b=>n(b))}),o=!0,s===r&&t()})}static or(i){let t=te.resolve(!1);for(const n of i)t=t.next(r=>r?te.resolve(r):n());return t}static forEach(i,t){const n=[];return i.forEach((r,s)=>{n.push(t.call(this,r,s))}),this.waitFor(n)}static mapArray(i,t){return new te((n,r)=>{const s=i.length,o=new Array(s);let l=0;for(let b=0;b<s;b++){const C=b;t(i[C]).next(D=>{o[C]=D,++l,l===s&&n(o)},D=>r(D))}})}static doWhile(i,t){return new te((n,r)=>{const s=()=>{!0===i()?t().next(()=>{s()},r):n()};s()})}}function Hh(e){return"IndexedDbTransactionError"===e.name}let Dl=(()=>{class e{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return e.oe=-1,e})();function nb(e){return null==e}function rb(e){return 0===e&&1/e==-1/0}function dY(e){let i=0;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&i++;return i}function Wh(e,i){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&i(t,e[t])}function hY(e){for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i))return!1;return!0}class zr{constructor(i,t){this.comparator=i,this.root=t||Ua.EMPTY}insert(i,t){return new zr(this.comparator,this.root.insert(i,t,this.comparator).copy(null,null,Ua.BLACK,null,null))}remove(i){return new zr(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Ua.BLACK,null,null))}get(i){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(i,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(i){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(i,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((t,n)=>(i(t,n),!1))}toString(){const i=[];return this.inorderTraversal((t,n)=>(i.push(`${t}:${n}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new dS(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new dS(this.root,i,this.comparator,!1)}getReverseIterator(){return new dS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new dS(this.root,i,this.comparator,!0)}}class dS{constructor(i,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!i.isEmpty();)if(s=t?n(i.key,t):1,t&&r&&(s*=-1),s<0)i=this.isReverse?i.left:i.right;else{if(0===s){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const t={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class Ua{constructor(i,t,n,r,s){this.key=i,this.value=t,this.color=n??Ua.RED,this.left=r??Ua.EMPTY,this.right=s??Ua.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,t,n,r,s){return new Ua(i??this.key,t??this.value,n??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,t,n){let r=this;const s=n(i,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(i,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(i,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ua.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,t){let n,r=this;if(t(i,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(i,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(i,r.key)){if(r.right.isEmpty())return Ua.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(i,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,Ua.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,Ua.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,t)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gi();const i=this.left.check();if(i!==this.right.check())throw gi();return i+(this.isRed()?0:1)}}Ua.EMPTY=null,Ua.RED=!0,Ua.BLACK=!1,Ua.EMPTY=new class{constructor(){this.size=0}get key(){throw gi()}get value(){throw gi()}get color(){throw gi()}get left(){throw gi()}get right(){throw gi()}copy(i,t,n,r,s){return this}insert(i,t,n){return new Ua(i,t)}remove(i,t){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dr{constructor(i){this.comparator=i,this.data=new zr(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((t,n)=>(i(t),!1))}forEachInRange(i,t){const n=this.data.getIteratorFrom(i[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,i[1])>=0)return;t(r.key)}}forEachWhile(i,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!i(n.getNext().key))return}firstAfterOrEqual(i){const t=this.data.getIteratorFrom(i);return t.hasNext()?t.getNext().key:null}getIterator(){return new fY(this.data.getIterator())}getIteratorFrom(i){return new fY(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let t=this;return t.size<i.size&&(t=i,i=this),i.forEach(n=>{t=t.add(n)}),t}isEqual(i){if(!(i instanceof Dr)||this.size!==i.size)return!1;const t=this.data.getIterator(),n=i.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const i=[];return this.forEach(t=>{i.push(t)}),i}toString(){const i=[];return this.forEach(t=>i.push(t)),"SortedSet("+i.toString()+")"}copy(i){const t=new Dr(this.comparator);return t.data=i,t}}class fY{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class el{constructor(i){this.fields=i,i.sort(rs.comparator)}static empty(){return new el([])}unionWith(i){let t=new Dr(rs.comparator);for(const n of this.fields)t=t.add(n);for(const n of i)t=t.add(n);return new el(t.toArray())}covers(i){for(const t of this.fields)if(t.isPrefixOf(i))return!0;return!1}isEqual(i){return gv(this.fields,i.fields,(t,n)=>t.isEqual(n))}}class mY extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ma{constructor(i){this.binaryString=i}static fromBase64String(i){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mY("Invalid base64 string: "+s):s}}(i);return new ma(t)}static fromUint8Array(i){const t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(i);return new ma(t)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return tn(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}ma.EMPTY_BYTE_STRING=new ma("");const sPt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _u(e){if(Ai(!!e),"string"==typeof e){let i=0;const t=sPt.exec(e);if(Ai(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),i=Number(r)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:i}}return{seconds:bs(e.seconds),nanos:bs(e.nanos)}}function bs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Tu(e){return"string"==typeof e?ma.fromBase64String(e):ma.fromUint8Array(e)}function uS(e){var i,t;return"server_timestamp"===(null===(t=((null===(i=e?.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function hS(e){const i=e.mapValue.fields.__previous_value__;return uS(i)?hS(i):i}function sb(e){const i=_u(e.mapValue.fields.__local_write_time__.timestampValue);return new ns(i.seconds,i.nanos)}class aPt{constructor(i,t,n,r,s,o,l,b,C){this.databaseId=i,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=b,this.useFetchStreams=C}}class vm{constructor(i,t){this.projectId=i,this.database=t||"(default)"}static empty(){return new vm("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof vm&&i.projectId===this.projectId&&i.database===this.database}}const Xh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function jh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?uS(e)?4:xY(e)?9007199254740991:10:gi()}function pd(e,i){if(e===i)return!0;const t=jh(e);if(t!==jh(i))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===i.booleanValue;case 4:return sb(e).isEqual(sb(i));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=_u(r.timestampValue),l=_u(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(e,i);case 5:return e.stringValue===i.stringValue;case 6:return s=i,Tu(e.bytesValue).isEqual(Tu(s.bytesValue));case 7:return e.referenceValue===i.referenceValue;case 8:return function(r,s){return bs(r.geoPointValue.latitude)===bs(s.geoPointValue.latitude)&&bs(r.geoPointValue.longitude)===bs(s.geoPointValue.longitude)}(e,i);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return bs(r.integerValue)===bs(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=bs(r.doubleValue),l=bs(s.doubleValue);return o===l?rb(o)===rb(l):isNaN(o)&&isNaN(l)}return!1}(e,i);case 9:return gv(e.arrayValue.values||[],i.arrayValue.values||[],pd);case 10:return function(r,s){const o=r.mapValue.fields||{},l=s.mapValue.fields||{};if(dY(o)!==dY(l))return!1;for(const b in o)if(o.hasOwnProperty(b)&&(void 0===l[b]||!pd(o[b],l[b])))return!1;return!0}(e,i);default:return gi()}var s}function ab(e,i){return void 0!==(e.values||[]).find(t=>pd(t,i))}function Yh(e,i){if(e===i)return 0;const t=jh(e),n=jh(i);if(t!==n)return tn(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return tn(e.booleanValue,i.booleanValue);case 2:return function(s,o){const l=bs(s.integerValue||s.doubleValue),b=bs(o.integerValue||o.doubleValue);return l<b?-1:l>b?1:l===b?0:isNaN(l)?isNaN(b)?0:-1:1}(e,i);case 3:return pY(e.timestampValue,i.timestampValue);case 4:return pY(sb(e),sb(i));case 5:return tn(e.stringValue,i.stringValue);case 6:return function(s,o){const l=Tu(s),b=Tu(o);return l.compareTo(b)}(e.bytesValue,i.bytesValue);case 7:return function(s,o){const l=s.split("/"),b=o.split("/");for(let C=0;C<l.length&&C<b.length;C++){const D=tn(l[C],b[C]);if(0!==D)return D}return tn(l.length,b.length)}(e.referenceValue,i.referenceValue);case 8:return function(s,o){const l=tn(bs(s.latitude),bs(o.latitude));return 0!==l?l:tn(bs(s.longitude),bs(o.longitude))}(e.geoPointValue,i.geoPointValue);case 9:return function(s,o){const l=s.values||[],b=o.values||[];for(let C=0;C<l.length&&C<b.length;++C){const D=Yh(l[C],b[C]);if(D)return D}return tn(l.length,b.length)}(e.arrayValue,i.arrayValue);case 10:return function(s,o){if(s===Xh.mapValue&&o===Xh.mapValue)return 0;if(s===Xh.mapValue)return 1;if(o===Xh.mapValue)return-1;const l=s.fields||{},b=Object.keys(l),C=o.fields||{},D=Object.keys(C);b.sort(),D.sort();for(let R=0;R<b.length&&R<D.length;++R){const O=tn(b[R],D[R]);if(0!==O)return O;const L=Yh(l[b[R]],C[D[R]]);if(0!==L)return L}return tn(b.length,D.length)}(e.mapValue,i.mapValue);default:throw gi()}}function pY(e,i){if("string"==typeof e&&"string"==typeof i&&e.length===i.length)return tn(e,i);const t=_u(e),n=_u(i),r=tn(t.seconds,n.seconds);return 0!==r?r:tn(t.nanos,n.nanos)}function bv(e){return OP(e)}function OP(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){const n=_u(t);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Tu(e.bytesValue).toBase64():"referenceValue"in e?di.fromName(e.referenceValue).toString():"geoPointValue"in e?function(t){return`geo(${t.latitude},${t.longitude})`}(e.geoPointValue):"arrayValue"in e?function(t){let n="[",r=!0;for(const s of t.values||[])r?r=!1:n+=",",n+=OP(s);return n+"]"}(e.arrayValue):"mapValue"in e?function(t){const n=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const o of n)s?s=!1:r+=",",r+=`${o}:${OP(t.fields[o])}`;return r+"}"}(e.mapValue):gi()}function xm(e,i){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${i.path.canonicalString()}`}}function LP(e){return!!e&&"integerValue"in e}function ob(e){return!!e&&"arrayValue"in e}function gY(e){return!!e&&"nullValue"in e}function vY(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pS(e){return!!e&&"mapValue"in e}function lb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const i={mapValue:{fields:{}}};return Wh(e.mapValue.fields,(t,n)=>i.mapValue.fields[t]=lb(n)),i}if(e.arrayValue){const i={arrayValue:{values:[]}};for(let t=0;t<(e.arrayValue.values||[]).length;++t)i.arrayValue.values[t]=lb(e.arrayValue.values[t]);return i}return Object.assign({},e)}function xY(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class za{constructor(i){this.value=i}static empty(){return new za({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let t=this.value;for(let n=0;n<i.length-1;++n)if(t=(t.mapValue.fields||{})[i.get(n)],!pS(t))return null;return t=(t.mapValue.fields||{})[i.lastSegment()],t||null}}set(i,t){this.getFieldsMap(i.popLast())[i.lastSegment()]=lb(t)}setAll(i){let t=rs.emptyPath(),n={},r=[];i.forEach((o,l)=>{if(!t.isImmediateParentOf(l)){const b=this.getFieldsMap(t);this.applyChanges(b,n,r),n={},r=[],t=l.popLast()}o?n[l.lastSegment()]=lb(o):r.push(l.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(i){const t=this.field(i.popLast());pS(t)&&t.mapValue.fields&&delete t.mapValue.fields[i.lastSegment()]}isEqual(i){return pd(this.value,i.value)}getFieldsMap(i){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<i.length;++n){let r=t.mapValue.fields[i.get(n)];pS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[i.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(i,t,n){Wh(t,(r,s)=>i[r]=s);for(const r of n)delete i[r]}clone(){return new za(lb(this.value))}}function wY(e){const i=[];return Wh(e.fields,(t,n)=>{const r=new rs([t]);if(pS(n)){const s=wY(n.mapValue).fields;if(0===s.length)i.push(r);else for(const o of s)i.push(r.child(o))}else i.push(r)}),new el(i)}class $r{constructor(i,t,n,r,s,o,l){this.key=i,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(i){return new $r(i,0,Ii.min(),Ii.min(),Ii.min(),za.empty(),0)}static newFoundDocument(i,t,n,r){return new $r(i,1,t,Ii.min(),n,r,0)}static newNoDocument(i,t){return new $r(i,2,t,Ii.min(),Ii.min(),za.empty(),0)}static newUnknownDocument(i,t){return new $r(i,3,t,Ii.min(),Ii.min(),za.empty(),2)}convertToFoundDocument(i,t){return!this.createTime.isEqual(Ii.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=i),this.version=i,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=za.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=za.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ii.min(),this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof $r&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new $r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $h{constructor(i,t){this.position=i,this.inclusive=t}}function _Y(e,i,t){let n=0;for(let r=0;r<e.position.length;r++){const s=i[r],o=e.position[r];if(n=s.field.isKeyField()?di.comparator(di.fromName(o.referenceValue),t.key):Yh(o,t.data.field(s.field)),"desc"===s.dir&&(n*=-1),0!==n)break}return n}function TY(e,i){if(null===e)return null===i;if(null===i||e.inclusive!==i.inclusive||e.position.length!==i.position.length)return!1;for(let t=0;t<e.position.length;t++)if(!pd(e.position[t],i.position[t]))return!1;return!0}class cb{constructor(i,t="asc"){this.field=i,this.dir=t}}function cPt(e,i){return e.dir===i.dir&&e.field.isEqual(i.field)}class CY{}class Vn extends CY{constructor(i,t,n){super(),this.field=i,this.op=t,this.value=n}static create(i,t,n){return i.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(i,t,n):new dPt(i,t,n):"array-contains"===t?new fPt(i,n):"in"===t?new IY(i,n):"not-in"===t?new mPt(i,n):"array-contains-any"===t?new pPt(i,n):new Vn(i,t,n)}static createKeyFieldInFilter(i,t,n){return"in"===t?new uPt(i,n):new hPt(i,n)}matches(i){const t=i.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yh(t,this.value)):null!==t&&jh(this.value)===jh(t)&&this.matchesComparison(Yh(t,this.value))}matchesComparison(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return gi()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends CY{constructor(i,t){super(),this.filters=i,this.op=t,this.ae=null}static create(i,t){return new wr(i,t)}matches(i){return wv(this)?void 0===this.filters.find(t=>!t.matches(i)):void 0!==this.filters.find(t=>t.matches(i))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((i,t)=>i.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wv(e){return"and"===e.op}function BP(e){return function SY(e){for(const i of e.filters)if(i instanceof wr)return!1;return!0}(e)&&wv(e)}function VP(e){if(e instanceof Vn)return e.field.canonicalString()+e.op.toString()+bv(e.value);if(BP(e))return e.filters.map(i=>VP(i)).join(",");{const i=e.filters.map(t=>VP(t)).join(",");return`${e.op}(${i})`}}function EY(e,i){return e instanceof Vn?(n=e,(r=i)instanceof Vn&&n.op===r.op&&n.field.isEqual(r.field)&&pd(n.value,r.value)):e instanceof wr?function(n,r){return r instanceof wr&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((s,o,l)=>s&&EY(o,r.filters[l]),!0)}(e,i):void gi();var n,r}function DY(e){return e instanceof Vn?`${(t=e).field.canonicalString()} ${t.op} ${bv(t.value)}`:e instanceof wr?function(t){return t.op.toString()+" {"+t.getFilters().map(DY).join(" ,")+"}"}(e):"Filter";var t}class dPt extends Vn{constructor(i,t,n){super(i,t,n),this.key=di.fromName(n.referenceValue)}matches(i){const t=di.comparator(i.key,this.key);return this.matchesComparison(t)}}class uPt extends Vn{constructor(i,t){super(i,"in",t),this.keys=MY(0,t)}matches(i){return this.keys.some(t=>t.isEqual(i.key))}}class hPt extends Vn{constructor(i,t){super(i,"not-in",t),this.keys=MY(0,t)}matches(i){return!this.keys.some(t=>t.isEqual(i.key))}}function MY(e,i){var t;return((null===(t=i.arrayValue)||void 0===t?void 0:t.values)||[]).map(n=>di.fromName(n.referenceValue))}class fPt extends Vn{constructor(i,t){super(i,"array-contains",t)}matches(i){const t=i.data.field(this.field);return ob(t)&&ab(t.arrayValue,this.value)}}class IY extends Vn{constructor(i,t){super(i,"in",t)}matches(i){const t=i.data.field(this.field);return null!==t&&ab(this.value.arrayValue,t)}}class mPt extends Vn{constructor(i,t){super(i,"not-in",t)}matches(i){if(ab(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=i.data.field(this.field);return null!==t&&!ab(this.value.arrayValue,t)}}class pPt extends Vn{constructor(i,t){super(i,"array-contains-any",t)}matches(i){const t=i.data.field(this.field);return!(!ob(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>ab(this.value.arrayValue,n))}}class gPt{constructor(i,t=null,n=[],r=[],s=null,o=null,l=null){this.path=i,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function UP(e,i=null,t=[],n=[],r=null,s=null,o=null){return new gPt(e,i,t,n,r,s,o)}function ym(e){const i=ai(e);if(null===i.ue){let t=i.path.canonicalString();null!==i.collectionGroup&&(t+="|cg:"+i.collectionGroup),t+="|f:",t+=i.filters.map(n=>VP(n)).join(","),t+="|ob:",t+=i.orderBy.map(n=>{return(s=n).field.canonicalString()+s.dir;var s}).join(","),nb(i.limit)||(t+="|l:",t+=i.limit),i.startAt&&(t+="|lb:",t+=i.startAt.inclusive?"b:":"a:",t+=i.startAt.position.map(n=>bv(n)).join(",")),i.endAt&&(t+="|ub:",t+=i.endAt.inclusive?"a:":"b:",t+=i.endAt.position.map(n=>bv(n)).join(",")),i.ue=t}return i.ue}function db(e,i){if(e.limit!==i.limit||e.orderBy.length!==i.orderBy.length)return!1;for(let t=0;t<e.orderBy.length;t++)if(!cPt(e.orderBy[t],i.orderBy[t]))return!1;if(e.filters.length!==i.filters.length)return!1;for(let t=0;t<e.filters.length;t++)if(!EY(e.filters[t],i.filters[t]))return!1;return e.collectionGroup===i.collectionGroup&&!!e.path.isEqual(i.path)&&!!TY(e.startAt,i.startAt)&&TY(e.endAt,i.endAt)}function gS(e){return di.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Cu{constructor(i,t=null,n=[],r=[],s=null,o="F",l=null,b=null){this.path=i,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=b,this.ce=null,this.le=null,this.he=null}}function _v(e){return new Cu(e)}function FY(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zP(e){return null!==e.collectionGroup}function Tv(e){const i=ai(e);if(null===i.ce){i.ce=[];const t=new Set;for(const s of i.explicitOrderBy)i.ce.push(s),t.add(s.field.canonicalString());const n=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Dr(rs.comparator);return o.filters.forEach(b=>{b.getFlattenedFilters().forEach(C=>{C.isInequality()&&(l=l.add(C.field))})}),l})(i).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||i.ce.push(new cb(s,n))}),t.has(rs.keyField().canonicalString())||i.ce.push(new cb(rs.keyField(),n))}return i.ce}function so(e){const i=ai(e);return i.le||(i.le=function LY(e,i){if("F"===e.limitType)return UP(e.path,e.collectionGroup,i,e.filters,e.limit,e.startAt,e.endAt);{i=i.map(r=>new cb(r.field,"desc"===r.dir?"asc":"desc"));const t=e.endAt?new $h(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new $h(e.startAt.position,e.startAt.inclusive):null;return UP(e.path,e.collectionGroup,i,e.filters,e.limit,t,n)}}(i,Tv(e))),i.le}function GP(e,i){const t=e.filters.concat([i]);return new Cu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),t,e.limit,e.limitType,e.startAt,e.endAt)}function xS(e,i,t){return new Cu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),i,t,e.startAt,e.endAt)}function ub(e,i){return db(so(e),so(i))&&e.limitType===i.limitType}function NY(e){return`${ym(so(e))}|lt:${e.limitType}`}function Cv(e){return`Query(target=${function(t){let n=t.path.canonicalString();return null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>DY(r)).join(", ")}]`),nb(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>bv(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>bv(r)).join(",")),`Target(${n})`}(so(e))}; limitType=${e.limitType})`}function hb(e,i){return i.isFoundDocument()&&function(n,r){const s=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):di.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(e,i)&&function(n,r){for(const s of Tv(n))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(e,i)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(e,i)&&(r=i,!((n=e).startAt&&!function(o,l,b){const C=_Y(o,l,b);return o.inclusive?C<=0:C<0}(n.startAt,Tv(n),r)||n.endAt&&!function(o,l,b){const C=_Y(o,l,b);return o.inclusive?C>=0:C>0}(n.endAt,Tv(n),r)));var n,r}function VY(e){return(i,t)=>{let n=!1;for(const r of Tv(e)){const s=vPt(r,i,t);if(0!==s)return s;n=n||r.field.isKeyField()}return 0}}function vPt(e,i,t){const n=e.field.isKeyField()?di.comparator(i.key,t.key):function(s,o,l){const b=o.data.field(s),C=l.data.field(s);return null!==b&&null!==C?Yh(b,C):gi()}(e.field,i,t);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return gi()}}class Su{constructor(i,t){this.mapKeyFn=i,this.equalsFn=t,this.inner={},this.innerSize=0}get(i){const t=this.mapKeyFn(i),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,i))return s}has(i){return void 0!==this.get(i)}set(i,t){const n=this.mapKeyFn(i),r=this.inner[n];if(void 0===r)return this.inner[n]=[[i,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],i))return void(r[s]=[i,t]);r.push([i,t]),this.innerSize++}delete(i){const t=this.mapKeyFn(i),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],i))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(i){Wh(this.inner,(t,n)=>{for(const[r,s]of n)i(r,s)})}isEmpty(){return hY(this.inner)}size(){return this.innerSize}}const xPt=new zr(di.comparator);function il(){return xPt}const UY=new zr(di.comparator);function fb(...e){let i=UY;for(const t of e)i=i.insert(t.key,t);return i}function zY(e){let i=UY;return e.forEach((t,n)=>i=i.insert(t,n.overlayedDocument)),i}function gd(){return mb()}function GY(){return mb()}function mb(){return new Su(e=>e.toString(),(e,i)=>e.isEqual(i))}const yPt=new zr(di.comparator),bPt=new Dr(di.comparator);function fn(...e){let i=bPt;for(const t of e)i=i.add(t);return i}const wPt=new Dr(tn);function HY(e,i){if(e.useProto3Json){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rb(i)?"-0":i}}function WY(e){return{integerValue:""+e}}function XY(e,i){return function iY(e){return"number"==typeof e&&Number.isInteger(e)&&!rb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(i)?WY(i):HY(e,i)}class yS{constructor(){this._=void 0}}function _Pt(e,i,t){return e instanceof Sv?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&uS(s)&&(s=hS(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,i):e instanceof bm?YY(e,i):e instanceof wm?$Y(e,i):function(r,s){const o=jY(r,s),l=QY(o)+QY(r.Pe);return LP(o)&&LP(r.Pe)?WY(l):HY(r.serializer,l)}(e,i)}function TPt(e,i,t){return e instanceof bm?YY(e,i):e instanceof wm?$Y(e,i):t}function jY(e,i){return e instanceof Ev?LP(n=i)||(s=n)&&"doubleValue"in s?i:{integerValue:0}:null;var n,s}class Sv extends yS{}class bm extends yS{constructor(i){super(),this.elements=i}}function YY(e,i){const t=KY(i);for(const n of e.elements)t.some(r=>pd(r,n))||t.push(n);return{arrayValue:{values:t}}}class wm extends yS{constructor(i){super(),this.elements=i}}function $Y(e,i){let t=KY(i);for(const n of e.elements)t=t.filter(r=>!pd(r,n));return{arrayValue:{values:t}}}class Ev extends yS{constructor(i,t){super(),this.serializer=i,this.Pe=t}}function QY(e){return bs(e.integerValue||e.doubleValue)}function KY(e){return ob(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class SPt{constructor(i,t){this.version=i,this.transformResults=t}}class ss{constructor(i,t){this.updateTime=i,this.exists=t}static none(){return new ss}static exists(i){return new ss(void 0,i)}static updateTime(i){return new ss(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function bS(e,i){return void 0!==e.updateTime?i.isFoundDocument()&&i.version.isEqual(e.updateTime):void 0===e.exists||e.exists===i.isFoundDocument()}class wS{}function ZY(e,i){if(!e.hasLocalMutations||i&&0===i.fields.length)return null;if(null===i)return e.isNoDocument()?new Dv(e.key,ss.none()):new Av(e.key,e.data,ss.none());{const t=e.data,n=za.empty();let r=new Dr(rs.comparator);for(let s of i.fields)if(!r.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?n.delete(s):n.set(s,o),r=r.add(s)}return new Eu(e.key,n,new el(r.toArray()),ss.none())}}function EPt(e,i,t){e instanceof Av?function(r,s,o){const l=r.value.clone(),b=t$(r.fieldTransforms,s,o.transformResults);l.setAll(b),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,i,t):e instanceof Eu?function(r,s,o){if(!bS(r.precondition,s))return void s.convertToUnknownDocument(o.version);const l=t$(r.fieldTransforms,s,o.transformResults),b=s.data;b.setAll(qY(r)),b.setAll(l),s.convertToFoundDocument(o.version,b).setHasCommittedMutations()}(e,i,t):i.convertToNoDocument(t.version).setHasCommittedMutations()}function gb(e,i,t,n){return e instanceof Av?function(s,o,l,b){if(!bS(s.precondition,o))return l;const C=s.value.clone(),D=e$(s.fieldTransforms,b,o);return C.setAll(D),o.convertToFoundDocument(o.version,C).setHasLocalMutations(),null}(e,i,t,n):e instanceof Eu?function(s,o,l,b){if(!bS(s.precondition,o))return l;const C=e$(s.fieldTransforms,b,o),D=o.data;return D.setAll(qY(s)),D.setAll(C),o.convertToFoundDocument(o.version,D).setHasLocalMutations(),null===l?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(R=>R.field))}(e,i,t,n):(l=t,bS(e.precondition,o=i)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l);var o,l}function APt(e,i){let t=null;for(const n of e.fieldTransforms){const r=i.data.field(n.field),s=jY(n.transform,r||null);null!=s&&(null===t&&(t=za.empty()),t.set(n.field,s))}return t||null}function JY(e,i){return e.type===i.type&&!!e.key.isEqual(i.key)&&!!e.precondition.isEqual(i.precondition)&&(r=i.fieldTransforms,!!(void 0===(n=e.fieldTransforms)&&void 0===r||n&&r&&gv(n,r,(s,o)=>function CPt(e,i){return e.field.isEqual(i.field)&&(r=i.transform,(n=e.transform)instanceof bm&&r instanceof bm||n instanceof wm&&r instanceof wm?gv(n.elements,r.elements,pd):n instanceof Ev&&r instanceof Ev?pd(n.Pe,r.Pe):n instanceof Sv&&r instanceof Sv);var n,r}(s,o))))&&(0===e.type?e.value.isEqual(i.value):1!==e.type||e.data.isEqual(i.data)&&e.fieldMask.isEqual(i.fieldMask));var n,r}class Av extends wS{constructor(i,t,n,r=[]){super(),this.key=i,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Eu extends wS{constructor(i,t,n,r,s=[]){super(),this.key=i,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function qY(e){const i=new Map;return e.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=e.data.field(t);i.set(t,n)}}),i}function t$(e,i,t){const n=new Map;Ai(e.length===t.length);for(let r=0;r<t.length;r++){const s=e[r],o=s.transform,l=i.data.field(s.field);n.set(s.field,TPt(o,l,t[r]))}return n}function e$(e,i,t){const n=new Map;for(const r of e){const s=r.transform,o=t.data.field(r.field);n.set(r.field,_Pt(s,o,i))}return n}class Dv extends wS{constructor(i,t){super(),this.key=i,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WP extends wS{constructor(i,t){super(),this.key=i,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class XP{constructor(i,t,n,r){this.batchId=i,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(i,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(i.key)&&EPt(s,i,n[r])}}applyToLocalView(i,t){for(const n of this.baseMutations)n.key.isEqual(i.key)&&(t=gb(n,i,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(i.key)&&(t=gb(n,i,t,this.localWriteTime));return t}applyToLocalDocumentSet(i,t){const n=GY();return this.mutations.forEach(r=>{const s=i.get(r.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=t.has(r.key)?null:l;const b=ZY(o,l);null!==b&&n.set(r.key,b),o.isValidDocument()||o.convertToNoDocument(Ii.min())}),n}keys(){return this.mutations.reduce((i,t)=>i.add(t.key),fn())}isEqual(i){return this.batchId===i.batchId&&gv(this.mutations,i.mutations,(t,n)=>JY(t,n))&&gv(this.baseMutations,i.baseMutations,(t,n)=>JY(t,n))}}class jP{constructor(i,t,n,r){this.batch=i,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(i,t,n){Ai(i.mutations.length===n.length);let r=function(){return yPt}();const s=i.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,n[o].version);return new jP(i,t,n,r)}}class YP{constructor(i,t){this.largestBatchId=i,this.mutation=t}getKey(){return this.mutation.key}isEqual(i){return null!==i&&this.mutation===i.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class DPt{constructor(i,t){this.count=i,this.unchangedNames=t}}var Ks,Yn;function r$(e){if(void 0===e)return Fs("GRPC error has no .code"),he.UNKNOWN;switch(e){case Ks.OK:return he.OK;case Ks.CANCELLED:return he.CANCELLED;case Ks.UNKNOWN:return he.UNKNOWN;case Ks.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Ks.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Ks.INTERNAL:return he.INTERNAL;case Ks.UNAVAILABLE:return he.UNAVAILABLE;case Ks.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Ks.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Ks.NOT_FOUND:return he.NOT_FOUND;case Ks.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Ks.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Ks.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Ks.ABORTED:return he.ABORTED;case Ks.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Ks.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Ks.DATA_LOSS:return he.DATA_LOSS;default:return gi()}}(Yn=Ks||(Ks={}))[Yn.OK=0]="OK",Yn[Yn.CANCELLED=1]="CANCELLED",Yn[Yn.UNKNOWN=2]="UNKNOWN",Yn[Yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yn[Yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yn[Yn.NOT_FOUND=5]="NOT_FOUND",Yn[Yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yn[Yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yn[Yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yn[Yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yn[Yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yn[Yn.ABORTED=10]="ABORTED",Yn[Yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yn[Yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yn[Yn.INTERNAL=13]="INTERNAL",Yn[Yn.UNAVAILABLE=14]="UNAVAILABLE",Yn[Yn.DATA_LOSS=15]="DATA_LOSS";const MPt=new fm([4294967295,4294967295],0);function a$(e){const i=function s$(){return new TextEncoder}().encode(e),t=new Bj;return t.update(i),new Uint8Array(t.digest())}function o$(e){const i=new DataView(e.buffer),t=i.getUint32(0,!0),n=i.getUint32(4,!0),r=i.getUint32(8,!0),s=i.getUint32(12,!0);return[new fm([t,n],0),new fm([r,s],0)]}class $P{constructor(i,t,n){if(this.bitmap=i,this.padding=t,this.hashCount=n,t<0||t>=8)throw new vb(`Invalid padding: ${t}`);if(n<0)throw new vb(`Invalid hash count: ${n}`);if(i.length>0&&0===this.hashCount)throw new vb(`Invalid hash count: ${n}`);if(0===i.length&&0!==t)throw new vb(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*i.length-t,this.Te=fm.fromNumber(this.Ie)}Ee(i,t,n){let r=i.add(t.multiply(fm.fromNumber(n)));return 1===r.compare(MPt)&&(r=new fm([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(i){return!!(this.bitmap[Math.floor(i/8)]&1<<i%8)}mightContain(i){if(0===this.Ie)return!1;const t=a$(i),[n,r]=o$(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,r,s);if(!this.de(o))return!1}return!0}static create(i,t,n){const r=i%8==0?0:8-i%8,s=new Uint8Array(Math.ceil(i/8)),o=new $P(s,r,t);return n.forEach(l=>o.insert(l)),o}insert(i){if(0===this.Ie)return;const t=a$(i),[n,r]=o$(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,r,s);this.Ae(o)}}Ae(i){const t=Math.floor(i/8);this.bitmap[t]|=1<<i%8}}class vb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xb{constructor(i,t,n,r,s){this.snapshotVersion=i,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(i,t,n){const r=new Map;return r.set(i,yb.createSynthesizedTargetChangeForCurrentChange(i,t,n)),new xb(Ii.min(),r,new zr(tn),il(),fn())}}class yb{constructor(i,t,n,r,s){this.resumeToken=i,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(i,t,n){return new yb(n,t,fn(),fn(),fn())}}class TS{constructor(i,t,n,r){this.Re=i,this.removedTargetIds=t,this.key=n,this.Ve=r}}class l${constructor(i,t){this.targetId=i,this.me=t}}class c${constructor(i,t,n=ma.EMPTY_BYTE_STRING,r=null){this.state=i,this.targetIds=t,this.resumeToken=n,this.cause=r}}class d${constructor(){this.fe=0,this.ge=h$(),this.pe=ma.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(i){i.approximateByteSize()>0&&(this.we=!0,this.pe=i)}Ce(){let i=fn(),t=fn(),n=fn();return this.ge.forEach((r,s)=>{switch(s){case 0:i=i.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:gi()}}),new yb(this.pe,this.ye,i,t,n)}ve(){this.we=!1,this.ge=h$()}Fe(i,t){this.we=!0,this.ge=this.ge.insert(i,t)}Me(i){this.we=!0,this.ge=this.ge.remove(i)}xe(){this.fe+=1}Oe(){this.fe-=1,Ai(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class IPt{constructor(i){this.Le=i,this.Be=new Map,this.ke=il(),this.qe=u$(),this.Qe=new zr(tn)}Ke(i){for(const t of i.Re)i.Ve&&i.Ve.isFoundDocument()?this.$e(t,i.Ve):this.Ue(t,i.key,i.Ve);for(const t of i.removedTargetIds)this.Ue(t,i.key,i.Ve)}We(i){this.forEachTarget(i,t=>{const n=this.Ge(t);switch(i.state){case 0:this.ze(t)&&n.De(i.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(i.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(i.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(i.resumeToken));break;default:gi()}})}forEachTarget(i,t){i.targetIds.length>0?i.targetIds.forEach(t):this.Be.forEach((n,r)=>{this.ze(r)&&t(r)})}He(i){const t=i.targetId,n=i.me.count,r=this.Je(t);if(r){const s=r.target;if(gS(s))if(0===n){const o=new di(s.path);this.Ue(t,o,$r.newNoDocument(o,Ii.min()))}else Ai(1===n);else{const o=this.Ye(t);if(o!==n){const l=this.Ze(i),b=l?this.Xe(l,i,o):1;0!==b&&(this.je(t),this.Qe=this.Qe.insert(t,2===b?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(i){const t=i.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let o,l;try{o=Tu(n).toUint8Array()}catch(b){if(b instanceof mY)return El("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{l=new $P(o,r,s)}catch(b){return El(b instanceof vb?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return 0===l.Ie?null:l}Xe(i,t,n){return t.me.count===n-this.nt(i,t.targetId)?0:2}nt(i,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;i.mightContain(l)||(this.Ue(t,s,null),r++)}),r}rt(i){const t=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&gS(l.target)){const b=new di(l.target.path);null!==this.ke.get(b)||this.it(o,b)||this.Ue(o,b,$r.newNoDocument(b,i))}s.be&&(t.set(o,s.Ce()),s.ve())}});let n=fn();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(b=>{const C=this.Je(b);return!C||"TargetPurposeLimboResolution"===C.purpose||(l=!1,!1)}),l&&(n=n.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(i));const r=new xb(i,t,this.Qe,this.ke,n);return this.ke=il(),this.qe=u$(),this.Qe=new zr(tn),r}$e(i,t){if(!this.ze(i))return;const n=this.it(i,t.key)?2:0;this.Ge(i).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(i))}Ue(i,t,n){if(!this.ze(i))return;const r=this.Ge(i);this.it(i,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(i)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(i){this.Be.delete(i)}Ye(i){const t=this.Ge(i).Ce();return this.Le.getRemoteKeysForTarget(i).size+t.addedDocuments.size-t.removedDocuments.size}xe(i){this.Ge(i).xe()}Ge(i){let t=this.Be.get(i);return t||(t=new d$,this.Be.set(i,t)),t}st(i){let t=this.qe.get(i);return t||(t=new Dr(tn),this.qe=this.qe.insert(i,t)),t}ze(i){const t=null!==this.Je(i);return t||Fe("WatchChangeAggregator","Detected inactive target",i),t}Je(i){const t=this.Be.get(i);return t&&t.Se?null:this.Le.ot(i)}je(i){this.Be.set(i,new d$),this.Le.getRemoteKeysForTarget(i).forEach(t=>{this.Ue(i,t,null)})}it(i,t){return this.Le.getRemoteKeysForTarget(i).has(t)}}function u$(){return new zr(di.comparator)}function h$(){return new zr(di.comparator)}const kPt={asc:"ASCENDING",desc:"DESCENDING"},RPt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PPt={and:"AND",or:"OR"};class FPt{constructor(i,t){this.databaseId=i,this.useProto3Json=t}}function QP(e,i){return e.useProto3Json||nb(i)?i:{value:i}}function Mv(e,i){return e.useProto3Json?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function f$(e,i){return e.useProto3Json?i.toBase64():i.toUint8Array()}function OPt(e,i){return Mv(e,i.toTimestamp())}function Os(e){return Ai(!!e),Ii.fromTimestamp(function(t){const n=_u(t);return new ns(n.seconds,n.nanos)}(e))}function KP(e,i){return ZP(e,i).canonicalString()}function ZP(e,i){const t=(r=e,new Bn(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===i?t:t.child(i)}function m$(e){const i=Bn.fromString(e);return Ai(S$(i)),i}function bb(e,i){return KP(e.databaseId,i.path)}function vd(e,i){const t=m$(i);if(t.get(1)!==e.databaseId.projectId)throw new Oe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+e.databaseId.projectId);if(t.get(3)!==e.databaseId.database)throw new Oe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+e.databaseId.database);return new di(v$(t))}function p$(e,i){return KP(e.databaseId,i)}function JP(e){return new Bn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function v$(e){return Ai(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function x$(e,i,t){return{name:bb(e,i),fields:t.value.mapValue.fields}}function b$(e,i){return{documents:[p$(e,i.path)]}}function CS(e,i){const t={structuredQuery:{}},n=i.path;let r;null!==i.collectionGroup?(r=n,t.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(r=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=p$(e,r);const s=function(C){if(0!==C.length)return C$(wr.create(C,"and"))}(i.filters);s&&(t.structuredQuery.where=s);const o=function(C){if(0!==C.length)return C.map(D=>{return{field:Qh((O=D).field),direction:UPt(O.dir)};var O})}(i.orderBy);o&&(t.structuredQuery.orderBy=o);const l=QP(e,i.limit);return null!==l&&(t.structuredQuery.limit=l),i.startAt&&(t.structuredQuery.startAt={before:(C=i.startAt).inclusive,values:C.position}),i.endAt&&(t.structuredQuery.endAt=function(C){return{before:!C.inclusive,values:C.position}}(i.endAt)),{_t:t,parent:r};var C}function _$(e){let i=function g$(e){const i=m$(e);return 4===i.length?Bn.emptyPath():v$(i)}(e.parent);const t=e.structuredQuery,n=t.from?t.from.length:0;let r=null;if(n>0){Ai(1===n);const D=t.from[0];D.allDescendants?r=D.collectionId:i=i.child(D.collectionId)}let s=[];t.where&&(s=function(R){const O=T$(R);return O instanceof wr&&BP(O)?O.getFilters():[O]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(O=>{return new cb(Iv((U=O).field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction));var U}));let l=null;t.limit&&(l=function(R){let O;return O="object"==typeof R?R.value:R,nb(O)?null:O}(t.limit));let b=null;var R;t.startAt&&(b=new $h((R=t.startAt).values||[],!!R.before));let C=null;return t.endAt&&(C=function(R){return new $h(R.values||[],!R.before)}(t.endAt)),function PY(e,i,t,n,r,s,o,l){return new Cu(e,i,t,n,r,s,o,l)}(i,r,o,s,l,"F",b,C)}function T$(e){return void 0!==e.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Iv(t.unaryFilter.field);return Vn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Iv(t.unaryFilter.field);return Vn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Iv(t.unaryFilter.field);return Vn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Iv(t.unaryFilter.field);return Vn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return gi()}}(e):void 0!==e.fieldFilter?Vn.create(Iv((t=e).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gi()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==e.compositeFilter?function(t){return wr.create(t.compositeFilter.filters.map(n=>T$(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return gi()}}(t.compositeFilter.op))}(e):gi();var t}function UPt(e){return kPt[e]}function zPt(e){return RPt[e]}function GPt(e){return PPt[e]}function Qh(e){return{fieldPath:e.canonicalString()}}function Iv(e){return rs.fromServerFormat(e.fieldPath)}function C$(e){return e instanceof Vn?function(t){if("=="===t.op){if(vY(t.value))return{unaryFilter:{field:Qh(t.field),op:"IS_NAN"}};if(gY(t.value))return{unaryFilter:{field:Qh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(vY(t.value))return{unaryFilter:{field:Qh(t.field),op:"IS_NOT_NAN"}};if(gY(t.value))return{unaryFilter:{field:Qh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qh(t.field),op:zPt(t.op),value:t.value}}}(e):e instanceof wr?function(t){const n=t.getFilters().map(r=>C$(r));return 1===n.length?n[0]:{compositeFilter:{op:GPt(t.op),filters:n}}}(e):gi()}function HPt(e){const i=[];return e.fields.forEach(t=>i.push(t.canonicalString())),{fieldPaths:i}}function S$(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Au{constructor(i,t,n,r,s=Ii.min(),o=Ii.min(),l=ma.EMPTY_BYTE_STRING,b=null){this.target=i,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=b}withSequenceNumber(i){return new Au(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(i,t){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,i,null)}withExpectedCount(i){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,i)}withLastLimboFreeSnapshotVersion(i){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken,this.expectedCount)}}class E${constructor(i){this.ct=i}}function tF(e){const i=_$({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?xS(i,i.limit,"L"):i}class Sm{constructor(){}Pt(i,t){this.It(i,t),t.Tt()}It(i,t){if("nullValue"in i)this.Et(t,5);else if("booleanValue"in i)this.Et(t,10),t.dt(i.booleanValue?1:0);else if("integerValue"in i)this.Et(t,15),t.dt(bs(i.integerValue));else if("doubleValue"in i){const n=bs(i.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),rb(n)?t.dt(0):t.dt(n))}else if("timestampValue"in i){let n=i.timestampValue;this.Et(t,20),"string"==typeof n&&(n=_u(n)),t.At(`${n.seconds||""}`),t.dt(n.nanos||0)}else if("stringValue"in i)this.Rt(i.stringValue,t),this.Vt(t);else if("bytesValue"in i)this.Et(t,30),t.ft(Tu(i.bytesValue)),this.Vt(t);else if("referenceValue"in i)this.gt(i.referenceValue,t);else if("geoPointValue"in i){const n=i.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in i?xY(i)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(i.mapValue,t),this.Vt(t)):"arrayValue"in i?(this.wt(i.arrayValue,t),this.Vt(t)):gi()}Rt(i,t){this.Et(t,25),this.St(i,t)}St(i,t){t.At(i)}yt(i,t){const n=i.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(i,t){const n=i.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(i,t){this.Et(t,37),di.fromName(i).path.forEach(n=>{this.Et(t,60),this.St(n,t)})}Et(i,t){i.dt(t)}Vt(i){i.dt(2)}}Sm.bt=new Sm;class ZPt{constructor(){this._n=new aF}addToCollectionParentIndex(i,t){return this._n.add(t),te.resolve()}getCollectionParents(i,t){return te.resolve(this._n.getEntries(t))}addFieldIndex(i,t){return te.resolve()}deleteFieldIndex(i,t){return te.resolve()}deleteAllFieldIndexes(i){return te.resolve()}createTargetIndexes(i,t){return te.resolve()}getDocumentsMatchingTarget(i,t){return te.resolve(null)}getIndexType(i,t){return te.resolve(0)}getFieldIndexes(i,t){return te.resolve([])}getNextCollectionGroupToUpdate(i){return te.resolve(null)}getMinOffset(i,t){return te.resolve(Al.min())}getMinOffsetFromCollectionGroup(i,t){return te.resolve(Al.min())}updateCollectionGroup(i,t,n){return te.resolve()}updateIndexEntries(i,t){return te.resolve()}}class aF{constructor(){this.index={}}add(i){const t=i.lastSegment(),n=i.popLast(),r=this.index[t]||new Dr(Bn.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(i){const t=i.lastSegment(),n=i.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(i){return(this.index[i]||new Dr(Bn.comparator)).toArray()}}new Uint8Array(0);class ao{constructor(i,t,n){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(i){return new ao(i,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ao.DEFAULT_COLLECTION_PERCENTILE=10,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ao.DEFAULT=new ao(41943040,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ao.DISABLED=new ao(-1,0,0);class Am{constructor(i){this.On=i}next(){return this.On+=2,this.On}static Nn(){return new Am(0)}static Ln(){return new Am(-1)}}class Q${constructor(){this.changes=new Su(i=>i.toString(),(i,t)=>i.isEqual(t)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,t){this.assertNotApplied(),this.changes.set(i,$r.newInvalidDocument(i).setReadTime(t))}getEntry(i,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?te.resolve(n):this.getFromCache(i,t)}getEntries(i,t){return this.getAllFromCache(i,t)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class sFt{constructor(i,t){this.overlayedDocument=i,this.mutatedFields=t}}class tQ{constructor(i,t,n,r){this.remoteDocumentCache=i,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(i,t){let n=null;return this.documentOverlayCache.getOverlay(i,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(i,t))).next(r=>(null!==n&&gb(n.mutation,r,el.empty(),ns.now()),r))}getDocuments(i,t){return this.remoteDocumentCache.getEntries(i,t).next(n=>this.getLocalViewOfDocuments(i,n,fn()).next(()=>n))}getLocalViewOfDocuments(i,t,n=fn()){const r=gd();return this.populateOverlays(i,r,t).next(()=>this.computeViews(i,t,r,n).next(s=>{let o=fb();return s.forEach((l,b)=>{o=o.insert(l,b.overlayedDocument)}),o}))}getOverlayedDocuments(i,t){const n=gd();return this.populateOverlays(i,n,t).next(()=>this.computeViews(i,t,n,fn()))}populateOverlays(i,t,n){const r=[];return n.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(i,r).next(s=>{s.forEach((o,l)=>{t.set(o,l)})})}computeViews(i,t,n,r){let s=il();const o=mb(),l=mb();return t.forEach((b,C)=>{const D=n.get(C.key);r.has(C.key)&&(void 0===D||D.mutation instanceof Eu)?s=s.insert(C.key,C):void 0!==D?(o.set(C.key,D.mutation.getFieldMask()),gb(D.mutation,C,D.mutation.getFieldMask(),ns.now())):o.set(C.key,el.empty())}),this.recalculateAndSaveOverlays(i,s).next(b=>(b.forEach((C,D)=>o.set(C,D)),t.forEach((C,D)=>{var R;return l.set(C,new sFt(D,null!==(R=o.get(C))&&void 0!==R?R:null))}),l))}recalculateAndSaveOverlays(i,t){const n=mb();let r=new zr((o,l)=>o-l),s=fn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(i,t).next(o=>{for(const l of o)l.keys().forEach(b=>{const C=t.get(b);if(null===C)return;let D=n.get(b)||el.empty();D=l.applyToLocalView(C,D),n.set(b,D);const R=(r.get(l.batchId)||fn()).add(b);r=r.insert(l.batchId,R)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const b=l.getNext(),C=b.key,D=b.value,R=GY();D.forEach(O=>{if(!s.has(O)){const L=ZY(t.get(O),n.get(O));null!==L&&R.set(O,L),s=s.add(O)}}),o.push(this.documentOverlayCache.saveOverlays(i,C,R))}return te.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(i,t){return this.remoteDocumentCache.getEntries(i,t).next(n=>this.recalculateAndSaveOverlays(i,n))}getDocumentsMatchingQuery(i,t,n,r){return di.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(i,t.path):zP(t)?this.getDocumentsMatchingCollectionGroupQuery(i,t,n,r):this.getDocumentsMatchingCollectionQuery(i,t,n,r);var o}getNextDocuments(i,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(i,t,n,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(i,t,n.largestBatchId,r-s.size):te.resolve(gd());let l=-1,b=s;return o.next(C=>te.forEach(C,(D,R)=>(l<R.largestBatchId&&(l=R.largestBatchId),s.get(D)?te.resolve():this.remoteDocumentCache.getEntry(i,D).next(O=>{b=b.insert(D,O)}))).next(()=>this.populateOverlays(i,C,s)).next(()=>this.computeViews(i,b,C,fn())).next(D=>({batchId:l,changes:zY(D)})))})}getDocumentsMatchingDocumentQuery(i,t){return this.getDocument(i,new di(t)).next(n=>{let r=fb();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(i,t,n,r){const s=t.collectionGroup;let o=fb();return this.indexManager.getCollectionParents(i,s).next(l=>te.forEach(l,b=>{const C=(R=t,O=b.child(s),new Cu(O,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt));var R,O;return this.getDocumentsMatchingCollectionQuery(i,C,n,r).next(D=>{D.forEach((R,O)=>{o=o.insert(R,O)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(i,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(i,t.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(i,t,n,s,r))).next(o=>{s.forEach((b,C)=>{const D=C.getKey();null===o.get(D)&&(o=o.insert(D,$r.newInvalidDocument(D)))});let l=fb();return o.forEach((b,C)=>{const D=s.get(b);void 0!==D&&gb(D.mutation,C,el.empty(),ns.now()),hb(t,C)&&(l=l.insert(b,C))}),l})}}class aFt{constructor(i){this.serializer=i,this.cr=new Map,this.lr=new Map}getBundleMetadata(i,t){return te.resolve(this.cr.get(t))}saveBundleMetadata(i,t){return this.cr.set(t.id,{id:(r=t).id,version:r.version,createTime:Os(r.createTime)}),te.resolve();var r}getNamedQuery(i,t){return te.resolve(this.lr.get(t))}saveNamedQuery(i,t){return this.lr.set(t.name,{name:(r=t).name,query:tF(r.bundledQuery),readTime:Os(r.readTime)}),te.resolve();var r}}class oFt{constructor(){this.overlays=new zr(di.comparator),this.hr=new Map}getOverlay(i,t){return te.resolve(this.overlays.get(t))}getOverlays(i,t){const n=gd();return te.forEach(t,r=>this.getOverlay(i,r).next(s=>{null!==s&&n.set(r,s)})).next(()=>n)}saveOverlays(i,t,n){return n.forEach((r,s)=>{this.ht(i,t,s)}),te.resolve()}removeOverlaysForBatchId(i,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(n)),te.resolve()}getOverlaysForCollection(i,t,n){const r=gd(),s=t.length+1,o=new di(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const b=l.getNext().value,C=b.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===s&&b.largestBatchId>n&&r.set(b.getKey(),b)}return te.resolve(r)}getOverlaysForCollectionGroup(i,t,n,r){let s=new zr((C,D)=>C-D);const o=this.overlays.getIterator();for(;o.hasNext();){const C=o.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>n){let D=s.get(C.largestBatchId);null===D&&(D=gd(),s=s.insert(C.largestBatchId,D)),D.set(C.getKey(),C)}}const l=gd(),b=s.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((C,D)=>l.set(C,D)),!(l.size()>=r)););return te.resolve(l)}ht(i,t,n){const r=this.overlays.get(n.key);if(null!==r){const o=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new YP(t,n));let s=this.hr.get(t);void 0===s&&(s=fn(),this.hr.set(t,s)),this.hr.set(t,s.add(n.key))}}class oF{constructor(){this.Pr=new Dr(Ma.Ir),this.Tr=new Dr(Ma.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(i,t){const n=new Ma(i,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(i,t){i.forEach(n=>this.addReference(n,t))}removeReference(i,t){this.Ar(new Ma(i,t))}Rr(i,t){i.forEach(n=>this.removeReference(n,t))}Vr(i){const t=new di(new Bn([])),n=new Ma(t,i),r=new Ma(t,i+1),s=[];return this.Tr.forEachInRange([n,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(i=>this.Ar(i))}Ar(i){this.Pr=this.Pr.delete(i),this.Tr=this.Tr.delete(i)}gr(i){const t=new di(new Bn([])),n=new Ma(t,i),r=new Ma(t,i+1);let s=fn();return this.Tr.forEachInRange([n,r],o=>{s=s.add(o.key)}),s}containsKey(i){const t=new Ma(i,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&i.isEqual(n.key)}}class Ma{constructor(i,t){this.key=i,this.pr=t}static Ir(i,t){return di.comparator(i.key,t.key)||tn(i.pr,t.pr)}static Er(i,t){return tn(i.pr,t.pr)||di.comparator(i.key,t.key)}}class lFt{constructor(i,t){this.indexManager=i,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Dr(Ma.Ir)}checkEmpty(i){return te.resolve(0===this.mutationQueue.length)}addMutationBatch(i,t,n,r){const s=this.yr;this.yr++;const o=new XP(s,t,n,r);this.mutationQueue.push(o);for(const l of r)this.wr=this.wr.add(new Ma(l.key,s)),this.indexManager.addToCollectionParentIndex(i,l.key.path.popLast());return te.resolve(o)}lookupMutationBatch(i,t){return te.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(i,t){const r=this.br(t+1),s=r<0?0:r;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(i){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(i,t){const n=new Ma(t,0),r=new Ma(t,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([n,r],o=>{const l=this.Sr(o.pr);s.push(l)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(i,t){let n=new Dr(tn);return t.forEach(r=>{const s=new Ma(r,0),o=new Ma(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{n=n.add(l.pr)})}),te.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(i,t){const n=t.path,r=n.length+1;let s=n;di.isDocumentKey(s)||(s=s.child(""));const o=new Ma(new di(s),0);let l=new Dr(tn);return this.wr.forEachWhile(b=>{const C=b.key.path;return!!n.isPrefixOf(C)&&(C.length===r&&(l=l.add(b.pr)),!0)},o),te.resolve(this.Dr(l))}Dr(i){const t=[];return i.forEach(n=>{const r=this.Sr(n);null!==r&&t.push(r)}),t}removeMutationBatch(i,t){Ai(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return te.forEach(t.mutations,r=>{const s=new Ma(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(i,r.key)}).next(()=>{this.wr=n})}Mn(i){}containsKey(i,t){const n=new Ma(t,0),r=this.wr.firstAfterOrEqual(n);return te.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(i){return te.resolve()}Cr(i,t){return this.br(i)}br(i){return 0===this.mutationQueue.length?0:i-this.mutationQueue[0].batchId}Sr(i){const t=this.br(i);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class cFt{constructor(i){this.vr=i,this.docs=new zr(di.comparator),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(i,n.path.popLast())}removeEntry(i){const t=this.docs.get(i);t&&(this.docs=this.docs.remove(i),this.size-=t.size)}getEntry(i,t){const n=this.docs.get(t);return te.resolve(n?n.document.mutableCopy():$r.newInvalidDocument(t))}getEntries(i,t){let n=il();return t.forEach(r=>{const s=this.docs.get(r);n=n.insert(r,s?s.document.mutableCopy():$r.newInvalidDocument(r))}),te.resolve(n)}getDocumentsMatchingQuery(i,t,n,r){let s=il();const o=t.path,l=new di(o.child("")),b=this.docs.getIteratorFrom(l);for(;b.hasNext();){const{key:C,value:{document:D}}=b.getNext();if(!o.isPrefixOf(C.path))break;C.path.length>o.length+1||kP(new Al((e=D).readTime,e.key,-1),n)<=0||(r.has(D.key)||hb(t,D))&&(s=s.insert(D.key,D.mutableCopy()))}var e;return te.resolve(s)}getAllFromCollectionGroup(i,t,n,r){gi()}Fr(i,t){return te.forEach(this.docs,n=>t(n))}newChangeBuffer(i){return new dFt(this)}getSize(i){return te.resolve(this.size)}}class dFt extends Q${constructor(i){super(),this.ar=i}applyChanges(i){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(i,r)):this.ar.removeEntry(n)}),te.waitFor(t)}getFromCache(i,t){return this.ar.getEntry(i,t)}getAllFromCache(i,t){return this.ar.getEntries(i,t)}}class uFt{constructor(i){this.persistence=i,this.Mr=new Su(t=>ym(t),db),this.lastRemoteSnapshotVersion=Ii.min(),this.highestTargetId=0,this.Or=0,this.Nr=new oF,this.targetCount=0,this.Lr=Am.Nn()}forEachTarget(i,t){return this.Mr.forEach((n,r)=>t(r)),te.resolve()}getLastRemoteSnapshotVersion(i){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return te.resolve(this.Or)}allocateTargetId(i){return this.highestTargetId=this.Lr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(i,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),te.resolve()}qn(i){this.Mr.set(i.target,i);const t=i.targetId;t>this.highestTargetId&&(this.Lr=new Am(t),this.highestTargetId=t),i.sequenceNumber>this.Or&&(this.Or=i.sequenceNumber)}addTargetData(i,t){return this.qn(t),this.targetCount+=1,te.resolve()}updateTargetData(i,t){return this.qn(t),te.resolve()}removeTargetData(i,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(i,t,n){let r=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=t&&null===n.get(l.targetId)&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(i,l.targetId)),r++)}),te.waitFor(s).next(()=>r)}getTargetCount(i){return te.resolve(this.targetCount)}getTargetData(i,t){const n=this.Mr.get(t)||null;return te.resolve(n)}addMatchingKeys(i,t,n){return this.Nr.dr(t,n),te.resolve()}removeMatchingKeys(i,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(i,o))}),te.waitFor(s)}removeMatchingKeysForTargetId(i,t){return this.Nr.Vr(t),te.resolve()}getMatchingKeysForTargetId(i,t){const n=this.Nr.gr(t);return te.resolve(n)}containsKey(i,t){return te.resolve(this.Nr.containsKey(t))}}class lF{constructor(i,t){this.Br={},this.overlays={},this.kr=new Dl(0),this.qr=!1,this.qr=!0,this.referenceDelegate=i(this),this.Qr=new uFt(this),this.indexManager=new ZPt,this.remoteDocumentCache=new cFt(n=>this.referenceDelegate.Kr(n)),this.serializer=new E$(t),this.$r=new aFt(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let t=this.overlays[i.toKey()];return t||(t=new oFt,this.overlays[i.toKey()]=t),t}getMutationQueue(i,t){let n=this.Br[i.toKey()];return n||(n=new lFt(t,this.referenceDelegate),this.Br[i.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(i,t,n){Fe("MemoryPersistence","Starting transaction:",i);const r=new hFt(this.kr.next());return this.referenceDelegate.Ur(),n(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(i,t){return te.or(Object.values(this.Br).map(n=>()=>n.containsKey(i,t)))}}class hFt extends qj{constructor(i){super(),this.currentSequenceNumber=i}}class RS{constructor(i){this.persistence=i,this.zr=new oF,this.jr=null}static Hr(i){return new RS(i)}get Jr(){if(this.jr)return this.jr;throw gi()}addReference(i,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),te.resolve()}removeReference(i,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),te.resolve()}markPotentiallyOrphaned(i,t){return this.Jr.add(t.toString()),te.resolve()}removeTarget(i,t){this.zr.Vr(t.targetId).forEach(r=>this.Jr.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(i,t.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>n.removeTargetData(i,t))}Ur(){this.jr=new Set}Wr(i){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Jr,n=>{const r=di.fromPath(n);return this.Yr(i,r).next(s=>{s||t.removeEntry(r,Ii.min())})}).next(()=>(this.jr=null,t.apply(i)))}updateLimboDocument(i,t){return this.Yr(i,t).next(n=>{n?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(i){return 0}Yr(i,t){return te.or([()=>te.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(i,t),()=>this.persistence.Gr(i,t)])}}class hF{constructor(i,t,n,r){this.targetId=i,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(i,t){let n=fn(),r=fn();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new hF(i,t.fromCache,n,r)}}class mFt{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(i){this._documentReadCount+=i}}class iQ{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function pj(){return!function akt(){var e;const i=null===(e=eS())||void 0===e?void 0:e.forceEnvironment;if("node"===i)return!0;if("browser"===i)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function tY(e){const i=e.match(/Android ([\d.]+)/i),t=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(function Vh(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())>0?6:4}initialize(i,t){this.zi=i,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(i,t,n,r){const s={result:null};return this.ji(i,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(i,t,r,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new mFt;return this.Ji(i,t,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(i,t,o,l.size)})}).next(()=>s.result)}Yi(i,t,n,r){return n.documentReadCount<this.Wi?(pv()<=jn.DEBUG&&Fe("QueryEngine","SDK will not create cache indexes for query:",Cv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),te.resolve()):(pv()<=jn.DEBUG&&Fe("QueryEngine","Query:",Cv(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(pv()<=jn.DEBUG&&Fe("QueryEngine","The SDK decides to create cache indexes for query:",Cv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(i,so(t))):te.resolve())}ji(i,t){if(FY(t))return te.resolve(null);let n=so(t);return this.indexManager.getIndexType(i,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=xS(t,null,"F"),n=so(t)),this.indexManager.getDocumentsMatchingTarget(i,n).next(s=>{const o=fn(...s);return this.zi.getDocuments(i,o).next(l=>this.indexManager.getMinOffset(i,n).next(b=>{const C=this.Zi(t,l);return this.Xi(t,C,o,b.readTime)?this.ji(i,xS(t,null,"F")):this.es(i,C,t,b)}))})))}Hi(i,t,n,r){return FY(t)||r.isEqual(Ii.min())?te.resolve(null):this.zi.getDocuments(i,n).next(s=>{const o=this.Zi(t,s);return this.Xi(t,o,n,r)?te.resolve(null):(pv()<=jn.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Cv(t)),this.es(i,o,t,function Kj(e,i){const t=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,r=Ii.fromTimestamp(1e9===n?new ns(t+1,0):new ns(t,n));return new Al(r,di.empty(),i)}(r,-1)).next(l=>l))})}Zi(i,t){let n=new Dr(VY(i));return t.forEach((r,s)=>{hb(i,s)&&(n=n.add(s))}),n}Xi(i,t,n,r){if(null===i.limit)return!1;if(n.size!==t.size)return!0;const s="F"===i.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(i,t,n){return pv()<=jn.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Cv(t)),this.zi.getDocumentsMatchingQuery(i,t,Al.min(),n)}es(i,t,n,r){return this.zi.getDocumentsMatchingQuery(i,n,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class pFt{constructor(i,t,n,r){this.persistence=i,this.ts=t,this.serializer=r,this.ns=new zr(tn),this.rs=new Su(s=>ym(s),db),this.ss=new Map,this.os=i.getRemoteDocumentCache(),this.Qr=i.getTargetCache(),this.$r=i.getBundleCache(),this._s(n)}_s(i){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(i),this.indexManager=this.persistence.getIndexManager(i),this.mutationQueue=this.persistence.getMutationQueue(i,this.indexManager),this.localDocuments=new tQ(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>i.collect(t,this.ns))}}function rQ(e,i){return fF.apply(this,arguments)}function fF(){return(fF=de(function*(e,i){const t=ai(e);return yield t.persistence.runTransaction("Handle user change","readonly",n=>{let r;return t.mutationQueue.getAllMutationBatches(n).next(s=>(r=s,t._s(i),t.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],l=[];let b=fn();for(const C of r){o.push(C.batchId);for(const D of C.mutations)b=b.add(D.key)}for(const C of s){l.push(C.batchId);for(const D of C.mutations)b=b.add(D.key)}return t.localDocuments.getDocuments(n,b).next(C=>({us:C,removedBatchIds:o,addedBatchIds:l}))})})})).apply(this,arguments)}function sQ(e){const i=ai(e);return i.persistence.runTransaction("Get last remote snapshot version","readonly",t=>i.Qr.getLastRemoteSnapshotVersion(t))}function xFt(e,i){const t=ai(e);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===i&&(i=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,i)))}function Lv(e,i,t){return mF.apply(this,arguments)}function mF(){return(mF=de(function*(e,i,t){const n=ai(e),r=n.ns.get(i),s=t?"readwrite":"readwrite-primary";try{t||(yield n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Hh(o))throw o;Fe("LocalStore",`Failed to update sequence numbers for target ${i}: ${o}`)}n.ns=n.ns.remove(i),n.rs.delete(r.target)})).apply(this,arguments)}function OS(e,i,t){const n=ai(e);let r=Ii.min(),s=fn();return n.persistence.runTransaction("Execute query","readwrite",o=>function(b,C,D){const R=ai(b),O=R.rs.get(D);return void 0!==O?te.resolve(R.ns.get(O)):R.Qr.getTargetData(C,D)}(n,o,so(i)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(o,l.targetId).next(b=>{s=b})}).next(()=>n.ts.getDocumentsMatchingQuery(o,i,t?r:Ii.min(),t?s:fn())).next(l=>(function cQ(e,i,t){let n=e.ss.get(i)||Ii.min();t.forEach((r,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),e.ss.set(i,n)}(n,function BY(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(i),l),{documents:l,hs:s})))}class yF{constructor(){this.activeTargetIds=function HP(){return wPt}()}As(i){this.activeTargetIds=this.activeTargetIds.add(i)}Rs(i){this.activeTargetIds=this.activeTargetIds.delete(i)}ds(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class hQ{constructor(){this.no=new yF,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,t,n){}addLocalQueryTarget(i){return this.no.As(i),this.ro[i]||"not-current"}updateQueryState(i,t,n){this.ro[i]=t}removeLocalQueryTarget(i){this.no.Rs(i)}isLocalQueryTarget(i){return this.no.activeTargetIds.has(i)}clearQueryState(i){delete this.ro[i]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(i){return this.no.activeTargetIds.has(i)}start(){return this.no=new yF,Promise.resolve()}handleUserChange(i,t,n){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(i){}}class wFt{io(i){}shutdown(){}}class fQ{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(i){this.uo.push(i)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.uo)i(0)}ao(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.uo)i(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let BS=null;function wF(){return null===BS?BS=268435456+Math.round(2147483648*Math.random()):BS++,"0x"+BS.toString(16)}const _Ft={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TFt{constructor(i){this.lo=i.lo,this.ho=i.ho}Po(i){this.Io=i}To(i){this.Eo=i}Ao(i){this.Ro=i}onMessage(i){this.Vo=i}close(){this.ho()}send(i){this.lo(i)}mo(){this.Io()}fo(){this.Eo()}po(i){this.Ro(i)}yo(i){this.Vo(i)}}const oo="WebChannelConnection";class CFt extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=n+"://"+t.host,this.So=`projects/${r}/databases/${s}`,this.bo="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(t,n,r,s,o){const l=wF(),b=this.vo(t,n.toUriEncodedString());Fe("RestConnection",`Sending RPC '${t}' ${l}:`,b,r);const C={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(C,s,o),this.Mo(t,b,C,r).then(D=>(Fe("RestConnection",`Received RPC '${t}' ${l}: `,D),D),D=>{throw El("RestConnection",`RPC '${t}' ${l} failed with error: `,D,"url: ",b,"request:",r),D})}xo(t,n,r,s,o,l){return this.Co(t,n,r,s,o)}Fo(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+mv,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}vo(t,n){return`${this.wo}/v1/${n}:${_Ft[t]}`}terminate(){}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams,this.longPollingOptions=i.longPollingOptions}Mo(i,t,n,r){const s=wF();return new Promise((o,l)=>{const b=new Vj;b.setWithCredentials(!0),b.listenOnce(zj.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case oS.NO_ERROR:const D=b.getResponseJson();Fe(oo,`XHR for RPC '${i}' ${s} received:`,JSON.stringify(D)),o(D);break;case oS.TIMEOUT:Fe(oo,`RPC '${i}' ${s} timed out`),l(new Oe(he.DEADLINE_EXCEEDED,"Request time out"));break;case oS.HTTP_ERROR:const R=b.getStatus();if(Fe(oo,`RPC '${i}' ${s} failed with status:`,R,"response text:",b.getResponseText()),R>0){let O=b.getResponseJson();Array.isArray(O)&&(O=O[0]);const L=O?.error;if(L&&L.status&&L.message){const U=function(W){const Z=W.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(Z)>=0?Z:he.UNKNOWN}(L.status);l(new Oe(U,L.message))}else l(new Oe(he.UNKNOWN,"Server responded with status "+b.getStatus()))}else l(new Oe(he.UNAVAILABLE,"Connection failed."));break;default:gi()}}finally{Fe(oo,`RPC '${i}' ${s} completed.`)}});const C=JSON.stringify(r);Fe(oo,`RPC '${i}' ${s} sending request:`,r),b.send(t,"POST",C,n,15)})}Oo(i,t,n){const r=wF(),s=[this.wo,"/","google.firestore.v1.Firestore","/",i,"/channel"],o=Wj(),l=Hj(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(b.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(b.xmlHttpFactory=new Uj({})),this.Fo(b.initMessageHeaders,t,n),b.encodeInitMessageHeaders=!0;const D=s.join("");Fe(oo,`Creating RPC '${i}' stream ${r}: ${D}`,b);const R=o.createWebChannel(D,b);let O=!1,L=!1;const U=new TFt({lo:W=>{L?Fe(oo,`Not sending because RPC '${i}' stream ${r} is closed:`,W):(O||(Fe(oo,`Opening RPC '${i}' stream ${r} transport.`),R.open(),O=!0),Fe(oo,`RPC '${i}' stream ${r} sending:`,W),R.send(W))},ho:()=>R.close()}),X=(W,Z,rt)=>{W.listen(Z,st=>{try{rt(st)}catch(vt){setTimeout(()=>{throw vt},0)}})};return X(R,tb.EventType.OPEN,()=>{L||(Fe(oo,`RPC '${i}' stream ${r} transport opened.`),U.mo())}),X(R,tb.EventType.CLOSE,()=>{L||(L=!0,Fe(oo,`RPC '${i}' stream ${r} transport closed`),U.po())}),X(R,tb.EventType.ERROR,W=>{L||(L=!0,El(oo,`RPC '${i}' stream ${r} transport errored:`,W),U.po(new Oe(he.UNAVAILABLE,"The operation could not be completed")))}),X(R,tb.EventType.MESSAGE,W=>{var Z;if(!L){const rt=W.data[0];Ai(!!rt);const vt=rt.error||(null===(Z=rt[0])||void 0===Z?void 0:Z.error);if(vt){Fe(oo,`RPC '${i}' stream ${r} received error:`,vt);const _t=vt.status;let Mt=function(pt){const bt=Ks[pt];if(void 0!==bt)return r$(bt)}(_t),ft=vt.message;void 0===Mt&&(Mt=he.INTERNAL,ft="Unknown error status: "+_t+" with message "+vt.message),L=!0,U.po(new Oe(Mt,ft)),R.close()}else Fe(oo,`RPC '${i}' stream ${r} received:`,rt),U.yo(rt)}}),X(l,Gj.STAT_EVENT,W=>{W.stat===DP.PROXY?Fe(oo,`RPC '${i}' stream ${r} detected buffering proxy`):W.stat===DP.NOPROXY&&Fe(oo,`RPC '${i}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{U.fo()},0),U}}function VS(){return typeof document<"u"?document:null}function Mb(e){return new FPt(e,!0)}class _F{constructor(i,t,n=1e3,r=1.5,s=6e4){this.oi=i,this.timerId=t,this.No=n,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(i){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-n);r>0&&Fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),i())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class pQ{constructor(i,t,n,r,s,o,l,b){this.oi=i,this.Go=n,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=b,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new _F(i,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var i=this;return de(function*(){i.Zo()&&(yield i.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(i){this.s_(),this.stream.send(i)}r_(){var i=this;return de(function*(){if(i.Xo())return i.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(i,t){var n=this;return de(function*(){n.s_(),n.o_(),n.Yo.cancel(),n.jo++,4!==i?n.Yo.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Fs(t.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),n.Yo.Ko()):t&&t.code===he.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.__(),n.stream.close(),n.stream=null),n.state=i,yield n.listener.Ao(t)})()}__(){}auth(){this.state=1;const i=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.jo===t&&this.u_(n,r)},n=>{i(()=>{const r=new Oe(he.UNKNOWN,"Fetching auth token failed: "+n.message);return this.c_(r)})})}u_(i,t){const n=this.a_(this.jo);this.stream=this.l_(i,t),this.stream.Po(()=>{n(()=>this.listener.Po())}),this.stream.To(()=>{n(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{n(()=>this.c_(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}e_(){var i=this;this.state=5,this.Yo.$o(de(function*(){i.state=0,i.start()}))}c_(i){return Fe("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}a_(i){return t=>{this.oi.enqueueAndForget(()=>this.jo===i?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SFt extends pQ{constructor(i,t,n,r,s,o){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}l_(i,t){return this.connection.Oo("Listen",i,t)}onMessage(i){this.Yo.reset();const t=function NPt(e,i){let t;if("targetChange"in i){const n="NO_CHANGE"===(C=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===C?1:"REMOVE"===C?2:"CURRENT"===C?3:"RESET"===C?4:gi(),r=i.targetChange.targetIds||[],s=function(C,D){return C.useProto3Json?(Ai(void 0===D||"string"==typeof D),ma.fromBase64String(D||"")):(Ai(void 0===D||D instanceof Buffer||D instanceof Uint8Array),ma.fromUint8Array(D||new Uint8Array))}(e,i.targetChange.resumeToken),o=i.targetChange.cause,l=o&&function(C){const D=void 0===C.code?he.UNKNOWN:r$(C.code);return new Oe(D,C.message||"")}(o);t=new c$(n,r,s,l||null)}else if("documentChange"in i){const n=i.documentChange,r=vd(e,n.document.name),s=Os(n.document.updateTime),o=n.document.createTime?Os(n.document.createTime):Ii.min(),l=new za({mapValue:{fields:n.document.fields}}),b=$r.newFoundDocument(r,s,o,l);t=new TS(n.targetIds||[],n.removedTargetIds||[],b.key,b)}else if("documentDelete"in i){const n=i.documentDelete,r=vd(e,n.document),s=n.readTime?Os(n.readTime):Ii.min(),o=$r.newNoDocument(r,s);t=new TS([],n.removedTargetIds||[],o.key,o)}else if("documentRemove"in i){const n=i.documentRemove,r=vd(e,n.document);t=new TS([],n.removedTargetIds||[],r,null)}else{if(!("filter"in i))return gi();{const n=i.filter,{count:r=0,unchangedNames:s}=n,o=new DPt(r,s);t=new l$(n.targetId,o)}}var C;return t}(this.serializer,i),n=function(s){if(!("targetChange"in s))return Ii.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ii.min():o.readTime?Os(o.readTime):Ii.min()}(i);return this.listener.h_(t,n)}P_(i){const t={};t.database=JP(this.serializer),t.addTarget=function(s,o){let l;const b=o.target;if(l=gS(b)?{documents:b$(s,b)}:{query:CS(s,b)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=f$(s,o.resumeToken);const C=QP(s,o.expectedCount);null!==C&&(l.expectedCount=C)}else if(o.snapshotVersion.compareTo(Ii.min())>0){l.readTime=Mv(s,o.snapshotVersion.toTimestamp());const C=QP(s,o.expectedCount);null!==C&&(l.expectedCount=C)}return l}(this.serializer,i);const n=function VPt(e,i){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gi()}}(i.purpose);return null==t?null:{"goog-listen-tags":t}}(0,i);n&&(t.labels=n),this.i_(t)}I_(i){const t={};t.database=JP(this.serializer),t.removeTarget=i,this.i_(t)}}class EFt extends pQ{constructor(i,t,n,r,s,o){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(i,t){return this.connection.Oo("Write",i,t)}onMessage(i){if(Ai(!!i.streamToken),this.lastStreamToken=i.streamToken,this.T_){this.Yo.reset();const t=function BPt(e,i){return e&&e.length>0?(Ai(void 0!==i),e.map(t=>function(r,s){let o=Os(r.updateTime?r.updateTime:s);return o.isEqual(Ii.min())&&(o=Os(s)),new SPt(o,r.transformResults||[])}(t,i))):[]}(i.writeResults,i.commitTime),n=Os(i.commitTime);return this.listener.A_(n,t)}return Ai(!i.writeResults||0===i.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const i={};i.database=JP(this.serializer),this.i_(i)}d_(i){const t={streamToken:this.lastStreamToken,writes:i.map(n=>function wb(e,i){let t;if(i instanceof Av)t={update:x$(e,i.key,i.value)};else if(i instanceof Dv)t={delete:bb(e,i.key)};else if(i instanceof Eu)t={update:x$(e,i.key,i.data),updateMask:HPt(i.fieldMask)};else{if(!(i instanceof WP))return gi();t={verify:bb(e,i.key)}}return i.fieldTransforms.length>0&&(t.updateTransforms=i.fieldTransforms.map(n=>function(s,o){const l=o.transform;if(l instanceof Sv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof bm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof wm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ev)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw gi()}(0,n))),i.precondition.isNone||(t.currentDocument=void 0!==(s=i.precondition).updateTime?{updateTime:OPt(e,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:gi()),t;var s}(this.serializer,n))};this.i_(t)}}class AFt extends class{}{constructor(i,t,n,r){super(),this.authCredentials=i,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new Oe(he.FAILED_PRECONDITION,"The client has already been terminated.")}Co(i,t,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(i,ZP(t,n),r,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Oe(he.UNKNOWN,s.toString())})}xo(i,t,n,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.xo(i,ZP(t,n),r,o,l,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Oe(he.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class DFt{constructor(i,t){this.asyncQueue=i,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(i){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.S_("Offline")))}set(i){this.C_(),this.g_=0,"Online"===i&&(this.y_=!1),this.S_(i)}S_(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}b_(i){const t=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Fs(t),this.y_=!1):Fe("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class MFt{constructor(i,t,n,r,s){var o=this;this.localStore=i,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(l=>{n.enqueueAndForget(de(function*(){var b;qh(o)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(b=de(function*(D){const R=ai(D);R.M_.add(4),yield Nv(R),R.N_.set("Unknown"),R.M_.delete(4),yield Ib(R)}),function C(D){return b.apply(this,arguments)})(o))}))}),this.N_=new DFt(n,r)}}function Ib(e){return TF.apply(this,arguments)}function TF(){return(TF=de(function*(e){if(qh(e))for(const i of e.x_)yield i(!0)})).apply(this,arguments)}function Nv(e){return CF.apply(this,arguments)}function CF(){return(CF=de(function*(e){for(const i of e.x_)yield i(!1)})).apply(this,arguments)}function US(e,i){const t=ai(e);t.F_.has(i.targetId)||(t.F_.set(i.targetId,i),AF(t)?EF(t):Uv(t).Xo()&&SF(t,i))}function Bv(e,i){const t=ai(e),n=Uv(t);t.F_.delete(i),n.Xo()&&gQ(t,i),0===t.F_.size&&(n.Xo()?n.n_():qh(t)&&t.N_.set("Unknown"))}function SF(e,i){if(e.L_.xe(i.targetId),i.resumeToken.approximateByteSize()>0||i.snapshotVersion.compareTo(Ii.min())>0){const t=e.remoteSyncer.getRemoteKeysForTarget(i.targetId).size;i=i.withExpectedCount(t)}Uv(e).P_(i)}function gQ(e,i){e.L_.xe(i),Uv(e).I_(i)}function EF(e){e.L_=new IPt({getRemoteKeysForTarget:i=>e.remoteSyncer.getRemoteKeysForTarget(i),ot:i=>e.F_.get(i)||null,tt:()=>e.datastore.serializer.databaseId}),Uv(e).start(),e.N_.w_()}function AF(e){return qh(e)&&!Uv(e).Zo()&&e.F_.size>0}function qh(e){return 0===ai(e).M_.size}function vQ(e){e.L_=void 0}function IFt(e){return DF.apply(this,arguments)}function DF(){return(DF=de(function*(e){e.N_.set("Online")})).apply(this,arguments)}function kFt(e){return MF.apply(this,arguments)}function MF(){return(MF=de(function*(e){e.F_.forEach((i,t)=>{SF(e,i)})})).apply(this,arguments)}function RFt(e,i){return IF.apply(this,arguments)}function IF(){return(IF=de(function*(e,i){vQ(e),AF(e)?(e.N_.D_(i),EF(e)):e.N_.set("Unknown")})).apply(this,arguments)}function PFt(e,i,t){return kF.apply(this,arguments)}function kF(){return kF=de(function*(e,i,t){if(e.N_.set("Online"),i instanceof c$&&2===i.state&&i.cause)try{yield(n=de(function*(s,o){const l=o.cause;for(const b of o.targetIds)s.F_.has(b)&&(yield s.remoteSyncer.rejectListen(b,l),s.F_.delete(b),s.L_.removeTarget(b))}),function r(s,o){return n.apply(this,arguments)})(e,i)}catch(n){Fe("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),n),yield zS(e,n)}else if(i instanceof TS?e.L_.Ke(i):i instanceof l$?e.L_.He(i):e.L_.We(i),!t.isEqual(Ii.min()))try{const n=yield sQ(e.localStore);t.compareTo(n)>=0&&(yield function(s,o){const l=s.L_.rt(o);return l.targetChanges.forEach((b,C)=>{if(b.resumeToken.approximateByteSize()>0){const D=s.F_.get(C);D&&s.F_.set(C,D.withResumeToken(b.resumeToken,o))}}),l.targetMismatches.forEach((b,C)=>{const D=s.F_.get(b);if(!D)return;s.F_.set(b,D.withResumeToken(ma.EMPTY_BYTE_STRING,D.snapshotVersion)),gQ(s,b);const R=new Au(D.target,b,C,D.sequenceNumber);SF(s,R)}),s.remoteSyncer.applyRemoteEvent(l)}(e,t))}catch(n){Fe("RemoteStore","Failed to raise snapshot:",n),yield zS(e,n)}var n}),kF.apply(this,arguments)}function zS(e,i,t){return RF.apply(this,arguments)}function RF(){return(RF=de(function*(e,i,t){if(!Hh(i))throw i;e.M_.add(1),yield Nv(e),e.N_.set("Offline"),t||(t=()=>sQ(e.localStore)),e.asyncQueue.enqueueRetryable(de(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),e.M_.delete(1),yield Ib(e)}))})).apply(this,arguments)}function xQ(e,i){return i().catch(t=>zS(e,t,i))}function Vv(e){return PF.apply(this,arguments)}function PF(){return(PF=de(function*(e){const i=ai(e),t=tf(i);let n=i.v_.length>0?i.v_[i.v_.length-1].batchId:-1;for(;FFt(i);)try{const r=yield xFt(i.localStore,n);if(null===r){0===i.v_.length&&t.n_();break}n=r.batchId,OFt(i,r)}catch(r){yield zS(i,r)}yQ(i)&&bQ(i)})).apply(this,arguments)}function FFt(e){return qh(e)&&e.v_.length<10}function OFt(e,i){e.v_.push(i);const t=tf(e);t.Xo()&&t.E_&&t.d_(i.mutations)}function yQ(e){return qh(e)&&!tf(e).Zo()&&e.v_.length>0}function bQ(e){tf(e).start()}function LFt(e){return FF.apply(this,arguments)}function FF(){return(FF=de(function*(e){tf(e).V_()})).apply(this,arguments)}function NFt(e){return OF.apply(this,arguments)}function OF(){return(OF=de(function*(e){const i=tf(e);for(const t of e.v_)i.d_(t.mutations)})).apply(this,arguments)}function BFt(e,i,t){return LF.apply(this,arguments)}function LF(){return(LF=de(function*(e,i,t){const n=e.v_.shift(),r=jP.from(n,i,t);yield xQ(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),yield Vv(e)})).apply(this,arguments)}function VFt(e,i){return NF.apply(this,arguments)}function NF(){return NF=de(function*(e,i){var t;i&&tf(e).E_&&(yield(t=de(function*(r,s){if(function n$(e){switch(e){default:return gi();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}(l=s.code)&&l!==he.ABORTED){const o=r.v_.shift();tf(r).t_(),yield xQ(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Vv(r)}var l}),function n(r,s){return t.apply(this,arguments)})(e,i)),yQ(e)&&bQ(e)}),NF.apply(this,arguments)}function wQ(e,i){return BF.apply(this,arguments)}function BF(){return(BF=de(function*(e,i){const t=ai(e);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const n=qh(t);t.M_.add(3),yield Nv(t),n&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(i),t.M_.delete(3),yield Ib(t)})).apply(this,arguments)}function VF(e,i){return UF.apply(this,arguments)}function UF(){return(UF=de(function*(e,i){const t=ai(e);i?(t.M_.delete(2),yield Ib(t)):i||(t.M_.add(2),yield Nv(t),t.N_.set("Unknown"))})).apply(this,arguments)}function Uv(e){return e.B_||(e.B_=function(t,n,r){const s=ai(t);return s.f_(),new SFt(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Po:IFt.bind(null,e),To:kFt.bind(null,e),Ao:RFt.bind(null,e),h_:PFt.bind(null,e)}),e.x_.push(function(){var i=de(function*(t){t?(e.B_.t_(),AF(e)?EF(e):e.N_.set("Unknown")):(yield e.B_.stop(),vQ(e))});return function(t){return i.apply(this,arguments)}}())),e.B_}function tf(e){return e.k_||(e.k_=function(t,n,r){const s=ai(t);return s.f_(),new EFt(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:LFt.bind(null,e),Ao:VFt.bind(null,e),R_:NFt.bind(null,e),A_:BFt.bind(null,e)}),e.x_.push(function(){var i=de(function*(t){t?(e.k_.t_(),yield Vv(e)):(yield e.k_.stop(),e.v_.length>0&&(Fe("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))});return function(t){return i.apply(this,arguments)}}())),e.k_}class zF{constructor(i,t,n,r,s){this.asyncQueue=i,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(i,t,n,r,s){const o=Date.now()+n,l=new zF(i,t,o,r,s);return l.start(n),l}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(he.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zv(e,i){if(Fs("AsyncQueue",`${i}: ${e}`),Hh(e))return new Oe(he.UNAVAILABLE,`${i}: ${e}`);throw e}class Gv{constructor(i){this.comparator=i?(t,n)=>i(t,n)||di.comparator(t.key,n.key):(t,n)=>di.comparator(t.key,n.key),this.keyedMap=fb(),this.sortedSet=new zr(this.comparator)}static emptySet(i){return new Gv(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const t=this.keyedMap.get(i);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((t,n)=>(i(t),!1))}add(i){const t=this.delete(i.key);return t.copy(t.keyedMap.insert(i.key,i),t.sortedSet.insert(i,null))}delete(i){const t=this.get(i);return t?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(t)):this}isEqual(i){if(!(i instanceof Gv)||this.size!==i.size)return!1;const t=this.sortedSet.getIterator(),n=i.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const i=[];return this.forEach(t=>{i.push(t.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,t){const n=new Gv;return n.comparator=this.comparator,n.keyedMap=i,n.sortedSet=t,n}}class _Q{constructor(){this.q_=new zr(di.comparator)}track(i){const t=i.doc.key,n=this.q_.get(t);n?0!==i.type&&3===n.type?this.q_=this.q_.insert(t,i):3===i.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:i.doc}):2===i.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:i.doc}):2===i.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:i.doc}):1===i.type&&0===n.type?this.q_=this.q_.remove(t):1===i.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===i.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:i.doc}):gi():this.q_=this.q_.insert(t,i)}Q_(){const i=[];return this.q_.inorderTraversal((t,n)=>{i.push(n)}),i}}class Hv{constructor(i,t,n,r,s,o,l,b,C){this.query=i,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=b,this.hasCachedResults=C}static fromInitialDocuments(i,t,n,r,s){const o=[];return t.forEach(l=>{o.push({type:0,doc:l})}),new Hv(i,t,Gv.emptySet(t),o,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.hasCachedResults===i.hasCachedResults&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&ub(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const t=this.docChanges,n=i.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class UFt{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(i=>i.G_())}}class zFt{constructor(){this.queries=new Su(i=>NY(i),ub),this.onlineState="Unknown",this.z_=new Set}}function HF(){return(HF=de(function*(e,i){const t=ai(e);let n=3;const r=i.query;let s=t.queries.get(r);s?!s.W_()&&i.G_()&&(n=2):(s=new UFt,n=i.G_()?0:1);try{switch(n){case 0:s.K_=yield t.onListen(r,!0);break;case 1:s.K_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){const l=zv(o,`Initialization of query '${Cv(i.query)}' failed`);return void i.onError(l)}t.queries.set(r,s),s.U_.push(i),i.j_(t.onlineState),s.K_&&i.H_(s.K_)&&jF(t)})).apply(this,arguments)}function XF(){return(XF=de(function*(e,i){const t=ai(e),n=i.query;let r=3;const s=t.queries.get(n);if(s){const o=s.U_.indexOf(i);o>=0&&(s.U_.splice(o,1),0===s.U_.length?r=i.G_()?0:1:!s.W_()&&i.G_()&&(r=2))}switch(r){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}})).apply(this,arguments)}function GFt(e,i){const t=ai(e);let n=!1;for(const r of i){const o=t.queries.get(r.query);if(o){for(const l of o.U_)l.H_(r)&&(n=!0);o.K_=r}}n&&jF(t)}function HFt(e,i,t){const n=ai(e),r=n.queries.get(i);if(r)for(const s of r.U_)s.onError(t);n.queries.delete(i)}function jF(e){e.z_.forEach(i=>{i.next()})}var YF,TQ;(TQ=YF||(YF={})).J_="default",TQ.Cache="cache";class $F{constructor(i,t,n){this.query=i,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(i){if(!this.options.includeMetadataChanges){const n=[];for(const r of i.docChanges)3!==r.type&&n.push(r);i=new Hv(i.query,i.docs,i.oldDocs,n,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0,i.hasCachedResults)}let t=!1;return this.Z_?this.ea(i)&&(this.Y_.next(i),t=!0):this.ta(i,this.onlineState)&&(this.na(i),t=!0),this.X_=i,t}onError(i){this.Y_.error(i)}j_(i){this.onlineState=i;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,i)&&(this.na(this.X_),t=!0),t}ta(i,t){return!i.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==t))&&(!i.docs.isEmpty()||i.hasCachedResults||"Offline"===t)}ea(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(i){i=Hv.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache,i.hasCachedResults),this.Z_=!0,this.Y_.next(i)}G_(){return this.options.source!==YF.Cache}}class EQ{constructor(i){this.key=i}}class AQ{constructor(i){this.key=i}}class DQ{constructor(i,t){this.query=i,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=fn(),this.mutatedKeys=fn(),this.Ia=VY(i),this.Ta=new Gv(this.Ia)}get Ea(){return this.la}da(i,t){const n=t?t.Aa:new _Q,r=t?t.Ta:this.Ta;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,l=!1;const b="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,C="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(i.inorderTraversal((D,R)=>{const O=r.get(D),L=hb(this.query,R)?R:null,U=!!O&&this.mutatedKeys.has(O.key),X=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let W=!1;O&&L?O.data.isEqual(L.data)?U!==X&&(n.track({type:3,doc:L}),W=!0):this.Ra(O,L)||(n.track({type:2,doc:L}),W=!0,(b&&this.Ia(L,b)>0||C&&this.Ia(L,C)<0)&&(l=!0)):!O&&L?(n.track({type:0,doc:L}),W=!0):O&&!L&&(n.track({type:1,doc:O}),W=!0,(b||C)&&(l=!0)),W&&(L?(o=o.add(L),s=X?s.add(D):s.delete(D)):(o=o.delete(D),s=s.delete(D)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const D="F"===this.query.limitType?o.last():o.first();o=o.delete(D.key),s=s.delete(D.key),n.track({type:1,doc:D})}return{Ta:o,Aa:n,Xi:l,mutatedKeys:s}}Ra(i,t){return i.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(i,t,n,r){const s=this.Ta;this.Ta=i.Ta,this.mutatedKeys=i.mutatedKeys;const o=i.Aa.Q_();o.sort((D,R)=>function(L,U){const X=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gi()}};return X(L)-X(U)}(D.type,R.type)||this.Ia(D.doc,R.doc)),this.Va(n),r=null!=r&&r;const l=t&&!r?this.ma():[],b=0===this.Pa.size&&this.current&&!r?1:0,C=b!==this.ha;return this.ha=b,0!==o.length||C?{snapshot:new Hv(this.query,i.Ta,s,o,i.mutatedKeys,0===b,C,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new _Q,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(i){return!this.la.has(i)&&!!this.Ta.has(i)&&!this.Ta.get(i).hasLocalMutations}Va(i){i&&(i.addedDocuments.forEach(t=>this.la=this.la.add(t)),i.modifiedDocuments.forEach(t=>{}),i.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=i.current)}ma(){if(!this.current)return[];const i=this.Pa;this.Pa=fn(),this.Ta.forEach(n=>{this.ga(n.key)&&(this.Pa=this.Pa.add(n.key))});const t=[];return i.forEach(n=>{this.Pa.has(n)||t.push(new AQ(n))}),this.Pa.forEach(n=>{i.has(n)||t.push(new EQ(n))}),t}pa(i){this.la=i.hs,this.Pa=fn();const t=this.da(i.documents);return this.applyChanges(t,!0)}ya(){return Hv.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class jFt{constructor(i,t,n){this.query=i,this.targetId=t,this.view=n}}class YFt{constructor(i){this.key=i,this.wa=!1}}class $Ft{constructor(i,t,n,r,s,o){this.localStore=i,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Su(l=>NY(l),ub),this.Da=new Map,this.Ca=new Set,this.va=new zr(di.comparator),this.Fa=new Map,this.Ma=new oF,this.xa={},this.Oa=new Map,this.Na=Am.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function QFt(e,i){return QF.apply(this,arguments)}function QF(){return(QF=de(function*(e,i,t=!0){const n=GS(e);let r;const s=n.ba.get(i);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield MQ(n,i,t,!0),r})).apply(this,arguments)}function KFt(e,i){return KF.apply(this,arguments)}function KF(){return(KF=de(function*(e,i){const t=GS(e);yield MQ(t,i,!0,!1)})).apply(this,arguments)}function MQ(e,i,t,n){return ZF.apply(this,arguments)}function ZF(){return(ZF=de(function*(e,i,t,n){const r=yield function Ov(e,i){const t=ai(e);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return t.Qr.getTargetData(n,i).next(s=>s?(r=s,te.resolve(r)):t.Qr.allocateTargetId(n).next(o=>(r=new Au(i,o,"TargetPurposeListen",n.currentSequenceNumber),t.Qr.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=t.ns.get(n.targetId);return(null===r||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ns=t.ns.insert(n.targetId,n),t.rs.set(i,n.targetId)),n})}(e.localStore,so(i)),s=r.targetId,o=t?e.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return n&&(l=yield function JF(e,i,t,n,r){return qF.apply(this,arguments)}(e,i,s,"current"===o,r.resumeToken)),e.isPrimaryClient&&t&&US(e.remoteStore,r),l})).apply(this,arguments)}function qF(){return qF=de(function*(e,i,t,n,r){e.Ba=(R,O,L)=>{return(U=de(function*(W,Z,rt,st){let vt=Z.view.da(rt);vt.Xi&&(vt=yield OS(W.localStore,Z.query,!1).then(({documents:dt})=>Z.view.da(dt,vt)));const _t=st&&st.targetChanges.get(Z.targetId),Mt=st&&null!=st.targetMismatches.get(Z.targetId),ft=Z.view.applyChanges(vt,W.isPrimaryClient,_t,Mt);return dO(W,Z.targetId,ft.fa),ft.snapshot}),function X(W,Z,rt,st){return U.apply(this,arguments)})(e,R,O,L);var U};const s=yield OS(e.localStore,i,!0),o=new DQ(i,s.hs),l=o.da(s.documents),b=yb.createSynthesizedTargetChangeForCurrentChange(t,n&&"Offline"!==e.onlineState,r),C=o.applyChanges(l,e.isPrimaryClient,b);dO(e,t,C.fa);const D=new jFt(i,t,o);return e.ba.set(i,D),e.Da.has(t)?e.Da.get(t).push(i):e.Da.set(t,[i]),C.snapshot}),qF.apply(this,arguments)}function ZFt(e,i,t){return tO.apply(this,arguments)}function tO(){return(tO=de(function*(e,i,t){const n=ai(e),r=n.ba.get(i),s=n.Da.get(r.targetId);if(s.length>1)return n.Da.set(r.targetId,s.filter(o=>!ub(o,i))),void n.ba.delete(i);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Lv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),t&&Bv(n.remoteStore,r.targetId),Wv(n,r.targetId)}).catch(Gh))):(Wv(n,r.targetId),yield Lv(n.localStore,r.targetId,!0))})).apply(this,arguments)}function JFt(e,i){return eO.apply(this,arguments)}function eO(){return(eO=de(function*(e,i){const t=ai(e),n=t.ba.get(i),r=t.Da.get(n.targetId);t.isPrimaryClient&&1===r.length&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Bv(t.remoteStore,n.targetId))})).apply(this,arguments)}function iO(){return(iO=de(function*(e,i,t){const n=function wO(e){const i=ai(e);return i.remoteStore.remoteSyncer.applySuccessfulWrite=eOt.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=iOt.bind(null,i),i}(e);try{const r=yield function(o,l){const b=ai(o),C=ns.now(),D=l.reduce((L,U)=>L.add(U.key),fn());let R,O;return b.persistence.runTransaction("Locally write mutations","readwrite",L=>{let U=il(),X=fn();return b.os.getEntries(L,D).next(W=>{U=W,U.forEach((Z,rt)=>{rt.isValidDocument()||(X=X.add(Z))})}).next(()=>b.localDocuments.getOverlayedDocuments(L,U)).next(W=>{R=W;const Z=[];for(const rt of l){const st=APt(rt,R.get(rt.key).overlayedDocument);null!=st&&Z.push(new Eu(rt.key,st,wY(st.value.mapValue),ss.exists(!0)))}return b.mutationQueue.addMutationBatch(L,C,Z,l)}).next(W=>{O=W;const Z=W.applyToLocalDocumentSet(R,X);return b.documentOverlayCache.saveOverlays(L,W.batchId,Z)})}).then(()=>({batchId:O.batchId,changes:zY(R)}))}(n.localStore,i);n.sharedClientState.addPendingMutation(r.batchId),function(o,l,b){let C=o.xa[o.currentUser.toKey()];C||(C=new zr(tn)),C=C.insert(l,b),o.xa[o.currentUser.toKey()]=C}(n,r.batchId,t),yield Du(n,r.changes),yield Vv(n.remoteStore)}catch(r){const s=zv(r,"Failed to persist write");t.reject(s)}})).apply(this,arguments)}function IQ(e,i){return nO.apply(this,arguments)}function nO(){return(nO=de(function*(e,i){const t=ai(e);try{const n=yield function vFt(e,i){const t=ai(e),n=i.snapshotVersion;let r=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.os.newChangeBuffer({trackRemovals:!0});r=t.ns;const l=[];i.targetChanges.forEach((D,R)=>{const O=r.get(R);if(!O)return;l.push(t.Qr.removeMatchingKeys(s,D.removedDocuments,R).next(()=>t.Qr.addMatchingKeys(s,D.addedDocuments,R)));let L=O.withSequenceNumber(s.currentSequenceNumber);var X,W,Z;null!==i.targetMismatches.get(R)?L=L.withResumeToken(ma.EMPTY_BYTE_STRING,Ii.min()).withLastLimboFreeSnapshotVersion(Ii.min()):D.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(D.resumeToken,n)),r=r.insert(R,L),W=L,Z=D,(0===(X=O).resumeToken.approximateByteSize()||W.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8||Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0)&&l.push(t.Qr.updateTargetData(s,L))});let b=il(),C=fn();if(i.documentUpdates.forEach(D=>{i.resolvedLimboDocuments.has(D)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,D))}),l.push(function aQ(e,i,t){let n=fn(),r=fn();return t.forEach(s=>n=n.add(s)),i.getEntries(e,n).next(s=>{let o=il();return t.forEach((l,b)=>{const C=s.get(l);b.isFoundDocument()!==C.isFoundDocument()&&(r=r.add(l)),b.isNoDocument()&&b.version.isEqual(Ii.min())?(i.removeEntry(l,b.readTime),o=o.insert(l,b)):!C.isValidDocument()||b.version.compareTo(C.version)>0||0===b.version.compareTo(C.version)&&C.hasPendingWrites?(i.addEntry(b),o=o.insert(l,b)):Fe("LocalStore","Ignoring outdated watch update for ",l,". Current version:",C.version," Watch version:",b.version)}),{cs:o,ls:r}})}(s,o,i.documentUpdates).next(D=>{b=D.cs,C=D.ls})),!n.isEqual(Ii.min())){const D=t.Qr.getLastRemoteSnapshotVersion(s).next(R=>t.Qr.setTargetsMetadata(s,s.currentSequenceNumber,n));l.push(D)}return te.waitFor(l).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,b,C)).next(()=>b)}).then(s=>(t.ns=r,s))}(t.localStore,i);i.targetChanges.forEach((r,s)=>{const o=t.Fa.get(s);o&&(Ai(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?Ai(o.wa):r.removedDocuments.size>0&&(Ai(o.wa),o.wa=!1))}),yield Du(t,n,i)}catch(n){yield Gh(n)}})).apply(this,arguments)}function kQ(e,i,t){const n=ai(e);if(n.isPrimaryClient&&0===t||!n.isPrimaryClient&&1===t){const r=[];n.ba.forEach((s,o)=>{const l=o.view.j_(i);l.snapshot&&r.push(l.snapshot)}),function(o,l){const b=ai(o);b.onlineState=l;let C=!1;b.queries.forEach((D,R)=>{for(const O of R.U_)O.j_(l)&&(C=!0)}),C&&jF(b)}(n.eventManager,i),r.length&&n.Sa.h_(r),n.onlineState=i,n.isPrimaryClient&&n.sharedClientState.setOnlineState(i)}}function tOt(e,i,t){return rO.apply(this,arguments)}function rO(){return(rO=de(function*(e,i,t){const n=ai(e);n.sharedClientState.updateQueryState(i,"rejected",t);const r=n.Fa.get(i),s=r&&r.key;if(s){let o=new zr(di.comparator);o=o.insert(s,$r.newNoDocument(s,Ii.min()));const l=fn().add(s),b=new xb(Ii.min(),new Map,new zr(tn),o,l);yield IQ(n,b),n.va=n.va.remove(s),n.Fa.delete(i),uO(n)}else yield Lv(n.localStore,i,!1).then(()=>Wv(n,i,t)).catch(Gh)})).apply(this,arguments)}function eOt(e,i){return sO.apply(this,arguments)}function sO(){return(sO=de(function*(e,i){const t=ai(e),n=i.batch.batchId;try{const r=yield function gFt(e,i){const t=ai(e);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const r=i.batch.keys(),s=t.os.newChangeBuffer({trackRemovals:!0});return function(l,b,C,D){const R=C.batch,O=R.keys();let L=te.resolve();return O.forEach(U=>{L=L.next(()=>D.getEntry(b,U)).next(X=>{const W=C.docVersions.get(U);Ai(null!==W),X.version.compareTo(W)<0&&(R.applyToRemoteDocument(X,C),X.isValidDocument()&&(X.setReadTime(C.commitVersion),D.addEntry(X)))})}),L.next(()=>l.mutationQueue.removeMutationBatch(b,R))}(t,n,i,s).next(()=>s.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,r,i.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let b=fn();for(let C=0;C<l.mutationResults.length;++C)l.mutationResults[C].transformResults.length>0&&(b=b.add(l.batch.mutations[C].key));return b}(i))).next(()=>t.localDocuments.getDocuments(n,r))})}(t.localStore,i);cO(t,n,null),lO(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),yield Du(t,r)}catch(r){yield Gh(r)}})).apply(this,arguments)}function iOt(e,i,t){return aO.apply(this,arguments)}function aO(){return(aO=de(function*(e,i,t){const n=ai(e);try{const r=yield function(o,l){const b=ai(o);return b.persistence.runTransaction("Reject batch","readwrite-primary",C=>{let D;return b.mutationQueue.lookupMutationBatch(C,l).next(R=>(Ai(null!==R),D=R.keys(),b.mutationQueue.removeMutationBatch(C,R))).next(()=>b.mutationQueue.performConsistencyCheck(C)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(C,D,l)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(C,D)).next(()=>b.localDocuments.getDocuments(C,D))})}(n.localStore,i);cO(n,i,t),lO(n,i),n.sharedClientState.updateMutationState(i,"rejected",t),yield Du(n,r)}catch(r){yield Gh(r)}})).apply(this,arguments)}function lO(e,i){(e.Oa.get(i)||[]).forEach(t=>{t.resolve()}),e.Oa.delete(i)}function cO(e,i,t){const n=ai(e);let r=n.xa[n.currentUser.toKey()];if(r){const s=r.get(i);s&&(t?s.reject(t):s.resolve(),r=r.remove(i)),n.xa[n.currentUser.toKey()]=r}}function Wv(e,i,t=null){e.sharedClientState.removeLocalQueryTarget(i);for(const n of e.Da.get(i))e.ba.delete(n),t&&e.Sa.ka(n,t);e.Da.delete(i),e.isPrimaryClient&&e.Ma.Vr(i).forEach(n=>{e.Ma.containsKey(n)||RQ(e,n)})}function RQ(e,i){e.Ca.delete(i.path.canonicalString());const t=e.va.get(i);null!==t&&(Bv(e.remoteStore,t),e.va=e.va.remove(i),e.Fa.delete(t),uO(e))}function dO(e,i,t){for(const n of t)n instanceof EQ?(e.Ma.addReference(n.key,i),rOt(e,n)):n instanceof AQ?(Fe("SyncEngine","Document no longer in limbo: "+n.key),e.Ma.removeReference(n.key,i),e.Ma.containsKey(n.key)||RQ(e,n.key)):gi()}function rOt(e,i){const t=i.key,n=t.path.canonicalString();e.va.get(t)||e.Ca.has(n)||(Fe("SyncEngine","New document in limbo: "+t),e.Ca.add(n),uO(e))}function uO(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const i=e.Ca.values().next().value;e.Ca.delete(i);const t=new di(Bn.fromString(i)),n=e.Na.next();e.Fa.set(n,new YFt(t)),e.va=e.va.insert(t,n),US(e.remoteStore,new Au(so(_v(t.path)),n,"TargetPurposeLimboResolution",Dl.oe))}}function Du(e,i,t){return hO.apply(this,arguments)}function hO(){return hO=de(function*(e,i,t){const n=ai(e),r=[],s=[],o=[];var l;n.ba.isEmpty()||(n.ba.forEach((l,b)=>{o.push(n.Ba(b,i,t).then(C=>{var D;if((C||t)&&n.isPrimaryClient){const R=C?!C.fromCache:null===(D=t?.targetChanges.get(b.targetId))||void 0===D?void 0:D.current;n.sharedClientState.updateQueryState(b.targetId,R?"current":"not-current")}if(C){r.push(C);const R=hF.Ki(b.targetId,C);s.push(R)}}))}),yield Promise.all(o),n.Sa.h_(r),yield(l=de(function*(C,D){const R=ai(C);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>te.forEach(D,L=>te.forEach(L.qi,U=>R.persistence.referenceDelegate.addReference(O,L.targetId,U)).next(()=>te.forEach(L.Qi,U=>R.persistence.referenceDelegate.removeReference(O,L.targetId,U)))))}catch(O){if(!Hh(O))throw O;Fe("LocalStore","Failed to update sequence numbers: "+O)}for(const O of D){const L=O.targetId;if(!O.fromCache){const U=R.ns.get(L),W=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);R.ns=R.ns.insert(L,W)}}}),function b(C,D){return l.apply(this,arguments)})(n.localStore,s))}),hO.apply(this,arguments)}function sOt(e,i){return fO.apply(this,arguments)}function fO(){return(fO=de(function*(e,i){const t=ai(e);if(!t.currentUser.isEqual(i)){Fe("SyncEngine","User change. New user:",i.toKey());const n=yield rQ(t.localStore,i);t.currentUser=i,(s=t).Oa.forEach(l=>{l.forEach(b=>{b.reject(new Oe(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Oa.clear(),t.sharedClientState.handleUserChange(i,n.removedBatchIds,n.addedBatchIds),yield Du(t,n.us)}var s})).apply(this,arguments)}function aOt(e,i){const t=ai(e),n=t.Fa.get(i);if(n&&n.wa)return fn().add(n.key);{let r=fn();const s=t.Da.get(i);if(!s)return r;for(const o of s){const l=t.ba.get(o);r=r.unionWith(l.view.Ea)}return r}}function GS(e){const i=ai(e);return i.remoteStore.remoteSyncer.applyRemoteEvent=IQ.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=aOt.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=tOt.bind(null,i),i.Sa.h_=GFt.bind(null,i.eventManager),i.Sa.ka=HFt.bind(null,i.eventManager),i}class Xv{constructor(){this.synchronizeTabs=!1}initialize(i){var t=this;return de(function*(){t.serializer=Mb(i.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(i),t.persistence=t.createPersistence(i),yield t.persistence.start(),t.localStore=t.createLocalStore(i),t.gcScheduler=t.createGarbageCollectionScheduler(i,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(i,t.localStore)})()}createGarbageCollectionScheduler(i,t){return null}createIndexBackfillerScheduler(i,t){return null}createLocalStore(i){return function nQ(e,i,t,n){return new pFt(e,i,t,n)}(this.persistence,new iQ,i.initialUser,this.serializer)}createPersistence(i){return new lF(RS.Hr,this.serializer)}createSharedClientState(i){return new hQ}terminate(){var i=this;return de(function*(){var t,n;null===(t=i.gcScheduler)||void 0===t||t.stop(),null===(n=i.indexBackfillerScheduler)||void 0===n||n.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class jv{initialize(i,t){var n=this;return de(function*(){n.localStore||(n.localStore=i.localStore,n.sharedClientState=i.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!i.synchronizeTabs),n.sharedClientState.onlineStateHandler=r=>kQ(n.syncEngine,r,1),n.remoteStore.remoteSyncer.handleCredentialChange=sOt.bind(null,n.syncEngine),yield VF(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(i){return new zFt}createDatastore(i){const t=Mb(i.databaseInfo.databaseId),n=new CFt(i.databaseInfo);return new AFt(i.authCredentials,i.appCheckCredentials,n,t)}createRemoteStore(i){return n=this.localStore,r=this.datastore,s=i.asyncQueue,o=t=>kQ(this.syncEngine,t,0),l=fQ.D()?new fQ:new wFt,new MFt(n,r,s,o,l);var n,r,s,o,l}createSyncEngine(i,t){return function(r,s,o,l,b,C,D){const R=new $Ft(r,s,o,l,b,C);return D&&(R.La=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,t)}terminate(){var i=this;return de(function*(){var t,n;yield(n=de(function*(s){const o=ai(s);Fe("RemoteStore","RemoteStore shutting down."),o.M_.add(5),yield Nv(o),o.O_.shutdown(),o.N_.set("Unknown")}),function r(s){return n.apply(this,arguments)})(i.remoteStore),null===(t=i.datastore)||void 0===t||t.terminate()})()}}class HS{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Ka(this.observer.next,i)}error(i){this.observer.error?this.Ka(this.observer.error,i):Fs("Uncaught Error in snapshot listener:",i.toString())}$a(){this.muted=!0}Ka(i,t){this.muted||setTimeout(()=>{this.muted||i(t)},0)}}class yOt{constructor(i,t,n,r){var s=this;this.authCredentials=i,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Aa.UNAUTHENTICATED,this.clientId=$j.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var o=de(function*(l){Fe("FirestoreClient","Received user=",l.uid),yield s.authCredentialListener(l),s.user=l});return function(l){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(n,o=>(Fe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const t=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(de(function*(){try{i._onlineComponents&&(yield i._onlineComponents.terminate()),i._offlineComponents&&(yield i._offlineComponents.terminate()),i.authCredentials.shutdown(),i.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=zv(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function WS(e,i){return TO.apply(this,arguments)}function TO(){return TO=de(function*(e,i){e.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=e.configuration;yield i.initialize(t);let n=t.initialUser;e.setCredentialChangeListener(function(){var r=de(function*(s){n.isEqual(s)||(yield rQ(i.localStore,s),n=s)});return function(s){return r.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=i}),TO.apply(this,arguments)}function CO(e,i){return SO.apply(this,arguments)}function SO(){return(SO=de(function*(e,i){e.asyncQueue.verifyOperationInProgress();const t=yield function EO(e){return AO.apply(this,arguments)}(e);Fe("FirestoreClient","Initializing OnlineComponentProvider"),yield i.initialize(t,e.configuration),e.setCredentialChangeListener(n=>wQ(i.remoteStore,n)),e.setAppCheckTokenChangeListener((n,r)=>wQ(i.remoteStore,r)),e._onlineComponents=i})).apply(this,arguments)}function AO(){return(AO=de(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Fe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield WS(e,e._uninitializedComponentsProvider._offline)}catch(i){const t=i;if(!function NQ(e){return"FirebaseError"===e.name?e.code===he.FAILED_PRECONDITION||e.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(t))throw t;El("Error using user provided cache. Falling back to memory cache: "+t),yield WS(e,new Xv)}}else Fe("FirestoreClient","Using default OfflineComponentProvider"),yield WS(e,new Xv);return e._offlineComponents})).apply(this,arguments)}function XS(e){return DO.apply(this,arguments)}function DO(){return(DO=de(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Fe("FirestoreClient","Using user provided OnlineComponentProvider"),yield CO(e,e._uninitializedComponentsProvider._online)):(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield CO(e,new jv))),e._onlineComponents})).apply(this,arguments)}function IO(){return(IO=de(function*(e){const i=yield XS(e),t=i.eventManager;return t.onListen=QFt.bind(null,i.syncEngine),t.onUnlisten=ZFt.bind(null,i.syncEngine),t.onFirstRemoteStoreListen=KFt.bind(null,i.syncEngine),t.onLastRemoteStoreUnlisten=JFt.bind(null,i.syncEngine),t})).apply(this,arguments)}function GQ(e,i,t={}){const n=new fa;return e.asyncQueue.enqueueAndForget(de(function*(){return function(s,o,l,b,C){const D=new HS({next:O=>{o.enqueueAndForget(()=>function WF(e,i){return XF.apply(this,arguments)}(s,R)),O.fromCache&&"server"===b.source?C.reject(new Oe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(O)},error:O=>C.reject(O)}),R=new $F(l,D,{includeMetadataChanges:!0,ra:!0});return function GF(e,i){return HF.apply(this,arguments)}(s,R)}(yield function $v(e){return IO.apply(this,arguments)}(e),e.asyncQueue,i,t,n)})),n.promise}function HQ(e){const i={};return void 0!==e.timeoutSeconds&&(i.timeoutSeconds=e.timeoutSeconds),i}const WQ=new Map;function kO(e,i,t){if(!t)throw new Oe(he.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${i}.`)}function XQ(e){if(!di.isDocumentKey(e))throw new Oe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function jQ(e){if(di.isDocumentKey(e))throw new Oe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function jS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const i=(n=e).constructor?n.constructor.name:null;return i?`a custom ${i} object`:"an object"}}var n;return"function"==typeof e?"a function":gi()}function Rn(e,i){if("_delegate"in e&&(e=e._delegate),!(e instanceof i)){if(i.name===e.constructor.name)throw new Oe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jS(e);throw new Oe(he.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${t}`)}}return e}class $Q{constructor(i){var t,n;if(void 0===i.host){if(void 0!==i.ssl)throw new Oe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(t=i.ssl)||void 0===t||t;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,this.localCache=i.localCache,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Oe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}(function kOt(e,i,t,n){if(!0===i&&!0===n)throw new Oe(he.INVALID_ARGUMENT,`${e} and ${t} cannot be used together.`)})("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==i.experimentalAutoDetectLongPolling&&!i.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=HQ(null!==(n=i.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Oe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Oe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Oe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!i.useFetchStreams}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===i.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class kb{constructor(i,t,n,r){this._authCredentials=i,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $Q({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Oe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $Q(i),void 0!==i.credentials&&(this._authCredentials=function(n){if(!n)return new ARt;switch(n.type){case"firstParty":return new kRt(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Oe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=WQ.get(t);n&&(Fe("ComponentProvider","Removing Datastore"),WQ.delete(t),n.terminate())}(this),Promise.resolve()}}class Ga{constructor(i,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=i}withConverter(i){return new Ga(this.firestore,i,this._query)}}class Ls{constructor(i,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xd(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new Ls(this.firestore,i,this._key)}}class xd extends Ga{constructor(i,t,n){super(i,t,_v(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new Ls(this.firestore,null,new di(i))}withConverter(i){return new xd(this.firestore,i,this._path)}}function QQ(e,i,...t){if(e=Dc(e),kO("collection","path",i),e instanceof kb){const n=Bn.fromString(i,...t);return jQ(n),new xd(e,null,n)}{if(!(e instanceof Ls||e instanceof xd))throw new Oe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Bn.fromString(i,...t));return jQ(n),new xd(e.firestore,null,n)}}class FOt{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new _F(this,"async_queue_retry"),this.hu=()=>{const t=VS();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};const i=VS();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Pu(),this.Iu(i)}enterRestrictedMode(i){if(!this.ou){this.ou=!0,this.cu=i||!1;const t=VS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(i){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new fa;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(i().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.su.push(i),this.Tu()))}Tu(){var i=this;return de(function*(){if(0!==i.su.length){try{yield i.su[0](),i.su.shift(),i.Yo.reset()}catch(t){if(!Hh(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}i.su.length>0&&i.Yo.$o(()=>i.Tu())}})()}Iu(i){const t=this.iu.then(()=>(this.uu=!0,i().catch(n=>{throw this.au=n,this.uu=!1,Fs("INTERNAL UNHANDLED ERROR: ",function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),l}(n)),n}).then(n=>(this.uu=!1,n))));return this.iu=t,t}enqueueAfterDelay(i,t,n){this.Pu(),this.lu.indexOf(i)>-1&&(t=0);const r=zF.createAndSchedule(this,i,t,n,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&gi()}verifyOperationInProgress(){}du(){var i=this;return de(function*(){let t;do{t=i.iu,yield t}while(t!==i.iu)})()}Au(i){for(const t of this._u)if(t.timerId===i)return!0;return!1}Ru(i){return this.du().then(()=>{this._u.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this._u)if(t.skipDelay(),"all"!==i&&t.timerId===i)break;return this.du()})}Vu(i){this.lu.push(i)}Eu(i){const t=this._u.indexOf(i);this._u.splice(t,1)}}class Mr extends kb{constructor(i,t,n,r){super(i,t,n,r),this.type="firestore",this._queue=new FOt,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ZQ(this),this._firestoreClient.terminate()}}function LOt(e,i){const t="object"==typeof e?e:function gRt(e=rS){const i=um.get(e);if(!i&&e===rS&&fj())return Ij();if(!i)throw Kl.create("no-app",{appName:e});return i}(),n="string"==typeof e?e:i||"(default)",r=function Dj(e,i){const t=e.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),e.container.getProvider(i)}(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const s=(e=>{const i=(e=>{var i,t;return null===(t=null===(i=eS())||void 0===i?void 0:i.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!i)return;const t=i.lastIndexOf(":");if(t<=0||t+1===i.length)throw new Error(`Invalid host ${i} with no separate hostname and port!`);const n=parseInt(i.substring(t+1),10);return"["===i[0]?[i.substring(1,t-1),n]:[i.substring(0,t),n]})("firestore");s&&function ROt(e,i,t,n={}){var r;const s=(e=Rn(e,kb))._getSettings(),o=`${i}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&El("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),n.mockUserToken){let l,b;if("string"==typeof n.mockUserToken)l=n.mockUserToken,b=Aa.MOCK_USER;else{l=function skt(e,i){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=i||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[tS(JSON.stringify({alg:"none",type:"JWT"})),tS(JSON.stringify(o)),""].join(".")}(n.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const C=n.mockUserToken.sub||n.mockUserToken.user_id;if(!C)throw new Oe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Aa(C)}e._authCredentials=new DRt(new jj(l,b))}}(r,...s)}return r}function ms(e){return e._firestoreClient||ZQ(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ZQ(e){var i,t,n;const r=e._freezeSettings(),s=(b=(null===(i=e._app)||void 0===i?void 0:i.options.appId)||"",new aPt(e._databaseId,b,e._persistenceKey,(D=r).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,HQ(D.experimentalLongPollingOptions),D.useFetchStreams));var b,D;e._firestoreClient=new yOt(e._authCredentials,e._appCheckCredentials,e._queue,s),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(n=r.localCache)&&void 0!==n&&n._onlineComponentProvider&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class Mm{constructor(i){this._byteString=i}static fromBase64String(i){try{return new Mm(ma.fromBase64String(i))}catch(t){throw new Oe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(i){return new Mm(ma.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class Im{constructor(...i){for(let t=0;t<i.length;++t)if(0===i[t].length)throw new Oe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rs(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class Qv{constructor(i){this._methodName=i}}class PO{constructor(i,t){if(!isFinite(i)||i<-90||i>90)throw new Oe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(t)||t<-180||t>180)throw new Oe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=i,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return tn(this._lat,i._lat)||tn(this._long,i._long)}}const BOt=/^__.*__$/;class VOt{constructor(i,t,n){this.data=i,this.fieldMask=t,this.fieldTransforms=n}toMutation(i,t){return null!==this.fieldMask?new Eu(i,this.data,this.fieldMask,t,this.fieldTransforms):new Av(i,this.data,t,this.fieldTransforms)}}function eK(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gi()}}class YS{constructor(i,t,n,r,s,o){this.settings=i,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(i){return new YS(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(i){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(i),r=this.gu({path:n,yu:!1});return r.wu(i),r}Su(i){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(i),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(i){return this.gu({path:void 0,yu:!0})}Du(i){return KS(i,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(i){return void 0!==this.fieldMask.find(t=>i.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>i.isPrefixOf(t.field))}mu(){if(this.path)for(let i=0;i<this.path.length;i++)this.wu(this.path.get(i))}wu(i){if(0===i.length)throw this.Du("Document fields must not be empty");if(eK(this.fu)&&BOt.test(i))throw this.Du('Document fields cannot begin and end with "__"')}}class UOt{constructor(i,t,n){this.databaseId=i,this.ignoreUndefinedProperties=t,this.serializer=n||Mb(i)}Fu(i,t,n,r=!1){return new YS({fu:i,methodName:t,vu:n,path:rs.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function km(e){const i=e._freezeSettings(),t=Mb(e._databaseId);return new UOt(e._databaseId,!!i.ignoreUndefinedProperties,t)}function $S(e,i,t,n,r,s={}){const o=e.Fu(s.merge||s.mergeFields?2:0,i,t,r);UO("Data must be an object, but it was:",o,n);const l=rK(n,o);let b,C;if(s.merge)b=new el(o.fieldMask),C=o.fieldTransforms;else if(s.mergeFields){const D=[];for(const R of s.mergeFields){const O=Fb(i,R,t);if(!o.contains(O))throw new Oe(he.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);aK(D,O)||D.push(O)}b=new el(D),C=o.fieldTransforms.filter(R=>b.covers(R.field))}else b=null,C=o.fieldTransforms;return new VOt(new za(l),b,C)}function Rm(e,i){if(sK(e=Dc(e)))return UO("Unsupported field value:",i,e),rK(e,i);if(e instanceof Qv)return function(n,r){if(!eK(r.fu))throw r.Du(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,i),null;if(void 0===e&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),e instanceof Array){if(i.settings.yu&&4!==i.fu)throw i.Du("Nested arrays are not supported");return function(n,r){const s=[];let o=0;for(const l of n){let b=Rm(l,r.bu(o));null==b&&(b={nullValue:"NULL_VALUE"}),s.push(b),o++}return{arrayValue:{values:s}}}(e,i)}return function(n,r){if(null===(n=Dc(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return XY(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const s=ns.fromDate(n);return{timestampValue:Mv(r.serializer,s)}}if(n instanceof ns){const s=new ns(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Mv(r.serializer,s)}}if(n instanceof PO)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Mm)return{bytesValue:f$(r.serializer,n._byteString)};if(n instanceof Ls){const s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:KP(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Du(`Unsupported field value: ${jS(n)}`)}(e,i)}function rK(e,i){const t={};return hY(e)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):Wh(e,(n,r)=>{const s=Rm(r,i.pu(n));null!=s&&(t[n]=s)}),{mapValue:{fields:t}}}function sK(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ns||e instanceof PO||e instanceof Mm||e instanceof Ls||e instanceof Qv)}function UO(e,i,t){if(!sK(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const n=jS(t);throw i.Du("an object"===n?e+" a custom object":e+" "+n)}var r}function Fb(e,i,t){if((i=Dc(i))instanceof Im)return i._internalPath;if("string"==typeof i)return QS(e,i);throw KS("Field path arguments must be of type string or ",e,!1,void 0,t)}const zOt=new RegExp("[~\\*/\\[\\]]");function QS(e,i,t){if(i.search(zOt)>=0)throw KS(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,t);try{return new Im(...i.split("."))._internalPath}catch{throw KS(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,t)}}function KS(e,i,t,n,r){const s=n&&!n.isEmpty(),o=void 0!==r;let l=`Function ${i}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let b="";return(s||o)&&(b+=" (found",s&&(b+=` in field ${n}`),o&&(b+=` in document ${r}`),b+=")"),new Oe(he.INVALID_ARGUMENT,l+e+b)}function aK(e,i){return e.some(t=>t.isEqual(i))}class Ob{constructor(i,t,n,r,s){this._firestore=i,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ls(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new GOt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const t=this._document.data.field(ZS("DocumentSnapshot.get",i));if(null!==t)return this._userDataWriter.convertValue(t)}}}class GOt extends Ob{data(){return super.data()}}function ZS(e,i){return"string"==typeof i?QS(e,i):i instanceof Im?i._internalPath:i._delegate._internalPath}class zO{}class Lb extends zO{}class Nb extends Lb{constructor(i,t,n){super(),this._field=i,this._op=t,this._value=n,this.type="where"}static _create(i,t,n){return new Nb(i,t,n)}_apply(i){const t=this._parse(i);return uK(i._query,t),new Ga(i.firestore,i.converter,GP(i._query,t))}_parse(i){const t=km(i.firestore);return function(s,o,l,b,C,D,R){let O;if(C.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Oe(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){dK(R,D);const L=[];for(const U of R)L.push(cK(b,s,U));O={arrayValue:{values:L}}}else O=cK(b,s,R)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||dK(R,D),O=function nK(e,i,t,n=!1){return Rm(t,e.Fu(n?4:3,i))}(l,"where",R,"in"===D||"not-in"===D);return Vn.create(C,D,O)}(i._query,0,t,i.firestore._databaseId,this._field,this._op,this._value)}}class Kv extends zO{constructor(i,t){super(),this.type=i,this._queryConstraints=t}static _create(i,t){return new Kv(i,t)}_parse(i){const t=this._queryConstraints.map(n=>n._parse(i)).filter(n=>n.getFilters().length>0);return 1===t.length?t[0]:wr.create(t,this._getOperator())}_apply(i){const t=this._parse(i);return 0===t.getFilters().length?i:(function(r,s){let o=r;const l=s.getFlattenedFilters();for(const b of l)uK(o,b),o=GP(o,b)}(i._query,t),new Ga(i.firestore,i.converter,GP(i._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class GO extends Lb{constructor(i,t){super(),this._field=i,this._direction=t,this.type="orderBy"}static _create(i,t){return new GO(i,t)}_apply(i){const t=function(r,s,o){if(null!==r.startAt)throw new Oe(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cb(s,o)}(i._query,this._field,this._direction);return new Ga(i.firestore,i.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Cu(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(i._query,t))}}class JS extends Lb{constructor(i,t,n){super(),this.type=i,this._limit=t,this._limitType=n}static _create(i,t,n){return new JS(i,t,n)}_apply(i){return new Ga(i.firestore,i.converter,xS(i._query,this._limit,this._limitType))}}function cK(e,i,t){if("string"==typeof(t=Dc(t))){if(""===t)throw new Oe(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zP(i)&&-1!==t.indexOf("/"))throw new Oe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=i.path.child(Bn.fromString(t));if(!di.isDocumentKey(n))throw new Oe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return xm(e,new di(n))}if(t instanceof Ls)return xm(e,t._key);throw new Oe(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jS(t)}.`)}function dK(e,i){if(!Array.isArray(e)||0===e.length)throw new Oe(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`)}function uK(e,i){const t=function(r,s){for(const o of r)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(i.op));if(null!==t)throw new Oe(he.INVALID_ARGUMENT,t===i.op?`Invalid query. You cannot use more than one '${i.op.toString()}' filter.`:`Invalid query. You cannot use '${i.op.toString()}' filters with '${t.toString()}' filters.`)}class fK{convertValue(i,t="none"){switch(jh(i)){case 0:return null;case 1:return i.booleanValue;case 2:return bs(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,t);case 5:return i.stringValue;case 6:return this.convertBytes(Tu(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,t);case 10:return this.convertObject(i.mapValue,t);default:throw gi()}}convertObject(i,t){return this.convertObjectMap(i.fields,t)}convertObjectMap(i,t="none"){const n={};return Wh(i,(r,s)=>{n[r]=this.convertValue(s,t)}),n}convertGeoPoint(i){return new PO(bs(i.latitude),bs(i.longitude))}convertArray(i,t){return(i.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(i,t){switch(t){case"previous":const n=hS(i);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(sb(i));default:return null}}convertTimestamp(i){const t=_u(i);return new ns(t.seconds,t.nanos)}convertDocumentKey(i,t){const n=Bn.fromString(i);Ai(S$(n));const r=new vm(n.get(1),n.get(3)),s=new di(n.popFirst(5));return r.isEqual(t)||Fs(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class Pm{constructor(i,t){this.hasPendingWrites=i,this.fromCache=t}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class Zv extends Ob{constructor(i,t,n,r,s,o){super(i,t,n,r,o),this._firestore=i,this._firestoreImpl=i,this.metadata=s}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const t=new iE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,t={}){if(this._document){const n=this._document.data.field(ZS("DocumentSnapshot.get",i));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class iE extends Zv{data(i={}){return super.data(i)}}class Jv{constructor(i,t,n,r){this._firestore=i,this._userDataWriter=t,this._snapshot=r,this.metadata=new Pm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const i=[];return this.forEach(t=>i.push(t)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,t){this._snapshot.docs.forEach(n=>{i.call(t,new iE(this._firestore,this._userDataWriter,n.key,n,new Pm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const t=!!i.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new iE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Pm(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const b=new iE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Pm(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let C=-1,D=-1;return 0!==l.type&&(C=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),1!==l.type&&(o=o.add(l.doc),D=o.indexOf(l.doc.key)),{type:$Ot(l.type),doc:b,oldIndex:C,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $Ot(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gi()}}class ef extends fK{constructor(i){super(),this.firestore=i}convertBytes(i){return new Mm(i)}convertReference(i){const t=this.convertDocumentKey(i,this.firestore._databaseId);return new Ls(this.firestore,null,t)}}function KOt(e,i){const t=Rn(e.firestore,Mr),n=function POt(e,i,...t){if(e=Dc(e),1===arguments.length&&(i=$j.newId()),kO("doc","path",i),e instanceof kb){const n=Bn.fromString(i,...t);return XQ(n),new Ls(e,null,new di(n))}{if(!(e instanceof Ls||e instanceof xd))throw new Oe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Bn.fromString(i,...t));return XQ(n),new Ls(e.firestore,e instanceof xd?e.converter:null,new di(n))}}(e),r=function eE(e,i,t){let n;return n=e?t&&(t.merge||t.mergeFields)?e.toFirestore(i,t):e.toFirestore(i):i,n}(e.converter,i);return function Bb(e,i){return function(n,r){const s=new fa;return n.asyncQueue.enqueueAndForget(de(function*(){return function qFt(e,i,t){return iO.apply(this,arguments)}(yield function MO(e){return XS(e).then(i=>i.syncEngine)}(n),r,s)})),s.promise}(ms(e),i)}(t,[$S(km(e.firestore),"addDoc",n._key,r,null!==e.converter,{}).toMutation(n._key,ss.exists(!1))]).then(()=>n)}!function(i,t=!0){mv="10.12.3",sS(new Ky("firestore",(n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),l=new Mr(new MRt(n.getProvider("auth-internal")),new RRt(n.getProvider("app-check-internal")),function(C,D){if(!Object.prototype.hasOwnProperty.apply(C.options,["projectId"]))throw new Oe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vm(C.options.projectId,D)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),hm(Xj,"4.6.4",i),hm(Xj,"4.6.4","esm2017")}();let vK=(()=>{class e{constructor(t){this.terminologyService=t,this.goals=[{name:"Bronze",score:100},{name:"Silver",score:200},{name:"Gold",score:300},{name:"Platinum",score:400},{name:"Diamond",score:500}],this.difficultyLevels=[{name:"Easy",rules:{maxHitPoints:5,hitpointsAwardedForGuessingfullTerm:1,freeHints:2,pointsPerGuessedLetter:1,goals:this.goals,difficultyBonus:0,endless:!1,maxRoundTime:60}},{name:"Medium",rules:{maxHitPoints:4,hitpointsAwardedForGuessingfullTerm:1,freeHints:1,pointsPerGuessedLetter:2,goals:this.goals,difficultyBonus:50,endless:!1,maxRoundTime:50}},{name:"Hard",rules:{maxHitPoints:3,hitpointsAwardedForGuessingfullTerm:1,freeHints:0,pointsPerGuessedLetter:3,goals:this.goals,difficultyBonus:100,endless:!1,maxRoundTime:40}},{name:"Endless",rules:{maxHitPoints:3,hitpointsAwardedForGuessingfullTerm:1,freeHints:0,pointsPerGuessedLetter:3,goals:this.goals,difficultyBonus:100,endless:!0,maxRoundTime:30}}],this.rules=this.difficultyLevels[0].rules,this.fsn="",this.scg="",this.focusConcepts=[],this.attributePairs=[],this.usedHints=new Set,this.randomLimit=4e3,this.guessResult=new De,this.termResult=new De,this.game=new Wr(this.initialize())}loadMenu(){this.clearRoundTimer(),this.game.next({...this.game.value,state:"menu"})}getDifficultyLevels(){return this.difficultyLevels}newRound(t){var n=this;return de(function*(){n.clearRoundTimer(),n.game.next({...n.game.value,state:"choosingTerm",score:t?0:n.game.value.score,hitPoints:t?n.rules.maxHitPoints:n.game.value.hitPoints,round:t?1:n.game.value.round+1,remainingTime:n.rules.maxRoundTime});const r=Math.floor(Math.random()*n.randomLimit)+1,s=yield Sa(n.terminologyService.expandValueSet("^ 816080008 |International Patient Summary| {{ C definitionStatus = defined }}","",r,1));n.randomLimit=s.expansion.total-1;const o=yield Sa(n.terminologyService.lookupConcept(s.expansion.contains[0].code));let l=n.extractFSN(o);n.fsn=l||"";let b=n.extractScg(o);n.scg=b||"";let C=n.extractFocusConcepts(b||"");n.focusConcepts=C||[];let D=n.extractAttributePairs(b||"");n.attributePairs=D||[],l?n.initializeRound(l,t):n.initializeRound("No term found"),n.usedHints.clear()})()}extractFSN(t){let n=this.extractTerm(t,"900000000000003001",this.terminologyService.getLang());return n||(n=this.extractTerm(t,"900000000000013009",this.terminologyService.getLang())),n||(n=this.extractTerm(t,"900000000000003001","en")),n}extractTerm(t,n,r){let s="";return t.parameter.forEach(o=>{if("designation"===o.name){let l=o.part.some(C=>"use"===C.name&&C.valueCoding.code===n),b=o.part.some(C=>"language"===C.name&&C.valueCode===r);l&&b&&(s=o.part.find(C=>"value"===C.name)?.valueString)}}),s}extractScg(t){let n;return t.parameter.forEach(r=>{"property"===r.name&&r.part.some(s=>"code"===s.name&&"normalForm"===s.valueString)&&(n=r.part.find(s=>"valueString"===s.name)?.valueString)}),n}extractFocusConcepts(t){const[n]=t.split(":").map(l=>l.trim()),s=n.match(/\d+\|.*?\|/g);return s?s.map(l=>this.transformSnomedConcept(l.trim())||{code:"",display:""}).filter(l=>""!==l.code):[]}extractAttributePairs(t){const n=t.split(":").slice(1).join(":").trim(),r=/(\d+\|.*?\|)\s*=\s*(\d+\|.*?\|)/g;let s;const o=[];for(;null!==(s=r.exec(n));){const l=this.transformSnomedConcept(s[1].trim()),b=this.transformSnomedConcept(s[2].trim());l&&b&&o.push({type:l,target:b})}return o}transformSnomedConcept(t){const r=t.match(/^(\d+)\|(.+?)\|$/);return r?{code:r[1],display:r[2]}:null}initialize(){return{term:"",displayTerm:[],hitPoints:this.rules.maxHitPoints,hintsAvailable:!0,hints:[],state:"menu",score:0,round:0,rules:this.rules,difficultyLevel:"",startTimestamp:0,endTimestamp:0,difficultyBonus:0,livesBonus:0,timeBonus:0,maxRoundTime:0,remainingTime:0}}startGame(t){this.clearRoundTimer(),this.rules=this.difficultyLevels.find(n=>n.name.toLowerCase()===t.toLowerCase())?.rules,this.game.next({term:"",displayTerm:[],hitPoints:this.rules.maxHitPoints,hintsAvailable:!0,hints:[],state:"playing",score:0,round:0,rules:this.rules,difficultyLevel:t,startTimestamp:Date.now(),endTimestamp:0,difficultyBonus:0,livesBonus:0,timeBonus:0,maxRoundTime:this.rules.maxRoundTime,remainingTime:this.rules.maxRoundTime}),this.newRound(!0)}initializeRound(t,n){const r=t.match(/\(([^)]+)\)$/),s=r?r[0]:"",o=s?t.lastIndexOf(s):t.length,l=t.split("").map((b,C)=>C>=o?b:/[a-zA-Z0-9\xe1-\xfa\xf1]/.test(b)?"_":b);this.game.next({...this.game.value,term:t,displayTerm:l,hitPoints:n?this.rules.maxHitPoints:this.game.value.hitPoints,hints:[],state:"playing",score:n?0:this.game.value.score,remainingTime:this.rules.maxRoundTime}),this.startRoundTimer();for(let b=0;b<this.rules.freeHints;b++)this.revealHint(!0)}removeAccents(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}guessLetter(t){let n={...this.game.value},r=!1;const s=n.term.lastIndexOf("("),o=-1!==s?s:n.term.length;if(n.term.split("").forEach((l,b)=>{b<o&&"_"===n.displayTerm[b]&&this.removeAccents(l.toLowerCase())===this.removeAccents(t.toLowerCase())&&(n.displayTerm[b]=l,r=!0,n.score+=this.rules.pointsPerGuessedLetter)}),r){if(this.guessResult.emit({letter:t,result:!0}),-1===n.displayTerm.slice(0,o).indexOf("_")&&"playing"===n.state)if(this.termResult.emit(n.term),this.clearRoundTimer(),n.score>this.goals[this.goals.length-1].score&&!1===this.rules.endless){n.state="won",n.endTimestamp=Date.now(),n.difficultyBonus=this.rules.difficultyBonus,n.livesBonus=10*n.hitPoints;const b=Math.round((n.endTimestamp-n.startTimestamp)/1e3);n.timeBonus=Math.max(0,180-b),n.score+=n.difficultyBonus+n.livesBonus+n.timeBonus}else n.hitPoints=n.hitPoints+this.rules.hitpointsAwardedForGuessingfullTerm,n.hitPoints>this.rules.maxHitPoints&&(n.hitPoints=this.rules.maxHitPoints),setTimeout(()=>{this.newRound()},1500)}else this.guessResult.emit({letter:t,result:!1}),n.hitPoints-=1,n.hitPoints<=0&&(n.hitPoints=0,n.state="gameOver",n.endTimestamp=Date.now(),n.difficultyBonus=this.rules.difficultyBonus,n.score+=n.difficultyBonus,this.clearRoundTimer());this.game.next(n)}revealHint(t){let n={...this.game.value},r="";if(0===this.focusConcepts.length&&0===this.attributePairs.length)return n.hints.push("No more hints available."),void this.game.next(n);let s=this.focusConcepts.length>0,o=this.attributePairs.length>0;if(s&&o&&(s=Math.random()<.5),s){let l=Math.floor(Math.random()*this.focusConcepts.length);r=`One of the parents of this concept is: <i>${this.focusConcepts[l].display}</i>`,this.focusConcepts.splice(l,1)}else if(o){let l=Math.floor(Math.random()*this.attributePairs.length),b=this.attributePairs[l];r=`This concept has a <i>${b.type.display}</i> of <i>${b.target.display}</i>`,this.attributePairs.splice(l,1)}this.usedHints.add(r),n.hints.push(r),t||(n.hitPoints-=1),n.hintsAvailable=this.focusConcepts.length>0||this.attributePairs.length>0,this.game.next(n),n.hitPoints<=0&&(n.hitPoints=0,n.state="gameOver",n.endTimestamp=Date.now(),this.clearRoundTimer(),this.game.next(n))}getGameState(){return this.game.asObservable()}startRoundTimer(){this.roundTimer=setInterval(()=>{const t=this.game.value,n=t.remainingTime-1,r={...t,remainingTime:n};n<=0?(r.remainingTime=0,r.state="gameOver",r.endTimestamp=Date.now(),this.clearRoundTimer(),this.game.next(r)):this.game.next(r)},1e3)}clearRoundTimer(){this.roundTimer&&(clearInterval(this.roundTimer),this.roundTimer=null)}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(da))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cLt=(()=>{class e{constructor(){this.loadingProgress=new Wr(0)}preloadImages(t){const n=t.map((r,s)=>this.preloadImage(r,t.length,s));return Promise.all(n).then(()=>{this.loadingProgress.next(100)})}preloadImage(t,n,r){return new Promise((s,o)=>{const l=new Image;l.src=t,l.onload=()=>{this.loadingProgress.next((r+1)/n*100),s()},l.onerror=o})}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xK=(()=>{class e{constructor(){this.db=LOt(),this.scoreLimit=20}addScore(t,n){var r=this;return de(function*(){try{yield KOt(QQ(r.db,t),n)}catch(s){console.error("Error adding document: ",s)}})()}getScores(t){var n=this;return de(function*(){const s=function HOt(e,i,...t){let n=[];i instanceof zO&&n.push(i),n=n.concat(t),function(s){const o=s.filter(b=>b instanceof Kv).length,l=s.filter(b=>b instanceof Nb).length;if(o>1||o>0&&l>0)throw new Oe(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const r of n)e=r._apply(e);return e}(QQ(n.db,t),function WOt(e,i="asc"){const t=i,n=ZS("orderBy",e);return GO._create(n,t)}("score","desc"),function XOt(e){return function YQ(e,i){if(i<=0)throw new Oe(he.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${i}.`)}("limit",e),JS._create("limit",e,"F")}(n.scoreLimit));return(yield function QOt(e){e=Rn(e,Ga);const i=Rn(e.firestore,Mr),t=ms(i),n=new ef(i);return function oK(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Oe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),GQ(t,e._query).then(r=>new Jv(i,n,e,r))}(s)).docs.map(l=>({id:l.id,...l.data()}))})()}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dLt(e,i){if(1&e){const t=pe();q(0,"button",4),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct(2).guessLetter(r))}),ut(1),et()}if(2&e){const t=i.$implicit,n=Ct(2);bi("guessed-correct","correct"===n.guessedLetters[t])("guessed-wrong","wrong"===n.guessedLetters[t]),xt("disabled",n.isLetterGuessed(t)),ot(),He(" ",t," ")}}function uLt(e,i){if(1&e&&(q(0,"div",2),Gt(1,dLt,2,6,"button",3),et()),2&e){const t=i.$implicit;ot(),xt("ngForOf",t)}}let hLt=(()=>{class e{constructor(){this.keyboardLayout=[["1","2","3","4","5","6","7","8","9","0"],["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]],this.guessedLetters={},this.letterGuessed=new De}addGuessedLetter(t,n){this.guessedLetters[t]=n?"correct":"wrong"}guessLetter(t){this.letterGuessed.emit(t)}isLetterGuessed(t){return t in this.guessedLetters}markLetterAsGuessed(t,n){this.guessedLetters[t]=n}reset(){this.guessedLetters={}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-keyboard"]],outputs:{letterGuessed:"letterGuessed"},decls:2,vars:1,consts:[[1,"keyboard-container"],["class","keyboard-row",4,"ngFor","ngForOf"],[1,"keyboard-row"],["mat-button","",3,"guessed-correct","guessed-wrong","disabled","click",4,"ngFor","ngForOf"],["mat-button","",3,"click","disabled"]],template:function(n,r){1&n&&(q(0,"div",0),Gt(1,uLt,2,1,"div",1),et()),2&n&&(ot(),xt("ngForOf",r.keyboardLayout))},dependencies:[vs,Ea],styles:[".keyboard-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.keyboard-row[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:5px;flex-wrap:wrap}button[_ngcontent-%COMP%]{margin:2px;padding:8px 6px;border-radius:8px;border:1px solid #000;transition:background-color .3s ease;min-width:40px;flex:1}button.guessed-correct[_ngcontent-%COMP%]{background-color:green;color:#fff}button.guessed-wrong[_ngcontent-%COMP%]{background-color:red;color:#fff}@media (max-width: 768px){.keyboard-row[_ngcontent-%COMP%]{margin:1px 0}.keyboard-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1px;padding:8px;min-width:0;width:9%;flex:1 1 auto;font-size:14px}}"]})}return e})(),fLt=(()=>{class e{constructor(){this.tooltipDismissedKey="iosSafariTooltipDismissed"}isIosSafari(){return/iP(ad|od|hone)/i.test(window.navigator.userAgent)&&/Safari/i.test(window.navigator.userAgent)&&!/CriOS/i.test(window.navigator.userAgent)&&!/FxiOS/i.test(window.navigator.userAgent)}tooltipDismissed(){return"true"===localStorage.getItem(this.tooltipDismissedKey)}dismissTooltip(){localStorage.setItem(this.tooltipDismissedKey,"true")}isRunningStandalone(){return"standalone"in window.navigator&&window.navigator.standalone}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mLt(e,i){if(1&e){const t=pe();q(0,"div",1)(1,"div",2),ut(2," Install this webapp on your iPhone: tap "),q(3,"mat-icon"),ut(4,"ios_share"),et(),ut(5," and then 'Add to Home Screen' "),et(),q(6,"button",3),Vt("click",function(){return Ut(t),zt(Ct().dismiss())}),q(7,"mat-icon"),ut(8,"close"),et()()()}}let pLt=(()=>{class e{constructor(t){this.platformDetectionService=t,this.isIosSafari=!1,this.tooltipDismissed=!1}ngOnInit(){this.isIosSafari=this.platformDetectionService.isIosSafari(),this.tooltipDismissed=this.platformDetectionService.tooltipDismissed()||this.platformDetectionService.isRunningStandalone()}dismiss(){this.tooltipDismissed=!0,this.platformDetectionService.dismissTooltip()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fLt))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-add-to-home"]],decls:1,vars:1,consts:[["class","custom-tooltip",4,"ngIf"],[1,"custom-tooltip"],[1,"tooltip-text"],[1,"tooltip-dismiss-button",3,"click"]],template:function(n,r){1&n&&Gt(0,mLt,9,0,"div",0),2&n&&xt("ngIf",r.isIosSafari&&!r.tooltipDismissed)},dependencies:[Is,ua],styles:['.custom-tooltip[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background:#fff;border-radius:8px;padding:16px;box-shadow:0 4px 8px #0003;display:flex;flex-direction:row;align-items:center;max-width:320px;box-sizing:border-box;z-index:1000}.custom-tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-20px;left:50%;transform:translate(-50%);width:0;height:0;border-left:20px solid transparent;border-right:20px solid transparent;border-top:20px solid white}.tooltip-icon[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-radius:50%;padding:10px;margin-right:16px}.tooltip-text[_ngcontent-%COMP%]{color:#333;font-size:16px}.tooltip-dismiss-button[_ngcontent-%COMP%]{margin-left:auto;background:transparent;border:none;cursor:pointer}.tooltip-dismiss-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;vertical-align:bottom}']})}return e})(),yK=(()=>{class e{transform(t,...n){if(!t)return t;const r=Math.floor(t/1e3%60),s=Math.floor(t/6e4%60),o=Math.floor(t/36e5%24),l=0===o&&s<10?s.toString():s<10?"0"+s:s;let D="";return o>0&&(D+=`${o<10?"0"+o:o}h `),(s>0||o>0)&&(D+=`${l}m `),D+=`${0===o&&0===s&&r<10?r.toString():r<10?"0"+r:r}s`,D}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275pipe=$a({name:"elapsedTime",type:e,pure:!0})}return e})();const gLt=["keyboard"],bK=()=>[],vLt=(e,i)=>[e,i],XO=e=>[e],wK=e=>[e,"shadow-local"],xLt=e=>[e,"trophy-large","shadow-local"];function yLt(e,i){if(1&e&&(q(0,"div",8)(1,"div",9)(2,"div",10),ut(3," Loading... "),et(),ye(4,"mat-progress-bar",11),et()()),2&e){const t=Ct(2);ot(4),xt("value",t.loadingAssetsProgress)}}function bLt(e,i){1&e&&(q(0,"span")(1,"mat-icon"),ut(2,"favorite"),et()())}function wLt(e,i){1&e&&(q(0,"span")(1,"mat-icon"),ut(2,"favorite_border"),et()())}function _Lt(e,i){if(1&e&&(q(0,"span"),ut(1),et()),2&e){const t=i.$implicit;ot(),Xe(t)}}function TLt(e,i){if(1&e&&(q(0,"span",33),Gt(1,_Lt,2,1,"span",18),et()),2&e){const t=i.$implicit;ot(),xt("ngForOf",t.split(""))}}function CLt(e,i){if(1&e&&(q(0,"div",31),Gt(1,TLt,2,1,"span",32),et()),2&e){const t=Ct(2).ngIf;ot(),xt("ngForOf",t.displayTerm.join("").split(" "))}}function SLt(e,i){1&e&&(q(0,"div",34)(1,"div",35),ut(2," Choosing a random SNOMED CT concept using the FHIR API "),et(),ye(3,"mat-progress-bar",36),et())}function ELt(e,i){if(1&e){const t=pe();q(0,"div",37),Vt("click",function(){return Ut(t),zt(Ct(3).revealHint())}),ut(1," Reveal Hint "),et()}}function ALt(e,i){if(1&e){const t=pe();q(0,"div",37),Vt("click",function(){return Ut(t),zt(Ct(3).loadMenu())}),ut(1," Abandon game "),et()}}function DLt(e,i){1&e&&ye(0,"li",41),2&e&&xt("innerHTML",i.$implicit,Ff)}function MLt(e,i){if(1&e&&(q(0,"div",38)(1,"div",39)(2,"h2"),ut(3,"Hints:"),et(),q(4,"ul"),Gt(5,DLt,1,1,"li",40),et()()()),2&e){const t=Ct(2).ngIf;ot(5),xt("ngForOf",t.hints)}}function ILt(e,i){if(1&e&&(q(0,"mat-icon",47),ut(1,"grade"),et()),2&e){const t=Ct().$implicit;Ms("left",Ct(3).calculateGoalPosition(t.score-5),"%"),xt("ngClass",yl(3,XO,t.name.toLowerCase()))}}function kLt(e,i){if(1&e&&(q(0,"mat-icon",48),ut(1,"grade"),et()),2&e){const t=Ct().$implicit;Ms("left",Ct(3).calculateGoalPosition(t.score-1),"%"),xt("ngClass",yl(3,XO,t.name.toLowerCase()))}}function RLt(e,i){if(1&e&&(q(0,"div",49),ut(1),et()),2&e){const t=Ct().$implicit;Ms("left",Ct(3).calculateGoalPosition(t.score),"%"),xt("ngClass",yl(4,XO,t.name.toLowerCase())),ot(),He("",t.name," trophy!")}}function PLt(e,i){if(1&e&&(Wi(0),ye(1,"div",42),Gt(2,ILt,2,5,"mat-icon",43),q(3,"mat-icon",44),ut(4,"emoji_events"),et(),Gt(5,kLt,2,5,"mat-icon",45)(6,RLt,2,6,"div",46),Xi()),2&e){const t=i.$implicit,n=Ct(2).ngIf,r=Ct();ot(),Ul(t.name.toLowerCase()),Ms("left",r.calculateGoalPosition(t.score),"%"),ot(),xt("ngIf",n.score>=t.score),ot(),Ms("left",r.calculateGoalPosition(t.score-3),"%"),xt("ngClass",UM(10,vLt,t.name.toLowerCase(),n.score>=t.score?"trophy-large":"")),ot(2),xt("ngIf",n.score>=t.score),ot(),xt("ngIf",n.score>=t.score)}}function FLt(e,i){if(1&e){const t=pe();q(0,"div")(1,"div",12)(2,"div",13),ye(3,"img",14),q(4,"div",15),ut(5),et()()(),q(6,"div",16)(7,"span",17),ut(8),et(),Gt(9,bLt,3,0,"span",18)(10,wLt,3,0,"span",18),q(11,"span",17),ut(12),et()(),Gt(13,CLt,2,1,"div",19)(14,SLt,4,0,"div",20),q(15,"p",21),ut(16,"Click the keys to guess the letters of the term!"),et(),q(17,"div")(18,"app-keyboard",22,0),Vt("letterGuessed",function(r){return Ut(t),zt(Ct(2).guessLetter(r))}),et()(),q(20,"div",23),Gt(21,ELt,2,0,"div",24)(22,ALt,2,0,"div",25),et(),Gt(23,MLt,6,1,"div",26),q(24,"div",27),ut(25," * Hints are generated from the definition of the SNOMED CT concept, retrieved from the FHIR API as an SCG grammar expression "),et(),q(26,"div",28)(27,"h3"),ut(28,"Score Progression"),et(),q(29,"div",29),ye(30,"mat-progress-bar",30),Gt(31,PLt,7,13,"ng-container",18),et()()()}if(2&e){const t=Ct().ngIf,n=Ct();ot(3),xt("@popIn",void 0),ot(2),Ko(" ",t.difficultyLevel," - ",n.getLanguageName(n.selectedLanguage)," "),ot(3),Ko(" Round: ",t.round," \xa0\xa0\xa0\xa0 Score: ",t.score," \xa0\xa0\xa0\xa0 Life: "),ot(),xt("ngForOf",Zo(16,bK).constructor(t.hitPoints)),ot(),xt("ngForOf",Zo(17,bK).constructor(t.rules.maxHitPoints-t.hitPoints)),ot(2),He(" \xa0\xa0\xa0\xa0 Time to guess: ",t.remainingTime,""),ot(),xt("ngIf","playing"==t.state),ot(),xt("ngIf","choosingTerm"===t.state),ot(3),xt("@shake",n.shakeState),ot(4),xt("ngIf","playing"==t.state&&t.hintsAvailable&&t.hitPoints>1),ot(),xt("ngIf","playing"==t.state),ot(),xt("ngIf",t.hints.length>0&&"playing"==t.state),ot(7),xt("value",n.calculateProgress(t.score)),ot(),xt("ngForOf",n.goals)}}function OLt(e,i){if(1&e){const t=pe();q(0,"div",50),ye(1,"img",51)(2,"img",52),q(3,"p",53)(4,"b"),ut(5,"Welcome to SnoGuess!"),et()(),q(6,"p",53),ut(7," A fun way to learn about SNOMED CT concepts and their definitions. "),et(),q(8,"div",54),Vt("click",function(){return Ut(t),zt(Ct(2).chooseDifficultyLevel())}),ut(9," New game "),et(),q(10,"div",54),Vt("click",function(){return Ut(t),zt(Ct(2).showInstructionsPanel())}),ut(11," Instructions "),et(),q(12,"div",55),Vt("click",function(){return Ut(t),zt(Ct(2).openScoreboard())}),ut(13," High Scores "),et(),q(14,"p",56),ut(15," Playing with terms in the IPS Reference Set in "),q(16,"b"),ut(17),et(),ut(18,", change language: "),et(),q(19,"div",57)(20,"button",58),Vt("click",function(){return Ut(t),zt(Ct(2).setLanguage("da"))}),ut(21,"DA"),et(),q(22,"button",58),Vt("click",function(){return Ut(t),zt(Ct(2).setLanguage("de"))}),ut(23,"DE"),et(),q(24,"button",58),Vt("click",function(){return Ut(t),zt(Ct(2).setLanguage("en"))}),ut(25,"EN"),et(),q(26,"button",58),Vt("click",function(){return Ut(t),zt(Ct(2).setLanguage("es"))}),ut(27,"ES"),et(),q(28,"button",58),Vt("click",function(){return Ut(t),zt(Ct(2).setLanguage("et"))}),ut(29,"ET"),et(),q(30,"button",58),Vt("click",function(){return Ut(t),zt(Ct(2).setLanguage("fi"))}),ut(31,"FI"),et(),q(32,"button",58),Vt("click",function(){return Ut(t),zt(Ct(2).setLanguage("fr"))}),ut(33,"FR"),et(),q(34,"button",58),Vt("click",function(){return Ut(t),zt(Ct(2).setLanguage("nl"))}),ut(35,"NL"),et(),q(36,"button",58),Vt("click",function(){return Ut(t),zt(Ct(2).setLanguage("no"))}),ut(37,"NO"),et(),q(38,"button",58),Vt("click",function(){return Ut(t),zt(Ct(2).setLanguage("sv"))}),ut(39,"SV"),et()()()}if(2&e){const t=Ct(2);ot(2),xt("@popIn",void 0),ot(6),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0),ot(5),Xe(t.getLanguageName(t.selectedLanguage))}}function LLt(e,i){1&e&&(q(0,"span"),ut(1,", Endless"),et())}function NLt(e,i){if(1&e){const t=pe();q(0,"div",62)(1,"div",63),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct(3).startGame(r.name))}),ut(2),et(),q(3,"p",64),ut(4),q(5,"mat-icon",65),ut(6,"favorite"),et(),ut(7),q(8,"mat-icon",66),ut(9,"contact_support"),et(),ut(10),q(11,"mat-icon",67),ut(12,"timer"),et(),Gt(13,LLt,2,0,"span",5),et()()}if(2&e){const t=i.$implicit;ot(),xt("@scrollUp",void 0),ot(),He(" ",t.name," "),ot(),xt("@fadeInDelayed",void 0),ot(),He(" Life: ",t.rules.maxHitPoints," "),ot(3),He(", Free hints: ",t.rules.freeHints," "),ot(3),Ko(", Points per letter: ",t.rules.pointsPerGuessedLetter,", Time to guess: ",t.rules.maxRoundTime," "),ot(3),xt("ngIf",t.rules.endless)}}function BLt(e,i){if(1&e){const t=pe();q(0,"div",50),ye(1,"img",51)(2,"img",59),q(3,"p",53)(4,"b"),ut(5,"Choose the game difficulty"),et()(),Gt(6,NLt,14,8,"div",60),q(7,"div",61),Vt("click",function(){return Ut(t),zt(Ct(2).backToMenu())}),ut(8," Back "),et()()}if(2&e){const t=Ct(2);ot(2),xt("@popIn",void 0),ot(4),xt("ngForOf",t.difficultyLevels),ot(),xt("@scrollUp",void 0)}}function VLt(e,i){if(1&e){const t=pe();q(0,"div",50),ye(1,"img",51)(2,"img",68),q(3,"ul",69)(4,"li",70)(5,"mat-icon"),ut(6,"check"),et(),ut(7,"Click the keys on the screen to guess the letters of the term "),q(8,"mat-icon",71),ut(9,"keyboard"),et()(),q(10,"li",70)(11,"mat-icon"),ut(12,"check"),et(),ut(13,"You have three to five lives, depending on your difficulty level "),q(14,"span",72)(15,"mat-icon"),ut(16,"favorite"),et(),q(17,"mat-icon"),ut(18,"favorite"),et(),q(19,"mat-icon"),ut(20,"favorite"),et()()(),q(21,"li",70)(22,"mat-icon"),ut(23,"check"),et(),ut(24,"There is also a maxmimum time to guess each term "),q(25,"mat-icon",73),ut(26,"timer"),et()(),q(27,"li",70)(28,"mat-icon"),ut(29,"check"),et(),ut(30,"You will loose one life with each wrong guess "),q(31,"mat-icon",72),ut(32,"favorite_border"),et()(),q(33,"li",70)(34,"mat-icon"),ut(35,"check"),et(),ut(36,"The game ends when you run out of lives or time"),q(37,"mat-icon",72),ut(38,"close"),et()(),q(39,"li",70)(40,"mat-icon"),ut(41,"check"),et(),ut(42,"You earn points for each correct guess "),q(43,"mat-icon",71),ut(44,"plus_one"),et()(),q(45,"li",70)(46,"mat-icon"),ut(47,"check"),et(),ut(48,"In Easy mode you get 2 hints for free, and in Medium mode you get one \u{1f4a1} "),et(),q(49,"li",70)(50,"mat-icon"),ut(51,"check"),et(),ut(52,"You can reveal more hints, but each hint it will cost one life "),q(53,"mat-icon",72),ut(54,"favorite_border"),et()(),q(55,"li",70)(56,"mat-icon"),ut(57,"check"),et(),ut(58,"If you guess the whole term you can recover one life"),q(59,"mat-icon",72),ut(60,"favorite"),et()(),q(61,"li",70)(62,"mat-icon"),ut(63,"check"),et(),ut(64,"Keep guessing terms to increase your score and earn trophies "),q(65,"mat-icon",74),ut(66,"emoji_events"),et()(),q(67,"li",70)(68,"mat-icon"),ut(69,"check"),et(),ut(70,"Endless mode will not finish when you reach the Diamond Trophy "),q(71,"mat-icon",75),ut(72,"emoji_events"),et()()(),q(73,"div",76),Vt("click",function(){return Ut(t),zt(Ct(2).hideInstructionsPanel())}),ut(74," Back "),et()()}2&e&&(ot(2),xt("@popIn",void 0),ot(71),xt("@scrollUp",void 0))}function ULt(e,i){1&e&&(q(0,"div",77),ye(1,"img",78),et()),2&e&&(ot(),xt("@popIn",void 0))}function zLt(e,i){if(1&e&&(q(0,"div"),ut(1),et()),2&e){const t=Ct(2).ngIf,n=Ct();ot(),He(" Trophy: ",n.getMaxTrophyObtained(t.score)," ")}}function GLt(e,i){if(1&e&&(q(0,"div")(1,"mat-icon",88),ut(2,"grade"),et(),ut(3," \xa0\xa0 "),q(4,"mat-icon",88),ut(5,"emoji_events"),et(),ut(6," \xa0 "),q(7,"mat-icon",88),ut(8,"grade"),et()()),2&e){const t=Ct(2).ngIf,n=Ct();ot(),xt("ngClass",yl(3,wK,n.getMaxTrophyObtained(t.score).toLocaleLowerCase())),ot(3),xt("ngClass",yl(5,xLt,n.getMaxTrophyObtained(t.score).toLocaleLowerCase())),ot(3),xt("ngClass",yl(7,wK,n.getMaxTrophyObtained(t.score).toLocaleLowerCase()))}}function HLt(e,i){1&e&&(q(0,"p",89),ut(1,"Checking high scores..."),et())}function WLt(e,i){if(1&e){const t=pe();q(0,"div",90)(1,"p",91),ut(2," This is a High Score! Save a message to the public leaderboard! "),et(),q(3,"input",92),_a("ngModelChange",function(r){Ut(t);const s=Ct(3);return Ba(s.messageForLeaderboard,r)||(s.messageForLeaderboard=r),zt(r)}),et(),q(4,"div",93),Vt("click",function(){Ut(t);const r=Ct(2).ngIf;return zt(Ct().saveScore(r))}),ut(5," Save "),et(),q(6,"p",94),ut(7,"No personal information is recorded"),et()()}if(2&e){const t=Ct(3);ot(3),wa("ngModel",t.messageForLeaderboard)}}function XLt(e,i){if(1&e){const t=pe();q(0,"div",50),ye(1,"img",51)(2,"img",79),q(3,"div",80)(4,"div"),ut(5," The term was: "),et(),q(6,"div",81),ut(7),et(),q(8,"div",82),ut(9),et(),q(10,"div",83),ut(11),hs(12,"elapsedTime"),et(),Gt(13,zLt,2,1,"div",5),et(),Gt(14,GLt,9,9,"div",5)(15,HLt,2,0,"p",84)(16,WLt,8,1,"div",85),q(17,"div",86),Vt("click",function(){Ut(t);const r=Ct(2);return r.loadMenu(),zt(r.chooseDifficultyLevel())}),ut(18," New game "),et(),q(19,"div",86),Vt("click",function(){return Ut(t),zt(Ct(2).openScoreboard())}),ut(20," High Scores "),et(),q(21,"div",87),Vt("click",function(){return Ut(t),zt(Ct(2).loadMenu())}),ut(22," Main menu "),et()()}if(2&e){const t=Ct().ngIf,n=Ct();ot(2),xt("@popIn",void 0),ot(5),He(" ",t.term,""),ot(2),Ko("",t.round," ",1==t.round?"round":"rounds",""),ot(2),Ux(" Final Score: ",t.score," points - Difficulty: ",t.difficultyLevel," - Total time: ",zl(12,14,t.endTimestamp-t.startTimestamp)," "),ot(2),xt("ngIf",n.getMaxTrophyObtained(t.score)),ot(),xt("ngIf",n.getMaxTrophyObtained(t.score)),ot(),xt("ngIf",n.highScoresLoading),ot(),xt("ngIf",n.highScore),ot(),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0)}}function jLt(e,i){if(1&e&&(q(0,"span"),ut(1),et()),2&e){const t=Ct(2).ngIf;ot(),He("\u2192 Bonus: ",t.livesBonus,"")}}function YLt(e,i){if(1&e&&(q(0,"span"),ut(1),et()),2&e){const t=Ct(2).ngIf;ot(),He("\u2192 Bonus: ",t.difficultyBonus,"")}}function $Lt(e,i){if(1&e&&(q(0,"span"),ut(1),et()),2&e){const t=Ct(2).ngIf;ot(),He("\u2192 Bonus: ",t.timeBonus,"")}}function QLt(e,i){if(1&e){const t=pe();q(0,"div",90)(1,"p",91),ut(2," This is a High Score! Save a message to the public leaderboard! "),et(),q(3,"input",100),_a("ngModelChange",function(r){Ut(t);const s=Ct(3);return Ba(s.messageForLeaderboard,r)||(s.messageForLeaderboard=r),zt(r)}),et(),q(4,"div",101),Vt("click",function(){Ut(t);const r=Ct(2).ngIf;return zt(Ct().saveScore(r))}),ut(5," Save "),et(),q(6,"p",94),ut(7,"No personal information is recorded"),et()()}if(2&e){const t=Ct(3);ot(3),wa("ngModel",t.messageForLeaderboard)}}function KLt(e,i){if(1&e){const t=pe();q(0,"div",50),ye(1,"img",51)(2,"img",95),q(3,"div",96)(4,"mat-icon",97),ut(5,"grade"),et(),q(6,"mat-icon",97),ut(7,"emoji_events"),et(),q(8,"mat-icon",97),ut(9,"grade"),et()(),q(10,"div",98),ut(11),Gt(12,jLt,2,1,"span",5),et(),q(13,"div",98),ut(14),Gt(15,YLt,2,1,"span",5),et(),q(16,"div",98),ut(17),hs(18,"elapsedTime"),Gt(19,$Lt,2,1,"span",5),et(),q(20,"div",99),ut(21),et(),Gt(22,QLt,8,1,"div",85),q(23,"div",86),Vt("click",function(){Ut(t);const r=Ct(2);return r.loadMenu(),zt(r.chooseDifficultyLevel())}),ut(24," New game "),et(),q(25,"div",86),Vt("click",function(){return Ut(t),zt(Ct(2).openScoreboard())}),ut(26," High Scores "),et(),q(27,"div",87),Vt("click",function(){return Ut(t),zt(Ct(2).loadMenu())}),ut(28," Main menu "),et()()}if(2&e){const t=Ct().ngIf,n=Ct();ot(2),xt("@popIn",void 0),ot(9),He("Lives left: ",t.hitPoints," "),ot(),xt("ngIf",t.livesBonus>0),ot(2),He("Difficulty: ",t.difficultyLevel," "),ot(),xt("ngIf",t.difficultyBonus>0),ot(2),He("Time: ",zl(18,12,t.endTimestamp-t.startTimestamp)," "),ot(2),xt("ngIf",t.timeBonus>0),ot(2),He("Final score: ",t.score,""),ot(),xt("ngIf",n.highScore),ot(),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0)}}function ZLt(e,i){if(1&e&&(q(0,"div",3),Gt(1,yLt,5,1,"div",4)(2,FLt,32,18,"div",5)(3,OLt,40,5,"div",6)(4,BLt,9,3,"div",6)(5,VLt,75,2,"div",6)(6,ULt,2,1,"div",7)(7,XLt,23,16,"div",6)(8,KLt,29,14,"div",6),et()),2&e){const t=i.ngIf,n=Ct();ot(),xt("ngIf",n.loadingAssets),ot(),xt("ngIf",("playing"==t.state||"choosingTerm"==t.state)&&!n.loadingAssets),ot(),xt("ngIf","menu"===t.state&&!n.chooseDifficulty&&!n.showInstructions&&!n.loadingAssets),ot(),xt("ngIf","menu"===t.state&&n.chooseDifficulty&&!n.showInstructions&&!n.loadingAssets),ot(),xt("ngIf",n.showInstructions),ot(),xt("ngIf",n.termGuessed),ot(),xt("ngIf","gameOver"===t.state),ot(),xt("ngIf","won"==t.state)}}let JLt=(()=>{class e{constructor(t,n,r,s,o){this.snoguessMainService=t,this.preloadService=n,this.terminologyService=r,this.firebaseService=s,this.router=o,this.shakeState="normal",this.termGuessed="",this.goals=[],this.loadingAssetsProgress=0,this.loadingAssets=!0,this.highScoresLoading=!1,this.showInstructions=!1,this.chooseDifficulty=!1,this.currentYear=new Date,this.difficultyLevels=[],this.elapsedTime=0,this.gameInProgress=!1,this.messageForLeaderboard="",this.highScore=!1}ngOnInit(){this.game=this.snoguessMainService.getGameState(),this.difficultyLevels=this.snoguessMainService.getDifficultyLevels(),this.game.subscribe(n=>{"playing"===n.state&&(this.goals=n.rules.goals),("gameOver"===n.state||"won"===n.state)&&(this.stopTimer(),this.highScoresLoading=!0,this.firebaseService.getScores(n.difficultyLevel).then(r=>{this.highScoresLoading=!1,(!r||r.length<20||n.score>r[r.length-1].score)&&(this.highScore=!0)}))}),this.snoguessMainService.guessResult.subscribe(n=>{!1===n.result?(this.keyboard?.addGuessedLetter(n.letter,!1),this.shakeState="shake",setTimeout(()=>this.shakeState="normal",200)):this.keyboard?.addGuessedLetter(n.letter,!0)}),this.snoguessMainService.termResult.subscribe(n=>{n&&(this.keyboard?.reset(),this.termGuessed=n,setTimeout(()=>{this.termGuessed=""},2e3))}),this.preloadService.preloadImages(["assets/img/SI_CT_w_tagline.png","assets/img/snoguess-logo.png","assets/img/congratulations.png","assets/img/correct.png","assets/img/game-over.png","assets/img/instructions.png","assets/img/difficulty.png","assets/img/scoreboard.png"]).then(()=>{setTimeout(()=>{this.loadingAssets=!1,this.loadMenu()},500)}),this.preloadService.loadingProgress.subscribe(n=>{this.loadingAssetsProgress=n}),this.terminologyService.fhirUrlParam$.subscribe(n=>{n&&this.terminologyService.getCodeSystem(n).subscribe(r=>{this.selectedEdition=r?.entry[0]?.resource?.title})}),this.terminologyService.lang$.subscribe(n=>{this.selectedLanguage=n})}loadMenu(){this.snoguessMainService.loadMenu()}backToMenu(){this.chooseDifficulty=!1}showInstructionsPanel(){this.showInstructions=!0}hideInstructionsPanel(){this.showInstructions=!1}chooseDifficultyLevel(){this.chooseDifficulty=!0}startGame(t){this.chooseDifficulty=!1,this.keyboard&&this.keyboard.reset(),this.stopTimer(),this.snoguessMainService.startGame(t),this.startTimer(),this.highScore=!1}guessLetter(t){var n=this;return de(function*(){"playing"===(yield function jIt(e,i){const t="object"==typeof i;return new Promise((n,r)=>{const s=new Ho({next:o=>{n(o),s.unsubscribe()},error:r,complete:()=>{t?n(i.defaultValue):r(new Eg)}});e.subscribe(s)})}(n.game))?.state&&n.snoguessMainService.guessLetter(t)})()}revealHint(){this.snoguessMainService.revealHint()}calculateProgress(t){return Math.min(t/this.goals[this.goals.length-1].score*100,100)}calculateGoalPosition(t){return t/this.goals[this.goals.length-1].score*100}findCurrentGoal(t){if(!t||t<this.goals[0].score)return{...this.goals[0],previousGoalScore:0};for(let n=0;n<this.goals.length;n++)if(n===this.goals.length-1||t<this.goals[n+1].score)return{...this.goals[n],previousGoalScore:0===n?0:this.goals[n-1].score};return{...this.goals[this.goals.length-1],previousGoalScore:this.goals[this.goals.length-2].score}}getMaxTrophyObtained(t){let n="";return this.goals.forEach(r=>{t>=r.score&&(n=r.name)}),n}startTimer(){this.elapsedTime=0,this.gameInProgress=!0;const t=Iy(0,1e3).pipe(Di(n=>this.elapsedTime=n),YH(()=>this.gameInProgress));this.gameTimerSubscription=t.subscribe()}stopTimer(){this.gameInProgress=!1,this.gameTimerSubscription&&this.gameTimerSubscription.unsubscribe()}openScoreboard(t){t||(t=this.difficultyLevels[0].name),this.router.navigate(["/snoguess/scoreboard"],{queryParams:{level:t}})}saveScore(t){let n={score:t.score,numberOfRounds:t.round,difficulty:t.difficultyLevel,elapsed:t.endTimestamp-t.startTimestamp,date:ns.now(),message:this.messageForLeaderboard};this.firebaseService.addScore(t.difficultyLevel,n).then(()=>{this.messageForLeaderboard="",this.openScoreboard(t.difficultyLevel)}).catch(r=>{this.messageForLeaderboard="",console.error("Error saving score: ",r),this.loadMenu()})}getLanguageName(t){return{en:"English",es:"Spanish",fr:"French",de:"German",da:"Danish",nl:"Dutch",et:"Estonian",fi:"Finnish",no:"Norwegian",sv:"Swedish"}[t]||t}setLanguage(t){this.terminologyService.setLang(t),this.terminologyService.setFhirUrlParam({en:{lang:"en",fhirUrl:"http://snomed.info/sct/900000000000207008"},es:{lang:"es",fhirUrl:"http://snomed.info/sct/449081005"},fr:{lang:"fr",fhirUrl:"http://snomed.info/sct/11000241103"},de:{lang:"de",fhirUrl:"http://snomed.info/sct/11000274103"},da:{lang:"da",fhirUrl:"http://snomed.info/sct/554471000005108"},nl:{lang:"nl",fhirUrl:"http://snomed.info/sct/11000146104"},et:{lang:"et",fhirUrl:"http://snomed.info/sct/11000181102"},fi:{lang:"fi",fhirUrl:"http://snomed.info/sct/11000229106"},no:{lang:"no",fhirUrl:"http://snomed.info/sct/51000202101"},sv:{lang:"sv",fhirUrl:"http://snomed.info/sct/45991000052106"}}[t].fhirUrl)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(vK),mt(cLt),mt(da),mt(xK),mt(Fo))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-snoguess-main"]],viewQuery:function(n,r){if(1&n&&Mi(gLt,5),2&n){let s;Be(s=Ve())&&(r.keyboard=s.first)}},decls:6,vars:7,consts:[["keyboard",""],["class","snoguess-game",4,"ngIf"],[1,"text-center","mt-8","mb-4"],[1,"snoguess-game"],["class","assets-loading-container",4,"ngIf"],[4,"ngIf"],["class","flex flex-col items-center gap-4",4,"ngIf"],["class","overlay overlay-transparent",4,"ngIf"],[1,"assets-loading-container"],[1,"mt-48","mb-48"],[1,"progress-bar-message","text-center"],["mode","determinate",1,"game-progress-bar",3,"value"],[1,"flex","justify-center","mt-8","mb-8"],[1,"relative","w-1/4"],["src","assets/img/snoguess-logo.png","alt","Game Logo"],[1,"diff-label","absolute","-bottom-3","right-5","italic","text-gray-500"],[1,"hit-points"],[1,"score"],[4,"ngFor","ngForOf"],["class","term-display flex flex-row flex-wrap justify-center gap-8",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"guess-message"],[3,"letterGuessed"],[1,"game-buttons","mt-4"],["class","bg-gradient-to-b from-blue-500 to-gray-500 hover:from-black hover:to-blue-500 border-solid border-2 border-black \n      rounded-3xl pt-1 pb-1 pl-6 pr-6 w-fit text-center cursor-pointer font-bold text-white",3,"click",4,"ngIf"],["class","bg-gradient-to-b from-blue-500 to-gray-500 hover:from-black hover:to-blue-500 border-solid border-2 border-black \n        rounded-3xl pt-1 pb-1 pl-6 pr-6 w-fit text-center cursor-pointer font-bold text-white",3,"click",4,"ngIf"],["class","hints-container",4,"ngIf"],[1,"note"],[1,"score-progression-panel"],[1,"progress-bar-container"],["mode","determinate",3,"value"],[1,"term-display","flex","flex-row","flex-wrap","justify-center","gap-8"],["class","whitespace-nowrap",4,"ngFor","ngForOf"],[1,"whitespace-nowrap"],[1,"loading-container"],[1,"progress-bar-message"],["mode","indeterminate"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-2","border-black","rounded-3xl","pt-1","pb-1","pl-6","pr-6","w-fit","text-center","cursor-pointer","font-bold","text-white",3,"click"],[1,"hints-container"],[1,"hints-callout","text-center"],["class","hint-item",3,"innerHTML",4,"ngFor","ngForOf"],[1,"hint-item",3,"innerHTML"],[1,"goal-indicator"],["class","star-icon left-star",3,"ngClass","left",4,"ngIf"],[1,"trophy-icon",3,"ngClass"],["class","star-icon right-star",3,"ngClass","left",4,"ngIf"],["class","goal-name",3,"left","ngClass",4,"ngIf"],[1,"star-icon","left-star",3,"ngClass"],[1,"star-icon","right-star",3,"ngClass"],[1,"goal-name",3,"ngClass"],[1,"flex","flex-col","items-center","gap-4"],["src","assets/img/SI_CT_w_tagline.png","alt","SNOMED CT Logo",1,"w-1/6"],["src","assets/img/snoguess-logo.png","alt","Game Logo",1,"w-1/3","mt-8"],[1,"text-center","font-light","text-lg"],[1,"menu-buttons","bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-4","pr-4","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-12","text-3xl",3,"click"],[1,"menu-buttons","bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-4","pr-4","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-12","text-3xl",3,"click"],[1,"text-center","font-light","italic","text-lg"],[1,"text-center","font-light","italic","text-sm"],["mat-button","",3,"click"],["src","assets/img/difficulty.png","alt","Game Logo",1,"w-1/4","mt-8"],["class","level-container w-full flex flex-col justify-center items-center",4,"ngFor","ngForOf"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-12","pr-12","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-2","mb-8","text-3xl",3,"click"],[1,"level-container","w-full","flex","flex-col","justify-center","items-center"],[1,"menu-buttons","bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-4","pr-4","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-2","text-3xl",3,"click"],[1,"level-details","text-center","mt-3","flex","flex-row","items-center"],[1,"text-red-500","text-sm"],[1,"text-yellow-500","text-sm"],[1,"text-green-500","text-sm"],["src","assets/img/instructions.png","alt","Game Logo",1,"w-1/4","mt-8","mb-12"],[1,"text-left","instructions-text"],[1,"flex","flex-row","items-center","gap-2"],[1,"text-blue-900"],[1,"text-red-500"],[1,"text-green-500"],[1,"text-yellow-500"],[1,"text-blue-500"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-12","pr-12","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-24","text-3xl",3,"click"],[1,"overlay","overlay-transparent"],["src","assets/img/correct.png","alt","Correct",1,"w-1/5","mt-8"],["src","assets/img/game-over.png","alt","Game Logo",1,"w-1/4","mt-8"],[1,"text-xl","text-pretty","text-center"],[1,"font-bold"],[1,"mt-12"],[1,"mt-4"],["class","text-center italic text-gray-500",4,"ngIf"],["class","flex flex-col items-center gap-4 w-full",4,"ngIf"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pt-4","pb-4","w-1/6","text-center","cursor-pointer","font-bold","text-white","mt-12","text-2xl",3,"click"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pt-4","pb-4","w-1/6","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-24","text-2xl",3,"click"],[3,"ngClass"],[1,"text-center","italic","text-gray-500"],[1,"flex","flex-col","items-center","gap-4","w-full"],[1,"font-bold","text-lg","md:text-xl","text-blue-900"],["type","text","placeholder","Type your message here",1,"w-full","md:w-1/2","text-base","md:text-2xl","text-center","bg-blue-50","border-solid","border-2",3,"ngModelChange","ngModel"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-2","border-black","rounded-3xl","pl-4","pr-4","pt-1","pb-1","w-fit","text-center","cursor-pointer","font-bold","text-white","ml-4","md:text-2xl",3,"click"],[1,"text-sm","text-gray-400"],["src","assets/img/congratulations.png","alt","Game Logo",1,"w-1/3","mt-8"],[1,""],[1,"large-icon","diamond","shadow-local"],[1,"text-lg"],[1,"reveal","won"],["type","text","placeholder","Your message here",1,"w-full","md:w-1/2","text-base","md:text-lg",3,"ngModelChange","ngModel"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-2","border-black","rounded-3xl","pl-4","pr-4","pt-1","pb-1","w-fit","text-center","cursor-pointer","font-bold","text-white","ml-4",3,"click"]],template:function(n,r){1&n&&(Gt(0,ZLt,9,8,"div",1),hs(1,"async"),q(2,"div",2),ut(3),hs(4,"date"),et(),ye(5,"app-add-to-home")),2&n&&(xt("ngIf",zl(1,2,r.game)),ot(3),He(" Copyright \xa9 ",bc(4,4,r.currentYear,"yyyy")," SNOMED International\n"))},dependencies:[_c,vs,Is,Ea,ua,uP,Cl,No,$l,hLt,pLt,wI,Zd,yK],styles:[".snoguess-game[_ngcontent-%COMP%]{padding:20px;border-radius:8px;max-width:80%;margin:auto;box-shadow:0 4px 8px #0000001a;min-height:85vh!important}.term-display[_ngcontent-%COMP%]{font-size:24px;letter-spacing:4px;word-break:break-all;margin-bottom:20px;text-align:center;font-family:monospace}.term-display[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0}.hit-points[_ngcontent-%COMP%]{font-weight:700;color:#d9534f;text-align:center;margin-bottom:2rem}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}button[_ngcontent-%COMP%]{margin-right:8px}.guess-field[_ngcontent-%COMP%]{display:flex;align-items:center;vertical-align:middle;justify-content:center;gap:10px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1000}.overlay-dark[_ngcontent-%COMP%]{background-color:#00000080}.overlay-transparent[_ngcontent-%COMP%]{background-color:#0000}.message[_ngcontent-%COMP%]{font-size:4rem;text-align:center;margin-bottom:20px;font-weight:bolder}.reveal[_ngcontent-%COMP%]{font-size:2rem;text-align:center;margin-bottom:20px;font-weight:bolder}.won[_ngcontent-%COMP%]{color:#4caf50;text-shadow:black 2px 2px 2px}.lost[_ngcontent-%COMP%]{color:#f44336;text-shadow:rgb(0,0,0) 2px 2px 2px}.overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5rem;padding:10px 20px}.loading-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;margin-bottom:1rem}.progress-bar-message[_ngcontent-%COMP%]{color:#000;font-size:larger;margin-bottom:10px;font-style:italic;font-weight:lighter}.score[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700}.score-progression-panel[_ngcontent-%COMP%]{margin-top:2rem}.progress-bar-container[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem;position:relative;background-color:#e0e0e0;border-radius:5px}.goal-indicator[_ngcontent-%COMP%]{position:absolute;bottom:0;width:2px;height:10px;background-color:#000}.goal-indicator.bronze[_ngcontent-%COMP%]{background-color:#cd7f32}.goal-indicator.silver[_ngcontent-%COMP%]{background-color:silver}.goal-indicator.gold[_ngcontent-%COMP%]{background-color:gold}.goal-indicator.platinum[_ngcontent-%COMP%]{background-color:#e5e4e2}.goal-indicator.diamond[_ngcontent-%COMP%]{background-color:#3b49c4}.trophy-icon[_ngcontent-%COMP%]{position:absolute;bottom:-35px;font-size:24px;width:24px;transition:transform .3s ease}.trophy-large[_ngcontent-%COMP%]{transform:scale(2.5) translate(-2px,3px)}.bronze[_ngcontent-%COMP%]{color:#cd7f32}.silver[_ngcontent-%COMP%]{color:silver}.gold[_ngcontent-%COMP%]{color:gold}.platinum[_ngcontent-%COMP%]{color:#e5e4e2}.diamond[_ngcontent-%COMP%]{color:#3b49c4}.shadow-local[_ngcontent-%COMP%]{text-shadow:black 2px 2px 2px}.star-icon[_ngcontent-%COMP%]{position:absolute;bottom:-40px;font-size:30px;width:30px;transition:transform .3s ease}.left-star[_ngcontent-%COMP%]{transform:translate(-50px)}.right-star[_ngcontent-%COMP%]{transform:translate(30px)}.goal-name[_ngcontent-%COMP%]{position:absolute;bottom:-75px;width:100px;margin-left:-50px;text-align:center;font-size:12px;font-weight:700;color:#000}.large-icon[_ngcontent-%COMP%]{font-size:5rem;width:5rem;height:5rem}.note[_ngcontent-%COMP%]{font-size:.8rem;font-weight:lighter;margin-top:1rem;text-align:center}.hints-container[_ngcontent-%COMP%]{margin-top:1rem}.hints-callout[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem}.hint-item[_ngcontent-%COMP%]{color:#555;font-size:1em;list-style-type:none;position:relative;padding:5px 0 5px 30px}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}li[_ngcontent-%COMP%]{margin-bottom:10px;color:#666;font-size:1.2rem}.guess-message[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-size:1.2rem}.assests-loading-container[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:#fff}.game-progress-bar[_ngcontent-%COMP%]{border-radius:22px;overflow:hidden;background-color:#e0e0e0;box-shadow:0 4px 8px #0003}.game-progress-bar[_ngcontent-%COMP%]   .mat-progress-bar-fill[_ngcontent-%COMP%]:after{background-color:#4caf50;border-radius:22px}.game-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;vertical-align:middle;justify-content:center;gap:10px}.level-details[_ngcontent-%COMP%]{visibility:hidden}.level-container[_ngcontent-%COMP%]:hover   .level-details[_ngcontent-%COMP%]{visibility:visible}@media (max-width: 1300px){.menu-buttons[_ngcontent-%COMP%]{font-size:large}}@media (max-width: 876px){.snoguess-game[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .bg-gradient-to-b[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .hints-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .score-progression-panel[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .guess-field[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important;margin:0 auto;box-sizing:border-box;box-shadow:none}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]{flex-direction:column;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin-bottom:1rem}.snoguess-game[_ngcontent-%COMP%]   .goal-indicator[_ngcontent-%COMP%]{display:none}.snoguess-game[_ngcontent-%COMP%]   .hit-points[_ngcontent-%COMP%]{margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .term-display[_ngcontent-%COMP%]{font-size:20px;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .guess-message[_ngcontent-%COMP%]{font-size:12px}.snoguess-game[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:11px!important}.snoguess-game[_ngcontent-%COMP%]   .pt-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pt-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-12[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-12[_ngcontent-%COMP%]{padding:10px}.snoguess-game[_ngcontent-%COMP%]   .font-bold[_ngcontent-%COMP%]{font-size:16px}.snoguess-game[_ngcontent-%COMP%]   .diff-label[_ngcontent-%COMP%]{text-align:right}}"],data:{animation:[mr("shake",[on("normal => shake",sn(200,Kg([qe({transform:"translateX(0)"}),qe({transform:"translateX(-10px)"}),qe({transform:"translateX(10px)"}),qe({transform:"translateX(0)"})])))]),mr("popIn",[on(":enter",[qe({transform:"scale(0.8)",opacity:0}),sn("0.5s cubic-bezier(.8, -0.6, 0.2, 1.5)",qe({transform:"scale(1.3)",opacity:1})),sn("0.2s cubic-bezier(.8, -0.6, 0.2, 1.5)",qe({transform:"scale(1)",opacity:1}))])]),mr("scrollUp",[on(":enter",[qe({transform:"translateY(100%)",opacity:0}),sn("0.5s ease-out",qe({transform:"translateY(0)",opacity:1}))])]),mr("fadeInDelayed",[on(":enter",[qe({opacity:0}),sn("1s 0.5s ease-out",qe({opacity:1}))])])]}})}return e})();const qLt=()=>({});function tNt(e,i){if(1&e){const t=pe();q(0,"li")(1,"a",11),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct().findingWithExplicitContextSelected(r))}),ut(2),et()()}if(2&e){const t=i.$implicit;ot(2),Xe(t.display)}}function eNt(e,i){1&e&&(q(0,"th",20),ut(1," Type "),et())}function iNt(e,i){if(1&e&&(q(0,"td",21),ut(1),et()),2&e){const t=i.$implicit;ot(),He(" ",t.type.display," ")}}function nNt(e,i){1&e&&(q(0,"th",20),ut(1," Target "),et())}function rNt(e,i){if(1&e&&(q(0,"td",21),ut(1),et()),2&e){const t=i.$implicit;ot(),He(" ",t.target.code," ")}}function sNt(e,i){1&e&&(q(0,"th",20),ut(1," Target "),et())}function aNt(e,i){if(1&e&&(q(0,"td",21),ut(1),et()),2&e){const t=i.$implicit;ot(),He(" ",t.target.display," ")}}function oNt(e,i){1&e&&ye(0,"tr",22)}function lNt(e,i){1&e&&ye(0,"tr",23)}function cNt(e,i){if(1&e&&(q(0,"div",4)(1,"h3"),ut(2),et(),q(3,"table",12),Wi(4,13),Gt(5,eNt,2,0,"th",14)(6,iNt,2,1,"td",15),Xi(),Wi(7,16),Gt(8,nNt,2,0,"th",14)(9,rNt,2,1,"td",15),Xi(),Wi(10,17),Gt(11,sNt,2,0,"th",14)(12,aNt,2,1,"td",15),Xi(),Gt(13,oNt,1,0,"tr",18)(14,lNt,1,0,"tr",19),et()()),2&e){const t=Ct();ot(2),He("Relevant attributes (",t.selectedSituation.display,")"),ot(),xt("dataSource",t.dataSource),ot(10),xt("matHeaderRowDef",t.displayedColumns),ot(),xt("matRowDefColumns",t.displayedColumns)}}function dNt(e,i){if(1&e&&(q(0,"div",4)(1,"h3"),ut(2,"Resource Type"),et(),q(3,"a",24)(4,"span"),ut(5),et(),q(6,"mat-icon"),ut(7,"open_in_new"),et()()()),2&e){const t=Ct();ot(3),xt("href","https://hl7.org/fhir/R4/"+t.resourceType+".html",lx),ot(2),He("FHIR R4 ",t.resourceType,"")}}function uNt(e,i){if(1&e){const t=pe();q(0,"div",25)(1,"button",26),Vt("click",function(){Ut(t);const r=Ct();return zt(r.saveOutput(r.fhirRepresentationString))}),ye(2,"mat-icon",27),et(),q(3,"button",28),Vt("click",function(){Ut(t);const r=Ct();return zt(r.copyOutputToClipboard(r.fhirRepresentationString))}),ye(4,"mat-icon",29),et()()}}let hNt=(()=>{class e{constructor(t,n){this.terminologyService=t,this.clipboard=n,this.fhirRepresentationString="{}",this.situationsBinding={title:"Finding with explicit context",type:"Autocomplete",ecl:"<< 413350009 |Finding with explicit context (situation)|",value:"",note:"Select a finding with explicit context"},this.SituationConstants={KnownPresent:{code:"410515003",display:"Known present",selfAndDescendants:[]},KnownAbsent:{code:"410516002",display:"Known absent",selfAndDescendants:[]},SubjectOfRecord:{code:"410604004",display:"Subject of record",selfAndDescendants:[]},PersonInTheFamily:{code:"303071001",display:"Person in the family",selfAndDescendants:[]},InThePast:{code:"410513005",display:"In the past",selfAndDescendants:[]},CurrentOrSpecifiedTime:{code:"410512000",display:"Current or specified time",selfAndDescendants:[]},KnownPossible:{code:"410590009",display:"Known possible",selfAndDescendants:[]}},this.examples=[{code:"160377001",display:"Family history of asthma"},{code:"12147341000119108",display:"History of burn"},{code:"428942009",display:"History of fall"},{code:"300890009",display:"Swelling absent"},{code:"162057007",display:"Nausea present"},{code:"401204006",display:"Suspected autism"}],this.displayedColumns=["type","targetCode","targetDisplay"],this.dataSource=[]}ngOnInit(){this.loadOrUpdateConstants()}loadOrUpdateConstants(){var t=this;return de(function*(){let n=localStorage.getItem("SituationConstants");n?(t.SituationConstants=JSON.parse(n),console.log("Loaded constants from cache.")):(yield t.updateConstantDescendants(),localStorage.setItem("SituationConstants",JSON.stringify(t.SituationConstants)),console.log("Updated constants and cached them."))})()}updateConstantDescendants(){var t=this;return de(function*(){for(const n in t.SituationConstants)if(Object.prototype.hasOwnProperty.call(t.SituationConstants,n)){const r=t.SituationConstants[n];let s=yield Sa(t.terminologyService.expandValueSet("<< "+r.code,"",0,1e3));r.selfAndDescendants=s.expansion.contains.map(o=>o.code)}})()}convertSituationToFhir(t){var n=this;return de(function*(){n.selectedSituation=t,n.fhirRepresentation=null,n.fhirRepresentationString="Loading...",n.dataSource=[],n.resourceType=void 0;let l,b,C,D,r=yield Sa(n.terminologyService.lookupConcept(t.code)),s=n.terminologyService.getNormalForm(r);if(n.terminologyService.parseNormmalForm(s).groups.forEach(R=>{const O=R.find(W=>"408732007"===W.type.code);O&&(n.dataSource=[...n.dataSource,O],b=O.target);const L=R.find(W=>"408729009"===W.type.code);L&&(n.dataSource=[...n.dataSource,L],l=L.target);const U=R.find(W=>"408731000"===W.type.code);U&&(n.dataSource=[...n.dataSource,U],C=U.target);const X=R.find(W=>"246090004"===W.type.code);X&&(n.dataSource=[...n.dataSource,X],D=X.target)}),D){const R=n.SituationConstants.KnownPresent.selfAndDescendants.includes(l?.code),O=n.SituationConstants.SubjectOfRecord.selfAndDescendants.includes(b?.code),L=n.SituationConstants.InThePast.selfAndDescendants.includes(C?.code),U=n.SituationConstants.KnownAbsent.selfAndDescendants.includes(l?.code),X=n.SituationConstants.KnownPossible.selfAndDescendants.includes(l?.code),W=n.SituationConstants.CurrentOrSpecifiedTime.selfAndDescendants.includes(C?.code),Z=n.SituationConstants.PersonInTheFamily.selfAndDescendants.includes(b?.code);R&&O&&L?n.updateFhirRepresentation(n.createFhirCondition(D,"inactive")):R&&O&&W?n.updateFhirRepresentation(n.createFhirCondition(D,"active")):X&&O&&W?n.updateFhirRepresentation(n.createFhirCondition(D,"unconfirmed")):R&&Z?n.updateFhirRepresentation(n.createFamilyMemberHistoryForFinding(D,b)):U&&O&&W?n.updateFhirRepresentation(n.createFhirObservationForAbsentFinding(D)):n.fhirRepresentationString="No FHIR representation for this situation"}else n.fhirRepresentationString="No FHIR representation for this situation"})()}updateFhirRepresentation(t){this.fhirRepresentation=t,this.fhirRepresentationString=JSON.stringify(t,null,2)}findingWithExplicitContextSelected(t){t&&t.code&&this.convertSituationToFhir(t)}createFhirCondition(t,n){return this.resourceType="Condition",{resourceType:"Condition",subject:{reference:"Patient/1234"},clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:n}]},code:{coding:[{system:"http://snomed.info/sct",code:t.code,display:t.display}]}}}createFhirObservationForAbsentFinding(t){return this.resourceType="Observation",{resourceType:"Observation",subject:{reference:"Patient/1234"},status:"registered",code:{coding:[{system:"http://snomed.info/sct",code:t.code,display:t.display}]},valueCodeableConcept:{coding:[{system:"http://snomed.info/sct",code:"410516002",display:"Known absent"}]}}}createFamilyMemberHistoryForFinding(t,n){return this.resourceType="FamilyMemberHistory",{resourceType:"FamilyMemberHistory",status:"completed",patient:{reference:"Patient/1234"},relationship:{coding:[{system:"http://snomed.info/sct",code:n.code,display:n.display}]},condition:[{code:{coding:[{system:"http://snomed.info/sct",code:t.code,display:t.display}]}}]}}saveOutput(t){var n=new Blob([t],{type:"text/plain;charset=utf-8"});(0,hd.saveAs)(n,`${this.selectedSituation.display}-fhir.json`)}copyOutputToClipboard(t){this.clipboard.copy(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(da),mt(GR))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-situation-map"]],decls:17,vars:9,consts:[[1,"p-8"],[1,"flex","flex-wrap","gap-4"],[1,"w-1/3"],[1,"w-auto",3,"selectionChange","binding"],[1,"mt-8"],[4,"ngFor","ngForOf"],["class","mt-8",4,"ngIf"],[1,"flex-grow"],[1,"output"],["id","save",4,"ngIf"],["highlight-js","","id","output","wrap","soft",3,"options","lang","innerHTML"],["href","javascript:void(0);",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","targetCode"],["matColumnDef","targetDisplay"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["target","_blank",1,"flex","flex-row","items-center","gap-2",3,"href"],["id","save"],["mat-icon-button","","matTooltip","Download",3,"click"],["fontIcon","cloud_download"],["mat-icon-button","","matTooltip","Copy",3,"click"],["fontIcon","content_copy"]],template:function(n,r){1&n&&(q(0,"div",0)(1,"h2"),ut(2,"Consistent Context Representation for Situations with Explicit Context"),et(),q(3,"div",1)(4,"div",2)(5,"app-autocomplete-binding",3),Vt("selectionChange",function(o){return r.findingWithExplicitContextSelected(o)}),et(),q(6,"h3",4),ut(7,"Examples"),et(),q(8,"ul"),Gt(9,tNt,3,1,"li",5),et(),Gt(10,cNt,15,4,"div",6)(11,dNt,8,2,"div",6),et(),q(12,"div",7)(13,"div",8),Gt(14,uNt,5,0,"div",9),q(15,"textarea",10),ut(16,"                "),et()()()()()),2&n&&(ot(5),xt("binding",r.situationsBinding),ot(4),xt("ngForOf",r.examples),ot(),xt("ngIf",null==r.selectedSituation?null:r.selectedSituation.display),ot(),xt("ngIf",r.resourceType),ot(3),xt("ngIf",r.fhirRepresentationString.length>15),ot(),xt("options",Zo(8,qLt))("lang","json")("innerHTML",r.fhirRepresentationString,Ff))},dependencies:[vs,Is,HC,Oo,ua,Dh,pu,Mh,gu,mu,Ih,vu,xu,kh,Rh,bu,av],styles:[".output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative;margin:2rem;min-height:45rem}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}"]})}return e})(),fNt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-context-main"]],decls:1,vars:0,template:function(n,r){1&n&&ye(0,"app-situation-map")},dependencies:[hNt]})}return e})();var mNt=gs(867),pNt=gs.n(mNt);let gNt=(()=>{class e{constructor(){this.filter=new(pNt())}transform(t){return t&&this.filter.clean(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275pipe=$a({name:"safeText",type:e,pure:!0})}return e})();function vNt(e,i){if(1&e){const t=pe();q(0,"a",13),Vt("click",function(){Ut(t);const r=Ct().$implicit;return zt(Ct().setLevel(r.name))}),ut(1),et()}if(2&e){const t=Ct().$implicit;ot(),He(" ",t.name," ")}}function xNt(e,i){if(1&e&&(q(0,"span",14),ut(1),et()),2&e){const t=Ct().$implicit;ot(),Xe(t.name)}}function yNt(e,i){if(1&e&&(q(0,"span"),Gt(1,vNt,2,1,"a",7)(2,xNt,2,1,"span",8),et()),2&e){const t=i.$implicit,n=Ct();ot(),xt("ngIf",n.selectedLevel!=t.name),ot(),xt("ngIf",n.selectedLevel==t.name)}}function bNt(e,i){if(1&e){const t=pe();q(0,"a",13),Vt("click",function(){return Ut(t),zt(Ct().setLevel("scoreboard"))}),ut(1," Legacy "),et()}}function wNt(e,i){1&e&&(q(0,"span",14),ut(1,"Legacy"),et())}function _Nt(e,i){1&e&&ye(0,"mat-spinner",15)}function TNt(e,i){1&e&&(q(0,"th",28),ut(1," Position "),et())}function CNt(e,i){if(1&e&&(q(0,"td",29),ut(1),et()),2&e){const t=i.index;ot(),He(" ",t+1," ")}}function SNt(e,i){1&e&&(q(0,"th",28),ut(1," Message "),et())}function ENt(e,i){if(1&e&&(q(0,"span"),ut(1),hs(2,"safeText"),et()),2&e){const t=Ct().$implicit;ot(),Xe(zl(2,1,t.message))}}function ANt(e,i){1&e&&(q(0,"span",31)(1,"i"),ut(2,"No information available (qualifier value)"),et()())}function DNt(e,i){if(1&e&&(q(0,"td",29),Gt(1,ENt,3,3,"span",11)(2,ANt,3,0,"span",30),et()),2&e){const t=i.$implicit;ot(),xt("ngIf",t.message),ot(),xt("ngIf",!t.message)}}function MNt(e,i){1&e&&(q(0,"th",28),ut(1," Score "),et())}function INt(e,i){if(1&e&&(q(0,"td",29),ut(1),et()),2&e){const t=i.$implicit;ot(),He(" ",t.score," ")}}function kNt(e,i){1&e&&(q(0,"th",28),ut(1," Rounds "),et())}function RNt(e,i){if(1&e&&(q(0,"td",29),ut(1),et()),2&e){const t=i.$implicit;ot(),He(" ",t.numberOfRounds," ")}}function PNt(e,i){1&e&&(q(0,"th",28),ut(1," Difficulty "),et())}function FNt(e,i){if(1&e&&(q(0,"td",29),ut(1),et()),2&e){const t=i.$implicit;ot(),He(" ",t.difficulty," ")}}function ONt(e,i){1&e&&(q(0,"th",28),ut(1," Time Played "),et())}function LNt(e,i){if(1&e&&(q(0,"td",29),ut(1),hs(2,"elapsedTime"),et()),2&e){const t=i.$implicit;ot(),He(" ",zl(2,1,t.elapsed)," ")}}function NNt(e,i){1&e&&(q(0,"th",28),ut(1," Date "),et())}function BNt(e,i){if(1&e&&(q(0,"td",29),ut(1),hs(2,"date"),et()),2&e){const t=i.$implicit;ot(),He(" ",bc(2,1,t.date,"short")," ")}}function VNt(e,i){1&e&&ye(0,"tr",32)}function UNt(e,i){1&e&&ye(0,"tr",33)}function zNt(e,i){if(1&e&&(q(0,"div")(1,"table",16),Wi(2,17),Gt(3,TNt,2,0,"th",18)(4,CNt,2,1,"td",19),Xi(),Wi(5,20),Gt(6,SNt,2,0,"th",18)(7,DNt,3,2,"td",19),Xi(),Wi(8,21),Gt(9,MNt,2,0,"th",18)(10,INt,2,1,"td",19),Xi(),Wi(11,22),Gt(12,kNt,2,0,"th",18)(13,RNt,2,1,"td",19),Xi(),Wi(14,23),Gt(15,PNt,2,0,"th",18)(16,FNt,2,1,"td",19),Xi(),Wi(17,24),Gt(18,ONt,2,0,"th",18)(19,LNt,3,3,"td",19),Xi(),Wi(20,25),Gt(21,NNt,2,0,"th",18)(22,BNt,3,4,"td",19),Xi(),Gt(23,VNt,1,0,"tr",26)(24,UNt,1,0,"tr",27),et()()),2&e){const t=Ct();ot(),xt("dataSource",t.dataSource),ot(22),xt("matHeaderRowDef",t.displayedColumns),ot(),xt("matRowDefColumns",t.displayedColumns)}}let GNt=(()=>{class e{constructor(t,n,r,s){this.firebaseService=t,this.router=n,this.snoguessMainService=r,this.route=s,this.displayedColumns=["position","message","difficulty","score","numberOfRounds","secondsPlayed","date"],this.dataSource=[],this.loadingScores=!1,this.difficultyLevels=[],this.selectedLevel=""}ngOnInit(){this.difficultyLevels=this.snoguessMainService.getDifficultyLevels(),this.route.queryParams.subscribe(t=>{const n=t.level;this.selectedLevel=n&&this.difficultyLevels.some(s=>s.name===n)?n:this.difficultyLevels[0].name,this.loadScores(this.selectedLevel),t.refresh&&this.startAutoRefresh()})}ngOnDestroy(){this.stopAutoRefresh()}startAutoRefresh(){this.stopAutoRefresh(),this.intervalId=setInterval(()=>{this.loadScores(this.selectedLevel)},6e4)}stopAutoRefresh(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}setLevel(t){this.selectedLevel=t,this.loadScores(t)}loadScores(t){this.loadingScores=!0,this.firebaseService.getScores(t).then(n=>{this.dataSource=n.map(r=>({...r,date:r.date?r.date.toDate():new Date})),this.loadingScores=!1})}backToGame(){this.router.navigate(["/snoguess"])}static#t=this.\u0275fac=function(n){return new(n||e)(mt(xK),mt(Fo),mt(vK),mt(Sc))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-scoreboard"]],decls:19,vars:8,consts:[[1,"flex","flex-col","items-center","gap-4","pt-6","snoguess-game"],["src","assets/img/SI_CT_w_tagline.png","alt","SNOMED CT Logo",1,"w-1/6"],["src","assets/img/scoreboard.png","alt","High Scores",1,"w-1/4","mt-8"],[1,"mb-2","flex","flex-row","items-center","gap-1"],[1,"diamond"],[1,"mb-3","flex","flex-row","items-center","gap-3"],[4,"ngFor","ngForOf"],["href","javascript:void(0)","class","text-blue-500 underline",3,"click",4,"ngIf"],["class","selected-level",4,"ngIf"],[1,"flex","flex-row","items-center","gap-3"],["diameter","50",4,"ngIf"],[4,"ngIf"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pt-4","pb-4","w-1/6","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-24","text-2xl",3,"click"],["href","javascript:void(0)",1,"text-blue-500","underline",3,"click"],[1,"selected-level"],["diameter","50"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","message"],["matColumnDef","score"],["matColumnDef","numberOfRounds"],["matColumnDef","difficulty"],["matColumnDef","secondsPlayed"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["class","text-gray-400",4,"ngIf"],[1,"text-gray-400"],["mat-header-row",""],["mat-row",""]],template:function(n,r){1&n&&(q(0,"div",0),ye(1,"img",1)(2,"img",2),q(3,"div",3)(4,"span"),ut(5,"Messages posted by players!\xa0"),et(),q(6,"mat-icon",4),ut(7,"emoji_events"),et()(),q(8,"div",5),Gt(9,yNt,3,2,"span",6)(10,bNt,2,0,"a",7)(11,wNt,2,0,"span",8),et(),q(12,"div",9)(13,"h3"),ut(14),et()(),Gt(15,_Nt,1,0,"mat-spinner",10)(16,zNt,25,3,"div",11),q(17,"div",12),Vt("click",function(){return r.backToGame()}),ut(18," Back to game "),et()()),2&n&&(ot(2),xt("@popIn",void 0),ot(7),xt("ngForOf",r.difficultyLevels),ot(),xt("ngIf","scoreboard"!=r.selectedLevel),ot(),xt("ngIf","scoreboard"==r.selectedLevel),ot(3),He("Top 20 ",r.selectedLevel," level scores"),ot(),xt("ngIf",r.loadingScores),ot(),xt("ngIf",!r.loadingScores),ot(),xt("@scrollUp",void 0))},dependencies:[vs,Is,ua,Ah,Dh,pu,Mh,gu,mu,Ih,vu,xu,kh,Rh,Zd,yK,gNt],styles:[".diamond[_ngcontent-%COMP%]{color:#3b49c4}.snoguess-game[_ngcontent-%COMP%]{padding:20px;border-radius:8px;max-width:80%;margin:auto;box-shadow:0 4px 8px #0000001a}@media (max-width: 1300px){.menu-buttons[_ngcontent-%COMP%]{font-size:large}}@media (max-width: 876px){.snoguess-game[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .bg-gradient-to-b[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .hints-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .score-progression-panel[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .guess-field[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important;margin:0 auto;box-sizing:border-box;box-shadow:none}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]{flex-direction:column;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin-bottom:1rem}.snoguess-game[_ngcontent-%COMP%]   .goal-indicator[_ngcontent-%COMP%]{display:none}.snoguess-game[_ngcontent-%COMP%]   .hit-points[_ngcontent-%COMP%]{margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .term-display[_ngcontent-%COMP%]{font-size:20px;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .guess-message[_ngcontent-%COMP%]{font-size:12px}.snoguess-game[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:11px!important}.snoguess-game[_ngcontent-%COMP%]   .pt-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pt-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-12[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-12[_ngcontent-%COMP%]{padding:10px}.snoguess-game[_ngcontent-%COMP%]   .font-bold[_ngcontent-%COMP%]{font-size:16px}.snoguess-game[_ngcontent-%COMP%]   .diff-label[_ngcontent-%COMP%]{text-align:right}}.selected-level[_ngcontent-%COMP%]{font-weight:700}"],data:{animation:[mr("shake",[on("normal => shake",sn(200,Kg([qe({transform:"translateX(0)"}),qe({transform:"translateX(-10px)"}),qe({transform:"translateX(10px)"}),qe({transform:"translateX(0)"})])))]),mr("popIn",[on(":enter",[qe({transform:"scale(0.8)",opacity:0}),sn("0.5s cubic-bezier(.8, -0.6, 0.2, 1.5)",qe({transform:"scale(1.3)",opacity:1})),sn("0.2s cubic-bezier(.8, -0.6, 0.2, 1.5)",qe({transform:"scale(1)",opacity:1}))])]),mr("scrollUp",[on(":enter",[qe({transform:"translateY(100%)",opacity:0}),sn("0.5s ease-out",qe({transform:"translateY(0)",opacity:1}))])]),mr("fadeInDelayed",[on(":enter",[qe({opacity:0}),sn("1s 0.5s ease-out",qe({opacity:1}))])])]}})}return e})();function qv(e){return e+.5|0}const Mu=(e,i,t)=>Math.max(Math.min(e,t),i);function Vb(e){return Mu(qv(2.55*e),0,255)}function rf(e){return Mu(qv(255*e),0,255)}function Iu(e){return Mu(qv(e/2.55)/100,0,1)}function _K(e){return Mu(qv(100*e),0,100)}const Zl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},jO=[..."0123456789ABCDEF"],HNt=e=>jO[15&e],WNt=e=>jO[(240&e)>>4]+jO[15&e],rE=e=>(240&e)>>4==(15&e);const QNt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function TK(e,i,t){const n=i*Math.min(t,1-t),r=(s,o=(s+e/30)%12)=>t-n*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function KNt(e,i,t){const n=(r,s=(r+e/60)%6)=>t-t*i*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function ZNt(e,i,t){const n=TK(e,1,.5);let r;for(i+t>1&&(r=1/(i+t),i*=r,t*=r),r=0;r<3;r++)n[r]*=1-i-t,n[r]+=i;return n}function YO(e){const t=e.r/255,n=e.g/255,r=e.b/255,s=Math.max(t,n,r),o=Math.min(t,n,r),l=(s+o)/2;let b,C,D;return s!==o&&(D=s-o,C=l>.5?D/(2-s-o):D/(s+o),b=function JNt(e,i,t,n,r){return e===r?(i-t)/n+(i<t?6:0):i===r?(t-e)/n+2:(e-i)/n+4}(t,n,r,D,s),b=60*b+.5),[0|b,C||0,l]}function $O(e,i,t,n){return(Array.isArray(i)?e(i[0],i[1],i[2]):e(i,t,n)).map(rf)}function QO(e,i,t){return $O(TK,e,i,t)}function CK(e){return(e%360+360)%360}const SK={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},EK={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let sE;const a4t=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,KO=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,t0=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function aE(e,i,t){if(e){let n=YO(e);n[i]=Math.max(0,Math.min(n[i]+n[i]*t,0===i?360:1)),n=QO(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function AK(e,i){return e&&Object.assign(i||{},e)}function DK(e){var i={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(i={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(i.a=rf(e[3]))):(i=AK(e,{r:0,g:0,b:0,a:1})).a=rf(i.a),i}function d4t(e){return"r"===e.charAt(0)?function o4t(e){const i=a4t.exec(e);let n,r,s,t=255;if(i){if(i[7]!==n){const o=+i[7];t=i[8]?Vb(o):Mu(255*o,0,255)}return n=+i[1],r=+i[3],s=+i[5],n=255&(i[2]?Vb(n):Mu(n,0,255)),r=255&(i[4]?Vb(r):Mu(r,0,255)),s=255&(i[6]?Vb(s):Mu(s,0,255)),{r:n,g:r,b:s,a:t}}}(e):function e4t(e){const i=QNt.exec(e);let n,t=255;if(!i)return;i[5]!==n&&(t=i[6]?Vb(+i[5]):rf(+i[5]));const r=CK(+i[2]),s=+i[3]/100,o=+i[4]/100;return n="hwb"===i[1]?function qNt(e,i,t){return $O(ZNt,e,i,t)}(r,s,o):"hsv"===i[1]?function t4t(e,i,t){return $O(KNt,e,i,t)}(r,s,o):QO(r,s,o),{r:n[0],g:n[1],b:n[2],a:t}}(e)}class e0{constructor(i){if(i instanceof e0)return i;const t=typeof i;let n;"object"===t?n=DK(i):"string"===t&&(n=function jNt(e){var t,i=e.length;return"#"===e[0]&&(4===i||5===i?t={r:255&17*Zl[e[1]],g:255&17*Zl[e[2]],b:255&17*Zl[e[3]],a:5===i?17*Zl[e[4]]:255}:(7===i||9===i)&&(t={r:Zl[e[1]]<<4|Zl[e[2]],g:Zl[e[3]]<<4|Zl[e[4]],b:Zl[e[5]]<<4|Zl[e[6]],a:9===i?Zl[e[7]]<<4|Zl[e[8]]:255})),t}(i)||function s4t(e){sE||(sE=function r4t(){const e={},i=Object.keys(EK),t=Object.keys(SK);let n,r,s,o,l;for(n=0;n<i.length;n++){for(o=l=i[n],r=0;r<t.length;r++)s=t[r],l=l.replace(s,SK[s]);s=parseInt(EK[o],16),e[l]=[s>>16&255,s>>8&255,255&s]}return e}(),sE.transparent=[0,0,0,0]);const i=sE[e.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:4===i.length?i[3]:255}}(i)||d4t(i)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var i=AK(this._rgb);return i&&(i.a=Iu(i.a)),i}set rgb(i){this._rgb=DK(i)}rgbString(){return this._valid?function l4t(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Iu(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?function $Nt(e){var i=(e=>rE(e.r)&&rE(e.g)&&rE(e.b)&&rE(e.a))(e)?HNt:WNt;return e?"#"+i(e.r)+i(e.g)+i(e.b)+((e,i)=>e<255?i(e):"")(e.a,i):void 0}(this._rgb):void 0}hslString(){return this._valid?function n4t(e){if(!e)return;const i=YO(e),t=i[0],n=_K(i[1]),r=_K(i[2]);return e.a<255?`hsla(${t}, ${n}%, ${r}%, ${Iu(e.a)})`:`hsl(${t}, ${n}%, ${r}%)`}(this._rgb):void 0}mix(i,t){if(i){const n=this.rgb,r=i.rgb;let s;const o=t===s?.5:t,l=2*o-1,b=n.a-r.a,C=((l*b==-1?l:(l+b)/(1+l*b))+1)/2;s=1-C,n.r=255&C*n.r+s*r.r+.5,n.g=255&C*n.g+s*r.g+.5,n.b=255&C*n.b+s*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(i,t){return i&&(this._rgb=function c4t(e,i,t){const n=t0(Iu(e.r)),r=t0(Iu(e.g)),s=t0(Iu(e.b));return{r:rf(KO(n+t*(t0(Iu(i.r))-n))),g:rf(KO(r+t*(t0(Iu(i.g))-r))),b:rf(KO(s+t*(t0(Iu(i.b))-s))),a:e.a+t*(i.a-e.a)}}(this._rgb,i._rgb,t)),this}clone(){return new e0(this.rgb)}alpha(i){return this._rgb.a=rf(i),this}clearer(i){return this._rgb.a*=1-i,this}greyscale(){const i=this._rgb,t=qv(.3*i.r+.59*i.g+.11*i.b);return i.r=i.g=i.b=t,this}opaquer(i){return this._rgb.a*=1+i,this}negate(){const i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return aE(this._rgb,2,i),this}darken(i){return aE(this._rgb,2,-i),this}saturate(i){return aE(this._rgb,1,i),this}desaturate(i){return aE(this._rgb,1,-i),this}rotate(i){return function i4t(e,i){var t=YO(e);t[0]=CK(t[0]+i),t=QO(t),e.r=t[0],e.g=t[1],e.b=t[2]}(this._rgb,i),this}}function ku(){}const u4t=(()=>{let e=0;return()=>e++})();function Zn(e){return null==e}function Qr(e){if(Array.isArray&&Array.isArray(e))return!0;const i=Object.prototype.toString.call(e);return"[object"===i.slice(0,7)&&"Array]"===i.slice(-6)}function Un(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function ws(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function Ml(e,i){return ws(e)?e:i}function mn(e,i){return typeof e>"u"?i:e}const MK=(e,i)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*i:+e;function Gr(e,i,t){if(e&&"function"==typeof e.call)return e.apply(t,i)}function _r(e,i,t,n){let r,s,o;if(Qr(e))if(s=e.length,n)for(r=s-1;r>=0;r--)i.call(t,e[r],r);else for(r=0;r<s;r++)i.call(t,e[r],r);else if(Un(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)i.call(t,e[o[r]],o[r])}function oE(e,i){let t,n,r,s;if(!e||!i||e.length!==i.length)return!1;for(t=0,n=e.length;t<n;++t)if(r=e[t],s=i[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function lE(e){if(Qr(e))return e.map(lE);if(Un(e)){const i=Object.create(null),t=Object.keys(e),n=t.length;let r=0;for(;r<n;++r)i[t[r]]=lE(e[t[r]]);return i}return e}function IK(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function f4t(e,i,t,n){if(!IK(e))return;const r=i[e],s=t[e];Un(r)&&Un(s)?Ub(r,s,n):i[e]=lE(s)}function Ub(e,i,t){const n=Qr(i)?i:[i],r=n.length;if(!Un(e))return e;const s=(t=t||{}).merger||f4t;let o;for(let l=0;l<r;++l){if(o=n[l],!Un(o))continue;const b=Object.keys(o);for(let C=0,D=b.length;C<D;++C)s(b[C],e,o,t)}return e}function zb(e,i){return Ub(e,i,{merger:m4t})}function m4t(e,i,t){if(!IK(e))return;const n=i[e],r=t[e];Un(n)&&Un(r)?zb(n,r):Object.prototype.hasOwnProperty.call(i,e)||(i[e]=lE(r))}const kK={"":e=>e,x:e=>e.x,y:e=>e.y};function sf(e,i){return(kK[i]||(kK[i]=function g4t(e){const i=function p4t(e){const i=e.split("."),t=[];let n="";for(const r of i)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}(e);return t=>{for(const n of i){if(""===n)break;t=t&&t[n]}return t}}(i)))(e)}function ZO(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Gb=e=>typeof e<"u",af=e=>"function"==typeof e,RK=(e,i)=>{if(e.size!==i.size)return!1;for(const t of e)if(!i.has(t))return!1;return!0},Kr=Math.PI,Zr=2*Kr,x4t=Zr+Kr,cE=Number.POSITIVE_INFINITY,y4t=Kr/180,Ns=Kr/2,Fm=Kr/4,PK=2*Kr/3,lf=Math.log10,yd=Math.sign;function Hb(e,i,t){return Math.abs(e-i)<t}function FK(e){const i=Math.round(e);e=Hb(e,i,e/1e3)?i:e;const t=Math.pow(10,Math.floor(lf(e))),n=e/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function n0(e){return!isNaN(parseFloat(e))&&isFinite(e)}function OK(e,i,t){let n,r,s;for(n=0,r=e.length;n<r;n++)s=e[n][t],isNaN(s)||(i.min=Math.min(i.min,s),i.max=Math.max(i.max,s))}function Mc(e){return e*(Kr/180)}function JO(e){return e*(180/Kr)}function LK(e){if(!ws(e))return;let i=1,t=0;for(;Math.round(e*i)/i!==e;)i*=10,t++;return t}function NK(e,i){const t=i.x-e.x,n=i.y-e.y,r=Math.sqrt(t*t+n*n);let s=Math.atan2(n,t);return s<-.5*Kr&&(s+=Zr),{angle:s,distance:r}}function qO(e,i){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function _4t(e,i){return(e-i+x4t)%Zr-Kr}function Il(e){return(e%Zr+Zr)%Zr}function Wb(e,i,t,n){const r=Il(e),s=Il(i),o=Il(t),l=Il(s-r),b=Il(o-r),C=Il(r-s),D=Il(r-o);return r===s||r===o||n&&s===o||l>b&&C<D}function Ia(e,i,t){return Math.max(i,Math.min(t,e))}function Ru(e,i,t,n=1e-6){return e>=Math.min(i,t)-n&&e<=Math.max(i,t)+n}function tL(e,i,t){t=t||(o=>e[o]<i);let s,n=e.length-1,r=0;for(;n-r>1;)s=r+n>>1,t(s)?r=s:n=s;return{lo:r,hi:n}}const Pu=(e,i,t,n)=>tL(e,t,n?r=>{const s=e[r][i];return s<t||s===t&&e[r+1][i]===t}:r=>e[r][i]<t),C4t=(e,i,t)=>tL(e,t,n=>e[n][i]>=t),BK=["push","pop","shift","splice","unshift"];function VK(e,i){const t=e._chartjs;if(!t)return;const n=t.listeners,r=n.indexOf(i);-1!==r&&n.splice(r,1),!(n.length>0)&&(BK.forEach(s=>{delete e[s]}),delete e._chartjs)}function UK(e){const i=new Set(e);return i.size===e.length?e:Array.from(i)}const zK=typeof window>"u"?function(e){return e()}:window.requestAnimationFrame;function GK(e,i){let t=[],n=!1;return function(...r){t=r,n||(n=!0,zK.call(window,()=>{n=!1,e.apply(i,t)}))}}const eL=e=>"start"===e?"left":"end"===e?"right":"center",lo=(e,i,t)=>"start"===e?i:"end"===e?t:(i+t)/2;function HK(e,i,t){const n=i.length;let r=0,s=n;if(e._sorted){const{iScale:o,_parsed:l}=e,b=o.axis,{min:C,max:D,minDefined:R,maxDefined:O}=o.getUserBounds();R&&(r=Ia(Math.min(Pu(l,b,C).lo,t?n:Pu(i,b,o.getPixelForValue(C)).lo),0,n-1)),s=O?Ia(Math.max(Pu(l,o.axis,D,!0).hi+1,t?0:Pu(i,b,o.getPixelForValue(D),!0).hi+1),r,n)-r:n-r}return{start:r,count:s}}function WK(e){const{xScale:i,yScale:t,_scaleRanges:n}=e,r={xmin:i.min,xmax:i.max,ymin:t.min,ymax:t.max};if(!n)return e._scaleRanges=r,!0;const s=n.xmin!==i.min||n.xmax!==i.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,r),s}const dE=e=>0===e||1===e,XK=(e,i,t)=>-Math.pow(2,10*(e-=1))*Math.sin((e-i)*Zr/t),jK=(e,i,t)=>Math.pow(2,-10*e)*Math.sin((e-i)*Zr/t)+1,Xb={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Ns),easeOutSine:e=>Math.sin(e*Ns),easeInOutSine:e=>-.5*(Math.cos(Kr*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>dE(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>dE(e)?e:XK(e,.075,.3),easeOutElastic:e=>dE(e)?e:jK(e,.075,.3),easeInOutElastic:e=>dE(e)?e:e<.5?.5*XK(2*e,.1125,.45):.5+.5*jK(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let i=1.70158;return(e/=.5)<1?e*e*((1+(i*=1.525))*e-i)*.5:.5*((e-=2)*e*((1+(i*=1.525))*e+i)+2)},easeInBounce:e=>1-Xb.easeOutBounce(1-e),easeOutBounce:e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,easeInOutBounce:e=>e<.5?.5*Xb.easeInBounce(2*e):.5*Xb.easeOutBounce(2*e-1)+.5};function iL(e){if(e&&"object"==typeof e){const i=e.toString();return"[object CanvasPattern]"===i||"[object CanvasGradient]"===i}return!1}function YK(e){return iL(e)?e:new e0(e)}function nL(e){return iL(e)?e:new e0(e).saturate(.5).darken(.1).hexString()}const M4t=["x","y","borderWidth","radius","tension"],I4t=["color","borderColor","backgroundColor"],$K=new Map;function jb(e,i,t){return function P4t(e,i){i=i||{};const t=e+JSON.stringify(i);let n=$K.get(t);return n||(n=new Intl.NumberFormat(e,i),$K.set(t,n)),n}(i,t).format(e)}const QK={values:e=>Qr(e)?e:""+e,numeric(e,i,t){if(0===e)return"0";const n=this.chart.options.locale;let r,s=e;if(t.length>1){const C=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(C<1e-4||C>1e15)&&(r="scientific"),s=function F4t(e,i){let t=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(t)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),t}(e,t)}const o=lf(Math.abs(s)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),b={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(b,this.options.ticks.format),jb(e,n,b)},logarithmic(e,i,t){if(0===e)return"0";const n=t[i].significand||e/Math.pow(10,Math.floor(lf(e)));return[1,2,3,5,10,15].includes(n)||i>.8*t.length?QK.numeric.call(this,e,i,t):""}};var uE={formatters:QK};const Om=Object.create(null),rL=Object.create(null);function Yb(e,i){if(!i)return e;const t=i.split(".");for(let n=0,r=t.length;n<r;++n){const s=t[n];e=e[s]||(e[s]=Object.create(null))}return e}function sL(e,i,t){return"string"==typeof i?Ub(Yb(e,i),t):Ub(Yb(e,""),i)}class L4t{constructor(i,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>nL(r.backgroundColor),this.hoverBorderColor=(n,r)=>nL(r.borderColor),this.hoverColor=(n,r)=>nL(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i),this.apply(t)}set(i,t){return sL(this,i,t)}get(i){return Yb(this,i)}describe(i,t){return sL(rL,i,t)}override(i,t){return sL(Om,i,t)}route(i,t,n,r){const s=Yb(this,i),o=Yb(this,n),l="_"+t;Object.defineProperties(s,{[l]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const b=this[l],C=o[r];return Un(b)?Object.assign({},C,b):mn(b,C)},set(b){this[l]=b}}})}apply(i){i.forEach(t=>t(this))}}var as=new L4t({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function k4t(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:i=>"onProgress"!==i&&"onComplete"!==i&&"fn"!==i}),e.set("animations",{colors:{type:"color",properties:I4t},numbers:{type:"number",properties:M4t}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:i=>0|i}}}})},function R4t(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function O4t(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(i,t)=>t.lineWidth,tickColor:(i,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:uE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:i=>!i.startsWith("before")&&!i.startsWith("after")&&"callback"!==i&&"parser"!==i,_indexable:i=>"borderDash"!==i&&"tickBorderDash"!==i&&"dash"!==i}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:i=>"backdropPadding"!==i&&"callback"!==i,_indexable:i=>"backdropPadding"!==i})}]);function hE(e,i,t,n,r){let s=i[r];return s||(s=i[r]=e.measureText(r).width,t.push(r)),s>n&&(n=s),n}function B4t(e,i,t,n){let r=(n=n||{}).data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==i&&(r=n.data={},s=n.garbageCollect=[],n.font=i),e.save(),e.font=i;let o=0;const l=t.length;let b,C,D,R,O;for(b=0;b<l;b++)if(R=t[b],null==R||Qr(R)){if(Qr(R))for(C=0,D=R.length;C<D;C++)O=R[C],null!=O&&!Qr(O)&&(o=hE(e,r,s,o,O))}else o=hE(e,r,s,o,R);e.restore();const L=s.length/2;if(L>t.length){for(b=0;b<L;b++)delete r[s[b]];s.splice(0,L)}return o}function Lm(e,i,t){const n=e.currentDevicePixelRatio,r=0!==t?Math.max(t/2,.5):0;return Math.round((i-r)*n)/n+r}function KK(e,i){!i&&!e||((i=i||e.getContext("2d")).save(),i.resetTransform(),i.clearRect(0,0,e.width,e.height),i.restore())}function aL(e,i,t,n){ZK(e,i,t,n,null)}function ZK(e,i,t,n,r){let s,o,l,b,C,D,R,O;const L=i.pointStyle,U=i.rotation,X=i.radius;let W=(U||0)*y4t;if(L&&"object"==typeof L&&(s=L.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(t,n),e.rotate(W),e.drawImage(L,-L.width/2,-L.height/2,L.width,L.height),void e.restore();if(!(isNaN(X)||X<=0)){switch(e.beginPath(),L){default:r?e.ellipse(t,n,r/2,X,0,0,Zr):e.arc(t,n,X,0,Zr),e.closePath();break;case"triangle":D=r?r/2:X,e.moveTo(t+Math.sin(W)*D,n-Math.cos(W)*X),W+=PK,e.lineTo(t+Math.sin(W)*D,n-Math.cos(W)*X),W+=PK,e.lineTo(t+Math.sin(W)*D,n-Math.cos(W)*X),e.closePath();break;case"rectRounded":C=.516*X,b=X-C,o=Math.cos(W+Fm)*b,R=Math.cos(W+Fm)*(r?r/2-C:b),l=Math.sin(W+Fm)*b,O=Math.sin(W+Fm)*(r?r/2-C:b),e.arc(t-R,n-l,C,W-Kr,W-Ns),e.arc(t+O,n-o,C,W-Ns,W),e.arc(t+R,n+l,C,W,W+Ns),e.arc(t-O,n+o,C,W+Ns,W+Kr),e.closePath();break;case"rect":if(!U){b=Math.SQRT1_2*X,D=r?r/2:b,e.rect(t-D,n-b,2*D,2*b);break}W+=Fm;case"rectRot":R=Math.cos(W)*(r?r/2:X),o=Math.cos(W)*X,l=Math.sin(W)*X,O=Math.sin(W)*(r?r/2:X),e.moveTo(t-R,n-l),e.lineTo(t+O,n-o),e.lineTo(t+R,n+l),e.lineTo(t-O,n+o),e.closePath();break;case"crossRot":W+=Fm;case"cross":R=Math.cos(W)*(r?r/2:X),o=Math.cos(W)*X,l=Math.sin(W)*X,O=Math.sin(W)*(r?r/2:X),e.moveTo(t-R,n-l),e.lineTo(t+R,n+l),e.moveTo(t+O,n-o),e.lineTo(t-O,n+o);break;case"star":R=Math.cos(W)*(r?r/2:X),o=Math.cos(W)*X,l=Math.sin(W)*X,O=Math.sin(W)*(r?r/2:X),e.moveTo(t-R,n-l),e.lineTo(t+R,n+l),e.moveTo(t+O,n-o),e.lineTo(t-O,n+o),W+=Fm,R=Math.cos(W)*(r?r/2:X),o=Math.cos(W)*X,l=Math.sin(W)*X,O=Math.sin(W)*(r?r/2:X),e.moveTo(t-R,n-l),e.lineTo(t+R,n+l),e.moveTo(t+O,n-o),e.lineTo(t-O,n+o);break;case"line":o=r?r/2:Math.cos(W)*X,l=Math.sin(W)*X,e.moveTo(t-o,n-l),e.lineTo(t+o,n+l);break;case"dash":e.moveTo(t,n),e.lineTo(t+Math.cos(W)*(r?r/2:X),n+Math.sin(W)*X);break;case!1:e.closePath()}e.fill(),i.borderWidth>0&&e.stroke()}}function Fu(e,i,t){return t=t||.5,!i||e&&e.x>i.left-t&&e.x<i.right+t&&e.y>i.top-t&&e.y<i.bottom+t}function fE(e,i){e.save(),e.beginPath(),e.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),e.clip()}function mE(e){e.restore()}function V4t(e,i,t,n,r){if(!i)return e.lineTo(t.x,t.y);if("middle"===r){const s=(i.x+t.x)/2;e.lineTo(s,i.y),e.lineTo(s,t.y)}else"after"===r!=!!n?e.lineTo(i.x,t.y):e.lineTo(t.x,i.y);e.lineTo(t.x,t.y)}function U4t(e,i,t,n){if(!i)return e.lineTo(t.x,t.y);e.bezierCurveTo(n?i.cp1x:i.cp2x,n?i.cp1y:i.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function G4t(e,i,t,n,r){if(r.strikethrough||r.underline){const s=e.measureText(n),o=i-s.actualBoundingBoxLeft,l=i+s.actualBoundingBoxRight,C=t+s.actualBoundingBoxDescent,D=r.strikethrough?(t-s.actualBoundingBoxAscent+C)/2:C;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,D),e.lineTo(l,D),e.stroke()}}function H4t(e,i){const t=e.fillStyle;e.fillStyle=i.color,e.fillRect(i.left,i.top,i.width,i.height),e.fillStyle=t}function Nm(e,i,t,n,r,s={}){const o=Qr(i)?i:[i],l=s.strokeWidth>0&&""!==s.strokeColor;let b,C;for(e.save(),e.font=r.string,function z4t(e,i){i.translation&&e.translate(i.translation[0],i.translation[1]),Zn(i.rotation)||e.rotate(i.rotation),i.color&&(e.fillStyle=i.color),i.textAlign&&(e.textAlign=i.textAlign),i.textBaseline&&(e.textBaseline=i.textBaseline)}(e,s),b=0;b<o.length;++b)C=o[b],s.backdrop&&H4t(e,s.backdrop),l&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Zn(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(C,t,n,s.maxWidth)),e.fillText(C,t,n,s.maxWidth),G4t(e,t,n,C,s),n+=Number(r.lineHeight);e.restore()}function $b(e,i){const{x:t,y:n,w:r,h:s,radius:o}=i;e.arc(t+o.topLeft,n+o.topLeft,o.topLeft,1.5*Kr,Kr,!0),e.lineTo(t,n+s-o.bottomLeft),e.arc(t+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,Kr,Ns,!0),e.lineTo(t+r-o.bottomRight,n+s),e.arc(t+r-o.bottomRight,n+s-o.bottomRight,o.bottomRight,Ns,0,!0),e.lineTo(t+r,n+o.topRight),e.arc(t+r-o.topRight,n+o.topRight,o.topRight,0,-Ns,!0),e.lineTo(t+o.topLeft,n)}const W4t=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,X4t=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function j4t(e,i){const t=(""+e).match(W4t);if(!t||"normal"===t[1])return 1.2*i;switch(e=+t[2],t[3]){case"px":return e;case"%":e/=100}return i*e}const Y4t=e=>+e||0;function oL(e,i){const t={},n=Un(i),r=n?Object.keys(i):i,s=Un(e)?n?o=>mn(e[o],e[i[o]]):o=>e[o]:()=>e;for(const o of r)t[o]=Y4t(s(o));return t}function JK(e){return oL(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Bm(e){return oL(e,["topLeft","topRight","bottomLeft","bottomRight"])}function co(e){const i=JK(e);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function pa(e,i){let t=mn((e=e||{}).size,(i=i||as.font).size);"string"==typeof t&&(t=parseInt(t,10));let n=mn(e.style,i.style);n&&!(""+n).match(X4t)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:mn(e.family,i.family),lineHeight:j4t(mn(e.lineHeight,i.lineHeight),t),size:t,style:n,weight:mn(e.weight,i.weight),string:""};return r.string=function N4t(e){return!e||Zn(e.size)||Zn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function Qb(e,i,t,n){let s,o,l,r=!0;for(s=0,o=e.length;s<o;++s)if(l=e[s],void 0!==l&&(void 0!==i&&"function"==typeof l&&(l=l(i),r=!1),void 0!==t&&Qr(l)&&(l=l[t%l.length],r=!1),void 0!==l))return n&&!r&&(n.cacheable=!1),l}function cf(e,i){return Object.assign(Object.create(e),i)}function lL(e,i=[""],t,n,r=(()=>e[0])){const s=t||e;typeof n>"u"&&(n=nZ("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:n,_getTarget:r,override:l=>lL([l,...e],i,s,n)};return new Proxy(o,{deleteProperty:(l,b)=>(delete l[b],delete l._keys,delete e[0][b],!0),get:(l,b)=>tZ(l,b,()=>function i3t(e,i,t,n){let r;for(const s of i)if(r=nZ(Q4t(s,e),t),typeof r<"u")return cL(e,r)?dL(t,n,e,r):r}(b,i,e,l)),getOwnPropertyDescriptor:(l,b)=>Reflect.getOwnPropertyDescriptor(l._scopes[0],b),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(l,b)=>rZ(l).includes(b),ownKeys:l=>rZ(l),set(l,b,C){const D=l._storage||(l._storage=r());return l[b]=D[b]=C,delete l._keys,!0}})}function r0(e,i,t,n){const r={_cacheable:!1,_proxy:e,_context:i,_subProxy:t,_stack:new Set,_descriptors:qK(e,n),setContext:s=>r0(e,s,t,n),override:s=>r0(e.override(s),i,t,n)};return new Proxy(r,{deleteProperty:(s,o)=>(delete s[o],delete e[o],!0),get:(s,o,l)=>tZ(s,o,()=>function K4t(e,i,t){const{_proxy:n,_context:r,_subProxy:s,_descriptors:o}=e;let l=n[i];return af(l)&&o.isScriptable(i)&&(l=function Z4t(e,i,t,n){const{_proxy:r,_context:s,_subProxy:o,_stack:l}=t;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let b=i(s,o||n);return l.delete(e),cL(e,b)&&(b=dL(r._scopes,r,e,b)),b}(i,l,e,t)),Qr(l)&&l.length&&(l=function J4t(e,i,t,n){const{_proxy:r,_context:s,_subProxy:o,_descriptors:l}=t;if(typeof s.index<"u"&&n(e))return i[s.index%i.length];if(Un(i[0])){const b=i,C=r._scopes.filter(D=>D!==b);i=[];for(const D of b){const R=dL(C,r,e,D);i.push(r0(R,s,o&&o[e],l))}}return i}(i,l,e,o.isIndexable)),cL(i,l)&&(l=r0(l,r,s&&s[i],o)),l}(s,o,l)),getOwnPropertyDescriptor:(s,o)=>s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(s,o)=>Reflect.has(e,o),ownKeys:()=>Reflect.ownKeys(e),set:(s,o,l)=>(e[o]=l,delete s[o],!0)})}function qK(e,i={scriptable:!0,indexable:!0}){const{_scriptable:t=i.scriptable,_indexable:n=i.indexable,_allKeys:r=i.allKeys}=e;return{allKeys:r,scriptable:t,indexable:n,isScriptable:af(t)?t:()=>t,isIndexable:af(n)?n:()=>n}}const Q4t=(e,i)=>e?e+ZO(i):i,cL=(e,i)=>Un(i)&&"adapters"!==e&&(null===Object.getPrototypeOf(i)||i.constructor===Object);function tZ(e,i,t){if(Object.prototype.hasOwnProperty.call(e,i)||"constructor"===i)return e[i];const n=t();return e[i]=n,n}function eZ(e,i,t){return af(e)?e(i,t):e}const q4t=(e,i)=>!0===e?i:"string"==typeof e?sf(i,e):void 0;function t3t(e,i,t,n,r){for(const s of i){const o=q4t(t,s);if(o){e.add(o);const l=eZ(o._fallback,t,r);if(typeof l<"u"&&l!==t&&l!==n)return l}else if(!1===o&&typeof n<"u"&&t!==n)return null}return!1}function dL(e,i,t,n){const r=i._rootScopes,s=eZ(i._fallback,t,n),o=[...e,...r],l=new Set;l.add(n);let b=iZ(l,o,t,s||t,n);return!(null===b||typeof s<"u"&&s!==t&&(b=iZ(l,o,s,b,n),null===b))&&lL(Array.from(l),[""],r,s,()=>function e3t(e,i,t){const n=e._getTarget();i in n||(n[i]={});const r=n[i];return Qr(r)&&Un(t)?t:r||{}}(i,t,n))}function iZ(e,i,t,n,r){for(;t;)t=t3t(e,i,t,n,r);return t}function nZ(e,i){for(const t of i){if(!t)continue;const n=t[e];if(typeof n<"u")return n}}function rZ(e){let i=e._keys;return i||(i=e._keys=function n3t(e){const i=new Set;for(const t of e)for(const n of Object.keys(t).filter(r=>!r.startsWith("_")))i.add(n);return Array.from(i)}(e._scopes)),i}function sZ(e,i,t,n){const{iScale:r}=e,{key:s="r"}=this._parsing,o=new Array(n);let l,b,C,D;for(l=0,b=n;l<b;++l)C=l+t,D=i[C],o[l]={r:r.parse(sf(D,s),C)};return o}const r3t=Number.EPSILON||1e-14,s0=(e,i)=>i<e.length&&!e[i].skip&&e[i],aZ=e=>"x"===e?"y":"x";function s3t(e,i,t,n){const r=e.skip?i:e,s=i,o=t.skip?i:t,l=qO(s,r),b=qO(o,s);let C=l/(l+b),D=b/(l+b);C=isNaN(C)?0:C,D=isNaN(D)?0:D;const R=n*C,O=n*D;return{previous:{x:s.x-R*(o.x-r.x),y:s.y-R*(o.y-r.y)},next:{x:s.x+O*(o.x-r.x),y:s.y+O*(o.y-r.y)}}}function pE(e,i,t){return Math.max(Math.min(e,t),i)}function d3t(e,i,t,n,r){let s,o,l,b;if(i.spanGaps&&(e=e.filter(C=>!C.skip)),"monotone"===i.cubicInterpolationMode)!function l3t(e,i="x"){const t=aZ(i),n=e.length,r=Array(n).fill(0),s=Array(n);let o,l,b,C=s0(e,0);for(o=0;o<n;++o)if(l=b,b=C,C=s0(e,o+1),b){if(C){const D=C[i]-b[i];r[o]=0!==D?(C[t]-b[t])/D:0}s[o]=l?C?yd(r[o-1])!==yd(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}(function a3t(e,i,t){const n=e.length;let r,s,o,l,b,C=s0(e,0);for(let D=0;D<n-1;++D)if(b=C,C=s0(e,D+1),b&&C){if(Hb(i[D],0,r3t)){t[D]=t[D+1]=0;continue}r=t[D]/i[D],s=t[D+1]/i[D],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(o=3/Math.sqrt(l),t[D]=r*o*i[D],t[D+1]=s*o*i[D])}})(e,r,s),function o3t(e,i,t="x"){const n=aZ(t),r=e.length;let s,o,l,b=s0(e,0);for(let C=0;C<r;++C){if(o=l,l=b,b=s0(e,C+1),!l)continue;const D=l[t],R=l[n];o&&(s=(D-o[t])/3,l[`cp1${t}`]=D-s,l[`cp1${n}`]=R-s*i[C]),b&&(s=(b[t]-D)/3,l[`cp2${t}`]=D+s,l[`cp2${n}`]=R+s*i[C])}}(e,s,i)}(e,r);else{let C=n?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)l=e[s],b=s3t(C,l,e[Math.min(s+1,o-(n?0:1))%o],i.tension),l.cp1x=b.previous.x,l.cp1y=b.previous.y,l.cp2x=b.next.x,l.cp2y=b.next.y,C=l}i.capBezierPoints&&function c3t(e,i){let t,n,r,s,o,l=Fu(e[0],i);for(t=0,n=e.length;t<n;++t)o=s,s=l,l=t<n-1&&Fu(e[t+1],i),s&&(r=e[t],o&&(r.cp1x=pE(r.cp1x,i.left,i.right),r.cp1y=pE(r.cp1y,i.top,i.bottom)),l&&(r.cp2x=pE(r.cp2x,i.left,i.right),r.cp2y=pE(r.cp2y,i.top,i.bottom)))}(e,t)}function uL(){return typeof window<"u"&&typeof document<"u"}function hL(e){let i=e.parentNode;return i&&"[object ShadowRoot]"===i.toString()&&(i=i.host),i}function gE(e,i,t){let n;return"string"==typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*i.parentNode[t])):n=e,n}const vE=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),h3t=["top","right","bottom","left"];function Vm(e,i,t){const n={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=h3t[r];n[s]=parseFloat(e[i+"-"+s+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const f3t=(e,i,t)=>(e>0||i>0)&&(!t||!t.shadowRoot);function Um(e,i){if("native"in e)return e;const{canvas:t,currentDevicePixelRatio:n}=i,r=vE(t),s="border-box"===r.boxSizing,o=Vm(r,"padding"),l=Vm(r,"border","width"),{x:b,y:C,box:D}=function m3t(e,i){const t=e.touches,n=t&&t.length?t[0]:e,{offsetX:r,offsetY:s}=n;let l,b,o=!1;if(f3t(r,s,e.target))l=r,b=s;else{const C=i.getBoundingClientRect();l=n.clientX-C.left,b=n.clientY-C.top,o=!0}return{x:l,y:b,box:o}}(e,t),R=o.left+(D&&l.left),O=o.top+(D&&l.top);let{width:L,height:U}=i;return s&&(L-=o.width+l.width,U-=o.height+l.height),{x:Math.round((b-R)/L*t.width/n),y:Math.round((C-O)/U*t.height/n)}}const xE=e=>Math.round(10*e)/10;function oZ(e,i,t){const n=i||1,r=Math.floor(e.height*n),s=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||o.height!==r||o.width!==s)&&(e.currentDevicePixelRatio=n,o.height=r,o.width=s,e.ctx.setTransform(n,0,0,n,0,0),!0)}const v3t=function(){let e=!1;try{const i={get passive(){return e=!0,!1}};uL()&&(window.addEventListener("test",null,i),window.removeEventListener("test",null,i))}catch{}return e}();function lZ(e,i){const t=function u3t(e,i){return vE(e).getPropertyValue(i)}(e,i),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function zm(e,i,t,n){return{x:e.x+t*(i.x-e.x),y:e.y+t*(i.y-e.y)}}function x3t(e,i,t,n){return{x:e.x+t*(i.x-e.x),y:"middle"===n?t<.5?e.y:i.y:"after"===n?t<1?e.y:i.y:t>0?i.y:e.y}}function y3t(e,i,t,n){const r={x:e.cp2x,y:e.cp2y},s={x:i.cp1x,y:i.cp1y},o=zm(e,r,t),l=zm(r,s,t),b=zm(s,i,t),C=zm(o,l,t),D=zm(l,b,t);return zm(C,D,t)}function a0(e,i,t){return e?function(e,i){return{x:t=>e+e+i-t,setWidth(t){i=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,n)=>t-n,leftForLtr:(t,n)=>t-n}}(i,t):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,i)=>e+i,leftForLtr:(e,i)=>e}}function cZ(e,i){let t,n;("ltr"===i||"rtl"===i)&&(t=e.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",i,"important"),e.prevTextDirection=n)}function dZ(e,i){void 0!==i&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",i[0],i[1]))}function uZ(e){return"angle"===e?{between:Wb,compare:_4t,normalize:Il}:{between:Ru,compare:(i,t)=>i-t,normalize:i=>i}}function hZ({start:e,end:i,count:t,loop:n,style:r}){return{start:e%t,end:i%t,loop:n&&(i-e+1)%t==0,style:r}}function fZ(e,i,t){if(!t)return[e];const{property:n,start:r,end:s}=t,o=i.length,{compare:l,between:b,normalize:C}=uZ(n),{start:D,end:R,loop:O,style:L}=function _3t(e,i,t){const{property:n,start:r,end:s}=t,{between:o,normalize:l}=uZ(n),b=i.length;let O,L,{start:C,end:D,loop:R}=e;if(R){for(C+=b,D+=b,O=0,L=b;O<L&&o(l(i[C%b][n]),r,s);++O)C--,D--;C%=b,D%=b}return D<C&&(D+=b),{start:C,end:D,loop:R,style:e.style}}(e,i,t),U=[];let Z,rt,st,X=!1,W=null;for(let dt=D,pt=D;dt<=R;++dt)rt=i[dt%o],!rt.skip&&(Z=C(rt[n]),Z!==st&&(X=b(Z,r,s),null===W&&(X||b(r,st,Z)&&0!==l(r,st))&&(W=0===l(Z,r)?dt:pt),null!==W&&(!X||0===l(s,Z)||b(s,st,Z))&&(U.push(hZ({start:W,end:dt,loop:O,count:o,style:L})),W=null),pt=dt,st=Z));return null!==W&&U.push(hZ({start:W,end:R,loop:O,count:o,style:L})),U}function mZ(e,i){const t=[],n=e.segments;for(let r=0;r<n.length;r++){const s=fZ(n[r],e.points,i);s.length&&t.push(...s)}return t}function gZ(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function A3t(e,i){if(!i)return!1;const t=[],n=function(r,s){return iL(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(e,n)!==JSON.stringify(i,n)}class D3t{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,t,n,r){const o=t.duration;t.listeners[r].forEach(l=>l({chart:i,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=zK.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const s=n.items;let b,o=s.length-1,l=!1;for(;o>=0;--o)b=s[o],b._active?(b._total>n.duration&&(n.duration=b._total),b.tick(i),l=!0):(s[o]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,n,i,"progress")),s.length||(n.running=!1,this._notify(r,n,i,"complete"),n.initial=!1),t+=s.length}),this._lastDate=i,0===t&&(this._running=!1)}_getAnims(i){const t=this._charts;let n=t.get(i);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(i,n)),n}listen(i,t,n){this._getAnims(i).listeners[t].push(n)}add(i,t){!t||!t.length||this._getAnims(i).items.push(...t)}has(i){return this._getAnims(i).items.length>0}start(i){const t=this._charts.get(i);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(i){if(!this._running)return!1;const t=this._charts.get(i);return!(!t||!t.running||!t.items.length)}stop(i){const t=this._charts.get(i);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(i,t,Date.now(),"complete")}remove(i){return this._charts.delete(i)}}var Ou=new D3t;const vZ="transparent",M3t={boolean:(e,i,t)=>t>.5?i:e,color(e,i,t){const n=YK(e||vZ),r=n.valid&&YK(i||vZ);return r&&r.valid?r.mix(n,t).hexString():i},number:(e,i,t)=>e+(i-e)*t};class I3t{constructor(i,t,n,r){const s=t[n];r=Qb([i.to,r,s,i.from]);const o=Qb([i.from,s,r]);this._active=!0,this._fn=i.fn||M3t[i.type||typeof o],this._easing=Xb[i.easing]||Xb.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=t,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(i,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,i.duration)),this._total+=s,this._loop=!!i.loop,this._to=Qb([i.to,t,r,i.from]),this._from=Qb([i.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){const t=i-this._start,n=this._duration,r=this._prop,s=this._from,o=this._loop,l=this._to;let b;if(this._active=s!==l&&(o||t<n),!this._active)return this._target[r]=l,void this._notify(!0);t<0?this._target[r]=s:(b=t/n%2,b=o&&b>1?2-b:b,b=this._easing(Math.min(1,Math.max(0,b))),this._target[r]=this._fn(s,l,b))}wait(){const i=this._promises||(this._promises=[]);return new Promise((t,n)=>{i.push({res:t,rej:n})})}_notify(i){const t=i?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class xZ{constructor(i,t){this._chart=i,this._properties=new Map,this.configure(t)}configure(i){if(!Un(i))return;const t=Object.keys(as.animation),n=this._properties;Object.getOwnPropertyNames(i).forEach(r=>{const s=i[r];if(!Un(s))return;const o={};for(const l of t)o[l]=s[l];(Qr(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!n.has(l))&&n.set(l,o)})})}_animateOptions(i,t){const n=t.options,r=function R3t(e,i){if(!i)return;let t=e.options;if(t)return t.$shared&&(e.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;e.options=i}(i,n);if(!r)return[];const s=this._createAnimations(r,n);return n.$shared&&function k3t(e,i){const t=[],n=Object.keys(i);for(let r=0;r<n.length;r++){const s=e[n[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}(i.options.$animations,n).then(()=>{i.options=n},()=>{}),s}_createAnimations(i,t){const n=this._properties,r=[],s=i.$animations||(i.$animations={}),o=Object.keys(t),l=Date.now();let b;for(b=o.length-1;b>=0;--b){const C=o[b];if("$"===C.charAt(0))continue;if("options"===C){r.push(...this._animateOptions(i,t));continue}const D=t[C];let R=s[C];const O=n.get(C);if(R){if(O&&R.active()){R.update(O,D,l);continue}R.cancel()}O&&O.duration?(s[C]=R=new I3t(O,i,C,D),r.push(R)):i[C]=D}return r}update(i,t){if(0===this._properties.size)return void Object.assign(i,t);const n=this._createAnimations(i,t);return n.length?(Ou.add(this._chart,n),!0):void 0}}function yZ(e,i){const t=e&&e.options||{},n=t.reverse,r=void 0===t.min?i:0,s=void 0===t.max?i:0;return{start:n?s:r,end:n?r:s}}function bZ(e,i){const t=[],n=e._getSortedDatasetMetas(i);let r,s;for(r=0,s=n.length;r<s;++r)t.push(n[r].index);return t}function wZ(e,i,t,n={}){const r=e.keys,s="single"===n.mode;let o,l,b,C;if(null===i)return;let D=!1;for(o=0,l=r.length;o<l;++o){if(b=+r[o],b===t){if(D=!0,n.all)continue;break}C=e.values[b],ws(C)&&(s||0===i||yd(i)===yd(C))&&(i+=C)}return D||n.all?i:0}function fL(e,i){const t=e&&e.options.stacked;return t||void 0===t&&void 0!==i.stack}function B3t(e,i,t){const n=e[i]||(e[i]={});return n[t]||(n[t]={})}function _Z(e,i,t,n){for(const r of i.getMatchingVisibleMetas(n).reverse()){const s=e[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function TZ(e,i){const{chart:t,_cachedMeta:n}=e,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:l}=n,b=s.axis,C=o.axis,D=function L3t(e,i,t){return`${e.id}.${i.id}.${t.stack||t.type}`}(s,o,n),R=i.length;let O;for(let L=0;L<R;++L){const U=i[L],{[b]:X,[C]:W}=U;O=(U._stacks||(U._stacks={}))[C]=B3t(r,D,X),O[l]=W,O._top=_Z(O,o,!0,n.type),O._bottom=_Z(O,o,!1,n.type),(O._visualValues||(O._visualValues={}))[l]=W}}function mL(e,i){const t=e.scales;return Object.keys(t).filter(n=>t[n].axis===i).shift()}function Kb(e,i){const t=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){i=i||e._parsed;for(const r of i){const s=r._stacks;if(!s||void 0===s[n]||void 0===s[n][t])return;delete s[n][t],void 0!==s[n]._visualValues&&void 0!==s[n]._visualValues[t]&&delete s[n]._visualValues[t]}}}const pL=e=>"reset"===e||"none"===e,CZ=(e,i)=>i?e:Object.assign({},e);let df=(()=>class e{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=fL(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Kb(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(O,L,U,X)=>"x"===O?L:"r"===O?X:U,o=n.xAxisID=mn(r.xAxisID,mL(t,"x")),l=n.yAxisID=mn(r.yAxisID,mL(t,"y")),b=n.rAxisID=mn(r.rAxisID,mL(t,"r")),C=n.indexAxis,D=n.iAxisID=s(C,o,l,b),R=n.vAxisID=s(C,l,o,b);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(b),n.iScale=this.getScaleForId(D),n.vScale=this.getScaleForId(R)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&VK(this._data,this),t._stacked&&Kb(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Un(n))this._data=function O3t(e,i){const{iScale:t,vScale:n}=i,r="x"===t.axis?"x":"y",s="x"===n.axis?"x":"y",o=Object.keys(e),l=new Array(o.length);let b,C,D;for(b=0,C=o.length;b<C;++b)D=o[b],l[b]={[r]:D,[s]:e[D]};return l}(n,this._cachedMeta);else if(r!==n){if(r){VK(r,this);const s=this._cachedMeta;Kb(s),s._parsed=[]}n&&Object.isExtensible(n)&&function E4t(e,i){e._chartjs?e._chartjs.listeners.push(i):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),BK.forEach(t=>{const n="_onData"+ZO(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return e._chartjs.listeners.forEach(l=>{"function"==typeof l[n]&&l[n](...s)}),o}})}))}(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const o=n._stacked;n._stacked=fL(n.vScale,n),n.stack!==r.stack&&(s=!0,Kb(n),n.stack=r.stack),this._resyncElements(t),(s||o!==n._stacked)&&(TZ(this,n._parsed),n._stacked=fL(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:l}=r,b=o.axis;let R,O,L,C=0===t&&n===s.length||r._sorted,D=t>0&&r._parsed[t-1];if(!1===this._parsing)r._parsed=s,r._sorted=!0,L=s;else{L=Qr(s[t])?this.parseArrayData(r,s,t,n):Un(s[t])?this.parseObjectData(r,s,t,n):this.parsePrimitiveData(r,s,t,n);const U=()=>null===O[b]||D&&O[b]<D[b];for(R=0;R<n;++R)r._parsed[R+t]=O=L[R],C&&(U()&&(C=!1),D=O);r._sorted=C}l&&TZ(this,L)}parsePrimitiveData(t,n,r,s){const{iScale:o,vScale:l}=t,b=o.axis,C=l.axis,D=o.getLabels(),R=o===l,O=new Array(s);let L,U,X;for(L=0,U=s;L<U;++L)X=L+r,O[L]={[b]:R||o.parse(D[X],X),[C]:l.parse(n[X],X)};return O}parseArrayData(t,n,r,s){const{xScale:o,yScale:l}=t,b=new Array(s);let C,D,R,O;for(C=0,D=s;C<D;++C)R=C+r,O=n[R],b[C]={x:o.parse(O[0],R),y:l.parse(O[1],R)};return b}parseObjectData(t,n,r,s){const{xScale:o,yScale:l}=t,{xAxisKey:b="x",yAxisKey:C="y"}=this._parsing,D=new Array(s);let R,O,L,U;for(R=0,O=s;R<O;++R)L=R+r,U=n[L],D[R]={x:o.parse(sf(U,b),L),y:l.parse(sf(U,C),L)};return D}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const o=this._cachedMeta,l=n[t.axis];return wZ({keys:bZ(this.chart,!0),values:n._stacks[t.axis]._visualValues},l,o.index,{mode:r})}updateRangeFromParsed(t,n,r,s){const o=r[n.axis];let l=null===o?NaN:o;const b=s&&r._stacks[n.axis];s&&b&&(s.values=b,l=wZ(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const r=this._cachedMeta,s=r._parsed,o=r._sorted&&t===r.iScale,l=s.length,b=this._getOtherScale(t),C=((e,i,t)=>e&&!i.hidden&&i._stacked&&{keys:bZ(this.chart,!0),values:null})(n,r),D={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:R,max:O}=function N3t(e){const{min:i,max:t,minDefined:n,maxDefined:r}=e.getUserBounds();return{min:n?i:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}(b);let L,U;function X(){U=s[L];const W=U[b.axis];return!ws(U[t.axis])||R>W||O<W}for(L=0;L<l&&(X()||(this.updateRangeFromParsed(D,t,U,C),!o));++L);if(o)for(L=l-1;L>=0;--L)if(!X()){this.updateRangeFromParsed(D,t,U,C);break}return D}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let s,o,l;for(s=0,o=n.length;s<o;++s)l=n[s][t.axis],ws(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,s=n.vScale,o=this.getParsed(t);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=function F3t(e){let i,t,n,r;return Un(e)?(i=e.top,t=e.right,n=e.bottom,r=e.left):i=t=n=r=e,{top:i,right:t,bottom:n,left:r,disabled:!1===e}}(mn(this.options.clip,function P3t(e,i,t){if(!1===t)return!1;const n=yZ(e,t),r=yZ(i,t);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this._cachedMeta,s=r.data||[],o=this.chart.chartArea,l=[],b=this._drawStart||0,C=this._drawCount||s.length-b,D=this.options.drawActiveElementsOnTop;let R;for(r.dataset&&r.dataset.draw(t,o,b,C),R=b;R<b+C;++R){const O=s[R];O.hidden||(O.active&&D?l.push(O):O.draw(t,o))}for(R=0;R<l.length;++R)l[R].draw(t,o)}getStyle(t,n){const r=n?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=function U3t(e,i,t){return cf(e,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:t,index:i,mode:"default",type:"data"})}(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=function V3t(e,i){return cf(e,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=r,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const s="active"===n,o=this._cachedDataOpts,l=t+"-"+n,b=o[l],C=this.enableOptionSharing&&Gb(r);if(b)return CZ(b,C);const D=this.chart.config,R=D.datasetElementScopeKeys(this._type,t),O=s?[`${t}Hover`,"hover",t,""]:[t,""],L=D.getOptionScopes(this.getDataset(),R),U=Object.keys(as.elements[t]),W=D.resolveNamedOptions(L,U,()=>this.getContext(r,s,n),O);return W.$shared&&(W.$shared=C,o[l]=Object.freeze(CZ(W,C))),W}_resolveAnimations(t,n,r){const s=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,b=o[l];if(b)return b;let C;if(!1!==s.options.animation){const R=this.chart.config,O=R.datasetAnimationScopeKeys(this._type,n),L=R.getOptionScopes(this.getDataset(),O);C=R.createResolver(L,this.getContext(t,r,n))}const D=new xZ(s,C&&C.animations);return C&&C._cacheable&&(o[l]=Object.freeze(D)),D}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||pL(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),s=this._sharedOptions,o=this.getSharedOptions(r),l=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,r),{sharedOptions:o,includeOptions:l}}updateElement(t,n,r,s){pL(s)?Object.assign(t,r):this._resolveAnimations(n,s).update(t,r)}updateSharedOptions(t,n,r){t&&!pL(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,s){t.active=s;const o=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[b,C,D]of this._syncList)this[b](C,D);this._syncList=[];const s=r.length,o=n.length,l=Math.min(o,s);l&&this.parse(0,l),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,n,r=!0){const s=this._cachedMeta,o=s.data,l=t+n;let b;const C=D=>{for(D.length+=n,b=D.length-1;b>=l;b--)D[b]=D[b-n]};for(C(o),b=t;b<l;++b)o[b]=new this.dataElementType;this._parsing&&C(s._parsed),this.parse(t,n),r&&this.updateElements(o,t,n,"reset")}updateElements(t,n,r,s){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,n);r._stacked&&Kb(r,s)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,s]=t;this[n](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function H3t(e){const i=e.iScale,t=function G3t(e,i){if(!e._cache.$bar){const t=e.getMatchingVisibleMetas(i);let n=[];for(let r=0,s=t.length;r<s;r++)n=n.concat(t[r].controller.getAllParsedValues(e));e._cache.$bar=UK(n.sort((r,s)=>r-s))}return e._cache.$bar}(i,e.type);let r,s,o,l,n=i._length;const b=()=>{32767===o||-32768===o||(Gb(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(r=0,s=t.length;r<s;++r)o=i.getPixelForValue(t[r]),b();for(l=void 0,r=0,s=i.ticks.length;r<s;++r)o=i.getPixelForTick(r),b();return n}function SZ(e,i,t,n){return Qr(e)?function j3t(e,i,t,n){const r=t.parse(e[0],n),s=t.parse(e[1],n),o=Math.min(r,s),l=Math.max(r,s);let b=o,C=l;Math.abs(o)>Math.abs(l)&&(b=l,C=o),i[t.axis]=C,i._custom={barStart:b,barEnd:C,start:r,end:s,min:o,max:l}}(e,i,t,n):i[t.axis]=t.parse(e,n),i}function EZ(e,i,t,n){const r=e.iScale,s=e.vScale,o=r.getLabels(),l=r===s,b=[];let C,D,R,O;for(C=t,D=t+n;C<D;++C)O=i[C],R={},R[r.axis]=l||r.parse(o[C],C),b.push(SZ(O,R,s,C));return b}function gL(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Q3t(e,i,t,n){let r=i.borderSkipped;const s={};if(!r)return void(e.borderSkipped=s);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:l,reverse:b,top:C,bottom:D}=function $3t(e){let i,t,n,r,s;return e.horizontal?(i=e.base>e.x,t="left",n="right"):(i=e.base<e.y,t="bottom",n="top"),i?(r="end",s="start"):(r="start",s="end"),{start:t,end:n,reverse:i,top:r,bottom:s}}(e);"middle"===r&&t&&(e.enableBorderRadius=!0,(t._top||0)===n?r=C:(t._bottom||0)===n?r=D:(s[AZ(D,o,l,b)]=!0,r=C)),s[AZ(r,o,l,b)]=!0,e.borderSkipped=s}function AZ(e,i,t,n){return n?(e=function K3t(e,i,t){return e===i?t:e===t?i:e}(e,i,t),e=DZ(e,t,i)):e=DZ(e,i,t),e}function DZ(e,i,t){return"start"===e?i:"end"===e?t:e}function Z3t(e,{inflateAmount:i},t){e.inflateAmount="auto"===i?1===t?.33:0:i}let J3t=(()=>class e extends df{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,s){return EZ(t,n,r,s)}parseArrayData(t,n,r,s){return EZ(t,n,r,s)}parseObjectData(t,n,r,s){const{iScale:o,vScale:l}=t,{xAxisKey:b="x",yAxisKey:C="y"}=this._parsing,D="x"===o.axis?b:C,R="x"===l.axis?b:C,O=[];let L,U,X,W;for(L=r,U=r+s;L<U;++L)W=n[L],X={},X[o.axis]=o.parse(sf(W,D),L),O.push(SZ(sf(W,R),X,l,L));return O}updateRangeFromParsed(t,n,r,s){super.updateRangeFromParsed(t,n,r,s);const o=r._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:s}=n,o=this.getParsed(t),l=o._custom,b=gL(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:b}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,s){const o="reset"===s,{index:l,_cachedMeta:{vScale:b}}=this,C=b.getBasePixel(),D=b.isHorizontal(),R=this._getRuler(),{sharedOptions:O,includeOptions:L}=this._getSharedOptions(n,s);for(let U=n;U<n+r;U++){const X=this.getParsed(U),W=o||Zn(X[b.axis])?{base:C,head:C}:this._calculateBarValuePixels(U),Z=this._calculateBarIndexPixels(U,R),rt=(X._stacks||{})[b.axis],st={horizontal:D,base:W.base,enableBorderRadius:!rt||gL(X._custom)||l===rt._top||l===rt._bottom,x:D?W.head:Z.center,y:D?Z.center:W.head,height:D?Z.size:Math.abs(W.size),width:D?Math.abs(W.size):Z.size};L&&(st.options=O||this.resolveDataElementOptions(U,t[U].active?"active":s));const vt=st.options||t[U].options;Q3t(st,vt,rt,l),Z3t(st,vt,R.ratio),this.updateElement(t[U],U,st,s)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(R=>R.controller.options.grouped),o=r.options.stacked,l=[],b=this._cachedMeta.controller.getParsed(n),C=b&&b[r.axis],D=R=>{const O=R._parsed.find(U=>U[r.axis]===C),L=O&&O[R.vScale.axis];if(Zn(L)||isNaN(L))return!0};for(const R of s)if((void 0===n||!D(R))&&((!1===o||-1===l.indexOf(R.stack)||void 0===o&&void 0===R.stack)&&l.push(R.stack),R.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,r){const s=this._getStacks(t,r),o=void 0!==n?s.indexOf(n):-1;return-1===o?s.length-1:o}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,s=[];let o,l;for(o=0,l=n.data.length;o<l;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const b=t.barThickness;return{min:b||H3t(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:b?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:o,minBarLength:l}}=this,b=o||0,C=this.getParsed(t),D=C._custom,R=gL(D);let X,W,O=C[n.axis],L=0,U=r?this.applyStack(n,C,r):O;U!==O&&(L=U-O,U=O),R&&(O=D.barStart,U=D.barEnd-D.barStart,0!==O&&yd(O)!==yd(D.barEnd)&&(L=0),L+=O);const Z=Zn(o)||R?L:o;let rt=n.getPixelForValue(Z);if(X=this.chart.getDataVisibility(t)?n.getPixelForValue(L+U):rt,W=X-rt,Math.abs(W)<l){W=function Y3t(e,i,t){return 0!==e?yd(e):(i.isHorizontal()?1:-1)*(i.min>=t?1:-1)}(W,n,b)*l,O===b&&(rt-=W/2);const st=n.getPixelForDecimal(0),vt=n.getPixelForDecimal(1),_t=Math.min(st,vt),Mt=Math.max(st,vt);rt=Math.max(Math.min(rt,Mt),_t),X=rt+W,r&&!R&&(C._stacks[n.axis]._visualValues[s]=n.getValueForPixel(X)-n.getValueForPixel(rt))}if(rt===n.getPixelForValue(b)){const st=yd(W)*n.getLineWidthForValue(b)/2;rt+=st,W-=st}return{size:W,base:rt,head:X,center:X+W/2}}_calculateBarIndexPixels(t,n){const r=n.scale,s=this.options,o=s.skipNull,l=mn(s.maxBarThickness,1/0);let b,C;if(n.grouped){const D=o?this._getStackCount(t):n.stackCount,R="flex"===s.barThickness?function X3t(e,i,t,n){const r=i.pixels,s=r[e];let o=e>0?r[e-1]:null,l=e<r.length-1?r[e+1]:null;const b=t.categoryPercentage;null===o&&(o=s-(null===l?i.end-i.start:l-s)),null===l&&(l=s+s-o);const C=s-(s-Math.min(o,l))/2*b;return{chunk:Math.abs(l-o)/2*b/n,ratio:t.barPercentage,start:C}}(t,n,s,D):function W3t(e,i,t,n){const r=t.barThickness;let s,o;return Zn(r)?(s=i.min*t.categoryPercentage,o=t.barPercentage):(s=r*n,o=1),{chunk:s/n,ratio:o,start:i.pixels[e]-s/2}}(t,n,s,D),O=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);b=R.start+R.chunk*O+R.chunk/2,C=Math.min(l,R.chunk*R.ratio)}else b=r.getPixelForValue(this.getParsed(t)[r.axis],t),C=Math.min(l,n.min*n.ratio);return{base:b-C/2,head:b+C/2,center:b,size:C}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,s=r.length;let o=0;for(;o<s;++o)null!==this.getParsed(o)[n.axis]&&!r[o].hidden&&r[o].draw(this._ctx)}})(),q3t=(()=>class e extends df{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,s){const o=super.parsePrimitiveData(t,n,r,s);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+r).radius;return o}parseArrayData(t,n,r,s){const o=super.parseArrayData(t,n,r,s);for(let l=0;l<o.length;l++)o[l]._custom=mn(n[r+l][2],this.resolveDataElementOptions(l+r).radius);return o}parseObjectData(t,n,r,s){const o=super.parseObjectData(t,n,r,s);for(let l=0;l<o.length;l++){const b=n[r+l];o[l]._custom=mn(b&&b.r&&+b.r,this.resolveDataElementOptions(l+r).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=n,l=this.getParsed(t),b=s.getLabelForValue(l.x),C=o.getLabelForValue(l.y),D=l._custom;return{label:r[t]||"",value:"("+b+", "+C+(D?", "+D:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,s){const o="reset"===s,{iScale:l,vScale:b}=this._cachedMeta,{sharedOptions:C,includeOptions:D}=this._getSharedOptions(n,s),R=l.axis,O=b.axis;for(let L=n;L<n+r;L++){const U=t[L],X=!o&&this.getParsed(L),W={},Z=W[R]=o?l.getPixelForDecimal(.5):l.getPixelForValue(X[R]),rt=W[O]=o?b.getBasePixel():b.getPixelForValue(X[O]);W.skip=isNaN(Z)||isNaN(rt),D&&(W.options=C||this.resolveDataElementOptions(L,U.active?"active":s),o&&(W.options.radius=0)),this.updateElement(U,L,W,s)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return"active"!==n&&(s.radius=0),s.radius+=mn(r&&r._custom,o),s}})(),vL=(()=>class e extends df{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=t.legend.options;return n.labels.map((o,l)=>{const C=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:C.backgroundColor,strokeStyle:C.borderColor,fontColor:s,lineWidth:C.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=r;else{let l,b,o=C=>+r[C];if(Un(r[t])){const{key:C="value"}=this._parsing;o=D=>+sf(r[D],C)}for(l=t,b=t+n;l<b;++l)s._parsed[l]=o(l)}}_getRotation(){return Mc(this.options.rotation-90)}_getCircumference(){return Mc(this.options.circumference)}_getRotationExtents(){let t=Zr,n=-Zr;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),l=s._getCircumference();t=Math.min(t,o),n=Math.max(n,o+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,o=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,b=Math.max((Math.min(r.width,r.height)-l)/2,0),C=Math.min(((e,i)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/i)(this.options.cutout,b),1),D=this._getRingWeight(this.index),{circumference:R,rotation:O}=this._getRotationExtents(),{ratioX:L,ratioY:U,offsetX:X,offsetY:W}=function tBt(e,i,t){let n=1,r=1,s=0,o=0;if(i<Zr){const l=e,b=l+i,C=Math.cos(l),D=Math.sin(l),R=Math.cos(b),O=Math.sin(b),L=(st,vt,_t)=>Wb(st,l,b,!0)?1:Math.max(vt,vt*t,_t,_t*t),U=(st,vt,_t)=>Wb(st,l,b,!0)?-1:Math.min(vt,vt*t,_t,_t*t),X=L(0,C,R),W=L(Ns,D,O),Z=U(Kr,C,R),rt=U(Kr+Ns,D,O);n=(X-Z)/2,r=(W-rt)/2,s=-(X+Z)/2,o=-(W+rt)/2}return{ratioX:n,ratioY:r,offsetX:s,offsetY:o}}(O,R,C),st=Math.max(Math.min((r.width-l)/L,(r.height-l)/U)/2,0),vt=MK(this.options.radius,st),Mt=(vt-Math.max(vt*C,0))/this._getVisibleDatasetWeightTotal();this.offsetX=X*vt,this.offsetY=W*vt,s.total=this.calculateTotal(),this.outerRadius=vt-Mt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Mt*D,0),this.updateElements(o,0,o.length,t)}_circumference(t,n){const r=this.options,s=this._cachedMeta,o=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s._parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/Zr)}updateElements(t,n,r,s){const o="reset"===s,l=this.chart,b=l.chartArea,R=(b.left+b.right)/2,O=(b.top+b.bottom)/2,L=o&&l.options.animation.animateScale,U=L?0:this.innerRadius,X=L?0:this.outerRadius,{sharedOptions:W,includeOptions:Z}=this._getSharedOptions(n,s);let st,rt=this._getRotation();for(st=0;st<n;++st)rt+=this._circumference(st,o);for(st=n;st<n+r;++st){const vt=this._circumference(st,o),_t=t[st],Mt={x:R+this.offsetX,y:O+this.offsetY,startAngle:rt,endAngle:rt+vt,circumference:vt,outerRadius:X,innerRadius:U};Z&&(Mt.options=W||this.resolveDataElementOptions(st,_t.active?"active":s)),rt+=vt,this.updateElement(_t,st,Mt,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s,r=0;for(s=0;s<n.length;s++){const o=t._parsed[s];null!==o&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Zr*(Math.abs(t)/n):0}getLabelAndValue(t){const r=this.chart,s=r.data.labels||[],o=jb(this._cachedMeta._parsed[t],r.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let n=0;const r=this.chart;let s,o,l,b,C;if(!t)for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){l=r.getDatasetMeta(s),t=l.data,b=l.controller;break}if(!t)return 0;for(s=0,o=t.length;s<o;++s)C=b.resolveDataElementOptions(s),"inner"!==C.borderAlign&&(n=Math.max(n,C.borderWidth||0,C.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,s=t.length;r<s;++r){const o=this.resolveDataElementOptions(r);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(mn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),eBt=(()=>class e extends df{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=n,l=this.chart._animationsDisabled;let{start:b,count:C}=HK(n,s,l);this._drawStart=b,this._drawCount=C,WK(n)&&(b=0,C=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;const D=this.resolveDatasetElementOptions(t);this.options.showLine||(D.borderWidth=0),D.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:D},t),this.updateElements(s,b,C,t)}updateElements(t,n,r,s){const o="reset"===s,{iScale:l,vScale:b,_stacked:C,_dataset:D}=this._cachedMeta,{sharedOptions:R,includeOptions:O}=this._getSharedOptions(n,s),L=l.axis,U=b.axis,{spanGaps:X,segment:W}=this.options,Z=n0(X)?X:Number.POSITIVE_INFINITY,rt=this.chart._animationsDisabled||o||"none"===s,st=n+r,vt=t.length;let _t=n>0&&this.getParsed(n-1);for(let Mt=0;Mt<vt;++Mt){const ft=t[Mt],dt=rt?ft:{};if(Mt<n||Mt>=st){dt.skip=!0;continue}const pt=this.getParsed(Mt),bt=Zn(pt[U]),Tt=dt[L]=l.getPixelForValue(pt[L],Mt),Et=dt[U]=o||bt?b.getBasePixel():b.getPixelForValue(C?this.applyStack(b,pt,C):pt[U],Mt);dt.skip=isNaN(Tt)||isNaN(Et)||bt,dt.stop=Mt>0&&Math.abs(pt[L]-_t[L])>Z,W&&(dt.parsed=pt,dt.raw=D.data[Mt]),O&&(dt.options=R||this.resolveDataElementOptions(Mt,ft.active?"active":s)),rt||this.updateElement(ft,Mt,dt,s),_t=pt}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return r;const o=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}})(),MZ=(()=>class e extends df{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=t.legend.options;return n.labels.map((o,l)=>{const C=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:C.backgroundColor,strokeStyle:C.borderColor,fontColor:s,lineWidth:C.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this.chart,s=r.data.labels||[],o=jb(this._cachedMeta._parsed[t].r,r.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,n,r,s){return sZ.bind(this)(t,n,r,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(s/2,0),b=(o-Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=o-b*this.index,this.innerRadius=this.outerRadius-b}updateElements(t,n,r,s){const o="reset"===s,l=this.chart,C=l.options.animation,D=this._cachedMeta.rScale,R=D.xCenter,O=D.yCenter,L=D.getIndexAngle(0)-.5*Kr;let X,U=L;const W=360/this.countVisibleElements();for(X=0;X<n;++X)U+=this._computeAngle(X,s,W);for(X=n;X<n+r;X++){const Z=t[X];let rt=U,st=U+this._computeAngle(X,s,W),vt=l.getDataVisibility(X)?D.getDistanceFromCenterForValue(this.getParsed(X).r):0;U=st,o&&(C.animateScale&&(vt=0),C.animateRotate&&(rt=st=L));const _t={x:R,y:O,innerRadius:0,outerRadius:vt,startAngle:rt,endAngle:st,options:this.resolveDataElementOptions(X,Z.active?"active":s)};this.updateElement(Z,X,_t,s)}}countVisibleElements(){let n=0;return this._cachedMeta.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?Mc(this.resolveDataElementOptions(t,n).angle||r):0}})();var iBt=Object.freeze({__proto__:null,BarController:J3t,BubbleController:q3t,DoughnutController:vL,LineController:eBt,PieController:(()=>class e extends vL{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:MZ,RadarController:(()=>class e extends df{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,s){return sZ.bind(this)(t,n,r,s)}update(t){const n=this._cachedMeta,r=n.dataset,s=n.data||[],o=n.iScale.getLabels();if(r.points=s,"resize"!==t){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:o.length===s.length,options:l},t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,r,s){const o=this._cachedMeta.rScale,l="reset"===s;for(let b=n;b<n+r;b++){const C=t[b],D=this.resolveDataElementOptions(b,C.active?"active":s),R=o.getPointPositionForValue(b,this.getParsed(b).r),O=l?o.xCenter:R.x,L=l?o.yCenter:R.y,U={x:O,y:L,angle:R.angle,skip:isNaN(O)||isNaN(L),options:D};this.updateElement(C,b,U,s)}}})(),ScatterController:(()=>class e extends df{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=n,l=this.getParsed(t),b=s.getLabelForValue(l.x),C=o.getLabelForValue(l.y);return{label:r[t]||"",value:"("+b+", "+C+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,s=this.chart._animationsDisabled;let{start:o,count:l}=HK(n,r,s);if(this._drawStart=o,this._drawCount=l,WK(n)&&(o=0,l=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:b,_dataset:C}=n;b._chart=this.chart,b._datasetIndex=this.index,b._decimated=!!C._decimated,b.points=r;const D=this.resolveDatasetElementOptions(t);D.segment=this.options.segment,this.updateElement(b,void 0,{animated:!s,options:D},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,o,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,s){const o="reset"===s,{iScale:l,vScale:b,_stacked:C,_dataset:D}=this._cachedMeta,R=this.resolveDataElementOptions(n,s),O=this.getSharedOptions(R),L=this.includeOptions(s,O),U=l.axis,X=b.axis,{spanGaps:W,segment:Z}=this.options,rt=n0(W)?W:Number.POSITIVE_INFINITY,st=this.chart._animationsDisabled||o||"none"===s;let vt=n>0&&this.getParsed(n-1);for(let _t=n;_t<n+r;++_t){const Mt=t[_t],ft=this.getParsed(_t),dt=st?Mt:{},pt=Zn(ft[X]),bt=dt[U]=l.getPixelForValue(ft[U],_t),Tt=dt[X]=o||pt?b.getBasePixel():b.getPixelForValue(C?this.applyStack(b,ft,C):ft[X],_t);dt.skip=isNaN(bt)||isNaN(Tt)||pt,dt.stop=_t>0&&Math.abs(ft[U]-vt[U])>rt,Z&&(dt.parsed=ft,dt.raw=D.data[_t]),L&&(dt.options=O||this.resolveDataElementOptions(_t,Mt.active?"active":s)),st||this.updateElement(Mt,_t,dt,s),vt=ft}this.updateSharedOptions(O,s,R)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let b=0;for(let C=n.length-1;C>=0;--C)b=Math.max(b,n[C].size(this.resolveDataElementOptions(C))/2);return b>0&&b}const r=t.dataset,s=r.options&&r.options.borderWidth||0;if(!n.length)return s;const o=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,o,l)/2}})()});function Gm(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class xL{static override(i){Object.assign(xL.prototype,i)}options;constructor(i){this.options=i||{}}init(){}formats(){return Gm()}parse(){return Gm()}format(){return Gm()}add(){return Gm()}diff(){return Gm()}startOf(){return Gm()}endOf(){return Gm()}}var nBt__date=xL;function rBt(e,i,t,n){const{controller:r,data:s,_sorted:o}=e,l=r._cachedMeta.iScale;if(l&&i===l.axis&&"r"!==i&&o&&s.length){const b=l._reversePixels?C4t:Pu;if(!n)return b(s,i,t);if(r._sharedOptions){const C=s[0],D="function"==typeof C.getRange&&C.getRange(i);if(D){const R=b(s,i,t-D),O=b(s,i,t+D);return{lo:R.lo,hi:O.hi}}}}return{lo:0,hi:s.length-1}}function Zb(e,i,t,n,r){const s=e.getSortedVisibleDatasetMetas(),o=t[i];for(let l=0,b=s.length;l<b;++l){const{index:C,data:D}=s[l],{lo:R,hi:O}=rBt(s[l],i,o,r);for(let L=R;L<=O;++L){const U=D[L];U.skip||n(U,C,L)}}}function yL(e,i,t,n,r){const s=[];return!r&&!e.isPointInArea(i)||Zb(e,t,i,function(l,b,C){!r&&!Fu(l,e.chartArea,0)||l.inRange(i.x,i.y,n)&&s.push({element:l,datasetIndex:b,index:C})},!0),s}function bL(e,i,t,n,r,s){return s||e.isPointInArea(i)?"r"!==t||n?function oBt(e,i,t,n,r,s){let o=[];const l=function sBt(e){const i=-1!==e.indexOf("x"),t=-1!==e.indexOf("y");return function(n,r){const s=i?Math.abs(n.x-r.x):0,o=t?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}(t);let b=Number.POSITIVE_INFINITY;return Zb(e,t,i,function C(D,R,O){const L=D.inRange(i.x,i.y,r);if(n&&!L)return;const U=D.getCenterPoint(r);if(!s&&!e.isPointInArea(U)&&!L)return;const W=l(i,U);W<b?(o=[{element:D,datasetIndex:R,index:O}],b=W):W===b&&o.push({element:D,datasetIndex:R,index:O})}),o}(e,i,t,n,r,s):function aBt(e,i,t,n){let r=[];return Zb(e,t,i,function s(o,l,b){const{startAngle:C,endAngle:D}=o.getProps(["startAngle","endAngle"],n),{angle:R}=NK(o,{x:i.x,y:i.y});Wb(R,C,D)&&r.push({element:o,datasetIndex:l,index:b})}),r}(e,i,t,r):[]}function IZ(e,i,t,n,r){const s=[],o="x"===t?"inXRange":"inYRange";let l=!1;return Zb(e,t,i,(b,C,D)=>{b[o]&&b[o](i[t],r)&&(s.push({element:b,datasetIndex:C,index:D}),l=l||b.inRange(i.x,i.y,r))}),n&&!l?[]:s}var lBt={evaluateInteractionItems:Zb,modes:{index(e,i,t,n){const r=Um(i,e),s=t.axis||"x",o=t.includeInvisible||!1,l=t.intersect?yL(e,r,s,n,o):bL(e,r,s,!1,n,o),b=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(C=>{const D=l[0].index,R=C.data[D];R&&!R.skip&&b.push({element:R,datasetIndex:C.index,index:D})}),b):[]},dataset(e,i,t,n){const r=Um(i,e),s=t.axis||"xy",o=t.includeInvisible||!1;let l=t.intersect?yL(e,r,s,n,o):bL(e,r,s,!1,n,o);if(l.length>0){const b=l[0].datasetIndex,C=e.getDatasetMeta(b).data;l=[];for(let D=0;D<C.length;++D)l.push({element:C[D],datasetIndex:b,index:D})}return l},point:(e,i,t,n)=>yL(e,Um(i,e),t.axis||"xy",n,t.includeInvisible||!1),nearest:(e,i,t,n)=>bL(e,Um(i,e),t.axis||"xy",t.intersect,n,t.includeInvisible||!1),x:(e,i,t,n)=>IZ(e,Um(i,e),"x",t.intersect,n),y:(e,i,t,n)=>IZ(e,Um(i,e),"y",t.intersect,n)}};const kZ=["left","top","right","bottom"];function Jb(e,i){return e.filter(t=>t.pos===i)}function RZ(e,i){return e.filter(t=>-1===kZ.indexOf(t.pos)&&t.box.axis===i)}function qb(e,i){return e.sort((t,n)=>{const r=i?n:t,s=i?t:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function PZ(e,i,t,n){return Math.max(e[t],i[t])+Math.max(e[n],i[n])}function FZ(e,i){e.top=Math.max(e.top,i.top),e.left=Math.max(e.left,i.left),e.bottom=Math.max(e.bottom,i.bottom),e.right=Math.max(e.right,i.right)}function fBt(e,i,t,n){const{pos:r,box:s}=t,o=e.maxPadding;if(!Un(r)){t.size&&(e[r]-=t.size);const R=n[t.stack]||{size:0,count:1};R.size=Math.max(R.size,t.horizontal?s.height:s.width),t.size=R.size/R.count,e[r]+=t.size}s.getPadding&&FZ(o,s.getPadding());const l=Math.max(0,i.outerWidth-PZ(o,e,"left","right")),b=Math.max(0,i.outerHeight-PZ(o,e,"top","bottom")),C=l!==e.w,D=b!==e.h;return e.w=l,e.h=b,t.horizontal?{same:C,other:D}:{same:D,other:C}}function pBt(e,i){const t=i.maxPadding;return function n(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(i[o],t[o])}),s}(e?["left","right"]:["top","bottom"])}function t1(e,i,t,n){const r=[];let s,o,l,b,C,D;for(s=0,o=e.length,C=0;s<o;++s){l=e[s],b=l.box,b.update(l.width||i.w,l.height||i.h,pBt(l.horizontal,i));const{same:R,other:O}=fBt(i,t,l,n);C|=R&&r.length,D=D||O,b.fullSize||r.push(l)}return C&&t1(r,i,t,n)||D}function yE(e,i,t,n,r){e.top=t,e.left=i,e.right=i+n,e.bottom=t+r,e.width=n,e.height=r}function OZ(e,i,t,n){const r=t.padding;let{x:s,y:o}=i;for(const l of e){const b=l.box,C=n[l.stack]||{count:1,placed:0,weight:1},D=l.stackWeight/C.weight||1;if(l.horizontal){const R=i.w*D,O=C.size||b.height;Gb(C.start)&&(o=C.start),b.fullSize?yE(b,r.left,o,t.outerWidth-r.right-r.left,O):yE(b,i.left+C.placed,o,R,O),C.start=o,C.placed+=R,o=b.bottom}else{const R=i.h*D,O=C.size||b.width;Gb(C.start)&&(s=C.start),b.fullSize?yE(b,s,r.top,O,t.outerHeight-r.bottom-r.top):yE(b,s,i.top+C.placed,O,R),C.start=s,C.placed+=R,s=b.right}}i.x=s,i.y=o}var uo={addBox(e,i){e.boxes||(e.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(t){i.draw(t)}}]},e.boxes.push(i)},removeBox(e,i){const t=e.boxes?e.boxes.indexOf(i):-1;-1!==t&&e.boxes.splice(t,1)},configure(e,i,t){i.fullSize=t.fullSize,i.position=t.position,i.weight=t.weight},update(e,i,t,n){if(!e)return;const r=co(e.options.layout.padding),s=Math.max(i-r.width,0),o=Math.max(t-r.height,0),l=function hBt(e){const i=function cBt(e){const i=[];let t,n,r,s,o,l;for(t=0,n=(e||[]).length;t<n;++t)r=e[t],({position:s,options:{stack:o,stackWeight:l=1}}=r),i.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:l});return i}(e),t=qb(i.filter(C=>C.box.fullSize),!0),n=qb(Jb(i,"left"),!0),r=qb(Jb(i,"right")),s=qb(Jb(i,"top"),!0),o=qb(Jb(i,"bottom")),l=RZ(i,"x"),b=RZ(i,"y");return{fullSize:t,leftAndTop:n.concat(s),rightAndBottom:r.concat(b).concat(o).concat(l),chartArea:Jb(i,"chartArea"),vertical:n.concat(r).concat(b),horizontal:s.concat(o).concat(l)}}(e.boxes),b=l.vertical,C=l.horizontal;_r(e.boxes,X=>{"function"==typeof X.beforeLayout&&X.beforeLayout()});const D=b.reduce((X,W)=>W.box.options&&!1===W.box.options.display?X:X+1,0)||1,R=Object.freeze({outerWidth:i,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/D,hBoxMaxHeight:o/2}),O=Object.assign({},r);FZ(O,co(n));const L=Object.assign({maxPadding:O,w:s,h:o,x:r.left,y:r.top},r),U=function uBt(e,i){const t=function dBt(e){const i={};for(const t of e){const{stack:n,pos:r,stackWeight:s}=t;if(!n||!kZ.includes(r))continue;const o=i[n]||(i[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return i}(e),{vBoxMaxWidth:n,hBoxMaxHeight:r}=i;let s,o,l;for(s=0,o=e.length;s<o;++s){l=e[s];const{fullSize:b}=l.box,C=t[l.stack],D=C&&l.stackWeight/C.weight;l.horizontal?(l.width=D?D*n:b&&i.availableWidth,l.height=r):(l.width=n,l.height=D?D*r:b&&i.availableHeight)}return t}(b.concat(C),R);t1(l.fullSize,L,R,U),t1(b,L,R,U),t1(C,L,R,U)&&t1(b,L,R,U),function mBt(e){const i=e.maxPadding;function t(n){const r=Math.max(i[n]-e[n],0);return e[n]+=r,r}e.y+=t("top"),e.x+=t("left"),t("right"),t("bottom")}(L),OZ(l.leftAndTop,L,R,U),L.x+=L.w,L.y+=L.h,OZ(l.rightAndBottom,L,R,U),e.chartArea={left:L.left,top:L.top,right:L.left+L.w,bottom:L.top+L.h,height:L.h,width:L.w},_r(l.chartArea,X=>{const W=X.box;Object.assign(W,e.chartArea),W.update(L.w,L.h,{left:0,top:0,right:0,bottom:0})})}};class LZ{acquireContext(i,t){}releaseContext(i){return!1}addEventListener(i,t,n){}removeEventListener(i,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(i,t,n,r){return t=Math.max(0,t||i.width),n=n||i.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(i){return!0}updateConfig(i){}}class gBt extends LZ{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}}const bE="$chartjs",vBt={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},NZ=e=>null===e||""===e,BZ=!!v3t&&{passive:!0};function bBt(e,i,t){e&&e.canvas&&e.canvas.removeEventListener(i,t,BZ)}function wE(e,i){for(const t of e)if(t===i||t.contains(i))return!0}function _Bt(e,i,t){const n=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||wE(l.addedNodes,n),o=o&&!wE(l.removedNodes,n);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function TBt(e,i,t){const n=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||wE(l.removedNodes,n),o=o&&!wE(l.addedNodes,n);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const e1=new Map;let VZ=0;function UZ(){const e=window.devicePixelRatio;e!==VZ&&(VZ=e,e1.forEach((i,t)=>{t.currentDevicePixelRatio!==e&&i()}))}function EBt(e,i,t){const n=e.canvas,r=n&&hL(n);if(!r)return;const s=GK((l,b)=>{const C=r.clientWidth;t(l,b),C<r.clientWidth&&t()},window),o=new ResizeObserver(l=>{const b=l[0],C=b.contentRect.width,D=b.contentRect.height;0===C&&0===D||s(C,D)});return o.observe(r),function CBt(e,i){e1.size||window.addEventListener("resize",UZ),e1.set(e,i)}(e,s),o}function wL(e,i,t){t&&t.disconnect(),"resize"===i&&function SBt(e){e1.delete(e),e1.size||window.removeEventListener("resize",UZ)}(e)}function ABt(e,i,t){const n=e.canvas,r=GK(s=>{null!==e.ctx&&t(function wBt(e,i){const t=vBt[e.type]||e.type,{x:n,y:r}=Um(e,i);return{type:t,chart:i,native:e,x:void 0!==n?n:null,y:void 0!==r?r:null}}(s,e))},e);return function yBt(e,i,t){e&&e.addEventListener(i,t,BZ)}(n,i,r),r}class DBt extends LZ{acquireContext(i,t){const n=i&&i.getContext&&i.getContext("2d");return n&&n.canvas===i?(function xBt(e,i){const t=e.style,n=e.getAttribute("height"),r=e.getAttribute("width");if(e[bE]={initial:{height:n,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",NZ(r)){const s=lZ(e,"width");void 0!==s&&(e.width=s)}if(NZ(n))if(""===e.style.height)e.height=e.width/(i||2);else{const s=lZ(e,"height");void 0!==s&&(e.height=s)}}(i,t),n):null}releaseContext(i){const t=i.canvas;if(!t[bE])return!1;const n=t[bE].initial;["height","width"].forEach(s=>{const o=n[s];Zn(o)?t.removeAttribute(s):t.setAttribute(s,o)});const r=n.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[bE],!0}addEventListener(i,t,n){this.removeEventListener(i,t),(i.$proxies||(i.$proxies={}))[t]=({attach:_Bt,detach:TBt,resize:EBt}[t]||ABt)(i,t,n)}removeEventListener(i,t){const n=i.$proxies||(i.$proxies={}),r=n[t];r&&(({attach:wL,detach:wL,resize:wL}[t]||bBt)(i,t,r),n[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,t,n,r){return function g3t(e,i,t,n){const r=vE(e),s=Vm(r,"margin"),o=gE(r.maxWidth,e,"clientWidth")||cE,l=gE(r.maxHeight,e,"clientHeight")||cE,b=function p3t(e,i,t){let n,r;if(void 0===i||void 0===t){const s=e&&hL(e);if(s){const o=s.getBoundingClientRect(),l=vE(s),b=Vm(l,"border","width"),C=Vm(l,"padding");i=o.width-C.width-b.width,t=o.height-C.height-b.height,n=gE(l.maxWidth,s,"clientWidth"),r=gE(l.maxHeight,s,"clientHeight")}else i=e.clientWidth,t=e.clientHeight}return{width:i,height:t,maxWidth:n||cE,maxHeight:r||cE}}(e,i,t);let{width:C,height:D}=b;if("content-box"===r.boxSizing){const O=Vm(r,"border","width"),L=Vm(r,"padding");C-=L.width+O.width,D-=L.height+O.height}return C=Math.max(0,C-s.width),D=Math.max(0,n?C/n:D-s.height),C=xE(Math.min(C,o,b.maxWidth)),D=xE(Math.min(D,l,b.maxHeight)),C&&!D&&(D=xE(C/2)),(void 0!==i||void 0!==t)&&n&&b.height&&D>b.height&&(D=b.height,C=xE(Math.floor(D*n))),{width:C,height:D}}(i,t,n,r)}isAttached(i){const t=i&&hL(i);return!(!t||!t.isConnected)}}class Lu{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(i){const{x:t,y:n}=this.getProps(["x","y"],i);return{x:t,y:n}}hasValue(){return n0(this.x)&&n0(this.y)}getProps(i,t){const n=this.$animations;if(!t||!n)return this;const r={};return i.forEach(s=>{r[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),r}}function _E(e,i,t,n,r){const s=mn(n,0),o=Math.min(mn(r,e.length),e.length);let b,C,D,l=0;for(t=Math.ceil(t),r&&(b=r-n,t=b/Math.floor(b/t)),D=s;D<0;)l++,D=Math.round(s+l*t);for(C=Math.max(s,0);C<o;C++)C===D&&(i.push(e[C]),l++,D=Math.round(s+l*t))}const zZ=(e,i,t)=>"top"===i||"left"===i?e[i]+t:e[i]-t,GZ=(e,i)=>Math.min(i||e,e);function HZ(e,i){const t=[],n=e.length/i,r=e.length;let s=0;for(;s<r;s+=n)t.push(e[Math.floor(s)]);return t}function NBt(e,i,t){const n=e.ticks.length,r=Math.min(i,n-1),s=e._startPixel,o=e._endPixel,l=1e-6;let C,b=e.getPixelForTick(r);if(!(t&&(C=1===n?Math.max(b-s,o-b):0===i?(e.getPixelForTick(1)-b)/2:(b-e.getPixelForTick(r-1))/2,b+=r<i?C:-C,b<s-l||b>o+l)))return b}function n1(e){return e.drawTicks?e.tickLength:0}function WZ(e,i){if(!e.display)return 0;const t=pa(e.font,i),n=co(e.padding);return(Qr(e.text)?e.text.length:1)*t.lineHeight+n.height}function zBt(e,i,t){let n=eL(e);return(t&&"right"!==i||!t&&"right"===i)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class Hm extends Lu{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,t){return i}getUserBounds(){let{_userMin:i,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return i=Ml(i,Number.POSITIVE_INFINITY),t=Ml(t,Number.NEGATIVE_INFINITY),n=Ml(n,Number.POSITIVE_INFINITY),r=Ml(r,Number.NEGATIVE_INFINITY),{min:Ml(i,n),max:Ml(t,r),minDefined:ws(i),maxDefined:ws(t)}}getMinMax(i){let o,{min:t,max:n,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:t,max:n};const l=this.getMatchingVisibleMetas();for(let b=0,C=l.length;b<C;++b)o=l[b].controller.getMinMax(this,i),r||(t=Math.min(t,o.min)),s||(n=Math.max(n,o.max));return t=s&&t>n?n:t,n=r&&t>n?t:n,{min:Ml(t,Ml(n,t)),max:Ml(n,Ml(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}getLabelItems(i=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(i))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Gr(this.options.beforeUpdate,[this])}update(i,t,n){const{beginAtZero:r,grace:s,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function $4t(e,i,t){const{min:n,max:r}=e,s=MK(i,(r-n)/2),o=(l,b)=>t&&0===l?0:l+b;return{min:o(n,-Math.abs(s)),max:o(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const b=l<this.ticks.length;this._convertTicksToLabels(b?HZ(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function IBt(e,i){const t=e.options.ticks,n=function kBt(e){const i=e.options.offset,t=e._tickSize();return Math.floor(Math.min(e._length/t+(i?0:1),e._maxLength/t))}(e),r=Math.min(t.maxTicksLimit||n,n),s=t.major.enabled?function PBt(e){const i=[];let t,n;for(t=0,n=e.length;t<n;t++)e[t].major&&i.push(t);return i}(i):[],o=s.length,l=s[0],b=s[o-1],C=[];if(o>r)return function FBt(e,i,t,n){let o,r=0,s=t[0];for(n=Math.ceil(n),o=0;o<e.length;o++)o===s&&(i.push(e[o]),r++,s=t[r*n])}(i,C,s,o/r),C;const D=function RBt(e,i,t){const n=function OBt(e){const i=e.length;let t,n;if(i<2)return!1;for(n=e[0],t=1;t<i;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),r=i.length/t;if(!n)return Math.max(r,1);const s=function b4t(e){const i=[],t=Math.sqrt(e);let n;for(n=1;n<t;n++)e%n==0&&(i.push(n),i.push(e/n));return t===(0|t)&&i.push(t),i.sort((r,s)=>r-s).pop(),i}(n);for(let o=0,l=s.length-1;o<l;o++){const b=s[o];if(b>r)return b}return Math.max(r,1)}(s,i,r);if(o>0){let R,O;const L=o>1?Math.round((b-l)/(o-1)):null;for(_E(i,C,D,Zn(L)?0:l-L,l),R=0,O=o-1;R<O;R++)_E(i,C,D,s[R],s[R+1]);return _E(i,C,D,b,Zn(L)?i.length:b+L),C}return _E(i,C,D),C}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),b&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,n,i=this.options.reverse;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,i=!i),this._startPixel=t,this._endPixel=n,this._reversePixels=i,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Gr(this.options.afterUpdate,[this])}beforeSetDimensions(){Gr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Gr(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),Gr(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Gr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){const t=this.options.ticks;let n,r,s;for(n=0,r=i.length;n<r;n++)s=i[n],s.label=Gr(t.callback,[s.value,n,i],this)}afterTickToLabelConversion(){Gr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Gr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const i=this.options,t=i.ticks,n=GZ(this.ticks.length,i.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let l,b,C,o=r;if(!this._isVisible()||!t.display||r>=s||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const D=this._getLabelSizes(),R=D.widest.width,O=D.highest.height,L=Ia(this.chart.width-R,0,this.maxWidth);l=i.offset?this.maxWidth/n:L/(n-1),R+6>l&&(l=L/(n-(i.offset?.5:1)),b=this.maxHeight-n1(i.grid)-t.padding-WZ(i.title,this.chart.options.font),C=Math.sqrt(R*R+O*O),o=JO(Math.min(Math.asin(Ia((D.highest.height+6)/l,-1,1)),Math.asin(Ia(b/C,-1,1))-Math.asin(Ia(O/C,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Gr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Gr(this.options.beforeFit,[this])}fit(){const i={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:s}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const b=WZ(r,t.options.font);if(l?(i.width=this.maxWidth,i.height=n1(s)+b):(i.height=this.maxHeight,i.width=n1(s)+b),n.display&&this.ticks.length){const{first:C,last:D,widest:R,highest:O}=this._getLabelSizes(),L=2*n.padding,U=Mc(this.labelRotation),X=Math.cos(U),W=Math.sin(U);l?i.height=Math.min(this.maxHeight,i.height+(n.mirror?0:W*R.width+X*O.height)+L):i.width=Math.min(this.maxWidth,i.width+(n.mirror?0:X*R.width+W*O.height)+L),this._calculatePadding(C,D,W,X)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,t,n,r){const{ticks:{align:s,padding:o},position:l}=this.options,b=0!==this.labelRotation,C="top"!==l&&"x"===this.axis;if(this.isHorizontal()){const D=this.getPixelForTick(0)-this.left,R=this.right-this.getPixelForTick(this.ticks.length-1);let O=0,L=0;b?C?(O=r*i.width,L=n*t.height):(O=n*i.height,L=r*t.width):"start"===s?L=t.width:"end"===s?O=i.width:"inner"!==s&&(O=i.width/2,L=t.width/2),this.paddingLeft=Math.max((O-D+o)*this.width/(this.width-D),0),this.paddingRight=Math.max((L-R+o)*this.width/(this.width-R),0)}else{let D=t.height/2,R=i.height/2;"start"===s?(D=0,R=i.height):"end"===s&&(D=t.height,R=0),this.paddingTop=D+o,this.paddingBottom=R+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Gr(this.options.afterFit,[this])}isHorizontal(){const{axis:i,position:t}=this.options;return"top"===t||"bottom"===t||"x"===i}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(i),t=0,n=i.length;t<n;t++)Zn(i[t].label)&&(i.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=HZ(n,t)),this._labelSizes=i=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return i}_computeLabelSizes(i,t,n){const{ctx:r,_longestTextCache:s}=this,o=[],l=[],b=Math.floor(t/GZ(t,n));let R,O,L,U,X,W,Z,rt,st,vt,_t,C=0,D=0;for(R=0;R<t;R+=b){if(U=i[R].label,X=this._resolveTickFontOptions(R),r.font=W=X.string,Z=s[W]=s[W]||{data:{},gc:[]},rt=X.lineHeight,st=vt=0,Zn(U)||Qr(U)){if(Qr(U))for(O=0,L=U.length;O<L;++O)_t=U[O],!Zn(_t)&&!Qr(_t)&&(st=hE(r,Z.data,Z.gc,st,_t),vt+=rt)}else st=hE(r,Z.data,Z.gc,st,U),vt=rt;o.push(st),l.push(vt),C=Math.max(st,C),D=Math.max(vt,D)}!function BBt(e,i){_r(e,t=>{const n=t.gc,r=n.length/2;let s;if(r>i){for(s=0;s<r;++s)delete t.data[n[s]];n.splice(0,r)}})}(s,t);const Mt=o.indexOf(C),ft=l.indexOf(D),dt=pt=>({width:o[pt]||0,height:l[pt]||0});return{first:dt(0),last:dt(t-1),widest:dt(Mt),highest:dt(ft),widths:o,heights:l}}getLabelForValue(i){return i}getPixelForValue(i,t){return NaN}getValueForPixel(i){}getPixelForTick(i){const t=this.ticks;return i<0||i>t.length-1?null:this.getPixelForValue(t[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);const t=this._startPixel+i*this._length;return function T4t(e){return Ia(e,-32768,32767)}(this._alignToPixels?Lm(this.chart,t,0):t)}getDecimalForPixel(i){const t=(i-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:i,max:t}=this;return i<0&&t<0?t:i>0&&t>0?i:0}getContext(i){const t=this.ticks||[];if(i>=0&&i<t.length){const n=t[i];return n.$context||(n.$context=function UBt(e,i,t){return cf(e,{tick:t,index:i,type:"tick"})}(this.getContext(),i,n))}return this.$context||(this.$context=function VBt(e,i){return cf(e,{scale:i,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const i=this.options.ticks,t=Mc(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=i.autoSkipPadding||0,l=s?s.widest.width+o:0,b=s?s.highest.height+o:0;return this.isHorizontal()?b*n>l*r?l/n:b/r:b*r<l*n?b/n:l/r}_isVisible(){const i=this.options.display;return"auto"!==i?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){const t=this.axis,n=this.chart,r=this.options,{grid:s,position:o,border:l}=r,b=s.offset,C=this.isHorizontal(),R=this.ticks.length+(b?1:0),O=n1(s),L=[],U=l.setContext(this.getContext()),X=U.display?U.width:0,W=X/2,Z=function(fe){return Lm(n,fe,X)};let rt,st,vt,_t,Mt,ft,dt,pt,bt,Tt,Et,Dt;if("top"===o)rt=Z(this.bottom),ft=this.bottom-O,pt=rt-W,Tt=Z(i.top)+W,Dt=i.bottom;else if("bottom"===o)rt=Z(this.top),Tt=i.top,Dt=Z(i.bottom)-W,ft=rt+W,pt=this.top+O;else if("left"===o)rt=Z(this.right),Mt=this.right-O,dt=rt-W,bt=Z(i.left)+W,Et=i.right;else if("right"===o)rt=Z(this.left),bt=i.left,Et=Z(i.right)-W,Mt=rt+W,dt=this.left+O;else if("x"===t){if("center"===o)rt=Z((i.top+i.bottom)/2+.5);else if(Un(o)){const fe=Object.keys(o)[0];rt=Z(this.chart.scales[fe].getPixelForValue(o[fe]))}Tt=i.top,Dt=i.bottom,ft=rt+W,pt=ft+O}else if("y"===t){if("center"===o)rt=Z((i.left+i.right)/2);else if(Un(o)){const fe=Object.keys(o)[0];rt=Z(this.chart.scales[fe].getPixelForValue(o[fe]))}Mt=rt-W,dt=Mt-O,bt=i.left,Et=i.right}const Le=mn(r.ticks.maxTicksLimit,R),ve=Math.max(1,Math.ceil(R/Le));for(st=0;st<R;st+=ve){const fe=this.getContext(st),Qt=s.setContext(fe),_e=l.setContext(fe),Ne=Qt.lineWidth,Se=Qt.color,Ei=_e.dash||[],Kt=_e.dashOffset,Re=Qt.tickWidth,Ce=Qt.tickColor,oi=Qt.tickBorderDash||[],ui=Qt.tickBorderDashOffset;vt=NBt(this,st,b),void 0!==vt&&(_t=Lm(n,vt,Ne),C?Mt=dt=bt=Et=_t:ft=pt=Tt=Dt=_t,L.push({tx1:Mt,ty1:ft,tx2:dt,ty2:pt,x1:bt,y1:Tt,x2:Et,y2:Dt,width:Ne,color:Se,borderDash:Ei,borderDashOffset:Kt,tickWidth:Re,tickColor:Ce,tickBorderDash:oi,tickBorderDashOffset:ui}))}return this._ticksLength=R,this._borderValue=rt,L}_computeLabelItems(i){const t=this.axis,n=this.options,{position:r,ticks:s}=n,o=this.isHorizontal(),l=this.ticks,{align:b,crossAlign:C,padding:D,mirror:R}=s,O=n1(n.grid),L=O+D,U=R?-D:L,X=-Mc(this.labelRotation),W=[];let Z,rt,st,vt,_t,Mt,ft,dt,pt,bt,Tt,Et,Dt="middle";if("top"===r)Mt=this.bottom-U,ft=this._getXAxisLabelAlignment();else if("bottom"===r)Mt=this.top+U,ft=this._getXAxisLabelAlignment();else if("left"===r){const ve=this._getYAxisLabelAlignment(O);ft=ve.textAlign,_t=ve.x}else if("right"===r){const ve=this._getYAxisLabelAlignment(O);ft=ve.textAlign,_t=ve.x}else if("x"===t){if("center"===r)Mt=(i.top+i.bottom)/2+L;else if(Un(r)){const ve=Object.keys(r)[0];Mt=this.chart.scales[ve].getPixelForValue(r[ve])+L}ft=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)_t=(i.left+i.right)/2-L;else if(Un(r)){const ve=Object.keys(r)[0];_t=this.chart.scales[ve].getPixelForValue(r[ve])}ft=this._getYAxisLabelAlignment(O).textAlign}"y"===t&&("start"===b?Dt="top":"end"===b&&(Dt="bottom"));const Le=this._getLabelSizes();for(Z=0,rt=l.length;Z<rt;++Z){st=l[Z],vt=st.label;const ve=s.setContext(this.getContext(Z));dt=this.getPixelForTick(Z)+s.labelOffset,pt=this._resolveTickFontOptions(Z),bt=pt.lineHeight,Tt=Qr(vt)?vt.length:1;const fe=Tt/2,Qt=ve.color,_e=ve.textStrokeColor,Ne=ve.textStrokeWidth;let Ei,Se=ft;if(o?(_t=dt,"inner"===ft&&(Se=Z===rt-1?this.options.reverse?"left":"right":0===Z?this.options.reverse?"right":"left":"center"),Et="top"===r?"near"===C||0!==X?-Tt*bt+bt/2:"center"===C?-Le.highest.height/2-fe*bt+bt:bt/2-Le.highest.height:"near"===C||0!==X?bt/2:"center"===C?Le.highest.height/2-fe*bt:Le.highest.height-Tt*bt,R&&(Et*=-1),0!==X&&!ve.showLabelBackdrop&&(_t+=bt/2*Math.sin(X))):(Mt=dt,Et=(1-Tt)*bt/2),ve.showLabelBackdrop){const Kt=co(ve.backdropPadding),Re=Le.heights[Z],Ce=Le.widths[Z];let oi=Et-Kt.top,ui=0-Kt.left;switch(Dt){case"middle":oi-=Re/2;break;case"bottom":oi-=Re}switch(ft){case"center":ui-=Ce/2;break;case"right":ui-=Ce;break;case"inner":Z===rt-1?ui-=Ce:Z>0&&(ui-=Ce/2)}Ei={left:ui,top:oi,width:Ce+Kt.width,height:Re+Kt.height,color:ve.backdropColor}}W.push({label:vt,font:pt,textOffset:Et,options:{rotation:X,color:Qt,strokeColor:_e,strokeWidth:Ne,textAlign:Se,textBaseline:Dt,translation:[_t,Mt],backdrop:Ei}})}return W}_getXAxisLabelAlignment(){const{position:i,ticks:t}=this.options;if(-Mc(this.labelRotation))return"top"===i?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(i){const{position:t,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,l=i+s,b=this._getLabelSizes().widest.width;let C,D;return"left"===t?r?(D=this.right+s,"near"===n?C="left":"center"===n?(C="center",D+=b/2):(C="right",D+=b)):(D=this.right-l,"near"===n?C="right":"center"===n?(C="center",D-=b/2):(C="left",D=this.left)):"right"===t?r?(D=this.left+s,"near"===n?C="right":"center"===n?(C="center",D-=b/2):(C="left",D-=b)):(D=this.left+l,"near"===n?C="left":"center"===n?(C="center",D+=b/2):(C="right",D=this.right)):C="right",{textAlign:C,x:D}}_computeLabelArea(){if(this.options.ticks.mirror)return;const i=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:i.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:i.width}:void 0}drawBackground(){const{ctx:i,options:{backgroundColor:t},left:n,top:r,width:s,height:o}=this;t&&(i.save(),i.fillStyle=t,i.fillRect(n,r,s,o),i.restore())}getLineWidthForValue(i){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===i);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(i){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i));let s,o;const l=(b,C,D)=>{!D.width||!D.color||(n.save(),n.lineWidth=D.width,n.strokeStyle=D.color,n.setLineDash(D.borderDash||[]),n.lineDashOffset=D.borderDashOffset,n.beginPath(),n.moveTo(b.x,b.y),n.lineTo(C.x,C.y),n.stroke(),n.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){const b=r[s];t.drawOnChartArea&&l({x:b.x1,y:b.y1},{x:b.x2,y:b.y2},b),t.drawTicks&&l({x:b.tx1,y:b.ty1},{x:b.tx2,y:b.ty2},{color:b.tickColor,width:b.tickWidth,borderDash:b.tickBorderDash,borderDashOffset:b.tickBorderDashOffset})}}drawBorder(){const{chart:i,ctx:t,options:{border:n,grid:r}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;const l=r.setContext(this.getContext(0)).lineWidth,b=this._borderValue;let C,D,R,O;this.isHorizontal()?(C=Lm(i,this.left,o)-o/2,D=Lm(i,this.right,l)+l/2,R=O=b):(R=Lm(i,this.top,o)-o/2,O=Lm(i,this.bottom,l)+l/2,C=D=b),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(C,R),t.lineTo(D,O),t.stroke(),t.restore()}drawLabels(i){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&fE(n,r);const s=this.getLabelItems(i);for(const o of s)Nm(n,o.label,0,o.textOffset,o.font,o.options);r&&mE(n)}drawTitle(){const{ctx:i,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const s=pa(n.font),o=co(n.padding),l=n.align;let b=s.lineHeight/2;"bottom"===t||"center"===t||Un(t)?(b+=o.bottom,Qr(n.text)&&(b+=s.lineHeight*(n.text.length-1))):b+=o.top;const{titleX:C,titleY:D,maxWidth:R,rotation:O}=function GBt(e,i,t,n){const{top:r,left:s,bottom:o,right:l,chart:b}=e,{chartArea:C,scales:D}=b;let O,L,U,R=0;const X=o-r,W=l-s;if(e.isHorizontal()){if(L=lo(n,s,l),Un(t)){const Z=Object.keys(t)[0];U=D[Z].getPixelForValue(t[Z])+X-i}else U="center"===t?(C.bottom+C.top)/2+X-i:zZ(e,t,i);O=l-s}else{if(Un(t)){const Z=Object.keys(t)[0];L=D[Z].getPixelForValue(t[Z])-W+i}else L="center"===t?(C.left+C.right)/2-W+i:zZ(e,t,i);U=lo(n,o,r),R="left"===t?-Ns:Ns}return{titleX:L,titleY:U,maxWidth:O,rotation:R}}(this,b,t,l);Nm(i,n.text,0,0,s,{color:n.color,maxWidth:R,rotation:O,textAlign:zBt(l,t,r),textBaseline:"middle",translation:[C,D]})}draw(i){this._isVisible()&&(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){const i=this.options,t=i.ticks&&i.ticks.z||0,n=mn(i.grid&&i.grid.z,-1),r=mn(i.border&&i.border.z,0);return this._isVisible()&&this.draw===Hm.prototype.draw?[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]:[{z:t,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(i){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let s,o;for(s=0,o=t.length;s<o;++s){const l=t[s];l[n]===this.id&&(!i||l.type===i)&&r.push(l)}return r}_resolveTickFontOptions(i){return pa(this.options.ticks.setContext(this.getContext(i)).font)}_maxDigits(){const i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}}class TE{constructor(i,t,n){this.type=i,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){const t=Object.getPrototypeOf(i);let n;(function XBt(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,s=i.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+i);return s in r||(r[s]=i,function HBt(e,i,t){const n=Ub(Object.create(null),[t?as.get(t):{},as.get(i),e.defaults]);as.set(i,n),e.defaultRoutes&&function WBt(e,i){Object.keys(i).forEach(t=>{const n=t.split("."),r=n.pop(),s=[e].concat(n).join("."),o=i[t].split("."),l=o.pop(),b=o.join(".");as.route(s,r,b,l)})}(i,e.defaultRoutes),e.descriptors&&as.describe(i,e.descriptors)}(i,o,n),this.override&&as.override(i.id,i.overrides)),o}get(i){return this.items[i]}unregister(i){const t=this.items,n=i.id,r=this.scope;n in t&&delete t[n],r&&n in as[r]&&(delete as[r][n],this.override&&delete Om[n])}}class jBt{constructor(){this.controllers=new TE(df,"datasets",!0),this.elements=new TE(Lu,"elements"),this.plugins=new TE(Object,"plugins"),this.scales=new TE(Hm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,t,n){[...t].forEach(r=>{const s=n||this._getRegistryForType(r);n||s.isForType(r)||s===this.plugins&&r.id?this._exec(i,s,r):_r(r,o=>{const l=n||this._getRegistryForType(o);this._exec(i,l,o)})})}_exec(i,t,n){const r=ZO(i);Gr(n["before"+r],[],n),t[i](n),Gr(n["after"+r],[],n)}_getRegistryForType(i){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(i))return n}return this.plugins}_get(i,t,n){const r=t.get(i);if(void 0===r)throw new Error('"'+i+'" is not a registered '+n+".");return r}}var bd=new jBt;class YBt{constructor(){this._init=[]}notify(i,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));const s=r?this._descriptors(i).filter(r):this._descriptors(i),o=this._notify(s,i,t,n);return"afterDestroy"===t&&(this._notify(s,i,"stop"),this._notify(this._init,i,"uninstall")),o}_notify(i,t,n,r){r=r||{};for(const s of i){const o=s.plugin;if(!1===Gr(o[n],[t,r,s.options],o)&&r.cancelable)return!1}return!0}invalidate(){Zn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),t}_createDescriptors(i,t){const n=i&&i.config,r=mn(n.options&&n.options.plugins,{}),s=function $Bt(e){const i={},t=[],n=Object.keys(bd.plugins.items);for(let s=0;s<n.length;s++)t.push(bd.getPlugin(n[s]));const r=e.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];-1===t.indexOf(o)&&(t.push(o),i[o.id]=!0)}return{plugins:t,localIds:i}}(n);return!1!==r||t?function KBt(e,{plugins:i,localIds:t},n,r){const s=[],o=e.getContext();for(const l of i){const b=l.id,C=QBt(n[b],r);null!==C&&s.push({plugin:l,options:ZBt(e.config,{plugin:l,local:t[b]},C,o)})}return s}(i,s,r,t):[]}_notifyStateChanges(i){const t=this._oldCache||[],n=this._cache,r=(s,o)=>s.filter(l=>!o.some(b=>l.plugin.id===b.plugin.id));this._notify(r(t,n),i,"stop"),this._notify(r(n,t),i,"start")}}function QBt(e,i){return i||!1!==e?!0===e?{}:e:null}function ZBt(e,{plugin:i,local:t},n,r){const s=e.pluginScopeKeys(i),o=e.getOptionScopes(n,s);return t&&i.defaults&&o.push(i.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function _L(e,i){return((i.datasets||{})[e]||{}).indexAxis||i.indexAxis||(as.datasets[e]||{}).indexAxis||"x"}function XZ(e){if("x"===e||"y"===e||"r"===e)return e}function t5t(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function TL(e,...i){if(XZ(e))return e;for(const t of i){const n=t.axis||t5t(t.position)||e.length>1&&XZ(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function jZ(e,i,t){if(t[i+"AxisID"]===e)return{axis:i}}function YZ(e){const i=e.options||(e.options={});i.plugins=mn(i.plugins,{}),i.scales=function i5t(e,i){const t=Om[e.type]||{scales:{}},n=i.scales||{},r=_L(e.type,i),s=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!Un(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const b=TL(o,l,function e5t(e,i){if(i.data&&i.data.datasets){const t=i.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(t.length)return jZ(e,"x",t[0])||jZ(e,"y",t[0])}return{}}(o,e),as.scales[l.type]),C=function qBt(e,i){return e===i?"_index_":"_value_"}(b,r),D=t.scales||{};s[o]=zb(Object.create(null),[{axis:b},l,D[b],D[C]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,b=o.indexAxis||_L(l,i),D=(Om[l]||{}).scales||{};Object.keys(D).forEach(R=>{const O=function JBt(e,i){let t=e;return"_index_"===e?t=i:"_value_"===e&&(t="x"===i?"y":"x"),t}(R,b),L=o[O+"AxisID"]||O;s[L]=s[L]||Object.create(null),zb(s[L],[{axis:O},n[L],D[R]])})}),Object.keys(s).forEach(o=>{const l=s[o];zb(l,[as.scales[l.type],as.scale])}),s}(e,i)}function $Z(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const QZ=new Map,KZ=new Set;function CE(e,i){let t=QZ.get(e);return t||(t=i(),QZ.set(e,t),KZ.add(t)),t}const r1=(e,i,t)=>{const n=sf(i,t);void 0!==n&&e.add(n)};class r5t{constructor(i){this._config=function n5t(e){return(e=e||{}).data=$Z(e.data),YZ(e),e}(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=$Z(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){const i=this._config;this.clearCache(),YZ(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return CE(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,t){return CE(`${i}.transition.${t}`,()=>[[`datasets.${i}.transitions.${t}`,`transitions.${t}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,t){return CE(`${i}-${t}`,()=>[[`datasets.${i}.elements.${t}`,`datasets.${i}`,`elements.${t}`,""]])}pluginScopeKeys(i){const t=i.id;return CE(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,t){const n=this._scopeCache;let r=n.get(i);return(!r||t)&&(r=new Map,n.set(i,r)),r}getOptionScopes(i,t,n){const{options:r,type:s}=this,o=this._cachedScopes(i,n),l=o.get(t);if(l)return l;const b=new Set;t.forEach(D=>{i&&(b.add(i),D.forEach(R=>r1(b,i,R))),D.forEach(R=>r1(b,r,R)),D.forEach(R=>r1(b,Om[s]||{},R)),D.forEach(R=>r1(b,as,R)),D.forEach(R=>r1(b,rL,R))});const C=Array.from(b);return 0===C.length&&C.push(Object.create(null)),KZ.has(t)&&o.set(t,C),C}chartOptionScopes(){const{options:i,type:t}=this;return[i,Om[t]||{},as.datasets[t]||{},{type:t},as,rL]}resolveNamedOptions(i,t,n,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:l}=ZZ(this._resolverCache,i,r);let b=o;(function a5t(e,i){const{isScriptable:t,isIndexable:n}=qK(e);for(const r of i){const s=t(r),o=n(r),l=(o||s)&&e[r];if(s&&(af(l)||s5t(l))||o&&Qr(l))return!0}return!1})(o,t)&&(s.$shared=!1,b=r0(o,n=af(n)?n():n,this.createResolver(i,n,l)));for(const C of t)s[C]=b[C];return s}createResolver(i,t,n=[""],r){const{resolver:s}=ZZ(this._resolverCache,i,n);return Un(t)?r0(s,t,void 0,r):s}}function ZZ(e,i,t){let n=e.get(i);n||(n=new Map,e.set(i,n));const r=t.join();let s=n.get(r);return s||(s={resolver:lL(i,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},n.set(r,s)),s}const s5t=e=>Un(e)&&Object.getOwnPropertyNames(e).some(i=>af(e[i])),l5t=["top","bottom","left","right","chartArea"];function JZ(e,i){return"top"===e||"bottom"===e||-1===l5t.indexOf(e)&&"x"===i}function qZ(e,i){return function(t,n){return t[e]===n[e]?t[i]-n[i]:t[e]-n[e]}}function tJ(e){const i=e.chart,t=i.options.animation;i.notifyPlugins("afterRender"),Gr(t&&t.onComplete,[e],i)}function c5t(e){const i=e.chart,t=i.options.animation;Gr(t&&t.onProgress,[e],i)}function eJ(e){return uL()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const SE={},iJ=e=>{const i=eJ(e);return Object.values(SE).filter(t=>t.canvas===i).pop()};function d5t(e,i,t){const n=Object.keys(e);for(const r of n){const s=+r;if(s>=i){const o=e[r];delete e[r],(t>0||s>i)&&(e[s+t]=o)}}}function EE(e,i,t){return e.options.clip?e[t]:i[t]}let CL=(()=>class e{static defaults=as;static instances=SE;static overrides=Om;static registry=bd;static version="4.4.7";static getChart=iJ;static register(...t){bd.add(...t),nJ()}static unregister(...t){bd.remove(...t),nJ()}constructor(t,n){const r=this.config=new r5t(n),s=eJ(t),o=iJ(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function MBt(e){return!uL()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?gBt:DBt}(s)),this.platform.updateConfig(r);const b=this.platform.acquireContext(s,l.aspectRatio),C=b&&b.canvas,D=C&&C.height,R=C&&C.width;this.id=u4t(),this.ctx=b,this.canvas=C,this.width=R,this.height=D,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new YBt,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function A4t(e,i){let t;return function(...n){return i?(clearTimeout(t),t=setTimeout(e,i,n)):e.apply(this,n),i}}(O=>this.update(O),l.resizeDelay||0),this._dataChanges=[],SE[this.id]=this,b&&C?(Ou.listen(this,"complete",tJ),Ou.listen(this,"progress",c5t),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:s,_aspectRatio:o}=this;return Zn(t)?n&&o?o:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return bd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():oZ(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return KK(this.canvas,this.ctx),this}stop(){return Ou.stop(this),this}resize(t,n){Ou.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,l=this.platform.getMaximumSize(this.canvas,t,n,r.maintainAspectRatio&&this.aspectRatio),b=r.devicePixelRatio||this.platform.getDevicePixelRatio(),C=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,oZ(this,b,!0)&&(this.notifyPlugins("resize",{size:l}),Gr(r.onResize,[this,l],this),this.attached&&this._doResize(C)&&this.render())}ensureScalesHaveIDs(){_r(this.options.scales||{},(r,s)=>{r.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,s=Object.keys(r).reduce((l,b)=>(l[b]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const b=n[l],C=TL(l,b),D="r"===C,R="x"===C;return{options:b,dposition:D?"chartArea":R?"bottom":"left",dtype:D?"radialLinear":R?"category":"linear"}}))),_r(o,l=>{const b=l.options,C=b.id,D=TL(C,b),R=mn(b.type,l.dtype);(void 0===b.position||JZ(b.position,D)!==JZ(l.dposition))&&(b.position=l.dposition),s[C]=!0;let O=null;C in r&&r[C].type===R?O=r[C]:(O=new(bd.getScale(R))({id:C,type:R,ctx:this.ctx,chart:this}),r[O.id]=O),O.init(b,t)}),_r(s,(l,b)=>{l||delete r[b]}),_r(r,l=>{uo.configure(this,l,l.options),uo.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((s,o)=>s.index-o.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(qZ("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,s)=>{0===n.filter(o=>o===r._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const o=n[r];let l=this.getDatasetMeta(r);const b=o.type||this.config.type;if(l.type&&l.type!==b&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=b,l.indexAxis=o.indexAxis||_L(b,this.options),l.order=o.order||0,l.index=r,l.label=""+o.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const C=bd.getController(b),{datasetElementType:D,dataElementType:R}=as.datasets[b];Object.assign(C,{dataElementType:bd.getElement(R),datasetElementType:D&&bd.getElement(D)}),l.controller=new C(this,r),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){_r(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let D=0,R=this.data.datasets.length;D<R;D++){const{controller:O}=this.getDatasetMeta(D),L=!s&&-1===o.indexOf(O);O.buildOrUpdateElements(L),l=Math.max(+O.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),s||_r(o,D=>{D.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(qZ("z","_idx"));const{_active:b,_lastEvent:C}=this;C?this._eventHandler(C,!0):b.length&&this._updateHoverStyles(b,b,!0),this.render()}_updateScales(){_r(this.scales,t=>{uo.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!RK(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:o}of n)d5t(t,s,"_removeElements"===r?-o:o)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=o=>new Set(t.filter(l=>l[0]===o).map((l,b)=>b+","+l.splice(1).join(","))),s=r(0);for(let o=1;o<n;o++)if(!RK(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;uo.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],_r(this.boxes,s=>{r&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,af(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),s={meta:r,index:t,mode:n,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Ou.has(this)?this.attached&&!Ou.running(this)&&Ou.start(this):(this.draw(),tJ({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let s,o;for(s=0,o=n.length;s<o;++s){const l=n[s];(!t||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r=t._clip,s=!r.disabled,o=function h5t(e,i){const{xScale:t,yScale:n}=e;return t&&n?{left:EE(t,i,"left"),right:EE(t,i,"right"),top:EE(n,i,"top"),bottom:EE(n,i,"bottom")}:i}(t,this.chartArea),l={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",l)&&(s&&fE(n,{left:!1===r.left?0:o.left-r.left,right:!1===r.right?this.width:o.right+r.right,top:!1===r.top?0:o.top-r.top,bottom:!1===r.bottom?this.height:o.bottom+r.bottom}),t.controller.draw(),s&&mE(n),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(t){return Fu(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,s){const o=lBt.modes[n];return"function"==typeof o?o(this,t,r,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let s=r.filter(o=>o&&o._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=cf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return"boolean"==typeof r.hidden?!r.hidden:!n.hidden}setDatasetVisibility(t,n){this.getDatasetMeta(t).hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const s=r?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,s);Gb(n)?(o.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),l.update(o,{visible:r}),this.update(b=>b.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ou.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),KK(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete SE[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(o,l)=>{n.addEventListener(this,o,l),t[o]=l},s=(o,l,b)=>{o.offsetX=l,o.offsetY=b,this._eventHandler(o)};_r(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(C,D)=>{n.addEventListener(this,C,D),t[C]=D},s=(C,D)=>{t[C]&&(n.removeEventListener(this,C,D),delete t[C])},o=(C,D)=>{this.canvas&&this.resize(C,D)};let l;const b=()=>{s("attach",b),this.attached=!0,this.resize(),r("resize",o),r("detach",l)};l=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",b)},n.isAttached(this.canvas)?b():l()}unbindEvents(){_r(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},_r(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const s=r?"set":"remove";let o,l,b,C;for("dataset"===n&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),b=0,C=t.length;b<C;++b){l=t[b];const D=l&&this.getDatasetMeta(l.datasetIndex).controller;D&&D[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:o,index:l})=>{const b=this.getDatasetMeta(o);if(!b)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:b.data[l],index:l}});!oE(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return 1===this._plugins._cache.filter(n=>n.plugin.id===t).length}_updateHoverStyles(t,n,r){const s=this.options.hover,o=(C,D)=>C.filter(R=>!D.some(O=>R.datasetIndex===O.datasetIndex&&R.index===O.index)),l=o(n,t),b=r?t:o(t,n);l.length&&this.updateHoverStyle(l,s.mode,!1),b.length&&s.mode&&this.updateHoverStyle(b,s.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",r,s))return;const o=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:s=[],options:o}=this,b=this._getActiveElements(t,s,r,n),C=function v4t(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(t),D=function u5t(e,i,t,n){return t&&"mouseout"!==e.type?n?i:e:null}(t,this._lastEvent,r,C);r&&(this._lastEvent=null,Gr(o.onHover,[t,b,this],this),C&&Gr(o.onClick,[t,b,this],this));const R=!oE(b,s);return(R||n)&&(this._active=b,this._updateHoverStyles(b,s,n)),this._lastEvent=D,R}_getActiveElements(t,n,r,s){if("mouseout"===t.type)return[];if(!r)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}})();function nJ(){return _r(CL.instances,e=>e._plugins.invalidate())}function o0(e,i,t,n){return{x:t+e*Math.cos(i),y:n+e*Math.sin(i)}}function AE(e,i,t,n,r,s){const{x:o,y:l,startAngle:b,pixelMargin:C,innerRadius:D}=i,R=Math.max(i.outerRadius+n+t-C,0),O=D>0?D+n+t+C:0;let L=0;const U=r-b;if(n){const Qt=((D>0?D-n:0)+(R>0?R-n:0))/2;L=(U-(0!==Qt?U*Qt/(Qt+n):U))/2}const W=(U-Math.max(.001,U*R-t/Kr)/R)/2,Z=b+W+L,rt=r-W-L,{outerStart:st,outerEnd:vt,innerStart:_t,innerEnd:Mt}=function p5t(e,i,t,n){const r=function m5t(e){return oL(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),s=(t-i)/2,o=Math.min(s,n*i/2),l=b=>{const C=(t-Math.min(s,b))*n/2;return Ia(b,0,Math.min(s,C))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:Ia(r.innerStart,0,o),innerEnd:Ia(r.innerEnd,0,o)}}(i,O,R,rt-Z),ft=R-st,dt=R-vt,pt=Z+st/ft,bt=rt-vt/dt,Tt=O+_t,Et=O+Mt,Dt=Z+_t/Tt,Le=rt-Mt/Et;if(e.beginPath(),s){const ve=(pt+bt)/2;if(e.arc(o,l,R,pt,ve),e.arc(o,l,R,ve,bt),vt>0){const Ne=o0(dt,bt,o,l);e.arc(Ne.x,Ne.y,vt,bt,rt+Ns)}const fe=o0(Et,rt,o,l);if(e.lineTo(fe.x,fe.y),Mt>0){const Ne=o0(Et,Le,o,l);e.arc(Ne.x,Ne.y,Mt,rt+Ns,Le+Math.PI)}const Qt=(rt-Mt/O+(Z+_t/O))/2;if(e.arc(o,l,O,rt-Mt/O,Qt,!0),e.arc(o,l,O,Qt,Z+_t/O,!0),_t>0){const Ne=o0(Tt,Dt,o,l);e.arc(Ne.x,Ne.y,_t,Dt+Math.PI,Z-Ns)}const _e=o0(ft,Z,o,l);if(e.lineTo(_e.x,_e.y),st>0){const Ne=o0(ft,pt,o,l);e.arc(Ne.x,Ne.y,st,Z-Ns,pt)}}else{e.moveTo(o,l);const ve=Math.cos(pt)*R+o,fe=Math.sin(pt)*R+l;e.lineTo(ve,fe);const Qt=Math.cos(bt)*R+o,_e=Math.sin(bt)*R+l;e.lineTo(Qt,_e)}e.closePath()}function rJ(e,i,t=i){e.lineCap=mn(t.borderCapStyle,i.borderCapStyle),e.setLineDash(mn(t.borderDash,i.borderDash)),e.lineDashOffset=mn(t.borderDashOffset,i.borderDashOffset),e.lineJoin=mn(t.borderJoinStyle,i.borderJoinStyle),e.lineWidth=mn(t.borderWidth,i.borderWidth),e.strokeStyle=mn(t.borderColor,i.borderColor)}function y5t(e,i,t){e.lineTo(t.x,t.y)}function sJ(e,i,t={}){const n=e.length,{start:r=0,end:s=n-1}=t,{start:o,end:l}=i,b=Math.max(r,o),C=Math.min(s,l);return{count:n,start:b,loop:i.loop,ilen:C<b&&!(r<o&&s<o||r>l&&s>l)?n+C-b:C-b}}function w5t(e,i,t,n){const{points:r,options:s}=i,{count:o,start:l,loop:b,ilen:C}=sJ(r,t,n),D=function b5t(e){return e.stepped?V4t:e.tension||"monotone"===e.cubicInterpolationMode?U4t:y5t}(s);let L,U,X,{move:R=!0,reverse:O}=n||{};for(L=0;L<=C;++L)U=r[(l+(O?C-L:L))%o],!U.skip&&(R?(e.moveTo(U.x,U.y),R=!1):D(e,X,U,O,s.stepped),X=U);return b&&(U=r[(l+(O?C:0))%o],D(e,X,U,O,s.stepped)),!!b}function _5t(e,i,t,n){const r=i.points,{count:s,start:o,ilen:l}=sJ(r,t,n),{move:b=!0,reverse:C}=n||{};let O,L,U,X,W,Z,D=0,R=0;const rt=vt=>(o+(C?l-vt:vt))%s,st=()=>{X!==W&&(e.lineTo(D,W),e.lineTo(D,X),e.lineTo(D,Z))};for(b&&(L=r[rt(0)],e.moveTo(L.x,L.y)),O=0;O<=l;++O){if(L=r[rt(O)],L.skip)continue;const vt=L.x,_t=L.y,Mt=0|vt;Mt===U?(_t<X?X=_t:_t>W&&(W=_t),D=(R*D+vt)/++R):(st(),e.lineTo(vt,_t),U=Mt,R=0,X=W=_t),Z=_t}st()}function SL(e){const i=e.options;return e._decimated||e._loop||i.tension||"monotone"===i.cubicInterpolationMode||i.stepped||i.borderDash&&i.borderDash.length?w5t:_5t}const E5t="function"==typeof Path2D;let DE=(()=>class e extends Lu{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(d3t(this._points,r,t,r.spanGaps?this._loop:this._fullLoop,n),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function S3t(e,i){const t=e.points,n=e.options.spanGaps,r=t.length;if(!r)return[];const s=!!e._loop,{start:o,end:l}=function T3t(e,i,t,n){let r=0,s=i-1;if(t&&!n)for(;r<i&&!e[r].skip;)r++;for(;r<i&&e[r].skip;)r++;for(r%=i,t&&(s+=r);s>r&&e[s%i].skip;)s--;return s%=i,{start:r,end:s}}(t,r,s,n);return function pZ(e,i,t,n){return n&&n.setContext&&t?function E3t(e,i,t,n){const r=e._chart.getContext(),s=gZ(e.options),{_datasetIndex:o,options:{spanGaps:l}}=e,b=t.length,C=[];let D=s,R=i[0].start,O=R;function L(U,X,W,Z){const rt=l?-1:1;if(U!==X){for(U+=b;t[U%b].skip;)U-=rt;for(;t[X%b].skip;)X+=rt;U%b!=X%b&&(C.push({start:U%b,end:X%b,loop:W,style:Z}),D=Z,R=X%b)}}for(const U of i){R=l?R:U.start;let W,X=t[R%b];for(O=R+1;O<=U.end;O++){const Z=t[O%b];W=gZ(n.setContext(cf(r,{type:"segment",p0:X,p1:Z,p0DataIndex:(O-1)%b,p1DataIndex:O%b,datasetIndex:o}))),A3t(W,D)&&L(R,O-1,U.loop,D),X=Z,D=W}R<O-1&&L(R,O-1,U.loop,D)}return C}(e,i,t,n):i}(e,!0===n?[{start:o,end:l,loop:s}]:function C3t(e,i,t,n){const r=e.length,s=[];let b,o=i,l=e[i];for(b=i+1;b<=t;++b){const C=e[b%r];C.skip||C.stop?l.skip||(s.push({start:i%r,end:(b-1)%r,loop:n=!1}),i=o=C.stop?b:null):(o=b,l.skip&&(i=b)),l=C}return null!==o&&s.push({start:i%r,end:o%r,loop:n}),s}(t,o,l<o?l+r:l,!!e._fullLoop&&0===o&&l===r-1),t,i)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,r=t.length;return r&&this.points[t[r-1].end]}interpolate(t,n){const r=this.options,s=t[n],o=this.points,l=mZ(this,{property:n,start:s,end:s});if(!l.length)return;const b=[],C=function T5t(e){return e.stepped?x3t:e.tension||"monotone"===e.cubicInterpolationMode?y3t:zm}(r);let D,R;for(D=0,R=l.length;D<R;++D){const{start:O,end:L}=l[D],U=o[O],X=o[L];if(U===X){b.push(U);continue}const Z=C(U,X,Math.abs((s-U[n])/(X[n]-U[n])),r.stepped);Z[n]=t[n],b.push(Z)}return 1===b.length?b[0]:b}pathSegment(t,n,r){return SL(this)(t,this,n,r)}path(t,n,r){const s=this.segments,o=SL(this);let l=this._loop;n=n||0,r=r||this.points.length-n;for(const b of s)l&=o(t,this,b,{start:n,end:n+r-1});return!!l}draw(t,n,r,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function A5t(e,i,t,n){E5t&&!i.options.segment?function C5t(e,i,t,n){let r=i._path;r||(r=i._path=new Path2D,i.path(r,t,n)&&r.closePath()),rJ(e,i.options),e.stroke(r)}(e,i,t,n):function S5t(e,i,t,n){const{segments:r,options:s}=i,o=SL(i);for(const l of r)rJ(e,s,l.style),e.beginPath(),o(e,i,l,{start:t,end:t+n-1})&&e.closePath(),e.stroke()}(e,i,t,n)}(t,this,r,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function aJ(e,i,t,n){const r=e.options,{[t]:s}=e.getProps([t],n);return Math.abs(i-s)<r.radius+r.hitRadius}let D5t=(()=>class e extends Lu{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const s=this.options,{x:o,y:l}=this.getProps(["x","y"],r);return Math.pow(t-o,2)+Math.pow(n-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,n){return aJ(this,t,"x",n)}inYRange(t,n){return aJ(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){let n=(t=t||this.options||{}).radius||0;return n=Math.max(n,n&&t.hoverRadius||0),2*(n+(n&&t.borderWidth||0))}draw(t,n){const r=this.options;this.skip||r.radius<.1||!Fu(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,aL(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}})();function oJ(e,i){const{x:t,y:n,base:r,width:s,height:o}=e.getProps(["x","y","base","width","height"],i);let l,b,C,D,R;return e.horizontal?(R=o/2,l=Math.min(t,r),b=Math.max(t,r),C=n-R,D=n+R):(R=s/2,l=t-R,b=t+R,C=Math.min(n,r),D=Math.max(n,r)),{left:l,top:C,right:b,bottom:D}}function uf(e,i,t,n){return e?0:Ia(i,t,n)}function EL(e,i,t,n){const r=null===i,s=null===t,l=e&&!(r&&s)&&oJ(e,n);return l&&(r||Ru(i,l.left,l.right))&&(s||Ru(t,l.top,l.bottom))}function P5t(e,i){e.rect(i.x,i.y,i.w,i.h)}function AL(e,i,t={}){const n=e.x!==t.x?-i:0,r=e.y!==t.y?-i:0;return{x:e.x+n,y:e.y+r,w:e.w+((e.x+e.w!==t.x+t.w?i:0)-n),h:e.h+((e.y+e.h!==t.y+t.h?i:0)-r),radius:e.radius}}var O5t=Object.freeze({__proto__:null,ArcElement:class x5t extends Lu{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:i=>"borderDash"!==i};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(i){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,t,n){const r=this.getProps(["x","y"],n),{angle:s,distance:o}=NK(r,{x:i,y:t}),{startAngle:l,endAngle:b,innerRadius:C,outerRadius:D,circumference:R}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),O=(this.options.spacing+this.options.borderWidth)/2,L=mn(R,b-l),U=Wb(s,l,b)&&l!==b,X=L>=Zr||U,W=Ru(o,C+O,D+O);return X&&W}getCenterPoint(i){const{x:t,y:n,startAngle:r,endAngle:s,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:b,spacing:C}=this.options,D=(r+s)/2,R=(o+l+C+b)/2;return{x:t+Math.cos(D)*R,y:n+Math.sin(D)*R}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:t,circumference:n}=this,r=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>Zr?Math.floor(n/Zr):0,0===n||this.innerRadius<0||this.outerRadius<0)return;i.save();const l=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(l)*r,Math.sin(l)*r);const C=r*(1-Math.sin(Math.min(Kr,n||0)));i.fillStyle=t.backgroundColor,i.strokeStyle=t.borderColor,function g5t(e,i,t,n,r){const{fullCircles:s,startAngle:o,circumference:l}=i;let b=i.endAngle;if(s){AE(e,i,t,n,b,r);for(let C=0;C<s;++C)e.fill();isNaN(l)||(b=o+(l%Zr||Zr))}AE(e,i,t,n,b,r),e.fill()}(i,this,C,s,o),function v5t(e,i,t,n,r){const{fullCircles:s,startAngle:o,circumference:l,options:b}=i,{borderWidth:C,borderJoinStyle:D,borderDash:R,borderDashOffset:O}=b,L="inner"===b.borderAlign;if(!C)return;e.setLineDash(R||[]),e.lineDashOffset=O,L?(e.lineWidth=2*C,e.lineJoin=D||"round"):(e.lineWidth=C,e.lineJoin=D||"bevel");let U=i.endAngle;if(s){AE(e,i,t,n,U,r);for(let X=0;X<s;++X)e.stroke();isNaN(l)||(U=o+(l%Zr||Zr))}L&&function f5t(e,i,t){const{startAngle:n,pixelMargin:r,x:s,y:o,outerRadius:l,innerRadius:b}=i;let C=r/l;e.beginPath(),e.arc(s,o,l,n-C,t+C),b>r?(C=r/b,e.arc(s,o,b,t+C,n-C,!0)):e.arc(s,o,r,t+Ns,n-Ns),e.closePath(),e.clip()}(e,i,U),s||(AE(e,i,t,n,U,r),e.stroke())}(i,this,C,s,o),i.restore()}},BarElement:class F5t extends Lu{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:o}=function k5t(e){const i=oJ(e),t=i.right-i.left,n=i.bottom-i.top,r=function M5t(e,i,t){const r=e.borderSkipped,s=JK(e.options.borderWidth);return{t:uf(r.top,s.top,0,t),r:uf(r.right,s.right,0,i),b:uf(r.bottom,s.bottom,0,t),l:uf(r.left,s.left,0,i)}}(e,t/2,n/2),s=function I5t(e,i,t){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,s=Bm(r),o=Math.min(i,t),l=e.borderSkipped,b=n||Un(r);return{topLeft:uf(!b||l.top||l.left,s.topLeft,0,o),topRight:uf(!b||l.top||l.right,s.topRight,0,o),bottomLeft:uf(!b||l.bottom||l.left,s.bottomLeft,0,o),bottomRight:uf(!b||l.bottom||l.right,s.bottomRight,0,o)}}(e,t/2,n/2);return{outer:{x:i.left,y:i.top,w:t,h:n,radius:s},inner:{x:i.left+r.l,y:i.top+r.t,w:t-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),l=function R5t(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}(o.radius)?$b:P5t;i.save(),(o.w!==s.w||o.h!==s.h)&&(i.beginPath(),l(i,AL(o,t,s)),i.clip(),l(i,AL(s,-t,o)),i.fillStyle=n,i.fill("evenodd")),i.beginPath(),l(i,AL(s,t)),i.fillStyle=r,i.fill(),i.restore()}inRange(i,t,n){return EL(this,i,t,n)}inXRange(i,t){return EL(this,i,null,t)}inYRange(i,t){return EL(this,null,i,t)}getCenterPoint(i){const{x:t,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],i);return{x:s?(t+r)/2:t,y:s?n:(n+r)/2}}getRange(i){return"x"===i?this.width/2:this.height/2}},LineElement:DE,PointElement:D5t});const DL=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],lJ=DL.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function cJ(e){return DL[e%DL.length]}function dJ(e){return lJ[e%lJ.length]}function uJ(e){let i;for(i in e)if(e[i].borderColor||e[i].backgroundColor)return!0;return!1}var G5t={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,i,t){if(!t.enabled)return;const{data:{datasets:n},options:r}=e.config,{elements:s}=r,o=uJ(n)||function U5t(e){return e&&(e.borderColor||e.backgroundColor)}(r)||s&&uJ(s)||function z5t(){return"rgba(0,0,0,0.1)"!==as.borderColor||"rgba(0,0,0,0.1)"!==as.backgroundColor}();if(!t.forceOverride&&o)return;const l=function V5t(e){let i=0;return(t,n)=>{const r=e.getDatasetMeta(n).controller;r instanceof vL?i=function N5t(e,i){return e.backgroundColor=e.data.map(()=>cJ(i++)),i}(t,i):r instanceof MZ?i=function B5t(e,i){return e.backgroundColor=e.data.map(()=>dJ(i++)),i}(t,i):r&&(i=function L5t(e,i){return e.borderColor=cJ(i),e.backgroundColor=dJ(i),++i}(t,i))}}(e);n.forEach(l)}};function hJ(e){if(e._decimated){const i=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:i})}}function fJ(e){e.data.datasets.forEach(i=>{hJ(i)})}var j5t={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,i,t)=>{if(!t.enabled)return void fJ(e);const n=e.width;e.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:l}=r,b=e.getDatasetMeta(s),C=o||r.data;if("y"===Qb([l,e.options.indexAxis])||!b.controller.supportsDecimation)return;const D=e.scales[b.xAxisID];if("linear"!==D.type&&"time"!==D.type||e.options.parsing)return;let U,{start:R,count:O}=function X5t(e,i){const t=i.length;let r,n=0;const{iScale:s}=e,{min:o,max:l,minDefined:b,maxDefined:C}=s.getUserBounds();return b&&(n=Ia(Pu(i,s.axis,o).lo,0,t-1)),r=C?Ia(Pu(i,s.axis,l).hi+1,n,t)-n:t-n,{start:n,count:r}}(b,C);if(O<=(t.threshold||4*n))hJ(r);else{switch(Zn(o)&&(r._data=C,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(X){this._data=X}})),t.algorithm){case"lttb":U=function H5t(e,i,t,n,r){const s=r.samples||n;if(s>=t)return e.slice(i,i+t);const o=[],l=(t-2)/(s-2);let b=0;const C=i+t-1;let R,O,L,U,X,D=i;for(o[b++]=e[D],R=0;R<s-2;R++){let rt,W=0,Z=0;const st=Math.floor((R+1)*l)+1+i,vt=Math.min(Math.floor((R+2)*l)+1,t)+i,_t=vt-st;for(rt=st;rt<vt;rt++)W+=e[rt].x,Z+=e[rt].y;W/=_t,Z/=_t;const Mt=Math.floor(R*l)+1+i,ft=Math.min(Math.floor((R+1)*l)+1,t)+i,{x:dt,y:pt}=e[D];for(L=U=-1,rt=Mt;rt<ft;rt++)U=.5*Math.abs((dt-W)*(e[rt].y-pt)-(dt-e[rt].x)*(Z-pt)),U>L&&(L=U,O=e[rt],X=rt);o[b++]=O,D=X}return o[b++]=e[C],o}(C,R,O,n,t);break;case"min-max":U=function W5t(e,i,t,n){let o,l,b,C,D,R,O,L,U,X,r=0,s=0;const W=[],rt=e[i].x,vt=e[i+t-1].x-rt;for(o=i;o<i+t;++o){l=e[o],b=(l.x-rt)/vt*n,C=l.y;const _t=0|b;if(_t===D)C<U?(U=C,R=o):C>X&&(X=C,O=o),r=(s*r+l.x)/++s;else{const Mt=o-1;if(!Zn(R)&&!Zn(O)){const ft=Math.min(R,O),dt=Math.max(R,O);ft!==L&&ft!==Mt&&W.push({...e[ft],x:r}),dt!==L&&dt!==Mt&&W.push({...e[dt],x:r})}o>0&&Mt!==L&&W.push(e[Mt]),W.push(l),D=_t,s=0,U=X=C,R=O=L=o}}return W}(C,R,O,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=U}})},destroy(e){fJ(e)}};function ML(e,i,t,n){if(n)return;let r=i[e],s=t[e];return"angle"===e&&(r=Il(r),s=Il(s)),{property:e,start:r,end:s}}function IL(e,i,t){for(;i>e;i--){const n=t[i];if(!isNaN(n.x)&&!isNaN(n.y))break}return i}function mJ(e,i,t,n){return e&&i?n(e[t],i[t]):e?e[t]:i?i[t]:0}function pJ(e,i){let t=[],n=!1;return Qr(e)?(n=!0,t=e):t=function $5t(e,i){const{x:t=null,y:n=null}=e||{},r=i.points,s=[];return i.segments.forEach(({start:o,end:l})=>{l=IL(o,l,r);const b=r[o],C=r[l];null!==n?(s.push({x:b.x,y:n}),s.push({x:C.x,y:n})):null!==t&&(s.push({x:t,y:b.y}),s.push({x:t,y:C.y}))}),s}(e,i),t.length?new DE({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function gJ(e){return e&&!1!==e.fill}function Q5t(e,i,t){let r=e[i].fill;const s=[i];let o;if(!t)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!ws(r))return r;if(o=e[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function K5t(e,i,t){const n=function tVt(e){const i=e.options,t=i.fill;let n=mn(t&&t.target,t);return void 0===n&&(n=!!i.backgroundColor),!1!==n&&null!==n&&(!0===n?"origin":n)}(e);if(Un(n))return!isNaN(n.value)&&n;let r=parseFloat(n);return ws(r)&&Math.floor(r)===r?function Z5t(e,i,t,n){return("-"===e||"+"===e)&&(t=i+t),!(t===i||t<0||t>=n)&&t}(n[0],i,r,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function nVt(e,i,t){const n=[];for(let r=0;r<t.length;r++){const s=t[r],{first:o,last:l,point:b}=rVt(s,i,"x");if(!(!b||o&&l))if(o)n.unshift(b);else if(e.push(b),!l)break}e.push(...n)}function rVt(e,i,t){const n=e.interpolate(i,t);if(!n)return{};const r=n[t],s=e.segments,o=e.points;let l=!1,b=!1;for(let C=0;C<s.length;C++){const D=s[C],R=o[D.start][t],O=o[D.end][t];if(Ru(r,R,O)){l=r===R,b=r===O;break}}return{first:l,last:b,point:n}}class vJ{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,t,n){const{x:r,y:s,radius:o}=this;return i.arc(r,s,o,(t=t||{start:0,end:Zr}).end,t.start,!0),!n.bounds}interpolate(i){const{x:t,y:n,radius:r}=this,s=i.angle;return{x:t+Math.cos(s)*r,y:n+Math.sin(s)*r,angle:s}}}function kL(e,i,t){const n=function sVt(e){const{chart:i,fill:t,line:n}=e;if(ws(t))return function aVt(e,i){const t=e.getDatasetMeta(i);return t&&e.isDatasetVisible(i)?t.dataset:null}(i,t);if("stack"===t)return function eVt(e){const{scale:i,index:t,line:n}=e,r=[],s=n.segments,o=n.points,l=function iVt(e,i){const t=[],n=e.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const s=n[r];if(s.index===i)break;s.hidden||t.unshift(s.dataset)}return t}(i,t);l.push(pJ({x:null,y:i.bottom},n));for(let b=0;b<s.length;b++){const C=s[b];for(let D=C.start;D<=C.end;D++)nVt(r,o[D],l)}return new DE({points:r,options:{}})}(e);if("shape"===t)return!0;const r=function oVt(e){return(e.scale||{}).getPointPositionForValue?function cVt(e){const{scale:i,fill:t}=e,n=i.options,r=i.getLabels().length,s=n.reverse?i.max:i.min,o=function q5t(e,i,t){let n;return n="start"===e?t:"end"===e?i.options.reverse?i.min:i.max:Un(e)?e.value:i.getBaseValue(),n}(t,i,s),l=[];if(n.grid.circular){const b=i.getPointPositionForValue(0,s);return new vJ({x:b.x,y:b.y,radius:i.getDistanceFromCenterForValue(o)})}for(let b=0;b<r;++b)l.push(i.getPointPositionForValue(b,o));return l}(e):function lVt(e){const{scale:i={},fill:t}=e,n=function J5t(e,i){let t=null;return"start"===e?t=i.bottom:"end"===e?t=i.top:Un(e)?t=i.getPixelForValue(e.value):i.getBasePixel&&(t=i.getBasePixel()),t}(t,i);if(ws(n)){const r=i.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}(e)}(e);return r instanceof vJ?r:pJ(r,n)}(i),{line:r,scale:s,axis:o}=i,l=r.options,b=l.fill,C=l.backgroundColor,{above:D=C,below:R=C}=b||{};n&&r.points.length&&(fE(e,t),function dVt(e,i){const{line:t,target:n,above:r,below:s,area:o,scale:l}=i,b=t._loop?"angle":i.axis;e.save(),"x"===b&&s!==r&&(xJ(e,n,o.top),yJ(e,{line:t,target:n,color:r,scale:l,property:b}),e.restore(),e.save(),xJ(e,n,o.bottom)),yJ(e,{line:t,target:n,color:s,scale:l,property:b}),e.restore()}(e,{line:r,target:n,above:D,below:R,area:t,scale:s,axis:o}),mE(e))}function xJ(e,i,t){const{segments:n,points:r}=i;let s=!0,o=!1;e.beginPath();for(const l of n){const{start:b,end:C}=l,D=r[b],R=r[IL(b,C,r)];s?(e.moveTo(D.x,D.y),s=!1):(e.lineTo(D.x,t),e.lineTo(D.x,D.y)),o=!!i.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(R.x,t)}e.lineTo(i.first().x,t),e.closePath(),e.clip()}function yJ(e,i){const{line:t,target:n,property:r,color:s,scale:o}=i,l=function Y5t(e,i,t){const n=e.segments,r=e.points,s=i.points,o=[];for(const l of n){let{start:b,end:C}=l;C=IL(b,C,r);const D=ML(t,r[b],r[C],l.loop);if(!i.segments){o.push({source:l,target:D,start:r[b],end:r[C]});continue}const R=mZ(i,D);for(const O of R){const L=ML(t,s[O.start],s[O.end],O.loop),U=fZ(l,r,L);for(const X of U)o.push({source:X,target:O,start:{[t]:mJ(D,L,"start",Math.max)},end:{[t]:mJ(D,L,"end",Math.min)}})}}return o}(t,n,r);for(const{source:b,target:C,start:D,end:R}of l){const{style:{backgroundColor:O=s}={}}=b,L=!0!==n;e.save(),e.fillStyle=O,uVt(e,o,L&&ML(r,D,R)),e.beginPath();const U=!!t.pathSegment(e,b);let X;if(L){U?e.closePath():bJ(e,n,R,r);const W=!!n.pathSegment(e,C,{move:U,reverse:!0});X=U&&W,X||bJ(e,n,D,r)}e.closePath(),e.fill(X?"evenodd":"nonzero"),e.restore()}}function uVt(e,i,t){const{top:n,bottom:r}=i.chart.chartArea,{property:s,start:o,end:l}=t||{};"x"===s&&(e.beginPath(),e.rect(o,n,l-o,r-n),e.clip())}function bJ(e,i,t,n){const r=i.interpolate(t,n);r&&e.lineTo(r.x,r.y)}var hVt={id:"filler",afterDatasetsUpdate(e,i,t){const n=(e.data.datasets||[]).length,r=[];let s,o,l,b;for(o=0;o<n;++o)s=e.getDatasetMeta(o),l=s.dataset,b=null,l&&l.options&&l instanceof DE&&(b={visible:e.isDatasetVisible(o),index:o,fill:K5t(l,o,n),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=b,r.push(b);for(o=0;o<n;++o)b=r[o],b&&!1!==b.fill&&(b.fill=Q5t(r,o,t.propagate))},beforeDraw(e,i,t){const n="beforeDraw"===t.drawTime,r=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=r.length-1;o>=0;--o){const l=r[o].$filler;l&&(l.line.updateControlPoints(s,l.axis),n&&l.fill&&kL(e.ctx,l,s))}},beforeDatasetsDraw(e,i,t){if("beforeDatasetsDraw"!==t.drawTime)return;const n=e.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const s=n[r].$filler;gJ(s)&&kL(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,i,t){const n=i.meta.$filler;!gJ(n)||"beforeDatasetDraw"!==t.drawTime||kL(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const wJ=(e,i)=>{let{boxHeight:t=i,boxWidth:n=i}=e;return e.usePointStyle&&(t=Math.min(t,i),n=e.pointStyleWidth||Math.min(n,i)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(i,t)}};class _J extends Lu{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,t,n){this.maxWidth=i,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const i=this.options.labels||{};let t=Gr(i.generateLabels,[this.chart],this)||[];i.filter&&(t=t.filter(n=>i.filter(n,this.chart.data))),i.sort&&(t=t.sort((n,r)=>i.sort(n,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:i,ctx:t}=this;if(!i.display)return void(this.width=this.height=0);const n=i.labels,r=pa(n.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:b}=wJ(n,s);let C,D;t.font=r.string,this.isHorizontal()?(C=this.maxWidth,D=this._fitRows(o,s,l,b)+10):(D=this.maxHeight,C=this._fitCols(o,r,l,b)+10),this.width=Math.min(C,i.maxWidth||this.maxWidth),this.height=Math.min(D,i.maxHeight||this.maxHeight)}_fitRows(i,t,n,r){const{ctx:s,maxWidth:o,options:{labels:{padding:l}}}=this,b=this.legendHitBoxes=[],C=this.lineWidths=[0],D=r+l;let R=i;s.textAlign="left",s.textBaseline="middle";let O=-1,L=-D;return this.legendItems.forEach((U,X)=>{const W=n+t/2+s.measureText(U.text).width;(0===X||C[C.length-1]+W+2*l>o)&&(R+=D,C[C.length-(X>0?0:1)]=0,L+=D,O++),b[X]={left:0,top:L,row:O,width:W,height:r},C[C.length-1]+=W+l}),R}_fitCols(i,t,n,r){const{ctx:s,maxHeight:o,options:{labels:{padding:l}}}=this,b=this.legendHitBoxes=[],C=this.columnSizes=[],D=o-i;let R=l,O=0,L=0,U=0,X=0;return this.legendItems.forEach((W,Z)=>{const{itemWidth:rt,itemHeight:st}=function mVt(e,i,t,n,r){const s=function pVt(e,i,t,n){let r=e.text;return r&&"string"!=typeof r&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),i+t.size/2+n.measureText(r).width}(n,e,i,t),o=function gVt(e,i,t){let n=e;return"string"!=typeof i.text&&(n=TJ(i,t)),n}(r,n,i.lineHeight);return{itemWidth:s,itemHeight:o}}(n,t,s,W,r);Z>0&&L+st+2*l>D&&(R+=O+l,C.push({width:O,height:L}),U+=O+l,X++,O=L=0),b[Z]={left:U,top:L,col:X,width:rt,height:st},O=Math.max(O,rt),L+=st+l}),R+=O,C.push({width:O,height:L}),R}adjustHitBoxes(){if(!this.options.display)return;const i=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:s}}=this,o=a0(s,this.left,this.width);if(this.isHorizontal()){let l=0,b=lo(n,this.left+r,this.right-this.lineWidths[l]);for(const C of t)l!==C.row&&(l=C.row,b=lo(n,this.left+r,this.right-this.lineWidths[l])),C.top+=this.top+i+r,C.left=o.leftForLtr(o.x(b),C.width),b+=C.width+r}else{let l=0,b=lo(n,this.top+i+r,this.bottom-this.columnSizes[l].height);for(const C of t)C.col!==l&&(l=C.col,b=lo(n,this.top+i+r,this.bottom-this.columnSizes[l].height)),C.top=b,C.left+=this.left+r,C.left=o.leftForLtr(o.x(C.left),C.width),b+=C.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const i=this.ctx;fE(i,this),this._draw(),mE(i)}}_draw(){const{options:i,columnSizes:t,lineWidths:n,ctx:r}=this,{align:s,labels:o}=i,l=as.color,b=a0(i.rtl,this.left,this.width),C=pa(o.font),{padding:D}=o,R=C.size,O=R/2;let L;this.drawTitle(),r.textAlign=b.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=C.string;const{boxWidth:U,boxHeight:X,itemHeight:W}=wJ(o,R),st=this.isHorizontal(),vt=this._computeTitleHeight();L=st?{x:lo(s,this.left+D,this.right-n[0]),y:this.top+D+vt,line:0}:{x:this.left+D,y:lo(s,this.top+vt+D,this.bottom-t[0].height),line:0},cZ(this.ctx,i.textDirection);const _t=W+D;this.legendItems.forEach((Mt,ft)=>{r.strokeStyle=Mt.fontColor,r.fillStyle=Mt.fontColor;const dt=r.measureText(Mt.text).width,pt=b.textAlign(Mt.textAlign||(Mt.textAlign=o.textAlign)),bt=U+O+dt;let Tt=L.x,Et=L.y;b.setWidth(this.width),st?ft>0&&Tt+bt+D>this.right&&(Et=L.y+=_t,L.line++,Tt=L.x=lo(s,this.left+D,this.right-n[L.line])):ft>0&&Et+_t>this.bottom&&(Tt=L.x=Tt+t[L.line].width+D,L.line++,Et=L.y=lo(s,this.top+vt+D,this.bottom-t[L.line].height)),function(Mt,ft,dt){if(isNaN(U)||U<=0||isNaN(X)||X<0)return;r.save();const pt=mn(dt.lineWidth,1);if(r.fillStyle=mn(dt.fillStyle,l),r.lineCap=mn(dt.lineCap,"butt"),r.lineDashOffset=mn(dt.lineDashOffset,0),r.lineJoin=mn(dt.lineJoin,"miter"),r.lineWidth=pt,r.strokeStyle=mn(dt.strokeStyle,l),r.setLineDash(mn(dt.lineDash,[])),o.usePointStyle){const bt={radius:X*Math.SQRT2/2,pointStyle:dt.pointStyle,rotation:dt.rotation,borderWidth:pt},Tt=b.xPlus(Mt,U/2);ZK(r,bt,Tt,ft+O,o.pointStyleWidth&&U)}else{const bt=ft+Math.max((R-X)/2,0),Tt=b.leftForLtr(Mt,U),Et=Bm(dt.borderRadius);r.beginPath(),Object.values(Et).some(Dt=>0!==Dt)?$b(r,{x:Tt,y:bt,w:U,h:X,radius:Et}):r.rect(Tt,bt,U,X),r.fill(),0!==pt&&r.stroke()}r.restore()}(b.x(Tt),Et,Mt),Tt=((e,i,t,n)=>e===(n?"left":"right")?t:"center"===e?(i+t)/2:i)(pt,Tt+U+O,st?Tt+bt:this.right,i.rtl),function(Mt,ft,dt){Nm(r,dt.text,Mt,ft+W/2,C,{strikethrough:dt.hidden,textAlign:b.textAlign(dt.textAlign)})}(b.x(Tt),Et,Mt),st?L.x+=bt+D:L.y+="string"!=typeof Mt.text?TJ(Mt,C.lineHeight)+D:_t}),dZ(this.ctx,i.textDirection)}drawTitle(){const i=this.options,t=i.title,n=pa(t.font),r=co(t.padding);if(!t.display)return;const s=a0(i.rtl,this.left,this.width),o=this.ctx,l=t.position,C=r.top+n.size/2;let D,R=this.left,O=this.width;if(this.isHorizontal())O=Math.max(...this.lineWidths),D=this.top+C,R=lo(i.align,R,this.right-O);else{const U=this.columnSizes.reduce((X,W)=>Math.max(X,W.height),0);D=C+lo(i.align,this.top,this.bottom-U-i.labels.padding-this._computeTitleHeight())}const L=lo(l,R,R+O);o.textAlign=s.textAlign(eL(l)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,Nm(o,t.text,L,D,n)}_computeTitleHeight(){const i=this.options.title,t=pa(i.font),n=co(i.padding);return i.display?t.lineHeight+n.height:0}_getLegendItemAt(i,t){let n,r,s;if(Ru(i,this.left,this.right)&&Ru(t,this.top,this.bottom))for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],Ru(i,r.left,r.left+r.width)&&Ru(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(i){const t=this.options;if(!function vVt(e,i){return!(("mousemove"!==e&&"mouseout"!==e||!i.onHover&&!i.onLeave)&&(!i.onClick||"click"!==e&&"mouseup"!==e))}(i.type,t))return;const n=this._getLegendItemAt(i.x,i.y);if("mousemove"===i.type||"mouseout"===i.type){const r=this._hoveredItem,s=((e,i)=>null!==e&&null!==i&&e.datasetIndex===i.datasetIndex&&e.index===i.index)(r,n);r&&!s&&Gr(t.onLeave,[i,r,this],this),this._hoveredItem=n,n&&!s&&Gr(t.onHover,[i,n,this],this)}else n&&Gr(t.onClick,[i,n,this],this)}}function TJ(e,i){return i*(e.text?e.text.length:0)}var xVt={id:"legend",_element:_J,start(e,i,t){const n=e.legend=new _J({ctx:e.ctx,options:t,chart:e});uo.configure(e,n,t),uo.addBox(e,n)},stop(e){uo.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,i,t){const n=e.legend;uo.configure(e,n,t),n.options=t},afterUpdate(e){const i=e.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(e,i){i.replay||e.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,i,t){const n=i.datasetIndex,r=t.chart;r.isDatasetVisible(n)?(r.hide(n),i.hidden=!0):(r.show(n),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const i=e.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:r,color:s,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(b=>{const C=b.controller.getStyle(t?0:void 0),D=co(C.borderWidth);return{text:i[b.index].label,fillStyle:C.backgroundColor,fontColor:s,hidden:!b.visible,lineCap:C.borderCapStyle,lineDash:C.borderDash,lineDashOffset:C.borderDashOffset,lineJoin:C.borderJoinStyle,lineWidth:(D.width+D.height)/4,strokeStyle:C.borderColor,pointStyle:n||C.pointStyle,rotation:C.rotation,textAlign:r||C.textAlign,borderRadius:o&&(l||C.borderRadius),datasetIndex:b.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class RL extends Lu{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=i,this.height=this.bottom=t;const r=Qr(n.text)?n.text.length:1;this._padding=co(n.padding);const s=r*pa(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const i=this.options.position;return"top"===i||"bottom"===i}_drawArgs(i){const{top:t,left:n,bottom:r,right:s,options:o}=this,l=o.align;let C,D,R,b=0;return this.isHorizontal()?(D=lo(l,n,s),R=t+i,C=s-n):("left"===o.position?(D=n+i,R=lo(l,r,t),b=-.5*Kr):(D=s-i,R=lo(l,t,r),b=.5*Kr),C=r-t),{titleX:D,titleY:R,maxWidth:C,rotation:b}}draw(){const i=this.ctx,t=this.options;if(!t.display)return;const n=pa(t.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:b,rotation:C}=this._drawArgs(s);Nm(i,t.text,0,0,n,{color:t.color,maxWidth:b,rotation:C,textAlign:eL(t.align),textBaseline:"middle",translation:[o,l]})}}var bVt={id:"title",_element:RL,start(e,i,t){!function yVt(e,i){const t=new RL({ctx:e.ctx,options:i,chart:e});uo.configure(e,t,i),uo.addBox(e,t),e.titleBlock=t}(e,t)},stop(e){uo.removeBox(e,e.titleBlock),delete e.titleBlock},beforeUpdate(e,i,t){const n=e.titleBlock;uo.configure(e,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ME=new WeakMap;var wVt={id:"subtitle",start(e,i,t){const n=new RL({ctx:e.ctx,options:t,chart:e});uo.configure(e,n,t),uo.addBox(e,n),ME.set(e,n)},stop(e){uo.removeBox(e,ME.get(e)),ME.delete(e)},beforeUpdate(e,i,t){const n=ME.get(e);uo.configure(e,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const s1={average(e){if(!e.length)return!1;let i,t,n=new Set,r=0,s=0;for(i=0,t=e.length;i<t;++i){const l=e[i].element;if(l&&l.hasValue()){const b=l.tooltipPosition();n.add(b.x),r+=b.y,++s}}return 0!==s&&0!==n.size&&{x:[...n].reduce((l,b)=>l+b)/n.size,y:r/s}},nearest(e,i){if(!e.length)return!1;let s,o,l,t=i.x,n=i.y,r=Number.POSITIVE_INFINITY;for(s=0,o=e.length;s<o;++s){const b=e[s].element;if(b&&b.hasValue()){const D=qO(i,b.getCenterPoint());D<r&&(r=D,l=b)}}if(l){const b=l.tooltipPosition();t=b.x,n=b.y}return{x:t,y:n}}};function wd(e,i){return i&&(Qr(i)?Array.prototype.push.apply(e,i):e.push(i)),e}function Nu(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function _Vt(e,i){const{element:t,datasetIndex:n,index:r}=i,s=e.getDatasetMeta(n).controller,{label:o,value:l}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[n].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:n,element:t}}function CJ(e,i){const t=e.chart.ctx,{body:n,footer:r,title:s}=e,{boxWidth:o,boxHeight:l}=i,b=pa(i.bodyFont),C=pa(i.titleFont),D=pa(i.footerFont),R=s.length,O=r.length,L=n.length,U=co(i.padding);let X=U.height,W=0,Z=n.reduce((vt,_t)=>vt+_t.before.length+_t.lines.length+_t.after.length,0);Z+=e.beforeBody.length+e.afterBody.length,R&&(X+=R*C.lineHeight+(R-1)*i.titleSpacing+i.titleMarginBottom),Z&&(X+=L*(i.displayColors?Math.max(l,b.lineHeight):b.lineHeight)+(Z-L)*b.lineHeight+(Z-1)*i.bodySpacing),O&&(X+=i.footerMarginTop+O*D.lineHeight+(O-1)*i.footerSpacing);let rt=0;const st=function(vt){W=Math.max(W,t.measureText(vt).width+rt)};return t.save(),t.font=C.string,_r(e.title,st),t.font=b.string,_r(e.beforeBody.concat(e.afterBody),st),rt=i.displayColors?o+2+i.boxPadding:0,_r(n,vt=>{_r(vt.before,st),_r(vt.lines,st),_r(vt.after,st)}),rt=0,t.font=D.string,_r(e.footer,st),t.restore(),W+=U.width,{width:W,height:X}}function SVt(e,i,t,n){const{x:r,width:s}=t,{width:o,chartArea:{left:l,right:b}}=e;let C="center";return"center"===n?C=r<=(l+b)/2?"left":"right":r<=s/2?C="left":r>=o-s/2&&(C="right"),function CVt(e,i,t,n){const{x:r,width:s}=n,o=t.caretSize+t.caretPadding;if("left"===e&&r+s+o>i.width||"right"===e&&r-s-o<0)return!0}(C,e,i,t)&&(C="center"),C}function SJ(e,i,t){const n=t.yAlign||i.yAlign||function TVt(e,i){const{y:t,height:n}=i;return t<n/2?"top":t>e.height-n/2?"bottom":"center"}(e,t);return{xAlign:t.xAlign||i.xAlign||SVt(e,i,t,n),yAlign:n}}function EJ(e,i,t,n){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:l,yAlign:b}=t,C=r+s,{topLeft:D,topRight:R,bottomLeft:O,bottomRight:L}=Bm(o);let U=function EVt(e,i){let{x:t,width:n}=e;return"right"===i?t-=n:"center"===i&&(t-=n/2),t}(i,l);const X=function AVt(e,i,t){let{y:n,height:r}=e;return"top"===i?n+=t:n-="bottom"===i?r+t:r/2,n}(i,b,C);return"center"===b?"left"===l?U+=C:"right"===l&&(U-=C):"left"===l?U-=Math.max(D,O)+r:"right"===l&&(U+=Math.max(R,L)+r),{x:Ia(U,0,n.width-i.width),y:Ia(X,0,n.height-i.height)}}function IE(e,i,t){const n=co(t.padding);return"center"===i?e.x+e.width/2:"right"===i?e.x+e.width-n.right:e.x+n.left}function AJ(e){return wd([],Nu(e))}function DJ(e,i){const t=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return t?e.override(t):e}const MJ={beforeTitle:ku,title(e){if(e.length>0){const i=e[0],t=i.chart.data.labels,n=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return i.dataset.label||"";if(i.label)return i.label;if(n>0&&i.dataIndex<n)return t[i.dataIndex]}return""},afterTitle:ku,beforeBody:ku,beforeLabel:ku,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let i=e.dataset.label||"";i&&(i+=": ");const t=e.formattedValue;return Zn(t)||(i+=t),i},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ku,afterBody:ku,beforeFooter:ku,footer:ku,afterFooter:ku};function nl(e,i,t,n){const r=e[i].call(t,n);return typeof r>"u"?MJ[i].call(t,n):r}let IJ=(()=>class e extends Lu{static positioners=s1;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,o=new xZ(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=function DVt(e,i,t){return cf(e,{tooltip:i,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,s=nl(r,"beforeTitle",this,t),o=nl(r,"title",this,t),l=nl(r,"afterTitle",this,t);let b=[];return b=wd(b,Nu(s)),b=wd(b,Nu(o)),b=wd(b,Nu(l)),b}getBeforeBody(t,n){return AJ(nl(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,s=[];return _r(t,o=>{const l={before:[],lines:[],after:[]},b=DJ(r,o);wd(l.before,Nu(nl(b,"beforeLabel",this,o))),wd(l.lines,nl(b,"label",this,o)),wd(l.after,Nu(nl(b,"afterLabel",this,o))),s.push(l)}),s}getAfterBody(t,n){return AJ(nl(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,s=nl(r,"beforeFooter",this,t),o=nl(r,"footer",this,t),l=nl(r,"afterFooter",this,t);let b=[];return b=wd(b,Nu(s)),b=wd(b,Nu(o)),b=wd(b,Nu(l)),b}_createItems(t){const n=this._active,r=this.chart.data,s=[],o=[],l=[];let C,D,b=[];for(C=0,D=n.length;C<D;++C)b.push(_Vt(this.chart,n[C]));return t.filter&&(b=b.filter((R,O,L)=>t.filter(R,O,L,r))),t.itemSort&&(b=b.sort((R,O)=>t.itemSort(R,O,r))),_r(b,R=>{const O=DJ(t.callbacks,R);s.push(nl(O,"labelColor",this,R)),o.push(nl(O,"labelPointStyle",this,R)),l.push(nl(O,"labelTextColor",this,R))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=b,b}update(t,n){const r=this.options.setContext(this.getContext()),s=this._active;let o,l=[];if(s.length){const b=s1[r.position].call(this,s,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const C=this._size=CJ(this,r),D=Object.assign({},b,C),R=SJ(this.chart,r,D),O=EJ(r,D,R,this.chart);this.xAlign=R.xAlign,this.yAlign=R.yAlign,o={opacity:1,x:O.x,y:O.y,width:C.width,height:C.height,caretX:b.x,caretY:b.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,s){const o=this.getCaretPosition(t,r,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,r){const{xAlign:s,yAlign:o}=this,{caretSize:l,cornerRadius:b}=r,{topLeft:C,topRight:D,bottomLeft:R,bottomRight:O}=Bm(b),{x:L,y:U}=t,{width:X,height:W}=n;let Z,rt,st,vt,_t,Mt;return"center"===o?(_t=U+W/2,"left"===s?(Z=L,rt=Z-l,vt=_t+l,Mt=_t-l):(Z=L+X,rt=Z+l,vt=_t-l,Mt=_t+l),st=Z):(rt="left"===s?L+Math.max(C,R)+l:"right"===s?L+X-Math.max(D,O)-l:this.caretX,"top"===o?(vt=U,_t=vt-l,Z=rt-l,st=rt+l):(vt=U+W,_t=vt+l,Z=rt+l,st=rt-l),Mt=vt),{x1:Z,x2:rt,x3:st,y1:vt,y2:_t,y3:Mt}}drawTitle(t,n,r){const s=this.title,o=s.length;let l,b,C;if(o){const D=a0(r.rtl,this.x,this.width);for(t.x=IE(this,r.titleAlign,r),n.textAlign=D.textAlign(r.titleAlign),n.textBaseline="middle",l=pa(r.titleFont),b=r.titleSpacing,n.fillStyle=r.titleColor,n.font=l.string,C=0;C<o;++C)n.fillText(s[C],D.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+b,C+1===o&&(t.y+=r.titleMarginBottom-b)}}_drawColorBox(t,n,r,s,o){const l=this.labelColors[r],b=this.labelPointStyles[r],{boxHeight:C,boxWidth:D}=o,R=pa(o.bodyFont),O=IE(this,"left",o),L=s.x(O),X=n.y+(C<R.lineHeight?(R.lineHeight-C)/2:0);if(o.usePointStyle){const W={radius:Math.min(D,C)/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:1},Z=s.leftForLtr(L,D)+D/2,rt=X+C/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,aL(t,W,Z,rt),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,aL(t,W,Z,rt)}else{t.lineWidth=Un(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const W=s.leftForLtr(L,D),Z=s.leftForLtr(s.xPlus(L,1),D-2),rt=Bm(l.borderRadius);Object.values(rt).some(st=>0!==st)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,$b(t,{x:W,y:X,w:D,h:C,radius:rt}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),$b(t,{x:Z,y:X+1,w:D-2,h:C-2,radius:rt}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(W,X,D,C),t.strokeRect(W,X,D,C),t.fillStyle=l.backgroundColor,t.fillRect(Z,X+1,D-2,C-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:s}=this,{bodySpacing:o,bodyAlign:l,displayColors:b,boxHeight:C,boxWidth:D,boxPadding:R}=r,O=pa(r.bodyFont);let L=O.lineHeight,U=0;const X=a0(r.rtl,this.x,this.width),W=function(pt){n.fillText(pt,X.x(t.x+U),t.y+L/2),t.y+=L+o},Z=X.textAlign(l);let rt,st,vt,_t,Mt,ft,dt;for(n.textAlign=l,n.textBaseline="middle",n.font=O.string,t.x=IE(this,Z,r),n.fillStyle=r.bodyColor,_r(this.beforeBody,W),U=b&&"right"!==Z?"center"===l?D/2+R:D+2+R:0,_t=0,ft=s.length;_t<ft;++_t){for(rt=s[_t],st=this.labelTextColors[_t],n.fillStyle=st,_r(rt.before,W),vt=rt.lines,b&&vt.length&&(this._drawColorBox(n,t,_t,X,r),L=Math.max(O.lineHeight,C)),Mt=0,dt=vt.length;Mt<dt;++Mt)W(vt[Mt]),L=O.lineHeight;_r(rt.after,W)}U=0,L=O.lineHeight,_r(this.afterBody,W),t.y-=o}drawFooter(t,n,r){const s=this.footer,o=s.length;let l,b;if(o){const C=a0(r.rtl,this.x,this.width);for(t.x=IE(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=C.textAlign(r.footerAlign),n.textBaseline="middle",l=pa(r.footerFont),n.fillStyle=r.footerColor,n.font=l.string,b=0;b<o;++b)n.fillText(s[b],C.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+r.footerSpacing}}drawBackground(t,n,r,s){const{xAlign:o,yAlign:l}=this,{x:b,y:C}=t,{width:D,height:R}=r,{topLeft:O,topRight:L,bottomLeft:U,bottomRight:X}=Bm(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(b+O,C),"top"===l&&this.drawCaret(t,n,r,s),n.lineTo(b+D-L,C),n.quadraticCurveTo(b+D,C,b+D,C+L),"center"===l&&"right"===o&&this.drawCaret(t,n,r,s),n.lineTo(b+D,C+R-X),n.quadraticCurveTo(b+D,C+R,b+D-X,C+R),"bottom"===l&&this.drawCaret(t,n,r,s),n.lineTo(b+U,C+R),n.quadraticCurveTo(b,C+R,b,C+R-U),"center"===l&&"left"===o&&this.drawCaret(t,n,r,s),n.lineTo(b,C+O),n.quadraticCurveTo(b,C,b+O,C),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){const l=s1[t.position].call(this,this._active,this._eventPosition);if(!l)return;const b=this._size=CJ(this,t),C=Object.assign({},l,this._size),D=SJ(n,t,C),R=EJ(t,C,D,n);(s._to!==R.x||o._to!==R.y)&&(this.xAlign=D.xAlign,this.yAlign=D.yAlign,this.width=b.width,this.height=b.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,R))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=co(n.padding);n.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=r,this.drawBackground(o,t,s,n),cZ(t,n.textDirection),o.y+=l.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),dZ(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,s=t.map(({datasetIndex:b,index:C})=>{const D=this.chart.getDatasetMeta(b);if(!D)throw new Error("Cannot find a dataset at index "+b);return{datasetIndex:b,element:D.data[C],index:C}}),o=!oE(r,s),l=this._positionChanged(s,n);(o||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],l=this._getActiveElements(t,o,n,r),b=this._positionChanged(l,t),C=n||!oE(l,o)||b;return C&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),C}_getActiveElements(t,n,r,s){const o=this.options;if("mouseout"===t.type)return[];if(!s)return n.filter(b=>this.chart.data.datasets[b.datasetIndex]&&void 0!==this.chart.getDatasetMeta(b.datasetIndex).controller.getParsed(b.index));const l=this.chart.getElementsAtEventForMode(t,o.mode,o,r);return o.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:r,caretY:s,options:o}=this,l=s1[o.position].call(this,t,n);return!1!==l&&(r!==l.x||s!==l.y)}})();var IVt=Object.freeze({__proto__:null,Colors:G5t,Decimation:j5t,Filler:hVt,Legend:xVt,SubTitle:wVt,Title:bVt,Tooltip:{id:"tooltip",_element:IJ,positioners:s1,afterInit(e,i,t){t&&(e.tooltip=new IJ({chart:e,options:t}))},beforeUpdate(e,i,t){e.tooltip&&e.tooltip.initialize(t)},reset(e,i,t){e.tooltip&&e.tooltip.initialize(t)},afterDraw(e){const i=e.tooltip;if(i&&i._willRender()){const t={tooltip:i};if(!1===e.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0}))return;i.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",t)}},afterEvent(e,i){e.tooltip&&e.tooltip.handleEvent(i.event,i.replay,i.inChartArea)&&(i.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,i)=>i.bodyFont.size,boxWidth:(e,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:MJ},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function kJ(e){const i=this.getLabels();return e>=0&&e<i.length?i[e]:e}let FVt=(()=>class e extends Hm{static id="category";static defaults={ticks:{callback:kJ}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:o}of n)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Zn(t))return null;const r=this.getLabels();return((e,i)=>null===e?null:Ia(Math.round(e),0,i))(n=isFinite(n)&&r[n]===t?n:function RVt(e,i,t,n){const r=e.indexOf(i);return-1===r?((e,i,t,n)=>("string"==typeof i?(t=e.push(i)-1,n.unshift({index:t,label:i})):isNaN(i)&&(t=null),t))(e,i,t,n):r!==e.lastIndexOf(i)?t:r}(r,t,mn(n,t),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,s=[];let o=this.getLabels();o=0===t&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=t;l<=n;l++)s.push({value:l});return s}getLabelForValue(t){return kJ.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}})();function RJ(e,i,{horizontal:t,minRotation:n}){const r=Mc(n),s=(t?Math.sin(r):Math.cos(r))||.001;return Math.min(i/s,.75*i*(""+e).length)}class kE extends Hm{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,t){return Zn(i)||("number"==typeof i||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){const{beginAtZero:i}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this;const o=b=>r=t?r:b,l=b=>s=n?s:b;if(i){const b=yd(r),C=yd(s);b<0&&C<0?l(0):b>0&&C>0&&o(0)}if(r===s){let b=0===s?1:Math.abs(.05*s);l(s+b),i||o(r-b)}this.min=r,this.max=s}getTickLimit(){const i=this.options.ticks;let r,{maxTicksLimit:t,stepSize:n}=i;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const i=this.options,t=i.ticks;let n=this.getTickLimit();n=Math.max(2,n);const o=function OVt(e,i){const t=[],{bounds:r,step:s,min:o,max:l,precision:b,count:C,maxTicks:D,maxDigits:R,includeBounds:O}=e,L=s||1,U=D-1,{min:X,max:W}=i,Z=!Zn(o),rt=!Zn(l),st=!Zn(C),vt=(W-X)/(R+1);let Mt,ft,dt,pt,_t=FK((W-X)/U/L)*L;if(_t<1e-14&&!Z&&!rt)return[{value:X},{value:W}];pt=Math.ceil(W/_t)-Math.floor(X/_t),pt>U&&(_t=FK(pt*_t/U/L)*L),Zn(b)||(Mt=Math.pow(10,b),_t=Math.ceil(_t*Mt)/Mt),"ticks"===r?(ft=Math.floor(X/_t)*_t,dt=Math.ceil(W/_t)*_t):(ft=X,dt=W),Z&&rt&&s&&function w4t(e,i){const t=Math.round(e);return t-i<=e&&t+i>=e}((l-o)/s,_t/1e3)?(pt=Math.round(Math.min((l-o)/_t,D)),_t=(l-o)/pt,ft=o,dt=l):st?(ft=Z?o:ft,dt=rt?l:dt,pt=C-1,_t=(dt-ft)/pt):(pt=(dt-ft)/_t,pt=Hb(pt,Math.round(pt),_t/1e3)?Math.round(pt):Math.ceil(pt));const bt=Math.max(LK(_t),LK(ft));Mt=Math.pow(10,Zn(b)?bt:b),ft=Math.round(ft*Mt)/Mt,dt=Math.round(dt*Mt)/Mt;let Tt=0;for(Z&&(O&&ft!==o?(t.push({value:o}),ft<o&&Tt++,Hb(Math.round((ft+Tt*_t)*Mt)/Mt,o,RJ(o,vt,e))&&Tt++):ft<o&&Tt++);Tt<pt;++Tt){const Et=Math.round((ft+Tt*_t)*Mt)/Mt;if(rt&&Et>l)break;t.push({value:Et})}return rt&&O&&dt!==l?t.length&&Hb(t[t.length-1].value,l,RJ(l,vt,e))?t[t.length-1].value=l:t.push({value:l}):(!rt||dt===l)&&t.push({value:dt}),t}({maxTicks:n,bounds:i.bounds,min:i.min,max:i.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===i.bounds&&OK(o,this,"value"),i.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const i=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&i.length){const r=(n-t)/Math.max(i.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(i){return jb(i,this.chart.options.locale,this.options.ticks.format)}}const a1=e=>Math.floor(lf(e)),Wm=(e,i)=>Math.pow(10,a1(e)+i);function PJ(e){return e/Math.pow(10,a1(e))==1}function FJ(e,i,t){const n=Math.pow(10,t),r=Math.floor(e/n);return Math.ceil(i/n)-r}function PL(e){const i=e.ticks;if(i.display&&e.display){const t=co(i.backdropPadding);return mn(i.font&&i.font.size,as.font.size)+t.height}return 0}function UVt(e,i,t){return t=Qr(t)?t:[t],{w:B4t(e,i.string,t),h:t.length*i.lineHeight}}function OJ(e,i,t,n,r){return e===n||e===r?{start:i-t/2,end:i+t/2}:e<n||e>r?{start:i-t,end:i}:{start:i,end:i+t}}function GVt(e,i,t,n,r){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let l=0,b=0;n.start<i.l?(l=(i.l-n.start)/s,e.l=Math.min(e.l,i.l-l)):n.end>i.r&&(l=(n.end-i.r)/s,e.r=Math.max(e.r,i.r+l)),r.start<i.t?(b=(i.t-r.start)/o,e.t=Math.min(e.t,i.t-b)):r.end>i.b&&(b=(r.end-i.b)/o,e.b=Math.max(e.b,i.b+b))}function HVt(e,i,t){const n=e.drawingArea,{extra:r,additionalAngle:s,padding:o,size:l}=t,b=e.getPointPosition(i,n+r+o,s),C=Math.round(JO(Il(b.angle+Ns))),D=function $Vt(e,i,t){return 90===t||270===t?e-=i/2:(t>270||t<90)&&(e-=i),e}(b.y,l.h,C),R=function jVt(e){return 0===e||180===e?"center":e<180?"left":"right"}(C),O=function YVt(e,i,t){return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(b.x,l.w,R);return{visible:!0,x:b.x,y:D,textAlign:R,left:O,top:D,right:O+l.w,bottom:D+l.h}}function WVt(e,i){if(!i)return!0;const{left:t,top:n,right:r,bottom:s}=e;return!(Fu({x:t,y:n},i)||Fu({x:t,y:s},i)||Fu({x:r,y:n},i)||Fu({x:r,y:s},i))}function QVt(e,i,t){const{left:n,top:r,right:s,bottom:o}=t,{backdropColor:l}=i;if(!Zn(l)){const b=Bm(i.borderRadius),C=co(i.backdropPadding);e.fillStyle=l;const D=n-C.left,R=r-C.top,O=s-n+C.width,L=o-r+C.height;Object.values(b).some(U=>0!==U)?(e.beginPath(),$b(e,{x:D,y:R,w:O,h:L,radius:b}),e.fill()):e.fillRect(D,R,O,L)}}function LJ(e,i,t,n){const{ctx:r}=e;if(t)r.arc(e.xCenter,e.yCenter,i,0,Zr);else{let s=e.getPointPosition(0,i);r.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=e.getPointPosition(o,i),r.lineTo(s.x,s.y)}}const RE={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},rl=Object.keys(RE);function NJ(e,i){return e-i}function BJ(e,i){if(Zn(i))return null;const t=e._adapter,{parser:n,round:r,isoWeekday:s}=e._parseOpts;let o=i;return"function"==typeof n&&(o=n(o)),ws(o)||(o="string"==typeof n?t.parse(o,n):t.parse(o)),null===o?null:(r&&(o="week"!==r||!n0(s)&&!0!==s?t.startOf(o,r):t.startOf(o,"isoWeek",s)),+o)}function VJ(e,i,t,n){const r=rl.length;for(let s=rl.indexOf(e);s<r-1;++s){const o=RE[rl[s]];if(o.common&&Math.ceil((t-i)/((o.steps?o.steps:Number.MAX_SAFE_INTEGER)*o.size))<=n)return rl[s]}return rl[r-1]}function UJ(e,i,t){if(t){if(t.length){const{lo:n,hi:r}=tL(t,i);e[t[n]>=i?t[n]:t[r]]=!0}}else e[i]=!0}function zJ(e,i,t){const n=[],r={},s=i.length;let o,l;for(o=0;o<s;++o)l=i[o],r[l]=o,n.push({value:l,major:!1});return 0!==s&&t?function i8t(e,i,t,n){const r=e._adapter,s=+r.startOf(i[0].value,n),o=i[i.length-1].value;let l,b;for(l=s;l<=o;l=+r.add(l,1,n))b=t[l],b>=0&&(i[b].major=!0);return i}(e,n,r,t):n}let FL=(()=>class e extends Hm{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),s=this._adapter=new nBt__date(t.adapters.date);s.init(n),zb(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return void 0===t?null:BJ(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:s,max:o,minDefined:l,maxDefined:b}=this.getUserBounds();function C(D){!l&&!isNaN(D.min)&&(s=Math.min(s,D.min)),!b&&!isNaN(D.max)&&(o=Math.max(o,D.max))}(!l||!b)&&(C(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&C(this.getMinMax(!1))),s=ws(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),o=ws(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,s="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,b=function S4t(e,i,t){let n=0,r=e.length;for(;n<r&&e[n]<i;)n++;for(;r>n&&e[r-1]>t;)r--;return n>0||r<e.length?e.slice(n,r):e}(s,o,this.max);return this._unit=n.unit||(r.autoSkip?VJ(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):function t8t(e,i,t,n,r){for(let s=rl.length-1;s>=rl.indexOf(t);s--){const o=rl[s];if(RE[o].common&&e._adapter.diff(r,n,o)>=i-1)return o}return rl[t?rl.indexOf(t):0]}(this,b.length,n.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function e8t(e){for(let i=rl.indexOf(e)+1,t=rl.length;i<t;++i)if(RE[rl[i]].common)return rl[i]}(this._unit):void 0,this.initOffsets(s),t.reverse&&b.reverse(),zJ(this,b,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s,o,n=0,r=0;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),n=1===t.length?1-s:(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),r=1===t.length?o:(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=Ia(n,0,l),r=Ia(r,0,l),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,s=this.options,o=s.time,l=o.unit||VJ(o.minUnit,n,r,this._getLabelCapacity(n)),b=mn(s.ticks.stepSize,1),C="week"===l&&o.isoWeekday,D=n0(C)||!0===C,R={};let L,U,O=n;if(D&&(O=+t.startOf(O,"isoWeek",C)),O=+t.startOf(O,D?"day":l),t.diff(r,n,l)>1e5*b)throw new Error(n+" and "+r+" are too far apart with stepSize of "+b+" "+l);const X="data"===s.ticks.source&&this.getDataTimestamps();for(L=O,U=0;L<r;L=+t.add(L,b,l),U++)UJ(R,L,X);return(L===r||"ticks"===s.bounds||1===U)&&UJ(R,L,X),Object.keys(R).sort(NJ).map(W=>+W)}getLabelForValue(t){const r=this.options.time;return this._adapter.format(t,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(t,n){return this._adapter.format(t,n||this.options.time.displayFormats[this._unit])}_tickFormatFunction(t,n,r,s){const o=this.options,l=o.ticks.callback;if(l)return Gr(l,[t,n,r],this);const b=o.time.displayFormats,C=this._unit,D=this._majorUnit,O=D&&b[D],L=r[n];return this._adapter.format(t,s||(D&&O&&L&&L.major?O:C&&b[C]))}generateTickLabels(t){let n,r,s;for(n=0,r=t.length;n<r;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,s=Mc(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),l=Math.sin(s),b=this._resolveTickFontOptions(0).size;return{w:r*o+b*l,h:r*l+b*o}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,o=this._tickFormatFunction(t,0,zJ(this,[t],this._majorUnit),s),l=this._getLabelSize(o),b=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return b>0?b:1}getDataTimestamps(){let n,r,t=this._cache.data||[];if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)t.push(BJ(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return UK(t.sort(NJ))}})();function PE(e,i,t){let s,o,l,b,n=0,r=e.length-1;t?(i>=e[n].pos&&i<=e[r].pos&&({lo:n,hi:r}=Pu(e,"pos",i)),({pos:s,time:l}=e[n]),({pos:o,time:b}=e[r])):(i>=e[n].time&&i<=e[r].time&&({lo:n,hi:r}=Pu(e,"time",i)),({time:s,pos:l}=e[n]),({time:o,pos:b}=e[r]));const C=o-s;return C?l+(b-l)*(i-s)/C:l}const a8t=["radarCanvas"],GJ=e=>({left:e});function o8t(e,i){if(1&e&&(q(0,"div",11)(1,"div",12),ut(2),et()()),2&e){const t=i.$implicit,n=Ct();xt("ngStyle",yl(2,GJ,n.getMarkerPosition(t.value)+"%")),ot(2),Xe(t.value)}}function l8t(e,i){if(1&e&&(q(0,"span",13),ut(1),et()),2&e){const t=i.$implicit;ot(),Xe(t.label)}}function c8t(e,i){if(1&e&&(q(0,"td"),ut(1),hs(2,"titlecase"),et()),2&e){const t=Ct(2).$implicit,n=Ct(2).$implicit,r=Ct();Ti("rowspan",r.getKpaRowSpan(r.maturityResponse,n,t)),ot(),He(" ",zl(2,2,r.getKpaName(t))," ")}}function d8t(e,i){if(1&e&&(q(0,"td"),ut(1),hs(2,"number"),et()),2&e){const t=Ct(2).$implicit,n=Ct(2).$implicit,r=Ct();Ti("rowspan",r.getKpaRowSpan(r.maturityResponse,n,t)),ot(),He(" ",bc(2,2,r.calculateAverage(r.getQuestions(r.maturityResponse,n,t)),"1.2-2")," ")}}function u8t(e,i){if(1&e&&(Wi(0),q(1,"tr"),Gt(2,c8t,3,4,"td",14)(3,d8t,3,5,"td",14),et(),Xi()),2&e){const t=i.index,n=Ct(4);ot(2),xt("ngIf",n.isFirstRowInKpa(t)),ot(),xt("ngIf",n.isFirstRowInKpa(t))}}function h8t(e,i){if(1&e&&(Wi(0),Gt(1,u8t,4,2,"ng-container",9),hs(2,"keyvalue"),Xi()),2&e){const t=i.$implicit,n=Ct(2).$implicit,r=Ct();ot(),xt("ngForOf",zl(2,1,r.getQuestions(r.maturityResponse,n,t)))}}function f8t(e,i){if(1&e&&(Wi(0),Gt(1,h8t,3,3,"ng-container",9),Xi()),2&e){const t=Ct().$implicit,n=Ct();ot(),xt("ngForOf",n.getKpas(n.maturityResponse,t))}}function m8t(e,i){if(1&e&&(Wi(0),Gt(1,f8t,2,1,"ng-container",14),Xi()),2&e){const t=i.$implicit,n=Ct();ot(),xt("ngIf",t==n.maturityResponse.selectedStakeholder)}}CL.register(iBt,O5t,IVt,Object.freeze({__proto__:null,CategoryScale:FVt,LinearScale:class LVt extends kE{static id="linear";static defaults={ticks:{callback:uE.formatters.numeric}};determineDataLimits(){const{min:i,max:t}=this.getMinMax(!0);this.min=ws(i)?i:0,this.max=ws(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const i=this.isHorizontal(),t=i?this.width:this.height,n=Mc(this.options.ticks.minRotation),r=(i?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(i){return null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}},LogarithmicScale:class VVt extends Hm{static id="logarithmic";static defaults={ticks:{callback:uE.formatters.logarithmic,major:{enabled:!0}}};constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,t){const n=kE.prototype.parse.apply(this,[i,t]);if(0!==n)return ws(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:i,max:t}=this.getMinMax(!0);this.min=ws(i)?Math.max(0,i):null,this.max=ws(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ws(this._userMin)&&(this.min=i===Wm(this.min,0)?Wm(this.min,-1):Wm(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:i,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const s=l=>n=i?n:l,o=l=>r=t?r:l;n===r&&(n<=0?(s(1),o(10)):(s(Wm(n,-1)),o(Wm(r,1)))),n<=0&&s(Wm(r,-1)),r<=0&&o(Wm(n,1)),this.min=n,this.max=r}buildTicks(){const i=this.options,n=function BVt(e,{min:i,max:t}){i=Ml(e.min,i);const n=[],r=a1(i);let s=function NVt(e,i){let n=a1(i-e);for(;FJ(e,i,n)>10;)n++;for(;FJ(e,i,n)<10;)n--;return Math.min(n,a1(e))}(i,t),o=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),b=r>s?Math.pow(10,r):0,C=Math.round((i-b)*o)/o,D=Math.floor((i-b)/l/10)*l*10;let R=Math.floor((C-D)/Math.pow(10,s)),O=Ml(e.min,Math.round((b+D+R*Math.pow(10,s))*o)/o);for(;O<t;)n.push({value:O,major:PJ(O),significand:R}),R>=10?R=R<15?15:20:R++,R>=20&&(s++,R=2,o=s>=0?1:o),O=Math.round((b+D+R*Math.pow(10,s))*o)/o;const L=Ml(e.max,O);return n.push({value:L,major:PJ(L),significand:R}),n}({min:this._userMin,max:this._userMax},this);return"ticks"===i.bounds&&OK(n,this,"value"),i.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(i){return void 0===i?"0":jb(i,this.chart.options.locale,this.options.ticks.format)}configure(){const i=this.min;super.configure(),this._startValue=lf(i),this._valueRange=lf(this.max)-lf(i)}getPixelForValue(i){return(void 0===i||0===i)&&(i=this.min),null===i||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(lf(i)-this._startValue)/this._valueRange)}getValueForPixel(i){const t=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+t*this._valueRange)}},RadialLinearScale:class qVt extends kE{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:uE.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:i=>i,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const i=this._padding=co(PL(this.options)/2),t=this.width=this.maxWidth-i.width,n=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+t/2+i.left),this.yCenter=Math.floor(this.top+n/2+i.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:i,max:t}=this.getMinMax(!1);this.min=ws(i)&&!isNaN(i)?i:0,this.max=ws(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/PL(this.options))}generateTickLabels(i){kE.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((t,n)=>{const r=Gr(this.options.pointLabels.callback,[t,n],this);return r||0===r?r:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const i=this.options;i.display&&i.pointLabels.display?function zVt(e){const i={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},t=Object.assign({},i),n=[],r=[],s=e._pointLabels.length,o=e.options.pointLabels,l=o.centerPointLabels?Kr/s:0;for(let b=0;b<s;b++){const C=o.setContext(e.getPointLabelContext(b));r[b]=C.padding;const D=e.getPointPosition(b,e.drawingArea+r[b],l),R=pa(C.font),O=UVt(e.ctx,R,e._pointLabels[b]);n[b]=O;const L=Il(e.getIndexAngle(b)+l),U=Math.round(JO(L));GVt(t,i,L,OJ(U,D.x,O.w,0,180),OJ(U,D.y,O.h,90,270))}e.setCenterPoint(i.l-t.l,t.r-i.r,i.t-t.t,t.b-i.b),e._pointLabelItems=function XVt(e,i,t){const n=[],r=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:l}=s.pointLabels,b={extra:PL(s)/2,additionalAngle:o?Kr/r:0};let C;for(let D=0;D<r;D++){b.padding=t[D],b.size=i[D];const R=HVt(e,D,b);n.push(R),"auto"===l&&(R.visible=WVt(R,C),R.visible&&(C=R))}return n}(e,n,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,t,n,r){this.xCenter+=Math.floor((i-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,t,n,r))}getIndexAngle(i){return Il(i*(Zr/(this._pointLabels.length||1))+Mc(this.options.startAngle||0))}getDistanceFromCenterForValue(i){if(Zn(i))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*t:(i-this.min)*t}getValueForDistanceFromCenter(i){if(Zn(i))return NaN;const t=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(i){const t=this._pointLabels||[];if(i>=0&&i<t.length){const n=t[i];return function JVt(e,i,t){return cf(e,{label:t,index:i,type:"pointLabel"})}(this.getContext(),i,n)}}getPointPosition(i,t,n=0){const r=this.getIndexAngle(i)-Ns+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(i,t){return this.getPointPosition(i,this.getDistanceFromCenterForValue(t))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){const{left:t,top:n,right:r,bottom:s}=this._pointLabelItems[i];return{left:t,top:n,right:r,bottom:s}}drawBackground(){const{backgroundColor:i,grid:{circular:t}}=this.options;if(i){const n=this.ctx;n.save(),n.beginPath(),LJ(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=i,n.fill(),n.restore()}}drawGrid(){const i=this.ctx,t=this.options,{angleLines:n,grid:r,border:s}=t,o=this._pointLabels.length;let l,b,C;if(t.pointLabels.display&&function KVt(e,i){const{ctx:t,options:{pointLabels:n}}=e;for(let r=i-1;r>=0;r--){const s=e._pointLabelItems[r];if(!s.visible)continue;const o=n.setContext(e.getPointLabelContext(r));QVt(t,o,s);const l=pa(o.font),{x:b,y:C,textAlign:D}=s;Nm(t,e._pointLabels[r],b,C+l.lineHeight/2,l,{color:o.color,textAlign:D,textBaseline:"middle"})}}(this,o),r.display&&this.ticks.forEach((D,R)=>{if(0!==R||0===R&&this.min<0){b=this.getDistanceFromCenterForValue(D.value);const O=this.getContext(R),L=r.setContext(O),U=s.setContext(O);!function ZVt(e,i,t,n,r){const s=e.ctx,o=i.circular,{color:l,lineWidth:b}=i;!o&&!n||!l||!b||t<0||(s.save(),s.strokeStyle=l,s.lineWidth=b,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),LJ(e,t,o,n),s.closePath(),s.stroke(),s.restore())}(this,L,b,o,U)}}),n.display){for(i.save(),l=o-1;l>=0;l--){const D=n.setContext(this.getPointLabelContext(l)),{color:R,lineWidth:O}=D;!O||!R||(i.lineWidth=O,i.strokeStyle=R,i.setLineDash(D.borderDash),i.lineDashOffset=D.borderDashOffset,b=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),C=this.getPointPosition(l,b),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(C.x,C.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){const i=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let s,o;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(r),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((l,b)=>{if(0===b&&this.min>=0&&!t.reverse)return;const C=n.setContext(this.getContext(b)),D=pa(C.font);if(s=this.getDistanceFromCenterForValue(this.ticks[b].value),C.showLabelBackdrop){i.font=D.string,o=i.measureText(l.label).width,i.fillStyle=C.backdropColor;const R=co(C.backdropPadding);i.fillRect(-o/2-R.left,-s-D.size/2-R.top,o+R.width,D.size+R.height)}Nm(i,l.label,0,-s,D,{color:C.color,strokeColor:C.textStrokeColor,strokeWidth:C.textStrokeWidth})}),i.restore()}drawTitle(){}},TimeScale:FL,TimeSeriesScale:class n8t extends FL{static id="timeseries";static defaults=FL.defaults;constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const i=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(i);this._minPos=PE(t,this.min),this._tableRange=PE(t,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){const{min:t,max:n}=this,r=[],s=[];let o,l,b,C,D;for(o=0,l=i.length;o<l;++o)C=i[o],C>=t&&C<=n&&r.push(C);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,l=r.length;o<l;++o)D=r[o+1],b=r[o-1],C=r[o],Math.round((D+b)/2)!==C&&s.push({time:C,pos:o/(l-1)});return s}_generate(){const i=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(i)||!n.length)&&n.splice(0,0,i),(!n.includes(t)||1===n.length)&&n.push(t),n.sort((r,s)=>r-s)}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return i=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,i=this._cache.all=i,i}getDecimalForValue(i){return(PE(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){const t=this._offsets,n=this.getDecimalForPixel(i)/t.factor-t.end;return PE(this._table,n*this._tableRange+this._minPos,!0)}}}));let p8t=(()=>{class e{constructor(){this.allQuestions=[],this.resultsScale=[{value:1,label:"Basic"},{value:2,label:"Limited"},{value:3,label:"Advanced"},{value:4,label:"Integrated"},{value:5,label:"Optimizing"}]}ngAfterViewInit(){this.maturityResponse&&this.generateChart()}ngOnChanges(t){this.radarCanvas&&t.maturityResponse&&this.maturityResponse&&this.generateChart()}generateChart(){this.chart&&this.chart.destroy();const t={};Object.entries(this.maturityResponse).forEach(([o,l])=>{const[b,C,D]=o.split(".");b&&C&&D&&b===this.maturityResponse.selectedStakeholder&&(t[C]=t[C]||{sum:0,count:0},t[C].sum+=l||0,t[C].count+=1)});const n=Array.from(new Set(Object.keys(this.maturityResponse).filter(o=>o.startsWith(this.maturityResponse.selectedStakeholder)).map(o=>o.split(".")[1]))),r=n.map(o=>this.getKpaName(o)||o),s=[{label:this.getStakeholderName(),data:n.map(o=>t[o]?t[o].sum/t[o].count:0),backgroundColor:"rgba(54, 162, 235, 0.3)",borderColor:"rgba(54, 162, 235, 1)",pointBackgroundColor:"rgba(54, 162, 235, 1)",pointBorderColor:"#fff"}];this.chart=new CL(this.radarCanvas.nativeElement,{type:"radar",data:{labels:r,datasets:s},options:{aspectRatio:2,responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Maturity Results by Stakeholder and KPA"}},scales:{r:{pointLabels:{padding:5},suggestedMin:0,suggestedMax:5,ticks:{stepSize:1}}}}})}getStakeholders(t){return Array.from(new Set(Object.keys(t).map(n=>n.split(".")[0])))}getKpas(t,n){return Array.from(new Set(Object.keys(t).filter(r=>r.startsWith(n)).map(r=>r.split(".")[1])))}getStakeholderName(){return this.allQuestions[0].stakeholderName}getKpaName(t){const n=this.allQuestions.find(r=>r.kpaId===t);return n?n.kpaName:null}getQuestions(t,n,r){return Object.keys(t).filter(s=>s.startsWith(`${n}.${r}`)).reduce((s,o)=>(s[o.split(".").slice(2).join(".")]=t[o],s),{})}getStakeholderRowSpan(t,n){return this.getKpas(t,n).reduce((s,o)=>s+this.getKpaRowSpan(t,n,o),0)}getKpaRowSpan(t,n,r){return Object.keys(t).filter(s=>s.startsWith(`${n}.${r}`)).length}isFirstRowInStakeholder(t,n,r){const s=this.getKpas(this.maturityResponse,n).indexOf(r);return 0===t&&0===s}isFirstRowInKpa(t){return 0===t}calculateAverage(t){const n=Object.values(t).filter(s=>null!==s),r=n.reduce((s,o)=>s+o,0);return n.length>0?r/n.length:0}calculateOverallAverage(t){const n={},r=["selectedStakeholder","name","author","timestamp","selectedKpas"];for(const l in t)if(t.hasOwnProperty(l)&&null!==t[l]&&!r.includes(l)){const b=l.split(".")[1];n[b]||(n[b]=[]),n[b].push(t[l])}const s=Object.keys(n).filter(l=>n[l].length>0).map(l=>{const b=n[l];return b.reduce((C,D)=>C+D,0)/b.length});return s.length>0?s.reduce((l,b)=>l+b,0)/s.length:0}getScaleLabel(t){return t=Math.floor(t),this.resultsScale.find(n=>n.value===t)?.label||""}getMarkerPosition(t){return t<1&&(t=1),t>5&&(t=5),(t-1)/4*100}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-maturity-results"]],viewQuery:function(n,r){if(1&n&&Mi(a8t,5),2&n){let s;Be(s=Ve())&&(r.radarCanvas=s.first)}},inputs:{maturityResponse:"maturityResponse",allQuestions:"allQuestions"},features:[tr],decls:24,vars:15,consts:[["radarCanvas",""],[1,"centered-box"],[1,"score-scale-container"],[1,"score-scale"],[1,"score-marker",3,"ngStyle"],["class","score-tick",3,"ngStyle",4,"ngFor","ngForOf"],[1,"score-scale-labels"],["class","level-label",4,"ngFor","ngForOf"],[1,"bordered-table"],[4,"ngFor","ngForOf"],[1,"chart-container"],[1,"score-tick",3,"ngStyle"],[1,"score-tick-label"],[1,"level-label"],[4,"ngIf"]],template:function(n,r){1&n&&(q(0,"h3",1),ut(1),hs(2,"number"),et(),ye(3,"br"),q(4,"div",2)(5,"div",3),ye(6,"div",4),Gt(7,o8t,3,4,"div",5),et(),q(8,"div",6),Gt(9,l8t,2,1,"span",7),hs(10,"slice"),et()(),q(11,"table",8)(12,"thead")(13,"tr")(14,"th"),ut(15,"KPA"),et(),q(16,"th"),ut(17,"Maturity score"),et()()(),q(18,"tbody"),Gt(19,m8t,2,1,"ng-container",9),et()(),q(20,"div",10),ye(21,"canvas",null,0),et(),ye(23,"br")),2&n&&(ot(),Ko(" ",bc(2,6,r.calculateOverallAverage(r.maturityResponse),"1.2-2")," - ",r.getScaleLabel(r.calculateOverallAverage(r.maturityResponse)),"\n"),ot(5),xt("ngStyle",yl(13,GJ,"calc("+r.getMarkerPosition(r.calculateOverallAverage(r.maturityResponse))+"% - 3px)")),ot(),xt("ngForOf",r.resultsScale),ot(2),xt("ngForOf",$6(10,9,r.resultsScale,0,r.resultsScale.length-1)),ot(10),xt("ngForOf",r.getStakeholders(r.maturityResponse)))},dependencies:[vs,Is,AU,kU,IU,_I,DU],styles:[".bordered-table[_ngcontent-%COMP%]{border:1px solid #000;border-collapse:collapse;width:100%}.bordered-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .bordered-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #000;padding:4px}.chart-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.centered-box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:2px solid #000;padding:10px;margin:20px auto;width:-moz-fit-content;width:fit-content;box-shadow:0 0 10px #0000001a}.score-scale-container[_ngcontent-%COMP%]{position:relative;width:100%;margin:1rem 0}.score-scale[_ngcontent-%COMP%]{position:relative;height:20px;width:100%;border-radius:4px;background:linear-gradient(to right,#c03700,#d47f00,#dfc500 66%,#417505)}.score-marker[_ngcontent-%COMP%]{position:absolute;top:-5px;width:6px;height:30px;background-color:#2821eb;transition:left .3s ease;border-radius:2px}.score-tick[_ngcontent-%COMP%]{position:absolute;top:0;width:1px;height:8px;background-color:#000;transform:translateY(-8px)}.score-tick-label[_ngcontent-%COMP%]{position:absolute;top:-20px;left:-4px;font-weight:700;font-size:small}.score-scale-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem;width:100%}.level-label[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:small;flex:1}"]})}return e})();function g8t(e,i){if(1&e&&(q(0,"mat-radio-button",17),ut(1),q(2,"p",18),ut(3),et()()),2&e){const t=i.$implicit;xt("value",t.id),ot(),He(" ",t.name," "),ot(2),He(" ",t.description,"")}}function v8t(e,i){1&e&&(q(0,"div",19),ut(1," Please select a stakeholder. "),et())}function x8t(e,i){if(1&e&&(q(0,"div")(1,"h2"),ut(2,"Stakeholder Description"),et(),q(3,"mat-form-field",20)(4,"mat-label"),ut(5),hs(6,"titlecase"),et(),ye(7,"input",21),q(8,"mat-hint"),ut(9,"Stakeholder name to be included in the final assessment report. This information is not stored."),et()(),q(10,"mat-form-field",22)(11,"mat-label"),ut(12,"User name "),et(),ye(13,"input",23),q(14,"mat-hint"),ut(15,"User name to be included in the final assessment report. This information is not stored."),et()()()),2&e){let t;const n=Ct(2);ot(5),He("",zl(6,3,null==(t=n.getStakeHolder(n.responseForm.controls.selectedStakeholder.value))?null:t.name)," name "),ot(2),xt("formControl",n.nameControl),ot(6),xt("formControl",n.authorControl)}}function y8t(e,i){if(1&e){const t=pe();q(0,"div",6)(1,"div",7)(2,"h2"),ut(3,"Select Stakeholder"),et(),q(4,"div",2)(5,"div",8)(6,"mat-radio-group",9),Gt(7,g8t,4,3,"mat-radio-button",10),et(),Gt(8,v8t,2,0,"div",11),et(),q(9,"div",12),Gt(10,x8t,16,5,"div",13),et()(),q(11,"div",14)(12,"button",15),Vt("click",function(){return Ut(t),zt(Ct().onStakeholderSelected())}),ut(13," Start "),et(),q(14,"input",16,1),Vt("change",function(r){return Ut(t),zt(Ct().loadState(r))}),et(),q(16,"button",3),Vt("click",function(){return Ut(t),zt(Ki(15).click())}),ut(17,"Upload assessment"),et()()()()}if(2&e){const t=Ct();ot(),xt("formGroup",t.responseForm),ot(5),xt("formControl",t.currentControl)("@questionAnimation",t.animationState),ot(),xt("ngForOf",t.maturityQuestions.stakeHolders),ot(),xt("ngIf",(null==t.responseForm.controls.selectedStakeholder?null:t.responseForm.controls.selectedStakeholder.invalid)&&(null==t.responseForm.controls.selectedStakeholder?null:t.responseForm.controls.selectedStakeholder.touched)),ot(2),xt("ngIf",!t.responseForm.controls.selectedStakeholder.invalid),ot(2),xt("disabled",t.responseForm.controls.selectedStakeholder.invalid)}}function b8t(e,i){if(1&e&&(q(0,"mat-checkbox",30),ut(1),ye(2,"br"),q(3,"span",31),ut(4),et()()),2&e){const t=Ct().$implicit;xt("formControl",Ct(3).getKpaControl(t.id)),ot(),He(" ",t.name,""),ot(3),Xe(t.description)}}function w8t(e,i){if(1&e&&(q(0,"div",28),Gt(1,b8t,5,3,"mat-checkbox",29),et()),2&e){const t=i.$implicit,n=Ct(3);ot(),xt("ngIf",n.getKpaControl(t.id))}}function _8t(e,i){if(1&e){const t=pe();q(0,"button",15),Vt("click",function(){return Ut(t),zt(Ct(3).filterKpasAndGoNext())}),ut(1," Next "),et()}2&e&&xt("disabled",Ct(3).currentControl.invalid)}function T8t(e,i){if(1&e){const t=pe();q(0,"div",7)(1,"h2"),ut(2),et(),q(3,"section",25)(4,"h4"),ut(5,"Select Relevant Key Process Areas:"),et(),Gt(6,w8t,2,1,"div",26),et(),q(7,"div",14),Gt(8,_8t,2,1,"button",27),et(),q(9,"div",14)(10,"button",3),Vt("click",function(){return Ut(t),zt(Ct(2).startOver())}),ut(11," Restart assessment "),et()()()}if(2&e){const t=Ct(2);xt("formGroup",t.responseForm),ot(2),Ko("Stakeholder: ",t.nameControl.value," (",t.allQuestions[t.currentQuestionIndex+1].stakeholderName,")"),ot(4),xt("ngForOf",t.currentKpas),ot(2),xt("ngIf",t.currentQuestionIndex<t.allQuestions.length-1)}}function C8t(e,i){if(1&e&&(q(0,"div",6),Gt(1,T8t,12,5,"div",24),et()),2&e){const t=Ct();ot(),xt("ngIf",t.currentQuestionIndex<t.allQuestions.length)}}function S8t(e,i){1&e&&(q(0,"mat-icon",40),ut(1," help_outline "),et()),2&e&&xt("matTooltip",Ct().$implicit.example)}function E8t(e,i){if(1&e&&(q(0,"mat-radio-button",37)(1,"div",38),ut(2),Gt(3,S8t,2,1,"mat-icon",39),et()()),2&e){const t=i.$implicit;xt("value",t.score),ot(2),He(" ",t.text," "),ot(),xt("ngIf",t.example)}}function A8t(e,i){1&e&&(q(0,"div",19),ut(1," Please select an option for this question. "),et())}function D8t(e,i){if(1&e){const t=pe();q(0,"button",15),Vt("click",function(){return Ut(t),zt(Ct(3).goToPreviousQuestion())}),ut(1," Back "),et()}2&e&&xt("disabled",Ct(3).currentQuestionIndex<1)}function M8t(e,i){if(1&e){const t=pe();q(0,"button",15),Vt("click",function(){return Ut(t),zt(Ct(3).goToNextQuestion())}),ut(1," Next "),et()}2&e&&xt("disabled",Ct(3).currentControl.invalid)}function I8t(e,i){if(1&e){const t=pe();q(0,"button",41),Vt("click",function(){return Ut(t),zt(Ct(3).submitStakeholderResponses())}),ut(1," Submit "),et()}2&e&&xt("disabled",Ct(3).currentControl.invalid)}function k8t(e,i){if(1&e){const t=pe();q(0,"div",7)(1,"h2"),ut(2),et(),ye(3,"mat-progress-bar",32),q(4,"div",33),ut(5),et(),q(6,"h3"),ut(7),et(),q(8,"p",34),ut(9),et(),q(10,"mat-radio-group",9),Gt(11,E8t,4,3,"mat-radio-button",35),et(),Gt(12,A8t,2,0,"div",11),q(13,"div",14),Gt(14,D8t,2,1,"button",27)(15,M8t,2,1,"button",27)(16,I8t,2,1,"button",36),et(),q(17,"div",14)(18,"button",3),Vt("click",function(){return Ut(t),zt(Ct(2).startOver())}),ut(19," Restart assessment "),et()()()}if(2&e){const t=Ct(2);xt("formGroup",t.responseForm),ot(2),Ko("Stakeholder: ",t.nameControl.value," (",t.allQuestions[t.currentQuestionIndex].stakeholderName,")"),ot(),xt("value",(t.currentQuestionIndex+1)/(t.allQuestions.length+1)*100),ot(2),Ko("Question ",t.currentQuestionIndex+1," of ",t.allQuestions.length,""),ot(2),He("Key Process Area: ",t.allQuestions[t.currentQuestionIndex].kpaName,""),ot(),xt("@questionAnimation",t.animationState),ot(),Xe(t.allQuestions[t.currentQuestionIndex].question.question),ot(),xt("formControl",t.currentControl)("@questionAnimation",t.animationState),ot(),xt("ngForOf",t.allQuestions[t.currentQuestionIndex].question.options),ot(),xt("ngIf",(null==t.currentControl?null:t.currentControl.invalid)&&(null==t.currentControl?null:t.currentControl.touched)),ot(2),xt("ngIf",t.currentQuestionIndex>0),ot(),xt("ngIf",t.currentQuestionIndex<t.allQuestions.length-1),ot(),xt("ngIf",t.currentQuestionIndex===t.allQuestions.length-1)}}function R8t(e,i){if(1&e&&(q(0,"div",6),Gt(1,k8t,20,16,"div",24),et()),2&e){const t=Ct();ot(),xt("ngIf",t.currentQuestionIndex<t.allQuestions.length)}}function P8t(e,i){if(1&e&&(q(0,"span"),ut(1),et()),2&e){const t=Ct(2);ot(),He("by ",t.authorControl.value,", ")}}function F8t(e,i){if(1&e){const t=pe();q(0,"div",6)(1,"div",42)(2,"h2"),ut(3),et(),q(4,"h3"),ut(5,"Maturity assessment results"),et(),q(6,"p",43),ut(7,"Assessment conducted "),Gt(8,P8t,2,1,"span",13),ut(9),hs(10,"date"),et(),q(11,"p",44),ut(12,"Based on your responses, the maturity level of the stakeholder is:"),et(),ye(13,"app-maturity-results",45),q(14,"div",14)(15,"button",15),Vt("click",function(){return Ut(t),zt(Ct().goToPreviousQuestion())}),ut(16," Back "),et(),q(17,"button",3),Vt("click",function(){return Ut(t),zt(Ct().startOver())}),ut(18," Start over "),et()(),q(19,"div",14)(20,"button",3),Vt("click",function(){return Ut(t),zt(Ct().saveState())}),ut(21,"Save results"),et()()()()}if(2&e){const t=Ct();ot(),xt("@questionAnimation",t.animationState),ot(2),Ko("Stakeholder: ",t.nameControl.value," (",t.allQuestions[t.currentQuestionIndex-1].stakeholderName,")"),ot(5),xt("ngIf",t.authorControl.value),ot(),He(" on ",bc(10,8,t.timestampControl.value,"medium")," "),ot(4),xt("maturityResponse",t.responseForm.value)("allQuestions",t.allQuestions),ot(2),xt("disabled",t.currentQuestionIndex<1)}}let O8t=(()=>{class e{constructor(t,n,r){this.http=t,this.fb=n,this.dialog=r,this.maturityQuestions={},this.allQuestions=[],this.currentQuestionIndex=-2,this.selectedStakeholder=null,this.animationState="enter",this.currentKpas=[],this.responseForm=this.fb.group({selectedStakeholder:new Ps(null,cd.required)}),this.currentControl=this.responseForm.controls.selectedStakeholder}ngOnInit(){var t=this;return de(function*(){t.initializeForm()})()}initializeForm(){var t=this;return de(function*(){t.maturityQuestions=yield Sa(t.http.get("assets/maturity/maturityLevels.json")),t.nameControl=new Ps(null),t.authorControl=new Ps(null),t.timestampControl=new Ps((new Date).toISOString()),t.responseForm=t.fb.group({selectedStakeholder:new Ps(null,cd.required),name:t.nameControl,author:t.authorControl,timestamp:t.timestampControl}),t.currentControl=t.responseForm.controls.selectedStakeholder,t.maturityQuestions.stakeHolders.forEach(n=>{n.kpas.forEach(r=>{r.questions.forEach(s=>{const o=[n.id,r.id,s.id].join(".");t.responseForm.addControl(o,new Ps(null,cd.required))})})})})()}onStakeholderSelected(){this.animationState="leave",setTimeout(()=>{const t=this.responseForm.get("selectedStakeholder")?.value;this.selectedStakeholder=this.getStakeHolder(t);const n=this.fb.group({});this.selectedStakeholder.kpas.forEach(r=>{n.addControl(r.id,this.fb.control(!0))}),this.responseForm.addControl("selectedKpas",n),this.currentKpas=this.selectedStakeholder.kpas,this.flattenQuestions(),this.currentQuestionIndex++,this.animationState="enter"},200)}getKpaControl(t){return this.responseForm.get("selectedKpas")?.get(t)}getStakeHolder(t){return this.maturityQuestions.stakeHolders.find(r=>r.id===t)}flattenQuestions(){this.allQuestions=[],this.selectedStakeholder&&this.selectedStakeholder.kpas.forEach(t=>{t.questions.forEach(n=>{const r=[this.selectedStakeholder.id,t.id,n.id].join(".");this.allQuestions.push({stakeholderName:this.selectedStakeholder.name,kpaName:t.name,kpaId:t.id,question:n,questionFullPath:r})})})}filterKpasAndGoNext(){this.animationState="leave";const t=this.responseForm.get("selectedKpas"),n=Object.keys(t.controls).filter(r=>t.get(r)?.value);this.selectedStakeholder.kpas.forEach(r=>{n.includes(r.id)||r.questions.forEach(s=>{const o=[this.selectedStakeholder.id,r.id,s.id].join(".");this.responseForm.contains(o)&&this.responseForm.removeControl(o)})}),this.allQuestions=this.allQuestions.filter(r=>n.includes(r.kpaId)),setTimeout(()=>{this.currentQuestionIndex++,this.allQuestions.length>0&&(this.currentControl=this.responseForm.controls[this.allQuestions[this.currentQuestionIndex].questionFullPath]),this.animationState="enter"},200)}goToNextQuestion(){this.animationState="leave",setTimeout(()=>{this.currentQuestionIndex++,this.currentControl=this.responseForm.controls[this.allQuestions[this.currentQuestionIndex].questionFullPath],this.animationState="enter"},200)}goToPreviousQuestion(){this.animationState="leave",setTimeout(()=>{this.currentQuestionIndex--,this.currentControl=this.responseForm.controls[this.allQuestions[this.currentQuestionIndex].questionFullPath],this.animationState="enter"},200)}startOver(){this.currentQuestionIndex=-2,this.responseForm.reset(),this.currentKpas=[],this.selectedStakeholder=null,this.allQuestions=[],this.initializeForm()}uploadSpecification(t){if(1!==t.target.files.length)console.error("No file selected");else{const n=new FileReader;n.onloadend=r=>{if(n.result){const s=JSON.parse(n.result?.toString());this.maturityQuestions=s}},n.readAsText(t.target.files[0])}}downloadSpecification(){const t=JSON.stringify(this.maturityQuestions,null,2),n="data:application/json;charset=utf-8,"+encodeURIComponent(t),s=document.createElement("a");s.setAttribute("href",n),s.setAttribute("download","maturity_specification.json"),s.click()}submitStakeholderResponses(){this.timestampControl.setValue((new Date).toISOString()),this.animationState="leave",setTimeout(()=>{this.currentQuestionIndex++,this.animationState="enter"},200)}getStakeholderFormGroup(t){return this.responseForm.get(t)}getKpas(t){return this.getStakeHolder(t).kpas}getUnansweredCount(t){let n=0;const r=this.responseForm.get(t);return r&&Object.keys(r.controls).forEach(s=>{const o=r.get(s);o&&Object.keys(o.controls).forEach(l=>{const b=o.get(l);b&&b.invalid&&n++})}),n}saveState(){const t={selectedStakeholder:this.responseForm.get("selectedStakeholder")?.value,selectedKpas:this.responseForm.get("selectedKpas")?.value,responses:this.responseForm.value,currentQuestionIndex:this.currentQuestionIndex,currentControl:this.currentControl?.value,animationState:this.animationState,name:this.nameControl.value,author:this.authorControl.value,timestamp:this.timestampControl.value,allQuestions:this.allQuestions},n=new Blob([JSON.stringify(t)],{type:"application/json"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download="maturity-assessment-results.json",r.click()}loadState(t){if(1!==t.target.files.length)return void console.error("No file selected");const n=new FileReader;n.onloadend=()=>{if(!n.result)return void console.error("FileReader result is empty");const r=JSON.parse(n.result.toString());this.responseForm.reset(),this.currentQuestionIndex=-2,this.allQuestions=[],this.selectedStakeholder=null,this.currentKpas=[],this.initializeForm().then(()=>{this.nameControl.setValue(r.name),this.authorControl.setValue(r.author),this.timestampControl.setValue(r.timestamp);const s=r.selectedStakeholder,o=r.selectedKpas||{};this.responseForm.get("selectedStakeholder")?.setValue(s);const l=this.fb.group({}),b=this.getStakeHolder(s);this.selectedStakeholder=b,b?.kpas&&b.kpas.forEach(R=>{l.addControl(R.id,this.fb.control(!!o[R.id]))}),this.responseForm.setControl("selectedKpas",l),this.selectedStakeholder?.kpas&&this.selectedStakeholder.kpas.forEach(R=>{R.questions.forEach(O=>{const L=[this.selectedStakeholder.id,R.id,O.id].join(".");this.responseForm.contains(L)||this.responseForm.addControl(L,new Ps(null,cd.required))})});const C=Object.keys(o).filter(R=>o[R]);this.selectedStakeholder?.kpas&&this.selectedStakeholder.kpas.forEach(R=>{C.includes(R.id)||R.questions.forEach(O=>{const L=[this.selectedStakeholder.id,R.id,O.id].join(".");this.responseForm.contains(L)&&this.responseForm.removeControl(L)})}),this.flattenQuestions(),this.allQuestions=this.allQuestions.filter(R=>C.includes(R.kpaId));const D=r.responses||{};Object.keys(D).forEach(R=>{this.responseForm.contains(R)&&this.responseForm.controls[R].setValue(D[R])}),this.currentQuestionIndex=r.currentQuestionIndex||-2,this.animationState=r.animationState||"enter"})},n.readAsText(t.target.files[0])}static#t=this.\u0275fac=function(n){return new(n||e)(mt(ad),mt(BC),mt(lm))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-maturity-main"]],decls:11,vars:4,consts:[["fileInput",""],["fileInputState",""],[1,"flex","flex-row","gap-4","justify-end","flex-wrap","p-2"],["mat-flat-button","","color","primary",3,"click"],["hidden","","type","file","id","file",3,"change"],["class","question-flow-container",4,"ngIf"],[1,"question-flow-container"],[1,"question-container",3,"formGroup"],[1,"flex-1"],[1,"options-container",3,"formControl"],["class","mb-5",3,"value",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],[1,"flex-1","mb-10"],[4,"ngIf"],[1,"button-container"],["mat-flat-button","","color","primary",3,"click","disabled"],["hidden","","type","file","id","fileState",3,"change"],[1,"mb-5",3,"value"],[1,"stakeholder-description"],[1,"error-message"],[1,"w-full"],["matInput","","placeholder","Enter stakeholder name...",3,"formControl"],[1,"w-full","mt-10"],["matInput","","placeholder","Enter the name of the user conducting the assessment...",3,"formControl"],["class","question-container",3,"formGroup",4,"ngIf"],[1,"example-section","mt-10"],["class","kpa-checkbox",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"kpa-checkbox"],[3,"formControl",4,"ngIf"],[3,"formControl"],[1,"kpa-description"],["mode","determinate",1,"progress-bar",3,"value"],[1,"progress-message"],[1,"question-text"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",3,"disabled","click",4,"ngIf"],[3,"value"],[1,"mat-radio-label-content"],["matTooltipPosition","right",3,"matTooltip",4,"ngIf"],["matTooltipPosition","right",3,"matTooltip"],["mat-flat-button","","color","accent",3,"click","disabled"],[1,"question-container"],[1,"text-center"],[1,"text-center","mt-10","text-lg"],[3,"maturityResponse","allQuestions"]],template:function(n,r){if(1&n){const s=pe();q(0,"div",2)(1,"button",3),Vt("click",function(){return Ut(s),zt(r.downloadSpecification())}),ut(2,"Download Maturiry Spec"),et(),q(3,"input",4,0),Vt("change",function(l){return Ut(s),zt(r.uploadSpecification(l))}),et(),q(5,"button",3),Vt("click",function(){return Ut(s),zt(Ki(4).click())}),ut(6,"Upload Maturity Spec"),et()(),Gt(7,y8t,18,7,"div",5)(8,C8t,2,1,"div",5)(9,R8t,2,1,"div",5)(10,F8t,22,11,"div",5)}2&n&&(ot(7),xt("ngIf",-2===r.currentQuestionIndex),ot(),xt("ngIf",-1===r.currentQuestionIndex),ot(),xt("ngIf",r.currentQuestionIndex>=0&&r.currentQuestionIndex<r.allQuestions.length),ot(),xt("ngIf",r.currentQuestionIndex==r.allQuestions.length))},dependencies:[vs,Is,Ea,ua,uP,Sl,tl,Oh,yu,Cl,No,rm,Uy,ud,bu,sP,ZC,$y,p8t,_I,Zd],styles:[".question-flow-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:16px;margin:16px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 4px #0000001a}.question-container[_ngcontent-%COMP%]{width:100%;max-width:75%;padding:24px;background-color:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 6px #0000001a;margin-bottom:16px}.question-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.5rem;color:#333;text-align:center}.question-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1.2rem;color:#555;text-align:center}.question-text[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:16px;color:#333;text-align:justify}.kpa-description[_ngcontent-%COMP%]{font-size:.9rem;color:#757272}.kpa-checkbox[_ngcontent-%COMP%]{margin-bottom:10px}.options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.mat-radio-button[_ngcontent-%COMP%]{font-size:.9rem;color:#555}.error-message[_ngcontent-%COMP%]{margin-top:8px;font-size:.85rem;color:#d32f2f;text-align:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px;margin-bottom:16px}.progress-bar[_ngcontent-%COMP%]{margin-top:20px;height:8px}.progress-message[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:.9rem;font-style:italic;margin-bottom:20px}.mat-radio-button[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.mat-radio-label-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:8px}.example-text[_ngcontent-%COMP%]{font-size:.9rem;color:gray}.mat-icon[_ngcontent-%COMP%]{font-size:16px;margin-left:10px}.stakeholder-description[_ngcontent-%COMP%]{font-size:.9rem;color:#757272}button[mat-raised-button][_ngcontent-%COMP%]{margin-top:16px;font-size:.9rem;text-transform:uppercase}button[mat-raised-button][color=primary][_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}button[mat-raised-button][color=primary][_ngcontent-%COMP%]:disabled{background-color:#9e9e9e;color:#fff;cursor:not-allowed}button[mat-raised-button][color=accent][_ngcontent-%COMP%]{background-color:#ff4081;color:#fff}button[mat-raised-button][color=accent][_ngcontent-%COMP%]:hover{background-color:#f50057}@media (max-width: 768px){.question-container[_ngcontent-%COMP%]{padding:16px}.question-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}.question-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.question-text[_ngcontent-%COMP%]{font-size:.9rem}}"],data:{animation:[mr("questionAnimation",[kn("enter",qe({opacity:1})),kn("leave",qe({opacity:0})),on("enter => leave",[sn("200ms ease-in-out",qe({opacity:0}))]),on("leave => enter",[qe({opacity:0}),sn("200ms ease-in-out",qe({opacity:1}))])])]}})}return e})(),HJ=(()=>{class e{constructor(){this.demos=[{name:"Clinical User Interface Demo",subtitle:"Clinical demo",type:"external",url:"http://snomed.org/ui",description:"A simulation of clinical data entry on an EHR using SNOMED FHIR Terminology services"},{name:"Allergies",subtitle:"Clinical demo",type:"internal",url:"/allergies",description:"A SNOMED / FHIR implementation demo of recording Allergy / Intollerance details, from Allergies Clinical Reference Group"},{name:"Terminology Bindings Sandbox",subtitle:"Learning demo",type:"internal",url:"/sandbox",description:"A sandbox for learning and testing terminology bindings"},{name:"SNOMED Maps Demonstrator",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/iid-icd-maps",description:"A SNOMED / ICD-10 maps demonstration, including complex map rules execution"},{name:"Post-coordination Demonstrator",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/iid-postcoordination",description:"A SNOMED post-coordination demonstration, with new prototype Postcoordination Terminology server SNOWSTORM X"},{name:"IPS Terminology Demonstrator",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/iid-ips/",description:"A demonstration of the International Patient Summary (IPS) terminology, including the IPS SNOMED CT refset"},{name:"SNOMED & FHIR Questionnaires Manager Application",subtitle:"Application",type:"internal",url:"/questionnaires",description:"An application to manage a FHIR Questionnaires repository, with SNOMED CT bindings"},{name:"SNOMED & FHIR Questionnaires Utilities",subtitle:"Utilities",type:"internal",url:"/questionnaires",queryParams:{utility:!0},description:"Utilities for working with FHIR Questionnaires, including SNOMED CT bindings"},{name:"Context Representation Transformations",subtitle:"Learning demo",type:"internal",url:"/context",description:"A demonstration of the transformation of context representations from SNOMED to FHIR Resources"},{name:"SNOMED and LLMs (AI Demo)",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/openai-demo/",description:"This demo uses OpenAI ChatGPT API to demonstrate the use of SNOMED CT with Language Model Models (LLMs). A developer key for the OpenAI API is required."},{name:"Snoguess (A SNOMED game)",subtitle:"Game",type:"internal",url:"/snoguess",description:"A SNOMED term guessing game, learn about SNOMED content while having fun and competing to achieve the highest score"},{name:"SNOMED Implementation Roadmap Generator",subtitle:"Tool",type:"external",url:"https://ihtsdo.github.io/roadmap-generator",description:"A tool designed to promote and support the creation of implementation roadmaps for the adoption of SNOMED CT in countries, regions or organizations."}]}getDemos(){return this.demos}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function L8t(e,i){if(1&e){const t=pe();q(0,"div",8)(1,"mat-card",9)(2,"mat-card-header")(3,"mat-card-subtitle"),ut(4),et(),q(5,"mat-card-title"),ut(6),et()(),q(7,"mat-card-content")(8,"p"),ut(9),et()(),q(10,"mat-card-actions")(11,"button",10),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct().navigate(r))}),ut(12,"OPEN"),et()()()()}if(2&e){const t=i.$implicit;ot(4),Xe(t.subtitle),ot(2),Xe(t.name),ot(3),Xe(t.description)}}let WJ=(()=>{class e{constructor(t,n,r){this.router=t,this.route=n,this.menuService=r,this.demos=[]}ngOnInit(){this.demos=this.menuService.getDemos()}navigate(t){if("internal"===t.type){let n=t.queryParams,r=this.route.snapshot.queryParams;n=n?{...r,...n}:r,this.router.navigate([t.url],{queryParams:n})}else this.openInNewTab(t.url)}openInNewTab(t){window.open(t,"_blank")}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Fo),mt(Sc),mt(HJ))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-home"]],decls:17,vars:1,consts:[[1,"main-panel"],[1,"intro"],["href","https://github.com/IHTSDO/sct-implementation-demonstrator","target","_blank"],["href","https://confluence.ihtsdotools.org/display/CP/Clinical+Engagement","target","_blank"],[1,"demos-panel"],["class","demo-card-wrapper",4,"ngFor","ngForOf"],[1,"center-image"],["src","assets/img/SI_CT_Logo_Delivered_By.png","alt","SNOMED Logo",1,"transparent-image"],[1,"demo-card-wrapper"],[1,"demo-card"],["mat-button","","color","accent",3,"click"]],template:function(n,r){1&n&&(q(0,"div",0)(1,"h1"),ut(2,"SNOMED CT Implementation Demonstrators"),et(),q(3,"p",1),ut(4,"Welcome to our collection of SNOMED CT Implementation Demonstrators! This curated selection of demos showcases the diverse ways SNOMED CT can be implemented across different use cases. Each demonstration is "),q(5,"a",2),ut(6,"open source"),et(),ut(7,", free to explore, and easy to replicate, providing a hands-on learning experience for developers, implementers, and healthcare professionals."),et(),q(8,"p",1),ut(9,"These implementation demos have been created through the collaboration and expertise of the "),q(10,"a",3),ut(11,"global SNOMED CT community of clinical experts"),et(),ut(12,", reflecting best practices and innovative use cases. Whether you\u2019re just getting started with SNOMED CT or looking to deepen your understanding, you\u2019ll find valuable insights here. Explore, learn, and join us in advancing healthcare interoperability."),et(),q(13,"div",4),Gt(14,L8t,13,3,"div",5),et(),q(15,"div",6),ye(16,"img",7),et()()),2&n&&(ot(14),xt("ngForOf",r.demos))},dependencies:[vs,Ea,xC,T7,w7,C7,_7,b7],styles:[".main-panel[_ngcontent-%COMP%]{padding:2rem;height:calc(100vh - 70px)}.intro[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.demos-panel[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;justify-content:center;margin-top:3rem}.demo-card-wrapper[_ngcontent-%COMP%]{width:300px}.demo-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%}mat-card-title[_ngcontent-%COMP%]{word-wrap:break-word;font-size:large;font-weight:700}mat-card-content[_ngcontent-%COMP%]{padding:1rem;margin-bottom:2rem}mat-card-actions[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0;padding-top:10px;margin-top:auto}.center-image[_ngcontent-%COMP%]{text-align:center;margin-top:4rem;margin-left:20%;margin-right:20%}.transparent-image[_ngcontent-%COMP%]{opacity:.5}"]})}return e})();function N8t(e,i){if(1&e){const t=pe();q(0,"app-autocomplete-binding",9),Vt("selectionChange",function(r){Ut(t);const s=Ct().$implicit;return zt(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function B8t(e,i){if(1&e){const t=pe();q(0,"app-dropdown-binding",9),Vt("selectionChange",function(r){Ut(t);const s=Ct().$implicit;return zt(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function V8t(e,i){if(1&e){const t=pe();q(0,"app-radios-binding",9),Vt("selectionChange",function(r){Ut(t);const s=Ct().$implicit;return zt(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function U8t(e,i){if(1&e&&(q(0,"span",10),ut(1),et()),2&e){const t=Ct().$implicit;ot(),Xe(t.title)}}function z8t(e,i){if(1&e){const t=pe();q(0,"app-textbox-binding",11),Vt("textChange",function(r){Ut(t);const s=Ct().$implicit;return zt(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function G8t(e,i){if(1&e){const t=pe();q(0,"app-integer-binding",11),Vt("textChange",function(r){Ut(t);const s=Ct().$implicit;return zt(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function H8t(e,i){if(1&e){const t=pe();q(0,"app-decimal-binding",11),Vt("textChange",function(r){Ut(t);const s=Ct().$implicit;return zt(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function W8t(e,i){if(1&e){const t=pe();q(0,"app-checkbox-binding",9),Vt("selectionChange",function(r){Ut(t);const s=Ct().$implicit;return zt(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function X8t(e,i){if(1&e){const t=pe();q(0,"app-checkbox-multiple-binding",9),Vt("selectionChange",function(r){Ut(t);const s=Ct().$implicit;return zt(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function j8t(e,i){if(1&e&&(q(0,"button",12)(1,"mat-icon"),ut(2,"info"),et()()),2&e){const t=Ct().$implicit;xt("matMenuTriggerFor",Ki(13))("disabled",!t.code&&!t.ecl)}}function Y8t(e,i){if(1&e){const t=pe();q(0,"span",13),Vt("click",function(r){return Ut(t),zt(r.stopPropagation())}),q(1,"h4"),ut(2,"Question terminology binding"),et(),q(3,"pre"),ut(4),et()()}if(2&e){const t=Ct().$implicit;xt("disableRipple",!0),ot(4),Ko("",null==t.code?null:t.code.code," |",null==t.code?null:t.code.display,"|")}}function $8t(e,i){if(1&e){const t=pe();q(0,"span",13),Vt("click",function(r){return Ut(t),zt(r.stopPropagation())}),q(1,"h4"),ut(2,"Answer terminology binding"),et(),q(3,"pre"),ut(4),et()()}if(2&e){const t=Ct().$implicit;xt("disableRipple",!0),ot(4),Xe(t.ecl)}}function Q8t(e,i){if(1&e&&(q(0,"div",2)(1,"div",3),Gt(2,N8t,1,1,"app-autocomplete-binding",4)(3,B8t,1,1,"app-dropdown-binding",4)(4,V8t,1,1,"app-radios-binding",4)(5,U8t,2,1,"span",5)(6,z8t,1,1,"app-textbox-binding",6)(7,G8t,1,1,"app-integer-binding",6)(8,H8t,1,1,"app-decimal-binding",6)(9,W8t,1,1,"app-checkbox-binding",4)(10,X8t,1,1,"app-checkbox-multiple-binding",4)(11,j8t,3,2,"button",7),q(12,"mat-menu",null,0),Gt(14,Y8t,5,3,"span",8)(15,$8t,5,2,"span",8),et()()()),2&e){const t=i.$implicit;ot(2),xt("ngIf","Autocomplete"==t.type),ot(),xt("ngIf","Select (Single)"==t.type||"Select (Multiple)"==t.type),ot(),xt("ngIf","Options"==t.type),ot(),xt("ngIf","Section header"==t.type),ot(),xt("ngIf","Text box"==t.type),ot(),xt("ngIf","Integer"==t.type),ot(),xt("ngIf","Decimal"==t.type),ot(),xt("ngIf","Checkbox"==t.type),ot(),xt("ngIf","Checkbox multiple"==t.type),ot(),xt("ngIf","Section header"!=t.type),ot(3),xt("ngIf",t.code),ot(),xt("ngIf",t.ecl)}}let K8t=(()=>{class e{constructor(){this.output={},this.outputStr="{}",this.response={},this.responseStr="{}",this.responseBundle={},this.responseBundleStr="{}"}optionSelected(t,n,r){this.output[t]={code:n,value:r},n||delete this.output[t].code,this.outputStr=JSON.stringify(this.output,null,2),this.refreshResponse()}refreshResponse(){this.response={};for(let t of this.spec.bindings)this.response[t.title]={},t.code&&(this.response[t.title].code=t.code);for(let[t,n]of Object.entries(this.output))this.output[t].code&&(this.response[t].code=this.output[t].code),this.output[t].value&&(this.response[t].value=this.output[t].value);this.responseStr=JSON.stringify(this.response,null,2),this.refreshResponseBundle()}refreshResponseBundle(){this.responseBundle={resourceType:"Bundle",type:"collection",entry:[]};for(let[t,n]of Object.entries(this.response)){let r=n;const s=r.code?{coding:[{system:"http://snomed.info/sct",code:r.code.code,display:r.code.display}]}:void 0,o=r.value?.code?{coding:[{system:"http://snomed.info/sct",code:r.value.code,display:r.value.display}]}:void 0;let l={resourceType:"Observation",status:"final",category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"survey",display:"Survey"}]}],subject:{reference:"Patient/123"}};l.code=s||{coding:[{system:"http://snomed.info/sct",code:"363788007",display:"Clinical history/examination observable (observable entity)"}]},o&&(l.valueCodeableConcept=o),r.value&&"string"==typeof r.value&&(l.valueString=r.value),(l.valueCodeableConcept||l.valueString)&&this.responseBundle.entry.push(l)}this.responseBundleStr=JSON.stringify(this.responseBundle,null,2)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-bindings-viewer"]],inputs:{spec:"spec"},decls:3,vars:2,consts:[["substancePopoverMenu","matMenu"],["class","output-panel",4,"ngFor","ngForOf"],[1,"output-panel"],[1,"row","control"],["class","grow",3,"binding","selectionChange",4,"ngIf"],["class","title grow",4,"ngIf"],["class","grow",3,"binding","textChange",4,"ngIf"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled",4,"ngIf"],["mat-menu-item","",3,"disableRipple","click",4,"ngIf"],[1,"grow",3,"selectionChange","binding"],[1,"title","grow"],[1,"grow",3,"textChange","binding"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled"],["mat-menu-item","",3,"click","disableRipple"]],template:function(n,r){1&n&&(q(0,"h2"),ut(1),et(),Gt(2,Q8t,16,12,"div",1)),2&n&&(ot(),Xe(r.spec.title),ot(),xt("ngForOf",r.spec.bindings))},dependencies:[vs,Is,Oo,ua,Tl,Yl,uu,av,YX,ZX,JX,ej,ij,nj,rj],styles:["#main-panel[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{margin-top:0}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center;gap:10px}.grow[_ngcontent-%COMP%]{flex-grow:4}mat-hint[_ngcontent-%COMP%], mat-error[_ngcontent-%COMP%]{font-size:12px}.editPanel[_ngcontent-%COMP%]{border:1px solid #cccccc00;border-radius:5px;background-color:#a0c8e5}.control[_ngcontent-%COMP%]{margin-bottom:30px}.output-panel[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{opacity:0;transition:opacity .5s}.row[_ngcontent-%COMP%]:hover   .tool[_ngcontent-%COMP%]{opacity:1}.drag-handle[_ngcontent-%COMP%]{cursor:move;color:#616161}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px;margin-left:2rem}.action-button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:20px}.action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}.row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.compact-row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:1rem}.row-container-item[_ngcontent-%COMP%]{width:100%;padding:10px}.output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative;margin:2rem}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}.top-right-link[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;font-size:smaller}.form-title[_ngcontent-%COMP%]{margin-left:1rem}.mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:0!important}.bottom-right-link[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:0;font-size:smaller}.form-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-10px;margin-left:-10px;width:100%}.form-column[_ngcontent-%COMP%]{flex:1 1 0px;padding-right:10px;padding-left:10px;display:flex;flex-direction:column;width:100%}.input-field.full-width[_ngcontent-%COMP%]{width:calc(100% - 20px);margin-bottom:20px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}"]})}return e})();function Z8t(e,i){if(1&e&&(q(0,"mat-tab",7)(1,"div",8),ye(2,"app-bindings-viewer",9),et()()),2&e){const t=i.$implicit;mh("label",t.spec.title),ot(2),xt("spec",t.spec)}}let J8t=(()=>{class e{constructor(t){this.http=t,this.emptySpec={},this.specs=[{specFile:"Example-spec.json",spec:this.emptySpec},{specFile:"Example-spec-2.json",spec:this.emptySpec}]}ngOnInit(){var t=this;this.specs.forEach(function(){var n=de(function*(r){const s=yield Sa(t.http.get("assets/specs/ncpt/"+r.specFile));console.log(s),r.spec=s});return function(r){return n.apply(this,arguments)}}())}static#t=this.\u0275fac=function(n){return new(n||e)(mt(ad))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-ncpt"]],decls:20,vars:3,consts:[["substancePopoverMenu","matMenu"],[1,"outer-container"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/display/WIPnutsig/SNOMED+CT+Implementation+Guide+for+the+Nutrition+Care+Process+Terminology","target","_blank"],["mat-stretch-tabs","false","mat-align-tabs","start"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[1,"container"],[3,"spec"]],template:function(n,r){if(1&n){const s=pe();q(0,"div",1)(1,"h3"),ut(2,"SNOMED CT - NCPT Implementation Demonstrator "),q(3,"button",2)(4,"mat-icon"),ut(5,"info"),et()(),q(6,"mat-menu",null,0)(8,"span",3),Vt("click",function(l){return Ut(s),zt(l.stopPropagation())}),q(9,"h4"),ut(10,"SNOMED CT - NCPT Implementation Demonstrator"),et(),q(11,"p"),ut(12,"This is a demonstration of the use of SNOMED CT for coding clinical information related to the Nutrition Care Process."),et(),q(13,"p"),ut(14,"For more information check the "),q(15,"a",4),ut(16," Implementation Guide"),et(),ut(17,"."),et()()()(),q(18,"mat-tab-group",5),Gt(19,Z8t,3,2,"mat-tab",6),et()()}if(2&n){const s=Ki(7);ot(3),xt("matMenuTriggerFor",s),ot(5),xt("disableRipple",!0),ot(11),xt("ngForOf",r.specs)}},dependencies:[vs,Oo,ua,Tl,Yl,uu,zy,ov,K8t],styles:[".outer-container[_ngcontent-%COMP%]{margin:1rem;width:calc(100% - 2rem)}.container[_ngcontent-%COMP%]{margin:2rem;width:calc(100% - 4rem)}"]})}return e})();var q8t=gs(945),Jl=gs.n(q8t);const t6t=["gameContainer"];let e6t=(()=>{class e{constructor(t){this.terminologyService=t}ngOnInit(){const t=new i6t,n=new n6t(this.terminologyService),r={type:Jl().AUTO,width:800,height:600,parent:this.gameContainer.nativeElement,scene:[n,t],physics:{default:"arcade",arcade:{debug:!1}}};this.game=new(Jl().Game)(r)}ngOnDestroy(){this.game&&this.game.destroy(!0)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(da))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-phaser-game"]],viewQuery:function(n,r){if(1&n&&Mi(t6t,7),2&n){let s;Be(s=Ve())&&(r.gameContainer=s.first)}},decls:2,vars:0,consts:[["gameContainer",""]],template:function(n,r){1&n&&ye(0,"div",null,0)}})}return e})();class i6t extends Jl().Scene{constructor(){super({key:"UIScene",active:!0}),this.gamePaused=!1,this.speedButtons=[],this.speedLevels=[1,2,4,16],this.activeSpeedIndex=0}preload(){this.load.image("pauseButton","assets/cdstd/Objects/Buttons/button_pause.png"),this.load.image("unpauseButton","assets/cdstd/Objects/Buttons/button_unpause.png")}create(){this.pauseButton=this.add.image(75,50,"pauseButton").setInteractive(),this.pauseButton.on("pointerdown",()=>{const i=this.scene.get("CdstdScene");this.gamePaused?i&&(i.scene.resume(),this.gamePaused=!1,this.pauseButton.setTexture("pauseButton")):i&&(i.scene.pause(),this.gamePaused=!0,this.pauseButton.setTexture("unpauseButton"))}),this.speedLevels.forEach((i,t)=>{const n=this.add.text(150+60*t,35,`${i}x`,{fontSize:"18px",color:t===this.activeSpeedIndex?"#ff0":"#fff",backgroundColor:"#000",padding:{x:10,y:5}}).setInteractive().on("pointerdown",()=>{this.setSpeed(t)});this.speedButtons.push(n)})}setSpeed(i){this.activeSpeedIndex=i,this.speedButtons.forEach((n,r)=>{n.setStyle({color:r===this.activeSpeedIndex?"#ff0":"#fff"})});const t=this.scene.get("CdstdScene");t&&(t.time.timeScale=this.speedLevels[this.activeSpeedIndex],t.setSpeedMultiplier(this.speedLevels[this.activeSpeedIndex]))}}class n6t extends Jl().Scene{constructor(i){super({key:"CdstdScene"}),this.terminologyService=i,this.maxPatients=10,this.spawnedPatients=0,this.patientsInQueue=0,this.outsideQueue=[],this.insideQueue=[],this.goodTriage=0,this.badTriage=0,this.diagnosisData=[],this.admitting=!1,this.lastTriageTime=0,this.speedMultiplier=1,this.admissionEcl="( << 386661006 |Fever| OR << 22253000 |Pain (finding)| )",this.internalTriageRules=[{ecl:"<< 386661006",doctorIndex:1},{ecl:"<< 22253000",doctorIndex:0}],this.attendingDoctors=[{x:130,y:207,title:"Cardiologist",ecl:"(<< 106063007 |Cardiovascular finding (finding)| OR << 29857009 |Chest pain (finding)|)"},{x:130,y:140,title:"Infectologist",ecl:"<< 386661006 |Fever (finding)|"}],this.characterAnimations=[{name:"patient",variants:[{id:1,animations:{idle:{start:0,end:5,frameRate:6,repeat:-1},walk:{start:0,end:9,frameRate:10,repeat:-1},dead:{start:0,end:3,frameRate:4,repeat:0},hurt:{start:0,end:2,frameRate:3,repeat:0}}},{id:2,animations:{idle:{start:0,end:5,frameRate:6,repeat:-1},walk:{start:0,end:9,frameRate:10,repeat:-1},dead:{start:0,end:3,frameRate:4,repeat:0},hurt:{start:0,end:2,frameRate:3,repeat:0}}},{id:3,animations:{idle:{start:0,end:4,frameRate:6,repeat:-1},walk:{start:0,end:9,frameRate:9,repeat:-1},dead:{start:0,end:4,frameRate:5,repeat:0},hurt:{start:0,end:2,frameRate:3,repeat:0}}}]},{name:"gatekeeper",variants:[{id:2,animations:{idle:{start:0,end:5,frameRate:6,repeat:-1},walk:{start:0,end:9,frameRate:10,repeat:-1},dead:{start:0,end:4,frameRate:5,repeat:0},hurt:{start:0,end:2,frameRate:3,repeat:0}}}]}],this.terminologyService.setSnowstormFhirBase("https://snowstorm-lite.nw.r.appspot.com/fhir")}setSpeedMultiplier(i){this.speedMultiplier=i}getSelectedSpeed(){return this.speedMultiplier}preload(){this.load.json("diagnosisData","assets/cdstd/Data/dx_1.json"),this.load.image("hospitalFloor","assets/cdstd/Backgrounds/hospital-floor-day.png");const i=["idle","walk","dead","hurt"];for(let t=1;t<=3;t++)i.forEach(n=>{this.load.spritesheet(`patient_${n}_${t}`,`assets/cdstd/Characters/City_men_${t}/${n.charAt(0).toUpperCase()+n.slice(1)}.png`,{frameWidth:128,frameHeight:128})});for(let t=2;t<=2;t++)i.forEach(n=>{this.load.spritesheet(`gatekeeper_${n}_${t}`,`assets/cdstd/Characters/Gangsters_${t}/${n.charAt(0).toUpperCase()+n.slice(1)}.png`,{frameWidth:128,frameHeight:128})})}create(){this.diagnosisData=this.cache.json.get("diagnosisData"),this.defineAnimations(),this.background=this.add.image(400,300,"hospitalFloor"),this.background.setScale(1),this.scoreText=this.add.text(750,10,`Patients: ${this.spawnedPatients}`,{fontSize:"20px",color:"#ffffff",fontStyle:"bold"}).setOrigin(1,0),this.input.enabled=!0,this.outsideQueue=[],this.goodTriage=0,this.spawnedPatients=0,this.patients=this.physics.add.group(),this.spawnPatient(),this.scheduleRandomPatientSpawn(),this.addDoctors()}update(){this.patients.getChildren().forEach(t=>{const n=t;if(!n.active)return;const r=n.x,s=n.previousX;r<s?n.flipX=!0:r>s&&(n.flipX=!1),n.previousX=r}),this.scoreText.setText(`Patients: ${this.spawnedPatients} Effectiveness: ${(this.spawnedPatients-this.badTriage)/this.spawnedPatients*100}%`),this.admitting&&this.testNextPatientForAdmission();const i=Date.now();this.insideQueue.length>0&&this.attendingDoctors.every(t=>!t.character.info.busy)&&i-this.lastTriageTime>=2e3&&(this.lastTriageTime=Date.now(),this.time.delayedCall(1e3,()=>{this.internalTriage()}))}defineAnimations(){this.characterAnimations.forEach(({name:i,variants:t})=>{t.forEach(({id:n,animations:r})=>{Object.entries(r).forEach(([s,{start:o,end:l,frameRate:b,repeat:C}])=>{const D=`${i}_${s}_${n}`;this.anims.exists(D)||this.anims.create({key:D,frames:this.anims.generateFrameNumbers(`${i}_${s}_${n}`,{start:o,end:l}),frameRate:b,repeat:C})})})})}scheduleRandomPatientSpawn(){if(this.spawnedPatients<this.maxPatients){const i=Jl().Math.Between(2,5);this.time.addEvent({delay:i,callback:()=>{this.spawnPatient(),this.scheduleRandomPatientSpawn()},callbackScope:this})}}addDoctors(){this.internalTriageDoctor=new FE(this,270,350,"gatekeeper",2),this.internalTriageDoctor.flipX=!1,this.internalTriageDoctor.idle(),this.attendingDoctors.forEach(i=>{const t=new FE(this,i.x,i.y,"gatekeeper",2);t.info.ecl=i.ecl,t.info.title=i.title,t.info.busy=!1,t.idle(),i.character=t})}spawnPatient(){const i=new FE(this,80,10,"patient",Jl().Math.Between(1,3));this.outsideQueue.push(i),i.queuePosition=this.outsideQueue.length,i.setScale(.5),this.walkTo(i,[{x:80,y:533,duration:500},{x:330+20*i.queuePosition,y:533,duration:500}],()=>{this.patientsInQueue++,this.time.delayedCall(100,()=>{i.flipX=!0}),this.patientsInQueue===this.maxPatients&&this.queueComplete()}),i.setActive(!0).setVisible(!0),this.patients.add(i),this.spawnedPatients++}queueComplete(){this.gatekeeper=new FE(this,315,190,"gatekeeper",2),this.gatekeeper.setScale(.5),this.walkTo(this.gatekeeper,[{x:315,y:350,duration:200},{x:240,y:350,duration:200},{x:240,y:533,duration:200},{x:310,y:533,duration:200}],()=>{this.gatekeeper.say("We will start soon",1e3),this.time.delayedCall(1e3,()=>{this.admitting=!0})})}patientDied(i){}testNextPatientForAdmission(){if(0===this.outsideQueue.length)return;const i=this.outsideQueue.shift();i&&(this.admitting=!1,this.gatekeeper.say("How do you feel?",1500),this.time.delayedCall(1500,()=>{let t="I have been feeling with:\n";t+=i.clinicalData.diagnosis.map(n=>n.display).join("\n"),i.say(t,1800),this.time.delayedCall(2e3,()=>{this.checkPatientDiagnosisVsEcl(i,this.admissionEcl).then(n=>{n.length>0?(this.gatekeeper.say("Go in...",1500),i.clinicalData.diagnosis.forEach(r=>{n.find(s=>s.code===r.code)&&(r.status="admitted")}),this.time.delayedCall(1500,()=>{this.enterHospital(i),this.advanceQueue(this.outsideQueue),this.time.delayedCall(1e3,()=>{this.admitting=!0})})):(this.gatekeeper.say("Go home...",1500),this.time.delayedCall(500,()=>{this.walkAway(i),this.advanceQueue(this.outsideQueue),this.time.delayedCall(1e3,()=>{this.admitting=!0})}))})})}))}enterHospital(i){this.insideQueue.push(i),i.queuePosition=this.insideQueue.length,i.walk(),this.walkTo(i,[{x:240,y:i.y,duration:500},{x:240,y:350,duration:500},{x:280+20*i.queuePosition,y:350,duration:500}],()=>{this.time.delayedCall(100,()=>{i.flipX=!0})})}walkAway(i){i.flipX=!1,i.walk();let t=[];i.y<500&&(t.push({x:240,y:i.y,duration:500}),t.push({x:240,y:533,duration:500}));let n=Jl().Math.Between(0,1);t.push({x:800*n,y:533,duration:1e3}),this.walkTo(i,t,()=>{this.time.delayedCall(100,()=>{i.destroy()})})}advanceQueue(i){if(0===i.length)return;console.log(i);const t=i[0].x-40;i.forEach((n,r)=>{n.walk(),n.queuePosition=r+1,this.walkTo(n,[{x:t+20*n.queuePosition,y:n.y,duration:500}],()=>{})})}internalTriage(){var i=this;return de(function*(){if(0===i.insideQueue.length)return;const t=i.insideQueue.shift();if(t){for(let n of i.internalTriageRules){const r=i.attendingDoctors[n.doctorIndex].character;if(!r.info.busy&&(yield i.checkPatientDiagnosisVsEcl(t,n.ecl)).length>0){console.log(`${r.info.title} is available and will attend to the patient.`),i.internalTriageDoctor.say(`Go to the ${r?.info?.title}`,1e3),i.time.delayedCall(1e3,()=>{t.flipX=!0;const o=[{x:240,y:t.y,duration:200},{x:240,y:r.y,duration:300},{x:r.x+30,y:r.y,duration:300}];r.info.busy=!0,i.walkTo(t,o,()=>{t.idle(),i.attendPatient(t,r)})});break}}t.active||i.addToInsideQueue(t)}})()}addToInsideQueue(i){this.insideQueue.push(i),i.queuePosition=this.insideQueue.length,this.walkTo(i,[{x:280+20*i.queuePosition,y:350,duration:500/this.speedMultiplier}],()=>{i.idle()}),console.log(`Patient re-added to insideQueue at position ${i.queuePosition}`)}attendPatient(i,t){t.info.busy=!0,this.time.delayedCall(1e3,()=>{this.checkPatientDiagnosisVsEcl(i,t.info.ecl).then(n=>{n.length>0?(i.clinicalData.diagnosis.forEach(r=>{n.find(s=>s.code===r.code)&&(r.status="treated")}),i.clinicalData.diagnosis.find(r=>"admitted"===r.status)?(t.say(`${t.info.title}\nGo to the next doctor`,1e3),this.time.delayedCall(1e3,()=>{this.enterHospital(i),t.info.busy=!1})):(t.say(`${t.info.title}\nHave a nice day`,1e3),this.time.delayedCall(1e3,()=>{this.goodTriage++,this.walkAway(i),t.info.busy=!1}))):i.clinicalData.diagnosis.find(r=>"admitted"===r.status)?(t.say(`${t.info.title}\nI can't help with this, but go to the next doctor`,1e3),this.time.delayedCall(1e3,()=>{this.enterHospital(i),t.info.busy=!1})):(t.say(`${t.info.title}\nI can't help you...`,1e3),this.time.delayedCall(1e3,()=>{this.badTriage++,this.walkAway(i),t.info.busy=!1}))})})}gameOver(){this.add.text(400,350,"Game Over",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.add.text(400,400,"Press R to Restart",{fontSize:"24px",color:"#ffffff"}).setOrigin(.5),this.physics.pause();const i=this.input?.keyboard?.addKey("R");i?i.once("down",()=>{this.time.removeAllEvents(),this.tweens.killAll(),this.scene.restart()}):console.error("Keyboard input is not available.")}walkTo(i,t,n){if(0===t.length)return void n();i.walk();const r=s=>{if(s>=t.length)return i.idle(),void n();const o=t[s];this.tweens.add({targets:i,x:o.x,y:o.y,duration:o.duration/this.speedMultiplier,ease:"Linear",onComplete:()=>{r(s+1)}})};r(0)}checkPatientDiagnosisVsEcl(i,t){return new Promise((n,r)=>{let s=0,o="";i?.clinicalData.diagnosis.forEach((l,b)=>{"treated"!==l.status&&(s++,o+=s>1?` OR ${l.code}`:` ${l.code}`)}),0!==s?this.terminologyService.expandValueSet(t=t+" AND ("+o+" )","").subscribe(l=>{n(l.expansion?.total>0?l.expansion.contains:[])},l=>{r(l)}):n([])})}}class FE extends Jl().Physics.Arcade.Sprite{constructor(i,t,n,r,s=1,o=[]){if(super(i,t,n,`${r}_idle_${s}`),this.inQueue=!1,this.queuePosition=0,this.queueStartTime=0,this.hitPoints=5,this.previousX=0,this.clinicalData={},this.info={},i.add.existing(this),i.physics.add.existing(this),this.setCollideWorldBounds(!0),this.sceneRef=i,this.spriteType=s,this.role=r,i.add.existing(this),this.setScale(.5),"patient"===r)if(this.walk(),this.clinicalData.age=Jl().Math.Between(18,100),this.clinicalData.diagnosis=[],o&&o.length>0)this.clinicalData.diagnosis=o;else{const l=Jl().Math.Between(1,5);for(let b=0;b<l;b++){const C=Jl().Utils.Array.GetRandom(i.diagnosisData);C.status="none",this.clinicalData.diagnosis.includes(C)||this.clinicalData.diagnosis.push(C)}}else this.idle()}walk(){this.anims.play(`${this.role}_walk_${this.spriteType}`)}idle(){this.anims.play(`${this.role}_idle_${this.spriteType}`)}dead(){this.anims.play(`patient_dead_${this.spriteType}`),this.sceneRef.patientDied(this)}hurt(){this.anims.play(`patient_hurt_${this.spriteType}`),this.hitPoints--;const i=this.scene.add.text(this.x,this.y-10,"-1",{fontSize:"20px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5);this.scene.tweens.add({targets:i,y:this.y-100,alpha:0,duration:3500/this.sceneRef.getSelectedSpeed(),ease:"Power2",onComplete:()=>i.destroy()}),this.once(Jl().Animations.Events.ANIMATION_COMPLETE,()=>{this.hitPoints>0?this.idle():this.dead()})}startWaiting(){"patient"===this.role&&(this.inQueue=!0,this.queueStartTime=this.scene.time.now)}say(i,t=2e3){this.calloutText&&this.calloutText.destroy(),this.calloutLine&&this.calloutLine.destroy(),this.calloutText=this.sceneRef.add.text(this.x,this.y-50,i,{fontSize:"16px",color:"#ffffff",backgroundColor:"#000000",padding:{x:5,y:2},align:"center"}).setOrigin(.5).setDepth(10),this.calloutLine=this.sceneRef.add.line(this.x+5,this.y+10,0,0,10,-35,0).setLineWidth(1.5).setDepth(9),this.sceneRef.tweens.add({targets:[this.calloutText,this.calloutLine],alpha:0,duration:500/this.sceneRef.getSelectedSpeed(),delay:t,onComplete:()=>{this.calloutText?.destroy(),this.calloutText=void 0,this.calloutLine?.destroy()}})}}const r6t=[{path:"",component:WJ},{path:"home",component:WJ},{path:"allergies",component:YEt},{path:"sandbox",component:$2t},{path:"prescription",component:Q2t},{path:"questionnaires",component:yIt},{path:"implementation-course/subset-validator",component:XIt},{path:"snoguess",component:JLt},{path:"snoguess/scoreboard",component:GNt},{path:"context",component:fNt},{path:"maturity",component:O8t},{path:"ncpt",component:J8t},{path:"phaser",component:e6t},{path:"**",redirectTo:""}];let s6t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[EG.forRoot(r6t,{useHash:!0}),EG]})}return e})();const a6t=[{title:"GROUP 1",description:"The first group of bindings in the coding demonstration",bindings:[{title:"Medicinal product + groupers",type:"autocomplete",ecl:"<< 763158003 |Medicinal product| :\n                        [0..0] 1142139005 |Count of base of active ingredient| = *,\n                        [0..0] 411116001 |Has manufactured dose form| = *,\n                        [0..0] 774158006 |Has product name| = *",value:"",note:"Medicinal products, contain at least provided ingredientes (open world assuption), no information on form."},{title:"Gender",type:"dropdown",ecl:"< 365873007 |Gender finding (finding)|",value:"",note:"Patient gender."},{title:"Medicinal product form + groupers",type:"autocomplete",ecl:"<< 763158003 |Medicinal product| :\n                    [0..0] 1142139005 |Count of base of active ingredient| = *,\n                    411116001 |Has manufactured dose form| = *,\n                    [0..0] 774158006 |Has product name| = *",value:"",note:"Medicinal products, with form details."}]},{title:"GROUP 2",description:"The second group of bindings in the coding demonstration",bindings:[{title:"Medicinal product only",type:"autocomplete",ecl:"<< 763158003 |Medicinal product| :\n                    1142139005 |Count of base of active ingredient| = *,\n                    [0..0] 411116001 |Has manufactured dose form| = *,\n                    [0..0] 774158006 |Has product name| = *",value:"",note:"Medicinal products, containing only the provided ingredientes (close world assuption), with no information on form."},{title:"Medicinal product form only",type:"autocomplete",ecl:"<< 763158003 |Medicinal product| :\n                    1142139005 |Count of base of active ingredient| = *,\n                    411116001 |Has manufactured dose form| = *,\n                    [0..0] 732943007 |Has basis of strength substance (attribute)| = *,\n                    [0..0] 774158006 |Has product name| = *",value:"",note:"Medicinal products, with form details, containing only the provided ingredientes (close world assuption)."}]}];let o6t=(()=>{class e{constructor(){}getCodingSpec(){return a6t}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var pn,o1={version:"0.20.2"},ga=1200,Xm=1252,l6t=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],OL={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},OE=function(e){-1!=l6t.indexOf(e)&&(Xm=OL[0]=e)},ql=function(e){ga=e,OE(e)};var l1=function(i){return String.fromCharCode(i)},LL=function(i){return String.fromCharCode(i)},Bs=null,ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function BE(e){for(var i="",t=0,n=0,r=0,s=0,o=0,l=0,b=0,C=0;C<e.length;)s=(t=e.charCodeAt(C++))>>2,o=(3&t)<<4|(n=e.charCodeAt(C++))>>4,l=(15&n)<<2|(r=e.charCodeAt(C++))>>6,b=63&r,isNaN(n)?l=b=64:isNaN(r)&&(b=64),i+=ho.charAt(s)+ho.charAt(o)+ho.charAt(l)+ho.charAt(b);return i}function kl(e){var i="",s=0,o=0,l=0,b=0;"data:"==e.slice(0,5)&&(C=e.slice(0,1024).indexOf(";base64,"))>-1&&(e=e.slice(C+8)),e=e.replace(/[^\w\+\/\=]/g,"");for(var C=0;C<e.length;)s=ho.indexOf(e.charAt(C++)),o=ho.indexOf(e.charAt(C++)),i+=String.fromCharCode(s<<2|o>>4),64!==(l=ho.indexOf(e.charAt(C++)))&&(i+=String.fromCharCode((15&o)<<4|l>>2)),64!==(b=ho.indexOf(e.charAt(C++)))&&(i+=String.fromCharCode((3&l)<<6|b));return i}var _n=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),_d=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(i,t){return t?new Buffer(i,t):new Buffer(i)}:Buffer.from.bind(Buffer)}return function(){}}(),c1=function(){if(typeof Buffer>"u")return!1;var e=_d([65,0]);return!!e&&1==e.toString("utf16le").length}();function hf(e){return _n?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function $J(e){return _n?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Vo=function(i){return _n?_d(i,"binary"):i.split("").map(function(t){return 255&t.charCodeAt(0)})};function d1(e){if(typeof ArrayBuffer>"u")return Vo(e);for(var i=new ArrayBuffer(e.length),t=new Uint8Array(i),n=0;n!=e.length;++n)t[n]=255&e.charCodeAt(n);return i}function Td(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var i=[],t=0;t<e.length;++t)i[t]=String.fromCharCode(e[t]);return i.join("")}var Vs=_n?function(e){return Buffer.concat(e.map(function(i){return Buffer.isBuffer(i)?i:_d(i)}))}:function(e){if(typeof Uint8Array<"u"){var i=0,t=0;for(i=0;i<e.length;++i)t+=e[i].length;var n=new Uint8Array(t),r=0;for(i=0,t=0;i<e.length;t+=r,++i)r=e[i].length,e[i]instanceof Uint8Array?n.set(e[i],t):n.set("string"==typeof e[i]?new Uint8Array(Vo(e[i])):new Uint8Array(e[i]),t);return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))},fo=/\u0000/g,u1=/[\u0001-\u0006]/g;function c0(e){for(var i="",t=e.length-1;t>=0;)i+=e.charAt(t--);return i}function Ic(e,i){var t=""+e;return t.length>=i?t:Xn("0",i-t.length)+t}function BL(e,i){var t=""+e;return t.length>=i?t:Xn(" ",i-t.length)+t}function VE(e,i){var t=""+e;return t.length>=i?t:t+Xn(" ",i-t.length)}var QJ=Math.pow(2,32);function d0(e,i){return e>QJ||e<-QJ?function g6t(e,i){var t=""+Math.round(e);return t.length>=i?t:Xn("0",i-t.length)+t}(e,i):function v6t(e,i){var t=""+e;return t.length>=i?t:Xn("0",i-t.length)+t}(Math.round(e),i)}function UE(e,i){return e.length>=7+(i=i||0)&&103==(32|e.charCodeAt(i))&&101==(32|e.charCodeAt(i+1))&&110==(32|e.charCodeAt(i+2))&&101==(32|e.charCodeAt(i+3))&&114==(32|e.charCodeAt(i+4))&&97==(32|e.charCodeAt(i+5))&&108==(32|e.charCodeAt(i+6))}var KJ=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],VL=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],Ri={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},ZJ={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},y6t={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function zE(e,i,t){for(var n=e<0?-1:1,r=e*n,s=0,o=1,l=0,b=1,C=0,D=0,R=Math.floor(r);C<i&&(l=(R=Math.floor(r))*o+s,D=R*C+b,!(r-R<5e-8));)r=1/(r-R),s=o,o=l,b=C,C=D;if(D>i&&(C>i?(D=b,l=s):(D=C,l=o)),!t)return[0,n*l,D];var O=Math.floor(n*l/D);return[O,n*l-O*D,D]}function Cd(e,i,t){if(e>2958465||e<0)return null;e=function b6t(e){var i=e.toPrecision(16);if(i.indexOf("e")>-1){var t=i.slice(0,i.indexOf("e"));return(t=t.indexOf(".")>-1?t.slice(0,"0."==t.slice(0,2)?17:16):t.slice(0,15)+Xn("0",t.length-15))+i.slice(i.indexOf("e"))}var n=i.indexOf(".")>-1?i.slice(0,"0."==i.slice(0,2)?17:16):i.slice(0,15)+Xn("0",i.length-15);return Number(n)}(e);var n=0|e,r=Math.floor(86400*(e-n)),s=0,o=[],l={D:n,T:r,u:86400*(e-n)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),i&&i.date1904&&(n+=1462),l.u>.9999&&(l.u=0,86400==++r&&(l.T=r=0,++n,++l.D)),60===n)o=t?[1317,10,29]:[1900,2,29],s=3;else if(0===n)o=t?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var b=new Date(1900,0,1);b.setDate(b.getDate()+n-1),o=[b.getFullYear(),b.getMonth()+1,b.getDate()],s=b.getDay(),n<60&&(s=(s+6)%7),t&&(s=function C6t(e,i){i[0]-=581;var t=e.getDay();return e<60&&(t=(t+6)%7),t}(b,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=r%60,r=Math.floor(r/60),l.M=r%60,r=Math.floor(r/60),l.H=r,l.q=s,l}function UL(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function jm(e,i){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):function h1(e){var t,i=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=i>=-4&&i<=-1?e.toPrecision(10+i):Math.abs(i)<=9?function _6t(e){var i=e<0?12:11,t=UL(e.toFixed(12));return t.length<=i||(t=e.toPrecision(10)).length<=i?t:e.toExponential(5)}(e):10===i?e.toFixed(10).substr(0,12):function T6t(e){var i=UL(e.toFixed(11));return i.length>(e<0?12:11)||"0"===i||"-0"===i?e.toPrecision(6):i}(e),UL(function w6t(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return sl(14,ps(e,i&&i.date1904),i)}throw new Error("unsupported value in General format: "+e)}function S6t(e,i,t,n){var b,r="",s=0,o=0,l=t.y,C=0;switch(e){case 98:l=t.y+543;case 121:switch(i.length){case 1:case 2:b=l%100,C=2;break;default:b=l%1e4,C=4}break;case 109:switch(i.length){case 1:case 2:b=t.m,C=i.length;break;case 3:return VL[t.m-1][1];case 5:return VL[t.m-1][0];default:return VL[t.m-1][2]}break;case 100:switch(i.length){case 1:case 2:b=t.d,C=i.length;break;case 3:return KJ[t.q][0];default:return KJ[t.q][1]}break;case 104:switch(i.length){case 1:case 2:b=1+(t.H+11)%12,C=i.length;break;default:throw"bad hour format: "+i}break;case 72:switch(i.length){case 1:case 2:b=t.H,C=i.length;break;default:throw"bad hour format: "+i}break;case 77:switch(i.length){case 1:case 2:b=t.M,C=i.length;break;default:throw"bad minute format: "+i}break;case 115:if("s"!=i&&"ss"!=i&&".0"!=i&&".00"!=i&&".000"!=i)throw"bad second format: "+i;return 0!==t.u||"s"!=i&&"ss"!=i?(o=n>=2?3===n?1e3:100:1===n?10:1,(s=Math.round(o*(t.S+t.u)))>=60*o&&(s=0),"s"===i?0===s?"0":""+s/o:(r=Ic(s,2+n),"ss"===i?r.substr(0,2):"."+r.substr(2,i.length-1))):Ic(t.S,i.length);case 90:switch(i){case"[h]":case"[hh]":b=24*t.D+t.H;break;case"[m]":case"[mm]":b=60*(24*t.D+t.H)+t.M;break;case"[s]":case"[ss]":b=60*(60*(24*t.D+t.H)+t.M)+(0==n?Math.round(t.S+t.u):t.S);break;default:throw"bad abstime format: "+i}C=3===i.length?1:2;break;case 101:b=l,C=1}return C>0?Ic(b,C):""}function Bu(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var JJ=/%/g;function qJ(e,i){var t,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==i)return"0.0E+0";if(i<0)return"-"+qJ(e,-i);var r=e.indexOf(".");-1===r&&(r=e.indexOf("E"));var s=Math.floor(Math.log(i)*Math.LOG10E)%r;if(s<0&&(s+=r),-1===(t=(i/Math.pow(10,s)).toPrecision(n+1+(r+s)%r)).indexOf("e")){var o=Math.floor(Math.log(i)*Math.LOG10E);for(-1===t.indexOf(".")?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s);"0."===t.substr(0,2);)t=(t=t.charAt(0)+t.substr(2,r)+"."+t.substr(2+r)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,b,C,D){return b+C+D.substr(0,(r+s)%r)+"."+D.substr(s)+"E"})}else t=i.toExponential(n);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var tq=/# (\?+)( ?)\/( ?)(\d+)/,eq=/^#*0*\.([0#]+)/,iq=/\)[^)]*[0#]/,nq=/\(###\) ###\\?-####/;function Uo(e){for(var t,i="",n=0;n!=e.length;++n)switch(t=e.charCodeAt(n)){case 35:break;case 63:i+=" ";break;case 48:i+="0";break;default:i+=String.fromCharCode(t)}return i}function rq(e,i){var t=Math.pow(10,i);return""+Math.round(e*t)/t}function sq(e,i){var t=e-Math.floor(e),n=Math.pow(10,i);return i<(""+Math.round(t*n)).length?0:Math.round(t*n)}function tc(e,i,t){if(40===e.charCodeAt(0)&&!i.match(iq)){var n=i.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?tc("n",n,t):"("+tc("n",n,-t)+")"}if(44===i.charCodeAt(i.length-1))return function A6t(e,i,t){for(var n=i.length-1;44===i.charCodeAt(n-1);)--n;return Vu(e,i.substr(0,n),t/Math.pow(10,3*(i.length-n)))}(e,i,t);if(-1!==i.indexOf("%"))return function E6t(e,i,t){var n=i.replace(JJ,""),r=i.length-n.length;return Vu(e,n,t*Math.pow(10,2*r))+Xn("%",r)}(e,i,t);if(-1!==i.indexOf("E"))return qJ(i,t);if(36===i.charCodeAt(0))return"$"+tc(e,i.substr(" "==i.charAt(1)?2:1),t);var r,s,o,l,b=Math.abs(t),C=t<0?"-":"";if(i.match(/^00+$/))return C+d0(b,i.length);if(i.match(/^[#?]+$/))return"0"===(r=d0(t,0))&&(r=""),r.length>i.length?r:Uo(i.substr(0,i.length-r.length))+r;if(s=i.match(tq))return function D6t(e,i,t){var n=parseInt(e[4],10),r=Math.round(i*n),s=Math.floor(r/n),o=r-s*n,l=n;return t+(0===s?"":""+s)+" "+(0===o?Xn(" ",e[1].length+1+e[4].length):BL(o,e[1].length)+e[2]+"/"+e[3]+Ic(l,e[4].length))}(s,b,C);if(i.match(/^#+0+$/))return C+d0(b,i.length-i.indexOf("0"));if(s=i.match(eq))return r=rq(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Uo(s[1])).replace(/\.$/,"."+Uo(s[1])).replace(/\.(\d*)$/,function(U,X){return"."+X+Xn("0",Uo(s[1]).length-X.length)}),-1!==i.indexOf("0.")?r:r.replace(/^0\./,".");if(i=i.replace(/^#+([0.])/,"$1"),s=i.match(/^(0*)\.(#*)$/))return C+rq(b,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=i.match(/^#{1,3},##0(\.?)$/))return C+Bu(d0(b,0));if(s=i.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+tc(e,i,-t):Bu(""+(Math.floor(t)+function I6t(e,i){return i<(""+Math.round((e-Math.floor(e))*Math.pow(10,i))).length?1:0}(t,s[1].length)))+"."+Ic(sq(t,s[1].length),s[1].length);if(s=i.match(/^#,#*,#0/))return tc(e,i.replace(/^#,#*,/,""),t);if(s=i.match(/^([0#]+)(\\?-([0#]+))+$/))return r=c0(tc(e,i.replace(/[\\-]/g,""),t)),o=0,c0(c0(i.replace(/\\/g,"")).replace(/[0#]/g,function(U){return o<r.length?r.charAt(o++):"0"===U?"0":""}));if(i.match(nq))return"("+(r=tc(e,"##########",t)).substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var D="";if(s=i.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=zE(b,Math.pow(10,o)-1,!1),r=""+C," "==(D=Vu("n",s[1],l[1])).charAt(D.length-1)&&(D=D.substr(0,D.length-1)+"0"),r+=D+s[2]+"/"+s[3],(D=VE(l[2],o)).length<s[4].length&&(D=Uo(s[4].substr(s[4].length-D.length))+D),r+=D;if(s=i.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),C+((l=zE(b,Math.pow(10,o)-1,!0))[0]||(l[1]?"":"0"))+" "+(l[1]?BL(l[1],o)+s[2]+"/"+s[3]+VE(l[2],o):Xn(" ",2*o+1+s[2].length+s[3].length));if(s=i.match(/^[#0?]+$/))return r=d0(t,0),i.length<=r.length?r:Uo(i.substr(0,i.length-r.length))+r;if(s=i.match(/^([#0?]+)\.([#0]+)$/)){r=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var R=i.indexOf(".")-o,O=i.length-r.length-R;return Uo(i.substr(0,R)+r+i.substr(i.length-O))}if(s=i.match(/^00,000\.([#0]*0)$/))return o=sq(t,s[1].length),t<0?"-"+tc(e,i,-t):Bu(function k6t(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(U){return"00,"+(U.length<3?Ic(0,3-U.length):"")+U})+"."+Ic(o,s[1].length);switch(i){case"###,##0.00":return tc(e,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var L=Bu(d0(b,0));return"0"!==L?C+L:"";case"###,###.00":return tc(e,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return tc(e,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+i+"|")}function aq(e,i){var t,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==i)return"0.0E+0";if(i<0)return"-"+aq(e,-i);var r=e.indexOf(".");-1===r&&(r=e.indexOf("E"));var s=Math.floor(Math.log(i)*Math.LOG10E)%r;if(s<0&&(s+=r),!(t=(i/Math.pow(10,s)).toPrecision(n+1+(r+s)%r)).match(/[Ee]/)){var o=Math.floor(Math.log(i)*Math.LOG10E);-1===t.indexOf(".")?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,b,C,D){return b+C+D.substr(0,(r+s)%r)+"."+D.substr(s)+"E"})}else t=i.toExponential(n);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Sd(e,i,t){if(40===e.charCodeAt(0)&&!i.match(iq)){var n=i.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Sd("n",n,t):"("+Sd("n",n,-t)+")"}if(44===i.charCodeAt(i.length-1))return function R6t(e,i,t){for(var n=i.length-1;44===i.charCodeAt(n-1);)--n;return Vu(e,i.substr(0,n),t/Math.pow(10,3*(i.length-n)))}(e,i,t);if(-1!==i.indexOf("%"))return function P6t(e,i,t){var n=i.replace(JJ,""),r=i.length-n.length;return Vu(e,n,t*Math.pow(10,2*r))+Xn("%",r)}(e,i,t);if(-1!==i.indexOf("E"))return aq(i,t);if(36===i.charCodeAt(0))return"$"+Sd(e,i.substr(" "==i.charAt(1)?2:1),t);var r,s,o,l,b=Math.abs(t),C=t<0?"-":"";if(i.match(/^00+$/))return C+Ic(b,i.length);if(i.match(/^[#?]+$/))return r=""+t,0===t&&(r=""),r.length>i.length?r:Uo(i.substr(0,i.length-r.length))+r;if(s=i.match(tq))return function M6t(e,i,t){return t+(0===i?"":""+i)+Xn(" ",e[1].length+2+e[4].length)}(s,b,C);if(i.match(/^#+0+$/))return C+Ic(b,i.length-i.indexOf("0"));if(s=i.match(eq))return r=(r=(""+t).replace(/^([^\.]+)$/,"$1."+Uo(s[1])).replace(/\.$/,"."+Uo(s[1]))).replace(/\.(\d*)$/,function(U,X){return"."+X+Xn("0",Uo(s[1]).length-X.length)}),-1!==i.indexOf("0.")?r:r.replace(/^0\./,".");if(i=i.replace(/^#+([0.])/,"$1"),s=i.match(/^(0*)\.(#*)$/))return C+(""+b).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=i.match(/^#{1,3},##0(\.?)$/))return C+Bu(""+b);if(s=i.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Sd(e,i,-t):Bu(""+t)+"."+Xn("0",s[1].length);if(s=i.match(/^#,#*,#0/))return Sd(e,i.replace(/^#,#*,/,""),t);if(s=i.match(/^([0#]+)(\\?-([0#]+))+$/))return r=c0(Sd(e,i.replace(/[\\-]/g,""),t)),o=0,c0(c0(i.replace(/\\/g,"")).replace(/[0#]/g,function(U){return o<r.length?r.charAt(o++):"0"===U?"0":""}));if(i.match(nq))return"("+(r=Sd(e,"##########",t)).substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var D="";if(s=i.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=zE(b,Math.pow(10,o)-1,!1),r=""+C," "==(D=Vu("n",s[1],l[1])).charAt(D.length-1)&&(D=D.substr(0,D.length-1)+"0"),r+=D+s[2]+"/"+s[3],(D=VE(l[2],o)).length<s[4].length&&(D=Uo(s[4].substr(s[4].length-D.length))+D),r+=D;if(s=i.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),C+((l=zE(b,Math.pow(10,o)-1,!0))[0]||(l[1]?"":"0"))+" "+(l[1]?BL(l[1],o)+s[2]+"/"+s[3]+VE(l[2],o):Xn(" ",2*o+1+s[2].length+s[3].length));if(s=i.match(/^[#0?]+$/))return i.length<=(r=""+t).length?r:Uo(i.substr(0,i.length-r.length))+r;if(s=i.match(/^([#0]+)\.([#0]+)$/)){r=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var R=i.indexOf(".")-o,O=i.length-r.length-R;return Uo(i.substr(0,R)+r+i.substr(i.length-O))}if(s=i.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Sd(e,i,-t):Bu(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(U){return"00,"+(U.length<3?Ic(0,3-U.length):"")+U})+"."+Ic(0,s[1].length);switch(i){case"###,###":case"##,###":case"#,###":var L=Bu(""+b);return"0"!==L?C+L:"";default:if(i.match(/\.[0#?]*$/))return Sd(e,i.slice(0,i.lastIndexOf(".")),t)+Uo(i.slice(i.lastIndexOf(".")))}throw new Error("unsupported format |"+i+"|")}function Vu(e,i,t){return(0|t)===t?Sd(e,i,t):tc(e,i,t)}var oq=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Rl(e){for(var i=0,t="",n="";i<e.length;)switch(t=e.charAt(i)){case"G":UE(e,i)&&(i+=6),i++;break;case'"':for(;34!==e.charCodeAt(++i)&&i<e.length;);++i;break;case"\\":case"_":i+=2;break;case"@":++i;break;case"B":case"b":if("1"===e.charAt(i+1)||"2"===e.charAt(i+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(i,3).toUpperCase()||"AM/PM"===e.substr(i,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===e.substr(i,5).toUpperCase())return!0;++i;break;case"[":for(n=t;"]"!==e.charAt(i++)&&i<e.length;)n+=e.charAt(i);if(n.match(oq))return!0;break;case".":case"0":case"#":for(;i<e.length&&("0#?.,E+-%".indexOf(t=e.charAt(++i))>-1||"\\"==t&&"-"==e.charAt(i+1)&&"0#".indexOf(e.charAt(i+2))>-1););break;case"?":for(;e.charAt(++i)===t;);break;case"*":++i,(" "==e.charAt(i)||"*"==e.charAt(i))&&++i;break;case"(":case")":++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;);break;default:++i}return!1}var lq=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function cq(e,i){if(null==i)return!1;var t=parseFloat(i[2]);switch(i[1]){case"=":if(e==t)return!0;break;case">":if(e>t)return!0;break;case"<":if(e<t)return!0;break;case"<>":if(e!=t)return!0;break;case">=":if(e>=t)return!0;break;case"<=":if(e<=t)return!0}return!1}function sl(e,i,t){null==t&&(t={});var n="";switch(typeof e){case"string":n="m/d/yy"==e&&t.dateNF?t.dateNF:e;break;case"number":null==(n=14==e&&t.dateNF?t.dateNF:(null!=t.table?t.table:Ri)[e])&&(n=t.table&&t.table[ZJ[e]]||Ri[ZJ[e]]),null==n&&(n=y6t[e]||"General")}if(UE(n,0))return jm(i,t);i instanceof Date&&(i=ps(i,t.date1904));var r=function L6t(e,i){var t=function F6t(e){for(var i=[],t=!1,n=0,r=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:i[i.length]=e.substr(r,n-r),r=n+1}if(i[i.length]=e.substr(r),!0===t)throw new Error("Format |"+e+"| unterminated string ");return i}(e),n=t.length,r=t[n-1].indexOf("@");if(n<4&&r>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if("number"!=typeof i)return[4,4===t.length||r>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=r>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=r>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=r>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"]}var s=i>0?t[0]:i<0?t[1]:t[2];if(-1===t[0].indexOf("[")&&-1===t[1].indexOf("["))return[n,s];if(null!=t[0].match(/\[[=<>]/)||null!=t[1].match(/\[[=<>]/)){var o=t[0].match(lq),l=t[1].match(lq);return cq(i,o)?[n,t[0]]:cq(i,l)?[n,t[1]]:[n,t[null!=o&&null!=l?2:1]]}return[n,s]}(n,i);if(UE(r[1]))return jm(i,t);if(!0===i)i="TRUE";else if(!1===i)i="FALSE";else if(""===i||null==i)return"";return function O6t(e,i,t,n){for(var C,D,R,r=[],s="",o=0,l="",b="t",O="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!UE(e,o))throw new Error("unrecognized character "+l+" in "+e);r[r.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";34!==(R=e.charCodeAt(++o))&&o<e.length;)s+=String.fromCharCode(R);r[r.length]={t:"t",v:s},++o;break;case"\\":var L=e.charAt(++o);r[r.length]={t:"("===L||")"===L?L:"t",v:L},++o;break;case"_":r[r.length]={t:"t",v:" "},o+=2;break;case"@":r[r.length]={t:"T",v:i},++o;break;case"B":case"b":if("1"===e.charAt(o+1)||"2"===e.charAt(o+1)){if(null==C&&null==(C=Cd(i,t,"2"===e.charAt(o+1))))return"";r[r.length]={t:"X",v:e.substr(o,2)},b=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(i<0||null==C&&null==(C=Cd(i,t)))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;"m"===l&&"h"===b.toLowerCase()&&(l="M"),"h"===l&&(l=O),r[r.length]={t:l,v:s},b=l;break;case"A":case"a":case"\u4e0a":var X={t:l,v:l};if(null==C&&(C=Cd(i,t)),"A/P"===e.substr(o,3).toUpperCase()?(null!=C&&(X.v=C.H>=12?e.charAt(o+2):l),X.t="T",O="h",o+=3):"AM/PM"===e.substr(o,5).toUpperCase()?(null!=C&&(X.v=C.H>=12?"PM":"AM"),X.t="T",o+=5,O="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(o,5).toUpperCase()?(null!=C&&(X.v=C.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),X.t="T",o+=5,O="h"):(X.t="t",++o),null==C&&"T"===X.t)return"";r[r.length]=X,b=l;break;case"[":for(s=l;"]"!==e.charAt(o++)&&o<e.length;)s+=e.charAt(o);if("]"!==s.slice(-1))throw'unterminated "[" block: |'+s+"|";if(s.match(oq)){if(null==C&&null==(C=Cd(i,t)))return"";r[r.length]={t:"Z",v:s.toLowerCase()},b=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Rl(e)||(r[r.length]={t:"t",v:s}));break;case".":if(null!=C){for(s=l;++o<e.length&&"0"===(l=e.charAt(o));)s+=l;r[r.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;r[r.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;r[r.length]={t:l,v:s},b=l;break;case"*":++o,(" "==e.charAt(o)||"*"==e.charAt(o))&&++o;break;case"(":case")":r[r.length]={t:1===n?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);r[r.length]={t:"D",v:s};break;case" ":r[r.length]={t:l,v:l},++o;break;case"$":r[r.length]={t:"t",v:"$"},++o;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(l))throw new Error("unrecognized character "+l+" in "+e);r[r.length]={t:"t",v:l},++o}var rt,st,W=0,Z=0;for(o=r.length-1,b="t";o>=0;--o)switch(r[o].t){case"h":case"H":r[o].t=O,b="h",W<1&&(W=1);break;case"s":(rt=r[o].v.match(/\.0+$/))&&(Z=Math.max(Z,rt[0].length-1),W=4),W<3&&(W=3);case"d":case"y":case"e":b=r[o].t;break;case"M":b=r[o].t,W<2&&(W=2);break;case"m":"s"===b&&(r[o].t="M",W<2&&(W=2));break;case"X":break;case"Z":W<1&&r[o].v.match(/[Hh]/)&&(W=1),W<2&&r[o].v.match(/[Mm]/)&&(W=2),W<3&&r[o].v.match(/[Ss]/)&&(W=3)}switch(W){case 0:break;case 1:case 2:case 3:C.u>=.5&&(C.u=0,++C.S),C.S>=60&&(C.S=0,++C.M),C.M>=60&&(C.M=0,++C.H),C.H>=24&&(C.H=0,++C.D,(st=Cd(C.D)).u=C.u,st.S=C.S,st.M=C.M,st.H=C.H,C=st);break;case 4:switch(Z){case 1:C.u=Math.round(10*C.u)/10;break;case 2:C.u=Math.round(100*C.u)/100;break;case 3:C.u=Math.round(1e3*C.u)/1e3}C.u>=1&&(C.u=0,++C.S),C.S>=60&&(C.S=0,++C.M),C.M>=60&&(C.M=0,++C.H),C.H>=24&&(C.H=0,++C.D,(st=Cd(C.D)).u=C.u,st.S=C.S,st.M=C.M,st.H=C.H,C=st)}var _t,vt="";for(o=0;o<r.length;++o)switch(r[o].t){case"t":case"T":case" ":case"D":break;case"X":r[o].v="",r[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[o].v=S6t(r[o].t.charCodeAt(0),r[o].v,C,Z),r[o].t="t";break;case"n":case"?":for(_t=o+1;null!=r[_t]&&("?"===(l=r[_t].t)||"D"===l||(" "===l||"t"===l)&&null!=r[_t+1]&&("?"===r[_t+1].t||"t"===r[_t+1].t&&"/"===r[_t+1].v)||"("===r[o].t&&(" "===l||"n"===l||")"===l)||"t"===l&&("/"===r[_t].v||" "===r[_t].v&&null!=r[_t+1]&&"?"==r[_t+1].t));)r[o].v+=r[_t].v,r[_t]={v:"",t:";"},++_t;vt+=r[o].v,o=_t-1;break;case"G":r[o].t="t",r[o].v=jm(i,t)}var ft,dt,Mt="";if(vt.length>0){40==vt.charCodeAt(0)?(ft=i<0&&45===vt.charCodeAt(0)?-i:i,dt=Vu("n",vt,ft)):(dt=Vu("n",vt,ft=i<0&&n>1?-i:i),ft<0&&r[0]&&"t"==r[0].t&&(dt=dt.substr(1),r[0].v="-"+r[0].v)),_t=dt.length-1;var pt=r.length;for(o=0;o<r.length;++o)if(null!=r[o]&&"t"!=r[o].t&&r[o].v.indexOf(".")>-1){pt=o;break}var bt=r.length;if(pt===r.length&&-1===dt.indexOf("E")){for(o=r.length-1;o>=0;--o)null==r[o]||-1==="n?".indexOf(r[o].t)||(_t>=r[o].v.length-1?r[o].v=dt.substr(1+(_t-=r[o].v.length),r[o].v.length):_t<0?r[o].v="":(r[o].v=dt.substr(0,_t+1),_t=-1),r[o].t="t",bt=o);_t>=0&&bt<r.length&&(r[bt].v=dt.substr(0,_t+1)+r[bt].v)}else if(pt!==r.length&&-1===dt.indexOf("E")){for(_t=dt.indexOf(".")-1,o=pt;o>=0;--o)if(null!=r[o]&&-1!=="n?".indexOf(r[o].t)){for(D=r[o].v.indexOf(".")>-1&&o===pt?r[o].v.indexOf(".")-1:r[o].v.length-1,Mt=r[o].v.substr(D+1);D>=0;--D)_t>=0&&("0"===r[o].v.charAt(D)||"#"===r[o].v.charAt(D))&&(Mt=dt.charAt(_t--)+Mt);r[o].v=Mt,r[o].t="t",bt=o}for(_t>=0&&bt<r.length&&(r[bt].v=dt.substr(0,_t+1)+r[bt].v),_t=dt.indexOf(".")+1,o=pt;o<r.length;++o)if(null!=r[o]&&(-1!=="n?(".indexOf(r[o].t)||o===pt)){for(D=r[o].v.indexOf(".")>-1&&o===pt?r[o].v.indexOf(".")+1:0,Mt=r[o].v.substr(0,D);D<r[o].v.length;++D)_t<dt.length&&(Mt+=dt.charAt(_t++));r[o].v=Mt,r[o].t="t",bt=o}}}for(o=0;o<r.length;++o)null!=r[o]&&"n?".indexOf(r[o].t)>-1&&(r[o].v=Vu(r[o].t,r[o].v,ft=n>1&&i<0&&o>0&&"-"===r[o-1].v?-i:i),r[o].t="t");var Tt="";for(o=0;o!==r.length;++o)null!=r[o]&&(Tt+=r[o].v);return Tt}(r[1],i,t,r[0])}function zL(e,i){if("number"!=typeof i){i=+i||-1;for(var t=0;t<392;++t)if(null!=Ri[t]){if(Ri[t]==e){i=t;break}}else i<0&&(i=t);i<0&&(i=391)}return Ri[i]=e,i}function f1(e){for(var i=0;392!=i;++i)void 0!==e[i]&&zL(e[i],i)}function u0(){Ri=function x6t(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',e}()}var GE=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,U6t={"d.m":"d\\.m"};function ff(e,i){return zL(U6t[e]||e,i)}var Uu,uq=function(){var e={version:"1.2.0"},t=function i(){for(var ft=0,dt=new Array(256),pt=0;256!=pt;++pt)dt[pt]=ft=1&(ft=1&(ft=1&(ft=1&(ft=1&(ft=1&(ft=1&(ft=1&(ft=pt)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1;return typeof Int32Array<"u"?new Int32Array(dt):dt}(),r=function n(ft){var dt=0,pt=0,bt=0,Tt=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(bt=0;256!=bt;++bt)Tt[bt]=ft[bt];for(bt=0;256!=bt;++bt)for(pt=ft[bt],dt=256+bt;dt<4096;dt+=256)pt=Tt[dt]=pt>>>8^ft[255&pt];var Et=[];for(bt=1;16!=bt;++bt)Et[bt-1]=typeof Int32Array<"u"&&"function"==typeof Tt.subarray?Tt.subarray(256*bt,256*bt+256):Tt.slice(256*bt,256*bt+256);return Et}(t),s=r[0],o=r[1],l=r[2],b=r[3],C=r[4],D=r[5],R=r[6],O=r[7],L=r[8],U=r[9],X=r[10],W=r[11],Z=r[12],rt=r[13],st=r[14];return e.table=t,e.bstr=function vt(ft,dt){for(var pt=~dt,bt=0,Tt=ft.length;bt<Tt;)pt=pt>>>8^t[255&(pt^ft.charCodeAt(bt++))];return~pt},e.buf=function _t(ft,dt){for(var pt=~dt,bt=ft.length-15,Tt=0;Tt<bt;)pt=st[ft[Tt++]^255&pt]^rt[ft[Tt++]^pt>>8&255]^Z[ft[Tt++]^pt>>16&255]^W[ft[Tt++]^pt>>>24]^X[ft[Tt++]]^U[ft[Tt++]]^L[ft[Tt++]]^O[ft[Tt++]]^R[ft[Tt++]]^D[ft[Tt++]]^C[ft[Tt++]]^b[ft[Tt++]]^l[ft[Tt++]]^o[ft[Tt++]]^s[ft[Tt++]]^t[ft[Tt++]];for(bt+=15;Tt<bt;)pt=pt>>>8^t[255&(pt^ft[Tt++])];return~pt},e.str=function Mt(ft,dt){for(var pt=~dt,bt=0,Tt=ft.length,Et=0,Dt=0;bt<Tt;)(Et=ft.charCodeAt(bt++))<128?pt=pt>>>8^t[255&(pt^Et)]:Et<2048?pt=(pt=pt>>>8^t[255&(pt^(192|Et>>6&31))])>>>8^t[255&(pt^(128|63&Et))]:Et>=55296&&Et<57344?(Et=64+(1023&Et),Dt=1023&ft.charCodeAt(bt++),pt=(pt=(pt=(pt=pt>>>8^t[255&(pt^(240|Et>>8&7))])>>>8^t[255&(pt^(128|Et>>2&63))])>>>8^t[255&(pt^(128|Dt>>6&15|(3&Et)<<4))])>>>8^t[255&(pt^(128|63&Dt))]):pt=(pt=(pt=pt>>>8^t[255&(pt^(224|Et>>12&15))])>>>8^t[255&(pt^(128|Et>>6&63))])>>>8^t[255&(pt^(128|63&Et))];return~pt},e}(),Oi=function(){var b,i={};function n(At){if("/"==At.charAt(At.length-1))return-1===At.slice(0,-1).indexOf("/")?At:n(At.slice(0,-1));var Ot=At.lastIndexOf("/");return-1===Ot?At:At.slice(0,Ot+1)}function r(At){if("/"==At.charAt(At.length-1))return r(At.slice(0,-1));var Ot=At.lastIndexOf("/");return-1===Ot?At:At.slice(Ot+1)}function s(At,Ot){"string"==typeof Ot&&(Ot=new Date(Ot));var kt=Ot.getHours();kt=(kt=kt<<6|Ot.getMinutes())<<5|Ot.getSeconds()>>>1,At.write_shift(2,kt);var Rt=Ot.getFullYear()-1980;Rt=(Rt=Rt<<4|Ot.getMonth()+1)<<5|Ot.getDate(),At.write_shift(2,Rt)}function l(At){xa(At,0);for(var Ot={},kt=0;At.l<=At.length-4;){var Rt=At.read_shift(2),Lt=At.read_shift(2),Nt=At.l+Lt,se={};switch(Rt){case 21589:1&(kt=At.read_shift(1))&&(se.mtime=At.read_shift(4)),Lt>5&&(2&kt&&(se.atime=At.read_shift(4)),4&kt&&(se.ctime=At.read_shift(4))),se.mtime&&(se.mt=new Date(1e3*se.mtime));break;case 1:var xe=At.read_shift(4),ie=At.read_shift(4);se.usz=ie*Math.pow(2,32)+xe,xe=At.read_shift(4),ie=At.read_shift(4),se.csz=ie*Math.pow(2,32)+xe}At.l=Nt,Ot[Rt]=se}return Ot}function C(){return b||(b=Uu)}function D(At,Ot){if(80==At[0]&&75==At[1])return ew(At,Ot);if(109==(32|At[0])&&105==(32|At[1]))return function bp(At,Ot){if("mime-version:"!=Ne(At.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var kt=Ot&&Ot.root||"",Rt=(_n&&Buffer.isBuffer(At)?At.toString("binary"):Ne(At)).split("\r\n"),Lt=0,Nt="";for(Lt=0;Lt<Rt.length;++Lt)if(/^Content-Location:/i.test(Nt=Rt[Lt])&&(Nt=Nt.slice(Nt.indexOf("file")),kt||(kt=Nt.slice(0,Nt.lastIndexOf("/")+1)),Nt.slice(0,kt.length)!=kt))for(;kt.length>0&&(kt=(kt=kt.slice(0,kt.length-1)).slice(0,kt.lastIndexOf("/")+1),Nt.slice(0,kt.length)!=kt););var se=(Rt[1]||"").match(/boundary="(.*?)"/);if(!se)throw new Error("MAD cannot find boundary");var xe="--"+(se[1]||""),oe={FileIndex:[],FullPaths:[]};ft(oe);var ze,We=0;for(Lt=0;Lt<Rt.length;++Lt){var yi=Rt[Lt];yi!==xe&&yi!==xe+"--"||(We++&&OA(oe,Rt.slice(ze,Lt),kt),ze=Lt)}return oe}(At,Ot);if(At.length<512)throw new Error("CFB file size "+At.length+" < 512");var kt,Lt,Nt,se,xe,ie,Rt=512,ae=[],oe=At.slice(0,512);xa(oe,0);var ze=function R(At){if(80==At[At.l]&&75==At[At.l+1])return[0,0];At.chk(Le,"Header Signature: "),At.l+=16;var Ot=At.read_shift(2,"u");return[At.read_shift(2,"u"),Ot]}(oe);switch(kt=ze[0]){case 3:Rt=512;break;case 4:Rt=4096;break;case 0:if(0==ze[1])return ew(At,Ot);default:throw new Error("Major Version: Expected 3 or 4 saw "+kt)}512!==Rt&&xa(oe=At.slice(0,Rt),28);var We=At.slice(0,Rt);!function O(At,Ot){var kt;switch(At.l+=2,kt=At.read_shift(2)){case 9:if(3!=Ot)throw new Error("Sector Shift: Expected 9 saw "+kt);break;case 12:if(4!=Ot)throw new Error("Sector Shift: Expected 12 saw "+kt);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+kt)}At.chk("0600","Mini Sector Shift: "),At.chk("000000000000","Reserved: ")}(oe,kt);var yi=oe.read_shift(4,"i");if(3===kt&&0!==yi)throw new Error("# Directory Sectors: Expected 0 saw "+yi);oe.l+=4,se=oe.read_shift(4,"i"),oe.l+=4,oe.chk("00100000","Mini Stream Cutoff Size: "),xe=oe.read_shift(4,"i"),Lt=oe.read_shift(4,"i"),ie=oe.read_shift(4,"i"),Nt=oe.read_shift(4,"i");for(var ei=-1,Ge=0;Ge<109&&!((ei=oe.read_shift(4,"i"))<0);++Ge)ae[Ge]=ei;var Yi=function L(At,Ot){for(var kt=Math.ceil(At.length/Ot)-1,Rt=[],Lt=1;Lt<kt;++Lt)Rt[Lt-1]=At.slice(Lt*Ot,(Lt+1)*Ot);return Rt[kt-1]=At.slice(kt*Ot),Rt}(At,Rt);W(ie,Nt,Yi,Rt,ae);var Cr=function rt(At,Ot,kt,Rt){var Lt=At.length,Nt=[],se=[],xe=[],ie=[],ae=Rt-1,oe=0,ze=0,We=0,yi=0;for(oe=0;oe<Lt;++oe)if(xe=[],(We=oe+Ot)>=Lt&&(We-=Lt),!se[We]){ie=[];var ei=[];for(ze=We;ze>=0;){ei[ze]=!0,se[ze]=!0,xe[xe.length]=ze,ie.push(At[ze]);var Ge=kt[Math.floor(4*ze/Rt)];if(Rt<4+(yi=4*ze&ae))throw new Error("FAT boundary crossed: "+ze+" 4 "+Rt);if(!At[Ge]||ei[ze=Zm(At[Ge],yi)])break}Nt[We]={nodes:xe,data:Pq([ie])}}return Nt}(Yi,se,ae,Rt);se<Cr.length&&(Cr[se].name="!Directory"),Lt>0&&xe!==Dt&&(Cr[xe].name="!MiniFAT"),Cr[ae[0]].name="!FAT",Cr.fat_addrs=ae,Cr.ssz=Rt;var Hr=[],Hs=[],Zu=[];(function st(At,Ot,kt,Rt,Lt,Nt,se,xe){for(var yi,ie=0,ae=Rt.length?2:0,oe=Ot[At].data,ze=0,We=0;ze<oe.length;ze+=128){var ei=oe.slice(ze,ze+128);xa(ei,64),We=ei.read_shift(2),yi=$E(ei,0,We-ae),Rt.push(yi);var Ge={name:yi,type:ei.read_shift(1),color:ei.read_shift(1),L:ei.read_shift(4,"i"),R:ei.read_shift(4,"i"),C:ei.read_shift(4,"i"),clsid:ei.read_shift(16),state:ei.read_shift(4,"i"),start:0,size:0};0!==ei.read_shift(2)+ei.read_shift(2)+ei.read_shift(2)+ei.read_shift(2)&&(Ge.ct=vt(ei,ei.l-8)),0!==ei.read_shift(2)+ei.read_shift(2)+ei.read_shift(2)+ei.read_shift(2)&&(Ge.mt=vt(ei,ei.l-8)),Ge.start=ei.read_shift(4,"i"),Ge.size=ei.read_shift(4,"i"),Ge.size<0&&Ge.start<0&&(Ge.size=Ge.type=0,Ge.start=Dt,Ge.name=""),5===Ge.type?(ie=Ge.start,Lt>0&&ie!==Dt&&(Ot[ie].name="!StreamData")):Ge.size>=4096?(Ge.storage="fat",void 0===Ot[Ge.start]&&(Ot[Ge.start]=Z(kt,Ge.start,Ot.fat_addrs,Ot.ssz)),Ot[Ge.start].name=Ge.name,Ge.content=Ot[Ge.start].data.slice(0,Ge.size)):(Ge.storage="minifat",Ge.size<0?Ge.size=0:ie!==Dt&&Ge.start!==Dt&&Ot[ie]&&(Ge.content=X(Ge,Ot[ie].data,(Ot[xe]||{}).data))),Ge.content&&xa(Ge.content,0),Nt[yi]=Ge,se.push(Ge)}})(se,Cr,Yi,Hr,Lt,{},Hs,xe),function U(At,Ot,kt){for(var Rt=0,Lt=0,Nt=0,se=0,xe=0,ie=kt.length,ae=[],oe=[];Rt<ie;++Rt)ae[Rt]=oe[Rt]=Rt,Ot[Rt]=kt[Rt];for(;xe<oe.length;++xe)Lt=At[Rt=oe[xe]].L,Nt=At[Rt].R,se=At[Rt].C,ae[Rt]===Rt&&(-1!==Lt&&ae[Lt]!==Lt&&(ae[Rt]=ae[Lt]),-1!==Nt&&ae[Nt]!==Nt&&(ae[Rt]=ae[Nt])),-1!==se&&(ae[se]=Rt),-1!==Lt&&Rt!=ae[Rt]&&(ae[Lt]=ae[Rt],oe.lastIndexOf(Lt)<xe&&oe.push(Lt)),-1!==Nt&&Rt!=ae[Rt]&&(ae[Nt]=ae[Rt],oe.lastIndexOf(Nt)<xe&&oe.push(Nt));for(Rt=1;Rt<ie;++Rt)ae[Rt]===Rt&&(-1!==Nt&&ae[Nt]!==Nt?ae[Rt]=ae[Nt]:-1!==Lt&&ae[Lt]!==Lt&&(ae[Rt]=ae[Lt]));for(Rt=1;Rt<ie;++Rt)if(0!==At[Rt].type){if((xe=Rt)!=ae[xe])do{Ot[Rt]=Ot[xe=ae[xe]]+"/"+Ot[Rt]}while(0!==xe&&-1!==ae[xe]&&xe!=ae[xe]);ae[Rt]=-1}for(Ot[0]+="/",Rt=1;Rt<ie;++Rt)2!==At[Rt].type&&(Ot[Rt]+="/")}(Hs,Zu,Hr),Hr.shift();var Tp={FileIndex:Hs,FullPaths:Zu};return Ot&&Ot.raw&&(Tp.raw={header:We,sectors:Yi}),Tp}function X(At,Ot,kt){for(var Lt=At.size,Nt=[],se=At.start;kt&&Lt>0&&se>=0;)Nt.push(Ot.slice(se*Et,se*Et+Et)),Lt-=Et,se=Zm(kt,4*se);return 0===Nt.length?re(0):Vs(Nt).slice(0,At.size)}function W(At,Ot,kt,Rt,Lt){var Nt=Dt;if(At===Dt){if(0!==Ot)throw new Error("DIFAT chain shorter than expected")}else if(-1!==At){var se=kt[At],xe=(Rt>>>2)-1;if(!se)return;for(var ie=0;ie<xe&&(Nt=Zm(se,4*ie))!==Dt;++ie)Lt.push(Nt);Ot>=1&&W(Zm(se,Rt-4),Ot-1,kt,Rt,Lt)}}function Z(At,Ot,kt,Rt,Lt){var Nt=[],se=[];Lt||(Lt=[]);var xe=Rt-1,ie=0,ae=0;for(ie=Ot;ie>=0;){Lt[ie]=!0,Nt[Nt.length]=ie,se.push(At[ie]);var oe=kt[Math.floor(4*ie/Rt)];if(Rt<4+(ae=4*ie&xe))throw new Error("FAT boundary crossed: "+ie+" 4 "+Rt);if(!At[oe])break;ie=Zm(At[oe],ae)}return{nodes:Nt,data:Pq([se])}}function vt(At,Ot){return new Date(1e3*(Ra(At,Ot+4)/1e7*Math.pow(2,32)+Ra(At,Ot)/1e7-11644473600))}function ft(At,Ot){var kt=Ot||{},Rt=kt.root||"Root Entry";if(At.FullPaths||(At.FullPaths=[]),At.FileIndex||(At.FileIndex=[]),At.FullPaths.length!==At.FileIndex.length)throw new Error("inconsistent CFB structure");0===At.FullPaths.length&&(At.FullPaths[0]=Rt+"/",At.FileIndex[0]={name:Rt,type:5}),kt.CLSID&&(At.FileIndex[0].clsid=kt.CLSID),function dt(At){var Ot="\x01Sh33tJ5";if(!Oi.find(At,"/"+Ot)){var kt=re(4);kt[0]=55,kt[1]=kt[3]=50,kt[2]=54,At.FileIndex.push({name:Ot,type:2,content:kt,size:4,L:69,R:69,C:69}),At.FullPaths.push(At.FullPaths[0]+Ot),pt(At)}}(At)}function pt(At,Ot){ft(At);for(var kt=!1,Rt=!1,Lt=At.FullPaths.length-1;Lt>=0;--Lt){var Nt=At.FileIndex[Lt];switch(Nt.type){case 0:Rt?kt=!0:(At.FileIndex.pop(),At.FullPaths.pop());break;case 1:case 2:case 5:Rt=!0,isNaN(Nt.R*Nt.L*Nt.C)&&(kt=!0),Nt.R>-1&&Nt.L>-1&&Nt.R==Nt.L&&(kt=!0);break;default:kt=!0}}if(kt||Ot){var se=new Date(1987,1,19),xe=0,ie=Object.create?Object.create(null):{},ae=[];for(Lt=0;Lt<At.FullPaths.length;++Lt)ie[At.FullPaths[Lt]]=!0,0!==At.FileIndex[Lt].type&&ae.push([At.FullPaths[Lt],At.FileIndex[Lt]]);for(Lt=0;Lt<ae.length;++Lt){var oe=n(ae[Lt][0]);for(Rt=ie[oe];!Rt;){for(;n(oe)&&!ie[n(oe)];)oe=n(oe);ae.push([oe,{name:r(oe).replace("/",""),type:1,clsid:fe,ct:se,mt:se,content:null}]),ie[oe]=!0,Rt=ie[oe=n(ae[Lt][0])]}}for(ae.sort(function(yi,ei){return function t(At,Ot){for(var kt=At.split("/"),Rt=Ot.split("/"),Lt=0,Nt=0,se=Math.min(kt.length,Rt.length);Lt<se;++Lt){if(Nt=kt[Lt].length-Rt[Lt].length)return Nt;if(kt[Lt]!=Rt[Lt])return kt[Lt]<Rt[Lt]?-1:1}return kt.length-Rt.length}(yi[0],ei[0])}),At.FullPaths=[],At.FileIndex=[],Lt=0;Lt<ae.length;++Lt)At.FullPaths[Lt]=ae[Lt][0],At.FileIndex[Lt]=ae[Lt][1];for(Lt=0;Lt<ae.length;++Lt){var ze=At.FileIndex[Lt],We=At.FullPaths[Lt];if(ze.name=r(We).replace("/",""),ze.L=ze.R=ze.C=-(ze.color=1),ze.size=ze.content?ze.content.length:0,ze.start=0,ze.clsid=ze.clsid||fe,0===Lt)ze.C=ae.length>1?1:-1,ze.size=0,ze.type=5;else if("/"==We.slice(-1)){for(xe=Lt+1;xe<ae.length&&n(At.FullPaths[xe])!=We;++xe);for(ze.C=xe>=ae.length?-1:xe,xe=Lt+1;xe<ae.length&&n(At.FullPaths[xe])!=n(We);++xe);ze.R=xe>=ae.length?-1:xe,ze.type=1}else n(At.FullPaths[Lt+1]||"")==n(We)&&(ze.R=Lt+1),ze.type=2}}}function bt(At,Ot){var kt=Ot||{};if("mad"==kt.fileType)return function LA(At,Ot){for(var kt=Ot||{},Rt=kt.boundary||"SheetJS",Lt=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(Rt="------="+Rt).slice(2)+'"',"","",""],Nt=At.FullPaths[0],se=Nt,xe=At.FileIndex[0],ie=1;ie<At.FullPaths.length;++ie)if(se=At.FullPaths[ie].slice(Nt.length),(xe=At.FileIndex[ie]).size&&xe.content&&"\x01Sh33tJ5"!=se){se=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Yi){return"_x"+Yi.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Yi){return"_u"+Yi.charCodeAt(0).toString(16)+"_"});for(var ae=xe.content,oe=_n&&Buffer.isBuffer(ae)?ae.toString("binary"):Ne(ae),ze=0,We=Math.min(1024,oe.length),yi=0,ei=0;ei<=We;++ei)(yi=oe.charCodeAt(ei))>=32&&yi<128&&++ze;var Ge=ze>=4*We/5;Lt.push(Rt),Lt.push("Content-Location: "+(kt.root||"file:///C:/SheetJS/")+se),Lt.push("Content-Transfer-Encoding: "+(Ge?"quoted-printable":"base64")),Lt.push("Content-Type: "+iw(xe,se)),Lt.push(""),Lt.push(Ge?FA(oe):Ku(oe))}return Lt.push(Rt+"--\r\n"),Lt.join("\r\n")}(At,kt);if("zip"===(pt(At),kt.fileType))return function yp(At,Ot){var kt=Ot||{},Rt=[],Lt=[],Nt=re(1),se=kt.compression?8:0,xe=0,ae=0,oe=0,ze=0,We=0,yi=At.FullPaths[0],ei=yi,Ge=At.FileIndex[0],Yi=[],Cr=0;for(ae=1;ae<At.FullPaths.length;++ae)if(ei=At.FullPaths[ae].slice(yi.length),(Ge=At.FileIndex[ae]).size&&Ge.content&&"\x01Sh33tJ5"!=ei){var Fa=ze,Hr=re(ei.length);for(oe=0;oe<ei.length;++oe)Hr.write_shift(1,127&ei.charCodeAt(oe));Hr=Hr.slice(0,Hr.l),Yi[We]="string"==typeof Ge.content?uq.bstr(Ge.content,0):uq.buf(Ge.content,0);var Hs="string"==typeof Ge.content?Vo(Ge.content):Ge.content;8==se&&(Hs=Ce(Hs)),(Nt=re(30)).write_shift(4,67324752),Nt.write_shift(2,20),Nt.write_shift(2,xe),Nt.write_shift(2,se),Ge.mt?s(Nt,Ge.mt):Nt.write_shift(4,0),Nt.write_shift(-4,8&xe?0:Yi[We]),Nt.write_shift(4,8&xe?0:Hs.length),Nt.write_shift(4,8&xe?0:Ge.content.length),Nt.write_shift(2,Hr.length),Nt.write_shift(2,0),ze+=Nt.length,Rt.push(Nt),ze+=Hr.length,Rt.push(Hr),ze+=Hs.length,Rt.push(Hs),8&xe&&((Nt=re(12)).write_shift(-4,Yi[We]),Nt.write_shift(4,Hs.length),Nt.write_shift(4,Ge.content.length),ze+=Nt.l,Rt.push(Nt)),(Nt=re(46)).write_shift(4,33639248),Nt.write_shift(2,0),Nt.write_shift(2,20),Nt.write_shift(2,xe),Nt.write_shift(2,se),Nt.write_shift(4,0),Nt.write_shift(-4,Yi[We]),Nt.write_shift(4,Hs.length),Nt.write_shift(4,Ge.content.length),Nt.write_shift(2,Hr.length),Nt.write_shift(2,0),Nt.write_shift(2,0),Nt.write_shift(2,0),Nt.write_shift(2,0),Nt.write_shift(4,0),Nt.write_shift(4,Fa),Cr+=Nt.l,Lt.push(Nt),Cr+=Hr.length,Lt.push(Hr),++We}return(Nt=re(22)).write_shift(4,101010256),Nt.write_shift(2,0),Nt.write_shift(2,0),Nt.write_shift(2,We),Nt.write_shift(2,We),Nt.write_shift(4,Cr),Nt.write_shift(4,ze),Nt.write_shift(2,0),Vs([Vs(Rt),Vs(Lt),Nt])}(At,kt);var Rt=function(yi){for(var ei=0,Ge=0,Yi=0;Yi<yi.FileIndex.length;++Yi){var Cr=yi.FileIndex[Yi];if(Cr.content){var Fa=Cr.content.length;Fa>0&&(Fa<4096?ei+=Fa+63>>6:Ge+=Fa+511>>9)}}for(var Hr=yi.FullPaths.length+3>>2,Zu=ei+127>>7,Tp=(ei+7>>3)+Ge+Hr+Zu,Pd=Tp+127>>7,I0=Pd<=109?0:Math.ceil((Pd-109)/127);Tp+Pd+I0+127>>7>Pd;)I0=++Pd<=109?0:Math.ceil((Pd-109)/127);var dc=[1,I0,Pd,Zu,Hr,Ge,ei,0];return yi.FileIndex[0].size=ei<<6,dc[7]=(yi.FileIndex[0].start=dc[0]+dc[1]+dc[2]+dc[3]+dc[4]+dc[5])+(dc[6]+7>>3),dc}(At),Lt=re(Rt[7]<<9),Nt=0,se=0;for(Nt=0;Nt<8;++Nt)Lt.write_shift(1,ve[Nt]);for(Nt=0;Nt<8;++Nt)Lt.write_shift(2,0);for(Lt.write_shift(2,62),Lt.write_shift(2,3),Lt.write_shift(2,65534),Lt.write_shift(2,9),Lt.write_shift(2,6),Nt=0;Nt<3;++Nt)Lt.write_shift(2,0);for(Lt.write_shift(4,0),Lt.write_shift(4,Rt[2]),Lt.write_shift(4,Rt[0]+Rt[1]+Rt[2]+Rt[3]-1),Lt.write_shift(4,0),Lt.write_shift(4,4096),Lt.write_shift(4,Rt[3]?Rt[0]+Rt[1]+Rt[2]-1:Dt),Lt.write_shift(4,Rt[3]),Lt.write_shift(-4,Rt[1]?Rt[0]-1:Dt),Lt.write_shift(4,Rt[1]),Nt=0;Nt<109;++Nt)Lt.write_shift(-4,Nt<Rt[2]?Rt[1]+Nt:-1);if(Rt[1])for(se=0;se<Rt[1];++se){for(;Nt<236+127*se;++Nt)Lt.write_shift(-4,Nt<Rt[2]?Rt[1]+Nt:-1);Lt.write_shift(-4,se===Rt[1]-1?Dt:se+1)}var xe=function(yi){for(se+=yi;Nt<se-1;++Nt)Lt.write_shift(-4,Nt+1);yi&&(++Nt,Lt.write_shift(-4,Dt))};for(se=Nt=0,se+=Rt[1];Nt<se;++Nt)Lt.write_shift(-4,Qt.DIFSECT);for(se+=Rt[2];Nt<se;++Nt)Lt.write_shift(-4,Qt.FATSECT);xe(Rt[3]),xe(Rt[4]);for(var ie=0,ae=0,oe=At.FileIndex[0];ie<At.FileIndex.length;++ie)(oe=At.FileIndex[ie]).content&&!((ae=oe.content.length)<4096)&&(oe.start=se,xe(ae+511>>9));for(xe(Rt[6]+7>>3);511&Lt.l;)Lt.write_shift(-4,Qt.ENDOFCHAIN);for(se=Nt=0,ie=0;ie<At.FileIndex.length;++ie)(oe=At.FileIndex[ie]).content&&(ae=oe.content.length)&&!(ae>=4096)&&(oe.start=se,xe(ae+63>>6));for(;511&Lt.l;)Lt.write_shift(-4,Qt.ENDOFCHAIN);for(Nt=0;Nt<Rt[4]<<2;++Nt){var ze=At.FullPaths[Nt];if(ze&&0!==ze.length){oe=At.FileIndex[Nt],0===Nt&&(oe.start=oe.size?oe.start-1:Dt);var We=0===Nt&&kt.root||oe.name;if(We.length>31&&(console.error("Name "+We+" will be truncated to "+We.slice(0,31)),We=We.slice(0,31)),ae=2*(We.length+1),Lt.write_shift(64,We,"utf16le"),Lt.write_shift(2,ae),Lt.write_shift(1,oe.type),Lt.write_shift(1,oe.color),Lt.write_shift(-4,oe.L),Lt.write_shift(-4,oe.R),Lt.write_shift(-4,oe.C),oe.clsid)Lt.write_shift(16,oe.clsid,"hex");else for(ie=0;ie<4;++ie)Lt.write_shift(4,0);Lt.write_shift(4,oe.state||0),Lt.write_shift(4,0),Lt.write_shift(4,0),Lt.write_shift(4,0),Lt.write_shift(4,0),Lt.write_shift(4,oe.start),Lt.write_shift(4,oe.size),Lt.write_shift(4,0)}else{for(ie=0;ie<17;++ie)Lt.write_shift(4,0);for(ie=0;ie<3;++ie)Lt.write_shift(4,-1);for(ie=0;ie<12;++ie)Lt.write_shift(4,0)}}for(Nt=1;Nt<At.FileIndex.length;++Nt)if((oe=At.FileIndex[Nt]).size>=4096)if(Lt.l=oe.start+1<<9,_n&&Buffer.isBuffer(oe.content))oe.content.copy(Lt,Lt.l,0,oe.size),Lt.l+=oe.size+511&-512;else{for(ie=0;ie<oe.size;++ie)Lt.write_shift(1,oe.content[ie]);for(;511&ie;++ie)Lt.write_shift(1,0)}for(Nt=1;Nt<At.FileIndex.length;++Nt)if((oe=At.FileIndex[Nt]).size>0&&oe.size<4096)if(_n&&Buffer.isBuffer(oe.content))oe.content.copy(Lt,Lt.l,0,oe.size),Lt.l+=oe.size+63&-64;else{for(ie=0;ie<oe.size;++ie)Lt.write_shift(1,oe.content[ie]);for(;63&ie;++ie)Lt.write_shift(1,0)}if(_n)Lt.l=Lt.length;else for(;Lt.l<Lt.length;)Lt.write_shift(1,0);return Lt}i.version="1.2.2";var Ei,Et=64,Dt=-2,Le="d0cf11e0a1b11ae1",ve=[208,207,17,224,161,177,26,225],fe="00000000000000000000000000000000",Qt={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Dt,FREESECT:-1,HEADER_SIGNATURE:Le,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:fe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ne(At){for(var Ot=new Array(At.length),kt=0;kt<At.length;++kt)Ot[kt]=String.fromCharCode(At[kt]);return Ot.join("")}function Ce(At){return Ei?Ei.deflateRawSync(At):So(At)}for(var At,Ot,oi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ui=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ni=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],jt=typeof Uint8Array<"u",Xt=jt?new Uint8Array(256):[],Ht=0;Ht<256;++Ht)Xt[Ht]=(void 0,255&((Ot=139536&((At=Ht)<<1|At<<11)|558144&(At<<5|At<<15))>>16|Ot>>8|Ot));function Te(At,Ot){var kt=Xt[255&At];return Ot<=8?kt>>>8-Ot:(kt=kt<<8|Xt[At>>8&255],Ot<=16?kt>>>16-Ot:(kt=kt<<8|Xt[At>>16&255])>>>24-Ot)}function Pt(At,Ot){var kt=7&Ot,Rt=Ot>>>3;return(At[Rt]|(kt<=6?0:At[Rt+1]<<8))>>>kt&3}function Ci(At,Ot){var kt=7&Ot,Rt=Ot>>>3;return(At[Rt]|(kt<=5?0:At[Rt+1]<<8))>>>kt&7}function Ue(At,Ot){var kt=7&Ot,Rt=Ot>>>3;return(At[Rt]|(kt<=3?0:At[Rt+1]<<8))>>>kt&31}function Bi(At,Ot){var kt=7&Ot,Rt=Ot>>>3;return(At[Rt]|(kt<=1?0:At[Rt+1]<<8))>>>kt&127}function en(At,Ot,kt){var Rt=7&Ot,Lt=Ot>>>3,se=At[Lt]>>>Rt;return kt<8-Rt||(se|=At[Lt+1]<<8-Rt,kt<16-Rt)||(se|=At[Lt+2]<<16-Rt,kt<24-Rt)||(se|=At[Lt+3]<<24-Rt),se&(1<<kt)-1}function mi(At,Ot,kt){var Rt=7&Ot,Lt=Ot>>>3;return Rt<=5?At[Lt]|=(7&kt)<<Rt:(At[Lt]|=kt<<Rt&255,At[Lt+1]=(7&kt)>>8-Rt),Ot+3}function nr(At,Ot,kt){return At[Ot>>>3]|=kt=(1&kt)<<(7&Ot),Ot+1}function Jn(At,Ot,kt){var Lt=Ot>>>3;return At[Lt]|=255&(kt<<=7&Ot),At[Lt+1]=kt>>>=8,Ot+8}function ls(At,Ot,kt){var Lt=Ot>>>3;return At[Lt]|=255&(kt<<=7&Ot),At[Lt+1]=255&(kt>>>=8),At[Lt+2]=kt>>>8,Ot+16}function Xa(At,Ot){var kt=At.length,Rt=2*kt>Ot?2*kt:Ot+5,Lt=0;if(kt>=Ot)return At;if(_n){var Nt=$J(Rt);if(At.copy)At.copy(Nt);else for(;Lt<At.length;++Lt)Nt[Lt]=At[Lt];return Nt}if(jt){var se=new Uint8Array(Rt);if(se.set)se.set(At);else for(;Lt<kt;++Lt)se[Lt]=At[Lt];return se}return At.length=Rt,At}function Ke(At){for(var Ot=new Array(At),kt=0;kt<At;++kt)Ot[kt]=0;return Ot}function ti(At,Ot,kt){var Rt=1,Lt=0,Nt=0,se=0,xe=0,ie=At.length,ae=jt?new Uint16Array(32):Ke(32);for(Nt=0;Nt<32;++Nt)ae[Nt]=0;for(Nt=ie;Nt<kt;++Nt)At[Nt]=0;ie=At.length;var oe=jt?new Uint16Array(ie):Ke(ie);for(Nt=0;Nt<ie;++Nt)ae[Lt=At[Nt]]++,Rt<Lt&&(Rt=Lt),oe[Nt]=0;for(ae[0]=0,Nt=1;Nt<=Rt;++Nt)ae[Nt+16]=xe=xe+ae[Nt-1]<<1;for(Nt=0;Nt<ie;++Nt)0!=(xe=At[Nt])&&(oe[Nt]=ae[xe+16]++);var ze=0;for(Nt=0;Nt<ie;++Nt)if(0!=(ze=At[Nt]))for(xe=Te(oe[Nt],Rt)>>Rt-ze,se=(1<<Rt+4-ze)-1;se>=0;--se)Ot[xe|se<<ze]=15&ze|Nt<<4;return Rt}var Co=jt?new Uint16Array(512):Ke(512),qn=jt?new Uint16Array(32):Ke(32);if(!jt){for(var Hn=0;Hn<512;++Hn)Co[Hn]=0;for(Hn=0;Hn<32;++Hn)qn[Hn]=0}!function(){for(var At=[],Ot=0;Ot<32;Ot++)At.push(5);ti(At,qn,32);var kt=[];for(Ot=0;Ot<=143;Ot++)kt.push(8);for(;Ot<=255;Ot++)kt.push(9);for(;Ot<=279;Ot++)kt.push(7);for(;Ot<=287;Ot++)kt.push(8);ti(kt,Co,288)}();var ta=function(){for(var Ot=jt?new Uint8Array(32768):[],kt=0,Rt=0;kt<ni.length-1;++kt)for(;Rt<ni[kt+1];++Rt)Ot[Rt]=kt;for(;Rt<32768;++Rt)Ot[Rt]=29;var Lt=jt?new Uint8Array(259):[];for(kt=0,Rt=0;kt<ui.length-1;++kt)for(;Rt<ui[kt+1];++Rt)Lt[Rt]=kt;return function(ie,ae){return ie.length<8?function Nt(xe,ie){for(var ae=0;ae<xe.length;){var oe=Math.min(65535,xe.length-ae);for(ie.write_shift(1,+(ae+oe==xe.length)),ie.write_shift(2,oe),ie.write_shift(2,65535&~oe);oe-- >0;)ie[ie.l++]=xe[ae++]}return ie.l}(ie,ae):function se(xe,ie){for(var ae=0,oe=0,ze=jt?new Uint16Array(32768):[];oe<xe.length;){var We=Math.min(65535,xe.length-oe);if(We<10){for(7&(ae=mi(ie,ae,+(oe+We==xe.length)))&&(ae+=8-(7&ae)),ie.l=ae/8|0,ie.write_shift(2,We),ie.write_shift(2,65535&~We);We-- >0;)ie[ie.l++]=xe[oe++];ae=8*ie.l}else{ae=mi(ie,ae,+(oe+We==xe.length)+2);for(var yi=0;We-- >0;){var ei=xe[oe],Ge=-1,Yi=0;if((Ge=ze[yi=32767&(yi<<5^ei)])&&((Ge|=-32768&oe)>oe&&(Ge-=32768),Ge<oe))for(;xe[Ge+Yi]==xe[oe+Yi]&&Yi<250;)++Yi;if(Yi>2){(ei=Lt[Yi])<=22?ae=Jn(ie,ae,Xt[ei+1]>>1)-1:(Jn(ie,ae,3),Jn(ie,ae+=5,Xt[ei-23]>>5),ae+=3);var Cr=ei<8?0:ei-4>>2;Cr>0&&(ls(ie,ae,Yi-ui[ei]),ae+=Cr),ae=Jn(ie,ae,Xt[ei=Ot[oe-Ge]]>>3),ae-=3;var Fa=ei<4?0:ei-2>>1;Fa>0&&(ls(ie,ae,oe-Ge-ni[ei]),ae+=Fa);for(var Hr=0;Hr<Yi;++Hr)ze[yi]=32767&oe,yi=32767&(yi<<5^xe[oe]),++oe;We-=Yi-1}else ei<=143?ei+=48:ae=nr(ie,ae,1),ae=Jn(ie,ae,Xt[ei]),ze[yi]=32767&oe,++oe}ae=Jn(ie,ae,0)-1}}return ie.l=(ae+7)/8|0,ie.l}(ie,ae)}}();function So(At){var Ot=re(50+Math.floor(1.1*At.length)),kt=ta(At,Ot);return Ot.slice(0,kt)}var qi=jt?new Uint16Array(32768):Ke(32768),ji=jt?new Uint16Array(32768):Ke(32768),$n=jt?new Uint16Array(128):Ke(128),Rr=1,vp=1;function cc(At,Ot){var kt=Ue(At,Ot)+257,Rt=Ue(At,Ot+=5)+1,Lt=function Ye(At,Ot){var kt=7&Ot,Rt=Ot>>>3;return(At[Rt]|(kt<=4?0:At[Rt+1]<<8))>>>kt&15}(At,Ot+=5)+4;Ot+=4;for(var Nt=0,se=jt?new Uint8Array(19):Ke(19),xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ie=1,ae=jt?new Uint8Array(8):Ke(8),oe=jt?new Uint8Array(8):Ke(8),ze=se.length,We=0;We<Lt;++We)se[oi[We]]=Nt=Ci(At,Ot),ie<Nt&&(ie=Nt),ae[Nt]++,Ot+=3;var yi=0;for(ae[0]=0,We=1;We<=ie;++We)oe[We]=yi=yi+ae[We-1]<<1;for(We=0;We<ze;++We)0!=(yi=se[We])&&(xe[We]=oe[yi]++);var ei=0;for(We=0;We<ze;++We)if(0!=(ei=se[We])){yi=Xt[xe[We]]>>8-ei;for(var Ge=(1<<7-ei)-1;Ge>=0;--Ge)$n[yi|Ge<<ei]=7&ei|We<<3}var Yi=[];for(ie=1;Yi.length<kt+Rt;)switch(yi=$n[Bi(At,Ot)],Ot+=7&yi,yi>>>=3){case 16:for(Nt=3+Pt(At,Ot),Ot+=2,yi=Yi[Yi.length-1];Nt-- >0;)Yi.push(yi);break;case 17:for(Nt=3+Ci(At,Ot),Ot+=3;Nt-- >0;)Yi.push(0);break;case 18:for(Nt=11+Bi(At,Ot),Ot+=7;Nt-- >0;)Yi.push(0);break;default:Yi.push(yi),ie<yi&&(ie=yi)}var Cr=Yi.slice(0,kt),Fa=Yi.slice(kt);for(We=kt;We<286;++We)Cr[We]=0;for(We=Rt;We<30;++We)Fa[We]=0;return Rr=ti(Cr,qi,286),vp=ti(Fa,ji,30),Ot}function xp(At,Ot){var Rt=function Qu(At,Ot){if(3==At[0]&&!(3&At[1]))return[hf(Ot),2];for(var kt=0,Rt=0,Lt=$J(Ot||1<<18),Nt=0,se=Lt.length>>>0,xe=0,ie=0;!(1&Rt);)if(Rt=Ci(At,kt),kt+=3,Rt>>>1)for(Rt>>1==1?(xe=9,ie=5):(kt=cc(At,kt),xe=Rr,ie=vp);;){!Ot&&se<Nt+32767&&(se=(Lt=Xa(Lt,Nt+32767)).length);var oe=en(At,kt,xe),ze=Rt>>>1==1?Co[oe]:qi[oe];if(kt+=15&ze,(ze>>>=4)>>>8&255){if(256==ze)break;var We=(ze-=257)<8?0:ze-4>>2;We>5&&(We=0);var yi=Nt+ui[ze];We>0&&(yi+=en(At,kt,We),kt+=We),oe=en(At,kt,ie),kt+=15&(ze=Rt>>>1==1?qn[oe]:ji[oe]);var ei=(ze>>>=4)<4?0:ze-2>>1,Ge=ni[ze];for(ei>0&&(Ge+=en(At,kt,ei),kt+=ei),!Ot&&se<yi&&(se=(Lt=Xa(Lt,yi+100)).length);Nt<yi;)Lt[Nt]=Lt[Nt-Ge],++Nt}else Lt[Nt++]=ze}else{7&kt&&(kt+=8-(7&kt));var ae=At[kt>>>3]|At[1+(kt>>>3)]<<8;if(kt+=32,ae>0)for(!Ot&&se<Nt+ae&&(se=(Lt=Xa(Lt,Nt+ae)).length);ae-- >0;)Lt[Nt++]=At[kt>>>3],kt+=8}return Ot?[Lt,kt+7>>>3]:[Lt.slice(0,Nt),kt+7>>>3]}(At.slice(At.l||0),Ot);return At.l+=Rt[1],Rt[0]}function A0(At,Ot){if(!At)throw new Error(Ot);typeof console<"u"&&console.error(Ot)}function ew(At,Ot){var kt=At;xa(kt,0);var Nt={FileIndex:[],FullPaths:[]};ft(Nt,{root:Ot.root});for(var se=kt.length-4;(80!=kt[se]||75!=kt[se+1]||5!=kt[se+2]||6!=kt[se+3])&&se>=0;)--se;kt.l=se+4,kt.l+=4;var xe=kt.read_shift(2);kt.l+=6;var ie=kt.read_shift(4);for(kt.l=ie,se=0;se<xe;++se){kt.l+=20;var ae=kt.read_shift(4),oe=kt.read_shift(4),ze=kt.read_shift(2),We=kt.read_shift(2),yi=kt.read_shift(2);kt.l+=8;var ei=kt.read_shift(4),Ge=l(kt.slice(kt.l+ze,kt.l+ze+We));kt.l+=ze+We+yi;var Yi=kt.l;kt.l=ei+4,Ge&&Ge[1]&&((Ge[1]||{}).usz&&(oe=Ge[1].usz),(Ge[1]||{}).csz&&(ae=Ge[1].csz)),PA(kt,ae,oe,Nt,Ge),kt.l=Yi}return Nt}function PA(At,Ot,kt,Rt,Lt){At.l+=2;var Nt=At.read_shift(2),se=At.read_shift(2),xe=function o(At){var Ot=65535&At.read_shift(2),kt=65535&At.read_shift(2),Rt=new Date,Lt=31&kt,Nt=15&(kt>>>=5);kt>>>=4,Rt.setMilliseconds(0),Rt.setFullYear(kt+1980),Rt.setMonth(Nt-1),Rt.setDate(Lt);var se=31&Ot,xe=63&(Ot>>>=5);return Rt.setHours(Ot>>>=6),Rt.setMinutes(xe),Rt.setSeconds(se<<1),Rt}(At);if(8257&Nt)throw new Error("Unsupported ZIP encryption");At.read_shift(4);for(var ae=At.read_shift(4),oe=At.read_shift(4),ze=At.read_shift(2),We=At.read_shift(2),yi="",ei=0;ei<ze;++ei)yi+=String.fromCharCode(At[At.l++]);if(We){var Ge=l(At.slice(At.l,At.l+We));(Ge[21589]||{}).mt&&(xe=Ge[21589].mt),(Ge[1]||{}).usz&&(oe=Ge[1].usz),(Ge[1]||{}).csz&&(ae=Ge[1].csz),Lt&&((Lt[21589]||{}).mt&&(xe=Lt[21589].mt),(Lt[1]||{}).usz&&(oe=Ge[1].usz),(Lt[1]||{}).csz&&(ae=Ge[1].csz))}At.l+=We;var Yi=At.slice(At.l,At.l+ae);switch(se){case 8:Yi=function Re(At,Ot){if(!Ei)return xp(At,Ot);var Rt=new(0,Ei.InflateRaw),Lt=Rt._processChunk(At.slice(At.l),Rt._finishFlushFlag);return At.l+=Rt.bytesRead,Lt}(At,oe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+se)}var Cr=!1;8&Nt&&(134695760==At.read_shift(4)&&(At.read_shift(4),Cr=!0),ae=At.read_shift(4),oe=At.read_shift(4)),ae!=Ot&&A0(Cr,"Bad compressed size: "+Ot+" != "+ae),oe!=kt&&A0(Cr,"Bad uncompressed size: "+kt+" != "+oe),M0(Rt,yi,Yi,{unsafe:!0,mt:xe})}var wf={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function iw(At,Ot){if(At.ctype)return At.ctype;var kt=At.name||"",Rt=kt.match(/\.([^\.]+)$/);return Rt&&wf[Rt[1]]||Ot&&(Rt=(kt=Ot).match(/[\.\\]([^\.\\])+$/))&&wf[Rt[1]]?wf[Rt[1]]:"application/octet-stream"}function Ku(At){for(var Ot=BE(At),kt=[],Rt=0;Rt<Ot.length;Rt+=76)kt.push(Ot.slice(Rt,Rt+76));return kt.join("\r\n")+"\r\n"}function FA(At){var Ot=At.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ae){var oe=ae.charCodeAt(0).toString(16).toUpperCase();return"="+(1==oe.length?"0"+oe:oe)});"\n"==(Ot=Ot.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(Ot="=0D"+Ot.slice(1));for(var kt=[],Rt=(Ot=Ot.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),Lt=0;Lt<Rt.length;++Lt){var Nt=Rt[Lt];if(0!=Nt.length)for(var se=0;se<Nt.length;){var xe=76,ie=Nt.slice(se,se+xe);"="==ie.charAt(xe-1)?xe--:"="==ie.charAt(xe-2)?xe-=2:"="==ie.charAt(xe-3)&&(xe-=3),ie=Nt.slice(se,se+xe),(se+=xe)<Nt.length&&(ie+="="),kt.push(ie)}else kt.push("")}return kt.join("\r\n")}function OA(At,Ot,kt){for(var se,Rt="",Lt="",Nt="",xe=0;xe<10;++xe){var ie=Ot[xe];if(!ie||ie.match(/^\s*$/))break;var ae=ie.match(/^([^:]*?):\s*([^\s].*)$/);if(ae)switch(ae[1].toLowerCase()){case"content-location":Rt=ae[2].trim();break;case"content-type":Nt=ae[2].trim();break;case"content-transfer-encoding":Lt=ae[2].trim()}}switch(++xe,Lt.toLowerCase()){case"base64":se=Vo(kl(Ot.slice(xe).join("")));break;case"quoted-printable":se=function D0(At){for(var Ot=[],kt=0;kt<At.length;++kt){for(var Rt=At[kt];kt<=At.length&&"="==Rt.charAt(Rt.length-1);)Rt=Rt.slice(0,Rt.length-1)+At[++kt];Ot.push(Rt)}for(var Lt=0;Lt<Ot.length;++Lt)Ot[Lt]=Ot[Lt].replace(/[=][0-9A-Fa-f]{2}/g,function(Nt){return String.fromCharCode(parseInt(Nt.slice(1),16))});return Vo(Ot.join("\r\n"))}(Ot.slice(xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Lt)}var oe=M0(At,Rt.slice(kt.length),se,{unsafe:!0});Nt&&(oe.ctype=Nt)}function M0(At,Ot,kt,Rt){var Lt=Rt&&Rt.unsafe;Lt||ft(At);var Nt=!Lt&&Oi.find(At,Ot);if(!Nt){var se=At.FullPaths[0];Ot.slice(0,se.length)==se?se=Ot:("/"!=se.slice(-1)&&(se+="/"),se=(se+Ot).replace("//","/")),Nt={name:r(Ot),type:2},At.FileIndex.push(Nt),At.FullPaths.push(se),Lt||Oi.utils.cfb_gc(At)}return Nt.content=kt,Nt.size=kt?kt.length:0,Rt&&(Rt.CLSID&&(Nt.clsid=Rt.CLSID),Rt.mt&&(Nt.mt=Rt.mt),Rt.ct&&(Nt.ct=Rt.ct)),Nt}return i.find=function Tt(At,Ot){var kt=At.FullPaths.map(function(ie){return ie.toUpperCase()}),Rt=kt.map(function(ie){var ae=ie.split("/");return ae[ae.length-("/"==ie.slice(-1)?2:1)]}),Lt=!1;47===Ot.charCodeAt(0)?(Lt=!0,Ot=kt[0].slice(0,-1)+Ot):Lt=-1!==Ot.indexOf("/");var Nt=Ot.toUpperCase(),se=!0===Lt?kt.indexOf(Nt):Rt.indexOf(Nt);if(-1!==se)return At.FileIndex[se];var xe=!Nt.match(u1);for(Nt=Nt.replace(fo,""),xe&&(Nt=Nt.replace(u1,"!")),se=0;se<kt.length;++se)if((xe?kt[se].replace(u1,"!"):kt[se]).replace(fo,"")==Nt||(xe?Rt[se].replace(u1,"!"):Rt[se]).replace(fo,"")==Nt)return At.FileIndex[se];return null},i.read=function Mt(At,Ot){var kt=Ot&&Ot.type;switch(kt||_n&&Buffer.isBuffer(At)&&(kt="buffer"),kt||"base64"){case"file":return function _t(At,Ot){return C(),D(b.readFileSync(At),Ot)}(At,Ot);case"base64":return D(Vo(kl(At)),Ot);case"binary":return D(Vo(At),Ot)}return D(At,Ot)},i.parse=D,i.write=function Se(At,Ot){var kt=bt(At,Ot);switch(Ot&&Ot.type||"buffer"){case"file":return C(),b.writeFileSync(Ot.filename,kt),kt;case"binary":return"string"==typeof kt?kt:Ne(kt);case"base64":return BE("string"==typeof kt?kt:Ne(kt));case"buffer":if(_n)return Buffer.isBuffer(kt)?kt:_d(kt);case"array":return"string"==typeof kt?Vo(kt):kt}return kt},i.writeFile=function _e(At,Ot,kt){C();var Rt=bt(At,kt);b.writeFileSync(Ot,Rt)},i.utils={cfb_new:function ja(At){var Ot={};return ft(Ot,At),Ot},cfb_add:M0,cfb_del:function wp(At,Ot){ft(At);var kt=Oi.find(At,Ot);if(kt)for(var Rt=0;Rt<At.FileIndex.length;++Rt)if(At.FileIndex[Rt]==kt)return At.FileIndex.splice(Rt,1),At.FullPaths.splice(Rt,1),!0;return!1},cfb_mov:function _p(At,Ot,kt){ft(At);var Rt=Oi.find(At,Ot);if(Rt)for(var Lt=0;Lt<At.FileIndex.length;++Lt)if(At.FileIndex[Lt]==Rt)return At.FileIndex[Lt].name=r(kt),At.FullPaths[Lt]=kt,!0;return!1},cfb_gc:function I4(At){pt(At,!0)},ReadShift:y1,CheckField:Xq,prep_blob:xa,bconcat:Vs,use_zlib:function Kt(At){try{var kt=new(0,At.InflateRaw);if(kt._processChunk(new Uint8Array([3,0]),kt._finishFlushFlag),!kt.bytesRead)throw new Error("zlib does not expose bytesRead");Ei=At}catch(Rt){console.error("cannot use native zlib: "+(Rt.message||Rt))}},_deflateRaw:So,_inflateRaw:xp,consts:Qt},i}();function hq(e){return"string"==typeof e?d1(e):Array.isArray(e)?function m6t(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function m1(e,i,t){if(typeof Uu<"u"&&Uu.writeFileSync)return t?Uu.writeFileSync(e,i,t):Uu.writeFileSync(e,i);if(typeof Deno<"u"){if(t&&"string"==typeof i)switch(t){case"utf8":i=new TextEncoder(t).encode(i);break;case"binary":i=d1(i);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(e,i)}var n="utf8"==t?Ed(i):i;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var r=new Blob([hq(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,e);if(typeof saveAs<"u")return saveAs(r,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(r);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(null!=o.download)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}else if(typeof URL<"u"&&!URL.createObjectURL&&"object"==typeof chrome){var l="data:application/octet-stream;base64,"+function f6t(e){for(var i="",t=0,n=0,r=0,s=0,o=0,l=0,b=0,C=0;C<e.length;)s=(t=e[C++])>>2,o=(3&t)<<4|(n=e[C++])>>4,l=(15&n)<<2|(r=e[C++])>>6,b=63&r,isNaN(n)?l=b=64:isNaN(r)&&(b=64),i+=ho.charAt(s)+ho.charAt(o)+ho.charAt(l)+ho.charAt(b);return i}(new Uint8Array(hq(n)));return chrome.downloads.download({url:l,filename:e,saveAs:!0})}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var b=File(e);return b.open("w"),b.encoding="binary",Array.isArray(i)&&(i=Td(i)),b.write(i),b.close(),i}catch(C){if(!C.message||-1==C.message.indexOf("onstruct"))throw C}throw new Error("cannot save file "+e)}function Jr(e){for(var i=Object.keys(e),t=[],n=0;n<i.length;++n)Object.prototype.hasOwnProperty.call(e,i[n])&&t.push(i[n]);return t}function fq(e,i){for(var t=[],n=Jr(e),r=0;r!==n.length;++r)null==t[e[n[r]][i]]&&(t[e[n[r]][i]]=n[r]);return t}function HE(e){for(var i=[],t=Jr(e),n=0;n!==t.length;++n)i[e[t[n]]]=t[n];return i}function WE(e){for(var i=[],t=Jr(e),n=0;n!==t.length;++n)i[e[t[n]]]=parseInt(t[n],10);return i}var mq=Date.UTC(1899,11,30,0,0,0),W6t=Date.UTC(1899,11,31,0,0,0),X6t=Date.UTC(1904,0,1,0,0,0);function ps(e,i){var n=(e.getTime()-mq)/864e5;return i?(n-=1462)<-1402?n-1:n:n<60?n-1:n}function zu(e){if(e>=60&&e<61)return e;var i=new Date;return i.setTime(24*(e>60?e:e+1)*60*60*1e3+mq),i}var Y6t=/^(\d+):(\d+)(:\d+)?(\.\d+)?$/,$6t=/^(\d+)-(\d+)-(\d+)$/,pq=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)?(\.\d+)?$/;function os(e,i){if(e instanceof Date)return e;var t=e.match(Y6t);return t?new Date((i?X6t:W6t)+1e3*(60*(60*parseInt(t[1],10)+parseInt(t[2],10))+(t[3]?parseInt(t[3].slice(1),10):0))+(t[4]?parseInt((t[4]+"000").slice(1,4),10):0)):(t=e.match($6t))?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],0,0,0,0)):(t=e.match(pq))?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4],+t[5],t[6]&&parseInt(t[6].slice(1),10)||0,t[7]&&parseInt((t[7]+"0000").slice(1,4),10)||0)):new Date(e)}function Ym(e,i){if(_n&&Buffer.isBuffer(e)){if(i&&c1){if(255==e[0]&&254==e[1])return Ed(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return Ed(function jJ(e){for(var i=[],t=0;t<e.length>>1;++t)i[t]=String.fromCharCode(e.charCodeAt(2*t+1)+(e.charCodeAt(2*t)<<8));return i.join("")}(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(i){if(255==e[0]&&254==e[1])return Ed(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return Ed(new TextDecoder("utf-16be").decode(e.slice(2)))}var t={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(s){return t[s]||s})}catch{}var n=[],r=0;try{for(r=0;r<e.length-65536;r+=65536)n.push(String.fromCharCode.apply(0,e.slice(r,r+65536)));n.push(String.fromCharCode.apply(0,e.slice(r)))}catch{try{for(;r<e.length-16384;r+=16384)n.push(String.fromCharCode.apply(0,e.slice(r,r+16384)));n.push(String.fromCharCode.apply(0,e.slice(r)))}catch{for(;r!=e.length;++r)n.push(String.fromCharCode(e[r]))}}return n.join("")}function pr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=pr(e[t]));return i}function Xn(e,i){for(var t="";t.length<i;)t+=e;return t}function Pl(e){var i=Number(e);if(!isNaN(i))return isFinite(i)?i:NaN;if(!/\d/.test(e))return i;var t=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return isNaN(i=Number(n))&&(n=n.replace(/[(]([^()]*)[)]/,function(r,s){return t=-t,s}),isNaN(i=Number(n)))?i:i/t}var Q6t=/^(0?\d|1[0-2])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))\s+([ap])m?$/,K6t=/^([01]?\d|2[0-3])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))$/,Z6t=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)(\.\d+)?[Z]?$/,J6t=-177984e5==new Date("6/9/69 00:00 UTC").valueOf(),e9t=["january","february","march","april","may","june","july","august","september","october","november","december"];function p1(e){if(Z6t.test(e))return-1==e.indexOf("Z")?XE(new Date(e)):new Date(e);var i=e.toLowerCase(),t=i.replace(/\s+/g," ").trim(),n=t.match(Q6t);if(n)return function q6t(e){return e[2]?e[3]?e[4]?new Date(Date.UTC(1899,11,31,+e[1]%12+("p"==e[7]?12:0),+e[2],+e[4],1e3*parseFloat(e[3]))):new Date(Date.UTC(1899,11,31,"p"==e[7]?12:0,+e[1],+e[2],1e3*parseFloat(e[3]))):e[5]?new Date(Date.UTC(1899,11,31,+e[1]%12+("p"==e[7]?12:0),+e[2],+e[5],e[6]?1e3*parseFloat(e[6]):0)):new Date(Date.UTC(1899,11,31,+e[1]%12+("p"==e[7]?12:0),+e[2],0,0)):new Date(Date.UTC(1899,11,31,+e[1]%12+("p"==e[7]?12:0),0,0,0))}(n);if(n=t.match(K6t))return function t9t(e){return e[2]?e[3]?e[4]?new Date(Date.UTC(1899,11,31,+e[1],+e[2],+e[4],1e3*parseFloat(e[3]))):new Date(Date.UTC(1899,11,31,0,+e[1],+e[2],1e3*parseFloat(e[3]))):e[5]?new Date(Date.UTC(1899,11,31,+e[1],+e[2],+e[5],e[6]?1e3*parseFloat(e[6]):0)):new Date(Date.UTC(1899,11,31,+e[1],+e[2],0,0)):new Date(Date.UTC(1899,11,31,+e[1],0,0,0))}(n);if(n=t.match(pq))return new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],n[6]&&parseInt(n[6].slice(1),10)||0,n[7]&&parseInt((n[7]+"0000").slice(1,4),10)||0));var r=new Date(J6t&&-1==e.indexOf("UTC")?e+" UTC":e),s=new Date(NaN),o=r.getYear(),b=(r.getMonth(),r.getDate());if(isNaN(b))return s;if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==e9t.indexOf(i))return s}else if(i.replace(/[ap]m?/,"").match(/[a-z]/))return s;return o<0||o>8099||e.match(/[^-0-9:,\/\\\ ]/)?s:r}function $m(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function XE(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))}function cn(e,i,t){if(e.FullPaths){var n;if("string"==typeof t)return n=_n?_d(t):function p6t(e){for(var i=[],t=0,n=e.length+250,r=hf(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)r[t++]=o;else if(o<2048)r[t++]=192|o>>6&31,r[t++]=128|63&o;else if(o>=55296&&o<57344){o=64+(1023&o);var l=1023&e.charCodeAt(++s);r[t++]=240|o>>8&7,r[t++]=128|o>>2&63,r[t++]=128|l>>6&15|(3&o)<<4,r[t++]=128|63&l}else r[t++]=224|o>>12&15,r[t++]=128|o>>6&63,r[t++]=128|63&o;t>n&&(i.push(r.slice(0,t)),t=0,r=hf(65535),n=65530)}return i.push(r.slice(0,t)),Vs(i)}(t),Oi.utils.cfb_add(e,i,n);Oi.utils.cfb_add(e,i,t)}else e.file(i,t)}function XL(){return Oi.utils.cfb_new()}var Us='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',jL=HE({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),YL=/[&<>'"]/g,u9t=/[\u0000-\u0008\u000b-\u001f\uFFFE-\uFFFF]/g;function gn(e){return(e+"").replace(YL,function(t){return jL[t]}).replace(u9t,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Cq(e){return gn(e).replace(/ /g,"_x0020_")}var Sq=/[\u0000-\u001f]/g;function v1(e){return(e+"").replace(YL,function(t){return jL[t]}).replace(/\n/g,"<br/>").replace(Sq,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function $L(e){for(var i="",t=0,n=0,r=0,s=0,o=0,l=0;t<e.length;)(n=e.charCodeAt(t++))<128?i+=String.fromCharCode(n):(r=e.charCodeAt(t++),n>191&&n<224?(o=(31&n)<<6,o|=63&r,i+=String.fromCharCode(o)):(s=e.charCodeAt(t++),n<240?i+=String.fromCharCode((15&n)<<12|(63&r)<<6|63&s):(l=((7&n)<<18|(63&r)<<12|(63&s)<<6|63&(o=e.charCodeAt(t++)))-65536,i+=String.fromCharCode(55296+(l>>>10&1023)),i+=String.fromCharCode(56320+(1023&l)))));return i}function Aq(e){var t,n,l,i=hf(2*e.length),r=1,s=0,o=0;for(n=0;n<e.length;n+=r)r=1,(l=e.charCodeAt(n))<128?t=l:l<224?(t=64*(31&l)+(63&e.charCodeAt(n+1)),r=2):l<240?(t=4096*(15&l)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),r=3):(r=4,t=262144*(7&l)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(i[s++]=255&o,i[s++]=o>>>8,o=0),i[s++]=t%256,i[s++]=t>>>8;return i.slice(0,s).toString("ucs2")}function Dq(e){return _d(e,"binary").toString("utf8")}var jE="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",gr=_n&&(Dq(jE)==$L(jE)&&Dq||Aq(jE)==$L(jE)&&Aq)||$L,Ed=_n?function(e){return _d(e,"utf8").toString("binary")}:function(e){for(var i=[],t=0,n=0,r=0;t<e.length;)switch(n=e.charCodeAt(t++),!0){case n<128:i.push(String.fromCharCode(n));break;case n<2048:i.push(String.fromCharCode(192+(n>>6))),i.push(String.fromCharCode(128+(63&n)));break;case n>=55296&&n<57344:n-=55296,r=e.charCodeAt(t++)-56320+(n<<10),i.push(String.fromCharCode(240+(r>>18&7))),i.push(String.fromCharCode(144+(r>>12&63))),i.push(String.fromCharCode(128+(r>>6&63))),i.push(String.fromCharCode(128+(63&r)));break;default:i.push(String.fromCharCode(224+(n>>12))),i.push(String.fromCharCode(128+(n>>6&63))),i.push(String.fromCharCode(128+(63&n)))}return i.join("")},kq=/(^\s|\s$|\n)/;function Wa(e,i){return"<"+e+(i.match(kq)?' xml:space="preserve"':"")+">"+i+"</"+e+">"}function x1(e){return Jr(e).map(function(i){return" "+i+'="'+e[i]+'"'}).join("")}function je(e,i,t){return"<"+e+(null!=t?x1(t):"")+(null!=i?(i.match(kq)?' xml:space="preserve"':"")+">"+i+"</"+e:"/")+">"}function QL(e,i){try{return e.toISOString().replace(/\.\d*/,"")}catch(t){if(i)throw t}return""}var va={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Km=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Fl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"},Rq=function(e){for(var i=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,s=e[0][n].length;r<s;r+=10240)i.push.apply(i,e[0][n].slice(r,r+10240));return i},Pq=_n?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(i){return Buffer.isBuffer(i)?i:_d(i)})):Rq(e)}:Rq,Fq=function(e,i,t){for(var n=[],r=i;r<t;r+=2)n.push(String.fromCharCode(Gu(e,r)));return n.join("").replace(fo,"")},$E=_n?function(e,i,t){return Buffer.isBuffer(e)&&c1?e.toString("utf16le",i,t).replace(fo,""):Fq(e,i,t)}:Fq,Oq=function(e,i,t){for(var n=[],r=i;r<i+t;++r)n.push(("0"+e[r].toString(16)).slice(-2));return n.join("")},Lq=_n?function(e,i,t){return Buffer.isBuffer(e)?e.toString("hex",i,i+t):Oq(e,i,t)}:Oq,Nq=function(e,i,t){for(var n=[],r=i;r<t;r++)n.push(String.fromCharCode(m0(e,r)));return n.join("")},f0=_n?function(i,t,n){return Buffer.isBuffer(i)?i.toString("utf8",t,n):Nq(i,t,n)}:Nq,Bq=function(e,i){var t=Ra(e,i);return t>0?f0(e,i+4,i+4+t-1):""},KL=Bq,Vq=function(e,i){var t=Ra(e,i);return t>0?f0(e,i+4,i+4+t-1):""},ZL=Vq,Uq=function(e,i){var t=2*Ra(e,i);return t>0?f0(e,i+4,i+4+t-1):""},JL=Uq,zq=function(i,t){var n=Ra(i,t);return n>0?$E(i,t+4,t+4+n):""},qL=zq,Gq=function(e,i){var t=Ra(e,i);return t>0?f0(e,i+4,i+4+t):""},tN=Gq,Hq=function(e,i){return function v9t(e,i){for(var t=1-2*(e[i+7]>>>7),n=((127&e[i+7])<<4)+(e[i+6]>>>4&15),r=15&e[i+6],s=5;s>=0;--s)r=256*r+e[i+s];return 2047==n?0==r?t*(1/0):NaN:(0==n?n=-1022:(n-=1023,r+=Math.pow(2,52)),t*Math.pow(2,n-52)*r)}(e,i)},QE=Hq,eN=function(i){return Array.isArray(i)||typeof Uint8Array<"u"&&i instanceof Uint8Array};_n&&(KL=function(i,t){if(!Buffer.isBuffer(i))return Bq(i,t);var n=i.readUInt32LE(t);return n>0?i.toString("utf8",t+4,t+4+n-1):""},ZL=function(i,t){if(!Buffer.isBuffer(i))return Vq(i,t);var n=i.readUInt32LE(t);return n>0?i.toString("utf8",t+4,t+4+n-1):""},JL=function(i,t){if(!Buffer.isBuffer(i)||!c1)return Uq(i,t);var n=2*i.readUInt32LE(t);return i.toString("utf16le",t+4,t+4+n-1)},qL=function(i,t){if(!Buffer.isBuffer(i)||!c1)return zq(i,t);var n=i.readUInt32LE(t);return i.toString("utf16le",t+4,t+4+n)},tN=function(i,t){if(!Buffer.isBuffer(i))return Gq(i,t);var n=i.readUInt32LE(t);return i.toString("utf8",t+4,t+4+n)},QE=function(i,t){return Buffer.isBuffer(i)?i.readDoubleLE(t):Hq(i,t)},eN=function(i){return Buffer.isBuffer(i)||Array.isArray(i)||typeof Uint8Array<"u"&&i instanceof Uint8Array}),typeof pn<"u"&&function Wq(){$E=function(e,i,t){return pn.utils.decode(1200,e.slice(i,t)).replace(fo,"")},f0=function(e,i,t){return pn.utils.decode(65001,e.slice(i,t))},KL=function(e,i){var t=Ra(e,i);return t>0?pn.utils.decode(Xm,e.slice(i+4,i+4+t-1)):""},ZL=function(e,i){var t=Ra(e,i);return t>0?pn.utils.decode(ga,e.slice(i+4,i+4+t-1)):""},JL=function(e,i){var t=2*Ra(e,i);return t>0?pn.utils.decode(1200,e.slice(i+4,i+4+t-1)):""},qL=function(e,i){var t=Ra(e,i);return t>0?pn.utils.decode(1200,e.slice(i+4,i+4+t)):""},tN=function(e,i){var t=Ra(e,i);return t>0?pn.utils.decode(65001,e.slice(i+4,i+4+t)):""}}();var m0=function(e,i){return e[i]},Gu=function(e,i){return 256*e[i+1]+e[i]},y9t=function(e,i){var t=256*e[i+1]+e[i];return t<32768?t:-1*(65535-t+1)},Ra=function(e,i){return e[i+3]*(1<<24)+(e[i+2]<<16)+(e[i+1]<<8)+e[i]},Zm=function(e,i){return e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]},b9t=function(e,i){return e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]};function y1(e,i){var n,r,o,l,b,C,t="",s=[];switch(i){case"dbcs":if(C=this.l,_n&&Buffer.isBuffer(this)&&c1)t=this.slice(this.l,this.l+2*e).toString("utf16le");else for(b=0;b<e;++b)t+=String.fromCharCode(Gu(this,C)),C+=2;e*=2;break;case"utf8":t=f0(this,this.l,this.l+e);break;case"utf16le":t=$E(this,this.l,this.l+(e*=2));break;case"wstr":if(!(typeof pn<"u"))return y1.call(this,e,"dbcs");t=pn.utils.decode(ga,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":t=KL(this,this.l),e=4+Ra(this,this.l);break;case"lpstr-cp":t=ZL(this,this.l),e=4+Ra(this,this.l);break;case"lpwstr":t=JL(this,this.l),e=4+2*Ra(this,this.l);break;case"lpp4":e=4+Ra(this,this.l),t=qL(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+Ra(this,this.l),t=tN(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,t="";0!==(o=m0(this,this.l+e++));)s.push(l1(o));t=s.join("");break;case"_wstr":for(e=0,t="";0!==(o=Gu(this,this.l+e));)s.push(l1(o)),e+=2;e+=2,t=s.join("");break;case"dbcs-cont":for(t="",C=this.l,b=0;b<e;++b){if(this.lens&&-1!==this.lens.indexOf(C))return o=m0(this,C),this.l=C+1,l=y1.call(this,e-b,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(l1(Gu(this,C))),C+=2}t=s.join(""),e*=2;break;case"cpstr":if(typeof pn<"u"){t=pn.utils.decode(ga,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(t="",C=this.l,b=0;b!=e;++b){if(this.lens&&-1!==this.lens.indexOf(C))return o=m0(this,C),this.l=C+1,l=y1.call(this,e-b,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(l1(m0(this,C))),C+=1}t=s.join("");break;default:switch(e){case 1:return n=m0(this,this.l),this.l++,n;case 2:return n=("i"===i?y9t:Gu)(this,this.l),this.l+=2,n;case 4:case-4:return"i"!==i&&128&this[this.l+3]?(r=Ra(this,this.l),this.l+=4,r):(n=(e>0?Zm:b9t)(this,this.l),this.l+=4,n);case 8:case-8:if("f"===i)return r=8==e?QE(this,this.l):QE([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:t=Lq(this,this.l,e)}}return this.l+=e,t}var w9t=function(e,i,t){e[t]=255&i,e[t+1]=i>>>8&255,e[t+2]=i>>>16&255,e[t+3]=i>>>24&255},_9t=function(e,i,t){e[t]=255&i,e[t+1]=i>>8&255,e[t+2]=i>>16&255,e[t+3]=i>>24&255},T9t=function(e,i,t){e[t]=255&i,e[t+1]=i>>>8&255};function C9t(e,i,t){var n=0,r=0;if("dbcs"===t){for(r=0;r!=i.length;++r)T9t(this,i.charCodeAt(r),this.l+2*r);n=2*i.length}else if("sbcs"===t||"cpstr"==t)if(typeof pn<"u"&&874==Xm){for(r=0;r!=i.length;++r){var s=pn.utils.encode(Xm,i.charAt(r));this[this.l+r]=s[0]}n=i.length}else if(typeof pn<"u"&&"cpstr"==t){if((s=pn.utils.encode(ga,i)).length==i.length)for(r=0;r<i.length;++r)0==s[r]&&0!=i.charCodeAt(r)&&(s[r]=95);if(s.length==2*i.length)for(r=0;r<i.length;++r)0==s[2*r]&&0==s[2*r+1]&&0!=i.charCodeAt(r)&&(s[2*r]=95);for(r=0;r<s.length;++r)this[this.l+r]=s[r];n=s.length}else{for(i=i.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=i.length;++r)this[this.l+r]=255&i.charCodeAt(r);n=i.length}else{if("hex"===t){for(;r<e;++r)this[this.l++]=parseInt(i.slice(2*r,2*r+2),16)||0;return this}if("utf16le"===t){var o=Math.min(this.l+e,this.length);for(r=0;r<Math.min(i.length,e);++r){var l=i.charCodeAt(r);this[this.l++]=255&l,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}switch(e){case 1:n=1,this[this.l]=255&i;break;case 2:n=2,this[this.l]=255&i,this[this.l+1]=255&(i>>>=8);break;case 3:n=3,this[this.l]=255&i,this[this.l+1]=255&(i>>>=8),this[this.l+2]=255&(i>>>=8);break;case 4:n=4,w9t(this,i,this.l);break;case 8:if(n=8,"f"===t){!function x9t(e,i,t){var n=(i<0||1/i==-1/0?1:0)<<7,r=0,s=0,o=n?-i:i;isFinite(o)?0==o?r=s=0:(r=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-r),r<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?r=-1022:(s-=Math.pow(2,52),r+=1023)):(r=2047,s=isNaN(i)?26985:0);for(var l=0;l<=5;++l,s/=256)e[t+l]=255&s;e[t+6]=(15&r)<<4|15&s,e[t+7]=r>>4|n}(this,i,this.l);break}case 16:break;case-4:n=4,_9t(this,i,this.l)}}return this.l+=n,this}function Xq(e,i){var t=Lq(this,this.l,e.length>>1);if(t!==e)throw new Error(i+"Expected "+e+" saw "+t);this.l+=e.length>>1}function xa(e,i){e.l=i,e.read_shift=y1,e.chk=Xq,e.write_shift=C9t}function mo(e,i){e.l+=i}function re(e){var i=hf(e);return xa(i,0),i}function po(){var e=[],i=_n?256:2048,t=function(C){var D=re(C);return xa(D,0),D},n=t(i),r=function(){n&&(n.l&&(n.length>n.l&&((n=n.slice(0,n.l)).l=n.length),n.length>0&&e.push(n)),n=null)},s=function(C){return n&&C<n.length-n.l?n:(r(),n=t(Math.max(C+1,i)))};return{next:s,push:function(C){r(),null==(n=C).l&&(n.l=n.length),s(i)},end:function(){return r(),Vs(e)},_bufs:e}}function Ee(e,i,t,n){var s,r=+i;if(!isNaN(r)){n||(n=G1[r].p||(t||[]).length||0),s=1+(r>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var o=e.next(s);r<=127?o.write_shift(1,r):(o.write_shift(1,128+(127&r)),o.write_shift(1,r>>7));for(var l=0;4!=l;++l){if(!(n>=128)){o.write_shift(1,n);break}o.write_shift(1,128+(127&n)),n>>=7}n>0&&eN(t)&&e.push(t)}}function b1(e,i,t){var n=pr(e);if(i.s?(n.cRel&&(n.c+=i.s.c),n.rRel&&(n.r+=i.s.r)):(n.cRel&&(n.c+=i.c),n.rRel&&(n.r+=i.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function jq(e,i,t){var n=pr(e);return n.s=b1(n.s,i.s,t),n.e=b1(n.e,i.s,t),n}function w1(e,i){if(e.cRel&&e.c<0)for(e=pr(e);e.c<0;)e.c+=i>8?16384:256;if(e.rRel&&e.r<0)for(e=pr(e);e.r<0;)e.r+=i>8?1048576:i>5?65536:16384;var t=Tn(e);return!e.cRel&&null!=e.cRel&&(t=function A9t(e){return e.replace(/^([A-Z])/,"$$$1")}(t)),!e.rRel&&null!=e.rRel&&(t=function S9t(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(t)),t}function iN(e,i){return 0!=e.s.r||e.s.rRel||e.e.r!=(i.biff>=12?1048575:i.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(i.biff>=12?16383:255)||e.e.cRel?w1(e.s,i.biff)+":"+w1(e.e,i.biff):(e.s.rRel?"":"$")+Pn(e.s.r)+":"+(e.e.rRel?"":"$")+Pn(e.e.r):(e.s.cRel?"":"$")+dn(e.s.c)+":"+(e.e.cRel?"":"$")+dn(e.e.c)}function nN(e){return parseInt(function E9t(e){return e.replace(/\$(\d+)$/,"$1")}(e),10)-1}function Pn(e){return""+(e+1)}function rN(e){for(var i=function D9t(e){return e.replace(/^\$([A-Z])/,"$1")}(e),t=0,n=0;n!==i.length;++n)t=26*t+i.charCodeAt(n)-64;return t-1}function dn(e){if(e<0)throw new Error("invalid column "+e);var i="";for(++e;e;e=Math.floor((e-1)/26))i=String.fromCharCode((e-1)%26+65)+i;return i}function vr(e){for(var i=0,t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=48&&r<=57?i=10*i+(r-48):r>=65&&r<=90&&(t=26*t+(r-64))}return{c:t-1,r:i-1}}function Tn(e){for(var i=e.c+1,t="";i;i=(i-1)/26|0)t=String.fromCharCode((i-1)%26+65)+t;return t+(e.r+1)}function ya(e){var i=e.indexOf(":");return-1==i?{s:vr(e),e:vr(e)}:{s:vr(e.slice(0,i)),e:vr(e.slice(i+1))}}function un(e,i){return typeof i>"u"||"number"==typeof i?un(e.s,e.e):("string"!=typeof e&&(e=Tn(e)),"string"!=typeof i&&(i=Tn(i)),e==i?e:e+":"+i)}function _1(e){var i=ya(e);return"$"+dn(i.s.c)+"$"+Pn(i.s.r)+":$"+dn(i.e.c)+"$"+Pn(i.e.r)}function T1(e,i){if(!(e||i&&i.biff<=5&&i.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e.replace(/'/g,"''")+"'":e}function Gn(e){var i={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,r=0,s=e.length;for(t=0;n<s&&!((r=e.charCodeAt(n)-64)<1||r>26);++n)t=26*t+r;for(i.s.c=--t,t=0;n<s&&!((r=e.charCodeAt(n)-48)<0||r>9);++n)t=10*t+r;if(i.s.r=--t,n===s||10!=r)return i.e.c=i.s.c,i.e.r=i.s.r,i;for(++n,t=0;n!=s&&!((r=e.charCodeAt(n)-64)<1||r>26);++n)t=26*t+r;for(i.e.c=--t,t=0;n!=s&&!((r=e.charCodeAt(n)-48)<0||r>9);++n)t=10*t+r;return i.e.r=--t,i}function Ad(e,i,t){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&t&&t.dateNF&&(e.z=t.dateNF),"e"==e.t?rc[e.v]||e.v:function Yq(e,i){var t="d"==e.t&&i instanceof Date;if(null!=e.z)try{return e.w=sl(e.z,t?ps(i):i)}catch{}try{return e.w=sl((e.XF||{}).numFmtId||(t?14:0),t?ps(i):i)}catch{return""+i}}(e,null==i?e.v:i))}function mf(e,i){var t=i&&i.sheet?i.sheet:"Sheet1",n={};return n[t]=e,{SheetNames:[t],Sheets:n}}function $q(e,i,t){var n=t||{},r=e?null!=e["!data"]:n.dense;null!=Bs&&null==r&&(r=Bs);var s=e||{};r&&!s["!data"]&&(s["!data"]=[]);var o=0,l=0;if(s&&null!=n.origin)if("number"==typeof n.origin)o=n.origin;else{var b="string"==typeof n.origin?vr(n.origin):n.origin;o=b.r,l=b.c}var C={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var D=Gn(s["!ref"]);C.s.c=D.s.c,C.s.r=D.s.r,C.e.c=Math.max(C.e.c,D.e.c),C.e.r=Math.max(C.e.r,D.e.r),-1==o&&(C.e.r=o=s["!ref"]?D.e.r+1:0)}else C.s.c=C.e.c=C.s.r=C.e.r=0;for(var R=[],O=!1,L=0;L!=i.length;++L)if(i[L]){if(!Array.isArray(i[L]))throw new Error("aoa_to_sheet expects an array of arrays");var U=o+L,X=""+(U+1);r&&(s["!data"][U]||(s["!data"][U]=[]),R=s["!data"][U]);for(var W=0;W!=i[L].length;++W)if(!(typeof i[L][W]>"u")){var Z={v:i[L][W]},rt=l+W;if(C.s.r>U&&(C.s.r=U),C.s.c>rt&&(C.s.c=rt),C.e.r<U&&(C.e.r=U),C.e.c<rt&&(C.e.c=rt),O=!0,!i[L][W]||"object"!=typeof i[L][W]||Array.isArray(i[L][W])||i[L][W]instanceof Date)if(Array.isArray(Z.v)&&(Z.f=i[L][W][1],Z.v=Z.v[0]),null===Z.v)if(Z.f)Z.t="n";else if(n.nullError)Z.t="e",Z.v=0;else{if(!n.sheetStubs)continue;Z.t="z"}else"number"==typeof Z.v?Z.t="n":"boolean"==typeof Z.v?Z.t="b":Z.v instanceof Date?(Z.z=n.dateNF||Ri[14],n.UTC||(Z.v=XE(Z.v)),n.cellDates?(Z.t="d",Z.w=sl(Z.z,ps(Z.v,n.date1904))):(Z.t="n",Z.v=ps(Z.v,n.date1904),Z.w=sl(Z.z,Z.v))):Z.t="s";else Z=i[L][W];if(r)R[rt]&&R[rt].z&&(Z.z=R[rt].z),R[rt]=Z;else{var st=dn(rt)+X;s[st]&&s[st].z&&(Z.z=s[st].z),s[st]=Z}}}return O&&C.s.c<104e5&&(s["!ref"]=un(C)),s}function p0(e,i){return $q(null,e,i)}function kc(e,i){return i||(i=re(4)),i.write_shift(4,e),i}function go(e){var i=e.read_shift(4);return 0===i?"":e.read_shift(i,"dbcs")}function ba(e,i){var t=!1;return null==i&&(t=!0,i=re(4+2*e.length)),i.write_shift(4,e.length),e.length>0&&i.write_shift(0,e,"dbcs"),t?i.slice(0,i.l):i}function R9t(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function sN(e,i){var t=e.l,n=e.read_shift(1),r=go(e),s=[],o={t:r,h:r};if(1&n){for(var l=e.read_shift(4),b=0;b!=l;++b)s.push(R9t(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=t+i,o}var O9t=sN;function nc(e){var i=e.read_shift(4),t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:i,iStyleRef:t}}function Jm(e,i){return null==i&&(i=re(8)),i.write_shift(-4,e.c),i.write_shift(3,e.iStyleRef||e.s),i.write_shift(1,0),i}function qm(e){var i=e.read_shift(2);return i+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:i}}function tp(e,i){return null==i&&(i=re(4)),i.write_shift(3,e.iStyleRef||e.s),i.write_shift(1,0),i}var N9t=go,Qq=ba;function KE(e){var i=e.read_shift(4);return 0===i||4294967295===i?"":e.read_shift(i,"dbcs")}function C1(e,i){var t=!1;return null==i&&(t=!0,i=re(127)),i.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&i.write_shift(0,e,"dbcs"),t?i.slice(0,i.l):i}var B9t=go,aN=KE,oN=C1;function ZE(e){var i=e.slice(e.l,e.l+4),t=1&i[0],n=2&i[0];e.l+=4;var r=0===n?QE([0,0,0,0,252&i[0],i[1],i[2],i[3]],0):Zm(i,0)>>2;return t?r/100:r}function Kq(e,i){null==i&&(i=re(4));var t=0,n=0,r=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?n=1:r==(0|r)&&r>=-(1<<29)&&r<1<<29&&(n=1,t=1),!n)throw new Error("unsupported RkNumber "+e);i.write_shift(-4,((t?r:e)<<2)+(t+2))}function Zq(e){var i={s:{},e:{}};return i.s.r=e.read_shift(4),i.e.r=e.read_shift(4),i.s.c=e.read_shift(4),i.e.c=e.read_shift(4),i}var ep=Zq,g0=function V9t(e,i){return i||(i=re(16)),i.write_shift(4,e.s.r),i.write_shift(4,e.e.r),i.write_shift(4,e.s.c),i.write_shift(4,e.e.c),i};function vo(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function ip(e,i){return(i||re(8)).write_shift(8,e,"f")}function JE(e,i){if(i||(i=re(8)),!e||e.auto)return i.write_shift(4,0),i.write_shift(4,0),i;null!=e.index?(i.write_shift(1,2),i.write_shift(1,e.index)):null!=e.theme?(i.write_shift(1,6),i.write_shift(1,e.theme)):(i.write_shift(1,5),i.write_shift(1,0));var t=e.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),i.write_shift(2,t),e.rgb&&null==e.theme){var n=e.rgb||"FFFFFF";"number"==typeof n&&(n=("000000"+n.toString(16)).slice(-6)),i.write_shift(1,parseInt(n.slice(0,2),16)),i.write_shift(1,parseInt(n.slice(2,4),16)),i.write_shift(1,parseInt(n.slice(4,6),16)),i.write_shift(1,255)}else i.write_shift(2,0),i.write_shift(1,0),i.write_shift(1,0);return i}var cN={1:{n:"CodePage",t:2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},dN={1:{n:"CodePage",t:2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function Z9t(e){return e.map(function(i){return[i>>16&255,i>>8&255,255&i]})}var np=pr(Z9t([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,0,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),rc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},S1={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},uN=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"],hN={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},iA={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function itt(e,i,t){var s,n=function H6t(e){for(var i=[],t=Jr(e),n=0;n!==t.length;++n)null==i[e[t[n]]]&&(i[e[t[n]]]=[]),i[e[t[n]]].push(t[n]);return i}(hN),r=[];t||(r[r.length]=Us,r[r.length]=je("Types",null,{xmlns:va.CT,"xmlns:xsd":va.xsd,"xmlns:xsi":va.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(C){return je("Default",null,{Extension:C[0],ContentType:C[1]})})));var o=function(C){e[C]&&e[C].length>0&&(r[r.length]=je("Override",null,{PartName:("/"==(s=e[C][0])[0]?"":"/")+s,ContentType:iA[C][i.bookType]||iA[C].xlsx}))},l=function(C){(e[C]||[]).forEach(function(D){r[r.length]=je("Override",null,{PartName:("/"==D[0]?"":"/")+D,ContentType:iA[C][i.bookType]||iA[C].xlsx})})},b=function(C){(e[C]||[]).forEach(function(D){r[r.length]=je("Override",null,{PartName:("/"==D[0]?"":"/")+D,ContentType:n[C][0]})})};return o("workbooks"),l("sheets"),l("charts"),b("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(b),b("vba"),b("comments"),b("threadedcomments"),b("drawings"),l("metadata"),b("people"),!t&&r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var hn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",CONN:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/connections",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function E1(e){var i=e.lastIndexOf("/");return e.slice(0,i+1)+"_rels/"+e.slice(i+1)+".rels"}function v0(e){var i=[Us,je("Relationships",null,{xmlns:va.RELS})];return Jr(e["!id"]).forEach(function(t){i[i.length]=je("Relationship",null,e["!id"][t])}),i.length>2&&(i[i.length]="</Relationships>",i[1]=i[1].replace("/>",">")),i.join("")}function dr(e,i,t,n,r,s){if(r||(r={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),i<0)for(i=e["!idx"];e["!id"]["rId"+i];++i);if(e["!idx"]=i+1,r.Id="rId"+i,r.Type=n,r.Target=t,s?r.TargetMode=s:[hn.HLINK,hn.XPATH,hn.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),e["!id"][r.Id])throw new Error("Cannot rewrite rId "+i);return e["!id"][r.Id]=r,e[("/"+r.Target).replace("//","/")]=r,i}function ntt(e,i,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+i+'"/>\n',"  </rdf:Description>\n"].join("")}function nUt(e,i){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+i+'"/>\n',"  </rdf:Description>\n"].join("")}function rtt(e,i){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+o1.version+"</meta:generator></office:meta></office:document-meta>"}var Wu=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function mN(e,i,t,n,r){null!=r[e]||null==i||""===i||(r[e]=i,i=gn(i),n[n.length]=t?je(e,i,t):Wa(e,i))}function att(e,i){var t=i||{},n=[Us,je("cp:coreProperties",null,{"xmlns:cp":va.CORE_PROPS,"xmlns:dc":va.dc,"xmlns:dcterms":va.dcterms,"xmlns:dcmitype":va.dcmitype,"xmlns:xsi":va.xsi})],r={};if(!e&&!t.Props)return n.join("");e&&(null!=e.CreatedDate&&mN("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:QL(e.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,r),null!=e.ModifiedDate&&mN("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:QL(e.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,r));for(var s=0;s!=Wu.length;++s){var o=Wu[s],l=t.Props&&null!=t.Props[o[1]]?t.Props[o[1]]:e?e[o[1]]:null;!0===l?l="1":!1===l?l="0":"number"==typeof l&&(l=String(l)),null!=l&&mN(o[0],l,null,n,r)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var rp=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],ott=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function ctt(e){var i=[],t=je;return e||(e={}),e.Application="SheetJS",i[i.length]=Us,i[i.length]=je("Properties",null,{xmlns:va.EXT_PROPS,"xmlns:vt":va.vt}),rp.forEach(function(n){if(void 0!==e[n[1]]){var r;switch(n[2]){case"string":r=gn(String(e[n[1]]));break;case"bool":r=e[n[1]]?"true":"false"}void 0!==r&&(i[i.length]=t(n[0],r))}}),i[i.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),i[i.length]=t("TitlesOfParts",t("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+gn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),i.length>2&&(i[i.length]="</Properties>",i[1]=i[1].replace("/>",">")),i.join("")}function dtt(e){var i=[Us,je("Properties",null,{xmlns:va.CUST_PROPS,"xmlns:vt":va.vt})];if(!e)return i.join("");var t=1;return Jr(e).forEach(function(r){++t,i[i.length]=je("property",function g9t(e,i){switch(typeof e){case"string":var t=je("vt:lpwstr",gn(e));return i&&(t=t.replace(/&quot;/g,"_x0022_")),t;case"number":return je((0|e)==e?"vt:i4":"vt:r8",gn(String(e)));case"boolean":return je("vt:bool",e?"true":"false")}if(e instanceof Date)return je("vt:filetime",QL(e));throw new Error("Unable to serialize "+e)}(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:gn(r)})}),i.length>2&&(i[i.length]="</Properties>",i[1]=i[1].replace("/>",">")),i.join("")}var pN={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function gtt(e,i){var t=re(4),n=re(4);switch(t.write_shift(4,80==e?31:e),e){case 3:n.write_shift(-4,i);break;case 5:(n=re(8)).write_shift(8,i,"f");break;case 11:n.write_shift(4,i?1:0);break;case 64:n=function uUt(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,n=t%Math.pow(2,32),r=(t-n)/Math.pow(2,32);r*=1e7;var s=(n*=1e7)/Math.pow(2,32)|0;s>0&&(n%=Math.pow(2,32),r+=s);var o=re(8);return o.write_shift(4,n),o.write_shift(4,r),o}(i);break;case 31:case 80:for((n=re(4+2*(i.length+1)+(i.length%2?0:2))).write_shift(4,i.length+1),n.write_shift(0,i,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+i)}return Vs([t,n])}var xtt=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function xUt(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function ytt(e,i,t){var n=re(8),r=[],s=[],o=8,l=0,b=re(8),C=re(8);if(b.write_shift(4,2),b.write_shift(4,1200),C.write_shift(4,1),s.push(b),r.push(C),o+=8+b.length,!i){(C=re(8)).write_shift(4,0),r.unshift(C);var D=[re(4)];for(D[0].write_shift(4,e.length),l=0;l<e.length;++l){var R=e[l][0];for((b=re(8+2*(R.length+1)+(R.length%2?0:2))).write_shift(4,l+2),b.write_shift(4,R.length+1),b.write_shift(0,R,"dbcs");b.l!=b.length;)b.write_shift(1,0);D.push(b)}b=Vs(D),s.unshift(b),o+=8+b.length}for(l=0;l<e.length;++l)if((!i||i[e[l][0]])&&!(xtt.indexOf(e[l][0])>-1||ott.indexOf(e[l][0])>-1)&&null!=e[l][1]){var O=e[l][1],L=0;if(i){var U=t[L=+i[e[l][0]]];if("version"==U.p&&"string"==typeof O){var X=O.split(".");O=(+X[0]<<16)+(+X[1]||0)}b=gtt(U.t,O)}else{var W=xUt(O);-1==W&&(W=31,O=String(O)),b=gtt(W,O)}s.push(b),(C=re(8)).write_shift(4,i?L:2+l),r.push(C),o+=8+b.length}var Z=8*(s.length+1);for(l=0;l<s.length;++l)r[l].write_shift(4,Z),Z+=s[l].length;return n.write_shift(4,o),n.write_shift(4,s.length),Vs([n].concat(r).concat(s))}function wtt(e,i,t,n,r,s){var o=re(r?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Oi.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,r?2:1),o.write_shift(16,i,"hex"),o.write_shift(4,r?68:48);var b=ytt(e,t,n);if(l.push(b),r){var C=ytt(r,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+b.length),l.push(C)}return Vs(l)}function xo(e,i){return i||(i=re(2)),i.write_shift(2,+!!e),i}function _s(e){return e.read_shift(2,"u")}function sc(e,i){return i||(i=re(2)),i.write_shift(2,e),i}function Ctt(e,i,t){return t||(t=re(2)),t.write_shift(1,"e"==i?+e:+!!e),t.write_shift(1,"e"==i?1:0),t}function x0(e,i,t){var n=e.read_shift(t&&t.biff>=12?2:1),r="sbcs-cont",s=ga;t&&t.biff>=8&&(ga=1200),t&&8!=t.biff?12==t.biff&&(r="wstr"):e.read_shift(1)&&(r="dbcs-cont"),t.biff>=2&&t.biff<=5&&(r="cpstr");var l=n?e.read_shift(n,r):"";return ga=s,l}function _Ut(e){var i=e.t||"",n=re(3);n.write_shift(2,i.length),n.write_shift(1,1);var r=re(2*i.length);return r.write_shift(2*i.length,i,"utf16le"),Vs([n,r])}function Stt(e,i,t){return t||(t=re(3+2*e.length)),t.write_shift(2,e.length),t.write_shift(1,1),t.write_shift(31,e,"utf16le"),t}function Ett(e,i){i||(i=re(6+2*e.length)),i.write_shift(4,1+e.length);for(var t=0;t<e.length;++t)i.write_shift(2,e.charCodeAt(t));return i.write_shift(2,0),i}function DUt(e){var i=re(512),t=0,n=e.Target;"file://"==n.slice(0,7)&&(n=n.slice(7));var r=n.indexOf("#"),s=r>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3}i.write_shift(4,2),i.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(t=0;t<o.length;++t)i.write_shift(4,o[t]);if(28==s)Ett(n=n.slice(1),i);else if(2&s){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<o.length;++t)i.write_shift(1,parseInt(o[t],16));var l=r>-1?n.slice(0,r):n;for(i.write_shift(4,2*(l.length+1)),t=0;t<l.length;++t)i.write_shift(2,l.charCodeAt(t));i.write_shift(2,0),8&s&&Ett(r>-1?n.slice(r+1):"",i)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<o.length;++t)i.write_shift(1,parseInt(o[t],16));for(var b=0;"../"==n.slice(3*b,3*b+3)||"..\\"==n.slice(3*b,3*b+3);)++b;for(i.write_shift(2,b),i.write_shift(4,n.length-3*b+1),t=0;t<n.length-3*b;++t)i.write_shift(1,255&n.charCodeAt(t+3*b));for(i.write_shift(1,0),i.write_shift(2,65535),i.write_shift(2,57005),t=0;t<6;++t)i.write_shift(4,0)}return i.slice(0,i.l)}function op(e,i,t,n){return n||(n=re(6)),n.write_shift(2,e),n.write_shift(2,i),n.write_shift(2,t||0),n}function kUt(e,i,t){var n=t.biff>8?4:2;return[e.read_shift(n),e.read_shift(n,"i"),e.read_shift(n,"i")]}function sA(e){var i=e.read_shift(2),t=e.read_shift(2);return{s:{c:e.read_shift(2),r:i},e:{c:e.read_shift(2),r:t}}}function Itt(e,i){return i||(i=re(8)),i.write_shift(2,e.s.r),i.write_shift(2,e.e.r),i.write_shift(2,e.s.c),i.write_shift(2,e.e.c),i}function yN(e,i,t){var n=1536,r=16;switch(t.bookType){case"biff8":case"xla":break;case"biff5":n=1280,r=8;break;case"biff4":n=4,r=6;break;case"biff3":n=3,r=6;break;case"biff2":n=2,r=4;break;default:throw new Error("unsupported BIFF version")}var s=re(r);return s.write_shift(2,n),s.write_shift(2,i),r>4&&s.write_shift(2,29282),r>6&&s.write_shift(2,1997),r>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function HUt(e,i){var t=!i||i.biff>=8?2:1,n=re(8+t*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),i.biff>=8&&n.write_shift(1,1),n.write_shift(t*e.name.length,e.name,i.biff<8?"sbcs":"utf16le");var r=n.slice(0,n.l);return r.l=n.l,r}function lzt(e,i,t,n){var r=t&&5==t.biff;n||(n=re(r?3+i.length:5+2*i.length)),n.write_shift(2,e),n.write_shift(r?1:2,i.length),r||n.write_shift(1,1),n.write_shift((r?1:2)*i.length,i,r?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return null==s.l&&(s.l=s.length),s}function Ott(e,i,t,n){var r=t&&5==t.biff;n||(n=re(r?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,i<<4));var s=0;return e.numFmtId>0&&r&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),r||n.write_shift(4,0),n.write_shift(2,0),n}function Ltt(e){var i=re(12);return i.l++,i.write_shift(1,e.numFmtId),i.l+=10,i}var bzt=Ltt;function bN(e,i,t,n,r,s){var o=re(8);return op(e,i,n,o),Ctt(t,s,o),o}function wN(e,i,t,n){var r=re(6+(n||e.length));return r.write_shift(2,i),r.write_shift(2,t),r.write_shift(2,n||e.length),r.write_shift(e.length,e,"sbcs"),r}function zzt(e){var i=re(24),t=vr(e[0]);i.write_shift(2,t.r),i.write_shift(2,t.r),i.write_shift(2,t.c),i.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)i.write_shift(1,parseInt(n[r],16));return Vs([i,DUt(e[1])])}function Hzt(e){var i=e[1].Tooltip,t=re(10+2*(i.length+1));t.write_shift(2,2048);var n=vr(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r=0;r<i.length;++r)t.write_shift(2,i.charCodeAt(r));return t.write_shift(2,0),t}function M1(e,i,t,n,r){return e||(e=re(7)),e.write_shift(2,i),e.write_shift(2,t),e.write_shift(1,n||0),e.write_shift(1,r||0),e.write_shift(1,0),e}var _N=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},i=HE({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(l,b){var C=b||{};C.dateNF||(C.dateNF="yyyymmdd");var D=p0(function t(l,b){var C=[],D=hf(1);switch(b.type){case"base64":D=Vo(kl(l));break;case"binary":D=Vo(l);break;case"buffer":case"array":D=l}xa(D,0);var R=D.read_shift(1),O=!!(136&R),L=!1,U=!1;switch(R){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:L=!0,O=!0;break;case 140:U=!0;break;default:throw new Error("DBF Unsupported Version: "+R.toString(16))}var X=0,W=521;2==R&&(X=D.read_shift(2)),D.l+=3,2!=R&&(X=D.read_shift(4)),X>1048576&&(X=1e6),2!=R&&(W=D.read_shift(2));var Z=D.read_shift(2),rt=b.codepage||1252;2!=R&&(D.l+=16,D.read_shift(1),0!==D[D.l]&&(rt=e[D[D.l]]),D.l+=1,D.l+=2),U&&(D.l+=36);for(var st=[],vt={},_t=Math.min(D.length,2==R?521:W-10-(L?264:0)),Mt=U?32:11;D.l<_t&&13!=D[D.l];)switch(vt={},vt.name=(typeof pn<"u"?pn.utils.decode(rt,D.slice(D.l,D.l+Mt)):Td(D.slice(D.l,D.l+Mt))).replace(/[\u0000\r\n][\S\s]*$/g,""),D.l+=Mt,vt.type=String.fromCharCode(D.read_shift(1)),2!=R&&!U&&(vt.offset=D.read_shift(4)),vt.len=D.read_shift(1),2==R&&(vt.offset=D.read_shift(2)),vt.dec=D.read_shift(1),vt.name.length&&st.push(vt),2!=R&&(D.l+=U?13:14),vt.type){case"B":(!L||8!=vt.len)&&b.WTF&&console.log("Skipping "+vt.name+":"+vt.type);break;case"G":case"P":b.WTF&&console.log("Skipping "+vt.name+":"+vt.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+vt.type)}if(13!==D[D.l]&&(D.l=W-1),13!==D.read_shift(1))throw new Error("DBF Terminator not found "+D.l+" "+D[D.l]);D.l=W;var ft=0,dt=0;for(C[0]=[],dt=0;dt!=st.length;++dt)C[0][dt]=st[dt].name;for(;X-- >0;)if(42!==D[D.l])for(++D.l,C[++ft]=[],dt=0,dt=0;dt!=st.length;++dt){var pt=D.slice(D.l,D.l+st[dt].len);D.l+=st[dt].len,xa(pt,0);var bt=typeof pn<"u"?pn.utils.decode(rt,pt):Td(pt);switch(st[dt].type){case"C":bt.trim().length&&(C[ft][dt]=bt.replace(/([^\s])\s+$/,"$1"));break;case"D":8===bt.length?(C[ft][dt]=new Date(Date.UTC(+bt.slice(0,4),+bt.slice(4,6)-1,+bt.slice(6,8),0,0,0,0)),b&&b.UTC||(C[ft][dt]=$m(C[ft][dt]))):C[ft][dt]=bt;break;case"F":C[ft][dt]=parseFloat(bt.trim());break;case"+":case"I":C[ft][dt]=U?2147483648^pt.read_shift(-4,"i"):pt.read_shift(4,"i");break;case"L":switch(bt.trim().toUpperCase()){case"Y":case"T":C[ft][dt]=!0;break;case"N":case"F":C[ft][dt]=!1;break;case"":case"\0":case"?":break;default:throw new Error("DBF Unrecognized L:|"+bt+"|")}break;case"M":if(!O)throw new Error("DBF Unexpected MEMO for type "+R.toString(16));C[ft][dt]="##MEMO##"+(U?parseInt(bt.trim(),10):pt.read_shift(4));break;case"N":(bt=bt.replace(/\u0000/g,"").trim())&&"."!=bt&&(C[ft][dt]=+bt||0);break;case"@":C[ft][dt]=new Date(pt.read_shift(-8,"f")-621356832e5);break;case"T":var Tt=pt.read_shift(4),Et=pt.read_shift(4);if(0==Tt&&0==Et)break;C[ft][dt]=new Date(864e5*(Tt-2440588)+Et),b&&b.UTC||(C[ft][dt]=$m(C[ft][dt]));break;case"Y":C[ft][dt]=pt.read_shift(4,"i")/1e4+pt.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":C[ft][dt]=-pt.read_shift(-8,"f");break;case"B":if(L&&8==st[dt].len){C[ft][dt]=pt.read_shift(8,"f");break}case"G":case"P":pt.l+=st[dt].len;break;case"0":if("_NullFlags"===st[dt].name)break;default:throw new Error("DBF Unsupported data type "+st[dt].type)}}else D.l+=Z;if(2!=R&&D.l<D.length&&26!=D[D.l++])throw new Error("DBF EOF Marker missing "+(D.l-1)+" of "+D.length+" "+D[D.l-1].toString(16));return b&&b.sheetRows&&(C=C.slice(0,b.sheetRows)),b.DBF=st,C}(l,C),C);return D["!cols"]=C.DBF.map(function(R){return{wch:R.len,DBF:R}}),delete C.DBF,D}var s={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function r(l,b){try{var C=mf(n(l,b),b);return C.bookType="dbf",C}catch(D){if(b&&b.WTF)throw D}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function o(l,b){if(!l["!ref"])throw new Error("Cannot export empty sheet to DBF");var C=b||{},D=ga;if(+C.codepage>=0&&ql(+C.codepage),"string"==C.type)throw new Error("Cannot write DBF to JS string");var R=po(),O=qN(l,{header:1,raw:!0,cellDates:!0}),L=O[0],U=O.slice(1),X=l["!cols"]||[],W=0,Z=0,rt=0,st=1;for(W=0;W<L.length;++W)if(((X[W]||{}).DBF||{}).name)L[W]=X[W].DBF.name,++rt;else if(null!=L[W]){if(++rt,"number"==typeof L[W]&&(L[W]=L[W].toString(10)),"string"!=typeof L[W])throw new Error("DBF Invalid column name "+L[W]+" |"+typeof L[W]+"|");if(L.indexOf(L[W])!==W)for(Z=0;Z<1024;++Z)if(-1==L.indexOf(L[W]+"_"+Z)){L[W]+="_"+Z;break}}var vt=Gn(l["!ref"]),_t=[],Mt=[],ft=[];for(W=0;W<=vt.e.c-vt.s.c;++W){var dt="",pt="",bt=0,Tt=[];for(Z=0;Z<U.length;++Z)null!=U[Z][W]&&Tt.push(U[Z][W]);if(0!=Tt.length&&null!=L[W]){for(Z=0;Z<Tt.length;++Z){switch(typeof Tt[Z]){case"number":pt="B";break;case"string":default:pt="C";break;case"boolean":pt="L";break;case"object":pt=Tt[Z]instanceof Date?"D":"C"}bt=Math.max(bt,(typeof pn<"u"&&"string"==typeof Tt[Z]?pn.utils.encode(Xm,Tt[Z]):String(Tt[Z])).length),dt=dt&&dt!=pt?"C":pt}bt>250&&(bt=250),"C"==(pt=((X[W]||{}).DBF||{}).type)&&X[W].DBF.len>bt&&(bt=X[W].DBF.len),"B"==dt&&"N"==pt&&(dt="N",ft[W]=X[W].DBF.dec,bt=X[W].DBF.len),Mt[W]="C"==dt||"N"==pt?bt:s[dt]||0,st+=Mt[W],_t[W]=dt}else _t[W]="?"}var Et=R.next(32);for(Et.write_shift(4,318902576),Et.write_shift(4,U.length),Et.write_shift(2,296+32*rt),Et.write_shift(2,st),W=0;W<4;++W)Et.write_shift(4,0);var Dt=+i[ga]||3;for(Et.write_shift(4,Dt<<8),e[Dt]!=+C.codepage&&(C.codepage&&console.error("DBF Unsupported codepage "+ga+", using 1252"),ga=1252),W=0,Z=0;W<L.length;++W)if(null!=L[W]){var Le=R.next(32),ve=(L[W].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Le.write_shift(1,ve,"sbcs"),Le.write_shift(1,"?"==_t[W]?"C":_t[W],"sbcs"),Le.write_shift(4,Z),Le.write_shift(1,Mt[W]||s[_t[W]]||0),Le.write_shift(1,ft[W]||0),Le.write_shift(1,2),Le.write_shift(4,0),Le.write_shift(1,0),Le.write_shift(4,0),Le.write_shift(4,0),Z+=Mt[W]||s[_t[W]]||0}var fe=R.next(264);for(fe.write_shift(4,13),W=0;W<65;++W)fe.write_shift(4,0);for(W=0;W<U.length;++W){var Qt=R.next(st);for(Qt.write_shift(1,0),Z=0;Z<L.length;++Z)if(null!=L[Z])switch(_t[Z]){case"L":Qt.write_shift(1,null==U[W][Z]?63:U[W][Z]?84:70);break;case"B":Qt.write_shift(8,U[W][Z]||0,"f");break;case"N":var _e="0";for("number"==typeof U[W][Z]&&(_e=U[W][Z].toFixed(ft[Z]||0)),_e.length>Mt[Z]&&(_e=_e.slice(0,Mt[Z])),rt=0;rt<Mt[Z]-_e.length;++rt)Qt.write_shift(1,32);Qt.write_shift(1,_e,"sbcs");break;case"D":U[W][Z]?(Qt.write_shift(4,("0000"+U[W][Z].getFullYear()).slice(-4),"sbcs"),Qt.write_shift(2,("00"+(U[W][Z].getMonth()+1)).slice(-2),"sbcs"),Qt.write_shift(2,("00"+U[W][Z].getDate()).slice(-2),"sbcs")):Qt.write_shift(8,"00000000","sbcs");break;case"C":var Ne=Qt.l,Se=String(null!=U[W][Z]?U[W][Z]:"").slice(0,Mt[Z]);for(Qt.write_shift(1,Se,"cpstr"),Ne+=Mt[Z]-Qt.l,rt=0;rt<Ne;++rt)Qt.write_shift(1,32)}}return ga=D,R.next(1).write_shift(1,26),R.end()}}}(),Wtt=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},i=new RegExp("\x1bN("+Jr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1").replace("{","\\{")+"|\\|)","gm");try{i=new RegExp("\x1bN("+Jr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm")}catch{}var t=function(L,U){var X=e[U];return"number"==typeof X?LL(X):X},n=function(L,U,X){var W=U.charCodeAt(0)-32<<4|X.charCodeAt(0)-48;return 59==W?L:LL(W)};e["|"]=254;function o(L,U){var Et,X=L.split(/[\n\r]+/),W=-1,Z=-1,rt=0,st=0,vt=[],_t=[],Mt=null,ft={},dt=[],pt=[],bt=[],Tt=0,Dt={Workbook:{WBProps:{},Names:[]}};for(+U.codepage>=0&&ql(+U.codepage);rt!==X.length;++rt){Tt=0;var Qt,Le=X[rt].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(i,t),ve=Le.replace(/;;/g,"\0").split(";").map(function(Ht){return Ht.replace(/\u0000/g,";")});if(Le.length>0)switch(ve[0]){case"ID":case"E":case"B":case"W":break;case"O":for(st=1;st<ve.length;++st)if("V"===ve[st].charAt(0)){var _e=parseInt(ve[st].slice(1),10);_e>=1&&_e<=4&&(Dt.Workbook.WBProps.date1904=!0)}break;case"P":"P"===ve[1].charAt(0)&&_t.push(Le.slice(3).replace(/;;/g,";"));break;case"NN":var Ne={Sheet:0};for(st=1;st<ve.length;++st)switch(ve[st].charAt(0)){case"N":Ne.Name=ve[st].slice(1);break;case"E":Ne.Ref=(U&&U.sheet||"Sheet1")+"!"+cp(ve[st].slice(1))}Dt.Workbook.Names.push(Ne);break;case"C":var Se=!1,Ei=!1,Kt=!1,Re=!1,Ce=-1,oi=-1,ui="",ni="z",Ft="";for(st=1;st<ve.length;++st)switch(ve[st].charAt(0)){case"A":Ft=ve[st].slice(1);break;case"X":Z=parseInt(ve[st].slice(1),10)-1,Ei=!0;break;case"Y":for(W=parseInt(ve[st].slice(1),10)-1,Ei||(Z=0),Et=vt.length;Et<=W;++Et)vt[Et]=[];break;case"K":'"'===(Qt=ve[st].slice(1)).charAt(0)?(Qt=Qt.slice(1,Qt.length-1),ni="s"):"TRUE"===Qt||"FALSE"===Qt?(Qt="TRUE"===Qt,ni="b"):"#"==Qt.charAt(0)&&null!=S1[Qt]?(ni="e",Qt=S1[Qt]):isNaN(Pl(Qt))||(Qt=Pl(Qt),ni="n",null!==Mt&&Rl(Mt)&&U.cellDates&&(ni="number"==typeof(Qt=zu(Dt.Workbook.WBProps.date1904?Qt+1462:Qt))?"n":"d")),typeof pn<"u"&&"string"==typeof Qt&&"string"!=(U||{}).type&&(U||{}).codepage&&(Qt=pn.utils.decode(U.codepage,Qt)),Se=!0;break;case"E":Re=!0,ui=cp(ve[st].slice(1),{r:W,c:Z});break;case"S":Kt=!0;break;case"G":break;case"R":Ce=parseInt(ve[st].slice(1),10)-1;break;case"C":oi=parseInt(ve[st].slice(1),10)-1;break;default:if(U&&U.WTF)throw new Error("SYLK bad record "+Le)}if(Se&&(vt[W][Z]?(vt[W][Z].t=ni,vt[W][Z].v=Qt):vt[W][Z]={t:ni,v:Qt},Mt&&(vt[W][Z].z=Mt),!1!==U.cellText&&Mt&&(vt[W][Z].w=sl(vt[W][Z].z,vt[W][Z].v,{date1904:Dt.Workbook.WBProps.date1904})),Mt=null),Kt){if(Re)throw new Error("SYLK shared formula cannot have own formula");var jt=Ce>-1&&vt[Ce][oi];if(!jt||!jt[1])throw new Error("SYLK shared formula cannot find base");ui=oet(jt[1],{r:W-Ce,c:Z-oi})}ui&&(vt[W][Z]?vt[W][Z].f=ui:vt[W][Z]={t:"n",f:ui}),Ft&&(vt[W][Z]||(vt[W][Z]={t:"z"}),vt[W][Z].c=[{a:"SheetJSYLK",t:Ft}]);break;case"F":var Xt=0;for(st=1;st<ve.length;++st)switch(ve[st].charAt(0)){case"X":Z=parseInt(ve[st].slice(1),10)-1,++Xt;break;case"Y":for(W=parseInt(ve[st].slice(1),10)-1,Et=vt.length;Et<=W;++Et)vt[Et]=[];break;case"M":Tt=parseInt(ve[st].slice(1),10)/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":Mt=_t[parseInt(ve[st].slice(1),10)];break;case"W":for(bt=ve[st].slice(1).split(" "),Et=parseInt(bt[0],10);Et<=parseInt(bt[1],10);++Et)Tt=parseInt(bt[2],10),pt[Et-1]=0===Tt?{hidden:!0}:{wch:Tt};break;case"C":pt[Z=parseInt(ve[st].slice(1),10)-1]||(pt[Z]={});break;case"R":dt[W=parseInt(ve[st].slice(1),10)-1]||(dt[W]={}),Tt>0?(dt[W].hpt=Tt,dt[W].hpx=b0(Tt)):0===Tt&&(dt[W].hidden=!0);break;default:if(U&&U.WTF)throw new Error("SYLK bad record "+Le)}Xt<1&&(Mt=null);break;default:if(U&&U.WTF)throw new Error("SYLK bad record "+Le)}}return dt.length>0&&(ft["!rows"]=dt),pt.length>0&&(ft["!cols"]=pt),pt.forEach(function(Ht){gf(Ht)}),U&&U.sheetRows&&(vt=vt.slice(0,U.sheetRows)),[vt,ft,Dt]}function b(L,U,X,W,Z,rt){var st="C;Y"+(X+1)+";X"+(W+1)+";K";switch(L.t){case"n":st+=L.v||0,L.f&&!L.F&&(st+=";E"+fA(L.f,{r:X,c:W}));break;case"b":st+=L.v?"TRUE":"FALSE";break;case"e":st+=L.w||rc[L.v]||L.v;break;case"d":st+=ps(os(L.v,rt),rt);break;case"s":st+='"'+(null==L.v?"":String(L.v)).replace(/"/g,"").replace(/;/g,";;")+'"'}return st}function C(L,U,X){return"C;Y"+(U+1)+";X"+(X+1)+";A"+function(L){return L.replace(/\n/g,"\x1b :").replace(/\r/g,"\x1b =")}(L.map(function(Z){return Z.t}).join(""))}return{to_workbook:function l(L,U){var X=function s(L,U){switch(U.type){case"base64":return o(kl(L),U);case"binary":return o(L,U);case"buffer":return o(_n&&Buffer.isBuffer(L)?L.toString("binary"):Td(L),U);case"array":return o(Ym(L),U)}throw new Error("Unrecognized type "+U.type)}(L,U),W=X[0],Z=X[1],rt=X[2],st=pr(U);st.date1904=(((rt||{}).Workbook||{}).WBProps||{}).date1904;var vt=p0(W,st);Jr(Z).forEach(function(Mt){vt[Mt]=Z[Mt]});var _t=mf(vt,U);return Jr(rt).forEach(function(Mt){_t[Mt]=rt[Mt]}),_t.bookType="sylk",_t},from_sheet:function O(L,U,X){U||(U={}),U._formats=["General"];var st,W=["ID;PSheetJS;N;E"],Z=[],rt=Gn(L["!ref"]||"A1"),vt=null!=L["!data"],_t="\r\n",Mt=(((X||{}).Workbook||{}).WBProps||{}).date1904;W.push("P;PGeneral");var dt=rt.s.r,pt=rt.s.c,bt=[];if(L["!ref"])for(dt=rt.s.r;dt<=rt.e.r;++dt)if(!vt||L["!data"][dt]){for(bt=[],pt=rt.s.c;pt<=rt.e.c;++pt)(st=vt?L["!data"][dt][pt]:L[dn(pt)+Pn(dt)])&&st.c&&bt.push(C(st.c,dt,pt));bt.length&&Z.push(bt.join(_t))}if(L["!ref"])for(dt=rt.s.r;dt<=rt.e.r;++dt)if(!vt||L["!data"][dt]){for(bt=[],pt=rt.s.c;pt<=rt.e.c;++pt)if((st=vt?L["!data"][dt][pt]:L[dn(pt)+Pn(dt)])&&(null!=st.v||st.f&&!st.F)){if("General"!=(st.z||("d"==st.t?Ri[14]:"General"))){var Tt=U._formats.indexOf(st.z);-1==Tt&&(U._formats.push(st.z),Tt=U._formats.length-1,W.push("P;P"+st.z.replace(/;/g,";;"))),bt.push("F;P"+Tt+";Y"+(dt+1)+";X"+(pt+1))}bt.push(b(st,0,dt,pt,0,Mt))}Z.push(bt.join(_t))}return W.push("F;P0;DG0G8;M255"),L["!cols"]&&function D(L,U){U.forEach(function(X,W){var Z="F;W"+(W+1)+" "+(W+1)+" ";X.hidden?Z+="0":("number"==typeof X.width&&!X.wpx&&(X.wpx=k1(X.width)),"number"==typeof X.wpx&&!X.wch&&(X.wch=R1(X.wpx)),"number"==typeof X.wch&&(Z+=Math.round(X.wch)))," "!=Z.charAt(Z.length-1)&&L.push(Z)})}(W,L["!cols"]),L["!rows"]&&function R(L,U){U.forEach(function(X,W){var Z="F;";X.hidden?Z+="M0;":X.hpt?Z+="M"+20*X.hpt+";":X.hpx&&(Z+="M"+20*P1(X.hpx)+";"),Z.length>2&&L.push(Z+"R"+(W+1))})}(W,L["!rows"]),L["!ref"]&&W.push("B;Y"+(rt.e.r-rt.s.r+1)+";X"+(rt.e.c-rt.s.c+1)+";D"+[rt.s.c,rt.s.r,rt.e.c,rt.e.r].join(" ")),W.push("O;L;D;B"+(Mt?";V4":"")+";K47;G100 0.001"),delete U._formats,W.join(_t)+_t+Z.join(_t)+_t+"E"+_t}}}(),Xtt=function(){function i(l,b){for(var C=l.split("\n"),D=-1,R=-1,O=0,L=[];O!==C.length;++O)if("BOT"!==C[O].trim()){if(!(D<0)){for(var U=C[O].trim().split(","),X=U[0],W=U[1],Z=C[++O]||"";1&(Z.match(/["]/g)||[]).length&&O<C.length-1;)Z+="\n"+C[++O];switch(Z=Z.trim(),+X){case-1:if("BOT"===Z){L[++D]=[],R=0;continue}if("EOD"!==Z)throw new Error("Unrecognized DIF special command "+Z);break;case 0:"TRUE"===Z?L[D][R]=!0:"FALSE"===Z?L[D][R]=!1:isNaN(Pl(W))?isNaN(p1(W).getDate())?L[D][R]=W:(L[D][R]=os(W),b&&b.UTC||(L[D][R]=$m(L[D][R]))):L[D][R]=Pl(W),++R;break;case 1:(Z=(Z=Z.slice(1,Z.length-1)).replace(/""/g,'"'))&&Z.match(/^=".*"$/)&&(Z=Z.slice(2,-1)),L[D][R++]=""!==Z?Z:null}if("EOD"===Z)break}}else L[++D]=[],R=0;return b&&b.sheetRows&&(L=L.slice(0,b.sheetRows)),L}function t(l,b){return p0(function e(l,b){switch(b.type){case"base64":return i(kl(l),b);case"binary":return i(l,b);case"buffer":return i(_n&&Buffer.isBuffer(l)?l.toString("binary"):Td(l),b);case"array":return i(Ym(l),b)}throw new Error("Unrecognized type "+b.type)}(l,b),b)}function r(l,b){return"0,"+String(l)+"\r\n"+b}function s(l){return'1,0\r\n"'+l.replace(/"/g,'""')+'"'}return{to_workbook:function n(l,b){var C=mf(t(l,b),b);return C.bookType="dif",C},to_sheet:t,from_sheet:function o(l){if(!l["!ref"])throw new Error("Cannot export empty sheet to DIF");for(var C=Gn(l["!ref"]),D=null!=l["!data"],R=['TABLE\r\n0,1\r\n"sheetjs"\r\n',"VECTORS\r\n0,"+(C.e.r-C.s.r+1)+'\r\n""\r\n',"TUPLES\r\n0,"+(C.e.c-C.s.c+1)+'\r\n""\r\n','DATA\r\n0,0\r\n""\r\n'],O=C.s.r;O<=C.e.r;++O){for(var L=D?l["!data"][O]:[],U="-1,0\r\nBOT\r\n",X=C.s.c;X<=C.e.c;++X){var W=D?L&&L[X]:l[Tn({r:O,c:X})];if(null!=W){switch(W.t){case"n":U+=null!=W.w?"0,"+W.w+"\r\nV":null!=W.v?r(W.v,"V"):null==W.f||W.F?'1,0\r\n""':s("="+W.f);break;case"b":U+=W.v?r(1,"TRUE"):r(0,"FALSE");break;case"s":U+=s(isNaN(+W.v)?W.v:'="'+W.v+'"');break;case"d":W.w||(W.w=sl(W.z||Ri[14],ps(os(W.v)))),U+=r(W.w,"V");break;default:U+='1,0\r\n""'}U+="\r\n"}else U+='1,0\r\n""\r\n'}R.push(U)}return R.join("")+"-1,0\r\nEOD"}}}(),jtt=function(){function e(R){return R.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function i(R){return R.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(R,O){return p0(function t(R,O){for(var L=R.split("\n"),U=-1,X=-1,W=0,Z=[];W!==L.length;++W){var rt=L[W].trim().split(":");if("cell"===rt[0]){var st=vr(rt[1]);if(Z.length<=st.r)for(U=Z.length;U<=st.r;++U)Z[U]||(Z[U]=[]);switch(U=st.r,X=st.c,rt[2]){case"t":Z[U][X]=e(rt[3]);break;case"v":Z[U][X]=+rt[3];break;case"vtf":var vt=rt[rt.length-1];case"vtc":Z[U][X]="nl"===rt[3]?!!+rt[4]:+rt[4],"vtf"==rt[2]&&(Z[U][X]=[Z[U][X],vt])}}}return O&&O.sheetRows&&(Z=Z.slice(0,O.sheetRows)),Z}(R,O),O)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),b="--SocialCalcSpreadsheetControlSave--";function C(R){if(!R||!R["!ref"])return"";for(var U,O=[],L=[],X="",W=ya(R["!ref"]),Z=null!=R["!data"],rt=W.s.r;rt<=W.e.r;++rt)for(var st=W.s.c;st<=W.e.c;++st)if(X=Tn({r:rt,c:st}),(U=Z?(R["!data"][rt]||[])[st]:R[X])&&null!=U.v&&"z"!==U.t){switch(L=["cell",X,"t"],U.t){case"s":case"str":L.push(i(U.v));break;case"n":U.f?(L[2]="vtf",L[3]="n",L[4]=U.v,L[5]=i(U.f)):(L[2]="v",L[3]=U.v);break;case"b":L[2]="vt"+(U.f?"f":"c"),L[3]="nl",L[4]=U.v?"1":"0",L[5]=i(U.f||(U.v?"TRUE":"FALSE"));break;case"d":var vt=ps(os(U.v));L[2]="vtc",L[3]="nd",L[4]=""+vt,L[5]=U.w||sl(U.z||Ri[14],vt);break;case"e":continue}O.push(L.join(":"))}return O.push("sheet:c:"+(W.e.c-W.s.c+1)+":r:"+(W.e.r-W.s.r+1)+":tvf:1"),O.push("valueformat:1:text-wiki"),O.join("\n")}return{to_workbook:function r(R,O){return mf(n(R,O),O)},to_sheet:n,from_sheet:function D(R){return[s,o,l,o,C(R),b].join("\n")}}}(),y0=function(){function e(D,R,O,L,U){U.raw?R[O][L]=D:""===D||(R[O][L]="TRUE"===D||"FALSE"!==D&&(isNaN(Pl(D))?isNaN(p1(D).getDate())?D:os(D):Pl(D)))}var t={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(D){for(var R={},O=!1,L=0,U=0;L<D.length;++L)34==(U=D.charCodeAt(L))?O=!O:!O&&U in t&&(R[U]=(R[U]||0)+1);for(L in U=[],R)Object.prototype.hasOwnProperty.call(R,L)&&U.push([R[L],L]);if(!U.length)for(L in R=n)Object.prototype.hasOwnProperty.call(R,L)&&U.push([R[L],L]);return U.sort(function(X,W){return X[0]-W[0]||n[X[1]]-n[W[1]]}),t[U.pop()[1]]||44}function o(D,R){return!R||!R.PRN||R.FS||"sep="==D.slice(0,4)||D.indexOf("\t")>=0||D.indexOf(",")>=0||D.indexOf(";")>=0?function s(D,R){var O=R||{},L="";null!=Bs&&null==O.dense&&(O.dense=Bs);var U={};O.dense&&(U["!data"]=[]);var X={s:{c:0,r:0},e:{c:0,r:0}};"sep="==D.slice(0,4)?13==D.charCodeAt(5)&&10==D.charCodeAt(6)?(L=D.charAt(4),D=D.slice(7)):13==D.charCodeAt(5)||10==D.charCodeAt(5)?(L=D.charAt(4),D=D.slice(6)):L=r(D.slice(0,1024)):L=O&&O.FS?O.FS:r(D.slice(0,1024));var W=0,Z=0,rt=0,st=0,vt=0,_t=L.charCodeAt(0),Mt=!1,ft=0,dt=D.charCodeAt(0),pt=null!=O.dateNF?function B6t(e){var i="number"==typeof e?Ri[e]:e;return i=i.replace(GE,"(\\d+)"),GE.lastIndex=0,new RegExp("^"+i+"$")}(O.dateNF):null;function bt(){var Tt=D.slice(st,vt);"\r"==Tt.slice(-1)&&(Tt=Tt.slice(0,-1));var Et={};if('"'==Tt.charAt(0)&&'"'==Tt.charAt(Tt.length-1)&&(Tt=Tt.slice(1,-1).replace(/""/g,'"')),!1!==O.cellText&&(Et.w=Tt),0===Tt.length)Et.t="z";else if(O.raw)Et.t="s",Et.v=Tt;else if(0===Tt.trim().length)Et.t="s",Et.v=Tt;else if(61==Tt.charCodeAt(0))34==Tt.charCodeAt(1)&&34==Tt.charCodeAt(Tt.length-1)?(Et.t="s",Et.v=Tt.slice(2,-1).replace(/""/g,'"')):function E7t(e){return 1!=e.length}(Tt)?(Et.t="s",Et.f=Tt.slice(1),Et.v=Tt):(Et.t="s",Et.v=Tt);else if("TRUE"==Tt)Et.t="b",Et.v=!0;else if("FALSE"==Tt)Et.t="b",Et.v=!1;else if(isNaN(rt=Pl(Tt)))if(!isNaN((rt=p1(Tt)).getDate())||pt&&Tt.match(pt)){if(Et.z=O.dateNF||Ri[14],pt&&Tt.match(pt)){var Dt=function V6t(e,i,t){var n=-1,r=-1,s=-1,o=-1,l=-1,b=-1;(i.match(GE)||[]).forEach(function(R,O){var L=parseInt(t[O+1],10);switch(R.toLowerCase().charAt(0)){case"y":n=L;break;case"d":s=L;break;case"h":o=L;break;case"s":b=L;break;case"m":o>=0?l=L:r=L}}),GE.lastIndex=0,b>=0&&-1==l&&r>=0&&(l=r,r=-1);var C=(""+(n>=0?n:(new Date).getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==C.length&&(C="0"+C),8==C.length&&(C="20"+C);var D=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(b>=0?b:0)).slice(-2);return-1==o&&-1==l&&-1==b?C:-1==n&&-1==r&&-1==s?D:C+"T"+D}(0,O.dateNF,Tt.match(pt)||[]);rt=os(Dt),O&&!1===O.UTC&&(rt=$m(rt))}else O&&!1===O.UTC?rt=$m(rt):!1!==O.cellText&&O.dateNF&&(Et.w=sl(Et.z,rt));O.cellDates?(Et.t="d",Et.v=rt):(Et.t="n",Et.v=ps(rt)),O.cellNF||delete Et.z}else Et.t="s",Et.v=Tt;else Et.t="n",Et.v=rt;if("z"==Et.t||(O.dense?(U["!data"][W]||(U["!data"][W]=[]),U["!data"][W][Z]=Et):U[Tn({c:Z,r:W})]=Et),dt=D.charCodeAt(st=vt+1),X.e.c<Z&&(X.e.c=Z),X.e.r<W&&(X.e.r=W),ft==_t)++Z;else if(Z=0,++W,O.sheetRows&&O.sheetRows<=W)return!0}t:for(;vt<D.length;++vt)switch(ft=D.charCodeAt(vt)){case 34:34===dt&&(Mt=!Mt);break;case 13:if(Mt)break;10==D.charCodeAt(vt+1)&&++vt;case _t:case 10:if(!Mt&&bt())break t}return vt-st>0&&bt(),U["!ref"]=un(X),U}(D,R):p0(function i(D,R){var O=R||{},L=[];if(!D||0===D.length)return L;for(var U=D.split(/[\r\n]/),X=U.length-1;X>=0&&0===U[X].length;)--X;for(var W=10,Z=0,rt=0;rt<=X;++rt)-1==(Z=U[rt].indexOf(" "))?Z=U[rt].length:Z++,W=Math.max(W,Z);for(rt=0;rt<=X;++rt){L[rt]=[];var st=0;for(e(U[rt].slice(0,W).trim(),L,rt,st,O),st=1;st<=(U[rt].length-W)/10+1;++st)e(U[rt].slice(W+10*(st-1),W+10*st).trim(),L,rt,st,O)}return O.sheetRows&&(L=L.slice(0,O.sheetRows)),L}(D,R),R)}function l(D,R){var O="",L="string"==R.type?[0,0,0,0]:function QN(e,i){var t="";switch((i||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":t=kl(e.slice(0,12));break;case"binary":t=e;break;default:throw new Error("Unrecognized type "+(i&&i.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}(D,R);switch(R.type){case"base64":O=kl(D);break;case"binary":case"string":O=D;break;case"buffer":O=65001==R.codepage?D.toString("utf8"):R.codepage&&typeof pn<"u"?pn.utils.decode(R.codepage,D):_n&&Buffer.isBuffer(D)?D.toString("binary"):Td(D);break;case"array":O=Ym(D);break;default:throw new Error("Unrecognized type "+R.type)}return 239==L[0]&&187==L[1]&&191==L[2]?O=gr(O.slice(3)):"string"!=R.type&&"buffer"!=R.type&&65001==R.codepage?O=gr(O):"binary"==R.type&&typeof pn<"u"&&R.codepage&&(O=pn.utils.decode(R.codepage,pn.utils.encode(28591,O))),"socialcalc:version:"==O.slice(0,19)?jtt.to_sheet("string"==R.type?O:gr(O),R):o(O,R)}return{to_workbook:function b(D,R){return mf(l(D,R),R)},to_sheet:l,from_sheet:function C(D){var R=[];if(!D["!ref"])return"";for(var L,O=Gn(D["!ref"]),U=null!=D["!data"],X=O.s.r;X<=O.e.r;++X){for(var W=[],Z=O.s.c;Z<=O.e.c;++Z){var rt=Tn({r:X,c:Z});if((L=U?(D["!data"][X]||[])[Z]:D[rt])&&null!=L.v){for(var st=(L.w||(Ad(L),L.w)||"").slice(0,10);st.length<10;)st+=" ";W.push(st+(0===Z?" ":""))}else W.push("          ")}R.push(W.join(""))}return R.join("\n")}}}(),lp=function(){function e(Ft,jt,Xt){if(Ft){xa(Ft,Ft.l||0);for(var Ht=Xt.Enum||Re;Ft.l<Ft.length;){var Te=Ft.read_shift(2),Pt=Ht[Te]||Ht[65535],Ci=Ft.read_shift(2),Ye=Ft.l+Ci,Ue=Pt.f&&Pt.f(Ft,Ci,Xt);if(Ft.l=Ye,jt(Ue,Pt,Te))return}}}var t=["mmmm","dd-mmm-yyyy","dd-mmm","mmm-yyyy","@","mm/dd","hh:mm:ss AM/PM","hh:mm AM/PM","mm/dd/yyyy","mm/dd","hh:mm:ss","hh:mm"];function n(Ft,jt){if(!Ft)return Ft;var Xt=jt||{};null!=Bs&&null==Xt.dense&&(Xt.dense=Bs);var Ht={},Te="Sheet1",Pt="",Ci=0,Ye={},Ue=[],Bi=[],en=[];Xt.dense&&(en=Ht["!data"]=[]);var mi={s:{r:0,c:0},e:{r:0,c:0}},nr=Xt.sheetRows||0,Jn={};if(81==Ft[4]&&80==Ft[5]&&87==Ft[6])return function ni(Ft,jt){xa(Ft,0);var Xt=jt||{};null!=Bs&&null==Xt.dense&&(Xt.dense=Bs);var Ht={};Xt.dense&&(Ht["!data"]=[]);var Te=[],Pt="",Ye={s:{r:-1,c:-1},e:{r:-1,c:-1}},Ue=0,Bi=0,en=0,mi=0,nr={SheetNames:[],Sheets:{}},Jn=[];t:for(;Ft.l<Ft.length;){var ls=Ft.read_shift(2),Xa=Ft.read_shift(2),Ke=Ft.slice(Ft.l,Ft.l+Xa);switch(xa(Ke,0),ls){case 1:if(962023505!=Ke.read_shift(4))throw"Bad QPW9 BOF!";break;case 2:break t;case 8:case 1025:case 1026:case 1032:default:break;case 10:for(var ti=Ke.read_shift(4),Co=(Ke.length-Ke.l)/ti|0,qn=0;qn<ti;++qn){var Hn=Ke.l+Co,ta={};Ke.l+=2,ta.numFmtId=Ke.read_shift(2),oi[ta.numFmtId]&&(ta.z=oi[ta.numFmtId]),Ke.l=Hn,Jn.push(ta)}break;case 1031:for(Ke.l+=12;Ke.l<Ke.length;)Ue=Ke.read_shift(2),Bi=Ke.read_shift(1),Te.push(Ke.read_shift(Ue,"cstr"));break;case 1537:var So=Ke.read_shift(2);Ht={},Xt.dense&&(Ht["!data"]=[]),Ye.s.c=Ke.read_shift(2),Ye.e.c=Ke.read_shift(2),Ye.s.r=Ke.read_shift(4),Ye.e.r=Ke.read_shift(4),Ke.l+=4,Ke.l+2<Ke.length&&(Ue=Ke.read_shift(2),Bi=Ke.read_shift(1),Pt=0==Ue?"":Ke.read_shift(Ue,"cstr")),Pt||(Pt=dn(So));break;case 1538:if(Ye.s.c>255||Ye.s.r>999999)break;Ye.e.c<Ye.s.c&&(Ye.e.c=Ye.s.c),Ye.e.r<Ye.s.r&&(Ye.e.r=Ye.s.r),Ht["!ref"]=un(Ye),Q1(nr,Ht,Pt);break;case 2561:en=Ke.read_shift(2),Ye.e.c<en&&(Ye.e.c=en),Ye.s.c>en&&(Ye.s.c=en),mi=Ke.read_shift(4),Ye.s.r>mi&&(Ye.s.r=mi),mi=Ke.read_shift(4),Ye.e.r<mi&&(Ye.e.r=mi);break;case 3073:mi=Ke.read_shift(4),Ue=Ke.read_shift(4),Ye.s.r>mi&&(Ye.s.r=mi),Ye.e.r<mi+Ue-1&&(Ye.e.r=mi+Ue-1);for(var qi=dn(en);Ke.l<Ke.length;){var ji={t:"z"},$n=Ke.read_shift(1),Rr=-1;128&$n&&(Rr=Ke.read_shift(2));var vp=64&$n?Ke.read_shift(2)-1:0;switch(31&$n){case 0:case 1:break;case 2:ji={t:"n",v:Ke.read_shift(2)};break;case 3:ji={t:"n",v:Ke.read_shift(2,"i")};break;case 4:ji={t:"n",v:ZE(Ke)};break;case 5:ji={t:"n",v:Ke.read_shift(8,"f")};break;case 7:ji={t:"s",v:Te[Bi=Ke.read_shift(4)-1]};break;case 8:ji={t:"n",v:Ke.read_shift(8,"f")},Ke.l+=2,Ke.l+=4,isNaN(ji.v)&&(ji={t:"e",v:15});break;default:throw"Unrecognized QPW cell type "+(31&$n)}-1!=Rr&&(Jn[Rr-1]||{}).z&&(ji.z=Jn[Rr-1].z);var cc=0;if(32&$n)switch(31&$n){case 2:case 7:cc=Ke.read_shift(2);break;case 3:cc=Ke.read_shift(2,"i");break;default:throw"Unsupported delta for QPW cell type "+(31&$n)}if(Xt.sheetStubs||"z"!=ji.t){var Qu=pr(ji);"n"==ji.t&&ji.z&&Rl(ji.z)&&Xt.cellDates&&(Qu.v=zu(ji.v),Qu.t="number"==typeof Qu.v?"n":"d"),null!=Ht["!data"]?(Ht["!data"][mi]||(Ht["!data"][mi]=[]),Ht["!data"][mi][en]=Qu):Ht[qi+Pn(mi)]=Qu}for(++mi,--Ue;vp-- >0&&Ue>=0;){if(32&$n)switch(31&$n){case 2:ji={t:"n",v:ji.v+cc&65535};break;case 3:(ji={t:"n",v:ji.v+cc&65535}).v>32767&&(ji.v-=65536);break;case 7:ji={t:"s",v:Te[Bi=Bi+cc>>>0]};break;default:throw"Cannot apply delta for QPW cell type "+(31&$n)}else switch(31&$n){case 1:ji={t:"z"};break;case 2:ji={t:"n",v:Ke.read_shift(2)};break;case 7:ji={t:"s",v:Te[Bi=Ke.read_shift(4)-1]};break;default:throw"Cannot apply repeat for QPW cell type "+(31&$n)}!Xt.sheetStubs&&"z"==ji.t||(null!=Ht["!data"]?(Ht["!data"][mi]||(Ht["!data"][mi]=[]),Ht["!data"][mi][en]=ji):Ht[qi+Pn(mi)]=ji),++mi,--Ue}}break;case 3074:en=Ke.read_shift(2),mi=Ke.read_shift(4);var xp=ui(Ke);null!=Ht["!data"]?(Ht["!data"][mi]||(Ht["!data"][mi]=[]),Ht["!data"][mi][en]={t:"s",v:xp}):Ht[dn(en)+Pn(mi)]={t:"s",v:xp}}Ft.l+=Xa}return nr}(Ft,jt);if(0==Ft[2]&&(8==Ft[3]||9==Ft[3])&&Ft.length>=16&&5==Ft[14]&&108===Ft[15])throw new Error("Unsupported Works 3 for Mac file");if(2==Ft[2])Xt.Enum=Re,e(Ft,function(ti,Co,qn){switch(qn){case 0:Xt.vers=ti,ti>=4096&&(Xt.qpro=!0);break;case 255:Xt.vers=ti,Xt.works=!0;break;case 6:mi=ti;break;case 204:ti&&(Pt=ti);break;case 222:Pt=ti;break;case 15:case 51:(!Xt.qpro&&!Xt.works||51==qn)&&ti[1].v.charCodeAt(0)<48&&(ti[1].v=ti[1].v.slice(1)),(Xt.works||Xt.works2)&&(ti[1].v=ti[1].v.replace(/\r\n/g,"\n"));case 13:case 14:case 16:!(112&~ti[2])&&(15&ti[2])>1&&(15&ti[2])<15&&(ti[1].z=Xt.dateNF||t[(15&ti[2])-1]||Ri[14],Xt.cellDates&&(ti[1].v=zu(ti[1].v),ti[1].t="number"==typeof ti[1].v?"n":"d")),Xt.qpro&&ti[3]>Ci&&(Ht["!ref"]=un(mi),Ye[Te]=Ht,Ue.push(Te),Ht={},Xt.dense&&(en=Ht["!data"]=[]),mi={s:{r:0,c:0},e:{r:0,c:0}},Ci=ti[3],Te=Pt||"Sheet"+(Ci+1),Pt="");var Hn=Xt.dense?(en[ti[0].r]||[])[ti[0].c]:Ht[Tn(ti[0])];if(Hn){Hn.t=ti[1].t,Hn.v=ti[1].v,null!=ti[1].z&&(Hn.z=ti[1].z),null!=ti[1].f&&(Hn.f=ti[1].f),Jn=Hn;break}Xt.dense?(en[ti[0].r]||(en[ti[0].r]=[]),en[ti[0].r][ti[0].c]=ti[1]):Ht[Tn(ti[0])]=ti[1],Jn=ti[1];break;case 21509:Xt.works2=!0;break;case 21506:5281==ti&&(Jn.z="hh:mm:ss",Xt.cellDates&&"n"==Jn.t&&(Jn.v=zu(Jn.v),Jn.t="number"==typeof Jn.v?"n":"d"))}},Xt);else{if(26!=Ft[2]&&14!=Ft[2])throw new Error("Unrecognized LOTUS BOF "+Ft[2]);Xt.Enum=Ce,14==Ft[2]&&(Xt.qpro=!0,Ft.l=0),e(Ft,function(ti,Co,qn){switch(qn){case 204:Te=ti;break;case 22:ti[1].v.charCodeAt(0)<48&&(ti[1].v=ti[1].v.slice(1)),ti[1].v=ti[1].v.replace(/\x0F./g,function(Hn){return String.fromCharCode(Hn.charCodeAt(1)-32)}).replace(/\r\n/g,"\n");case 23:case 24:case 25:case 37:case 39:case 40:if(ti[3]>Ci&&(Ht["!ref"]=un(mi),Ye[Te]=Ht,Ue.push(Te),Ht={},Xt.dense&&(en=Ht["!data"]=[]),mi={s:{r:0,c:0},e:{r:0,c:0}},Te="Sheet"+((Ci=ti[3])+1)),nr>0&&ti[0].r>=nr)break;Xt.dense?(en[ti[0].r]||(en[ti[0].r]=[]),en[ti[0].r][ti[0].c]=ti[1]):Ht[Tn(ti[0])]=ti[1],mi.e.c<ti[0].c&&(mi.e.c=ti[0].c),mi.e.r<ti[0].r&&(mi.e.r=ti[0].r);break;case 27:ti[14e3]&&(Bi[ti[14e3][0]]=ti[14e3][1]);break;case 1537:Bi[ti[0]]=ti[1],ti[0]==Ci&&(Te=ti[1])}},Xt)}if(Ht["!ref"]=un(mi),Ye[Pt||Te]=Ht,Ue.push(Pt||Te),!Bi.length)return{SheetNames:Ue,Sheets:Ye};for(var ls={},Xa=[],Ke=0;Ke<Bi.length;++Ke)Ye[Ue[Ke]]?(Xa.push(Bi[Ke]||Ue[Ke]),ls[Bi[Ke]]=Ye[Bi[Ke]]||Ye[Ue[Ke]]):(Xa.push(Bi[Ke]),ls[Bi[Ke]]={"!ref":"A1"});return{SheetNames:Xa,Sheets:ls}}function D(Ft,jt,Xt){var Ht=[{c:0,r:0},{t:"n",v:0},0,0];return Xt.qpro&&20768!=Xt.vers?(Ht[0].c=Ft.read_shift(1),Ht[3]=Ft.read_shift(1),Ht[0].r=Ft.read_shift(2),Ft.l+=2):Xt.works?(Ht[0].c=Ft.read_shift(2),Ht[0].r=Ft.read_shift(2),Ht[2]=Ft.read_shift(2)):(Ht[2]=Ft.read_shift(1),Ht[0].c=Ft.read_shift(2),Ht[0].r=Ft.read_shift(2)),Ht}function R(Ft){return Ft.z&&Rl(Ft.z)?240|(t.indexOf(Ft.z)+1||2):255}function L(Ft,jt,Xt){var Ht=re(7+Xt.length);Ht.write_shift(1,255),Ht.write_shift(2,jt),Ht.write_shift(2,Ft),Ht.write_shift(1,39);for(var Te=0;Te<Ht.length;++Te){var Pt=Xt.charCodeAt(Te);Ht.write_shift(1,Pt>=128?95:Pt)}return Ht.write_shift(1,0),Ht}function W(Ft,jt,Xt){var Ht=re(7);return Ht.write_shift(1,R(Xt)),Ht.write_shift(2,jt),Ht.write_shift(2,Ft),Ht.write_shift(2,Xt.v,"i"),Ht}function rt(Ft,jt,Xt){var Ht=re(13);return Ht.write_shift(1,R(Xt)),Ht.write_shift(2,jt),Ht.write_shift(2,Ft),Ht.write_shift(8,Xt.v,"f"),Ht}function vt(Ft,jt,Xt){var Ht=32768&jt;return jt=(Ht?Ft:0)+((jt&=-32769)>=8192?jt-16384:jt),(Ht?"":"$")+(Xt?dn(jt):Pn(jt))}var _t={31:["NA",0],33:["ABS",1],34:["TRUNC",1],35:["SQRT",1],36:["LOG",1],37:["LN",1],38:["PI",0],39:["SIN",1],40:["COS",1],41:["TAN",1],42:["ATAN2",2],43:["ATAN",1],44:["ASIN",1],45:["ACOS",1],46:["EXP",1],47:["MOD",2],49:["ISNA",1],50:["ISERR",1],51:["FALSE",0],52:["TRUE",0],53:["RAND",0],54:["DATE",3],63:["ROUND",2],64:["TIME",3],68:["ISNUMBER",1],69:["ISTEXT",1],70:["LEN",1],71:["VALUE",1],73:["MID",3],74:["CHAR",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],102:["UPPER",1],103:["LOWER",1],107:["PROPER",1],109:["TRIM",1],111:["T",1]},Mt=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function dt(Ft){var jt=[{c:0,r:0},{t:"n",v:0},0];return jt[0].r=Ft.read_shift(2),jt[3]=Ft[Ft.l++],jt[0].c=Ft[Ft.l++],jt}function bt(Ft,jt,Xt,Ht){var Te=re(6+Ht.length);Te.write_shift(2,Ft),Te.write_shift(1,Xt),Te.write_shift(1,jt),Te.write_shift(1,39);for(var Pt=0;Pt<Ht.length;++Pt){var Ci=Ht.charCodeAt(Pt);Te.write_shift(1,Ci>=128?95:Ci)}return Te.write_shift(1,0),Te}function Et(Ft,jt){var Xt=dt(Ft),Ht=Ft.read_shift(4),Te=Ft.read_shift(4),Pt=Ft.read_shift(2);if(65535==Pt)return 0===Ht&&3221225472===Te?(Xt[1].t="e",Xt[1].v=15):0===Ht&&3489660928===Te?(Xt[1].t="e",Xt[1].v=42):Xt[1].v=0,Xt;var Ci=32768&Pt;return Pt=(32767&Pt)-16446,Xt[1].v=(1-2*Ci)*(Te*Math.pow(2,Pt+32)+Ht*Math.pow(2,Pt)),Xt}function Dt(Ft,jt,Xt,Ht){var Te=re(14);if(Te.write_shift(2,Ft),Te.write_shift(1,Xt),Te.write_shift(1,jt),0==Ht)return Te.write_shift(4,0),Te.write_shift(4,0),Te.write_shift(2,65535),Te;var Pt=0,Ci=0,Ue=0;return Ht<0&&(Pt=1,Ht=-Ht),Ci=0|Math.log2(Ht),2147483648&(Ue=(Ht/=Math.pow(2,Ci-31))>>>0)||(++Ci,Ue=(Ht/=2)>>>0),Ht-=Ue,Ue|=2147483648,Ue>>>=0,Ht*=Math.pow(2,32),Te.write_shift(4,Ht>>>0),Te.write_shift(4,Ue),Te.write_shift(2,Ci+=16383+(Pt?32768:0)),Te}function fe(Ft,jt){var Xt=dt(Ft),Ht=Ft.read_shift(8,"f");return Xt[1].v=Ht,Xt}function _e(Ft,jt){return 0==Ft[Ft.l+jt-1]?Ft.read_shift(jt,"cstr"):""}function Kt(Ft,jt){var Xt=re(5+Ft.length);Xt.write_shift(2,14e3),Xt.write_shift(2,jt);for(var Ht=0;Ht<Ft.length;++Ht){var Te=Ft.charCodeAt(Ht);Xt[Xt.l++]=Te>127?95:Te}return Xt[Xt.l++]=0,Xt}var Re={0:{n:"BOF",f:_s},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function b(Ft,jt,Xt){var Ht={s:{c:0,r:0},e:{c:0,r:0}};return 8==jt&&Xt.qpro?(Ht.s.c=Ft.read_shift(1),Ft.l++,Ht.s.r=Ft.read_shift(2),Ht.e.c=Ft.read_shift(1),Ft.l++,Ht.e.r=Ft.read_shift(2),Ht):(Ht.s.c=Ft.read_shift(2),Ht.s.r=Ft.read_shift(2),12==jt&&Xt.qpro&&(Ft.l+=2),Ht.e.c=Ft.read_shift(2),Ht.e.r=Ft.read_shift(2),12==jt&&Xt.qpro&&(Ft.l+=2),65535==Ht.s.c&&(Ht.s.c=Ht.e.c=Ht.s.r=Ht.e.r=0),Ht)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function X(Ft,jt,Xt){var Ht=D(Ft,0,Xt);return Ht[1].v=Ft.read_shift(2,"i"),Ht}},14:{n:"NUMBER",f:function Z(Ft,jt,Xt){var Ht=D(Ft,0,Xt);return Ht[1].v=Ft.read_shift(8,"f"),Ht}},15:{n:"LABEL",f:function O(Ft,jt,Xt){var Ht=Ft.l+jt,Te=D(Ft,0,Xt);if(Te[1].t="s",20768==(65534&Xt.vers)){Ft.l++;var Pt=Ft.read_shift(1);return Te[1].v=Ft.read_shift(Pt,"utf8"),Te}return Xt.qpro&&Ft.l++,Te[1].v=Ft.read_shift(Ht-Ft.l,"cstr"),Te}},16:{n:"FORMULA",f:function st(Ft,jt,Xt){var Ht=Ft.l+jt,Te=D(Ft,0,Xt);if(Te[1].v=Ft.read_shift(8,"f"),Xt.qpro)Ft.l=Ht;else{var Pt=Ft.read_shift(2);(function ft(Ft,jt){xa(Ft,0);for(var Xt=[],Ht=0,Te="",Pt="",Ci="",Ye="";Ft.l<Ft.length;){var Ue=Ft[Ft.l++];switch(Ue){case 0:Xt.push(Ft.read_shift(8,"f"));break;case 1:Pt=vt(jt[0].c,Ft.read_shift(2),!0),Te=vt(jt[0].r,Ft.read_shift(2),!1),Xt.push(Pt+Te);break;case 2:var Bi=vt(jt[0].c,Ft.read_shift(2),!0),en=vt(jt[0].r,Ft.read_shift(2),!1);Pt=vt(jt[0].c,Ft.read_shift(2),!0),Te=vt(jt[0].r,Ft.read_shift(2),!1),Xt.push(Bi+en+":"+Pt+Te);break;case 3:if(Ft.l<Ft.length)return void console.error("WK1 premature formula end");break;case 4:Xt.push("("+Xt.pop()+")");break;case 5:Xt.push(Ft.read_shift(2));break;case 6:for(var mi="";Ue=Ft[Ft.l++];)mi+=String.fromCharCode(Ue);Xt.push('"'+mi.replace(/"/g,'""')+'"');break;case 8:Xt.push("-"+Xt.pop());break;case 23:Xt.push("+"+Xt.pop());break;case 22:Xt.push("NOT("+Xt.pop()+")");break;case 20:case 21:Ye=Xt.pop(),Ci=Xt.pop(),Xt.push(["AND","OR"][Ue-20]+"("+Ci+","+Ye+")");break;default:if(Ue<32&&Mt[Ue])Ye=Xt.pop(),Ci=Xt.pop(),Xt.push(Ci+Mt[Ue]+Ye);else{if(!_t[Ue])return Ue<=7?console.error("WK1 invalid opcode "+Ue.toString(16)):Ue<=24?console.error("WK1 unsupported op "+Ue.toString(16)):Ue<=30?console.error("WK1 invalid opcode "+Ue.toString(16)):Ue<=115?console.error("WK1 unsupported function opcode "+Ue.toString(16)):console.error("WK1 unrecognized opcode "+Ue.toString(16));if(69==(Ht=_t[Ue][1])&&(Ht=Ft[Ft.l++]),Ht>Xt.length)return void console.error("WK1 bad formula parse 0x"+Ue.toString(16)+":|"+Xt.join("|")+"|");var nr=Xt.slice(-Ht);Xt.length-=Ht,Xt.push(_t[Ue][0]+"("+nr.join(",")+")")}}}1==Xt.length?jt[1].f=""+Xt[0]:console.error("WK1 bad formula parse |"+Xt.join("|")+"|")})(Ft.slice(Ft.l,Ft.l+Pt),Te),Ft.l+=Pt}return Te}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:function U(Ft,jt,Xt){var Ht=Ft.l+jt,Te=D(Ft,0,Xt);if(Te[1].t="s",20768==Xt.vers){var Pt=Ft.read_shift(1);return Te[1].v=Ft.read_shift(Pt,"utf8"),Te}return Te[1].v=Ft.read_shift(Ht-Ft.l,"cstr"),Te}},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:_e},222:{n:"SHEETNAMELP",f:function Ne(Ft,jt){var Xt=Ft[Ft.l++];Xt>jt-1&&(Xt=jt-1);for(var Ht="";Ht.length<Xt;)Ht+=String.fromCharCode(Ft[Ft.l++]);return Ht}},255:{n:"BOF",f:_s},21506:{n:"WKSNF",f:_s},65535:{n:""}},Ce={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function pt(Ft,jt){var Xt=dt(Ft);return Xt[1].t="s",Xt[1].v=Ft.read_shift(jt-4,"cstr"),Xt}},23:{n:"NUMBER17",f:Et},24:{n:"NUMBER18",f:function Tt(Ft,jt){var Xt=dt(Ft);Xt[1].v=Ft.read_shift(2);var Ht=Xt[1].v>>1;if(1&Xt[1].v)switch(7&Ht){case 0:Ht=5e3*(Ht>>3);break;case 1:Ht=500*(Ht>>3);break;case 2:Ht=(Ht>>3)/20;break;case 3:Ht=(Ht>>3)/200;break;case 4:Ht=(Ht>>3)/2e3;break;case 5:Ht=(Ht>>3)/2e4;break;case 6:Ht=(Ht>>3)/16;break;case 7:Ht=(Ht>>3)/64}return Xt[1].v=Ht,Xt}},25:{n:"FORMULA19",f:function Le(Ft,jt){var Xt=Et(Ft);return Ft.l+=jt-14,Xt}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function Ei(Ft,jt){for(var Xt={},Ht=Ft.l+jt;Ft.l<Ht;){var Te=Ft.read_shift(2);if(14e3==Te){for(Xt[Te]=[0,""],Xt[Te][0]=Ft.read_shift(2);Ft[Ft.l];)Xt[Te][1]+=String.fromCharCode(Ft[Ft.l]),Ft.l++;Ft.l++}}return Xt}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function ve(Ft,jt){var Xt=dt(Ft),Ht=Ft.read_shift(4);return Xt[1].v=Ht>>6,Xt}},38:{n:"??"},39:{n:"NUMBER27",f:fe},40:{n:"FORMULA28",f:function Qt(Ft,jt){var Xt=fe(Ft);return Ft.l+=jt-12,Xt}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:_e},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function Se(Ft,jt,Xt){if(Xt.qpro&&!(jt<21)){var Ht=Ft.read_shift(1);return Ft.l+=17,Ft.l+=1,Ft.l+=2,[Ht,Ft.read_shift(jt-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}},oi={5:"dd-mmm-yy",6:"dd-mmm",7:"mmm-yy",8:"mm/dd/yy",10:"hh:mm:ss AM/PM",11:"hh:mm AM/PM",14:"dd-mmm-yyyy",15:"mmm-yyyy",34:"0.00",50:"0.00;[Red]0.00",66:"0.00;(0.00)",82:"0.00;[Red](0.00)",162:'"$"#,##0.00;\\("$"#,##0.00\\)',288:"0%",304:"0E+00",320:"# ?/?"};function ui(Ft){var jt=Ft.read_shift(2),Xt=Ft.read_shift(1);if(0!=Xt)throw"unsupported QPW string type "+Xt.toString(16);return Ft.read_shift(jt,"sbcs-cont")}return{sheet_to_wk1:function r(Ft,jt){var Xt=jt||{};if(+Xt.codepage>=0&&ql(+Xt.codepage),"string"==Xt.type)throw new Error("Cannot write WK1 to JS string");var Ht=po();if(!Ft["!ref"])throw new Error("Cannot export empty sheet to WK1");var Te=Gn(Ft["!ref"]),Pt=null!=Ft["!data"],Ci=[];ke(Ht,0,function o(Ft){var jt=re(2);return jt.write_shift(2,Ft),jt}(1030)),ke(Ht,6,function C(Ft){var jt=re(8);return jt.write_shift(2,Ft.s.c),jt.write_shift(2,Ft.s.r),jt.write_shift(2,Ft.e.c),jt.write_shift(2,Ft.e.r),jt}(Te));for(var Ye=Math.min(Te.e.r,8191),Ue=Te.s.c;Ue<=Te.e.c;++Ue)Ci[Ue]=dn(Ue);for(var Bi=Te.s.r;Bi<=Ye;++Bi){var en=Pn(Bi);for(Ue=Te.s.c;Ue<=Te.e.c;++Ue){var mi=Pt?(Ft["!data"][Bi]||[])[Ue]:Ft[Ci[Ue]+en];if(mi&&"z"!=mi.t)switch(mi.t){case"n":(0|mi.v)==mi.v&&mi.v>=-32768&&mi.v<=32767?ke(Ht,13,W(Bi,Ue,mi)):ke(Ht,14,rt(Bi,Ue,mi));break;case"d":var nr=ps(mi.v);(0|nr)==nr&&nr>=-32768&&nr<=32767?ke(Ht,13,W(Bi,Ue,{t:"n",v:nr,z:mi.z||Ri[14]})):ke(Ht,14,rt(Bi,Ue,{t:"n",v:nr,z:mi.z||Ri[14]}));break;default:ke(Ht,15,L(Bi,Ue,Ad(mi).slice(0,239)))}}}return ke(Ht,1),Ht.end()},book_to_wk3:function s(Ft,jt){var Xt=jt||{};if(+Xt.codepage>=0&&ql(+Xt.codepage),"string"==Xt.type)throw new Error("Cannot write WK3 to JS string");var Ht=po();ke(Ht,0,function l(Ft){var jt=re(26);jt.write_shift(2,4096),jt.write_shift(2,4),jt.write_shift(4,0);for(var Xt=0,Ht=0,Te=0,Pt=0;Pt<Ft.SheetNames.length;++Pt){var Ye=Ft.Sheets[Ft.SheetNames[Pt]];if(Ye&&Ye["!ref"]){++Te;var Ue=ya(Ye["!ref"]);Xt<Ue.e.r&&(Xt=Ue.e.r),Ht<Ue.e.c&&(Ht=Ue.e.c)}}return Xt>8191&&(Xt=8191),jt.write_shift(2,Xt),jt.write_shift(1,Te),jt.write_shift(1,Ht),jt.write_shift(2,0),jt.write_shift(2,0),jt.write_shift(1,1),jt.write_shift(1,2),jt.write_shift(4,0),jt.write_shift(4,0),jt}(Ft));for(var Te=0,Pt=0;Te<Ft.SheetNames.length;++Te)(Ft.Sheets[Ft.SheetNames[Te]]||{})["!ref"]&&ke(Ht,27,Kt(Ft.SheetNames[Te],Pt++));var Ci=0;for(Te=0;Te<Ft.SheetNames.length;++Te){var Ye=Ft.Sheets[Ft.SheetNames[Te]];if(Ye&&Ye["!ref"]){for(var Ue=Gn(Ye["!ref"]),Bi=null!=Ye["!data"],en=[],mi=Math.min(Ue.e.r,8191),nr=Ue.s.r;nr<=mi;++nr)for(var Jn=Pn(nr),ls=Ue.s.c;ls<=Ue.e.c;++ls){nr===Ue.s.r&&(en[ls]=dn(ls));var Ke=Bi?(Ye["!data"][nr]||[])[ls]:Ye[en[ls]+Jn];Ke&&"z"!=Ke.t&&("n"==Ke.t?ke(Ht,23,Dt(nr,ls,Ci,Ke.v)):ke(Ht,22,bt(nr,ls,Ci,Ad(Ke).slice(0,239))))}++Ci}}return ke(Ht,1),Ht.end()},to_workbook:function i(Ft,jt){switch(jt.type){case"base64":return n(Vo(kl(Ft)),jt);case"binary":return n(Vo(Ft),jt);case"buffer":case"array":return n(Ft,jt)}throw"Unsupported type "+jt.type}}}(),TGt=/^\s|\s$|[\t\n\r]/,DGt=function F9t(e,i){var t=!1;return null==i&&(t=!0,i=re(15+4*e.t.length)),i.write_shift(1,0),ba(e.t,i),t?i.slice(0,i.l):i};function CN(e){var t,s,i=0,n=function Ytt(e){if(typeof pn<"u")return pn.utils.encode(Xm,e);for(var i=[],t=e.split(""),n=0;n<t.length;++n)i[n]=t[n].charCodeAt(0);return i}(e),r=n.length+1;for((t=hf(r))[0]=n.length,s=1;s!=r;++s)t[s]=n[s-1];for(s=r-1;s>=0;--s)i=((16384&i?1:0)|i<<1&32767)^t[s];return 52811^i}function I1(e){for(var i=0,t=1;3!=i;++i)t=256*t+(e[i]>255?255:e[i]<0?0:e[i]);return t.toString(16).toUpperCase().slice(1)}var bo=6;function k1(e){return Math.floor((e+Math.round(128/bo)/256)*bo)}function R1(e){return Math.floor((e-5)/bo*100+.5)/100}function cA(e){return Math.round((e*bo+5)/bo*256)/256}function gf(e){e.width?(e.wpx=k1(e.width),e.wch=R1(e.wpx),e.MDW=bo):e.wpx?(e.wch=R1(e.wpx),e.width=cA(e.wch),e.MDW=bo):"number"==typeof e.wch&&(e.width=cA(e.wch),e.wpx=k1(e.width),e.MDW=bo),e.customWidth&&delete e.customWidth}var Jtt=96;function P1(e){return 96*e/Jtt}function b0(e){return e*Jtt/96}function fHt(e,i,t){t||(t=re(6+4*i.length)),t.write_shift(2,e),ba(i,t);var n=t.length>t.l?t.slice(0,t.l):t;return null==t.l&&(t.l=t.length),n}var AN,gHt=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],vHt=mo;function qtt(e,i){i||(i=re(84)),AN||(AN=HE(gHt));var t=AN[e.patternType];null==t&&(t=40),i.write_shift(4,t);var n=0;if(40!=t)for(JE({auto:1},i),JE({auto:1},i);n<12;++n)i.write_shift(4,0);else{for(;n<4;++n)i.write_shift(4,0);for(;n<12;++n)i.write_shift(4,0)}return i.length>i.l?i.slice(0,i.l):i}function tet(e,i,t){return t||(t=re(16)),t.write_shift(2,i||0),t.write_shift(2,e.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function F1(e,i){return i||(i=re(10)),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(4,0),i.write_shift(4,0),i}var yHt=mo;function PHt(e,i){var t=po();return Ee(t,278),function CHt(e,i){if(i){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=i[r]&&++t}),0!=t&&(Ee(e,615,kc(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=i[r]&&Ee(e,44,fHt(r,i[r]))}),Ee(e,616))}}(t,e.SSF),function SHt(e){Ee(e,611,kc(1)),Ee(e,43,function pHt(e,i){i||(i=re(153)),i.write_shift(2,20*e.sz),function G9t(e,i){i||(i=re(2)),i.write_shift(1,(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0)),i.write_shift(1,0)}(e,i),i.write_shift(2,e.bold?700:400);var t=0;"superscript"==e.vertAlign?t=1:"subscript"==e.vertAlign&&(t=2),i.write_shift(2,t),i.write_shift(1,e.underline||0),i.write_shift(1,e.family||0),i.write_shift(1,e.charset||0),i.write_shift(1,0),JE(e.color,i);var n=0;return"major"==e.scheme&&(n=1),"minor"==e.scheme&&(n=2),i.write_shift(1,n),ba(e.name,i),i.length>i.l?i.slice(0,i.l):i}({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Ee(e,612)}(t),function EHt(e){Ee(e,603,kc(2)),Ee(e,45,qtt({patternType:"none"})),Ee(e,45,qtt({patternType:"gray125"})),Ee(e,604)}(t),function AHt(e){Ee(e,613,kc(1)),Ee(e,46,function bHt(e,i){return i||(i=re(51)),i.write_shift(1,0),F1(0,i),F1(0,i),F1(0,i),F1(0,i),F1(0,i),i.length>i.l?i.slice(0,i.l):i}()),Ee(e,614)}(t),function DHt(e){Ee(e,626,kc(1)),Ee(e,47,tet({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Ee(e,627)}(t),function MHt(e,i){Ee(e,617,kc(i.length)),i.forEach(function(t){Ee(e,47,tet(t,0))}),Ee(e,618)}(t,i.cellXfs),function IHt(e){Ee(e,619,kc(1)),Ee(e,48,function wHt(e,i){return i||(i=re(52)),i.write_shift(4,e.xfId),i.write_shift(2,1),i.write_shift(1,+e.builtinId),i.write_shift(1,0),C1(e.name||"",i),i.length>i.l?i.slice(0,i.l):i}({xfId:0,builtinId:0,name:"Normal"})),Ee(e,620)}(t),function kHt(e){Ee(e,505,kc(0)),Ee(e,506)}(t),function RHt(e){Ee(e,508,function _Ht(e,i,t){var n=re(2052);return n.write_shift(4,e),C1(i,n),C1(t,n),n.length>n.l?n.slice(0,n.l):n}(0,"TableStyleMedium9","PivotStyleMedium4")),Ee(e,509)}(t),Ee(t,279),t.end()}function DN(e,i){if(i&&i.themeXLSX)return i.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var t=[Us];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',t[t.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',t[t.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',t[t.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',t[t.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',t[t.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',t[t.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function iet(e,i,t){var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),s=[je("xml",null,{"xmlns:v":Fl.v,"xmlns:o":Fl.o,"xmlns:x":Fl.x,"xmlns:mv":Fl.mv}).replace(/\/>/,">"),je("o:shapelayout",je("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"})],o=65536*e,l=i||[];return l.length>0&&s.push(je("v:shapetype",[je("v:stroke",null,{joinstyle:"miter"}),je("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202",coordsize:n.join(","),"o:spt":202,path:r})),l.forEach(function(b){++o,s.push(function l7t(e,i,t){var n=vr(e[0]),r={color2:"#BEFF82",type:"gradient"};"gradient"==r.type&&(r.angle="-180");var s="gradient"==r.type?je("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,o=je("v:fill",s,r);return["<v:shape"+x1({id:"_x0000_s"+i,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",o,je("v:shadow",null,{on:"t",obscured:"t"}),je("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Wa("x:Anchor",[n.c+1,0,n.r+1,0,n.c+3,20,n.r+5,20].join(",")),Wa("x:AutoFill","False"),Wa("x:Row",String(n.r)),Wa("x:Column",String(n.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"].join("")}(b,o))}),s.push("</xml>"),s.join("")}function d7t(e){var i=[Us,je("comments",null,{xmlns:Km[0]})],t=[];return i.push("<authors>"),e.forEach(function(n){n[1].forEach(function(r){var s=gn(r.a);-1==t.indexOf(s)&&(t.push(s),i.push("<author>"+s+"</author>")),r.T&&r.ID&&-1==t.indexOf("tc="+r.ID)&&(t.push("tc="+r.ID),i.push("<author>tc="+r.ID+"</author>"))})}),0==t.length&&(t.push("SheetJ5"),i.push("<author>SheetJ5</author>")),i.push("</authors>"),i.push("<commentList>"),e.forEach(function(n){var r=0,s=[],o=0;if(n[1][0]&&n[1][0].T&&n[1][0].ID&&(r=t.indexOf("tc="+n[1][0].ID)),n[1].forEach(function(C){C.a&&(r=t.indexOf(gn(C.a))),C.T&&++o,s.push(null==C.t?"":gn(C.t))}),0===o)n[1].forEach(function(C){i.push('<comment ref="'+n[0]+'" authorId="'+t.indexOf(gn(C.a))+'"><text>'),i.push(Wa("t",null==C.t?"":gn(C.t))),i.push("</text></comment>")});else{n[1][0]&&n[1][0].T&&n[1][0].ID&&(r=t.indexOf("tc="+n[1][0].ID)),i.push('<comment ref="'+n[0]+'" authorId="'+r+'"><text>');for(var l="Comment:\n    "+s[0]+"\n",b=1;b<s.length;++b)l+="Reply:\n    "+s[b]+"\n";i.push(Wa("t",gn(l))),i.push("</text></comment>")}}),i.push("</commentList>"),i.length>2&&(i[i.length]="</comments>",i[1]=i[1].replace("/>",">")),i.join("")}function ret(e,i,t){var n=[Us,je("ThreadedComments",null,{xmlns:va.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(r){var s="";(r[1]||[]).forEach(function(o,l){if(o.T){o.a&&-1==i.indexOf(o.a)&&i.push(o.a);var b={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};0==l?s=b.id:b.parentId=s,o.ID=b.id,o.a&&(b.personId="{54EE7950-7262-4200-6969-"+("000000000000"+i.indexOf(o.a)).slice(-12)+"}"),n.push(je("threadedComment",Wa("text",o.t||""),b))}else delete o.ID})}),n.push("</ThreadedComments>"),n.join("")}function set(e){var i=[Us,je("personList",null,{xmlns:va.TCMNT,"xmlns:x":Km[0]}).replace(/[\/]>/,">")];return e.forEach(function(t,n){i.push(je("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),i.push("</personList>"),i.join("")}var p7t=go;function aet(e){return ba(e.slice(0,54))}function v7t(e){var i=po(),t=[];return Ee(i,628),Ee(i,630),e.forEach(function(n){n[1].forEach(function(r){t.indexOf(r.a)>-1||(t.push(r.a.slice(0,54)),Ee(i,632,aet(r.a)),r.T&&r.ID&&-1==t.indexOf("tc="+r.ID)&&(t.push("tc="+r.ID),Ee(i,632,aet("tc="+r.ID))))})}),Ee(i,631),Ee(i,633),e.forEach(function(n){n[1].forEach(function(r){var s=-1;r.ID&&(s=t.indexOf("tc="+r.ID)),-1==s&&n[1][0].T&&n[1][0].ID&&(s=t.indexOf("tc="+n[1][0].ID)),-1==s&&(s=t.indexOf(r.a)),r.iauthor=s;var o={s:vr(n[0]),e:vr(n[0])};Ee(i,635,function m7t(e,i){return null==i&&(i=re(36)),i.write_shift(4,e[1].iauthor),g0(e[0],i),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i}([o,r])),r.t&&r.t.length>0&&Ee(i,637,function L9t(e,i){var t=!1;return null==i&&(t=!0,i=re(23+4*e.t.length)),i.write_shift(1,1),ba(e.t,i),i.write_shift(4,1),function P9t(e,i){i||(i=re(4)),i.write_shift(2,e.ich||0),i.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},i),t?i.slice(0,i.l):i}(r)),Ee(i,636),delete r.iauthor})}),Ee(i,634),Ee(i,629),i.end()}var w7t=["xlsb","xlsm","xlam","biff8","xla"],cp=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,i={r:0,c:0};function t(n,r,s,o){var l=!1,b=!1;0==s.length?b=!0:"["==s.charAt(0)&&(b=!0,s=s.slice(1,-1)),0==o.length?l=!0:"["==o.charAt(0)&&(l=!0,o=o.slice(1,-1));var C=s.length>0?0|parseInt(s,10):0,D=o.length>0?0|parseInt(o,10):0;return l?D+=i.c:--D,b?C+=i.r:--C,r+(l?"":"$")+dn(D)+(b?"":"$")+Pn(C)}return function(r,s){return i=s,r.replace(e,t)}}(),hA=/(^|[^._A-Z0-9])(\$?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])(\$?)(\d{1,7})(?![_.\(A-Za-z0-9])/g;try{hA=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g}catch{}var fA=function(){return function(i,t){return i.replace(hA,function(n,r,s,o,l,b){var C=rN(o)-(s?0:t.c),D=nN(b)-(l?0:t.r);return r+"R"+("$"==l?D+1:0==D?"":"["+D+"]")+"C"+("$"==s?C+1:0==C?"":"["+C+"]")})}}();function oet(e,i){return e.replace(hA,function(t,n,r,s,o,l){return n+("$"==r?r+s:dn(rN(s)+i.c))+("$"==o?o+l:Pn(nN(l)+i.r))})}function qs(e){e.l+=1}function vf(e,i){var t=e.read_shift(1==i?1:2);return[16383&t,t>>14&1,t>>15&1]}function uet(e,i,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return het(e);12==t.biff&&(n=4)}var r=e.read_shift(n),s=e.read_shift(n),o=vf(e,2),l=vf(e,2);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function het(e){var i=vf(e,2),t=vf(e,2),n=e.read_shift(1),r=e.read_shift(1);return{s:{r:i[0],c:n,cRel:i[1],rRel:i[2]},e:{r:t[0],c:r,cRel:t[1],rRel:t[2]}}}function fet(e,i,t){if(t&&t.biff>=2&&t.biff<=5)return function D7t(e){var i=vf(e,2),t=e.read_shift(1);return{r:i[0],c:t,cRel:i[1],rRel:i[2]}}(e);var n=e.read_shift(t&&12==t.biff?4:2),r=vf(e,2);return{r:n,c:r[0],cRel:r[1],rRel:r[2]}}function M7t(e){var i=e.read_shift(2),t=e.read_shift(2);return{r:i,c:255&t,fQuoted:!!(16384&t),cRel:t>>15,rRel:t>>15}}function met(e){var i=1&e[e.l+1];return e.l+=4,[i,1]}function pet(e){return[e.read_shift(1),e.read_shift(1)]}function rWt(e,i){var t=[e.read_shift(1)];if(12==i)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2}switch(t[0]){case 4:t[1]=function zs(e,i){return 1===e.read_shift(i)}(e,1)?"TRUE":"FALSE",12!=i&&(e.l+=7);break;case 37:case 16:t[1]=rc[e[e.l]],e.l+=12==i?4:8;break;case 0:e.l+=8;break;case 1:t[1]=vo(e);break;case 2:t[1]=function ap(e,i,t){if(t.biff>5)return function D1(e,i,t){var n=e.read_shift(t&&2==t.biff?1:2);return 0===n?(e.l++,""):function sp(e,i,t){if(t){if(t.biff>=2&&t.biff<=5)return e.read_shift(i,"cpstr");if(t.biff>=12)return e.read_shift(i,"dbcs-cont")}var r=e.read_shift(1);return e.read_shift(i,0===r?"sbcs-cont":"dbcs-cont")}(e,n,t)}(e,0,t);var n=e.read_shift(1);return 0===n?(e.l++,""):e.read_shift(n,t.biff<=4||!e.lens?"cpstr":"sbcs-cont")}(e,0,{biff:i>0&&i<8?2:i});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function sWt(e,i,t){for(var n=e.read_shift(12==t.biff?4:2),r=[],s=0;s!=n;++s)r.push((12==t.biff?ep:sA)(e,8));return r}function aWt(e,i,t){var n=0,r=0;12==t.biff?(n=e.read_shift(4),r=e.read_shift(4)):(r=1+e.read_shift(1),n=1+e.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,0==--r&&(r=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var l=0;l!=r;++l)o[s][l]=rWt(e,t.biff);return o}function O1(e,i,t){return e.l+=2,[M7t(e)]}function MN(e){return e.l+=6,[]}function get(e){return e.l+=2,[_s(e),1&e.read_shift(2)]}var EWt=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],vet={1:{n:"PtgExp",f:function J7t(e,i,t){return e.l++,t&&12==t.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(t&&2==t.biff?1:2)]}},2:{n:"PtgTbl",f:mo},3:{n:"PtgAdd",f:qs},4:{n:"PtgSub",f:qs},5:{n:"PtgMul",f:qs},6:{n:"PtgDiv",f:qs},7:{n:"PtgPower",f:qs},8:{n:"PtgConcat",f:qs},9:{n:"PtgLt",f:qs},10:{n:"PtgLe",f:qs},11:{n:"PtgEq",f:qs},12:{n:"PtgGe",f:qs},13:{n:"PtgGt",f:qs},14:{n:"PtgNe",f:qs},15:{n:"PtgIsect",f:qs},16:{n:"PtgUnion",f:qs},17:{n:"PtgRange",f:qs},18:{n:"PtgUplus",f:qs},19:{n:"PtgUminus",f:qs},20:{n:"PtgPercent",f:qs},21:{n:"PtgParen",f:qs},22:{n:"PtgMissArg",f:qs},23:{n:"PtgStr",f:function nWt(e,i,t){return e.l++,x0(e,0,t)}},26:{n:"PtgSheet",f:function MWt(e,i,t){return e.l+=5,e.l+=2,e.l+=2==t.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function IWt(e,i,t){return e.l+=2==t.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function q7t(e){return e.l++,rc[e.read_shift(1)]}},29:{n:"PtgBool",f:function eWt(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function tWt(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function iWt(e){return e.l++,vo(e)}},32:{n:"PtgArray",f:function N7t(e,i,t){var n=(96&e[e.l++])>>5;return e.l+=2==t.biff?6:12==t.biff?14:7,[n]}},33:{n:"PtgFunc",f:function $7t(e,i,t){var n=(96&e[e.l])>>5;e.l+=1;var r=e.read_shift(t&&t.biff<=3?1:2);return[lXt[r],wet[r],n]}},34:{n:"PtgFuncVar",f:function Q7t(e,i,t){var n=e[e.l++],r=e.read_shift(1),s=t&&t.biff<=3?[88==n?-1:0,e.read_shift(1)]:function K7t(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[r,(0===s[0]?wet:oXt)[s[1]]]}},35:{n:"PtgName",f:function oWt(e,i,t){var n=e.read_shift(1)>>>5&3,s=e.read_shift(!t||t.biff>=8?4:2);switch(t.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[n,0,s]}},36:{n:"PtgRef",f:function X7t(e,i,t){var n=(96&e[e.l])>>5;return e.l+=1,[n,fet(e,0,t)]}},37:{n:"PtgArea",f:function R7t(e,i,t){return[(96&e[e.l++])>>5,uet(e,0,t)]}},38:{n:"PtgMemArea",f:function dWt(e,i,t){var n=e.read_shift(1)>>>5&3;return e.l+=t&&2==t.biff?3:4,[n,e.read_shift(t&&2==t.biff?1:2)]}},39:{n:"PtgMemErr",f:mo},40:{n:"PtgMemNoMem",f:mo},41:{n:"PtgMemFunc",f:function uWt(e,i,t){return[e.read_shift(1)>>>5&3,e.read_shift(t&&2==t.biff?1:2)]}},42:{n:"PtgRefErr",f:function hWt(e,i,t){var n=e.read_shift(1)>>>5&3;return e.l+=4,t.biff<8&&e.l--,12==t.biff&&(e.l+=2),[n]}},43:{n:"PtgAreaErr",f:function F7t(e,i,t){var n=(96&e[e.l++])>>5;return e.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}},44:{n:"PtgRefN",f:function j7t(e,i,t){var n=(96&e[e.l])>>5;e.l+=1;var r=function I7t(e,i,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return function k7t(e){var i=e.read_shift(2),t=e.read_shift(1),n=(32768&i)>>15,r=(16384&i)>>14;return i&=16383,1==n&&i>=8192&&(i-=16384),1==r&&t>=128&&(t-=256),{r:i,c:t,cRel:r,rRel:n}}(e);var r=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(16384&s)>>14,l=(32768&s)>>15;if(s&=16383,1==l)for(;r>524287;)r-=1048576;if(1==o)for(;s>8191;)s-=16384;return{r,c:s,cRel:o,rRel:l}}(e,0,t);return[n,r]}},45:{n:"PtgAreaN",f:function L7t(e,i,t){var n=(96&e[e.l++])>>5,r=function A7t(e,i,t){if(t.biff<8)return het(e);var n=e.read_shift(12==t.biff?4:2),r=e.read_shift(12==t.biff?4:2),s=vf(e,2),o=vf(e,2);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r,c:o[0],cRel:o[1],rRel:o[2]}}}(e,0,t);return[n,r]}},46:{n:"PtgMemAreaN",f:function kWt(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function RWt(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function lWt(e,i,t){return 5==t.biff?function cWt(e){var i=e.read_shift(1)>>>5&3,t=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[i,t,n]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function Y7t(e,i,t){var n=(96&e[e.l])>>5;e.l+=1;var r=e.read_shift(2);return t&&5==t.biff&&(e.l+=12),[n,r,fet(e,0,t)]}},59:{n:"PtgArea3d",f:function P7t(e,i,t){var n=(96&e[e.l++])>>5,r=e.read_shift(2,"i");if(t&&5===t.biff)e.l+=12;return[n,r,uet(e,0,t)]}},60:{n:"PtgRefErr3d",f:function fWt(e,i,t){var n=(96&e[e.l++])>>5,r=e.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6}return e.l+=s,[n,r]}},61:{n:"PtgAreaErr3d",f:function O7t(e,i,t){var n=(96&e[e.l++])>>5,r=e.read_shift(2),s=8;if(t)switch(t.biff){case 5:e.l+=12,s=6;break;case 12:s=12}return e.l+=s,[n,r]}},255:{}},FWt={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},OWt={1:{n:"PtgElfLel",f:get},2:{n:"PtgElfRw",f:O1},3:{n:"PtgElfCol",f:O1},6:{n:"PtgElfRwV",f:O1},7:{n:"PtgElfColV",f:O1},10:{n:"PtgElfRadical",f:O1},11:{n:"PtgElfRadicalS",f:MN},13:{n:"PtgElfColS",f:MN},15:{n:"PtgElfColSV",f:MN},16:{n:"PtgElfRadicalLel",f:get},25:{n:"PtgList",f:function AWt(e){e.l+=2;var i=e.read_shift(2),t=e.read_shift(2),n=e.read_shift(4),r=e.read_shift(2),s=e.read_shift(2);return{ixti:i,coltype:3&t,rt:EWt[t>>2&31],idx:n,c:r,C:s}}},29:{n:"PtgSxName",f:function DWt(e){return e.l+=2,[e.read_shift(4)]}},255:{}},LWt={0:{n:"PtgAttrNoop",f:function PWt(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function G7t(e,i,t){var n=255&e[e.l+1]?1:0;return e.l+=t&&2==t.biff?3:4,[n]}},2:{n:"PtgAttrIf",f:function U7t(e,i,t){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(t&&2==t.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function B7t(e,i,t){e.l+=2;for(var n=e.read_shift(t&&2==t.biff?1:2),r=[],s=0;s<=n;++s)r.push(e.read_shift(t&&2==t.biff?1:2));return r}},8:{n:"PtgAttrGoto",f:function V7t(e,i,t){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(t&&2==t.biff?1:2)]}},16:{n:"PtgAttrSum",f:function Z7t(e,i,t){e.l+=t&&2==t.biff?3:4}},32:{n:"PtgAttrBaxcel",f:met},33:{n:"PtgAttrBaxcel",f:met},64:{n:"PtgAttrSpace",f:function H7t(e){return e.read_shift(2),pet(e)}},65:{n:"PtgAttrSpaceSemi",f:function W7t(e){return e.read_shift(2),pet(e)}},128:{n:"PtgAttrIfError",f:function z7t(e){var i=255&e[e.l+1]?1:0;return e.l+=2,[i,e.read_shift(2)]}},255:{}};function L1(e,i,t,n){if(n.biff<8)return mo(e,i);for(var r=e.l+i,s=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=aWt(e,0,n),s.push(t[o][1]);break;case"PtgMemArea":t[o][2]=sWt(e,0,n),s.push(t[o][2]);break;case"PtgExp":n&&12==n.biff&&(t[o][1][1]=e.read_shift(4),s.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0]}return 0!=(i=r-e.l)&&s.push(mo(e,i)),s}function NWt(e){for(var i=[],t=0;t<e.length;++t){for(var n=e[t],r=[],s=0;s<n.length;++s){var o=n[s];r.push(o?2===o[0]?'"'+o[1].replace(/"/g,'""')+'"':o[1]:"")}i.push(r.join(","))}return i.join(";")}var BWt={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function VWt(e,i){var t=e.lastIndexOf("!"),n=i.lastIndexOf("!");return-1==t&&-1==n?e+":"+i:t>0&&n>0&&e.slice(0,t).toLowerCase()==i.slice(0,n).toLowerCase()?e+":"+i.slice(n+1):(console.error("Cannot hydrate range",e,i),e+":"+i)}function xet(e,i,t){if(!e)return"SH33TJSERR0";if(t.biff>8&&(!e.XTI||!e.XTI[i]))return e.SheetNames[i];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[i];if(t.biff<8)return i>1e4&&(i-=65536),i<0&&(i=-i),0==i?"":e.XTI[i-1];if(!n)return"SH33TJSERR1";var r="";if(t.biff>8)switch(e[n[0]][0]){case 357:return r=-1==n[1]?"#REF":e.SheetNames[n[1]],n[1]==n[2]?r:r+":"+e.SheetNames[n[2]];case 358:return null!=t.SID?e.SheetNames[t.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return r=-1==n[1]?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?r:r+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(r=-1==n[1]?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?r:r+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function yet(e,i,t){var n=xet(e,i,t);return"#REF"==n?n:T1(n,t)}function wo(e,i,t,n,r){var b,C,D,L,s=r&&r.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],R=0,O=0,U="";if(!e[0]||!e[0][0])return"";for(var X=-1,W="",Z=0,rt=e[0].length;Z<rt;++Z){var st=e[0][Z];switch(st[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(b=l.pop(),C=l.pop(),X>=0){switch(e[0][X][1][0]){case 0:W=Xn(" ",e[0][X][1][1]);break;case 1:W=Xn("\r",e[0][X][1][1]);break;default:if(W="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][X][1][0])}C+=W,X=-1}l.push(C+BWt[st[0]]+b);break;case"PtgIsect":b=l.pop(),C=l.pop(),l.push(C+" "+b);break;case"PtgUnion":b=l.pop(),C=l.pop(),l.push(C+","+b);break;case"PtgRange":b=l.pop(),C=l.pop(),l.push(VWt(C,b));break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":D=b1(st[1][1],o,r),l.push(w1(D,s));break;case"PtgRefN":D=t?b1(st[1][1],t,r):st[1][1],l.push(w1(D,s));break;case"PtgRef3d":R=st[1][1],D=b1(st[1][2],o,r),U=yet(n,R,r),l.push(U+"!"+w1(D,s));break;case"PtgFunc":case"PtgFuncVar":var _t=st[1][0],Mt=st[1][1];_t||(_t=0);var ft=0==(_t&=127)?[]:l.slice(-_t);l.length-=_t,"User"===Mt&&(Mt=ft.shift()),l.push(Mt+"("+ft.join(",")+")");break;case"PtgBool":l.push(st[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":l.push(st[1]);break;case"PtgNum":l.push(String(st[1]));break;case"PtgStr":l.push('"'+st[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":L=jq(st[1][1],t?{s:t}:o,r),l.push(iN(L,r));break;case"PtgArea":L=jq(st[1][1],o,r),l.push(iN(L,r));break;case"PtgArea3d":L=st[1][2],U=yet(n,R=st[1][1],r),l.push(U+"!"+iN(L,r));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgName":var dt=(n.names||[])[(O=st[1][2])-1]||(n[0]||[])[O],pt=dt?dt.Name:"SH33TJSNAME"+String(O);pt&&"_xlfn."==pt.slice(0,6)&&!r.xlfn&&(pt=pt.slice(6)),l.push(pt);break;case"PtgNameX":var Tt,bt=st[1][1];if(O=st[1][2],!(r.biff<=5)){var Et="";if(14849==((n[bt]||[])[0]||[])[0]||(1025==((n[bt]||[])[0]||[])[0]?n[bt][O]&&n[bt][O].itab>0&&(Et=n.SheetNames[n[bt][O].itab-1]+"!"):Et=n.SheetNames[O-1]+"!"),n[bt]&&n[bt][O])Et+=n[bt][O].Name;else if(n[0]&&n[0][O])Et+=n[0][O].Name;else{var Dt=(xet(n,bt,r)||"").split(";;");Dt[O-1]?Et=Dt[O-1]:Et+="SH33TJSERRX"}l.push(Et);break}bt<0&&(bt=-bt),n[bt]&&(Tt=n[bt][O]),Tt||(Tt={Name:"SH33TJSERRY"}),l.push(Tt.Name);break;case"PtgParen":var Le="(",ve=")";if(X>=0){switch(W="",e[0][X][1][0]){case 2:Le=Xn(" ",e[0][X][1][1])+Le;break;case 3:Le=Xn("\r",e[0][X][1][1])+Le;break;case 4:ve=Xn(" ",e[0][X][1][1])+ve;break;case 5:ve=Xn("\r",e[0][X][1][1])+ve;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][X][1][0])}X=-1}l.push(Le+l.pop()+ve);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":l.push("#REF!");break;case"PtgExp":var fe={c:t.c,r:t.r};if(n.sharedf[Tn(D={c:st[1][1],r:st[1][0]})]){var Qt=n.sharedf[Tn(D)];l.push(wo(Qt,0,fe,n,r))}else{var _e=!1;for(b=0;b!=n.arrayf.length;++b)if(!(D.c<(C=n.arrayf[b])[0].s.c||D.c>C[0].e.c||D.r<C[0].s.r||D.r>C[0].e.r)){l.push(wo(C[1],0,fe,n,r)),_e=!0;break}_e||l.push(st[1])}break;case"PtgArray":l.push("{"+NWt(st[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":X=Z;break;case"PtgMissArg":l.push("");break;case"PtgList":l.push("Table"+st[1].idx+"[#"+st[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(st))}if(3!=r.biff&&X>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][Z][0])){var Se=!0;switch((st=e[0][X])[1][0]){case 4:Se=!1;case 0:W=Xn(" ",st[1][1]);break;case 5:Se=!1;case 1:W=Xn("\r",st[1][1]);break;default:if(W="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+st[1][0])}l.push((Se?W:"")+l.pop()+(Se?"":W)),X=-1}}if(l.length>1&&r.WTF)throw new Error("bad formula stack");return"TRUE"==l[0]||"FALSE"!=l[0]&&l[0]}function mA(e,i,t){var n=e.read_shift(4),r=function N1(e,i,t){for(var r,s,n=e.l+i,o=[];n!=e.l;)i=n-e.l,r=vet[s=e[e.l]]||vet[FWt[s]],(24===s||25===s)&&(r=(24===s?OWt:LWt)[e[e.l+1]]),r&&r.f?o.push([r.n,r.f(e,i,t)]):mo(e,i);return o}(e,n,t),s=e.read_shift(4);return[r,s>0?L1(e,s,r,t):null]}var YWt=mA,pA=mA,$Wt=mA,QWt=mA;function bet(e){if((0|e)==e&&e<Math.pow(2,16)&&e>=0){var i=re(11);return i.write_shift(4,3),i.write_shift(1,30),i.write_shift(2,e),i.write_shift(4,0),i}var t=re(17);return t.write_shift(4,11),t.write_shift(1,31),t.write_shift(8,e),t.write_shift(4,0),t}var aXt=function sXt(e,i){if("number"==typeof e)return bet(e);if("boolean"==typeof e)return function ZWt(e){var i=re(10);return i.write_shift(4,2),i.write_shift(1,29),i.write_shift(1,e?1:0),i.write_shift(4,0),i}(e);if(/^#(DIV\/0!|GETTING_DATA|N\/A|NAME\?|NULL!|NUM!|REF!|VALUE!)$/.test(e))return function KWt(e){var i=re(10);return i.write_shift(4,2),i.write_shift(1,28),i.write_shift(1,e),i.write_shift(4,0),i}(+S1[e]);if(e.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function qWt(e){var i=vr(e),t=re(15);return t.write_shift(4,7),t.write_shift(1,36),t.write_shift(4,i.r),t.write_shift(2,i.c|("$"==e.charAt(0)?0:1)<<14|(e.match(/\$\d/)?0:1)<<15),t.write_shift(4,0),t}(e);if(e.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function iXt(e){var i=e.split(":"),t=i[0],n=re(23);n.write_shift(4,15);var r=vr(t=i[0]);return n.write_shift(1,36),n.write_shift(4,r.r),n.write_shift(2,r.c|("$"==t.charAt(0)?0:1)<<14|(t.match(/\$\d/)?0:1)<<15),n.write_shift(4,0),r=vr(t=i[1]),n.write_shift(1,36),n.write_shift(4,r.r),n.write_shift(2,r.c|("$"==t.charAt(0)?0:1)<<14|(t.match(/\$\d/)?0:1)<<15),n.write_shift(4,0),n.write_shift(1,17),n.write_shift(4,0),n}(e);if(e.match(/^#REF!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function rXt(e,i){var t=e.lastIndexOf("!"),n=e.slice(0,t);e=e.slice(t+1),"'"==n.charAt(0)&&(n=n.slice(1,-1).replace(/''/g,"'"));var r=ya(e),s=re(23);return s.write_shift(4,15),s.write_shift(1,59),s.write_shift(2,2+i.SheetNames.map(function(o){return o.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,r.s.r),s.write_shift(4,r.e.r),s.write_shift(2,r.s.c),s.write_shift(2,r.e.c),s.write_shift(4,0),s}(e,i);if(e.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function tXt(e,i){var t=e.lastIndexOf("!"),n=e.slice(0,t),r=vr(e=e.slice(t+1));"'"==n.charAt(0)&&(n=n.slice(1,-1).replace(/''/g,"'"));var s=re(17);return s.write_shift(4,9),s.write_shift(1,58),s.write_shift(2,2+i.SheetNames.map(function(o){return o.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,r.r),s.write_shift(2,r.c|("$"==e.charAt(0)?0:1)<<14|(e.match(/\$\d/)?0:1)<<15),s.write_shift(4,0),s}(e,i);if(e.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function nXt(e,i){var t=e.lastIndexOf("!"),n=e.slice(0,t);e=e.slice(t+1),"'"==n.charAt(0)&&(n=n.slice(1,-1).replace(/''/g,"'"));var r=e.split(":"),s=re(27);s.write_shift(4,19);var o=r[0],l=vr(o);return s.write_shift(1,58),s.write_shift(2,2+i.SheetNames.map(function(b){return b.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,l.r),s.write_shift(2,l.c|("$"==o.charAt(0)?0:1)<<14|(o.match(/\$\d/)?0:1)<<15),l=vr(o=r[1]),s.write_shift(1,58),s.write_shift(2,2+i.SheetNames.map(function(b){return b.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,l.r),s.write_shift(2,l.c|("$"==o.charAt(0)?0:1)<<14|(o.match(/\$\d/)?0:1)<<15),s.write_shift(1,17),s.write_shift(4,0),s}(e,i);if(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!#REF!$/.test(e))return function eXt(e,i){var t=e.lastIndexOf("!"),n=e.slice(0,t);e=e.slice(t+1),"'"==n.charAt(0)&&(n=n.slice(1,-1).replace(/''/g,"'"));var r=re(17);return r.write_shift(4,9),r.write_shift(1,60),r.write_shift(2,2+i.SheetNames.map(function(s){return s.toLowerCase()}).indexOf(n.toLowerCase())),r.write_shift(4,0),r.write_shift(2,0),r.write_shift(4,0),r}(e,i);if(/^".*"$/.test(e))return function JWt(e){var i=re(7);i.write_shift(4,3+2*e.length),i.write_shift(1,23),i.write_shift(2,e.length);var t=re(2*e.length);t.write_shift(2*e.length,e,"utf16le");var n=re(4);return n.write_shift(4,0),Vs([i,t,n])}(e);if(/^[+-]\d+$/.test(e))return bet(parseInt(e,10));throw"Formula |"+e+"| not supported for XLSB"},oXt={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},wet={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},lXt={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function cXt(e){return("of:="+e.replace(hA,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function Tet(e){return e.replace(/!/,".").replace(/:/,":.")}var V1=typeof Map<"u";function RN(e,i,t){var n=0,r=e.length;if(t){if(V1?t.has(i):Object.prototype.hasOwnProperty.call(t,i))for(var s=V1?t.get(i):t[i];n<s.length;++n)if(e[s[n]].t===i)return e.Count++,s[n]}else for(;n<r;++n)if(e[n].t===i)return e.Count++,n;return e[r]={t:i},e.Count++,e.Unique++,t&&(V1?(t.has(i)||t.set(i,[]),t.get(i).push(r)):(Object.prototype.hasOwnProperty.call(t,i)||(t[i]=[]),t[i].push(r))),r}function gA(e,i){var t={min:e+1,max:e+1},n=-1;return i.MDW&&(bo=i.MDW),null!=i.width?t.customWidth=1:null!=i.wpx?n=R1(i.wpx):null!=i.wch&&(n=i.wch),n>-1?(t.width=cA(n),t.customWidth=1):null!=i.width&&(t.width=i.width),i.hidden&&(t.hidden=!0),null!=i.level&&(t.outlineLevel=t.level=i.level),t}function dp(e,i){if(e){var t=[.7,.7,.75,.75,.3,.3];"xlml"==i&&(t=[1,1,1,1,.5,.5]),null==e.left&&(e.left=t[0]),null==e.right&&(e.right=t[1]),null==e.top&&(e.top=t[2]),null==e.bottom&&(e.bottom=t[3]),null==e.header&&(e.header=t[4]),null==e.footer&&(e.footer=t[5])}}function xf(e,i,t){var n=t.revssf[null!=i.z?i.z:"General"],r=60,s=e.length;if(null==n&&t.ssf)for(;r<392;++r)if(null==t.ssf[r]){ff(i.z,r),t.ssf[r]=i.z,t.revssf[i.z]=n=r;break}for(r=0;r!=s;++r)if(e[r].numFmtId===n)return r;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function dXt(e,i,t){if(e&&e["!ref"]){var n=Gn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+e["!ref"])}}var _Xt=["objects","scenarios","selectLockedCells","selectUnlockedCells"],TXt=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function OXt(e,i,t,n,r,s,o){if(e.c&&t["!comments"].push([i,e.c]),(void 0===e.v||"z"===e.t&&!(n||{}).sheetStubs)&&"string"!=typeof e.f&&typeof e.z>"u")return"";var l="",b=e.t,C=e.v;if("z"!==e.t)switch(e.t){case"b":l=e.v?"1":"0";break;case"n":isNaN(e.v)?(e.t="e",l=rc[e.v=36]):isFinite(e.v)?l=""+e.v:(e.t="e",l=rc[e.v=7]);break;case"e":l=rc[e.v];break;case"d":if(n&&n.cellDates){var D=os(e.v,o);l=D.toISOString(),D.getUTCFullYear()<1900&&(l=l.slice(l.indexOf("T")+1).replace("Z",""))}else(e=pr(e)).t="n",l=""+(e.v=ps(os(e.v,o),o));typeof e.z>"u"&&(e.z=Ri[14]);break;default:l=e.v}var R="z"==e.t||null==e.v?"":Wa("v",gn(l)),O={r:i},L=xf(n.cellXfs,e,n);switch(0!==L&&(O.s=L),e.t){case"n":case"z":break;case"d":O.t="d";break;case"b":O.t="b";break;case"e":O.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){R=Wa("v",""+RN(n.Strings,e.v,n.revStrings)),O.t="s";break}O.t="str"}if(e.t!=b&&(e.t=b,e.v=C),"string"==typeof e.f&&e.f){var U=e.F&&e.F.slice(0,i.length)==i?{t:"array",ref:e.F}:null;R=je("f",gn(e.f),U)+(null!=e.v?R:"")}return e.l&&(e.l.display=gn(l),t["!links"].push([i,e.l])),e.D&&(O.cm=1),je("c",R,O)}function BXt(e,i,t,n){var o,r=[Us,je("worksheet",null,{xmlns:Km[0],"xmlns:r":va.r})],l="",b=t.Sheets[t.SheetNames[e]];null==b&&(b={});var C=b["!ref"]||"A1",D=Gn(C);if(D.e.c>16383||D.e.r>1048575){if(i.WTF)throw new Error("Range "+C+" exceeds format limit A1:XFD1048576");D.e.c=Math.min(D.e.c,16383),D.e.r=Math.min(D.e.c,1048575),C=un(D)}n||(n={}),b["!comments"]=[];var R=[];(function wXt(e,i,t,n,r){var s=!1,o={},l=null;if("xlsx"!==n.bookType&&i.vbaraw){var b=i.SheetNames[t];try{i.Workbook&&(b=i.Workbook.Sheets[t].CodeName||b)}catch{}s=!0,o.codeName=Ed(gn(b))}if(e&&e["!outline"]){var C={summaryBelow:1,summaryRight:1};e["!outline"].above&&(C.summaryBelow=0),e["!outline"].left&&(C.summaryRight=0),l=(l||"")+je("outlinePr",null,C)}!s&&!l||(r[r.length]=je("sheetPr",l,o))})(b,t,e,i,r),r[r.length]=je("dimension",null,{ref:C}),r[r.length]=function FXt(e,i,t,n){var r={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),je("sheetViews",je("sheetView",null,r),{})}(0,0,0,t),i.sheetFormat&&(r[r.length]=je("sheetFormatPr",null,{defaultRowHeight:i.sheetFormat.defaultRowHeight||"16",baseColWidth:i.sheetFormat.baseColWidth||"10",outlineLevelRow:i.sheetFormat.outlineLevelRow||"7"})),null!=b["!cols"]&&b["!cols"].length>0&&(r[r.length]=function MXt(e,i){for(var n,t=["<cols>"],r=0;r!=i.length;++r)(n=i[r])&&(t[t.length]=je("col",null,gA(r,n)));return t[t.length]="</cols>",t.join("")}(0,b["!cols"])),r[o=r.length]="<sheetData/>",b["!links"]=[],null!=b["!ref"]&&(l=function NXt(e,i,t,n){var b,W,r=[],s=[],o=Gn(e["!ref"]),l="",C="",D=[],R=0,O=0,L=e["!rows"],U=null!=e["!data"],X={r:C},Z=-1,rt=(((n||{}).Workbook||{}).WBProps||{}).date1904;for(O=o.s.c;O<=o.e.c;++O)D[O]=dn(O);for(R=o.s.r;R<=o.e.r;++R){for(s=[],C=Pn(R),O=o.s.c;O<=o.e.c;++O){b=D[O]+C;var st=U?(e["!data"][R]||[])[O]:e[b];void 0!==st&&null!=(l=OXt(st,b,e,i,0,0,rt))&&s.push(l)}(s.length>0||L&&L[R])&&(X={r:C},L&&L[R]&&((W=L[R]).hidden&&(X.hidden=1),Z=-1,W.hpx?Z=P1(W.hpx):W.hpt&&(Z=W.hpt),Z>-1&&(X.ht=Z,X.customHeight=1),W.level&&(X.outlineLevel=W.level)),r[r.length]=je("row",s.join(""),X))}if(L)for(;R<L.length;++R)L&&L[R]&&(X={r:R+1},(W=L[R]).hidden&&(X.hidden=1),Z=-1,W.hpx?Z=P1(W.hpx):W.hpt&&(Z=W.hpt),Z>-1&&(X.ht=Z,X.customHeight=1),W.level&&(X.outlineLevel=W.level),r[r.length]=je("row","",X));return r.join("")}(b,i,0,t),l.length>0&&(r[r.length]=l)),r.length>o+1&&(r[r.length]="</sheetData>",r[o]=r[o].replace("/>",">")),b["!protect"]&&(r[r.length]=function CXt(e){var i={sheet:1};return _Xt.forEach(function(t){null!=e[t]&&e[t]&&(i[t]="1")}),TXt.forEach(function(t){null!=e[t]&&!e[t]&&(i[t]="0")}),e.password&&(i.password=CN(e.password).toString(16).toUpperCase()),je("sheetProtection",null,i)}(b["!protect"])),null!=b["!autofilter"]&&(r[r.length]=function kXt(e,i,t,n){var r="string"==typeof e.ref?e.ref:un(e.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,o=ya(r);o.s.r==o.e.r&&(o.e.r=ya(i["!ref"]).e.r,r=un(o));for(var l=0;l<s.length;++l){var b=s[l];if("_xlnm._FilterDatabase"==b.Name&&b.Sheet==n){b.Ref=T1(t.SheetNames[n])+"!"+_1(r);break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+r}),je("autoFilter",null,{ref:r})}(b["!autofilter"],b,t,e)),null!=b["!merges"]&&b["!merges"].length>0&&(r[r.length]=function yXt(e){if(0===e.length)return"";for(var i='<mergeCells count="'+e.length+'">',t=0;t!=e.length;++t)i+='<mergeCell ref="'+un(e[t])+'"/>';return i+"</mergeCells>"}(b["!merges"]));var L,O=-1,U=-1;return b["!links"].length>0&&(r[r.length]="<hyperlinks>",b["!links"].forEach(function(X){X[1].Target&&(L={ref:X[0]},"#"!=X[1].Target.charAt(0)&&(U=dr(n,-1,gn(X[1].Target).replace(/#[\s\S]*$/,""),hn.HLINK),L["r:id"]="rId"+U),(O=X[1].Target.indexOf("#"))>-1&&(L.location=gn(X[1].Target.slice(O+1))),X[1].Tooltip&&(L.tooltip=gn(X[1].Tooltip)),L.display=X[1].display,r[r.length]=je("hyperlink",null,L))}),r[r.length]="</hyperlinks>"),delete b["!links"],null!=b["!margins"]&&(r[r.length]=function AXt(e){return dp(e),je("pageMargins",null,e)}(b["!margins"])),(!i||i.ignoreEC||null==i.ignoreEC)&&(r[r.length]=Wa("ignoredErrors",je("ignoredError",null,{numberStoredAsText:1,sqref:C}))),R.length>0&&(U=dr(n,-1,"../drawings/drawing"+(e+1)+".xml",hn.DRAW),r[r.length]=je("drawing",null,{"r:id":"rId"+U}),b["!drawing"]=R),b["!comments"].length>0&&(U=dr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",hn.VML),r[r.length]=je("legacyDrawing",null,{"r:id":"rId"+U}),b["!legacy"]=U),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function zXt(e,i,t,n){var r=function UXt(e,i,t){var n=re(145),r=(t["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;r.hpx?s=20*P1(r.hpx):r.hpt&&(s=20*r.hpt),n.write_shift(2,s),n.write_shift(1,0);var o=0;r.level&&(o|=r.level),r.hidden&&(o|=16),(r.hpx||r.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,b=n.l;n.l+=4;for(var C={r:e,c:0},D=null!=t["!data"],R=0;R<16;++R)if(!(i.s.c>R+1<<10||i.e.c<R<<10)){for(var O=-1,L=-1,U=R<<10;U<R+1<<10;++U)C.c=U,(D?(t["!data"][C.r]||[])[C.c]:t[Tn(C)])&&(O<0&&(O=U),L=U);O<0||(++l,n.write_shift(4,O),n.write_shift(4,L))}var W=n.l;return n.l=b,n.write_shift(4,l),n.l=W,n.length>n.l?n.slice(0,n.l):n}(n,t,i);(r.length>17||(i["!rows"]||[])[n])&&Ee(e,0,r)}var GXt=ep,HXt=g0;function FN(e,i,t){return null==t&&(t=re(9)),Jm(i,t),t.write_shift(1,e.v),t}function ON(e,i,t){return null==t&&(t=re(8)),tp(i,t),t.write_shift(1,e.v),t.write_shift(2,0),t.write_shift(1,0),t}var Tjt=ep,Cjt=g0,Det=["left","right","top","bottom","header","footer"];function zjt(e,i,t,n,r,s,o,l){var b={r:t,c:n};if(i.c&&s["!comments"].push([Tn(b),i.c]),void 0===i.v)return!1;var C="";switch(i.t){case"b":C=i.v?"1":"0";break;case"d":(i=pr(i)).z=i.z||Ri[14],i.v=ps(os(i.v,l),l),i.t="n";break;case"n":case"e":C=""+i.v;break;default:C=i.v}switch(b.s=xf(r.cellXfs,i,r),i.l&&s["!links"].push([Tn(b),i.l]),i.t){case"s":case"str":return r.bookSST?(C=RN(r.Strings,null==i.v?"":String(i.v),r.revStrings),b.t="s",b.v=C,o?Ee(e,18,function ajt(e,i,t){return null==t&&(t=re(8)),tp(i,t),t.write_shift(4,i.v),t}(0,b)):Ee(e,7,function rjt(e,i,t){return null==t&&(t=re(12)),Jm(i,t),t.write_shift(4,i.v),t}(0,b))):(b.t="str",o?Ee(e,17,function xjt(e,i,t){var n=null==e.v?"":String(e.v);return null==t&&(t=re(8+4*n.length)),tp(i,t),ba(n,t),t.length>t.l?t.slice(0,t.l):t}(i,b)):Ee(e,6,function gjt(e,i,t){var n=null==e.v?"":String(e.v);return null==t&&(t=re(12+4*e.v.length)),Jm(i,t),ba(n,t),t.length>t.l?t.slice(0,t.l):t}(i,b))),!0;case"n":return i.v==(0|i.v)&&i.v>-1e3&&i.v<1e3?o?Ee(e,13,function fjt(e,i,t){return null==t&&(t=re(8)),tp(i,t),Kq(e.v,t),t}(i,b)):Ee(e,2,function ujt(e,i,t){return null==t&&(t=re(12)),Jm(i,t),Kq(e.v,t),t}(i,b)):isNaN(i.v)?o?Ee(e,14,ON({t:"e",v:36},b)):Ee(e,3,FN({t:"e",v:36},b)):isFinite(i.v)?o?Ee(e,16,function cjt(e,i,t){return null==t&&(t=re(12)),tp(i,t),ip(e.v,t),t}(i,b)):Ee(e,5,function ljt(e,i,t){return null==t&&(t=re(16)),Jm(i,t),ip(e.v,t),t}(i,b)):o?Ee(e,14,ON({t:"e",v:7},b)):Ee(e,3,FN({t:"e",v:7},b)),!0;case"b":return b.t="b",o?Ee(e,15,function tjt(e,i,t){return null==t&&(t=re(5)),tp(i,t),t.write_shift(1,e.v?1:0),t}(i,b)):Ee(e,4,function JXt(e,i,t){return null==t&&(t=re(9)),Jm(i,t),t.write_shift(1,e.v?1:0),t}(i,b)),!0;case"e":return b.t="e",o?Ee(e,14,ON(i,b)):Ee(e,3,FN(i,b)),!0}return o?Ee(e,12,function KXt(e,i,t){return null==t&&(t=re(4)),tp(i,t)}(0,b)):Ee(e,1,function $Xt(e,i,t){return null==t&&(t=re(8)),Jm(i,t)}(0,b)),!0}function Zjt(e,i,t,n){var r=po(),s=t.SheetNames[e],o=t.Sheets[s]||{},l=s;try{t&&t.Workbook&&(l=t.Workbook.Sheets[e].CodeName||l)}catch{}var b=Gn(o["!ref"]||"A1");if(b.e.c>16383||b.e.r>1048575){if(i.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");b.e.c=Math.min(b.e.c,16383),b.e.r=Math.min(b.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ee(r,129),(t.vbaraw||o["!outline"])&&Ee(r,147,function jXt(e,i,t){null==t&&(t=re(84+4*e.length));var n=192;i&&(i.above&&(n&=-65),i.left&&(n&=-129)),t.write_shift(1,n);for(var r=1;r<3;++r)t.write_shift(1,0);return JE({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),Qq(e,t),t.slice(0,t.l)}(l,o["!outline"])),Ee(r,148,HXt(b)),function Qjt(e,i,t){Ee(e,133),Ee(e,137,function Ojt(e,i,t){null==t&&(t=re(30));var n=924;return(((i||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}(0,t)),Ee(e,138),Ee(e,134)}(r,0,t.Workbook),function Wjt(e,i){!i||!i["!cols"]||(Ee(e,390),i["!cols"].forEach(function(t,n){t&&Ee(e,60,function kjt(e,i,t){null==t&&(t=re(18));var n=gA(e,i);t.write_shift(-4,e),t.write_shift(-4,e),t.write_shift(4,256*(n.width||10)),t.write_shift(4,0);var r=0;return i.hidden&&(r|=1),"number"==typeof n.width&&(r|=2),i.level&&(r|=i.level<<8),t.write_shift(2,r),t}(n,t))}),Ee(e,391))}(r,o),function Gjt(e,i,t,n,r){var s=Gn(i["!ref"]||"A1"),l="",b=[],C=(((r||{}).Workbook||{}).WBProps||{}).date1904;Ee(e,145);var D=null!=i["!data"],R=s.e.r;i["!rows"]&&(R=Math.max(s.e.r,i["!rows"].length-1));for(var O=s.s.r;O<=R;++O){l=Pn(O),zXt(e,i,s,O);var L=!1;if(O<=s.e.r)for(var U=s.s.c;U<=s.e.c;++U){O===s.s.r&&(b[U]=dn(U));var X=D?(i["!data"][O]||[])[U]:i[b[U]+l];L=!!X&&zjt(e,X,O,U,n,i,L,C)}}Ee(e,146)}(r,o,0,i,t),function Kjt(e,i){i["!protect"]&&Ee(e,535,function Njt(e,i){return null==i&&(i=re(66)),i.write_shift(2,e.password?CN(e.password):0),i.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){i.write_shift(4,t[1]?null==e[t[0]]||e[t[0]]?0:1:null!=e[t[0]]&&e[t[0]]?0:1)}),i}(i["!protect"]))}(r,o),function $jt(e,i,t,n){if(i["!autofilter"]){var r=i["!autofilter"],s="string"==typeof r.ref?r.ref:un(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,l=ya(s);l.s.r==l.e.r&&(l.e.r=ya(i["!ref"]).e.r,s=un(l));for(var b=0;b<o.length;++b){var C=o[b];if("_xlnm._FilterDatabase"==C.Name&&C.Sheet==n){C.Ref=T1(t.SheetNames[n])+"!"+_1(s);break}}b==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:T1(t.SheetNames[n])+"!"+_1(s)}),Ee(e,161,g0(Gn(s))),Ee(e,162)}}(r,o,t,e),function Hjt(e,i){!i||!i["!merges"]||(Ee(e,177,function Sjt(e,i){return null==i&&(i=re(4)),i.write_shift(4,e),i}(i["!merges"].length)),i["!merges"].forEach(function(t){Ee(e,176,Cjt(t))}),Ee(e,178))}(r,o),function jjt(e,i,t){i["!links"].forEach(function(n){if(n[1].Target){var r=dr(t,-1,n[1].Target.replace(/#[\s\S]*$/,""),hn.HLINK);Ee(e,494,function Ajt(e,i){var t=re(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));g0({s:vr(e[0]),e:vr(e[0])},t),oN("rId"+i,t);var n=e[1].Target.indexOf("#");return ba((-1==n?"":e[1].Target.slice(n+1))||"",t),ba(e[1].Tooltip||"",t),ba("",t),t.slice(0,t.l)}(n,r))}}),delete i["!links"]}(r,o,n),o["!margins"]&&Ee(r,476,function Pjt(e,i){return null==i&&(i=re(48)),dp(e),Det.forEach(function(t){ip(e[t],i)}),i}(o["!margins"])),(!i||i.ignoreEC||null==i.ignoreEC)&&function Xjt(e,i){!i||!i["!ref"]||(Ee(e,648),Ee(e,649,function Ljt(e){var i=re(24);return i.write_shift(4,4),i.write_shift(4,1),g0(e,i),i}(Gn(i["!ref"]))),Ee(e,650))}(r,o),function Yjt(e,i,t,n){if(i["!comments"].length>0){var r=dr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",hn.VML);Ee(e,551,oN("rId"+r)),i["!legacy"]=r}}(r,o,e,n),Ee(r,130),r.end()}var LN=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],oYt=":][*?/\\".split("");function Ret(e,i){try{if(""==e)throw new Error("Sheet name cannot be blank");if(e.length>31)throw new Error("Sheet name cannot exceed 31 chars");if(39==e.charCodeAt(0)||39==e.charCodeAt(e.length-1))throw new Error("Sheet name cannot start or end with apostrophe (')");if("history"==e.toLowerCase())throw new Error("Sheet name cannot be 'History'");oYt.forEach(function(t){if(-1!=e.indexOf(t))throw new Error("Sheet name cannot contain : \\ / ? * [ ]")})}catch(t){if(i)return!1;throw t}return!0}function fYt(e,i){return i||(i=re(127)),i.write_shift(4,e.Hidden),i.write_shift(4,e.iTabID),oN(e.strRelID,i),ba(e.name.slice(0,31),i),i.length>i.l?i.slice(0,i.l):i}function AYt(e,i){var t=po();return Ee(t,131),Ee(t,128,function wYt(e,i){i||(i=re(127));for(var t=0;4!=t;++t)i.write_shift(4,0);return ba("SheetJS",i),ba(o1.version,i),ba(o1.version,i),ba("7262",i),i.length>i.l?i.slice(0,i.l):i}()),Ee(t,153,function pYt(e,i){i||(i=re(72));var t=0;return e&&(e.date1904&&(t|=1),e.filterPrivacy&&(t|=8)),i.write_shift(4,t),i.write_shift(4,0),Qq(e&&e.CodeName||"ThisWorkbook",i),i.slice(0,i.l)}(e.Workbook&&e.Workbook.WBProps||null)),function TYt(e,i){if(i.Workbook&&i.Workbook.Sheets){for(var t=i.Workbook.Sheets,n=0,r=-1,s=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&-1==r?r=n:1==t[n].Hidden&&-1==s&&(s=n);s>r||(Ee(e,135),Ee(e,158,function _Yt(e,i){return i||(i=re(29)),i.write_shift(-4,0),i.write_shift(-4,460),i.write_shift(4,28800),i.write_shift(4,17600),i.write_shift(4,500),i.write_shift(4,e),i.write_shift(4,e),i.write_shift(1,120),i.length>i.l?i.slice(0,i.l):i}(r)),Ee(e,136))}}(t,e),function bYt(e,i){Ee(e,143);for(var t=0;t!=i.SheetNames.length;++t)Ee(e,156,fYt({Hidden:i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[t]&&i.Workbook.Sheets[t].Hidden||0,iTabID:t+1,strRelID:"rId"+(t+1),name:i.SheetNames[t]}));Ee(e,144)}(t,e),function EYt(e,i){Ee(e,353),Ee(e,357),Ee(e,362,function SYt(e){var i=e.SheetNames.length,t=re(12*i+28);t.write_shift(4,i+2),t.write_shift(4,0),t.write_shift(4,-2),t.write_shift(4,-2),t.write_shift(4,0),t.write_shift(4,-1),t.write_shift(4,-1);for(var n=0;n<i;++n)t.write_shift(4,0),t.write_shift(4,n),t.write_shift(4,n);return t}(i)),Ee(e,354)}(t,e),(e.Workbook||{}).Names&&function CYt(e,i){!i.Workbook||!i.Workbook.Names||i.Workbook.Names.forEach(function(t){try{if(14&t.Flags)return;Ee(e,39,function xYt(e,i){var t=re(9),n=0,r=e.Name;uN.indexOf(r)>-1&&(n|=32,r=r.slice(6)),t.write_shift(4,n),t.write_shift(1,0),t.write_shift(4,null==e.Sheet?4294967295:e.Sheet);var s=[t,ba(r),aXt(e.Ref,i)];if(e.Comment)s.push(C1(e.Comment));else{var o=re(4);o.write_shift(4,4294967295),s.push(o)}return Vs(s)}(t,i))}catch{console.error("Could not serialize defined name "+JSON.stringify(t))}})}(t,e),Ee(t,132),t.end()}function Let(e){return je("NamedRange",null,{"ss:Name":"_xlnm."==e.Name.slice(0,6)?e.Name.slice(6):e.Name,"ss:RefersTo":"="+fA(e.Ref,{r:0,c:0})})}function t$t(e,i,t,n,r,s,o){if(!e||null==e.v&&null==e.f)return"";var l={};if(e.f&&(l["ss:Formula"]="="+gn(fA(e.f,o))),e.F&&e.F.slice(0,i.length)==i){var b=vr(e.F.slice(i.length+1));l["ss:ArrayRange"]="RC:R"+(b.r==o.r?"":"["+(b.r-o.r)+"]")+"C"+(b.c==o.c?"":"["+(b.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=gn(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=gn(e.l.Tooltip))),t["!merges"])for(var C=t["!merges"],D=0;D!=C.length;++D)C[D].s.c!=o.c||C[D].s.r!=o.r||(C[D].e.c>C[D].s.c&&(l["ss:MergeAcross"]=C[D].e.c-C[D].s.c),C[D].e.r>C[D].s.r&&(l["ss:MergeDown"]=C[D].e.r-C[D].s.r));var R="",O="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":R="Number",O=String(e.v);break;case"b":R="Boolean",O=e.v?"1":"0";break;case"e":R="Error",O=rc[e.v];break;case"d":R="DateTime",O=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||Ri[14]);break;case"s":R="String",O=function h9t(e){return(e+"").replace(YL,function(t){return jL[t]}).replace(Sq,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}(e.v||"")}var L=xf(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+L),l["ss:Index"]=o.c+1;var X="z"==e.t?"":'<Data ss:Type="'+R+'">'+(null!=e.v?O:"")+"</Data>";return(e.c||[]).length>0&&(X+=function qYt(e){return e.map(function(i){var t=function f9t(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}(i.t||""),n=je("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"}),r={};return i.a&&(r["ss:Author"]=i.a),e.hidden||(r["ss:ShowAlways"]="1"),je("Comment",n,r)}).join("")}(e.c)),je("Cell",X,l)}function e$t(e,i){var t='<Row ss:Index="'+(e+1)+'"';return i&&(i.hpt&&!i.hpx&&(i.hpx=b0(i.hpt)),i.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+i.hpx+'"'),i.hidden&&(t+=' ss:Hidden="1"')),t+">"}function n$t(e,i,t){var n=[],s=t.Sheets[t.SheetNames[e]],o=s?function ZYt(e,i,t,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var r=n.Workbook.Names,s=[],o=0;o<r.length;++o){var l=r[o];l.Sheet==t&&(l.Name.match(/^_xlfn\./)||s.push(Let(l)))}return s.join("")}(s,0,e,t):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=s?function i$t(e,i,t,n){if(!e["!ref"])return"";var r=Gn(e["!ref"]),s=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(W,Z){gf(W);var rt=!!W.width,st=gA(Z,W),vt={"ss:Index":Z+1};rt&&(vt["ss:Width"]=k1(st.width)),W.hidden&&(vt["ss:Hidden"]="1"),l.push(je("Column",null,vt))});for(var b=null!=e["!data"],C=r.s.r;C<=r.e.r;++C){for(var D=[e$t(C,(e["!rows"]||[])[C])],R=r.s.c;R<=r.e.c;++R){var O=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>R||s[o].s.r>C||s[o].e.c<R||s[o].e.r<C)){(s[o].s.c!=R||s[o].s.r!=C)&&(O=!0);break}if(!O){var L={r:C,c:R},U=dn(R)+Pn(C);D.push(t$t(b?(e["!data"][C]||[])[R]:e[U],U,e,i,0,0,L))}}D.push("</Row>"),D.length>2&&l.push(D.join(""))}return l.join("")}(s,i):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(function JYt(e,i,t,n){if(!e)return"";var r=[];if(e["!margins"]&&(r.push("<PageSetup>"),e["!margins"].header&&r.push(je("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&r.push(je("Footer",null,{"x:Margin":e["!margins"].footer})),r.push(je("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),r.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)r.push(je("Visible",1==n.Workbook.Sheets[t].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&(!n.Workbook.Sheets[s]||n.Workbook.Sheets[s].Hidden);++s);s==t&&r.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),e["!protect"]&&(r.push(Wa("ProtectContents","True")),e["!protect"].objects&&r.push(Wa("ProtectObjects","True")),e["!protect"].scenarios&&r.push(Wa("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null!=e["!protect"].selectUnlockedCells&&!e["!protect"].selectUnlockedCells&&r.push(Wa("EnableSelection","UnlockedCells")):r.push(Wa("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&r.push("<"+o[1]+"/>")})),0==r.length?"":je("WorksheetOptions",r.join(""),{xmlns:Fl.x})}(s,0,e,t)),s["!autofilter"]&&n.push('<AutoFilter x:Range="'+fA(_1(s["!autofilter"].ref),{r:0,c:0})+'" xmlns="urn:schemas-microsoft-com:office:excel"></AutoFilter>'),n.join("")}function r$t(e,i){i||(i={}),e.SSF||(e.SSF=pr(Ri)),e.SSF&&(u0(),f1(e.SSF),i.revssf=WE(e.SSF),i.revssf[e.SSF[65535]]=0,i.ssf=e.SSF,i.cellXfs=[],xf(i.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(function YYt(e,i){var t=[];return e.Props&&t.push(function cUt(e,i){var t=[];return Jr(pN).map(function(n){for(var r=0;r<Wu.length;++r)if(Wu[r][1]==n)return Wu[r];for(r=0;r<rp.length;++r)if(rp[r][1]==n)return rp[r];throw n}).forEach(function(n){if(null!=e[n[1]]){var r=i&&i.Props&&null!=i.Props[n[1]]?i.Props[n[1]]:e[n[1]];"date"===n[2]&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof r?r=String(r):!0===r||!1===r?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),t.push(Wa(pN[n[1]]||n[1],r))}}),je("DocumentProperties",t.join(""),{xmlns:Fl.o})}(e.Props,i)),e.Custprops&&t.push(function dUt(e,i){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",r=[];return e&&Jr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<Wu.length;++o)if(s==Wu[o][1])return;for(o=0;o<rp.length;++o)if(s==rp[o][1])return;for(o=0;o<t.length;++o)if(s==t[o])return;var l=e[s],b="string";"number"==typeof l?(b="float",l=String(l)):!0===l||!1===l?(b="boolean",l=l?"1":"0"):l=String(l),r.push(je(Cq(s),l,{"dt:dt":b}))}}),i&&Jr(i).forEach(function(s){if(Object.prototype.hasOwnProperty.call(i,s)&&(!e||!Object.prototype.hasOwnProperty.call(e,s))){var o=i[s],l="string";"number"==typeof o?(l="float",o=String(o)):!0===o||!1===o?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),r.push(je(Cq(s),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Fl.o+'">'+r.join("")+"</"+n+">"}(e.Props,e.Custprops)),t.join("")}(e,i)),t.push(function $Yt(e){return(((e||{}).Workbook||{}).WBProps||{}).date1904?'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"><Date1904/></ExcelWorkbook>':""}(e)),t.push(""),t.push("");for(var n=0;n<e.SheetNames.length;++n)t.push(je("Worksheet",n$t(n,i,e),{"ss:Name":gn(e.SheetNames[n])}));return t[2]=function QYt(e,i){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return i.cellXfs.forEach(function(n,r){var s=[];s.push(je("NumberFormat",null,{"ss:Format":gn(Ri[n.numFmtId])}));var o={"ss:ID":"s"+(21+r)};t.push(je("Style",s.join(""),o))}),je("Styles",t.join(""))}(0,i),t[3]=function KYt(e){if(!((e||{}).Workbook||{}).Names)return"";for(var i=e.Workbook.Names,t=[],n=0;n<i.length;++n){var r=i[n];null==r.Sheet&&(r.Name.match(/^_xlfn\./)||t.push(Let(r)))}return je("Names",t.join(""))}(e),Us+je("Workbook",t.join(""),{xmlns:Fl.ss,"xmlns:o":Fl.o,"xmlns:x":Fl.x,"xmlns:ss":Fl.ss,"xmlns:dt":Fl.dt,"xmlns:html":Fl.html})}var z1={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};var G1={0:{f:function VXt(e,i){var t={},n=e.l+i;t.r=e.read_shift(4),e.l+=4;var r=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,7&s&&(t.level=7&s),16&s&&(t.hidden=!0),32&s&&(t.hpt=r/20),t}},1:{f:function YXt(e){return[nc(e)]}},2:{f:function djt(e){return[nc(e),ZE(e),"n"]}},3:{f:function ejt(e){return[nc(e),e.read_shift(1),"e"]}},4:{f:function ZXt(e){return[nc(e),e.read_shift(1),"b"]}},5:{f:function ojt(e){return[nc(e),vo(e),"n"]}},6:{f:function pjt(e){return[nc(e),go(e),"str"]}},7:{f:function njt(e){return[nc(e),e.read_shift(4),"s"]}},8:{f:function _jt(e,i,t){var n=e.l+i,r=nc(e);r.r=t["!row"];var o=[r,go(e),"str"];if(t.cellFormula){e.l+=2;var l=pA(e,n-e.l,t);o[3]=wo(l,0,r,t.supbooks,t)}else e.l=n;return o}},9:{f:function wjt(e,i,t){var n=e.l+i,r=nc(e);r.r=t["!row"];var o=[r,vo(e),"n"];if(t.cellFormula){e.l+=2;var l=pA(e,n-e.l,t);o[3]=wo(l,0,r,t.supbooks,t)}else e.l=n;return o}},10:{f:function yjt(e,i,t){var n=e.l+i,r=nc(e);r.r=t["!row"];var o=[r,e.read_shift(1),"b"];if(t.cellFormula){e.l+=2;var l=pA(e,n-e.l,t);o[3]=wo(l,0,r,t.supbooks,t)}else e.l=n;return o}},11:{f:function bjt(e,i,t){var n=e.l+i,r=nc(e);r.r=t["!row"];var o=[r,e.read_shift(1),"e"];if(t.cellFormula){e.l+=2;var l=pA(e,n-e.l,t);o[3]=wo(l,0,r,t.supbooks,t)}else e.l=n;return o}},12:{f:function QXt(e){return[qm(e)]}},13:{f:function hjt(e){return[qm(e),ZE(e),"n"]}},14:{f:function ijt(e){return[qm(e),e.read_shift(1),"e"]}},15:{f:function qXt(e){return[qm(e),e.read_shift(1),"b"]}},16:{f:function Aet(e){return[qm(e),vo(e),"n"]}},17:{f:function vjt(e){return[qm(e),go(e),"str"]}},18:{f:function sjt(e){return[qm(e),e.read_shift(4),"s"]}},19:{f:sN},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function vYt(e,i,t){var n=e.l+i,r=e.read_shift(4);e.l+=1;var l,s=e.read_shift(4),o=B9t(e),b="";try{l=$Wt(e,0,t);try{b=KE(e)}catch{}}catch{console.error("Could not parse defined name "+o)}32&r&&(o="_xlnm."+o),e.l=n;var C={Name:o,Ptg:l,Flags:r};return s<268435455&&(C.Sheet=s),b&&(C.Comment=b),C}},40:{},42:{},43:{f:function mHt(e,i,t){var n={};n.sz=e.read_shift(2)/20;var r=function z9t(e){var i=e.read_shift(1);return e.l++,{fBold:1&i,fItalic:2&i,fUnderline:4&i,fStrikeout:8&i,fOutline:16&i,fShadow:32&i,fCondense:64&i,fExtend:128&i}}(e);switch(r.fItalic&&(n.italic=1),r.fCondense&&(n.condense=1),r.fExtend&&(n.extend=1),r.fShadow&&(n.shadow=1),r.fOutline&&(n.outline=1),r.fStrikeout&&(n.strike=1),700===e.read_shift(2)&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript"}var o=e.read_shift(1);0!=o&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var b=e.read_shift(1);switch(b>0&&(n.charset=b),e.l++,n.color=function U9t(e){var i={},n=e.read_shift(1)>>>1,r=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),b=e.read_shift(1);switch(e.l++,n){case 0:i.auto=1;break;case 1:i.index=r;var C=np[r];C&&(i.rgb=I1(C));break;case 2:i.rgb=I1([o,l,b]);break;case 3:i.theme=r}return 0!=s&&(i.tint=s>0?s/32767:s/32768),i}(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor"}return n.name=go(e),n}},44:{f:function hHt(e,i){return[e.read_shift(2),go(e)]}},45:{f:vHt},46:{f:yHt},47:{f:function xHt(e,i){var t=e.l+i,n=e.read_shift(2),r=e.read_shift(2);return e.l=t,{ixfe:n,numFmtId:r}}},48:{},49:{f:function k9t(e){return e.read_shift(4,"i")}},50:{},51:{f:function YHt(e){for(var i=[],t=e.read_shift(4);t-- >0;)i.push([e.read_shift(4),e.read_shift(4)]);return i}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function Htt(e,i,t){if(!t.cellStyles)return mo(e,i);var n=t&&t.biff>=12?4:2,r=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),b=e.read_shift(2);2==n&&(e.l+=2);var C={s:r,e:s,w:o,ixfe:l,flags:b};return(t.biff>=5||!t.biff)&&(C.level=b>>8&7),C}},62:{f:function mjt(e){return[nc(e),sN(e),"is"]}},63:{f:function n7t(e){var i={};i.i=e.read_shift(4);var t={};t.r=e.read_shift(4),t.c=e.read_shift(4),i.r=Tn(t);var n=e.read_shift(1);return 2&n&&(i.l="1"),8&n&&(i.a="1"),i}},64:{f:function Bjt(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:mo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function Fjt(e){var i=e.read_shift(2);return e.l+=28,{RTL:32&i}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function XXt(e,i){var t={},n=e[e.l];return++e.l,t.above=!(64&n),t.left=!(128&n),e.l+=18,t.name=N9t(e,i-19),t}},148:{f:GXt,p:16},151:{f:function Djt(){}},152:{},153:{f:function mYt(e,i){var t={},n=e.read_shift(4);t.defaultThemeVersion=e.read_shift(4);var r=i>8?go(e):"";return r.length>0&&(t.CodeName=r),t.autoCompressPictures=!!(65536&n),t.backupFile=!!(64&n),t.checkCompatibility=!!(4096&n),t.date1904=!!(1&n),t.filterPrivacy=!!(8&n),t.hidePivotFieldList=!!(1024&n),t.promptedSolutions=!!(16&n),t.publishItems=!!(2048&n),t.refreshAllConnections=!!(262144&n),t.saveExternalLinkValues=!!(128&n),t.showBorderUnselectedTables=!!(4&n),t.showInkAnnotation=!!(32&n),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(32768&n),t.updateLinks=["userSet","never","always"][n>>8&3],t}},154:{},155:{},156:{f:function hYt(e,i){var t={};return t.Hidden=e.read_shift(4),t.iTabID=e.read_shift(4),t.strRelID=aN(e,i-8),t.name=go(e),t}},157:{},158:{},159:{T:1,f:function SGt(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:ep},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Tjt},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function XHt(e,i){return{flags:e.read_shift(4),version:e.read_shift(4),name:go(e)}}},336:{T:-1},337:{f:function KHt(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:aN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function Utt(e,i,t){if(t.biff<8||!(t.biff>8)&&i==e[e.l]+(3==e[e.l+1]?1:0)+1)return function ztt(e,i,t){3==e[e.l+1]&&e[e.l]++;var n=x0(e,0,t);return 3==n.charCodeAt(0)?n.slice(1):n}(e,0,t);for(var n=[],r=e.l+i,s=e.read_shift(t.biff>8?4:2);0!=s--;)n.push(kUt(e,0,t));if(e.l!=r)throw new Error("Bad ExternSheet: "+e.l+" != "+r);return n}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function Mjt(e,i,t){var n=e.l+i,r=Zq(e),s=e.read_shift(1),o=[r];if(o[2]=s,t.cellFormula){var l=YWt(e,n-e.l,t);o[1]=l}else e.l=n;return o}},427:{f:function Ijt(e,i,t){var n=e.l+i,s=[ep(e,16)];if(t.cellFormula){var o=QWt(e,n-e.l,t);s[1]=o,e.l=n}else e.l=n;return s}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function Rjt(e){var i={};return Det.forEach(function(t){i[t]=vo(e)}),i}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function WXt(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function Ejt(e,i){var t=e.l+i,n=ep(e,16),r=KE(e),s=go(e),o=go(e),l=go(e);e.l=t;var b={rfx:n,relId:r,loc:s,display:l};return o&&(b.Tooltip=o),b}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:aN},551:{f:KE},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:p7t},633:{T:1},634:{T:-1},635:{T:1,f:function f7t(e){var i={};i.iauthor=e.read_shift(4);var t=ep(e,16);return i.rfx=t.s,i.ref=Tn(t.s),e.l+=16,i}},636:{T:-1},637:{f:O9t},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function eYt(e,i){return e.l+=10,{name:go(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function Vjt(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ke(e,i,t,n){var r=i;if(!isNaN(r)){var s=n||(t||[]).length||0,o=e.next(4);o.write_shift(2,r),o.write_shift(2,s),s>0&&eN(t)&&e.push(t)}}function zN(e,i,t,n){var r=re(9);return M1(r,e,i),Ctt(t,n||"b",r),r}function Net(e,i){i.forEach(function(t){var n=t[0].map(function(s){return s.t}).join("");if(n.length<=2048)return ke(e,28,wN(n,t[1],t[2]));ke(e,28,wN(n.slice(0,2048),t[1],t[2],n.length));for(var r=2048;r<n.length;r+=2048)ke(e,28,wN(n.slice(r,Math.min(r+2048,n.length)),-1,-1,Math.min(2048,n.length-r)))})}function m$t(e,i,t,n,r,s){var o=0;null!=i.z&&-1==(o=r._BIFF2FmtTable.indexOf(i.z))&&(r._BIFF2FmtTable.push(i.z),o=r._BIFF2FmtTable.length-1);var l=0;if(null!=i.z){for(;l<r.cellXfs.length&&r.cellXfs[l].numFmtId!=o;++l);l==r.cellXfs.length&&r.cellXfs.push({numFmtId:o})}if(null!=i.v)switch(i.t){case"d":case"n":var b="d"==i.t?ps(os(i.v,s),s):i.v;return void(2==r.biff&&b==(0|b)&&b>=0&&b<65536?ke(e,2,function oGt(e,i,t,n,r){var s=re(9);return M1(s,e,i,n||0,r||0),s.write_shift(2,t),s}(t,n,b,l,o)):isNaN(b)?ke(e,5,zN(t,n,36,"e")):isFinite(b)?ke(e,3,function sGt(e,i,t,n,r){var s=re(15);return M1(s,e,i,n||0,r||0),s.write_shift(8,t,"f"),s}(t,n,b,l,o)):ke(e,5,zN(t,n,7,"e")));case"b":case"e":return void ke(e,5,zN(t,n,i.v,i.t));case"s":case"str":return void ke(e,4,function f$t(e,i,t){var n=re(8+2*t.length);return M1(n,e,i),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}(t,n,null==i.v?"":String(i.v).slice(0,255)))}ke(e,1,M1(null,t,n))}var Fc=1,ac=[];function S$t(e,i,t,n,r,s){var o=16+xf(r.cellXfs,i,r);if(null!=i.v||i.bf)if(i.bf)ke(e,6,function jWt(e,i,t,n,r){var s=op(i,t,r),o=function XWt(e){if(null==e){var i=re(8);return i.write_shift(1,3),i.write_shift(1,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,65535),i}return ip("number"==typeof e?e:0)}(e.v),l=re(6);l.write_shift(2,33),l.write_shift(4,0);for(var C=re(e.bf.length),D=0;D<e.bf.length;++D)C[D]=e.bf[D];return Vs([s,o,l,C])}(i,t,n,0,o));else switch(i.t){case"d":case"n":var l="d"==i.t?ps(os(i.v,s),s):i.v;isNaN(l)?ke(e,517,bN(t,n,36,o,0,"e")):isFinite(l)?ke(e,515,function Azt(e,i,t,n){var r=re(14);return op(e,i,n,r),ip(t,r),r}(t,n,l,o)):ke(e,517,bN(t,n,7,o,0,"e"));break;case"b":case"e":ke(e,517,bN(t,n,i.v,o,0,i.t));break;case"s":case"str":r.bookSST?ke(e,253,function rzt(e,i,t,n){var r=re(10);return op(e,i,n,r),r.write_shift(4,t),r}(t,n,RN(r.Strings,null==i.v?"":String(i.v),r.revStrings),o)):ke(e,516,function azt(e,i,t,n,r){var s=!r||8==r.biff,o=re(+s+8+(1+s)*t.length);return op(e,i,n,o),o.write_shift(2,t.length),s&&o.write_shift(1,1),o.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),o}(t,n,(null==i.v?"":String(i.v)).slice(0,255),o,r));break;default:ke(e,513,op(t,n,o))}else ke(e,513,op(t,n,o))}function E$t(e,i,t){var D,n=po(),r=t.SheetNames[e],s=t.Sheets[r]||{},o=(t||{}).Workbook||{},l=(o.Sheets||[])[e]||{},b=null!=s["!data"],C=8==i.biff,R="",O=[],L=Gn(s["!ref"]||"A1"),U=C?65536:16384;if(L.e.c>255||L.e.r>=U){if(i.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");L.e.c=Math.min(L.e.c,255),L.e.r=Math.min(L.e.c,U-1)}ke(n,2057,yN(0,16,i)),ke(n,13,sc(1)),ke(n,12,sc(100)),ke(n,15,xo(!0)),ke(n,17,xo(!1)),ke(n,16,ip(.001)),ke(n,95,xo(!0)),ke(n,42,xo(!1)),ke(n,43,xo(!1)),ke(n,130,sc(1)),ke(n,128,function Czt(e){var i=re(8);return i.write_shift(4,0),i.write_shift(2,e[0]?e[0]+1:0),i.write_shift(2,e[1]?e[1]+1:0),i}([0,0])),ke(n,131,xo(!1)),ke(n,132,xo(!1)),C&&function C$t(e,i){if(i){var t=0;i.forEach(function(n,r){++t<=256&&n&&ke(e,125,function Qzt(e,i){var t=re(12);t.write_shift(2,i),t.write_shift(2,i),t.write_shift(2,256*e.width),t.write_shift(2,0);var n=0;return e.hidden&&(n|=1),t.write_shift(1,n),t.write_shift(1,n=e.level||0),t.write_shift(2,0),t}(gA(r,n),r))})}}(n,s["!cols"]),ke(n,512,function hzt(e,i){var t=8!=i.biff&&i.biff?2:4,n=re(2*t+6);return n.write_shift(t,e.s.r),n.write_shift(t,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}(L,i));var X=(((t||{}).Workbook||{}).WBProps||{}).date1904;C&&(s["!links"]=[]);for(var W=L.s.c;W<=L.e.c;++W)O[W]=dn(W);for(var Z=[],rt=[],st=L.s.r;st<=L.e.r;++st)for(b&&(rt=s["!data"][st]||[]),R=Pn(st),W=L.s.c;W<=L.e.c;++W){D=O[W]+R;var vt=b?rt[W]:s[D];vt&&(S$t(n,vt,st,W,i,X),C&&vt.l&&s["!links"].push([D,vt.l]),vt.c&&Z.push([vt.c,st,W]))}var _t=l.CodeName||l.name||r;return C?function x$t(e,i){var o,t=[],n=0,r=po(),s=Fc;i.forEach(function(b,C){var D="",R=b[0].map(function(st){return st.a&&!D&&(D=st.a),st.t}).join("");++Fc;var O=re(150);O.write_shift(2,15),O.write_shift(2,61444),O.write_shift(4,150),O.write_shift(2,3234),O.write_shift(2,61450),O.write_shift(4,8),O.write_shift(4,Fc),O.write_shift(4,2560),O.write_shift(2,227),O.write_shift(2,61451),O.write_shift(4,84),O.write_shift(2,128),O.write_shift(4,0),O.write_shift(2,139),O.write_shift(4,2),O.write_shift(2,191),O.write_shift(4,524296),O.write_shift(2,344),O.l+=4,O.write_shift(2,385),O.write_shift(4,134217808),O.write_shift(2,387),O.write_shift(4,134217808),O.write_shift(2,389),O.write_shift(4,268435700),O.write_shift(2,447),O.write_shift(4,1048592),O.write_shift(2,448),O.write_shift(4,134217809),O.write_shift(2,451),O.write_shift(4,268435700),O.write_shift(2,513),O.write_shift(4,134217809),O.write_shift(2,515),O.write_shift(4,268435700),O.write_shift(2,575),O.write_shift(4,196609),O.write_shift(2,959),O.write_shift(4,131072|(b[0].hidden?2:0)),O.l+=2,O.write_shift(2,61456),O.write_shift(4,18),O.write_shift(2,3),O.write_shift(2,b[2]+2),O.l+=2,O.write_shift(2,b[1]+1),O.l+=2,O.write_shift(2,b[2]+4),O.l+=2,O.write_shift(2,b[1]+5),O.l+=2,O.l+=2,O.write_shift(2,61457),O.l+=4,O.l=150,0==C?o=O:ke(r,236,O),n+=150;var L=re(52);L.write_shift(2,21),L.write_shift(2,18),L.write_shift(2,25),L.write_shift(2,Fc),L.write_shift(2,0),L.l=22,L.write_shift(2,13),L.write_shift(2,22),L.write_shift(4,1651663474),L.write_shift(4,2503426821),L.write_shift(4,2150634280),L.write_shift(4,1768515844+256*Fc),L.write_shift(2,0),L.write_shift(4,0),L.l+=4,ke(r,93,L);var U=re(8);U.l+=2,U.write_shift(2,61453),U.l+=4,ke(r,236,U),n+=8;var X=re(18);X.write_shift(2,18),X.l+=8,X.write_shift(2,R.length),X.write_shift(2,16),X.l+=4,ke(r,438,X);var W=re(1+R.length);W.write_shift(1,0),W.write_shift(R.length,R,"sbcs"),ke(r,60,W);var Z=re(16);Z.l+=8,Z.write_shift(2,R.length),Z.l+=6,ke(r,60,Z);var rt=re(12+D.length);rt.write_shift(2,b[1]),rt.write_shift(2,b[2]),rt.write_shift(2,0|(b[0].hidden?0:2)),rt.write_shift(2,Fc),rt.write_shift(2,D.length),rt.write_shift(1,0),rt.write_shift(D.length,D,"sbcs"),rt.l++,t.push(rt)});var l=re(80);l.write_shift(2,15),l.write_shift(2,61442),l.write_shift(4,n+l.length-8),l.write_shift(2,16),l.write_shift(2,61448),l.write_shift(4,8),l.write_shift(4,i.length+1),l.write_shift(4,Fc),l.write_shift(2,15),l.write_shift(2,61443),l.write_shift(4,n+48),l.write_shift(2,15),l.write_shift(2,61444),l.write_shift(4,40),l.write_shift(2,1),l.write_shift(2,61449),l.write_shift(4,16),l.l+=16,l.write_shift(2,2),l.write_shift(2,61450),l.write_shift(4,8),l.write_shift(4,s),l.write_shift(4,5),ke(e,236,o?Vs([l,o]):l),e.push(r.end()),t.forEach(function(b){ke(e,28,b)}),ac.push([s,i.length+1,Fc]),++Fc}(n,Z):Net(n,Z),C&&ke(n,574,function qUt(e){var i=re(18),t=1718;return e&&e.RTL&&(t|=64),i.write_shift(2,t),i.write_shift(4,0),i.write_shift(4,64),i.write_shift(4,0),i.write_shift(4,0),i}((o.Views||[])[0])),C&&(s["!merges"]||[]).length&&ke(n,229,function Ozt(e){var i=re(2+8*e.length);i.write_shift(2,e.length);for(var t=0;t<e.length;++t)Itt(e[t],i);return i}(s["!merges"])),C&&function T$t(e,i){for(var t=0;t<i["!links"].length;++t){var n=i["!links"][t];ke(e,440,zzt(n)),n[1].Tooltip&&ke(e,2048,Hzt(n))}delete i["!links"]}(n,s),ke(n,442,Stt(_t)),C&&function w$t(e,i){var t=re(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),ke(e,2151,t),(t=re(39)).write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),Itt(Gn(i["!ref"]||"A1"),t),t.write_shift(4,4),ke(e,2152,t)}(n,s),ke(n,10),n.end()}function A$t(e,i,t){var n=po(),r=(e||{}).Workbook||{},s=r.Sheets||[],o=r.WBProps||{},l=8==t.biff,b=5==t.biff;ke(n,2057,yN(0,5,t)),"xla"==t.bookType&&ke(n,135),ke(n,225,l?sc(1200):null),ke(n,193,function yUt(e,i){i||(i=re(e));for(var t=0;t<e;++t)i.write_shift(1,0);return i}(2)),b&&ke(n,191),b&&ke(n,192),ke(n,226),ke(n,92,function UUt(e,i){var t=!i||8==i.biff,n=re(t?112:54);for(n.write_shift(8==i.biff?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}(0,t)),ke(n,66,sc(l?1200:1252)),l&&ke(n,353,sc(0)),l&&ke(n,448),ke(n,317,function Jzt(e){for(var i=re(2*e),t=0;t<e;++t)i.write_shift(2,t+1);return i}(e.SheetNames.length)),l&&e.vbaraw&&ke(n,211),l&&e.vbaraw&&ke(n,442,Stt(o.CodeName||"ThisWorkbook")),ke(n,156,sc(17)),ke(n,25,xo(!1)),ke(n,18,xo(!1)),ke(n,19,sc(0)),l&&ke(n,431,xo(!1)),l&&ke(n,444,sc(0)),ke(n,61,function ZUt(){var e=re(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),ke(n,64,xo(!1)),ke(n,141,sc(0)),ke(n,34,xo("true"==function aYt(e){return e.Workbook&&e.Workbook.WBProps&&function cr(e){switch(e){case 1:case!0:case"1":case"true":return!0;case 0:case!1:case"0":case"false":return!1}return!1}(e.Workbook.WBProps.date1904)?"true":"false"}(e))),ke(n,14,xo(!0)),l&&ke(n,439,xo(!1)),ke(n,218,sc(0)),function y$t(e,i,t){ke(e,49,function izt(e,i){var t=e.name||"Arial",n=i&&5==i.biff,s=re(n?15+t.length:16+2*t.length);return s.write_shift(2,20*(e.sz||12)),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),s}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},t))}(n,0,t),function b$t(e,i,t){i&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=i[r]&&ke(e,1054,lzt(r,i[r],t))})}(n,e.SSF,t),function _$t(e,i){for(var t=0;t<16;++t)ke(e,224,Ott({numFmtId:0,style:!0},0,i));i.cellXfs.forEach(function(n){ke(e,224,Ott(n,0,i))})}(n,t),l&&ke(n,352,xo(!1));var D=n.end(),R=po();l&&ke(R,140,function Xzt(e){return e||(e=re(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),l&&ac.length&&ke(R,235,function v$t(){var e=re(82+8*ac.length);e.write_shift(2,15),e.write_shift(2,61440),e.write_shift(4,74+8*ac.length),e.write_shift(2,0),e.write_shift(2,61446),e.write_shift(4,16+8*ac.length),e.write_shift(4,Fc),e.write_shift(4,ac.length+1);for(var i=0,t=0;t<ac.length;++t)i+=ac[t]&&ac[t][1]||0;return e.write_shift(4,i),e.write_shift(4,ac.length),ac.forEach(function(n){e.write_shift(4,n[0]),e.write_shift(4,n[2])}),e.write_shift(2,51),e.write_shift(2,61451),e.write_shift(4,18),e.write_shift(2,191),e.write_shift(4,524296),e.write_shift(2,385),e.write_shift(4,134217793),e.write_shift(2,448),e.write_shift(4,134217792),e.write_shift(2,64),e.write_shift(2,61726),e.write_shift(4,16),e.write_shift(4,134217741),e.write_shift(4,134217740),e.write_shift(4,134217751),e.write_shift(4,268435703),e}()),l&&t.Strings&&function h$t(e,i,t,n){var r=n||(t||[]).length||0;if(r<=8224)return ke(e,i,t,r);var s=i;if(!isNaN(s)){for(var o=t.parts||[],l=0,b=0,C=0;C+(o[l]||8224)<=8224;)C+=o[l]||8224,l++;var D=e.next(4);for(D.write_shift(2,s),D.write_shift(2,C),e.push(t.slice(b,b+C)),b+=C;b<r;){for((D=e.next(4)).write_shift(2,60),C=0;C+(o[l]||8224)<=8224;)C+=o[l]||8224,l++;D.write_shift(2,C),e.push(t.slice(b,b+C)),b+=C}}}(R,252,function XUt(e,i){var t=re(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var n=[],r=0;r<e.length;++r)n[r]=_Ut(e[r]);var s=Vs([t].concat(n));return s.parts=[t.length].concat(n.map(function(o){return o.length})),s}(t.Strings)),ke(R,10);var O=R.end(),L=po(),U=0,X=0;for(X=0;X<e.SheetNames.length;++X)U+=(l?12:11)+(l?2:1)*e.SheetNames[X].length;var W=D.length+U+O.length;for(X=0;X<e.SheetNames.length;++X)ke(L,133,HUt({pos:W,hs:(s[X]||{}).Hidden||0,dt:0,name:e.SheetNames[X]},t)),W+=i[X].length;var rt=L.end();if(U!=rt.length)throw new Error("BS8 "+U+" != "+rt.length);var st=[];return D.length&&st.push(D),rt.length&&st.push(rt),O.length&&st.push(O),Vs(st)}function Bet(e,i){for(var t=0;t<=e.SheetNames.length;++t){var n=e.Sheets[e.SheetNames[t]];n&&n["!ref"]&&ya(n["!ref"]).e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}var s=i||{};switch(s.biff||2){case 8:case 5:return function D$t(e,i){var t=i||{},n=[];e&&!e.SSF&&(e.SSF=pr(Ri)),e&&e.SSF&&(u0(),f1(e.SSF),t.revssf=WE(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),Fc=1,ac=[],t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,$N(t),t.cellXfs=[],xf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var r=0;r<e.SheetNames.length;++r)n[n.length]=E$t(r,t,e);return n.unshift(A$t(e,n,t)),Vs(n)}(e,i);case 4:case 3:case 2:return function g$t(e,i){for(var t=i||{},n=po(),r=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==t.sheet&&(r=s);if(0==r&&t.sheet&&e.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);ke(n,4==t.biff?1033:3==t.biff?521:9,yN(0,16,t)),((e.Workbook||{}).WBProps||{}).date1904&&ke(n,34,xo(!0)),t.cellXfs=[{numFmtId:0}],t._BIFF2FmtTable=["General"],t._Fonts=[];var o=po();return function p$t(e,i,t,n,r){var s=null!=i["!data"],o=Gn(i["!ref"]||"A1"),l="",b=[];if(o.e.c>255||o.e.r>16383){if(n.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383)}for(var C=(((r||{}).Workbook||{}).WBProps||{}).date1904,D=[],R=[],O=o.s.c;O<=o.e.c;++O)b[O]=dn(O);for(var L=o.s.r;L<=o.e.r;++L)for(s&&(D=i["!data"][L]||[]),l=Pn(L),O=o.s.c;O<=o.e.c;++O){var U=s?D[O]:i[b[O]+l];U&&(m$t(e,U,L,O,n,C),U.c&&R.push([U.c,L,O]))}Net(e,R)}(o,e.Sheets[e.SheetNames[r]],0,t,e),t._BIFF2FmtTable.forEach(function(l){t.biff<=3?ke(n,30,function dzt(e){var i=re(1+e.length);return i.write_shift(1,e.length),i.write_shift(e.length,e,"sbcs"),i}(l)):ke(n,1054,function uzt(e){var i=re(3+e.length);return i.l+=2,i.write_shift(1,e.length),i.write_shift(e.length,e,"sbcs"),i}(l))}),t.cellXfs.forEach(function(l){switch(t.biff){case 2:ke(n,67,function yzt(e){var i=re(4);return i.l+=2,i.write_shift(1,e.numFmtId),i.l++,i}(l));break;case 3:ke(n,579,Ltt(l));break;case 4:ke(n,1091,bzt(l))}}),delete t._BIFF2FmtTable,delete t.cellXfs,delete t._Fonts,n.push(o.end()),ke(n,10),n.end()}(e,i)}throw new Error("invalid type "+s.bookType+" for BIFF")}function Uet(e,i,t,n){for(var r=e["!merges"]||[],s=[],o={},l=null!=e["!data"],b=i.s.c;b<=i.e.c;++b){for(var C=0,D=0,R=0;R<r.length;++R)if(!(r[R].s.r>t||r[R].s.c>b||r[R].e.r<t||r[R].e.c<b)){if(r[R].s.r<t||r[R].s.c<b){C=-1;break}C=r[R].e.r-r[R].s.r+1,D=r[R].e.c-r[R].s.c+1;break}if(!(C<0)){var O=dn(b)+Pn(t),L=l?(e["!data"][t]||[])[b]:e[O],U=L&&null!=L.v&&(L.h||v1(L.w||(Ad(L),L.w)||""))||"";o={},C>1&&(o.rowspan=C),D>1&&(o.colspan=D),n.editable?U='<span contenteditable="true">'+U+"</span>":L&&(o["data-t"]=L&&L.t||"z",null!=L.v&&(o["data-v"]=v1(L.v instanceof Date?L.v.toISOString():L.v)),null!=L.z&&(o["data-z"]=L.z),L.l&&"#"!=(L.l.Target||"#").charAt(0)&&(U='<a href="'+v1(L.l.Target)+'">'+U+"</a>")),o.id=(n.id||"sjs")+"-"+O,s.push(je("td",U,o))}}return"<tr>"+s.join("")+"</tr>"}var zet='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Get="</body></html>";function Wet(e,i){var t=i||{},r=null!=t.footer?t.footer:Get,s=[null!=t.header?t.header:zet],o=ya(e["!ref"]||"A1");if(s.push(function Het(e,i,t){return[].join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}(0,0,t)),e["!ref"])for(var l=o.s.r;l<=o.e.r;++l)s.push(Uet(e,o,l,t));return s.push("</table>"+r),s.join("")}var P$t=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),i="<office:document-styles "+x1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Us+i}}();function F$t(e,i){var t="number",n="",r={"style:name":i},s="",o=0;t:if((e=e.replace(/"[$]"/g,"$")).indexOf(";")>-1&&(console.error("Unsupported ODS Style Map exported.  Using first branch of "+e),e=e.slice(0,e.indexOf(";"))),"@"!=e){if(e.indexOf(/\$/)>-1&&(t="currency"),'"'==e[o]){for(s="";'"'!=e[++o]||'"'==e[++o];)s+=e[o];"*"==e[1+--o]?(o++,n+="<number:fill-character>"+gn(s.replace(/""/g,'"'))+"</number:fill-character>"):n+="<number:text>"+gn(s.replace(/""/g,'"'))+"</number:text>",e=e.slice(o+1),o=0}var l=e.match(/# (\?+)\/(\?+)/);if(l)n+=je("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":l[1].length,"number:max-denominator-value":Math.max(+l[1].replace(/./g,"9"),+l[2].replace(/./g,"9"))});else if(l=e.match(/# (\?+)\/(\d+)/))n+=je("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":l[1].length,"number:denominator-value":+l[2]});else if(l=e.match(/\b(\d+)(|\.\d+)%/))t="percentage",n+=je("number:number",null,{"number:decimal-places":l[2]&&l.length-1||0,"number:min-decimal-places":l[2]&&l.length-1||0,"number:min-integer-digits":l[1].length})+"<number:text>%</number:text>";else{var b=!1;if(["y","m","d"].indexOf(e[0])>-1){t="date";e:for(;o<e.length;++o)switch(s=e[o].toLowerCase()){case"h":case"s":b=!0,--o;break e;case"m":i:for(var C=o+1;C<e.length;++C)switch(e[C]){case"y":case"d":break i;case"h":case"s":b=!0,--o;break e}case"y":case"d":for(;(e[++o]||"").toLowerCase()==s[0];)s+=s[0];switch(--o,s){case"y":case"yy":n+="<number:year/>";break;case"yyy":case"yyyy":n+='<number:year number:style="long"/>';break;case"mmmmm":console.error("ODS has no equivalent of format |mmmmm|");case"m":case"mm":case"mmm":case"mmmm":n+='<number:month number:style="'+(s.length%2?"short":"long")+'" number:textual="'+(s.length>=3?"true":"false")+'"/>';break;case"d":case"dd":n+='<number:day number:style="'+(s.length%2?"short":"long")+'"/>';break;case"ddd":case"dddd":n+='<number:day-of-week number:style="'+(s.length%2?"short":"long")+'"/>'}break;case'"':for(;'"'!=e[++o]||'"'==e[++o];)s+=e[o];--o,n+="<number:text>"+gn(s.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"\\":n+="<number:text>"+gn(s=e[++o])+"</number:text>";break;case"/":case":":n+="<number:text>"+gn(s)+"</number:text>";break;default:console.error("unrecognized character "+s+" in ODF format "+e)}if(!b)break t;e=e.slice(o+1),o=0}if(e.match(/^\[?[hms]/))for("number"==t&&(t="time"),e.match(/\[/)&&(e=e.replace(/[\[\]]/g,""),r["number:truncate-on-overflow"]="false");o<e.length;++o)switch(s=e[o].toLowerCase()){case"h":case"m":case"s":for(;(e[++o]||"").toLowerCase()==s[0];)s+=s[0];switch(--o,s){case"h":case"hh":n+='<number:hours number:style="'+(s.length%2?"short":"long")+'"/>';break;case"m":case"mm":n+='<number:minutes number:style="'+(s.length%2?"short":"long")+'"/>';break;case"s":case"ss":if("."==e[o+1])do{s+=e[o+1],++o}while("0"==e[o+1]);n+='<number:seconds number:style="'+(s.match("ss")?"long":"short")+'"'+(s.match(/\./)?' number:decimal-places="'+(s.match(/0+/)||[""])[0].length+'"':"")+"/>"}break;case'"':for(;'"'!=e[++o]||'"'==e[++o];)s+=e[o];--o,n+="<number:text>"+gn(s.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"/":case":":n+="<number:text>"+gn(s)+"</number:text>";break;case"a":if("a/p"==e.slice(o,o+3).toLowerCase()){n+="<number:am-pm/>",o+=2;break}if("am/pm"==e.slice(o,o+5).toLowerCase()){n+="<number:am-pm/>",o+=4;break}default:console.error("unrecognized character "+s+" in ODF format "+e)}else{if(e.indexOf(/\$/)>-1&&(t="currency"),"$"==e[0]&&(n+='<number:currency-symbol number:language="en" number:country="US">$</number:currency-symbol>',e=e.slice(1),o=0),'"'==e[o=0]){for(;'"'!=e[++o]||'"'==e[++o];)s+=e[o];"*"==e[1+--o]?(o++,n+="<number:fill-character>"+gn(s.replace(/""/g,'"'))+"</number:fill-character>"):n+="<number:text>"+gn(s.replace(/""/g,'"'))+"</number:text>",e=e.slice(o+1),o=0}var D=e.match(/([#0][0#,]*)(\.[0#]*|)(E[+]?0*|)/i);if(D&&D[0]){var R=D[1].replace(/,/g,"");n+="<number:"+(D[3]?"scientific-":"")+'number number:min-integer-digits="'+(-1==R.indexOf("0")?"0":R.length-R.indexOf("0"))+'"'+(D[0].indexOf(",")>-1?' number:grouping="true"':"")+(D[2]&&' number:decimal-places="'+(D[2].length-1)+'"'||' number:decimal-places="0"')+(D[3]&&D[3].indexOf("+")>-1?' number:forced-exponent-sign="true"':"")+(D[3]?' number:min-exponent-digits="'+D[3].match(/0+/)[0].length+'"':"")+"></number:"+(D[3]?"scientific-":"")+"number>",o=D.index+D[0].length}else console.error("Could not find numeric part of "+e);if('"'==e[o]){for(s="";'"'!=e[++o]||'"'==e[++o];)s+=e[o];--o,n+="<number:text>"+gn(s.replace(/""/g,'"'))+"</number:text>"}}}}else t="text",n="<number:text-content/>";return n?je("number:"+t+"-style",n,r):(console.error("Could not generate ODS number format for |"+e+"|"),"")}function Jet(e,i,t){for(var n=[],r=0;r<e.length;++r){var s=e[r];s&&s.Sheet==(-1==t?null:t)&&n.push(s)}return n.length?"      <table:named-expressions>\n"+n.map(function(o){var l=(-1==t?"$":"")+Tet(o.Ref);return"        "+je("table:named-range",null,{"table:name":o.Name,"table:cell-range-address":l,"table:base-cell-address":l.replace(/[\.][^\.]*$/,".$A$1")})}).join("\n")+"\n      </table:named-expressions>\n":""}var qet=function(){var e=function(r,s){return gn(r).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,s?"<text:line-break/>":"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},i="          <table:table-cell />\n",t=function(r,s,o,l,b,C){var D=[];D.push('      <table:table table:name="'+gn(s.SheetNames[o])+'" table:style-name="ta1">\n');var R=0,O=0,L=ya(r["!ref"]||"A1"),U=r["!merges"]||[],X=0,W=null!=r["!data"];if(r["!cols"])for(O=0;O<=L.e.c;++O)D.push("        <table:table-column"+(r["!cols"][O]?' table:style-name="co'+r["!cols"][O].ods+'"':"")+"></table:table-column>\n");var rt=r["!rows"]||[];for(R=0;R<L.s.r;++R)D.push("        <table:table-row"+(rt[R]?' table:style-name="ro'+rt[R].ods+'"':"")+"></table:table-row>\n");for(;R<=L.e.r;++R){for(D.push("        <table:table-row"+(rt[R]?' table:style-name="ro'+rt[R].ods+'"':"")+">\n"),O=0;O<L.s.c;++O)D.push(i);for(;O<=L.e.c;++O){var st=!1,vt={},_t="";for(X=0;X!=U.length;++X)if(!(U[X].s.c>O||U[X].s.r>R||U[X].e.c<O||U[X].e.r<R)){(U[X].s.c!=O||U[X].s.r!=R)&&(st=!0),vt["table:number-columns-spanned"]=U[X].e.c-U[X].s.c+1,vt["table:number-rows-spanned"]=U[X].e.r-U[X].s.r+1;break}if(st)D.push("          <table:covered-table-cell/>\n");else{var Mt=Tn({r:R,c:O}),ft=W?(r["!data"][R]||[])[O]:r[Mt];if(ft&&ft.f&&(vt["table:formula"]=gn(cXt(ft.f)),ft.F&&ft.F.slice(0,Mt.length)==Mt)){var dt=ya(ft.F);vt["table:number-matrix-columns-spanned"]=dt.e.c-dt.s.c+1,vt["table:number-matrix-rows-spanned"]=dt.e.r-dt.s.r+1}if(ft){switch(ft.t){case"b":_t=ft.v?"TRUE":"FALSE",vt["office:value-type"]="boolean",vt["office:boolean-value"]=ft.v?"true":"false";break;case"n":_t=ft.w||String(ft.v||0),vt["office:value-type"]="float",vt["office:value"]=ft.v||0;break;case"s":case"str":_t=null==ft.v?"":ft.v,vt["office:value-type"]="string";break;case"d":_t=ft.w||os(ft.v,C).toISOString(),vt["office:value-type"]="date",vt["office:date-value"]=os(ft.v,C).toISOString(),vt["table:style-name"]="ce1";break;default:D.push(i);continue}var pt=e(_t);if(ft.l&&ft.l.Target){var bt=ft.l.Target;"#"!=(bt="#"==bt.charAt(0)?"#"+Tet(bt.slice(1)):bt).charAt(0)&&!bt.match(/^\w+:/)&&(bt="../"+bt),pt=je("text:a",pt,{"xlink:href":bt.replace(/&/g,"&amp;")})}b[ft.z]&&(vt["table:style-name"]="ce"+b[ft.z].slice(1));var Tt=je("text:p",pt,{});if(ft.c){for(var Et="",Dt="",Le={},ve=0;ve<ft.c.length;++ve)!Et&&ft.c[ve].a&&(Et=ft.c[ve].a),Dt+="<text:p>"+e(ft.c[ve].t)+"</text:p>";ft.c.hidden||(Le["office:display"]=!0),Tt=je("office:annotation",Dt,Le)+Tt}D.push("          "+je("table:table-cell",Tt,vt)+"\n")}else D.push(i)}}D.push("        </table:table-row>\n")}return(s.Workbook||{}).Names&&D.push(Jet(s.Workbook.Names,0,o)),D.push("      </table:table>\n"),D.join("")};return function(s,o){var l=[Us],b=x1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),C=x1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==o.bookType?(l.push("<office:document"+b+C+">\n"),l.push(rtt().replace(/<office:document-meta[^<>]*?>/,"").replace(/<\/office:document-meta>/,"")+"\n")):l.push("<office:document-content"+b+">\n");var D=function(r,s){r.push(" <office:automatic-styles>\n");var o=0;s.SheetNames.map(function(D){return s.Sheets[D]}).forEach(function(D){if(D&&D["!cols"])for(var R=0;R<D["!cols"].length;++R)if(D["!cols"][R]){var O=D["!cols"][R];if(null==O.width&&null==O.wpx&&null==O.wch)continue;gf(O),O.ods=o;var L=D["!cols"][R].wpx+"px";r.push('  <style:style style:name="co'+o+'" style:family="table-column">\n'),r.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+L+'"/>\n'),r.push("  </style:style>\n"),++o}});var l=0;s.SheetNames.map(function(D){return s.Sheets[D]}).forEach(function(D){if(D&&D["!rows"])for(var R=0;R<D["!rows"].length;++R)if(D["!rows"][R]){D["!rows"][R].ods=l;var O=D["!rows"][R].hpx+"px";r.push('  <style:style style:name="ro'+l+'" style:family="table-row">\n'),r.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+O+'"/>\n'),r.push("  </style:style>\n"),++l}}),r.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),r.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),r.push("  </style:style>\n"),r.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),r.push('   <number:month number:style="long"/>\n'),r.push("   <number:text>/</number:text>\n"),r.push('   <number:day number:style="long"/>\n'),r.push("   <number:text>/</number:text>\n"),r.push("   <number:year/>\n"),r.push("  </number:date-style>\n");var b={},C=69;return s.SheetNames.map(function(D){return s.Sheets[D]}).forEach(function(D){if(D){var R=null!=D["!data"];if(D["!ref"])for(var O=ya(D["!ref"]),L=0;L<=O.e.r;++L)for(var U=0;U<=O.e.c;++U){var X=R?(D["!data"][L]||[])[U]:D[Tn({r:L,c:U})];if(X&&X.z&&"general"!=X.z.toLowerCase()&&!b[X.z]){var W=F$t(X.z,"N"+C);W&&(b[X.z]="N"+C,++C,r.push(W+"\n"))}}}}),r.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),Jr(b).forEach(function(D){r.push('<style:style style:name="ce'+b[D].slice(1)+'" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="'+b[D]+'"/>\n')}),r.push(" </office:automatic-styles>\n"),b}(l,s);l.push("  <office:body>\n"),l.push("    <office:spreadsheet>\n"),((s.Workbook||{}).WBProps||{}).date1904&&l.push('      <table:calculation-settings table:case-sensitive="false" table:search-criteria-must-apply-to-whole-cell="true" table:use-wildcards="true" table:use-regular-expressions="false" table:automatic-find-labels="false">\n        <table:null-date table:date-value="1904-01-01"/>\n      </table:calculation-settings>\n');for(var R=0;R!=s.SheetNames.length;++R)l.push(t(s.Sheets[s.SheetNames[R]],s,R,0,D,((s.Workbook||{}).WBProps||{}).date1904));return(s.Workbook||{}).Names&&l.push(Jet(s.Workbook.Names,0,-1)),l.push("    </office:spreadsheet>\n"),l.push("  </office:body>\n"),l.push("fods"==o.bookType?"</office:document>":"</office:document-content>"),l.join("")}}();function tit(e,i){if("fods"==i.bookType)return qet(e,i);var t=XL(),n="",r=[],s=[];return cn(t,n="mimetype","application/vnd.oasis.opendocument.spreadsheet"),cn(t,n="content.xml",qet(e,i)),r.push([n,"text/xml"]),s.push([n,"ContentFile"]),cn(t,n="styles.xml",P$t(e,i)),r.push([n,"text/xml"]),s.push([n,"StylesFile"]),cn(t,n="meta.xml",Us+rtt()),r.push([n,"text/xml"]),s.push([n,"MetadataFile"]),cn(t,n="manifest.rdf",function rUt(e){var i=[Us];i.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var t=0;t!=e.length;++t)i.push(ntt(e[t][0],e[t][1])),i.push(nUt("",e[t][0]));return i.push(ntt("","Document","pkg")),i.push("</rdf:RDF>"),i.join("")}(s)),r.push([n,"application/rdf+xml"]),cn(t,n="META-INF/manifest.xml",function iUt(e){var i=[Us];i.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),i.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var t=0;t<e.length;++t)i.push('  <manifest:file-entry manifest:full-path="'+e[t][0]+'" manifest:media-type="'+e[t][1]+'"/>\n');return i.push("</manifest:manifest>"),i.join("")}(r)),t}var Gs=function(){try{return typeof Uint8Array>"u"||typeof Uint8Array.prototype.subarray>"u"?"slice":typeof Buffer<"u"?typeof Buffer.prototype.subarray>"u"?"slice":("function"==typeof Buffer.from?Buffer.from([72,62]):new Buffer([72,62]))instanceof Uint8Array?"subarray":"slice":"subarray"}catch{return"slice"}}();function ju(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Oc(e){return typeof TextDecoder<"u"?(new TextDecoder).decode(e):gr(Td(e))}function Go(e){return typeof TextEncoder<"u"?(new TextEncoder).encode(e):Vo(Ed(e))}function yf(e){for(var i=0,t=0;t<e.length;++t)i+=e[t].length;var n=new Uint8Array(i),r=0;for(t=0;t<e.length;++t){var s=e[t],o=s.length;if(o<250)for(var l=0;l<o;++l)n[r++]=s[l];else n.set(s,r),r+=o}return n}function W1(e,i){var t=i.l,n=127&e[t];t:if(e[t++]>=128&&(n|=(127&e[t])<<7,e[t++]<128||(n|=(127&e[t])<<14,e[t++]<128)||(n|=(127&e[t])<<21,e[t++]<128)||(n+=(127&e[t])*Math.pow(2,28),++t,e[t++]<128)||(n+=(127&e[t])*Math.pow(2,35),++t,e[t++]<128)||(n+=(127&e[t])*Math.pow(2,42),++t,e[t++]<128)))break t;return i.l=t,n}function Si(e){var i=new Uint8Array(7);i[0]=127&e;var t=1;t:if(e>127){if(i[t-1]|=128,i[t]=e>>7&127,++t,e<=16383||(i[t-1]|=128,i[t]=e>>14&127,++t,e<=2097151)||(i[t-1]|=128,i[t]=e>>21&127,++t,e<=268435455)||(i[t-1]|=128,i[t]=e/256>>>21&127,++t,e<=34359738367)||(i[t-1]|=128,i[t]=e/65536>>>21&127,++t,e<=4398046511103))break t;i[t-1]|=128,i[t]=e/16777216>>>21&127,++t}return i[Gs](0,t)}function eit(e){for(var i={l:0},t=[];i.l<e.length;)t.push(W1(e,i));return t}function iit(e){return yf(e.map(function(i){return Si(i)}))}function Fn(e){var i=0,t=127&e[i];return e[i++]<128||(t|=(127&e[i])<<7,e[i++]<128)||(t|=(127&e[i])<<14,e[i++]<128)||(t|=(127&e[i])<<21,e[i++]<128)||(t|=(15&e[i])<<28),t}function ci(e){for(var i=[],t={l:0};t.l<e.length;){var n=t.l,r=W1(e,t),s=7&r;r=r/8|0;var o,l=t.l;switch(s){case 0:for(;e[l++]>=128;);o=e[Gs](t.l,l),t.l=l;break;case 1:o=e[Gs](l,l+8),t.l=l+8;break;case 2:var b=W1(e,t);o=e[Gs](t.l,t.l+b),t.l+=b;break;case 5:o=e[Gs](l,l+4),t.l=l+4;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(r," at offset ").concat(n))}var C={data:o,type:s};null==i[r]&&(i[r]=[]),i[r].push(C)}return i}function ki(e){var i=[];return e.forEach(function(t,n){0!=n&&t.forEach(function(r){r.data&&(i.push(Si(8*n+r.type)),2==r.type&&i.push(Si(r.data.length)),i.push(r.data))})}),yf(i)}function up(e,i){return e?.map(function(t){return i(t.data)})||[]}function X1(e){for(var i,t=[],n={l:0};n.l<e.length;){var r=W1(e,n),s=ci(e[Gs](n.l,n.l+r));n.l+=r;var o={id:Fn(s[1][0].data),messages:[]};s[2].forEach(function(l){var b=ci(l.data),C=Fn(b[3][0].data);o.messages.push({meta:b,data:e[Gs](n.l,n.l+C)}),n.l+=C}),null!=(i=s[3])&&i[0]&&(o.merge=Fn(s[3][0].data)>>>0>0),t.push(o)}return t}function _0(e){var i=[];return e.forEach(function(t){var n=[[],[{data:Si(t.id),type:0}],[]];null!=t.merge&&(n[3]=[{data:Si(+!!t.merge),type:0}]);var r=[];t.messages.forEach(function(o){r.push(o.data),o.meta[3]=[{type:0,data:Si(o.data.length)}],n[2].push({data:ki(o.meta),type:2})});var s=ki(n);i.push(Si(s.length)),i.push(s),r.forEach(function(o){return i.push(o)})}),yf(i)}function N$t(e,i){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var t={l:0},n=W1(i,t),r=[],s=t.l;s<i.length;){var o=3&i[s];if(0!=o){var C=0,D=0;if(1==o?(D=4+(i[s]>>2&7),C=(224&i[s++])<<3,C|=i[s++]):(D=1+(i[s++]>>2),2==o?(C=i[s]|i[s+1]<<8,s+=2):(C=(i[s]|i[s+1]<<8|i[s+2]<<16|i[s+3]<<24)>>>0,s+=4)),0==C)throw new Error("Invalid offset 0");for(var R=r.length-1,O=C;R>=0&&O>=r[R].length;)O-=r[R].length,--R;if(R<0){if(0!=O)throw new Error("Invalid offset beyond length");O=r[R=0].length}if(D<O)r.push(r[R][Gs](r[R].length-O,r[R].length-O+D));else{for(O>0&&(r.push(r[R][Gs](r[R].length-O)),D-=O),++R;D>=r[R].length;)r.push(r[R]),D-=r[R].length,++R;D&&r.push(r[R][Gs](0,D))}r.length>25&&(r=[yf(r)])}else{var l=i[s++]>>2;if(l<60)++l;else{var b=l-59;l=i[s],b>1&&(l|=i[s+1]<<8),b>2&&(l|=i[s+2]<<16),b>3&&(l|=i[s+3]<<24),l>>>=0,l++,s+=b}r.push(i[Gs](s,s+l)),s+=l}}for(var L=0,U=0;U<r.length;++U)L+=r[U].length;if(L!=n)throw new Error("Unexpected length: ".concat(L," != ").concat(n));return r}function j1(e){Array.isArray(e)&&(e=new Uint8Array(e));for(var i=[],t=0;t<e.length;){var n=e[t++],r=e[t]|e[t+1]<<8|e[t+2]<<16;i.push.apply(i,N$t(n,e[Gs](t+=3,t+r))),t+=r}if(t!==e.length)throw new Error("data is not a valid framed stream!");return 1==i.length?i[0]:yf(i)}function T0(e){for(var i=[],t=0;t<e.length;){var n=Math.min(e.length-t,268435455),r=new Uint8Array(4);i.push(r);var s=Si(n),o=s.length;i.push(s),n<=60?(o++,i.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,i.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,i.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,i.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,i.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),i.push(e[Gs](t,t+n)),o+=n,r[0]=0,r[1]=255&o,r[2]=o>>8&255,r[3]=o>>16&255,t+=n}return yf(i)}function GN(e,i){var t=new Uint8Array(32),n=ju(t),r=12,s=0;switch(t[0]=5,e.t){case"n":if(e.z&&Rl(e.z)){t[1]=5,n.setFloat64(r,(zu(e.v+1462).getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=4,r+=8;break}t[1]=2,function L$t(e,i,t){var n=Math.floor(0==t?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-16,r=t/Math.pow(10,n-6176);e[i+15]|=n>>7,e[i+14]|=(127&n)<<1;for(var s=0;r>=1;++s,r/=256)e[i+s]=255&r;e[i+15]|=t>=0?0:128}(t,r,e.v),s|=1,r+=16;break;case"b":t[1]=6,n.setFloat64(r,e.v?1:0,!0),s|=2,r+=8;break;case"s":var o=null==e.v?"":String(e.v);if(e.l){var l=i.rsst.findIndex(function(C){var D;return C.v==o&&C.l==(null==(D=e.l)?void 0:D.Target)});-1==l&&(i.rsst[l=i.rsst.length]={v:o,l:e.l.Target}),t[1]=9,n.setUint32(r,l,!0),s|=16,r+=4}else{var b=i.sst.indexOf(o);-1==b&&(i.sst[b=i.sst.length]=o),t[1]=3,n.setUint32(r,b,!0),s|=8,r+=4}break;case"d":t[1]=5,n.setFloat64(r,(e.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=4,r+=8;break;case"z":t[1]=0;break;default:throw"unsupported cell type "+e.t}return e.c&&(i.cmnt.push(function X$t(e){for(var i={a:"",t:"",replies:[]},t=0;t<e.length;++t)0==t?(i.a=e[t].a,i.t=e[t].t):i.replies.push({a:e[t].a,t:e[t].t});return i}(e.c)),n.setUint32(r,i.cmnt.length-1,!0),s|=524288,r+=4),n.setUint32(8,s,!0),t[Gs](0,r)}function HN(e,i){var t=new Uint8Array(32),n=ju(t),r=12,s=0,o="";switch(t[0]=4,e.t){case"n":case"b":case"d":case"e":case"z":break;case"s":if(o=null==e.v?"":String(e.v),e.l){var l=i.rsst.findIndex(function(C){var D;return C.v==o&&C.l==(null==(D=e.l)?void 0:D.Target)});-1==l&&(i.rsst[l=i.rsst.length]={v:o,l:e.l.Target}),t[1]=9,n.setUint32(r,l,!0),s|=512,r+=4}break;default:throw"unsupported cell type "+e.t}switch(e.c&&(n.setUint32(r,i.cmnt.length-1,!0),s|=4096,r+=4),e.t){case"n":t[1]=2,n.setFloat64(r,e.v,!0),s|=32,r+=8;break;case"b":t[1]=6,n.setFloat64(r,e.v?1:0,!0),s|=32,r+=8;break;case"s":if(o=null==e.v?"":String(e.v),!e.l){var b=i.sst.indexOf(o);-1==b&&(i.sst[b=i.sst.length]=o),t[1]=3,n.setUint32(r,b,!0),s|=16,r+=4}break;case"d":t[1]=5,n.setFloat64(r,(e.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=64,r+=8;break;case"z":t[1]=0;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),t[Gs](0,r)}function On(e){return Fn(ci(e)[1][0].data)}function _o(e){return ki([[],[{type:0,data:Si(e)}]])}function To(e,i){var t,n=null!=(t=e.messages[0].meta[5])&&t[0]?eit(e.messages[0].meta[5][0].data):[];-1==n.indexOf(i)&&(n.push(i),e.messages[0].meta[5]=[{type:2,data:iit(n)}])}function Yu(e,i){var t,n=null!=(t=e.messages[0].meta[5])&&t[0]?eit(e.messages[0].meta[5][0].data):[];e.messages[0].meta[5]=[{type:2,data:iit(n.filter(function(r){return r!=i}))}]}function K$t(e,i,t){var n,r,s,o=[[],[{type:0,data:Si(0)}],[{type:0,data:Si(0)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:Si(5)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:Si(1)}]];if(null==(n=o[6])||!n[0]||null==(r=o[7])||!r[0])throw"Mutation only works on post-BNC storages!";var l=0;if(o[7][0].data.length<2*e.length){var b=new Uint8Array(2*e.length);b.set(o[7][0].data),o[7][0].data=b}if(o[4][0].data.length<2*e.length){var C=new Uint8Array(2*e.length);C.set(o[4][0].data),o[4][0].data=C}for(var D=ju(o[7][0].data),R=0,O=[],L=ju(o[4][0].data),U=0,X=[],W=t?4:1,Z=0;Z<e.length;++Z)if(null!=e[Z]&&("z"!=e[Z].t||null!=(s=e[Z].c)&&s.length)&&"e"!=e[Z].t){var rt,st;switch(D.setUint16(2*Z,R/W,!0),L.setUint16(2*Z,U/W,!0),e[Z].t){case"d":if(e[Z].v instanceof Date){rt=GN(e[Z],i),st=HN(e[Z],i);break}rt=GN(e[Z],i),st=HN(e[Z],i);break;case"s":case"n":case"b":case"z":rt=GN(e[Z],i),st=HN(e[Z],i);break;default:throw new Error("Unsupported value "+e[Z])}O.push(rt),R+=rt.length,X.push(st),U+=st.length,++l}else D.setUint16(2*Z,65535,!0),L.setUint16(2*Z,65535);for(o[2][0].data=Si(l),o[5][0].data=Si(5);Z<o[7][0].data.length/2;++Z)D.setUint16(2*Z,65535,!0),L.setUint16(2*Z,65535,!0);return o[6][0].data=yf(O),o[3][0].data=yf(X),o[8]=[{type:0,data:Si(t?1:0)}],o}function XN(e,i){return{meta:[[],[{type:0,data:Si(e)}]],data:i}}function Md(e,i){i.last||(i.last=927262);for(var t=i.last;t<2e6;++t)if(!i[t])return i[i.last=t]=e,t;throw new Error("Too many messages")}function xA(e,i,t){return ki([[],[{type:0,data:Si(1)}],[],[{type:5,data:new Uint8Array(Float32Array.from([e/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([i/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([t/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([1]).buffer)}],[],[],[],[],[],[{type:0,data:Si(1)}]])}function sit(e){switch(e){case 0:return xA(99,222,171);case 1:return xA(162,197,240);case 2:return xA(255,189,189)}return xA(255*Math.random(),255*Math.random(),255*Math.random())}function Tr(e,i,t,n){var r=Oi.find(e,i[t].location);if(!r)throw"Could not find ".concat(i[t].location," in Numbers template");var s=X1(j1(r.content));n(s.find(function(l){return l.id==t}),s),r.content=T0(_0(s)),r.size=r.content.length}function Id(e,i,t){var n=Oi.find(e,i[t].location);if(!n)throw"Could not find ".concat(i[t].location," in Numbers template");return X1(j1(n.content)).find(function(o){return o.id==t})}function jN(e,i,t){e[3].push({type:2,data:ki([[],[{type:0,data:Si(i)}],[{type:2,data:Go(t.replace(/-[\s\S]*$/,""))}],[{type:2,data:Go(t)}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Si(0)}],[],[{type:0,data:Si(0)}]])}),e[1]=[{type:0,data:Si(Math.max(i+1,Fn(e[1][0].data)))}]}function fp(e,i,t,n,r,s){s||(s=Md({deps:[],location:"",type:i},r));var o="".concat(n,"-").concat(s,".iwa");r[s].location="Root Entry"+o,Oi.utils.cfb_add(e,o,T0(_0([{id:s,messages:[XN(i,ki(t))]}])));var l=o.replace(/^[\/]/,"").replace(/^Index\//,"").replace(/\.iwa$/,"");return Tr(e,r,2,function(b){var C=ci(b.messages[0].data);jN(C,s||0,l),b.messages[0].data=ki(C)}),s}function ol(e,i,t,n){var r=i[t].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),s=e[3].findIndex(function(l){var b,C,D=ci(l.data);return null!=(b=D[3])&&b[0]?Oc(D[3][0].data)==r:!(null==(C=D[2])||!C[0]||Oc(D[2][0].data)!=r)}),o=ci(e[3][s].data);o[6]||(o[6]=[]),(Array.isArray(n)?n:[n]).forEach(function(l){o[6].push({type:2,data:ki([[],[{type:0,data:Si(l)}]])})}),e[3][s].data=ki(o)}var ait=!0;function $N(e){!function oit(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function cit(e,i){e&&!e.SSF&&(e.SSF=pr(Ri)),e&&e.SSF&&(u0(),f1(e.SSF),i.revssf=WE(e.SSF),i.revssf[e.SSF[65535]]=0,i.ssf=e.SSF),i.rels={},i.wbrels={},i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,V1?i.revStrings=new Map:(i.revStrings={},i.revStrings.foo=[],delete i.revStrings.foo);var t="xml",n=w7t.indexOf(i.bookType)>-1,r={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};$N(i=i||{});var s=XL(),o="",l=0;if(i.cellXfs=[],xf(i.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),cn(s,o="docProps/core.xml",att(e.Props,i)),r.coreprops.push(o),dr(i.rels,2,o,hn.CORE_PROPS),o="docProps/app.xml",!e.Props||!e.Props.SheetNames)if(e.Workbook&&e.Workbook.Sheets){for(var b=[],C=0;C<e.SheetNames.length;++C)2!=(e.Workbook.Sheets[C]||{}).Hidden&&b.push(e.SheetNames[C]);e.Props.SheetNames=b}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,cn(s,o,ctt(e.Props)),r.extprops.push(o),dr(i.rels,3,o,hn.EXT_PROPS),e.Custprops!==e.Props&&Jr(e.Custprops||{}).length>0&&(cn(s,o="docProps/custom.xml",dtt(e.Custprops)),r.custprops.push(o),dr(i.rels,4,o,hn.CUST_PROPS));var D=["SheetJ5"];for(i.tcid=0,l=1;l<=e.SheetNames.length;++l){var R={"!id":{}},O=e.Sheets[e.SheetNames[l-1]];if(cn(s,o="xl/worksheets/sheet"+l+"."+t,BXt(l-1,i,e,R)),r.sheets.push(o),dr(i.wbrels,-1,"worksheets/sheet"+l+"."+t,hn.WS[0]),O){var U=O["!comments"],X=!1,W="";if(U&&U.length>0){var Z=!1;U.forEach(function(rt){rt[1].forEach(function(st){1==st.T&&(Z=!0)})}),Z&&(cn(s,W="xl/threadedComments/threadedComment"+l+".xml",ret(U,D,i)),r.threadedcomments.push(W),dr(R,-1,"../threadedComments/threadedComment"+l+".xml",hn.TCMNT)),cn(s,W="xl/comments"+l+"."+t,d7t(U)),r.comments.push(W),dr(R,-1,"../comments"+l+"."+t,hn.CMNT),X=!0}O["!legacy"]&&X&&cn(s,"xl/drawings/vmlDrawing"+l+".vml",iet(l,O["!comments"])),delete O["!comments"],delete O["!legacy"]}R["!id"].rId1&&cn(s,E1(o),v0(R))}return null!=i.Strings&&i.Strings.length>0&&(cn(s,o="xl/sharedStrings."+t,function CGt(e,i){if(!i.bookSST)return"";var t=[Us];t[t.length]=je("sst",null,{xmlns:Km[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(null!=e[n]){var r=e[n],s="<si>";r.r?s+=r.r:(s+="<t",r.t||(r.t=""),"string"!=typeof r.t&&(r.t=String(r.t)),r.t.match(TGt)&&(s+=' xml:space="preserve"'),s+=">"+gn(r.t)+"</t>"),t[t.length]=s+="</si>"}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}(i.Strings,i)),r.strs.push(o),dr(i.wbrels,-1,"sharedStrings."+t,hn.SST)),cn(s,o="xl/workbook."+t,function uYt(e){var i=[Us];i[i.length]=je("workbook",null,{xmlns:Km[0],"xmlns:r":va.r});var t=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(LN.forEach(function(l){null!=e.Workbook.WBProps[l[0]]&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),i[i.length]=je("workbookPr",null,n);var r=e.Workbook&&e.Workbook.Sheets||[],s=0;if(r&&r[0]&&r[0].Hidden){for(i[i.length]="<bookViews>",s=0;s!=e.SheetNames.length&&r[s]&&r[s].Hidden;++s);s==e.SheetNames.length&&(s=0),i[i.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',i[i.length]="</bookViews>"}for(i[i.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:gn(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),r[s])switch(r[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden"}i[i.length]=je("sheet",null,o)}return i[i.length]="</sheets>",t&&(i[i.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var b={name:l.Name};l.Comment&&(b.comment=l.Comment),null!=l.Sheet&&(b.localSheetId=""+l.Sheet),l.Hidden&&(b.hidden="1"),l.Ref&&(i[i.length]=je("definedName",gn(l.Ref),b))}),i[i.length]="</definedNames>"),i.length>2&&(i[i.length]="</workbook>",i[1]=i[1].replace("/>",">")),i.join("")}(e)),r.workbooks.push(o),dr(i.rels,1,o,hn.WB),cn(s,o="xl/theme/theme1.xml",DN(e.Themes,i)),r.themes.push(o),dr(i.wbrels,-1,"theme/theme1.xml",hn.THEME),cn(s,o="xl/styles."+t,function uHt(e,i){var n,t=[Us,je("styleSheet",null,{xmlns:Km[0],"xmlns:vt":va.vt})];return e.SSF&&null!=(n=function oHt(e){var i=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)null!=e[n]&&(i[i.length]=je("numFmt",null,{numFmtId:n,formatCode:gn(e[n])}))}),1===i.length?"":(i[i.length]="</numFmts>",i[0]=je("numFmts",null,{count:i.length-2}).replace("/>",">"),i.join(""))}(e.SSF))&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=function cHt(e){var i=[];return i[i.length]=je("cellXfs",null),e.forEach(function(t){i[i.length]=je("xf",null,t)}),i[i.length]="</cellXfs>",2===i.length?"":(i[0]=je("cellXfs",null,{count:i.length-2}).replace("/>",">"),i.join(""))}(i.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}(e,i)),r.styles.push(o),dr(i.wbrels,-1,"styles."+t,hn.STY),e.vbaraw&&n&&(cn(s,o="xl/vbaProject.bin",e.vbaraw),r.vba.push(o),dr(i.wbrels,-1,"vbaProject.bin",hn.VBA)),cn(s,o="xl/metadata."+t,function e7t(){var e=[Us];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}()),r.metadata.push(o),dr(i.wbrels,-1,"metadata."+t,hn.XLMETA),D.length>1&&(cn(s,o="xl/persons/person.xml",set(D)),r.people.push(o),dr(i.wbrels,-1,"persons/person.xml",hn.PEOPLE)),cn(s,"[Content_Types].xml",itt(r,i)),cn(s,"_rels/.rels",v0(i.rels)),cn(s,"xl/_rels/workbook.xml.rels",v0(i.wbrels)),delete i.revssf,delete i.ssf,s}function hit(e,i){switch(i.type){case"base64":case"binary":break;case"buffer":case"array":i.type="";break;case"file":return m1(i.file,Oi.write(e,{type:_n?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+i.bookType+"' files");default:throw new Error("Unrecognized type "+i.type)}return Oi.write(e,i)}function mQt(e,i){switch(i.bookType){case"ods":return tit(e,i);case"numbers":return function J$t(e,i){if(!i||!i.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=Oi.read(i.numbers,{type:"base64"}),n=function Z$t(e){var i={},t=[];return e.FileIndex.map(function(n,r){return[n,e.FullPaths[r]]}).forEach(function(n){var r=n[0],s=n[1];2==r.type&&r.name.match(/\.iwa/)&&0==r.content[0]&&X1(j1(r.content)).forEach(function(o){t.push(o.id),i[o.id]={deps:[],location:s,type:Fn(o.messages[0].meta[1][0].data)}})}),e.FileIndex.forEach(function(n){n.name.match(/\.iwa/)&&0==n.content[0]&&X1(j1(n.content)).forEach(function(r){r.messages.forEach(function(s){[5,6].forEach(function(o){s.meta[o]&&s.meta[o].forEach(function(l){i[r.id].deps.push(Fn(l.data))})})})})}),i}(t),r=Id(t,n,1);if(null==r)throw"Could not find message ".concat(1," in Numbers template");var s=up(ci(r.messages[0].data)[1],On);if(s.length>1)throw new Error("Template NUMBERS file must have exactly one sheet");return e.SheetNames.forEach(function(o,l){l>=1&&(function tQt(e,i,t){var n=-1,r=-1,s={};Tr(e,i,1,function(b,C){var D=ci(b.messages[0].data);n=On(ci(b.messages[0].data)[1][0].data),r=Md({deps:[1],location:i[n].location,type:2},i),s[n]=r,To(b,r),D[1].push({type:2,data:_o(r)});var R=Id(e,i,n);R.id=r,i[1].location==i[r].location?C.push(R):Tr(e,i,r,function(O,L){return L.push(R)}),b.messages[0].data=ki(D)});var o=-1;Tr(e,i,r,function(b,C){for(var D=ci(b.messages[0].data),R=3;R<=69;++R)delete D[R];var O=up(D[2],On);O.forEach(function(U){return Yu(b,U)}),o=Md({deps:[r],location:i[O[0]].location,type:i[O[0]].type},i),To(b,o),s[O[0]]=o,D[2]=[{type:2,data:_o(o)}];var L=Id(e,i,O[0]);L.id=o,i[O[0]].location==i[r].location?C.push(L):(Tr(e,i,2,function(U){var X=ci(U.messages[0].data);ol(X,i,r,o),U.messages[0].data=ki(X)}),Tr(e,i,o,function(U,X){return X.push(L)})),b.messages[0].data=ki(D)});var l=-1;Tr(e,i,o,function(b,C){for(var D=ci(b.messages[0].data),R=ci(D[1][0].data),O=3;O<=69;++O)delete R[O];var L=On(R[2][0].data);R[2][0].data=_o(s[L]),D[1][0].data=ki(R);var U=On(D[2][0].data);Yu(b,U),To(b,l=Md({deps:[o],location:i[U].location,type:i[U].type},i)),s[U]=l,D[2][0].data=_o(l);var X=Id(e,i,U);X.id=l,i[o].location==i[l].location?C.push(X):Tr(e,i,l,function(W,Z){return Z.push(X)}),b.messages[0].data=ki(D)}),Tr(e,i,l,function(b,C){var D,R,O=ci(b.messages[0].data),U=Oc(O[1][0].data).replace(/-[A-Z0-9]*/,"-".concat(("0000"+t.toString(16)).slice(-4)));if(O[1][0].data=Go(U),[12,13,29,31,32,33,39,44,47,81,82,84].forEach(function(_t){return delete O[_t]}),O[45]){var W=On(ci(O[45][0].data)[1][0].data);Yu(b,W),delete O[45]}O[70]&&(null==(D=ci(O[70][0].data)[2])||D.forEach(function(_t){var Mt=ci(_t.data);[2,3].map(function(ft){return Mt[ft][0]}).forEach(function(ft){var dt=ci(ft.data);if(dt[8]){var pt=On(dt[8][0].data);Yu(b,pt)}})}),delete O[70]),[46,30,34,35,36,38,48,49,60,61,62,63,64,71,72,73,74,75,85,86,87,88,89].forEach(function(_t){if(O[_t]){var Mt=On(O[_t][0].data);delete O[_t],Yu(b,Mt)}});var rt=ci(O[4][0].data);[2,4,5,6,11,12,13,15,16,17,18,19,20,21,22].forEach(function(_t){var Mt;if(null!=(Mt=rt[_t])&&Mt[0]){var ft=On(rt[_t][0].data),dt=Md({deps:[l],location:i[ft].location,type:i[ft].type},i);Yu(b,ft),To(b,dt),s[ft]=dt;var pt=Id(e,i,ft);if(pt.id=dt,i[ft].location==i[l].location)C.push(pt);else{i[dt].location=i[ft].location.replace(ft.toString(),dt.toString()),i[dt].location==i[ft].location&&(i[dt].location=i[dt].location.replace(/\.iwa/,"-".concat(dt,".iwa"))),Oi.utils.cfb_add(e,i[dt].location,T0(_0([pt])));var bt=i[dt].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");Tr(e,i,2,function(Tt){var Et=ci(Tt.messages[0].data);jN(Et,dt,bt),ol(Et,i,l,dt),Tt.messages[0].data=ki(Et)})}rt[_t][0].data=_o(dt)}});var st=ci(rt[1][0].data);null==(R=st[2])||R.forEach(function(_t){var Mt=On(_t.data),ft=Md({deps:[l],location:i[Mt].location,type:i[Mt].type},i);Yu(b,Mt),To(b,ft),s[Mt]=ft;var dt=Id(e,i,Mt);if(dt.id=ft,i[Mt].location==i[l].location)C.push(dt);else{i[ft].location=i[Mt].location.replace(Mt.toString(),ft.toString()),i[ft].location==i[Mt].location&&(i[ft].location=i[ft].location.replace(/\.iwa/,"-".concat(ft,".iwa"))),Oi.utils.cfb_add(e,i[ft].location,T0(_0([dt])));var pt=i[ft].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");Tr(e,i,2,function(bt){var Tt=ci(bt.messages[0].data);jN(Tt,ft,pt),ol(Tt,i,l,ft),bt.messages[0].data=ki(Tt)})}_t.data=_o(ft)}),rt[1][0].data=ki(st);var vt=ci(rt[3][0].data);vt[1].forEach(function(_t){var Mt=ci(_t.data),ft=On(Mt[2][0].data),dt=s[ft];if(!s[ft]){dt=Md({deps:[l],location:"",type:i[ft].type},i),i[dt].location="Root Entry/Index/Tables/Tile-".concat(dt,".iwa"),s[ft]=dt;var pt=Id(e,i,ft);pt.id=dt,Yu(b,ft),To(b,dt),Oi.utils.cfb_add(e,"/Index/Tables/Tile-".concat(dt,".iwa"),T0(_0([pt]))),Tr(e,i,2,function(bt){var Tt=ci(bt.messages[0].data);Tt[3].push({type:2,data:ki([[],[{type:0,data:Si(dt)}],[{type:2,data:Go("Tables/Tile")}],[{type:2,data:Go("Tables/Tile-".concat(dt))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Si(0)}],[],[{type:0,data:Si(0)}]])}),Tt[1]=[{type:0,data:Si(Math.max(dt+1,Fn(Tt[1][0].data)))}],ol(Tt,i,l,dt),bt.messages[0].data=ki(Tt)})}Mt[2][0].data=_o(dt),_t.data=ki(Mt)}),rt[3][0].data=ki(vt),O[4][0].data=ki(rt),b.messages[0].data=ki(O)})}(t,n,l+1),r=Id(t,n,1),s=up(ci(r.messages[0].data)[1],On)),function eQt(e,i,t,n,r,s){var o=[];Tr(e,i,s,function(C){var D=ci(C.messages[0].data);D[1]=[{type:2,data:Go(n)}],o=up(D[2],On),C.messages[0].data=ki(D)});var b=On(ci(Id(e,i,o[0]).messages[0].data)[2][0].data);Tr(e,i,b,function(C,D){return function iQt(e,i,t,n,r,s){if(!t["!ref"])throw new Error("Cannot export empty sheet to NUMBERS");var o=ya(t["!ref"]);o.s.r=o.s.c=0;var l=!1;o.e.c>999&&(l=!0,o.e.c=999),o.e.r>999999&&(l=!0,o.e.r=999999),l&&console.error("Truncating to ".concat(un(o)));var b=[];if(t["!data"])b=t["!data"];else{for(var C=[],D=0;D<=o.e.c;++D)C[D]=dn(D);for(var R=0;R<=o.e.r;++R){b[R]=[];var O=""+(R+1);for(D=0;D<=o.e.c;++D){var L=t[C[D]+O];L&&(b[R][D]=L)}}}var U={cmnt:[{a:"~54ee77S~",t:"... the people who are crazy enough to think they can change the world, are the ones who do."}],ferr:[],fmla:[],nfmt:[],ofmt:[],rsst:[{v:"~54ee77S~",l:"https://sheetjs.com/"}],sst:["~Sh33tJ5~"]},X=ci(n.messages[0].data);X[6][0].data=Si(o.e.r+1),X[7][0].data=Si(o.e.c+1),delete X[46];var W=ci(X[4][0].data),Z=On(ci(W[1][0].data)[2][0].data);Tr(e,i,Z,function(Kt,Re){var Ce,oi=ci(Kt.messages[0].data);if(null!=(Ce=oi?.[2])&&Ce[0])for(var ui=0;ui<b.length;++ui){var ni=ci(oi[2][0].data);ni[1][0].data=Si(ui),ni[4][0].data=Si(b[ui].length),oi[2][ui]={type:oi[2][0].type,data:ki(ni)}}Kt.messages[0].data=ki(oi)});var rt=On(W[2][0].data);Tr(e,i,rt,function(Kt,Re){for(var Ce=ci(Kt.messages[0].data),oi=0;oi<=o.e.c;++oi){var ui=ci(Ce[2][0].data);ui[1][0].data=Si(oi),ui[4][0].data=Si(o.e.r+1),Ce[2][oi]={type:Ce[2][0].type,data:ki(ui)}}Kt.messages[0].data=ki(Ce)});var st=ci(W[9][0].data);st[1]=[];var vt=ci(W[3][0].data),_t=256;vt[2]=[{type:0,data:Si(_t)}];var Ce,Mt=On(ci(vt[1][0].data)[2][0].data),ft=(Ce=ci(Id(e,i,2).messages[0].data)[3].filter(function(oi){return Fn(ci(oi.data)[1][0].data)==Mt}),Ce?.length?Fn(ci(Ce[0].data)[12][0].data):0);Oi.utils.cfb_del(e,i[Mt].location),Tr(e,i,2,function(Kt){var Re=ci(Kt.messages[0].data);Re[3]=Re[3].filter(function(Ce){return Fn(ci(Ce.data)[1][0].data)!=Mt}),function q$t(e,i,t,n){var r=i[t].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),s=e[3].findIndex(function(l){var b,C,D=ci(l.data);return null!=(b=D[3])&&b[0]?Oc(D[3][0].data)==r:!(null==(C=D[2])||!C[0]||Oc(D[2][0].data)!=r)}),o=ci(e[3][s].data);o[6]||(o[6]=[]),o[6]=o[6].filter(function(l){return Fn(ci(l.data)[1][0].data)!=n}),e[3][s].data=ki(o)}(Re,i,s,Mt),Kt.messages[0].data=ki(Re)}),Yu(n,Mt),vt[1]=[];for(var dt=Math.ceil((o.e.r+1)/_t),pt=0;pt<dt;++pt){var bt=Md({deps:[],location:"",type:6002},i);i[bt].location="Root Entry/Index/Tables/Tile-".concat(bt,".iwa");for(var Tt=[[],[{type:0,data:Si(0)}],[{type:0,data:Si(Math.min(o.e.r+1,(pt+1)*_t))}],[{type:0,data:Si(0)}],[{type:0,data:Si(Math.min((pt+1)*_t,o.e.r+1)-pt*_t)}],[],[{type:0,data:Si(5)}],[{type:0,data:Si(1)}],[{type:0,data:Si(ait?1:0)}]],Et=pt*_t;Et<=Math.min(o.e.r,(pt+1)*_t-1);++Et){var Dt=K$t(b[Et],U,ait);Dt[1][0].data=Si(Et-pt*_t),Tt[5].push({data:ki(Dt),type:2})}vt[1].push({type:2,data:ki([[],[{type:0,data:Si(pt)}],[{type:2,data:_o(bt)}]])});var ve=T0(_0([{id:bt,messages:[XN(6002,ki(Tt))]}]));Oi.utils.cfb_add(e,"/Index/Tables/Tile-".concat(bt,".iwa"),ve),Tr(e,i,2,function(Kt){var Re=ci(Kt.messages[0].data);Re[3].push({type:2,data:ki([[],[{type:0,data:Si(bt)}],[{type:2,data:Go("Tables/Tile")}],[{type:2,data:Go("Tables/Tile-".concat(bt))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Si(0)}],[],[{type:0,data:Si(ft)}]])}),Re[1]=[{type:0,data:Si(Math.max(bt+1,Fn(Re[1][0].data)))}],ol(Re,i,s,bt),Kt.messages[0].data=ki(Re)}),To(n,bt),st[1].push({type:2,data:ki([[],[{type:0,data:Si(pt*_t)}],[{type:0,data:Si(pt)}]])})}if(W[3][0].data=ki(vt),W[9][0].data=ki(st),W[10]=[{type:2,data:new Uint8Array([])}],t["!merges"]){var fe=Md({type:6144,deps:[s],location:i[s].location},i);r.push({id:fe,messages:[XN(6144,ki([[],t["!merges"].map(function(Kt){return{type:2,data:ki([[],[{type:2,data:ki([[],[{type:5,data:new Uint8Array(new Uint16Array([Kt.s.r,Kt.s.c]).buffer)}]])}],[{type:2,data:ki([[],[{type:5,data:new Uint8Array(new Uint16Array([Kt.e.r-Kt.s.r+1,Kt.e.c-Kt.s.c+1]).buffer)}]])}]])}})]))]}),W[13]=[{type:2,data:_o(fe)}],Tr(e,i,2,function(Kt){var Re=ci(Kt.messages[0].data);ol(Re,i,s,fe),Kt.messages[0].data=ki(Re)}),To(n,fe)}else delete W[13];var Qt=On(W[4][0].data);Tr(e,i,Qt,function(Kt){var Re=ci(Kt.messages[0].data);Re[3]=[],U.sst.forEach(function(Ce,oi){0!=oi&&Re[3].push({type:2,data:ki([[],[{type:0,data:Si(oi)}],[{type:0,data:Si(1)}],[{type:2,data:Go(Ce)}]])})}),Kt.messages[0].data=ki(Re)});var _e=On(W[17][0].data);if(Tr(e,i,_e,function(Kt){var Re=ci(Kt.messages[0].data);Re[3]=[];var Ce=[904980,903835,903815,903845];U.rsst.forEach(function(oi,ui){if(0!=ui){var ni=[[],[{type:0,data:new Uint8Array([5])}],[],[{type:2,data:Go(oi.v)}]];ni[10]=[{type:0,data:new Uint8Array([1])}],ni[19]=[{type:2,data:new Uint8Array([10,6,8,0,18,2,101,110])}],ni[5]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,155,149,55])}],ni[2]=[{type:2,data:new Uint8Array([8,148,158,55])}],ni[6]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],ni[7]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,135,149,55])}],ni[8]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,165,149,55])}],ni[14]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],ni[24]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}];var Ft=Md({deps:[],location:"",type:2001},i),jt=[];if(oi.l){var Xt=fp(e,2032,[[],[],[{type:2,data:Go(oi.l)}]],"/Index/Tables/DataList",i);ni[11]=[];var Ht=[[],[]];Ht[1]||(Ht[1]=[]),Ht[1].push({type:2,data:ki([[],[{type:0,data:Si(0)}],[{type:2,data:_o(Xt)}]])}),ni[11][0]={type:2,data:ki(Ht)},jt.push(Xt)}fp(e,2001,ni,"/Index/Tables/DataList",i,Ft),Tr(e,i,Ft,function(Pt){Ce.forEach(function(Ci){return To(Pt,Ci)}),jt.forEach(function(Ci){return To(Pt,Ci)})});var Te=fp(e,6218,[[],[{type:2,data:_o(Ft)}],[],[{type:2,data:new Uint8Array([13,255,255,255,0,18,10,16,255,255,1,24,255,255,255,255,7])}]],"/Index/Tables/DataList",i);Tr(e,i,Te,function(Pt){return To(Pt,Ft)}),Re[3].push({type:2,data:ki([[],[{type:0,data:Si(ui)}],[{type:0,data:Si(1)}],[],[],[],[],[],[],[{type:2,data:_o(Te)}]])}),To(Kt,Te),Tr(e,i,2,function(Pt){var Ci=ci(Pt.messages[0].data);ol(Ci,i,_e,Te),ol(Ci,i,Te,Ft),ol(Ci,i,Ft,jt),ol(Ci,i,Ft,Ce),Pt.messages[0].data=ki(Ci)})}}),Kt.messages[0].data=ki(Re)}),U.cmnt.length>1){var Ne=On(W[19][0].data),Se={},Ei=0;Tr(e,i,Ne,function(Kt){var Re=ci(Kt.messages[0].data);Re[3]=[],U.cmnt.forEach(function(Ce,oi){if(0!=oi){var ui=[];Ce.replies&&Ce.replies.forEach(function(jt){Se[jt.a||""]||(Se[jt.a||""]=fp(e,212,[[],[{type:2,data:Go(jt.a||"")}],[{type:2,data:sit(++Ei)}],[],[{type:0,data:Si(0)}]],"/Index/Tables/DataList",i));var Xt=Se[jt.a||""],Ht=fp(e,3056,[[],[{type:2,data:Go(jt.t||"")}],[{type:2,data:ki([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:_o(Xt)}]],"/Index/Tables/DataList",i);Tr(e,i,Ht,function(Te){return To(Te,Xt)}),ui.push(Ht),Tr(e,i,2,function(Te){var Pt=ci(Te.messages[0].data);ol(Pt,i,Ht,Xt),Te.messages[0].data=ki(Pt)})}),Se[Ce.a||""]||(Se[Ce.a||""]=fp(e,212,[[],[{type:2,data:Go(Ce.a||"")}],[{type:2,data:sit(++Ei)}],[],[{type:0,data:Si(0)}]],"/Index/Tables/DataList",i));var ni=Se[Ce.a||""],Ft=fp(e,3056,[[],[{type:2,data:Go(Ce.t||"")}],[{type:2,data:ki([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:_o(ni)}],ui.map(function(jt){return{type:2,data:_o(jt)}}),[{type:2,data:ki([[],[{type:0,data:Si(oi)}],[{type:0,data:Si(0)}]])}]],"/Index/Tables/DataList",i);Tr(e,i,Ft,function(jt){To(jt,ni),ui.forEach(function(Xt){return To(jt,Xt)})}),Re[3].push({type:2,data:ki([[],[{type:0,data:Si(oi)}],[{type:0,data:Si(1)}],[],[],[],[],[],[],[],[{type:2,data:_o(Ft)}]])}),To(Kt,Ft),Tr(e,i,2,function(jt){var Xt=ci(jt.messages[0].data);ol(Xt,i,Ne,Ft),ol(Xt,i,Ft,ni),ui.length&&ol(Xt,i,Ft,ui),jt.messages[0].data=ki(Xt)})}}),Re[2][0].data=Si(U.cmnt.length+1),Kt.messages[0].data=ki(Re)})}X[4][0].data=ki(W),n.messages[0].data=ki(X)}(e,i,t,C,D,b)})}(t,n,e.Sheets[o],o,0,s[l])}),t}(e,i);case"xlsb":return function lQt(e,i){e&&!e.SSF&&(e.SSF=pr(Ri)),e&&e.SSF&&(u0(),f1(e.SSF),i.revssf=WE(e.SSF),i.revssf[e.SSF[65535]]=0,i.ssf=e.SSF),i.rels={},i.wbrels={},i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,V1?i.revStrings=new Map:(i.revStrings={},i.revStrings.foo=[],delete i.revStrings.foo);var t="bin",r={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};$N(i=i||{});var s=XL(),o="",l=0;if(i.cellXfs=[],xf(i.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),cn(s,o="docProps/core.xml",att(e.Props,i)),r.coreprops.push(o),dr(i.rels,2,o,hn.CORE_PROPS),o="docProps/app.xml",!e.Props||!e.Props.SheetNames)if(e.Workbook&&e.Workbook.Sheets){for(var b=[],C=0;C<e.SheetNames.length;++C)2!=(e.Workbook.Sheets[C]||{}).Hidden&&b.push(e.SheetNames[C]);e.Props.SheetNames=b}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,cn(s,o,ctt(e.Props)),r.extprops.push(o),dr(i.rels,3,o,hn.EXT_PROPS),e.Custprops!==e.Props&&Jr(e.Custprops||{}).length>0&&(cn(s,o="docProps/custom.xml",dtt(e.Custprops)),r.custprops.push(o),dr(i.rels,4,o,hn.CUST_PROPS));var D=["SheetJ5"];for(i.tcid=0,l=1;l<=e.SheetNames.length;++l){var R={"!id":{}},O=e.Sheets[e.SheetNames[l-1]];if(cn(s,o="xl/worksheets/sheet"+l+"."+t,Zjt(l-1,i,e,R)),r.sheets.push(o),dr(i.wbrels,-1,"worksheets/sheet"+l+"."+t,hn.WS[0]),O){var U=O["!comments"],X=!1,W="";if(U&&U.length>0){var Z=!1;U.forEach(function(st){st[1].forEach(function(vt){1==vt.T&&(Z=!0)})}),Z&&(cn(s,W="xl/threadedComments/threadedComment"+l+".xml",ret(U,D,i)),r.threadedcomments.push(W),dr(R,-1,"../threadedComments/threadedComment"+l+".xml",hn.TCMNT)),cn(s,W="xl/comments"+l+"."+t,v7t(U)),r.comments.push(W),dr(R,-1,"../comments"+l+"."+t,hn.CMNT),X=!0}O["!legacy"]&&X&&cn(s,"xl/drawings/vmlDrawing"+l+".vml",iet(l,O["!comments"])),delete O["!comments"],delete O["!legacy"]}R["!id"].rId1&&cn(s,E1(o),v0(R))}return null!=i.Strings&&i.Strings.length>0&&(cn(s,o="xl/sharedStrings."+t,function MGt(e){var i=po();Ee(i,159,function AGt(e,i){return i||(i=re(8)),i.write_shift(4,e.Count),i.write_shift(4,e.Unique),i}(e));for(var t=0;t<e.length;++t)Ee(i,19,DGt(e[t]));return Ee(i,160),i.end()}(i.Strings)),r.strs.push(o),dr(i.wbrels,-1,"sharedStrings."+t,hn.SST)),cn(s,o="xl/workbook."+t,AYt(e)),r.workbooks.push(o),dr(i.rels,1,o,hn.WB),cn(s,o="xl/theme/theme1.xml",DN(e.Themes,i)),r.themes.push(o),dr(i.wbrels,-1,"theme/theme1.xml",hn.THEME),cn(s,o="xl/styles."+t,PHt(e,i)),r.styles.push(o),dr(i.wbrels,-1,"styles."+t,hn.STY),e.vbaraw&&(cn(s,o="xl/vbaProject.bin",e.vbaraw),r.vba.push(o),dr(i.wbrels,-1,"vbaProject.bin",hn.VBA)),cn(s,o="xl/metadata."+t,function qHt(){var e=po();return Ee(e,332),Ee(e,334,kc(1)),Ee(e,335,function jHt(e){var i=re(12+2*e.name.length);return i.write_shift(4,e.flags),i.write_shift(4,e.version),ba(e.name,i),i.slice(0,i.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),Ee(e,336),Ee(e,339,function QHt(e,i){var t=re(8+2*i.length);return t.write_shift(4,e),ba(i,t),t.slice(0,t.l)}(1,"XLDAPR")),Ee(e,52),Ee(e,35,kc(514)),Ee(e,4096,kc(0)),Ee(e,4097,sc(1)),Ee(e,36),Ee(e,53),Ee(e,340),Ee(e,337,function ZHt(e,i){var t=re(8);return t.write_shift(4,e),t.write_shift(4,i?1:0),t}(1,!0)),Ee(e,51,function $Ht(e){var i=re(4+8*e.length);i.write_shift(4,e.length);for(var t=0;t<e.length;++t)i.write_shift(4,e[t][0]),i.write_shift(4,e[t][1]);return i}([[1,0]])),Ee(e,338),Ee(e,333),e.end()}()),r.metadata.push(o),dr(i.wbrels,-1,"metadata."+t,hn.XLMETA),D.length>1&&(cn(s,o="xl/persons/person.xml",set(D)),r.people.push(o),dr(i.wbrels,-1,"persons/person.xml",hn.PEOPLE)),cn(s,"[Content_Types].xml",itt(r,i)),cn(s,"_rels/.rels",v0(i.rels)),cn(s,"xl/_rels/workbook.bin.rels",v0(i.wbrels)),delete i.revssf,delete i.ssf,s}(e,i);default:return cit(e,i)}}function kd(e,i,t){t||(t="");var n=t+e;switch(i.type){case"base64":return BE(Ed(n));case"binary":return Ed(n);case"string":return e;case"file":return m1(i.file,n,"utf8");case"buffer":return _n?_d(n,"utf8"):typeof TextEncoder<"u"?(new TextEncoder).encode(n):kd(n,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+i.type)}function yA(e,i){switch(i.type){case"string":case"base64":case"binary":for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return"base64"==i.type?BE(t):"string"==i.type?gr(t):t;case"file":return m1(i.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+i.type)}}function Y1(e,i){(function LE(){ql(1200),function c6t(){OE(1252)}()})(),function Pet(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");!function lYt(e,i,t){e.forEach(function(n,r){Ret(n);for(var s=0;s<r;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(t){var o=i&&i[r]&&i[r].CodeName||n;if(95==o.charCodeAt(0)&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}(e.SheetNames,e.Workbook&&e.Workbook.Sheets||[],!!e.vbaraw);for(var t=0;t<e.SheetNames.length;++t)dXt(e.Sheets[e.SheetNames[t]],0,t);e.SheetNames.forEach(function(n,r){var s=e.Sheets[n];if(s&&s["!autofilter"]){var o;e.Workbook||(e.Workbook={}),e.Workbook.Names||(e.Workbook.Names=[]),e.Workbook.Names.forEach(function(b){"_xlnm._FilterDatabase"==b.Name&&b.Sheet==r&&(o=b)});var l=T1(n)+"!"+_1(s["!autofilter"].ref);o?o.Ref=l:e.Workbook.Names.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:l})}})}(e);var t=pr(i||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),"array"==t.type){t.type="binary";var n=Y1(e,t);return t.type="array",d1(n)}var r=0;if(t.sheet&&(r="number"==typeof t.sheet?t.sheet:e.SheetNames.indexOf(t.sheet),!e.SheetNames[r]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return kd(r$t(e,t),t);case"slk":case"sylk":return kd(Wtt.from_sheet(e.Sheets[e.SheetNames[r]],t,e),t);case"htm":case"html":return kd(Wet(e.Sheets[e.SheetNames[r]],t),t);case"txt":return function xQt(e,i){switch(i.type){case"base64":return function h6t(e){for(var i="",t=0,n=0,r=0,s=0,o=0,l=0,b=0,C=0;C<e.length;)(t=e.charCodeAt(C++))>255&&(t=95),s=t>>2,(n=e.charCodeAt(C++))>255&&(n=95),o=(3&t)<<4|n>>4,(r=e.charCodeAt(C++))>255&&(r=95),l=(15&n)<<2|r>>6,b=63&r,isNaN(n)?l=b=64:isNaN(r)&&(b=64),i+=ho.charAt(s)+ho.charAt(o)+ho.charAt(l)+ho.charAt(b);return i}(e);case"binary":case"string":return e;case"file":return m1(i.file,e,"binary");case"buffer":return _n?_d(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+i.type)}(xit(e.Sheets[e.SheetNames[r]],t),t);case"csv":return kd(t4(e.Sheets[e.SheetNames[r]],t),t,"\ufeff");case"dif":return kd(Xtt.from_sheet(e.Sheets[e.SheetNames[r]],t),t);case"dbf":return yA(_N.from_sheet(e.Sheets[e.SheetNames[r]],t),t);case"prn":return kd(y0.from_sheet(e.Sheets[e.SheetNames[r]],t),t);case"rtf":return kd(function QGt(e,i){var t=["{\\rtf1\\ansi"];if(!e["!ref"])return t[0]+"}";for(var r,n=Gn(e["!ref"]),s=null!=e["!data"],o=[],l=n.s.r;l<=n.e.r;++l){t.push("\\trowd\\trautofit1");for(var b=n.s.c;b<=n.e.c;++b)t.push("\\cellx"+(b+1));for(t.push("\\pard\\intbl"),s&&(o=e["!data"][l]||[]),b=n.s.c;b<=n.e.c;++b){var C=Tn({r:l,c:b});(r=s?o[b]:e[C])&&(null!=r.v||r.f&&!r.F)?(t.push(" "+(r.w||(Ad(r),r.w)||"").replace(/[\r\n]/g,"\\par ")),t.push("\\cell")):t.push(" \\cell")}t.push("\\pard\\intbl\\row")}return t.join("")+"}"}(e.Sheets[e.SheetNames[r]]),t);case"eth":return kd(jtt.from_sheet(e.Sheets[e.SheetNames[r]],t),t);case"fods":return kd(tit(e,t),t);case"wk1":return yA(lp.sheet_to_wk1(e.Sheets[e.SheetNames[r]],t),t);case"wk3":return yA(lp.book_to_wk3(e,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),yA(Bet(e,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),function vQt(e,i){var t=i||{};return hit(function u$t(e,i){var t=i||{},n=Oi.utils.cfb_new({root:"R"}),r="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":r="/Workbook",t.biff=8;break;case"biff5":r="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Oi.utils.cfb_add(n,r,Bet(e,t)),8==t.biff&&(e.Props||e.Custprops)&&function d$t(e,i){var o,t=[],n=[],r=[],s=0,l=fq(cN,"n"),b=fq(dN,"n");if(e.Props)for(o=Jr(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(l,o[s])?t:Object.prototype.hasOwnProperty.call(b,o[s])?n:r).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=Jr(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(l,o[s])?t:Object.prototype.hasOwnProperty.call(b,o[s])?n:r).push([o[s],e.Custprops[o[s]]]);var C=[];for(s=0;s<r.length;++s)xtt.indexOf(r[s][0])>-1||ott.indexOf(r[s][0])>-1||null!=r[s][1]&&C.push(r[s]);n.length&&Oi.utils.cfb_add(i,"/\x05SummaryInformation",wtt(n,z1.SI,b,dN)),(t.length||C.length)&&Oi.utils.cfb_add(i,"/\x05DocumentSummaryInformation",wtt(t,z1.DSI,l,cN,C.length?C:null,z1.UDI))}(e,n),8==t.biff&&e.vbaraw&&function b7t(e,i){i.FullPaths.forEach(function(t,n){if(0!=n){var r=t.replace(/^[\/]*[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==r.slice(-1)&&Oi.utils.cfb_add(e,r,i.FileIndex[n].content)}})}(n,Oi.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),n}(e,t),t)}(e,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function pQt(e,i){var t=pr(i||{});return function fit(e,i){var t={},n=_n?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(i.compression&&(t.compression="DEFLATE"),i.password)t.type=n;else switch(i.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+i.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+i.type)}var r=e.FullPaths?Oi.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!i.compression}):e.generate(t);if(typeof Deno<"u"&&"string"==typeof r){if("binary"==i.type||"base64"==i.type)return r;r=new Uint8Array(d1(r))}return i.password&&typeof encrypt_agile<"u"?hit(encrypt_agile(r,i.password),i):"file"===i.type?m1(i.file,r):"string"==i.type?gr(r):r}(mQt(e,t),t)}(e,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function pit(e,i,t,n,r,s,o){var l=Pn(t),b=o.defval,C=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),D=!0,R=null!=e["!data"],O=1===r?[]:{};if(1!==r)if(Object.defineProperty)try{Object.defineProperty(O,"__rowNum__",{value:t,enumerable:!1})}catch{O.__rowNum__=t}else O.__rowNum__=t;if(!R||e["!data"][t])for(var L=i.s.c;L<=i.e.c;++L){var U=R?(e["!data"][t]||[])[L]:e[n[L]+l];if(null!=U&&void 0!==U.t){var X=U.v;switch(U.t){case"z":if(null==X)break;continue;case"e":X=0==X?null:void 0;break;case"s":case"b":case"n":if(!U.z||!Rl(U.z)||"number"==typeof(X=zu(X)))break;case"d":o&&(o.UTC||!1===o.raw)||(X=$m(new Date(X)));break;default:throw new Error("unrecognized type "+U.t)}if(null!=s[L]){if(null==X)if("e"==U.t&&null===X)O[s[L]]=null;else if(void 0!==b)O[s[L]]=b;else{if(!C||null!==X)continue;O[s[L]]=null}else O[s[L]]=("n"===U.t&&"boolean"==typeof o.rawNumbers?o.rawNumbers:C)?X:Ad(U,X,o);null!=X&&(D=!1)}}else{if(void 0===b)continue;null!=s[L]&&(O[s[L]]=b)}}return{row:O,isempty:D}}function qN(e,i){if(null==e||null==e["!ref"])return[];var t={t:"n",v:0},n=0,r=1,s=[],o=0,l="",b={s:{r:0,c:0},e:{r:0,c:0}},C=i||{},D=null!=C.range?C.range:e["!ref"];switch(1===C.header?n=1:"A"===C.header?n=2:Array.isArray(C.header)?n=3:null==C.header&&(n=0),typeof D){case"string":b=Gn(D);break;case"number":(b=Gn(e["!ref"])).s.r=D;break;default:b=D}n>0&&(r=0);var R=Pn(b.s.r),O=[],L=[],U=0,X=0,W=null!=e["!data"],Z=b.s.r,rt=0,st={};W&&!e["!data"][Z]&&(e["!data"][Z]=[]);var vt=C.skipHidden&&e["!cols"]||[],_t=C.skipHidden&&e["!rows"]||[];for(rt=b.s.c;rt<=b.e.c;++rt)if(!(vt[rt]||{}).hidden)switch(O[rt]=dn(rt),t=W?e["!data"][Z][rt]:e[O[rt]+R],n){case 1:s[rt]=rt-b.s.c;break;case 2:s[rt]=O[rt];break;case 3:s[rt]=C.header[rt-b.s.c];break;default:if(null==t&&(t={w:"__EMPTY",t:"s"}),l=o=Ad(t,null,C),X=st[o]||0){do{l=o+"_"+X++}while(st[l]);st[o]=X,st[l]=1}else st[o]=1;s[rt]=l}for(Z=b.s.r+r;Z<=b.e.r;++Z)if(!(_t[Z]||{}).hidden){var Mt=pit(e,b,Z,O,n,s,C);(!1===Mt.isempty||(1===n?!1!==C.blankrows:C.blankrows))&&(L[U++]=Mt.row)}return L.length=U,L}var git=/"/g;function vit(e,i,t,n,r,s,o,l){for(var b=!0,C=[],D="",R=Pn(t),O=null!=e["!data"],L=O&&e["!data"][t]||[],U=i.s.c;U<=i.e.c;++U)if(n[U]){var X=O?L[U]:e[n[U]+R];if(null==X)D="";else if(null!=X.v){b=!1,D=""+(l.rawNumbers&&"n"==X.t?X.v:Ad(X,null,l));for(var W=0,Z=0;W!==D.length;++W)if((Z=D.charCodeAt(W))===r||Z===s||34===Z||l.forceQuotes){D='"'+D.replace(git,'""')+'"';break}"ID"==D&&(D='"ID"')}else null==X.f||X.F?D="":(b=!1,(D="="+X.f).indexOf(",")>=0&&(D='"'+D.replace(git,'""')+'"'));C.push(D)}if(l.strip)for(;""===C[C.length-1];)--C.length;return!1===l.blankrows&&b?null:C.join(o)}function t4(e,i){var t=[],n=i??{};if(null==e||null==e["!ref"])return"";for(var r=Gn(e["!ref"]),s=void 0!==n.FS?n.FS:",",o=s.charCodeAt(0),l=void 0!==n.RS?n.RS:"\n",b=l.charCodeAt(0),C="",D=[],R=n.skipHidden&&e["!cols"]||[],O=n.skipHidden&&e["!rows"]||[],L=r.s.c;L<=r.e.c;++L)(R[L]||{}).hidden||(D[L]=dn(L));for(var U=0,X=r.s.r;X<=r.e.r;++X)(O[X]||{}).hidden||null!=(C=vit(e,r,X,D,o,b,s,n))&&(C||!1!==n.blankrows)&&t.push((U++?l:"")+C);return t.join("")}function xit(e,i){i||(i={}),i.FS="\t",i.RS="\n";var t=t4(e,i);return typeof pn>"u"||"string"==i.type?t:"\xff\xfe"+pn.utils.encode(1200,t,"str")}function yit(e,i,t){var n=t||{},r=e?null!=e["!data"]:n.dense;null!=Bs&&null==r&&(r=Bs);var s=+!n.skipHeader,o=e||{};!e&&r&&(o["!data"]=[]);var l=0,b=0;if(o&&null!=n.origin)if("number"==typeof n.origin)l=n.origin;else{var C="string"==typeof n.origin?vr(n.origin):n.origin;l=C.r,b=C.c}var D={s:{c:0,r:0},e:{c:b,r:l+i.length-1+s}};if(o["!ref"]){var R=Gn(o["!ref"]);D.e.c=Math.max(D.e.c,R.e.c),D.e.r=Math.max(D.e.r,R.e.r),-1==l&&(D.e.r=(l=R.e.r+1)+i.length-1+s)}else-1==l&&(l=0,D.e.r=i.length-1+s);var O=n.header||[],L=0,U=[];i.forEach(function(W,Z){r&&!o["!data"][l+Z+s]&&(o["!data"][l+Z+s]=[]),r&&(U=o["!data"][l+Z+s]),Jr(W).forEach(function(rt){-1==(L=O.indexOf(rt))&&(O[L=O.length]=rt);var st=W[rt],vt="z",_t="",Mt=r?"":dn(b+L)+Pn(l+Z+s),ft=r?U[b+L]:o[Mt];!st||"object"!=typeof st||st instanceof Date?("number"==typeof st?vt="n":"boolean"==typeof st?vt="b":"string"==typeof st?vt="s":st instanceof Date?(vt="d",n.UTC||(st=XE(st)),n.cellDates||(vt="n",st=ps(st)),_t=null!=ft&&ft.z&&Rl(ft.z)?ft.z:n.dateNF||Ri[14]):null===st&&n.nullError&&(vt="e",st=0),ft?(ft.t=vt,ft.v=st,delete ft.w,delete ft.R,_t&&(ft.z=_t)):r?U[b+L]=ft={t:vt,v:st}:o[Mt]=ft={t:vt,v:st},_t&&(ft.z=_t)):r?U[b+L]=st:o[Mt]=st})}),D.e.c=Math.max(D.e.c,b+O.length-1);var X=Pn(l);if(r&&!o["!data"][l]&&(o["!data"][l]=[]),s)for(L=0;L<O.length;++L)r?o["!data"][l][L+b]={t:"s",v:O[L]}:o[dn(L+b)+X]={t:"s",v:O[L]};return o["!ref"]=un(D),o}function Q1(e,i,t,n){var r=1;if(!t)for(;r<=65535&&-1!=e.SheetNames.indexOf(t="Sheet"+r);++r,t=void 0);if(!t||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(t)>=0&&t.length<32){var s=t.match(/\d+$/);r=s&&+s[0]||0;var o=s&&t.slice(0,s.index)||t;for(++r;r<=65535&&-1!=e.SheetNames.indexOf(t=o+r);++r);}if(Ret(t),e.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return e.SheetNames.push(t),e.Sheets[t]=i,t}var wit_json_to_sheet=function _Qt(e,i){return yit(null,e,i)};let LQt=(()=>{class e{constructor(){}exportAsExcelFile(t,n){const o=Y1({Sheets:{data:wit_json_to_sheet(t)},SheetNames:["data"]},{bookType:"xlsx",type:"array"});this.saveAsExcelFile(o,n)}saveAsExcelFile(t,n){const r=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});hd.saveAs(r,n+"_export_"+(new Date).getTime()+".xlsx")}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const NQt=["*",[["mat-toolbar-row"]]],BQt=["*","mat-toolbar-row"];let VQt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=ce({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return e})(),UQt=(()=>{class e{constructor(t,n,r){this._elementRef=t,this._platform=n,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(ir),mt(Ni))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-toolbar"]],contentQueries:function(n,r,s){if(1&n&&An(s,VQt,5),2&n){let o;Be(o=Ve())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(n,r){2&n&&(Ul(r.color?"mat-"+r.color:""),bi("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[Vi],ngContentSelectors:BQt,decls:2,vars:0,template:function(n,r){1&n&&(Kn(NQt),xi(0),xi(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return e})(),zQt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Zi,Zi]})}return e})();const _it=["*"],GQt=["content"],HQt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],WQt=["mat-drawer","mat-drawer-content","*"];function XQt(e,i){if(1&e){const t=pe();q(0,"div",1),Vt("click",function(){return Ut(t),zt(Ct()._onBackdropClicked())}),et()}2&e&&bi("mat-drawer-shown",Ct()._isShowingBackdrop())}function jQt(e,i){1&e&&(q(0,"mat-drawer-content"),xi(1,2),et())}const YQt={transformDrawer:mr("transform",[kn("open, open-instant",qe({transform:"none",visibility:"visible"})),kn("void",qe({"box-shadow":"none",visibility:"hidden"})),on("void => open-instant",sn("0ms")),on("void <=> open, open-instant => void",sn("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},$Qt=new ee("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function QQt(){return!1}}),Tit=new ee("MAT_DRAWER_CONTAINER");let n4=(()=>{class e extends cC{constructor(t,n,r,s,o){super(r,s,o),this._changeDetectorRef=t,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Mn),mt(Sn(()=>Sit)),mt(si),mt(ky),mt(ii))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(n,r){2&n&&Ms("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},standalone:!0,features:[fi([{provide:cC,useExisting:e}]),hi,Vi],ngContentSelectors:_it,decls:1,vars:0,template:function(n,r){1&n&&(Kn(),xi(0))},encapsulation:2,changeDetection:0})}return e})(),Cit=(()=>{class e{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=ca(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=ca(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(ca(t))}constructor(t,n,r,s,o,l,b,C){this._elementRef=t,this._focusTrapFactory=n,this._focusMonitor=r,this._platform=s,this._ngZone=o,this._interactivityChecker=l,this._doc=b,this._container=C,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Pe,this._animationEnd=new Pe,this._animationState="void",this.openedChange=new De(!0),this._openedStream=this.openedChange.pipe(In(D=>D),Di(()=>{})),this.openedStart=this._animationStarted.pipe(In(D=>D.fromState!==D.toState&&0===D.toState.indexOf("open")),wT(void 0)),this._closedStream=this.openedChange.pipe(In(D=>!D),Di(()=>{})),this.closedStart=this._animationStarted.pipe(In(D=>D.fromState!==D.toState&&"void"===D.toState),wT(void 0)),this._destroyed=new Pe,this.onPositionChanged=new De,this._modeChanged=new Pe,this.openedChange.subscribe(D=>{D?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Ac(this._elementRef.nativeElement,"keydown").pipe(In(D=>27===D.keyCode&&!this.disableClose&&!io(D)),Ui(this._destroyed)).subscribe(D=>this._ngZone.run(()=>{this.close(),D.stopPropagation(),D.preventDefault()}))}),this._animationEnd.pipe(nu((D,R)=>D.fromState===R.fromState&&D.toState===R.toState)).subscribe(D=>{const{fromState:R,toState:O}=D;(0===O.indexOf("open")&&"void"===R||"void"===O&&0===R.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(n)}_focusByCssSelector(t,n){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,n)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,n){t&&n&&(this._openedVia=n);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,n,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(er(1)).subscribe(o=>s(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(t){if(!this._platform.isBrowser)return;const n=this._elementRef.nativeElement,r=n.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,n)),r.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(si),mt(zk),mt(Xl),mt(ir),mt(ii),mt(KT),mt(Ni,8),mt(Tit,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-drawer"]],viewQuery:function(n,r){if(1&n&&Mi(GQt,5),2&n){let s;Be(s=Ve())&&(r._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(n,r){1&n&&H_("@transform.start",function(o){return r._animationStarted.next(o)})("@transform.done",function(o){return r._animationEnd.next(o)}),2&n&&(B_("@transform",r._animationState),Ti("align",null),bi("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[Vi],ngContentSelectors:_it,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,r){1&n&&(Kn(),q(0,"div",1,0),xi(2),et())},dependencies:[cC],encapsulation:2,data:{animation:[YQt.transformDrawer]},changeDetection:0})}return e})(),Sit=(()=>{class e{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=ca(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:ca(t)}get scrollable(){return this._userContent||this._content}constructor(t,n,r,s,o,l=!1,b){this._dir=t,this._element=n,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=b,this._drawers=new sh,this.backdropClick=new De,this._destroyed=new Pe,this._doCheckSubject=new Pe,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Pe,t&&t.change.pipe(Ui(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(Ui(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=l}ngAfterContentInit(){this._allDrawers.changes.pipe(Ca(this._allDrawers),Ui(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ca(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(iu(10),Ui(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,n-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();n+=r,t-=r}t=t||null,n=n||null,(t!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:t,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(In(n=>n.fromState!==n.toState),Ui(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Ui(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Ui(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(er(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Ui(Yr(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const n=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?n.add(r):n.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Va,8),mt(si),mt(ii),mt(Mn),mt(cu),mt($Qt),mt(Nr,8))};static#e=this.\u0275cmp=$e({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(n,r,s){if(1&n&&(An(s,n4,5),An(s,Cit,5)),2&n){let o;Be(o=Ve())&&(r._content=o.first),Be(o=Ve())&&(r._allDrawers=o)}},viewQuery:function(n,r){if(1&n&&Mi(n4,5),2&n){let s;Be(s=Ve())&&(r._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,r){2&n&&bi("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[fi([{provide:Tit,useExisting:e}]),Vi],ngContentSelectors:WQt,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,r){1&n&&(Kn(HQt),Gt(0,XQt,1,2,"div",0),xi(1),xi(2,1),Gt(3,jQt,2,0,"mat-drawer-content")),2&n&&(xn(0,r.hasBackdrop?0:-1),ot(3),xn(3,r._content?-1:3))},dependencies:[n4],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return e})(),KQt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Zi,du,du,Zi]})}return e})();function ZQt(e,i){if(1&e){const t=pe();q(0,"button",19),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct().navigate(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Xe(t.name)}}function JQt(e,i){if(1&e){const t=pe();q(0,"button",19),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct().setFhirServer(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Xe(t.name)}}function qQt(e,i){if(1&e){const t=pe();q(0,"button",19),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct(2).setEdition(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Xe(t.resource.version)}}function tKt(e,i){if(1&e&&(Wi(0),q(1,"button",20),ut(2),et(),q(3,"mat-menu",null,5)(5,"span",16),ut(6,"Versions / Releases"),et(),Gt(7,qQt,2,1,"button",15),et(),Xi()),2&e){const t=i.$implicit,n=Ki(4);ot(),xt("matMenuTriggerFor",n),ot(),Xe(t.editionName),ot(5),xt("ngForOf",t.editions)}}function eKt(e,i){if(1&e){const t=pe();q(0,"button",19),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct().setLanguage(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Xe(t)}}function iKt(e,i){if(1&e){const t=pe();q(0,"button",19),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct(2).navigate(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Xe(t.name)}}function nKt(e,i){if(1&e){const t=pe();q(0,"button",19),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct(2).setFhirServer(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Xe(t.name)}}function rKt(e,i){if(1&e){const t=pe();q(0,"button",19),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct(3).setEdition(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Xe(t.resource.version)}}function sKt(e,i){if(1&e&&(Wi(0),q(1,"button",20),ut(2),et(),q(3,"mat-menu",null,5)(5,"span",16),ut(6,"Versions / Releases"),et(),Gt(7,rKt,2,1,"button",15),et(),Xi()),2&e){const t=i.$implicit,n=Ki(4);ot(),xt("matMenuTriggerFor",n),ot(),Xe(t.editionName),ot(5),xt("ngForOf",t.editions)}}function aKt(e,i){if(1&e){const t=pe();q(0,"button",19),Vt("click",function(){const r=Ut(t).$implicit;return zt(Ct(2).setLanguage(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),Xe(t)}}function oKt(e,i){if(1&e){const t=pe();q(0,"mat-toolbar")(1,"button",21),Vt("click",function(){return Ut(t),Ct(),zt(Ki(2).toggle())}),q(2,"mat-icon"),ut(3,"menu"),et()(),q(4,"a",22),Vt("click",function(){return Ut(t),zt(Ct().navigate({url:"home",type:"internal"}))}),ye(5,"img",23),et(),q(6,"span",24),ut(7,"SNOMED CT Implementation Demos"),et(),q(8,"span",25),ut(9,"Implementation Demos"),et(),ye(10,"span",26),q(11,"button",27),ut(12,"Select Demonstrator"),et(),q(13,"mat-menu",14,6),Gt(15,iKt,2,1,"button",15),et(),q(16,"button",28),ut(17),et(),q(18,"mat-menu",null,7),Gt(20,nKt,2,1,"button",15),et(),q(21,"button",28),ut(22),et(),q(23,"mat-menu",14,8)(25,"span",16),ut(26,"Editions"),et(),Gt(27,sKt,8,3,"ng-container",17),et(),q(28,"button",28),ut(29),et(),q(30,"mat-menu",null,9),Gt(32,aKt,2,1,"button",15),et(),q(33,"a",29)(34,"mat-icon"),ut(35,"info"),et()()()}if(2&e){const t=Ki(14),n=Ki(19),r=Ki(24),s=Ki(31),o=Ct();ot(11),xt("matMenuTriggerFor",t),ot(4),xt("ngForOf",o.demos),ot(),xt("matMenuTriggerFor",n),ot(),He("FHIR Server: ",o.selectedServer.name,""),ot(3),xt("ngForOf",o.fhirServers),ot(),xt("matMenuTriggerFor",r),ot(),Xe(o.selectedEdition),ot(5),xt("ngForOf",o.editionsDetails),ot(),xt("matMenuTriggerFor",s),ot(),Xe(o.selectedLanguage),ot(3),xt("ngForOf",o.languages)}}let lKt=(()=>{class e{constructor(t,n,r,s,o,l){this.codingSpecService=t,this.excelService=n,this.terminologyService=r,this.router=s,this.menuService=o,this.activatedRoute=l,this.title="sct-implementation-demonstrator",this.bindingsForExport=[],this.editions=[],this.editionsDetails=[],this.languages=["da","de","en","es","et","fi","fr","nl","no","sv"],this.selectedEdition="Edition",this.selectedLanguage="en",this.fhirServers=[{name:"SNOMED Dev IS",url:"https://dev-is-browser.ihtsdotools.org/fhir"},{name:"SNOMED Public",url:"https://snowstorm.ihtsdotools.org/fhir"},{name:"SNOMED Dev 2",url:"https://snowstorm-temp.kaicode.io/fhir"},{name:"SNOMED Lite Demo",url:"https://snowstorm-lite.nw.r.appspot.com/fhir"}],this.selectedServer=this.fhirServers[1],this.embeddedMode=!1,this.demos=[],this.router.events.subscribe(b=>{b instanceof nd&&gtag("config","G-7SK998GPMX",{page_path:b.urlAfterRedirects})})}ngOnInit(){this.demos=this.menuService.getDemos(),this.setFhirServer(this.selectedServer),this.bindingsForExport=[];let t=this.codingSpecService.getCodingSpec();for(const n of t)for(const r of n.bindings)this.bindingsForExport.push({section:n.title,title:r.title,ecl:r.ecl.replace(/\s\s+/g," ")});this.activatedRoute.queryParams.subscribe(n=>{this.embeddedMode="true"===n.embedded,n.edition?this.updateCodeSystemOptions(n.edition):this.updateCodeSystemOptions()}),this.terminologyService.lang$.subscribe(n=>{this.selectedLanguage=n}),this.terminologyService.fhirUrlParam$.subscribe(n=>{this.editions?.length>0&&this.editions.forEach(r=>{r.resource.version===n&&(this.selectedEdition=r.resource.title?.replace("SNOMED CT release ",""))})})}navigate(t){"internal"===t.type?this.router.navigate([t.url],{queryParams:t.queryParams}):this.openInNewTab(t.url)}openInNewTab(t){window.open(t,"_blank")}updateCodeSystemOptions(t){this.terminologyService.getCodeSystems().subscribe(n=>{this.editionsDetails=[],this.editions=n.entry;let r=new Set;this.editions.forEach(o=>{r.add(o.resource.title)}),r.forEach(o=>{this.editionsDetails.push({editionName:o,editions:this.editions.filter(l=>l.resource.title.includes(o)).sort(this.compare)})});let s=this.editionsDetails.findIndex(o=>"International Edition"===o.editionName);t?this.editions.forEach(o=>{o.resource.version===t&&this.setEdition(o)}):this.setEdition(s>=0?this.editionsDetails[s].editions[0]:this.editions[0])})}compare(t,n){return t.resource.date<n.resource.date?1:t.resource.date>n.resource.date?-1:0}setFhirServer(t){this.selectedServer=t,this.terminologyService.setSnowstormFhirBase(t.url),this.selectedEdition="Edition",this.editions=[],this.editionsDetails=[],this.updateCodeSystemOptions()}setEdition(t){this.selectedEdition=t.resource.title?.replace("SNOMED CT release ",""),this.terminologyService.setFhirUrlParam(t.resource.version)}setLanguage(t){this.selectedLanguage=t,this.terminologyService.setLang(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(o6t),mt(LQt),mt(da),mt(Fo),mt(HJ),mt(Sc))};static#e=this.\u0275cmp=$e({type:e,selectors:[["app-root"]],decls:28,vars:12,consts:[["drawer",""],["demosMenuN","matMenu"],["serverMenuN","matMenu"],["editionsMenuN","matMenu"],["menuN","matMenu"],["sub_menu","matMenu"],["demosMenu","matMenu"],["serverMenu","matMenu"],["editionsMenu","matMenu"],["menu","matMenu"],["autosize","",1,"example-container"],["mode","over",1,"example-sidenav"],[1,"flex","flex-col","justify-center"],["mat-button","",3,"matMenuTriggerFor"],[1,"wide-menu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"ml-4"],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-icon-button","","id","menu-button",3,"click"],["href","javascript:void(0)",3,"click"],["src","assets/img/small_logo.png","id","logo"],["id","title"],["id","short-title"],[1,"example-spacer"],["mat-flat-button","","color","accent",1,"bar-button",3,"matMenuTriggerFor"],["mat-flat-button","","color","primary",1,"bar-button",3,"matMenuTriggerFor"],["mat-flat-button","","href","https://github.com/IHTSDO/sct-implementation-demonstrator","target","_blank","color","primary","id","info-button"]],template:function(n,r){if(1&n&&(q(0,"mat-drawer-container",10)(1,"mat-drawer",11,0)(3,"div",12)(4,"button",13),ut(5,"Select Demonstrator"),et(),q(6,"mat-menu",14,1),Gt(8,ZQt,2,1,"button",15),et(),q(9,"button",13),ut(10),et(),q(11,"mat-menu",null,2),Gt(13,JQt,2,1,"button",15),et(),q(14,"button",13),ut(15),et(),q(16,"mat-menu",14,3)(18,"span",16),ut(19,"Editions"),et(),Gt(20,tKt,8,3,"ng-container",17),et(),q(21,"button",13),ut(22),et(),q(23,"mat-menu",null,4),Gt(25,eKt,2,1,"button",15),et()()(),Gt(26,oKt,36,11,"mat-toolbar",18),ye(27,"router-outlet"),et()),2&n){const s=Ki(7),o=Ki(12),l=Ki(17),b=Ki(24);ot(4),xt("matMenuTriggerFor",s),ot(4),xt("ngForOf",r.demos),ot(),xt("matMenuTriggerFor",o),ot(),He("FHIR Server: ",r.selectedServer.name,""),ot(3),xt("ngForOf",r.fhirServers),ot(),xt("matMenuTriggerFor",l),ot(),He("Edition: ",r.selectedEdition,""),ot(5),xt("ngForOf",r.editionsDetails),ot(),xt("matMenuTriggerFor",b),ot(),He("Language: ",r.selectedLanguage,""),ot(3),xt("ngForOf",r.languages),ot(),xt("ngIf",!r.embeddedMode)}},dependencies:[vs,Is,lk,UQt,z1t,Ea,Oo,ua,Tl,Yl,uu,Cit,Sit],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:#434a55;color:#fff;font-size:1.8rem;font-weight:700}button[_ngcontent-%COMP%]{font-weight:700;font-size:medium}.bar-button[_ngcontent-%COMP%]{margin-left:15px}#title[_ngcontent-%COMP%]{margin-left:15px;font-size:1.4rem}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}a[_ngcontent-%COMP%]{margin-left:15px}  .mat-mdc-menu-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;overflow-x:hidden!important}.mat-mdc-unelevated-button[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%], .mat-mdc-raised-button[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%], .mat-mdc-outlined-button[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{margin:0!important}#demo-selector[_ngcontent-%COMP%]{margin:5px 15px;padding:10px}#menu-button[_ngcontent-%COMP%], #short-title[_ngcontent-%COMP%]{display:none}#logo[_ngcontent-%COMP%]{height:4rem}@media (max-width: 768px){#title[_ngcontent-%COMP%]{display:none}#short-title[_ngcontent-%COMP%]{display:block;margin-left:15px;font-size:.9rem}#logo[_ngcontent-%COMP%]{height:3.5rem}#info-button[_ngcontent-%COMP%]{display:none}}@media (max-width: 1200px){.bar-button[_ngcontent-%COMP%]{display:none}#menu-button[_ngcontent-%COMP%]{display:block}}"]})}return e})();function Eit(e){return new ue(3e3,!1)}function bf(e){switch(e.length){case 0:return new Dy;case 1:return e[0];default:return new GH(e)}}function Ait(e,i,t=new Map,n=new Map){const r=[],s=[];let o=-1,l=null;if(i.forEach(b=>{const C=b.get("offset"),D=C==o,R=D&&l||new Map;b.forEach((O,L)=>{let U=L,X=O;if("offset"!==L)switch(U=e.normalizePropertyName(U,r),X){case"!":X=t.get(L);break;case au:X=n.get(L);break;default:X=e.normalizeStyleValue(L,U,X,r)}R.set(U,X)}),D||s.push(R),l=R,o=C}),r.length)throw function kKt(e){return new ue(3502,!1)}();return s}function r4(e,i,t,n){switch(i){case"start":e.onStart(()=>n(t&&s4(t,"start",e)));break;case"done":e.onDone(()=>n(t&&s4(t,"done",e)));break;case"destroy":e.onDestroy(()=>n(t&&s4(t,"destroy",e)))}}function s4(e,i,t){const s=a4(e.element,e.triggerName,e.fromState,e.toState,i||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),o=e._data;return null!=o&&(s._data=o),s}function a4(e,i,t,n,r="",s=0,o){return{element:e,triggerName:i,fromState:t,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function Ol(e,i,t){let n=e.get(i);return n||e.set(i,n=t),n}function Dit(e){const i=e.indexOf(":");return[e.substring(1,i),e.slice(i+1)]}const HKt=typeof document>"u"?null:document.documentElement;function o4(e){const i=e.parentNode||e.host||null;return i===HKt?null:i}let mp=null,Mit=!1;function Iit(e,i){for(;i;){if(i===e)return!0;i=o4(i)}return!1}function kit(e,i,t){if(t)return Array.from(e.querySelectorAll(i));const n=e.querySelector(i);return n?[n]:[]}let l4=(()=>{class e{validateStyleProperty(t){return function XKt(e){mp||(mp=function jKt(){return typeof document<"u"?document.body:null}()||{},Mit=!!mp.style&&"WebkitAppearance"in mp.style);let i=!0;return mp.style&&!function WKt(e){return"ebkit"==e.substring(1,6)}(e)&&(i=e in mp.style,!i&&Mit&&(i="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in mp.style)),i}(t)}matchesElement(t,n){return!1}containsElement(t,n){return Iit(t,n)}getParentElement(t){return o4(t)}query(t,n,r){return kit(t,n,r)}computeStyle(t,n,r){return r||""}animate(t,n,r,s,o,l=[],b){return new Dy(r,s)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}return e})();class c4{static#t=this.NOOP=new l4}class d4{}const $Kt=1e3,u4="ng-enter",wA="ng-leave",_A="ng-trigger",TA=".ng-trigger",Pit="ng-animating",h4=".ng-animating";function $u(e){if("number"==typeof e)return e;const i=e.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:f4(parseFloat(i[1]),i[2])}function f4(e,i){return"s"===i?e*$Kt:e}function CA(e,i,t){return e.hasOwnProperty("duration")?e:function KKt(e,i,t){let r,s=0,o="";if("string"==typeof e){const l=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return i.push(Eit()),{duration:0,delay:0,easing:""};r=f4(parseFloat(l[1]),l[2]);const b=l[3];null!=b&&(s=f4(parseFloat(b),l[4]));const C=l[5];C&&(o=C)}else r=e;if(!t){let l=!1,b=i.length;r<0&&(i.push(function cKt(){return new ue(3100,!1)}()),l=!0),s<0&&(i.push(function dKt(){return new ue(3101,!1)}()),l=!0),l&&i.splice(b,0,Eit())}return{duration:r,delay:s,easing:o}}(e,i,t)}function Rd(e,i,t){i.forEach((n,r)=>{const s=p4(r);t&&!t.has(r)&&t.set(r,e.style[s]),e.style[s]=n})}function pp(e,i){i.forEach((t,n)=>{const r=p4(n);e.style[r]=""})}function K1(e){return Array.isArray(e)?1==e.length?e[0]:function H1t(e,i=null){return{type:Ji.Sequence,steps:e,options:i}}(e):e}const m4=new RegExp("{{\\s*(.+?)\\s*}}","g");function Oit(e){let i=[];if("string"==typeof e){let t;for(;t=m4.exec(e);)i.push(t[1]);m4.lastIndex=0}return i}function Z1(e,i,t){const n=`${e}`,r=n.replace(m4,(s,o)=>{let l=i[o];return null==l&&(t.push(function hKt(e){return new ue(3003,!1)}()),l=""),l.toString()});return r==n?e:r}const qKt=/-+([a-z0-9])/g;function p4(e){return e.replace(qKt,(...i)=>i[1].toUpperCase())}function Ll(e,i,t){switch(i.type){case Ji.Trigger:return e.visitTrigger(i,t);case Ji.State:return e.visitState(i,t);case Ji.Transition:return e.visitTransition(i,t);case Ji.Sequence:return e.visitSequence(i,t);case Ji.Group:return e.visitGroup(i,t);case Ji.Animate:return e.visitAnimate(i,t);case Ji.Keyframes:return e.visitKeyframes(i,t);case Ji.Style:return e.visitStyle(i,t);case Ji.Reference:return e.visitReference(i,t);case Ji.AnimateChild:return e.visitAnimateChild(i,t);case Ji.AnimateRef:return e.visitAnimateRef(i,t);case Ji.Query:return e.visitQuery(i,t);case Ji.Stagger:return e.visitStagger(i,t);default:throw function fKt(e){return new ue(3004,!1)}()}}function g4(e,i){return window.getComputedStyle(e)[i]}const iZt=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Lit extends d4{normalizePropertyName(i,t){return p4(i)}normalizeStyleValue(i,t,n,r){let s="";const o=n.toString().trim();if(iZt.has(t)&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const l=n.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push(function mKt(e,i){return new ue(3005,!1)}())}return o+s}}const SA="*";const EA=new Set(["true","1"]),AA=new Set(["false","0"]);function Nit(e,i){const t=EA.has(e)||AA.has(e),n=EA.has(i)||AA.has(i);return(r,s)=>{let o=e==SA||e==r,l=i==SA||i==s;return!o&&t&&"boolean"==typeof r&&(o=r?EA.has(e):AA.has(e)),!l&&n&&"boolean"==typeof s&&(l=s?EA.has(i):AA.has(i)),o&&l}}const aZt=new RegExp("s*:selfs*,?","g");function v4(e,i,t,n){return new oZt(e).build(i,t,n)}class oZt{constructor(i){this._driver=i}build(i,t,n){const r=new dZt(t);return this._resetContextStyleTimingState(r),Ll(this,K1(i),r)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,t){let n=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==i.name.charAt(0)&&t.errors.push(function pKt(){return new ue(3006,!1)}()),i.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),l.type==Ji.State){const b=l,C=b.name;C.toString().split(/\s*,\s*/).forEach(D=>{b.name=D,s.push(this.visitState(b,t))}),b.name=C}else if(l.type==Ji.Transition){const b=this.visitTransition(l,t);n+=b.queryCount,r+=b.depCount,o.push(b)}else t.errors.push(function gKt(){return new ue(3007,!1)}())}),{type:Ji.Trigger,name:i.name,states:s,transitions:o,queryCount:n,depCount:r,options:null}}visitState(i,t){const n=this.visitStyle(i.styles,t),r=i.options&&i.options.params||null;if(n.containsDynamicStyles){const s=new Set,o=r||{};n.styles.forEach(l=>{l instanceof Map&&l.forEach(b=>{Oit(b).forEach(C=>{o.hasOwnProperty(C)||s.add(C)})})}),s.size&&t.errors.push(function vKt(e,i){return new ue(3008,!1)}(0,s.values()))}return{type:Ji.State,name:i.name,style:n,options:r?{params:r}:null}}visitTransition(i,t){t.queryCount=0,t.depCount=0;const n=Ll(this,K1(i.animation),t),r=function nZt(e,i){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(n=>function rZt(e,i,t){if(":"==e[0]){const b=function sZt(e,i){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return i.push(function AKt(e){return new ue(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof b)return void i.push(b);e=b}const n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(function EKt(e){return new ue(3015,!1)}()),i;const r=n[1],s=n[2],o=n[3];i.push(Nit(r,o)),"<"==s[0]&&(r!=SA||o!=SA)&&i.push(Nit(o,r))}(n,t,i)):t.push(e),t}(i.expr,t.errors);return{type:Ji.Transition,matchers:r,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:gp(i.options)}}visitSequence(i,t){return{type:Ji.Sequence,steps:i.steps.map(n=>Ll(this,n,t)),options:gp(i.options)}}visitGroup(i,t){const n=t.currentTime;let r=0;const s=i.steps.map(o=>{t.currentTime=n;const l=Ll(this,o,t);return r=Math.max(r,t.currentTime),l});return t.currentTime=r,{type:Ji.Group,steps:s,options:gp(i.options)}}visitAnimate(i,t){const n=function hZt(e,i){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return x4(CA(e,i).duration,0,"");const t=e;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=x4(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=CA(t,i);return x4(r.duration,r.delay,r.easing)}(i.timings,t.errors);t.currentAnimateTimings=n;let r,s=i.styles?i.styles:qe({});if(s.type==Ji.Keyframes)r=this.visitKeyframes(s,t);else{let o=i.styles,l=!1;if(!o){l=!0;const C={};n.easing&&(C.easing=n.easing),o=qe(C)}t.currentTime+=n.duration+n.delay;const b=this.visitStyle(o,t);b.isEmptyStep=l,r=b}return t.currentAnimateTimings=null,{type:Ji.Animate,timings:n,style:r,options:null}}visitStyle(i,t){const n=this._makeStyleAst(i,t);return this._validateStyleAst(n,t),n}_makeStyleAst(i,t){const n=[],r=Array.isArray(i.styles)?i.styles:[i.styles];for(let l of r)"string"==typeof l?l===au?n.push(l):t.errors.push(new ue(3002,!1)):n.push(new Map(Object.entries(l)));let s=!1,o=null;return n.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(o=l.get("easing"),l.delete("easing")),!s))for(let b of l.values())if(b.toString().indexOf("{{")>=0){s=!0;break}}),{type:Ji.Style,styles:n,easing:o,offset:i.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(i,t){const n=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;n&&s>0&&(s-=n.duration+n.delay),i.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,b)=>{const C=t.collectedStyles.get(t.currentQuerySelector),D=C.get(b);let R=!0;D&&(s!=r&&s>=D.startTime&&r<=D.endTime&&(t.errors.push(function yKt(e,i,t,n,r){return new ue(3010,!1)}()),R=!1),s=D.startTime),R&&C.set(b,{startTime:s,endTime:r}),t.options&&function JKt(e,i,t){const n=i.params||{},r=Oit(e);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||t.push(function uKt(e){return new ue(3001,!1)}())})}(l,t.options,t.errors)})})}visitKeyframes(i,t){const n={type:Ji.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function bKt(){return new ue(3011,!1)}()),n;let s=0;const o=[];let l=!1,b=!1,C=0;const D=i.steps.map(Z=>{const rt=this._makeStyleAst(Z,t);let st=null!=rt.offset?rt.offset:function uZt(e){if("string"==typeof e)return null;let i=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const n=t;i=parseFloat(n.get("offset")),n.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;i=parseFloat(t.get("offset")),t.delete("offset")}return i}(rt.styles),vt=0;return null!=st&&(s++,vt=rt.offset=st),b=b||vt<0||vt>1,l=l||vt<C,C=vt,o.push(vt),rt});b&&t.errors.push(function wKt(){return new ue(3012,!1)}()),l&&t.errors.push(function _Kt(){return new ue(3200,!1)}());const R=i.steps.length;let O=0;s>0&&s<R?t.errors.push(function TKt(){return new ue(3202,!1)}()):0==s&&(O=1/(R-1));const L=R-1,U=t.currentTime,X=t.currentAnimateTimings,W=X.duration;return D.forEach((Z,rt)=>{const st=O>0?rt==L?1:O*rt:o[rt],vt=st*W;t.currentTime=U+X.delay+vt,X.duration=vt,this._validateStyleAst(Z,t),Z.offset=st,n.styles.push(Z)}),n}visitReference(i,t){return{type:Ji.Reference,animation:Ll(this,K1(i.animation),t),options:gp(i.options)}}visitAnimateChild(i,t){return t.depCount++,{type:Ji.AnimateChild,options:gp(i.options)}}visitAnimateRef(i,t){return{type:Ji.AnimateRef,animation:this.visitReference(i.animation,t),options:gp(i.options)}}visitQuery(i,t){const n=t.currentQuerySelector,r=i.options||{};t.queryCount++,t.currentQuery=i;const[s,o]=function lZt(e){const i=!!e.split(/\s*,\s*/).find(t=>":self"==t);return i&&(e=e.replace(aZt,"")),e=e.replace(/@\*/g,TA).replace(/@\w+/g,t=>TA+"-"+t.slice(1)).replace(/:animating/g,h4),[e,i]}(i.selector);t.currentQuerySelector=n.length?n+" "+s:s,Ol(t.collectedStyles,t.currentQuerySelector,new Map);const l=Ll(this,K1(i.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:Ji.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:l,originalSelector:i.selector,options:gp(i.options)}}visitStagger(i,t){t.currentQuery||t.errors.push(function CKt(){return new ue(3013,!1)}());const n="full"===i.timings?{duration:0,delay:0,easing:"full"}:CA(i.timings,t.errors,!0);return{type:Ji.Stagger,animation:Ll(this,K1(i.animation),t),timings:n,options:null}}}class dZt{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gp(e){return e?(e={...e}).params&&(e.params=function cZt(e){return e?{...e}:null}(e.params)):e={},e}function x4(e,i,t){return{duration:e,delay:i,easing:t}}function y4(e,i,t,n,r,s,o=null,l=!1){return{type:1,element:e,keyframes:i,preStyleProps:t,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:l}}class DA{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,t){let n=this._map.get(i);n||this._map.set(i,n=[]),n.push(...t)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const pZt=new RegExp(":enter","g"),vZt=new RegExp(":leave","g");function b4(e,i,t,n,r,s=new Map,o=new Map,l,b,C=[]){return(new xZt).buildKeyframes(e,i,t,n,r,s,o,l,b,C)}class xZt{buildKeyframes(i,t,n,r,s,o,l,b,C,D=[]){C=C||new DA;const R=new w4(i,t,C,r,s,D,[]);R.options=b;const O=b.delay?$u(b.delay):0;R.currentTimeline.delayNextStep(O),R.currentTimeline.setStyles([o],null,R.errors,b),Ll(this,n,R);const L=R.timelines.filter(U=>U.containsAnimation());if(L.length&&l.size){let U;for(let X=L.length-1;X>=0;X--){const W=L[X];if(W.element===t){U=W;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([l],null,R.errors,b)}return L.length?L.map(U=>U.buildKeyframes()):[y4(t,[],[],[],0,O,"",!1)]}visitTrigger(i,t){}visitState(i,t){}visitTransition(i,t){}visitAnimateChild(i,t){const n=t.subInstructions.get(t.element);if(n){const r=t.createSubContext(i.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=i}visitAnimateRef(i,t){const n=t.createSubContext(i.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],t,n),this.visitReference(i.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=i}_applyAnimationRefDelays(i,t,n){for(const r of i){const s=r?.delay;if(s){const o="number"==typeof s?s:$u(Z1(s,r?.params??{},t.errors));n.delayNextStep(o)}}}_visitSubInstructions(i,t,n){let s=t.currentTimeline.currentTime;const o=null!=n.duration?$u(n.duration):null,l=null!=n.delay?$u(n.delay):null;return 0!==o&&i.forEach(b=>{const C=t.appendInstructionToTimeline(b,o,l);s=Math.max(s,C.duration+C.delay)}),s}visitReference(i,t){t.updateOptions(i.options,!0),Ll(this,i.animation,t),t.previousNode=i}visitSequence(i,t){const n=t.subContextCount;let r=t;const s=i.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){r.previousNode.type==Ji.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=MA);const o=$u(s.delay);r.delayNextStep(o)}i.steps.length&&(i.steps.forEach(o=>Ll(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=i}visitGroup(i,t){const n=[];let r=t.currentTimeline.currentTime;const s=i.options&&i.options.delay?$u(i.options.delay):0;i.steps.forEach(o=>{const l=t.createSubContext(i.options);s&&l.delayNextStep(s),Ll(this,o,l),r=Math.max(r,l.currentTimeline.currentTime),n.push(l.currentTimeline)}),n.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=i}_visitTiming(i,t){if(i.dynamic){const n=i.strValue;return CA(t.params?Z1(n,t.params,t.errors):n,t.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,t){const n=t.currentAnimateTimings=this._visitTiming(i.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const s=i.style;s.type==Ji.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(n.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=i}visitStyle(i,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const s=r&&r.easing||i.easing;i.isEmptyStep?n.applyEmptyStep(s):n.setStyles(i.styles,s,t.errors,t.options),t.previousNode=i}visitKeyframes(i,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,s=n.duration,l=t.createSubContext().currentTimeline;l.easing=n.easing,i.styles.forEach(b=>{l.forwardTime((b.offset||0)*s),l.setStyles(b.styles,b.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(r+s),t.previousNode=i}visitQuery(i,t){const n=t.currentTimeline.currentTime,r=i.options||{},s=r.delay?$u(r.delay):0;s&&(t.previousNode.type===Ji.Style||0==n&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=MA);let o=n;const l=t.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=l.length;let b=null;l.forEach((C,D)=>{t.currentQueryIndex=D;const R=t.createSubContext(i.options,C);s&&R.delayNextStep(s),C===t.element&&(b=R.currentTimeline),Ll(this,i.animation,R),R.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,R.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),b&&(t.currentTimeline.mergeTimelineCollectedStyles(b),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=i}visitStagger(i,t){const n=t.parentContext,r=t.currentTimeline,s=i.timings,o=Math.abs(s.duration),l=o*(t.currentQueryTotal-1);let b=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":b=l-b;break;case"full":b=n.currentStaggerTime}const D=t.currentTimeline;b&&D.delayNextStep(b);const R=D.currentTime;Ll(this,i.animation,t),t.previousNode=i,n.currentStaggerTime=r.currentTime-R+(r.startTime-n.currentTimeline.startTime)}}const MA={};class w4{constructor(i,t,n,r,s,o,l,b){this._driver=i,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=MA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new IA(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,t){if(!i)return;const n=i;let r=this.options;null!=n.duration&&(r.duration=$u(n.duration)),null!=n.delay&&(r.delay=$u(n.delay));const s=n.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(l=>{(!t||!o.hasOwnProperty(l))&&(o[l]=Z1(s[l],o,this.errors))})}}_copyOptions(){const i={};if(this.options){const t=this.options.params;if(t){const n=i.params={};Object.keys(t).forEach(r=>{n[r]=t[r]})}}return i}createSubContext(i=null,t,n){const r=t||this.element,s=new w4(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(i),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(i){return this.previousNode=MA,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,t,n){const r={duration:t??i.duration,delay:this.currentTimeline.currentTime+(n??0)+i.delay,easing:""},s=new yZt(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,r,i.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,t,n,r,s,o){let l=[];if(r&&l.push(this.element),i.length>0){i=(i=i.replace(pZt,"."+this._enterClassName)).replace(vZt,"."+this._leaveClassName);let C=this._driver.query(this.element,i,1!=n);0!==n&&(C=n<0?C.slice(C.length+n,C.length):C.slice(0,n)),l.push(...C)}return!s&&0==l.length&&o.push(function SKt(e){return new ue(3014,!1)}()),l}}class IA{constructor(i,t,n,r){this._driver=i,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+i),t&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,t){return this.applyStylesToKeyframe(),new IA(this._driver,i,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,t){this._localTimelineStyles.set(i,t),this._globalTimelineStyles.set(i,t),this._styleSummary.set(i,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||au),this._currentKeyframe.set(t,au);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,t,n,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},o=function bZt(e,i){const t=new Map;let n;return e.forEach(r=>{if("*"===r){n??=i.keys();for(let s of n)t.set(s,au)}else for(let[s,o]of r)t.set(s,o)}),t}(i,this._globalTimelineStyles);for(let[l,b]of o){const C=Z1(b,s,n);this._pendingStyles.set(l,C),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??au),this._updateStyle(l,C)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,t)=>{this._currentKeyframe.set(t,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,i)}))}snapshotCurrentStyles(){for(let[i,t]of this._localTimelineStyles)this._pendingStyles.set(i,t),this._updateStyle(i,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let t in this._currentKeyframe)i.push(t);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((t,n)=>{const r=this._styleSummary.get(n);(!r||t.time>r.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((l,b)=>{const C=new Map([...this._backFill,...l]);C.forEach((D,R)=>{"!"===D?i.add(R):D===au&&t.add(R)}),n||C.set("offset",b/this.duration),r.push(C)});const s=[...i.values()],o=[...t.values()];if(n){const l=r[0],b=new Map(l);l.set("offset",0),b.set("offset",1),r=[l,b]}return y4(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class yZt extends IA{constructor(i,t,n,r,s,o,l=!1){super(i,t,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=n+t,l=t/o,b=new Map(i[0]);b.set("offset",0),s.push(b);const C=new Map(i[0]);C.set("offset",Uit(l)),s.push(C);const D=i.length-1;for(let R=1;R<=D;R++){let O=new Map(i[R]);const L=O.get("offset");O.set("offset",Uit((t+L*n)/o)),s.push(O)}n=o,t=0,r="",i=s}return y4(this.element,i,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function Uit(e,i=3){const t=Math.pow(10,i-1);return Math.round(e*t)/t}function zit(e,i,t,n,r,s,o,l,b,C,D,R,O){return{type:0,element:e,triggerName:i,isRemovalTransition:r,fromState:t,fromStyles:s,toState:n,toStyles:o,timelines:l,queriedElements:b,preStyleProps:C,postStyleProps:D,totalTime:R,errors:O}}const _4={};class Git{constructor(i,t,n){this._triggerName=i,this.ast=t,this._stateStyles=n}match(i,t,n,r){return function wZt(e,i,t,n,r){return e.some(s=>s(i,t,n,r))}(this.ast.matchers,i,t,n,r)}buildStyles(i,t,n){let r=this._stateStyles.get("*");return void 0!==i&&(r=this._stateStyles.get(i?.toString())||r),r?r.buildStyles(t,n):new Map}build(i,t,n,r,s,o,l,b,C,D){const R=[],O=this.ast.options&&this.ast.options.params||_4,U=this.buildStyles(n,l&&l.params||_4,R),X=b&&b.params||_4,W=this.buildStyles(r,X,R),Z=new Set,rt=new Map,st=new Map,vt="void"===r,_t={params:Hit(X,O),delay:this.ast.options?.delay},Mt=D?[]:b4(i,t,this.ast.animation,s,o,U,W,_t,C,R);let ft=0;return Mt.forEach(dt=>{ft=Math.max(dt.duration+dt.delay,ft)}),R.length?zit(t,this._triggerName,n,r,vt,U,W,[],[],rt,st,ft,R):(Mt.forEach(dt=>{const pt=dt.element,bt=Ol(rt,pt,new Set);dt.preStyleProps.forEach(Et=>bt.add(Et));const Tt=Ol(st,pt,new Set);dt.postStyleProps.forEach(Et=>Tt.add(Et)),pt!==t&&Z.add(pt)}),zit(t,this._triggerName,n,r,vt,U,W,Mt,[...Z.values()],rt,st,ft))}}function Hit(e,i){const t={...i};return Object.entries(e).forEach(([n,r])=>{null!=r&&(t[n]=r)}),t}class _Zt{constructor(i,t,n){this.styles=i,this.defaultParams=t,this.normalizer=n}buildStyles(i,t){const n=new Map,r=Hit(i,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,l)=>{o&&(o=Z1(o,r,t));const b=this.normalizer.normalizePropertyName(l,t);o=this.normalizer.normalizeStyleValue(l,b,o,t),n.set(l,o)})}),n}}class CZt{constructor(i,t,n){this.name=i,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new _Zt(r.style,r.options&&r.options.params||{},n))}),Wit(this.states,"true","1"),Wit(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Git(i,r,this.states))}),this.fallbackTransition=function SZt(e,i,t){return new Git(e,{type:Ji.Transition,animation:{type:Ji.Sequence,steps:[],options:null},matchers:[(o,l)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,t,n,r){return this.transitionFactories.find(o=>o.match(i,t,n,r))||null}matchStyles(i,t,n){return this.fallbackTransition.buildStyles(i,t,n)}}function Wit(e,i,t){e.has(i)?e.has(t)||e.set(t,e.get(i)):e.has(t)&&e.set(i,e.get(t))}const EZt=new DA;class AZt{constructor(i,t,n){this.bodyNode=i,this._driver=t,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,t){const n=[],s=v4(this._driver,t,n,[]);if(n.length)throw function RKt(e){return new ue(3503,!1)}();this._animations.set(i,s)}_buildPlayer(i,t,n){const r=i.element,s=Ait(this._normalizer,i.keyframes,t,n);return this._driver.animate(r,s,i.duration,i.delay,i.easing,[],!0)}create(i,t,n={}){const r=[],s=this._animations.get(i);let o;const l=new Map;if(s?(o=b4(this._driver,t,s,u4,wA,new Map,new Map,n,EZt,r),o.forEach(D=>{const R=Ol(l,D.element,new Map);D.postStyleProps.forEach(O=>R.set(O,null))})):(r.push(function PKt(){return new ue(3300,!1)}()),o=[]),r.length)throw function FKt(e){return new ue(3504,!1)}();l.forEach((D,R)=>{D.forEach((O,L)=>{D.set(L,this._driver.computeStyle(R,L,au))})});const C=bf(o.map(D=>{const R=l.get(D.element);return this._buildPlayer(D,new Map,R)}));return this._playersById.set(i,C),C.onDestroy(()=>this.destroy(i)),this.players.push(C),C}destroy(i){const t=this._getPlayer(i);t.destroy(),this._playersById.delete(i);const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(i){const t=this._playersById.get(i);if(!t)throw function OKt(e){return new ue(3301,!1)}();return t}listen(i,t,n,r){const s=a4(t,"","","");return r4(this._getPlayer(i),n,s,r),()=>{}}command(i,t,n,r){if("register"==n)return void this.register(i,r[0]);if("create"==n)return void this.create(i,t,r[0]||{});const s=this._getPlayer(i);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(i)}}}const Xit="ng-animate-queued",T4="ng-animate-disabled",RZt=[],jit={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},PZt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Lc="__ng_removed";class C4{get params(){return this.options.params}constructor(i,t=""){this.namespaceId=t;const n=i&&i.hasOwnProperty("value");if(this.value=function NZt(e){return e??null}(n?i.value:i),n){const{value:s,...o}=i;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const t=i.params;if(t){const n=this.options.params;Object.keys(t).forEach(r=>{null==n[r]&&(n[r]=t[r])})}}}const J1="void",S4=new C4(J1);class FZt{constructor(i,t,n){this.id=i,this.hostElement=t,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,lc(t,this._hostClassName)}listen(i,t,n,r){if(!this._triggers.has(t))throw function LKt(e,i){return new ue(3302,!1)}();if(null==n||0==n.length)throw function NKt(e){return new ue(3303,!1)}();if(!function BZt(e){return"start"==e||"done"==e}(n))throw function BKt(e,i){return new ue(3400,!1)}();const s=Ol(this._elementListeners,i,[]),o={name:t,phase:n,callback:r};s.push(o);const l=Ol(this._engine.statesByElement,i,new Map);return l.has(t)||(lc(i,_A),lc(i,_A+"-"+t),l.set(t,S4)),()=>{this._engine.afterFlush(()=>{const b=s.indexOf(o);b>=0&&s.splice(b,1),this._triggers.has(t)||l.delete(t)})}}register(i,t){return!this._triggers.has(i)&&(this._triggers.set(i,t),!0)}_getTrigger(i){const t=this._triggers.get(i);if(!t)throw function VKt(e){return new ue(3401,!1)}();return t}trigger(i,t,n,r=!0){const s=this._getTrigger(t),o=new E4(this.id,t,i);let l=this._engine.statesByElement.get(i);l||(lc(i,_A),lc(i,_A+"-"+t),this._engine.statesByElement.set(i,l=new Map));let b=l.get(t);const C=new C4(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&b&&C.absorbOptions(b.options),l.set(t,C),b||(b=S4),C.value!==J1&&b.value===C.value){if(!function zZt(e,i){const t=Object.keys(e),n=Object.keys(i);if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!i.hasOwnProperty(s)||e[s]!==i[s])return!1}return!0}(b.params,C.params)){const X=[],W=s.matchStyles(b.value,b.params,X),Z=s.matchStyles(C.value,C.params,X);X.length?this._engine.reportError(X):this._engine.afterFlush(()=>{pp(i,W),Rd(i,Z)})}return}const O=Ol(this._engine.playersByElement,i,[]);O.forEach(X=>{X.namespaceId==this.id&&X.triggerName==t&&X.queued&&X.destroy()});let L=s.matchTransition(b.value,C.value,i,C.params),U=!1;if(!L){if(!r)return;L=s.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:t,transition:L,fromState:b,toState:C,player:o,isFallbackTransition:U}),U||(lc(i,Xit),o.onStart(()=>{S0(i,Xit)})),o.onDone(()=>{let X=this.players.indexOf(o);X>=0&&this.players.splice(X,1);const W=this._engine.playersByElement.get(i);if(W){let Z=W.indexOf(o);Z>=0&&W.splice(Z,1)}}),this.players.push(o),O.push(o),o}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(t=>t.delete(i)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(r=>r.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const t=this._engine.playersByElement.get(i);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,t){const n=this._engine.driver.query(i,TA,!0);n.forEach(r=>{if(r[Lc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(i,t,n,r){const s=this._engine.statesByElement.get(i),o=new Map;if(s){const l=[];if(s.forEach((b,C)=>{if(o.set(C,b.value),this._triggers.has(C)){const D=this.trigger(i,C,J1,r);D&&l.push(D)}}),l.length)return this._engine.markElementAsRemoved(this.id,i,!0,t,o),n&&bf(l).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const t=this._elementListeners.get(i),n=this._engine.statesByElement.get(i);if(t&&n){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const b=this._triggers.get(o).fallbackTransition,C=n.get(o)||S4,D=new C4(J1),R=new E4(this.id,o,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:o,transition:b,fromState:C,toState:D,player:R,isFallbackTransition:!0})})}}removeNode(i,t){const n=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,t),this.triggerLeaveAnimation(i,t,!0))return;let r=!1;if(n.totalAnimations){const s=n.players.length?n.playersByQueriedElement.get(i):[];if(s&&s.length)r=!0;else{let o=i;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(i),r)n.markElementAsRemoved(this.id,i,!1,t);else{const s=i[Lc];(!s||s===jit)&&(n.afterFlush(()=>this.clearElementCache(i)),n.destroyInnerAnimations(i),n._onRemovalComplete(i,t))}}insertNode(i,t){lc(i,this._hostClassName)}drainQueuedTransitions(i){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const s=n.element,o=this._elementListeners.get(s);o&&o.forEach(l=>{if(l.name==n.triggerName){const b=a4(s,n.triggerName,n.fromState.value,n.toState.value);b._data=i,r4(n.player,l.phase,b,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((n,r)=>{const s=n.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(i){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}}class OZt{_onRemovalComplete(i,t){this.onRemovalComplete(i,t)}constructor(i,t,n,r){this.bodyNode=i,this.driver=t,this._normalizer=n,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&i.push(n)})}),i}createNamespace(i,t){const n=new FZt(i,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[i]=n}_balanceNamespaceList(i,t){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,l=this.driver.getParentElement(t);for(;l;){const b=r.get(l);if(b){const C=n.indexOf(b);n.splice(C+1,0,i),o=!0;break}l=this.driver.getParentElement(l)}o||n.unshift(i)}else n.push(i);return r.set(t,i),i}register(i,t){let n=this._namespaceLookup[i];return n||(n=this.createNamespace(i,t)),n}registerTrigger(i,t,n){let r=this._namespaceLookup[i];r&&r.register(t,n)&&this.totalAnimations++}destroy(i,t){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(i);this.namespacesByHostElement.delete(n.hostElement);const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(t),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const t=new Set,n=this.statesByElement.get(i);if(n)for(let r of n.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(i,t,n,r){if(kA(t)){const s=this._fetchNamespace(i);if(s)return s.trigger(t,n,r),!0}return!1}insertNode(i,t,n,r){if(!kA(t))return;const s=t[Lc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(i){const o=this._fetchNamespace(i);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,t){t?this.disabledNodes.has(i)||(this.disabledNodes.add(i),lc(i,T4)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),S0(i,T4))}removeNode(i,t,n){if(kA(t)){this.scheduler?.notify();const r=i?this._fetchNamespace(i):null;r?r.removeNode(t,n):this.markElementAsRemoved(i,t,!1,n);const s=this.namespacesByHostElement.get(t);s&&s.id!==i&&s.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(i,t,n,r,s){this.collectedLeaveElements.push(t),t[Lc]={namespaceId:i,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(i,t,n,r,s){return kA(t)?this._fetchNamespace(i).listen(t,n,r,s):()=>{}}_buildInstruction(i,t,n,r,s){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,n,r,i.fromState.options,i.toState.options,t,s)}destroyInnerAnimations(i){let t=this.driver.query(i,TA,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(i,h4,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(i){const t=this.playersByElement.get(i);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(i){const t=this.playersByQueriedElement.get(i);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return bf(this.players).onDone(()=>i());i()})}processLeaveNode(i){const t=i[Lc];if(t&&t.setForRemoval){if(i[Lc]=jit,t.namespaceId){this.destroyInnerAnimations(i);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(i)}this._onRemovalComplete(i,t.setForRemoval)}i.classList?.contains(T4)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(i=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)lc(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,i)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?bf(t).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(i){throw function UKt(e){return new ue(3402,!1)}()}_flushAnimations(i,t){const n=new DA,r=[],s=new Map,o=[],l=new Map,b=new Map,C=new Map,D=new Set;this.disabledNodes.forEach(fe=>{D.add(fe);const Qt=this.driver.query(fe,".ng-animate-queued",!0);for(let _e=0;_e<Qt.length;_e++)D.add(Qt[_e])});const R=this.bodyNode,O=Array.from(this.statesByElement.keys()),L=Qit(O,this.collectedEnterElements),U=new Map;let X=0;L.forEach((fe,Qt)=>{const _e=u4+X++;U.set(Qt,_e),fe.forEach(Ne=>lc(Ne,_e))});const W=[],Z=new Set,rt=new Set;for(let fe=0;fe<this.collectedLeaveElements.length;fe++){const Qt=this.collectedLeaveElements[fe],_e=Qt[Lc];_e&&_e.setForRemoval&&(W.push(Qt),Z.add(Qt),_e.hasAnimation?this.driver.query(Qt,".ng-star-inserted",!0).forEach(Ne=>Z.add(Ne)):rt.add(Qt))}const st=new Map,vt=Qit(O,Array.from(Z));vt.forEach((fe,Qt)=>{const _e=wA+X++;st.set(Qt,_e),fe.forEach(Ne=>lc(Ne,_e))}),i.push(()=>{L.forEach((fe,Qt)=>{const _e=U.get(Qt);fe.forEach(Ne=>S0(Ne,_e))}),vt.forEach((fe,Qt)=>{const _e=st.get(Qt);fe.forEach(Ne=>S0(Ne,_e))}),W.forEach(fe=>{this.processLeaveNode(fe)})});const _t=[],Mt=[];for(let fe=this._namespaceList.length-1;fe>=0;fe--)this._namespaceList[fe].drainQueuedTransitions(t).forEach(_e=>{const Ne=_e.player,Se=_e.element;if(_t.push(Ne),this.collectedEnterElements.length){const ni=Se[Lc];if(ni&&ni.setForMove){if(ni.previousTriggersValues&&ni.previousTriggersValues.has(_e.triggerName)){const Ft=ni.previousTriggersValues.get(_e.triggerName),jt=this.statesByElement.get(_e.element);if(jt&&jt.has(_e.triggerName)){const Xt=jt.get(_e.triggerName);Xt.value=Ft,jt.set(_e.triggerName,Xt)}}return void Ne.destroy()}}const Ei=!R||!this.driver.containsElement(R,Se),Kt=st.get(Se),Re=U.get(Se),Ce=this._buildInstruction(_e,n,Re,Kt,Ei);if(Ce.errors&&Ce.errors.length)return void Mt.push(Ce);if(Ei)return Ne.onStart(()=>pp(Se,Ce.fromStyles)),Ne.onDestroy(()=>Rd(Se,Ce.toStyles)),void r.push(Ne);if(_e.isFallbackTransition)return Ne.onStart(()=>pp(Se,Ce.fromStyles)),Ne.onDestroy(()=>Rd(Se,Ce.toStyles)),void r.push(Ne);const oi=[];Ce.timelines.forEach(ni=>{ni.stretchStartingKeyframe=!0,this.disabledNodes.has(ni.element)||oi.push(ni)}),Ce.timelines=oi,n.append(Se,Ce.timelines),o.push({instruction:Ce,player:Ne,element:Se}),Ce.queriedElements.forEach(ni=>Ol(l,ni,[]).push(Ne)),Ce.preStyleProps.forEach((ni,Ft)=>{if(ni.size){let jt=b.get(Ft);jt||b.set(Ft,jt=new Set),ni.forEach((Xt,Ht)=>jt.add(Ht))}}),Ce.postStyleProps.forEach((ni,Ft)=>{let jt=C.get(Ft);jt||C.set(Ft,jt=new Set),ni.forEach((Xt,Ht)=>jt.add(Ht))})});if(Mt.length){const fe=[];Mt.forEach(Qt=>{fe.push(function zKt(e,i){return new ue(3505,!1)}())}),_t.forEach(Qt=>Qt.destroy()),this.reportError(fe)}const ft=new Map,dt=new Map;o.forEach(fe=>{const Qt=fe.element;n.has(Qt)&&(dt.set(Qt,Qt),this._beforeAnimationBuild(fe.player.namespaceId,fe.instruction,ft))}),r.forEach(fe=>{const Qt=fe.element;this._getPreviousPlayers(Qt,!1,fe.namespaceId,fe.triggerName,null).forEach(Ne=>{Ol(ft,Qt,[]).push(Ne),Ne.destroy()})});const pt=W.filter(fe=>Zit(fe,b,C)),bt=new Map;$it(bt,this.driver,rt,C,au).forEach(fe=>{Zit(fe,b,C)&&pt.push(fe)});const Et=new Map;L.forEach((fe,Qt)=>{$it(Et,this.driver,new Set(fe),b,"!")}),pt.forEach(fe=>{const Qt=bt.get(fe),_e=Et.get(fe);bt.set(fe,new Map([...Qt?.entries()??[],..._e?.entries()??[]]))});const Dt=[],Le=[],ve={};o.forEach(fe=>{const{element:Qt,player:_e,instruction:Ne}=fe;if(n.has(Qt)){if(D.has(Qt))return _e.onDestroy(()=>Rd(Qt,Ne.toStyles)),_e.disabled=!0,_e.overrideTotalTime(Ne.totalTime),void r.push(_e);let Se=ve;if(dt.size>1){let Kt=Qt;const Re=[];for(;Kt=Kt.parentNode;){const Ce=dt.get(Kt);if(Ce){Se=Ce;break}Re.push(Kt)}Re.forEach(Ce=>dt.set(Ce,Se))}const Ei=this._buildAnimation(_e.namespaceId,Ne,ft,s,Et,bt);if(_e.setRealPlayer(Ei),Se===ve)Dt.push(_e);else{const Kt=this.playersByElement.get(Se);Kt&&Kt.length&&(_e.parentPlayer=bf(Kt)),r.push(_e)}}else pp(Qt,Ne.fromStyles),_e.onDestroy(()=>Rd(Qt,Ne.toStyles)),Le.push(_e),D.has(Qt)&&r.push(_e)}),Le.forEach(fe=>{const Qt=s.get(fe.element);if(Qt&&Qt.length){const _e=bf(Qt);fe.setRealPlayer(_e)}}),r.forEach(fe=>{fe.parentPlayer?fe.syncPlayerEvents(fe.parentPlayer):fe.destroy()});for(let fe=0;fe<W.length;fe++){const Qt=W[fe],_e=Qt[Lc];if(S0(Qt,wA),_e&&_e.hasAnimation)continue;let Ne=[];if(l.size){let Ei=l.get(Qt);Ei&&Ei.length&&Ne.push(...Ei);let Kt=this.driver.query(Qt,h4,!0);for(let Re=0;Re<Kt.length;Re++){let Ce=l.get(Kt[Re]);Ce&&Ce.length&&Ne.push(...Ce)}}const Se=Ne.filter(Ei=>!Ei.destroyed);Se.length?VZt(this,Qt,Se):this.processLeaveNode(Qt)}return W.length=0,Dt.forEach(fe=>{this.players.push(fe),fe.onDone(()=>{fe.destroy();const Qt=this.players.indexOf(fe);this.players.splice(Qt,1)}),fe.play()}),Dt}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,t,n,r,s){let o=[];if(t){const l=this.playersByQueriedElement.get(i);l&&(o=l)}else{const l=this.playersByElement.get(i);if(l){const b=!s||s==J1;l.forEach(C=>{C.queued||!b&&C.triggerName!=r||o.push(C)})}}return(n||r)&&(o=o.filter(l=>!(n&&n!=l.namespaceId||r&&r!=l.triggerName))),o}_beforeAnimationBuild(i,t,n){const s=t.element,o=t.isRemovalTransition?void 0:i,l=t.isRemovalTransition?void 0:t.triggerName;for(const b of t.timelines){const C=b.element,D=C!==s,R=Ol(n,C,[]);this._getPreviousPlayers(C,D,o,l,t.toState).forEach(L=>{const U=L.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),L.destroy(),R.push(L)})}pp(s,t.fromStyles)}_buildAnimation(i,t,n,r,s,o){const l=t.triggerName,b=t.element,C=[],D=new Set,R=new Set,O=t.timelines.map(U=>{const X=U.element;D.add(X);const W=X[Lc];if(W&&W.removedBeforeQueried)return new Dy(U.duration,U.delay);const Z=X!==b,rt=function UZt(e){const i=[];return Kit(e,i),i}((n.get(X)||RZt).map(ft=>ft.getRealPlayer())).filter(ft=>!!ft.element&&ft.element===X),st=s.get(X),vt=o.get(X),_t=Ait(this._normalizer,U.keyframes,st,vt),Mt=this._buildPlayer(U,_t,rt);if(U.subTimeline&&r&&R.add(X),Z){const ft=new E4(i,l,X);ft.setRealPlayer(Mt),C.push(ft)}return Mt});C.forEach(U=>{Ol(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function LZt(e,i,t){let n=e.get(i);if(n){if(n.length){const r=n.indexOf(t);n.splice(r,1)}0==n.length&&e.delete(i)}return n}(this.playersByQueriedElement,U.element,U))}),D.forEach(U=>lc(U,Pit));const L=bf(O);return L.onDestroy(()=>{D.forEach(U=>S0(U,Pit)),Rd(b,t.toStyles)}),R.forEach(U=>{Ol(r,U,[]).push(L)}),L}_buildPlayer(i,t,n){return t.length>0?this.driver.animate(i.element,t,i.duration,i.delay,i.easing,n):new Dy(i.duration,i.delay)}}class E4{constructor(i,t,n){this.namespaceId=i,this.triggerName=t,this.element=n,this._player=new Dy,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((t,n)=>{t.forEach(r=>r4(i,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const t=this._player;t.triggerCallback&&i.onStart(()=>t.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,t){Ol(this._queuedCallbacks,i,[]).push(t)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const t=this._player;t.triggerCallback&&t.triggerCallback(i)}}function kA(e){return e&&1===e.nodeType}function Yit(e,i){const t=e.style.display;return e.style.display=i??"none",t}function $it(e,i,t,n,r){const s=[];t.forEach(b=>s.push(Yit(b)));const o=[];n.forEach((b,C)=>{const D=new Map;b.forEach(R=>{const O=i.computeStyle(C,R,r);D.set(R,O),(!O||0==O.length)&&(C[Lc]=PZt,o.push(C))}),e.set(C,D)});let l=0;return t.forEach(b=>Yit(b,s[l++])),o}function Qit(e,i){const t=new Map;if(e.forEach(l=>t.set(l,[])),0==i.length)return t;const r=new Set(i),s=new Map;function o(l){if(!l)return 1;let b=s.get(l);if(b)return b;const C=l.parentNode;return b=t.has(C)?C:r.has(C)?1:o(C),s.set(l,b),b}return i.forEach(l=>{const b=o(l);1!==b&&t.get(b).push(l)}),t}function lc(e,i){e.classList?.add(i)}function S0(e,i){e.classList?.remove(i)}function VZt(e,i,t){bf(t).onDone(()=>e.processLeaveNode(i))}function Kit(e,i){for(let t=0;t<e.length;t++){const n=e[t];n instanceof GH?Kit(n.players,i):i.push(n)}}function Zit(e,i,t){const n=t.get(e);if(!n)return!1;let r=i.get(e);return r?n.forEach(s=>r.add(s)):i.set(e,n),t.delete(e),!0}class q1{constructor(i,t,n,r){this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new OZt(i.body,t,n,r),this._timelineEngine=new AZt(i.body,t,n),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(i,t,n,r,s){const o=i+"-"+r;let l=this._triggerCache[o];if(!l){const b=[],D=v4(this._driver,s,b,[]);if(b.length)throw function IKt(e,i){return new ue(3404,!1)}();l=function TZt(e,i,t){return new CZt(e,i,t)}(r,D,this._normalizer),this._triggerCache[o]=l}this._transitionEngine.registerTrigger(t,r,l)}register(i,t){this._transitionEngine.register(i,t)}destroy(i,t){this._transitionEngine.destroy(i,t)}onInsert(i,t,n,r){this._transitionEngine.insertNode(i,t,n,r)}onRemove(i,t,n){this._transitionEngine.removeNode(i,t,n)}disableAnimations(i,t){this._transitionEngine.markElementAsDisabled(i,t)}process(i,t,n,r){if("@"==n.charAt(0)){const[s,o]=Dit(n);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(i,t,n,r)}listen(i,t,n,r,s){if("@"==n.charAt(0)){const[o,l]=Dit(n);return this._timelineEngine.listen(o,t,l,s)}return this._transitionEngine.listen(i,t,n,r,s)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}}class tw{static#t=this.initialStylesByElement=new WeakMap;constructor(i,t,n){this._element=i,this._startStyles=t,this._endStyles=n,this._state=0;let r=tw.initialStylesByElement.get(i);r||tw.initialStylesByElement.set(i,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Rd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Rd(this._element,this._initialStyles),this._endStyles&&(Rd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(tw.initialStylesByElement.delete(this._element),this._startStyles&&(pp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pp(this._element,this._endStyles),this._endStyles=null),Rd(this._element,this._initialStyles),this._state=3)}}function A4(e){let i=null;return e.forEach((t,n)=>{(function HZt(e){return"display"===e||"position"===e})(n)&&(i=i||new Map,i.set(n,t))}),i}class Jit{constructor(i,t,n,r){this.element=i,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const t=[];return i.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(i,t,n){return i.animate(this._convertKeyframesToObject(t),n)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&i.set(r,this._finished?n:g4(this.element,r))}),this.currentSnapshot=i}triggerCallback(i){const t="start"===i?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class qit{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,t){return!1}containsElement(i,t){return Iit(i,t)}getParentElement(i){return o4(i)}query(i,t,n){return kit(i,t,n)}computeStyle(i,t,n){return g4(i,t)}animate(i,t,n,r,s,o=[]){const b={duration:n,delay:r,fill:0==r?"both":"forwards"};s&&(b.easing=s);const C=new Map,D=o.filter(L=>L instanceof Jit);(function tZt(e,i){return 0===e||0===i})(n,r)&&D.forEach(L=>{L.currentSnapshot.forEach((U,X)=>C.set(X,U))});let R=function ZKt(e){return e.length?e[0]instanceof Map?e:e.map(i=>new Map(Object.entries(i))):[]}(t).map(L=>new Map(L));R=function eZt(e,i,t){if(t.size&&i.length){let n=i[0],r=[];if(t.forEach((s,o)=>{n.has(o)||r.push(o),n.set(o,s)}),r.length)for(let s=1;s<i.length;s++){let o=i[s];r.forEach(l=>o.set(l,g4(e,l)))}}return i}(i,R,C);const O=function GZt(e,i){let t=null,n=null;return Array.isArray(i)&&i.length?(t=A4(i[0]),i.length>1&&(n=A4(i[i.length-1]))):i instanceof Map&&(t=A4(i)),t||n?new tw(e,t,n):null}(i,R);return new Jit(i,R,b,O)}}const tnt="@.disabled";class ent{constructor(i,t,n,r){this.namespaceId=i,this.delegate=t,this.engine=n,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,t){return this.delegate.createElement(i,t)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,t){this.delegate.appendChild(i,t),this.engine.onInsert(this.namespaceId,t,i,!1)}insertBefore(i,t,n,r=!0){this.delegate.insertBefore(i,t,n),this.engine.onInsert(this.namespaceId,t,i,r)}removeChild(i,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(i,t){return this.delegate.selectRootElement(i,t)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,t,n,r){this.delegate.setAttribute(i,t,n,r)}removeAttribute(i,t,n){this.delegate.removeAttribute(i,t,n)}addClass(i,t){this.delegate.addClass(i,t)}removeClass(i,t){this.delegate.removeClass(i,t)}setStyle(i,t,n,r){this.delegate.setStyle(i,t,n,r)}removeStyle(i,t,n){this.delegate.removeStyle(i,t,n)}setProperty(i,t,n){"@"==t.charAt(0)&&t==tnt?this.disableAnimations(i,!!n):this.delegate.setProperty(i,t,n)}setValue(i,t){this.delegate.setValue(i,t)}listen(i,t,n){return this.delegate.listen(i,t,n)}disableAnimations(i,t){this.engine.disableAnimations(i,t)}}class WZt extends ent{constructor(i,t,n,r,s){super(t,n,r,s),this.factory=i,this.namespaceId=t}setProperty(i,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==tnt?this.disableAnimations(i,n=void 0===n||!!n):this.engine.process(this.namespaceId,i,t.slice(1),n):this.delegate.setProperty(i,t,n)}listen(i,t,n){if("@"==t.charAt(0)){const r=function XZt(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(i);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function jZt(e){const i=e.indexOf(".");return[e.substring(0,i),e.slice(i+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,l=>{this.factory.scheduleListenerCallback(l._data||-1,n,l)})}return this.delegate.listen(i,t,n)}}class YZt{constructor(i,t,n){this.delegate=i,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{const o=s?.parentNode(r);o&&s.removeChild(o,r)}}createRenderer(i,t){const r=this.delegate.createRenderer(i,t);if(!i||!t?.data?.animation){const C=this._rendererCache;let D=C.get(r);return D||(D=new ent("",r,this.engine,()=>C.delete(r)),C.set(r,D)),D}const s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,i);const l=C=>{Array.isArray(C)?C.forEach(l):this.engine.registerTrigger(s,o,i,C.name,C)};return t.data.animation.forEach(l),new WZt(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,t,n){if(i>=0&&i<this._microtaskId)return void this._zone.run(()=>t(n));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{const[o,l]=s;o(l)}),this._animationCallbacksBuffer=[]})}),r.push([t,n])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const int=[{provide:d4,useFactory:function QZt(){return new Lit}},{provide:q1,useClass:(()=>{class e extends q1{constructor(t,n,r){super(t,n,r,me(v_,{optional:!0}))}ngOnDestroy(){this.flush()}static#t=this.\u0275fac=function(n){return new(n||e)(Jt(Ni),Jt(c4),Jt(d4))};static#e=this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}return e})()},{provide:QD,useFactory:function KZt(e,i,t){return new YZt(e,i,t)},deps:[RI,q1,ii]}],D4=[{provide:c4,useFactory:()=>new qit},{provide:Nr,useValue:"BrowserAnimations"},...int],nnt=[{provide:c4,useClass:l4},{provide:Nr,useValue:"NoopAnimations"},...int];let ZZt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?nnt:D4}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({providers:D4,imports:[iz]})}return e})(),JZt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Zi,Zi]})}return e})(),DJt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Nk,td,Zi,Qg,kH,JZt]})}return e})(),BJt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e});static#i=this.\u0275inj=Pi({imports:[Zi,Qg]})}return e})();hm("firebase","10.12.3","app"),Ij({apiKey:"AIzaSyAFjiIuMBA1IpTrw__WdkQiK5PKht4_go8",authDomain:"snoguess-e4d1c.firebaseapp.com",projectId:"snoguess-e4d1c",storageBucket:"snoguess-e4d1c.appspot.com",messagingSenderId:"289449411190",appId:"1:289449411190:web:49ff68411f9e5148f11557"});let zJt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=Li({type:e,bootstrap:[lKt]});static#i=this.\u0275inj=Pi({imports:[fbt,iz,ZSt,s6t,ZZt,dAt,zQt,Kk,Kwt,d_t,Vwt,tMt,GC,NCt,g_t,HCt,HTt,$St,C_t,$_t,qW,VR,rX,kEt,zAt,QAt,CAt,a2t,DJt,iDt,VR,KQt,BJt,xDt]})}return e})();vvt().bootstrapModule(zJt).catch(e=>console.error(e))},867:(Ws,Fd,gs)=>{const Do=gs(293).a,de=gs(687).array;Ws.exports=class S{constructor(a={}){Object.assign(this,{list:a.emptyList&&[]||Array.prototype.concat.apply(Do,[de,a.list||[]]),exclude:a.exclude||[],splitRegex:a.splitRegex||/\b/,placeHolder:a.placeHolder||"*",regex:a.regex||/[^a-zA-Z0-9|\$|\@]|\^/g,replaceRegex:a.replaceRegex||/\w/g})}isProfane(a){return this.list.filter(w=>{const T=new RegExp(`\\b${w.replace(/(\W)/g,"\\$1")}\\b`,"gi");return!this.exclude.includes(w.toLowerCase())&&T.test(a)}).length>0||!1}replaceWord(a){return a.replace(this.regex,"").replace(this.replaceRegex,this.placeHolder)}clean(a){return a.split(this.splitRegex).map(w=>this.isProfane(w)?this.replaceWord(w):w).join(this.splitRegex.exec(a)[0])}addWords(){let a=Array.from(arguments);this.list.push(...a),a.map(w=>w.toLowerCase()).forEach(w=>{this.exclude.includes(w)&&this.exclude.splice(this.exclude.indexOf(w),1)})}removeWords(){this.exclude.push(...Array.from(arguments).map(a=>a.toLowerCase()))}}},402:Ws=>{Ws.exports=["4r5e","5h1t","5hit","a55","anal","anus","ar5e","arrse","arse","ass","ass-fucker","asses","assfucker","assfukka","asshole","assholes","asswhole","a_s_s","b!tch","b00bs","b17ch","b1tch","ballbag","balls","ballsack","bastard","beastial","beastiality","bellend","bestial","bestiality","bi+ch","biatch","bitch","bitcher","bitchers","bitches","bitchin","bitching","bloody","blow job","blowjob","blowjobs","boiolas","bollock","bollok","boner","boob","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bum","bunny fucker","butt","butthole","buttmuch","buttplug","c0ck","c0cksucker","carpet muncher","cawk","chink","cipa","cl1t","clit","clitoris","clits","cnut","cock","cock-sucker","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","coon","cox","crap","cum","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlick","cuntlicker","cuntlicking","cunts","cyalis","cyberfuc","cyberfuck","cyberfucked","cyberfucker","cyberfuckers","cyberfucking","d1ck","damn","dick","dickhead","dildo","dildos","dink","dinks","dirsa","dlck","dog-fucker","doggin","dogging","donkeyribber","doosh","duche","dyke","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","f u c k","f u c k e r","f4nny","fag","fagging","faggitt","faggot","faggs","fagot","fagots","fags","fanny","fannyflaps","fannyfucker","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felching","fellate","fellatio","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","flange","fook","fooker","fuck","fucka","fucked","fucker","fuckers","fuckhead","fuckheads","fuckin","fucking","fuckings","fuckingshitmotherfucker","fuckme","fucks","fuckwhit","fuckwit","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fux","fux0r","f_u_c_k","gangbang","gangbanged","gangbangs","gaylord","gaysex","goatse","God","god-dam","god-damned","goddamn","goddamned","hardcoresex","hell","heshe","hoar","hoare","hoer","homo","hore","horniest","horny","hotsex","jack-off","jackoff","jap","jerk-off","jism","jiz","jizm","jizz","kawk","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lust","lusting","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","masochist","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","masturbate","mo-fo","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","mother fucker","motherfuck","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","muff","mutha","muthafecker","muthafuckker","muther","mutherfucker","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nob jokey","nobhead","nobjocky","nobjokey","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","p0rn","pawn","pecker","penis","penisfucker","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","pigfucker","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","rectum","retard","rimjaw","rimming","s hit","s.o.b.","sadist","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale","shi+","shit","shitdick","shite","shited","shitey","shitfuck","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","skank","slut","sluts","smegma","smut","snatch","son-of-a-bitch","spac","spunk","s_h_i_t","t1tt1e5","t1tties","teets","teez","testical","testicle","tit","titfuck","tits","titt","tittie5","tittiefucker","titties","tittyfuck","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wang","wank","wanker","wanky","whoar","whore","willies","willy","xrated","xxx"]},687:(Ws,Fd,gs)=>{Ws.exports={object:gs(424),array:gs(402),regex:gs(658)}},424:Ws=>{Ws.exports={"4r5e":1,"5h1t":1,"5hit":1,a55:1,anal:1,anus:1,ar5e:1,arrse:1,arse:1,ass:1,"ass-fucker":1,asses:1,assfucker:1,assfukka:1,asshole:1,assholes:1,asswhole:1,a_s_s:1,"b!tch":1,b00bs:1,b17ch:1,b1tch:1,ballbag:1,balls:1,ballsack:1,bastard:1,beastial:1,beastiality:1,bellend:1,bestial:1,bestiality:1,"bi+ch":1,biatch:1,bitch:1,bitcher:1,bitchers:1,bitches:1,bitchin:1,bitching:1,bloody:1,"blow job":1,blowjob:1,blowjobs:1,boiolas:1,bollock:1,bollok:1,boner:1,boob:1,boobs:1,booobs:1,boooobs:1,booooobs:1,booooooobs:1,breasts:1,buceta:1,bugger:1,bum:1,"bunny fucker":1,butt:1,butthole:1,buttmuch:1,buttplug:1,c0ck:1,c0cksucker:1,"carpet muncher":1,cawk:1,chink:1,cipa:1,cl1t:1,clit:1,clitoris:1,clits:1,cnut:1,cock:1,"cock-sucker":1,cockface:1,cockhead:1,cockmunch:1,cockmuncher:1,cocks:1,cocksuck:1,cocksucked:1,cocksucker:1,cocksucking:1,cocksucks:1,cocksuka:1,cocksukka:1,cok:1,cokmuncher:1,coksucka:1,coon:1,cox:1,crap:1,cum:1,cummer:1,cumming:1,cums:1,cumshot:1,cunilingus:1,cunillingus:1,cunnilingus:1,cunt:1,cuntlick:1,cuntlicker:1,cuntlicking:1,cunts:1,cyalis:1,cyberfuc:1,cyberfuck:1,cyberfucked:1,cyberfucker:1,cyberfuckers:1,cyberfucking:1,d1ck:1,damn:1,dick:1,dickhead:1,dildo:1,dildos:1,dink:1,dinks:1,dirsa:1,dlck:1,"dog-fucker":1,doggin:1,dogging:1,donkeyribber:1,doosh:1,duche:1,dyke:1,ejaculate:1,ejaculated:1,ejaculates:1,ejaculating:1,ejaculatings:1,ejaculation:1,ejakulate:1,"f u c k":1,"f u c k e r":1,f4nny:1,fag:1,fagging:1,faggitt:1,faggot:1,faggs:1,fagot:1,fagots:1,fags:1,fanny:1,fannyflaps:1,fannyfucker:1,fanyy:1,fatass:1,fcuk:1,fcuker:1,fcuking:1,feck:1,fecker:1,felching:1,fellate:1,fellatio:1,fingerfuck:1,fingerfucked:1,fingerfucker:1,fingerfuckers:1,fingerfucking:1,fingerfucks:1,fistfuck:1,fistfucked:1,fistfucker:1,fistfuckers:1,fistfucking:1,fistfuckings:1,fistfucks:1,flange:1,fook:1,fooker:1,fuck:1,fucka:1,fucked:1,fucker:1,fuckers:1,fuckhead:1,fuckheads:1,fuckin:1,fucking:1,fuckings:1,fuckingshitmotherfucker:1,fuckme:1,fucks:1,fuckwhit:1,fuckwit:1,"fudge packer":1,fudgepacker:1,fuk:1,fuker:1,fukker:1,fukkin:1,fuks:1,fukwhit:1,fukwit:1,fux:1,fux0r:1,f_u_c_k:1,gangbang:1,gangbanged:1,gangbangs:1,gaylord:1,gaysex:1,goatse:1,God:1,"god-dam":1,"god-damned":1,goddamn:1,goddamned:1,hardcoresex:1,hell:1,heshe:1,hoar:1,hoare:1,hoer:1,homo:1,hore:1,horniest:1,horny:1,hotsex:1,"jack-off":1,jackoff:1,jap:1,"jerk-off":1,jism:1,jiz:1,jizm:1,jizz:1,kawk:1,knob:1,knobead:1,knobed:1,knobend:1,knobhead:1,knobjocky:1,knobjokey:1,kock:1,kondum:1,kondums:1,kum:1,kummer:1,kumming:1,kums:1,kunilingus:1,"l3i+ch":1,l3itch:1,labia:1,lust:1,lusting:1,m0f0:1,m0fo:1,m45terbate:1,ma5terb8:1,ma5terbate:1,masochist:1,"master-bate":1,masterb8:1,"masterbat*":1,masterbat3:1,masterbate:1,masterbation:1,masterbations:1,masturbate:1,"mo-fo":1,mof0:1,mofo:1,mothafuck:1,mothafucka:1,mothafuckas:1,mothafuckaz:1,mothafucked:1,mothafucker:1,mothafuckers:1,mothafuckin:1,mothafucking:1,mothafuckings:1,mothafucks:1,"mother fucker":1,motherfuck:1,motherfucked:1,motherfucker:1,motherfuckers:1,motherfuckin:1,motherfucking:1,motherfuckings:1,motherfuckka:1,motherfucks:1,muff:1,mutha:1,muthafecker:1,muthafuckker:1,muther:1,mutherfucker:1,n1gga:1,n1gger:1,nazi:1,nigg3r:1,nigg4h:1,nigga:1,niggah:1,niggas:1,niggaz:1,nigger:1,niggers:1,nob:1,"nob jokey":1,nobhead:1,nobjocky:1,nobjokey:1,numbnuts:1,nutsack:1,orgasim:1,orgasims:1,orgasm:1,orgasms:1,p0rn:1,pawn:1,pecker:1,penis:1,penisfucker:1,phonesex:1,phuck:1,phuk:1,phuked:1,phuking:1,phukked:1,phukking:1,phuks:1,phuq:1,pigfucker:1,pimpis:1,piss:1,pissed:1,pisser:1,pissers:1,pisses:1,pissflaps:1,pissin:1,pissing:1,pissoff:1,poop:1,porn:1,porno:1,pornography:1,pornos:1,prick:1,pricks:1,pron:1,pube:1,pusse:1,pussi:1,pussies:1,pussy:1,pussys:1,rectum:1,retard:1,rimjaw:1,rimming:1,"s hit":1,"s.o.b.":1,sadist:1,schlong:1,screwing:1,scroat:1,scrote:1,scrotum:1,semen:1,sex:1,"sh!+":1,"sh!t":1,sh1t:1,shag:1,shagger:1,shaggin:1,shagging:1,shemale:1,"shi+":1,shit:1,shitdick:1,shite:1,shited:1,shitey:1,shitfuck:1,shitfull:1,shithead:1,shiting:1,shitings:1,shits:1,shitted:1,shitter:1,shitters:1,shitting:1,shittings:1,shitty:1,skank:1,slut:1,sluts:1,smegma:1,smut:1,snatch:1,"son-of-a-bitch":1,spac:1,spunk:1,s_h_i_t:1,t1tt1e5:1,t1tties:1,teets:1,teez:1,testical:1,testicle:1,tit:1,titfuck:1,tits:1,titt:1,tittie5:1,tittiefucker:1,titties:1,tittyfuck:1,tittywank:1,titwank:1,tosser:1,turd:1,tw4t:1,twat:1,twathead:1,twatty:1,twunt:1,twunter:1,v14gra:1,v1gra:1,vagina:1,viagra:1,vulva:1,w00se:1,wang:1,wank:1,wanker:1,wanky:1,whoar:1,whore:1,willies:1,willy:1,xrated:1,xxx:1}},658:Ws=>{Ws.exports=/\b(4r5e|5h1t|5hit|a55|anal|anus|ar5e|arrse|arse|ass|ass-fucker|asses|assfucker|assfukka|asshole|assholes|asswhole|a_s_s|b!tch|b00bs|b17ch|b1tch|ballbag|balls|ballsack|bastard|beastial|beastiality|bellend|bestial|bestiality|bi\+ch|biatch|bitch|bitcher|bitchers|bitches|bitchin|bitching|bloody|blow job|blowjob|blowjobs|boiolas|bollock|bollok|boner|boob|boobs|booobs|boooobs|booooobs|booooooobs|breasts|buceta|bugger|bum|bunny fucker|butt|butthole|buttmuch|buttplug|c0ck|c0cksucker|carpet muncher|cawk|chink|cipa|cl1t|clit|clitoris|clits|cnut|cock|cock-sucker|cockface|cockhead|cockmunch|cockmuncher|cocks|cocksuck|cocksucked|cocksucker|cocksucking|cocksucks|cocksuka|cocksukka|cok|cokmuncher|coksucka|coon|cox|crap|cum|cummer|cumming|cums|cumshot|cunilingus|cunillingus|cunnilingus|cunt|cuntlick|cuntlicker|cuntlicking|cunts|cyalis|cyberfuc|cyberfuck|cyberfucked|cyberfucker|cyberfuckers|cyberfucking|d1ck|damn|dick|dickhead|dildo|dildos|dink|dinks|dirsa|dlck|dog-fucker|doggin|dogging|donkeyribber|doosh|duche|dyke|ejaculate|ejaculated|ejaculates|ejaculating|ejaculatings|ejaculation|ejakulate|f u c k|f u c k e r|f4nny|fag|fagging|faggitt|faggot|faggs|fagot|fagots|fags|fanny|fannyflaps|fannyfucker|fanyy|fatass|fcuk|fcuker|fcuking|feck|fecker|felching|fellate|fellatio|fingerfuck|fingerfucked|fingerfucker|fingerfuckers|fingerfucking|fingerfucks|fistfuck|fistfucked|fistfucker|fistfuckers|fistfucking|fistfuckings|fistfucks|flange|fook|fooker|fuck|fucka|fucked|fucker|fuckers|fuckhead|fuckheads|fuckin|fucking|fuckings|fuckingshitmotherfucker|fuckme|fucks|fuckwhit|fuckwit|fudge packer|fudgepacker|fuk|fuker|fukker|fukkin|fuks|fukwhit|fukwit|fux|fux0r|f_u_c_k|gangbang|gangbanged|gangbangs|gaylord|gaysex|goatse|God|god-dam|god-damned|goddamn|goddamned|hardcoresex|hell|heshe|hoar|hoare|hoer|homo|hore|horniest|horny|hotsex|jack-off|jackoff|jap|jerk-off|jism|jiz|jizm|jizz|kawk|knob|knobead|knobed|knobend|knobhead|knobjocky|knobjokey|kock|kondum|kondums|kum|kummer|kumming|kums|kunilingus|l3i\+ch|l3itch|labia|lust|lusting|m0f0|m0fo|m45terbate|ma5terb8|ma5terbate|masochist|master-bate|masterb8|masterbat*|masterbat3|masterbate|masterbation|masterbations|masturbate|mo-fo|mof0|mofo|mothafuck|mothafucka|mothafuckas|mothafuckaz|mothafucked|mothafucker|mothafuckers|mothafuckin|mothafucking|mothafuckings|mothafucks|mother fucker|motherfuck|motherfucked|motherfucker|motherfuckers|motherfuckin|motherfucking|motherfuckings|motherfuckka|motherfucks|muff|mutha|muthafecker|muthafuckker|muther|mutherfucker|n1gga|n1gger|nazi|nigg3r|nigg4h|nigga|niggah|niggas|niggaz|nigger|niggers|nob|nob jokey|nobhead|nobjocky|nobjokey|numbnuts|nutsack|orgasim|orgasims|orgasm|orgasms|p0rn|pawn|pecker|penis|penisfucker|phonesex|phuck|phuk|phuked|phuking|phukked|phukking|phuks|phuq|pigfucker|pimpis|piss|pissed|pisser|pissers|pisses|pissflaps|pissin|pissing|pissoff|poop|porn|porno|pornography|pornos|prick|pricks|pron|pube|pusse|pussi|pussies|pussy|pussys|rectum|retard|rimjaw|rimming|s hit|s.o.b.|sadist|schlong|screwing|scroat|scrote|scrotum|semen|sex|sh!\+|sh!t|sh1t|shag|shagger|shaggin|shagging|shemale|shi\+|shit|shitdick|shite|shited|shitey|shitfuck|shitfull|shithead|shiting|shitings|shits|shitted|shitter|shitters|shitting|shittings|shitty|skank|slut|sluts|smegma|smut|snatch|son-of-a-bitch|spac|spunk|s_h_i_t|t1tt1e5|t1tties|teets|teez|testical|testicle|tit|titfuck|tits|titt|tittie5|tittiefucker|titties|tittyfuck|tittywank|titwank|tosser|turd|tw4t|twat|twathead|twatty|twunt|twunter|v14gra|v1gra|vagina|viagra|vulva|w00se|wang|wank|wanker|wanky|whoar|whore|willies|willy|xrated|xxx)\b/gi},578:function(Ws,Fd){var gs,de;void 0!==(de="function"==typeof(gs=function(){"use strict";function P(h,c,u){var m=new XMLHttpRequest;m.open("GET",h),m.responseType="blob",m.onload=function(){f(m.response,c,u)},m.onerror=function(){console.error("could not download file")},m.send()}function a(h){var c=new XMLHttpRequest;c.open("HEAD",h,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function w(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(c)}}var T="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,g=T.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=T.saveAs||("object"!=typeof window||window!==T?function(){}:"download"in HTMLAnchorElement.prototype&&!g?function(h,c,u){var m=T.URL||T.webkitURL,d=document.createElement("a");d.download=c=c||h.name||"download",d.rel="noopener","string"==typeof h?(d.href=h,d.origin===location.origin?w(d):a(d.href)?P(h,c,u):w(d,d.target="_blank")):(d.href=m.createObjectURL(h),setTimeout(function(){m.revokeObjectURL(d.href)},4e4),setTimeout(function(){w(d)},0))}:"msSaveOrOpenBlob"in navigator?function(h,c,u){if(c=c||h.name||"download","string"!=typeof h)navigator.msSaveOrOpenBlob(function S(h,c){return typeof c>"u"?c={autoBom:!1}:"object"!=typeof c&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\ufeff",h],{type:h.type}):h}(h,u),c);else if(a(h))P(h,c,u);else{var m=document.createElement("a");m.href=h,m.target="_blank",setTimeout(function(){w(m)})}}:function(h,c,u,m){if((m=m||open("","_blank"))&&(m.document.title=m.document.body.innerText="downloading..."),"string"==typeof h)return P(h,c,u);var d="application/octet-stream"===h.type,p=/constructor/i.test(T.HTMLElement)||T.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||d&&p||g)&&typeof FileReader<"u"){var x=new FileReader;x.onloadend=function(){var E=x.result;E=v?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=E:location=E,m=null},x.readAsDataURL(h)}else{var y=T.URL||T.webkitURL,_=y.createObjectURL(h);m?m.location=_:location.href=_,m=null,setTimeout(function(){y.revokeObjectURL(_)},4e4)}});T.saveAs=f.saveAs=f,Ws.exports=f})?gs.apply(Fd,[]):gs)&&(Ws.exports=de)},945:function(Ws){var Do;Do=()=>(()=>{var Fd={50792:S=>{"use strict";var P=Object.prototype.hasOwnProperty,a="~";function w(){}function T(c,u,m){this.fn=c,this.context=u,this.once=m||!1}function g(c,u,m,d,p){if("function"!=typeof m)throw new TypeError("The listener must be a function");var v=new T(m,d||c,p),x=a?a+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],v]:c._events[x].push(v):(c._events[x]=v,c._eventsCount++),c}function f(c,u){0==--c._eventsCount?c._events=new w:delete c._events[u]}function h(){this._events=new w,this._eventsCount=0}Object.create&&(w.prototype=Object.create(null),(new w).__proto__||(a=!1)),h.prototype.eventNames=function(){var m,d,u=[];if(0===this._eventsCount)return u;for(d in m=this._events)P.call(m,d)&&u.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(m)):u},h.prototype.listeners=function(u){var d=this._events[a?a+u:u];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,v=d.length,x=new Array(v);p<v;p++)x[p]=d[p].fn;return x},h.prototype.listenerCount=function(u){var d=this._events[a?a+u:u];return d?d.fn?1:d.length:0},h.prototype.emit=function(u,m,d,p,v,x){var y=a?a+u:u;if(!this._events[y])return!1;var A,M,_=this._events[y],E=arguments.length;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),E){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,m),!0;case 3:return _.fn.call(_.context,m,d),!0;case 4:return _.fn.call(_.context,m,d,p),!0;case 5:return _.fn.call(_.context,m,d,p,v),!0;case 6:return _.fn.call(_.context,m,d,p,v,x),!0}for(M=1,A=new Array(E-1);M<E;M++)A[M-1]=arguments[M];_.fn.apply(_.context,A)}else{var k,I=_.length;for(M=0;M<I;M++)switch(_[M].once&&this.removeListener(u,_[M].fn,void 0,!0),E){case 1:_[M].fn.call(_[M].context);break;case 2:_[M].fn.call(_[M].context,m);break;case 3:_[M].fn.call(_[M].context,m,d);break;case 4:_[M].fn.call(_[M].context,m,d,p);break;default:if(!A)for(k=1,A=new Array(E-1);k<E;k++)A[k-1]=arguments[k];_[M].fn.apply(_[M].context,A)}}return!0},h.prototype.on=function(u,m,d){return g(this,u,m,d,!1)},h.prototype.once=function(u,m,d){return g(this,u,m,d,!0)},h.prototype.removeListener=function(u,m,d,p){var v=a?a+u:u;if(!this._events[v])return this;if(!m)return f(this,v),this;var x=this._events[v];if(x.fn)x.fn===m&&(!p||x.once)&&(!d||x.context===d)&&f(this,v);else{for(var y=0,_=[],E=x.length;y<E;y++)(x[y].fn!==m||p&&!x[y].once||d&&x[y].context!==d)&&_.push(x[y]);_.length?this._events[v]=1===_.length?_[0]:_:f(this,v)}return this},h.prototype.removeAllListeners=function(u){var m;return u?this._events[m=a?a+u:u]&&f(this,m):(this._events=new w,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=a,h.EventEmitter=h,S.exports=h},11517:(S,P,a)=>{var w=a(38829);S.exports=function(g,f,h,c){for(var u=g[0],m=1;m<g.length;m++){var d=g[m];w(d,u,f,h,c),u=d}return g}},80318:(S,P,a)=>{var w=a(66979);S.exports=function(g,f,h,c,u){return w(g,"angle",f,h,c,u)}},60757:S=>{S.exports=function(a,w,T){for(var g=0;g<a.length;g++)w.call(T,a[g]);return a}},69927:S=>{S.exports=function(a,w,T){void 0===T&&(T=0);for(var g=T;g<a.length;g++){var f=a[g],h=!0;for(var c in w)f[c]!==w[c]&&(h=!1);if(h)return f}return null}},32265:S=>{S.exports=function(a,w,T){void 0===T&&(T=0);for(var g=a.length-1;g>=T;g--){var f=a[g],h=!0;for(var c in w)f[c]!==w[c]&&(h=!1);if(h)return f}return null}},94420:(S,P,a)=>{var w=a(11879),T=a(60461),g=a(95540),f=a(29747),c=new(a(41481))({sys:{queueDepthSort:f,events:{once:f}}},0,0,1,1).setOrigin(0,0);S.exports=function(m,d){void 0===d&&(d={});var p=d.hasOwnProperty("width"),v=d.hasOwnProperty("height"),x=g(d,"width",-1),y=g(d,"height",-1),_=g(d,"cellWidth",1),E=g(d,"cellHeight",_),A=g(d,"position",T.TOP_LEFT),M=g(d,"x",0),I=g(d,"y",0),k=0,F=0,N=x*_,V=y*E;c.setPosition(M,I),c.setSize(_,E);for(var B=0;B<m.length;B++)if(w(m[B],c,A),p&&-1===x)c.x+=_;else if(v&&-1===y)c.y+=E;else if(v&&!p){if(F+=E,c.y+=E,F===V&&(F=0,k+=_,c.y=I,c.x+=_,k===N))break}else if(k+=_,c.x+=_,k===N&&(k=0,F+=E,c.x=M,c.y+=E,F===V))break;return m}},41721:(S,P,a)=>{var w=a(66979);S.exports=function(g,f,h,c,u){return w(g,"alpha",f,h,c,u)}},67285:(S,P,a)=>{var w=a(66979);S.exports=function(g,f,h,c,u){return w(g,"x",f,h,c,u)}},9074:(S,P,a)=>{var w=a(66979);S.exports=function(g,f,h,c,u,m,d){return null==h&&(h=f),w(g,"x",f,c,m,d),w(g,"y",h,u,m,d)}},75222:(S,P,a)=>{var w=a(66979);S.exports=function(g,f,h,c,u){return w(g,"y",f,h,c,u)}},22983:S=>{S.exports=function(a,w,T,g){void 0===T&&(T=0),void 0===g&&(g=6.28);for(var f=T,h=(g-T)/a.length,c=w.x,u=w.y,m=w.radius,d=0;d<a.length;d++)a[d].x=c+m*Math.cos(f),a[d].y=u+m*Math.sin(f),f+=h;return a}},95253:S=>{S.exports=function(a,w,T,g){void 0===T&&(T=0),void 0===g&&(g=6.28);for(var f=T,h=(g-T)/a.length,c=w.width/2,u=w.height/2,m=0;m<a.length;m++)a[m].x=w.x+c*Math.cos(f),a[m].y=w.y+u*Math.sin(f),f+=h;return a}},88505:(S,P,a)=>{var w=a(15258),T=a(26708);S.exports=function(f,h,c){var u;u=c?T(h,c,f.length):w(h,f.length);for(var m=0;m<f.length;m++){var d=f[m],p=u[m];d.x=p.x,d.y=p.y}return f}},41346:(S,P,a)=>{var w=a(14649),T=a(86003),g=a(49498);S.exports=function(h,c,u){void 0===u&&(u=0);var m=w(c,!1,h.length);u>0?T(m,u):u<0&&g(m,Math.abs(u));for(var d=0;d<h.length;d++)h[d].x=m[d].x,h[d].y=m[d].y;return h}},11575:(S,P,a)=>{var w=a(84993);S.exports=function(g,f,h){var c=w({x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2},h),u=w({x1:f.x2,y1:f.y2,x2:f.x3,y2:f.y3},h),m=w({x1:f.x3,y1:f.y3,x2:f.x1,y2:f.y1},h);c.pop(),u.pop(),m.pop();for(var d=(c=c.concat(u,m)).length/g.length,p=0,v=0;v<g.length;v++){var x=g[v],y=c[Math.floor(p)];x.x=y.x,x.y=y.y,p+=d}return g}},29953:S=>{S.exports=function(a,w,T){for(var g=0;g<a.length;g++){var f=a[g];f.anims&&f.anims.play(w,T)}return a}},66979:S=>{S.exports=function(a,w,T,g,f,h){void 0===g&&(g=0),void 0===f&&(f=0),void 0===h&&(h=1);var c,u=0,m=a.length;if(1===h)for(c=f;c<m;c++)a[c][w]+=T+u*g,u++;else for(c=f;c>=0;c--)a[c][w]+=T+u*g,u++;return a}},43967:S=>{S.exports=function(a,w,T,g,f,h){void 0===g&&(g=0),void 0===f&&(f=0),void 0===h&&(h=1);var c,u=0,m=a.length;if(1===h)for(c=f;c<m;c++)a[c][w]=T+u*g,u++;else for(c=f;c>=0;c--)a[c][w]=T+u*g,u++;return a}},88926:(S,P,a)=>{var w=a(28176);S.exports=function(g,f){for(var h=0;h<g.length;h++)w(f,g[h]);return g}},33286:(S,P,a)=>{var w=a(24820);S.exports=function(g,f){for(var h=0;h<g.length;h++)w(f,g[h]);return g}},96e3:(S,P,a)=>{var w=a(65822);S.exports=function(g,f){for(var h=0;h<g.length;h++)w(f,g[h]);return g}},28789:(S,P,a)=>{var w=a(26597);S.exports=function(g,f){for(var h=0;h<g.length;h++)w(f,g[h]);return g}},97154:(S,P,a)=>{var w=a(90260);S.exports=function(g,f){for(var h=0;h<g.length;h++)w(f,g[h]);return g}},20510:(S,P,a)=>{var w=a(66979);S.exports=function(g,f,h,c,u){return w(g,"rotation",f,h,c,u)}},91051:(S,P,a)=>{var w=a(1163),T=a(20339);S.exports=function(f,h,c){for(var u=h.x,m=h.y,d=0;d<f.length;d++){var p=f[d];w(p,u,m,c,Math.max(1,T(p.x,p.y,u,m)))}return f}},76332:(S,P,a)=>{var w=a(1163);S.exports=function(g,f,h,c){var u=f.x,m=f.y;if(0===c)return g;for(var d=0;d<g.length;d++)w(g[d],u,m,h,c);return g}},61619:(S,P,a)=>{var w=a(66979);S.exports=function(g,f,h,c,u){return w(g,"scaleX",f,h,c,u)}},94868:(S,P,a)=>{var w=a(66979);S.exports=function(g,f,h,c,u,m,d){return null==h&&(h=f),w(g,"scaleX",f,c,m,d),w(g,"scaleY",h,u,m,d)}},95532:(S,P,a)=>{var w=a(66979);S.exports=function(g,f,h,c,u){return w(g,"scaleY",f,h,c,u)}},8689:(S,P,a)=>{var w=a(43967);S.exports=function(g,f,h,c,u){return w(g,"alpha",f,h,c,u)}},2645:(S,P,a)=>{var w=a(43967);S.exports=function(g,f,h,c){return w(g,"blendMode",f,0,h,c)}},32372:(S,P,a)=>{var w=a(43967);S.exports=function(g,f,h,c,u){return w(g,"depth",f,h,c,u)}},85373:S=>{S.exports=function(a,w,T){for(var g=0;g<a.length;g++)a[g].setInteractive(w,T);return a}},81583:(S,P,a)=>{var w=a(43967);S.exports=function(g,f,h,c,u,m,d){return null==h&&(h=f),w(g,"originX",f,c,m,d),w(g,"originY",h,u,m,d),g.forEach(function(p){p.updateDisplayOrigin()}),g}},79939:(S,P,a)=>{var w=a(43967);S.exports=function(g,f,h,c,u){return w(g,"rotation",f,h,c,u)}},2699:(S,P,a)=>{var w=a(43967);S.exports=function(g,f,h,c,u,m,d){return null==h&&(h=f),w(g,"scaleX",f,c,m,d),w(g,"scaleY",h,u,m,d)}},98739:(S,P,a)=>{var w=a(43967);S.exports=function(g,f,h,c,u){return w(g,"scaleX",f,h,c,u)}},98476:(S,P,a)=>{var w=a(43967);S.exports=function(g,f,h,c,u){return w(g,"scaleY",f,h,c,u)}},6207:(S,P,a)=>{var w=a(43967);S.exports=function(g,f,h,c,u,m,d){return null==h&&(h=f),w(g,"scrollFactorX",f,c,m,d),w(g,"scrollFactorY",h,u,m,d)}},6607:(S,P,a)=>{var w=a(43967);S.exports=function(g,f,h,c,u){return w(g,"scrollFactorX",f,h,c,u)}},72248:(S,P,a)=>{var w=a(43967);S.exports=function(g,f,h,c,u){return w(g,"scrollFactorY",f,h,c,u)}},14036:S=>{S.exports=function(a,w,T,g,f){for(var h=0;h<a.length;h++)a[h].setTint(w,T,g,f);return a}},50159:(S,P,a)=>{var w=a(43967);S.exports=function(g,f,h,c){return w(g,"visible",f,0,h,c)}},77597:(S,P,a)=>{var w=a(43967);S.exports=function(g,f,h,c,u){return w(g,"x",f,h,c,u)}},83194:(S,P,a)=>{var w=a(43967);S.exports=function(g,f,h,c,u,m,d){return null==h&&(h=f),w(g,"x",f,c,m,d),w(g,"y",h,u,m,d)}},67678:(S,P,a)=>{var w=a(43967);S.exports=function(g,f,h,c,u){return w(g,"y",f,h,c,u)}},35850:(S,P,a)=>{var w=a(26099);S.exports=function(g,f,h,c,u){void 0===c&&(c=0),void 0===u&&(u=new w);var m,d,p=g.length;if(1===p)m=g[0].x,d=g[0].y,g[0].x=f,g[0].y=h;else{var v=1,x=0;0===c&&(x=p-1,v=p-2),m=g[x].x,d=g[x].y,g[x].x=f,g[x].y=h;for(var y=0;y<p;y++)if(!(v>=p||-1===v)){var _=g[v],E=_.x,A=_.y;_.x=m,_.y=d,m=E,d=A,0===c?v--:v++}}return u.x=m,u.y=d,u}},8628:(S,P,a)=>{var w=a(33680);S.exports=function(g){return w(g)}},21837:(S,P,a)=>{var w=a(7602);S.exports=function(g,f,h,c,u){void 0===u&&(u=!1);var d,m=Math.abs(c-h)/g.length;if(u)for(d=0;d<g.length;d++)g[d][f]+=w(d*m,h,c);else for(d=0;d<g.length;d++)g[d][f]=w(d*m,h,c);return g}},21910:(S,P,a)=>{var w=a(54261);S.exports=function(g,f,h,c,u){void 0===u&&(u=!1);var d,m=Math.abs(c-h)/g.length;if(u)for(d=0;d<g.length;d++)g[d][f]+=w(d*m,h,c);else for(d=0;d<g.length;d++)g[d][f]=w(d*m,h,c);return g}},62054:S=>{S.exports=function(a,w,T,g,f){if(void 0===f&&(f=!1),0===a.length)return a;if(1===a.length)return f?a[0][w]+=(g+T)/2:a[0][w]=(g+T)/2,a;var c,h=Math.abs(g-T)/(a.length-1);if(f)for(c=0;c<a.length;c++)a[c][w]+=c*h+T;else for(c=0;c<a.length;c++)a[c][w]=c*h+T;return a}},79815:S=>{S.exports=function(a){for(var w=0;w<a.length;w++)a[w].visible=!a[w].visible;return a}},39665:(S,P,a)=>{var w=a(15994);S.exports=function(g,f,h){void 0===h&&(h=0);for(var c=0;c<g.length;c++){var u=g[c];u.x=w(u.x,f.left-h,f.right+h),u.y=w(u.y,f.top-h,f.bottom+h)}return g}},61061:(S,P,a)=>{S.exports={AlignTo:a(11517),Angle:a(80318),Call:a(60757),GetFirst:a(69927),GetLast:a(32265),GridAlign:a(94420),IncAlpha:a(41721),IncX:a(67285),IncXY:a(9074),IncY:a(75222),PlaceOnCircle:a(22983),PlaceOnEllipse:a(95253),PlaceOnLine:a(88505),PlaceOnRectangle:a(41346),PlaceOnTriangle:a(11575),PlayAnimation:a(29953),PropertyValueInc:a(66979),PropertyValueSet:a(43967),RandomCircle:a(88926),RandomEllipse:a(33286),RandomLine:a(96e3),RandomRectangle:a(28789),RandomTriangle:a(97154),Rotate:a(20510),RotateAround:a(91051),RotateAroundDistance:a(76332),ScaleX:a(61619),ScaleXY:a(94868),ScaleY:a(95532),SetAlpha:a(8689),SetBlendMode:a(2645),SetDepth:a(32372),SetHitArea:a(85373),SetOrigin:a(81583),SetRotation:a(79939),SetScale:a(2699),SetScaleX:a(98739),SetScaleY:a(98476),SetScrollFactor:a(6207),SetScrollFactorX:a(6607),SetScrollFactorY:a(72248),SetTint:a(14036),SetVisible:a(50159),SetX:a(77597),SetXY:a(83194),SetY:a(67678),ShiftPosition:a(35850),Shuffle:a(8628),SmootherStep:a(21910),SmoothStep:a(21837),Spread:a(62054),ToggleVisible:a(79815),WrapInRectangle:a(39665)}},42099:(S,P,a)=>{var w=a(45319),T=a(83419),g=a(74943),f=a(81957),h=a(41138),c=a(35154),u=a(90126),m=new T({initialize:function(p,v,x){this.manager=p,this.key=v,this.type="frame",this.frames=this.getFrames(p.textureManager,c(x,"frames",[]),c(x,"defaultTextureKey",null),c(x,"sortFrames",!0)),this.frameRate=c(x,"frameRate",null),this.duration=c(x,"duration",null),this.skipMissedFrames=c(x,"skipMissedFrames",!0),this.delay=c(x,"delay",0),this.repeat=c(x,"repeat",0),this.repeatDelay=c(x,"repeatDelay",0),this.yoyo=c(x,"yoyo",!1),this.showBeforeDelay=c(x,"showBeforeDelay",!1),this.showOnStart=c(x,"showOnStart",!1),this.hideOnComplete=c(x,"hideOnComplete",!1),this.randomFrame=c(x,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(g.PAUSE_ALL,this.pause,this),this.manager.on(g.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(d,p,v,x){null===v&&null===x?(d.frameRate=24,d.duration=24/p*1e3):v&&null===x?(d.duration=v,d.frameRate=p/(v/1e3)):(d.frameRate=x,d.duration=p/x*1e3),d.msPerFrame=1e3/d.frameRate},addFrame:function(d){return this.addFrameAt(this.frames.length,d)},addFrameAt:function(d,p){var v=this.getFrames(this.manager.textureManager,p);if(v.length>0){if(0===d)this.frames=v.concat(this.frames);else if(d===this.frames.length)this.frames=this.frames.concat(v);else{var x=this.frames.slice(0,d),y=this.frames.slice(d);this.frames=x.concat(v,y)}this.updateFrameSequence()}return this},checkFrame:function(d){return d>=0&&d<this.frames.length},getFirstTick:function(d){d.accumulator=0,d.nextTick=d.currentFrame.duration?d.currentFrame.duration:d.msPerFrame},getFrameAt:function(d){return this.frames[d]},getFrames:function(d,p,v,x){void 0===x&&(x=!0);var _,E,M,I,y=[],A=1;if("string"==typeof p){if(!d.exists(I=p))return console.warn('Texture "%s" not found',I),y;var F=d.get(I).getFrameNames();x&&u(F),p=[],F.forEach(function(G){p.push({key:I,frame:G})})}if(!Array.isArray(p)||0===p.length)return y;for(M=0;M<p.length;M++){var N=p[M],V=c(N,"key",v);if(V){var B=c(N,"frame",0),H=d.getFrame(V,B);if(!H){console.warn('Texture "%s" not found',V);continue}(E=new h(V,B,A,H)).duration=c(N,"duration",0),E.isFirst=!_,_&&(_.nextFrame=E,E.prevFrame=_),y.push(E),_=E,A++}}if(y.length>0){E.isLast=!0,E.nextFrame=y[0],y[0].prevFrame=E;var Q=1/(y.length-1);for(M=0;M<y.length;M++)y[M].progress=M*Q}return y},getNextTick:function(d){d.accumulator-=d.nextTick,d.nextTick=d.currentFrame.duration?d.currentFrame.duration:d.msPerFrame},getFrameByProgress:function(d){return d=w(d,0,1),f(d,this.frames,"progress")},nextFrame:function(d){var p=d.currentFrame;p.isLast?d.yoyo?this.handleYoyoFrame(d,!1):d.repeatCounter>0?d.inReverse&&d.forward?d.forward=!1:this.repeatAnimation(d):d.complete():this.updateAndGetNextTick(d,p.nextFrame)},handleYoyoFrame:function(d,p){if(p||(p=!1),d.inReverse===!p&&d.repeatCounter>0)return(0===d.repeatDelay||d.pendingRepeat)&&(d.forward=p),void this.repeatAnimation(d);d.inReverse===p||0!==d.repeatCounter?(d.forward=p,this.updateAndGetNextTick(d,p?d.currentFrame.nextFrame:d.currentFrame.prevFrame)):d.complete()},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(d){var p=d.currentFrame;p.isFirst?d.yoyo?this.handleYoyoFrame(d,!0):d.repeatCounter>0?(d.inReverse&&!d.forward||(d.forward=!0),this.repeatAnimation(d)):d.complete():this.updateAndGetNextTick(d,p.prevFrame)},updateAndGetNextTick:function(d,p){d.setCurrentFrame(p),this.getNextTick(d)},removeFrame:function(d){var p=this.frames.indexOf(d);return-1!==p&&this.removeFrameAt(p),this},removeFrameAt:function(d){return this.frames.splice(d,1),this.updateFrameSequence(),this},repeatAnimation:function(d){if(2===d._pendingStop){if(0===d._pendingStopValue)return d.stop();d._pendingStopValue--}d.repeatDelay>0&&!d.pendingRepeat?(d.pendingRepeat=!0,d.accumulator-=d.nextTick,d.nextTick+=d.repeatDelay):(d.repeatCounter--,d.setCurrentFrame(d.forward?d.currentFrame.nextFrame:d.currentFrame.prevFrame),d.isPlaying&&(this.getNextTick(d),d.handleRepeat()))},toJSON:function(){var d={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(p){d.frames.push(p.toJSON())}),d},updateFrameSequence:function(){for(var v,d=this.frames.length,p=1/(d-1),x=0;x<d;x++)(v=this.frames[x]).index=x+1,v.isFirst=!1,v.isLast=!1,v.progress=x*p,0===x?(v.isFirst=!0,1===d?(v.isLast=!0,v.nextFrame=v,v.prevFrame=v):(v.isLast=!1,v.prevFrame=this.frames[d-1],v.nextFrame=this.frames[x+1])):x===d-1&&d>1?(v.isLast=!0,v.prevFrame=this.frames[d-2],v.nextFrame=this.frames[0]):d>1&&(v.prevFrame=this.frames[x-1],v.nextFrame=this.frames[x+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(g.PAUSE_ALL,this.pause,this),this.manager.off(g.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var d=0;d<this.frames.length;d++)this.frames[d].destroy();this.frames=[],this.manager=null}});S.exports=m},41138:(S,P,a)=>{var T=new(a(83419))({initialize:function(f,h,c,u,m){void 0===m&&(m=!1),this.textureKey=f,this.textureFrame=h,this.index=c,this.frame=u,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=m},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});S.exports=T},60848:(S,P,a)=>{var w=a(42099),T=a(83419),g=a(90330),f=a(50792),h=a(74943),c=a(8443),u=a(95540),m=a(35154),d=a(36383),p=a(20283),v=a(41836),x=new T({Extends:f,initialize:function(_){f.call(this),this.game=_,this.textureManager=null,this.globalTimeScale=1,this.anims=new g,this.mixes=new g,this.paused=!1,this.name="AnimationManager",_.events.once(c.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(c.DESTROY,this.destroy,this)},addMix:function(y,_,E){var A=this.anims,M=this.mixes,I="string"==typeof y?y:y.key,k="string"==typeof _?_:_.key;if(A.has(I)&&A.has(k)){var F=M.get(I);F||(F={}),F[k]=E,M.set(I,F)}return this},removeMix:function(y,_){var E=this.mixes,A="string"==typeof y?y:y.key,M=E.get(A);if(M)if(_){var I="string"==typeof _?_:_.key;M.hasOwnProperty(I)&&delete M[I]}else _||E.delete(A);return this},getMix:function(y,_){var M="string"==typeof _?_:_.key,I=this.mixes.get("string"==typeof y?y:y.key);return I&&I.hasOwnProperty(M)?I[M]:0},add:function(y,_){return this.anims.has(y)?(console.warn("Animation key exists: "+y),this):(_.key=y,this.anims.set(y,_),this.emit(h.ADD_ANIMATION,y,_),this)},exists:function(y){return this.anims.has(y)},createFromAseprite:function(y,_,E){var A=[],M=this.game.cache.json.get(y);if(!M)return console.warn("No Aseprite data found for: "+y),A;var I=this,k=m(M,"meta",null),F=m(M,"frames",null);return k&&F&&m(k,"frameTags",[]).forEach(function(V){var B=[],H=u(V,"name",null),Q=u(V,"from",0),G=u(V,"to",0),K=u(V,"direction","forward");if(H&&(!_||_&&_.indexOf(H)>-1)){for(var tt=0,at=Q;at<=G;at++){var lt=at.toString(),J=F[lt];if(J){var it=u(J,"duration",d.MAX_SAFE_INTEGER);B.push({key:y,frame:lt,duration:it}),tt+=it}}"reverse"===K&&(B=B.reverse());var j,Y={key:H,frames:B,duration:tt,yoyo:"pingpong"===K};E?E.anims&&(j=E.anims.create(Y)):j=I.create(Y),j&&A.push(j)}}),A},create:function(y){var _=y.key,E=!1;return _&&((E=this.get(_))?console.warn("AnimationManager key already exists: "+_):(E=new w(this,_,y),this.anims.set(_,E),this.emit(h.ADD_ANIMATION,_,E))),E},fromJSON:function(y,_){void 0===_&&(_=!1),_&&this.anims.clear(),"string"==typeof y&&(y=JSON.parse(y));var E=[];if(y.hasOwnProperty("anims")&&Array.isArray(y.anims)){for(var A=0;A<y.anims.length;A++)E.push(this.create(y.anims[A]));y.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=y.globalTimeScale)}else y.hasOwnProperty("key")&&"frame"===y.type&&E.push(this.create(y));return E},generateFrameNames:function(y,_){var E=m(_,"prefix",""),A=m(_,"start",0),M=m(_,"end",0),I=m(_,"suffix",""),k=m(_,"zeroPad",0),F=m(_,"outputArray",[]),N=m(_,"frames",!1);if(!this.textureManager.exists(y))return console.warn('Texture "%s" not found',y),F;var B,V=this.textureManager.get(y);if(!V)return F;if(_)for(N||(N=p(A,M)),B=0;B<N.length;B++){var H=E+v(N[B],k,"0",1)+I;V.has(H)?F.push({key:y,frame:H}):console.warn('Frame "%s" not found in texture "%s"',H,y)}else for(N=V.getFrameNames(),B=0;B<N.length;B++)F.push({key:y,frame:N[B]});return F},generateFrameNumbers:function(y,_){var E=m(_,"start",0),A=m(_,"end",-1),M=m(_,"first",!1),I=m(_,"outputArray",[]),k=m(_,"frames",!1);if(!this.textureManager.exists(y))return console.warn('Texture "%s" not found',y),I;var F=this.textureManager.get(y);if(!F)return I;M&&F.has(M)&&I.push({key:y,frame:M}),k||(-1===A&&(A=F.frameTotal-2),k=p(E,A));for(var N=0;N<k.length;N++){var V=k[N];F.has(V)?I.push({key:y,frame:V}):console.warn('Frame "%s" not found in texture "%s"',V,y)}return I},get:function(y){return this.anims.get(y)},getAnimsFromTexture:function(y){for(var E=this.textureManager.get(y).key,A=this.anims.getArray(),M=[],I=0;I<A.length;I++)for(var k=A[I],F=k.frames,N=0;N<F.length;N++)if(F[N].textureKey===E){M.push(k.key);break}return M},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(h.PAUSE_ALL)),this},play:function(y,_){Array.isArray(_)||(_=[_]);for(var E=0;E<_.length;E++)_[E].anims.play(y);return this},staggerPlay:function(y,_,E,A){void 0===E&&(E=0),void 0===A&&(A=!0),Array.isArray(_)||(_=[_]);var M=_.length;A||M--;for(var I=0;I<_.length;I++){var k=E<0?Math.abs(E)*(M-I):E*I;_[I].anims.playAfterDelay(y,k)}return this},remove:function(y){var _=this.get(y);return _&&(this.emit(h.REMOVE_ANIMATION,y,_),this.anims.delete(y),this.removeMix(y)),_},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(h.RESUME_ALL)),this},toJSON:function(y){var _={anims:[],globalTimeScale:this.globalTimeScale};return void 0!==y&&""!==y?_.anims.push(this.anims.get(y).toJSON()):this.anims.each(function(E,A){_.anims.push(A.toJSON())}),_},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});S.exports=x},9674:(S,P,a)=>{var w=a(42099),T=a(30976),g=a(83419),f=a(90330),h=a(74943),c=a(95540),u=new g({initialize:function(d){this.parent=d,this.animationManager=d.scene.sys.anims,this.animationManager.on(h.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0},chain:function(m){var d=this.parent;if(void 0===m)return this.nextAnimsQueue.length=0,this.nextAnim=null,d;Array.isArray(m)||(m=[m]);for(var p=0;p<m.length;p++){var v=m[p];this.nextAnim?this.nextAnimsQueue.push(v):this.nextAnim=v}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(m){this.isPlaying&&this.stop();var d=this.animationManager,p="string"==typeof m?m:c(m,"key",null),v=this.exists(p)?this.get(p):d.get(p);if(v){this.currentAnim=v;var x=v.getTotalFrames(),y=c(m,"frameRate",v.frameRate),_=c(m,"duration",v.duration);v.calculateDuration(this,x,_,y),this.delay=c(m,"delay",v.delay),this.repeat=c(m,"repeat",v.repeat),this.repeatDelay=c(m,"repeatDelay",v.repeatDelay),this.yoyo=c(m,"yoyo",v.yoyo),this.showBeforeDelay=c(m,"showBeforeDelay",v.showBeforeDelay),this.showOnStart=c(m,"showOnStart",v.showOnStart),this.hideOnComplete=c(m,"hideOnComplete",v.hideOnComplete),this.skipMissedFrames=c(m,"skipMissedFrames",v.skipMissedFrames),this.randomFrame=c(m,"randomFrame",v.randomFrame),this.timeScale=c(m,"timeScale",this.timeScale);var E=c(m,"startFrame",0);E>x&&(E=0),this.randomFrame&&(E=T(0,x-1));var A=v.frames[E];0===E&&!this.forward&&(A=v.getLastFrame()),this.currentFrame=A}else console.warn("Missing animation: "+p);return this.parent},pause:function(m){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==m&&this.setCurrentFrame(m),this.parent},resume:function(m){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==m&&this.setCurrentFrame(m),this.parent},playAfterDelay:function(m,d){if(this.isPlaying){var p=this.nextAnim;p&&this.nextAnimsQueue.unshift(p),this.nextAnim=m,this._pendingStop=1,this._pendingStopValue=d}else this.delayCounter=d,this.play(m,!0);return this.parent},playAfterRepeat:function(m,d){if(void 0===d&&(d=1),this.isPlaying){var p=this.nextAnim;p&&this.nextAnimsQueue.unshift(p),-1!==this.repeatCounter&&d>this.repeatCounter&&(d=this.repeatCounter),this.nextAnim=m,this._pendingStop=2,this._pendingStopValue=d}else this.play(m);return this.parent},play:function(m,d){void 0===d&&(d=!1);var p=this.currentAnim;if(d&&this.isPlaying&&p.key===("string"==typeof m?m:m.key))return this.parent;if(p&&this.isPlaying){var y=this.animationManager.getMix(p.key,m);if(y>0)return this.playAfterDelay(m,y)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(m)},playReverse:function(m,d){return void 0===d&&(d=!1),d&&this.isPlaying&&this.currentAnim.key===("string"==typeof m?m:m.key)?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(m))},startAnimation:function(m){this.load(m);var d=this.currentAnim,p=this.parent;return d&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat,d.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,0===this.delayCounter?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),p},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(h.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(h.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(h.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(h.ANIMATION_COMPLETE,h.ANIMATION_COMPLETE_KEY)},emitEvents:function(m,d){var p=this.currentAnim;if(p){var v=this.currentFrame,x=this.parent,y=v.textureFrame;x.emit(m,p,v,x,y),d&&x.emit(d+p.key,p,v,x,y)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var m=this.currentFrame;if(!m)return 0;var d=m.progress;return this.inReverse&&(d*=-1),d},setProgress:function(m){return this.forward||(m=1-m),this.setCurrentFrame(this.currentAnim.getFrameByProgress(m)),this.parent},setRepeat:function(m){return this.repeatCounter=-1===m?Number.MAX_VALUE:m,this.parent},globalRemove:function(m,d){void 0===d&&(d=this.currentAnim),this.isPlaying&&d.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(m,d){void 0===m&&(m=!1),void 0===d&&(d=!1);var p=this.currentAnim,v=this.parent;return p?(d&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat),p.getFirstTick(this),this.emitEvents(h.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!m,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(p.frames[0]),this.parent):v},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var m=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(m)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var m=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(m)}return this.parent},stopAfterDelay:function(m){return this._pendingStop=1,this._pendingStopValue=m,this.parent},stopAfterRepeat:function(m){return void 0===m&&(m=1),-1!==this.repeatCounter&&m>this.repeatCounter&&(m=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=m,this.parent},stopOnFrame:function(m){return this._pendingStop=3,this._pendingStopValue=m,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(m,d){var p=this.currentAnim;if(this.isPlaying&&p&&!p.paused){if(this.accumulator+=d*this.timeScale*this.animationManager.globalTimeScale,1===this._pendingStop&&(this._pendingStopValue-=d,this._pendingStopValue<=0))return this.stop();if(this.hasStarted){if(this.accumulator>=this.nextTick&&(this.forward?p.nextFrame(this):p.previousFrame(this),this.isPlaying&&0===this._pendingStop&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var v=0;do{this.forward?p.nextFrame(this):p.previousFrame(this),v++}while(this.isPlaying&&this.accumulator>this.nextTick&&v<60)}}else this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart())}},setCurrentFrame:function(m){var d=this.parent;return this.currentFrame=m,d.texture=m.frame.texture,d.frame=m.frame,d.isCropped&&d.frame.updateCropUVs(d._crop,d.flipX,d.flipY),m.setAlpha&&(d.alpha=m.alpha),d.setSizeToFrame(),d._originComponent&&(m.frame.customPivot?d.setOrigin(m.frame.pivotX,m.frame.pivotY):d.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(h.ANIMATION_UPDATE),3===this._pendingStop&&this._pendingStopValue===m&&this.stop()),d},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(m){return this.anims?this.anims.get(m):null},exists:function(m){return!!this.anims&&this.anims.has(m)},create:function(m){var d=m.key,p=!1;return d&&((p=this.get(d))?console.warn("Animation key already exists: "+d):(p=new w(this,d,m),this.anims||(this.anims=new f),this.anims.set(d,p))),p},createFromAseprite:function(m,d){return this.animationManager.createFromAseprite(m,d,this.parent)},generateFrameNames:function(m,d){return this.animationManager.generateFrameNames(m,d)},generateFrameNumbers:function(m,d){return this.animationManager.generateFrameNumbers(m,d)},remove:function(m){var d=this.get(m);return d&&(this.currentAnim===d&&this.stop(),this.anims.delete(m)),d},destroy:function(){this.animationManager.off(h.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});S.exports=u},57090:S=>{S.exports="add"},25312:S=>{S.exports="animationcomplete"},89580:S=>{S.exports="animationcomplete-"},52860:S=>{S.exports="animationrepeat"},63850:S=>{S.exports="animationrestart"},99085:S=>{S.exports="animationstart"},28087:S=>{S.exports="animationstop"},1794:S=>{S.exports="animationupdate"},52562:S=>{S.exports="pauseall"},57953:S=>{S.exports="remove"},68339:S=>{S.exports="resumeall"},74943:(S,P,a)=>{S.exports={ADD_ANIMATION:a(57090),ANIMATION_COMPLETE:a(25312),ANIMATION_COMPLETE_KEY:a(89580),ANIMATION_REPEAT:a(52860),ANIMATION_RESTART:a(63850),ANIMATION_START:a(99085),ANIMATION_STOP:a(28087),ANIMATION_UPDATE:a(1794),PAUSE_ALL:a(52562),REMOVE_ANIMATION:a(57953),RESUME_ALL:a(68339)}},60421:(S,P,a)=>{S.exports={Animation:a(42099),AnimationFrame:a(41138),AnimationManager:a(60848),AnimationState:a(9674),Events:a(74943)}},2161:(S,P,a)=>{var w=a(83419),T=a(90330),g=a(50792),f=a(24736),h=new w({initialize:function(){this.entries=new T,this.events=new g},add:function(c,u){return this.entries.set(c,u),this.events.emit(f.ADD,this,c,u),this},has:function(c){return this.entries.has(c)},exists:function(c){return this.entries.has(c)},get:function(c){return this.entries.get(c)},remove:function(c){var u=this.get(c);return u&&(this.entries.delete(c),this.events.emit(f.REMOVE,this,c,u.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});S.exports=h},24047:(S,P,a)=>{var w=a(2161),T=a(83419),g=a(8443),f=new T({initialize:function(c){this.game=c,this.binary=new w,this.bitmapFont=new w,this.json=new w,this.physics=new w,this.shader=new w,this.audio=new w,this.video=new w,this.text=new w,this.html=new w,this.obj=new w,this.tilemap=new w,this.xml=new w,this.custom={},this.game.events.once(g.DESTROY,this.destroy,this)},addCustom:function(h){return this.custom.hasOwnProperty(h)||(this.custom[h]=new w),this.custom[h]},destroy:function(){for(var h=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],c=0;c<h.length;c++)this[h[c]].destroy(),this[h[c]]=null;for(var u in this.custom)this.custom[u].destroy();this.custom=null,this.game=null}});S.exports=f},51464:S=>{S.exports="add"},59261:S=>{S.exports="remove"},24736:(S,P,a)=>{S.exports={ADD:a(51464),REMOVE:a(59261)}},83388:(S,P,a)=>{S.exports={BaseCache:a(2161),CacheManager:a(24047),Events:a(24736)}},71911:(S,P,a)=>{var w=a(83419),T=a(31401),g=a(39506),f=a(50792),h=a(19715),c=a(87841),u=a(61340),m=a(80333),d=a(26099),p=new w({Extends:f,Mixins:[T.AlphaSingle,T.Visible],initialize:function(x,y,_,E){void 0===x&&(x=0),void 0===y&&(y=0),void 0===_&&(_=0),void 0===E&&(E=0),f.call(this),this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new c,this.dirty=!0,this._x=x,this._y=y,this._width=_,this._height=E,this._bounds=new c,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new u,this.transparent=!0,this.backgroundColor=m("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new d(_/2,E/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(v){this.renderList.push(v)},setOrigin:function(v,x){return void 0===v&&(v=.5),void 0===x&&(x=v),this.originX=v,this.originY=x,this},getScroll:function(v,x,y){void 0===y&&(y=new d);var E=.5*this.height;return y.x=v-.5*this.width,y.y=x-E,this.useBounds&&(y.x=this.clampX(y.x),y.y=this.clampY(y.y)),y},centerOnX:function(v){var x=.5*this.width;return this.midPoint.x=v,this.scrollX=v-x,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(v){var x=.5*this.height;return this.midPoint.y=v,this.scrollY=v-x,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(v,x){return this.centerOnX(v),this.centerOnY(x),this},centerToBounds:function(){if(this.useBounds){var v=this._bounds,x=.5*this.width,y=.5*this.height;this.midPoint.set(v.centerX,v.centerY),this.scrollX=v.centerX-x,this.scrollY=v.centerY-y}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(v){if(this.disableCull)return v;var x=this.matrix.matrix,y=x[0],_=x[1],E=x[2],A=x[3],M=y*A-_*E;if(!M)return v;var I=x[4],k=x[5],F=this.scrollX,N=this.scrollY,H=this.y,Q=H+this.height,G=this.x,K=G+this.width,tt=this.culledObjects,at=v.length;M=1/M,tt.length=0;for(var lt=0;lt<at;++lt){var J=v[lt];if(J.hasOwnProperty("width")&&!J.parentContainer){var it=J.width,Y=J.height,j=J.x-F*J.scrollFactorX-it*J.originX,nt=J.y-N*J.scrollFactorY-Y*J.originY;(j+it)*y+(nt+Y)*E+I>G&&j*y+nt*E+I<K&&(j+it)*_+(nt+Y)*A+k>H&&j*_+nt*A+k<Q&&tt.push(J)}else tt.push(J)}return tt},getWorldPoint:function(v,x,y){void 0===y&&(y=new d);var _=this.matrix.matrix,E=_[0],A=_[1],M=_[2],I=_[3],k=_[4],F=_[5],N=E*I-A*M;if(!N)return y.x=v,y.y=x,y;var V=I*(N=1/N),B=-A*N,H=-M*N,Q=E*N,G=(M*F-I*k)*N,K=(A*k-E*F)*N,tt=Math.cos(this.rotation),at=Math.sin(this.rotation),it=this.scrollX,Y=this.scrollY,j=v+(it*tt-Y*at)*this.zoomX,nt=x+(it*at+Y*tt)*this.zoomY;return y.x=j*V+nt*H+G,y.y=j*B+nt*Q+K,y},ignore:function(v){var x=this.id;Array.isArray(v)||(v=[v]);for(var y=0;y<v.length;y++){var _=v[y];Array.isArray(_)?this.ignore(_):_.isParent?this.ignore(_.getChildren()):_.cameraFilter|=x}return this},clampX:function(v){var x=this._bounds,y=this.displayWidth,_=x.x+(y-this.width)/2,E=Math.max(_,_+x.width-y);return v<_?v=_:v>E&&(v=E),v},clampY:function(v){var x=this._bounds,y=this.displayHeight,_=x.y+(y-this.height)/2,E=Math.max(_,_+x.height-y);return v<_?v=_:v>E&&(v=E),v},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(v){return void 0===v&&(v=0),this.rotation=g(v),this},setBackgroundColor:function(v){return void 0===v&&(v="rgba(0,0,0,0)"),this.backgroundColor=m(v),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(v,x,y,_,E){return void 0===E&&(E=!1),this._bounds.setTo(v,x,y,_),this.dirty=!0,this.useBounds=!0,E?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(v){void 0===v&&(v=new c);var x=this._bounds;return v.setTo(x.x,x.y,x.width,x.height),v},setName:function(v){return void 0===v&&(v=""),this.name=v,this},setPosition:function(v,x){return void 0===x&&(x=v),this.x=v,this.y=x,this},setRotation:function(v){return void 0===v&&(v=0),this.rotation=v,this},setRoundPixels:function(v){return this.roundPixels=v,this},setScene:function(v,x){void 0===x&&(x=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=v,this.isSceneCamera=x;var y=v.sys;return this.sceneManager=y.game.scene,this.scaleManager=y.scale,this.cameraManager=y.cameras,this.updateSystem(),this},setScroll:function(v,x){return void 0===x&&(x=v),this.scrollX=v,this.scrollY=x,this},setSize:function(v,x){return void 0===x&&(x=v),this.width=v,this.height=x,this},setViewport:function(v,x,y,_){return this.x=v,this.y=x,this.width=y,this.height=_,this},setZoom:function(v,x){return void 0===v&&(v=1),void 0===x&&(x=v),0===v&&(v=.001),0===x&&(x=.001),this.zoomX=v,this.zoomY=x,this},setMask:function(v,x){return void 0===x&&(x=!0),this.mask=v,this._maskCamera=x?this.cameraManager.default:this,this},clearMask:function(v){return void 0===v&&(v=!1),v&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var v={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(v.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),v},update:function(){},setIsSceneCamera:function(v){return this.isSceneCamera=v,this},updateSystem:function(){if(this.scaleManager&&this.isSceneCamera){var v=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,x=this.sceneManager;v&&!this._customViewport?x.customViewports++:!v&&this._customViewport&&x.customViewports--,this.dirty=!0,this._customViewport=v}},destroy:function(){this.emit(h.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(v){this._x=v,this.updateSystem()}},y:{get:function(){return this._y},set:function(v){this._y=v,this.updateSystem()}},width:{get:function(){return this._width},set:function(v){this._width=v,this.updateSystem()}},height:{get:function(){return this._height},set:function(v){this._height=v,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(v){v!==this._scrollX&&(this._scrollX=v,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(v){v!==this._scrollY&&(this._scrollY=v,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(v){this._zoomX=v,this._zoomY=v,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(v){this._zoomX=v,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(v){this._zoomY=v,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(v){this._rotation=v,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});S.exports=p},38058:(S,P,a)=>{var w=a(71911),T=a(67502),g=a(45319),f=a(83419),h=a(31401),c=a(20052),u=a(19715),m=a(28915),d=a(87841),p=a(26099),v=new f({Extends:w,Mixins:[h.PostPipeline],initialize:function(y,_,E,A){w.call(this,y,_,E,A),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new c.Fade(this),this.flashEffect=new c.Flash(this),this.shakeEffect=new c.Shake(this),this.panEffect=new c.Pan(this),this.rotateToEffect=new c.RotateTo(this),this.zoomEffect=new c.Zoom(this),this.lerp=new p(1,1),this.followOffset=new p,this.deadzone=null,this._follow=null},setDeadzone:function(x,y){if(void 0===x)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=x,this.deadzone.height=y):this.deadzone=new d(0,0,x,y),this._follow){var _=this.width/2,E=this.height/2,A=this._follow.x-this.followOffset.x,M=this._follow.y-this.followOffset.y;this.midPoint.set(A,M),this.scrollX=A-_,this.scrollY=M-E}T(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(x,y,_,E,A,M){return this.fadeEffect.start(!1,x,y,_,E,!0,A,M)},fadeOut:function(x,y,_,E,A,M){return this.fadeEffect.start(!0,x,y,_,E,!0,A,M)},fadeFrom:function(x,y,_,E,A,M,I){return this.fadeEffect.start(!1,x,y,_,E,A,M,I)},fade:function(x,y,_,E,A,M,I){return this.fadeEffect.start(!0,x,y,_,E,A,M,I)},flash:function(x,y,_,E,A,M,I){return this.flashEffect.start(x,y,_,E,A,M,I)},shake:function(x,y,_,E,A){return this.shakeEffect.start(x,y,_,E,A)},pan:function(x,y,_,E,A,M,I){return this.panEffect.start(x,y,_,E,A,M,I)},rotateTo:function(x,y,_,E,A,M,I){return this.rotateToEffect.start(x,y,_,E,A,M,I)},zoomTo:function(x,y,_,E,A,M){return this.zoomEffect.start(x,y,_,E,A,M)},preRender:function(){this.renderList.length=0;var x=this.width,y=this.height,_=.5*x,E=.5*y,A=this.zoomX,M=this.zoomY,I=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(A)&&Number.isInteger(M);var k=x*this.originX,F=y*this.originY,N=this._follow,V=this.deadzone,B=this.scrollX,H=this.scrollY;V&&T(V,this.midPoint.x,this.midPoint.y);var Q=!1;if(N&&!this.panEffect.isRunning){var G=this.lerp,K=N.x-this.followOffset.x,tt=N.y-this.followOffset.y;V?(K<V.x?B=m(B,B-(V.x-K),G.x):K>V.right&&(B=m(B,B+(K-V.right),G.x)),tt<V.y?H=m(H,H-(V.y-tt),G.y):tt>V.bottom&&(H=m(H,H+(tt-V.bottom),G.y))):(B=m(B,K-k,G.x),H=m(H,tt-F,G.y)),Q=!0}this.roundPixels&&(B=Math.floor(B),H=Math.floor(H)),this.useBounds&&(B=this.clampX(B),H=this.clampY(H)),this.scrollX=B,this.scrollY=H;var at=B+_,lt=H+E;this.midPoint.set(at,lt);var J=Math.floor(x/A+.5),it=Math.floor(y/M+.5),Y=Math.floor(at-J/2+.5),j=Math.floor(lt-it/2+.5);this.worldView.setTo(Y,j,J,it),I.applyITRS(Math.floor(this.x+k+.5),Math.floor(this.y+F+.5),this.rotation,A,M),I.translate(-k,-F),this.shakeEffect.preRender(),Q&&this.emit(u.FOLLOW_UPDATE,this,N)},setLerp:function(x,y){return void 0===x&&(x=1),void 0===y&&(y=x),this.lerp.set(x,y),this},setFollowOffset:function(x,y){return void 0===x&&(x=0),void 0===y&&(y=0),this.followOffset.set(x,y),this},startFollow:function(x,y,_,E,A,M){void 0===y&&(y=!1),void 0===_&&(_=1),void 0===E&&(E=_),void 0===A&&(A=0),void 0===M&&(M=A),this._follow=x,this.roundPixels=y,_=g(_,0,1),E=g(E,0,1),this.lerp.set(_,E),this.followOffset.set(A,M);var I=this.width/2,k=this.height/2,F=x.x-A,N=x.y-M;return this.midPoint.set(F,N),this.scrollX=F-I,this.scrollY=N-k,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(x,y){this.visible&&(this.rotateToEffect.update(x,y),this.panEffect.update(x,y),this.zoomEffect.update(x,y),this.shakeEffect.update(x,y),this.flashEffect.update(x,y),this.fadeEffect.update(x,y))},destroy:function(){this.resetFX(),w.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});S.exports=v},32743:(S,P,a)=>{var w=a(38058),T=a(83419),g=a(95540),f=a(37277),h=a(37303),c=a(97480),u=a(44594),m=new T({initialize:function(p){this.scene=p,this.systems=p.sys,this.roundPixels=p.sys.game.config.roundPixels,this.cameras=[],p.sys.events.once(u.BOOT,this.boot,this),p.sys.events.on(u.START,this.start,this)},boot:function(){var d=this.systems;d.settings.cameras?this.fromJSON(d.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new w(0,0,d.scale.width,d.scale.height).setScene(this.scene),d.game.scale.on(c.RESIZE,this.onResize,this),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){if(!this.main){var d=this.systems;d.settings.cameras?this.fromJSON(d.settings.cameras):this.add(),this.main=this.cameras[0]}var p=this.systems.events;p.on(u.UPDATE,this.update,this),p.once(u.SHUTDOWN,this.shutdown,this)},add:function(d,p,v,x,y,_){void 0===d&&(d=0),void 0===p&&(p=0),void 0===v&&(v=this.scene.sys.scale.width),void 0===x&&(x=this.scene.sys.scale.height),void 0===y&&(y=!1),void 0===_&&(_="");var E=new w(d,p,v,x);return E.setName(_),E.setScene(this.scene),E.setRoundPixels(this.roundPixels),E.id=this.getNextID(),this.cameras.push(E),y&&(this.main=E),E},addExisting:function(d,p){return void 0===p&&(p=!1),-1===this.cameras.indexOf(d)?(d.id=this.getNextID(),d.setRoundPixels(this.roundPixels),this.cameras.push(d),p&&(this.main=d),d):null},getNextID:function(){for(var d=this.cameras,p=1,v=0;v<32;v++){for(var x=!1,y=0;y<d.length;y++){var _=d[y];_&&_.id===p&&(x=!0)}if(!x)return p;p<<=1}return 0},getTotal:function(d){void 0===d&&(d=!1);for(var p=0,v=this.cameras,x=0;x<v.length;x++)(!d||d&&v[x].visible)&&p++;return p},fromJSON:function(d){Array.isArray(d)||(d=[d]);for(var p=this.scene.sys.scale.width,v=this.scene.sys.scale.height,x=0;x<d.length;x++){var y=d[x],_=g(y,"x",0),E=g(y,"y",0),A=g(y,"width",p),M=g(y,"height",v),I=this.add(_,E,A,M);I.name=g(y,"name",""),I.zoom=g(y,"zoom",1),I.rotation=g(y,"rotation",0),I.scrollX=g(y,"scrollX",0),I.scrollY=g(y,"scrollY",0),I.roundPixels=g(y,"roundPixels",!1),I.visible=g(y,"visible",!0);var k=g(y,"backgroundColor",!1);k&&I.setBackgroundColor(k);var F=g(y,"bounds",null);if(F){var N=g(F,"x",0),V=g(F,"y",0),B=g(F,"width",p),H=g(F,"height",v);I.setBounds(N,V,B,H)}}return this},getCamera:function(d){for(var p=this.cameras,v=0;v<p.length;v++)if(p[v].name===d)return p[v];return null},getCamerasBelowPointer:function(d){for(var p=this.cameras,v=d.x,x=d.y,y=[],_=0;_<p.length;_++){var E=p[_];E.visible&&E.inputEnabled&&h(E,v,x)&&y.unshift(E)}return y},remove:function(d,p){void 0===p&&(p=!0),Array.isArray(d)||(d=[d]);for(var v=0,x=this.cameras,y=0;y<d.length;y++){var _=x.indexOf(d[y]);-1!==_&&(p?x[_].destroy():x[_].renderList=[],x.splice(_,1),v++)}return!this.main&&x[0]&&(this.main=x[0]),v},render:function(d,p){for(var v=this.scene,x=this.cameras,y=0;y<x.length;y++){var _=x[y];if(_.visible&&_.alpha>0){_.preRender();var E=this.getVisibleChildren(p.getChildren(),_);d.render(v,E,_)}}},getVisibleChildren:function(d,p){return d.filter(function(v){return v.willRender(p)})},resetAll:function(){for(var d=0;d<this.cameras.length;d++)this.cameras[d].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(d,p){for(var v=0;v<this.cameras.length;v++)this.cameras[v].update(d,p)},onResize:function(d,p,v,x,y){for(var _=0;_<this.cameras.length;_++){var E=this.cameras[_];0===E._x&&0===E._y&&E._width===x&&E._height===y&&E.setSize(p.width,p.height)}},resize:function(d,p){for(var v=0;v<this.cameras.length;v++)this.cameras[v].setSize(d,p)},shutdown:function(){this.main=void 0;for(var d=0;d<this.cameras.length;d++)this.cameras[d].destroy();this.cameras=[];var p=this.systems.events;p.off(u.UPDATE,this.update,this),p.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(u.START,this.start,this),this.systems.events.off(u.DESTROY,this.destroy,this),this.systems.game.scale.off(c.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});f.register("CameraManager",m,"cameras"),S.exports=m},5020:(S,P,a)=>{var w=a(45319),T=a(83419),g=a(19715),f=new T({initialize:function(c){this.camera=c,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0},start:function(h,c,u,m,d,p,v,x){return void 0===h&&(h=!0),void 0===c&&(c=1e3),void 0===u&&(u=0),void 0===m&&(m=0),void 0===d&&(d=0),void 0===p&&(p=!1),void 0===v&&(v=null),void 0===x&&(x=this.camera.scene),!p&&this.isRunning||(this.isRunning=!0,this.isComplete=!1,this.duration=c,this.direction=h,this.progress=0,this.red=u,this.green=m,this.blue=d,this.alpha=h?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=v,this._onUpdateScope=x,this.camera.emit(h?g.FADE_OUT_START:g.FADE_IN_START,this.camera,this,c,u,m,d)),this.camera},update:function(h,c){this.isRunning&&(this._elapsed+=c,this.progress=w(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(h){if(!this.isRunning&&!this.isComplete)return!1;var c=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(c.x,c.y,c.width,c.height),!0},postRenderWebGL:function(h,c){if(!this.isRunning&&!this.isComplete)return!1;var u=this.camera;return h.drawFillRect(u.x,u.y,u.width,u.height,c(this.blue/255,this.green/255,this.red/255,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0,this.camera.emit(this.direction?g.FADE_OUT_COMPLETE:g.FADE_IN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});S.exports=f},10662:(S,P,a)=>{var w=a(45319),T=a(83419),g=a(19715),f=new T({initialize:function(c){this.camera=c,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0},start:function(h,c,u,m,d,p,v){return void 0===h&&(h=250),void 0===c&&(c=255),void 0===u&&(u=255),void 0===m&&(m=255),void 0===d&&(d=!1),void 0===p&&(p=null),void 0===v&&(v=this.camera.scene),!d&&this.isRunning||(this.isRunning=!0,this.duration=h,this.progress=0,this.red=c,this.green=u,this.blue=m,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=v,this.camera.emit(g.FLASH_START,this.camera,this,h,c,u,m)),this.camera},update:function(h,c){this.isRunning&&(this._elapsed+=c,this.progress=w(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(h){if(!this.isRunning)return!1;var c=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(c.x,c.y,c.width,c.height),!0},postRenderWebGL:function(h,c){if(!this.isRunning)return!1;var u=this.camera;return h.drawFillRect(u.x,u.y,u.width,u.height,c(this.blue/255,this.green/255,this.red/255,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(g.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});S.exports=f},20359:(S,P,a)=>{var w=a(45319),T=a(83419),g=a(62640),f=a(19715),h=a(26099),c=new T({initialize:function(m){this.camera=m,this.isRunning=!1,this.duration=0,this.source=new h,this.current=new h,this.destination=new h,this.progress=0,this._elapsed=0},start:function(u,m,d,p,v,x,y){void 0===d&&(d=1e3),void 0===p&&(p=g.Linear),void 0===v&&(v=!1),void 0===x&&(x=null),void 0===y&&(y=this.camera.scene);var _=this.camera;return!v&&this.isRunning||(this.isRunning=!0,this.duration=d,this.progress=0,this.source.set(_.scrollX,_.scrollY),this.destination.set(u,m),_.getScroll(u,m,this.current),"string"==typeof p&&g.hasOwnProperty(p)?this.ease=g[p]:"function"==typeof p&&(this.ease=p),this._elapsed=0,this._onUpdate=x,this._onUpdateScope=y,this.camera.emit(f.PAN_START,this.camera,this,d,u,m)),_},update:function(u,m){if(this.isRunning){this._elapsed+=m;var d=w(this._elapsed/this.duration,0,1);this.progress=d;var p=this.camera;if(this._elapsed<this.duration){var v=this.ease(d);p.getScroll(this.destination.x,this.destination.y,this.current);var x=this.source.x+(this.current.x-this.source.x)*v,y=this.source.y+(this.current.y-this.source.y)*v;p.setScroll(x,y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,p,d,x,y)}else p.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,p,d,p.scrollX,p.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});S.exports=c},34208:(S,P,a)=>{var w=a(45319),T=a(83419),g=a(19715),f=a(62640),h=new T({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.progress=0,this._elapsed=0,this.clockwise=!0,this.shortestPath=!1},start:function(c,u,m,d,p,v,x){void 0===m&&(m=1e3),void 0===d&&(d=f.Linear),void 0===p&&(p=!1),void 0===v&&(v=null),void 0===x&&(x=this.camera.scene),void 0===u&&(u=!1),this.shortestPath=u;var y=c;c<0?(y=-1*c,this.clockwise=!1):this.clockwise=!0;var _=360*Math.PI/180;y-=Math.floor(y/_)*_;var E=this.camera;if(!p&&this.isRunning)return E;if(this.isRunning=!0,this.duration=m,this.progress=0,this.source=E.rotation,this.destination=y,"string"==typeof d&&f.hasOwnProperty(d)?this.ease=f[d]:"function"==typeof d&&(this.ease=d),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=x,this.shortestPath){var A,M;(A=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+_)-this.source)<(M=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+_)-this.destination)?this.clockwise=!0:A>M&&(this.clockwise=!1)}return this.camera.emit(g.ROTATE_START,this.camera,this,m,y),E},update:function(c,u){if(this.isRunning){this._elapsed+=u;var m=w(this._elapsed/this.duration,0,1);this.progress=m;var d=this.camera;if(this._elapsed<this.duration){var p=this.ease(m);this.current=d.rotation;var v,x=360*Math.PI/180,y=this.destination,_=this.current;!1===this.clockwise&&(y=this.current,_=this.destination),v=y>=_?Math.abs(y-_):Math.abs(y+x)-_;var E;d.rotation=E=this.clockwise?d.rotation+v*p:d.rotation-v*p,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,m,E)}else d.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,m,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(g.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});S.exports=h},30330:(S,P,a)=>{var w=a(45319),T=a(83419),g=a(19715),f=a(26099),h=new T({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.intensity=new f,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0},start:function(c,u,m,d,p){return void 0===c&&(c=100),void 0===u&&(u=.05),void 0===m&&(m=!1),void 0===d&&(d=null),void 0===p&&(p=this.camera.scene),!m&&this.isRunning||(this.isRunning=!0,this.duration=c,this.progress=0,"number"==typeof u?this.intensity.set(u):this.intensity.set(u.x,u.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=d,this._onUpdateScope=p,this.camera.emit(g.SHAKE_START,this.camera,this,c,u)),this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(c,u){if(this.isRunning)if(this._elapsed+=u,this.progress=w(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var m=this.intensity,d=this.camera.width,p=this.camera.height,v=this.camera.zoom;this._offsetX=(Math.random()*m.x*d*2-m.x*d)*v,this._offsetY=(Math.random()*m.y*p*2-m.y*p)*v,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(g.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});S.exports=h},45641:(S,P,a)=>{var w=a(45319),T=a(83419),g=a(62640),f=a(19715),h=new T({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.progress=0,this._elapsed=0},start:function(c,u,m,d,p,v){void 0===u&&(u=1e3),void 0===m&&(m=g.Linear),void 0===d&&(d=!1),void 0===p&&(p=null),void 0===v&&(v=this.camera.scene);var x=this.camera;return!d&&this.isRunning||(this.isRunning=!0,this.duration=u,this.progress=0,this.source=x.zoom,this.destination=c,"string"==typeof m&&g.hasOwnProperty(m)?this.ease=g[m]:"function"==typeof m&&(this.ease=m),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=v,this.camera.emit(f.ZOOM_START,this.camera,this,u,c)),x},update:function(c,u){this.isRunning&&(this._elapsed+=u,this.progress=w(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});S.exports=h},20052:(S,P,a)=>{S.exports={Fade:a(5020),Flash:a(10662),Pan:a(20359),Shake:a(30330),RotateTo:a(34208),Zoom:a(45641)}},16438:S=>{S.exports="cameradestroy"},32726:S=>{S.exports="camerafadeincomplete"},87807:S=>{S.exports="camerafadeinstart"},45917:S=>{S.exports="camerafadeoutcomplete"},95666:S=>{S.exports="camerafadeoutstart"},47056:S=>{S.exports="cameraflashcomplete"},91261:S=>{S.exports="cameraflashstart"},45047:S=>{S.exports="followupdate"},81927:S=>{S.exports="camerapancomplete"},74264:S=>{S.exports="camerapanstart"},54419:S=>{S.exports="postrender"},79330:S=>{S.exports="prerender"},93183:S=>{S.exports="camerarotatecomplete"},80112:S=>{S.exports="camerarotatestart"},62252:S=>{S.exports="camerashakecomplete"},86017:S=>{S.exports="camerashakestart"},539:S=>{S.exports="camerazoomcomplete"},51892:S=>{S.exports="camerazoomstart"},19715:(S,P,a)=>{S.exports={DESTROY:a(16438),FADE_IN_COMPLETE:a(32726),FADE_IN_START:a(87807),FADE_OUT_COMPLETE:a(45917),FADE_OUT_START:a(95666),FLASH_COMPLETE:a(47056),FLASH_START:a(91261),FOLLOW_UPDATE:a(45047),PAN_COMPLETE:a(81927),PAN_START:a(74264),POST_RENDER:a(54419),PRE_RENDER:a(79330),ROTATE_COMPLETE:a(93183),ROTATE_START:a(80112),SHAKE_COMPLETE:a(62252),SHAKE_START:a(86017),ZOOM_COMPLETE:a(539),ZOOM_START:a(51892)}},87969:(S,P,a)=>{S.exports={Camera:a(38058),BaseCamera:a(71911),CameraManager:a(32743),Effects:a(20052),Events:a(19715)}},63091:(S,P,a)=>{var w=a(83419),T=a(35154),g=new w({initialize:function(h){this.camera=T(h,"camera",null),this.left=T(h,"left",null),this.right=T(h,"right",null),this.up=T(h,"up",null),this.down=T(h,"down",null),this.zoomIn=T(h,"zoomIn",null),this.zoomOut=T(h,"zoomOut",null),this.zoomSpeed=T(h,"zoomSpeed",.01),this.minZoom=T(h,"minZoom",.001),this.maxZoom=T(h,"maxZoom",1e3),this.speedX=0,this.speedY=0;var c=T(h,"speed",null);"number"==typeof c?(this.speedX=c,this.speedY=c):(this.speedX=T(h,"speed.x",0),this.speedY=T(h,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(f){return this.camera=f,this},update:function(f){if(this.active){void 0===f&&(f=1);var h=this.camera;this.up&&this.up.isDown?h.scrollY-=this.speedY*f|0:this.down&&this.down.isDown&&(h.scrollY+=this.speedY*f|0),this.left&&this.left.isDown?h.scrollX-=this.speedX*f|0:this.right&&this.right.isDown&&(h.scrollX+=this.speedX*f|0),this.zoomIn&&this.zoomIn.isDown?(h.zoom-=this.zoomSpeed,h.zoom<this.minZoom&&(h.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(h.zoom+=this.zoomSpeed,h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});S.exports=g},58818:(S,P,a)=>{var w=a(83419),T=a(35154),g=new w({initialize:function(h){this.camera=T(h,"camera",null),this.left=T(h,"left",null),this.right=T(h,"right",null),this.up=T(h,"up",null),this.down=T(h,"down",null),this.zoomIn=T(h,"zoomIn",null),this.zoomOut=T(h,"zoomOut",null),this.zoomSpeed=T(h,"zoomSpeed",.01),this.minZoom=T(h,"minZoom",.001),this.maxZoom=T(h,"maxZoom",1e3),this.accelX=0,this.accelY=0;var c=T(h,"acceleration",null);"number"==typeof c?(this.accelX=c,this.accelY=c):(this.accelX=T(h,"acceleration.x",0),this.accelY=T(h,"acceleration.y",0)),this.dragX=0,this.dragY=0;var u=T(h,"drag",null);"number"==typeof u?(this.dragX=u,this.dragY=u):(this.dragX=T(h,"drag.x",0),this.dragY=T(h,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var m=T(h,"maxSpeed",null);"number"==typeof m?(this.maxSpeedX=m,this.maxSpeedY=m):(this.maxSpeedX=T(h,"maxSpeed.x",0),this.maxSpeedY=T(h,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(f){return this.camera=f,this},update:function(f){if(this.active){void 0===f&&(f=1);var h=this.camera;this._speedX>0?(this._speedX-=this.dragX*f,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*f,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*f,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*f,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this._zoom=this.zoomIn&&this.zoomIn.isDown?-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this.zoomSpeed:0,0!==this._speedX&&(h.scrollX-=this._speedX*f|0),0!==this._speedY&&(h.scrollY-=this._speedY*f|0),0!==this._zoom&&(h.zoom+=this._zoom,h.zoom<this.minZoom?h.zoom=this.minZoom:h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});S.exports=g},38865:(S,P,a)=>{S.exports={FixedKeyControl:a(63091),SmoothedKeyControl:a(58818)}},26638:(S,P,a)=>{S.exports={Controls:a(38865),Scene2D:a(87969)}},8054:(S,P,a)=>{var w={VERSION:"3.87",LOG_VERSION:"v387",BlendModes:a(10312),ScaleModes:a(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};S.exports=w},69547:(S,P,a)=>{var w=a(83419),T=a(8054),g=a(42363),f=a(82264),h=a(95540),c=a(35154),u=a(41212),m=a(29747),d=a(75508),p=a(36060),v=a(80333),x=new w({initialize:function(_){void 0===_&&(_={});var M=c(_,"scale",null);this.width=c(M,"width",1024,_),this.height=c(M,"height",768,_),this.zoom=c(M,"zoom",1,_),this.parent=c(M,"parent",void 0,_),this.scaleMode=c(M,M?"mode":"scaleMode",0,_),this.expandParent=c(M,"expandParent",!0,_),this.autoRound=c(M,"autoRound",!1,_),this.autoCenter=c(M,"autoCenter",0,_),this.resizeInterval=c(M,"resizeInterval",500,_),this.fullscreenTarget=c(M,"fullscreenTarget",null,_),this.minWidth=c(M,"min.width",0,_),this.maxWidth=c(M,"max.width",0,_),this.minHeight=c(M,"min.height",0,_),this.maxHeight=c(M,"max.height",0,_),this.snapWidth=c(M,"snap.width",0,_),this.snapHeight=c(M,"snap.height",0,_),this.renderType=c(_,"type",T.AUTO),this.canvas=c(_,"canvas",null),this.context=c(_,"context",null),this.canvasStyle=c(_,"canvasStyle",null),this.customEnvironment=c(_,"customEnvironment",!1),this.sceneConfig=c(_,"scene",null),this.seed=c(_,"seed",[(Date.now()*Math.random()).toString()]),d.RND=new d.RandomDataGenerator(this.seed),this.gameTitle=c(_,"title",""),this.gameURL=c(_,"url","https://phaser.io/"+T.LOG_VERSION),this.gameVersion=c(_,"version",""),this.autoFocus=c(_,"autoFocus",!0),this.stableSort=c(_,"stableSort",-1),-1===this.stableSort&&(this.stableSort=f.browser.es2019?1:0),f.features.stableSort=this.stableSort,this.domCreateContainer=c(_,"dom.createContainer",!1),this.domPointerEvents=c(_,"dom.pointerEvents","none"),this.inputKeyboard=c(_,"input.keyboard",!0),this.inputKeyboardEventTarget=c(_,"input.keyboard.target",window),this.inputKeyboardCapture=c(_,"input.keyboard.capture",[]),this.inputMouse=c(_,"input.mouse",!0),this.inputMouseEventTarget=c(_,"input.mouse.target",null),this.inputMousePreventDefaultDown=c(_,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=c(_,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=c(_,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=c(_,"input.mouse.preventDefaultWheel",!0),this.inputTouch=c(_,"input.touch",f.input.touch),this.inputTouchEventTarget=c(_,"input.touch.target",null),this.inputTouchCapture=c(_,"input.touch.capture",!0),this.inputActivePointers=c(_,"input.activePointers",1),this.inputSmoothFactor=c(_,"input.smoothFactor",0),this.inputWindowEvents=c(_,"input.windowEvents",!0),this.inputGamepad=c(_,"input.gamepad",!1),this.inputGamepadEventTarget=c(_,"input.gamepad.target",window),this.disableContextMenu=c(_,"disableContextMenu",!1),this.audio=c(_,"audio",{}),this.hideBanner=!1===c(_,"banner",null),this.hidePhaser=c(_,"banner.hidePhaser",!1),this.bannerTextColor=c(_,"banner.text","#ffffff"),this.bannerBackgroundColor=c(_,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=c(_,"fps",null),this.disablePreFX=c(_,"disablePreFX",!1),this.disablePostFX=c(_,"disablePostFX",!1);var I=c(_,"render",null);this.pipeline=c(I,"pipeline",null,_),this.autoMobilePipeline=c(I,"autoMobilePipeline",!0,_),this.defaultPipeline=c(I,"defaultPipeline",p.MULTI_PIPELINE,_),this.antialias=c(I,"antialias",!0,_),this.antialiasGL=c(I,"antialiasGL",!0,_),this.mipmapFilter=c(I,"mipmapFilter","",_),this.desynchronized=c(I,"desynchronized",!1,_),this.roundPixels=c(I,"roundPixels",!1,_),this.pixelArt=c(I,"pixelArt",1!==this.zoom,_),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=c(I,"transparent",!1,_),this.clearBeforeRender=c(I,"clearBeforeRender",!0,_),this.preserveDrawingBuffer=c(I,"preserveDrawingBuffer",!1,_),this.premultipliedAlpha=c(I,"premultipliedAlpha",!0,_),this.failIfMajorPerformanceCaveat=c(I,"failIfMajorPerformanceCaveat",!1,_),this.powerPreference=c(I,"powerPreference","default",_),this.batchSize=c(I,"batchSize",4096,_),this.maxTextures=c(I,"maxTextures",-1,_),this.maxLights=c(I,"maxLights",10,_);var k=c(_,"backgroundColor",0);this.backgroundColor=v(k),this.transparent&&(this.backgroundColor=v(0),this.backgroundColor.alpha=0),this.preBoot=c(_,"callbacks.preBoot",m),this.postBoot=c(_,"callbacks.postBoot",m),this.physics=c(_,"physics",{}),this.defaultPhysicsSystem=c(this.physics,"default",!1),this.loaderBaseURL=c(_,"loader.baseURL",""),this.loaderPath=c(_,"loader.path",""),this.loaderMaxParallelDownloads=c(_,"loader.maxParallelDownloads",f.os.android?6:32),this.loaderCrossOrigin=c(_,"loader.crossOrigin",void 0),this.loaderResponseType=c(_,"loader.responseType",""),this.loaderAsync=c(_,"loader.async",!0),this.loaderUser=c(_,"loader.user",""),this.loaderPassword=c(_,"loader.password",""),this.loaderTimeout=c(_,"loader.timeout",0),this.loaderMaxRetries=c(_,"loader.maxRetries",2),this.loaderWithCredentials=c(_,"loader.withCredentials",!1),this.loaderImageLoadType=c(_,"loader.imageLoadType","XHR"),this.loaderLocalScheme=c(_,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=c(_,"fx.glow.quality",.1),this.glowFXDistance=c(_,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var F=c(_,"plugins",null),N=g.DefaultScene;F&&(Array.isArray(F)?this.defaultPlugins=F:u(F)&&(this.installGlobalPlugins=h(F,"global",[]),this.installScenePlugins=h(F,"scene",[]),Array.isArray(F.default)?N=F.default:Array.isArray(F.defaultMerge)&&(N=N.concat(F.defaultMerge)))),this.defaultPlugins=N;var V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=c(_,"images.default",V+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=c(_,"images.missing",V+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=c(_,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=T.WEBGL:window.FORCE_CANVAS&&(this.renderType=T.CANVAS))}});S.exports=x},86054:(S,P,a)=>{var w=a(20623),T=a(27919),g=a(8054),f=a(89357);S.exports=function(c){var u=c.config;if((u.customEnvironment||u.canvas)&&u.renderType===g.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!u.customEnvironment&&!u.canvas&&u.renderType!==g.HEADLESS)if(u.renderType===g.AUTO&&(u.renderType=f.webGL?g.WEBGL:g.CANVAS),u.renderType===g.WEBGL){if(!f.webGL)throw new Error("Cannot create WebGL context, aborting.")}else{if(u.renderType!==g.CANVAS)throw new Error("Unknown value for renderer type: "+u.renderType);if(!f.canvas)throw new Error("Cannot create Canvas context, aborting.")}u.antialias||T.disableSmoothing();var v,x,m=c.scale.baseSize,d=m.width,p=m.height;u.canvas?(c.canvas=u.canvas,c.canvas.width=d,c.canvas.height=p):c.canvas=T.create(c,d,p,u.renderType),u.canvasStyle&&(c.canvas.style=u.canvasStyle),u.antialias||w.setCrisp(c.canvas),u.renderType!==g.HEADLESS&&(v=a(68627),x=a(74797),u.renderType===g.WEBGL?c.renderer=new x(c):(c.renderer=new v(c),c.context=c.renderer.gameContext))}},96391:(S,P,a)=>{var w=a(8054);S.exports=function(g){var f=g.config;if(!f.hideBanner){var h="WebGL";f.renderType===w.CANVAS?h="Canvas":f.renderType===w.HEADLESS&&(h="Headless");var m,c=f.audio,u=g.device.audio;if(m=u.webAudio&&!c.disableWebAudio?"Web Audio":c.noAudio||!u.webAudio&&!u.audioData?"No Audio":"HTML5 Audio",g.device.browser.ie)window.console&&console.log("Phaser v"+w.VERSION+" / https://phaser.io");else{var v,d="",p=[d];Array.isArray(f.bannerBackgroundColor)?(f.bannerBackgroundColor.forEach(function(y){d=d.concat("%c "),p.push("background: "+y),v=y}),p[p.length-1]="color: "+f.bannerTextColor+"; background: "+v):(d=d.concat("%c "),p.push("color: "+f.bannerTextColor+"; background: "+f.bannerBackgroundColor)),p.push("background: transparent"),f.gameTitle&&(d=d.concat(f.gameTitle),f.gameVersion&&(d=d.concat(" v"+f.gameVersion)),f.hidePhaser||(d=d.concat(" / "))),f.hidePhaser||(d=d.concat("Phaser v"+w.VERSION+" ("+h+" | "+m+")")),d=d.concat(" %c "+f.gameURL),p[0]=d,console.log.apply(console,p)}}}},50127:(S,P,a)=>{var w=a(40366),T=a(60848),g=a(24047),f=a(27919),h=a(83419),c=a(69547),u=a(83719),m=a(86054),d=a(45893),p=a(96391),v=a(82264),x=a(57264),y=a(50792),_=a(8443),E=a(7003),A=a(37277),M=a(77332),I=a(76531),k=a(60903),F=a(69442),N=a(17130),V=a(65898),B=a(51085),H=a(14747),G=new h({initialize:function(tt){this.config=new c(tt),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new y,this.anims=new T(this),this.textures=new N(this),this.cache=new g(this),this.registry=new d(this,new y),this.input=new E(this,this.config),this.scene=new k(this,this.config.sceneConfig),this.device=v,this.scale=new I(this,this.config),this.sound=null,this.sound=H.create(this),this.loop=new V(this,this.config.fps),this.plugins=new M(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,x(this.boot.bind(this))},boot:function(){A.hasCore("EventEmitter")?(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),m(this),u(this),p(this),w(this.canvas,this.config.parent),this.textures.once(F.READY,this.texturesReady,this),this.events.emit(_.BOOT)):console.warn("Aborting. Core Plugins missing.")},texturesReady:function(){this.events.emit(_.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.loop.start(this.renderer?this.step.bind(this):this.headlessStep.bind(this)),B(this);var K=this.events;K.on(_.HIDDEN,this.onHidden,this),K.on(_.VISIBLE,this.onVisible,this),K.on(_.BLUR,this.onBlur,this),K.on(_.FOCUS,this.onFocus,this)},step:function(K,tt){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var at=this.events;at.emit(_.PRE_STEP,K,tt),at.emit(_.STEP,K,tt),this.scene.update(K,tt),at.emit(_.POST_STEP,K,tt);var lt=this.renderer;lt.preRender(),at.emit(_.PRE_RENDER,lt,K,tt),this.scene.render(lt),lt.postRender(),at.emit(_.POST_RENDER,lt,K,tt)}},headlessStep:function(K,tt){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var at=this.events;at.emit(_.PRE_STEP,K,tt),at.emit(_.STEP,K,tt),this.scene.update(K,tt),at.emit(_.POST_STEP,K,tt),this.scene.isProcessing=!1,at.emit(_.PRE_RENDER,null,K,tt),at.emit(_.POST_RENDER,null,K,tt)}},onHidden:function(){this.loop.pause(),this.events.emit(_.PAUSE)},pause:function(){var K=this.isPaused;this.isPaused=!0,K||this.events.emit(_.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(_.RESUME,this.loop.pauseDuration)},resume:function(){var K=this.isPaused;this.isPaused=!1,K&&this.events.emit(_.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(K,tt){void 0===tt&&(tt=!1),this.pendingDestroy=!0,this.removeCanvas=K,this.noReturn=tt},runDestroy:function(){this.scene.destroy(),this.events.emit(_.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(f.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});S.exports=G},65898:(S,P,a)=>{var w=a(83419),T=a(35154),g=a(29747),f=a(43092),h=new w({initialize:function(u,m){this.game=u,this.raf=new f,this.started=!1,this.running=!1,this.minFps=T(m,"min",5),this.targetFps=T(m,"target",60),this.fpsLimit=T(m,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=g,this.forceSetTimeOut=T(m,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=T(m,"deltaHistory",10),this.panicMax=T(m,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=T(m,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var c=window.performance.now();this.time=c,this.lastTime=c,this.nextFpsUpdate=c+1e3,this.framesThisSecond=0;for(var u=0;u<this.deltaSmoothingMax;u++)this.deltaHistory[u]=Math.min(this._target,this.deltaHistory[u]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(c){if(this.started)return this;this.started=!0,this.running=!0;for(var u=0;u<this.deltaSmoothingMax;u++)this.deltaHistory[u]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=c;var m=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(m,this.forceSetTimeOut,this._target)},smoothDelta:function(c){var u=this.deltaIndex,m=this.deltaHistory,d=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,c=Math.min(c,this._target)),c>this._min&&(c=m[u],c=Math.min(c,this._min)),m[u]=c,this.deltaIndex++,this.deltaIndex>=d&&(this.deltaIndex=0);for(var p=0,v=0;v<d;v++)p+=m[v];return p/d},updateFPS:function(c){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=c+1e3,this.framesThisSecond=0},stepLimitFPS:function(c){this.now=c;var u=Math.max(0,c-this.lastTime);this.rawDelta=u,this.time+=this.rawDelta,this.smoothStep&&(u=this.smoothDelta(u)),this.delta+=u,c>=this.nextFpsUpdate&&this.updateFPS(c),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(c,this.delta),this.delta=0),this.lastTime=c,this.frame++},step:function(c){this.now=c;var u=Math.max(0,c-this.lastTime);this.rawDelta=u,this.time+=this.rawDelta,this.smoothStep&&(u=this.smoothDelta(u)),this.delta=u,c>=this.nextFpsUpdate&&this.updateFPS(c),this.framesThisSecond++,this.callback(c,u),this.lastTime=c,this.frame++},tick:function(){var c=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(c):this.step(c)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(c){void 0===c&&(c=!1);var u=window.performance.now();if(!this.running){c&&(this.startTime+=-this.lastTime+(this.lastTime+u));var m=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(m,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=u+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});S.exports=h},51085:(S,P,a)=>{var w=a(8443);S.exports=function(g){var f,h=g.events;void 0!==document.hidden?f="visibilitychange":["webkit","moz","ms"].forEach(function(m){void 0!==document[m+"Hidden"]&&(document.hidden=function(){return document[m+"Hidden"]},f=m+"visibilitychange")}),f&&document.addEventListener(f,function(m){document.hidden||"pause"===m.type?h.emit(w.HIDDEN):h.emit(w.VISIBLE)},!1),window.onblur=function(){h.emit(w.BLUR)},window.onfocus=function(){h.emit(w.FOCUS)},window.focus&&g.config.autoFocus&&window.focus()}},97217:S=>{S.exports="blur"},47548:S=>{S.exports="boot"},19814:S=>{S.exports="contextlost"},68446:S=>{S.exports="destroy"},41700:S=>{S.exports="focus"},25432:S=>{S.exports="hidden"},65942:S=>{S.exports="pause"},59211:S=>{S.exports="postrender"},47789:S=>{S.exports="poststep"},39066:S=>{S.exports="prerender"},460:S=>{S.exports="prestep"},16175:S=>{S.exports="ready"},42331:S=>{S.exports="resume"},11966:S=>{S.exports="step"},32969:S=>{S.exports="systemready"},94830:S=>{S.exports="visible"},8443:(S,P,a)=>{S.exports={BLUR:a(97217),BOOT:a(47548),CONTEXT_LOST:a(19814),DESTROY:a(68446),FOCUS:a(41700),HIDDEN:a(25432),PAUSE:a(65942),POST_RENDER:a(59211),POST_STEP:a(47789),PRE_RENDER:a(39066),PRE_STEP:a(460),READY:a(16175),RESUME:a(42331),STEP:a(11966),SYSTEM_READY:a(32969),VISIBLE:a(94830)}},42857:(S,P,a)=>{S.exports={Config:a(69547),CreateRenderer:a(86054),DebugHeader:a(96391),Events:a(8443),TimeStep:a(65898),VisibilityHandler:a(51085)}},99584:(S,P,a)=>{var w=a(5290),T=a(27919),g=a(35154);S.exports=function(h){var c=g(h,"data",[]),u=g(h,"canvas",null),m=g(h,"palette",w),d=g(h,"pixelWidth",1),p=g(h,"pixelHeight",d),v=g(h,"resizeCanvas",!0),x=g(h,"clearCanvas",!0),y=g(h,"preRender",null),_=g(h,"postRender",null),E=Math.floor(Math.abs(c[0].length*d)),A=Math.floor(Math.abs(c.length*p));u||(u=T.create2D(this,E,A),v=!1,x=!1),v&&(u.width=E,u.height=A);var M=u.getContext("2d",{willReadFrequently:!0});x&&M.clearRect(0,0,E,A),y&&y(u,M);for(var I=0;I<c.length;I++)for(var k=c[I],F=0;F<k.length;F++){var N=k[F];"."!==N&&" "!==N&&(M.fillStyle=m[N],M.fillRect(F*d,I*p,d,p))}return _&&_(u,M),u}},15822:(S,P,a)=>{S.exports={GenerateTexture:a(99584),Palettes:a(57763)}},5290:S=>{S.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:S=>{S.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:S=>{S.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:S=>{S.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:S=>{S.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(S,P,a)=>{S.exports={ARNE16:a(5290),C64:a(23816),CGA:a(9866),JMP:a(77552),MSX:a(92259)}},46728:(S,P,a)=>{var w=a(83419),T=a(36316),g=a(80021),f=a(26099),h=new w({Extends:g,initialize:function(u,m,d,p){g.call(this,"CubicBezierCurve"),Array.isArray(u)&&(p=new f(u[6],u[7]),d=new f(u[4],u[5]),m=new f(u[2],u[3]),u=new f(u[0],u[1])),this.p0=u,this.p1=m,this.p2=d,this.p3=p},getStartPoint:function(c){return void 0===c&&(c=new f),c.copy(this.p0)},getResolution:function(c){return c},getPoint:function(c,u){void 0===u&&(u=new f);var m=this.p0,d=this.p1,p=this.p2,v=this.p3;return u.set(T(c,m.x,d.x,p.x,v.x),T(c,m.y,d.y,p.y,v.y))},draw:function(c,u){void 0===u&&(u=32);var m=this.getPoints(u);c.beginPath(),c.moveTo(this.p0.x,this.p0.y);for(var d=1;d<m.length;d++)c.lineTo(m[d].x,m[d].y);return c.strokePath(),c},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});h.fromJSON=function(c){var u=c.points,m=new f(u[0],u[1]),d=new f(u[2],u[3]),p=new f(u[4],u[5]),v=new f(u[6],u[7]);return new h(m,d,p,v)},S.exports=h},80021:(S,P,a)=>{var w=a(83419),T=a(19217),g=a(87841),f=a(26099),h=new w({initialize:function(u){this.type=u,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new f,this._tmpVec2B=new f},draw:function(c,u){return void 0===u&&(u=32),c.strokePoints(this.getPoints(u))},getBounds:function(c,u){c||(c=new g),void 0===u&&(u=16);var m=this.getLength();u>m&&(u=m/2);var d=Math.max(1,Math.round(m/u));return T(this.getSpacedPoints(d),c)},getDistancePoints:function(c){var u=this.getLength(),m=Math.max(1,u/c);return this.getSpacedPoints(m)},getEndPoint:function(c){return void 0===c&&(c=new f),this.getPointAt(1,c)},getLength:function(){var c=this.getLengths();return c[c.length-1]},getLengths:function(c){if(void 0===c&&(c=this.arcLengthDivisions),this.cacheArcLengths.length===c+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var m,u=[],d=this.getPoint(0,this._tmpVec2A),p=0;u.push(0);for(var v=1;v<=c;v++)p+=(m=this.getPoint(v/c,this._tmpVec2B)).distance(d),u.push(p),d.copy(m);return this.cacheArcLengths=u,u},getPointAt:function(c,u){var m=this.getUtoTmapping(c);return this.getPoint(m,u)},getPoints:function(c,u,m){void 0===m&&(m=[]),c||(c=u?this.getLength()/u:this.defaultDivisions);for(var d=0;d<=c;d++)m.push(this.getPoint(d/c));return m},getRandomPoint:function(c){return void 0===c&&(c=new f),this.getPoint(Math.random(),c)},getSpacedPoints:function(c,u,m){void 0===m&&(m=[]),c||(c=u?this.getLength()/u:this.defaultDivisions);for(var d=0;d<=c;d++){var p=this.getUtoTmapping(d/c,null,c);m.push(this.getPoint(p))}return m},getStartPoint:function(c){return void 0===c&&(c=new f),this.getPointAt(0,c)},getTangent:function(c,u){void 0===u&&(u=new f);var m=1e-4,d=c-m,p=c+m;return d<0&&(d=0),p>1&&(p=1),this.getPoint(d,this._tmpVec2A),this.getPoint(p,u),u.subtract(this._tmpVec2A).normalize()},getTangentAt:function(c,u){var m=this.getUtoTmapping(c);return this.getTangent(m,u)},getTFromDistance:function(c,u){return c<=0?0:this.getUtoTmapping(0,c,u)},getUtoTmapping:function(c,u,m){var x,d=this.getLengths(m),p=0,v=d.length;x=u?Math.min(u,d[v-1]):c*d[v-1];for(var E,y=0,_=v-1;y<=_;)if((E=d[p=Math.floor(y+(_-y)/2)]-x)<0)y=p+1;else{if(!(E>0)){_=p;break}_=p-1}if(d[p=_]===x)return p/(v-1);var A=d[p];return(p+(x-A)/(d[p+1]-A))/(v-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});S.exports=h},73825:(S,P,a)=>{var w=a(83419),T=a(80021),g=a(39506),f=a(35154),h=a(43396),c=a(26099),u=new w({Extends:T,initialize:function(d,p,v,x,y,_,E,A){if("object"==typeof d){var M=d;d=f(M,"x",0),p=f(M,"y",0),v=f(M,"xRadius",0),x=f(M,"yRadius",v),y=f(M,"startAngle",0),_=f(M,"endAngle",360),E=f(M,"clockwise",!1),A=f(M,"rotation",0)}else void 0===x&&(x=v),void 0===y&&(y=0),void 0===_&&(_=360),void 0===E&&(E=!1),void 0===A&&(A=0);T.call(this,"EllipseCurve"),this.p0=new c(d,p),this._xRadius=v,this._yRadius=x,this._startAngle=g(y),this._endAngle=g(_),this._clockwise=E,this._rotation=g(A)},getStartPoint:function(m){return void 0===m&&(m=new c),this.getPoint(0,m)},getResolution:function(m){return 2*m},getPoint:function(m,d){void 0===d&&(d=new c);for(var p=2*Math.PI,v=this._endAngle-this._startAngle,x=Math.abs(v)<Number.EPSILON;v<0;)v+=p;for(;v>p;)v-=p;v<Number.EPSILON&&(v=x?0:p),this._clockwise&&!x&&(v===p?v=-p:v-=p);var y=this._startAngle+m*v,_=this.p0.x+this._xRadius*Math.cos(y),E=this.p0.y+this._yRadius*Math.sin(y);if(0!==this._rotation){var A=Math.cos(this._rotation),M=Math.sin(this._rotation),I=_-this.p0.x,k=E-this.p0.y;_=I*A-k*M+this.p0.x,E=I*M+k*A+this.p0.y}return d.set(_,E)},setXRadius:function(m){return this.xRadius=m,this},setYRadius:function(m){return this.yRadius=m,this},setWidth:function(m){return this.xRadius=m/2,this},setHeight:function(m){return this.yRadius=m/2,this},setStartAngle:function(m){return this.startAngle=m,this},setEndAngle:function(m){return this.endAngle=m,this},setClockwise:function(m){return this.clockwise=m,this},setRotation:function(m){return this.rotation=m,this},x:{get:function(){return this.p0.x},set:function(m){this.p0.x=m}},y:{get:function(){return this.p0.y},set:function(m){this.p0.y=m}},xRadius:{get:function(){return this._xRadius},set:function(m){this._xRadius=m}},yRadius:{get:function(){return this._yRadius},set:function(m){this._yRadius=m}},startAngle:{get:function(){return h(this._startAngle)},set:function(m){this._startAngle=g(m)}},endAngle:{get:function(){return h(this._endAngle)},set:function(m){this._endAngle=g(m)}},clockwise:{get:function(){return this._clockwise},set:function(m){this._clockwise=m}},angle:{get:function(){return h(this._rotation)},set:function(m){this._rotation=g(m)}},rotation:{get:function(){return this._rotation},set:function(m){this._rotation=m}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:h(this._startAngle),endAngle:h(this._endAngle),clockwise:this._clockwise,rotation:h(this._rotation)}}});u.fromJSON=function(m){return new u(m)},S.exports=u},33951:(S,P,a)=>{var w=a(83419),T=a(80021),g=a(19217),f=a(87841),h=a(26099),c=new w({Extends:T,initialize:function(m,d){T.call(this,"LineCurve"),Array.isArray(m)&&(d=new h(m[2],m[3]),m=new h(m[0],m[1])),this.p0=m,this.p1=d,this.arcLengthDivisions=1},getBounds:function(u){return void 0===u&&(u=new f),g([this.p0,this.p1],u)},getStartPoint:function(u){return void 0===u&&(u=new h),u.copy(this.p0)},getResolution:function(u){return void 0===u&&(u=1),u},getPoint:function(u,m){return void 0===m&&(m=new h),1===u?m.copy(this.p1):(m.copy(this.p1).subtract(this.p0).scale(u).add(this.p0),m)},getPointAt:function(u,m){return this.getPoint(u,m)},getTangent:function(u,m){return void 0===m&&(m=new h),m.copy(this.p1).subtract(this.p0).normalize(),m},getUtoTmapping:function(u,m,d){var p;if(m){var v=this.getLengths(d),x=v[v.length-1];p=Math.min(m,x)/x}else p=u;return p},draw:function(u){return u.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),u},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});c.fromJSON=function(u){var m=u.points,d=new h(m[0],m[1]),p=new h(m[2],m[3]);return new c(d,p)},S.exports=c},14744:(S,P,a)=>{var w=a(83419),T=a(80021),g=a(32112),f=a(26099),h=new w({Extends:T,initialize:function(u,m,d){T.call(this,"QuadraticBezierCurve"),Array.isArray(u)&&(d=new f(u[4],u[5]),m=new f(u[2],u[3]),u=new f(u[0],u[1])),this.p0=u,this.p1=m,this.p2=d},getStartPoint:function(c){return void 0===c&&(c=new f),c.copy(this.p0)},getResolution:function(c){return c},getPoint:function(c,u){void 0===u&&(u=new f);var m=this.p0,d=this.p1,p=this.p2;return u.set(g(c,m.x,d.x,p.x),g(c,m.y,d.y,p.y))},draw:function(c,u){void 0===u&&(u=32);var m=this.getPoints(u);c.beginPath(),c.moveTo(this.p0.x,this.p0.y);for(var d=1;d<m.length;d++)c.lineTo(m[d].x,m[d].y);return c.strokePath(),c},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});h.fromJSON=function(c){var u=c.points,m=new f(u[0],u[1]),d=new f(u[2],u[3]),p=new f(u[4],u[5]);return new h(m,d,p)},S.exports=h},42534:(S,P,a)=>{var w=a(87842),T=a(83419),g=a(80021),f=a(26099),h=new T({Extends:g,initialize:function(u){void 0===u&&(u=[]),g.call(this,"SplineCurve"),this.points=[],this.addPoints(u)},addPoints:function(c){for(var u=0;u<c.length;u++){var m=new f;"number"==typeof c[u]?(m.x=c[u],m.y=c[u+1],u++):Array.isArray(c[u])?(m.x=c[u][0],m.y=c[u][1]):(m.x=c[u].x,m.y=c[u].y),this.points.push(m)}return this},addPoint:function(c,u){var m=new f(c,u);return this.points.push(m),m},getStartPoint:function(c){return void 0===c&&(c=new f),c.copy(this.points[0])},getResolution:function(c){return c*this.points.length},getPoint:function(c,u){void 0===u&&(u=new f);var m=this.points,d=(m.length-1)*c,p=Math.floor(d),v=d-p,x=m[0===p?p:p-1],y=m[p],_=m[p>m.length-2?m.length-1:p+1],E=m[p>m.length-3?m.length-1:p+2];return u.set(w(v,x.x,y.x,_.x,E.x),w(v,x.y,y.y,_.y,E.y))},toJSON:function(){for(var c=[],u=0;u<this.points.length;u++)c.push(this.points[u].x),c.push(this.points[u].y);return{type:this.type,points:c}}});h.fromJSON=function(c){return new h(c.points)},S.exports=h},25410:(S,P,a)=>{S.exports={Path:a(46669),MoveTo:a(68618),CubicBezier:a(46728),Curve:a(80021),Ellipse:a(73825),Line:a(33951),QuadraticBezier:a(14744),Spline:a(42534)}},68618:(S,P,a)=>{var w=a(83419),T=a(26099),g=new w({initialize:function(h,c){this.active=!1,this.p0=new T(h,c)},getPoint:function(f,h){return void 0===h&&(h=new T),h.copy(this.p0)},getPointAt:function(f,h){return this.getPoint(f,h)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});S.exports=g},46669:(S,P,a)=>{var w=a(83419),T=a(46728),g=a(73825),f=a(39429),h=a(33951),c=a(68618),u=a(14744),m=a(87841),d=a(42534),p=a(26099),v=a(36383),x=new w({initialize:function(_,E){void 0===_&&(_=0),void 0===E&&(E=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new p,this._tmpVec2A=new p,this._tmpVec2B=new p,"object"==typeof _?this.fromJSON(_):this.startPoint.set(_,E)},add:function(y){return this.curves.push(y),this},circleTo:function(y,_,E){return void 0===_&&(_=!1),this.ellipseTo(y,y,0,360,_,E)},closePath:function(){var y=this.curves[0].getPoint(0),_=this.curves[this.curves.length-1].getPoint(1);return y.equals(_)||this.curves.push(new h(_,y)),this},cubicBezierTo:function(y,_,E,A,M,I){var F,N,V,k=this.getEndPoint();return y instanceof p?(F=y,N=_,V=E):(F=new p(E,A),N=new p(M,I),V=new p(y,_)),this.add(new T(k,F,N,V))},quadraticBezierTo:function(y,_,E,A){var I,k,M=this.getEndPoint();return y instanceof p?(I=y,k=_):(I=new p(E,A),k=new p(y,_)),this.add(new u(M,I,k))},draw:function(y,_){for(var E=0;E<this.curves.length;E++){var A=this.curves[E];A.active&&A.draw(y,_)}return y},ellipseTo:function(y,_,E,A,M,I){var k=new g(0,0,y,_,E,A,M,I),F=this.getEndPoint(this._tmpVec2A),N=k.getStartPoint(this._tmpVec2B);return F.subtract(N),k.x=F.x,k.y=F.y,this.add(k)},fromJSON:function(y){this.curves=[],this.cacheLengths=[],this.startPoint.set(y.x,y.y),this.autoClose=y.autoClose;for(var _=0;_<y.curves.length;_++){var E=y.curves[_];switch(E.type){case"LineCurve":this.add(h.fromJSON(E));break;case"EllipseCurve":this.add(g.fromJSON(E));break;case"SplineCurve":this.add(d.fromJSON(E));break;case"CubicBezierCurve":this.add(T.fromJSON(E));break;case"QuadraticBezierCurve":this.add(u.fromJSON(E))}}return this},getBounds:function(y,_){void 0===y&&(y=new m),void 0===_&&(_=16),y.x=Number.MAX_VALUE,y.y=Number.MAX_VALUE;for(var E=new m,A=v.MIN_SAFE_INTEGER,M=v.MIN_SAFE_INTEGER,I=0;I<this.curves.length;I++){var k=this.curves[I];k.active&&(k.getBounds(E,_),y.x=Math.min(y.x,E.x),y.y=Math.min(y.y,E.y),A=Math.max(A,E.right),M=Math.max(M,E.bottom))}return y.right=A,y.bottom=M,y},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var y=[],_=0,E=0;E<this.curves.length;E++)_+=this.curves[E].getLength(),y.push(_);return this.cacheLengths=y,y},getCurveAt:function(y){for(var _=y*this.getLength(),E=this.getCurveLengths(),A=0;A<E.length;){if(E[A]>=_)return this.curves[A];A++}return null},getEndPoint:function(y){return void 0===y&&(y=new p),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,y):y.copy(this.startPoint),y},getLength:function(){var y=this.getCurveLengths();return y[y.length-1]},getPoint:function(y,_){void 0===_&&(_=new p);for(var E=y*this.getLength(),A=this.getCurveLengths(),M=0;M<A.length;){if(A[M]>=E){var I=A[M]-E,k=this.curves[M],F=k.getLength();return k.getPointAt(0===F?0:1-I/F,_)}M++}return null},getPoints:function(y,_){!y&&!_&&(y=this.defaultDivisions);for(var A,E=[],M=0;M<this.curves.length;M++){var I=this.curves[M];if(I.active)for(var k=I.getResolution(y),F=I.getPoints(k,_),N=0;N<F.length;N++){var V=F[N];A&&A.equals(V)||(E.push(V),A=V)}}return this.autoClose&&E.length>1&&!E[E.length-1].equals(E[0])&&E.push(E[0]),E},getRandomPoint:function(y){return void 0===y&&(y=new p),this.getPoint(Math.random(),y)},getSpacedPoints:function(y){void 0===y&&(y=40);for(var _=[],E=0;E<=y;E++)_.push(this.getPoint(E/y));return this.autoClose&&_.push(_[0]),_},getStartPoint:function(y){return void 0===y&&(y=new p),y.copy(this.startPoint)},getTangent:function(y,_){void 0===_&&(_=new p);for(var E=y*this.getLength(),A=this.getCurveLengths(),M=0;M<A.length;){if(A[M]>=E){var I=A[M]-E,k=this.curves[M],F=k.getLength();return k.getTangentAt(0===F?0:1-I/F,_)}M++}return null},lineTo:function(y,_){y instanceof p?this._tmpVec2B.copy(y):"object"==typeof y?this._tmpVec2B.setFromObject(y):this._tmpVec2B.set(y,_);var E=this.getEndPoint(this._tmpVec2A);return this.add(new h([E.x,E.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(y){return y.unshift(this.getEndPoint()),this.add(new d(y))},moveTo:function(y,_){return this.add(y instanceof p?new c(y.x,y.y):new c(y,_))},toJSON:function(){for(var y=[],_=0;_<this.curves.length;_++)y.push(this.curves[_].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:y}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});f.register("path",function(y,_){return new x(y,_)}),S.exports=x},45893:(S,P,a)=>{var w=a(83419),T=a(24882),g=new w({initialize:function(h,c){this.parent=h,this.events=c,c||(this.events=h.events?h.events:h),this.list={},this.values={},this._frozen=!1,!h.hasOwnProperty("sys")&&this.events&&this.events.once(T.DESTROY,this.destroy,this)},get:function(f){var h=this.list;if(Array.isArray(f)){for(var c=[],u=0;u<f.length;u++)c.push(h[f[u]]);return c}return h[f]},getAll:function(){var f={};for(var h in this.list)this.list.hasOwnProperty(h)&&(f[h]=this.list[h]);return f},query:function(f){var h={};for(var c in this.list)this.list.hasOwnProperty(c)&&c.match(f)&&(h[c]=this.list[c]);return h},set:function(f,h){if(this._frozen)return this;if("string"==typeof f)return this.setValue(f,h);for(var c in f)this.setValue(c,f[c]);return this},inc:function(f,h){if(this._frozen)return this;void 0===h&&(h=1);var c=this.get(f);return void 0===c&&(c=0),this.set(f,c+h),this},toggle:function(f){return this._frozen||this.set(f,!this.get(f)),this},setValue:function(f,h){if(this._frozen)return this;if(this.has(f))this.values[f]=h;else{var c=this,u=this.list,m=this.events,d=this.parent;Object.defineProperty(this.values,f,{enumerable:!0,configurable:!0,get:function(){return u[f]},set:function(p){if(!c._frozen){var v=u[f];u[f]=p,m.emit(T.CHANGE_DATA,d,f,p,v),m.emit(T.CHANGE_DATA_KEY+f,d,p,v)}}}),u[f]=h,m.emit(T.SET_DATA,d,f,h)}return this},each:function(f,h){for(var c=[this.parent,null,void 0],u=1;u<arguments.length;u++)c.push(arguments[u]);for(var m in this.list)c[1]=m,c[2]=this.list[m],f.apply(h,c);return this},merge:function(f,h){for(var c in void 0===h&&(h=!0),f)f.hasOwnProperty(c)&&(h||!h&&!this.has(c))&&this.setValue(c,f[c]);return this},remove:function(f){if(this._frozen)return this;if(!Array.isArray(f))return this.removeValue(f);for(var h=0;h<f.length;h++)this.removeValue(f[h]);return this},removeValue:function(f){if(this.has(f)){var h=this.list[f];delete this.list[f],delete this.values[f],this.events.emit(T.REMOVE_DATA,this.parent,f,h)}return this},pop:function(f){var h=void 0;return!this._frozen&&this.has(f)&&(h=this.list[f],delete this.list[f],delete this.values[f],this.events.emit(T.REMOVE_DATA,this.parent,f,h)),h},has:function(f){return this.list.hasOwnProperty(f)},setFreeze:function(f){return this._frozen=f,this},reset:function(){for(var f in this.list)delete this.list[f],delete this.values[f];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(T.CHANGE_DATA),this.events.off(T.SET_DATA),this.events.off(T.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(f){this._frozen=!!f}},count:{get:function(){var f=0;for(var h in this.list)void 0!==this.list[h]&&f++;return f}}});S.exports=g},63646:(S,P,a)=>{var w=a(83419),T=a(45893),g=a(37277),f=a(44594),h=new w({Extends:T,initialize:function(u){T.call(this,u,u.sys.events),this.scene=u,this.systems=u.sys,u.sys.events.once(f.BOOT,this.boot,this),u.sys.events.on(f.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){T.prototype.destroy.call(this),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});g.register("DataManagerPlugin",h,"data"),S.exports=h},10700:S=>{S.exports="changedata"},93608:S=>{S.exports="changedata-"},60883:S=>{S.exports="destroy"},69780:S=>{S.exports="removedata"},22166:S=>{S.exports="setdata"},24882:(S,P,a)=>{S.exports={CHANGE_DATA:a(10700),CHANGE_DATA_KEY:a(93608),DESTROY:a(60883),REMOVE_DATA:a(69780),SET_DATA:a(22166)}},44965:(S,P,a)=>{S.exports={DataManager:a(45893),DataManagerPlugin:a(63646),Events:a(24882)}},7098:(S,P,a)=>{var w=a(84148),T={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};S.exports=function g(){if("function"==typeof importScripts)return T;T.audioData=!!window.Audio,T.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var f=document.createElement("audio"),h=!!f.canPlayType;try{if(h){var c=function(d,p){var v=f.canPlayType("audio/"+d).replace(/^no$/,"");return p?!(!v&&!f.canPlayType("audio/"+p).replace(/^no$/,"")):!!v};if(T.ogg=c('ogg; codecs="vorbis"'),T.opus=c('ogg; codecs="opus"',"opus"),T.mp3=c("mpeg"),T.wav=c("wav"),T.m4a=c("x-m4a"),T.aac=c("aac"),T.flac=c("flac","x-flac"),T.webm=c('webm; codecs="vorbis"'),""!==f.canPlayType('audio/mp4; codecs="ec-3"'))if(w.edge)T.dolby=!0;else if(w.safari&&w.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var u=parseInt(RegExp.$1,10),m=parseInt(RegExp.$2,10);(10===u&&m>=11||u>10)&&(T.dolby=!0)}}}catch{}return T}()},84148:(S,P,a)=>{var w=a(25892),T={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};S.exports=function g(){var f=navigator.userAgent;return/Edg\/\d+/.test(f)?(T.edge=!0,T.es2019=!0):/OPR/.test(f)?(T.opera=!0,T.es2019=!0):/Chrome\/(\d+)/.test(f)&&!w.windowsPhone?(T.chrome=!0,T.chromeVersion=parseInt(RegExp.$1,10),T.es2019=T.chromeVersion>69):/Firefox\D+(\d+)/.test(f)?(T.firefox=!0,T.firefoxVersion=parseInt(RegExp.$1,10),T.es2019=T.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(f)&&w.iOS?(T.mobileSafari=!0,T.es2019=!0):/MSIE (\d+\.\d+);/.test(f)?(T.ie=!0,T.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(f)&&!w.windowsPhone?(T.safari=!0,T.safariVersion=parseInt(RegExp.$1,10),T.es2019=T.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(f)&&(T.ie=!0,T.trident=!0,T.tridentVersion=parseInt(RegExp.$1,10),T.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(f)&&(T.silk=!0),T}()},89289:(S,P,a)=>{var w=a(27919),T={supportInverseAlpha:!1,supportNewBlendModes:!1};S.exports=function h(){return"function"!=typeof importScripts&&void 0!==document&&(T.supportNewBlendModes=function g(){var c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",u="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",m=new Image;return m.onload=function(){var d=new Image;d.onload=function(){var v=w.create2D(d,6).getContext("2d",{willReadFrequently:!0});if(v.globalCompositeOperation="multiply",v.drawImage(m,0,0),v.drawImage(d,2,0),!v.getImageData(2,0,1,1))return!1;var x=v.getImageData(2,0,1,1).data;w.remove(d),T.supportNewBlendModes=255===x[0]&&0===x[1]&&0===x[2]},d.src=c+"/wCKxvRF"+u},m.src=c+"AP804Oa6"+u,!1}(),T.supportInverseAlpha=function f(){var u=w.create2D(this,2).getContext("2d",{willReadFrequently:!0});u.fillStyle="rgba(10, 20, 30, 0.5)",u.fillRect(0,0,1,1);var m=u.getImageData(0,0,1,1);if(null===m)return!1;u.putImageData(m,1,0);var d=u.getImageData(1,0,1,1),p=d.data[0]===m.data[0]&&d.data[1]===m.data[1]&&d.data[2]===m.data[2]&&d.data[3]===m.data[3];return w.remove(this),p}()),T}()},89357:(S,P,a)=>{var w=a(25892),T=a(84148),g=a(27919),f={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};S.exports=function c(){if("function"==typeof importScripts)return f;f.canvas=!!window.CanvasRenderingContext2D;try{f.localStorage=!!localStorage.getItem}catch{f.localStorage=!1}f.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),f.fileSystem=!!window.requestFileSystem;var u=!1;return f.webGL=function(){if(window.WebGLRenderingContext)try{var d=g.createWebGL(this),p=d.getContext("webgl")||d.getContext("experimental-webgl"),v=g.create2D(this),y=v.getContext("2d",{willReadFrequently:!0}).createImageData(1,1);return u=y.data instanceof Uint8ClampedArray,g.remove(d),g.remove(v),!!p}catch{return!1}return!1}(),f.worker=!!window.Worker,f.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,f.getUserMedia=f.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,T.firefox&&T.firefoxVersion<21&&(f.getUserMedia=!1),!w.iOS&&(T.ie||T.firefox||T.chrome)&&(f.canvasBitBltShift=!0),(T.safari||T.mobileSafari)&&(f.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(f.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(f.littleEndian=function h(){var u=new ArrayBuffer(4),m=new Uint8Array(u),d=new Uint32Array(u);return m[0]=161,m[1]=178,m[2]=195,m[3]=212,3569595041===d[0]||2712847316!==d[0]&&null}()),f.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&null!==f.littleEndian&&u,f}()},91639:S=>{var P={available:!1,cancel:"",keyboard:!1,request:""};S.exports=function a(){if("function"==typeof importScripts)return P;var w,T="Fullscreen",g="FullScreen",f=["request"+T,"request"+g,"webkitRequest"+T,"webkitRequest"+g,"msRequest"+T,"msRequest"+g,"mozRequest"+g,"mozRequest"+T];for(w=0;w<f.length;w++)if(document.documentElement[f[w]]){P.available=!0,P.request=f[w];break}var h=["cancel"+g,"exit"+T,"webkitCancel"+g,"webkitExit"+T,"msCancel"+g,"msExit"+T,"mozCancel"+g,"mozExit"+T];if(P.available)for(w=0;w<h.length;w++)if(document[h[w]]){P.cancel=h[w];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(P.keyboard=!0),Object.defineProperty(P,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),P}()},31784:(S,P,a)=>{var w=a(84148),T={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};S.exports=function g(){return"function"==typeof importScripts||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(T.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(T.mspointer=!0),navigator.getGamepads&&(T.gamepads=!0),"onwheel"in window||w.ie&&"WheelEvent"in window?T.wheelEvent="wheel":"onmousewheel"in window?T.wheelEvent="mousewheel":w.firefox&&"MouseScrollEvent"in window&&(T.wheelEvent="DOMMouseScroll")),T}()},25892:S=>{var P={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};S.exports=function a(){if("function"==typeof importScripts)return P;var w=navigator.userAgent;/Windows/.test(w)?P.windows=!0:/Mac OS/.test(w)&&!/like Mac OS/.test(w)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(P.iOS=!0,P.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),P.iOSVersion=parseInt(RegExp.$1,10)):P.macOS=!0:/Android/.test(w)?P.android=!0:/Linux/.test(w)?P.linux=!0:/iP[ao]d|iPhone/i.test(w)?(P.iOS=!0,navigator.appVersion.match(/OS (\d+)/),P.iOSVersion=parseInt(RegExp.$1,10),P.iPhone=-1!==w.toLowerCase().indexOf("iphone"),P.iPad=-1!==w.toLowerCase().indexOf("ipad")):/Kindle/.test(w)||/\bKF[A-Z][A-Z]+/.test(w)||/Silk.*Mobile Safari/.test(w)?P.kindle=!0:/CrOS/.test(w)&&(P.chromeOS=!0),(/Windows Phone/i.test(w)||/IEMobile/i.test(w))&&(P.android=!1,P.iOS=!1,P.macOS=!1,P.windows=!0,P.windowsPhone=!0);var T=/Silk/.test(w);return(P.windows||P.macOS||P.linux&&!T||P.chromeOS)&&(P.desktop=!0),(P.windowsPhone||/Windows NT/i.test(w)&&/Touch/i.test(w))&&(P.desktop=!1),navigator.standalone&&(P.webApp=!0),"function"!=typeof importScripts&&(void 0!==window.cordova&&(P.cordova=!0),void 0!==window.ejecta&&(P.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(P.node=!0),P.node&&"object"==typeof process.versions&&(P.nodeWebkit=!!process.versions["node-webkit"],P.electron=!!process.versions.electron),/Crosswalk/.test(w)&&(P.crosswalk=!0),P.pixelRatio=window.devicePixelRatio||1,P}()},43267:(S,P,a)=>{var w=a(95540),T={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};S.exports=function g(){if("function"==typeof importScripts)return T;var f=document.createElement("video"),h=!!f.canPlayType,c=/^no$/;try{h&&(f.canPlayType('video/ogg; codecs="theora"').replace(c,"")&&(T.ogg=!0),f.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(c,"")&&(T.h264=!0,T.mp4=!0),f.canPlayType("video/x-m4v").replace(c,"")&&(T.m4v=!0),f.canPlayType('video/webm; codecs="vp8, vorbis"').replace(c,"")&&(T.webm=!0),f.canPlayType('video/webm; codecs="vp9"').replace(c,"")&&(T.vp9=!0),f.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(c,"")&&(T.hls=!0))}catch{}return f.parentNode&&f.parentNode.removeChild(f),T.getVideoURL=function(u){Array.isArray(u)||(u=[u]);for(var m=0;m<u.length;m++){var p,d=w(u[m],"url",u[m]);if(0===d.indexOf("blob:"))return{url:d,type:""};if(p=0===d.indexOf("data:")?d.split(",")[0].match(/\/(.*?);/):d.match(/\.([a-zA-Z0-9]+)($|\?)/),p=w(u[m],"type",p?p[1]:"").toLowerCase(),T[p])return{url:d,type:p}}return null},T}()},82264:(S,P,a)=>{S.exports={os:a(25892),browser:a(84148),features:a(89357),input:a(31784),audio:a(7098),video:a(43267),fullscreen:a(91639),canvasFeatures:a(89289)}},89422:(S,P,a)=>{var w=a(83419),T=new Float32Array(20),g=new w({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(f){return this._matrix.set(f),this._dirty=!0,this},reset:function(){var f=this._matrix;return f.fill(0),f[0]=1,f[6]=1,f[12]=1,f[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var f=this._data;return this._dirty&&(f.set(this._matrix),f[4]/=255,f[9]/=255,f[14]/=255,f[19]/=255,this._dirty=!1),f},brightness:function(f,h){return void 0===f&&(f=0),void 0===h&&(h=!1),this.multiply([f,0,0,0,0,0,f,0,0,0,0,0,f,0,0,0,0,0,1,0],h)},saturate:function(f,h){void 0===f&&(f=0),void 0===h&&(h=!1);var c=2*f/3+1,u=-.5*(c-1);return this.multiply([c,u,u,0,0,u,c,u,0,0,u,u,c,0,0,0,0,0,1,0],h)},desaturate:function(f){return void 0===f&&(f=!1),this.saturate(-1,f)},hue:function(f,h){void 0===f&&(f=0),void 0===h&&(h=!1),f=f/180*Math.PI;var c=Math.cos(f),u=Math.sin(f),m=.213,d=.715,p=.072;return this.multiply([m+c*(1-m)+u*-m,d+c*-d+u*-d,p+c*-p+u*(1-p),0,0,m+c*-m+.143*u,d+c*(1-d)+.14*u,p+c*-p+-.283*u,0,0,m+c*-m+-.787*u,d+c*-d+u*d,p+c*(1-p)+u*p,0,0,0,0,0,1,0],h)},grayscale:function(f,h){return void 0===f&&(f=1),void 0===h&&(h=!1),this.saturate(-f,h)},blackWhite:function(f){return void 0===f&&(f=!1),this.multiply(g.BLACK_WHITE,f)},contrast:function(f,h){void 0===f&&(f=0),void 0===h&&(h=!1);var c=f+1,u=-.5*(c-1);return this.multiply([c,0,0,0,u,0,c,0,0,u,0,0,c,0,u,0,0,0,1,0],h)},negative:function(f){return void 0===f&&(f=!1),this.multiply(g.NEGATIVE,f)},desaturateLuminance:function(f){return void 0===f&&(f=!1),this.multiply(g.DESATURATE_LUMINANCE,f)},sepia:function(f){return void 0===f&&(f=!1),this.multiply(g.SEPIA,f)},night:function(f,h){return void 0===f&&(f=.1),void 0===h&&(h=!1),this.multiply([-2*f,-f,0,0,0,-f,0,f,0,0,0,f,2*f,0,0,0,0,0,1,0],h)},lsd:function(f){return void 0===f&&(f=!1),this.multiply(g.LSD,f)},brown:function(f){return void 0===f&&(f=!1),this.multiply(g.BROWN,f)},vintagePinhole:function(f){return void 0===f&&(f=!1),this.multiply(g.VINTAGE,f)},kodachrome:function(f){return void 0===f&&(f=!1),this.multiply(g.KODACHROME,f)},technicolor:function(f){return void 0===f&&(f=!1),this.multiply(g.TECHNICOLOR,f)},polaroid:function(f){return void 0===f&&(f=!1),this.multiply(g.POLAROID,f)},shiftToBGR:function(f){return void 0===f&&(f=!1),this.multiply(g.SHIFT_BGR,f)},multiply:function(f,h){void 0===h&&(h=!1),h||this.reset();var c=this._matrix,u=T;return u.set(c),c.set([u[0]*f[0]+u[1]*f[5]+u[2]*f[10]+u[3]*f[15],u[0]*f[1]+u[1]*f[6]+u[2]*f[11]+u[3]*f[16],u[0]*f[2]+u[1]*f[7]+u[2]*f[12]+u[3]*f[17],u[0]*f[3]+u[1]*f[8]+u[2]*f[13]+u[3]*f[18],u[0]*f[4]+u[1]*f[9]+u[2]*f[14]+u[3]*f[19]+u[4],u[5]*f[0]+u[6]*f[5]+u[7]*f[10]+u[8]*f[15],u[5]*f[1]+u[6]*f[6]+u[7]*f[11]+u[8]*f[16],u[5]*f[2]+u[6]*f[7]+u[7]*f[12]+u[8]*f[17],u[5]*f[3]+u[6]*f[8]+u[7]*f[13]+u[8]*f[18],u[5]*f[4]+u[6]*f[9]+u[7]*f[14]+u[8]*f[19]+u[9],u[10]*f[0]+u[11]*f[5]+u[12]*f[10]+u[13]*f[15],u[10]*f[1]+u[11]*f[6]+u[12]*f[11]+u[13]*f[16],u[10]*f[2]+u[11]*f[7]+u[12]*f[12]+u[13]*f[17],u[10]*f[3]+u[11]*f[8]+u[12]*f[13]+u[13]*f[18],u[10]*f[4]+u[11]*f[9]+u[12]*f[14]+u[13]*f[19]+u[14],u[15]*f[0]+u[16]*f[5]+u[17]*f[10]+u[18]*f[15],u[15]*f[1]+u[16]*f[6]+u[17]*f[11]+u[18]*f[16],u[15]*f[2]+u[16]*f[7]+u[17]*f[12]+u[18]*f[17],u[15]*f[3]+u[16]*f[8]+u[17]*f[13]+u[18]*f[18],u[15]*f[4]+u[16]*f[9]+u[17]*f[14]+u[18]*f[19]+u[19]]),this._dirty=!0,this}});g.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],g.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],g.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],g.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],g.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],g.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],g.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],g.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],g.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],g.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],g.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],S.exports=g},51767:(S,P,a)=>{var w=a(83419),T=a(29747),g=new w({initialize:function(h,c,u){this._rgb=[0,0,0],this.onChangeCallback=T,this.dirty=!1,this.set(h,c,u)},set:function(f,h,c){return void 0===f&&(f=0),void 0===h&&(h=0),void 0===c&&(c=0),this._rgb=[f,h,c],this.onChange(),this},equals:function(f,h,c){var u=this._rgb;return u[0]===f&&u[1]===h&&u[2]===c},onChange:function(){this.dirty=!0;var f=this._rgb;this.onChangeCallback.call(this,f[0],f[1],f[2])},r:{get:function(){return this._rgb[0]},set:function(f){this._rgb[0]=f,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(f){this._rgb[1]=f,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(f){this._rgb[2]=f,this.onChange()}},destroy:function(){this.onChangeCallback=null}});S.exports=g},60461:S=>{S.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},54312:(S,P,a)=>{var w=a(62235),T=a(35893),g=a(86327),f=a(88417);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),f(c,T(u)+m),g(c,w(u)+d),c}},46768:(S,P,a)=>{var w=a(62235),T=a(26541),g=a(86327),f=a(385);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),f(c,T(u)-m),g(c,w(u)+d),c}},35827:(S,P,a)=>{var w=a(62235),T=a(54380),g=a(86327),f=a(40136);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),f(c,T(u)+m),g(c,w(u)+d),c}},46871:(S,P,a)=>{var w=a(66786),T=a(35893),g=a(7702);S.exports=function(h,c,u,m){return void 0===u&&(u=0),void 0===m&&(m=0),w(h,T(c)+u,g(c)+m),h}},5198:(S,P,a)=>{var w=a(7702),T=a(26541),g=a(20786),f=a(385);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),f(c,T(u)-m),g(c,w(u)+d),c}},11879:(S,P,a)=>{var w=a(60461),T=[];T[w.BOTTOM_CENTER]=a(54312),T[w.BOTTOM_LEFT]=a(46768),T[w.BOTTOM_RIGHT]=a(35827),T[w.CENTER]=a(46871),T[w.LEFT_CENTER]=a(5198),T[w.RIGHT_CENTER]=a(80503),T[w.TOP_CENTER]=a(89698),T[w.TOP_LEFT]=a(922),T[w.TOP_RIGHT]=a(21373),T[w.LEFT_BOTTOM]=T[w.BOTTOM_LEFT],T[w.LEFT_TOP]=T[w.TOP_LEFT],T[w.RIGHT_BOTTOM]=T[w.BOTTOM_RIGHT],T[w.RIGHT_TOP]=T[w.TOP_RIGHT],S.exports=function(f,h,c,u,m){return T[c](f,h,u,m)}},80503:(S,P,a)=>{var w=a(7702),T=a(54380),g=a(20786),f=a(40136);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),f(c,T(u)+m),g(c,w(u)+d),c}},89698:(S,P,a)=>{var w=a(35893),T=a(17717),g=a(88417),f=a(66737);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),g(c,w(u)+m),f(c,T(u)-d),c}},922:(S,P,a)=>{var w=a(26541),T=a(17717),g=a(385),f=a(66737);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),g(c,w(u)-m),f(c,T(u)-d),c}},21373:(S,P,a)=>{var w=a(54380),T=a(17717),g=a(40136),f=a(66737);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),g(c,w(u)+m),f(c,T(u)-d),c}},91660:(S,P,a)=>{S.exports={BottomCenter:a(54312),BottomLeft:a(46768),BottomRight:a(35827),Center:a(46871),LeftCenter:a(5198),QuickSet:a(11879),RightCenter:a(80503),TopCenter:a(89698),TopLeft:a(922),TopRight:a(21373)}},71926:(S,P,a)=>{var w=a(60461),T=a(79291),g={In:a(91660),To:a(16694)};g=T(!1,g,w),S.exports=g},21578:(S,P,a)=>{var w=a(62235),T=a(35893),g=a(88417),f=a(66737);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),g(c,T(u)+m),f(c,w(u)+d),c}},10210:(S,P,a)=>{var w=a(62235),T=a(26541),g=a(385),f=a(66737);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),g(c,T(u)-m),f(c,w(u)+d),c}},82341:(S,P,a)=>{var w=a(62235),T=a(54380),g=a(40136),f=a(66737);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),g(c,T(u)+m),f(c,w(u)+d),c}},87958:(S,P,a)=>{var w=a(62235),T=a(26541),g=a(86327),f=a(40136);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),f(c,T(u)-m),g(c,w(u)+d),c}},40080:(S,P,a)=>{var w=a(7702),T=a(26541),g=a(20786),f=a(40136);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),f(c,T(u)-m),g(c,w(u)+d),c}},88466:(S,P,a)=>{var w=a(26541),T=a(17717),g=a(40136),f=a(66737);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),g(c,w(u)-m),f(c,T(u)-d),c}},38829:(S,P,a)=>{var w=a(60461),T=[];T[w.BOTTOM_CENTER]=a(21578),T[w.BOTTOM_LEFT]=a(10210),T[w.BOTTOM_RIGHT]=a(82341),T[w.LEFT_BOTTOM]=a(87958),T[w.LEFT_CENTER]=a(40080),T[w.LEFT_TOP]=a(88466),T[w.RIGHT_BOTTOM]=a(19211),T[w.RIGHT_CENTER]=a(34609),T[w.RIGHT_TOP]=a(48741),T[w.TOP_CENTER]=a(49440),T[w.TOP_LEFT]=a(81288),T[w.TOP_RIGHT]=a(61323),S.exports=function(f,h,c,u,m){return T[c](f,h,u,m)}},19211:(S,P,a)=>{var w=a(62235),T=a(54380),g=a(86327),f=a(385);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),f(c,T(u)+m),g(c,w(u)+d),c}},34609:(S,P,a)=>{var w=a(7702),T=a(54380),g=a(20786),f=a(385);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),f(c,T(u)+m),g(c,w(u)+d),c}},48741:(S,P,a)=>{var w=a(54380),T=a(17717),g=a(385),f=a(66737);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),g(c,w(u)+m),f(c,T(u)-d),c}},49440:(S,P,a)=>{var w=a(35893),T=a(17717),g=a(86327),f=a(88417);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),f(c,w(u)+m),g(c,T(u)-d),c}},81288:(S,P,a)=>{var w=a(26541),T=a(17717),g=a(86327),f=a(385);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),f(c,w(u)-m),g(c,T(u)-d),c}},61323:(S,P,a)=>{var w=a(54380),T=a(17717),g=a(86327),f=a(40136);S.exports=function(c,u,m,d){return void 0===m&&(m=0),void 0===d&&(d=0),f(c,w(u)+m),g(c,T(u)-d),c}},16694:(S,P,a)=>{S.exports={BottomCenter:a(21578),BottomLeft:a(10210),BottomRight:a(82341),LeftBottom:a(87958),LeftCenter:a(40080),LeftTop:a(88466),QuickSet:a(38829),RightBottom:a(19211),RightCenter:a(34609),RightTop:a(48741),TopCenter:a(49440),TopLeft:a(81288),TopRight:a(61323)}},66786:(S,P,a)=>{var w=a(88417),T=a(20786);S.exports=function(f,h,c){return w(f,h),T(f,c)}},62235:S=>{S.exports=function(a){return a.y+a.height-a.height*a.originY}},72873:(S,P,a)=>{var w=a(62235),T=a(26541),g=a(54380),f=a(17717),h=a(87841);S.exports=function(u,m){void 0===m&&(m=new h);var d=T(u),p=f(u);return m.x=d,m.y=p,m.width=g(u)-d,m.height=w(u)-p,m}},35893:S=>{S.exports=function(a){return a.x-a.width*a.originX+.5*a.width}},7702:S=>{S.exports=function(a){return a.y-a.height*a.originY+.5*a.height}},26541:S=>{S.exports=function(a){return a.x-a.width*a.originX}},87431:S=>{S.exports=function(a){return a.width*a.originX}},46928:S=>{S.exports=function(a){return a.height*a.originY}},54380:S=>{S.exports=function(a){return a.x+a.width-a.width*a.originX}},17717:S=>{S.exports=function(a){return a.y-a.height*a.originY}},86327:S=>{S.exports=function(a,w){return a.y=w-a.height+a.height*a.originY,a}},88417:S=>{S.exports=function(a,w){return a.x=w+a.width*a.originX-.5*a.width,a}},20786:S=>{S.exports=function(a,w){return a.y=w+a.height*a.originY-.5*a.height,a}},385:S=>{S.exports=function(a,w){return a.x=w+a.width*a.originX,a}},40136:S=>{S.exports=function(a,w){return a.x=w-a.width+a.width*a.originX,a}},66737:S=>{S.exports=function(a,w){return a.y=w+a.height*a.originY,a}},58724:(S,P,a)=>{S.exports={CenterOn:a(66786),GetBottom:a(62235),GetBounds:a(72873),GetCenterX:a(35893),GetCenterY:a(7702),GetLeft:a(26541),GetOffsetX:a(87431),GetOffsetY:a(46928),GetRight:a(54380),GetTop:a(17717),SetBottom:a(86327),SetCenterX:a(88417),SetCenterY:a(20786),SetLeft:a(385),SetRight:a(40136),SetTop:a(66737)}},20623:S=>{S.exports={setCrisp:function(a){return["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"].forEach(function(T){a.style["image-rendering"]=T}),a.style.msInterpolationMode="nearest-neighbor",a},setBicubic:function(a){return a.style["image-rendering"]="auto",a.style.msInterpolationMode="bicubic",a}}},27919:(S,P,a)=>{var c,d,v,w=a(8054),T=a(68703),g=[],f=!1;S.exports=(v=function(){var E=0;return g.forEach(function(A){A.parent&&E++}),E},{create2D:function(E,A,M){return c(E,A,M,w.CANVAS)},create:c=function(E,A,M,I,k){void 0===A&&(A=1),void 0===M&&(M=1),void 0===I&&(I=w.CANVAS),void 0===k&&(k=!1);var F,N=d(I);return null===N?(N={parent:E,canvas:document.createElement("canvas"),type:I},I===w.CANVAS&&g.push(N),F=N.canvas):(N.parent=E,F=N.canvas),k&&(N.parent=F),F.width=A,F.height=M,f&&I===w.CANVAS&&T.disable(F.getContext("2d",{willReadFrequently:!1})),F},createWebGL:function(E,A,M){return c(E,A,M,w.WEBGL)},disableSmoothing:function(){f=!0},enableSmoothing:function(){f=!1},first:d=function(E){if(void 0===E&&(E=w.CANVAS),E===w.WEBGL)return null;for(var A=0;A<g.length;A++){var M=g[A];if(!M.parent&&M.type===E)return M}return null},free:function(){return g.length-v()},pool:g,remove:function(E){var A=E instanceof HTMLCanvasElement;g.forEach(function(M){(A&&M.canvas===E||!A&&M.parent===E)&&(M.parent=null,M.canvas.width=1,M.canvas.height=1)})},total:v})},68703:S=>{var w,P="";S.exports={disable:function(h){return""===P&&(P=w(h)),P&&(h[P]=!1),h},enable:function(h){return""===P&&(P=w(h)),P&&(h[P]=!0),h},getPrefix:w=function(h){for(var c=["i","webkitI","msI","mozI","oI"],u=0;u<c.length;u++){var m=c[u]+"mageSmoothingEnabled";if(m in h)return m}return null},isEnabled:function(h){return null!==P?h[P]:null}}},65208:S=>{S.exports=function(a,w){return void 0===w&&(w="none"),a.style.msTouchAction=w,a.style["ms-touch-action"]=w,a.style["touch-action"]=w,a}},91610:S=>{S.exports=function(a,w){return void 0===w&&(w="none"),["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(g){a.style[g+"user-select"]=w}),a.style["-webkit-touch-callout"]=w,a.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",a}},26253:(S,P,a)=>{S.exports={CanvasInterpolation:a(20623),CanvasPool:a(27919),Smoothing:a(68703),TouchAction:a(65208),UserSelect:a(91610)}},40987:(S,P,a)=>{var w=a(83419),T=a(37589),g=a(1e3),f=a(7537),h=a(87837),c=new w({initialize:function(m,d,p,v){void 0===m&&(m=0),void 0===d&&(d=0),void 0===p&&(p=0),void 0===v&&(v=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(m,d,p,v)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(u,m,d,p,v){return void 0===p&&(p=255),void 0===v&&(v=!0),this._locked=!0,this.red=u,this.green=m,this.blue=d,this.alpha=p,this._locked=!1,this.update(v)},setGLTo:function(u,m,d,p){return void 0===p&&(p=1),this._locked=!0,this.redGL=u,this.greenGL=m,this.blueGL=d,this.alphaGL=p,this._locked=!1,this.update(!0)},setFromRGB:function(u){return this._locked=!0,this.red=u.r,this.green=u.g,this.blue=u.b,u.hasOwnProperty("a")&&(this.alpha=u.a),this._locked=!1,this.update(!0)},setFromHSV:function(u,m,d){return f(u,m,d,this)},update:function(u){if(void 0===u&&(u=!1),this._locked)return this;var m=this.r,d=this.g,p=this.b,v=this.a;return this._color=T(m,d,p),this._color32=g(m,d,p,v),this._rgba="rgba("+m+","+d+","+p+","+v/255+")",u&&h(m,d,p,this),this},updateHSV:function(){return h(this.r,this.g,this.b,this),this},clone:function(){return new c(this.r,this.g,this.b,this.a)},gray:function(u){return this.setTo(u,u,u)},random:function(u,m){void 0===u&&(u=0),void 0===m&&(m=255);var d=Math.floor(u+Math.random()*(m-u)),p=Math.floor(u+Math.random()*(m-u)),v=Math.floor(u+Math.random()*(m-u));return this.setTo(d,p,v)},randomGray:function(u,m){void 0===u&&(u=0),void 0===m&&(m=255);var d=Math.floor(u+Math.random()*(m-u));return this.setTo(d,d,d)},saturate:function(u){return this.s+=u/100,this},desaturate:function(u){return this.s-=u/100,this},lighten:function(u){return this.v+=u/100,this},darken:function(u){return this.v-=u/100,this},brighten:function(u){var m=this.r,d=this.g,p=this.b;return m=Math.max(0,Math.min(255,m-Math.round(-u/100*255))),d=Math.max(0,Math.min(255,d-Math.round(-u/100*255))),p=Math.max(0,Math.min(255,p-Math.round(-u/100*255))),this.setTo(m,d,p)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(u){this.gl[0]=Math.min(Math.abs(u),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(u){this.gl[1]=Math.min(Math.abs(u),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(u){this.gl[2]=Math.min(Math.abs(u),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(u){this.gl[3]=Math.min(Math.abs(u),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(u){u=Math.floor(Math.abs(u)),this.r=Math.min(u,255),this.gl[0]=u/255,this.update(!0)}},green:{get:function(){return this.g},set:function(u){u=Math.floor(Math.abs(u)),this.g=Math.min(u,255),this.gl[1]=u/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(u){u=Math.floor(Math.abs(u)),this.b=Math.min(u,255),this.gl[2]=u/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(u){u=Math.floor(Math.abs(u)),this.a=Math.min(u,255),this.gl[3]=u/255,this.update()}},h:{get:function(){return this._h},set:function(u){this._h=u,f(u,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(u){this._s=u,f(this._h,u,this._v,this)}},v:{get:function(){return this._v},set:function(u){this._v=u,f(this._h,this._s,u,this)}}});S.exports=c},92728:(S,P,a)=>{var w=a(37589);S.exports=function(g){void 0===g&&(g=1024);var c,f=[],h=255,u=255,m=0,d=0;for(c=0;c<=h;c++)f.push({r:u,g:c,b:d,color:w(u,c,d)});for(m=255,c=h;c>=0;c--)f.push({r:c,g:m,b:d,color:w(c,m,d)});for(u=0,c=0;c<=h;c++,m--)f.push({r:u,g:m,b:c,color:w(u,m,c)});for(m=0,d=255,c=0;c<=h;c++,d--,u++)f.push({r:u,g:m,b:d,color:w(u,m,d)});if(1024===g)return f;var p=[],v=0,x=1024/g;for(c=0;c<g;c++)p.push(f[Math.floor(v)]),v+=x;return p}},91588:S=>{S.exports=function(a){var w={r:a>>16&255,g:a>>8&255,b:255&a,a:255};return a>16777215&&(w.a=a>>>24),w}},62957:S=>{S.exports=function(a){var w=a.toString(16);return 1===w.length?"0"+w:w}},37589:S=>{S.exports=function(a,w,T){return a<<16|w<<8|T}},1e3:S=>{S.exports=function(a,w,T,g){return g<<24|a<<16|w<<8|T}},62183:(S,P,a)=>{var w=a(40987),T=a(89528);S.exports=function(f,h,c){var u=c,m=c,d=c;if(0!==h){var p=c<.5?c*(1+h):c+h-c*h,v=2*c-p;u=T(v,p,f+1/3),m=T(v,p,f),d=T(v,p,f-1/3)}return(new w).setGLTo(u,m,d,1)}},27939:(S,P,a)=>{var w=a(7537);S.exports=function(g,f){void 0===g&&(g=1),void 0===f&&(f=1);for(var h=[],c=0;c<=359;c++)h.push(w(c/359,g,f));return h}},7537:(S,P,a)=>{var w=a(37589);function T(f,h,c,u){var m=(f+6*h)%6,d=Math.min(m,4-m,1);return Math.round(255*(u-u*c*Math.max(0,d)))}S.exports=function(f,h,c,u){void 0===h&&(h=1),void 0===c&&(c=1);var m=T(5,f,h,c),d=T(3,f,h,c),p=T(1,f,h,c);return u?u.setTo?u.setTo(m,d,p,u.alpha,!0):(u.r=m,u.g=d,u.b=p,u.color=w(m,d,p),u):{r:m,g:d,b:p,color:w(m,d,p)}}},70238:(S,P,a)=>{var w=a(40987);S.exports=function(g){var f=new w;g=g.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(d,p,v,x){return p+p+v+v+x+x});var h=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(g);if(h){var c=parseInt(h[1],16),u=parseInt(h[2],16),m=parseInt(h[3],16);f.setTo(c,u,m)}return f}},89528:S=>{S.exports=function(a,w,T){return T<0&&(T+=1),T>1&&(T-=1),T<.16666666666666666?a+6*(w-a)*T:T<.5?w:T<.6666666666666666?a+(w-a)*(.6666666666666666-T)*6:a}},30100:(S,P,a)=>{var w=a(40987),T=a(90664);S.exports=function(f){var h=T(f);return new w(h.r,h.g,h.b,h.a)}},90664:S=>{S.exports=function(a){return a>16777215?{a:a>>>24,r:a>>16&255,g:a>>8&255,b:255&a}:{a:255,r:a>>16&255,g:a>>8&255,b:255&a}}},13699:(S,P,a)=>{var w=a(28915),T=function(h,c,u,m,d,p,v,x){void 0===v&&(v=100),void 0===x&&(x=0);var y=x/v;return{r:w(h,m,y),g:w(c,d,y),b:w(u,p,y)}};S.exports={RGBWithRGB:T,ColorWithRGB:function(h,c,u,m,d,p){return void 0===d&&(d=100),void 0===p&&(p=0),T(h.r,h.g,h.b,c,u,m,d,p)},ColorWithColor:function(h,c,u,m){return void 0===u&&(u=100),void 0===m&&(m=0),T(h.r,h.g,h.b,c.r,c.g,c.b,u,m)}}},68957:(S,P,a)=>{var w=a(40987);S.exports=function(g){return new w(g.r,g.g,g.b,g.a)}},87388:(S,P,a)=>{var w=a(40987);S.exports=function(g){var f=new w,h=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(g.toLowerCase());if(h){var c=parseInt(h[1],10),u=parseInt(h[2],10),m=parseInt(h[3],10),d=void 0!==h[4]?parseFloat(h[4]):1;f.setTo(c,u,m,255*d)}return f}},87837:S=>{S.exports=function(a,w,T,g){void 0===g&&(g={h:0,s:0,v:0}),a/=255,w/=255,T/=255;var f=Math.min(a,w,T),h=Math.max(a,w,T),c=h-f,u=0,m=0===h?0:c/h,d=h;return h!==f&&(h===a?u=(w-T)/c+(w<T?6:0):h===w?u=(T-a)/c+2:h===T&&(u=(a-w)/c+4),u/=6),g.hasOwnProperty("_h")?(g._h=u,g._s=m,g._v=d):(g.h=u,g.s=m,g.v=d),g}},75723:(S,P,a)=>{var w=a(62957);S.exports=function(g,f,h,c,u){return void 0===c&&(c=255),void 0===u&&(u="#"),"#"===u?"#"+((1<<24)+(g<<16)+(f<<8)+h).toString(16).slice(1,7):"0x"+w(c)+w(g)+w(f)+w(h)}},85386:(S,P,a)=>{var w=a(30976),T=a(40987);S.exports=function(f,h){return void 0===f&&(f=0),void 0===h&&(h=255),new T(w(f,h),w(f,h),w(f,h))}},80333:(S,P,a)=>{var w=a(70238),T=a(30100),g=a(68957),f=a(87388);S.exports=function(c){switch(typeof c){case"string":return"rgb"===c.substr(0,3).toLowerCase()?f(c):w(c);case"number":return T(c);case"object":return g(c)}}},3956:(S,P,a)=>{var w=a(40987);w.ColorSpectrum=a(92728),w.ColorToRGBA=a(91588),w.ComponentToHex=a(62957),w.GetColor=a(37589),w.GetColor32=a(1e3),w.HexStringToColor=a(70238),w.HSLToColor=a(62183),w.HSVColorWheel=a(27939),w.HSVToRGB=a(7537),w.HueToComponent=a(89528),w.IntegerToColor=a(30100),w.IntegerToRGB=a(90664),w.Interpolate=a(13699),w.ObjectToColor=a(68957),w.RandomRGB=a(85386),w.RGBStringToColor=a(87388),w.RGBToHSV=a(87837),w.RGBToString=a(75723),w.ValueToColor=a(80333),S.exports=w},27460:(S,P,a)=>{S.exports={Align:a(71926),BaseShader:a(73894),Bounds:a(58724),Canvas:a(26253),Color:a(3956),ColorMatrix:a(89422),Masks:a(69781),RGB:a(51767)}},6858:(S,P,a)=>{var w=a(83419),T=a(39429),g=new w({initialize:function(h,c,u,m,d,p){c||(c=h.sys.make.image({x:u,y:m,key:d,frame:p,add:!1})),this.bitmapMask=c,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(f){this.bitmapMask=f},preRenderWebGL:function(f,h,c){f.pipelines.BITMAPMASK_PIPELINE.beginMask(this,h,c)},postRenderWebGL:function(f,h,c){f.pipelines.BITMAPMASK_PIPELINE.endMask(this,h,c)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});T.register("bitmapMask",function(f,h,c,u,m){return new g(this.scene,f,h,c,u,m)}),S.exports=g},80661:(S,P,a)=>{var T=new(a(83419))({initialize:function(f,h){this.geometryMask=h,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(g){return this.geometryMask=g,this},setInvertAlpha:function(g){return void 0===g&&(g=!0),this.invertAlpha=g,this},preRenderWebGL:function(g,f,h){var c=g.gl;g.flush(),0===g.maskStack.length&&(c.enable(c.STENCIL_TEST),c.clear(c.STENCIL_BUFFER_BIT),g.maskCount=0),g.currentCameraMask.mask!==this&&(g.currentMask.mask=this),g.maskStack.push({mask:this,camera:h}),this.applyStencil(g,h,!0),g.maskCount++},applyStencil:function(g,f,h){var c=g.gl,u=this.geometryMask,m=g.maskCount;c.colorMask(!1,!1,!1,!1),h?(c.stencilFunc(c.EQUAL,m,255),c.stencilOp(c.KEEP,c.KEEP,c.INCR),m++):(c.stencilFunc(c.EQUAL,m+1,255),c.stencilOp(c.KEEP,c.KEEP,c.DECR)),this.level=m,u.renderWebGL(g,u,f),g.flush(),c.colorMask(!0,!0,!0,!0),c.stencilOp(c.KEEP,c.KEEP,c.KEEP),c.stencilFunc(this.invertAlpha?c.NOTEQUAL:c.EQUAL,m,255)},postRenderWebGL:function(g){var f=g.gl;g.maskStack.pop(),g.maskCount--,g.flush();var h=g.currentMask;if(0===g.maskStack.length)h.mask=null,f.disable(f.STENCIL_TEST);else{var c=g.maskStack[g.maskStack.length-1];c.mask.applyStencil(g,c.camera,!1),g.currentCameraMask.mask!==c.mask?(h.mask=c.mask,h.camera=c.camera):h.mask=null}},preRenderCanvas:function(g,f,h){var c=this.geometryMask;g.currentContext.save(),c.renderCanvas(g,c,h,null,null,!0),g.currentContext.clip()},postRenderCanvas:function(g){g.currentContext.restore()},destroy:function(){this.geometryMask=null}});S.exports=T},69781:(S,P,a)=>{S.exports={BitmapMask:a(6858),GeometryMask:a(80661)}},73894:(S,P,a)=>{var T=new(a(83419))({initialize:function(f,h,c,u){(!h||""===h)&&(h=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join("\n")),(!c||""===c)&&(c=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join("\n")),void 0===u&&(u=null),this.key=f,this.fragmentSrc=h,this.vertexSrc=c,this.uniforms=u}});S.exports=T},40366:S=>{S.exports=function(a,w){var T;if(w)"string"==typeof w?T=document.getElementById(w):"object"==typeof w&&1===w.nodeType&&(T=w);else if(a.parentElement||null===w)return a;return T||(T=document.body),T.appendChild(a),a}},83719:(S,P,a)=>{var w=a(40366);S.exports=function(g){var f=g.config;if(f.parent&&f.domCreateContainer){var h=document.createElement("div");h.style.cssText=["display: block;","width: "+g.scale.width+"px;","height: "+g.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+f.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),g.domContainer=h,w(h,f.parent)}}},57264:(S,P,a)=>{var w=a(25892);S.exports=function(g){if("complete"!==document.readyState&&"interactive"!==document.readyState){var f=function(){document.removeEventListener("deviceready",f,!0),document.removeEventListener("DOMContentLoaded",f,!0),window.removeEventListener("load",f,!0),g()};document.body?w.cordova?document.addEventListener("deviceready",f,!1):(document.addEventListener("DOMContentLoaded",f,!0),window.addEventListener("load",f,!0)):window.setTimeout(f,20)}else g()}},57811:S=>{S.exports=function(a){if(!a)return window.innerHeight;var w=Math.abs(window.orientation),T={w:0,h:0},g=document.createElement("div");return g.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(g),T.w=90===w?g.offsetHeight:window.innerWidth,T.h=90===w?window.innerWidth:g.offsetHeight,document.documentElement.removeChild(g),g=null,90!==Math.abs(window.orientation)?T.h:T.w}},45818:(S,P,a)=>{var w=a(13560);S.exports=function(g,f){var h=window.screen,c=!!h&&(h.orientation||h.mozOrientation||h.msOrientation);return c&&"string"==typeof c.type?c.type:"string"==typeof c?c:"number"==typeof window.orientation?0===window.orientation||180===window.orientation?w.ORIENTATION.PORTRAIT:w.ORIENTATION.LANDSCAPE:window.matchMedia?window.matchMedia("(orientation: portrait)").matches?w.ORIENTATION.PORTRAIT:window.matchMedia("(orientation: landscape)").matches?w.ORIENTATION.LANDSCAPE:void 0:f>g?w.ORIENTATION.PORTRAIT:w.ORIENTATION.LANDSCAPE}},74403:S=>{S.exports=function(a){var w;return""!==a&&("string"==typeof a?w=document.getElementById(a):a&&1===a.nodeType&&(w=a)),w||(w=document.body),w}},56836:S=>{S.exports=function(a){var w="";try{window.DOMParser?w=(new DOMParser).parseFromString(a,"text/xml"):(w=new ActiveXObject("Microsoft.XMLDOM")).loadXML(a)}catch{w=null}return w&&w.documentElement&&!w.getElementsByTagName("parsererror").length?w:null}},35846:S=>{S.exports=function(a){a.parentNode&&a.parentNode.removeChild(a)}},43092:(S,P,a)=>{var w=a(83419),T=a(29747),g=new w({initialize:function(){this.isRunning=!1,this.callback=T,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var h=this;this.step=function c(u){h.callback(u),h.isRunning&&(h.timeOutID=window.requestAnimationFrame(c))},this.stepTimeout=function c(){h.isRunning&&(h.timeOutID=window.setTimeout(c,h.delay)),h.callback(window.performance.now())}},start:function(f,h,c){this.isRunning||(this.callback=f,this.isSetTimeOut=h,this.delay=c,this.isRunning=!0,this.timeOutID=h?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=T}});S.exports=g},84902:(S,P,a)=>{var w={AddToDOM:a(40366),DOMContentLoaded:a(57264),GetInnerHeight:a(57811),GetScreenOrientation:a(45818),GetTarget:a(74403),ParseXML:a(56836),RemoveFromDOM:a(35846),RequestAnimationFrame:a(43092)};S.exports=w},47565:(S,P,a)=>{var w=a(83419),T=a(50792),g=a(37277),f=new w({Extends:T,initialize:function(){T.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});g.register("EventEmitter",f,"events"),S.exports=f},93055:(S,P,a)=>{S.exports={EventEmitter:a(47565)}},20122:(S,P,a)=>{var w=a(83419),T=a(72898),g=a(14811),f=new w({Extends:T,initialize:function(c,u){void 0===u&&(u=1),T.call(this,g.BARREL,c),this.amount=u}});S.exports=f},32251:(S,P,a)=>{var w=a(83419),T=a(72898),g=a(14811),f=new w({Extends:T,initialize:function(c,u,m,d,p,v,x){void 0===m&&(m=1),void 0===d&&(d=1),void 0===p&&(p=1),void 0===v&&(v=1),void 0===x&&(x=4),T.call(this,g.BLOOM,c),this.steps=x,this.offsetX=m,this.offsetY=d,this.blurStrength=p,this.strength=v,this.glcolor=[1,1,1],null!=u&&(this.color=u)},color:{get:function(){var h=this.glcolor;return(255*h[0]<<16)+(255*h[1]<<8)+(255*h[2]|0)},set:function(h){var c=this.glcolor;c[0]=(h>>16&255)/255,c[1]=(h>>8&255)/255,c[2]=(255&h)/255}}});S.exports=f},9047:(S,P,a)=>{var w=a(83419),T=a(72898),g=a(14811),f=new w({Extends:T,initialize:function(c,u,m,d,p,v,x){void 0===u&&(u=0),void 0===m&&(m=2),void 0===d&&(d=2),void 0===p&&(p=1),void 0===x&&(x=4),T.call(this,g.BLUR,c),this.quality=u,this.x=m,this.y=d,this.steps=x,this.strength=p,this.glcolor=[1,1,1],null!=v&&(this.color=v)},color:{get:function(){var h=this.glcolor;return(255*h[0]<<16)+(255*h[1]<<8)+(255*h[2]|0)},set:function(h){var c=this.glcolor;c[0]=(h>>16&255)/255,c[1]=(h>>8&255)/255,c[2]=(255&h)/255}}});S.exports=f},27885:(S,P,a)=>{var w=a(83419),T=a(72898),g=a(14811),f=new w({Extends:T,initialize:function(c,u,m,d,p,v,x,y){void 0===u&&(u=.5),void 0===m&&(m=1),void 0===d&&(d=.2),void 0===p&&(p=!1),void 0===v&&(v=1),void 0===x&&(x=1),void 0===y&&(y=1),T.call(this,g.BOKEH,c),this.radius=u,this.amount=m,this.contrast=d,this.isTiltShift=p,this.strength=y,this.blurX=v,this.blurY=x}});S.exports=f},12578:(S,P,a)=>{var w=a(83419),T=a(72898),g=a(14811),f=new w({Extends:T,initialize:function(c,u,m,d,p,v){void 0===u&&(u=8),void 0===p&&(p=1),void 0===v&&(v=.005),T.call(this,g.CIRCLE,c),this.scale=p,this.feather=v,this.thickness=u,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],null!=m&&(this.color=m),null!=d&&(this.backgroundColor=d)},color:{get:function(){var h=this.glcolor;return(255*h[0]<<16)+(255*h[1]<<8)+(255*h[2]|0)},set:function(h){var c=this.glcolor;c[0]=(h>>16&255)/255,c[1]=(h>>8&255)/255,c[2]=(255&h)/255}},backgroundColor:{get:function(){var h=this.glcolor2;return(255*h[0]<<16)+(255*h[1]<<8)+(255*h[2]|0)},set:function(h){var c=this.glcolor2;c[0]=(h>>16&255)/255,c[1]=(h>>8&255)/255,c[2]=(255&h)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(h){this.glcolor2[3]=h}}});S.exports=f},15802:(S,P,a)=>{var w=a(83419),T=a(89422),g=a(14811),f=new w({Extends:T,initialize:function(c){T.call(this),this.type=g.COLOR_MATRIX,this.gameObject=c,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});S.exports=f},72898:(S,P,a)=>{var T=new(a(83419))({initialize:function(f,h){this.type=f,this.gameObject=h,this.active=!0},setActive:function(g){return this.active=g,this},destroy:function(){this.gameObject=null,this.active=!1}});S.exports=T},44553:(S,P,a)=>{var w=a(83419),T=a(72898),g=a(14811),f=new w({Extends:T,initialize:function(c,u,m,d){void 0===u&&(u="__WHITE"),void 0===m&&(m=.005),void 0===d&&(d=.005),T.call(this,g.DISPLACEMENT,c),this.x=m,this.y=d,this.setTexture(u)},setTexture:function(h){var c=this.gameObject.scene.sys.textures.getFrame(h);return c&&(this.glTexture=c.glTexture),this}});S.exports=f},68531:(S,P,a)=>{var w=a(83419),T=a(72898),g=a(14811),f=new w({Extends:T,initialize:function(c,u,m,d,p){void 0===m&&(m=4),void 0===d&&(d=0),void 0===p&&(p=!1),T.call(this,g.GLOW,c),this.outerStrength=m,this.innerStrength=d,this.knockout=p,this.glcolor=[1,1,1,1],void 0!==u&&(this.color=u)},color:{get:function(){var h=this.glcolor;return(255*h[0]<<16)+(255*h[1]<<8)+(255*h[2]|0)},set:function(h){var c=this.glcolor;c[0]=(h>>16&255)/255,c[1]=(h>>8&255)/255,c[2]=(255&h)/255}}});S.exports=f},37102:(S,P,a)=>{var w=a(83419),T=a(72898),g=a(14811),f=new w({Extends:T,initialize:function(c,u,m,d,p,v,x,y,_){void 0===d&&(d=.2),void 0===p&&(p=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=1),void 0===_&&(_=0),T.call(this,g.GRADIENT,c),this.alpha=d,this.size=_,this.fromX=p,this.fromY=v,this.toX=x,this.toY=y,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],null!=u&&(this.color1=u),null!=m&&(this.color2=m)},color1:{get:function(){var h=this.glcolor1;return(h[0]<<16)+(h[1]<<8)+(0|h[2])},set:function(h){var c=this.glcolor1;c[0]=h>>16&255,c[1]=h>>8&255,c[2]=255&h}},color2:{get:function(){var h=this.glcolor2;return(h[0]<<16)+(h[1]<<8)+(0|h[2])},set:function(h){var c=this.glcolor2;c[0]=h>>16&255,c[1]=h>>8&255,c[2]=255&h}}});S.exports=f},86886:(S,P,a)=>{var w=a(83419),T=a(72898),g=a(14811),f=new w({Extends:T,initialize:function(c,u){void 0===u&&(u=1),T.call(this,g.PIXELATE,c),this.amount=u}});S.exports=f},92322:(S,P,a)=>{var w=a(83419),T=a(72898),g=a(14811),f=new w({Extends:T,initialize:function(c,u,m,d,p,v,x,y){void 0===u&&(u=0),void 0===m&&(m=0),void 0===d&&(d=.1),void 0===p&&(p=1),void 0===x&&(x=6),void 0===y&&(y=1),T.call(this,g.SHADOW,c),this.x=u,this.y=m,this.decay=d,this.power=p,this.glcolor=[0,0,0,1],this.samples=x,this.intensity=y,void 0!==v&&(this.color=v)},color:{get:function(){var h=this.glcolor;return(255*h[0]<<16)+(255*h[1]<<8)+(255*h[2]|0)},set:function(h){var c=this.glcolor;c[0]=(h>>16&255)/255,c[1]=(h>>8&255)/255,c[2]=(255&h)/255}}});S.exports=f},39563:(S,P,a)=>{var w=a(83419),T=a(72898),g=a(14811),f=new w({Extends:T,initialize:function(c,u,m,d,p){void 0===u&&(u=.5),void 0===m&&(m=.5),void 0===d&&(d=3),void 0===p&&(p=!1),T.call(this,g.SHINE,c),this.speed=u,this.lineWidth=m,this.gradient=d,this.reveal=p}});S.exports=f},56448:(S,P,a)=>{var w=a(83419),T=a(72898),g=a(14811),f=new w({Extends:T,initialize:function(c,u,m,d,p){void 0===u&&(u=.5),void 0===m&&(m=.5),void 0===d&&(d=.5),void 0===p&&(p=.5),T.call(this,g.VIGNETTE,c),this.x=u,this.y=m,this.radius=d,this.strength=p}});S.exports=f},38433:(S,P,a)=>{var w=a(83419),T=a(72898),g=a(14811),f=new w({Extends:T,initialize:function(c,u,m,d,p){void 0===u&&(u=.1),void 0===m&&(m=0),void 0===d&&(d=0),void 0===p&&(p=!1),T.call(this,g.WIPE,c),this.progress=0,this.wipeWidth=u,this.direction=m,this.axis=d,this.reveal=p}});S.exports=f},14811:S=>{S.exports={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19}},66064:(S,P,a)=>{var w=a(79291),T=a(14811),g={Barrel:a(20122),Controller:a(72898),Bloom:a(32251),Blur:a(9047),Bokeh:a(27885),Circle:a(12578),ColorMatrix:a(15802),Displacement:a(44553),Glow:a(68531),Gradient:a(37102),Pixelate:a(86886),Shadow:a(92322),Shine:a(39563),Vignette:a(56448),Wipe:a(38433)};g=w(!1,g,T),S.exports=g},25305:(S,P,a)=>{var w=a(10312),T=a(23568);S.exports=function(f,h,c){h.x=T(c,"x",0),h.y=T(c,"y",0),h.depth=T(c,"depth",0),h.flipX=T(c,"flipX",!1),h.flipY=T(c,"flipY",!1);var u=T(c,"scale",null);"number"==typeof u?h.setScale(u):null!==u&&(h.scaleX=T(u,"x",1),h.scaleY=T(u,"y",1));var m=T(c,"scrollFactor",null);"number"==typeof m?h.setScrollFactor(m):null!==m&&(h.scrollFactorX=T(m,"x",1),h.scrollFactorY=T(m,"y",1)),h.rotation=T(c,"rotation",0);var d=T(c,"angle",null);null!==d&&(h.angle=d),h.alpha=T(c,"alpha",1);var p=T(c,"origin",null);if("number"==typeof p)h.setOrigin(p);else if(null!==p){var v=T(p,"x",.5),x=T(p,"y",.5);h.setOrigin(v,x)}return h.blendMode=T(c,"blendMode",w.NORMAL),h.visible=T(c,"visible",!0),T(c,"add",!0)&&f.sys.displayList.add(h),h.preUpdate&&f.sys.updateList.add(h),h}},13059:(S,P,a)=>{var w=a(23568);S.exports=function(g,f){var h=w(f,"anims",null);if(null===h)return g;if("string"==typeof h)g.anims.play(h);else if("object"==typeof h){var c=g.anims,u=w(h,"key",void 0);if(u){var m=w(h,"startFrame",void 0),d=w(h,"delay",0),p=w(h,"repeat",0),v=w(h,"repeatDelay",0),x=w(h,"yoyo",!1),y=w(h,"play",!1),_=w(h,"delayedPlay",0),E={key:u,delay:d,repeat:p,repeatDelay:v,yoyo:x,startFrame:m};y?c.play(E):_>0?c.playAfterDelay(E,_):c.load(E)}}return g}},8050:(S,P,a)=>{var w=a(83419),T=a(73162),g=a(37277),f=a(51708),h=a(44594),c=a(19186),u=new w({Extends:T,initialize:function(d){T.call(this,d),this.sortChildrenFlag=!1,this.scene=d,this.systems=d.sys,this.events=d.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.events.once(h.DESTROY,this.destroy,this)},addChildCallback:function(m){m.displayList&&m.displayList!==this&&m.removeFromDisplayList(),m.parentContainer&&m.parentContainer.remove(m),m.displayList||(this.queueDepthSort(),m.displayList=this,m.emit(f.ADDED_TO_SCENE,m,this.scene),this.events.emit(h.ADDED_TO_SCENE,m,this.scene))},removeChildCallback:function(m){this.queueDepthSort(),m.displayList=null,m.emit(f.REMOVED_FROM_SCENE,m,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,m,this.scene)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(c(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(m,d){return m._depth-d._depth},getChildren:function(){return this.list},shutdown:function(){for(var m=this.list;m.length;)m[0].destroy(!0);this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});g.register("DisplayList",u,"displayList"),S.exports=u},95643:(S,P,a)=>{var w=a(83419),T=a(53774),g=a(45893),f=a(50792),h=a(51708),c=a(44594),u=new w({Extends:f,initialize:function(d,p){f.call(this),this.scene=d,this.displayList=null,this.type=p,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(h.ADDED_TO_SCENE,this.addedToScene,this),this.on(h.REMOVED_FROM_SCENE,this.removedFromScene,this),d.sys.queueDepthSort()},setActive:function(m){return this.active=m,this},setName:function(m){return this.name=m,this},setState:function(m){return this.state=m,this},setDataEnabled:function(){return this.data||(this.data=new g(this)),this},setData:function(m,d){return this.data||(this.data=new g(this)),this.data.set(m,d),this},incData:function(m,d){return this.data||(this.data=new g(this)),this.data.inc(m,d),this},toggleData:function(m){return this.data||(this.data=new g(this)),this.data.toggle(m),this},getData:function(m){return this.data||(this.data=new g(this)),this.data.get(m)},setInteractive:function(m,d,p){return this.scene.sys.input.enable(this,m,d,p),this},disableInteractive:function(m){return void 0===m&&(m=!1),this.scene.sys.input.disable(this,m),this},removeInteractive:function(m){return void 0===m&&(m=!1),this.scene.sys.input.clear(this),m&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return T(this)},willRender:function(m){return!(this.displayList&&this.displayList.active&&!this.displayList.willRender(m)||u.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&m.id)},getIndexList:function(){for(var m=this,d=this.parentContainer,p=[];d&&(p.unshift(d.getIndex(m)),m=d,d.parentContainer);)d=d.parentContainer;return p.unshift(this.displayList?this.displayList.getIndex(m):this.scene.sys.displayList.getIndex(m)),p},addToDisplayList:function(m){return void 0===m&&(m=this.scene.sys.displayList),this.displayList&&this.displayList!==m&&this.removeFromDisplayList(),m.exists(this)||(this.displayList=m,m.add(this,!0),m.queueDepthSort(),this.emit(h.ADDED_TO_SCENE,this,this.scene),m.events.emit(c.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var m=this.displayList||this.scene.sys.displayList;return m&&m.exists(this)&&(m.remove(this,!0),m.queueDepthSort(),this.displayList=null,this.emit(h.REMOVED_FROM_SCENE,this,this.scene),m.events.emit(c.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var m=null;return this.parentContainer?m=this.parentContainer.list:this.displayList&&(m=this.displayList.list),m},destroy:function(m){!this.scene||this.ignoreDestroy||(void 0===m&&(m=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(h.DESTROY,this,m),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});u.RENDER_MASK=15,S.exports=u},44603:(S,P,a)=>{var w=a(83419),T=a(37277),g=a(44594),f=new w({initialize:function(c){this.scene=c,this.systems=c.sys,this.events=c.sys.events,this.events.once(g.BOOT,this.boot,this),this.events.on(g.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(g.DESTROY,this.destroy,this)},start:function(){this.events.once(g.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(g.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(g.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});f.register=function(h,c){f.prototype.hasOwnProperty(h)||(f.prototype[h]=c)},f.remove=function(h){f.prototype.hasOwnProperty(h)&&delete f.prototype[h]},T.register("GameObjectCreator",f,"make"),S.exports=f},39429:(S,P,a)=>{var w=a(83419),T=a(37277),g=a(44594),f=new w({initialize:function(c){this.scene=c,this.systems=c.sys,this.events=c.sys.events,this.events.once(g.BOOT,this.boot,this),this.events.on(g.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(g.DESTROY,this.destroy,this)},start:function(){this.events.once(g.SHUTDOWN,this.shutdown,this)},existing:function(h){return(h.renderCanvas||h.renderWebGL)&&this.displayList.add(h),h.preUpdate&&this.updateList.add(h),h},shutdown:function(){this.events.off(g.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(g.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});f.register=function(h,c){f.prototype.hasOwnProperty(h)||(f.prototype[h]=c)},f.remove=function(h){f.prototype.hasOwnProperty(h)&&delete f.prototype[h]},T.register("GameObjectFactory",f,"add"),S.exports=f},91296:(S,P,a)=>{var w=a(61340),T=new w,g=new w,f=new w,h={camera:T,sprite:g,calc:f};S.exports=function(u,m,d){var p=T,v=g,x=f;return v.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),p.copyFrom(m.matrix),d?(p.multiplyWithOffset(d,-m.scrollX*u.scrollFactorX,-m.scrollY*u.scrollFactorY),v.e=u.x,v.f=u.y):(v.e-=m.scrollX*u.scrollFactorX,v.f-=m.scrollY*u.scrollFactorY),p.multiply(v,x),h}},45027:(S,P,a)=>{var w=a(83419),T=a(25774),g=a(37277),f=a(44594),h=new w({Extends:T,initialize:function(u){T.call(this),this.checkQueue=!0,this.scene=u,this.systems=u.sys,u.sys.events.once(f.BOOT,this.boot,this),u.sys.events.on(f.START,this.start,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){var c=this.systems.events;c.on(f.PRE_UPDATE,this.update,this),c.on(f.UPDATE,this.sceneUpdate,this),c.once(f.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(c,u){for(var m=this._active,d=m.length,p=0;p<d;p++){var v=m[p];v.active&&v.preUpdate.call(v,c,u)}},shutdown:function(){for(var c=this._active.length;c--;)this._active[c].destroy(!0);for(c=this._pending.length;c--;)this._pending[c].destroy(!0);for(c=this._destroy.length;c--;)this._destroy[c].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var u=this.systems.events;u.off(f.PRE_UPDATE,this.update,this),u.off(f.UPDATE,this.sceneUpdate,this),u.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});g.register("UpdateList",h,"updateList"),S.exports=h},3217:S=>{S.exports=function(a,w,T,g,f,h,c,u,m,d,p,v,x,y,_){var E=T.x-w.displayOriginX+f,A=T.y-w.displayOriginY+h,M=E+T.w,I=A+T.h,k=c.a,F=c.b,N=c.c,V=c.d,B=c.e,H=c.f,Q=E*k+A*N+B,G=E*F+A*V+H,K=E*k+I*N+B,tt=E*F+I*V+H,at=M*k+I*N+B,lt=M*F+I*V+H,J=M*k+A*N+B,it=M*F+A*V+H;u&&(Q=Math.round(Q),G=Math.round(G),K=Math.round(K),tt=Math.round(tt),at=Math.round(at),lt=Math.round(lt),J=Math.round(J),it=Math.round(it)),a.batchQuad(w,Q,G,K,tt,at,lt,J,it,g.u0,g.v0,g.u1,g.v1,m,d,p,v,x,y,_)}},53048:S=>{S.exports=function(a,w,T,g){if(void 0===T&&(T=!1),void 0===g)return{local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0};var Y,j,nt,f=a.text,h=f.length,c=a.maxWidth,u=a.wordWrapCharCode,m=Number.MAX_VALUE,d=Number.MAX_VALUE,p=0,v=0,x=a.fontData.chars,y=a.fontData.lineHeight,_=a.letterSpacing,E=a.lineSpacing,A=0,M=0,I=0,k=null,F=a._align,N=0,V=0,B=a.fontSize/a.fontData.size,H=B*a.scaleX,Q=B*a.scaleY,G=null,K=0,tt=[],at=Number.MAX_VALUE,lt=0,J=0,it=0,ht=[],gt=[],wt=null,St=function(Fr,cs){for(var Dn=0,xr=0;xr<Fr.length;xr++){var ts=Fr.charCodeAt(xr),Xs=cs.chars[ts];Xs&&(Dn+=Xs.xAdvance)}return Dn*H};if(c>0){nt=f.split("\n");var Bt=[];for(Y=0;Y<nt.length;Y++){var Yt=nt[Y],$t="",qt="",ne="",le="";for(j=0;j<Yt.length;j++)I=Yt.charCodeAt(j),$t+=Yt[j],(I===u||j===Yt.length-1)&&(St(le=ne+$t,a.fontData)<=c?ne=le:(qt=qt.slice(0,-1),qt+=(qt?"\n":"")+ne,ne=$t),$t="");qt=qt.slice(0,-1),Bt.push(qt+=(qt?"\n":"")+ne)}f=Bt.join("\n"),g.wrappedText=f,h=f.length}var pi=0;for(Y=0;Y<h;Y++)if(10!==(I=f.charCodeAt(Y))){if(k=x[I]){if(N=A,null!==G){var Ie=k.kerning[K];N+=void 0!==Ie?Ie:0}m>N&&(m=N),d>(V=M)&&(d=V);var _i=N+k.xAdvance,we=V+y;p<_i&&(p=_i),v<we&&(v=we);var ri=k.xOffset+k.xAdvance+(void 0!==Ie?Ie:0);I===u?null!==wt&&(ht.push({word:wt.word,i:wt.i,x:wt.x*H,y:wt.y*Q,w:wt.w*H,h:wt.h*Q}),wt=null):(null===wt&&(wt={word:"",i:pi,x:A,y:M,w:0,h:y}),wt.word=wt.word.concat(f[Y]),wt.w+=ri),gt.push({i:pi,idx:Y,char:f[Y],code:I,x:(k.xOffset+N)*B,y:(k.yOffset+M)*B,w:k.width*B,h:k.height*B,t:M*B,r:_i*B,b:y*B,line:J,glyph:k}),A+=k.xAdvance+_+(void 0!==Ie?Ie:0),G=k,K=I,it=_i*B,pi++}}else null!==wt&&(ht.push({word:wt.word,i:wt.i,x:wt.x*H,y:wt.y*Q,w:wt.w*H,h:wt.h*Q}),wt=null),G=null,tt[J]=it,it>lt&&(lt=it),it<at&&(at=it),it=0,A=0,M=(y+E)*++J;if(null!==wt&&ht.push({word:wt.word,i:wt.i,x:wt.x*H,y:wt.y*Q,w:wt.w*H,h:wt.h*Q}),tt[J]=it,it>lt&&(lt=it),it<at&&(at=it),F>0)for(var Ze=0;Ze<gt.length;Ze++){var zi=gt[Ze];if(1===F){var Cn=(lt-tt[zi.line])/2;zi.x+=Cn,zi.r+=Cn}else if(2===F){var sr=lt-tt[zi.line];zi.x+=sr,zi.r+=sr}}var vn=g.local,bn=g.global;return nt=g.lines,vn.x=m*B,vn.y=d*B,vn.width=p*B,vn.height=v*B,bn.x=a.x-a._displayOriginX+m*H,bn.y=a.y-a._displayOriginY+d*Q,bn.width=p*H,bn.height=v*Q,nt.shortest=at,nt.longest=lt,nt.lengths=tt,w&&(vn.x=Math.ceil(vn.x),vn.y=Math.ceil(vn.y),vn.width=Math.ceil(vn.width),vn.height=Math.ceil(vn.height),bn.x=Math.ceil(bn.x),bn.y=Math.ceil(bn.y),bn.width=Math.ceil(bn.width),bn.height=Math.ceil(bn.height),nt.shortest=Math.ceil(at),nt.longest=Math.ceil(lt)),T&&(a._displayOriginX=a.originX*vn.width,a._displayOriginY=a.originY*vn.height,bn.x=a.x-a._displayOriginX*a.scaleX,bn.y=a.y-a._displayOriginY*a.scaleY,w&&(bn.x=Math.ceil(bn.x),bn.y=Math.ceil(bn.y))),g.words=ht,g.characters=gt,g.lines.height=y,g.scale=B,g.scaleX=a.scaleX,g.scaleY=a.scaleY,g}},61327:(S,P,a)=>{var w=a(21859);S.exports=function(g,f,h,c,u,m,d){var p=g.sys.textures.get(h),v=p.get(c),x=g.sys.cache.xml.get(u);if(v&&x){var y=w(x,v,m,d,p);return g.sys.cache.bitmapFont.add(f,{data:y,texture:h,frame:c,fromAtlas:!0}),!0}return!1}},6925:(S,P,a)=>{var w=a(35154);S.exports=function(g,f){var h=f.width,c=f.height,u=Math.floor(h/2),m=Math.floor(c/2),d=w(f,"chars","");if(""!==d){var p=w(f,"image",""),v=g.sys.textures.getFrame(p),x=v.cutX,y=v.cutY,_=v.source.width,E=v.source.height,A=w(f,"offset.x",0),M=w(f,"offset.y",0),I=w(f,"spacing.x",0),k=w(f,"spacing.y",0),F=w(f,"lineSpacing",0),N=w(f,"charsPerRow",null);null===N&&(N=_/h)>d.length&&(N=d.length);for(var V=A,B=M,H={retroFont:!0,font:p,size:h,lineHeight:c+F,chars:{}},Q=0,G=0;G<d.length;G++){var K=d.charCodeAt(G);H.chars[K]={x:V,y:B,width:h,height:c,centerX:u,centerY:m,xOffset:0,yOffset:0,xAdvance:h,data:{},kerning:{},u0:(x+V)/_,v0:(y+B)/E,u1:(x+V+h)/_,v1:(y+B+c)/E},++Q===N?(Q=0,V=A,B+=c+k):V+=h+I}return{data:H,frame:null,texture:p}}}},21859:S=>{function P(w,T){return parseInt(w.getAttribute(T),10)}S.exports=function(w,T,g,f,h){void 0===g&&(g=0),void 0===f&&(f=0);var c=T.cutX,u=T.cutY,m=T.source.width,d=T.source.height,p=T.sourceIndex,v={},x=w.getElementsByTagName("info")[0],y=w.getElementsByTagName("common")[0];v.font=x.getAttribute("face"),v.size=P(x,"size"),v.lineHeight=P(y,"lineHeight")+f,v.chars={};var _=w.getElementsByTagName("char"),E=void 0!==T&&T.trimmed;if(E)var A=T.height,M=T.width;for(var I=0;I<_.length;I++){var k=_[I],F=P(k,"id"),N=String.fromCharCode(F),V=P(k,"x"),B=P(k,"y"),H=P(k,"width"),Q=P(k,"height");E&&(V<M&&(M=V),B<A&&(A=B)),E&&0!==A&&0!==M&&(V-=T.x,B-=T.y);var G=(c+V)/m,K=(u+B)/d,tt=(c+V+H)/m,at=(u+B+Q)/d;if(v.chars[F]={x:V,y:B,width:H,height:Q,centerX:Math.floor(H/2),centerY:Math.floor(Q/2),xOffset:P(k,"xoffset"),yOffset:P(k,"yoffset"),xAdvance:P(k,"xadvance")+g,data:{},kerning:{},u0:G,v0:K,u1:tt,v1:at},h&&0!==H&&0!==Q){var lt=h.add(N,p,V,B,H,Q);lt&&lt.setUVs(H,Q,G,K,tt,at)}}var J=w.getElementsByTagName("kerning");for(I=0;I<J.length;I++){var it=J[I],Y=P(it,"first"),j=P(it,"second"),nt=P(it,"amount");v.chars[j].kerning[Y]=nt}return v}},196:(S,P,a)=>{var w=a(87662),T=a(79291),g={Parse:a(6925)};g=T(!1,g,w),S.exports=g},87662:S=>{S.exports={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"}},2638:(S,P,a)=>{var w=a(22186),T=a(83419),g=a(12310),f=new T({Extends:w,Mixins:[g],initialize:function(c,u,m,d,p,v,x){w.call(this,c,u,m,d,p,v,x),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(h,c){return this.cropWidth=h,this.cropHeight=c,this},setDisplayCallback:function(h){return this.displayCallback=h,this},setScrollX:function(h){return this.scrollX=h,this},setScrollY:function(h){return this.scrollY=h,this}});S.exports=f},86741:(S,P,a)=>{var w=a(20926);S.exports=function(g,f,h,c){var u=f._text,m=u.length,d=g.currentContext;if(0!==m&&w(g,d,f,h,c)){h.addToRenderList(f);var p=f.fromAtlas?f.frame:f.texture.frames.__BASE,v=f.displayCallback,x=f.callbackData,y=f.fontData.chars,_=f.fontData.lineHeight,E=f._letterSpacing,A=0,M=0,I=0,k=null,F=0,N=0,V=0,B=0,H=0,Q=0,G=null,K=0,tt=f.frame.source.image,at=p.cutX,lt=p.cutY,J=0,it=0,Y=f._fontSize/f.fontData.size,j=f._align,nt=0,ht=0;f.getTextBounds(!1);var gt=f._bounds.lines;1===j?ht=(gt.longest-gt.lengths[0])/2:2===j&&(ht=gt.longest-gt.lengths[0]),d.translate(-f.displayOriginX,-f.displayOriginY);var wt=h.roundPixels;f.cropWidth>0&&f.cropHeight>0&&(d.beginPath(),d.rect(0,0,f.cropWidth,f.cropHeight),d.clip());for(var St=0;St<m;St++)if(it=Y,J=0,10!==(I=u.charCodeAt(St))){if(k=y[I]){if(F=at+k.x,N=lt+k.y,V=k.width,B=k.height,H=k.xOffset+A-f.scrollX,Q=k.yOffset+M-f.scrollY,null!==G){var Bt=k.kerning[K];H+=void 0!==Bt?Bt:0}if(v){x.index=St,x.charCode=I,x.x=H,x.y=Q,x.scale=it,x.rotation=J,x.data=k.data;var Yt=v(x);H=Yt.x,Q=Yt.y,it=Yt.scale,J=Yt.rotation}H*=it,Q*=it,H+=ht,A+=k.xAdvance+E+(void 0!==Bt?Bt:0),G=k,K=I,0!==V&&0!==B&&32!==I&&(wt&&(H=Math.round(H),Q=Math.round(Q)),d.save(),d.translate(H,Q),d.rotate(J),d.scale(it,it),d.drawImage(tt,F,N,V,B,0,0,V,B),d.restore())}}else nt++,1===j?ht=(gt.longest-gt.lengths[nt])/2:2===j&&(ht=gt.longest-gt.lengths[nt]),A=0,M+=_,G=null;d.restore()}}},11164:(S,P,a)=>{var w=a(2638),T=a(25305),g=a(44603),f=a(23568);g.register("dynamicBitmapText",function(h,c){void 0===h&&(h={});var u=f(h,"font",""),m=f(h,"text",""),d=f(h,"size",!1),p=new w(this.scene,0,0,u,m,d);return void 0!==c&&(h.add=c),T(this.scene,p,h),p})},72566:(S,P,a)=>{var w=a(2638);a(39429).register("dynamicBitmapText",function(g,f,h,c,u){return this.displayList.add(new w(this.scene,g,f,h,c,u))})},12310:(S,P,a)=>{var T,g;a(29747),T=a(73482),g=a(86741),S.exports={renderWebGL:T,renderCanvas:g}},73482:(S,P,a)=>{var w=a(91296),T=a(61340),g=a(70554),f=new T;S.exports=function(c,u,m,d){var p=u.text,v=p.length;if(0!==v){m.addToRenderList(u);var x=c.pipelines.set(u.pipeline,u),y=w(u,m,d);c.pipelines.preBatch(u);var _=y.sprite,E=y.calc,A=f,M=u.cropWidth>0||u.cropHeight>0;M&&(x.flush(),c.pushScissor(E.tx,E.ty,u.cropWidth*E.scaleX,u.cropHeight*E.scaleY));var J,j,k=u.frame.glTexture,F=u.tintFill,N=g.getTintAppendFloatAlpha(u.tintTopLeft,m.alpha*u._alphaTL),V=g.getTintAppendFloatAlpha(u.tintTopRight,m.alpha*u._alphaTR),B=g.getTintAppendFloatAlpha(u.tintBottomLeft,m.alpha*u._alphaBL),H=g.getTintAppendFloatAlpha(u.tintBottomRight,m.alpha*u._alphaBR),Q=x.setGameObject(u),G=0,K=0,tt=0,at=0,lt=u.letterSpacing,it=0,Y=0,nt=u.scrollX,ht=u.scrollY,gt=u.fontData,wt=gt.chars,St=gt.lineHeight,Bt=u.fontSize/gt.size,Yt=0,$t=u._align,qt=0,ne=0,le=u.getTextBounds(!1);u.maxWidth>0&&(v=(p=le.wrappedText).length);var Me=u._bounds.lines;1===$t?ne=(Me.longest-Me.lengths[0])/2:2===$t&&(ne=Me.longest-Me.lengths[0]);for(var pi=m.roundPixels,Ie=u.displayCallback,_i=u.callbackData,we=0;we<v;we++)if(10!==(tt=p.charCodeAt(we))){if(J=wt[tt]){Y=J.height;var ri=J.xOffset+G-nt,Ze=J.yOffset+K-ht;if(null!==j){var zi=J.kerning[at]||0;ri+=zi,G+=zi}if(G+=J.xAdvance+lt,j=J,at=tt,0!==(it=J.width)&&0!==Y&&32!==tt){if(Bt=u.fontSize/u.fontData.size,Yt=0,Ie){_i.color=0,_i.tint.topLeft=N,_i.tint.topRight=V,_i.tint.bottomLeft=B,_i.tint.bottomRight=H,_i.index=we,_i.charCode=tt,_i.x=ri,_i.y=Ze,_i.scale=Bt,_i.rotation=Yt,_i.data=J.data;var Cn=Ie(_i);ri=Cn.x,Ze=Cn.y,Bt=Cn.scale,Yt=Cn.rotation,Cn.color?(N=Cn.color,V=Cn.color,B=Cn.color,H=Cn.color):(N=Cn.tint.topLeft,V=Cn.tint.topRight,B=Cn.tint.bottomLeft,H=Cn.tint.bottomRight),N=g.getTintAppendFloatAlpha(N,m.alpha*u._alphaTL),V=g.getTintAppendFloatAlpha(V,m.alpha*u._alphaTR),B=g.getTintAppendFloatAlpha(B,m.alpha*u._alphaBL),H=g.getTintAppendFloatAlpha(H,m.alpha*u._alphaBR)}ri*=Bt,Ze*=Bt,ri-=u.displayOriginX,A.applyITRS(ri+=ne,Ze-=u.displayOriginY,Yt,Bt,Bt),E.multiply(A,_);var sr=J.u0,vn=J.v0,bn=J.u1,Fr=J.v1,xr=_.e,ts=_.f,Xs=Y*_.c+_.e,Od=Y*_.d+_.f,uc=it*_.a+Y*_.c+_.e,Ld=it*_.b+Y*_.d+_.f,Ho=it*_.a+_.e,Bl=it*_.b+_.f;pi&&(xr=Math.round(xr),ts=Math.round(ts),Xs=Math.round(Xs),Od=Math.round(Od),uc=Math.round(uc),Ld=Math.round(Ld),Ho=Math.round(Ho),Bl=Math.round(Bl)),x.shouldFlush(6)&&(x.flush(),Q=x.setGameObject(u)),x.batchQuad(u,xr,ts,Xs,Od,uc,Ld,Ho,Bl,sr,vn,bn,Fr,N,V,B,H,F,k,Q)}}}else qt++,1===$t?ne=(Me.longest-Me.lengths[qt])/2:2===$t&&(ne=Me.longest-Me.lengths[qt]),G=0,K+=St,j=null;M&&(x.flush(),c.popScissor()),c.pipelines.postBatch(u)}}},22186:(S,P,a)=>{var w=a(83419),T=a(45319),g=a(31401),f=a(95643),h=a(53048),c=a(61327),u=a(21859),m=a(87841),d=a(18658),p=new w({Extends:f,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Tint,g.Transform,g.Visible,d],initialize:function(x,y,_,E,A,M,I){void 0===A&&(A=""),void 0===I&&(I=0),f.call(this,x,"BitmapText"),this.font=E;var k=this.scene.sys.cache.bitmapFont.get(E);if(!k)throw new Error("Invalid BitmapText key: "+E);this.fontData=k.data,this._text="",this._fontSize=M||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=I,this._bounds=h(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=k.fromAtlas,this.setTexture(k.texture,k.frame),this.setPosition(y,_),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(A)},setLeftAlign:function(){return this._align=p.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=p.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=p.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(v){return this._fontSize=v,this._dirty=!0,this},setLetterSpacing:function(v){return void 0===v&&(v=0),this._letterSpacing=v,this._dirty=!0,this},setLineSpacing:function(v){return void 0===v&&(v=0),this.lineSpacing=v,this},setText:function(v){return!v&&0!==v&&(v=""),Array.isArray(v)&&(v=v.join("\n")),v!==this.text&&(this._text=v.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(v,x,y,_){return void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=0),void 0===_&&(_=.5),this.dropShadowX=v,this.dropShadowY=x,this.dropShadowColor=y,this.dropShadowAlpha=_,this},setCharacterTint:function(v,x,y,_,E,A,M){void 0===v&&(v=0),void 0===x&&(x=1),void 0===y&&(y=!1),void 0===_&&(_=-1),void 0===E&&(E=_,A=_,M=_);var I=this.text.length;-1===x&&(x=I),v<0&&(v=I+v),v=T(v,0,I-1);for(var k=T(v+x,v,I),F=this.charColors,N=v;N<k;N++){var V=F[N];if(-1===_)F[N]=null;else{var B=y?1:0;V?(V.tintEffect=B,V.tintTL=_,V.tintTR=E,V.tintBL=A,V.tintBR=M):F[N]={tintEffect:B,tintTL:_,tintTR:E,tintBL:A,tintBR:M}}}return this},setWordTint:function(v,x,y,_,E,A,M){void 0===x&&(x=1);for(var k=this.getTextBounds().words,F="number"==typeof v,N=0,V=0;V<k.length;V++){var B=k[V];if((F&&V===v||!F&&B.word===v)&&(this.setCharacterTint(B.i,B.word.length,y,_,E,A,M),++N===x))return this}return this},getTextBounds:function(v){var x=this._bounds;return(this._dirty||v||this.scaleX!==x.scaleX||this.scaleY!==x.scaleY)&&(h(this,v,!0,x),this._dirty=!1),x},getCharacterAt:function(v,x,y){for(var _=this.getLocalPoint(v,x,null,y),A=this.getTextBounds().characters,M=new m,I=0;I<A.length;I++){var k=A[I];if(M.setTo(k.x,k.t,k.r-k.x,k.b),M.contains(_.x,_.y))return k}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(v,x,y){void 0===x&&(x=this._fontSize),void 0===y&&(y=this._align);var _=this.scene.sys.cache.bitmapFont.get(v);return _&&(this.font=v,this.fontData=_.data,this._fontSize=x,this._align=y,this.fromAtlas=!0===_.fromAtlas,this.setTexture(_.texture,_.frame),h(this,!1,!0,this._bounds)),this},setMaxWidth:function(v,x){return this._maxWidth=v,this._dirty=!0,void 0!==x&&(this.wordWrapCharCode=x),this},align:{set:function(v){this._align=v,this._dirty=!0},get:function(){return this._align}},text:{set:function(v){this.setText(v)},get:function(){return this._text}},fontSize:{set:function(v){this._fontSize=v,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(v){this._letterSpacing=v,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(v){this._lineSpacing=v,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(v){this._maxWidth=v,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var v=g.ToJSON(this);return v.data={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align},v},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});p.ALIGN_LEFT=0,p.ALIGN_CENTER=1,p.ALIGN_RIGHT=2,p.ParseFromAtlas=c,p.ParseXMLBitmapFont=u,S.exports=p},37289:(S,P,a)=>{var w=a(20926);S.exports=function(g,f,h,c){var u=f._text,m=u.length,d=g.currentContext;if(0!==m&&w(g,d,f,h,c)){h.addToRenderList(f);var p=f.fromAtlas?f.frame:f.texture.frames.__BASE,v=f.fontData.chars,x=f.fontData.lineHeight,y=f._letterSpacing,_=f._lineSpacing,E=0,A=0,M=0,I=null,k=0,F=0,N=0,V=0,B=0,H=0,Q=null,G=0,K=p.source.image,tt=p.cutX,at=p.cutY,lt=f._fontSize/f.fontData.size,J=f._align,it=0,Y=0,j=f.getTextBounds(!1);f.maxWidth>0&&(m=(u=j.wrappedText).length);var nt=f._bounds.lines;1===J?Y=(nt.longest-nt.lengths[0])/2:2===J&&(Y=nt.longest-nt.lengths[0]),d.translate(-f.displayOriginX,-f.displayOriginY);for(var ht=h.roundPixels,gt=0;gt<m;gt++)if(10!==(M=u.charCodeAt(gt))){if(I=v[M]){if(k=tt+I.x,F=at+I.y,V=I.height,B=I.xOffset+E,H=I.yOffset+A,null!==Q){var wt=I.kerning[G];B+=void 0!==wt?wt:0}B*=lt,H*=lt,B+=Y,E+=I.xAdvance+y+(void 0!==wt?wt:0),Q=I,G=M,0!==(N=I.width)&&0!==V&&32!==M&&(ht&&(B=Math.round(B),H=Math.round(H)),d.save(),d.translate(B,H),d.scale(lt,lt),d.drawImage(K,k,F,N,V,0,0,N,V),d.restore())}}else it++,1===J?Y=(nt.longest-nt.lengths[it])/2:2===J&&(Y=nt.longest-nt.lengths[it]),E=0,A+=x+_,Q=null;d.restore()}}},57336:(S,P,a)=>{var w=a(22186),T=a(25305),g=a(44603),f=a(23568),h=a(35154);g.register("bitmapText",function(c,u){void 0===c&&(c={});var m=h(c,"font",""),d=f(c,"text",""),p=f(c,"size",!1),v=h(c,"align",0),x=new w(this.scene,0,0,m,d,p,v);return void 0!==u&&(c.add=u),T(this.scene,x,c),x})},34914:(S,P,a)=>{var w=a(22186);a(39429).register("bitmapText",function(g,f,h,c,u,m){return this.displayList.add(new w(this.scene,g,f,h,c,u,m))})},18658:(S,P,a)=>{var T,g;a(29747),T=a(33590),g=a(37289),S.exports={renderWebGL:T,renderCanvas:g}},33590:(S,P,a)=>{var w=a(3217),T=a(91296),g=a(70554);S.exports=function(h,c,u,m){if(0!==c._text.length){u.addToRenderList(c);var v=h.pipelines.set(c.pipeline,c),x=T(c,u,m).calc;h.pipelines.preBatch(c);var Q,G,K,y=u.roundPixels,_=u.alpha,E=c.charColors,A=c.tintFill,M=g.getTintAppendFloatAlpha,I=M(c.tintTopLeft,_*c._alphaTL),k=M(c.tintTopRight,_*c._alphaTR),F=M(c.tintBottomLeft,_*c._alphaBL),N=M(c.tintBottomRight,_*c._alphaBR),V=c.frame.glTexture,B=v.setGameObject(c),tt=c.getTextBounds(!1).characters,at=c.dropShadowX,lt=c.dropShadowY;if(0!==at||0!==lt){var it=c.dropShadowColor,Y=c.dropShadowAlpha,j=M(it,_*Y*c._alphaTL),nt=M(it,_*Y*c._alphaTR),ht=M(it,_*Y*c._alphaBL),gt=M(it,_*Y*c._alphaBR);for(Q=0;Q<tt.length;Q++)K=(G=tt[Q]).glyph,32!==G.code&&0!==K.width&&0!==K.height&&w(v,c,G,K,at,lt,x,y,j,nt,ht,gt,1,V,B)}for(Q=0;Q<tt.length;Q++)if(K=(G=tt[Q]).glyph,32!==G.code&&0!==K.width&&0!==K.height)if(v.shouldFlush(6)&&(v.flush(),B=v.setGameObject(c)),E[G.i]){var wt=E[G.i],St=wt.tintEffect,Bt=M(wt.tintTL,_*c._alphaTL),Yt=M(wt.tintTR,_*c._alphaTR),$t=M(wt.tintBL,_*c._alphaBL),qt=M(wt.tintBR,_*c._alphaBR);w(v,c,G,K,0,0,x,y,Bt,Yt,$t,qt,St,V,B)}else w(v,c,G,K,0,0,x,y,I,k,F,N,A,V,B);h.pipelines.postBatch(c)}}},6107:(S,P,a)=>{var w=a(48011),T=a(46590),g=a(83419),f=a(31401),h=a(4327),c=a(95643),u=a(73162),m=new g({Extends:c,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Mask,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Size,f.Texture,f.Transform,f.Visible,w],initialize:function(p,v,x,y,_){c.call(this,p,"Blitter"),this.setTexture(y,_),this.setPosition(v,x),this.initPipeline(),this.initPostPipeline(),this.children=new u,this.renderList=[],this.dirty=!1},create:function(d,p,v,x,y){void 0===x&&(x=!0),void 0===y&&(y=this.children.length),void 0===v?v=this.frame:v instanceof h||(v=this.texture.get(v));var _=new T(this,d,p,v,x);return this.children.addAt(_,y,!1),this.dirty=!0,_},createFromCallback:function(d,p,v,x){for(var y=this.createMultiple(p,v,x),_=0;_<y.length;_++)d.call(this,y[_],_);return y},createMultiple:function(d,p,v){void 0===p&&(p=this.frame.name),void 0===v&&(v=!0),Array.isArray(p)||(p=[p]);var x=[],y=this;return p.forEach(function(_){for(var E=0;E<d;E++)x.push(y.create(0,0,_,v))}),x},childCanRender:function(d){return d.visible&&d.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});S.exports=m},72396:S=>{S.exports=function(a,w,T,g){var f=w.getRenderList();if(0!==f.length){var h=a.currentContext,c=T.alpha*w.alpha;if(0!==c){T.addToRenderList(w),h.globalCompositeOperation=a.blendModes[w.blendMode],h.imageSmoothingEnabled=!w.frame.source.scaleMode;var u=w.x-T.scrollX*w.scrollFactorX,m=w.y-T.scrollY*w.scrollFactorY;h.save(),g&&g.copyToContext(h);for(var d=T.roundPixels,p=0;p<f.length;p++){var v=f[p],x=v.flipX||v.flipY,y=v.frame,_=y.canvasData,E=y.x,A=y.y,M=1,I=1,k=v.alpha*c;0!==k&&(h.globalAlpha=k,x?(v.flipX&&(M=-1,E-=_.width),v.flipY&&(I=-1,A-=_.height),_.width>0&&_.height>0&&(h.save(),h.translate(v.x+u,v.y+m),h.scale(M,I),h.drawImage(y.source.image,_.x,_.y,_.width,_.height,E,A,_.width,_.height),h.restore())):(d&&(E=Math.round(E),A=Math.round(A)),_.width>0&&_.height>0&&h.drawImage(y.source.image,_.x,_.y,_.width,_.height,E+v.x+u,A+v.y+m,_.width,_.height)))}h.restore()}}}},9403:(S,P,a)=>{var w=a(6107),T=a(25305),g=a(44603),f=a(23568);g.register("blitter",function(h,c){void 0===h&&(h={});var u=f(h,"key",null),m=f(h,"frame",null),d=new w(this.scene,0,0,u,m);return void 0!==c&&(h.add=c),T(this.scene,d,h),d})},12709:(S,P,a)=>{var w=a(6107);a(39429).register("blitter",function(g,f,h,c){return this.displayList.add(new w(this.scene,g,f,h,c))})},48011:(S,P,a)=>{var T,g;a(29747),T=a(99485),g=a(72396),S.exports={renderWebGL:T,renderCanvas:g}},99485:(S,P,a)=>{var w=a(61340),T=a(70554),g=new w;S.exports=function(h,c,u,m){var d=c.getRenderList(),p=u.alpha*c.alpha;if(0!==d.length&&0!==p){u.addToRenderList(c);var v=h.pipelines.set(this.pipeline,c),x=u.scrollX*c.scrollFactorX,y=u.scrollY*c.scrollFactorY,_=g.copyFrom(u.matrix);m&&(_.multiplyWithOffset(m,-x,-y),x=0,y=0);var E=c.x-x,A=c.y-y,M=-1,k=u.roundPixels;h.pipelines.preBatch(c);for(var F=0;F<d.length;F++){var N=d[F],V=N.frame,B=N.alpha*p;if(0!==B){var H=V.width,Q=V.height,G=E+N.x+V.x,K=A+N.y+V.y;N.flipX&&(H*=-1,G+=V.width),N.flipY&&(Q*=-1,K+=V.height);var tt=_.setQuad(G,K,G+H,K+Q,k),at=T.getTintAppendFloatAlpha(N.tint,B);if(V.sourceIndex!==M){var lt=v.setGameObject(c,V);M=V.sourceIndex}v.batchQuad(c,tt[0],tt[1],tt[2],tt[3],tt[4],tt[5],tt[6],tt[7],V.u0,V.v0,V.u1,V.v1,at,at,at,at,!1,V.glTexture,lt)&&(M=-1)}}h.pipelines.postBatch(c)}}},46590:(S,P,a)=>{var w=a(83419),T=a(4327),g=new w({initialize:function(h,c,u,m,d){this.parent=h,this.x=c,this.y=u,this.frame=m,this.data={},this.tint=16777215,this._visible=d,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(f){return this.frame=void 0===f?this.parent.frame:f instanceof T&&f.texture===this.parent.texture?f:this.parent.texture.get(f),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(f,h,c){return this.x=f,this.y=h,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,c&&this.setFrame(c),this},setPosition:function(f,h){return this.x=f,this.y=h,this},setFlipX:function(f){return this.flipX=f,this},setFlipY:function(f){return this.flipY=f,this},setFlip:function(f,h){return this.flipX=f,this.flipY=h,this},setVisible:function(f){return this.visible=f,this},setAlpha:function(f){return this.alpha=f,this},setTint:function(f){return this.tint=f,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(f){this.parent.dirty|=this._visible!==f,this._visible=f}},alpha:{get:function(){return this._alpha},set:function(f){this.parent.dirty|=this._alpha>0!=f>0,this._alpha=f}}});S.exports=g},16005:(S,P,a)=>{var w=a(45319);S.exports={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(f,h,c,u){return void 0===f&&(f=1),void 0===h?this.alpha=f:(this._alphaTL=w(f,0,1),this._alphaTR=w(h,0,1),this._alphaBL=w(c,0,1),this._alphaBR=w(u,0,1)),this},alpha:{get:function(){return this._alpha},set:function(f){var h=w(f,0,1);this._alpha=h,this._alphaTL=h,this._alphaTR=h,this._alphaBL=h,this._alphaBR=h,0===h?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(f){var h=w(f,0,1);this._alphaTL=h,0!==h&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(f){var h=w(f,0,1);this._alphaTR=h,0!==h&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(f){var h=w(f,0,1);this._alphaBL=h,0!==h&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(f){var h=w(f,0,1);this._alphaBR=h,0!==h&&(this.renderFlags|=2)}}}},88509:(S,P,a)=>{var w=a(45319);S.exports={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(f){return void 0===f&&(f=1),this.alpha=f,this},alpha:{get:function(){return this._alpha},set:function(f){var h=w(f,0,1);this._alpha=h,0===h?this.renderFlags&=-3:this.renderFlags|=2}}}},90065:(S,P,a)=>{var w=a(10312);S.exports={_blendMode:w.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(g){"string"==typeof g&&(g=w[g]),(g|=0)>=-1&&(this._blendMode=g)}},setBlendMode:function(g){return this.blendMode=g,this}}},94215:S=>{S.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}},setSize:function(a,w){return this.width=a,this.height=w,this},setDisplaySize:function(a,w){return this.displayWidth=a,this.displayHeight=w,this}}},61683:S=>{S.exports={texture:null,frame:null,isCropped:!1,setCrop:function(a,w,T,g){return void 0===a?this.isCropped=!1:this.frame&&("number"==typeof a?this.frame.setCropUVs(this._crop,a,w,T,g,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY),this.isCropped=!0),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},89272:(S,P,a)=>{var w=a(37105);S.exports={_depth:0,depth:{get:function(){return this._depth},set:function(g){this.displayList&&this.displayList.queueDepthSort(),this._depth=g}},setDepth:function(g){return void 0===g&&(g=0),this.depth=g,this},setToTop:function(){var g=this.getDisplayList();return g&&w.BringToTop(g,this),this},setToBack:function(){var g=this.getDisplayList();return g&&w.SendToBack(g,this),this},setAbove:function(g){var f=this.getDisplayList();return f&&g&&w.MoveAbove(f,this,g),this},setBelow:function(g){var f=this.getDisplayList();return f&&g&&w.MoveBelow(f,this,g),this}}},47059:(S,P,a)=>{var w=a(83419),T=a(66064),g=a(19133),f=new w({initialize:function(c,u){this.gameObject=c,this.isPost=u,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(h){return void 0===h&&(h=0),this.padding=h,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(h){if(!this.isPost){var c=this.gameObject.scene.sys.renderer;c&&c.pipelines?(this.gameObject.pipeline=c.pipelines.FX_PIPELINE,void 0!==h&&(this.padding=h),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var h=this.list,c=0;c<h.length;c++)h[c].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(h){var c;if(this.isPost){var u=this.gameObject.getPostPipeline(String(h.type));for(Array.isArray(u)||(u=[u]),c=0;c<u.length;c++){var m=u[c];if(m.controller===h){this.gameObject.removePostPipeline(m),h.destroy();break}}}else{var d=this.list;for(c=0;c<d.length;c++)d[c]===h&&(g(d,c),h.destroy())}return this.gameObject},disable:function(h){return void 0===h&&(h=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,h&&this.clear(),this.gameObject},add:function(h,c){if(!this.isPost)return this.enabled||this.enable(),this.list.push(h),h;var u=String(h.type);this.gameObject.setPostPipeline(u,c);var m=this.gameObject.getPostPipeline(u);return m?(Array.isArray(m)&&(m=m.pop()),m&&(m.controller=h),h):void 0},addGlow:function(h,c,u,m,d,p){return this.add(new T.Glow(this.gameObject,h,c,u,m),{quality:d,distance:p})},addShadow:function(h,c,u,m,d,p,v){return this.add(new T.Shadow(this.gameObject,h,c,u,m,d,p,v))},addPixelate:function(h){return this.add(new T.Pixelate(this.gameObject,h))},addVignette:function(h,c,u,m){return this.add(new T.Vignette(this.gameObject,h,c,u,m))},addShine:function(h,c,u,m){return this.add(new T.Shine(this.gameObject,h,c,u,m))},addBlur:function(h,c,u,m,d,p){return this.add(new T.Blur(this.gameObject,h,c,u,m,d,p))},addGradient:function(h,c,u,m,d,p,v,x){return this.add(new T.Gradient(this.gameObject,h,c,u,m,d,p,v,x))},addBloom:function(h,c,u,m,d,p){return this.add(new T.Bloom(this.gameObject,h,c,u,m,d,p))},addColorMatrix:function(){return this.add(new T.ColorMatrix(this.gameObject))},addCircle:function(h,c,u,m,d){return this.add(new T.Circle(this.gameObject,h,c,u,m,d))},addBarrel:function(h){return this.add(new T.Barrel(this.gameObject,h))},addDisplacement:function(h,c,u){return this.add(new T.Displacement(this.gameObject,h,c,u))},addWipe:function(h,c,u){return this.add(new T.Wipe(this.gameObject,h,c,u))},addReveal:function(h,c,u){return this.add(new T.Wipe(this.gameObject,h,c,u,!0))},addBokeh:function(h,c,u){return this.add(new T.Bokeh(this.gameObject,h,c,u))},addTiltShift:function(h,c,u,m,d,p){return this.add(new T.Bokeh(this.gameObject,h,c,u,!0,m,d,p))},destroy:function(){this.clear(),this.gameObject=null}});S.exports=f},54434:S=>{S.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(a){return this.flipX=a,this},setFlipY:function(a){return this.flipY=a,this},setFlip:function(a,w){return this.flipX=a,this.flipY=w,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},8004:(S,P,a)=>{var w=a(87841),T=a(11520),g=a(26099);S.exports={prepareBoundsOutput:function(h,c){return void 0===c&&(c=!1),0!==this.rotation&&T(h,this.x,this.y,this.rotation),c&&this.parentContainer&&this.parentContainer.getBoundsTransformMatrix().transformPoint(h.x,h.y,h),h},getCenter:function(h,c){return void 0===h&&(h=new g),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,c)},getTopLeft:function(h,c){return h||(h=new g),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,c)},getTopCenter:function(h,c){return h||(h=new g),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,c)},getTopRight:function(h,c){return h||(h=new g),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,c)},getLeftCenter:function(h,c){return h||(h=new g),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,c)},getRightCenter:function(h,c){return h||(h=new g),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,c)},getBottomLeft:function(h,c){return h||(h=new g),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,c)},getBottomCenter:function(h,c){return h||(h=new g),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,c)},getBottomRight:function(h,c){return h||(h=new g),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,c)},getBounds:function(h){var c,u,m,d,p,v,x,y;if(void 0===h&&(h=new w),this.parentContainer){var _=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(h),_.transformPoint(h.x,h.y,h),c=h.x,u=h.y,this.getTopRight(h),_.transformPoint(h.x,h.y,h),m=h.x,d=h.y,this.getBottomLeft(h),_.transformPoint(h.x,h.y,h),p=h.x,v=h.y,this.getBottomRight(h),_.transformPoint(h.x,h.y,h),x=h.x,y=h.y}else this.getTopLeft(h),c=h.x,u=h.y,this.getTopRight(h),m=h.x,d=h.y,this.getBottomLeft(h),p=h.x,v=h.y,this.getBottomRight(h),x=h.x,y=h.y;return h.x=Math.min(c,m,p,x),h.y=Math.min(u,d,v,y),h.width=Math.max(c,m,p,x)-h.x,h.height=Math.max(u,d,v,y)-h.y,h}}},8573:(S,P,a)=>{var w=a(6858),T=a(80661);S.exports={mask:null,setMask:function(f){return this.mask=f,this},clearMask:function(f){return void 0===f&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(f,h,c,u,m){return void 0===f&&(this.texture||this.shader||this.geom)&&(f=this),new w(this.scene,f,h,c,u,m)},createGeometryMask:function(f){return void 0===f&&("Graphics"===this.type||this.geom)&&(f=this),new T(this.scene,f)}}},27387:S=>{S.exports={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(a){this._displayOriginX=a,this.originX=a/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(a){this._displayOriginY=a,this.originY=a/this.height}},setOrigin:function(a,w){return void 0===a&&(a=.5),void 0===w&&(w=a),this.originX=a,this.originY=w,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(a,w){return void 0===a&&(a=0),void 0===w&&(w=a),this.displayOriginX=a,this.displayOriginY=w,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}}},37640:(S,P,a)=>{var w=a(39506),T=a(57355),g=a(35154),f=a(86353),h=a(26099);S.exports={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:f.PLAYING_FORWARD,setPath:function(u,m){void 0===m&&(m=this.pathConfig);var d=this.pathTween;return d&&d.isPlaying()&&d.stop(),this.path=u,m&&this.startFollow(m),this},setRotateToPath:function(u,m){return void 0===m&&(m=0),this.rotateToPath=u,this.pathRotationOffset=m,this},isFollowing:function(){var u=this.pathTween;return u&&u.isPlaying()},startFollow:function(u,m){void 0===u&&(u={}),void 0===m&&(m=0);var d=this.pathTween;d&&d.isPlaying()&&d.stop(),"number"==typeof u&&(u={duration:u}),u.from=g(u,"from",0),u.to=g(u,"to",1);var p=T(u,"positionOnPath",!1);this.rotateToPath=T(u,"rotateToPath",!1),this.pathRotationOffset=g(u,"rotationOffset",0);var v=g(u,"startAt",m);if(v&&(u.onStart=function(y){var _=y.data[0];_.progress=v,_.elapsed=_.duration*v;var E=_.ease(_.progress);_.current=_.start+(_.end-_.start)*E,_.setTargetValue()}),this.pathOffset||(this.pathOffset=new h(this.x,this.y)),this.pathVector||(this.pathVector=new h),this.pathDelta||(this.pathDelta=new h),this.pathDelta.reset(),u.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(u),this.path.getStartPoint(this.pathOffset),p&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=f.PLAYING_FORWARD,this.rotateToPath){var x=this.path.getPoint(.1);this.rotation=Math.atan2(x.y-this.y,x.x-this.x)+w(this.pathRotationOffset)}return this.pathConfig=u,this},pauseFollow:function(){var u=this.pathTween;return u&&u.isPlaying()&&u.pause(),this},resumeFollow:function(){var u=this.pathTween;return u&&u.isPaused()&&u.resume(),this},stopFollow:function(){var u=this.pathTween;return u&&u.isPlaying()&&u.stop(),this},pathUpdate:function(){var u=this.pathTween;if(u&&u.data){var m=u.data[0],d=this.pathDelta,p=this.pathVector;if(d.copy(p).negate(),m.state===f.COMPLETE)return this.path.getPoint(m.end,p),d.add(p),p.add(this.pathOffset),void this.setPosition(p.x,p.y);if(m.state!==f.PLAYING_FORWARD&&m.state!==f.PLAYING_BACKWARD)return;this.path.getPoint(u.getValue(),p),d.add(p),p.add(this.pathOffset);var v=this.x,x=this.y;this.setPosition(p.x,p.y);var y=this.x-v,_=this.y-x;if(0===y&&0===_)return;if(m.state!==this._prevDirection)return void(this._prevDirection=m.state);this.rotateToPath&&(this.rotation=Math.atan2(_,y)+w(this.pathRotationOffset))}}}},72699:(S,P,a)=>{var w=a(62644);S.exports={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(g){this.pipelineData={};var f=this.scene.sys.renderer;if(!f)return!1;var h=f.pipelines;if(h){void 0===g&&(g=h.default);var c=h.get(g);if(c)return this.defaultPipeline=c,this.pipeline=c,!0}return!1},setPipeline:function(g,f,h){var c=this.scene.sys.renderer;if(!c)return this;var u=c.pipelines;if(u){var m=u.get(g);m&&(this.pipeline=m),f&&(this.pipelineData=h?w(f):f)}return this},setPipelineData:function(g,f){var h=this.pipelineData;return void 0===f?delete h[g]:h[g]=f,this},resetPipeline:function(g){return void 0===g&&(g=!1),this.pipeline=this.defaultPipeline,g&&(this.pipelineData={}),null!==this.pipeline},getPipelineName:function(){return null===this.pipeline?null:this.pipeline.name}}},17581:(S,P,a)=>{var w=a(62644),T=a(47059),g=a(19133);S.exports={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(h){this.postPipelines=[],this.postPipelineData={},this.postFX=new T(this,!0),h&&(this.preFX=new T(this,!1))},setPostPipeline:function(h,c,u){var m=this.scene.sys.renderer;if(!m)return this;var d=m.pipelines;if(d){Array.isArray(h)||(h=[h]);for(var p=0;p<h.length;p++){var v=d.getPostPipeline(h[p],this,c);v&&this.postPipelines.push(v)}c&&(this.postPipelineData=u?w(c):c)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(h,c){var u=this.postPipelineData;return void 0===c?delete u[h]:u[h]=c,this},getPostPipeline:function(h){for(var c="string"==typeof h,u=this.postPipelines,m=[],d=0;d<u.length;d++){var p=u[d];(c&&p.name===h||!c&&p instanceof h)&&m.push(p)}return 1===m.length?m[0]:m},resetPostPipeline:function(h){void 0===h&&(h=!1);for(var c=this.postPipelines,u=0;u<c.length;u++)c[u].destroy();this.postPipelines=[],this.hasPostPipeline=!1,h&&(this.postPipelineData={})},removePostPipeline:function(h){for(var c="string"==typeof h,u=this.postPipelines,m=u.length-1;m>=0;m--){var d=u[m];(c&&d.name===h||!c&&d===h)&&(d.destroy(),g(u,m))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}}},80227:S=>{S.exports={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(a,w){return void 0===w&&(w=a),this.scrollFactorX=a,this.scrollFactorY=w,this}}},16736:S=>{S.exports={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(a){this.scaleX=a/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(a){this.scaleY=a/this.frame.realHeight}},setSizeToFrame:function(a){a||(a=this.frame),this.width=a.realWidth,this.height=a.realHeight;var w=this.input;return w&&!w.customHitArea&&(w.hitArea.width=this.width,w.hitArea.height=this.height),this},setSize:function(a,w){return this.width=a,this.height=w,this},setDisplaySize:function(a,w){return this.displayWidth=a,this.displayHeight=w,this}}},37726:(S,P,a)=>{var w=a(4327);S.exports={texture:null,frame:null,isCropped:!1,setTexture:function(f,h,c,u){return this.texture=this.scene.sys.textures.get(f),this.setFrame(h,c,u)},setFrame:function(f,h,c){return void 0===h&&(h=!0),void 0===c&&(c=!0),f instanceof w?(this.texture=this.scene.sys.textures.get(f.texture.key),this.frame=f):this.frame=this.texture.get(f),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&c&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}}},79812:(S,P,a)=>{var w=a(4327);S.exports={texture:null,frame:null,isCropped:!1,setCrop:function(f,h,c,u){return void 0===f?this.isCropped=!1:this.frame&&("number"==typeof f?this.frame.setCropUVs(this._crop,f,h,c,u,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,f.x,f.y,f.width,f.height,this.flipX,this.flipY),this.isCropped=!0),this},setTexture:function(f,h){return this.texture=this.scene.sys.textures.get(f),this.setFrame(h)},setFrame:function(f,h,c){return void 0===h&&(h=!0),void 0===c&&(c=!0),f instanceof w?(this.texture=this.scene.sys.textures.get(f.texture.key),this.frame=f):this.frame=this.texture.get(f),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&c&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},27472:S=>{S.exports={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(a,w,T,g){return void 0===a&&(a=16777215),void 0===w&&(w=a,T=a,g=a),this.tintTopLeft=a,this.tintTopRight=w,this.tintBottomLeft=T,this.tintBottomRight=g,this.tintFill=!1,this},setTintFill:function(a,w,T,g){return this.setTint(a,w,T,g),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(a){this.setTint(a,a,a,a)}},isTinted:{get:function(){var a=16777215;return this.tintFill||this.tintTopLeft!==a||this.tintTopRight!==a||this.tintBottomLeft!==a||this.tintBottomRight!==a}}}},53774:S=>{S.exports=function(a){var w={name:a.name,type:a.type,x:a.x,y:a.y,depth:a.depth,scale:{x:a.scaleX,y:a.scaleY},origin:{x:a.originX,y:a.originY},flipX:a.flipX,flipY:a.flipY,rotation:a.rotation,alpha:a.alpha,visible:a.visible,blendMode:a.blendMode,textureKey:"",frameKey:"",data:{}};return a.texture&&(w.textureKey=a.texture.key,w.frameKey=a.frame.name),w}},16901:(S,P,a)=>{var w=a(36383),T=a(61340),g=a(85955),f=a(86554),h=a(30954),c=a(26099);S.exports={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(d){this._scaleX=d,this._scaleY=d,0===d?this.renderFlags&=-5:this.renderFlags|=4}},scaleX:{get:function(){return this._scaleX},set:function(d){this._scaleX=d,0===d?this.renderFlags&=-5:0!==this._scaleY&&(this.renderFlags|=4)}},scaleY:{get:function(){return this._scaleY},set:function(d){this._scaleY=d,0===d?this.renderFlags&=-5:0!==this._scaleX&&(this.renderFlags|=4)}},angle:{get:function(){return h(this._rotation*w.RAD_TO_DEG)},set:function(d){this.rotation=h(d)*w.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(d){this._rotation=f(d)}},setPosition:function(d,p,v,x){return void 0===d&&(d=0),void 0===p&&(p=d),void 0===v&&(v=0),void 0===x&&(x=0),this.x=d,this.y=p,this.z=v,this.w=x,this},copyPosition:function(d){return void 0!==d.x&&(this.x=d.x),void 0!==d.y&&(this.y=d.y),void 0!==d.z&&(this.z=d.z),void 0!==d.w&&(this.w=d.w),this},setRandomPosition:function(d,p,v,x){return void 0===d&&(d=0),void 0===p&&(p=0),void 0===v&&(v=this.scene.sys.scale.width),void 0===x&&(x=this.scene.sys.scale.height),this.x=d+Math.random()*v,this.y=p+Math.random()*x,this},setRotation:function(d){return void 0===d&&(d=0),this.rotation=d,this},setAngle:function(d){return void 0===d&&(d=0),this.angle=d,this},setScale:function(d,p){return void 0===d&&(d=1),void 0===p&&(p=d),this.scaleX=d,this.scaleY=p,this},setX:function(d){return void 0===d&&(d=0),this.x=d,this},setY:function(d){return void 0===d&&(d=0),this.y=d,this},setZ:function(d){return void 0===d&&(d=0),this.z=d,this},setW:function(d){return void 0===d&&(d=0),this.w=d,this},getLocalTransformMatrix:function(d){return void 0===d&&(d=new T),d.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(d,p){void 0===d&&(d=new T);var v=this.parentContainer;if(!v)return this.getLocalTransformMatrix(d);for(p||(p=new T),d.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);v;)p.applyITRS(v.x,v.y,v._rotation,v._scaleX,v._scaleY),p.multiply(d,d),v=v.parentContainer;return d},getLocalPoint:function(d,p,v,x){v||(v=new c),x||(x=this.scene.sys.cameras.main);var y=x.scrollX,_=x.scrollY,E=d+y*this.scrollFactorX-y,A=p+_*this.scrollFactorY-_;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(E,A,v):g(E,A,this.x,this.y,this.rotation,this.scaleX,this.scaleY,v),this._originComponent&&(v.x+=this._displayOriginX,v.y+=this._displayOriginY),v},getParentRotation:function(){for(var d=0,p=this.parentContainer;p;)d+=p.rotation,p=p.parentContainer;return d}}},61340:(S,P,a)=>{var w=a(83419),T=a(36383),g=a(26099),f=new w({initialize:function(c,u,m,d,p,v){void 0===c&&(c=1),void 0===u&&(u=0),void 0===m&&(m=0),void 0===d&&(d=1),void 0===p&&(p=0),void 0===v&&(v=0),this.matrix=new Float32Array([c,u,m,d,p,v,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(h){this.matrix[0]=h}},b:{get:function(){return this.matrix[1]},set:function(h){this.matrix[1]=h}},c:{get:function(){return this.matrix[2]},set:function(h){this.matrix[2]=h}},d:{get:function(){return this.matrix[3]},set:function(h){this.matrix[3]=h}},e:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},f:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},tx:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},ty:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var h=this.matrix,c=h[0],u=h[1],m=h[2],d=h[3];return c||u?u>0?Math.acos(c/this.scaleX):-Math.acos(c/this.scaleX):m||d?T.TAU-(d>0?Math.acos(-m/this.scaleY):-Math.acos(m/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var h=this.matrix;return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,this},translate:function(h,c){var u=this.matrix;return u[4]=u[0]*h+u[2]*c+u[4],u[5]=u[1]*h+u[3]*c+u[5],this},scale:function(h,c){var u=this.matrix;return u[0]*=h,u[1]*=h,u[2]*=c,u[3]*=c,this},rotate:function(h){var c=Math.sin(h),u=Math.cos(h),m=this.matrix,d=m[0],p=m[1],v=m[2],x=m[3];return m[0]=d*u+v*c,m[1]=p*u+x*c,m[2]=d*-c+v*u,m[3]=p*-c+x*u,this},multiply:function(h,c){var u=this.matrix,m=h.matrix,d=u[0],p=u[1],v=u[2],x=u[3],y=u[4],_=u[5],E=m[0],A=m[1],M=m[2],I=m[3],k=m[4],F=m[5],N=void 0===c?u:c.matrix;return N[0]=E*d+A*v,N[1]=E*p+A*x,N[2]=M*d+I*v,N[3]=M*p+I*x,N[4]=k*d+F*v+y,N[5]=k*p+F*x+_,N},multiplyWithOffset:function(h,c,u){var m=this.matrix,d=h.matrix,p=m[0],v=m[1],x=m[2],y=m[3],A=c*p+u*x+m[4],M=c*v+u*y+m[5],I=d[0],k=d[1],F=d[2],N=d[3],V=d[4],B=d[5];return m[0]=I*p+k*x,m[1]=I*v+k*y,m[2]=F*p+N*x,m[3]=F*v+N*y,m[4]=V*p+B*x+A,m[5]=V*v+B*y+M,this},transform:function(h,c,u,m,d,p){var v=this.matrix,x=v[0],y=v[1],_=v[2],E=v[3],A=v[4],M=v[5];return v[0]=h*x+c*_,v[1]=h*y+c*E,v[2]=u*x+m*_,v[3]=u*y+m*E,v[4]=d*x+p*_+A,v[5]=d*y+p*E+M,this},transformPoint:function(h,c,u){void 0===u&&(u={x:0,y:0});var m=this.matrix,p=m[1],x=m[3],_=m[5];return u.x=h*m[0]+c*m[2]+m[4],u.y=h*p+c*x+_,u},invert:function(){var h=this.matrix,c=h[0],u=h[1],m=h[2],d=h[3],p=h[4],v=h[5],x=c*d-u*m;return h[0]=d/x,h[1]=-u/x,h[2]=-m/x,h[3]=c/x,h[4]=(m*v-d*p)/x,h[5]=-(c*v-u*p)/x,this},copyFrom:function(h){var c=this.matrix;return c[0]=h.a,c[1]=h.b,c[2]=h.c,c[3]=h.d,c[4]=h.e,c[5]=h.f,this},copyFromArray:function(h){var c=this.matrix;return c[0]=h[0],c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],this},copyToContext:function(h){var c=this.matrix;return h.transform(c[0],c[1],c[2],c[3],c[4],c[5]),h},setToContext:function(h){return h.setTransform(this),h},copyToArray:function(h){var c=this.matrix;return void 0===h?h=[c[0],c[1],c[2],c[3],c[4],c[5]]:(h[0]=c[0],h[1]=c[1],h[2]=c[2],h[3]=c[3],h[4]=c[4],h[5]=c[5]),h},setTransform:function(h,c,u,m,d,p){var v=this.matrix;return v[0]=h,v[1]=c,v[2]=u,v[3]=m,v[4]=d,v[5]=p,this},decomposeMatrix:function(){var h=this.decomposedMatrix,c=this.matrix,u=c[0],m=c[1],d=c[2],p=c[3],v=u*p-m*d;if(h.translateX=c[4],h.translateY=c[5],u||m){var x=Math.sqrt(u*u+m*m);h.rotation=m>0?Math.acos(u/x):-Math.acos(u/x),h.scaleX=x,h.scaleY=v/x}else if(d||p){var y=Math.sqrt(d*d+p*p);h.rotation=.5*Math.PI-(p>0?Math.acos(-d/y):-Math.acos(d/y)),h.scaleX=v/y,h.scaleY=y}else h.rotation=0,h.scaleX=0,h.scaleY=0;return h},applyITRS:function(h,c,u,m,d){var p=this.matrix,v=Math.sin(u),x=Math.cos(u);return p[4]=h,p[5]=c,p[0]=x*m,p[1]=v*m,p[2]=-v*d,p[3]=x*d,this},applyInverse:function(h,c,u){void 0===u&&(u=new g);var m=this.matrix,d=m[0],p=m[1],v=m[2],x=m[3],y=m[4],_=m[5],E=1/(d*x+v*-p);return u.x=x*E*h+-v*E*c+(_*v-y*x)*E,u.y=d*E*c+-p*E*h+(-_*d+y*p)*E,u},setQuad:function(h,c,u,m,d,p){void 0===d&&(d=!1),void 0===p&&(p=this.quad);var v=this.matrix,x=v[0],y=v[1],_=v[2],E=v[3],A=v[4],M=v[5],I=h*x+c*_+A,k=h*y+c*E+M,F=h*x+m*_+A,N=h*y+m*E+M,V=u*x+m*_+A,B=u*y+m*E+M,H=u*x+c*_+A,Q=u*y+c*E+M;if(d){var G=Math.floor(I+.5),K=Math.floor(k+.5),tt=G-I,at=K-k;p[0]=G,p[1]=K,p[2]=F+tt,p[3]=N+at,p[4]=V+tt,p[5]=B+at,p[6]=H+tt,p[7]=Q+at}else p[0]=I,p[1]=k,p[2]=F,p[3]=N,p[4]=V,p[5]=B,p[6]=H,p[7]=Q;return p},getX:function(h,c){return h*this.a+c*this.c+this.e},getY:function(h,c){return h*this.b+c*this.d+this.f},getXRound:function(h,c,u){var m=this.getX(h,c);return u&&(m=Math.floor(m+.5)),m},getYRound:function(h,c,u){var m=this.getY(h,c);return u&&(m=Math.floor(m+.5)),m},getCSSMatrix:function(){var h=this.matrix;return"matrix("+h[0]+","+h[1]+","+h[2]+","+h[3]+","+h[4]+","+h[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});S.exports=f},59715:S=>{S.exports={_visible:!0,visible:{get:function(){return this._visible},set:function(w){w?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(w){return this.visible=w,this}}},31401:(S,P,a)=>{S.exports={Alpha:a(16005),AlphaSingle:a(88509),BlendMode:a(90065),ComputedSize:a(94215),Crop:a(61683),Depth:a(89272),Flip:a(54434),FX:a(47059),GetBounds:a(8004),Mask:a(8573),Origin:a(27387),PathFollower:a(37640),Pipeline:a(72699),PostPipeline:a(17581),ScrollFactor:a(80227),Size:a(16736),Texture:a(37726),TextureCrop:a(79812),Tint:a(27472),ToJSON:a(53774),Transform:a(16901),TransformMatrix:a(61340),Visible:a(59715)}},31559:(S,P,a)=>{var w=a(37105),T=a(10312),g=a(83419),f=a(31401),h=a(51708),c=a(95643),u=a(87841),m=a(29959),d=a(36899),p=a(26099),v=new f.TransformMatrix,x=new g({Extends:c,Mixins:[f.AlphaSingle,f.BlendMode,f.ComputedSize,f.Depth,f.Mask,f.PostPipeline,f.Transform,f.Visible,m],initialize:function(_,E,A,M){c.call(this,_,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new f.TransformMatrix,this._sortKey="",this._sysEvents=_.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(E,A),this.setBlendMode(T.SKIP_CHECK),M&&this.add(M)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(y){return void 0===y&&(y=!0),this.exclusive=y,this},getBounds:function(y){if(void 0===y&&(y=new u),y.setTo(this.x,this.y,0,0),this.parentContainer){var E=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);y.setTo(E.x,E.y,0,0)}if(this.list.length>0){var A=this.list,M=new u,I=!1;y.setEmpty();for(var k=0;k<A.length;k++){var F=A[k];F.getBounds&&(F.getBounds(M),I?d(M,y,y):(y.setTo(M.x,M.y,M.width,M.height),I=!0))}}return y},addHandler:function(y){y.once(h.DESTROY,this.onChildDestroyed,this),this.exclusive&&(y.parentContainer&&y.parentContainer.remove(y),y.parentContainer=this,y.removeFromDisplayList(),y.addedToScene())},removeHandler:function(y){y.off(h.DESTROY,this.remove,this),this.exclusive&&(y.parentContainer=null,y.removedFromScene(),y.addToDisplayList())},pointToContainer:function(y,_){void 0===_&&(_=new p),this.parentContainer?this.parentContainer.pointToContainer(y,_):(_.x=y.x,_.y=y.y);var E=v;return E.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),E.invert(),E.transformPoint(y.x,y.y,_),_},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(v,this.localTransform)},add:function(y){return w.Add(this.list,y,this.maxSize,this.addHandler,this),this},addAt:function(y,_){return w.AddAt(this.list,y,_,this.maxSize,this.addHandler,this),this},getAt:function(y){return this.list[y]},getIndex:function(y){return this.list.indexOf(y)},sort:function(y,_){return y?(void 0===_&&(_=function(E,A){return E[y]-A[y]}),w.StableSort(this.list,_),this):this},getByName:function(y){return w.GetFirst(this.list,"name",y)},getRandom:function(y,_){return w.GetRandom(this.list,y,_)},getFirst:function(y,_,E,A){return w.GetFirst(this.list,y,_,E,A)},getAll:function(y,_,E,A){return w.GetAll(this.list,y,_,E,A)},count:function(y,_,E,A){return w.CountAllMatching(this.list,y,_,E,A)},swap:function(y,_){return w.Swap(this.list,y,_),this},moveTo:function(y,_){return w.MoveTo(this.list,y,_),this},moveAbove:function(y,_){return w.MoveAbove(this.list,y,_),this},moveBelow:function(y,_){return w.MoveBelow(this.list,y,_),this},remove:function(y,_){var E=w.Remove(this.list,y,this.removeHandler,this);if(_&&E){Array.isArray(E)||(E=[E]);for(var A=0;A<E.length;A++)E[A].destroy()}return this},removeAt:function(y,_){var E=w.RemoveAt(this.list,y,this.removeHandler,this);return _&&E&&E.destroy(),this},removeBetween:function(y,_,E){var A=w.RemoveBetween(this.list,y,_,this.removeHandler,this);if(E)for(var M=0;M<A.length;M++)A[M].destroy();return this},removeAll:function(y){var _=this.list;if(y){for(var E=0;E<_.length;E++)_[E]&&_[E].scene&&(_[E].off(h.DESTROY,this.onChildDestroyed,this),_[E].destroy());this.list=[]}else w.RemoveBetween(_,0,_.length,this.removeHandler,this);return this},bringToTop:function(y){return w.BringToTop(this.list,y),this},sendToBack:function(y){return w.SendToBack(this.list,y),this},moveUp:function(y){return w.MoveUp(this.list,y),this},moveDown:function(y){return w.MoveDown(this.list,y),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return w.Shuffle(this.list),this},replace:function(y,_,E){return w.Replace(this.list,y,_)&&(this.addHandler(_),this.removeHandler(y),E&&y.destroy()),this},exists:function(y){return this.list.indexOf(y)>-1},setAll:function(y,_,E,A){return w.SetAll(this.list,y,_,E,A),this},each:function(y,_){var A,E=[null],M=this.list.slice(),I=M.length;for(A=2;A<arguments.length;A++)E.push(arguments[A]);for(A=0;A<I;A++)E[0]=M[A],y.apply(_,E);return this},iterate:function(y,_){var A,E=[null];for(A=2;A<arguments.length;A++)E.push(arguments[A]);for(A=0;A<this.list.length;A++)E[0]=this.list[A],y.apply(_,E);return this},setScrollFactor:function(y,_,E){return void 0===_&&(_=y),void 0===E&&(E=!1),this.scrollFactorX=y,this.scrollFactorY=_,E&&(w.SetAll(this.list,"scrollFactorX",y),w.SetAll(this.list,"scrollFactorY",_)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(y){w.Remove(this.list,y),this.exclusive&&(y.parentContainer=null,y.removedFromScene())}});S.exports=x},53584:S=>{S.exports=function(a,w,T,g){T.addToRenderList(w);var f=w.list;if(0!==f.length){var h=w.localTransform;g?(h.loadIdentity(),h.multiply(g),h.translate(w.x,w.y),h.rotate(w.rotation),h.scale(w.scaleX,w.scaleY)):h.applyITRS(w.x,w.y,w.rotation,w.scaleX,w.scaleY);var c=-1!==w.blendMode;c||a.setBlendMode(0);var u=w._alpha,m=w.scrollFactorX,d=w.scrollFactorY;w.mask&&w.mask.preRenderCanvas(a,null,T);for(var p=0;p<f.length;p++){var v=f[p];if(v.willRender(T)){var x=v.alpha,y=v.scrollFactorX,_=v.scrollFactorY;!c&&v.blendMode!==a.currentBlendMode&&a.setBlendMode(v.blendMode),v.setScrollFactor(y*m,_*d),v.setAlpha(x*u),v.renderCanvas(a,v,T,h),v.setAlpha(x),v.setScrollFactor(y,_)}}w.mask&&w.mask.postRenderCanvas(a)}}},77143:(S,P,a)=>{var w=a(25305),T=a(31559),g=a(44603),f=a(23568),h=a(95540);g.register("container",function(c,u){void 0===c&&(c={});var m=f(c,"x",0),d=f(c,"y",0),p=h(c,"children",null),v=new T(this.scene,m,d,p);return void 0!==u&&(c.add=u),w(this.scene,v,c),v})},24961:(S,P,a)=>{var w=a(31559);a(39429).register("container",function(g,f,h){return this.displayList.add(new w(this.scene,g,f,h))})},29959:(S,P,a)=>{var T,g;a(29747),T=a(72249),g=a(53584),S.exports={renderWebGL:T,renderCanvas:g}},72249:S=>{S.exports=function(a,w,T,g){T.addToRenderList(w);var f=w.list,h=f.length;if(0!==h){var c=w.localTransform;g?(c.loadIdentity(),c.multiply(g),c.translate(w.x,w.y),c.rotate(w.rotation),c.scale(w.scaleX,w.scaleY)):c.applyITRS(w.x,w.y,w.rotation,w.scaleX,w.scaleY),a.pipelines.preBatch(w);var u=-1!==w.blendMode;u||a.setBlendMode(0);for(var m=w.alpha,d=w.scrollFactorX,p=w.scrollFactorY,v=0;v<h;v++){var x=f[v];if(x.willRender(T)){var y,_,E,A;if(void 0!==x.alphaTopLeft)y=x.alphaTopLeft,_=x.alphaTopRight,E=x.alphaBottomLeft,A=x.alphaBottomRight;else{var M=x.alpha;y=M,_=M,E=M,A=M}var I=x.scrollFactorX,k=x.scrollFactorY;!u&&x.blendMode!==a.currentBlendMode&&a.setBlendMode(x.blendMode);var F=x.mask;F&&F.preRenderWebGL(a,x,T);var N=x.type;N!==a.currentType&&(a.newType=!0,a.currentType=N),a.nextTypeMatch=v<h-1&&f[v+1].type===a.currentType,x.setScrollFactor(I*d,k*p),x.setAlpha(y*m,_*m,E*m,A*m),x.renderWebGL(a,x,T,c,w),x.setAlpha(y,_,E,A),x.setScrollFactor(I,k),F&&F.postRenderWebGL(a,T),a.newType=!1}}a.pipelines.postBatch(w)}}},47407:S=>{S.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(S,P,a)=>{var w=a(83419),T=a(31401),g=a(441),f=a(95643),h=a(41212),c=a(35846),u=a(44594),m=a(61369),d=new w({Extends:f,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.Origin,T.ScrollFactor,T.Transform,T.Visible,g],initialize:function(v,x,y,_,E,A){f.call(this,v,"DOMElement"),this.parent=v.sys.game.domContainer,this.cache=v.sys.cache.html,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new m,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(x,y),"string"==typeof _?"#"===_[0]?this.setElement(_.substr(1),E,A):this.createElement(_,E,A):_&&this.setElement(_,E,A),v.sys.events.on(u.SLEEP,this.handleSceneEvent,this),v.sys.events.on(u.WAKE,this.handleSceneEvent,this),v.sys.events.on(u.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(p){var v=this.node;v&&(v.style.display=p.settings.visible?"block":"none")},setSkew:function(p,v){return void 0===p&&(p=0),void 0===v&&(v=p),this.skewX=p,this.skewY=v,this},setPerspective:function(p){return this.parent.style.perspective=p+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(p){this.parent.style.perspective=p+"px"}},addListener:function(p){if(this.node){p=p.split(" ");for(var v=0;v<p.length;v++)this.node.addEventListener(p[v],this.handler,!1)}return this},removeListener:function(p){if(this.node){p=p.split(" ");for(var v=0;v<p.length;v++)this.node.removeEventListener(p[v],this.handler)}return this},dispatchNativeEvent:function(p){this.emit(p.type,p)},createElement:function(p,v,x){return this.setElement(document.createElement(p),v,x)},setElement:function(p,v,x){var y;if(this.removeElement(),"string"==typeof p?("#"===p[0]&&(p=p.substr(1)),y=document.getElementById(p)):"object"==typeof p&&1===p.nodeType&&(y=p),!y)return this;if(this.node=y,v&&h(v))for(var _ in v)y.style[_]=v[_];else"string"==typeof v&&(y.style=v);return y.style.zIndex="0",y.style.display="inline",y.style.position="absolute",y.phaser=this,this.parent&&this.parent.appendChild(y),x&&(y.innerText=x),this.updateSize()},createFromCache:function(p,v){var x=this.cache.get(p);return x&&this.createFromHTML(x,v),this},createFromHTML:function(p,v){void 0===v&&(v="div"),this.removeElement();var x=document.createElement(v);return this.node=x,x.style.zIndex="0",x.style.display="inline",x.style.position="absolute",x.phaser=this,this.parent&&this.parent.appendChild(x),x.innerHTML=p,this.updateSize()},removeElement:function(){return this.node&&(c(this.node),this.node=null),this},updateSize:function(){var p=this.node,v=p.getBoundingClientRect();return this.width=p.clientWidth,this.height=p.clientHeight,this.displayWidth=v.width||0,this.displayHeight=v.height||0,this},getChildByProperty:function(p,v){if(this.node)for(var x=this.node.querySelectorAll("*"),y=0;y<x.length;y++)if(x[y][p]===v)return x[y];return null},getChildByID:function(p){return this.getChildByProperty("id",p)},getChildByName:function(p){return this.getChildByProperty("name",p)},setClassName:function(p){return this.node&&(this.node.className=p,this.updateSize()),this},setText:function(p){return this.node&&(this.node.innerText=p,this.updateSize()),this},setHTML:function(p){return this.node&&(this.node.innerHTML=p,this.updateSize()),this},preRender:function(){var p=this.parentContainer,v=this.node;v&&p&&!p.willRender()&&(v.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(u.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(u.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(u.PRE_RENDER,this.preRender,this)}});S.exports=d},49381:(S,P,a)=>{var w=a(47407),T=a(95643),g=a(61340),f=new g,h=new g,c=new g;S.exports=function(m,d,p,v){if(d.node){var x=d.node.style;if(!x||!d.scene.sys.settings.visible||T.RENDER_MASK!==d.renderFlags||0!==d.cameraFilter&&d.cameraFilter&p.id||d.parentContainer&&!d.parentContainer.willRender())return void(x.display="none");var _=d.parentContainer,E=p.alpha*d.alpha;_&&(E*=_.alpha);var A=f,M=h,I=c,k=0,F=0,N="0%",V="0%";v?(M.applyITRS(d.x-(k=d.width*d.scaleX*d.originX),d.y-(F=d.height*d.scaleY*d.originY),d.rotation,d.scaleX,d.scaleY),A.copyFrom(p.matrix),A.multiplyWithOffset(v,-p.scrollX*d.scrollFactorX,-p.scrollY*d.scrollFactorY),M.e=d.x-k,M.f=d.y-F,A.multiply(M,I)):(k=d.width*d.originX,F=d.height*d.originY,M.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),A.copyFrom(p.matrix),N=100*d.originX+"%",V=100*d.originY+"%",M.e-=p.scrollX*d.scrollFactorX,M.f-=p.scrollY*d.scrollFactorY,A.multiply(M,I),I.e-=k,I.f-=F),d.transformOnly||(x.display="block",x.opacity=E,x.zIndex=d._depth,x.pointerEvents=d.pointerEvents,x.mixBlendMode=w[d._blendMode]),x.transform=I.getCSSMatrix()+" skew("+d.skewX+"rad, "+d.skewY+"rad) rotate3d("+d.rotate3d.x+","+d.rotate3d.y+","+d.rotate3d.z+","+d.rotate3d.w+d.rotate3dAngle+")",x.transformOrigin=N+" "+V}}},2611:(S,P,a)=>{var w=a(3069);a(39429).register("dom",function(g,f,h,c,u){var m=new w(this.scene,g,f,h,c,u);return this.displayList.add(m),m})},441:(S,P,a)=>{var T,g;a(29747),T=a(49381),g=a(49381),S.exports={renderWebGL:T,renderCanvas:g}},62980:S=>{S.exports="addedtoscene"},41337:S=>{S.exports="destroy"},44947:S=>{S.exports="removedfromscene"},49358:S=>{S.exports="complete"},35163:S=>{S.exports="created"},97249:S=>{S.exports="error"},19483:S=>{S.exports="locked"},56059:S=>{S.exports="loop"},26772:S=>{S.exports="metadata"},64437:S=>{S.exports="playing"},83411:S=>{S.exports="play"},75780:S=>{S.exports="seeked"},67799:S=>{S.exports="seeking"},63500:S=>{S.exports="stalled"},55541:S=>{S.exports="stop"},53208:S=>{S.exports="textureready"},4992:S=>{S.exports="unlocked"},12:S=>{S.exports="unsupported"},51708:(S,P,a)=>{S.exports={ADDED_TO_SCENE:a(62980),DESTROY:a(41337),REMOVED_FROM_SCENE:a(44947),VIDEO_COMPLETE:a(49358),VIDEO_CREATED:a(35163),VIDEO_ERROR:a(97249),VIDEO_LOCKED:a(19483),VIDEO_LOOP:a(56059),VIDEO_METADATA:a(26772),VIDEO_PLAY:a(83411),VIDEO_PLAYING:a(64437),VIDEO_SEEKED:a(75780),VIDEO_SEEKING:a(67799),VIDEO_STALLED:a(63500),VIDEO_STOP:a(55541),VIDEO_TEXTURE:a(53208),VIDEO_UNLOCKED:a(4992),VIDEO_UNSUPPORTED:a(12)}},42421:(S,P,a)=>{var w=a(83419),T=a(31401),g=a(95643),f=a(64993),h=new w({Extends:g,Mixins:[T.Alpha,T.BlendMode,T.Depth,T.Flip,T.Origin,T.ScrollFactor,T.Size,T.Texture,T.Tint,T.Transform,T.Visible,f],initialize:function(u){g.call(this,u,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});S.exports=h},70217:()=>{},56315:(S,P,a)=>{var w=a(42421);a(39429).register("extern",function(){var g=new w(this.scene);return this.displayList.add(g),g})},64993:(S,P,a)=>{var T,g;a(29747),T=a(80287),g=a(70217),S.exports={renderWebGL:T,renderCanvas:g}},80287:(S,P,a)=>{var w=a(91296);S.exports=function(g,f,h,c){g.pipelines.clear();var u=w(f,h,c).calc;f.render.call(f,g,h,u),g.pipelines.rebind()}},85592:S=>{S.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(S,P,a)=>{var w=a(71911),T=a(83419),g=a(85592),f=a(31401),h=a(8497),c=a(95643),u=a(95540),m=a(35154),d=a(36383),p=a(84503),v=new T({Extends:c,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Mask,f.Pipeline,f.PostPipeline,f.Transform,f.Visible,f.ScrollFactor,p],initialize:function(y,_){var E=m(_,"x",0),A=m(_,"y",0);c.call(this,y,"Graphics"),this.setPosition(E,A),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(_)},setDefaultStyles:function(x){return m(x,"lineStyle",null)&&(this.defaultStrokeWidth=m(x,"lineStyle.width",1),this.defaultStrokeColor=m(x,"lineStyle.color",16777215),this.defaultStrokeAlpha=m(x,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),m(x,"fillStyle",null)&&(this.defaultFillColor=m(x,"fillStyle.color",16777215),this.defaultFillAlpha=m(x,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(x,y,_){return void 0===_&&(_=1),this.commandBuffer.push(g.LINE_STYLE,x,y,_),this._lineWidth=x,this},fillStyle:function(x,y){return void 0===y&&(y=1),this.commandBuffer.push(g.FILL_STYLE,x,y),this},fillGradientStyle:function(x,y,_,E,A,M,I,k){return void 0===A&&(A=1),void 0===M&&(M=A),void 0===I&&(I=A),void 0===k&&(k=A),this.commandBuffer.push(g.GRADIENT_FILL_STYLE,A,M,I,k,x,y,_,E),this},lineGradientStyle:function(x,y,_,E,A,M){return void 0===M&&(M=1),this.commandBuffer.push(g.GRADIENT_LINE_STYLE,x,M,y,_,E,A),this},beginPath:function(){return this.commandBuffer.push(g.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(g.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(g.FILL_PATH),this},fill:function(){return this.commandBuffer.push(g.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(g.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(g.STROKE_PATH),this},fillCircleShape:function(x){return this.fillCircle(x.x,x.y,x.radius)},strokeCircleShape:function(x){return this.strokeCircle(x.x,x.y,x.radius)},fillCircle:function(x,y,_){return this.beginPath(),this.arc(x,y,_,0,d.PI2),this.fillPath(),this},strokeCircle:function(x,y,_){return this.beginPath(),this.arc(x,y,_,0,d.PI2),this.strokePath(),this},fillRectShape:function(x){return this.fillRect(x.x,x.y,x.width,x.height)},strokeRectShape:function(x){return this.strokeRect(x.x,x.y,x.width,x.height)},fillRect:function(x,y,_,E){return this.commandBuffer.push(g.FILL_RECT,x,y,_,E),this},strokeRect:function(x,y,_,E){var A=this._lineWidth/2,M=x-A,I=x+A;return this.beginPath(),this.moveTo(x,y),this.lineTo(x,y+E),this.strokePath(),this.beginPath(),this.moveTo(x+_,y),this.lineTo(x+_,y+E),this.strokePath(),this.beginPath(),this.moveTo(M,y),this.lineTo(I+_,y),this.strokePath(),this.beginPath(),this.moveTo(M,y+E),this.lineTo(I+_,y+E),this.strokePath(),this},fillRoundedRect:function(x,y,_,E,A){void 0===A&&(A=20);var M=A,I=A,k=A,F=A;"number"!=typeof A&&(M=u(A,"tl",20),I=u(A,"tr",20),k=u(A,"bl",20),F=u(A,"br",20));var N=M>=0,V=I>=0,B=k>=0,H=F>=0;return M=Math.abs(M),I=Math.abs(I),k=Math.abs(k),F=Math.abs(F),this.beginPath(),this.moveTo(x+M,y),this.lineTo(x+_-I,y),V?this.arc(x+_-I,y+I,I,-d.TAU,0):this.arc(x+_,y,I,Math.PI,d.TAU,!0),this.lineTo(x+_,y+E-F),H?this.arc(x+_-F,y+E-F,F,0,d.TAU):this.arc(x+_,y+E,F,-d.TAU,Math.PI,!0),this.lineTo(x+k,y+E),B?this.arc(x+k,y+E-k,k,d.TAU,Math.PI):this.arc(x,y+E,k,0,-d.TAU,!0),this.lineTo(x,y+M),N?this.arc(x+M,y+M,M,-Math.PI,-d.TAU):this.arc(x,y,M,d.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(x,y,_,E,A){void 0===A&&(A=20);var M=A,I=A,k=A,F=A,N=Math.min(_,E)/2;"number"!=typeof A&&(M=u(A,"tl",20),I=u(A,"tr",20),k=u(A,"bl",20),F=u(A,"br",20));var V=M>=0,B=I>=0,H=k>=0,Q=F>=0;return M=Math.min(Math.abs(M),N),I=Math.min(Math.abs(I),N),k=Math.min(Math.abs(k),N),F=Math.min(Math.abs(F),N),this.beginPath(),this.moveTo(x+M,y),this.lineTo(x+_-I,y),this.moveTo(x+_-I,y),B?this.arc(x+_-I,y+I,I,-d.TAU,0):this.arc(x+_,y,I,Math.PI,d.TAU,!0),this.lineTo(x+_,y+E-F),this.moveTo(x+_,y+E-F),Q?this.arc(x+_-F,y+E-F,F,0,d.TAU):this.arc(x+_,y+E,F,-d.TAU,Math.PI,!0),this.lineTo(x+k,y+E),this.moveTo(x+k,y+E),H?this.arc(x+k,y+E-k,k,d.TAU,Math.PI):this.arc(x,y+E,k,0,-d.TAU,!0),this.lineTo(x,y+M),this.moveTo(x,y+M),V?this.arc(x+M,y+M,M,-Math.PI,-d.TAU):this.arc(x,y,M,d.TAU,0,!0),this.strokePath(),this},fillPointShape:function(x,y){return this.fillPoint(x.x,x.y,y)},fillPoint:function(x,y,_){return!_||_<1?_=1:(x-=_/2,y-=_/2),this.commandBuffer.push(g.FILL_RECT,x,y,_,_),this},fillTriangleShape:function(x){return this.fillTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},strokeTriangleShape:function(x){return this.strokeTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},fillTriangle:function(x,y,_,E,A,M){return this.commandBuffer.push(g.FILL_TRIANGLE,x,y,_,E,A,M),this},strokeTriangle:function(x,y,_,E,A,M){return this.commandBuffer.push(g.STROKE_TRIANGLE,x,y,_,E,A,M),this},strokeLineShape:function(x){return this.lineBetween(x.x1,x.y1,x.x2,x.y2)},lineBetween:function(x,y,_,E){return this.beginPath(),this.moveTo(x,y),this.lineTo(_,E),this.strokePath(),this},lineTo:function(x,y){return this.commandBuffer.push(g.LINE_TO,x,y),this},moveTo:function(x,y){return this.commandBuffer.push(g.MOVE_TO,x,y),this},strokePoints:function(x,y,_,E){void 0===y&&(y=!1),void 0===_&&(_=!1),void 0===E&&(E=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var A=1;A<E;A++)this.lineTo(x[A].x,x[A].y);return y&&this.lineTo(x[0].x,x[0].y),_&&this.closePath(),this.strokePath(),this},fillPoints:function(x,y,_,E){void 0===y&&(y=!1),void 0===_&&(_=!1),void 0===E&&(E=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var A=1;A<E;A++)this.lineTo(x[A].x,x[A].y);return y&&this.lineTo(x[0].x,x[0].y),_&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(x,y){void 0===y&&(y=32);var _=x.getPoints(y);return this.strokePoints(_,!0)},strokeEllipse:function(x,y,_,E,A){void 0===A&&(A=32);var I=new h(x,y,_,E).getPoints(A);return this.strokePoints(I,!0)},fillEllipseShape:function(x,y){void 0===y&&(y=32);var _=x.getPoints(y);return this.fillPoints(_,!0)},fillEllipse:function(x,y,_,E,A){void 0===A&&(A=32);var I=new h(x,y,_,E).getPoints(A);return this.fillPoints(I,!0)},arc:function(x,y,_,E,A,M,I){return void 0===M&&(M=!1),void 0===I&&(I=0),this.commandBuffer.push(g.ARC,x,y,_,E,A,M,I),this},slice:function(x,y,_,E,A,M,I){return void 0===M&&(M=!1),void 0===I&&(I=0),this.commandBuffer.push(g.BEGIN_PATH),this.commandBuffer.push(g.MOVE_TO,x,y),this.commandBuffer.push(g.ARC,x,y,_,E,A,M,I),this.commandBuffer.push(g.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(g.SAVE),this},restore:function(){return this.commandBuffer.push(g.RESTORE),this},translateCanvas:function(x,y){return this.commandBuffer.push(g.TRANSLATE,x,y),this},scaleCanvas:function(x,y){return this.commandBuffer.push(g.SCALE,x,y),this},rotateCanvas:function(x){return this.commandBuffer.push(g.ROTATE,x),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(x,y,_){var E=this.scene.sys,A=E.game.renderer;void 0===y&&(y=E.scale.width),void 0===_&&(_=E.scale.height),v.TargetCamera.setScene(this.scene),v.TargetCamera.setViewport(0,0,y,_),v.TargetCamera.scrollX=this.x,v.TargetCamera.scrollY=this.y;var M,I,k={willReadFrequently:!0};if("string"==typeof x)if(E.textures.exists(x)){var F=(M=E.textures.get(x)).getSourceImage();F instanceof HTMLCanvasElement&&(I=F.getContext("2d",k))}else I=(M=E.textures.createCanvas(x,y,_)).getSourceImage().getContext("2d",k);else x instanceof HTMLCanvasElement&&(I=x.getContext("2d",k));return I&&(this.renderCanvas(A,this,v.TargetCamera,null,I,!1),M&&M.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});v.TargetCamera=new w,S.exports=v},32768:(S,P,a)=>{var w=a(85592),T=a(20926);S.exports=function(f,h,c,u,m,d){var p=h.commandBuffer,v=p.length,x=m||f.currentContext;if(0!==v&&T(f,x,h,c,u)){c.addToRenderList(h);var E=0,A=0,M=1;x.beginPath();for(var N=0;N<v;++N)switch(p[N]){case w.ARC:x.arc(p[N+1],p[N+2],p[N+3],p[N+4],p[N+5],p[N+6]),N+=7;break;case w.LINE_STYLE:M=p[N+1],x.strokeStyle="rgba("+((16711680&(E=p[N+2]))>>>16)+","+((65280&E)>>>8)+","+(255&E)+","+p[N+3]+")",x.lineWidth=M,N+=3;break;case w.FILL_STYLE:x.fillStyle="rgba("+((16711680&(A=p[N+1]))>>>16)+","+((65280&A)>>>8)+","+(255&A)+","+p[N+2]+")",N+=2;break;case w.BEGIN_PATH:x.beginPath();break;case w.CLOSE_PATH:x.closePath();break;case w.FILL_PATH:d||x.fill();break;case w.STROKE_PATH:d||x.stroke();break;case w.FILL_RECT:d?x.rect(p[N+1],p[N+2],p[N+3],p[N+4]):x.fillRect(p[N+1],p[N+2],p[N+3],p[N+4]),N+=4;break;case w.FILL_TRIANGLE:x.beginPath(),x.moveTo(p[N+1],p[N+2]),x.lineTo(p[N+3],p[N+4]),x.lineTo(p[N+5],p[N+6]),x.closePath(),d||x.fill(),N+=6;break;case w.STROKE_TRIANGLE:x.beginPath(),x.moveTo(p[N+1],p[N+2]),x.lineTo(p[N+3],p[N+4]),x.lineTo(p[N+5],p[N+6]),x.closePath(),d||x.stroke(),N+=6;break;case w.LINE_TO:x.lineTo(p[N+1],p[N+2]),N+=2;break;case w.MOVE_TO:x.moveTo(p[N+1],p[N+2]),N+=2;break;case w.LINE_FX_TO:x.lineTo(p[N+1],p[N+2]),N+=5;break;case w.MOVE_FX_TO:x.moveTo(p[N+1],p[N+2]),N+=5;break;case w.SAVE:x.save();break;case w.RESTORE:x.restore();break;case w.TRANSLATE:x.translate(p[N+1],p[N+2]),N+=2;break;case w.SCALE:x.scale(p[N+1],p[N+2]),N+=2;break;case w.ROTATE:x.rotate(p[N+1]),N+=1;break;case w.GRADIENT_FILL_STYLE:N+=5;break;case w.GRADIENT_LINE_STYLE:N+=6}x.restore()}}},87079:(S,P,a)=>{var w=a(44603),T=a(43831);w.register("graphics",function(g,f){void 0===g&&(g={}),void 0!==f&&(g.add=f);var h=new T(this.scene,g);return g.add&&this.scene.sys.displayList.add(h),h})},1201:(S,P,a)=>{var w=a(43831);a(39429).register("graphics",function(g){return this.displayList.add(new w(this.scene,g))})},84503:(S,P,a)=>{var T,g;a(29747),T=a(77545),a(32768),g=a(32768),S.exports={renderWebGL:T,renderCanvas:g}},77545:(S,P,a)=>{var w=a(85592),T=a(91296),g=a(61340),f=a(70554),h=function(p,v,x){this.x=p,this.y=v,this.width=x},c=function(p,v,x){this.points=[],this.pointsLength=1,this.points[0]=new h(p,v,x)},u=[],m=new g;S.exports=function(p,v,x,y){if(0!==v.commandBuffer.length){x.addToRenderList(v);var _=p.pipelines.set(v.pipeline,v);p.pipelines.preBatch(v);for(var K,E=T(v,x,y).calc,A=m.loadIdentity(),M=v.commandBuffer,I=x.alpha*v.alpha,k=1,F=_.fillTint,N=_.strokeTint,V=0,B=0,H=0,G=2*Math.PI,tt=[],at=0,lt=!0,J=null,it=f.getTintAppendFloatAlpha,Y=0;Y<M.length;Y++)switch(K=M[Y],K){case w.BEGIN_PATH:tt.length=0,J=null,lt=!0;break;case w.CLOSE_PATH:lt=!1,J&&J.points.length&&J.points.push(J.points[0]);break;case w.FILL_PATH:for(at=0;at<tt.length;at++)_.batchFillPath(tt[at].points,A,E);break;case w.STROKE_PATH:for(at=0;at<tt.length;at++)_.batchStrokePath(tt[at].points,k,lt,A,E);break;case w.LINE_STYLE:k=M[++Y];var ht=it(M[++Y],M[++Y]*I);N.TL=ht,N.TR=ht,N.BL=ht,N.BR=ht;break;case w.FILL_STYLE:var St=it(M[++Y],M[++Y]*I);F.TL=St,F.TR=St,F.BL=St,F.BR=St;break;case w.GRADIENT_FILL_STYLE:var Bt=M[++Y]*I,Yt=M[++Y]*I,$t=M[++Y]*I,qt=M[++Y]*I;F.TL=it(M[++Y],Bt),F.TR=it(M[++Y],Yt),F.BL=it(M[++Y],$t),F.BR=it(M[++Y],qt);break;case w.GRADIENT_LINE_STYLE:k=M[++Y];var ne=M[++Y]*I;N.TL=it(M[++Y],ne),N.TR=it(M[++Y],ne),N.BL=it(M[++Y],ne),N.BR=it(M[++Y],ne);break;case w.ARC:var le=0,Me=M[++Y],pi=M[++Y],Ie=M[++Y],_i=M[++Y],we=M[++Y],ri=M[++Y],Ze=M[++Y];for(we-=_i,ri?we<-G?we=-G:we>0&&(we=we%G-G):we>G?we=G:we<0&&(we=G+we%G),null===J&&(J=new c(Me+Math.cos(_i)*Ie,pi+Math.sin(_i)*Ie,k),tt.push(J),le+=.01);le<1+Ze;)H=we*le+_i,V=Me+Math.cos(H)*Ie,B=pi+Math.sin(H)*Ie,J.points.push(new h(V,B,k)),le+=.01;H=we+_i,V=Me+Math.cos(H)*Ie,B=pi+Math.sin(H)*Ie,J.points.push(new h(V,B,k));break;case w.FILL_RECT:_.batchFillRect(M[++Y],M[++Y],M[++Y],M[++Y],A,E);break;case w.FILL_TRIANGLE:_.batchFillTriangle(M[++Y],M[++Y],M[++Y],M[++Y],M[++Y],M[++Y],A,E);break;case w.STROKE_TRIANGLE:_.batchStrokeTriangle(M[++Y],M[++Y],M[++Y],M[++Y],M[++Y],M[++Y],k,A,E);break;case w.LINE_TO:null!==J?J.points.push(new h(M[++Y],M[++Y],k)):(J=new c(M[++Y],M[++Y],k),tt.push(J));break;case w.MOVE_TO:J=new c(M[++Y],M[++Y],k),tt.push(J);break;case w.SAVE:u.push(A.copyToArray());break;case w.RESTORE:A.copyFromArray(u.pop());break;case w.TRANSLATE:Me=M[++Y],pi=M[++Y],A.translate(Me,pi);break;case w.SCALE:Me=M[++Y],pi=M[++Y],A.scale(Me,pi);break;case w.ROTATE:A.rotate(M[++Y])}p.pipelines.postBatch(v)}}},26479:(S,P,a)=>{var w=a(61061),T=a(83419),g=a(51708),f=a(50792),h=a(46710),c=a(95540),u=a(35154),m=a(97022),d=a(41212),p=a(88492),v=a(35072),x=a(68287),y=new T({Extends:f,initialize:function(E,A,M){f.call(this),M?A&&!Array.isArray(A)&&(A=[A]):Array.isArray(A)?d(A[0])&&(M=A,A=null):d(A)&&(M=A,A=null),this.scene=E,this.children=new v,this.isParent=!0,this.type="Group",this.classType=c(M,"classType",x),this.name=c(M,"name",""),this.active=c(M,"active",!0),this.maxSize=c(M,"maxSize",-1),this.defaultKey=c(M,"defaultKey",null),this.defaultFrame=c(M,"defaultFrame",null),this.runChildUpdate=c(M,"runChildUpdate",!1),this.createCallback=c(M,"createCallback",null),this.removeCallback=c(M,"removeCallback",null),this.createMultipleCallback=c(M,"createMultipleCallback",null),this.internalCreateCallback=c(M,"internalCreateCallback",null),this.internalRemoveCallback=c(M,"internalRemoveCallback",null),A&&this.addMultiple(A),M&&this.createMultiple(M),this.on(g.ADDED_TO_SCENE,this.addedToScene,this),this.on(g.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(_,E,A,M,I,k){if(void 0===_&&(_=0),void 0===E&&(E=0),void 0===A&&(A=this.defaultKey),void 0===M&&(M=this.defaultFrame),void 0===I&&(I=!0),void 0===k&&(k=!0),this.isFull())return null;var F=new this.classType(this.scene,_,E,A,M);return F.addToDisplayList(this.scene.sys.displayList),F.addToUpdateList(),F.visible=I,F.setActive(k),this.add(F),F},createMultiple:function(_){if(this.isFull())return[];Array.isArray(_)||(_=[_]);var E=[];if(_[0].key)for(var A=0;A<_.length;A++){var M=this.createFromConfig(_[A]);E=E.concat(M)}return E},createFromConfig:function(_){if(this.isFull())return[];this.classType=c(_,"classType",this.classType);var E=c(_,"key",void 0),A=c(_,"frame",null),M=c(_,"visible",!0),I=c(_,"active",!0),k=[];if(void 0===E)return k;Array.isArray(E)||(E=[E]),Array.isArray(A)||(A=[A]);var F=c(_,"repeat",0),N=c(_,"randomKey",!1),V=c(_,"randomFrame",!1),B=c(_,"yoyo",!1),H=c(_,"quantity",!1),Q=c(_,"frameQuantity",1),G=c(_,"max",0),K=p(E,A,{max:G,qty:H||Q,random:N,randomB:V,repeat:F,yoyo:B});_.createCallback&&(this.createCallback=_.createCallback),_.removeCallback&&(this.removeCallback=_.removeCallback),_.internalCreateCallback&&(this.internalCreateCallback=_.internalCreateCallback),_.internalRemoveCallback&&(this.internalRemoveCallback=_.internalRemoveCallback);for(var tt=0;tt<K.length;tt++){var at=this.create(0,0,K[tt].a,K[tt].b,M,I);if(!at)break;k.push(at)}if(m(_,"setXY")){var lt=u(_,"setXY.x",0),J=u(_,"setXY.y",0),it=u(_,"setXY.stepX",0),Y=u(_,"setXY.stepY",0);w.SetXY(k,lt,J,it,Y)}if(m(_,"setRotation")){var j=u(_,"setRotation.value",0),nt=u(_,"setRotation.step",0);w.SetRotation(k,j,nt)}if(m(_,"setScale")){var ht=u(_,"setScale.x",1),gt=u(_,"setScale.y",ht),wt=u(_,"setScale.stepX",0),St=u(_,"setScale.stepY",0);w.SetScale(k,ht,gt,wt,St)}if(m(_,"setOrigin")){var Bt=u(_,"setOrigin.x",.5),Yt=u(_,"setOrigin.y",Bt),$t=u(_,"setOrigin.stepX",0),qt=u(_,"setOrigin.stepY",0);w.SetOrigin(k,Bt,Yt,$t,qt)}if(m(_,"setAlpha")){var ne=u(_,"setAlpha.value",1),le=u(_,"setAlpha.step",0);w.SetAlpha(k,ne,le)}if(m(_,"setDepth")){var Me=u(_,"setDepth.value",0),pi=u(_,"setDepth.step",0);w.SetDepth(k,Me,pi)}if(m(_,"setScrollFactor")){var Ie=u(_,"setScrollFactor.x",1),_i=u(_,"setScrollFactor.y",Ie),we=u(_,"setScrollFactor.stepX",0),ri=u(_,"setScrollFactor.stepY",0);w.SetScrollFactor(k,Ie,_i,we,ri)}var Ze=c(_,"hitArea",null),zi=c(_,"hitAreaCallback",null);Ze&&w.SetHitArea(k,Ze,zi);var Cn=c(_,"gridAlign",!1);return Cn&&w.GridAlign(k,Cn),this.createMultipleCallback&&this.createMultipleCallback.call(this,k),k},preUpdate:function(_,E){if(this.runChildUpdate&&0!==this.children.size)for(var A=this.children.entries.slice(),M=0;M<A.length;M++){var I=A[M];I.active&&I.update(_,E)}},add:function(_,E){return void 0===E&&(E=!1),this.isFull()||(this.children.set(_),this.internalCreateCallback&&this.internalCreateCallback.call(this,_),this.createCallback&&this.createCallback.call(this,_),E&&(_.addToDisplayList(this.scene.sys.displayList),_.addToUpdateList()),_.on(g.DESTROY,this.remove,this)),this},addMultiple:function(_,E){if(void 0===E&&(E=!1),Array.isArray(_))for(var A=0;A<_.length;A++)this.add(_[A],E);return this},remove:function(_,E,A){return void 0===E&&(E=!1),void 0===A&&(A=!1),this.children.contains(_)?(this.children.delete(_),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,_),this.removeCallback&&this.removeCallback.call(this,_),_.off(g.DESTROY,this.remove,this),A?_.destroy():E&&(_.removeFromDisplayList(),_.removeFromUpdateList()),this):this},clear:function(_,E){void 0===_&&(_=!1),void 0===E&&(E=!1);for(var A=this.children,M=0;M<A.size;M++){var I=A.entries[M];I.off(g.DESTROY,this.remove,this),E?I.destroy():_&&(I.removeFromDisplayList(),I.removeFromUpdateList())}return this.children.clear(),this},contains:function(_){return this.children.contains(_)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(_,E,A,M){return h(this.children.entries,_,E,A,M)},getFirst:function(_,E,A,M,I,k,F){return this.getHandler(!0,1,_,E,A,M,I,k,F)},getFirstNth:function(_,E,A,M,I,k,F,N){return this.getHandler(!0,_,E,A,M,I,k,F,N)},getLast:function(_,E,A,M,I,k,F){return this.getHandler(!1,1,_,E,A,M,I,k,F)},getLastNth:function(_,E,A,M,I,k,F,N){return this.getHandler(!1,_,E,A,M,I,k,F,N)},getHandler:function(_,E,A,M,I,k,F,N,V){void 0===A&&(A=!1),void 0===M&&(M=!1);var B,H,Q=0,G=this.children.entries;if(_)for(H=0;H<G.length;H++)if((B=G[H]).active===A){if(++Q===E)break}else B=null;else for(H=G.length-1;H>=0;H--)if((B=G[H]).active===A){if(++Q===E)break}else B=null;return B?("number"==typeof I&&(B.x=I),"number"==typeof k&&(B.y=k),B):M?this.create(I,k,F,N,V):null},get:function(_,E,A,M,I){return this.getFirst(!1,!0,_,E,A,M,I)},getFirstAlive:function(_,E,A,M,I,k){return this.getFirst(!0,_,E,A,M,I,k)},getFirstDead:function(_,E,A,M,I,k){return this.getFirst(!1,_,E,A,M,I,k)},playAnimation:function(_,E){return w.PlayAnimation(this.children.entries,_,E),this},isFull:function(){return-1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(_){void 0===_&&(_=!0);for(var E=0,A=0;A<this.children.size;A++)this.children.entries[A].active===_&&E++;return E},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var _=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-_},setActive:function(_){return this.active=_,this},setName:function(_){return this.name=_,this},propertyValueSet:function(_,E,A,M,I){return w.PropertyValueSet(this.children.entries,_,E,A,M,I),this},propertyValueInc:function(_,E,A,M,I){return w.PropertyValueInc(this.children.entries,_,E,A,M,I),this},setX:function(_,E){return w.SetX(this.children.entries,_,E),this},setY:function(_,E){return w.SetY(this.children.entries,_,E),this},setXY:function(_,E,A,M){return w.SetXY(this.children.entries,_,E,A,M),this},incX:function(_,E){return w.IncX(this.children.entries,_,E),this},incY:function(_,E){return w.IncY(this.children.entries,_,E),this},incXY:function(_,E,A,M){return w.IncXY(this.children.entries,_,E,A,M),this},shiftPosition:function(_,E,A){return w.ShiftPosition(this.children.entries,_,E,A),this},angle:function(_,E){return w.Angle(this.children.entries,_,E),this},rotate:function(_,E){return w.Rotate(this.children.entries,_,E),this},rotateAround:function(_,E){return w.RotateAround(this.children.entries,_,E),this},rotateAroundDistance:function(_,E,A){return w.RotateAroundDistance(this.children.entries,_,E,A),this},setAlpha:function(_,E){return w.SetAlpha(this.children.entries,_,E),this},setTint:function(_,E,A,M){return w.SetTint(this.children.entries,_,E,A,M),this},setOrigin:function(_,E,A,M){return w.SetOrigin(this.children.entries,_,E,A,M),this},scaleX:function(_,E){return w.ScaleX(this.children.entries,_,E),this},scaleY:function(_,E){return w.ScaleY(this.children.entries,_,E),this},scaleXY:function(_,E,A,M){return w.ScaleXY(this.children.entries,_,E,A,M),this},setDepth:function(_,E){return w.SetDepth(this.children.entries,_,E),this},setBlendMode:function(_){return w.SetBlendMode(this.children.entries,_),this},setHitArea:function(_,E){return w.SetHitArea(this.children.entries,_,E),this},shuffle:function(){return w.Shuffle(this.children.entries),this},kill:function(_){this.children.contains(_)&&_.setActive(!1)},killAndHide:function(_){this.children.contains(_)&&(_.setActive(!1),_.setVisible(!1))},setVisible:function(_,E,A){return w.SetVisible(this.children.entries,_,E,A),this},toggleVisible:function(){return w.ToggleVisible(this.children.entries),this},destroy:function(_,E){void 0===_&&(_=!1),void 0===E&&(E=!1),this.scene&&!this.ignoreDestroy&&(this.emit(g.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(E,_),this.scene=void 0,this.children=void 0)}});S.exports=y},94975:(S,P,a)=>{var w=a(44603),T=a(26479);w.register("group",function(g){return new T(this.scene,null,g)})},3385:(S,P,a)=>{var w=a(26479);a(39429).register("group",function(g,f){return this.updateList.add(new w(this.scene,g,f))})},88571:(S,P,a)=>{var w=a(83419),T=a(31401),g=a(95643),f=a(59819),h=new w({Extends:g,Mixins:[T.Alpha,T.BlendMode,T.Depth,T.Flip,T.GetBounds,T.Mask,T.Origin,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Size,T.TextureCrop,T.Tint,T.Transform,T.Visible,f],initialize:function(u,m,d,p,v){g.call(this,u,"Image"),this._crop=this.resetCropObject(),this.setTexture(p,v),this.setPosition(m,d),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});S.exports=h},40652:S=>{S.exports=function(a,w,T,g){T.addToRenderList(w),a.batchSprite(w,w.frame,T,g)}},82459:(S,P,a)=>{var w=a(25305),T=a(44603),g=a(23568),f=a(88571);T.register("image",function(h,c){void 0===h&&(h={});var u=g(h,"key",null),m=g(h,"frame",null),d=new f(this.scene,0,0,u,m);return void 0!==c&&(h.add=c),w(this.scene,d,h),d})},2117:(S,P,a)=>{var w=a(88571);a(39429).register("image",function(g,f,h,c){return this.displayList.add(new w(this.scene,g,f,h,c))})},59819:(S,P,a)=>{var T,g;a(29747),T=a(99517),g=a(40652),S.exports={renderWebGL:T,renderCanvas:g}},99517:S=>{S.exports=function(a,w,T,g){T.addToRenderList(w),this.pipeline.batchSprite(w,T,g)}},77856:(S,P,a)=>{var w={Events:a(51708),DisplayList:a(8050),GameObjectCreator:a(44603),GameObjectFactory:a(39429),UpdateList:a(45027),Components:a(31401),GetCalcMatrix:a(91296),BuildGameObject:a(25305),BuildGameObjectAnimation:a(13059),GameObject:a(95643),BitmapText:a(22186),Blitter:a(6107),Bob:a(46590),Container:a(31559),DOMElement:a(3069),DynamicBitmapText:a(2638),Extern:a(42421),Graphics:a(43831),Group:a(26479),Image:a(88571),Layer:a(93595),Particles:a(18404),PathFollower:a(1159),RenderTexture:a(591),RetroFont:a(196),Rope:a(77757),Sprite:a(68287),Text:a(50171),GetTextSize:a(14220),MeasureText:a(79557),TextStyle:a(35762),TileSprite:a(20839),Zone:a(41481),Video:a(18471),Shape:a(17803),Arc:a(23629),Curve:a(89),Ellipse:a(19921),Grid:a(30479),IsoBox:a(61475),IsoTriangle:a(16933),Line:a(57847),Polygon:a(24949),Rectangle:a(74561),Star:a(55911),Triangle:a(36931),Factories:{Blitter:a(12709),Container:a(24961),DOMElement:a(2611),DynamicBitmapText:a(72566),Extern:a(56315),Graphics:a(1201),Group:a(3385),Image:a(2117),Layer:a(20005),Particles:a(676),PathFollower:a(90145),RenderTexture:a(60505),Rope:a(96819),Sprite:a(46409),StaticBitmapText:a(34914),Text:a(68005),TileSprite:a(91681),Zone:a(84175),Video:a(89025),Arc:a(42563),Curve:a(40511),Ellipse:a(1543),Grid:a(34137),IsoBox:a(3933),IsoTriangle:a(49803),Line:a(2481),Polygon:a(64827),Rectangle:a(87959),Star:a(93697),Triangle:a(45245)},Creators:{Blitter:a(9403),Container:a(77143),DynamicBitmapText:a(11164),Graphics:a(87079),Group:a(94975),Image:a(82459),Layer:a(25179),Particles:a(92730),RenderTexture:a(34495),Rope:a(26209),Sprite:a(15567),StaticBitmapText:a(57336),Text:a(71259),TileSprite:a(14167),Zone:a(95261),Video:a(11511)}};w.Shader=a(20071),w.Mesh=a(4703),w.NineSlice=a(28103),w.PointLight=a(80321),w.Plane=a(33663),w.Factories.Shader=a(74177),w.Factories.Mesh=a(9225),w.Factories.NineSlice=a(47521),w.Factories.PointLight=a(71255),w.Factories.Plane=a(30985),w.Creators.Shader=a(54935),w.Creators.Mesh=a(20527),w.Creators.NineSlice=a(28279),w.Creators.PointLight=a(39829),w.Creators.Plane=a(56015),w.Light=a(41432),w.LightsManager=a(61356),w.LightsPlugin=a(88992),S.exports=w},93595:(S,P,a)=>{var w=a(10312),T=a(83419),g=a(31401),f=a(53774),h=a(45893),c=a(50792),u=a(51708),m=a(73162),d=a(33963),p=a(44594),v=a(19186),x=new T({Extends:m,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.PostPipeline,g.Visible,c,d],initialize:function(_,E){m.call(this,_),c.call(this),this.scene=_,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=_.sys,this.events=_.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(w.SKIP_CHECK),E&&this.add(E),_.sys.queueDepthSort()},setActive:function(y){return this.active=y,this},setName:function(y){return this.name=y,this},setState:function(y){return this.state=y,this},setDataEnabled:function(){return this.data||(this.data=new h(this)),this},setData:function(y,_){return this.data||(this.data=new h(this)),this.data.set(y,_),this},incData:function(y,_){return this.data||(this.data=new h(this)),this.data.inc(y,_),this},toggleData:function(y){return this.data||(this.data=new h(this)),this.data.toggle(y),this},getData:function(y){return this.data||(this.data=new h(this)),this.data.get(y)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return f(this)},willRender:function(y){return!(15!==this.renderFlags||0===this.list.length||0!==this.cameraFilter&&this.cameraFilter&y.id)},getIndexList:function(){for(var y=this,_=this.parentContainer,E=[];_&&(E.unshift(_.getIndex(y)),y=_,_.parentContainer);)_=_.parentContainer;return E.unshift(this.displayList.getIndex(y)),E},addChildCallback:function(y){var _=y.displayList;_&&_!==this&&y.removeFromDisplayList(),y.displayList||(this.queueDepthSort(),y.displayList=this,y.emit(u.ADDED_TO_SCENE,y,this.scene),this.events.emit(p.ADDED_TO_SCENE,y,this.scene))},removeChildCallback:function(y){this.queueDepthSort(),y.displayList=null,y.emit(u.REMOVED_FROM_SCENE,y,this.scene),this.events.emit(p.REMOVED_FROM_SCENE,y,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(v(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(y,_){return y._depth-_._depth},getChildren:function(){return this.list},addToDisplayList:function(y){return void 0===y&&(y=this.scene.sys.displayList),this.displayList&&this.displayList!==y&&this.removeFromDisplayList(),y.exists(this)||(this.displayList=y,y.add(this,!0),y.queueDepthSort(),this.emit(u.ADDED_TO_SCENE,this,this.scene),y.events.emit(p.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var y=this.displayList||this.scene.sys.displayList;return y.exists(this)&&(y.remove(this,!0),y.queueDepthSort(),this.displayList=null,this.emit(u.REMOVED_FROM_SCENE,this,this.scene),y.events.emit(p.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(y){if(this.scene&&!this.ignoreDestroy){this.emit(u.DESTROY,this);for(var _=this.list;_.length;)_[0].destroy(y);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});S.exports=x},2956:S=>{S.exports=function(a,w,T){var g=w.list;if(0!==g.length){w.depthSort();var f=-1!==w.blendMode;f||a.setBlendMode(0);var h=w._alpha;w.mask&&w.mask.preRenderCanvas(a,null,T);for(var c=0;c<g.length;c++){var u=g[c];if(u.willRender(T)){var m=u.alpha;!f&&u.blendMode!==a.currentBlendMode&&a.setBlendMode(u.blendMode),u.setAlpha(m*h),u.renderCanvas(a,u,T),u.setAlpha(m)}}w.mask&&w.mask.postRenderCanvas(a)}}},25179:(S,P,a)=>{var w=a(25305),T=a(93595),g=a(44603),f=a(23568);g.register("layer",function(h,c){void 0===h&&(h={});var u=f(h,"children",null),m=new T(this.scene,u);return void 0!==c&&(h.add=c),w(this.scene,m,h),m})},20005:(S,P,a)=>{var w=a(93595);a(39429).register("layer",function(g){return this.displayList.add(new w(this.scene,g))})},33963:(S,P,a)=>{var T,g;a(29747),T=a(15869),g=a(2956),S.exports={renderWebGL:T,renderCanvas:g}},15869:S=>{S.exports=function(a,w,T){var g=w.list,f=g.length;if(0!==f){w.depthSort(),a.pipelines.preBatch(w);var h=-1!==w.blendMode;h||a.setBlendMode(0);for(var c=w.alpha,u=0;u<f;u++){var m=g[u];if(m.willRender(T)){var d,p,v,x;if(void 0!==m.alphaTopLeft)d=m.alphaTopLeft,p=m.alphaTopRight,v=m.alphaBottomLeft,x=m.alphaBottomRight;else{var y=m.alpha;d=y,p=y,v=y,x=y}!h&&m.blendMode!==a.currentBlendMode&&a.setBlendMode(m.blendMode);var _=m.mask;_&&_.preRenderWebGL(a,m,T);var E=m.type;E!==a.currentType&&(a.newType=!0,a.currentType=E),a.nextTypeMatch=u<f-1&&g[u+1].type===a.currentType,m.setAlpha(d*c,p*c,v*c,x*c),m.renderWebGL(a,m,T),m.setAlpha(d,p,v,x),_&&_.postRenderWebGL(a,T),a.newType=!1}}a.pipelines.postBatch(w)}}},41432:(S,P,a)=>{var w=a(96503),T=a(83419),g=a(31401),f=a(51767),h=a(70554),c=new T({Extends:w,Mixins:[g.Origin,g.ScrollFactor,g.Visible],initialize:function(m,d,p,v,x,y,_){w.call(this,m,d,p),this.color=new f(v,x,y),this.intensity=_,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(p)},displayWidth:{get:function(){return this.diameter},set:function(u){this.diameter=u}},displayHeight:{get:function(){return this.diameter},set:function(u){this.diameter=u}},width:{get:function(){return this.diameter},set:function(u){this.diameter=u}},height:{get:function(){return this.diameter},set:function(u){this.diameter=u}},willRender:function(u){return!(c.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&u.id)},setColor:function(u){var m=h.getFloatsFromUintRGB(u);return this.color.set(m[0],m[1],m[2]),this},setIntensity:function(u){return this.intensity=u,this},setRadius:function(u){return this.radius=u,this}});c.RENDER_MASK=15,S.exports=c},61356:(S,P,a)=>{var w=a(81491),T=a(83419),g=a(20339),f=a(41432),h=a(80321),c=a(51767),u=a(19133),m=a(19186),d=a(70554),p=new T({initialize:function(){this.lights=[],this.ambientColor=new c(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(v,x,y,_,E,A){return this.systems.displayList.add(new h(this.scene,v,x,y,_,E,A))},enable:function(){return-1===this.maxLights&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(v){for(var x=this.lights,y=v.worldView,_=[],E=0;E<x.length;E++){var A=x[E];A.willRender(v)&&w(A,y)&&_.push({light:A,distance:g(A.x,A.y,y.centerX,y.centerY)})}return _.length>this.maxLights&&(m(_,this.sortByDistance),_=_.slice(0,this.maxLights)),this.visibleLights=_.length,_},sortByDistance:function(v,x){return v.distance>=x.distance},setAmbientColor:function(v){var x=d.getFloatsFromUintRGB(v);return this.ambientColor.set(x[0],x[1],x[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(v,x,y,_,E){void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=128),void 0===_&&(_=16777215),void 0===E&&(E=1);var A=d.getFloatsFromUintRGB(_),M=new f(v,x,y,A[0],A[1],A[2],E);return this.lights.push(M),M},removeLight:function(v){var x=this.lights.indexOf(v);return x>=0&&u(this.lights,x),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});S.exports=p},88992:(S,P,a)=>{var w=a(83419),T=a(61356),g=a(37277),f=a(44594),h=new w({Extends:T,initialize:function(u){this.scene=u,this.systems=u.sys,u.sys.settings.isBooted||u.sys.events.once(f.BOOT,this.boot,this),T.call(this)},boot:function(){var c=this.systems.events;c.on(f.SHUTDOWN,this.shutdown,this),c.on(f.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});g.register("LightsPlugin",h,"lights"),S.exports=h},4703:(S,P,a)=>{var w=a(83419),T=a(31401),g=a(39506),f=a(83997),h=a(95643),c=a(34684),u=a(92515),m=a(91296),d=a(37867),p=a(29807),v=a(43396),x=a(19186),y=a(25836),_=a(39318),E=new w({Extends:h,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.Mask,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Size,T.Texture,T.Transform,T.Visible,p],initialize:function(M,I,k,F,N,V,B,H,Q,G,K,tt){void 0===I&&(I=0),void 0===k&&(k=0),void 0===F&&(F="__WHITE"),h.call(this,M,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new y,this.modelScale=new y(1,1,1),this.modelRotation=new y,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new d,this.viewPosition=new y,this.viewMatrix=new d,this.projectionMatrix=new d,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.displayOriginX=0,this.displayOriginY=0;var at=M.sys.renderer;this.setPosition(I,k),this.setTexture(F,N),this.setSize(at.width,at.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(at.width,at.height),V&&this.addVertices(V,B,H,Q,G,K,tt)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(A){return this.viewPosition.addScale(y.LEFT,A),this.dirtyCache[10]=1,this},panY:function(A){return this.viewPosition.y+=y.DOWN.y*A,this.dirtyCache[10]=1,this},panZ:function(A){return this.viewPosition.z+=A,this.dirtyCache[10]=1,this},setPerspective:function(A,M,I,k,F){return void 0===I&&(I=45),void 0===k&&(k=.01),void 0===F&&(F=1e3),this.fov=I,this.projectionMatrix.perspective(g(I),A/M,k,F),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(A,M,I,k){return void 0===A&&(A=this.scene.sys.renderer.getAspectRatio()),void 0===M&&(M=1),void 0===I&&(I=-1e3),void 0===k&&(k=1e3),this.fov=0,this.projectionMatrix.ortho(-A,A,-M,M,I,k),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(A){A.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(A,M,I,k,F,N,V,B,H){var G,Q=this.scene.sys.cache.obj.get(A);return Q&&(G=c(Q,this,M,I,k,F,N,V,B,H)),(!G||0===G.verts.length)&&console.warn("Mesh.addVerticesFromObj data empty:",A),this},sortByDepth:function(A,M){return A.depth-M.depth},depthSort:function(){return x(this.faces,this.sortByDepth),this},addVertex:function(A,M,I,k,F,N,V){var B=new _(A,M,I,k,F,N,V);return this.vertices.push(B),B},addFace:function(A,M,I){var k=new f(A,M,I);return this.faces.push(k),this.dirtyCache[9]=-1,k},addVertices:function(A,M,I,k,F,N,V){var B=u(A,M,I,k,F,N,V);return B?(this.faces=this.faces.concat(B.faces),this.vertices=this.vertices.concat(B.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(A){return this.faces[A]},hasFaceAt:function(A,M,I){void 0===I&&(I=this.scene.sys.cameras.main);for(var k=m(this,I).calc,F=this.faces,N=0;N<F.length;N++)if(F[N].contains(A,M,k))return!0;return!1},getFaceAt:function(A,M,I){void 0===I&&(I=this.scene.sys.cameras.main);for(var k=m(this,I).calc,F=this.faces,N=[],V=0;V<F.length;V++){var B=F[V];B.contains(A,M,k)&&N.push(B)}return x(N,this.sortByDepth)},setDebug:function(A,M){return this.debugGraphic=A,this.debugCallback=A||M?M||this.renderDebug:null,this},isDirty:function(){var A=this.modelPosition,M=this.modelRotation,I=this.modelScale,k=this.dirtyCache,F=A.x,N=A.y,V=A.z,B=M.x,H=M.y,Q=M.z,G=I.x,K=I.y,tt=I.z,at=this.getFaceCount(),lt=k[0],J=k[1],it=k[2],Y=k[3],j=k[4],nt=k[5],ht=k[6],gt=k[7],wt=k[8],St=k[9];return k[0]=F,k[1]=N,k[2]=V,k[3]=B,k[4]=H,k[5]=Q,k[6]=G,k[7]=K,k[8]=tt,k[9]=at,lt!==F||J!==N||it!==V||Y!==B||j!==H||nt!==Q||ht!==G||gt!==K||wt!==tt||St!==at},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var A=this.dirtyCache;if(this.ignoreDirtyCache||A[10]||this.isDirty()){var M=this.width,I=this.height,k=this.viewMatrix,F=this.viewPosition;A[10]&&(k.identity(),k.translate(F),k.invert(),A[10]=0);var N=this.transformMatrix;N.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var V=F.z,B=this.faces,H=0;H<B.length;H++)B[H].transformCoordinatesLocal(N,M,I,V);this.depthSort()}},renderDebug:function(A,M){for(var I=A.debugGraphic,k=0;k<M.length;k++){var F=M[k];I.strokeTriangle(F.vertex1.tx,F.vertex1.ty,F.vertex2.tx,F.vertex2.ty,F.vertex3.tx,F.vertex3.ty)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(A){void 0===A&&(A={});var M=function(I,k,F){for(var N=this.faces,V=0;V<N.length;V++)if(N[V].contains(k,F))return!0;return!1}.bind(this);return this.scene.sys.input.enable(this,A,M),this},setTint:function(A){void 0===A&&(A=16777215);for(var M=this.vertices,I=0;I<M.length;I++)M[I].color=A;return this},uvScroll:function(A,M){for(var I=this.faces,k=0;k<I.length;k++)I[k].scrollUV(A,M);return this},uvScale:function(A,M){for(var I=this.faces,k=0;k<I.length;k++)I[k].scaleUV(A,M);return this},tint:{set:function(A){this.setTint(A)}},rotateX:{get:function(){return v(this.modelRotation.x)},set:function(A){this.modelRotation.x=g(A)}},rotateY:{get:function(){return v(this.modelRotation.y)},set:function(A){this.modelRotation.y=g(A)}},rotateZ:{get:function(){return v(this.modelRotation.z)},set:function(A){this.modelRotation.z=g(A)}}});S.exports=E},36488:S=>{S.exports=function(){}},20527:(S,P,a)=>{var w=a(25305),T=a(44603),g=a(23568),f=a(35154),h=a(4703);T.register("mesh",function(c,u){void 0===c&&(c={});var m=g(c,"key",null),d=g(c,"frame",null),p=f(c,"vertices",[]),v=f(c,"uvs",[]),x=f(c,"indicies",[]),y=f(c,"containsZ",!1),_=f(c,"normals",[]),E=f(c,"colors",16777215),A=f(c,"alphas",1),M=new h(this.scene,0,0,m,d,p,v,x,y,_,E,A);return void 0!==u&&(c.add=u),w(this.scene,M,c),M})},9225:(S,P,a)=>{var w=a(4703);a(39429).register("mesh",function(g,f,h,c,u,m,d,p,v,x,y){return this.displayList.add(new w(this.scene,g,f,h,c,u,m,d,p,v,x,y))})},29807:(S,P,a)=>{var T,g;a(29747),T=a(48833),g=a(36488),S.exports={renderWebGL:T,renderCanvas:g}},48833:(S,P,a)=>{var w=a(91296);S.exports=function(g,f,h,c){var u=f.faces,m=u.length;if(0!==m){h.addToRenderList(f);var d=g.pipelines.set(f.pipeline,f),p=w(f,h,c).calc;g.pipelines.preBatch(f);for(var v=d.setGameObject(f),x=d.vertexViewF32,y=d.vertexViewU32,_=d.vertexCount*d.currentShader.vertexComponentCount-1,E=f.tintFill,A=[],M=f.debugCallback,I=p.a,k=p.b,F=p.c,N=p.d,V=p.e,B=p.f,H=f.viewPosition.z,Q=f.hideCCW,G=h.roundPixels,K=h.alpha*f.alpha,tt=0,at=0;at<m;at++){var lt=u[at];lt.isInView(h,Q,H,K,I,k,F,N,V,B,G)&&(d.shouldFlush(3)&&(d.flush(),v=d.setGameObject(f),_=d.vertexCount*d.currentShader.vertexComponentCount-1),_=lt.load(x,y,_,v,E),tt++,d.vertexCount+=3,d.currentBatch.count=d.vertexCount-d.currentBatch.start,M&&A.push(lt))}f.totalFrame+=tt,M&&M.call(f,f,A),g.pipelines.postBatch(f)}}},28103:(S,P,a)=>{var w=a(83419),T=a(31401),g=a(95643),f=a(78023),h=a(39318),c=new w({Extends:g,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.GetBounds,T.Mask,T.Origin,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Texture,T.Transform,T.Visible,f],initialize:function(m,d,p,v,x,y,_,E,A,M,I){g.call(this,m,"NineSlice"),this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.tint=16777215,this.tintFill=!1;var k=m.textures.getFrame(v,x);this.is3Slice=!M&&!I,k&&k.scale9&&(this.is3Slice=k.is3Slice);for(var F=this.is3Slice?18:54,N=0;N<F;N++)this.vertices.push(new h);this.setPosition(d,p),this.setTexture(v,x),this.setSlices(y,_,E,A,M,I,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(u,m,d,p,v,x,y){void 0===d&&(d=10),void 0===p&&(p=10),void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=!1);var _=this.frame,E=!1;if(this.is3Slice&&y&&0!==v&&0!==x&&(E=!0),E)console.warn("Cannot change 9 slice to 3 slice");else{if(_&&_.scale9&&!y){var A=_.data.scale9Borders,M=A.x,I=A.y;d=M,p=_.width-A.w-M,v=I,x=_.height-A.h-I,void 0===u&&(u=_.width),void 0===m&&(m=_.height)}else void 0===u&&(u=256),void 0===m&&(m=256);this._width=u,this._height=m,this.leftWidth=d,this.rightWidth=p,this.topHeight=v,this.bottomHeight=x,this.is3Slice&&(this._height=m=_.height,this.topHeight=m,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var u=this.leftWidth,m=this.rightWidth,d=this.topHeight,p=this.bottomHeight,v=this.frame.width,x=this.frame.height;this.updateQuadUVs(0,0,0,u/v,d/x),this.updateQuadUVs(6,u/v,0,1-m/v,d/x),this.updateQuadUVs(12,1-m/v,0,1,d/x),this.is3Slice||(this.updateQuadUVs(18,0,d/x,u/v,1-p/x),this.updateQuadUVs(24,u/v,d/x,1-m/v,1-p/x),this.updateQuadUVs(30,1-m/v,d/x,1,1-p/x),this.updateQuadUVs(36,0,1-p/x,u/v,1),this.updateQuadUVs(42,u/v,1-p/x,1-m/v,1),this.updateQuadUVs(48,1-m/v,1-p/x,1,1))},updateVertices:function(){var u=this.leftWidth,m=this.rightWidth,d=this.topHeight,p=this.bottomHeight,v=this.width,x=this.height;this.updateQuad(0,-.5,.5,u/v-.5,.5-d/x),this.updateQuad(6,u/v-.5,.5,.5-m/v,.5-d/x),this.updateQuad(12,.5-m/v,.5,.5,.5-d/x),this.is3Slice||(this.updateQuad(18,-.5,.5-d/x,u/v-.5,p/x-.5),this.updateQuad(24,u/v-.5,.5-d/x,.5-m/v,p/x-.5),this.updateQuad(30,.5-m/v,.5-d/x,.5,p/x-.5),this.updateQuad(36,-.5,p/x-.5,u/v-.5,-.5),this.updateQuad(42,u/v-.5,p/x-.5,.5-m/v,-.5),this.updateQuad(48,.5-m/v,p/x-.5,.5,-.5))},updateQuad:function(u,m,d,p,v){var x=this.width,y=this.height,_=this.originX,E=this.originY,A=this.vertices;A[u+0].resize(m,d,x,y,_,E),A[u+1].resize(m,v,x,y,_,E),A[u+2].resize(p,d,x,y,_,E),A[u+3].resize(m,v,x,y,_,E),A[u+4].resize(p,v,x,y,_,E),A[u+5].resize(p,d,x,y,_,E)},updateQuadUVs:function(u,m,d,p,v){var x=this.vertices,y=this.frame,_=y.u0,E=y.v0,A=y.u1,M=y.v1;if(0!==_||1!==A){var I=A-_;m=_+m*I,p=_+p*I}if(0!==E||1!==M){var k=M-E;d=E+d*k,v=E+v*k}x[u+0].setUVs(m,d),x[u+1].setUVs(m,v),x[u+2].setUVs(p,d),x[u+3].setUVs(m,v),x[u+4].setUVs(p,v),x[u+5].setUVs(p,d)},clearTint:function(){return this.setTint(16777215),this},setTint:function(u){return void 0===u&&(u=16777215),this.tint=u,this.tintFill=!1,this},setTintFill:function(u){return this.setTint(u),this.tintFill=!0,this},isTinted:{get:function(){return 16777215!==this.tint}},width:{get:function(){return this._width},set:function(u){this._width=Math.max(u,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(u){this.is3Slice||(this._height=Math.max(u,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(u){this.scaleX=u/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(u){this.scaleY=u/this.height}},setSize:function(u,m){this.width=u,this.height=m,this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},setDisplaySize:function(u,m){return this.displayWidth=u,this.displayHeight=m,this},originX:{get:function(){return this._originX},set:function(u){this._originX=u,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(u){this._originY=u,this.updateVertices()}},setOrigin:function(u,m){return void 0===u&&(u=.5),void 0===m&&(m=u),this._originX=u,this._originY=m,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var u=this.frame.height;this._height=u,this.topHeight=u,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});S.exports=c},28279:(S,P,a)=>{var w=a(25305),T=a(44603),g=a(23568),f=a(35154),h=a(28103);T.register("nineslice",function(c,u){void 0===c&&(c={});var m=g(c,"key",null),d=g(c,"frame",null),p=f(c,"width",256),v=f(c,"height",256),x=f(c,"leftWidth",10),y=f(c,"rightWidth",10),_=f(c,"topHeight",0),E=f(c,"bottomHeight",0),A=new h(this.scene,0,0,m,d,p,v,x,y,_,E);return void 0!==u&&(c.add=u),w(this.scene,A,c),A})},47521:(S,P,a)=>{var w=a(28103);a(39429).register("nineslice",function(g,f,h,c,u,m,d,p,v,x){return this.displayList.add(new w(this.scene,g,f,h,c,u,m,d,p,v,x))})},78023:(S,P,a)=>{var T,g=a(29747);T=a(52230),S.exports={renderWebGL:T,renderCanvas:g}},52230:(S,P,a)=>{var w=a(91296),T=a(70554);S.exports=function(f,h,c,u){var m=h.vertices,d=m.length;if(0!==d){c.addToRenderList(h);var p=f.pipelines.set(h.pipeline,h),v=w(h,c,u,!1).calc;f.pipelines.preBatch(h);var x=p.setGameObject(h),y=p.vertexViewF32,_=p.vertexViewU32,E=p.vertexCount*p.currentShader.vertexComponentCount-1,A=c.roundPixels,M=h.tintFill,k=T.getTintAppendFloatAlpha(h.tint,c.alpha*h.alpha),F=p.vertexAvailable(),N=-1;F<d&&(N=F);for(var V=0;V<d;V++){var B=m[V];V===N&&(p.flush(),x=p.setGameObject(h),E=0),y[++E]=v.getXRound(B.vx,B.vy,A),y[++E]=v.getYRound(B.vx,B.vy,A),y[++E]=B.u,y[++E]=B.v,y[++E]=x,y[++E]=M,_[++E]=k,p.vertexCount++,p.currentBatch.count=p.vertexCount-p.currentBatch.start}f.pipelines.postBatch(h)}}},76472:(S,P,a)=>{var w=a(83419),T=a(44777),g=a(37589),f=a(6113),h=a(91389),c=a(90664),u=new w({Extends:T,initialize:function(d){T.call(this,d,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return null===this.propertyValue?0:9},setMethods:function(){var m=this.propertyValue,d=m,p=this.defaultEmit,v=this.defaultUpdate;if(9===this.method){this.start=m[0],this.ease=f("Linear"),this.interpolation=h("linear"),p=this.easedValueEmit,v=this.easeValueUpdate,d=m[0],this.active=!0;for(var x=0;x<m.length;x++){var y=c(m[x]);this.r.push(y.r),this.g.push(y.g),this.b.push(y.b)}}return this.onEmit=p,this.onUpdate=v,this.current=d,this},setEase:function(m){this.easeName=m,this.ease=f(m)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(m,d,p){var v=this.ease(p),x=this.interpolation(this.r,v),y=this.interpolation(this.g,v),_=this.interpolation(this.b,v),E=g(x,y,_);return this.current=E,E}});S.exports=u},44777:(S,P,a)=>{var w=a(30976),T=a(45319),g=a(83419),f=a(99472),h=a(6113),c=a(95540),u=a(91389),m=a(77720),d=a(15994),p=new g({initialize:function(x,y,_){void 0===_&&(_=!1),this.propertyKey=x,this.propertyValue=y,this.defaultValue=y,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=_,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0},loadConfig:function(v,x){void 0===v&&(v={}),x&&(this.propertyKey=x),this.propertyValue=c(v,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(v){var x;switch(this.method){case 1:case 3:case 8:x=v;break;case 2:this.propertyValue.indexOf(v)>=0&&(x=v);break;case 4:x=m(v,(this.end-this.start)/this.steps),this.counter=x;break;case 5:case 6:case 7:x=T(v,this.start,this.end);break;case 9:x=this.start[0]}return this.current=x,this},getMethod:function(){var v=this.propertyValue;if(null===v)return 0;var x=typeof v;if("number"===x)return 1;if(Array.isArray(v))return 2;if("function"===x)return 3;if("object"===x){if(this.hasBoth(v,"start","end"))return this.has(v,"steps")?4:5;if(this.hasBoth(v,"min","max"))return 6;if(this.has(v,"random"))return 7;if(this.hasEither(v,"onEmit","onUpdate"))return 8;if(this.hasEither(v,"values","interpolation"))return 9}return 0},setMethods:function(){var v=this.propertyValue,x=v,y=this.defaultEmit,_=this.defaultUpdate;switch(this.method){case 1:y=this.staticValueEmit;break;case 2:y=this.randomStaticValueEmit,x=v[0];break;case 3:this._onEmit=v,y=this.proxyEmit;break;case 4:this.start=v.start,this.end=v.end,this.steps=v.steps,this.counter=this.start,this.yoyo=!!this.has(v,"yoyo")&&v.yoyo,this.direction=0,y=this.steppedEmit,x=this.start;break;case 5:this.start=v.start,this.end=v.end;var E=this.has(v,"ease")?v.ease:"Linear";this.ease=h(E,v.easeParams),y=this.has(v,"random")&&v.random?this.randomRangedValueEmit:this.easedValueEmit,_=this.easeValueUpdate,x=this.start;break;case 6:this.start=v.min,this.end=v.max,y=this.has(v,"int")&&v.int?this.randomRangedIntEmit:this.randomRangedValueEmit,x=this.start;break;case 7:var A=v.random;Array.isArray(A)&&(this.start=A[0],this.end=A[1]),y=this.randomRangedIntEmit,x=this.start;break;case 8:this._onEmit=this.has(v,"onEmit")?v.onEmit:this.defaultEmit,this._onUpdate=this.has(v,"onUpdate")?v.onUpdate:this.defaultUpdate,y=this.proxyEmit,_=this.proxyUpdate;break;case 9:this.start=v.values;var M=this.has(v,"ease")?v.ease:"Linear";this.ease=h(M,v.easeParams),this.interpolation=u(v.interpolation),y=this.easedValueEmit,_=this.easeValueUpdate,x=this.start[0]}return this.onEmit=y,this.onUpdate=_,this.current=x,this},has:function(v,x){return v.hasOwnProperty(x)},hasBoth:function(v,x,y){return v.hasOwnProperty(x)&&v.hasOwnProperty(y)},hasEither:function(v,x,y){return v.hasOwnProperty(x)||v.hasOwnProperty(y)},defaultEmit:function(v,x,y){return y},defaultUpdate:function(v,x,y,_){return _},proxyEmit:function(v,x,y){var _=this._onEmit(v,x,y);return this.current=_,_},proxyUpdate:function(v,x,y,_){var E=this._onUpdate(v,x,y,_);return this.current=E,E},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var v=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[v],this.current},randomRangedValueEmit:function(v,x){var y=f(this.start,this.end);return v&&v.data[x]&&(v.data[x].min=y,v.data[x].max=this.end),this.current=y,y},randomRangedIntEmit:function(v,x){var y=w(this.start,this.end);return v&&v.data[x]&&(v.data[x].min=y,v.data[x].max=this.end),this.current=y,y},steppedEmit:function(){var v=this.counter,x=v,y=(this.end-this.start)/this.steps;return this.yoyo?(0===this.direction?(x+=y)>=this.end&&(x=this.end-(x-this.end),this.direction=1):(x-=y)<=this.start&&(x=this.start+(this.start-x),this.direction=0),this.counter=x):this.counter=d(x+y,this.start,this.end),this.current=v,v},easedValueEmit:function(v,x){if(v&&v.data[x]){var y=v.data[x];y.min=this.start,y.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(v,x,y){var E,_=v.data[x],A=this.ease(y);return E=this.interpolation?this.interpolation(this.start,A):(_.max-_.min)*A+_.min,this.current=E,E},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});S.exports=p},24502:(S,P,a)=>{var w=a(83419),T=a(95540),g=a(20286),f=new w({Extends:g,initialize:function(c,u,m,d,p){if("object"==typeof c){var v=c;c=T(v,"x",0),u=T(v,"y",0),m=T(v,"power",0),d=T(v,"epsilon",100),p=T(v,"gravity",50)}else void 0===c&&(c=0),void 0===u&&(u=0),void 0===m&&(m=0),void 0===d&&(d=100),void 0===p&&(p=50);g.call(this,c,u,!0),this._gravity=p,this._power=m*p,this._epsilon=d*d},update:function(h,c){var u=this.x-h.x,m=this.y-h.y,d=u*u+m*m;if(0!==d){var p=Math.sqrt(d);d<this._epsilon&&(d=this._epsilon);var v=this._power*c/(d*p)*100;h.velocityX+=u*v,h.velocityY+=m*v}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(h){this._epsilon=h*h}},power:{get:function(){return this._power/this._gravity},set:function(h){this._power=h*this._gravity}},gravity:{get:function(){return this._gravity},set:function(h){var c=this.power;this._gravity=h,this.power=c}}});S.exports=f},56480:(S,P,a)=>{var w=a(9674),T=a(45319),g=a(83419),f=a(39506),h=a(87841),c=a(11520),u=a(26099),m=new g({initialize:function(p){this.emitter=p,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new u,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=p.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new w(this)),this.bounds=new h},emit:function(d,p,v,x,y,_){return this.emitter.emit(d,p,v,x,y,_)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(d,p){void 0===d&&(d=0),void 0===p&&(p=0),this.x=d,this.y=p},fire:function(d,p){var v=this.emitter,x=v.ops,y=v.getAnim();if(y?this.anims.play(y):(this.frame=v.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(v.getEmitZone(this),this.x+=void 0===d?x.x.onEmit(this,"x"):x.x.steps>0?d+x.x.onEmit(this,"x"):d,this.y+=void 0===p?x.y.onEmit(this,"y"):x.y.steps>0?p+x.y.onEmit(this,"y"):p,this.life=x.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=x.delay.onEmit(this,"delay"),this.holdCurrent=x.hold.onEmit(this,"hold"),this.scaleX=x.scaleX.onEmit(this,"scaleX"),this.scaleY=x.scaleY.active?x.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=x.rotate.onEmit(this,"rotate"),this.rotation=f(this.angle),v.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),0===this.delayCurrent&&v.getDeathZone(this))return this.lifeCurrent=0,!1;var _=x.speedX.onEmit(this,"speedX"),E=x.speedY.active?x.speedY.onEmit(this,"speedY"):_;if(v.radial){var A=f(x.angle.onEmit(this,"angle"));this.velocityX=Math.cos(A)*Math.abs(_),this.velocityY=Math.sin(A)*Math.abs(E)}else if(v.moveTo){var M=x.moveToX.onEmit(this,"moveToX"),I=x.moveToY.onEmit(this,"moveToY"),k=this.life/1e3;this.velocityX=(M-this.x)/k,this.velocityY=(I-this.y)/k}else this.velocityX=_,this.velocityY=E;return v.acceleration&&(this.accelerationX=x.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=x.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=x.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=x.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=x.bounce.onEmit(this,"bounce"),this.alpha=x.alpha.onEmit(this,"alpha"),this.tint=x.color.active?x.color.onEmit(this,"tint"):x.tint.onEmit(this,"tint"),!0},update:function(d,p,v){if(this.lifeCurrent<=0)return!(this.holdCurrent>0)||(this.holdCurrent-=d,this.holdCurrent<=0);if(this.delayCurrent>0)return this.delayCurrent-=d,!1;this.anims&&this.anims.update(0,d);var x=this.emitter,y=x.ops,_=1-this.lifeCurrent/this.life;if(this.lifeT=_,this.x=y.x.onUpdate(this,"x",_,this.x),this.y=y.y.onUpdate(this,"y",_,this.y),x.moveTo){var E=y.moveToX.onUpdate(this,"moveToX",_,x.moveToX),A=y.moveToY.onUpdate(this,"moveToY",_,x.moveToY),M=this.lifeCurrent/1e3;this.velocityX=(E-this.x)/M,this.velocityY=(A-this.y)/M}return this.computeVelocity(x,d,p,v,_),this.scaleX=y.scaleX.onUpdate(this,"scaleX",_,this.scaleX),this.scaleY=y.scaleY.active?y.scaleY.onUpdate(this,"scaleY",_,this.scaleY):this.scaleX,this.angle=y.rotate.onUpdate(this,"rotate",_,this.angle),this.rotation=f(this.angle),x.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=T(y.alpha.onUpdate(this,"alpha",_,this.alpha),0,1),this.tint=y.color.active?y.color.onUpdate(this,"color",_,this.tint):y.tint.onUpdate(this,"tint",_,this.tint),this.lifeCurrent-=d,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(d,p,v,x,y){var _=d.ops,E=this.velocityX,A=this.velocityY,M=_.accelerationX.onUpdate(this,"accelerationX",y,this.accelerationX),I=_.accelerationY.onUpdate(this,"accelerationY",y,this.accelerationY),k=_.maxVelocityX.onUpdate(this,"maxVelocityX",y,this.maxVelocityX),F=_.maxVelocityY.onUpdate(this,"maxVelocityY",y,this.maxVelocityY);this.bounce=_.bounce.onUpdate(this,"bounce",y,this.bounce),A+=d.gravityY*v+I*v,E=T(E+=d.gravityX*v+M*v,-k,k),A=T(A,-F,F),this.velocityX=E,this.velocityY=A,this.x+=E*v,this.y+=A*v,d.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var N=0;N<x.length;N++){var V=x[N];V.active&&V.update(this,p,v,y)}},setSizeToFrame:function(){},getBounds:function(d){void 0===d&&(d=this.emitter.getWorldTransformMatrix());var p=Math.abs(d.scaleX)*this.scaleX,v=Math.abs(d.scaleY)*this.scaleY,x=this.x,y=this.y,_=this.rotation,E=this.frame.width*p/2,A=this.frame.height*v/2,M=this.bounds,I=new u(x-E,y-A),k=new u(x+E,y-A),F=new u(x-E,y+A),N=new u(x+E,y+A);return 0!==_&&(c(I,x,y,_),c(k,x,y,_),c(F,x,y,_),c(N,x,y,_)),d.transformPoint(I.x,I.y,I),d.transformPoint(k.x,k.y,k),d.transformPoint(F.x,F.y,F),d.transformPoint(N.x,N.y,N),M.x=Math.min(I.x,k.x,F.x,N.x),M.y=Math.min(I.y,k.y,F.y,N.y),M.width=Math.max(I.x,k.x,F.x,N.x)-M.x,M.height=Math.max(I.y,k.y,F.y,N.y)-M.y,M},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});S.exports=m},69601:(S,P,a)=>{var w=a(83419),T=a(20286),g=a(87841),f=new w({Extends:T,initialize:function(c,u,m,d,p,v,x,y){void 0===p&&(p=!0),void 0===v&&(v=!0),void 0===x&&(x=!0),void 0===y&&(y=!0),T.call(this,c,u,!0),this.bounds=new g(c,u,m,d),this.collideLeft=p,this.collideRight=v,this.collideTop=x,this.collideBottom=y},update:function(h){var c=this.bounds,u=-h.bounce,m=h.worldPosition;m.x<c.x&&this.collideLeft?(h.x+=c.x-m.x,h.velocityX*=u):m.x>c.right&&this.collideRight&&(h.x-=m.x-c.right,h.velocityX*=u),m.y<c.y&&this.collideTop?(h.y+=c.y-m.y,h.velocityY*=u):m.y>c.bottom&&this.collideBottom&&(h.y-=m.y-c.bottom,h.velocityY*=u)}});S.exports=f},31600:(S,P,a)=>{var w=a(83419),T=a(31401),g=a(53774),f=a(43459),h=a(26388),c=a(19909),u=a(76472),m=a(44777),d=a(20696),p=a(95643),v=a(95540),x=a(26546),y=a(24502),_=a(1985),E=a(97022),A=a(86091),M=a(73162),I=a(20074),k=a(269),F=a(56480),N=a(69601),V=a(68875),B=a(87841),H=a(59996),Q=a(72905),G=a(90668),K=a(19186),tt=a(61340),at=a(26099),lt=a(15994),J=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],it=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],Y=new w({Extends:p,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.Mask,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Texture,T.Transform,T.Visible,G],initialize:function(nt,ht,gt,wt,St){p.call(this,nt,"ParticleEmitter"),this.particleClass=F,this.config=null,this.ops={accelerationX:new m("accelerationX",0),accelerationY:new m("accelerationY",0),alpha:new m("alpha",1),angle:new m("angle",{min:0,max:360},!0),bounce:new m("bounce",0),color:new u("color"),delay:new m("delay",0,!0),hold:new m("hold",0,!0),lifespan:new m("lifespan",1e3,!0),maxVelocityX:new m("maxVelocityX",1e4),maxVelocityY:new m("maxVelocityY",1e4),moveToX:new m("moveToX",0),moveToY:new m("moveToY",0),quantity:new m("quantity",1,!0),rotate:new m("rotate",0),scaleX:new m("scaleX",1),scaleY:new m("scaleY",1),speedX:new m("speedX",0,!0),speedY:new m("speedY",0,!0),tint:new m("tint",16777215),x:new m("x",0),y:new m("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new at,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new tt,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new M(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(ht,gt),this.setTexture(wt),St&&this.setConfig(St)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(j){if(!j)return this;this.config=j;var nt=0,ht="",gt=this.ops;for(nt=0;nt<it.length;nt++)gt[ht=it[nt]].loadConfig(j);for(nt=0;nt<J.length;nt++)E(j,ht=J[nt])&&(this[ht]=v(j,ht));if(this.acceleration=0!==this.accelerationX||0!==this.accelerationY,this.moveTo=0!==this.moveToX&&0!==this.moveToY,E(j,"speed")&&(gt.speedX.loadConfig(j,"speed"),gt.speedY.active=!1),(_(j,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),E(j,"scale")&&(gt.scaleX.loadConfig(j,"scale"),gt.scaleY.active=!1),E(j,"callbackScope")){var wt=v(j,"callbackScope",null);this.emitCallbackScope=wt,this.deathCallbackScope=wt}if(E(j,"emitZone")&&this.addEmitZone(j.emitZone),E(j,"deathZone")&&this.addDeathZone(j.deathZone),E(j,"bounds")){var St=this.addParticleBounds(j.bounds);St.collideLeft=v(j,"collideLeft",!0),St.collideRight=v(j,"collideRight",!0),St.collideTop=v(j,"collideTop",!0),St.collideBottom=v(j,"collideBottom",!0)}return E(j,"followOffset")&&this.followOffset.setFromObject(v(j,"followOffset",0)),E(j,"texture")&&this.setTexture(j.texture),E(j,"frame")?this.setEmitterFrame(j.frame):E(j,"anim")&&this.setAnim(j.anim),E(j,"reserve")&&this.reserve(j.reserve),E(j,"advance")&&this.fastForward(j.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(d.START,this),this},updateConfig:function(j){return j&&this.setConfig(this.config?k(this.config,j):j),this},toJSON:function(){var j=g(this),nt=0,ht="";for(nt=0;nt<J.length;nt++)j[ht=J[nt]]=this[ht];var gt=this.ops;for(nt=0;nt<it.length;nt++)gt[ht=it[nt]]&&(j[ht]=gt[ht].toJSON());return gt.speedY.active||(delete j.speedX,j.speed=gt.speedX.toJSON()),this.scaleX===this.scaleY&&(delete j.scaleX,delete j.scaleY,j.scale=gt.scaleX.toJSON()),j},resetCounters:function(j,nt){var ht=this.counters;ht.fill(0),ht[0]=j,nt&&(ht[5]=1)},startFollow:function(j,nt,ht,gt){return void 0===nt&&(nt=0),void 0===ht&&(ht=0),void 0===gt&&(gt=!1),this.follow=j,this.followOffset.set(nt,ht),this.trackVisible=gt,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var ht,j=this.frames,nt=j.length;return 1===nt?ht=j[0]:this.randomFrame?ht=x(j):(ht=j[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===nt&&(this.currentFrame=0))),this.texture.get(ht)},setEmitterFrame:function(j,nt,ht){void 0===nt&&(nt=!0),void 0===ht&&(ht=1),this.randomFrame=nt,this.frameQuantity=ht,this.currentFrame=0;var gt=typeof j;if(this.frames.length=0,Array.isArray(j))this.frames=this.frames.concat(j);else if("string"===gt||"number"===gt)this.frames.push(j);else if("object"===gt){var wt=j;(j=v(wt,"frames",null))&&(this.frames=this.frames.concat(j));var St=v(wt,"cycle",!1);this.randomFrame=!St,this.frameQuantity=v(wt,"quantity",ht)}return 1===this.frames.length&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var j=this.anims,nt=j.length;if(0===nt)return null;if(1===nt)return j[0];if(this.randomAnim)return x(j);var ht=j[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=lt(this.currentAnim+1,0,nt)),ht},setAnim:function(j,nt,ht){void 0===nt&&(nt=!0),void 0===ht&&(ht=1),this.randomAnim=nt,this.animQuantity=ht,this.currentAnim=0;var gt=typeof j;if(this.anims.length=0,Array.isArray(j))this.anims=this.anims.concat(j);else if("string"===gt)this.anims.push(j);else if("object"===gt){var wt=j;(j=v(wt,"anims",null))&&(this.anims=this.anims.concat(j));var St=v(wt,"cycle",!1);this.randomAnim=!St,this.animQuantity=v(wt,"quantity",ht)}return 1===this.anims.length&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(j){return void 0===j&&(j=!0),this.radial=j,this},addParticleBounds:function(j,nt,ht,gt,wt,St,Bt,Yt){if("object"==typeof j){var $t=j;j=$t.x,nt=$t.y,ht=E($t,"w")?$t.w:$t.width,gt=E($t,"h")?$t.h:$t.height}return this.addParticleProcessor(new N(j,nt,ht,gt,wt,St,Bt,Yt))},setParticleSpeed:function(j,nt){return void 0===nt&&(nt=j),this.ops.speedX.onChange(j),j===nt?this.ops.speedY.active=!1:this.ops.speedY.onChange(nt),this.radial=!0,this},setParticleScale:function(j,nt){return void 0===j&&(j=1),void 0===nt&&(nt=j),this.ops.scaleX.onChange(j),this.ops.scaleY.onChange(nt),this},setParticleGravity:function(j,nt){return this.gravityX=j,this.gravityY=nt,this},setParticleAlpha:function(j){return this.ops.alpha.onChange(j),this},setParticleTint:function(j){return this.ops.tint.onChange(j),this},setEmitterAngle:function(j){return this.ops.angle.onChange(j),this},setParticleLifespan:function(j){return this.ops.lifespan.onChange(j),this},setQuantity:function(j){return this.quantity=j,this},setFrequency:function(j,nt){return this.frequency=j,this.flowCounter=j>0?j:0,nt&&(this.quantity=nt),this},addDeathZone:function(j){Array.isArray(j)||(j=[j]);for(var nt,ht=[],gt=0;gt<j.length;gt++)if((nt=j[gt])instanceof h)ht.push(nt);else if("function"==typeof nt.contains)nt=new h(nt,!0),ht.push(nt);else{var wt=v(nt,"type","onEnter"),St=v(nt,"source",null);St&&"function"==typeof St.contains&&(nt=new h(St,"onEnter"===wt),ht.push(nt))}return this.deathZones=this.deathZones.concat(ht),ht},removeDeathZone:function(j){return Q(this.deathZones,j),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(j){Array.isArray(j)||(j=[j]);for(var nt,ht=[],gt=0;gt<j.length;gt++)if((nt=j[gt])instanceof V||nt instanceof c)ht.push(nt);else{var wt=v(nt,"source",null);if(wt){var St=v(nt,"type","random");if("random"===St&&"function"==typeof wt.getRandomPoint)nt=new V(wt),ht.push(nt);else if("edge"===St&&"function"==typeof wt.getPoints){var Bt=v(nt,"quantity",1),Yt=v(nt,"stepRate",0),$t=v(nt,"yoyo",!1),qt=v(nt,"seamless",!0),ne=v(nt,"total",-1);nt=new c(wt,Bt,Yt,$t,qt,ne),ht.push(nt)}}}return this.emitZones=this.emitZones.concat(ht),ht},removeEmitZone:function(j){return Q(this.emitZones,j),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(j){var nt=this.emitZones,ht=nt.length;if(0!==ht){var gt=nt[this.zoneIndex];gt.getPoint(j),gt.total>-1&&(this.zoneTotal++,this.zoneTotal===gt.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===ht&&(this.zoneIndex=0)))}},getDeathZone:function(j){for(var nt=this.deathZones,ht=0;ht<nt.length;ht++){var gt=nt[ht];if(gt.willKill(j))return this.emit(d.DEATH_ZONE,this,j,gt),!0}return!1},setEmitZone:function(j){var nt;return(nt=isFinite(j)?j:this.emitZones.indexOf(j))>=0&&(this.zoneIndex=nt),this},addParticleProcessor:function(j){return this.processors.exists(j)||(j.emitter&&j.emitter.removeParticleProcessor(j),this.processors.add(j),j.emitter=this),j},removeParticleProcessor:function(j){return this.processors.exists(j)&&(this.processors.remove(j,!0),j.emitter=null),j},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(j){return this.addParticleProcessor(new y(j))},reserve:function(j){var nt=this.dead;if(this.maxParticles>0){var ht=this.getParticleCount();ht+j>this.maxParticles&&(j=this.maxParticles-(ht+j))}for(var gt=0;gt<j;gt++)nt.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles||this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(j,nt){return void 0===j?(this.emitCallback=null,this.emitCallbackScope=null):"function"==typeof j&&(this.emitCallback=j,nt&&(this.emitCallbackScope=nt)),this},onParticleDeath:function(j,nt){return void 0===j?(this.deathCallback=null,this.deathCallbackScope=null):"function"==typeof j&&(this.deathCallback=j,nt&&(this.deathCallbackScope=nt)),this},killAll:function(){for(var j=this.dead,nt=this.alive;nt.length>0;)j.push(nt.pop());return this},forEachAlive:function(j,nt){for(var ht=this.alive,gt=ht.length,wt=0;wt<gt;wt++)j.call(nt,ht[wt],this);return this},forEachDead:function(j,nt){for(var ht=this.dead,gt=ht.length,wt=0;wt<gt;wt++)j.call(nt,ht[wt],this);return this},start:function(j,nt){return void 0===j&&(j=0),this.emitting||(j>0&&this.fastForward(j),this.emitting=!0,this.resetCounters(this.frequency,!0),void 0!==nt&&(this.duration=Math.abs(nt)),this.emit(d.START,this)),this},stop:function(j){return void 0===j&&(j=!1),this.emitting&&(this.emitting=!1,j&&this.killAll(),this.emit(d.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(j,nt){return void 0===j&&(j=""),void 0===nt&&(nt=this.true),this.sortProperty=j,this.sortOrderAsc=nt,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(j){return this.sortCallback=""!==this.sortProperty?this.depthSortCallback:null,this},depthSort:function(){return K(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(j,nt){var ht=this.sortProperty;return this.sortOrderAsc?j[ht]-nt[ht]:nt[ht]-j[ht]},flow:function(j,nt,ht){return void 0===nt&&(nt=1),this.emitting=!1,this.frequency=j,this.quantity=nt,void 0!==ht&&(this.stopAfter=ht),this.start()},explode:function(j,nt,ht){this.frequency=-1,this.resetCounters(-1,!0);var gt=this.emitParticle(j,nt,ht);return this.emit(d.EXPLODE,this,gt),gt},emitParticleAt:function(j,nt,ht){return this.emitParticle(ht,j,nt)},emitParticle:function(j,nt,ht){if(!this.atLimit()){void 0===j&&(j=this.ops.quantity.onEmit());for(var gt=this.dead,wt=this.stopAfter,St=this.follow?this.follow.x+this.followOffset.x:nt,Bt=this.follow?this.follow.y+this.followOffset.y:ht,Yt=0;Yt<j;Yt++){var $t=gt.pop();if($t||($t=new this.particleClass(this)),$t.fire(St,Bt)?(this.particleBringToTop?this.alive.push($t):this.alive.unshift($t),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,$t,this)):this.dead.push($t),wt>0&&(this.stopCounter++,this.stopCounter>=wt)||this.atLimit())break}return $t}},fastForward:function(j,nt){void 0===nt&&(nt=1e3/60);var ht=0;for(this.skipping=!0;ht<Math.abs(j);)this.preUpdate(0,nt),ht+=nt;return this.skipping=!1,this},preUpdate:function(j,nt){var ht=(nt*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var gt=this.getProcessors(),wt=this.alive,St=this.dead,Bt=0,Yt=[],$t=wt.length;for(Bt=0;Bt<$t;Bt++){var qt=wt[Bt];qt.update(nt,ht,gt)&&Yt.push({index:Bt,particle:qt})}if(($t=Yt.length)>0){var ne=this.deathCallback,le=this.deathCallbackScope;for(Bt=$t-1;Bt>=0;Bt--){var Me=Yt[Bt];wt.splice(Me.index,1),St.push(Me.particle),ne&&ne.call(le,Me.particle),Me.particle.setPosition()}}if(this.emitting||this.skipping){if(0===this.frequency)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=nt;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=nt,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())}else 1===this.completeFlag&&0===wt.length&&(this.completeFlag=0,this.emit(d.COMPLETE,this))},overlap:function(j){for(var nt=this.getWorldTransformMatrix(),ht=this.alive,gt=ht.length,wt=[],St=0;St<gt;St++){var Bt=ht[St];H(j,Bt.getBounds(nt))&&wt.push(Bt)}return wt},getBounds:function(j,nt,ht,gt){void 0===j&&(j=0),void 0===nt&&(nt=0),void 0===ht&&(ht=1e3/60),void 0===gt&&(gt=new B);var St,Bt,wt=this.getWorldTransformMatrix(),Yt=this.alive,$t=!1;if(gt.setTo(0,0,0,0),nt>0){var qt=0;for(this.skipping=!0;qt<Math.abs(nt);){for(this.preUpdate(0,ht),St=0;St<Yt.length;St++)Bt=Yt[St].getBounds(wt),$t?I(gt,Bt):($t=!0,f(Bt,gt));qt+=ht}this.skipping=!1}else for(St=0;St<Yt.length;St++)Bt=Yt[St].getBounds(wt),$t?I(gt,Bt):($t=!0,f(Bt,gt));return j>0&&A(gt,j,j),gt},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(j){this.ops.x.onChange(j)}},particleY:{get:function(){return this.ops.y.current},set:function(j){this.ops.y.onChange(j)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(j){this.ops.accelerationX.onChange(j)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(j){this.ops.accelerationY.onChange(j)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(j){this.ops.maxVelocityX.onChange(j)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(j){this.ops.maxVelocityY.onChange(j)}},speed:{get:function(){return this.ops.speedX.current},set:function(j){this.ops.speedX.onChange(j),this.ops.speedY.onChange(j)}},speedX:{get:function(){return this.ops.speedX.current},set:function(j){this.ops.speedX.onChange(j)}},speedY:{get:function(){return this.ops.speedY.current},set:function(j){this.ops.speedY.onChange(j)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(j){this.ops.moveToX.onChange(j)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(j){this.ops.moveToY.onChange(j)}},bounce:{get:function(){return this.ops.bounce.current},set:function(j){this.ops.bounce.onChange(j)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(j){this.ops.scaleX.onChange(j)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(j){this.ops.scaleY.onChange(j)}},particleColor:{get:function(){return this.ops.color.current},set:function(j){this.ops.color.onChange(j)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(j){this.ops.color.setEase(j)}},particleTint:{get:function(){return this.ops.tint.current},set:function(j){this.ops.tint.onChange(j)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(j){this.ops.alpha.onChange(j)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(j){this.ops.lifespan.onChange(j)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(j){this.ops.angle.onChange(j)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(j){this.ops.rotate.onChange(j)}},quantity:{get:function(){return this.ops.quantity.current},set:function(j){this.ops.quantity.onChange(j)}},delay:{get:function(){return this.ops.delay.current},set:function(j){this.ops.delay.onChange(j)}},hold:{get:function(){return this.ops.hold.current},set:function(j){this.ops.hold.onChange(j)}},flowCounter:{get:function(){return this.counters[0]},set:function(j){this.counters[0]=j}},frameCounter:{get:function(){return this.counters[1]},set:function(j){this.counters[1]=j}},animCounter:{get:function(){return this.counters[2]},set:function(j){this.counters[2]=j}},elapsed:{get:function(){return this.counters[3]},set:function(j){this.counters[3]=j}},stopCounter:{get:function(){return this.counters[4]},set:function(j){this.counters[4]=j}},completeFlag:{get:function(){return this.counters[5]},set:function(j){this.counters[5]=j}},zoneIndex:{get:function(){return this.counters[6]},set:function(j){this.counters[6]=j}},zoneTotal:{get:function(){return this.counters[7]},set:function(j){this.counters[7]=j}},currentFrame:{get:function(){return this.counters[8]},set:function(j){this.counters[8]=j}},currentAnim:{get:function(){return this.counters[9]},set:function(j){this.counters[9]=j}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var j,nt=this.ops;for(j=0;j<it.length;j++)nt[it[j]].destroy();for(j=0;j<this.alive.length;j++)this.alive[j].destroy();for(j=0;j<this.dead.length;j++)this.dead[j].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});S.exports=Y},9871:(S,P,a)=>{var w=a(59996),T=a(61340),g=new T,f=new T,h=new T,c=new T;S.exports=function(m,d,p,v){var x=g,y=f,_=h,E=c;v?(E.loadIdentity(),E.multiply(v),E.translate(d.x,d.y),E.rotate(d.rotation),E.scale(d.scaleX,d.scaleY)):E.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY);var A=m.currentContext,M=p.roundPixels,I=p.alpha,k=d.alpha,F=d.alive,N=F.length,V=d.viewBounds;if(d.visible&&0!==N&&(!V||w(V,p.worldView))){d.sortCallback&&d.depthSort(),p.addToRenderList(d);var B=d.scrollFactorX,H=d.scrollFactorY;A.save(),A.globalCompositeOperation=m.blendModes[d.blendMode];for(var Q=0;Q<N;Q++){var G=F[Q],K=G.alpha*k*I;if(!(K<=0||0===G.scaleX||0===G.scaleY)){_.applyITRS(G.x,G.y,G.rotation,G.scaleX,G.scaleY),x.copyFrom(p.matrix),x.multiplyWithOffset(E,-p.scrollX*B,-p.scrollY*H),_.e=G.x,_.f=G.y,x.multiply(_,y);var tt=G.frame,at=tt.canvasData;if(at.width>0&&at.height>0){var lt=-tt.halfWidth,J=-tt.halfHeight;A.globalAlpha=K,A.save(),y.setToContext(A),M&&(lt=Math.round(lt),J=Math.round(J)),A.imageSmoothingEnabled=!tt.source.scaleMode,A.drawImage(tt.source.image,at.x,at.y,at.width,at.height,lt,J,at.width,at.height),A.restore()}}}A.restore()}}},92730:(S,P,a)=>{var w=a(25305),T=a(44603),g=a(23568),f=a(95540),h=a(31600);T.register("particles",function(c,u){void 0===c&&(c={});var m=g(c,"key",null),d=f(c,"config",null),p=new h(this.scene,0,0,m);return void 0!==u&&(c.add=u),w(this.scene,p,c),d&&p.setConfig(d),p})},676:(S,P,a)=>{var w=a(39429),T=a(31600);w.register("particles",function(g,f,h,c){return void 0!==g&&"string"==typeof g&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new T(this.scene,g,f,h,c))})},90668:(S,P,a)=>{var T,g;a(29747),T=a(21188),g=a(9871),S.exports={renderWebGL:T,renderCanvas:g}},21188:(S,P,a)=>{var w=a(59996),T=a(61340),g=a(70554),f=new T,h=new T,c=new T,u=new T;S.exports=function(d,p,v,x){var y=d.pipelines.set(p.pipeline),_=f,E=h,A=c,M=u;x?(M.loadIdentity(),M.multiply(x),M.translate(p.x,p.y),M.rotate(p.rotation),M.scale(p.scaleX,p.scaleY)):M.applyITRS(p.x,p.y,p.rotation,p.scaleX,p.scaleY);var I=g.getTintAppendFloatAlpha,k=v.alpha,F=p.alpha;d.pipelines.preBatch(p);var N=p.alive,V=N.length,B=p.viewBounds;if(0!==V&&(!B||w(B,v.worldView))){p.sortCallback&&p.depthSort(),v.addToRenderList(p),_.copyFrom(v.matrix),_.multiplyWithOffset(M,-v.scrollX*p.scrollFactorX,-v.scrollY*p.scrollFactorY),d.setBlendMode(p.blendMode),p.mask&&(p.mask.preRenderWebGL(d,p,v),d.pipelines.set(p.pipeline));for(var Q,G,H=p.tintFill,K=0;K<V;K++){var tt=N[K],at=tt.alpha*F*k;if(!(at<=0||0===tt.scaleX||0===tt.scaleY)){A.applyITRS(tt.x,tt.y,tt.rotation,tt.scaleX,tt.scaleY),A.e=tt.x,A.f=tt.y,_.multiply(A,E);var lt=tt.frame;lt.glTexture!==G&&(G=lt.glTexture,Q=y.setGameObject(p,lt));var J=-lt.halfWidth,it=-lt.halfHeight,Y=E.setQuad(J,it,J+lt.width,it+lt.height),j=I(tt.tint,at);y.shouldFlush(6)&&(y.flush(),Q=y.setGameObject(p,lt)),y.batchQuad(p,Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],lt.u0,lt.v0,lt.u1,lt.v1,j,j,j,j,H,G,Q)}}p.mask&&p.mask.postRenderWebGL(d,v),d.pipelines.postBatch(p)}}},20286:(S,P,a)=>{var T=new(a(83419))({initialize:function(f,h,c){void 0===f&&(f=0),void 0===h&&(h=0),void 0===c&&(c=!0),this.x=f,this.y=h,this.active=c},update:function(){},destroy:function(){this.emitter=null}});S.exports=T},9774:S=>{S.exports="complete"},812:S=>{S.exports="deathzone"},30522:S=>{S.exports="explode"},96695:S=>{S.exports="start"},18677:S=>{S.exports="stop"},20696:(S,P,a)=>{S.exports={COMPLETE:a(9774),DEATH_ZONE:a(812),EXPLODE:a(30522),START:a(96695),STOP:a(18677)}},18404:(S,P,a)=>{S.exports={EmitterColorOp:a(76472),EmitterOp:a(44777),Events:a(20696),GravityWell:a(24502),Particle:a(56480),ParticleBounds:a(69601),ParticleEmitter:a(31600),ParticleProcessor:a(20286),Zones:a(21024)}},26388:(S,P,a)=>{var T=new(a(83419))({initialize:function(f,h){this.source=f,this.killOnEnter=h},willKill:function(g){var f=this.source.contains(g.x,g.y);return f&&this.killOnEnter||!f&&!this.killOnEnter}});S.exports=T},19909:(S,P,a)=>{var T=new(a(83419))({initialize:function(f,h,c,u,m,d){void 0===u&&(u=!1),void 0===m&&(m=!0),void 0===d&&(d=-1),this.source=f,this.points=[],this.quantity=h,this.stepRate=c,this.yoyo=u,this.counter=-1,this.seamless=m,this._length=0,this._direction=0,this.total=d,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var g=this.points[0],f=this.points[this.points.length-1];g.x===f.x&&g.y===f.y&&this.points.pop()}var h=this._length;return this._length=this.points.length,this._length<h&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(g){return this.source=g,this.updateSource()},getPoint:function(g){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var f=this.points[this.counter];f&&(g.x=f.x,g.y=f.y)}});S.exports=T},68875:(S,P,a)=>{var w=a(83419),T=a(26099),g=new w({initialize:function(h){this.source=h,this._tempVec=new T,this.total=-1},getPoint:function(f){var h=this._tempVec;this.source.getRandomPoint(h),f.x=h.x,f.y=h.y}});S.exports=g},21024:(S,P,a)=>{S.exports={DeathZone:a(26388),EdgeZone:a(19909),RandomZone:a(68875)}},1159:(S,P,a)=>{var w=a(83419),T=a(31401),g=a(68287),f=new w({Extends:g,Mixins:[T.PathFollower],initialize:function(c,u,m,d,p,v){g.call(this,c,m,d,p,v),this.path=u},preUpdate:function(h,c){this.anims.update(h,c),this.pathUpdate(h)}});S.exports=f},90145:(S,P,a)=>{var w=a(39429),T=a(1159);w.register("follower",function(g,f,h,c,u){var m=new T(this.scene,g,f,h,c,u);return this.displayList.add(m),this.updateList.add(m),m})},33663:(S,P,a)=>{var w=a(9674),T=a(83419),g=a(48803),f=a(90664),h=a(4703),c=a(45650),u=new T({Extends:h,initialize:function(d,p,v,x,y,_,E,A){x||(x="__DEFAULT"),h.call(this,d,p,v,x,y),this.type="Plane",this.anims=new w(this),this._checkerboard=null,this.hideCCW=!1,this.setGridSize(_,E,A),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return.5}},originY:{get:function(){return.5}},setGridSize:function(m,d,p){void 0===m&&(m=8),void 0===d&&(d=8),void 0===p&&(p=!1);var v=!1;return p&&(v=!0),this.gridWidth=m,this.gridHeight=d,this.isTiled=p,this.clear(),g({mesh:this,widthSegments:m,heightSegments:d,isOrtho:!1,tile:p,flipY:v}),this},setSizeToFrame:function(m){void 0===m&&(m=!0);var d=this.frame;if(this.setPerspective(this.width/d.width,this.height/d.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!m)return this;var M,I,p=this.gridWidth,v=this.gridHeight,x=this.vertices,y=d.u0,_=d.u1,E=d.v0,A=d.v1,k=0;if(this.isTiled)for(E=d.v1,A=d.v0,I=0;I<v;I++)for(M=0;M<p;M++)x[k++].setUVs(y,A),x[k++].setUVs(y,E),x[k++].setUVs(_,A),x[k++].setUVs(y,E),x[k++].setUVs(_,E),x[k++].setUVs(_,A);else{var F=p+1,N=v+1,V=_-y,B=A-E,H=[];for(I=0;I<N;I++)for(M=0;M<F;M++)H.push(y+V*(M/p),E+B*(I/v));for(I=0;I<v;I++)for(M=0;M<p;M++){var K=2*(M+F*I),tt=2*(M+F*(I+1)),at=2*(M+1+F*(I+1)),lt=2*(M+1+F*I);x[k++].setUVs(H[K],H[K+1]),x[k++].setUVs(H[tt],H[tt+1]),x[k++].setUVs(H[lt],H[lt+1]),x[k++].setUVs(H[tt],H[tt+1]),x[k++].setUVs(H[at],H[at+1]),x[k++].setUVs(H[lt],H[lt+1])}}return this},setViewHeight:function(m){void 0===m&&(m=this.frame.height);var d=this.fov*(Math.PI/180);this.viewPosition.z=this.height/m/Math.tan(d/2),this.dirtyCache[10]=1},createCheckerboard:function(m,d,p,v,x){void 0===m&&(m=16777215),void 0===d&&(d=255),void 0===p&&(p=255),void 0===v&&(v=255),void 0===x&&(x=128);for(var y=f(m),_=f(d),E=[],A=0;A<16;A++)for(var M=0;M<16;M++)A<8&&M<8||A>7&&M>7?E.push(y.r,y.g,y.b,p):E.push(_.r,_.g,_.b,v);var I=this.scene.sys.textures.addUint8Array(c(),new Uint8Array(E),16,16);return this.removeCheckerboard(),this.setTexture(I),this.setSizeToFrame(),this.setViewHeight(x),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(m,d){return this.anims.play(m,d)},playReverse:function(m,d){return this.anims.playReverse(m,d)},playAfterDelay:function(m,d){return this.anims.playAfterDelay(m,d)},playAfterRepeat:function(m,d){return this.anims.playAfterRepeat(m,d)},stop:function(){return this.anims.stop()},stopAfterDelay:function(m){return this.anims.stopAfterDelay(m)},stopAfterRepeat:function(m){return this.anims.stopAfterRepeat(m)},stopOnFrame:function(m){return this.anims.stopOnFrame(m)},preUpdate:function(m,d){h.prototype.preUpdate.call(this,m,d),this.anims.update(m,d)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});S.exports=u},56015:(S,P,a)=>{var w=a(25305),T=a(13059),g=a(44603),f=a(23568),h=a(35154),c=a(33663);g.register("plane",function(u,m){void 0===u&&(u={});var d=f(u,"key",null),p=f(u,"frame",null),v=h(u,"width",8),x=h(u,"height",8),y=h(u,"tile",!1),_=new c(this.scene,0,0,d,p,v,x,y);void 0!==m&&(u.add=m);var E=h(u,"checkerboard",null);if(E){var A=h(E,"color1",16777215),M=h(E,"color2",255),I=h(E,"alpha1",255),k=h(E,"alpha2",255),F=h(E,"height",128);_.createCheckerboard(A,M,I,k,F)}return w(this.scene,_,u),T(_,u),_})},30985:(S,P,a)=>{var w=a(33663);a(39429).register("plane",function(g,f,h,c,u,m,d){return this.displayList.add(new w(this.scene,g,f,h,c,u,m,d))})},80321:(S,P,a)=>{var w=a(83419),T=a(31401),g=a(95643),f=a(30100),h=a(36060),c=a(67277),u=new w({Extends:g,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.Mask,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Transform,T.Visible,c],initialize:function(d,p,v,x,y,_,E){void 0===x&&(x=16777215),void 0===y&&(y=128),void 0===_&&(_=1),void 0===E&&(E=.1),g.call(this,d,"PointLight"),this.initPipeline(h.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(p,v),this.color=f(x),this.intensity=_,this.attenuation=E,this.width=2*y,this.height=2*y,this._radius=y},radius:{get:function(){return this._radius},set:function(m){this._radius=m,this.width=2*m,this.height=2*m}},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});S.exports=u},39829:(S,P,a)=>{var w=a(25305),T=a(44603),g=a(23568),f=a(80321);T.register("pointlight",function(h,c){void 0===h&&(h={});var u=g(h,"color",16777215),m=g(h,"radius",128),d=g(h,"intensity",1),p=g(h,"attenuation",.1),v=new f(this.scene,0,0,u,m,d,p);return void 0!==c&&(h.add=c),w(this.scene,v,h),v})},71255:(S,P,a)=>{var w=a(39429),T=a(80321);w.register("pointlight",function(g,f,h,c,u,m){return this.displayList.add(new T(this.scene,g,f,h,c,u,m))})},67277:(S,P,a)=>{var T,g=a(29747);T=a(57787),S.exports={renderWebGL:T,renderCanvas:g}},57787:(S,P,a)=>{var w=a(91296);S.exports=function(g,f,h,c){h.addToRenderList(f);var u=g.pipelines.set(f.pipeline),m=w(f,h,c).calc,v=-f._radius,x=-f._radius,y=v+f.width,_=x+f.height,E=m.getX(0,0),A=m.getY(0,0),M=m.getX(v,x),I=m.getY(v,x),k=m.getX(v,_),F=m.getY(v,_),N=m.getX(y,_),V=m.getY(y,_),B=m.getX(y,x),H=m.getY(y,x);g.pipelines.preBatch(f),u.batchPointLight(f,h,M,I,k,F,N,V,B,H,E,A),g.pipelines.postBatch(f)}},591:(S,P,a)=>{var w=a(83419),T=a(81320),g=a(88571),f=new w({Extends:g,initialize:function(c,u,m,d,p){void 0===u&&(u=0),void 0===m&&(m=0),void 0===d&&(d=32),void 0===p&&(p=32);var v=new T(c.sys.textures,"",d,p);g.call(this,c,u,m,v),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(h,c){this.width=h,this.height=c,this.texture.setSize(h,c),this.updateDisplayOrigin();var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=h,u.hitArea.height=c),this},resize:function(h,c){return this.setSize(h,c),this},saveTexture:function(h){var c=this.texture;return c.key=h,c.manager.addDynamicTexture(c)&&(this._saved=!0),c},fill:function(h,c,u,m,d,p){return this.texture.fill(h,c,u,m,d,p),this},clear:function(){return this.texture.clear(),this},stamp:function(h,c,u,m,d){return this.texture.stamp(h,c,u,m,d),this},erase:function(h,c,u){return this.texture.erase(h,c,u),this},draw:function(h,c,u,m,d){return this.texture.draw(h,c,u,m,d),this},drawFrame:function(h,c,u,m,d,p){return this.texture.drawFrame(h,c,u,m,d,p),this},repeat:function(h,c,u,m,d,p,v,x,y){return this.texture.repeat(h,c,u,m,d,p,v,x,y),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(h,c,u,m,d){return this.texture.batchDraw(h,c,u,m,d),this},batchDrawFrame:function(h,c,u,m,d,p){return this.texture.batchDrawFrame(h,c,u,m,d,p),this},endDraw:function(h){return this.texture.endDraw(h),this},snapshotArea:function(h,c,u,m,d,p,v){return this.texture.snapshotArea(h,c,u,m,d,p,v),this},snapshot:function(h,c,u){return this.snapshotArea(0,0,this.width,this.height,h,c,u)},snapshotPixel:function(h,c,u){return this.snapshotArea(h,c,1,1,u,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});S.exports=f},34495:(S,P,a)=>{var w=a(25305),T=a(44603),g=a(23568),f=a(591);T.register("renderTexture",function(h,c){void 0===h&&(h={});var u=g(h,"x",0),m=g(h,"y",0),d=g(h,"width",32),p=g(h,"height",32),v=new f(this.scene,u,m,d,p);return void 0!==c&&(h.add=c),w(this.scene,v,h),v})},60505:(S,P,a)=>{var w=a(39429),T=a(591);w.register("renderTexture",function(g,f,h,c){return this.displayList.add(new T(this.scene,g,f,h,c))})},77757:(S,P,a)=>{var w=a(9674),T=a(83419),g=a(31401),f=a(95643),h=a(36060),c=a(38745),u=a(26099),m=new T({Extends:f,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Flip,g.Mask,g.Pipeline,g.PostPipeline,g.Size,g.Texture,g.Transform,g.Visible,g.ScrollFactor,c],initialize:function(p,v,x,y,_,E,A,M,I){void 0===y&&(y="__DEFAULT"),void 0===E&&(E=2),void 0===A&&(A=!0),f.call(this,p,"Rope"),this.anims=new w(this),this.points=E,this.tintFill="__DEFAULT"===y,this.dirty=!1,this.horizontal=A,this._flipX=!1,this._flipY=!1,this._perp=new u,this.debugCallback=null,this.debugGraphic=null,this.setTexture(y,_),this.setPosition(v,x),this.setSizeToFrame(),this.initPipeline(h.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(E)&&this.resizeArrays(E.length),this.setPoints(E,M,I),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(d,p){var v=this.anims.currentFrame;this.anims.update(d,p),this.anims.currentFrame!==v&&(this.updateUVs(),this.updateVertices())},play:function(d,p,v){return this.anims.play(d,p,v),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(d,p,v){return void 0===d&&(d=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(d,p,v))},setVertical:function(d,p,v){return void 0===d&&(d=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(d,p,v)):this},setTintFill:function(d){return void 0===d&&(d=!1),this.tintFill=d,this},setAlphas:function(d,p){var v=this.points.length;if(v<1)return this;var x=this.alphas;void 0===d?d=[1]:!Array.isArray(d)&&void 0===p&&(d=[d]);var y,_=0;if(void 0!==p)for(y=0;y<v;y++)x[_=2*y]=d,x[_+1]=p;else if(d.length===v)for(y=0;y<v;y++)x[_=2*y]=d[y],x[_+1]=d[y];else{var E=d[0];for(y=0;y<v;y++)d.length>(_=2*y)&&(E=d[_]),x[_]=E,d.length>_+1&&(E=d[_+1]),x[_+1]=E}return this},setColors:function(d){var p=this.points.length;if(p<1)return this;var v=this.colors;void 0===d?d=[16777215]:Array.isArray(d)||(d=[d]);var x,y=0;if(d.length===p)for(x=0;x<p;x++)v[y=2*x]=d[x],v[y+1]=d[x];else{var _=d[0];for(x=0;x<p;x++)d.length>(y=2*x)&&(_=d[y]),v[y]=_,d.length>y+1&&(_=d[y+1]),v[y+1]=_}return this},setPoints:function(d,p,v){if(void 0===d&&(d=2),"number"==typeof d){var y,_,E,x=d;if(x<2&&(x=2),d=[],this.horizontal)for(E=-this.frame.halfWidth,_=this.frame.width/(x-1),y=0;y<x;y++)d.push({x:E+y*_,y:0});else for(E=-this.frame.halfHeight,_=this.frame.height/(x-1),y=0;y<x;y++)d.push({x:0,y:E+y*_})}var A=d.length,M=this.points.length;return A<1?(console.warn("Rope: Not enough points given"),this):(1===A&&(d.unshift({x:0,y:0}),A++),M!==A&&this.resizeArrays(A),this.dirty=!0,this.points=d,this.updateUVs(),null!=p&&this.setColors(p),null!=v&&this.setAlphas(v),this)},updateUVs:function(){for(var d=this.uv,p=this.points.length,v=this.frame.u0,x=this.frame.v0,y=this.frame.u1,_=this.frame.v1,E=(y-v)/(p-1),A=(_-x)/(p-1),M=0;M<p;M++){var k,F,N,V,I=4*M;this.horizontal?(this._flipX?(k=y-M*E,N=y-M*E):(k=v+M*E,N=v+M*E),this._flipY?(F=_,V=x):(F=x,V=_)):(this._flipX?(k=v,N=y):(k=y,N=v),this._flipY?(F=_-M*A,V=_-M*A):(F=x+M*A,V=x+M*A)),d[I+0]=k,d[I+1]=F,d[I+2]=N,d[I+3]=V}return this},resizeArrays:function(d){var p=this.colors,v=this.alphas;this.vertices=new Float32Array(4*d),this.uv=new Float32Array(4*d),p=new Uint32Array(2*d),v=new Float32Array(2*d);for(var x=0;x<2*d;x++)p[x]=16777215,v[x]=1;return this.colors=p,this.alphas=v,this.dirty=!0,this},updateVertices:function(){var d=this._perp,p=this.points,v=this.vertices,x=p.length;if(this.dirty=!1,!(x<1)){for(var y,_=p[0],E=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,A=0;A<x;A++){var M=p[A],I=4*A;d.x=(y=A<x-1?p[A+1]:M).y-_.y,d.y=-(y.x-_.x);var k=d.length();d.x/=k,d.y/=k,d.x*=E,d.y*=E,v[I]=M.x+d.x,v[I+1]=M.y+d.y,v[I+2]=M.x-d.x,v[I+3]=M.y-d.y,_=M}return this}},setDebug:function(d,p){return this.debugGraphic=d,this.debugCallback=d||p?p||this.renderDebugVerts:null,this},renderDebugVerts:function(d,p,v){var x=d.debugGraphic,y=v[0],_=v[1],E=v[2],A=v[3];x.lineBetween(y,_,E,A);for(var M=4;M<p;M+=4){var I=v[M+0],k=v[M+1],F=v[M+2],N=v[M+3];x.lineBetween(y,_,I,k),x.lineBetween(E,A,F,N),x.lineBetween(E,A,I,k),x.lineBetween(I,k,F,N),y=I,_=k,E=F,A=N}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(d){return this._flipX=d,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(d){return this._flipY=d,this.updateUVs()}}});S.exports=m},95262:S=>{S.exports=function(){}},26209:(S,P,a)=>{var w=a(25305),T=a(44603),g=a(23568),f=a(35154),h=a(77757);T.register("rope",function(c,u){void 0===c&&(c={});var m=g(c,"key",null),d=g(c,"frame",null),p=g(c,"horizontal",!0),v=f(c,"points",void 0),x=f(c,"colors",void 0),y=f(c,"alphas",void 0),_=new h(this.scene,0,0,m,d,v,p,x,y);return void 0!==u&&(c.add=u),w(this.scene,_,c),_})},96819:(S,P,a)=>{var w=a(77757);a(39429).register("rope",function(g,f,h,c,u,m,d,p){return this.displayList.add(new w(this.scene,g,f,h,c,u,m,d,p))})},38745:(S,P,a)=>{var T,g;a(29747),T=a(20439),g=a(95262),S.exports={renderWebGL:T,renderCanvas:g}},20439:(S,P,a)=>{var w=a(91296),T=a(70554);S.exports=function(f,h,c,u){c.addToRenderList(h);var m=f.pipelines.set(h.pipeline,h),d=w(h,c,u).calc,p=h.vertices,v=h.uv,x=h.colors,y=h.alphas,_=h.alpha,E=T.getTintAppendFloatAlpha,A=c.roundPixels,M=p.length,I=Math.floor(.5*M);m.flush(),f.pipelines.preBatch(h);var k=m.setGameObject(h),F=m.vertexViewF32,N=m.vertexViewU32,V=m.vertexCount*m.currentShader.vertexComponentCount-1,B=0,H=h.tintFill;h.dirty&&h.updateVertices();for(var Q=h.debugCallback,G=[],K=0;K<M;K+=2){var tt=p[K+0],at=p[K+1],lt=tt*d.a+at*d.c+d.e,J=tt*d.b+at*d.d+d.f;A&&(lt=Math.round(lt),J=Math.round(J)),F[++V]=lt,F[++V]=J,F[++V]=v[K+0],F[++V]=v[K+1],F[++V]=k,F[++V]=H,N[++V]=E(x[B],c.alpha*(y[B]*_)),B++,Q&&(G[K+0]=lt,G[K+1]=J)}Q&&Q.call(h,h,M,G),m.vertexCount+=I,m.currentBatch.count=m.vertexCount-m.currentBatch.start,f.pipelines.postBatch(h)}},20071:(S,P,a)=>{var w=a(83419),T=a(31401),g=a(95643),f=a(95540),h=a(79291),c=a(61622),u=a(25479),m=a(61340),d=a(95428),p=a(92503),v=new w({Extends:g,Mixins:[T.ComputedSize,T.Depth,T.GetBounds,T.Mask,T.Origin,T.ScrollFactor,T.Transform,T.Visible,u],initialize:function(y,_,E,A,M,I,k,F){void 0===E&&(E=0),void 0===A&&(A=0),void 0===M&&(M=128),void 0===I&&(I=128),g.call(this,y,"Shader"),this.blendMode=-1;var N=y.sys.renderer;this.renderer=N,this.gl=N.gl,this.vertexData=new ArrayBuffer(2*Float32Array.BYTES_PER_ELEMENT*6),this.vertexBuffer=N.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new m,this._tempMatrix2=new m,this._tempMatrix3=new m,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=N.width,this._rendererHeight=N.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(E,A),this.setSize(M,I),this.setOrigin(.5,.5),this.setShader(_,k,F),this.renderer.on(p.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(x){return!!this.renderToTexture||!(g.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&x.id)},setRenderToTexture:function(x,y){if(void 0===y&&(y=!1),!this.renderToTexture){var _=this.width,E=this.height,A=this.renderer;this.glTexture=A.createTextureFromSource(null,_,E,0),this.framebuffer=A.createFramebuffer(_,E,this.glTexture,!1),this._rendererWidth=_,this._rendererHeight=E,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),x&&(this.texture=this.scene.sys.textures.addGLTexture(x,this.glTexture))}return this.shader&&(A.pipelines.clear(),this.load(),this.flush(),A.pipelines.rebind()),this},setShader:function(x,y,_){if(this.renderer.contextLost)return this._deferSetShader={key:x,textures:y,textureData:_},this;if(void 0===y&&(y=[]),"string"==typeof x){var E=this.scene.sys.cache.shader;if(!E.has(x))return console.warn("Shader missing: "+x),this;this.shader=E.get(x)}else this.shader=x;var A=this.gl,M=this.renderer;this.program&&M.deleteProgram(this.program);var I=M.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);A.uniformMatrix4fv(A.getUniformLocation(I.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),A.uniformMatrix4fv(A.getUniformLocation(I.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),A.uniform2f(A.getUniformLocation(I.webGLProgram,"uResolution"),this.width,this.height),this.program=I;var k=new Date,F={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[k.getFullYear(),k.getMonth(),k.getDate(),60*k.getHours()*60+60*k.getMinutes()+k.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.uniforms=this.shader.uniforms?h(!0,{},this.shader.uniforms,F):F;for(var N=0;N<4;N++)y[N]&&this.setSampler2D("iChannel"+N,y[N],N,_);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(x){return this.pointer=x,this},projOrtho:function(x,y,_,E){if(this.renderer.contextLost)this._deferProjOrtho={left:x,right:y,bottom:_,top:E};else{var I=1/(x-y),k=1/(_-E),N=this.projectionMatrix;N[0]=-2*I,N[5]=-2*k,N[10]=-.001,N[12]=(x+y)*I,N[13]=(E+_)*k,N[14]=-0;var V=this.program,B=this.gl;this.renderer.setProgram(V),B.uniformMatrix4fv(B.getUniformLocation(V.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=y,this._rendererHeight=_}},initUniforms:function(){var x=this.renderer.glFuncMap,y=this.program;for(var _ in this._textureCount=0,this.uniforms){var E=this.uniforms[_],A=E.type,M=x[A];E.uniformLocation=this.renderer.createUniformLocation(y,_),"sampler2D"!==A&&(E.glMatrix=M.matrix,E.glValueLength=M.length,E.glFunc=M.func)}},setSampler2DBuffer:function(x,y,_,E,A,M){void 0===A&&(A=0),void 0===M&&(M={});var I=this.uniforms[x];return I.value=y,M.width=_,M.height=E,I.textureData=M,this._textureCount=A,this.initSampler2D(I),this},setSampler2D:function(x,y,_,E){void 0===_&&(_=0);var A=this.scene.sys.textures;if(A.exists(y)){var M=A.getFrame(y);if(M.glTexture&&M.glTexture.isRenderTexture)return this.setSampler2DBuffer(x,M.glTexture,M.width,M.height,_,E);var I=this.uniforms[x],k=M.source;I.textureKey=y,I.source=k.image,I.value=M.glTexture,k.isGLTexture&&(E||(E={}),E.width=k.width,E.height=k.height),E&&(I.textureData=E),this._textureCount=_,this.initSampler2D(I)}return this},setUniform:function(x,y){return c(this.uniforms,x,y),this},getUniform:function(x){return f(this.uniforms,x,null)},setChannel0:function(x,y){return this.setSampler2D("iChannel0",x,0,y)},setChannel1:function(x,y){return this.setSampler2D("iChannel1",x,1,y)},setChannel2:function(x,y){return this.setSampler2D("iChannel2",x,2,y)},setChannel3:function(x,y){return this.setSampler2D("iChannel3",x,3,y)},initSampler2D:function(x){if(x.value){var y=x.textureData;if(y&&!x.value.isRenderTexture){var _=this.gl,E=x.value,A=_[f(y,"magFilter","linear").toUpperCase()],M=_[f(y,"minFilter","linear").toUpperCase()],I=_[f(y,"wrapS","repeat").toUpperCase()],k=_[f(y,"wrapT","repeat").toUpperCase()],F=_[f(y,"format","rgba").toUpperCase()],N=f(y,"flipY",!1),V=f(y,"width",E.width),B=f(y,"height",E.height),H=f(y,"source",E.pixels);y.repeat&&(I=_.REPEAT,k=_.REPEAT),y.width&&(H=null),E.update(H,V,B,N,I,k,M,A,F)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var _,E,A,M,I,x=this.gl,y=this.uniforms,k=0;for(var F in y)A=(_=y[F]).glFunc,E=_.glValueLength,M=_.uniformLocation,null!==(I=_.value)&&(1===E?_.glMatrix?A.call(x,M.webGLUniformLocation,_.transpose,I):A.call(x,M.webGLUniformLocation,I):2===E?A.call(x,M.webGLUniformLocation,I.x,I.y):3===E?A.call(x,M.webGLUniformLocation,I.x,I.y,I.z):4===E?A.call(x,M.webGLUniformLocation,I.x,I.y,I.z,I.w):"sampler2D"===_.type&&(x.activeTexture(x.TEXTURE0+k),x.bindTexture(x.TEXTURE_2D,I.webGLTexture),x.uniform1i(M.webGLUniformLocation,k),k++))},load:function(x){var y=this.gl,_=this.width,E=this.height,A=this.renderer,M=this.program,I=this.viewMatrix;if(!this.renderToTexture){var k=-this._displayOriginX,F=-this._displayOriginY;I[0]=x[0],I[1]=x[1],I[4]=x[2],I[5]=x[3],I[8]=x[4],I[9]=x[5],I[12]=I[0]*k+I[4]*F,I[13]=I[1]*k+I[5]*F}y.useProgram(M.webGLProgram),y.uniformMatrix4fv(y.getUniformLocation(M.webGLProgram,"uViewMatrix"),!1,I),y.uniformMatrix4fv(y.getUniformLocation(M.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),y.uniform2f(y.getUniformLocation(M.webGLProgram,"uResolution"),this.width,this.height);var N=this.uniforms,V=N.resolution;V.value.x=_,V.value.y=E,N.time.value=A.game.loop.getDuration();var B=this.pointer;if(B){var H=N.mouse,G=1-B.y/E;H.value.x=(B.x/_).toFixed(2),H.value.y=G.toFixed(2)}this.syncUniforms()},flush:function(){var x=this.width,y=this.height,_=this.program,E=this.gl,A=this.vertexBuffer,M=this.renderer,I=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(M.setFramebuffer(this.framebuffer),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT)),E.bindBuffer(E.ARRAY_BUFFER,A.webGLBuffer);var k=E.getAttribLocation(_.webGLProgram,"inPosition");-1!==k&&(E.enableVertexAttribArray(k),E.vertexAttribPointer(k,2,E.FLOAT,!1,I,0));var F=this.vertexViewF32;F[3]=y,F[4]=x,F[5]=y,F[8]=x,F[9]=y,F[10]=x,E.bufferSubData(E.ARRAY_BUFFER,0,this.bytes.subarray(0,6*I)),E.drawArrays(E.TRIANGLES,0,6),this.renderToTexture&&M.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(null!==this._deferSetShader){var x=this._deferSetShader.key,y=this._deferSetShader.textures,_=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(x,y,_)}if(null!==this._deferProjOrtho){var E=this._deferProjOrtho.left,A=this._deferProjOrtho.right,M=this._deferProjOrtho.bottom,I=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(E,A,M,I)}},preDestroy:function(){var x=this.renderer;x.off(p.RESTORE_WEBGL,this.onContextRestored,this),x.deleteProgram(this.program),x.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(x.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),d(this.uniforms,function(y){x.deleteUniformLocation(y.uniformLocation),y.uniformLocation=null})}});S.exports=v},80464:S=>{S.exports=function(){}},54935:(S,P,a)=>{var w=a(25305),T=a(44603),g=a(23568),f=a(20071);T.register("shader",function(h,c){void 0===h&&(h={});var u=g(h,"key",null),m=g(h,"x",0),d=g(h,"y",0),p=g(h,"width",128),v=g(h,"height",128),x=new f(this.scene,u,m,d,p,v);return void 0!==c&&(h.add=c),w(this.scene,x,h),x})},74177:(S,P,a)=>{var w=a(20071);a(39429).register("shader",function(g,f,h,c,u,m,d){return this.displayList.add(new w(this.scene,g,f,h,c,u,m,d))})},25479:(S,P,a)=>{var T,g;a(29747),T=a(19257),g=a(80464),S.exports={renderWebGL:T,renderCanvas:g}},19257:(S,P,a)=>{var w=a(91296);S.exports=function(g,f,h,c){if(f.shader){if(h.addToRenderList(f),g.pipelines.clear(),f.renderToTexture)f.load(),f.flush();else{var u=w(f,h,c).calc;(g.width!==f._rendererWidth||g.height!==f._rendererHeight)&&f.projOrtho(0,g.width,g.height,0),f.load(u.matrix),f.flush()}g.pipelines.rebind()}}},10441:(S,P,a)=>{var w=a(70554);S.exports=function(g,f,h,c,u,m){for(var d=w.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*c),p=h.pathData,v=h.pathIndexes,x=0;x<v.length;x+=3){var y=2*v[x],_=2*v[x+1],E=2*v[x+2],A=p[y+0]-u,M=p[y+1]-m,I=p[_+0]-u,k=p[_+1]-m,F=p[E+0]-u,N=p[E+1]-m,V=f.getX(A,M),B=f.getY(A,M),H=f.getX(I,k),Q=f.getY(I,k),G=f.getX(F,N),K=f.getY(F,N);g.batchTri(h,V,B,H,Q,G,K,0,0,1,1,d,d,d,2)}}},65960:S=>{S.exports=function(a,w,T,g){var f=T||w.fillColor;a.fillStyle="rgba("+((16711680&f)>>>16)+","+((65280&f)>>>8)+","+(255&f)+","+(g||w.fillAlpha)+")"}},75177:S=>{S.exports=function(a,w,T,g){var f=T||w.strokeColor;a.strokeStyle="rgba("+((16711680&f)>>>16)+","+((65280&f)>>>8)+","+(255&f)+","+(g||w.strokeAlpha)+")",a.lineWidth=w.lineWidth}},17803:(S,P,a)=>{var w=a(83419),T=a(31401),g=a(95643),f=a(23031),h=new w({Extends:g,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.GetBounds,T.Mask,T.Origin,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Transform,T.Visible],initialize:function(u,m,d){void 0===m&&(m="Shape"),g.call(this,u,m),this.geom=d,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new f,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(c,u){return void 0===u&&(u=1),void 0===c?this.isFilled=!1:(this.fillColor=c,this.fillAlpha=u,this.isFilled=!0),this},setStrokeStyle:function(c,u,m){return void 0===m&&(m=1),void 0===c?this.isStroked=!1:(this.lineWidth=c,this.strokeColor=u,this.strokeAlpha=m,this.isStroked=!0),this},setClosePath:function(c){return this.closePath=c,this},setSize:function(c,u){return this.width=c,this.height=u,this},setDisplaySize:function(c,u){return this.displayWidth=c,this.displayHeight=u,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(c){this.scaleX=c/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(c){this.scaleY=c/this.height}}});S.exports=h},34682:(S,P,a)=>{var w=a(70554);S.exports=function(g,f,h,c,u){var m=g.strokeTint,d=w.getTintAppendFloatAlpha(f.strokeColor,f.strokeAlpha*h);m.TL=d,m.TR=d,m.BL=d,m.BR=d;var p=f.pathData,v=p.length-1,x=f.lineWidth,y=x/2,_=p[0]-c,E=p[1]-u;f.closePath||(v-=2);for(var A=2;A<v;A+=2){var M=p[A]-c,I=p[A+1]-u;g.batchLine(_,E,M,I,y,y,x,A-2,!!f.closePath&&A===v-1),_=M,E=I}}},23629:(S,P,a)=>{var w=a(13609),T=a(83419),g=a(39506),f=a(94811),h=a(96503),c=a(36383),u=a(17803),m=new T({Extends:u,Mixins:[w],initialize:function(p,v,x,y,_,E,A,M,I){void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=128),void 0===_&&(_=0),void 0===E&&(E=360),void 0===A&&(A=!1),u.call(this,p,"Arc",new h(0,0,y)),this._startAngle=_,this._endAngle=E,this._anticlockwise=A,this._iterations=.01,this.setPosition(v,x);var k=2*this.geom.radius;this.setSize(k,k),void 0!==M&&this.setFillStyle(M,I),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(d){this._iterations=d,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(d){this.geom.radius=d;var p=2*d;this.setSize(p,p),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(d){this._startAngle=d,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(d){this._endAngle=d,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(d){this._anticlockwise=d,this.updateData()}},setRadius:function(d){return this.radius=d,this},setIterations:function(d){return void 0===d&&(d=.01),this.iterations=d,this},setStartAngle:function(d,p){return this._startAngle=d,void 0!==p&&(this._anticlockwise=p),this.updateData()},setEndAngle:function(d,p){return this._endAngle=d,void 0!==p&&(this._anticlockwise=p),this.updateData()},updateData:function(){var d=this._iterations,p=d,v=this.geom.radius,x=g(this._startAngle),y=g(this._endAngle),E=v,A=v;y-=x,this._anticlockwise?y<-c.PI2?y=-c.PI2:y>0&&(y=y%c.PI2-c.PI2):y>c.PI2?y=c.PI2:y<0&&(y=c.PI2+y%c.PI2);for(var I,M=[E+Math.cos(x)*v,A+Math.sin(x)*v];p<1;)I=y*p+x,M.push(E+Math.cos(I)*v,A+Math.sin(I)*v),p+=d;return I=y+x,M.push(E+Math.cos(I)*v,A+Math.sin(I)*v),M.push(E+Math.cos(x)*v,A+Math.sin(x)*v),this.pathIndexes=f(M),this.pathData=M,this}});S.exports=m},42542:(S,P,a)=>{var w=a(39506),T=a(65960),g=a(75177),f=a(20926);S.exports=function(c,u,m,d){m.addToRenderList(u);var p=c.currentContext;if(f(c,p,u,m,d)){var v=u.radius;p.beginPath(),p.arc(v-u.originX*(2*v),v-u.originY*(2*v),v,w(u._startAngle),w(u._endAngle),u.anticlockwise),u.closePath&&p.closePath(),u.isFilled&&(T(p,u),p.fill()),u.isStroked&&(g(p,u),p.stroke()),p.restore()}}},42563:(S,P,a)=>{var w=a(23629),T=a(39429);T.register("arc",function(g,f,h,c,u,m,d,p){return this.displayList.add(new w(this.scene,g,f,h,c,u,m,d,p))}),T.register("circle",function(g,f,h,c,u){return this.displayList.add(new w(this.scene,g,f,h,0,360,!1,c,u))})},13609:(S,P,a)=>{var T,g;a(29747),T=a(41447),g=a(42542),S.exports={renderWebGL:T,renderCanvas:g}},41447:(S,P,a)=>{var w=a(91296),T=a(10441),g=a(34682);S.exports=function(h,c,u,m){u.addToRenderList(c);var d=h.pipelines.set(c.pipeline),p=w(c,u,m),v=d.calcMatrix.copyFrom(p.calc),x=c._displayOriginX,y=c._displayOriginY,_=u.alpha*c.alpha;h.pipelines.preBatch(c),c.isFilled&&T(d,v,c,_,x,y),c.isStroked&&g(d,c,_,x,y),h.pipelines.postBatch(c)}},89:(S,P,a)=>{var w=a(83419),T=a(33141),g=a(94811),f=a(87841),h=a(17803),c=new w({Extends:h,Mixins:[T],initialize:function(m,d,p,v,x,y){void 0===d&&(d=0),void 0===p&&(p=0),h.call(this,m,"Curve",v),this._smoothness=32,this._curveBounds=new f,this.closePath=!1,this.setPosition(d,p),void 0!==x&&this.setFillStyle(x,y),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(u){this._smoothness=u,this.updateData()}},setSmoothness:function(u){return this._smoothness=u,this.updateData()},updateData:function(){var u=this._curveBounds,m=this._smoothness;this.geom.getBounds(u,m),this.setSize(u.width,u.height),this.updateDisplayOrigin();for(var d=[],p=this.geom.getPoints(m),v=0;v<p.length;v++)d.push(p[v].x,p[v].y);return d.push(p[0].x,p[0].y),this.pathIndexes=g(d),this.pathData=d,this}});S.exports=c},3170:(S,P,a)=>{var w=a(65960),T=a(75177),g=a(20926);S.exports=function(h,c,u,m){u.addToRenderList(c);var d=h.currentContext;if(g(h,d,c,u,m)){var p=c._displayOriginX+c._curveBounds.x,v=c._displayOriginY+c._curveBounds.y,x=c.pathData,y=x.length-1,_=x[0]-p,E=x[1]-v;d.beginPath(),d.moveTo(_,E),c.closePath||(y-=2);for(var A=2;A<y;A+=2)d.lineTo(x[A]-p,x[A+1]-v);c.closePath&&d.closePath(),c.isFilled&&(w(d,c),d.fill()),c.isStroked&&(T(d,c),d.stroke()),d.restore()}}},40511:(S,P,a)=>{var w=a(39429),T=a(89);w.register("curve",function(g,f,h,c,u){return this.displayList.add(new T(this.scene,g,f,h,c,u))})},33141:(S,P,a)=>{var T,g;a(29747),T=a(53987),g=a(3170),S.exports={renderWebGL:T,renderCanvas:g}},53987:(S,P,a)=>{var w=a(10441),T=a(91296),g=a(34682);S.exports=function(h,c,u,m){u.addToRenderList(c);var d=h.pipelines.set(c.pipeline),p=T(c,u,m),v=d.calcMatrix.copyFrom(p.calc),x=c._displayOriginX+c._curveBounds.x,y=c._displayOriginY+c._curveBounds.y,_=u.alpha*c.alpha;h.pipelines.preBatch(c),c.isFilled&&w(d,v,c,_,x,y),c.isStroked&&g(d,c,_,x,y),h.pipelines.postBatch(c)}},19921:(S,P,a)=>{var w=a(83419),T=a(94811),g=a(54205),f=a(8497),h=a(17803),c=new w({Extends:h,Mixins:[g],initialize:function(m,d,p,v,x,y,_){void 0===d&&(d=0),void 0===p&&(p=0),void 0===v&&(v=128),void 0===x&&(x=128),h.call(this,m,"Ellipse",new f(v/2,x/2,v,x)),this._smoothness=64,this.setPosition(d,p),this.width=v,this.height=x,void 0!==y&&this.setFillStyle(y,_),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(u){this._smoothness=u,this.updateData()}},setSize:function(u,m){return this.width=u,this.height=m,this.geom.setPosition(u/2,m/2),this.geom.setSize(u,m),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(u){return this._smoothness=u,this.updateData()},updateData:function(){for(var u=[],m=this.geom.getPoints(this._smoothness),d=0;d<m.length;d++)u.push(m[d].x,m[d].y);return u.push(m[0].x,m[0].y),this.pathIndexes=T(u),this.pathData=u,this}});S.exports=c},7930:(S,P,a)=>{var w=a(65960),T=a(75177),g=a(20926);S.exports=function(h,c,u,m){u.addToRenderList(c);var d=h.currentContext;if(g(h,d,c,u,m)){var p=c._displayOriginX,v=c._displayOriginY,x=c.pathData,y=x.length-1,_=x[0]-p,E=x[1]-v;d.beginPath(),d.moveTo(_,E),c.closePath||(y-=2);for(var A=2;A<y;A+=2)d.lineTo(x[A]-p,x[A+1]-v);d.closePath(),c.isFilled&&(w(d,c),d.fill()),c.isStroked&&(T(d,c),d.stroke()),d.restore()}}},1543:(S,P,a)=>{var w=a(19921);a(39429).register("ellipse",function(g,f,h,c,u,m){return this.displayList.add(new w(this.scene,g,f,h,c,u,m))})},54205:(S,P,a)=>{var T,g;a(29747),T=a(19467),g=a(7930),S.exports={renderWebGL:T,renderCanvas:g}},19467:(S,P,a)=>{var w=a(10441),T=a(91296),g=a(34682);S.exports=function(h,c,u,m){u.addToRenderList(c);var d=h.pipelines.set(c.pipeline),p=T(c,u,m),v=d.calcMatrix.copyFrom(p.calc),x=c._displayOriginX,y=c._displayOriginY,_=u.alpha*c.alpha;h.pipelines.preBatch(c),c.isFilled&&w(d,v,c,_,x,y),c.isStroked&&g(d,c,_,x,y),h.pipelines.postBatch(c)}},30479:(S,P,a)=>{var w=a(83419),T=a(17803),g=a(26015),f=new w({Extends:T,Mixins:[g],initialize:function(c,u,m,d,p,v,x,y,_,E,A){void 0===u&&(u=0),void 0===m&&(m=0),void 0===d&&(d=128),void 0===p&&(p=128),void 0===v&&(v=32),void 0===x&&(x=32),T.call(this,c,"Grid",null),this.cellWidth=v,this.cellHeight=x,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.setPosition(u,m),this.setSize(d,p),this.setFillStyle(y,_),void 0!==E&&this.setOutlineStyle(E,A),this.updateDisplayOrigin()},setFillStyle:function(h,c){return void 0===c&&(c=1),void 0===h?this.showCells=!1:(this.fillColor=h,this.fillAlpha=c,this.showCells=!0),this},setAltFillStyle:function(h,c){return void 0===c&&(c=1),void 0===h?this.showAltCells=!1:(this.altFillColor=h,this.altFillAlpha=c,this.showAltCells=!0),this},setOutlineStyle:function(h,c){return void 0===c&&(c=1),void 0===h?this.showOutline=!1:(this.outlineFillColor=h,this.outlineFillAlpha=c,this.showOutline=!0),this}});S.exports=f},49912:(S,P,a)=>{var w=a(65960),T=a(75177),g=a(20926);S.exports=function(h,c,u,m){u.addToRenderList(c);var d=h.currentContext;if(g(h,d,c,u,m)){var p=-c._displayOriginX,v=-c._displayOriginY,x=u.alpha*c.alpha,y=c.width,_=c.height,E=c.cellWidth,A=c.cellHeight,M=Math.ceil(y/E),I=Math.ceil(_/A),k=E,F=A,N=E-(M*E-y),V=A-(I*A-_),H=c.showAltCells,Q=c.showOutline,G=0,K=0,tt=0;if(Q&&(k--,F--,N===E&&N--,V===A&&V--),c.showCells&&c.fillAlpha>0)for(w(d,c),K=0;K<I;K++)for(H&&(tt=K%2),G=0;G<M;G++)H&&tt?tt=0:(tt++,d.fillRect(p+G*E,v+K*A,G<M-1?k:N,K<I-1?F:V));if(H&&c.altFillAlpha>0)for(w(d,c,c.altFillColor,c.altFillAlpha*x),K=0;K<I;K++)for(H&&(tt=K%2),G=0;G<M;G++)!H||tt?(tt=0,d.fillRect(p+G*E,v+K*A,G<M-1?k:N,K<I-1?F:V)):tt=1;if(Q&&c.outlineFillAlpha>0){for(T(d,c,c.outlineFillColor,c.outlineFillAlpha*x),G=1;G<M;G++){var J=G*E;d.beginPath(),d.moveTo(J+p,v),d.lineTo(J+p,_+v),d.stroke()}for(K=1;K<I;K++){var it=K*A;d.beginPath(),d.moveTo(p,it+v),d.lineTo(p+y,it+v),d.stroke()}}d.restore()}}},34137:(S,P,a)=>{var w=a(39429),T=a(30479);w.register("grid",function(g,f,h,c,u,m,d,p,v,x){return this.displayList.add(new T(this.scene,g,f,h,c,u,m,d,p,v,x))})},26015:(S,P,a)=>{var T,g;a(29747),T=a(46161),g=a(49912),S.exports={renderWebGL:T,renderCanvas:g}},46161:(S,P,a)=>{var w=a(91296),T=a(70554);S.exports=function(f,h,c,u){c.addToRenderList(h);var m=f.pipelines.set(h.pipeline),d=w(h,c,u);m.calcMatrix.copyFrom(d.calc).translate(-h._displayOriginX,-h._displayOriginY);var V,B,v=c.alpha*h.alpha,x=h.width,y=h.height,_=h.cellWidth,E=h.cellHeight,A=Math.ceil(x/_),M=Math.ceil(y/E),I=_,k=E,F=_-(A*_-x),N=E-(M*E-y),H=h.showCells,Q=h.showAltCells,G=h.showOutline,K=0,tt=0,at=0;if(G&&(I--,k--,F===_&&F--,N===E&&N--),f.pipelines.preBatch(h),H&&h.fillAlpha>0)for(V=m.fillTint,B=T.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*v),V.TL=B,V.TR=B,V.BL=B,V.BR=B,tt=0;tt<M;tt++)for(Q&&(at=tt%2),K=0;K<A;K++)Q&&at?at=0:(at++,m.batchFillRect(K*_,tt*E,K<A-1?I:F,tt<M-1?k:N));if(Q&&h.altFillAlpha>0)for(V=m.fillTint,B=T.getTintAppendFloatAlpha(h.altFillColor,h.altFillAlpha*v),V.TL=B,V.TR=B,V.BL=B,V.BR=B,tt=0;tt<M;tt++)for(Q&&(at=tt%2),K=0;K<A;K++)!Q||at?(at=0,m.batchFillRect(K*_,tt*E,K<A-1?I:F,tt<M-1?k:N)):at=1;if(G&&h.outlineFillAlpha>0){var it=m.strokeTint,Y=T.getTintAppendFloatAlpha(h.outlineFillColor,h.outlineFillAlpha*v);for(it.TL=Y,it.TR=Y,it.BL=Y,it.BR=Y,K=1;K<A;K++){var j=K*_;m.batchLine(j,0,j,y,1,1,1,0,!1)}for(tt=1;tt<M;tt++){var nt=tt*E;m.batchLine(0,nt,x,nt,1,1,1,0,!1)}}f.pipelines.postBatch(h)}},61475:(S,P,a)=>{var w=a(99651),T=a(83419),g=a(17803),f=new T({Extends:g,Mixins:[w],initialize:function(c,u,m,d,p,v,x,y){void 0===u&&(u=0),void 0===m&&(m=0),void 0===d&&(d=48),void 0===p&&(p=32),void 0===v&&(v=15658734),void 0===x&&(x=10066329),void 0===y&&(y=13421772),g.call(this,c,"IsoBox",null),this.projection=4,this.fillTop=v,this.fillLeft=x,this.fillRight=y,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(u,m),this.setSize(d,p),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setFaces:function(h,c,u){return void 0===h&&(h=!0),void 0===c&&(c=!0),void 0===u&&(u=!0),this.showTop=h,this.showLeft=c,this.showRight=u,this},setFillStyle:function(h,c,u){return this.fillTop=h,this.fillLeft=c,this.fillRight=u,this.isFilled=!0,this}});S.exports=f},11508:(S,P,a)=>{var w=a(65960),T=a(20926);S.exports=function(f,h,c,u){c.addToRenderList(h);var m=f.currentContext;if(T(f,m,h,c,u)&&h.isFilled){var d=h.width,p=h.height,v=d/2,x=d/h.projection;h.showTop&&(w(m,h,h.fillTop),m.beginPath(),m.moveTo(-v,-p),m.lineTo(0,-x-p),m.lineTo(v,-p),m.lineTo(v,-1),m.lineTo(0,x-1),m.lineTo(-v,-1),m.lineTo(-v,-p),m.fill()),h.showLeft&&(w(m,h,h.fillLeft),m.beginPath(),m.moveTo(-v,0),m.lineTo(0,x),m.lineTo(0,x-p),m.lineTo(-v,-p),m.lineTo(-v,0),m.fill()),h.showRight&&(w(m,h,h.fillRight),m.beginPath(),m.moveTo(v,0),m.lineTo(0,x),m.lineTo(0,x-p),m.lineTo(v,-p),m.lineTo(v,0),m.fill()),m.restore()}}},3933:(S,P,a)=>{var w=a(39429),T=a(61475);w.register("isobox",function(g,f,h,c,u,m,d){return this.displayList.add(new T(this.scene,g,f,h,c,u,m,d))})},99651:(S,P,a)=>{var T,g;a(29747),T=a(68149),g=a(11508),S.exports={renderWebGL:T,renderCanvas:g}},68149:(S,P,a)=>{var w=a(91296),T=a(70554);S.exports=function(f,h,c,u){c.addToRenderList(h);var A,M,I,k,F,N,V,B,H,m=f.pipelines.set(h.pipeline),d=w(h,c,u),p=m.calcMatrix.copyFrom(d.calc),v=h.width,x=h.height,y=v/2,_=v/h.projection,E=c.alpha*h.alpha;h.isFilled&&(f.pipelines.preBatch(h),h.showTop&&(A=T.getTintAppendFloatAlpha(h.fillTop,E),M=p.getX(-y,-x),I=p.getY(-y,-x),k=p.getX(0,-_-x),F=p.getY(0,-_-x),N=p.getX(y,-x),V=p.getY(y,-x),B=p.getX(0,_-x),H=p.getY(0,_-x),m.batchQuad(h,M,I,k,F,N,V,B,H,0,0,1,1,A,A,A,A,2)),h.showLeft&&(A=T.getTintAppendFloatAlpha(h.fillLeft,E),M=p.getX(-y,0),I=p.getY(-y,0),k=p.getX(0,_),F=p.getY(0,_),N=p.getX(0,_-x),V=p.getY(0,_-x),B=p.getX(-y,-x),H=p.getY(-y,-x),m.batchQuad(h,M,I,k,F,N,V,B,H,0,0,1,1,A,A,A,A,2)),h.showRight&&(A=T.getTintAppendFloatAlpha(h.fillRight,E),M=p.getX(y,0),I=p.getY(y,0),k=p.getX(0,_),F=p.getY(0,_),N=p.getX(0,_-x),V=p.getY(0,_-x),B=p.getX(y,-x),H=p.getY(y,-x),m.batchQuad(h,M,I,k,F,N,V,B,H,0,0,1,1,A,A,A,A,2)),f.pipelines.postBatch(h))}},16933:(S,P,a)=>{var w=a(83419),T=a(60561),g=a(17803),f=new w({Extends:g,Mixins:[T],initialize:function(c,u,m,d,p,v,x,y,_){void 0===u&&(u=0),void 0===m&&(m=0),void 0===d&&(d=48),void 0===p&&(p=32),void 0===v&&(v=!1),void 0===x&&(x=15658734),void 0===y&&(y=10066329),void 0===_&&(_=13421772),g.call(this,c,"IsoTriangle",null),this.projection=4,this.fillTop=x,this.fillLeft=y,this.fillRight=_,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=v,this.isFilled=!0,this.setPosition(u,m),this.setSize(d,p),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setReversed:function(h){return this.isReversed=h,this},setFaces:function(h,c,u){return void 0===h&&(h=!0),void 0===c&&(c=!0),void 0===u&&(u=!0),this.showTop=h,this.showLeft=c,this.showRight=u,this},setFillStyle:function(h,c,u){return this.fillTop=h,this.fillLeft=c,this.fillRight=u,this.isFilled=!0,this}});S.exports=f},79590:(S,P,a)=>{var w=a(65960),T=a(20926);S.exports=function(f,h,c,u){c.addToRenderList(h);var m=f.currentContext;if(T(f,m,h,c,u)&&h.isFilled){var d=h.width,p=h.height,v=d/2,x=d/h.projection,y=h.isReversed;h.showTop&&y&&(w(m,h,h.fillTop),m.beginPath(),m.moveTo(-v,-p),m.lineTo(0,-x-p),m.lineTo(v,-p),m.lineTo(0,x-p),m.fill()),h.showLeft&&(w(m,h,h.fillLeft),m.beginPath(),y?(m.moveTo(-v,-p),m.lineTo(0,x),m.lineTo(0,x-p)):(m.moveTo(-v,0),m.lineTo(0,x),m.lineTo(0,x-p)),m.fill()),h.showRight&&(w(m,h,h.fillRight),m.beginPath(),y?(m.moveTo(v,-p),m.lineTo(0,x),m.lineTo(0,x-p)):(m.moveTo(v,0),m.lineTo(0,x),m.lineTo(0,x-p)),m.fill()),m.restore()}}},49803:(S,P,a)=>{var w=a(39429),T=a(16933);w.register("isotriangle",function(g,f,h,c,u,m,d,p){return this.displayList.add(new T(this.scene,g,f,h,c,u,m,d,p))})},60561:(S,P,a)=>{var T,g;a(29747),T=a(51503),g=a(79590),S.exports={renderWebGL:T,renderCanvas:g}},51503:(S,P,a)=>{var w=a(91296),T=a(70554);S.exports=function(f,h,c,u){c.addToRenderList(h);var m=f.pipelines.set(h.pipeline),d=w(h,c,u),p=m.calcMatrix.copyFrom(d.calc),v=h.width,x=h.height,y=v/2,_=v/h.projection,E=h.isReversed,A=c.alpha*h.alpha;if(h.isFilled){var M,I,k,F,N,V,B;if(f.pipelines.preBatch(h),h.showTop&&E){M=T.getTintAppendFloatAlpha(h.fillTop,A),I=p.getX(-y,-x),k=p.getY(-y,-x),F=p.getX(0,-_-x),N=p.getY(0,-_-x),V=p.getX(y,-x),B=p.getY(y,-x);var H=p.getX(0,_-x),Q=p.getY(0,_-x);m.batchQuad(h,I,k,F,N,V,B,H,Q,0,0,1,1,M,M,M,M,2)}h.showLeft&&(M=T.getTintAppendFloatAlpha(h.fillLeft,A),E?(I=p.getX(-y,-x),k=p.getY(-y,-x),F=p.getX(0,_),N=p.getY(0,_),V=p.getX(0,_-x),B=p.getY(0,_-x)):(I=p.getX(-y,0),k=p.getY(-y,0),F=p.getX(0,_),N=p.getY(0,_),V=p.getX(0,_-x),B=p.getY(0,_-x)),m.batchTri(h,I,k,F,N,V,B,0,0,1,1,M,M,M,2)),h.showRight&&(M=T.getTintAppendFloatAlpha(h.fillRight,A),E?(I=p.getX(y,-x),k=p.getY(y,-x),F=p.getX(0,_),N=p.getY(0,_),V=p.getX(0,_-x),B=p.getY(0,_-x)):(I=p.getX(y,0),k=p.getY(y,0),F=p.getX(0,_),N=p.getY(0,_),V=p.getX(0,_-x),B=p.getY(0,_-x)),m.batchTri(h,I,k,F,N,V,B,0,0,1,1,M,M,M,2)),f.pipelines.postBatch(h)}}},57847:(S,P,a)=>{var w=a(83419),T=a(17803),g=a(23031),f=a(36823),h=new w({Extends:T,Mixins:[f],initialize:function(u,m,d,p,v,x,y,_,E){void 0===m&&(m=0),void 0===d&&(d=0),void 0===p&&(p=0),void 0===v&&(v=0),void 0===x&&(x=128),void 0===y&&(y=0),T.call(this,u,"Line",new g(p,v,x,y));var A=Math.max(1,this.geom.right-this.geom.left),M=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(m,d),this.setSize(A,M),void 0!==_&&this.setStrokeStyle(1,_,E),this.updateDisplayOrigin()},setLineWidth:function(c,u){return void 0===u&&(u=c),this._startWidth=c,this._endWidth=u,this.lineWidth=c,this},setTo:function(c,u,m,d){return this.geom.setTo(c,u,m,d),this}});S.exports=h},17440:(S,P,a)=>{var w=a(75177),T=a(20926);S.exports=function(f,h,c,u){c.addToRenderList(h);var m=f.currentContext;if(T(f,m,h,c,u)){var d=h._displayOriginX,p=h._displayOriginY;h.isStroked&&(w(m,h),m.beginPath(),m.moveTo(h.geom.x1-d,h.geom.y1-p),m.lineTo(h.geom.x2-d,h.geom.y2-p),m.stroke()),m.restore()}}},2481:(S,P,a)=>{var w=a(39429),T=a(57847);w.register("line",function(g,f,h,c,u,m,d,p){return this.displayList.add(new T(this.scene,g,f,h,c,u,m,d,p))})},36823:(S,P,a)=>{var T,g;a(29747),T=a(77385),g=a(17440),S.exports={renderWebGL:T,renderCanvas:g}},77385:(S,P,a)=>{var w=a(91296),T=a(70554);S.exports=function(f,h,c,u){c.addToRenderList(h);var m=f.pipelines.set(h.pipeline),d=w(h,c,u);m.calcMatrix.copyFrom(d.calc);var p=h._displayOriginX,v=h._displayOriginY,x=c.alpha*h.alpha;if(f.pipelines.preBatch(h),h.isStroked){var y=m.strokeTint,_=T.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*x);y.TL=_,y.TR=_,y.BL=_,y.BR=_,m.batchLine(h.geom.x1-p,h.geom.y1-v,h.geom.x2-p,h.geom.y2-v,h._startWidth/2,h._endWidth/2,1,0,!1,d.sprite,d.camera)}f.pipelines.postBatch(h)}},24949:(S,P,a)=>{var w=a(90273),T=a(83419),g=a(94811),f=a(13829),h=a(25717),c=a(17803),u=a(5469),m=new T({Extends:c,Mixins:[w],initialize:function(p,v,x,y,_,E){void 0===v&&(v=0),void 0===x&&(x=0),c.call(this,p,"Polygon",new h(y));var A=f(this.geom);this.setPosition(v,x),this.setSize(A.width,A.height),void 0!==_&&this.setFillStyle(_,E),this.updateDisplayOrigin(),this.updateData()},smooth:function(d){void 0===d&&(d=1);for(var p=0;p<d;p++)u(this.geom);return this.updateData()},setTo:function(d){this.geom.setTo(d);var p=f(this.geom);return this.setSize(p.width,p.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var d=[],p=this.geom.points,v=0;v<p.length;v++)d.push(p[v].x,p[v].y);return d.push(p[0].x,p[0].y),this.pathIndexes=g(d),this.pathData=d,this}});S.exports=m},38710:(S,P,a)=>{var w=a(65960),T=a(75177),g=a(20926);S.exports=function(h,c,u,m){u.addToRenderList(c);var d=h.currentContext;if(g(h,d,c,u,m)){var p=c._displayOriginX,v=c._displayOriginY,x=c.pathData,y=x.length-1,_=x[0]-p,E=x[1]-v;d.beginPath(),d.moveTo(_,E),c.closePath||(y-=2);for(var A=2;A<y;A+=2)d.lineTo(x[A]-p,x[A+1]-v);c.closePath&&d.closePath(),c.isFilled&&(w(d,c),d.fill()),c.isStroked&&(T(d,c),d.stroke()),d.restore()}}},64827:(S,P,a)=>{var w=a(39429),T=a(24949);w.register("polygon",function(g,f,h,c,u){return this.displayList.add(new T(this.scene,g,f,h,c,u))})},90273:(S,P,a)=>{var T,g;a(29747),T=a(73695),g=a(38710),S.exports={renderWebGL:T,renderCanvas:g}},73695:(S,P,a)=>{var w=a(10441),T=a(91296),g=a(34682);S.exports=function(h,c,u,m){u.addToRenderList(c);var d=h.pipelines.set(c.pipeline),p=T(c,u,m),v=d.calcMatrix.copyFrom(p.calc),x=c._displayOriginX,y=c._displayOriginY,_=u.alpha*c.alpha;h.pipelines.preBatch(c),c.isFilled&&w(d,v,c,_,x,y),c.isStroked&&g(d,c,_,x,y),h.pipelines.postBatch(c)}},74561:(S,P,a)=>{var w=a(83419),T=a(87841),g=a(17803),f=a(95597),h=new w({Extends:g,Mixins:[f],initialize:function(u,m,d,p,v,x,y){void 0===m&&(m=0),void 0===d&&(d=0),void 0===p&&(p=128),void 0===v&&(v=128),g.call(this,u,"Rectangle",new T(0,0,p,v)),this.setPosition(m,d),this.setSize(p,v),void 0!==x&&this.setFillStyle(x,y),this.updateDisplayOrigin(),this.updateData()},setSize:function(c,u){this.width=c,this.height=u,this.geom.setSize(c,u),this.updateData(),this.updateDisplayOrigin();var m=this.input;return m&&!m.customHitArea&&(m.hitArea.width=c,m.hitArea.height=u),this},updateData:function(){var c=[],u=this.geom,m=this._tempLine;return u.getLineA(m),c.push(m.x1,m.y1,m.x2,m.y2),u.getLineB(m),c.push(m.x2,m.y2),u.getLineC(m),c.push(m.x2,m.y2),u.getLineD(m),c.push(m.x2,m.y2),this.pathData=c,this}});S.exports=h},48682:(S,P,a)=>{var w=a(65960),T=a(75177),g=a(20926);S.exports=function(h,c,u,m){u.addToRenderList(c);var d=h.currentContext;if(g(h,d,c,u,m)){var p=c._displayOriginX,v=c._displayOriginY;c.isFilled&&(w(d,c),d.fillRect(-p,-v,c.width,c.height)),c.isStroked&&(T(d,c),d.beginPath(),d.rect(-p,-v,c.width,c.height),d.stroke()),d.restore()}}},87959:(S,P,a)=>{var w=a(39429),T=a(74561);w.register("rectangle",function(g,f,h,c,u,m){return this.displayList.add(new T(this.scene,g,f,h,c,u,m))})},95597:(S,P,a)=>{var T,g;a(29747),T=a(52059),g=a(48682),S.exports={renderWebGL:T,renderCanvas:g}},52059:(S,P,a)=>{var w=a(91296),T=a(34682),g=a(70554);S.exports=function(h,c,u,m){u.addToRenderList(c);var d=h.pipelines.set(c.pipeline),p=w(c,u,m);d.calcMatrix.copyFrom(p.calc);var v=c._displayOriginX,x=c._displayOriginY,y=u.alpha*c.alpha;if(h.pipelines.preBatch(c),c.isFilled){var _=d.fillTint,E=g.getTintAppendFloatAlpha(c.fillColor,c.fillAlpha*y);_.TL=E,_.TR=E,_.BL=E,_.BR=E,d.batchFillRect(-v,-x,c.width,c.height)}c.isStroked&&T(d,c,y,v,x),h.pipelines.postBatch(c)}},55911:(S,P,a)=>{var w=a(81991),T=a(83419),g=a(94811),f=a(17803),h=new T({Extends:f,Mixins:[w],initialize:function(u,m,d,p,v,x,y,_){void 0===m&&(m=0),void 0===d&&(d=0),void 0===p&&(p=5),void 0===v&&(v=32),void 0===x&&(x=64),f.call(this,u,"Star",null),this._points=p,this._innerRadius=v,this._outerRadius=x,this.setPosition(m,d),this.setSize(2*x,2*x),void 0!==y&&this.setFillStyle(y,_),this.updateDisplayOrigin(),this.updateData()},setPoints:function(c){return this._points=c,this.updateData()},setInnerRadius:function(c){return this._innerRadius=c,this.updateData()},setOuterRadius:function(c){return this._outerRadius=c,this.updateData()},points:{get:function(){return this._points},set:function(c){this._points=c,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(c){this._innerRadius=c,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(c){this._outerRadius=c,this.updateData()}},updateData:function(){var c=[],u=this._points,m=this._innerRadius,d=this._outerRadius,p=Math.PI/2*3,v=Math.PI/u,x=d,y=d;c.push(x,y+-d);for(var _=0;_<u;_++)c.push(x+Math.cos(p)*d,y+Math.sin(p)*d),p+=v,c.push(x+Math.cos(p)*m,y+Math.sin(p)*m),p+=v;return c.push(x,y+-d),this.pathIndexes=g(c),this.pathData=c,this}});S.exports=h},64272:(S,P,a)=>{var w=a(65960),T=a(75177),g=a(20926);S.exports=function(h,c,u,m){u.addToRenderList(c);var d=h.currentContext;if(g(h,d,c,u,m)){var p=c._displayOriginX,v=c._displayOriginY,x=c.pathData,y=x.length-1,_=x[0]-p,E=x[1]-v;d.beginPath(),d.moveTo(_,E),c.closePath||(y-=2);for(var A=2;A<y;A+=2)d.lineTo(x[A]-p,x[A+1]-v);d.closePath(),c.isFilled&&(w(d,c),d.fill()),c.isStroked&&(T(d,c),d.stroke()),d.restore()}}},93697:(S,P,a)=>{var w=a(55911);a(39429).register("star",function(g,f,h,c,u,m,d){return this.displayList.add(new w(this.scene,g,f,h,c,u,m,d))})},81991:(S,P,a)=>{var T,g;a(29747),T=a(57017),g=a(64272),S.exports={renderWebGL:T,renderCanvas:g}},57017:(S,P,a)=>{var w=a(10441),T=a(91296),g=a(34682);S.exports=function(h,c,u,m){u.addToRenderList(c);var d=h.pipelines.set(c.pipeline),p=T(c,u,m),v=d.calcMatrix.copyFrom(p.calc),x=c._displayOriginX,y=c._displayOriginY,_=u.alpha*c.alpha;h.pipelines.preBatch(c),c.isFilled&&w(d,v,c,_,x,y),c.isStroked&&g(d,c,_,x,y),h.pipelines.postBatch(c)}},36931:(S,P,a)=>{var w=a(83419),T=a(17803),g=a(16483),f=a(96195),h=new w({Extends:T,Mixins:[f],initialize:function(u,m,d,p,v,x,y,_,E,A,M){void 0===m&&(m=0),void 0===d&&(d=0),void 0===p&&(p=0),void 0===v&&(v=128),void 0===x&&(x=64),void 0===y&&(y=0),void 0===_&&(_=128),void 0===E&&(E=128),T.call(this,u,"Triangle",new g(p,v,x,y,_,E));var I=this.geom.right-this.geom.left,k=this.geom.bottom-this.geom.top;this.setPosition(m,d),this.setSize(I,k),void 0!==A&&this.setFillStyle(A,M),this.updateDisplayOrigin(),this.updateData()},setTo:function(c,u,m,d,p,v){return this.geom.setTo(c,u,m,d,p,v),this.updateData()},updateData:function(){var c=[],u=this.geom,m=this._tempLine;return u.getLineA(m),c.push(m.x1,m.y1,m.x2,m.y2),u.getLineB(m),c.push(m.x2,m.y2),u.getLineC(m),c.push(m.x2,m.y2),this.pathData=c,this}});S.exports=h},85172:(S,P,a)=>{var w=a(65960),T=a(75177),g=a(20926);S.exports=function(h,c,u,m){u.addToRenderList(c);var d=h.currentContext;if(g(h,d,c,u,m)){var p=c._displayOriginX,v=c._displayOriginY,x=c.geom.x1-p,y=c.geom.y1-v,_=c.geom.x2-p,E=c.geom.y2-v,A=c.geom.x3-p,M=c.geom.y3-v;d.beginPath(),d.moveTo(x,y),d.lineTo(_,E),d.lineTo(A,M),d.closePath(),c.isFilled&&(w(d,c),d.fill()),c.isStroked&&(T(d,c),d.stroke()),d.restore()}}},45245:(S,P,a)=>{var w=a(39429),T=a(36931);w.register("triangle",function(g,f,h,c,u,m,d,p,v,x){return this.displayList.add(new T(this.scene,g,f,h,c,u,m,d,p,v,x))})},96195:(S,P,a)=>{var T,g;a(29747),T=a(83253),g=a(85172),S.exports={renderWebGL:T,renderCanvas:g}},83253:(S,P,a)=>{var w=a(91296),T=a(34682),g=a(70554);S.exports=function(h,c,u,m){u.addToRenderList(c);var d=h.pipelines.set(c.pipeline),p=w(c,u,m);d.calcMatrix.copyFrom(p.calc);var v=c._displayOriginX,x=c._displayOriginY,y=u.alpha*c.alpha;if(h.pipelines.preBatch(c),c.isFilled){var _=d.fillTint,E=g.getTintAppendFloatAlpha(c.fillColor,c.fillAlpha*y);_.TL=E,_.TR=E,_.BL=E,_.BR=E,d.batchFillTriangle(c.geom.x1-v,c.geom.y1-x,c.geom.x2-v,c.geom.y2-x,c.geom.x3-v,c.geom.y3-x,p.sprite,p.camera)}c.isStroked&&T(d,c,y,v,x),h.pipelines.postBatch(c)}},68287:(S,P,a)=>{var w=a(9674),T=a(83419),g=a(31401),f=a(95643),h=a(92751),c=new T({Extends:f,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.TextureCrop,g.Tint,g.Transform,g.Visible,h],initialize:function(m,d,p,v,x){f.call(this,m,"Sprite"),this._crop=this.resetCropObject(),this.anims=new w(this),this.setTexture(v,x),this.setPosition(d,p),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(u,m){this.anims.update(u,m)},play:function(u,m){return this.anims.play(u,m)},playReverse:function(u,m){return this.anims.playReverse(u,m)},playAfterDelay:function(u,m){return this.anims.playAfterDelay(u,m)},playAfterRepeat:function(u,m){return this.anims.playAfterRepeat(u,m)},chain:function(u){return this.anims.chain(u)},stop:function(){return this.anims.stop()},stopAfterDelay:function(u){return this.anims.stopAfterDelay(u)},stopAfterRepeat:function(u){return this.anims.stopAfterRepeat(u)},stopOnFrame:function(u){return this.anims.stopOnFrame(u)},toJSON:function(){return g.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});S.exports=c},76552:S=>{S.exports=function(a,w,T,g){T.addToRenderList(w),a.batchSprite(w,w.frame,T,g)}},15567:(S,P,a)=>{var w=a(25305),T=a(13059),g=a(44603),f=a(23568),h=a(68287);g.register("sprite",function(c,u){void 0===c&&(c={});var m=f(c,"key",null),d=f(c,"frame",null),p=new h(this.scene,0,0,m,d);return void 0!==u&&(c.add=u),w(this.scene,p,c),T(p,c),p})},46409:(S,P,a)=>{var w=a(39429),T=a(68287);w.register("sprite",function(g,f,h,c){return this.displayList.add(new T(this.scene,g,f,h,c))})},92751:(S,P,a)=>{var T,g;a(29747),T=a(9409),g=a(76552),S.exports={renderWebGL:T,renderCanvas:g}},9409:S=>{S.exports=function(a,w,T,g){T.addToRenderList(w),w.pipeline.batchSprite(w,T,g)}},14220:S=>{S.exports=function(a,w,T){var f=a.context,h=a.style,c=[],u=0,m=T.length;h.maxLines>0&&h.maxLines<T.length&&(m=h.maxLines),h.syncFont(a.canvas,f);for(var d=a.letterSpacing,p=0;p<m;p++){var v=h.strokeThickness;if(0===d)v+=f.measureText(T[p]).width;else{for(var x=T[p],y=0;y<x.length;y++)v+=f.measureText(x[y]).width;x.length>1&&(v+=d*(x.length-1))}h.wordWrap&&(v-=f.measureText(" ").width),c[p]=Math.ceil(v),u=Math.max(u,c[p])}var _=w.fontSize+h.strokeThickness,E=_*m,A=a.lineSpacing;return m>1&&(E+=A*(m-1)),{width:u,height:E,lines:m,lineWidths:c,lineSpacing:A,lineHeight:_}}},79557:(S,P,a)=>{var w=a(27919);S.exports=function(g){var f=w.create(this),h=f.getContext("2d",{willReadFrequently:!0});g.syncFont(f,h);var c=h.measureText(g.testString);if("actualBoundingBoxAscent"in c){var u=c.actualBoundingBoxAscent,m=c.actualBoundingBoxDescent;return w.remove(f),{ascent:u,descent:m,fontSize:u+m}}var d=Math.ceil(c.width*g.baselineX),p=d,v=2*p;p=p*g.baselineY|0,f.width=d,f.height=v,h.fillStyle="#f00",h.fillRect(0,0,d,v),h.font=g._font,h.textBaseline="alphabetic",h.fillStyle="#000",h.fillText(g.testString,0,p);var x={ascent:0,descent:0,fontSize:0},y=h.getImageData(0,0,d,v);if(!y)return x.ascent=p,x.descent=p+6,x.fontSize=x.ascent+x.descent,w.remove(f),x;var M,I,_=y.data,E=_.length,A=4*d,k=0,F=!1;for(M=0;M<p;M++){for(I=0;I<A;I+=4)if(255!==_[k+I]){F=!0;break}if(F)break;k+=A}for(x.ascent=p-M,k=E-A,F=!1,M=v;M>p;M--){for(I=0;I<A;I+=4)if(255!==_[k+I]){F=!0;break}if(F)break;k-=A}return x.descent=M-p,x.fontSize=x.ascent+x.descent,w.remove(f),x}},50171:(S,P,a)=>{var w=a(40366),T=a(27919),g=a(83419),f=a(31401),h=a(95643),c=a(14220),u=a(35154),m=a(35846),d=a(61771),p=a(35762),v=a(45650),x=new g({Extends:h,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Crop,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Tint,f.Transform,f.Visible,d],initialize:function(_,E,A,M,I){void 0===E&&(E=0),void 0===A&&(A=0),h.call(this,_,"Text"),this.renderer=_.sys.renderer,this.setPosition(E,A),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=T.create(this),this.style=new p(this,I),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,0===this.style.resolution&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=v(),this.texture=_.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(M),I&&I.padding&&this.setPadding(I.padding),I&&I.lineSpacing&&this.setLineSpacing(I.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",w(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(y){var _=this.style;if(_.wordWrapCallback){var E=_.wordWrapCallback.call(_.wordWrapCallbackScope,y,this);return Array.isArray(E)&&(E=E.join("\n")),E}return _.wordWrapWidth?_.wordWrapUseAdvanced?this.advancedWordWrap(y,this.context,this.style.wordWrapWidth):this.basicWordWrap(y,this.context,this.style.wordWrapWidth):y},advancedWordWrap:function(y,_,E){for(var A="",M=y.replace(/ +/gi," ").split(this.splitRegExp),I=M.length,k=0;k<I;k++){var F=M[k],N="";if(F=F.replace(/^ *|\s*$/gi,""),_.measureText(F).width<E)A+=F+"\n";else{for(var B=E,H=F.split(" "),Q=0;Q<H.length;Q++){var G=H[Q],K=G+" ",tt=_.measureText(K).width;if(tt>B){if(0===Q){for(var at=K;at.length&&(at=at.slice(0,-1),!((tt=_.measureText(at).width)<=B)););if(!at.length)throw new Error("wordWrapWidth < a single character");var lt=G.substr(at.length);H[Q]=lt,N+=at}var it=H.slice(H[Q].length?Q:Q+1).join(" ").replace(/[ \n]*$/gi,"");M.splice(k+1,0,it),I=M.length;break}N+=K,B-=tt}A+=N.replace(/[ \n]*$/gi,"")+"\n"}}return A.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(y,_,E){for(var A="",M=y.split(this.splitRegExp),I=M.length-1,k=_.measureText(" ").width,F=0;F<=I;F++){for(var N=E,V=M[F].split(" "),B=V.length-1,H=0;H<=B;H++){var Q=V[H],G=_.measureText(Q).width,K=G;H<B&&(K+=k),K>N&&H>0&&(A+="\n",N=E),A+=Q,H<B?(A+=" ",N-=K):N-=G}F<I&&(A+="\n")}return A},getWrappedText:function(y){return void 0===y&&(y=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(y).split(this.splitRegExp)},setText:function(y){return!y&&0!==y&&(y=""),Array.isArray(y)&&(y=y.join("\n")),y!==this._text&&(this._text=y.toString(),this.updateText()),this},appendText:function(y,_){void 0===_&&(_=!0),!y&&0!==y&&(y=""),Array.isArray(y)&&(y=y.join("\n")),y=y.toString();var E=this._text.concat(_?"\n"+y:y);return E!==this._text&&(this._text=E,this.updateText()),this},setStyle:function(y){return this.style.setStyle(y)},setFont:function(y){return this.style.setFont(y)},setFontFamily:function(y){return this.style.setFontFamily(y)},setFontSize:function(y){return this.style.setFontSize(y)},setFontStyle:function(y){return this.style.setFontStyle(y)},setFixedSize:function(y,_){return this.style.setFixedSize(y,_)},setBackgroundColor:function(y){return this.style.setBackgroundColor(y)},setFill:function(y){return this.style.setFill(y)},setColor:function(y){return this.style.setColor(y)},setStroke:function(y,_){return this.style.setStroke(y,_)},setShadow:function(y,_,E,A,M,I){return this.style.setShadow(y,_,E,A,M,I)},setShadowOffset:function(y,_){return this.style.setShadowOffset(y,_)},setShadowColor:function(y){return this.style.setShadowColor(y)},setShadowBlur:function(y){return this.style.setShadowBlur(y)},setShadowStroke:function(y){return this.style.setShadowStroke(y)},setShadowFill:function(y){return this.style.setShadowFill(y)},setWordWrapWidth:function(y,_){return this.style.setWordWrapWidth(y,_)},setWordWrapCallback:function(y,_){return this.style.setWordWrapCallback(y,_)},setAlign:function(y){return this.style.setAlign(y)},setResolution:function(y){return this.style.setResolution(y)},setLineSpacing:function(y){return this.lineSpacing=y,this.updateText()},setLetterSpacing:function(y){return this.letterSpacing=y,this.updateText()},setPadding:function(y,_,E,A){if("object"==typeof y){var M=y,I=u(M,"x",null);null!==I?(y=I,E=I):(y=u(M,"left",0),E=u(M,"right",y));var k=u(M,"y",null);null!==k?(_=k,A=k):(_=u(M,"top",0),A=u(M,"bottom",_))}else void 0===y&&(y=0),void 0===_&&(_=y),void 0===E&&(E=y),void 0===A&&(A=_);return this.padding.left=y,this.padding.top=_,this.padding.right=E,this.padding.bottom=A,this.updateText()},setMaxLines:function(y){return this.style.setMaxLines(y)},setRTL:function(y){void 0===y&&(y=!0);var _=this.style;return _.rtl===y||(_.rtl=y,y?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",w(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),"left"===_.align?_.align="right":"right"===_.align&&(_.align="left")),this},updateText:function(){var y=this.canvas,_=this.context,E=this.style,A=E.resolution,M=E.metrics;E.syncFont(y,_);var I=this._text;(E.wordWrapWidth||E.wordWrapCallback)&&(I=this.runWordWrap(this._text));var V,k=I.split(this.splitRegExp),F=c(this,M,k),N=this.padding;0===E.fixedWidth?(this.width=F.width+N.left+N.right,V=F.width):(this.width=E.fixedWidth,(V=this.width-N.left-N.right)<F.width&&(V=F.width)),this.height=0===E.fixedHeight?F.height+N.top+N.bottom:E.fixedHeight;var B=this.width,H=this.height;this.updateDisplayOrigin(),B*=A,H*=A,B=Math.max(B,1),H=Math.max(H,1),y.width!==B||y.height!==H?(y.width=B,y.height=H,this.frame.setSize(B,H),E.syncFont(y,_),E.rtl&&(_.direction="rtl")):_.clearRect(0,0,B,H),_.save(),_.scale(A,A),E.backgroundColor&&(_.fillStyle=E.backgroundColor,_.fillRect(0,0,B,H)),E.syncStyle(y,_),_.translate(N.left,N.top);for(var Q,G,K=0;K<F.lines;K++){if(Q=E.strokeThickness/2,G=E.strokeThickness/2+K*F.lineHeight+M.ascent,K>0&&(G+=F.lineSpacing*K),E.rtl)Q=B-Q-N.left-N.right;else if("right"===E.align)Q+=V-F.lineWidths[K];else if("center"===E.align)Q+=(V-F.lineWidths[K])/2;else if("justify"===E.align&&F.lineWidths[K]/F.width>=.85){for(var at=F.width-F.lineWidths[K],lt=_.measureText(" ").width,J=k[K].trim(),it=J.split(" "),Y=Math.floor((at+=(k[K].length-J.length)*lt)/lt),j=0;Y>0;)it[j]+=" ",j=(j+1)%(it.length-1||1),--Y;k[K]=it.join(" ")}this.autoRound&&(Q=Math.round(Q),G=Math.round(G));var nt=this.letterSpacing;if(E.strokeThickness&&0===nt&&(E.syncShadow(_,E.shadowStroke),_.strokeText(k[K],Q,G)),E.color)if(E.syncShadow(_,E.shadowFill),0!==nt)for(var ht=0,gt=k[K].split(""),wt=0;wt<gt.length;wt++)E.strokeThickness&&(E.syncShadow(_,E.shadowStroke),_.strokeText(gt[wt],Q+ht,G),E.syncShadow(_,E.shadowFill)),_.fillText(gt[wt],Q+ht,G),ht+=_.measureText(gt[wt]).width+nt;else _.fillText(k[K],Q,G)}_.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(y,this.frame.source.glTexture,!0));var St=this.input;return St&&!St.customHitArea&&(St.hitArea.width=this.width,St.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(y){this.setText(y)}},toJSON:function(){var y=f.ToJSON(this),_={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return y.data=_,y},preDestroy:function(){m(this.canvas),T.remove(this.canvas);var y=this.texture;y&&y.destroy()}});S.exports=x},79724:S=>{S.exports=function(a,w,T,g){0===w.width||0===w.height||(T.addToRenderList(w),a.batchSprite(w,w.frame,T,g))}},71259:(S,P,a)=>{var w=a(25305),T=a(44603),g=a(23568),f=a(50171);T.register("text",function(h,c){void 0===h&&(h={});var u=g(h,"text",""),m=g(h,"style",null),d=g(h,"padding",null);null!==d&&(m.padding=d);var p=new f(this.scene,0,0,u,m);return void 0!==c&&(h.add=c),w(this.scene,p,h),p.autoRound=g(h,"autoRound",!0),p.resolution=g(h,"resolution",1),p})},68005:(S,P,a)=>{var w=a(50171);a(39429).register("text",function(g,f,h,c){return this.displayList.add(new w(this.scene,g,f,h,c))})},61771:(S,P,a)=>{var T,g;a(29747),T=a(34397),g=a(79724),S.exports={renderWebGL:T,renderCanvas:g}},35762:(S,P,a)=>{var w=a(83419),T=a(23568),g=a(35154),f=a(79557),h={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xc3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},c=new w({initialize:function(m,d){this.parent=m,this.setStyle(d,!1,!0)},setStyle:function(u,m,d){for(var p in void 0===m&&(m=!0),void 0===d&&(d=!1),h){var v=d?h[p][1]:this[p];this[p]="wordWrapCallback"===p||"wordWrapCallbackScope"===p?g(u,h[p][0],v):u&&"fontSize"===p&&"number"==typeof u.fontSize?u.fontSize.toString()+"px":T(u,h[p][0],v)}var x=g(u,"font",null);null!==x&&this.setFont(x,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var y=g(u,"fill",null);null!==y&&(this.color=y);var _=g(u,"metrics",!1);return _?this.metrics={ascent:g(_,"ascent",0),descent:g(_,"descent",0),fontSize:g(_,"fontSize",0)}:(m||!this.metrics)&&(this.metrics=f(this)),m?this.parent.updateText():this.parent},syncFont:function(u,m){m.font=this._font},syncStyle:function(u,m){m.textBaseline="alphabetic",m.fillStyle=this.color,m.strokeStyle=this.stroke,m.lineWidth=this.strokeThickness,m.lineCap="round",m.lineJoin="round"},syncShadow:function(u,m){m?(u.shadowOffsetX=this.shadowOffsetX,u.shadowOffsetY=this.shadowOffsetY,u.shadowColor=this.shadowColor,u.shadowBlur=this.shadowBlur):(u.shadowOffsetX=0,u.shadowOffsetY=0,u.shadowColor=0,u.shadowBlur=0)},update:function(u){return u&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=f(this)),this.parent.updateText()},setFont:function(u,m){void 0===m&&(m=!0);var d=u,p="",v="";if("string"!=typeof u)d=g(u,"fontFamily","Courier"),p=g(u,"fontSize","16px"),v=g(u,"fontStyle","");else{var x=u.split(" "),y=0;v=x.length>2?x[y++]:"",p=x[y++]||"16px",d=x[y++]||"Courier"}return(d!==this.fontFamily||p!==this.fontSize||v!==this.fontStyle)&&(this.fontFamily=d,this.fontSize=p,this.fontStyle=v,m&&this.update(!0)),this.parent},setFontFamily:function(u){return this.fontFamily!==u&&(this.fontFamily=u,this.update(!0)),this.parent},setFontStyle:function(u){return this.fontStyle!==u&&(this.fontStyle=u,this.update(!0)),this.parent},setFontSize:function(u){return"number"==typeof u&&(u=u.toString()+"px"),this.fontSize!==u&&(this.fontSize=u,this.update(!0)),this.parent},setTestString:function(u){return this.testString=u,this.update(!0)},setFixedSize:function(u,m){return this.fixedWidth=u,this.fixedHeight=m,u&&(this.parent.width=u),m&&(this.parent.height=m),this.update(!1)},setBackgroundColor:function(u){return this.backgroundColor=u,this.update(!1)},setFill:function(u){return this.color=u,this.update(!1)},setColor:function(u){return this.color=u,this.update(!1)},setResolution:function(u){return this.resolution=u,this.update(!1)},setStroke:function(u,m){return void 0===m&&(m=this.strokeThickness),void 0===u&&0!==this.strokeThickness?(this.strokeThickness=0,this.update(!0)):(this.stroke!==u||this.strokeThickness!==m)&&(this.stroke=u,this.strokeThickness=m,this.update(!0)),this.parent},setShadow:function(u,m,d,p,v,x){return void 0===u&&(u=0),void 0===m&&(m=0),void 0===d&&(d="#000"),void 0===p&&(p=0),void 0===v&&(v=!1),void 0===x&&(x=!0),this.shadowOffsetX=u,this.shadowOffsetY=m,this.shadowColor=d,this.shadowBlur=p,this.shadowStroke=v,this.shadowFill=x,this.update(!1)},setShadowOffset:function(u,m){return void 0===u&&(u=0),void 0===m&&(m=u),this.shadowOffsetX=u,this.shadowOffsetY=m,this.update(!1)},setShadowColor:function(u){return void 0===u&&(u="#000"),this.shadowColor=u,this.update(!1)},setShadowBlur:function(u){return void 0===u&&(u=0),this.shadowBlur=u,this.update(!1)},setShadowStroke:function(u){return this.shadowStroke=u,this.update(!1)},setShadowFill:function(u){return this.shadowFill=u,this.update(!1)},setWordWrapWidth:function(u,m){return void 0===m&&(m=!1),this.wordWrapWidth=u,this.wordWrapUseAdvanced=m,this.update(!1)},setWordWrapCallback:function(u,m){return void 0===m&&(m=null),this.wordWrapCallback=u,this.wordWrapCallbackScope=m,this.update(!1)},setAlign:function(u){return void 0===u&&(u="left"),this.align=u,this.update(!1)},setMaxLines:function(u){return void 0===u&&(u=0),this.maxLines=u,this.update(!1)},getTextMetrics:function(){var u=this.metrics;return{ascent:u.ascent,descent:u.descent,fontSize:u.fontSize}},toJSON:function(){var u={};for(var m in h)u[m]=this[m];return u.metrics=this.getTextMetrics(),u},destroy:function(){this.parent=void 0}});S.exports=c},34397:(S,P,a)=>{var w=a(70554);S.exports=function(g,f,h,c){if(0!==f.width&&0!==f.height){h.addToRenderList(f);var u=f.frame,m=u.width,d=u.height,p=w.getTintAppendFloatAlpha,v=g.pipelines.set(f.pipeline,f),x=v.setTexture2D(u.glTexture,f);v.batchTexture(f,u.glTexture,m,d,f.x,f.y,m/f.style.resolution,d/f.style.resolution,f.scaleX,f.scaleY,f.rotation,f.flipX,f.flipY,f.scrollFactorX,f.scrollFactorY,f.displayOriginX,f.displayOriginY,0,0,m,d,p(f.tintTopLeft,h.alpha*f._alphaTL),p(f.tintTopRight,h.alpha*f._alphaTR),p(f.tintBottomLeft,h.alpha*f._alphaBL),p(f.tintBottomRight,h.alpha*f._alphaBR),f.tintFill,0,0,h,c,!1,x)}}},20839:(S,P,a)=>{var w=a(27919),T=a(83419),g=a(31401),f=a(95643),h=a(98439),c=a(68703),u=a(56295),m=a(45650),d=a(26099),v=new T({Extends:f,Mixins:[g.Alpha,g.BlendMode,g.ComputedSize,g.Crop,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Tint,g.Transform,g.Visible,u],initialize:function(y,_,E,A,M,I,k){var F=y.sys.renderer;f.call(this,y,"TileSprite");var N=y.sys.textures.get(I),V=N.get(k);V.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),V=(N=y.sys.textures.get("__MISSING")).get()),"DynamicTexture"===N.type&&(console.warn("TileSprite cannot use Dynamic Texture"),V=(N=y.sys.textures.get("__MISSING")).get()),A&&M?(A=Math.floor(A),M=Math.floor(M)):(A=A||V.width,M=M||V.height),this._tilePosition=new d,this._tileScale=new d(1,1),this.dirty=!1,this.renderer=F,this.canvas=w.create(this,A,M),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=N,this.displayFrame=V,this._crop=this.resetCropObject(),this._textureKey=m(),this.texture=y.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=h(V.width),this.potHeight=h(V.height),this.fillCanvas=w.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(_,E),this.setSize(A,M),this.setFrame(k),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(x,y){return this.displayTexture=this.scene.sys.textures.get(x),this.setFrame(y)},setFrame:function(x){var y=this.displayTexture.get(x);return this.potWidth=h(y.width),this.potHeight=h(y.height),this.canvas.width=0,y.cutWidth&&y.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this.displayFrame=y,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(x,y){return void 0!==x&&(this.tilePositionX=x),void 0!==y&&(this.tilePositionY=y),this},setTileScale:function(x,y){return void 0===x&&(x=this.tileScaleX),void 0===y&&(y=x),this.tileScaleX=x,this.tileScaleY=y,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var x=this.displayFrame;if(x.source.isRenderTexture||x.source.isGLTexture)return console.warn("TileSprites can only use Image or Canvas based textures"),void(this.dirty=!1);var y=this.fillContext,_=this.fillCanvas,E=this.potWidth,A=this.potHeight;(!this.renderer||!this.renderer.gl)&&(E=x.cutWidth,A=x.cutHeight),y.clearRect(0,0,E,A),_.width=E,_.height=A,y.drawImage(x.source.image,x.cutX,x.cutY,x.cutWidth,x.cutHeight,0,0,E,A),this.fillPattern=this.renderer&&this.renderer.gl?this.renderer.canvasToTexture(_,this.fillPattern):y.createPattern(_,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var x=this.canvas;if((x.width!==this.width||x.height!==this.height)&&(x.width=this.width,x.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl)this.dirty=!1;else{var y=this.context;this.scene.sys.game.config.antialias||c.disable(y);var _=this._tileScale.x,E=this._tileScale.y,A=this._tilePosition.x,M=this._tilePosition.y;y.clearRect(0,0,this.width,this.height),y.save(),y.scale(_,E),y.translate(-A,-M),y.fillStyle=this.fillPattern,y.fillRect(A,M,this.width/_,this.height/E),y.restore(),this.dirty=!1}},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),w.remove(this.canvas),w.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var x=this.texture;x&&x.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(x){this._tilePosition.x=x,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(x){this._tilePosition.y=x,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(x){this._tileScale.x=x,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(x){this._tileScale.y=x,this.dirty=!0}}});S.exports=v},46992:S=>{S.exports=function(a,w,T,g){w.updateCanvas(),T.addToRenderList(w),a.batchSprite(w,w.frame,T,g)}},14167:(S,P,a)=>{var w=a(25305),T=a(44603),g=a(23568),f=a(20839);T.register("tileSprite",function(h,c){void 0===h&&(h={});var u=g(h,"x",0),m=g(h,"y",0),d=g(h,"width",512),p=g(h,"height",512),v=g(h,"key",""),x=g(h,"frame",""),y=new f(this.scene,u,m,d,p,v,x);return void 0!==c&&(h.add=c),w(this.scene,y,h),y})},91681:(S,P,a)=>{var w=a(20839);a(39429).register("tileSprite",function(g,f,h,c,u,m){return this.displayList.add(new w(this.scene,g,f,h,c,u,m))})},56295:(S,P,a)=>{var T,g;a(29747),T=a(18553),g=a(46992),S.exports={renderWebGL:T,renderCanvas:g}},18553:(S,P,a)=>{var w=a(70554);S.exports=function(g,f,h,c){f.updateCanvas();var u=f.width,m=f.height;if(0!==u&&0!==m){h.addToRenderList(f);var d=w.getTintAppendFloatAlpha,p=g.pipelines.set(f.pipeline,f),v=p.setTexture2D(f.fillPattern,f);p.batchTexture(f,f.fillPattern,f.displayFrame.width*f.tileScaleX,f.displayFrame.height*f.tileScaleY,f.x,f.y,u,m,f.scaleX,f.scaleY,f.rotation,f.flipX,f.flipY,f.scrollFactorX,f.scrollFactorY,f.originX*u,f.originY*m,0,0,u,m,d(f.tintTopLeft,h.alpha*f._alphaTL),d(f.tintTopRight,h.alpha*f._alphaTR),d(f.tintBottomLeft,h.alpha*f._alphaBL),d(f.tintBottomRight,h.alpha*f._alphaBR),f.tintFill,f.tilePositionX%f.displayFrame.width/f.displayFrame.width,f.tilePositionY%f.displayFrame.height/f.displayFrame.height,h,c,!1,v)}}},18471:(S,P,a)=>{var w=a(45319),T=a(83419),g=a(31401),f=a(51708),h=a(8443),c=a(95643),u=a(36383),m=a(14463),d=a(45650),p=a(10247),v=new T({Extends:c,Mixins:[g.Alpha,g.BlendMode,g.ComputedSize,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.TextureCrop,g.Tint,g.Transform,g.Visible,p],initialize:function(y,_,E,A){c.call(this,y,"Video"),this.flipY=!1,this._key=d(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var M=y.sys.game;this._device=M.device.video,this.setPosition(_,E),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),M.events.on(h.PAUSE,this.globalPause,this),M.events.on(h.RESUME,this.globalResume,this);var I=y.sys.sound;I&&I.on(m.GLOBAL_MUTE,this.globalMute,this),A&&this.load(A)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(x){var y=this.scene.sys.cache.video.get(x);return y?(this.cacheKey=x,this.loadHandler(y.url,y.noAudio,y.crossOrigin)):console.warn("No video in cache for key: "+x),this},changeSource:function(x,y,_,E,A){void 0===y&&(y=!0),void 0===_&&(_=!1),this.cacheKey!==x&&(this.load(x),y&&this.play(_,E,A))},getVideoKey:function(){return this.cacheKey},loadURL:function(x,y,_){void 0===y&&(y=!1);var E=this._device.getVideoURL(x);return E?(this.cacheKey="",this.loadHandler(E.url,y,_)):console.warn("No supported video format found for "+x),this},loadMediaStream:function(x,y,_){return this.loadHandler(null,y,_,x)},loadHandler:function(x,y,_,E){y||(y=!1);var A=this.video;if(A?(this.removeLoadEventHandlers(),this.stop()):((A=document.createElement("video")).controls=!1,A.setAttribute("playsinline","playsinline"),A.setAttribute("preload","auto"),A.setAttribute("disablePictureInPicture","true")),y?(A.muted=!0,A.defaultMuted=!0,A.setAttribute("autoplay","autoplay")):(A.muted=!1,A.defaultMuted=!1,A.removeAttribute("autoplay")),_?A.setAttribute("crossorigin",_):A.removeAttribute("crossorigin"),E)if("srcObject"in A)try{A.srcObject=E}catch(I){if("TypeError"!==I.name)throw I;A.src=URL.createObjectURL(E)}else A.src=URL.createObjectURL(E);else A.src=x;this.retry=0,this.video=A,this._playCalled=!1,A.load(),this.addLoadEventHandlers();var M=this.scene.sys.textures.get(this._key);return this.setTexture(M),this},requestVideoFrame:function(x,y){var _=this.video;if(_){var E=y.width,A=y.height,M=this.videoTexture,I=this.videoTextureSource,k=!M||I.source!==_;k?(this._codePaused=_.paused,this._codeMuted=_.muted,M?(I.source=_,I.width=E,I.height=A,M.get().setSize(E,A)):((M=this.scene.sys.textures.create(this._key,_,E,A)).add("__BASE",0,0,0,E,A),this.setTexture(M),this.videoTexture=M,this.videoTextureSource=M.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(f.VIDEO_TEXTURE,this,M)),this.setSizeToFrame(),this.updateDisplayOrigin()):I.update(),this.isStalled=!1,this.metadata=y;var F=y.mediaTime;k&&(this._lastUpdate=F,this.emit(f.VIDEO_CREATED,this,E,A),this.frameReady||(this.frameReady=!0,this.emit(f.VIDEO_PLAY,this))),this._playingMarker?F>=this._markerOut&&(_.loop?(_.currentTime=this._markerIn,this.emit(f.VIDEO_LOOP,this)):(this.stop(!1),this.emit(f.VIDEO_COMPLETE,this))):F<this._lastUpdate&&this.emit(f.VIDEO_LOOP,this),this._lastUpdate=F,this._getFrame?(this.removeEventHandlers(),_.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(x,y,_){void 0===y&&(y=-1),void 0===_&&(_=u.MAX_SAFE_INTEGER);var E=this.video;return!E||this.isPlaying()?(E||console.warn("Video not loaded"),this):(void 0===x&&(x=E.loop),E.loop=x,this._markerIn=y,this._markerOut=_,this._playingMarker=y>-1&&_>y&&_<u.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=E.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var x=this.video;return!x||this.isPlaying()?(x||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=x.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var x=this.video;x&&(x.addEventListener("error",this._loadCallbackHandler),x.addEventListener("abort",this._loadCallbackHandler),x.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var x=this.video;x&&(x.removeEventListener("error",this._loadCallbackHandler),x.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var x=this.video;if(x){var y=this._callbacks;for(var _ in y)x.addEventListener(_,y[_])}},removeEventHandlers:function(){var x=this.video;if(x){var y=this._callbacks;for(var _ in y)x.removeEventListener(_,y[_])}},createPlayPromise:function(x){void 0===x&&(x=!0);var y=this.video,_=y.play();if(void 0!==_){var E=this.playSuccess.bind(this),A=this.playError.bind(this);if(!x){var M=this;A=function(){M.failedPlayAttempts++}}_.then(E).catch(A)}else y.addEventListener("playing",this._callbacks.legacy),x||this.failedPlayAttempts++},addMarker:function(x,y,_){return!isNaN(y)&&y>=0&&!isNaN(_)&&_>y&&(this.markers[x]=[y,_]),this},playMarker:function(x,y){var _=this.markers[x];return _&&this.play(y,_[0],_[1]),this},removeMarker:function(x){return delete this.markers[x],this},snapshot:function(x,y){return void 0===x&&(x=this.width),void 0===y&&(y=this.height),this.snapshotArea(0,0,this.width,this.height,x,y)},snapshotArea:function(x,y,_,E,A,M){void 0===x&&(x=0),void 0===y&&(y=0),void 0===_&&(_=this.width),void 0===E&&(E=this.height),void 0===A&&(A=_),void 0===M&&(M=E);var I=this.video,k=this.snapshotTexture;return k?(k.setSize(A,M),I&&k.context.drawImage(I,x,y,_,E,0,0,A,M)):(k=this.scene.sys.textures.createCanvas(d(),A,M),this.snapshotTexture=k,I&&k.context.drawImage(I,x,y,_,E,0,0,A,M)),k.update()},saveSnapshotTexture:function(x){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,x):this.snapshotTexture=this.scene.sys.textures.createCanvas(x,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(f.VIDEO_UNLOCKED,this));var x=this.scene.sys.sound;x&&x.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(x){var y=x.name;"NotAllowedError"===y?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(f.VIDEO_LOCKED,this)):"NotSupportedError"===y?(this.stop(!1),this.emit(f.VIDEO_UNSUPPORTED,this,x)):(this.stop(!1),this.emit(f.VIDEO_ERROR,this,x))},legacyPlayHandler:function(){var x=this.video;x&&(this.playSuccess(),x.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(f.VIDEO_PLAYING,this)},loadErrorHandler:function(x){this.stop(!1),this.emit(f.VIDEO_ERROR,this,x)},metadataHandler:function(x){this.emit(f.VIDEO_METADATA,this,x)},setSizeToFrame:function(x){x||(x=this.frame),this.width=x.realWidth,this.height=x.realHeight,1!==this.scaleX&&(this.scaleX=this.displayWidth/this.width),1!==this.scaleY&&(this.scaleY=this.displayHeight/this.height);var y=this.input;return y&&!y.customHitArea&&(y.hitArea.width=this.width,y.hitArea.height=this.height),this},stalledHandler:function(x){this.isStalled=!0,this.emit(f.VIDEO_STALLED,this,x)},completeHandler:function(){this._playCalled=!1,this.emit(f.VIDEO_COMPLETE,this)},preUpdate:function(x,y){!this.video||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=y,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(x){var y=this.video;if(y){var _=y.duration;_===1/0||isNaN(_)||this.setCurrentTime(_*x)}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(x){var y=this.video;if(y){if("string"==typeof x){var _=x[0],E=parseFloat(x.substr(1));"+"===_?x=y.currentTime+E:"-"===_&&(x=y.currentTime-E)}y.currentTime=x}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(f.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(f.VIDEO_SEEKED,this)},getProgress:function(){var x=this.video;if(x){var y=x.duration;if(y!==1/0&&!isNaN(y))return x.currentTime/y}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(x){void 0===x&&(x=!0),this._codeMuted=x;var y=this.video;return y&&(y.muted=!!this._systemMuted||x),this},isMuted:function(){return this._codeMuted},globalMute:function(x,y){this._systemMuted=y;var _=this.video;_&&(_.muted=!!this._codeMuted||y)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(x){void 0===x&&(x=!0);var y=this.video;return this._codePaused=x,y&&!y.ended&&(x?y.paused||(this.removeEventHandlers(),y.pause()):x||(this._playCalled?y.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(x){return void 0===x&&(x=1),this.video&&(this.video.volume=w(x,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(x){return this.video&&(this.video.playbackRate=x),this},getLoop:function(){return!!this.video&&this.video.loop},setLoop:function(x){return void 0===x&&(x=!0),this.video&&(this.video.loop=x),this},isPlaying:function(){return!!this.video&&!(this.video.paused||this.video.ended)},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(x,y){return void 0===y&&(y=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,x),this.videoTextureSource.setFlipY(y)),this._key=x,this.flipY=y,!!this.videoTexture},stop:function(x){void 0===x&&(x=!0);var y=this.video;return y&&(this.removeEventHandlers(),y.cancelVideoFrameCallback(this._rfvCallbackId),y.pause()),this.retry=0,this._playCalled=!1,x&&this.emit(f.VIDEO_STOP,this),this},removeVideoElement:function(){var x=this.video;if(x){for(x.parentNode&&x.parentNode.removeChild(x);x.hasChildNodes();)x.removeChild(x.firstChild);x.removeAttribute("autoplay"),x.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var x=this.scene.sys.game.events;x.off(h.PAUSE,this.globalPause,this),x.off(h.RESUME,this.globalResume,this);var y=this.scene.sys.sound;y&&y.off(m.GLOBAL_MUTE,this.globalMute,this)}});S.exports=v},58352:S=>{S.exports=function(a,w,T,g){w.videoTexture&&(T.addToRenderList(w),a.batchSprite(w,w.frame,T,g))}},11511:(S,P,a)=>{var w=a(25305),T=a(44603),g=a(23568),f=a(18471);T.register("video",function(h,c){void 0===h&&(h={});var u=g(h,"key",null),m=new f(this.scene,0,0,u);return void 0!==c&&(h.add=c),w(this.scene,m,h),m})},89025:(S,P,a)=>{var w=a(18471);a(39429).register("video",function(g,f,h){return this.displayList.add(new w(this.scene,g,f,h))})},10247:(S,P,a)=>{var T,g;a(29747),T=a(29849),g=a(58352),S.exports={renderWebGL:T,renderCanvas:g}},29849:S=>{S.exports=function(a,w,T,g){w.videoTexture&&(T.addToRenderList(w),w.pipeline.batchSprite(w,T,g))}},41481:(S,P,a)=>{var w=a(10312),T=a(96503),g=a(87902),f=a(83419),h=a(31401),c=a(95643),u=a(87841),m=a(37303),d=new f({Extends:c,Mixins:[h.Depth,h.GetBounds,h.Origin,h.Transform,h.ScrollFactor,h.Visible],initialize:function(v,x,y,_,E){void 0===_&&(_=1),void 0===E&&(E=_),c.call(this,v,"Zone"),this.setPosition(x,y),this.width=_,this.height=E,this.blendMode=w.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(p){this.scaleX=p/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(p){this.scaleY=p/this.height}},setSize:function(p,v,x){void 0===x&&(x=!0),this.width=p,this.height=v,this.updateDisplayOrigin();var y=this.input;return x&&y&&!y.customHitArea&&(y.hitArea.width=p,y.hitArea.height=v),this},setDisplaySize:function(p,v){return this.displayWidth=p,this.displayHeight=v,this},setCircleDropZone:function(p){return this.setDropZone(new T(0,0,p),g)},setRectangleDropZone:function(p,v){return this.setDropZone(new u(0,0,p,v),m)},setDropZone:function(p,v){return this.input||this.setInteractive(p,v,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(p,v,x){x.addToRenderList(v)},renderWebGL:function(p,v,x){x.addToRenderList(v)}});S.exports=d},95261:(S,P,a)=>{var w=a(44603),T=a(23568),g=a(41481);w.register("zone",function(f){var h=T(f,"x",0),c=T(f,"y",0),u=T(f,"width",1),m=T(f,"height",u);return new g(this.scene,h,c,u,m)})},84175:(S,P,a)=>{var w=a(41481);a(39429).register("zone",function(g,f,h,c){return this.displayList.add(new w(this.scene,g,f,h,c))})},95166:S=>{S.exports=function(a){return a.radius>0?Math.PI*a.radius*a.radius:0}},96503:(S,P,a)=>{var w=a(83419),T=a(87902),g=a(26241),f=a(79124),h=a(23777),c=a(28176),u=new w({initialize:function(d,p,v){void 0===d&&(d=0),void 0===p&&(p=0),void 0===v&&(v=0),this.type=h.CIRCLE,this.x=d,this.y=p,this._radius=v,this._diameter=2*v},contains:function(m,d){return T(this,m,d)},getPoint:function(m,d){return g(this,m,d)},getPoints:function(m,d,p){return f(this,m,d,p)},getRandomPoint:function(m){return c(this,m)},setTo:function(m,d,p){return this.x=m,this.y=d,this._radius=p,this._diameter=2*p,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(m,d){return void 0===d&&(d=m),this.x=m,this.y=d,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(m){this._radius=m,this._diameter=2*m}},diameter:{get:function(){return this._diameter},set:function(m){this._diameter=m,this._radius=.5*m}},left:{get:function(){return this.x-this._radius},set:function(m){this.x=m+this._radius}},right:{get:function(){return this.x+this._radius},set:function(m){this.x=m-this._radius}},top:{get:function(){return this.y-this._radius},set:function(m){this.y=m+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(m){this.y=m-this._radius}}});S.exports=u},71562:S=>{S.exports=function(a){return Math.PI*a.radius*2}},92110:(S,P,a)=>{var w=a(2141);S.exports=function(g,f,h){return void 0===h&&(h=new w),h.x=g.x+g.radius*Math.cos(f),h.y=g.y+g.radius*Math.sin(f),h}},42250:(S,P,a)=>{var w=a(96503);S.exports=function(g){return new w(g.x,g.y,g.radius)}},87902:S=>{S.exports=function(a,w,T){return a.radius>0&&w>=a.left&&w<=a.right&&T>=a.top&&T<=a.bottom&&(a.x-w)*(a.x-w)+(a.y-T)*(a.y-T)<=a.radius*a.radius}},5698:(S,P,a)=>{var w=a(87902);S.exports=function(g,f){return w(g,f.x,f.y)}},70588:(S,P,a)=>{var w=a(87902);S.exports=function(g,f){return w(g,f.x,f.y)&&w(g,f.right,f.y)&&w(g,f.x,f.bottom)&&w(g,f.right,f.bottom)}},26394:S=>{S.exports=function(a,w){return w.setTo(a.x,a.y,a.radius)}},76278:S=>{S.exports=function(a,w){return a.x===w.x&&a.y===w.y&&a.radius===w.radius}},2074:(S,P,a)=>{var w=a(87841);S.exports=function(g,f){return void 0===f&&(f=new w),f.x=g.left,f.y=g.top,f.width=g.diameter,f.height=g.diameter,f}},26241:(S,P,a)=>{var w=a(92110),T=a(62945),g=a(36383),f=a(2141);S.exports=function(c,u,m){void 0===m&&(m=new f);var d=T(u,0,g.PI2);return w(c,d,m)}},79124:(S,P,a)=>{var w=a(71562),T=a(92110),g=a(62945),f=a(36383);S.exports=function(c,u,m,d){void 0===d&&(d=[]),!u&&m>0&&(u=w(c)/m);for(var p=0;p<u;p++){var v=g(p/u,0,f.PI2);d.push(T(c,v))}return d}},50884:S=>{S.exports=function(a,w,T){return a.x+=w,a.y+=T,a}},39212:S=>{S.exports=function(a,w){return a.x+=w.x,a.y+=w.y,a}},28176:(S,P,a)=>{var w=a(2141);S.exports=function(g,f){void 0===f&&(f=new w);var h=2*Math.PI*Math.random(),c=Math.random()+Math.random(),u=c>1?2-c:c,m=u*Math.cos(h),d=u*Math.sin(h);return f.x=g.x+m*g.radius,f.y=g.y+d*g.radius,f}},88911:(S,P,a)=>{var w=a(96503);w.Area=a(95166),w.Circumference=a(71562),w.CircumferencePoint=a(92110),w.Clone=a(42250),w.Contains=a(87902),w.ContainsPoint=a(5698),w.ContainsRect=a(70588),w.CopyFrom=a(26394),w.Equals=a(76278),w.GetBounds=a(2074),w.GetPoint=a(26241),w.GetPoints=a(79124),w.Offset=a(50884),w.OffsetPoint=a(39212),w.Random=a(28176),S.exports=w},23777:S=>{S.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},78874:S=>{S.exports=function(a){return a.isEmpty()?0:a.getMajorRadius()*a.getMinorRadius()*Math.PI}},92990:S=>{S.exports=function(a){var w=a.width/2,T=a.height/2,g=Math.pow(w-T,2)/Math.pow(w+T,2);return Math.PI*(w+T)*(1+3*g/(10+Math.sqrt(4-3*g)))}},79522:(S,P,a)=>{var w=a(2141);S.exports=function(g,f,h){void 0===h&&(h=new w);var u=g.height/2;return h.x=g.x+g.width/2*Math.cos(f),h.y=g.y+u*Math.sin(f),h}},58102:(S,P,a)=>{var w=a(8497);S.exports=function(g){return new w(g.x,g.y,g.width,g.height)}},81154:S=>{S.exports=function(a,w,T){if(a.width<=0||a.height<=0)return!1;var g=(w-a.x)/a.width,f=(T-a.y)/a.height;return(g*=g)+(f*=f)<.25}},46662:(S,P,a)=>{var w=a(81154);S.exports=function(g,f){return w(g,f.x,f.y)}},1632:(S,P,a)=>{var w=a(81154);S.exports=function(g,f){return w(g,f.x,f.y)&&w(g,f.right,f.y)&&w(g,f.x,f.bottom)&&w(g,f.right,f.bottom)}},65534:S=>{S.exports=function(a,w){return w.setTo(a.x,a.y,a.width,a.height)}},8497:(S,P,a)=>{var w=a(83419),T=a(81154),g=a(90549),f=a(48320),h=a(23777),c=a(24820),u=new w({initialize:function(d,p,v,x){void 0===d&&(d=0),void 0===p&&(p=0),void 0===v&&(v=0),void 0===x&&(x=0),this.type=h.ELLIPSE,this.x=d,this.y=p,this.width=v,this.height=x},contains:function(m,d){return T(this,m,d)},getPoint:function(m,d){return g(this,m,d)},getPoints:function(m,d,p){return f(this,m,d,p)},getRandomPoint:function(m){return c(this,m)},setTo:function(m,d,p,v){return this.x=m,this.y=d,this.width=p,this.height=v,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(m,d){return void 0===d&&(d=m),this.x=m,this.y=d,this},setSize:function(m,d){return void 0===d&&(d=m),this.width=m,this.height=d,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(m){this.x=m+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(m){this.x=m-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(m){this.y=m+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(m){this.y=m-this.height/2}}});S.exports=u},36146:S=>{S.exports=function(a,w){return a.x===w.x&&a.y===w.y&&a.width===w.width&&a.height===w.height}},23694:(S,P,a)=>{var w=a(87841);S.exports=function(g,f){return void 0===f&&(f=new w),f.x=g.left,f.y=g.top,f.width=g.width,f.height=g.height,f}},90549:(S,P,a)=>{var w=a(79522),T=a(62945),g=a(36383),f=a(2141);S.exports=function(c,u,m){void 0===m&&(m=new f);var d=T(u,0,g.PI2);return w(c,d,m)}},48320:(S,P,a)=>{var w=a(92990),T=a(79522),g=a(62945),f=a(36383);S.exports=function(c,u,m,d){void 0===d&&(d=[]),!u&&m>0&&(u=w(c)/m);for(var p=0;p<u;p++){var v=g(p/u,0,f.PI2);d.push(T(c,v))}return d}},73424:S=>{S.exports=function(a,w,T){return a.x+=w,a.y+=T,a}},44808:S=>{S.exports=function(a,w){return a.x+=w.x,a.y+=w.y,a}},24820:(S,P,a)=>{var w=a(2141);S.exports=function(g,f){void 0===f&&(f=new w);var h=Math.random()*Math.PI*2,c=Math.sqrt(Math.random());return f.x=g.x+c*Math.cos(h)*g.width/2,f.y=g.y+c*Math.sin(h)*g.height/2,f}},49203:(S,P,a)=>{var w=a(8497);w.Area=a(78874),w.Circumference=a(92990),w.CircumferencePoint=a(79522),w.Clone=a(58102),w.Contains=a(81154),w.ContainsPoint=a(46662),w.ContainsRect=a(1632),w.CopyFrom=a(65534),w.Equals=a(36146),w.GetBounds=a(23694),w.GetPoint=a(90549),w.GetPoints=a(48320),w.Offset=a(73424),w.OffsetPoint=a(44808),w.Random=a(24820),S.exports=w},55738:(S,P,a)=>{var w=a(23777),T=a(79291),g={Circle:a(88911),Ellipse:a(49203),Intersects:a(91865),Line:a(2529),Mesh:a(73090),Point:a(43711),Polygon:a(58423),Rectangle:a(93232),Triangle:a(84435)};g=T(!1,g,w),S.exports=g},2044:(S,P,a)=>{var w=a(20339);S.exports=function(g,f){return w(g.x,g.y,f.x,f.y)<=g.radius+f.radius}},81491:S=>{S.exports=function(a,w){var T=w.width/2,g=w.height/2,f=Math.abs(a.x-w.x-T),h=Math.abs(a.y-w.y-g);if(f>T+a.radius||h>g+a.radius)return!1;if(f<=T||h<=g)return!0;var m=f-T,d=h-g;return m*m+d*d<=a.radius*a.radius}},63376:(S,P,a)=>{var w=a(2141),T=a(2044);S.exports=function(f,h,c){if(void 0===c&&(c=[]),T(f,h)){var y,_,A,M,u=f.x,m=f.y,d=f.radius,p=h.x,v=h.y,x=h.radius;if(m===v)0==(A=(_=-2*v)*_-4*(y=1)*(p*p+(M=(x*x-d*d-p*p+u*u)/(2*(u-p)))*M-2*p*M+v*v-x*x))?c.push(new w(M,-_/(2*y))):A>0&&(c.push(new w(M,(-_+Math.sqrt(A))/(2*y))),c.push(new w(M,(-_-Math.sqrt(A))/(2*y))));else{var I=(u-p)/(m-v),k=(x*x-d*d-p*p+u*u-v*v+m*m)/(2*(m-v));0==(A=(_=2*m*I-2*k*I-2*u)*_-4*(y=I*I+1)*(u*u+m*m+k*k-d*d-2*m*k))?c.push(new w(M=-_/(2*y),k-M*I)):A>0&&(M=(-_+Math.sqrt(A))/(2*y),c.push(new w(M,k-M*I)),M=(-_-Math.sqrt(A))/(2*y),c.push(new w(M,k-M*I)))}}return c}},97439:(S,P,a)=>{var w=a(4042),T=a(81491);S.exports=function(f,h,c){if(void 0===c&&(c=[]),T(f,h)){var u=h.getLineA(),m=h.getLineB(),d=h.getLineC(),p=h.getLineD();w(u,f,c),w(m,f,c),w(d,f,c),w(p,f,c)}return c}},4042:(S,P,a)=>{var w=a(2141),T=a(80462);S.exports=function(f,h,c){if(void 0===c&&(c=[]),T(f,h)){var V,B,u=f.x1,m=f.y1,y=h.radius,_=f.x2-u,E=f.y2-m,A=u-h.x,M=m-h.y,I=_*_+E*E,k=2*(_*A+E*M),N=k*k-4*I*(A*A+M*M-y*y);if(0===N){var H=-k/(2*I);V=u+H*_,B=m+H*E,H>=0&&H<=1&&c.push(new w(V,B))}else if(N>0){var Q=(-k-Math.sqrt(N))/(2*I);V=u+Q*_,B=m+Q*E,Q>=0&&Q<=1&&c.push(new w(V,B));var G=(-k+Math.sqrt(N))/(2*I);V=u+G*_,B=m+G*E,G>=0&&G<=1&&c.push(new w(V,B))}}return c}},36100:(S,P,a)=>{var w=a(25836);S.exports=function(g,f,h,c){void 0===h&&(h=!1);var F,N,V,u=g.x1,m=g.y1,v=f.x1,x=f.y1,E=g.x2-u,A=g.y2-m,M=f.x2-v,I=f.y2-x,k=E*I-A*M;if(0===k)return null;if(h){if(F=(E*(x-m)+A*(u-v))/(M*A-I*E),0!==E)N=(v+M*F-u)/E;else{if(0===A)return null;N=(x+I*F-m)/A}if(N<0||F<0||F>1)return null;V=N}else{if(N=((m-x)*E-(u-v)*A)/k,(F=((v-u)*I-(x-m)*M)/k)<0||F>1||N<0||N>1)return null;V=F}return void 0===c&&(c=new w),c.set(u+E*V,m+A*V,V)}},3073:(S,P,a)=>{var w=a(36100),T=a(23031),g=a(25836),f=new T,h=new g;S.exports=function(u,m,d,p){void 0===d&&(d=!1),void 0===p&&(p=new g);var v=!1;p.set(),h.set();for(var x=m[m.length-1],y=0;y<m.length;y++){var _=m[y];f.setTo(x.x,x.y,_.x,_.y),x=_,w(u,f,d,h)&&(!v||h.z<p.z)&&(p.copy(h),v=!0)}return v?p:null}},56362:(S,P,a)=>{var w=a(25836),T=a(61369),g=a(3073),f=new w;S.exports=function(c,u,m,d){void 0===d&&(d=new T),Array.isArray(u)||(u=[u]);var p=!1;d.set(),f.set();for(var v=0;v<u.length;v++)g(c,u[v].points,m,f)&&(!p||f.z<d.z)&&(d.set(f.x,f.y,f.z,v),p=!0);return p?d:null}},60646:(S,P,a)=>{var w=a(2141),T=a(76112),g=a(92773);S.exports=function(h,c,u){if(void 0===u&&(u=[]),g(h,c))for(var m=c.getLineA(),d=c.getLineB(),p=c.getLineC(),v=c.getLineD(),x=[new w,new w,new w,new w],y=[T(m,h,x[0]),T(d,h,x[1]),T(p,h,x[2]),T(v,h,x[3])],_=0;_<4;_++)y[_]&&u.push(x[_]);return u}},71147:(S,P,a)=>{var w=a(61369),T=a(56362),f=new(a(23031));function h(m,d,p,v,x){var y=Math.cos(m),_=Math.sin(m);f.setTo(d,p,d+y,p+_);var E=T(f,v,!0);E&&x.push(new w(E.x,E.y,m,E.w))}function c(m,d){return m.z-d.z}S.exports=function(m,d,p){Array.isArray(p)||(p=[p]);for(var v=[],x=[],y=0;y<p.length;y++)for(var _=p[y].points,E=0;E<_.length;E++){var A=Math.atan2(_[E].y-d,_[E].x-m);-1===x.indexOf(A)&&(h(A,m,d,p,v),h(A-1e-5,m,d,p,v),h(A+1e-5,m,d,p,v),x.push(A))}return v.sort(c)}},68389:(S,P,a)=>{var w=a(87841),T=a(59996);S.exports=function(f,h,c){return void 0===c&&(c=new w),T(f,h)&&(c.x=Math.max(f.x,h.x),c.y=Math.max(f.y,h.y),c.width=Math.min(f.right,h.right)-c.x,c.height=Math.min(f.bottom,h.bottom)-c.y),c}},52784:(S,P,a)=>{var w=a(60646),T=a(59996);S.exports=function(f,h,c){if(void 0===c&&(c=[]),T(f,h)){var u=f.getLineA(),m=f.getLineB(),d=f.getLineC(),p=f.getLineD();w(u,h,c),w(m,h,c),w(d,h,c),w(p,h,c)}return c}},26341:(S,P,a)=>{var w=a(89265),T=a(60646);S.exports=function(f,h,c){if(void 0===c&&(c=[]),w(f,h)){var u=h.getLineA(),m=h.getLineB(),d=h.getLineC();T(u,f,c),T(m,f,c),T(d,f,c)}return c}},38720:(S,P,a)=>{var w=a(4042),T=a(67636);S.exports=function(f,h,c){if(void 0===c&&(c=[]),T(f,h)){var u=f.getLineA(),m=f.getLineB(),d=f.getLineC();w(u,h,c),w(m,h,c),w(d,h,c)}return c}},13882:(S,P,a)=>{var w=a(2141),T=a(2822),g=a(76112);S.exports=function(h,c,u){if(void 0===u&&(u=[]),T(h,c))for(var m=h.getLineA(),d=h.getLineB(),p=h.getLineC(),v=[new w,new w,new w],x=[g(m,c,v[0]),g(d,c,v[1]),g(p,c,v[2])],y=0;y<3;y++)x[y]&&u.push(v[y]);return u}},75636:(S,P,a)=>{var w=a(82944),T=a(13882);S.exports=function(f,h,c){if(void 0===c&&(c=[]),w(f,h)){var u=h.getLineA(),m=h.getLineB(),d=h.getLineC();T(f,u,c),T(f,m,c),T(f,d,c)}return c}},80462:(S,P,a)=>{var w=a(87902),g=new(a(2141));S.exports=function(h,c,u){if(void 0===u&&(u=g),w(c,h.x1,h.y1))return u.x=h.x1,u.y=h.y1,!0;if(w(c,h.x2,h.y2))return u.x=h.x2,u.y=h.y2,!0;var m=h.x2-h.x1,d=h.y2-h.y1,x=m*m+d*d,y=m,_=d;if(x>0){var E=((c.x-h.x1)*m+(c.y-h.y1)*d)/x;y*=E,_*=E}return u.x=h.x1+y,u.y=h.y1+_,y*y+_*_<=x&&y*m+_*d>=0&&w(c,u.x,u.y)}},76112:S=>{S.exports=function(a,w,T){var g=a.x1,f=a.y1,h=a.x2,c=a.y2,u=w.x1,m=w.y1,d=w.x2,p=w.y2;if(g===h&&f===c||u===d&&m===p)return!1;var v=(p-m)*(h-g)-(d-u)*(c-f);if(0===v)return!1;var x=((d-u)*(f-m)-(p-m)*(g-u))/v,y=((h-g)*(f-m)-(c-f)*(g-u))/v;return!(x<0||x>1||y<0||y>1||(T&&(T.x=g+x*(h-g),T.y=f+x*(c-f)),0))}},92773:S=>{S.exports=function(a,w){var T=a.x1,g=a.y1,f=a.x2,h=a.y2,c=w.x,u=w.y,m=w.right,d=w.bottom,p=0;if(T>=c&&T<=m&&g>=u&&g<=d||f>=c&&f<=m&&h>=u&&h<=d)return!0;if(T<c&&f>=c){if((p=g+(h-g)*(c-T)/(f-T))>u&&p<=d)return!0}else if(T>m&&f<=m&&(p=g+(h-g)*(m-T)/(f-T))>=u&&p<=d)return!0;if(g<u&&h>=u){if((p=T+(f-T)*(u-g)/(h-g))>=c&&p<=m)return!0}else if(g>d&&h<=d&&(p=T+(f-T)*(d-g)/(h-g))>=c&&p<=m)return!0;return!1}},16204:S=>{S.exports=function(a,w,T){void 0===T&&(T=1);var g=w.x1,f=w.y1,h=w.x2,c=w.y2,u=a.x,m=a.y,d=(h-g)*(h-g)+(c-f)*(c-f);if(0===d)return!1;var p=((u-g)*(h-g)+(m-f)*(c-f))/d;return p<0?Math.sqrt((g-u)*(g-u)+(f-m)*(f-m))<=T:p>=0&&p<=1?Math.abs(((f-m)*(h-g)-(g-u)*(c-f))/d)*Math.sqrt(d)<=T:Math.sqrt((h-u)*(h-u)+(c-m)*(c-m))<=T}},14199:(S,P,a)=>{var w=a(16204);S.exports=function(g,f){if(!w(g,f))return!1;var h=Math.min(f.x1,f.x2),c=Math.max(f.x1,f.x2),u=Math.min(f.y1,f.y2),m=Math.max(f.y1,f.y2);return g.x>=h&&g.x<=c&&g.y>=u&&g.y<=m}},59996:S=>{S.exports=function(a,w){return!(a.width<=0||a.height<=0||w.width<=0||w.height<=0||a.right<w.x||a.bottom<w.y||a.x>w.right||a.y>w.bottom)}},89265:(S,P,a)=>{var w=a(76112),T=a(37303),g=a(48653),f=a(77493);S.exports=function(c,u){if(u.left>c.right||u.right<c.left||u.top>c.bottom||u.bottom<c.top)return!1;var m=u.getLineA(),d=u.getLineB(),p=u.getLineC();if(T(c,m.x1,m.y1)||T(c,m.x2,m.y2)||T(c,d.x1,d.y1)||T(c,d.x2,d.y2)||T(c,p.x1,p.y1)||T(c,p.x2,p.y2))return!0;var v=c.getLineA(),x=c.getLineB(),y=c.getLineC(),_=c.getLineD();if(w(m,v)||w(m,x)||w(m,y)||w(m,_)||w(d,v)||w(d,x)||w(d,y)||w(d,_)||w(p,v)||w(p,x)||w(p,y)||w(p,_))return!0;var E=f(c);return g(u,E,!0).length>0}},84411:S=>{S.exports=function(a,w,T,g,f,h){return void 0===h&&(h=0),!(w>a.right+h||T<a.left-h||g>a.bottom+h||f<a.top-h)}},67636:(S,P,a)=>{var w=a(80462),T=a(10690);S.exports=function(f,h){return!(f.left>h.right||f.right<h.left||f.top>h.bottom||f.bottom<h.top||!(T(f,h.x,h.y)||w(f.getLineA(),h)||w(f.getLineB(),h)||w(f.getLineC(),h)))}},2822:(S,P,a)=>{var w=a(76112);S.exports=function(g,f){return!!(g.contains(f.x1,f.y1)||g.contains(f.x2,f.y2)||w(g.getLineA(),f)||w(g.getLineB(),f)||w(g.getLineC(),f))}},82944:(S,P,a)=>{var w=a(48653),T=a(71694),g=a(76112);S.exports=function(h,c){if(h.left>c.right||h.right<c.left||h.top>c.bottom||h.bottom<c.top)return!1;var u=h.getLineA(),m=h.getLineB(),d=h.getLineC(),p=c.getLineA(),v=c.getLineB(),x=c.getLineC();if(g(u,p)||g(u,v)||g(u,x)||g(m,p)||g(m,v)||g(m,x)||g(d,p)||g(d,v)||g(d,x))return!0;var y=T(h),_=w(c,y,!0);return _.length>0||(y=T(c),(_=w(h,y,!0)).length>0)}},91865:(S,P,a)=>{S.exports={CircleToCircle:a(2044),CircleToRectangle:a(81491),GetCircleToCircle:a(63376),GetCircleToRectangle:a(97439),GetLineToCircle:a(4042),GetLineToLine:a(36100),GetLineToPoints:a(3073),GetLineToPolygon:a(56362),GetLineToRectangle:a(60646),GetRaysFromPointToPolygon:a(71147),GetRectangleIntersection:a(68389),GetRectangleToRectangle:a(52784),GetRectangleToTriangle:a(26341),GetTriangleToCircle:a(38720),GetTriangleToLine:a(13882),GetTriangleToTriangle:a(75636),LineToCircle:a(80462),LineToLine:a(76112),LineToRectangle:a(92773),PointToLine:a(16204),PointToLineSegment:a(14199),RectangleToRectangle:a(59996),RectangleToTriangle:a(89265),RectangleToValues:a(84411),TriangleToCircle:a(67636),TriangleToLine:a(2822),TriangleToTriangle:a(82944)}},91938:S=>{S.exports=function(a){return Math.atan2(a.y2-a.y1,a.x2-a.x1)}},84993:S=>{S.exports=function(a,w,T){void 0===w&&(w=1),void 0===T&&(T=[]);var g=Math.round(a.x1),f=Math.round(a.y1),h=Math.round(a.x2),c=Math.round(a.y2),u=Math.abs(h-g),m=Math.abs(c-f),d=g<h?1:-1,p=f<c?1:-1,v=u-m;T.push({x:g,y:f});for(var x=1;g!==h||f!==c;){var y=v<<1;y>-m&&(v-=m,g+=d),y<u&&(v+=u,f+=p),x%w==0&&T.push({x:g,y:f}),x++}return T}},36469:S=>{S.exports=function(a,w,T){var g=w-(a.x1+a.x2)/2,f=T-(a.y1+a.y2)/2;return a.x1+=g,a.y1+=f,a.x2+=g,a.y2+=f,a}},31116:(S,P,a)=>{var w=a(23031);S.exports=function(g){return new w(g.x1,g.y1,g.x2,g.y2)}},59944:S=>{S.exports=function(a,w){return w.setTo(a.x1,a.y1,a.x2,a.y2)}},59220:S=>{S.exports=function(a,w){return a.x1===w.x1&&a.y1===w.y1&&a.x2===w.x2&&a.y2===w.y2}},78177:(S,P,a)=>{var w=a(35001);S.exports=function(g,f,h){void 0===h&&(h=f);var c=w(g),u=g.x2-g.x1,m=g.y2-g.y1;return f&&(g.x1=g.x1-u/c*f,g.y1=g.y1-m/c*f),h&&(g.x2=g.x2+u/c*h,g.y2=g.y2+m/c*h),g}},26708:(S,P,a)=>{var w=a(52816),T=a(6113),g=a(2141);S.exports=function(h,c,u,m,d){void 0===m&&(m=0),void 0===d&&(d=[]);var A,M,p=[],v=h.x1,x=h.y1,y=h.x2-v,_=h.y2-x,E=T(c,d),I=u-1;for(A=0;A<I;A++)M=E(A/I),p.push(new g(v+y*M,x+_*M));if(M=E(1),p.push(new g(v+y*M,x+_*M)),m>0){var k=p[0],F=[k];for(A=1;A<p.length-1;A++){var N=p[A];w(k,N)>=m&&(F.push(N),k=N)}var V=p[p.length-1];return w(k,V)<m&&F.pop(),F.push(V),F}return p}},32125:(S,P,a)=>{var w=a(2141);S.exports=function(g,f){return void 0===f&&(f=new w),f.x=(g.x1+g.x2)/2,f.y=(g.y1+g.y2)/2,f}},99569:(S,P,a)=>{var w=a(2141);S.exports=function(g,f,h){void 0===h&&(h=new w);var c=g.x1,u=g.y1,m=g.x2,d=g.y2,p=(m-c)*(m-c)+(d-u)*(d-u);if(0===p)return h;var v=((f.x-c)*(m-c)+(f.y-u)*(d-u))/p;return h.x=c+v*(m-c),h.y=u+v*(d-u),h}},34638:(S,P,a)=>{var w=a(36383),T=a(91938),g=a(2141);S.exports=function(h,c){void 0===c&&(c=new g);var u=T(h)-w.TAU;return c.x=Math.cos(u),c.y=Math.sin(u),c}},13151:(S,P,a)=>{var w=a(2141);S.exports=function(g,f,h){return void 0===h&&(h=new w),h.x=g.x1+(g.x2-g.x1)*f,h.y=g.y1+(g.y2-g.y1)*f,h}},15258:(S,P,a)=>{var w=a(35001),T=a(2141);S.exports=function(f,h,c,u){void 0===u&&(u=[]),!h&&c>0&&(h=w(f)/c);for(var m=f.x1,d=f.y1,p=f.x2,v=f.y2,x=0;x<h;x++){var y=x/h;u.push(new T(m+(p-m)*y,d+(v-d)*y))}return u}},26408:S=>{S.exports=function(a,w){var T=a.x1,g=a.y1,f=a.x2,h=a.y2,c=(f-T)*(f-T)+(h-g)*(h-g);return 0!==c&&Math.abs(((g-w.y)*(f-T)-(T-w.x)*(h-g))/c)*Math.sqrt(c)}},98770:S=>{S.exports=function(a){return Math.abs(a.y1-a.y2)}},35001:S=>{S.exports=function(a){return Math.sqrt((a.x2-a.x1)*(a.x2-a.x1)+(a.y2-a.y1)*(a.y2-a.y1))}},23031:(S,P,a)=>{var w=a(83419),T=a(13151),g=a(15258),f=a(23777),h=a(65822),c=a(26099),u=new w({initialize:function(d,p,v,x){void 0===d&&(d=0),void 0===p&&(p=0),void 0===v&&(v=0),void 0===x&&(x=0),this.type=f.LINE,this.x1=d,this.y1=p,this.x2=v,this.y2=x},getPoint:function(m,d){return T(this,m,d)},getPoints:function(m,d,p){return g(this,m,d,p)},getRandomPoint:function(m){return h(this,m)},setTo:function(m,d,p,v){return void 0===m&&(m=0),void 0===d&&(d=0),void 0===p&&(p=0),void 0===v&&(v=0),this.x1=m,this.y1=d,this.x2=p,this.y2=v,this},setFromObjects:function(m,d){return this.x1=m.x,this.y1=m.y,this.x2=d.x,this.y2=d.y,this},getPointA:function(m){return void 0===m&&(m=new c),m.set(this.x1,this.y1),m},getPointB:function(m){return void 0===m&&(m=new c),m.set(this.x2,this.y2),m},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(m){this.x1<=this.x2?this.x1=m:this.x2=m}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(m){this.x1>this.x2?this.x1=m:this.x2=m}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(m){this.y1<=this.y2?this.y1=m:this.y2=m}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(m){this.y1>this.y2?this.y1=m:this.y2=m}}});S.exports=u},64795:(S,P,a)=>{var w=a(36383),T=a(15994),g=a(91938);S.exports=function(h){var c=g(h)-w.TAU;return T(c,-Math.PI,Math.PI)}},52616:(S,P,a)=>{var w=a(36383),T=a(91938);S.exports=function(f){return Math.cos(T(f)-w.TAU)}},87231:(S,P,a)=>{var w=a(36383),T=a(91938);S.exports=function(f){return Math.sin(T(f)-w.TAU)}},89662:S=>{S.exports=function(a,w,T){return a.x1+=w,a.y1+=T,a.x2+=w,a.y2+=T,a}},71165:S=>{S.exports=function(a){return-(a.x2-a.x1)/(a.y2-a.y1)}},65822:(S,P,a)=>{var w=a(2141);S.exports=function(g,f){void 0===f&&(f=new w);var h=Math.random();return f.x=g.x1+h*(g.x2-g.x1),f.y=g.y1+h*(g.y2-g.y1),f}},69777:(S,P,a)=>{var w=a(91938),T=a(64795);S.exports=function(f,h){return 2*T(h)-Math.PI-w(f)}},39706:(S,P,a)=>{var w=a(64400);S.exports=function(g,f){return w(g,(g.x1+g.x2)/2,(g.y1+g.y2)/2,f)}},82585:(S,P,a)=>{var w=a(64400);S.exports=function(g,f,h){return w(g,f.x,f.y,h)}},64400:S=>{S.exports=function(a,w,T,g){var f=Math.cos(g),h=Math.sin(g),c=a.x1-w,u=a.y1-T;return a.x1=c*f-u*h+w,a.y1=c*h+u*f+T,a.x2=(c=a.x2-w)*f-(u=a.y2-T)*h+w,a.y2=c*h+u*f+T,a}},62377:S=>{S.exports=function(a,w,T,g,f){return a.x1=w,a.y1=T,a.x2=w+Math.cos(g)*f,a.y2=T+Math.sin(g)*f,a}},71366:S=>{S.exports=function(a){return(a.y2-a.y1)/(a.x2-a.x1)}},10809:S=>{S.exports=function(a){return Math.abs(a.x1-a.x2)}},2529:(S,P,a)=>{var w=a(23031);w.Angle=a(91938),w.BresenhamPoints=a(84993),w.CenterOn=a(36469),w.Clone=a(31116),w.CopyFrom=a(59944),w.Equals=a(59220),w.Extend=a(78177),w.GetEasedPoints=a(26708),w.GetMidPoint=a(32125),w.GetNearestPoint=a(99569),w.GetNormal=a(34638),w.GetPoint=a(13151),w.GetPoints=a(15258),w.GetShortestDistance=a(26408),w.Height=a(98770),w.Length=a(35001),w.NormalAngle=a(64795),w.NormalX=a(52616),w.NormalY=a(87231),w.Offset=a(89662),w.PerpSlope=a(71165),w.Random=a(65822),w.ReflectAngle=a(69777),w.Rotate=a(39706),w.RotateAroundPoint=a(82585),w.RotateAroundXY=a(64400),w.SetToAngle=a(62377),w.Slope=a(71366),w.Width=a(10809),S.exports=w},83997:(S,P,a)=>{var w=a(83419),T=a(87841),g=a(26099);function f(c,u,m,d){var p=c-m,v=u-d;return Math.sqrt(p*p+v*v)}var h=new w({initialize:function(u,m,d){this.vertex1=u,this.vertex2=m,this.vertex3=d,this.bounds=new T,this._inCenter=new g},getInCenter:function(c){void 0===c&&(c=!0);var p,v,x,y,_,E,u=this.vertex1,m=this.vertex2,d=this.vertex3;c?(p=u.x,v=u.y,x=m.x,y=m.y,_=d.x,E=d.y):(p=u.vx,v=u.vy,x=m.vx,y=m.vy,_=d.vx,E=d.vy);var A=f(_,E,x,y),M=f(p,v,_,E),I=f(x,y,p,v),k=A+M+I;return this._inCenter.set((p*A+x*M+_*I)/k,(v*A+y*M+E*I)/k)},contains:function(c,u,m){var d=this.vertex1,p=this.vertex2,v=this.vertex3,x=d.vx,y=d.vy,_=p.vx,E=p.vy,A=v.vx,M=v.vy;if(m){var I=m.a,k=m.b,F=m.c,N=m.d,V=m.e,B=m.f;x=d.vx*I+d.vy*F+V,y=d.vx*k+d.vy*N+B,_=p.vx*I+p.vy*F+V,E=p.vx*k+p.vy*N+B,A=v.vx*I+v.vy*F+V,M=v.vx*k+v.vy*N+B}var H=A-x,Q=M-y,G=_-x,K=E-y,tt=c-x,at=u-y,lt=H*H+Q*Q,J=H*G+Q*K,it=H*tt+Q*at,Y=G*G+K*K,j=G*tt+K*at,nt=lt*Y-J*J,ht=0===nt?0:1/nt,gt=(Y*it-J*j)*ht,wt=(lt*j-J*it)*ht;return gt>=0&&wt>=0&&gt+wt<1},isCounterClockwise:function(c){var u=this.vertex1,m=this.vertex2,d=this.vertex3,p=(m.vx-u.vx)*(d.vy-u.vy)-(m.vy-u.vy)*(d.vx-u.vx);return c<=0?p>=0:p<0},load:function(c,u,m,d,p){return m=this.vertex1.load(c,u,m,d,p),m=this.vertex2.load(c,u,m,d,p),this.vertex3.load(c,u,m,d,p)},transformCoordinatesLocal:function(c,u,m,d){return this.vertex1.transformCoordinatesLocal(c,u,m,d),this.vertex2.transformCoordinatesLocal(c,u,m,d),this.vertex3.transformCoordinatesLocal(c,u,m,d),this},updateBounds:function(){var c=this.vertex1,u=this.vertex2,m=this.vertex3,d=this.bounds;return d.x=Math.min(c.vx,u.vx,m.vx),d.y=Math.min(c.vy,u.vy,m.vy),d.width=Math.max(c.vx,u.vx,m.vx)-d.x,d.height=Math.max(c.vy,u.vy,m.vy)-d.y,this},isInView:function(c,u,m,d,p,v,x,y,_,E,A){this.update(d,p,v,x,y,_,E,A);var M=this.vertex1,I=this.vertex2,k=this.vertex3;if(M.ta<=0&&I.ta<=0&&k.ta<=0||u&&!this.isCounterClockwise(m))return!1;var F=this.bounds;return F.x=Math.min(M.tx,I.tx,k.tx),F.y=Math.min(M.ty,I.ty,k.ty),F.width=Math.max(M.tx,I.tx,k.tx)-F.x,F.height=Math.max(M.ty,I.ty,k.ty)-F.y,!(F.width<=0||F.height<=0||c.width<=0||c.height<=0||F.right<c.x||F.bottom<c.y||F.x>c.x+c.width||F.y>c.y+c.height)},scrollUV:function(c,u){return this.vertex1.scrollUV(c,u),this.vertex2.scrollUV(c,u),this.vertex3.scrollUV(c,u),this},scaleUV:function(c,u){return this.vertex1.scaleUV(c,u),this.vertex2.scaleUV(c,u),this.vertex3.scaleUV(c,u),this},setColor:function(c){return this.vertex1.color=c,this.vertex2.color=c,this.vertex3.color=c,this},update:function(c,u,m,d,p,v,x,y){return this.vertex1.update(u,m,d,p,v,x,y,c),this.vertex2.update(u,m,d,p,v,x,y,c),this.vertex3.update(u,m,d,p,v,x,y,c),this},translate:function(c,u){void 0===u&&(u=0);var m=this.vertex1,d=this.vertex2,p=this.vertex3;return m.x+=c,m.y+=u,d.x+=c,d.y+=u,p.x+=c,p.y+=u,this},x:{get:function(){return this.getInCenter().x},set:function(c){var u=this.getInCenter();this.translate(c-u.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(c){var u=this.getInCenter();this.translate(0,c-u.y)}},alpha:{get:function(){return(this.vertex1.alpha+this.vertex2.alpha+this.vertex3.alpha)/3},set:function(c){this.vertex1.alpha=c,this.vertex2.alpha=c,this.vertex3.alpha=c}},depth:{get:function(){return(this.vertex1.vz+this.vertex2.vz+this.vertex3.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});S.exports=h},48803:(S,P,a)=>{var w=a(83997),T=a(95540),g=a(37867),f=a(25836),h=a(39318),c=new f,u=new f,m=new g;S.exports=function(p){var it,v=T(p,"mesh"),x=T(p,"texture",null),y=T(p,"frame"),_=T(p,"width",1),E=T(p,"height",_),A=T(p,"widthSegments",1),M=T(p,"heightSegments",A),I=T(p,"x",0),k=T(p,"y",0),F=T(p,"z",0),N=T(p,"rotateX",0),V=T(p,"rotateY",0),B=T(p,"rotateZ",0),H=T(p,"zIsUp",!0),Q=T(p,"isOrtho",!!v&&v.dirtyCache[11]),G=T(p,"colors",[16777215]),K=T(p,"alphas",[1]),tt=T(p,"tile",!1),at=T(p,"flipY",!1),lt=T(p,"width",null),J={faces:[],verts:[]};if(c.set(I,k,F),u.set(N,V,B),m.fromRotationXYTranslation(u,c,H),!x&&v)x=v.texture,y||(it=v.frame);else if(v&&"string"==typeof x)x=v.scene.sys.textures.get(x);else if(!x)return J;it||(it=x.get(y)),!lt&&Q&&x&&v&&(_=it.width/v.height,E=it.height/v.height);var qt,ne,Y=_/2,j=E/2,nt=Math.floor(A),ht=Math.floor(M),gt=nt+1,wt=ht+1,St=_/nt,Bt=E/ht,Yt=[],$t=[],le=0,Me=1,pi=0,Ie=1;it&&(le=it.u0,Me=it.u1,at?(pi=it.v1,Ie=it.v0):(pi=it.v0,Ie=it.v1));var _i=Me-le,we=Ie-pi;for(ne=0;ne<wt;ne++){var ri=ne*Bt-j;for(qt=0;qt<gt;qt++)$t.push(qt*St-Y,-ri),Yt.push(le+_i*(qt/nt),pi+we*(ne/ht))}Array.isArray(G)||(G=[G]),Array.isArray(K)||(K=[K]);var sr=0,vn=0;for(ne=0;ne<ht;ne++)for(qt=0;qt<nt;qt++){var bn=2*(qt+gt*ne),Fr=2*(qt+gt*(ne+1)),cs=2*(qt+1+gt*(ne+1)),Dn=2*(qt+1+gt*ne),xr=G[vn],ts=K[sr],Xs=new h($t[bn],$t[bn+1],0,Yt[bn],Yt[bn+1],xr,ts).transformMat4(m),Od=new h($t[Fr],$t[Fr+1],0,Yt[Fr],Yt[Fr+1],xr,ts).transformMat4(m),uc=new h($t[Dn],$t[Dn+1],0,Yt[Dn],Yt[Dn+1],xr,ts).transformMat4(m),Ld=new h($t[Fr],$t[Fr+1],0,Yt[Fr],Yt[Fr+1],xr,ts).transformMat4(m),Ho=new h($t[cs],$t[cs+1],0,Yt[cs],Yt[cs+1],xr,ts).transformMat4(m),Bl=new h($t[Dn],$t[Dn+1],0,Yt[Dn],Yt[Dn+1],xr,ts).transformMat4(m);tt&&(Xs.setUVs(le,Ie),Od.setUVs(le,pi),uc.setUVs(Me,Ie),Ld.setUVs(le,pi),Ho.setUVs(Me,pi),Bl.setUVs(Me,Ie)),++vn===G.length&&(vn=0),++sr===K.length&&(sr=0),J.verts.push(Xs,Od,uc,Ld,Ho,Bl),J.faces.push(new w(Xs,Od,uc),new w(Ld,Ho,Bl))}return v&&(v.faces=v.faces.concat(J.faces),v.vertices=v.vertices.concat(J.verts)),J}},34684:(S,P,a)=>{var w=a(83997),T=a(37867),g=a(25836),f=a(39318),h=new g,c=new g,u=new T;S.exports=function(d,p,v,x,y,_,E,A,M,I){void 0===v&&(v=1),void 0===x&&(x=0),void 0===y&&(y=0),void 0===_&&(_=0),void 0===E&&(E=0),void 0===A&&(A=0),void 0===M&&(M=0),void 0===I&&(I=!0);var k={faces:[],verts:[]},F=d.materials;h.set(x,y,_),c.set(E,A,M),u.fromRotationXYTranslation(c,h,I);for(var N=0;N<d.models.length;N++)for(var V=d.models[N],B=V.vertices,H=V.textureCoords,Q=V.faces,G=0;G<Q.length;G++){var K=Q[G],tt=K.vertices[0],at=K.vertices[1],lt=K.vertices[2],J=B[tt.vertexIndex],it=B[at.vertexIndex],Y=B[lt.vertexIndex],j=tt.textureCoordsIndex,nt=at.textureCoordsIndex,ht=lt.textureCoordsIndex,gt=-1===j?{u:0,v:1}:H[j],wt=-1===nt?{u:0,v:0}:H[nt],St=-1===ht?{u:1,v:1}:H[ht],Bt=16777215;""!==K.material&&F[K.material]&&(Bt=F[K.material]);var Yt=new f(J.x*v,J.y*v,J.z*v,gt.u,gt.v,Bt).transformMat4(u),$t=new f(it.x*v,it.y*v,it.z*v,wt.u,wt.v,Bt).transformMat4(u),qt=new f(Y.x*v,Y.y*v,Y.z*v,St.u,St.v,Bt).transformMat4(u);k.verts.push(Yt,$t,qt),k.faces.push(new w(Yt,$t,qt))}return p&&(p.faces=p.faces.concat(k.faces),p.vertices=p.vertices.concat(k.verts)),k}},92515:(S,P,a)=>{var w=a(83997),T=a(39318);S.exports=function(f,h,c,u,m,d,p,v){if(void 0===u&&(u=!1),void 0===d&&(d=16777215),void 0===p&&(p=1),void 0===v&&(v=!1),f.length===h.length||u){var y,I,N,V,B,x={faces:[],vertices:[]},H=u?3:2,Q=Array.isArray(d),G=Array.isArray(p);if(Array.isArray(c)&&c.length>0)for(y=0;y<c.length;y++){var K=c[y],tt=2*c[y],at=c[y]*H;I=h[tt+1],v&&(I=1-I),N=0,V=0,B=0,m&&(N=m[at],V=m[at+1],B=u?m[at+2]:0),x.vertices.push(new T(f[at],f[at+1],u?f[at+2]:0,h[tt],I,Q?d[K]:d,G?p[K]:p,N,V,B))}else{var lt=0,J=0;for(y=0;y<f.length;y+=H)N=0,V=0,B=0,m&&(N=m[y],V=m[y+1],B=u?m[y+2]:0),x.vertices.push(new T(f[y],f[y+1],u?f[y+2]:0,h[lt],I=h[lt+1],Q?d[J]:d,G?p[J]:p,N,V,B)),lt+=2,J++}for(y=0;y<x.vertices.length;y+=3)x.faces.push(new w(x.vertices[y],x.vertices[y+1],x.vertices[y+2]));return x}console.warn("GenerateVerts: vertices and uvs count not equal")}},85048:S=>{var P=!0,a="untitled",w="",T="";function g(_){var E=_.indexOf("#");return E>-1?_.substring(0,E):_}function f(_){return 0===_.models.length&&_.models.push({faces:[],name:a,textureCoords:[],vertexNormals:[],vertices:[]}),w="",_.models[_.models.length-1]}function h(_,E){E.models.push({faces:[],name:_.length>=2?_[1]:a,textureCoords:[],vertexNormals:[],vertices:[]}),w=""}function c(_){2===_.length&&(w=_[1])}function u(_,E){var A=_.length,M=A>=2?parseFloat(_[1]):0,I=A>=3?parseFloat(_[2]):0,k=A>=4?parseFloat(_[3]):0;f(E).vertices.push({x:M,y:I,z:k})}function m(_,E){var A=_.length,M=A>=2?parseFloat(_[1]):0,I=A>=3?parseFloat(_[2]):0,k=A>=4?parseFloat(_[3]):0;isNaN(M)&&(M=0),isNaN(I)&&(I=0),isNaN(k)&&(k=0),P&&(I=1-I),f(E).textureCoords.push({u:M,v:I,w:k})}function d(_,E){var A=_.length,M=A>=2?parseFloat(_[1]):0,I=A>=3?parseFloat(_[2]):0,k=A>=4?parseFloat(_[3]):0;f(E).vertexNormals.push({x:M,y:I,z:k})}function p(_,E){var A=_.length-1;if(!(A<3)){for(var M={group:w,material:T,vertices:[]},I=0;I<A;I++){var F=_[I+1].split("/"),N=F.length;if(!(N<1||N>3)){var V=0,B=0,H=0;V=parseInt(F[0],10),N>1&&""!==F[1]&&(B=parseInt(F[1],10)),N>2&&(H=parseInt(F[2],10)),0!==V&&(V<0&&(V=f(E).vertices.length+1+V),M.vertices.push({textureCoordsIndex:B-=1,vertexIndex:V-=1,vertexNormalIndex:H-=1}))}}f(E).faces.push(M)}}function v(_,E){_.length>=2&&E.materialLibraries.push(_[1])}function x(_){_.length>=2&&(T=_[1])}S.exports=function(_,E){void 0===E&&(E=!0),P=E;var A={materials:{},materialLibraries:[],models:[]};w="",T="";for(var M=_.split("\n"),I=0;I<M.length;I++){var F=g(M[I]).replace(/\s\s+/g," ").trim().split(" ");switch(F[0].toLowerCase()){case"o":h(F,A);break;case"g":c(F);break;case"v":u(F,A);break;case"vt":m(F,A);break;case"vn":d(F,A);break;case"f":p(F,A);break;case"mtllib":v(F,A);break;case"usemtl":x(F)}}return A}},61485:(S,P,a)=>{var w=a(37589);S.exports=function(g){for(var f={},h=g.split("\n"),c="",u=0;u<h.length;u++){var m=h[u].trim();if(0!==m.indexOf("#")&&""!==m){var d=m.replace(/\s\s+/g," ").trim().split(" ");switch(d[0].toLowerCase()){case"newmtl":c=d[1];break;case"kd":var p=Math.floor(255*d[1]),v=d.length>=2?Math.floor(255*d[2]):p,x=d.length>=3?Math.floor(255*d[3]):p;f[c]=w(p,v,x)}}}return f}},92570:S=>{S.exports=function(a,w,T,g){var f,h;if(void 0===T&&void 0===g){var c=a.getInCenter();f=c.x,h=c.y}var u=Math.cos(w),m=Math.sin(w),d=a.vertex1,p=a.vertex2,v=a.vertex3,x=d.x-f,y=d.y-h;d.set(x*u-y*m+f,x*m+y*u+h),p.set((x=p.x-f)*u-(y=p.y-h)*m+f,x*m+y*u+h),v.set((x=v.x-f)*u-(y=v.y-h)*m+f,x*m+y*u+h)}},39318:(S,P,a)=>{var w=a(83419),T=a(70554),g=a(25836),f=new w({Extends:g,initialize:function(c,u,m,d,p,v,x,y,_,E){void 0===v&&(v=16777215),void 0===x&&(x=1),void 0===y&&(y=0),void 0===_&&(_=0),void 0===E&&(E=0),g.call(this,c,u,m),this.vx=0,this.vy=0,this.vz=0,this.nx=y,this.ny=_,this.nz=E,this.u=d,this.v=p,this.color=v,this.alpha=x,this.tx=0,this.ty=0,this.ta=0,this.tu=d,this.tv=p},setUVs:function(h,c){return this.u=h,this.v=c,this.tu=h,this.tv=c,this},scrollUV:function(h,c){return this.tu+=h,this.tv+=c,this},scaleUV:function(h,c){return this.tu=this.u*h,this.tv=this.v*c,this},transformCoordinatesLocal:function(h,c,u,m){var d=this.x,p=this.y,v=this.z,x=h.val,_=d*x[1]+p*x[5]+v*x[9]+x[13],E=d*x[2]+p*x[6]+v*x[10]+x[14],A=d*x[3]+p*x[7]+v*x[11]+x[15];this.vx=(d*x[0]+p*x[4]+v*x[8]+x[12])/A*c,this.vy=-_/A*u,this.vz=m<=0?E/A:-E/A},resize:function(h,c,u,m,d,p){return this.x=h,this.y=c,this.vx=this.x*u,this.vy=-this.y*m,this.vz=0,d<.5?this.vx+=u*(.5-d):d>.5&&(this.vx-=u*(d-.5)),p<.5?this.vy+=m*(.5-p):p>.5&&(this.vy-=m*(p-.5)),this},update:function(h,c,u,m,d,p,v,x){var y=this.vx*h+this.vy*u+d,_=this.vx*c+this.vy*m+p;return v&&(y=Math.round(y),_=Math.round(_)),this.tx=y,this.ty=_,this.ta=this.alpha*x,this},load:function(h,c,u,m,d){return h[++u]=this.tx,h[++u]=this.ty,h[++u]=this.tu,h[++u]=this.tv,h[++u]=m,h[++u]=d,c[++u]=T.getTintAppendFloatAlpha(this.color,this.ta),u}});S.exports=f},73090:(S,P,a)=>{var w={Face:a(83997),GenerateGridVerts:a(48803),GenerateObjVerts:a(34684),GenerateVerts:a(92515),ParseObj:a(85048),ParseObjMaterial:a(61485),RotateFace:a(92570),Vertex:a(39318)};S.exports=w},96550:S=>{S.exports=function(a){return a.setTo(Math.ceil(a.x),Math.ceil(a.y))}},99706:(S,P,a)=>{var w=a(2141);S.exports=function(g){return new w(g.x,g.y)}},68010:S=>{S.exports=function(a,w){return w.setTo(a.x,a.y)}},27814:S=>{S.exports=function(a,w){return a.x===w.x&&a.y===w.y}},73565:S=>{S.exports=function(a){return a.setTo(Math.floor(a.x),Math.floor(a.y))}},87555:(S,P,a)=>{var w=a(2141);S.exports=function(g,f){if(void 0===f&&(f=new w),!Array.isArray(g))throw new Error("GetCentroid points argument must be an array");var h=g.length;if(h<1)throw new Error("GetCentroid points array must not be empty");if(1===h)f.x=g[0].x,f.y=g[0].y;else{for(var c=0;c<h;c++)f.x+=g[c].x,f.y+=g[c].y;f.x/=h,f.y/=h}return f}},28793:S=>{S.exports=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)}},44405:S=>{S.exports=function(a){return a.x*a.x+a.y*a.y}},20873:(S,P,a)=>{var w=a(87841);S.exports=function(g,f){void 0===f&&(f=new w);for(var h=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,m=Number.POSITIVE_INFINITY,d=0;d<g.length;d++){var p=g[d];p.x>h&&(h=p.x),p.x<c&&(c=p.x),p.y>u&&(u=p.y),p.y<m&&(m=p.y)}return f.x=c,f.y=m,f.width=h-c,f.height=u-m,f}},26152:(S,P,a)=>{var w=a(2141);S.exports=function(g,f,h,c){return void 0===h&&(h=0),void 0===c&&(c=new w),c.x=g.x+(f.x-g.x)*h,c.y=g.y+(f.y-g.y)*h,c}},55767:S=>{S.exports=function(a){return a.setTo(a.y,a.x)}},79432:(S,P,a)=>{var w=a(2141);S.exports=function(g,f){return void 0===f&&(f=new w),f.setTo(-g.x,-g.y)}},2141:(S,P,a)=>{var w=a(83419),T=a(23777),g=new w({initialize:function(h,c){void 0===h&&(h=0),void 0===c&&(c=h),this.type=T.POINT,this.x=h,this.y=c},setTo:function(f,h){return void 0===f&&(f=0),void 0===h&&(h=f),this.x=f,this.y=h,this}});S.exports=g},72930:(S,P,a)=>{var w=a(2141),T=a(44405);S.exports=function(f,h,c){void 0===c&&(c=new w);var m=(f.x*h.x+f.y*h.y)/T(h);return 0!==m&&(c.x=m*h.x,c.y=m*h.y),c}},62880:(S,P,a)=>{var w=a(2141);S.exports=function(g,f,h){void 0===h&&(h=new w);var c=g.x*f.x+g.y*f.y;return 0!==c&&(h.x=c*f.x,h.y=c*f.y),h}},15093:(S,P,a)=>{var w=a(28793);S.exports=function(g,f){if(0!==g.x||0!==g.y){var h=w(g);g.x/=h,g.y/=h}return g.x*=f,g.y*=f,g}},43711:(S,P,a)=>{var w=a(2141);w.Ceil=a(96550),w.Clone=a(99706),w.CopyFrom=a(68010),w.Equals=a(27814),w.Floor=a(73565),w.GetCentroid=a(87555),w.GetMagnitude=a(28793),w.GetMagnitudeSq=a(44405),w.GetRectangleFromPoints=a(20873),w.Interpolate=a(26152),w.Invert=a(55767),w.Negative=a(79432),w.Project=a(72930),w.ProjectUnit=a(62880),w.SetMagnitude=a(15093),S.exports=w},12306:(S,P,a)=>{var w=a(25717);S.exports=function(g){return new w(g.points)}},63814:S=>{S.exports=function(a,w,T){for(var g=!1,f=-1,h=a.points.length-1;++f<a.points.length;h=f){var c=a.points[f].x,u=a.points[f].y,d=a.points[h].y;(u<=T&&T<d||d<=T&&T<u)&&w<(a.points[h].x-c)*(T-u)/(d-u)+c&&(g=!g)}return g}},99338:(S,P,a)=>{var w=a(63814);S.exports=function(g,f){return w(g,f.x,f.y)}},94811:S=>{"use strict";function P(J,it,Y){Y=Y||2;var wt,St,Bt,Yt,$t,qt,ne,j=it&&it.length,nt=j?it[0]*Y:J.length,ht=a(J,0,nt,Y,!0),gt=[];if(!ht||ht.next===ht.prev)return gt;if(j&&(ht=function u(J,it,Y,j){var ht,gt,Bt,nt=[];for(ht=0,gt=it.length;ht<gt;ht++)(Bt=a(J,it[ht]*j,ht<gt-1?it[ht+1]*j:J.length,j,!1))===Bt.next&&(Bt.steiner=!0),nt.push(E(Bt));for(nt.sort(m),ht=0;ht<nt.length;ht++)Y=d(nt[ht],Y);return Y}(J,it,ht,Y)),J.length>80*Y){wt=Bt=J[0],St=Yt=J[1];for(var le=Y;le<nt;le+=Y)($t=J[le])<wt&&(wt=$t),(qt=J[le+1])<St&&(St=qt),$t>Bt&&(Bt=$t),qt>Yt&&(Yt=qt);ne=0!==(ne=Math.max(Bt-wt,Yt-St))?32767/ne:0}return T(ht,gt,Y,wt,St,ne,0),gt}function a(J,it,Y,j,nt){var ht,gt;if(nt===lt(J,it,Y,j)>0)for(ht=it;ht<Y;ht+=j)gt=K(ht,J[ht],J[ht+1],gt);else for(ht=Y-j;ht>=it;ht-=j)gt=K(ht,J[ht],J[ht+1],gt);return gt&&k(gt,gt.next)&&(tt(gt),gt=gt.next),gt}function w(J,it){if(!J)return J;it||(it=J);var j,Y=J;do{if(j=!1,Y.steiner||!k(Y,Y.next)&&0!==I(Y.prev,Y,Y.next))Y=Y.next;else{if(tt(Y),(Y=it=Y.prev)===Y.next)break;j=!0}}while(j||Y!==it);return it}function T(J,it,Y,j,nt,ht,gt){if(J){!gt&&ht&&function x(J,it,Y,j){var nt=J;do{0===nt.z&&(nt.z=_(nt.x,nt.y,it,Y,j)),nt.prevZ=nt.prev,nt.nextZ=nt.next,nt=nt.next}while(nt!==J);nt.prevZ.nextZ=null,nt.prevZ=null,function y(J){var it,Y,j,nt,ht,gt,wt,St,Bt=1;do{for(Y=J,J=null,ht=null,gt=0;Y;){for(gt++,j=Y,wt=0,it=0;it<Bt&&(wt++,j=j.nextZ);it++);for(St=Bt;wt>0||St>0&&j;)0!==wt&&(0===St||!j||Y.z<=j.z)?(nt=Y,Y=Y.nextZ,wt--):(nt=j,j=j.nextZ,St--),ht?ht.nextZ=nt:J=nt,nt.prevZ=ht,ht=nt;Y=j}ht.nextZ=null,Bt*=2}while(gt>1)}(nt)}(J,j,nt,ht);for(var St,Bt,wt=J;J.prev!==J.next;)if(St=J.prev,Bt=J.next,ht?f(J,j,nt,ht):g(J))it.push(St.i/Y|0),it.push(J.i/Y|0),it.push(Bt.i/Y|0),tt(J),J=Bt.next,wt=Bt.next;else if((J=Bt)===wt){gt?1===gt?T(J=h(w(J),it,Y),it,Y,j,nt,ht,2):2===gt&&c(J,it,Y,j,nt,ht):T(w(J),it,Y,j,nt,ht,1);break}}}function g(J){var it=J.prev,Y=J,j=J.next;if(I(it,Y,j)>=0)return!1;for(var nt=it.x,ht=Y.x,gt=j.x,wt=it.y,St=Y.y,Bt=j.y,Yt=nt<ht?nt<gt?nt:gt:ht<gt?ht:gt,$t=wt<St?wt<Bt?wt:Bt:St<Bt?St:Bt,qt=nt>ht?nt>gt?nt:gt:ht>gt?ht:gt,ne=wt>St?wt>Bt?wt:Bt:St>Bt?St:Bt,le=j.next;le!==it;){if(le.x>=Yt&&le.x<=qt&&le.y>=$t&&le.y<=ne&&A(nt,wt,ht,St,gt,Bt,le.x,le.y)&&I(le.prev,le,le.next)>=0)return!1;le=le.next}return!0}function f(J,it,Y,j){var nt=J.prev,ht=J,gt=J.next;if(I(nt,ht,gt)>=0)return!1;for(var wt=nt.x,St=ht.x,Bt=gt.x,Yt=nt.y,$t=ht.y,qt=gt.y,ne=wt<St?wt<Bt?wt:Bt:St<Bt?St:Bt,le=Yt<$t?Yt<qt?Yt:qt:$t<qt?$t:qt,Me=wt>St?wt>Bt?wt:Bt:St>Bt?St:Bt,pi=Yt>$t?Yt>qt?Yt:qt:$t>qt?$t:qt,Ie=_(ne,le,it,Y,j),_i=_(Me,pi,it,Y,j),we=J.prevZ,ri=J.nextZ;we&&we.z>=Ie&&ri&&ri.z<=_i;){if(we.x>=ne&&we.x<=Me&&we.y>=le&&we.y<=pi&&we!==nt&&we!==gt&&A(wt,Yt,St,$t,Bt,qt,we.x,we.y)&&I(we.prev,we,we.next)>=0||(we=we.prevZ,ri.x>=ne&&ri.x<=Me&&ri.y>=le&&ri.y<=pi&&ri!==nt&&ri!==gt&&A(wt,Yt,St,$t,Bt,qt,ri.x,ri.y)&&I(ri.prev,ri,ri.next)>=0))return!1;ri=ri.nextZ}for(;we&&we.z>=Ie;){if(we.x>=ne&&we.x<=Me&&we.y>=le&&we.y<=pi&&we!==nt&&we!==gt&&A(wt,Yt,St,$t,Bt,qt,we.x,we.y)&&I(we.prev,we,we.next)>=0)return!1;we=we.prevZ}for(;ri&&ri.z<=_i;){if(ri.x>=ne&&ri.x<=Me&&ri.y>=le&&ri.y<=pi&&ri!==nt&&ri!==gt&&A(wt,Yt,St,$t,Bt,qt,ri.x,ri.y)&&I(ri.prev,ri,ri.next)>=0)return!1;ri=ri.nextZ}return!0}function h(J,it,Y){var j=J;do{var nt=j.prev,ht=j.next.next;!k(nt,ht)&&F(nt,j,j.next,ht)&&H(nt,ht)&&H(ht,nt)&&(it.push(nt.i/Y|0),it.push(j.i/Y|0),it.push(ht.i/Y|0),tt(j),tt(j.next),j=J=ht),j=j.next}while(j!==J);return w(j)}function c(J,it,Y,j,nt,ht){var gt=J;do{for(var wt=gt.next.next;wt!==gt.prev;){if(gt.i!==wt.i&&M(gt,wt)){var St=G(gt,wt);return gt=w(gt,gt.next),St=w(St,St.next),T(gt,it,Y,j,nt,ht,0),void T(St,it,Y,j,nt,ht,0)}wt=wt.next}gt=gt.next}while(gt!==J)}function m(J,it){return J.x-it.x}function d(J,it){var Y=function p(J,it){var gt,Y=it,j=J.x,nt=J.y,ht=-1/0;do{if(nt<=Y.y&&nt>=Y.next.y&&Y.next.y!==Y.y){var wt=Y.x+(nt-Y.y)*(Y.next.x-Y.x)/(Y.next.y-Y.y);if(wt<=j&&wt>ht&&(ht=wt,gt=Y.x<Y.next.x?Y:Y.next,wt===j))return gt}Y=Y.next}while(Y!==it);if(!gt)return null;var qt,St=gt,Bt=gt.x,Yt=gt.y,$t=1/0;Y=gt;do{j>=Y.x&&Y.x>=Bt&&j!==Y.x&&A(nt<Yt?j:ht,nt,Bt,Yt,nt<Yt?ht:j,nt,Y.x,Y.y)&&(qt=Math.abs(nt-Y.y)/(j-Y.x),H(Y,J)&&(qt<$t||qt===$t&&(Y.x>gt.x||Y.x===gt.x&&v(gt,Y)))&&(gt=Y,$t=qt)),Y=Y.next}while(Y!==St);return gt}(J,it);if(!Y)return it;var j=G(Y,J);return w(j,j.next),w(Y,Y.next)}function v(J,it){return I(J.prev,J,it.prev)<0&&I(it.next,J,J.next)<0}function _(J,it,Y,j,nt){return(J=1431655765&((J=858993459&((J=252645135&((J=16711935&((J=(J-Y)*nt|0)|J<<8))|J<<4))|J<<2))|J<<1))|(it=1431655765&((it=858993459&((it=252645135&((it=16711935&((it=(it-j)*nt|0)|it<<8))|it<<4))|it<<2))|it<<1))<<1}function E(J){var it=J,Y=J;do{(it.x<Y.x||it.x===Y.x&&it.y<Y.y)&&(Y=it),it=it.next}while(it!==J);return Y}function A(J,it,Y,j,nt,ht,gt,wt){return(nt-gt)*(it-wt)>=(J-gt)*(ht-wt)&&(J-gt)*(j-wt)>=(Y-gt)*(it-wt)&&(Y-gt)*(ht-wt)>=(nt-gt)*(j-wt)}function M(J,it){return J.next.i!==it.i&&J.prev.i!==it.i&&!function B(J,it){var Y=J;do{if(Y.i!==J.i&&Y.next.i!==J.i&&Y.i!==it.i&&Y.next.i!==it.i&&F(Y,Y.next,J,it))return!0;Y=Y.next}while(Y!==J);return!1}(J,it)&&(H(J,it)&&H(it,J)&&function Q(J,it){var Y=J,j=!1,nt=(J.x+it.x)/2,ht=(J.y+it.y)/2;do{Y.y>ht!=Y.next.y>ht&&Y.next.y!==Y.y&&nt<(Y.next.x-Y.x)*(ht-Y.y)/(Y.next.y-Y.y)+Y.x&&(j=!j),Y=Y.next}while(Y!==J);return j}(J,it)&&(I(J.prev,J,it.prev)||I(J,it.prev,it))||k(J,it)&&I(J.prev,J,J.next)>0&&I(it.prev,it,it.next)>0)}function I(J,it,Y){return(it.y-J.y)*(Y.x-it.x)-(it.x-J.x)*(Y.y-it.y)}function k(J,it){return J.x===it.x&&J.y===it.y}function F(J,it,Y,j){var nt=V(I(J,it,Y)),ht=V(I(J,it,j)),gt=V(I(Y,j,J)),wt=V(I(Y,j,it));return!!(nt!==ht&&gt!==wt||0===nt&&N(J,Y,it)||0===ht&&N(J,j,it)||0===gt&&N(Y,J,j)||0===wt&&N(Y,it,j))}function N(J,it,Y){return it.x<=Math.max(J.x,Y.x)&&it.x>=Math.min(J.x,Y.x)&&it.y<=Math.max(J.y,Y.y)&&it.y>=Math.min(J.y,Y.y)}function V(J){return J>0?1:J<0?-1:0}function H(J,it){return I(J.prev,J,J.next)<0?I(J,it,J.next)>=0&&I(J,J.prev,it)>=0:I(J,it,J.prev)<0||I(J,J.next,it)<0}function G(J,it){var Y=new at(J.i,J.x,J.y),j=new at(it.i,it.x,it.y),nt=J.next,ht=it.prev;return J.next=it,it.prev=J,Y.next=nt,nt.prev=Y,j.next=Y,Y.prev=j,ht.next=j,j.prev=ht,j}function K(J,it,Y,j){var nt=new at(J,it,Y);return j?(nt.next=j.next,nt.prev=j,j.next.prev=nt,j.next=nt):(nt.prev=nt,nt.next=nt),nt}function tt(J){J.next.prev=J.prev,J.prev.next=J.next,J.prevZ&&(J.prevZ.nextZ=J.nextZ),J.nextZ&&(J.nextZ.prevZ=J.prevZ)}function at(J,it,Y){this.i=J,this.x=it,this.y=Y,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function lt(J,it,Y,j){for(var nt=0,ht=it,gt=Y-j;ht<Y;ht+=j)nt+=(J[gt]-J[ht])*(J[ht+1]+J[gt+1]),gt=ht;return nt}P.deviation=function(J,it,Y,j){var nt=it&&it.length,gt=Math.abs(lt(J,0,nt?it[0]*Y:J.length,Y));if(nt)for(var wt=0,St=it.length;wt<St;wt++)gt-=Math.abs(lt(J,it[wt]*Y,wt<St-1?it[wt+1]*Y:J.length,Y));var $t=0;for(wt=0;wt<j.length;wt+=3){var qt=j[wt]*Y,ne=j[wt+1]*Y,le=j[wt+2]*Y;$t+=Math.abs((J[qt]-J[le])*(J[ne+1]-J[qt+1])-(J[qt]-J[ne])*(J[le+1]-J[qt+1]))}return 0===gt&&0===$t?0:Math.abs(($t-gt)/gt)},P.flatten=function(J){for(var it=J[0][0].length,Y={vertices:[],holes:[],dimensions:it},j=0,nt=0;nt<J.length;nt++){for(var ht=0;ht<J[nt].length;ht++)for(var gt=0;gt<it;gt++)Y.vertices.push(J[nt][ht][gt]);nt>0&&Y.holes.push(j+=J[nt-1].length)}return Y},S.exports=P},13829:(S,P,a)=>{var w=a(87841);S.exports=function(g,f){void 0===f&&(f=new w);for(var d,h=1/0,c=1/0,u=-h,m=-c,p=0;p<g.points.length;p++)d=g.points[p],h=Math.min(h,d.x),c=Math.min(c,d.y),u=Math.max(u,d.x),m=Math.max(m,d.y);return f.x=h,f.y=c,f.width=u-h,f.height=m-c,f}},26173:S=>{S.exports=function(a,w){void 0===w&&(w=[]);for(var T=0;T<a.points.length;T++)w.push(a.points[T].x),w.push(a.points[T].y);return w}},9564:(S,P,a)=>{var w=a(35001),T=a(23031),g=a(30052);S.exports=function(h,c,u,m){void 0===m&&(m=[]);var d=h.points,p=g(h);!c&&u>0&&(c=p/u);for(var v=0;v<c;v++)for(var x=p*(v/c),y=0,_=0;_<d.length;_++){var E=d[_],A=d[(_+1)%d.length],M=new T(E.x,E.y,A.x,A.y),I=w(M);if(!(x<y||x>y+I)){var k=M.getPoint((x-y)/I);m.push(k);break}y+=I}return m}},30052:(S,P,a)=>{var w=a(35001),T=a(23031);S.exports=function(f){for(var h=f.points,c=0,u=0;u<h.length;u++){var m=h[u],d=h[(u+1)%h.length],p=new T(m.x,m.y,d.x,d.y);c+=w(p)}return c}},25717:(S,P,a)=>{var w=a(83419),T=a(63814),g=a(9564),f=a(23777),h=new w({initialize:function(u){this.type=f.POLYGON,this.area=0,this.points=[],u&&this.setTo(u)},contains:function(c,u){return T(this,c,u)},setTo:function(c){if(this.area=0,this.points=[],"string"==typeof c&&(c=c.split(" ")),!Array.isArray(c))return this;for(var u,m=0;m<c.length;m++)u={x:0,y:0},"number"==typeof c[m]||"string"==typeof c[m]?(u.x=parseFloat(c[m]),u.y=parseFloat(c[m+1]),m++):Array.isArray(c[m])?(u.x=c[m][0],u.y=c[m][1]):(u.x=c[m].x,u.y=c[m].y),this.points.push(u);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var u,m,c=0,d=0;d<this.points.length-1;d++)c+=((m=this.points[d+1]).x-(u=this.points[d]).x)*(u.y+m.y);return this.area=.5*-(c+=((u=this.points[0]).x-(m=this.points[this.points.length-1]).x)*(m.y+u.y)),this.area},getPoints:function(c,u,m){return g(this,c,u,m)}});S.exports=h},8133:S=>{S.exports=function(a){return a.points.reverse(),a}},29524:S=>{function P(h,c){var u=h.x-c.x,m=h.y-c.y;return u*u+m*m}function a(h,c,u){var m=c.x,d=c.y,p=u.x-m,v=u.y-d;if(0!==p||0!==v){var x=((h.x-m)*p+(h.y-d)*v)/(p*p+v*v);x>1?(m=u.x,d=u.y):x>0&&(m+=p*x,d+=v*x)}return(p=h.x-m)*p+(v=h.y-d)*v}function T(h,c,u,m,d){for(var v,p=m,x=c+1;x<u;x++){var y=a(h[x],h[c],h[u]);y>p&&(v=x,p=y)}p>m&&(v-c>1&&T(h,c,v,m,d),d.push(h[v]),u-v>1&&T(h,v,u,m,d))}function g(h,c){var u=h.length-1,m=[h[0]];return T(h,0,u,c,m),m.push(h[u]),m}S.exports=function(h,c,u){void 0===c&&(c=1),void 0===u&&(u=!1);var m=h.points;if(m.length>2){var d=c*c;u||(m=function w(h,c){for(var d,u=h[0],m=[u],p=1,v=h.length;p<v;p++)P(d=h[p],u)>c&&(m.push(d),u=d);return u!==d&&m.push(d),m}(m,d)),h.setTo(g(m,d))}return h}},5469:S=>{var P=function(w,T){return w[0]=T[0],w[1]=T[1],w};S.exports=function(w){var T,g=[],f=w.points;for(T=0;T<f.length;T++)g.push([f[T].x,f[T].y]);var h=[];for(g.length>0&&h.push(P([0,0],g[0])),T=0;T<g.length-1;T++){var c=g[T],u=g[T+1],m=c[0],d=c[1],p=u[0],v=u[1];h.push([.85*m+.15*p,.85*d+.15*v]),h.push([.15*m+.85*p,.15*d+.85*v])}return g.length>1&&h.push(P([0,0],g[g.length-1])),w.setTo(h)}},24709:S=>{S.exports=function(a,w,T){for(var g=a.points,f=0;f<g.length;f++)g[f].x+=w,g[f].y+=T;return a}},58423:(S,P,a)=>{var w=a(25717);w.Clone=a(12306),w.Contains=a(63814),w.ContainsPoint=a(99338),w.Earcut=a(94811),w.GetAABB=a(13829),w.GetNumberArray=a(26173),w.GetPoints=a(9564),w.Perimeter=a(30052),w.Reverse=a(8133),w.Simplify=a(29524),w.Smooth=a(5469),w.Translate=a(24709),S.exports=w},62224:S=>{S.exports=function(a){return a.width*a.height}},98615:S=>{S.exports=function(a){return a.x=Math.ceil(a.x),a.y=Math.ceil(a.y),a}},31688:S=>{S.exports=function(a){return a.x=Math.ceil(a.x),a.y=Math.ceil(a.y),a.width=Math.ceil(a.width),a.height=Math.ceil(a.height),a}},67502:S=>{S.exports=function(a,w,T){return a.x=w-a.width/2,a.y=T-a.height/2,a}},65085:(S,P,a)=>{var w=a(87841);S.exports=function(g){return new w(g.x,g.y,g.width,g.height)}},37303:S=>{S.exports=function(a,w,T){return!(a.width<=0||a.height<=0)&&a.x<=w&&a.x+a.width>=w&&a.y<=T&&a.y+a.height>=T}},96553:(S,P,a)=>{var w=a(37303);S.exports=function(g,f){return w(g,f.x,f.y)}},70273:S=>{S.exports=function(a,w){return!(w.width*w.height>a.width*a.height)&&w.x>a.x&&w.x<a.right&&w.right>a.x&&w.right<a.right&&w.y>a.y&&w.y<a.bottom&&w.bottom>a.y&&w.bottom<a.bottom}},43459:S=>{S.exports=function(a,w){return w.setTo(a.x,a.y,a.width,a.height)}},77493:S=>{S.exports=function(a,w){return void 0===w&&(w=[]),w.push({x:a.x,y:a.y}),w.push({x:a.right,y:a.y}),w.push({x:a.right,y:a.bottom}),w.push({x:a.x,y:a.bottom}),w}},9219:S=>{S.exports=function(a,w){return a.x===w.x&&a.y===w.y&&a.width===w.width&&a.height===w.height}},53751:(S,P,a)=>{var w=a(8249);S.exports=function(g,f){var h=w(g);return h<w(f)?g.setSize(f.height*h,f.height):g.setSize(f.width,f.width/h),g.setPosition(f.centerX-g.width/2,f.centerY-g.height/2)}},16088:(S,P,a)=>{var w=a(8249);S.exports=function(g,f){var h=w(g);return h>w(f)?g.setSize(f.height*h,f.height):g.setSize(f.width,f.width/h),g.setPosition(f.centerX-g.width/2,f.centerY-g.height/2)}},80774:S=>{S.exports=function(a){return a.x=Math.floor(a.x),a.y=Math.floor(a.y),a}},83859:S=>{S.exports=function(a){return a.x=Math.floor(a.x),a.y=Math.floor(a.y),a.width=Math.floor(a.width),a.height=Math.floor(a.height),a}},19217:(S,P,a)=>{var w=a(87841),T=a(36383);S.exports=function(f,h){if(void 0===h&&(h=new w),0===f.length)return h;for(var p,v,x,c=Number.MAX_VALUE,u=Number.MAX_VALUE,m=T.MIN_SAFE_INTEGER,d=T.MIN_SAFE_INTEGER,y=0;y<f.length;y++)p=f[y],Array.isArray(p)?(v=p[0],x=p[1]):(v=p.x,x=p.y),c=Math.min(c,v),u=Math.min(u,x),m=Math.max(m,v),d=Math.max(d,x);return h.x=c,h.y=u,h.width=m-c,h.height=d-u,h}},9477:(S,P,a)=>{var w=a(87841);S.exports=function(g,f,h,c,u){return void 0===u&&(u=new w),u.setTo(Math.min(g,h),Math.min(f,c),Math.abs(g-h),Math.abs(f-c))}},8249:S=>{S.exports=function(a){return 0===a.height?NaN:a.width/a.height}},27165:(S,P,a)=>{var w=a(2141);S.exports=function(g,f){return void 0===f&&(f=new w),f.x=g.centerX,f.y=g.centerY,f}},20812:(S,P,a)=>{var w=a(13019),T=a(2141);S.exports=function(f,h,c){if(void 0===c&&(c=new T),h<=0||h>=1)return c.x=f.x,c.y=f.y,c;var u=w(f)*h;return h>.5?(u-=f.width+f.height)<=f.width?(c.x=f.right-u,c.y=f.bottom):(c.x=f.x,c.y=f.bottom-(u-f.width)):u<=f.width?(c.x=f.x+u,c.y=f.y):(c.x=f.right,c.y=f.y+(u-f.width)),c}},34819:(S,P,a)=>{var w=a(20812),T=a(13019);S.exports=function(f,h,c,u){void 0===u&&(u=[]),!h&&c>0&&(h=T(f)/c);for(var m=0;m<h;m++)u.push(w(f,m/h));return u}},51313:(S,P,a)=>{var w=a(2141);S.exports=function(g,f){return void 0===f&&(f=new w),f.x=g.width,f.y=g.height,f}},86091:(S,P,a)=>{var w=a(67502);S.exports=function(g,f,h){var c=g.centerX,u=g.centerY;return g.setSize(g.width+2*f,g.height+2*h),w(g,c,u)}},53951:(S,P,a)=>{var w=a(87841),T=a(59996);S.exports=function(f,h,c){return void 0===c&&(c=new w),T(f,h)?(c.x=Math.max(f.x,h.x),c.y=Math.max(f.y,h.y),c.width=Math.min(f.right,h.right)-c.x,c.height=Math.min(f.bottom,h.bottom)-c.y):c.setEmpty(),c}},14649:(S,P,a)=>{var w=a(13019),T=a(2141);S.exports=function(f,h,c,u){if(void 0===u&&(u=[]),!h&&!c)return u;h?c=Math.round(w(f)/h):h=w(f)/c;for(var m=f.x,d=f.y,p=0,v=0;v<c;v++)switch(u.push(new T(m,d)),p){case 0:(m+=h)>=f.right&&(p=1,d+=m-f.right,m=f.right);break;case 1:(d+=h)>=f.bottom&&(p=2,m-=d-f.bottom,d=f.bottom);break;case 2:(m-=h)<=f.left&&(p=3,d-=f.left-m,m=f.left);break;case 3:(d-=h)<=f.top&&(p=0,d=f.top)}return u}},33595:S=>{S.exports=function(a,w){for(var T=a.x,g=a.right,f=a.y,h=a.bottom,c=0;c<w.length;c++)T=Math.min(T,w[c].x),g=Math.max(g,w[c].x),f=Math.min(f,w[c].y),h=Math.max(h,w[c].y);return a.x=T,a.y=f,a.width=g-T,a.height=h-f,a}},20074:S=>{S.exports=function(a,w){var T=Math.min(a.x,w.x),g=Math.max(a.right,w.right);a.x=T,a.width=g-T;var f=Math.min(a.y,w.y),h=Math.max(a.bottom,w.bottom);return a.y=f,a.height=h-f,a}},92171:S=>{S.exports=function(a,w,T){var g=Math.min(a.x,w),f=Math.max(a.right,w);a.x=g,a.width=f-g;var h=Math.min(a.y,T),c=Math.max(a.bottom,T);return a.y=h,a.height=c-h,a}},42981:S=>{S.exports=function(a,w,T){return a.x+=w,a.y+=T,a}},46907:S=>{S.exports=function(a,w){return a.x+=w.x,a.y+=w.y,a}},60170:S=>{S.exports=function(a,w){return a.x<w.right&&a.right>w.x&&a.y<w.bottom&&a.bottom>w.y}},13019:S=>{S.exports=function(a){return 2*(a.width+a.height)}},85133:(S,P,a)=>{var w=a(2141),T=a(39506);S.exports=function(f,h,c){void 0===c&&(c=new w),h=T(h);var u=Math.sin(h),m=Math.cos(h),d=m>0?f.width/2:f.width/-2,p=u>0?f.height/2:f.height/-2;return Math.abs(d*u)<Math.abs(p*m)?p=d*u/m:d=p*m/u,c.x=d+f.centerX,c.y=p+f.centerY,c}},26597:(S,P,a)=>{var w=a(2141);S.exports=function(g,f){return void 0===f&&(f=new w),f.x=g.x+Math.random()*g.width,f.y=g.y+Math.random()*g.height,f}},86470:(S,P,a)=>{var w=a(30976),T=a(70273),g=a(2141);S.exports=function(h,c,u){if(void 0===u&&(u=new g),T(h,c))switch(w(0,3)){case 0:u.x=h.x+Math.random()*(c.right-h.x),u.y=h.y+Math.random()*(c.top-h.y);break;case 1:u.x=c.x+Math.random()*(h.right-c.x),u.y=c.bottom+Math.random()*(h.bottom-c.bottom);break;case 2:u.x=h.x+Math.random()*(c.x-h.x),u.y=c.y+Math.random()*(h.bottom-c.y);break;case 3:u.x=c.right+Math.random()*(h.right-c.right),u.y=h.y+Math.random()*(c.bottom-h.y)}return u}},87841:(S,P,a)=>{var w=a(83419),T=a(37303),g=a(20812),f=a(34819),h=a(23777),c=a(23031),u=a(26597),m=new w({initialize:function(p,v,x,y){void 0===p&&(p=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=0),this.type=h.RECTANGLE,this.x=p,this.y=v,this.width=x,this.height=y},contains:function(d,p){return T(this,d,p)},getPoint:function(d,p){return g(this,d,p)},getPoints:function(d,p,v){return f(this,d,p,v)},getRandomPoint:function(d){return u(this,d)},setTo:function(d,p,v,x){return this.x=d,this.y=p,this.width=v,this.height=x,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(d,p){return void 0===p&&(p=d),this.x=d,this.y=p,this},setSize:function(d,p){return void 0===p&&(p=d),this.width=d,this.height=p,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(d){return void 0===d&&(d=new c),d.setTo(this.x,this.y,this.right,this.y),d},getLineB:function(d){return void 0===d&&(d=new c),d.setTo(this.right,this.y,this.right,this.bottom),d},getLineC:function(d){return void 0===d&&(d=new c),d.setTo(this.right,this.bottom,this.x,this.bottom),d},getLineD:function(d){return void 0===d&&(d=new c),d.setTo(this.x,this.bottom,this.x,this.y),d},left:{get:function(){return this.x},set:function(d){this.width=d>=this.right?0:this.right-d,this.x=d}},right:{get:function(){return this.x+this.width},set:function(d){this.width=d<=this.x?0:d-this.x}},top:{get:function(){return this.y},set:function(d){this.height=d>=this.bottom?0:this.bottom-d,this.y=d}},bottom:{get:function(){return this.y+this.height},set:function(d){this.height=d<=this.y?0:d-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(d){this.x=d-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(d){this.y=d-this.height/2}}});S.exports=m},94845:S=>{S.exports=function(a,w){return a.width===w.width&&a.height===w.height}},31730:S=>{S.exports=function(a,w,T){return void 0===T&&(T=w),a.width*=w,a.height*=T,a}},36899:(S,P,a)=>{var w=a(87841);S.exports=function(g,f,h){void 0===h&&(h=new w);var c=Math.min(g.x,f.x),u=Math.min(g.y,f.y),m=Math.max(g.right,f.right)-c,d=Math.max(g.bottom,f.bottom)-u;return h.setTo(c,u,m,d)}},93232:(S,P,a)=>{var w=a(87841);w.Area=a(62224),w.Ceil=a(98615),w.CeilAll=a(31688),w.CenterOn=a(67502),w.Clone=a(65085),w.Contains=a(37303),w.ContainsPoint=a(96553),w.ContainsRect=a(70273),w.CopyFrom=a(43459),w.Decompose=a(77493),w.Equals=a(9219),w.FitInside=a(53751),w.FitOutside=a(16088),w.Floor=a(80774),w.FloorAll=a(83859),w.FromPoints=a(19217),w.FromXY=a(9477),w.GetAspectRatio=a(8249),w.GetCenter=a(27165),w.GetPoint=a(20812),w.GetPoints=a(34819),w.GetSize=a(51313),w.Inflate=a(86091),w.Intersection=a(53951),w.MarchingAnts=a(14649),w.MergePoints=a(33595),w.MergeRect=a(20074),w.MergeXY=a(92171),w.Offset=a(42981),w.OffsetPoint=a(46907),w.Overlaps=a(60170),w.Perimeter=a(13019),w.PerimeterPoint=a(85133),w.Random=a(26597),w.RandomOutside=a(86470),w.SameDimensions=a(94845),w.Scale=a(31730),w.Union=a(36899),S.exports=w},41658:S=>{S.exports=function(a){var w=a.x1,T=a.y1;return Math.abs(((a.x3-w)*(a.y2-T)-(a.x2-w)*(a.y3-T))/2)}},39208:(S,P,a)=>{var w=a(16483);S.exports=function(g,f,h){var c=h*(Math.sqrt(3)/2);return new w(g,f,g+h/2,f+c,g-h/2,f+c)}},39545:(S,P,a)=>{var w=a(94811),T=a(16483);S.exports=function(f,h,c,u,m){void 0===h&&(h=null),void 0===c&&(c=1),void 0===u&&(u=1),void 0===m&&(m=[]);for(var p,v,x,d=w(f,h),k=0;k<d.length;k+=3)m.push(new T(f[2*(p=d[k])]*c,f[2*p+1]*u,f[2*(v=d[k+1])]*c,f[2*v+1]*u,f[2*(x=d[k+2])]*c,f[2*x+1]*u));return m}},90301:(S,P,a)=>{var w=a(16483);S.exports=function(g,f,h,c){return void 0===c&&(c=h),new w(g,f,g,f-c,g+h,f)}},23707:(S,P,a)=>{var w=a(97523),T=a(13584);S.exports=function(f,h,c,u){void 0===u&&(u=w);var m=u(f);return T(f,h-m.x,c-m.y)}},97523:(S,P,a)=>{var w=a(2141);S.exports=function(g,f){return void 0===f&&(f=new w),f.x=(g.x1+g.x2+g.x3)/3,f.y=(g.y1+g.y2+g.y3)/3,f}},24951:(S,P,a)=>{var w=a(26099);function T(f,h,c,u){return f*u-h*c}S.exports=function(f,h){void 0===h&&(h=new w);var c=f.x3,u=f.y3,m=f.x1-c,d=f.y1-u,p=f.x2-c,v=f.y2-u,x=2*T(m,d,p,v),y=T(d,m*m+d*d,v,p*p+v*v),_=T(m,m*m+d*d,p,p*p+v*v);return h.x=c-y/x,h.y=u+_/x,h}},85614:(S,P,a)=>{var w=a(96503);S.exports=function(g,f){void 0===f&&(f=new w);var I,k,h=g.x1,c=g.y1,u=g.x2,m=g.y2,d=g.x3,p=g.y3,v=u-h,x=m-c,y=d-h,_=p-c,E=v*(h+u)+x*(c+m),A=y*(h+d)+_*(c+p),M=2*(v*(p-m)-x*(d-u));if(Math.abs(M)<1e-6){var F=Math.min(h,u,d),N=Math.min(c,m,p);I=.5*(Math.max(h,u,d)-F),k=.5*(Math.max(c,m,p)-N),f.x=F+I,f.y=N+k,f.radius=Math.sqrt(I*I+k*k)}else f.x=(_*E-x*A)/M,f.y=(v*A-y*E)/M,I=f.x-h,k=f.y-c,f.radius=Math.sqrt(I*I+k*k);return f}},74422:(S,P,a)=>{var w=a(16483);S.exports=function(g){return new w(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)}},10690:S=>{S.exports=function(a,w,T){var g=a.x3-a.x1,f=a.y3-a.y1,h=a.x2-a.x1,c=a.y2-a.y1,u=w-a.x1,m=T-a.y1,d=g*g+f*f,p=g*h+f*c,v=g*u+f*m,x=h*h+c*c,y=h*u+c*m,_=d*x-p*p,E=0===_?0:1/_,A=(x*v-p*y)*E,M=(d*y-p*v)*E;return A>=0&&M>=0&&A+M<1}},48653:S=>{S.exports=function(a,w,T,g){void 0===T&&(T=!1),void 0===g&&(g=[]);for(var y,_,E,A,M,I,f=a.x3-a.x1,h=a.y3-a.y1,c=a.x2-a.x1,u=a.y2-a.y1,m=f*f+h*h,d=f*c+h*u,p=c*c+u*u,v=m*p-d*d,x=0===v?0:1/v,k=a.x1,F=a.y1,N=0;N<w.length&&(_=(m*(I=c*(E=w[N].x-k)+u*(A=w[N].y-F))-d*(M=f*E+h*A))*x,!((y=(p*M-d*I)*x)>=0&&_>=0&&y+_<1&&(g.push({x:w[N].x,y:w[N].y}),T)));N++);return g}},96006:(S,P,a)=>{var w=a(10690);S.exports=function(g,f){return w(g,f.x,f.y)}},71326:S=>{S.exports=function(a,w){return w.setTo(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)}},71694:S=>{S.exports=function(a,w){return void 0===w&&(w=[]),w.push({x:a.x1,y:a.y1}),w.push({x:a.x2,y:a.y2}),w.push({x:a.x3,y:a.y3}),w}},33522:S=>{S.exports=function(a,w){return a.x1===w.x1&&a.y1===w.y1&&a.x2===w.x2&&a.y2===w.y2&&a.x3===w.x3&&a.y3===w.y3}},20437:(S,P,a)=>{var w=a(2141),T=a(35001);S.exports=function(f,h,c){void 0===c&&(c=new w);var u=f.getLineA(),m=f.getLineB(),d=f.getLineC();if(h<=0||h>=1)return c.x=u.x1,c.y=u.y1,c;var p=T(u),v=T(m),x=T(d),_=(p+v+x)*h,E=0;return _<p?(c.x=u.x1+(u.x2-u.x1)*(E=_/p),c.y=u.y1+(u.y2-u.y1)*E):_>p+v?(c.x=d.x1+(d.x2-d.x1)*(E=(_-=p+v)/x),c.y=d.y1+(d.y2-d.y1)*E):(c.x=m.x1+(m.x2-m.x1)*(E=(_-=p)/v),c.y=m.y1+(m.y2-m.y1)*E),c}},80672:(S,P,a)=>{var w=a(35001),T=a(2141);S.exports=function(f,h,c,u){void 0===u&&(u=[]);var m=f.getLineA(),d=f.getLineB(),p=f.getLineC(),v=w(m),x=w(d),y=w(p),_=v+x+y;!h&&c>0&&(h=_/c);for(var E=0;E<h;E++){var A=_*(E/h),M=0,I=new T;A<v?(I.x=m.x1+(m.x2-m.x1)*(M=A/v),I.y=m.y1+(m.y2-m.y1)*M):A>v+x?(I.x=p.x1+(p.x2-p.x1)*(M=(A-=v+x)/y),I.y=p.y1+(p.y2-p.y1)*M):(I.x=d.x1+(d.x2-d.x1)*(M=(A-=v)/x),I.y=d.y1+(d.y2-d.y1)*M),u.push(I)}return u}},39757:(S,P,a)=>{var w=a(2141);function T(f,h,c,u){var m=f-c,d=h-u;return Math.sqrt(m*m+d*d)}S.exports=function(f,h){void 0===h&&(h=new w);var c=f.x1,u=f.y1,m=f.x2,d=f.y2,p=f.x3,v=f.y3,x=T(p,v,m,d),y=T(c,u,p,v),_=T(m,d,c,u),E=x+y+_;return h.x=(c*x+m*y+p*_)/E,h.y=(u*x+d*y+v*_)/E,h}},13584:S=>{S.exports=function(a,w,T){return a.x1+=w,a.y1+=T,a.x2+=w,a.y2+=T,a.x3+=w,a.y3+=T,a}},1376:(S,P,a)=>{var w=a(35001);S.exports=function(g){var f=g.getLineA(),h=g.getLineB(),c=g.getLineC();return w(f)+w(h)+w(c)}},90260:(S,P,a)=>{var w=a(2141);S.exports=function(g,f){void 0===f&&(f=new w);var h=g.x2-g.x1,c=g.y2-g.y1,u=g.x3-g.x1,m=g.y3-g.y1,d=Math.random(),p=Math.random();return d+p>=1&&(d=1-d,p=1-p),f.x=g.x1+(h*d+u*p),f.y=g.y1+(c*d+m*p),f}},52172:(S,P,a)=>{var w=a(99614),T=a(39757);S.exports=function(f,h){var c=T(f);return w(f,c.x,c.y,h)}},49907:(S,P,a)=>{var w=a(99614);S.exports=function(g,f,h){return w(g,f.x,f.y,h)}},99614:S=>{S.exports=function(a,w,T,g){var f=Math.cos(g),h=Math.sin(g),c=a.x1-w,u=a.y1-T;return a.x1=c*f-u*h+w,a.y1=c*h+u*f+T,a.x2=(c=a.x2-w)*f-(u=a.y2-T)*h+w,a.y2=c*h+u*f+T,a.x3=(c=a.x3-w)*f-(u=a.y3-T)*h+w,a.y3=c*h+u*f+T,a}},16483:(S,P,a)=>{var w=a(83419),T=a(10690),g=a(20437),f=a(80672),h=a(23777),c=a(23031),u=a(90260),m=new w({initialize:function(p,v,x,y,_,E){void 0===p&&(p=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=0),void 0===_&&(_=0),void 0===E&&(E=0),this.type=h.TRIANGLE,this.x1=p,this.y1=v,this.x2=x,this.y2=y,this.x3=_,this.y3=E},contains:function(d,p){return T(this,d,p)},getPoint:function(d,p){return g(this,d,p)},getPoints:function(d,p,v){return f(this,d,p,v)},getRandomPoint:function(d){return u(this,d)},setTo:function(d,p,v,x,y,_){return void 0===d&&(d=0),void 0===p&&(p=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=0),void 0===_&&(_=0),this.x1=d,this.y1=p,this.x2=v,this.y2=x,this.x3=y,this.y3=_,this},getLineA:function(d){return void 0===d&&(d=new c),d.setTo(this.x1,this.y1,this.x2,this.y2),d},getLineB:function(d){return void 0===d&&(d=new c),d.setTo(this.x2,this.y2,this.x3,this.y3),d},getLineC:function(d){return void 0===d&&(d=new c),d.setTo(this.x3,this.y3,this.x1,this.y1),d},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(d){var p;this.x1-=p=this.x1<=this.x2&&this.x1<=this.x3?this.x1-d:this.x2<=this.x1&&this.x2<=this.x3?this.x2-d:this.x3-d,this.x2-=p,this.x3-=p}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(d){var p;this.x1-=p=this.x1>=this.x2&&this.x1>=this.x3?this.x1-d:this.x2>=this.x1&&this.x2>=this.x3?this.x2-d:this.x3-d,this.x2-=p,this.x3-=p}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(d){var p;this.y1-=p=this.y1<=this.y2&&this.y1<=this.y3?this.y1-d:this.y2<=this.y1&&this.y2<=this.y3?this.y2-d:this.y3-d,this.y2-=p,this.y3-=p}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(d){var p;this.y1-=p=this.y1>=this.y2&&this.y1>=this.y3?this.y1-d:this.y2>=this.y1&&this.y2>=this.y3?this.y2-d:this.y3-d,this.y2-=p,this.y3-=p}}});S.exports=m},84435:(S,P,a)=>{var w=a(16483);w.Area=a(41658),w.BuildEquilateral=a(39208),w.BuildFromPolygon=a(39545),w.BuildRight=a(90301),w.CenterOn=a(23707),w.Centroid=a(97523),w.CircumCenter=a(24951),w.CircumCircle=a(85614),w.Clone=a(74422),w.Contains=a(10690),w.ContainsArray=a(48653),w.ContainsPoint=a(96006),w.CopyFrom=a(71326),w.Decompose=a(71694),w.Equals=a(33522),w.GetPoint=a(20437),w.GetPoints=a(80672),w.InCenter=a(39757),w.Perimeter=a(1376),w.Offset=a(13584),w.Random=a(90260),w.Rotate=a(52172),w.RotateAroundPoint=a(49907),w.RotateAroundXY=a(99614),S.exports=w},74457:S=>{S.exports=function(a,w,T){return{gameObject:a,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:w,hitAreaCallback:T,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}}},84409:S=>{S.exports=function(a,w){return function(T,g,f,h){var c=a.getPixelAlpha(g,f,h.texture.key,h.frame.name);return c&&c>=w}}},7003:(S,P,a)=>{var w=a(83419),T=a(93301),g=a(50792),f=a(8214),h=a(8443),c=a(78970),u=a(85098),m=a(42515),d=a(36210),p=a(61340),v=a(85955),x=new w({initialize:function(_,E){this.game=_,this.config=E,this.enabled=!0,this.events=new g,this.isOver=!0,this.defaultCursor="",this.keyboard=E.inputKeyboard?new c(this):null,this.mouse=E.inputMouse?new u(this):null,this.touch=E.inputTouch?new d(this):null,this.pointers=[],this.pointersTotal=E.inputActivePointers;for(var A=0;A<=this.pointersTotal;A++){var M=new m(this,A);M.smoothFactor=E.inputSmoothFactor,this.pointers.push(M)}this.mousePointer=E.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new p,this._tempMatrix2=new p,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],_.events.once(h.BOOT,this.boot,this)},boot:function(){var y=this.game,_=y.events;this.canvas=y.canvas,this.scaleManager=y.scale,this.events.emit(f.MANAGER_BOOT),_.on(h.PRE_RENDER,this.preRender,this),_.once(h.DESTROY,this.destroy,this)},setCanvasOver:function(y){this.isOver=!0,this.events.emit(f.GAME_OVER,y)},setCanvasOut:function(y){this.isOver=!1,this.events.emit(f.GAME_OUT,y)},preRender:function(){var y=this.game.loop.now,_=this.game.loop.delta,E=this.game.scene.getScenes(!0,!0);this.time=y,this.events.emit(f.MANAGER_UPDATE);for(var A=0;A<E.length;A++){var M=E[A];if(M.sys.input&&M.sys.input.updatePoll(y,_)&&this.globalTopOnly)return}},setDefaultCursor:function(y){this.defaultCursor=y,this.canvas.style.cursor!==y&&(this.canvas.style.cursor=y)},setCursor:function(y){y.cursor&&(this.canvas.style.cursor=y.cursor)},resetCursor:function(y,_){(_||y&&y.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(y){void 0===y&&(y=1);var _=[];this.pointersTotal+y>10&&(y=10-this.pointersTotal);for(var E=0;E<y;E++){var M=new m(this,this.pointers.length);M.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(M),this.pointersTotal++,_.push(M)}return _},updateInputPlugins:function(y,_){var E=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var A=0;A<E.length;A++){var M=E[A];if(M.sys.input&&(M.sys.input.update(y,_)&&this.globalTopOnly||this._tempSkip))return}},onTouchStart:function(y){for(var _=this.pointers,E=[],A=0;A<y.changedTouches.length;A++)for(var M=y.changedTouches[A],I=1;I<_.length;I++){var k=_[I];if(!k.active){k.touchstart(M,y),this.activePointer=k,E.push(k);break}}this.updateInputPlugins(T.TOUCH_START,E)},onTouchMove:function(y){for(var _=this.pointers,E=[],A=0;A<y.changedTouches.length;A++)for(var M=y.changedTouches[A],I=1;I<_.length;I++){var k=_[I];if(k.active&&k.identifier===M.identifier){var N=document.elementFromPoint(M.clientX,M.clientY)===this.canvas;!this.isOver&&N?this.setCanvasOver(y):this.isOver&&!N&&this.setCanvasOut(y),this.isOver&&(k.touchmove(M,y),this.activePointer=k,E.push(k));break}}this.updateInputPlugins(T.TOUCH_MOVE,E)},onTouchEnd:function(y){for(var _=this.pointers,E=[],A=0;A<y.changedTouches.length;A++)for(var M=y.changedTouches[A],I=1;I<_.length;I++){var k=_[I];if(k.active&&k.identifier===M.identifier){k.touchend(M,y),E.push(k);break}}this.updateInputPlugins(T.TOUCH_END,E)},onTouchCancel:function(y){for(var _=this.pointers,E=[],A=0;A<y.changedTouches.length;A++)for(var M=y.changedTouches[A],I=1;I<_.length;I++){var k=_[I];if(k.active&&k.identifier===M.identifier){k.touchcancel(M,y),E.push(k);break}}this.updateInputPlugins(T.TOUCH_CANCEL,E)},onMouseDown:function(y){var _=this.mousePointer;_.down(y),_.updateMotion(),this.activePointer=_,this.updateInputPlugins(T.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(y){var _=this.mousePointer;_.move(y),_.updateMotion(),this.activePointer=_,this.updateInputPlugins(T.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(y){var _=this.mousePointer;_.up(y),_.updateMotion(),this.activePointer=_,this.updateInputPlugins(T.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(y){var _=this.mousePointer;_.wheel(y),this.activePointer=_,this.updateInputPlugins(T.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(y){var _=this.mouse.locked;this.mousePointer.locked=_,this.events.emit(f.POINTERLOCK_CHANGE,y,_)},inputCandidate:function(y,_){var E=y.input;if(!E||!E.enabled||!y.willRender(_))return!1;var A=!0,M=y.parentContainer;if(M)do{if(!M.willRender(_)){A=!1;break}M=M.parentContainer}while(M);return A},hitTest:function(y,_,E,A){void 0===A&&(A=this._tempHitTest);var M=this._tempPoint,I=E.scrollX,k=E.scrollY;A.length=0,E.getWorldPoint(y.x,y.y,M),y.worldX=M.x,y.worldY=M.y;for(var V={x:0,y:0},B=this._tempMatrix,H=this._tempMatrix2,Q=0;Q<_.length;Q++){var G=_[Q];if(this.inputCandidate(G,E)){var K=M.x+I*G.scrollFactorX-I,tt=M.y+k*G.scrollFactorY-k;G.parentContainer?(G.getWorldTransformMatrix(B,H),B.applyInverse(K,tt,V)):v(K,tt,G.x,G.y,G.rotation,G.scaleX,G.scaleY,V),this.pointWithinHitArea(G,V.x,V.y)&&A.push(G)}}return A},pointWithinHitArea:function(y,_,E){_+=y.displayOriginX,E+=y.displayOriginY;var A=y.input;return!(!A||!A.hitAreaCallback(A.hitArea,_,E,y)||(A.localX=_,A.localY=E,0))},pointWithinInteractiveObject:function(y,_,E){return!!y.hitArea&&(E+=y.gameObject.displayOriginY,y.localX=_+=y.gameObject.displayOriginX,y.localY=E,y.hitAreaCallback(y.hitArea,_,E,y))},transformPointer:function(y,_,E,A){var M=y.position,I=y.prevPosition;I.x=M.x,I.y=M.y;var k=this.scaleManager.transformX(_),F=this.scaleManager.transformY(E),N=y.smoothFactor;A&&0!==N?(M.x=k*N+I.x*(1-N),M.y=F*N+I.y*(1-N)):(M.x=k,M.y=F)},destroy:function(){this.events.removeAllListeners(),this.game.events.off(h.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var y=0;y<this.pointers.length;y++)this.pointers[y].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});S.exports=x},48205:(S,P,a)=>{var w=a(96503),T=a(87902),g=a(83419),f=a(93301),h=a(74457),c=a(84409),u=a(20339),m=a(8497),d=a(81154),p=a(8214),v=a(50792),x=a(95540),y=a(23777),_=a(89639),E=a(41212),A=a(37277),M=a(87841),I=a(37303),k=a(44594),F=a(16483),N=a(10690),V=new g({Extends:v,initialize:function(H){v.call(this),this.scene=H,this.systems=H.sys,this.settings=H.sys.settings,this.manager=H.sys.game.input,this.pluginEvents=new v,this.enabled=!0,_.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var Q={cancelled:!1};this._eventContainer={stopPropagation:function(){Q.cancelled=!0}},this._eventData=Q,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,H.sys.events.once(k.BOOT,this.boot,this),H.sys.events.on(k.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(k.DESTROY,this.destroy,this),this.pluginEvents.emit(p.BOOT)},start:function(){var B=this.systems.events;B.on(k.TRANSITION_START,this.transitionIn,this),B.on(k.TRANSITION_OUT,this.transitionOut,this),B.on(k.TRANSITION_COMPLETE,this.transitionComplete,this),B.on(k.PRE_UPDATE,this.preUpdate,this),B.once(k.SHUTDOWN,this.shutdown,this),this.manager.events.on(p.GAME_OUT,this.onGameOut,this),this.manager.events.on(p.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(p.START)},onGameOver:function(B){this.isActive()&&this.emit(p.GAME_OVER,B.timeStamp,B)},onGameOut:function(B){this.isActive()&&this.emit(p.GAME_OUT,B.timeStamp,B)},preUpdate:function(){this.pluginEvents.emit(p.PRE_UPDATE);var B=this._pendingRemoval,H=this._pendingInsertion,Q=B.length;if(0!==Q||0!==H.length){for(var K=this._list,tt=0;tt<Q;tt++){var at=B[tt],lt=K.indexOf(at);lt>-1&&(K.splice(lt,1),this.clear(at,!0))}this._pendingRemoval.length=0,this._list=K.concat(H.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(B){this.manager&&this.manager.setCursor(B)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(B,H){if(!this.isActive())return!1;if(this.pluginEvents.emit(p.UPDATE,B,H),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var Q,K=this.manager.pointers;for(Q=0;Q<K.length;Q++)K[Q].updateMotion();if(0===this._list.length)return!1;var tt=this.pollRate;if(-1===tt)return!1;if(tt>0){if(this._pollTimer-=H,!(this._pollTimer<0))return!1;this._pollTimer=this.pollRate}var at=!1;for(Q=0;Q<K.length;Q++){var lt=0,J=K[Q];this._tempZones=[],this._temp=this.hitTestPointer(J),this.sortGameObjects(this._temp,J),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),lt+=this.processOverOutEvents(J),2===this.getDragState(J)&&this.processDragThresholdEvent(J,B),lt>0&&(at=!0)}return at},update:function(B,H){if(!this.isActive())return!1;for(var Q=!1,G=0;G<H.length;G++){var K=0,tt=H[G];switch(this._tempZones=[],this._temp=this.hitTestPointer(tt),this.sortGameObjects(this._temp,tt),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),B){case f.MOUSE_DOWN:K+=this.processDragDownEvent(tt),K+=this.processDownEvents(tt),K+=this.processOverOutEvents(tt);break;case f.MOUSE_UP:K+=this.processDragUpEvent(tt),K+=this.processUpEvents(tt),K+=this.processOverOutEvents(tt);break;case f.TOUCH_START:K+=this.processDragDownEvent(tt),K+=this.processDownEvents(tt),K+=this.processOverEvents(tt);break;case f.TOUCH_END:case f.TOUCH_CANCEL:K+=this.processDragUpEvent(tt),K+=this.processUpEvents(tt),K+=this.processOutEvents(tt);break;case f.MOUSE_MOVE:case f.TOUCH_MOVE:K+=this.processDragMoveEvent(tt),K+=this.processMoveEvents(tt),K+=this.processOverOutEvents(tt);break;case f.MOUSE_WHEEL:K+=this.processWheelEvent(tt)}K>0&&(Q=!0)}return this._updatedThisFrame=!0,Q},clear:function(B,H){void 0===H&&(H=!1),this.disable(B);var Q=B.input;Q&&(this.removeDebug(B),this.manager.resetCursor(Q),Q.gameObject=void 0,Q.target=void 0,Q.hitArea=void 0,Q.hitAreaCallback=void 0,Q.callbackContext=void 0,B.input=null),H||this.queueForRemoval(B);var G=this._draggable.indexOf(B);return G>-1&&this._draggable.splice(G,1),B},disable:function(B,H){void 0===H&&(H=!1);var Q=B.input;Q&&(Q.enabled=!1,Q.dragState=0);for(var lt,G=this._drag,K=this._over,tt=this.manager,at=0;at<tt.pointers.length;at++)(lt=G[at].indexOf(B))>-1&&G[at].splice(lt,1),(lt=K[at].indexOf(B))>-1&&K[at].splice(lt,1);return H&&this.resetCursor(),this},enable:function(B,H,Q,G){return void 0===G&&(G=!1),B.input?B.input.enabled=!0:this.setHitArea(B,H,Q),B.input&&G&&!B.input.dropZone&&(B.input.dropZone=G),this},hitTestPointer:function(B){for(var H=this.cameras.getCamerasBelowPointer(B),Q=0;Q<H.length;Q++){for(var G=H[Q],K=this.manager.hitTest(B,this._list,G),tt=0;tt<K.length;tt++){var at=K[tt];at.input.dropZone&&this._tempZones.push(at)}if(K.length>0)return B.camera=G,K}return B.camera=H[0],[]},processDownEvents:function(B){var H=0,Q=this._temp,G=this._eventData,K=this._eventContainer;G.cancelled=!1;for(var tt=0;tt<Q.length;tt++){var at=Q[tt];if(at.input&&at.input.enabled&&(H++,at.emit(p.GAMEOBJECT_POINTER_DOWN,B,at.input.localX,at.input.localY,K),G.cancelled||!this.isActive()||at.input&&at.input.enabled&&(this.emit(p.GAMEOBJECT_DOWN,B,at,K),G.cancelled||!this.isActive())))break}return!G.cancelled&&this.isActive()&&(B.downElement===this.manager.game.canvas?this.emit(p.POINTER_DOWN,B,Q):this.emit(p.POINTER_DOWN_OUTSIDE,B)),H},getDragState:function(B){return this._dragState[B.id]},setDragState:function(B,H){this._dragState[B.id]=H},processDragThresholdEvent:function(B,H){var Q=!1,G=this.dragTimeThreshold,K=this.dragDistanceThreshold;if((K>0&&u(B.x,B.y,B.downX,B.downY)>=K||G>0&&H>=B.downTime+G)&&(Q=!0),Q)return this.setDragState(B,3),this.processDragStartList(B)},processDragStartList:function(B){if(3!==this.getDragState(B))return 0;var H=this._drag[B.id];H.length>1&&(H=H.slice(0));for(var Q=0;Q<H.length;Q++){var G=H[Q],K=G.input;K.dragState=2,K.dragStartX=G.x,K.dragStartY=G.y,K.dragStartXGlobal=B.worldX,K.dragStartYGlobal=B.worldY,K.dragStartCamera=B.camera,K.dragX=K.dragStartXGlobal-K.dragStartX,K.dragY=K.dragStartYGlobal-K.dragStartY,G.emit(p.GAMEOBJECT_DRAG_START,B,K.dragX,K.dragY),this.emit(p.DRAG_START,B,G)}return this.setDragState(B,4),H.length},processDragDownEvent:function(B){var H=this._temp;if(0===this._draggable.length||0===H.length||!B.primaryDown||0!==this.getDragState(B))return 0;this.setDragState(B,1);for(var Q=[],G=0;G<H.length;G++){var K=H[G];K.input.draggable&&0===K.input.dragState&&Q.push(K)}return 0===Q.length?(this.setDragState(B,0),0):(Q.length>1&&(this.sortGameObjects(Q,B),this.topOnly&&Q.splice(1)),this._drag[B.id]=Q,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?(this.setDragState(B,3),this.processDragStartList(B)):(this.setDragState(B,2),0))},processDragMoveEvent:function(B){if(2===this.getDragState(B)&&this.processDragThresholdEvent(B,this.manager.game.loop.now),4!==this.getDragState(B))return 0;var H=this._tempZones,Q=this._drag[B.id];Q.length>1&&(Q=Q.slice(0));for(var G=0;G<Q.length;G++){var K=Q[G],tt=K.input,at=tt.target;if(at){var lt=H.indexOf(at);0===lt?(K.emit(p.GAMEOBJECT_DRAG_OVER,B,at),this.emit(p.DRAG_OVER,B,K,at)):lt>0?(K.emit(p.GAMEOBJECT_DRAG_LEAVE,B,at),this.emit(p.DRAG_LEAVE,B,K,at),tt.target=H[0],K.emit(p.GAMEOBJECT_DRAG_ENTER,B,at=tt.target),this.emit(p.DRAG_ENTER,B,K,at)):(K.emit(p.GAMEOBJECT_DRAG_LEAVE,B,at),this.emit(p.DRAG_LEAVE,B,K,at),H[0]?(tt.target=H[0],K.emit(p.GAMEOBJECT_DRAG_ENTER,B,at=tt.target),this.emit(p.DRAG_ENTER,B,K,at)):tt.target=null)}else!at&&H[0]&&(tt.target=H[0],K.emit(p.GAMEOBJECT_DRAG_ENTER,B,at=tt.target),this.emit(p.DRAG_ENTER,B,K,at));var J,it,Y=B.positionToCamera(tt.dragStartCamera);if(K.parentContainer){var j=Y.x-tt.dragStartXGlobal,nt=Y.y-tt.dragStartYGlobal,ht=K.getParentRotation(),gt=j*Math.cos(ht)+nt*Math.sin(ht),wt=nt*Math.cos(ht)-j*Math.sin(ht);J=(gt*=1/K.parentContainer.scaleX)+tt.dragStartX,it=(wt*=1/K.parentContainer.scaleY)+tt.dragStartY}else J=Y.x-tt.dragX,it=Y.y-tt.dragY;K.emit(p.GAMEOBJECT_DRAG,B,J,it),this.emit(p.DRAG,B,K,J,it)}return Q.length},processDragUpEvent:function(B){var H=this._drag[B.id];H.length>1&&(H=H.slice(0));for(var Q=0;Q<H.length;Q++){var G=H[Q],K=G.input;if(K&&2===K.dragState){K.dragState=0,K.dragX=K.localX-G.displayOriginX,K.dragY=K.localY-G.displayOriginY,K.dragStartCamera=null;var tt=!1,at=K.target;at&&(G.emit(p.GAMEOBJECT_DROP,B,at),this.emit(p.DROP,B,G,at),K.target=null,tt=!0),G.input&&G.input.enabled&&(G.emit(p.GAMEOBJECT_DRAG_END,B,K.dragX,K.dragY,tt),this.emit(p.DRAG_END,B,G,tt))}}return this.setDragState(B,0),H.splice(0),0},processMoveEvents:function(B){var H=0,Q=this._temp,G=this._eventData,K=this._eventContainer;G.cancelled=!1;for(var tt=0;tt<Q.length;tt++){var at=Q[tt];if(at.input&&at.input.enabled&&(H++,at.emit(p.GAMEOBJECT_POINTER_MOVE,B,at.input.localX,at.input.localY,K),G.cancelled||!this.isActive()||at.input&&at.input.enabled&&(this.emit(p.GAMEOBJECT_MOVE,B,at,K),G.cancelled||!this.isActive()||this.topOnly)))break}return!G.cancelled&&this.isActive()&&this.emit(p.POINTER_MOVE,B,Q),H},processWheelEvent:function(B){var H=0,Q=this._temp,G=this._eventData,K=this._eventContainer;G.cancelled=!1;for(var tt=B.deltaX,at=B.deltaY,lt=B.deltaZ,J=0;J<Q.length;J++){var it=Q[J];if(it.input&&it.input.enabled&&(H++,it.emit(p.GAMEOBJECT_POINTER_WHEEL,B,tt,at,lt,K),G.cancelled||!this.isActive()||it.input&&it.input.enabled&&(this.emit(p.GAMEOBJECT_WHEEL,B,it,tt,at,lt,K),G.cancelled||!this.isActive())))break}return!G.cancelled&&this.isActive()&&this.emit(p.POINTER_WHEEL,B,Q,tt,at,lt),H},processOverEvents:function(B){var H=this._temp,Q=0,G=H.length,K=[];if(G>0){var tt=this.manager,at=this._eventData,lt=this._eventContainer;at.cancelled=!1;for(var J=0;J<G;J++){var it=H[J];if(it.input&&it.input.enabled&&(K.push(it),tt.setCursor(it.input),it.emit(p.GAMEOBJECT_POINTER_OVER,B,it.input.localX,it.input.localY,lt),Q++,at.cancelled||!this.isActive()||it.input&&it.input.enabled&&(this.emit(p.GAMEOBJECT_OVER,B,it,lt),at.cancelled||!this.isActive())))break}!at.cancelled&&this.isActive()&&this.emit(p.POINTER_OVER,B,K)}return this._over[B.id]=K,Q},processOutEvents:function(B){var H=this._over[B.id],Q=0,G=H.length;if(G>0){var K=this.manager,tt=this._eventData,at=this._eventContainer;tt.cancelled=!1,this.sortGameObjects(H,B);for(var lt=0;lt<G;lt++){var J=H[lt];if((J=H[lt]).input&&J.input.enabled&&(K.resetCursor(J.input),J.emit(p.GAMEOBJECT_POINTER_OUT,B,at),Q++,tt.cancelled||!this.isActive()||J.input&&J.input.enabled&&(this.emit(p.GAMEOBJECT_OUT,B,J,at),tt.cancelled||!this.isActive())))break}!tt.cancelled&&this.isActive()&&this.emit(p.POINTER_OUT,B,H),this._over[B.id]=[]}return Q},processOverOutEvents:function(B){var Q,G,H=this._temp,K=[],tt=[],at=[],lt=this._over[B.id],J=this._drag[B.id],it=this.manager;for(Q=0;Q<lt.length;Q++)-1===H.indexOf(G=lt[Q])&&-1===J.indexOf(G)?K.push(G):at.push(G);for(Q=0;Q<H.length;Q++)-1===lt.indexOf(G=H[Q])&&tt.push(G);var Y=K.length,j=0,nt=this._eventData,ht=this._eventContainer;if(nt.cancelled=!1,Y>0){for(this.sortGameObjects(K,B),Q=0;Q<Y&&!((G=K[Q]).input&&G.input.enabled&&(it.resetCursor(G.input),G.emit(p.GAMEOBJECT_POINTER_OUT,B,ht),j++,nt.cancelled||!this.isActive()||G.input&&G.input.enabled&&(this.emit(p.GAMEOBJECT_OUT,B,G,ht),nt.cancelled||!this.isActive())));Q++);(!nt.cancelled||this.isActive())&&this.emit(p.POINTER_OUT,B,K)}if(Y=tt.length,nt.cancelled=!1,Y>0){for(this.sortGameObjects(tt,B),Q=0;Q<Y&&!((G=tt[Q]).input&&G.input.enabled&&(it.setCursor(G.input),G.emit(p.GAMEOBJECT_POINTER_OVER,B,G.input.localX,G.input.localY,ht),j++,nt.cancelled||!this.isActive()||G.input&&G.input.enabled&&(this.emit(p.GAMEOBJECT_OVER,B,G,ht),nt.cancelled||!this.isActive())));Q++);!nt.cancelled&&this.isActive()&&this.emit(p.POINTER_OVER,B,tt)}return lt=at.concat(tt),this._over[B.id]=this.sortGameObjects(lt,B),j},processUpEvents:function(B){var H=this._temp,Q=this._eventData,G=this._eventContainer;Q.cancelled=!1;for(var K=0;K<H.length;K++){var tt=H[K];if(tt.input&&tt.input.enabled&&(tt.emit(p.GAMEOBJECT_POINTER_UP,B,tt.input.localX,tt.input.localY,G),Q.cancelled||!this.isActive()||tt.input&&tt.input.enabled&&(this.emit(p.GAMEOBJECT_UP,B,tt,G),Q.cancelled||!this.isActive())))break}return!Q.cancelled&&this.isActive()&&(B.upElement===this.manager.game.canvas?this.emit(p.POINTER_UP,B,H):this.emit(p.POINTER_UP_OUTSIDE,B)),H.length},forceDownState:function(B,H){this.forceState(B,H,p.GAMEOBJECT_POINTER_DOWN,p.GAMEOBJECT_DOWN,!1)},forceUpState:function(B,H){this.forceState(B,H,p.GAMEOBJECT_POINTER_UP,p.GAMEOBJECT_UP,!1)},forceOverState:function(B,H){this.forceState(B,H,p.GAMEOBJECT_POINTER_OVER,p.GAMEOBJECT_OVER,!0)},forceOutState:function(B,H){this.forceState(B,H,p.GAMEOBJECT_POINTER_OUT,p.GAMEOBJECT_OUT,!1)},forceState:function(B,H,Q,G,K){var tt=this._eventData,at=this._eventContainer;tt.cancelled=!1,H.input&&H.input.enabled&&(H.emit(Q,B,H.input.localX,H.input.localY,at),K&&this.setCursor(H.input),!tt.cancelled&&this.isActive()&&H.input&&H.input.enabled&&this.emit(G,B,H,at))},queueForInsertion:function(B){return-1===this._pendingInsertion.indexOf(B)&&-1===this._list.indexOf(B)&&this._pendingInsertion.push(B),this},queueForRemoval:function(B){return this._pendingRemoval.push(B),this},setDraggable:function(B,H){void 0===H&&(H=!0),Array.isArray(B)||(B=[B]);for(var Q=0;Q<B.length;Q++){var G=B[Q];G.input.draggable=H;var K=this._draggable.indexOf(G);H&&-1===K?this._draggable.push(G):!H&&K>-1&&this._draggable.splice(K,1)}return this},makePixelPerfect:function(B){return void 0===B&&(B=1),c(this.systems.textures,B)},setHitArea:function(B,H,Q){if(void 0===H)return this.setHitAreaFromTexture(B);Array.isArray(B)||(B=[B]);var G=!1,K=!1,tt=!1,at=!1,lt=!1,J=!0;if(E(H)&&Object.keys(H).length){var it=H;if(!B.some(function(wt){return wt.hasOwnProperty("faces")})){H=x(it,"hitArea",null),Q=x(it,"hitAreaCallback",null),lt=x(it,"pixelPerfect",!1);var j=x(it,"alphaTolerance",1);lt&&(H={},Q=this.makePixelPerfect(j))}G=x(it,"draggable",!1),K=x(it,"dropZone",!1),tt=x(it,"cursor",!1),at=x(it,"useHandCursor",!1),(!H||!Q)&&(this.setHitAreaFromTexture(B),J=!1)}else"function"==typeof H&&!Q&&(Q=H,H={});for(var nt=0;nt<B.length;nt++){var ht=B[nt];if(lt&&"Container"===ht.type)console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");else{var gt=ht.input?ht.input:h(ht,H,Q);gt.customHitArea=J,gt.dropZone=K,gt.cursor=at?"pointer":tt,ht.input=gt,G&&this.setDraggable(ht),this.queueForInsertion(ht)}}return this},setHitAreaCircle:function(B,H,Q,G,K){void 0===K&&(K=T);var tt=new w(H,Q,G);return this.setHitArea(B,tt,K)},setHitAreaEllipse:function(B,H,Q,G,K,tt){void 0===tt&&(tt=d);var at=new m(H,Q,G,K);return this.setHitArea(B,at,tt)},setHitAreaFromTexture:function(B,H){void 0===H&&(H=I),Array.isArray(B)||(B=[B]);for(var Q=0;Q<B.length;Q++){var G=B[Q],K=G.frame,tt=0,at=0;G.width?(tt=G.width,at=G.height):K&&(tt=K.realWidth,at=K.realHeight),"Container"!==G.type||0!==tt&&0!==at?0!==tt&&0!==at&&(G.input=h(G,new M(0,0,tt,at),H),this.queueForInsertion(G)):console.warn("Container.setInteractive must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(B,H,Q,G,K,tt){void 0===tt&&(tt=I);var at=new M(H,Q,G,K);return this.setHitArea(B,at,tt)},setHitAreaTriangle:function(B,H,Q,G,K,tt,at,lt){void 0===lt&&(lt=N);var J=new F(H,Q,G,K,tt,at);return this.setHitArea(B,J,lt)},enableDebug:function(B,H){void 0===H&&(H=65280);var Q=B.input;if(!Q||!Q.hitArea)return this;var G=Q.hitArea,K=G.type,tt=Q.hitAreaDebug,at=this.systems.add,lt=this.systems.updateList;tt&&(lt.remove(tt),tt.destroy(),tt=null);var J=0,it=0;switch(K){case y.CIRCLE:tt=at.arc(0,0,G.radius),J=G.x-G.radius,it=G.y-G.radius;break;case y.ELLIPSE:tt=at.ellipse(0,0,G.width,G.height),J=G.x-G.width/2,it=G.y-G.height/2;break;case y.LINE:tt=at.line(0,0,G.x1,G.y1,G.x2,G.y2);break;case y.POLYGON:tt=at.polygon(0,0,G.points);break;case y.RECTANGLE:tt=at.rectangle(0,0,G.width,G.height),J=G.x,it=G.y;break;case y.TRIANGLE:tt=at.triangle(0,0,G.x1,G.y1,G.x2,G.y2,G.x3,G.y3)}return tt&&(tt.isFilled=!1,tt.strokeColor=H,tt.preUpdate=function(){tt.setVisible(B.visible),tt.setStrokeStyle(1/B.scale,tt.strokeColor),tt.setDisplayOrigin(B.displayOriginX,B.displayOriginY);var Y=B.x,j=B.y,nt=B.rotation,ht=B.scaleX,gt=B.scaleY;if(B.parentContainer){var wt=B.getWorldTransformMatrix();Y=wt.tx,j=wt.ty,nt=wt.rotation,ht=wt.scaleX,gt=wt.scaleY}tt.setRotation(nt),tt.setScale(ht,gt),tt.setPosition(Y+J*ht,j+it*gt),tt.setScrollFactor(B.scrollFactorX,B.scrollFactorY),tt.setDepth(B.depth)},lt.add(tt),Q.hitAreaDebug=tt),this},removeDebug:function(B){var H=B.input;return H&&H.hitAreaDebug&&(H.hitAreaDebug.destroy(),H.hitAreaDebug=null),this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(B){return this.pollRate=B,this._pollTimer=0,this},setGlobalTopOnly:function(B){return this.manager.globalTopOnly=B,this},setTopOnly:function(B){return this.topOnly=B,this},sortGameObjects:function(B,H){if(B.length<2||!H.camera)return B;var Q=H.camera.renderList;return B.sort(function(G,K){var tt=Math.max(Q.indexOf(G),0);return Math.max(Q.indexOf(K),0)-tt})},sortDropZones:function(B){return B.length<2?B:(this.scene.sys.depthSort(),B.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(B,H){if(!B.parentContainer&&!H.parentContainer)return this.displayList.getIndex(H)-this.displayList.getIndex(B);if(B.parentContainer===H.parentContainer)return H.parentContainer.getIndex(H)-B.parentContainer.getIndex(B);if(B.parentContainer===H)return-1;if(H.parentContainer===B)return 1;for(var Q=B.getIndexList(),G=H.getIndexList(),K=Math.min(Q.length,G.length),tt=0;tt<K;tt++){var at=Q[tt],lt=G[tt];if(at!==lt)return lt-at}return G.length-Q.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(B){return this.manager.addPointer(B)},setDefaultCursor:function(B){return this.manager.setDefaultCursor(B),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(p.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var B=0;B<10;B++)this._drag[B]=[],this._over[B]=[];this.removeAllListeners();var H=this.manager;H.canvas.style.cursor=H.defaultCursor;var Q=this.systems.events;Q.off(k.TRANSITION_START,this.transitionIn,this),Q.off(k.TRANSITION_OUT,this.transitionOut,this),Q.off(k.TRANSITION_COMPLETE,this.transitionComplete,this),Q.off(k.PRE_UPDATE,this.preUpdate,this),H.events.off(p.GAME_OUT,this.onGameOut,this),H.events.off(p.GAME_OVER,this.onGameOver,this),Q.off(k.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var B=this.manager.pointers,H=0;H<B.length;H++)B[H].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(p.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(k.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});A.register("InputPlugin",V,"input"),S.exports=V},89639:(S,P,a)=>{var w=a(35154),T={};S.exports={register:function(f,h,c,u,m){T[f]={plugin:h,mapping:c,settingsKey:u,configKey:m}},getPlugin:function(f){return T[f]},install:function(f){var h=f.scene.sys,c=h.settings.input,u=h.game.config;for(var m in T){var d=T[m].plugin,p=T[m].mapping;w(c,T[m].settingsKey,u[T[m].configKey])&&(f[p]=new d(f))}},remove:function(f){T.hasOwnProperty(f)&&delete T[f]}}},42515:(S,P,a)=>{var w=a(31040),T=a(83419),g=a(20339),f=a(43855),h=a(47235),c=a(26099),u=a(25892),m=new T({initialize:function(p,v){this.manager=p,this.id=v,this.camera=null,this.button=0,this.buttons=0,this.position=new c,this.prevPosition=new c,this.midPoint=new c(-1,-1),this.velocity=new c,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===v,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(d){var p=d.getWorldPoint(this.x,this.y);return this.worldX=p.x,this.worldY=p.y,this},positionToCamera:function(d,p){return d.getWorldPoint(this.x,this.y,p)},updateMotion:function(){var d=this.position.x,p=this.position.y,v=this.midPoint.x,x=this.midPoint.y;if(d!==v||p!==x){var y=h(this.motionFactor,v,d),_=h(this.motionFactor,x,p);f(y,d,.1)&&(y=d),f(_,p,.1)&&(_=p),this.midPoint.set(y,_);var E=d-y,A=p-_;this.velocity.set(E,A),this.angle=w(y,_,d,p),this.distance=Math.sqrt(E*E+A*A)}},up:function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.button=d.button,this.upElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),0===d.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),0===this.buttons&&(this.isDown=!1,this.upTime=d.timeStamp,this.wasTouch=!1)},down:function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.button=d.button,this.downElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),0===d.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),u.macOS&&d.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=d.timeStamp),this.wasTouch=!1},move:function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.manager.transformPointer(this,d.pageX,d.pageY,!0),this.locked&&(this.movementX=d.movementX||d.mozMovementX||d.webkitMovementX||0,this.movementY=d.movementY||d.mozMovementY||d.webkitMovementY||0),this.moveTime=d.timeStamp,this.wasTouch=!1},wheel:function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.deltaX=d.deltaX,this.deltaY=d.deltaY,this.deltaZ=d.deltaZ,this.wasTouch=!1},touchstart:function(d,p){d.pointerId&&(this.pointerId=d.pointerId),this.identifier=d.identifier,this.target=d.target,this.active=!0,this.buttons=1,this.event=p,this.downElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=p.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(d,p){this.event=p,this.manager.transformPointer(this,d.pageX,d.pageY,!0),this.moveTime=p.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(d,p){this.buttons=0,this.event=p,this.upElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=p.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(d,p){this.buttons=0,this.event=p,this.upElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=p.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},leftButtonReleased:function(){return 0===this.buttons?0===this.button&&!this.isDown:0===this.button},rightButtonReleased:function(){return 0===this.buttons?2===this.button&&!this.isDown:2===this.button},middleButtonReleased:function(){return 0===this.buttons?1===this.button&&!this.isDown:1===this.button},backButtonReleased:function(){return 0===this.buttons?3===this.button&&!this.isDown:3===this.button},forwardButtonReleased:function(){return 0===this.buttons?4===this.button&&!this.isDown:4===this.button},getDistance:function(){return this.isDown?g(this.downX,this.downY,this.x,this.y):g(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?w(this.downX,this.downY,this.x,this.y):w(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(d,p){void 0===d&&(d=10),void 0===p&&(p=[]);for(var v=this.prevPosition.x,x=this.prevPosition.y,y=this.position.x,_=this.position.y,E=0;E<d;E++){var A=1/d*E;p[E]={x:h(A,v,y),y:h(A,x,_)}}return p},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=0===this.id},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(d){this.position.x=d}},y:{get:function(){return this.position.y},set:function(d){this.position.y=d}},time:{get:function(){return this.event?this.event.timeStamp:0}}});S.exports=m},93301:S=>{S.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},7179:S=>{S.exports="boot"},85375:S=>{S.exports="destroy"},39843:S=>{S.exports="dragend"},23388:S=>{S.exports="dragenter"},16133:S=>{S.exports="drag"},27829:S=>{S.exports="dragleave"},53904:S=>{S.exports="dragover"},56058:S=>{S.exports="dragstart"},2642:S=>{S.exports="drop"},88171:S=>{S.exports="gameobjectdown"},36147:S=>{S.exports="dragend"},71692:S=>{S.exports="dragenter"},96149:S=>{S.exports="drag"},81285:S=>{S.exports="dragleave"},74048:S=>{S.exports="dragover"},21322:S=>{S.exports="dragstart"},49378:S=>{S.exports="drop"},86754:S=>{S.exports="gameobjectmove"},86433:S=>{S.exports="gameobjectout"},60709:S=>{S.exports="gameobjectover"},24081:S=>{S.exports="pointerdown"},11172:S=>{S.exports="pointermove"},18907:S=>{S.exports="pointerout"},95579:S=>{S.exports="pointerover"},35368:S=>{S.exports="pointerup"},26972:S=>{S.exports="wheel"},47078:S=>{S.exports="gameobjectup"},73802:S=>{S.exports="gameobjectwheel"},56718:S=>{S.exports="gameout"},25936:S=>{S.exports="gameover"},27503:S=>{S.exports="boot"},50852:S=>{S.exports="process"},96438:S=>{S.exports="update"},59152:S=>{S.exports="pointerlockchange"},47777:S=>{S.exports="pointerdown"},27957:S=>{S.exports="pointerdownoutside"},19444:S=>{S.exports="pointermove"},54251:S=>{S.exports="pointerout"},18667:S=>{S.exports="pointerover"},27192:S=>{S.exports="pointerup"},24652:S=>{S.exports="pointerupoutside"},45132:S=>{S.exports="wheel"},44512:S=>{S.exports="preupdate"},15757:S=>{S.exports="shutdown"},41637:S=>{S.exports="start"},93802:S=>{S.exports="update"},8214:(S,P,a)=>{S.exports={BOOT:a(7179),DESTROY:a(85375),DRAG_END:a(39843),DRAG_ENTER:a(23388),DRAG:a(16133),DRAG_LEAVE:a(27829),DRAG_OVER:a(53904),DRAG_START:a(56058),DROP:a(2642),GAME_OUT:a(56718),GAME_OVER:a(25936),GAMEOBJECT_DOWN:a(88171),GAMEOBJECT_DRAG_END:a(36147),GAMEOBJECT_DRAG_ENTER:a(71692),GAMEOBJECT_DRAG:a(96149),GAMEOBJECT_DRAG_LEAVE:a(81285),GAMEOBJECT_DRAG_OVER:a(74048),GAMEOBJECT_DRAG_START:a(21322),GAMEOBJECT_DROP:a(49378),GAMEOBJECT_MOVE:a(86754),GAMEOBJECT_OUT:a(86433),GAMEOBJECT_OVER:a(60709),GAMEOBJECT_POINTER_DOWN:a(24081),GAMEOBJECT_POINTER_MOVE:a(11172),GAMEOBJECT_POINTER_OUT:a(18907),GAMEOBJECT_POINTER_OVER:a(95579),GAMEOBJECT_POINTER_UP:a(35368),GAMEOBJECT_POINTER_WHEEL:a(26972),GAMEOBJECT_UP:a(47078),GAMEOBJECT_WHEEL:a(73802),MANAGER_BOOT:a(27503),MANAGER_PROCESS:a(50852),MANAGER_UPDATE:a(96438),POINTER_DOWN:a(47777),POINTER_DOWN_OUTSIDE:a(27957),POINTER_MOVE:a(19444),POINTER_OUT:a(54251),POINTER_OVER:a(18667),POINTER_UP:a(27192),POINTER_UP_OUTSIDE:a(24652),POINTER_WHEEL:a(45132),POINTERLOCK_CHANGE:a(59152),PRE_UPDATE:a(44512),SHUTDOWN:a(15757),START:a(41637),UPDATE:a(93802)}},97421:(S,P,a)=>{var T=new(a(83419))({initialize:function(f,h){this.pad=f,this.events=f.events,this.index=h,this.value=0,this.threshold=.1},update:function(g){this.value=g},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});S.exports=T},28884:(S,P,a)=>{var w=a(83419),T=a(92734),g=new w({initialize:function(h,c){this.pad=h,this.events=h.manager,this.index=c,this.value=0,this.threshold=1,this.pressed=!1},update:function(f){this.value=f;var h=this.pad,c=this.index;f>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(T.BUTTON_DOWN,h,this,f),this.pad.emit(T.GAMEPAD_BUTTON_DOWN,c,f,this)):this.pressed&&(this.pressed=!1,this.events.emit(T.BUTTON_UP,h,this,f),this.pad.emit(T.GAMEPAD_BUTTON_UP,c,f,this))},destroy:function(){this.pad=null,this.events=null}});S.exports=g},99125:(S,P,a)=>{var w=a(97421),T=a(28884),g=a(83419),f=a(50792),h=a(26099),c=new g({Extends:f,initialize:function(m,d){f.call(this),this.manager=m,this.pad=d,this.id=d.id,this.index=d.index;for(var p=[],v=0;v<d.buttons.length;v++)p.push(new T(this,v));this.buttons=p;var x=[];for(v=0;v<d.axes.length;v++)x.push(new w(this,v));this.axes=x,this.vibration=d.vibrationActuator;var y={value:0,pressed:!1};this._LCLeft=p[14]?p[14]:y,this._LCRight=p[15]?p[15]:y,this._LCTop=p[12]?p[12]:y,this._LCBottom=p[13]?p[13]:y,this._RCLeft=p[2]?p[2]:y,this._RCRight=p[1]?p[1]:y,this._RCTop=p[3]?p[3]:y,this._RCBottom=p[0]?p[0]:y,this._FBLeftTop=p[4]?p[4]:y,this._FBLeftBottom=p[6]?p[6]:y,this._FBRightTop=p[5]?p[5]:y,this._FBRightBottom=p[7]?p[7]:y;var _={value:0};this._HAxisLeft=x[0]?x[0]:_,this._VAxisLeft=x[1]?x[1]:_,this._HAxisRight=x[2]?x[2]:_,this._VAxisRight=x[3]?x[3]:_,this.leftStick=new h,this.rightStick=new h,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(u){return this.axes[u].getValue()},setAxisThreshold:function(u){for(var m=0;m<this.axes.length;m++)this.axes[m].threshold=u},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(u){return this.buttons[u].value},isButtonDown:function(u){return this.buttons[u].pressed},update:function(u){if(!(u.timestamp<this._created)){var m,d=this.buttons,p=u.buttons,v=d.length;for(m=0;m<v;m++)d[m].update(p[m].value);var x=this.axes,y=u.axes;for(v=x.length,m=0;m<v;m++)x[m].update(y[m]);v>=2&&(this.leftStick.set(x[0].getValue(),x[1].getValue()),v>=4&&this.rightStick.set(x[2].getValue(),x[3].getValue()))}},destroy:function(){var u;for(this.removeAllListeners(),this.manager=null,this.pad=null,u=0;u<this.buttons.length;u++)this.buttons[u].destroy();for(u=0;u<this.axes.length;u++)this.axes[u].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});S.exports=c},56654:(S,P,a)=>{var w=a(83419),T=a(50792),g=a(92734),f=a(99125),h=a(35154),c=a(89639),u=a(8214),m=new w({Extends:T,initialize:function(p){T.call(this),this.scene=p.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=p,this.enabled=!0,this.gamepads=[],this.queue=[],p.pluginEvents.once(u.BOOT,this.boot,this),p.pluginEvents.on(u.START,this.start,this)},boot:function(){var d=this.scene.sys.game,p=this.settings.input,v=d.config;this.enabled=h(p,"gamepad",v.inputGamepad)&&d.device.input.gamepads,this.target=h(p,"gamepad.target",v.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(u.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(u.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var d=this,p=this.target,v=function(x){x.defaultPrevented||!d.isActive()||(d.refreshPads(),d.queue.push(x))};this.onGamepadHandler=v,p.addEventListener("gamepadconnected",v,!1),p.addEventListener("gamepaddisconnected",v,!1),this.sceneInputPlugin.pluginEvents.on(u.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(u.UPDATE,this.update);for(var d=0;d<this.gamepads.length;d++)this.gamepads[d].removeAllListeners()},disconnectAll:function(){for(var d=0;d<this.gamepads.length;d++)this.gamepads[d].pad.connected=!1},refreshPads:function(){var d=navigator.getGamepads();if(d)for(var p=this.gamepads,v=0;v<d.length;v++){var x=d[v];if(x){var _=x.index,E=p[_];if(E)E.id!==x.id?(E.destroy(),p[_]=new f(this,x)):E.update(x);else{var A=new f(this,x);p[_]=A,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=A):this._pad3=A:this._pad2=A:this._pad1=A}}}else this.disconnectAll()},getAll:function(){for(var d=[],p=this.gamepads,v=0;v<p.length;v++)p[v]&&d.push(p[v]);return d},getPad:function(d){for(var p=this.gamepads,v=0;v<p.length;v++)if(p[v]&&p[v].index===d)return p[v]},update:function(){if(this.enabled){this.refreshPads();var d=this.queue.length;if(0!==d)for(var p=this.queue.splice(0,d),v=0;v<d;v++){var x=p[v],y=this.getPad(x.gamepad.index);"gamepadconnected"===x.type?this.emit(g.CONNECTED,y,x):"gamepaddisconnected"===x.type&&this.emit(g.DISCONNECTED,y,x)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var d=0;d<this.gamepads.length;d++)this.gamepads[d]&&this.gamepads[d].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});c.register("GamepadPlugin",m,"gamepad","gamepad","inputGamepad"),S.exports=m},89651:S=>{S.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:S=>{S.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:S=>{S.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(S,P,a)=>{S.exports={DUALSHOCK_4:a(65294),SNES_USB:a(89651),XBOX_360:a(90089)}},46008:S=>{S.exports="down"},7629:S=>{S.exports="up"},42206:S=>{S.exports="connected"},86544:S=>{S.exports="disconnected"},94784:S=>{S.exports="down"},14325:S=>{S.exports="up"},92734:(S,P,a)=>{S.exports={BUTTON_DOWN:a(46008),BUTTON_UP:a(7629),CONNECTED:a(42206),DISCONNECTED:a(86544),GAMEPAD_BUTTON_DOWN:a(94784),GAMEPAD_BUTTON_UP:a(14325)}},48646:(S,P,a)=>{S.exports={Axis:a(97421),Button:a(28884),Events:a(92734),Gamepad:a(99125),GamepadPlugin:a(56654),Configs:a(64894)}},14350:(S,P,a)=>{var w=a(93301),T=a(79291),g={CreatePixelPerfectHandler:a(84409),CreateInteractiveObject:a(74457),Events:a(8214),Gamepad:a(48646),InputManager:a(7003),InputPlugin:a(48205),InputPluginCache:a(89639),Keyboard:a(51442),Mouse:a(87078),Pointer:a(42515),Touch:a(95618)};g=T(!1,g,w),S.exports=g},78970:(S,P,a)=>{var w=a(72905),T=a(83419),g=a(8443),f=a(8214),h=a(46032),c=a(29747),u=new T({initialize:function(d){this.manager=d,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.onKeyDown=c,this.onKeyUp=c,d.events.once(f.MANAGER_BOOT,this.boot,this)},boot:function(){var m=this.manager.config;this.enabled=m.inputKeyboard,this.target=m.inputKeyboardEventTarget,this.addCapture(m.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(g.POST_STEP,this.postUpdate,this)},startListeners:function(){var m=this;this.onKeyDown=function(p){!p.defaultPrevented&&m.enabled&&m.manager&&(m.queue.push(p),m.manager.events.emit(f.MANAGER_PROCESS),m.preventDefault&&!(p.altKey||p.ctrlKey||p.shiftKey||p.metaKey)&&m.captures.indexOf(p.keyCode)>-1&&p.preventDefault())},this.onKeyUp=function(p){!p.defaultPrevented&&m.enabled&&m.manager&&(m.queue.push(p),m.manager.events.emit(f.MANAGER_PROCESS),m.preventDefault&&!(p.altKey||p.ctrlKey||p.shiftKey||p.metaKey)&&m.captures.indexOf(p.keyCode)>-1&&p.preventDefault())};var d=this.target;d&&(d.addEventListener("keydown",this.onKeyDown,!1),d.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var m=this.target;m.removeEventListener("keydown",this.onKeyDown,!1),m.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(m){"string"==typeof m&&(m=m.split(",")),Array.isArray(m)||(m=[m]);for(var d=this.captures,p=0;p<m.length;p++){var v=m[p];"string"==typeof v&&(v=h[v.trim().toUpperCase()]),-1===d.indexOf(v)&&d.push(v)}this.preventDefault=d.length>0},removeCapture:function(m){"string"==typeof m&&(m=m.split(",")),Array.isArray(m)||(m=[m]);for(var d=this.captures,p=0;p<m.length;p++){var v=m[p];"string"==typeof v&&(v=h[v.toUpperCase()]),w(d,v)}this.preventDefault=d.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(g.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});S.exports=u},28846:(S,P,a)=>{var w=a(83419),T=a(50792),g=a(95922),f=a(8443),h=a(35154),c=a(8214),u=a(89639),m=a(30472),d=a(46032),p=a(87960),v=a(74600),x=a(44594),y=a(56583),_=new w({Extends:T,initialize:function(A){T.call(this),this.game=A.systems.game,this.scene=A.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=A,this.manager=A.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,A.pluginEvents.once(c.BOOT,this.boot,this),A.pluginEvents.on(c.START,this.start,this)},boot:function(){var E=this.settings.input;this.enabled=h(E,"keyboard",!0);var A=h(E,"keyboard.capture",null);A&&this.addCaptures(A),this.sceneInputPlugin.pluginEvents.once(c.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(c.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(c.SHUTDOWN,this.shutdown,this),this.game.events.on(f.BLUR,this.resetKeys,this),this.scene.sys.events.on(x.PAUSE,this.resetKeys,this),this.scene.sys.events.on(x.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(E){return this.manager.addCapture(E),this},removeCapture:function(E){return this.manager.removeCapture(E),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:d.UP,down:d.DOWN,left:d.LEFT,right:d.RIGHT,space:d.SPACE,shift:d.SHIFT})},addKeys:function(E,A,M){void 0===A&&(A=!0),void 0===M&&(M=!1);var I={};if("string"==typeof E){E=E.split(",");for(var k=0;k<E.length;k++){var F=E[k].trim();F&&(I[F]=this.addKey(F,A,M))}}else for(var N in E)I[N]=this.addKey(E[N],A,M);return I},addKey:function(E,A,M){void 0===A&&(A=!0),void 0===M&&(M=!1);var I=this.keys;if(E instanceof m){var k=I.indexOf(E);return k>-1?I[k]=E:I[E.keyCode]=E,A&&this.addCapture(E.keyCode),E.setEmitOnRepeat(M),E}return"string"==typeof E&&(E=d[E.toUpperCase()]),I[E]||(I[E]=new m(this,E),A&&this.addCapture(E),I[E].setEmitOnRepeat(M)),I[E]},removeKey:function(E,A,M){void 0===A&&(A=!1),void 0===M&&(M=!1);var k,I=this.keys;if(E instanceof m){var F=I.indexOf(E);F>-1&&(k=this.keys[F],this.keys[F]=void 0)}else"string"==typeof E&&(E=d[E.toUpperCase()]);return I[E]&&(k=I[E],I[E]=void 0),k&&(k.plugin=null,M&&this.removeCapture(k.keyCode),A&&k.destroy()),this},removeAllKeys:function(E,A){void 0===E&&(E=!1),void 0===A&&(A=!1);for(var M=this.keys,I=0;I<M.length;I++){var k=M[I];k&&(M[I]=void 0,A&&this.removeCapture(k.keyCode),E&&k.destroy())}return this},createCombo:function(E,A){return new p(this,E,A)},checkDown:function(E,A){if(void 0===A&&(A=0),this.enabled&&E.isDown){var M=y(this.time-E.timeDown,A);if(M>E._tick)return E._tick=M,!0}return!1},update:function(){var E=this.manager.queue,A=E.length;if(this.isActive()&&0!==A)for(var M=this.keys,I=0;I<A;I++){var k=E[I],F=k.keyCode,N=M[F],V=!1;void 0===k.cancelled&&(k.cancelled=0,k.stopImmediatePropagation=function(){k.cancelled=1},k.stopPropagation=function(){k.cancelled=-1}),-1!==k.cancelled&&(F===this.prevCode&&k.timeStamp===this.prevTime&&k.type===this.prevType||(this.prevCode=F,this.prevTime=k.timeStamp,this.prevType=k.type,"keydown"===k.type?(N&&(V=N.isDown,N.onDown(k)),!k.cancelled&&(!N||!V)&&(v[F]&&this.emit(g.KEY_DOWN+v[F],k),k.cancelled||this.emit(g.ANY_KEY_DOWN,k))):(N&&N.onUp(k),k.cancelled||(v[F]&&this.emit(g.KEY_UP+v[F],k),k.cancelled||this.emit(g.ANY_KEY_UP,k))),1===k.cancelled&&(k.cancelled=0)))}},resetKeys:function(){for(var E=this.keys,A=0;A<E.length;A++)E[A]&&E[A].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(c.MANAGER_PROCESS,this.update,this),this.game.events.off(f.BLUR,this.resetKeys),this.scene.sys.events.off(x.PAUSE,this.resetKeys,this),this.scene.sys.events.off(x.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var E=this.keys,A=0;A<E.length;A++)E[A]&&E[A].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});u.register("KeyboardPlugin",_,"keyboard","keyboard","inputKeyboard"),S.exports=_},66970:S=>{S.exports=function(a,w){return w.timeLastMatched=a.timeStamp,w.index++,w.index===w.size||(w.current=w.keyCodes[w.index],!1)}},87960:(S,P,a)=>{var w=a(83419),T=a(95922),g=a(95540),f=a(68769),h=a(92803),c=new w({initialize:function(m,d,p){if(void 0===p&&(p={}),d.length<2)return!1;this.manager=m,this.enabled=!0,this.keyCodes=[];for(var v=0;v<d.length;v++){var x=d[v];"string"==typeof x?this.keyCodes.push(x.toUpperCase().charCodeAt(0)):"number"==typeof x?this.keyCodes.push(x):x.hasOwnProperty("keyCode")&&this.keyCodes.push(x.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=g(p,"resetOnWrongKey",!0),this.maxKeyDelay=g(p,"maxKeyDelay",0),this.resetOnMatch=g(p,"resetOnMatch",!1),this.deleteOnMatch=g(p,"deleteOnMatch",!1);var y=this;this.onKeyDown=function(E){!y.matched&&y.enabled&&f(E,y)&&(y.manager.emit(T.COMBO_MATCH,y,E),y.resetOnMatch?h(y):y.deleteOnMatch&&y.destroy())},this.manager.on(T.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(T.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});S.exports=c},68769:(S,P,a)=>{var w=a(66970);S.exports=function(g,f){if(f.matched)return!0;var h=!1,c=!1;return g.keyCode===f.current&&(f.index>0&&f.maxKeyDelay>0?g.timeStamp<=f.timeLastMatched+f.maxKeyDelay&&(c=!0,h=w(g,f)):(c=!0,h=w(g,f))),!c&&f.resetOnWrongKey&&(f.index=0,f.current=f.keyCodes[0]),h&&(f.timeLastMatched=g.timeStamp,f.matched=!0,f.timeMatched=g.timeStamp),h}},92803:S=>{S.exports=function(a){return a.current=a.keyCodes[0],a.index=0,a.timeLastMatched=0,a.matched=!1,a.timeMatched=0,a}},92612:S=>{S.exports="keydown"},23345:S=>{S.exports="keyup"},21957:S=>{S.exports="keycombomatch"},44743:S=>{S.exports="down"},3771:S=>{S.exports="keydown-"},46358:S=>{S.exports="keyup-"},75674:S=>{S.exports="up"},95922:(S,P,a)=>{S.exports={ANY_KEY_DOWN:a(92612),ANY_KEY_UP:a(23345),COMBO_MATCH:a(21957),DOWN:a(44743),KEY_DOWN:a(3771),KEY_UP:a(46358),UP:a(75674)}},51442:(S,P,a)=>{S.exports={Events:a(95922),KeyboardManager:a(78970),KeyboardPlugin:a(28846),Key:a(30472),KeyCodes:a(46032),KeyCombo:a(87960),AdvanceKeyCombo:a(66970),ProcessKeyCombo:a(68769),ResetKeyCombo:a(92803),JustDown:a(90229),JustUp:a(38796),DownDuration:a(37015),UpDuration:a(41170)}},37015:S=>{S.exports=function(a,w){return void 0===w&&(w=50),a.isDown&&a.plugin.game.loop.time-a.timeDown<w}},90229:S=>{S.exports=function(a){return!!a._justDown&&(a._justDown=!1,!0)}},38796:S=>{S.exports=function(a){return!!a._justUp&&(a._justUp=!1,!0)}},30472:(S,P,a)=>{var w=a(83419),T=a(50792),g=a(95922),f=new w({Extends:T,initialize:function(c,u){T.call(this),this.plugin=c,this.keyCode=u,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(h){return this.emitOnRepeat=h,this},onDown:function(h){this.originalEvent=h,this.enabled&&(this.altKey=h.altKey,this.ctrlKey=h.ctrlKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.location=h.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(g.DOWN,this,h):(this.isDown=!0,this.isUp=!1,this.timeDown=h.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(g.DOWN,this,h)))},onUp:function(h){this.originalEvent=h,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=h.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(g.UP,this,h))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});S.exports=f},46032:S=>{S.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},74600:(S,P,a)=>{var w=a(46032),T={};for(var g in w)T[w[g]]=g;S.exports=T},41170:S=>{S.exports=function(a,w){return void 0===w&&(w=50),a.isUp&&a.plugin.game.loop.time-a.timeUp<w}},85098:(S,P,a)=>{var w=a(83419),T=a(89357),g=a(8214),f=a(29747),h=new w({initialize:function(u){this.manager=u,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.locked=!1,this.onMouseMove=f,this.onMouseDown=f,this.onMouseUp=f,this.onMouseDownWindow=f,this.onMouseUpWindow=f,this.onMouseOver=f,this.onMouseOut=f,this.onMouseWheel=f,this.pointerLockChange=f,this.isTop=!0,u.events.once(g.MANAGER_BOOT,this.boot,this)},boot:function(){var c=this.manager.config;this.enabled=c.inputMouse,this.target=c.inputMouseEventTarget,this.passive=c.inputMousePassive,this.preventDefaultDown=c.inputMousePreventDefaultDown,this.preventDefaultUp=c.inputMousePreventDefaultUp,this.preventDefaultMove=c.inputMousePreventDefaultMove,this.preventDefaultWheel=c.inputMousePreventDefaultWheel,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,c.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(c){return c.preventDefault(),!1}),this},requestPointerLock:function(){if(T.pointerLock){var c=this.target;c.requestPointerLock=c.requestPointerLock||c.mozRequestPointerLock||c.webkitRequestPointerLock,c.requestPointerLock()}},releasePointerLock:function(){T.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var c=this.target;if(c){var u=this,m=this.manager,d=m.canvas,p=window&&window.focus&&m.game.config.autoFocus;this.onMouseMove=function(x){!x.defaultPrevented&&u.enabled&&m&&m.enabled&&(m.onMouseMove(x),u.preventDefaultMove&&x.preventDefault())},this.onMouseDown=function(x){p&&window.focus(),!x.defaultPrevented&&u.enabled&&m&&m.enabled&&(m.onMouseDown(x),u.preventDefaultDown&&x.target===d&&x.preventDefault())},this.onMouseDownWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&u.enabled&&m&&m.enabled&&x.target!==d&&m.onMouseDown(x)},this.onMouseUp=function(x){!x.defaultPrevented&&u.enabled&&m&&m.enabled&&(m.onMouseUp(x),u.preventDefaultUp&&x.target===d&&x.preventDefault())},this.onMouseUpWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&u.enabled&&m&&m.enabled&&x.target!==d&&m.onMouseUp(x)},this.onMouseOver=function(x){!x.defaultPrevented&&u.enabled&&m&&m.enabled&&m.setCanvasOver(x)},this.onMouseOut=function(x){!x.defaultPrevented&&u.enabled&&m&&m.enabled&&m.setCanvasOut(x)},this.onMouseWheel=function(x){!x.defaultPrevented&&u.enabled&&m&&m.enabled&&m.onMouseWheel(x),u.preventDefaultWheel&&x.target===d&&x.preventDefault()};var v={passive:!0};if(c.addEventListener("mousemove",this.onMouseMove),c.addEventListener("mousedown",this.onMouseDown),c.addEventListener("mouseup",this.onMouseUp),c.addEventListener("mouseover",this.onMouseOver,v),c.addEventListener("mouseout",this.onMouseOut,v),c.addEventListener("wheel",this.onMouseWheel,this.preventDefaultWheel?{passive:!1}:v),window&&m.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,v),window.top.addEventListener("mouseup",this.onMouseUpWindow,v)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,v),window.addEventListener("mouseup",this.onMouseUpWindow,v),this.isTop=!1}T.pointerLock&&(this.pointerLockChange=function(x){var y=u.target;u.locked=document.pointerLockElement===y||document.mozPointerLockElement===y||document.webkitPointerLockElement===y,m.onPointerLockChange(x)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var c=this.target;c.removeEventListener("mousemove",this.onMouseMove),c.removeEventListener("mousedown",this.onMouseDown),c.removeEventListener("mouseup",this.onMouseUp),c.removeEventListener("mouseover",this.onMouseOver),c.removeEventListener("mouseout",this.onMouseOut),window&&((c=this.isTop?window.top:window).removeEventListener("mousedown",this.onMouseDownWindow),c.removeEventListener("mouseup",this.onMouseUpWindow)),T.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});S.exports=h},87078:(S,P,a)=>{S.exports={MouseManager:a(85098)}},36210:(S,P,a)=>{var w=a(83419),T=a(8214),g=a(29747),f=new w({initialize:function(c){this.manager=c,this.capture=!0,this.enabled=!1,this.onTouchStart=g,this.onTouchStartWindow=g,this.onTouchMove=g,this.onTouchEnd=g,this.onTouchEndWindow=g,this.onTouchCancel=g,this.onTouchCancelWindow=g,this.isTop=!0,c.events.once(T.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputTouch,this.target=h.inputTouchEventTarget,this.capture=h.inputTouchCapture,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,h.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(h){return h.preventDefault(),!1}),this},startListeners:function(){var h=this.target;if(h){var c=this,u=this.manager,m=u.canvas,d=window&&window.focus&&u.game.config.autoFocus;this.onTouchMove=function(y){!y.defaultPrevented&&c.enabled&&u&&u.enabled&&(u.onTouchMove(y),c.capture&&y.cancelable&&y.preventDefault())},this.onTouchStart=function(y){d&&window.focus(),!y.defaultPrevented&&c.enabled&&u&&u.enabled&&(u.onTouchStart(y),c.capture&&y.cancelable&&y.target===m&&y.preventDefault())},this.onTouchStartWindow=function(y){!y.defaultPrevented&&c.enabled&&u&&u.enabled&&y.target!==m&&u.onTouchStart(y)},this.onTouchEnd=function(y){!y.defaultPrevented&&c.enabled&&u&&u.enabled&&(u.onTouchEnd(y),c.capture&&y.cancelable&&y.target===m&&y.preventDefault())},this.onTouchEndWindow=function(y){!y.defaultPrevented&&c.enabled&&u&&u.enabled&&y.target!==m&&u.onTouchEnd(y)},this.onTouchCancel=function(y){!y.defaultPrevented&&c.enabled&&u&&u.enabled&&(u.onTouchCancel(y),c.capture&&y.preventDefault())},this.onTouchCancelWindow=function(y){!y.defaultPrevented&&c.enabled&&u&&u.enabled&&u.onTouchCancel(y)};var p=this.capture,v={passive:!0},x={passive:!1};if(h.addEventListener("touchstart",this.onTouchStart,p?x:v),h.addEventListener("touchmove",this.onTouchMove,p?x:v),h.addEventListener("touchend",this.onTouchEnd,p?x:v),h.addEventListener("touchcancel",this.onTouchCancel,p?x:v),window&&u.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,x),window.top.addEventListener("touchend",this.onTouchEndWindow,x),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,x)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,x),window.addEventListener("touchend",this.onTouchEndWindow,x),window.addEventListener("touchcancel",this.onTouchCancelWindow,x),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var h=this.target;h.removeEventListener("touchstart",this.onTouchStart),h.removeEventListener("touchmove",this.onTouchMove),h.removeEventListener("touchend",this.onTouchEnd),h.removeEventListener("touchcancel",this.onTouchCancel),window&&((h=this.isTop?window.top:window).removeEventListener("touchstart",this.onTouchStartWindow),h.removeEventListener("touchend",this.onTouchEndWindow),h.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});S.exports=f},95618:(S,P,a)=>{S.exports={TouchManager:a(36210)}},41299:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(54899),f=a(95540),h=a(98356),c=a(3374),u=a(84376),m=a(92638),d=new w({initialize:function(v,x){if(this.loader=v,this.cache=f(x,"cache",!1),this.type=f(x,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=f(x,"key",!1);var y=this.key;if(v.prefix&&""!==v.prefix&&(this.key=v.prefix+y),!this.key)throw new Error("Invalid File key: "+this.key);var _=f(x,"url");void 0===_?_=v.path+y+"."+f(x,"extension",""):"string"==typeof _&&!_.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(_=v.path+_),this.url=_,this.src="",this.xhrSettings=m(f(x,"responseType",void 0)),f(x,"xhrSettings",!1)&&(this.xhrSettings=c(this.xhrSettings,f(x,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?T.FILE_POPULATED:T.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=f(x,"config",{}),this.base64="string"==typeof _&&0===_.indexOf("data:"),this.retryAttempts=f(x,"maxRetries",v.maxRetries)},setLink:function(p){this.linkFile=p,p.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===T.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=T.FILE_LOADING,this.src=h(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);0===this.src.indexOf("data:")&&(this.base64=!0),this.xhrLoader=u(this,this.loader.xhr)}},onLoad:function(p,v){var x=p.responseURL&&this.loader.localSchemes.some(function(E){return 0===p.responseURL.indexOf(E)}),_=!(v.target&&200!==v.target.status)||x&&0===v.target.status;4===p.readyState&&p.status>=400&&p.status<=599&&(_=!1),this.state=T.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,_)},onBase64Load:function(p){this.xhrLoader=p,this.state=T.FILE_LOADED,this.percentComplete=1,this.loader.emit(g.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(p){p.lengthComputable&&(this.bytesLoaded=p.loaded,this.bytesTotal=p.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(g.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=T.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=T.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=T.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(p){if(this.state!==T.FILE_PENDING_DESTROY){void 0===p&&(p=this.data);var v=this.key,x=this.type;this.loader.emit(g.FILE_COMPLETE,v,x,p),this.loader.emit(g.FILE_KEY_COMPLETE+x+"-"+v,v,x,p),this.loader.flagForRemoval(this),this.state=T.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});d.createObjectURL=function(p,v,x){if("function"==typeof URL)p.src=URL.createObjectURL(v);else{var y=new FileReader;y.onload=function(){p.removeAttribute("crossOrigin"),p.src="data:"+(v.type||x)+";base64,"+y.result.split(",")[1]},y.onerror=p.onerror,y.readAsDataURL(v)}},d.revokeObjectURL=function(p){"function"==typeof URL&&URL.revokeObjectURL(p.src)},S.exports=d},74099:S=>{var P={};S.exports={install:function(w){for(var T in P)w[T]=P[T]},register:function(w,T){P[w]=T},destroy:function(){P={}}}},98356:S=>{S.exports=function(a,w){return!!a.url&&(a.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?a.url:w+a.url)}},74261:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(35072),f=a(50792),h=a(54899),c=a(74099),u=a(95540),m=a(35154),d=a(41212),p=a(37277),v=a(44594),x=a(92638),y=new w({Extends:f,initialize:function(E){f.call(this);var A=E.sys.game.config,M=E.sys.settings.loader;this.scene=E,this.systems=E.sys,this.cacheManager=E.sys.cache,this.textureManager=E.sys.textures,this.sceneManager=E.sys.game.scene,c.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(u(M,"baseURL",A.loaderBaseURL)),this.setPath(u(M,"path",A.loaderPath)),this.setPrefix(u(M,"prefix",A.loaderPrefix)),this.maxParallelDownloads=u(M,"maxParallelDownloads",A.loaderMaxParallelDownloads),this.xhr=x(u(M,"responseType",A.loaderResponseType),u(M,"async",A.loaderAsync),u(M,"user",A.loaderUser),u(M,"password",A.loaderPassword),u(M,"timeout",A.loaderTimeout),u(M,"withCredentials",A.loaderWithCredentials)),this.crossOrigin=u(M,"crossOrigin",A.loaderCrossOrigin),this.imageLoadType=u(M,"imageLoadType",A.loaderImageLoadType),this.localSchemes=u(M,"localScheme",A.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new g,this.inflight=new g,this.queue=new g,this._deleteQueue=new g,this.totalFailed=0,this.totalComplete=0,this.state=T.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=u(M,"maxRetries",A.loaderMaxRetries),E.sys.events.once(v.BOOT,this.boot,this),E.sys.events.on(v.START,this.pluginStart,this)},boot:function(){this.systems.events.once(v.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(v.SHUTDOWN,this.shutdown,this)},setBaseURL:function(_){return void 0===_&&(_=""),""!==_&&"/"!==_.substr(-1)&&(_=_.concat("/")),this.baseURL=_,this},setPath:function(_){return void 0===_&&(_=""),""!==_&&"/"!==_.substr(-1)&&(_=_.concat("/")),this.path=_,this},setPrefix:function(_){return void 0===_&&(_=""),this.prefix=_,this},setCORS:function(_){return this.crossOrigin=_,this},addFile:function(_){Array.isArray(_)||(_=[_]);for(var E=0;E<_.length;E++){var A=_[E];this.keyExists(A)||(this.list.set(A),this.emit(h.ADD,A.key,A.type,this,A),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(_){var E=_.hasCacheConflict();return E||this.list.iterate(function(A){if(A.type===_.type&&A.key===_.key)return E=!0,!1}),!E&&this.isLoading()&&(this.inflight.iterate(function(A){if(A.type===_.type&&A.key===_.key)return E=!0,!1}),this.queue.iterate(function(A){if(A.type===_.type&&A.key===_.key)return E=!0,!1})),E},addPack:function(_,E){if("string"==typeof E){var A=m(_,E);A&&(_={packKey:A})}var M=0,I=this.baseURL,k=this.path,F=this.prefix;for(var N in _)if(Object.prototype.hasOwnProperty.call(_,N)){var V=_[N],B=u(V,"baseURL",I),H=u(V,"path",k),Q=u(V,"prefix",F),G=u(V,"files",null),K=u(V,"defaultType","void");if(Array.isArray(G)){this.setBaseURL(B),this.setPath(H),this.setPrefix(Q);for(var tt=0;tt<G.length;tt++){var at=G[tt],lt=at.hasOwnProperty("type")?at.type:K;this[lt]&&(this[lt](at),M++)}}}return this.setBaseURL(I),this.setPath(k),this.setPrefix(F),M>0},removePack:function(_,E){var F,A=this.systems.anims,M=this.cacheManager,I=this.textureManager,k={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"};if(d(_))F=_;else if(!(F=M.json.get(_)))return void console.warn("Asset Pack not found in JSON cache:",_);for(var N in E&&(F={_:F[E]}),F){var V=F[N],B=u(V,"prefix",""),H=u(V,"files"),Q=u(V,"defaultType");if(Array.isArray(H))for(var G=0;G<H.length;G++){var K=H[G],tt=K.hasOwnProperty("type")?K.type:Q;if(tt){var at=B+K.key;if("animation"===tt&&A.remove(at),"aseprite"!==tt&&"atlas"!==tt&&"atlasXML"!==tt&&"htmlTexture"!==tt&&"image"!==tt&&"multiatlas"!==tt&&"spritesheet"!==tt&&"svg"!==tt&&"texture"!==tt&&"unityAtlas"!==tt||(I.remove(at),k[tt])){if("pack"===tt){this.removePack(at,K.dataKey);continue}if("spine"===tt){var lt=M.custom.spine.get(at);if(!lt)continue;var J=void 0===lt.prefix?"":lt.prefix;M.custom.spine.remove(at);var it=M.custom.spineTextures.get(at);if(!it)continue;M.custom.spineTextures.remove(at);for(var Y=0;Y<it.pages.length;Y++){var nt=J+it.pages[Y].name,ht=at+":"+nt;I.exists(ht)?I.remove(ht):I.remove(nt)}}var gt=k[tt];if(null!==gt){if(!gt){console.warn("Unknown type:",tt);continue}M[gt].remove(at)}}}else console.warn("No type:",K)}}},isLoading:function(){return this.state===T.LOADER_LOADING||this.state===T.LOADER_PROCESSING},isReady:function(){return this.state===T.LOADER_IDLE||this.state===T.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(h.START,this),0===this.list.size?this.loadComplete():(this.state=T.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(v.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(h.PROGRESS,this.progress)},update:function(){this.state===T.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(_){if((_.state===T.FILE_POPULATED||_.state===T.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(_),this.list.delete(_),_.crossOrigin||(_.crossOrigin=this.crossOrigin),_.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(_,E){this.inflight&&(this.inflight.delete(_),this.updateProgress(),E?(this.totalComplete++,this.queue.set(_),this.emit(h.FILE_LOAD,_),_.onProcess()):(this.totalFailed++,this._deleteQueue.set(_),this.emit(h.FILE_LOAD_ERROR,_),this.fileProcessComplete(_)))},fileProcessComplete:function(_){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(_.state===T.FILE_ERRORED?_.multiFile&&_.multiFile.onFileFailed(_):_.state===T.FILE_COMPLETE&&(_.multiFile?_.multiFile.isReadyToProcess()&&(_.multiFile.addToCache(),_.multiFile.pendingDestroy()):(_.addToCache(),_.pendingDestroy())),this.queue.delete(_),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete())},loadComplete:function(){this.emit(h.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=T.LOADER_COMPLETE,this.systems.events.off(v.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(h.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(_){this._deleteQueue.set(_)},saveJSON:function(_,E){return this.save(JSON.stringify(_),E)},save:function(_,E,A){void 0===E&&(E="file.json"),void 0===A&&(A="application/json");var M=new Blob([_],{type:A}),I=URL.createObjectURL(M),k=document.createElement("a");return k.download=E,k.textContent="Download "+E,k.href=I,k.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var _=this.systems.game.config,E=this.systems.settings.loader;this.setBaseURL(u(E,"baseURL",_.loaderBaseURL)),this.setPath(u(E,"path",_.loaderPath)),this.setPrefix(u(E,"prefix",_.loaderPrefix)),this.state=T.LOADER_IDLE},shutdown:function(){this.reset(),this.state=T.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(v.UPDATE,this.update,this),this.systems.events.off(v.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=T.LOADER_DESTROYED,this.systems.events.off(v.UPDATE,this.update,this),this.systems.events.off(v.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});p.register("Loader",y,"load"),S.exports=y},3374:(S,P,a)=>{var w=a(79291),T=a(92638);S.exports=function(f,h){var c=void 0===f?T():w({},f);if(h)for(var u in h)void 0!==h[u]&&(c[u]=h[u]);return c}},26430:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(54899),f=new w({initialize:function(c,u,m,d){var p=[];d.forEach(function(y){y&&p.push(y)}),this.loader=c,this.type=u,this.key=m,c.prefix&&""!==c.prefix&&(this.key=c.prefix+this.key),this.multiKeyIndex=c.multiKeyIndex++,this.files=p,this.state=T.FILE_PENDING,this.complete=!1,this.pending=p.length,this.failed=0,this.config={},this.baseURL=c.baseURL,this.path=c.path,this.prefix=c.prefix;for(var x=0;x<p.length;x++)p[x].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(h){return this.files.push(h),h.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(h){-1!==this.files.indexOf(h)&&this.pending--},onFileFailed:function(h){-1!==this.files.indexOf(h)&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,h.type,h.key))},pendingDestroy:function(){if(this.state!==T.FILE_PENDING_DESTROY){var h=this.key,c=this.type;this.loader.emit(g.FILE_COMPLETE,h,c),this.loader.emit(g.FILE_KEY_COMPLETE+c+"-"+h,h,c),this.loader.flagForRemoval(this);for(var u=0;u<this.files.length;u++)this.files[u].pendingDestroy();this.state=T.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});S.exports=f},84376:(S,P,a)=>{var w=a(3374);S.exports=function(g,f){var h=w(f,g.xhrSettings);if(!g.base64){var m=new XMLHttpRequest;if(m.open("GET",g.src,h.async,h.user,h.password),m.responseType=g.xhrSettings.responseType,m.timeout=h.timeout,h.headers)for(var d in h.headers)m.setRequestHeader(d,h.headers[d]);return h.header&&h.headerValue&&m.setRequestHeader(h.header,h.headerValue),h.requestedWith&&m.setRequestHeader("X-Requested-With",h.requestedWith),h.overrideMimeType&&m.overrideMimeType(h.overrideMimeType),h.withCredentials&&(m.withCredentials=!0),m.onload=g.onLoad.bind(g,m),m.onerror=g.onError.bind(g,m),m.onprogress=g.onProgress.bind(g),m.ontimeout=g.onError.bind(g,m),m.send(),m}var c=g.url.split(";base64,").pop()||g.url.split(",").pop(),u={responseText:atob(c)};g.onBase64Load(u)}},92638:S=>{S.exports=function(a,w,T,g,f,h){return void 0===a&&(a=""),void 0===w&&(w=!0),void 0===T&&(T=""),void 0===g&&(g=""),void 0===f&&(f=0),void 0===h&&(h=!1),{responseType:a,async:w,user:T,password:g,timeout:f,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:h}}},23906:S=>{S.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20}},42155:S=>{S.exports="addfile"},38991:S=>{S.exports="complete"},27540:S=>{S.exports="filecomplete"},87464:S=>{S.exports="filecomplete-"},94486:S=>{S.exports="loaderror"},13035:S=>{S.exports="load"},38144:S=>{S.exports="fileprogress"},97520:S=>{S.exports="postprocess"},85595:S=>{S.exports="progress"},55680:S=>{S.exports="start"},54899:(S,P,a)=>{S.exports={ADD:a(42155),COMPLETE:a(38991),FILE_COMPLETE:a(27540),FILE_KEY_COMPLETE:a(87464),FILE_LOAD_ERROR:a(94486),FILE_LOAD:a(13035),FILE_PROGRESS:a(38144),POST_PROCESS:a(97520),PROGRESS:a(85595),START:a(55680)}},14135:(S,P,a)=>{var w=a(83419),T=a(74099),g=a(518),f=a(54899),h=new w({Extends:g,initialize:function(u,m,d,p,v){g.call(this,u,m,d,p,v),this.type="animationJSON"},onProcess:function(){this.loader.once(f.POST_PROCESS,this.onLoadComplete,this),g.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});T.register("animation",function(c,u,m,d){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new h(this,c[p]));else this.addFile(new h(this,c,u,d,m));return this}),S.exports=h},76272:(S,P,a)=>{var w=a(83419),T=a(74099),g=a(95540),f=a(19550),h=a(41212),c=a(518),u=a(26430),m=new w({Extends:u,initialize:function(p,v,x,y,_,E){var A,M;if(h(v)){var I=v;v=g(I,"key"),A=new f(p,{key:v,url:g(I,"textureURL"),extension:g(I,"textureExtension","png"),normalMap:g(I,"normalMap"),xhrSettings:g(I,"textureXhrSettings")}),M=new c(p,{key:v,url:g(I,"atlasURL"),extension:g(I,"atlasExtension","json"),xhrSettings:g(I,"atlasXhrSettings")})}else A=new f(p,v,x,_),M=new c(p,v,y,E);u.call(this,p,"atlasjson",v,A.linkFile?[A,M,A.linkFile]:[A,M])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0],p=this.files[1];this.loader.textureManager.addAtlas(d.key,d.data,p.data,this.files[2]?this.files[2].data:null),p.addToCache(),this.complete=!0}}});T.register("aseprite",function(d,p,v,x,y){var _;if(Array.isArray(d))for(var E=0;E<d.length;E++)_=new m(this,d[E]),this.addFile(_.files);else _=new m(this,d,p,v,x,y),this.addFile(_.files);return this}),S.exports=m},38734:(S,P,a)=>{var w=a(83419),T=a(74099),g=a(95540),f=a(19550),h=a(41212),c=a(518),u=a(26430),m=new w({Extends:u,initialize:function(p,v,x,y,_,E){var A,M;if(h(v)){var I=v;v=g(I,"key"),A=new f(p,{key:v,url:g(I,"textureURL"),extension:g(I,"textureExtension","png"),normalMap:g(I,"normalMap"),xhrSettings:g(I,"textureXhrSettings")}),M=new c(p,{key:v,url:g(I,"atlasURL"),extension:g(I,"atlasExtension","json"),xhrSettings:g(I,"atlasXhrSettings")})}else A=new f(p,v,x,_),M=new c(p,v,y,E);u.call(this,p,"atlasjson",v,A.linkFile?[A,M,A.linkFile]:[A,M])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0];this.loader.textureManager.addAtlas(d.key,d.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});T.register("atlas",function(d,p,v,x,y){var _;if(Array.isArray(d))for(var E=0;E<d.length;E++)_=new m(this,d[E]),this.addFile(_.files);else _=new m(this,d,p,v,x,y),this.addFile(_.files);return this}),S.exports=m},74599:(S,P,a)=>{var w=a(83419),T=a(74099),g=a(95540),f=a(19550),h=a(41212),c=a(26430),u=a(57318),m=new w({Extends:c,initialize:function(p,v,x,y,_,E){var A,M;if(h(v)){var I=v;v=g(I,"key"),A=new f(p,{key:v,url:g(I,"textureURL"),extension:g(I,"textureExtension","png"),normalMap:g(I,"normalMap"),xhrSettings:g(I,"textureXhrSettings")}),M=new u(p,{key:v,url:g(I,"atlasURL"),extension:g(I,"atlasExtension","xml"),xhrSettings:g(I,"atlasXhrSettings")})}else A=new f(p,v,x,_),M=new u(p,v,y,E);c.call(this,p,"atlasxml",v,A.linkFile?[A,M,A.linkFile]:[A,M])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0];this.loader.textureManager.addAtlasXML(d.key,d.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});T.register("atlasXML",function(d,p,v,x,y){var _;if(Array.isArray(d))for(var E=0;E<d.length;E++)_=new m(this,d[E]),this.addFile(_.files);else _=new m(this,d,p,v,x,y),this.addFile(_.files);return this}),S.exports=m},21097:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(95540),c=a(89749),u=a(41212),m=new w({Extends:g,initialize:function(p,v,x,y,_){if(u(v)){var E=v;v=h(E,"key"),y=h(E,"xhrSettings"),_=h(E,"context",_)}g.call(this,p,{type:"audio",cache:p.cacheManager.audio,extension:x.type,responseType:"arraybuffer",key:v,url:x.url,xhrSettings:y,config:{context:_}})},onProcess:function(){this.state=T.FILE_PROCESSING;var d=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(p){d.data=p,d.onProcessComplete()},function(p){console.error("Error decoding audio: "+d.key+" - ",p?p.message:null),d.onProcessError()}),this.config.context=null}});m.create=function(d,p,v,x,y){var _=d.systems.game,E=_.config.audio,A=_.device.audio;u(p)&&(v=h(p,"url",[]),x=h(p,"config",{}));var M=m.getAudioURL(_,v);return M?A.webAudio&&!E.disableWebAudio?new m(d,p,M,y,_.sound.context):new c(d,p,M,x):(console.warn('No audio URLs for "%s" can play on this device',p),null)},m.getAudioURL=function(d,p){Array.isArray(p)||(p=[p]);for(var v=0;v<p.length;v++){var x=h(p[v],"url",p[v]);if(0===x.indexOf("blob:")||0===x.indexOf("data:"))return{url:x,type:""};var y=x.match(/\.([a-zA-Z0-9]+)($|\?)/);if(y=h(p[v],"type",y?y[1]:"").toLowerCase(),d.device.audio[y])return{url:x,type:y}}return null},f.register("audio",function(d,p,v,x){var A,y=this.systems.game,E=y.device.audio;if(y.config.audio.noAudio||!E.webAudio&&!E.audioData)return this;if(Array.isArray(d))for(var M=0;M<d.length;M++)(A=m.create(this,d[M]))&&this.addFile(A);else(A=m.create(this,d,p,v,x))&&this.addFile(A);return this}),S.exports=m},89524:(S,P,a)=>{var w=a(21097),T=a(83419),g=a(74099),f=a(95540),h=a(41212),c=a(518),u=a(26430),m=new T({Extends:u,initialize:function(p,v,x,y,_,E,A){if(h(v)){var M=v;v=f(M,"key"),x=f(M,"jsonURL"),y=f(M,"audioURL"),_=f(M,"audioConfig"),E=f(M,"audioXhrSettings"),A=f(M,"jsonXhrSettings")}var I;if(y){var k=w.create(p,v,y,_,E);k&&(I=new c(p,v,x,A),u.call(this,p,"audiosprite",v,[k,I]),this.config.resourceLoad=!1)}else I=new c(p,v,x,A),u.call(this,p,"audiosprite",v,[I]),this.config.resourceLoad=!0,this.config.audioConfig=_,this.config.audioXhrSettings=E},onFileComplete:function(d){if(-1!==this.files.indexOf(d)&&(this.pending--,this.config.resourceLoad&&"json"===d.type&&d.data.hasOwnProperty("resources"))){var v=d.data.resources,x=f(this.config,"audioConfig"),y=f(this.config,"audioXhrSettings"),_=w.create(this.loader,d.key,v,x,y);_&&(this.addToMultiFile(_),this.loader.addFile(_))}},addToCache:function(){if(this.isReadyToProcess()){var p=this.files[1];this.files[0].addToCache(),p.addToCache(),this.complete=!0}}});g.register("audioSprite",function(d,p,v,x,y,_){var I,E=this.systems.game,A=E.config.audio,M=E.device.audio;if(A&&A.noAudio||!M.webAudio&&!M.audioData)return this;if(Array.isArray(d))for(var k=0;k<d.length;k++)(I=new m(this,d[k])).files&&this.addFile(I.files);else(I=new m(this,d,p,v,x,y,_)).files&&this.addFile(I.files);return this})},85722:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new w({Extends:g,initialize:function(d,p,v,x,y){var _="bin";if(c(p)){var E=p;p=h(E,"key"),v=h(E,"url"),x=h(E,"xhrSettings"),_=h(E,"extension",_),y=h(E,"dataType",y)}g.call(this,d,{type:"binary",cache:d.cacheManager.binary,extension:_,responseType:"arraybuffer",key:p,url:v,xhrSettings:x,config:{dataType:y}})},onProcess:function(){this.state=T.FILE_PROCESSING;var m=this.config.dataType;this.data=m?new m(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});f.register("binary",function(m,d,p,v){if(Array.isArray(m))for(var x=0;x<m.length;x++)this.addFile(new u(this,m[x]));else this.addFile(new u(this,m,d,v,p));return this}),S.exports=u},97025:(S,P,a)=>{var w=a(83419),T=a(74099),g=a(95540),f=a(19550),h=a(41212),c=a(26430),u=a(21859),m=a(57318),d=new w({Extends:c,initialize:function(v,x,y,_,E,A){var M,I;if(h(x)){var k=x;x=g(k,"key"),M=new f(v,{key:x,url:g(k,"textureURL"),extension:g(k,"textureExtension","png"),normalMap:g(k,"normalMap"),xhrSettings:g(k,"textureXhrSettings")}),I=new m(v,{key:x,url:g(k,"fontDataURL"),extension:g(k,"fontDataExtension","xml"),xhrSettings:g(k,"fontDataXhrSettings")})}else M=new f(v,x,y,E),I=new m(v,x,_,A);c.call(this,v,"bitmapfont",x,M.linkFile?[M,I,M.linkFile]:[M,I])},addToCache:function(){if(this.isReadyToProcess()){var p=this.files[0],v=this.files[1];p.addToCache();var x=p.cache.get(p.key),y=u(v.data,p.cache.getFrame(p.key),0,0,x);this.loader.cacheManager.bitmapFont.add(p.key,{data:y,texture:p.key,frame:null}),this.complete=!0}}});T.register("bitmapFont",function(p,v,x,y,_){var E;if(Array.isArray(p))for(var A=0;A<p.length;A++)E=new d(this,p[A]),this.addFile(E.files);else E=new d(this,p,v,x,y,_),this.addFile(E.files);return this}),S.exports=d},16024:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new w({Extends:g,initialize:function(d,p,v,x){var y="css";if(c(p)){var _=p;p=h(_,"key"),v=h(_,"url"),x=h(_,"xhrSettings"),y=h(_,"extension",y)}g.call(this,d,{type:"script",cache:!1,extension:y,responseType:"text",key:p,url:v,xhrSettings:x})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});f.register("css",function(m,d,p){if(Array.isArray(m))for(var v=0;v<m.length;v++)this.addFile(new u(this,m[v]));else this.addFile(new u(this,m,d,p));return this}),S.exports=u},69559:(S,P,a)=>{var w=a(38734),T=a(85722),g=a(83419),f=a(74099),h=a(95540),c=a(19550),u=a(41212),m=a(518),d=a(31403),p=a(46975),v=a(59327),x=a(26430),y=a(82038),_=a(55222),E=new g({Extends:x,initialize:function(M,I,k,F){if(k.multiAtlasURL){var N=new m(M,{key:I,url:k.multiAtlasURL,xhrSettings:F,config:k});x.call(this,M,"texture",I,[N])}else{var V=k.textureURL.substr(k.textureURL.length-3);k.type||(k.type="ktx"===V.toLowerCase()?"KTX":"PVR");var B=new T(M,{key:I,url:k.textureURL,extension:V,xhrSettings:F,config:k});if(k.atlasURL){var H=new m(M,{key:I,url:k.atlasURL,xhrSettings:F,config:k});x.call(this,M,"texture",I,[B,H])}else x.call(this,M,"texture",I,[B])}this.config=k},onFileComplete:function(A){if(-1!==this.files.indexOf(A)){if(this.pending--,!this.config.multiAtlasURL)return;if("json"===A.type&&A.data.hasOwnProperty("textures")){var I=A.data.textures,k=this.config,F=this.loader,N=F.baseURL,V=F.path,B=F.prefix,H=h(k,"multiBaseURL",this.baseURL),Q=h(k,"multiPath",this.path),G=h(k,"prefix",this.prefix),K=h(k,"textureXhrSettings");H&&F.setBaseURL(H),Q&&F.setPath(Q),G&&F.setPrefix(G);for(var tt=0;tt<I.length;tt++){var at=I[tt].image,lt="CMA"+this.multiKeyIndex+"_"+at,J=new T(F,lt,at,K);if(this.addToMultiFile(J),F.addFile(J),I[tt].normalMap){var it=new T(F,lt,I[tt].normalMap,K);it.type="normalMap",J.setLink(it),this.addToMultiFile(it),F.addFile(it)}}F.setBaseURL(N),F.setPath(V),F.setPrefix(B)}}},addToCache:function(){function A(H){console.warn('Compressed Texture Invalid: "'+N.key+'". '+H)}if(this.isReadyToProcess()){var M=this.config;if(M.multiAtlasURL)this.addMultiToCache();else{var F,I=this.loader.systems.renderer,k=this.loader.textureManager,N=this.files[0],V=this.files[1];"PVR"===M.type?F=y(N.data):"KTX"===M.type&&((F=d(N.data))||A("KTX file contains unsupported format.")),F&&!_(F)&&(A("Texture dimensions failed verification. Check the texture format specifications for "+M.format+" 0x"+F.internalFormat.toString(16)+"."),F=null),F&&!I.supportsCompressedTexture(M.format,F.internalFormat)&&(A("Texture format "+M.format+" with internal format "+F.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),F=null),F&&(F.format=I.getCompressedTextureName(M.format,F.internalFormat),k.addCompressedTexture(N.key,F,V&&V.data?V.data:null))}this.complete=!0}},addMultiToCache:function(){for(var B,A=this.config,M=this.files[0],I=[],k=[],F=[],N=this.loader.systems.renderer,V=this.loader.textureManager,H=1;H<this.files.length;H++){var Q=this.files[H];if("normalMap"!==Q.type)for(var G=Q.key.indexOf("_"),K=Q.key.substr(G+1),tt=Q.data,at=0;at<M.data.textures.length;at++){var lt=M.data.textures[at];if(lt.image===K){"PVR"===A.type?B=y(tt):"KTX"===A.type&&(B=d(tt)),B&&N.supportsCompressedTexture(A.format,B.internalFormat)&&(B.format=N.getCompressedTextureName(A.format,B.internalFormat),k.push(B),I.push(lt),Q.linkFile&&F.push(Q.linkFile.data));break}}}0===F.length&&(F=void 0),V.addAtlasJSONArray(this.key,k,I,F),this.complete=!0}});f.register("texture",function(A,M,I){var k=this.systems.renderer,F=function(V,B,H,Q){var G={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(u(B)){var K=B;B=h(K,"key"),H=h(K,"url"),Q=h(K,"xhrSettings")}var tt=!1;for(var at in H)if(k.supportsCompressedTexture(at)){var lt=H[at];"string"==typeof lt?G.textureURL=lt:G=p(lt,G),G.format=at.toUpperCase(),tt=!0;break}if(tt)if("IMG"===G.format){var J;J=G.multiAtlasURL?new v(V,B,G.multiAtlasURL,G.multiPath,G.multiBaseURL,Q).files:G.atlasURL?new w(V,B,G.textureURL,G.atlasURL,Q).files:new c(V,B,G.textureURL,Q),V.addFile(J)}else{var Y=new E(V,B,G,Q);V.addFile(Y.files)}else console.warn("No supported compressed texture format or IMG fallback",B)};if(Array.isArray(A))for(var N=0;N<A.length;N++)F(this,A[N]);else F(this,A,M,I);return this}),S.exports=E},87674:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(95540),c=a(98356),u=a(41212),m=new w({Extends:g,initialize:function(p,v,x,y,_,E){var A="ttf";if(u(v)){var M=v;v=h(M,"key"),x=h(M,"url"),y=h(M,"format","truetype"),_=h(M,"descriptors",null),E=h(M,"xhrSettings"),A=h(M,"extension",A)}else void 0===y&&(y="truetype");g.call(this,p,{type:"font",cache:!1,extension:A,responseType:"text",key:v,url:x,xhrSettings:E}),this.data={format:y,descriptors:_},this.state=T.FILE_POPULATED},onProcess:function(){this.state=T.FILE_PROCESSING,this.src=c(this,this.loader.baseURL);var d,p=this.key,v="url("+this.src+') format("'+this.data.format+'")';d=this.data.descriptors?new FontFace(p,v,this.data.descriptors):new FontFace(p,v);var x=this;d.load().then(function(){document.fonts.add(d),document.body.classList.add("fonts-loaded"),x.onProcessComplete()}).catch(function(){console.warn("Font failed to load",v),x.onProcessComplete()})}});f.register("font",function(d,p,v,x,y){if(Array.isArray(d))for(var _=0;_<d.length;_++)this.addFile(new m(this,d[_]));else this.addFile(new m(this,d,p,v,x,y));return this}),S.exports=m},47931:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(95540),c=a(41212),u=a(73894),m=new w({Extends:g,initialize:function(p,v,x,y,_){var E="glsl";if(c(v)){var A=v;v=h(A,"key"),x=h(A,"url"),y=h(A,"shaderType","fragment"),_=h(A,"xhrSettings"),E=h(A,"extension",E)}else void 0===y&&(y="fragment");g.call(this,p,{type:"glsl",cache:p.cacheManager.shader,extension:E,responseType:"text",key:v,url:x,config:{shaderType:y},xhrSettings:_})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var d=this.data.split("\n"),p=this.extractBlock(d,0);if(p)for(;p;){var v=this.getShaderName(p.header),x=this.getShaderType(p.header),y=this.getShaderUniforms(p.header),_=p.shader;if(this.cache.has(v)){var E=this.cache.get(v);"fragment"===x?E.fragmentSrc=_:E.vertexSrc=_,E.uniforms||(E.uniforms=y)}else this.cache.add(v,"fragment"===x?new u(v,_,"",y):new u(v,"",_,y));p=this.extractBlock(d,p.offset)}else this.cache.add(this.key,"fragment"===this.config.shaderType?new u(this.key,this.data):new u(this.key,"",this.data))},getShaderName:function(d){for(var p=0;p<d.length;p++){var v=d[p].trim();if("name:"===v.substring(0,5))return v.substring(5).trim()}return this.key},getShaderType:function(d){for(var p=0;p<d.length;p++){var v=d[p].trim();if("type:"===v.substring(0,5))return v.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(d){for(var p={},v=0;v<d.length;v++){var x=d[v].trim();if("uniform."===x.substring(0,8)){var y=x.indexOf(":");if(y){var _=x.substring(8,y);try{p[_]=JSON.parse(x.substring(y+1))}catch{console.warn("Invalid uniform JSON: "+_)}}}}return p},extractBlock:function(d,p){for(var v=-1,x=-1,y=-1,_=!1,E=!1,A=[],M=[],I=p;I<d.length;I++){var k=d[I].trim();if("---"===k)if(-1===v)v=I,_=!0;else{if(!_){E=!1;break}x=I,_=!1,E=!0}else _?A.push(k):E&&(M.push(k),y=I)}return _||-1===x?null:{header:A,shader:M.join("\n"),offset:y}}});f.register("glsl",function(d,p,v,x){if(Array.isArray(d))for(var y=0;y<d.length;y++)this.addFile(new m(this,d[y]));else this.addFile(new m(this,d,p,v,x));return this}),S.exports=m},89749:(S,P,a)=>{var w=a(83419),T=a(54899),g=a(41299),f=a(95540),h=a(98356),c=a(41212),u=new w({Extends:g,initialize:function(d,p,v,x){if(c(p)){var y=p;p=f(y,"key"),x=f(y,"config",x)}g.call(this,d,{type:"audio",cache:d.cacheManager.audio,extension:v.type,key:p,url:v.url,config:x}),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var m=0;m<this.data.length;m++){var d=this.data[m];d.oncanplaythrough=null,d.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(m){var d=m.target;d.oncanplaythrough=null,d.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(T.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var m=this.config&&this.config.instances||1;this.filesTotal=m,this.filesLoaded=0,this.percentComplete=0;for(var d=0;d<m;d++){var p=new Audio;p.dataset||(p.dataset={}),p.dataset.name=this.key+("0"+d).slice(-2),p.dataset.used="false",this.locked?p.dataset.locked="true":(p.dataset.locked="false",p.preload="auto",p.oncanplaythrough=this.onProgress.bind(this),p.onerror=this.onError.bind(this)),this.data.push(p)}for(d=0;d<this.data.length;d++)(p=this.data[d]).src=h(this,this.loader.baseURL),this.locked||p.load();this.locked&&setTimeout(this.onLoad.bind(this))}});S.exports=u},88470:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new w({Extends:g,initialize:function(d,p,v,x){var y="html";if(c(p)){var _=p;p=h(_,"key"),v=h(_,"url"),x=h(_,"xhrSettings"),y=h(_,"extension",y)}g.call(this,d,{type:"text",cache:d.cacheManager.html,extension:y,responseType:"text",key:p,url:v,xhrSettings:x})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});f.register("html",function(m,d,p){if(Array.isArray(m))for(var v=0;v<m.length;v++)this.addFile(new u(this,m[v]));else this.addFile(new u(this,m,d,p));return this}),S.exports=u},14643:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new w({Extends:g,initialize:function(d,p,v,x,y,_){void 0===x&&(x=512),void 0===y&&(y=512);var E="html";if(c(p)){var A=p;p=h(A,"key"),v=h(A,"url"),_=h(A,"xhrSettings"),E=h(A,"extension",E),x=h(A,"width",x),y=h(A,"height",y)}g.call(this,d,{type:"html",cache:d.textureManager,extension:E,responseType:"text",key:p,url:v,xhrSettings:_,config:{width:x,height:y}})},onProcess:function(){this.state=T.FILE_PROCESSING;var m=this.config.width,d=this.config.height,p=[];p.push('<svg width="'+m+'px" height="'+d+'px" viewBox="0 0 '+m+" "+d+'" xmlns="http://www.w3.org/2000/svg">'),p.push('<foreignObject width="100%" height="100%">'),p.push('<body xmlns="http://www.w3.org/1999/xhtml">'),p.push(this.xhrLoader.responseText),p.push("</body>"),p.push("</foreignObject>"),p.push("</svg>");var v=[p.join("\n")],x=this;try{var y=new window.Blob(v,{type:"image/svg+xml;charset=utf-8"})}catch{return x.state=T.FILE_ERRORED,void x.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){g.revokeObjectURL(x.data),x.onProcessComplete()},this.data.onerror=function(){g.revokeObjectURL(x.data),x.onProcessError()},g.createObjectURL(this.data,y,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});f.register("htmlTexture",function(m,d,p,v,x){if(Array.isArray(m))for(var y=0;y<m.length;y++)this.addFile(new u(this,m[y]));else this.addFile(new u(this,m,d,p,v,x));return this}),S.exports=u},19550:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(95540),c=a(41212),u=a(98356),m=new w({Extends:g,initialize:function d(p,v,x,y,_){var A,E="png";if(c(v)){var M=v;v=h(M,"key"),x=h(M,"url"),A=h(M,"normalMap"),y=h(M,"xhrSettings"),E=h(M,"extension",E),_=h(M,"frameConfig")}if(Array.isArray(x)&&(A=x[1],x=x[0]),g.call(this,p,{type:"image",cache:p.textureManager,extension:E,responseType:"blob",key:v,url:x,xhrSettings:y,config:_}),A){var k=new d(p,this.key,A,y,_);k.type="normalMap",this.setLink(k),p.addFile(k)}this.useImageElementLoad="HTMLImageElement"===p.imageLoadType||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var d=this;this.data.onload=function(){g.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){g.revokeObjectURL(d.data),d.onProcessError()},g.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var d=this.state;this.state=T.FILE_PROCESSING,d===T.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=T.FILE_LOADING,this.src=u(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var d=this;this.data.onload=function(){d.state=T.FILE_LOADED,d.loader.nextFile(d,!0)},this.data.onerror=function(){d.loader.nextFile(d,!1)},this.data.src=this.src},addToCache:function(){var d=this.linkFile;d?d.state>=T.FILE_COMPLETE&&("spritesheet"===d.type?d.addToCache():"normalMap"===this.type?this.cache.addImage(this.key,d.data,this.data):this.cache.addImage(this.key,this.data,d.data)):this.cache.addImage(this.key,this.data)}});f.register("image",function(d,p,v){if(Array.isArray(d))for(var x=0;x<d.length;x++)this.addFile(new m(this,d[x]));else this.addFile(new m(this,d,p,v));return this}),S.exports=m},518:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(95540),c=a(35154),u=a(41212),m=new w({Extends:g,initialize:function(p,v,x,y,_){var E="json";if(u(v)){var A=v;v=h(A,"key"),x=h(A,"url"),y=h(A,"xhrSettings"),E=h(A,"extension",E),_=h(A,"dataKey",_)}g.call(this,p,{type:"json",cache:p.cacheManager.json,extension:E,responseType:"text",key:v,url:x,xhrSettings:y,config:_}),u(x)&&(this.data=_?c(x,_):x,this.state=T.FILE_POPULATED)},onProcess:function(){if(this.state!==T.FILE_POPULATED){this.state=T.FILE_PROCESSING;try{var d=JSON.parse(this.xhrLoader.responseText)}catch(v){throw this.onProcessError(),v}var p=this.config;this.data="string"==typeof p?c(d,p,d):d}this.onProcessComplete()}});f.register("json",function(d,p,v,x){if(Array.isArray(d))for(var y=0;y<d.length;y++)this.addFile(new m(this,d[y]));else this.addFile(new m(this,d,p,x,v));return this}),S.exports=m},59327:(S,P,a)=>{var w=a(83419),T=a(74099),g=a(95540),f=a(19550),h=a(41212),c=a(518),u=a(26430),m=new w({Extends:u,initialize:function(p,v,x,y,_,E,A){if(h(v)){var M=v;v=g(M,"key"),x=g(M,"url",!1)?g(M,"url"):g(M,"atlasURL"),E=g(M,"xhrSettings"),y=g(M,"path"),_=g(M,"baseURL"),A=g(M,"textureXhrSettings")}var I=new c(p,v,x,E);u.call(this,p,"multiatlas",v,[I]),this.config.path=y,this.config.baseURL=_,this.config.textureXhrSettings=A},onFileComplete:function(d){if(-1!==this.files.indexOf(d)&&(this.pending--,"json"===d.type&&d.data.hasOwnProperty("textures"))){var v=d.data.textures,x=this.config,y=this.loader,_=y.baseURL,E=y.path,A=y.prefix,M=g(x,"baseURL",this.baseURL),I=g(x,"path",this.path),k=g(x,"prefix",this.prefix),F=g(x,"textureXhrSettings");y.setBaseURL(M),y.setPath(I),y.setPrefix(k);for(var N=0;N<v.length;N++){var V=v[N].image,B="MA"+this.multiKeyIndex+"_"+V,H=new f(y,B,V,F);if(this.addToMultiFile(H),y.addFile(H),v[N].normalMap){var Q=new f(y,B,v[N].normalMap,F);Q.type="normalMap",H.setLink(Q),this.addToMultiFile(Q),y.addFile(Q)}}y.setBaseURL(_),y.setPath(E),y.setPrefix(A)}},addToCache:function(){if(this.isReadyToProcess()){for(var d=this.files[0],p=[],v=[],x=[],y=1;y<this.files.length;y++){var _=this.files[y];if("normalMap"!==_.type)for(var E=_.key.indexOf("_"),A=_.key.substr(E+1),M=_.data,I=0;I<d.data.textures.length;I++){var k=d.data.textures[I];if(k.image===A){v.push(M),p.push(k),_.linkFile&&x.push(_.linkFile.data);break}}}0===x.length&&(x=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,v,p,x),this.complete=!0}}});T.register("multiatlas",function(d,p,v,x,y){var _;if(Array.isArray(d))for(var E=0;E<d.length;E++)_=new m(this,d[E]),this.addFile(_.files);else _=new m(this,d,p,v,x,y),this.addFile(_.files);return this}),S.exports=m},99297:(S,P,a)=>{var w=a(83419),T=a(74099),g=a(95540),f=a(41212),h=a(26430),c=a(34328),u=new w({Extends:h,initialize:function(d,p,v,x){var y="js",_=[];if(f(p)){var E=p;p=g(E,"key"),v=g(E,"url"),x=g(E,"xhrSettings"),y=g(E,"extension",y)}Array.isArray(v)||(v=[v]);for(var A=0;A<v.length;A++){var M=new c(d,{key:p+"_"+A.toString(),url:v[A],extension:y,xhrSettings:x});M.onProcess=function(){this.onProcessComplete()},_.push(M)}h.call(this,d,"scripts",p,_)},addToCache:function(){if(this.isReadyToProcess()){for(var m=0;m<this.files.length;m++){var d=this.files[m];d.data=document.createElement("script"),d.data.language="javascript",d.data.type="text/javascript",d.data.defer=!1,d.data.text=d.xhrLoader.responseText,document.head.appendChild(d.data)}this.complete=!0}}});T.register("scripts",function(m,d,p){var v;if(Array.isArray(m))for(var x=0;x<m.length;x++)v=new u(this,m[x]),this.addFile(v.files);else v=new u(this,m,d,p),this.addFile(v.files);return this}),S.exports=u},41846:(S,P,a)=>{var w=a(83419),T=a(74099),g=a(95540),f=a(41212),h=a(26430),c=a(85048),u=a(61485),m=a(78776),d=new w({Extends:h,initialize:function(v,x,y,_,E,A){var M,I,k=v.cacheManager.obj;if(f(x)){var F=x;x=g(F,"key"),M=new m(v,{key:x,type:"obj",cache:k,url:g(F,"url"),extension:g(F,"extension","obj"),xhrSettings:g(F,"xhrSettings"),config:{flipUV:g(F,"flipUV",E)}}),(_=g(F,"matURL"))&&(I=new m(v,{key:x,type:"mat",cache:k,url:_,extension:g(F,"matExtension","mat"),xhrSettings:g(F,"xhrSettings")}))}else M=new m(v,{key:x,url:y,type:"obj",cache:k,extension:"obj",xhrSettings:A,config:{flipUV:E}}),_&&(I=new m(v,{key:x,url:_,type:"mat",cache:k,extension:"mat",xhrSettings:A}));h.call(this,v,"obj",x,[M,I])},addToCache:function(){if(this.isReadyToProcess()){var p=this.files[0],v=this.files[1],x=c(p.data,p.config.flipUV);v&&(x.materials=u(v.data)),p.cache.add(p.key,x),this.complete=!0}}});T.register("obj",function(p,v,x,y,_){var E;if(Array.isArray(p))for(var A=0;A<p.length;A++)E=new d(this,p[A]),this.addFile(E.files);else E=new d(this,p,v,x,y,_),this.addFile(E.files);return this}),S.exports=d},58610:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(74099),f=a(518),h=new w({Extends:f,initialize:function(u,m,d,p,v){f.call(this,u,m,d,p,v),this.type="packfile"},onProcess:function(){if(this.state!==T.FILE_POPULATED&&(this.state=T.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var c={};c[this.config]=this.data,this.data=c}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});g.register("pack",function(c,u,m,d){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new h(this,c[p]));else this.addFile(new h(this,c,u,d,m));return this}),S.exports=h},48988:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new w({Extends:g,initialize:function(d,p,v,x,y,_){var E="js";if(c(p)){var A=p;p=h(A,"key"),v=h(A,"url"),_=h(A,"xhrSettings"),E=h(A,"extension",E),x=h(A,"start"),y=h(A,"mapping")}g.call(this,d,{type:"plugin",cache:!1,extension:E,responseType:"text",key:p,url:v,xhrSettings:_,config:{start:x,mapping:y}}),"function"==typeof v&&(this.data=v,this.state=T.FILE_POPULATED)},onProcess:function(){var m=this.loader.systems.plugins,d=this.config,p=h(d,"start",!1),v=h(d,"mapping",null);if(this.state===T.FILE_POPULATED)m.install(this.key,this.data,p,v);else{this.state=T.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var x=m.install(this.key,window[this.key],p,v);(p||v)&&(this.loader.systems[v]=x,this.loader.scene[v]=x)}this.onProcessComplete()}});f.register("plugin",function(m,d,p,v,x){if(Array.isArray(m))for(var y=0;y<m.length;y++)this.addFile(new u(this,m[y]));else this.addFile(new u(this,m,d,p,v,x));return this}),S.exports=u},67397:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new w({Extends:g,initialize:function(d,p,v,x,y){var _="svg";if(c(p)){var E=p;p=h(E,"key"),v=h(E,"url"),x=h(E,"svgConfig",{}),y=h(E,"xhrSettings"),_=h(E,"extension",_)}var A={type:"svg",cache:d.textureManager,extension:_,responseType:"text",key:p,url:v,xhrSettings:y,config:{width:h(x,"width"),height:h(x,"height"),scale:h(x,"scale")}};g.call(this,d,A)},onProcess:function(){this.state=T.FILE_PROCESSING;var m=this.xhrLoader.responseText,d=[m],p=this.config.width,v=this.config.height,x=this.config.scale;t:if(p&&v||x){var E=(new DOMParser).parseFromString(m,"text/xml").getElementsByTagName("svg")[0],A=E.hasAttribute("viewBox"),M=parseFloat(E.getAttribute("width")),I=parseFloat(E.getAttribute("height"));if(!A&&M&&I)E.setAttribute("viewBox","0  0 "+M+" "+I);else if(A&&!M&&!I){var k=E.getAttribute("viewBox").split(/\s+|,/);M=k[2],I=k[3]}if(x){if(!M||!I)break t;p=M*x,v=I*x}E.setAttribute("width",p.toString()+"px"),E.setAttribute("height",v.toString()+"px"),d=[(new XMLSerializer).serializeToString(E)]}try{var F=new window.Blob(d,{type:"image/svg+xml;charset=utf-8"})}catch{return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var N=this,V=!1;this.data.onload=function(){V||g.revokeObjectURL(N.data),N.onProcessComplete()},this.data.onerror=function(){V?N.onProcessError():(V=!0,g.revokeObjectURL(N.data),N.data.src="data:image/svg+xml,"+encodeURIComponent(d.join("")))},g.createObjectURL(this.data,F,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});f.register("svg",function(m,d,p,v){if(Array.isArray(m))for(var x=0;x<m.length;x++)this.addFile(new u(this,m[x]));else this.addFile(new u(this,m,d,p,v));return this}),S.exports=u},88423:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new w({Extends:g,initialize:function(d,p,v,x){var y="js";if(c(p)){var _=p;p=h(_,"key"),v=h(_,"url"),x=h(_,"xhrSettings"),y=h(_,"extension",y)}g.call(this,d,{type:"text",extension:y,responseType:"text",key:p,url:v,xhrSettings:x})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var m=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);"),d=eval;this.loader.sceneManager.add(this.key,d(m)),this.complete=!0}});f.register("sceneFile",function(m,d,p){if(Array.isArray(m))for(var v=0;v<m.length;v++)this.addFile(new u(this,m[v]));else this.addFile(new u(this,m,d,p));return this}),S.exports=u},56812:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new w({Extends:g,initialize:function(d,p,v,x,y,_){var E="js";if(c(p)){var A=p;p=h(A,"key"),v=h(A,"url"),_=h(A,"xhrSettings"),E=h(A,"extension",E),x=h(A,"systemKey"),y=h(A,"sceneKey")}g.call(this,d,{type:"scenePlugin",cache:!1,extension:E,responseType:"text",key:p,url:v,xhrSettings:_,config:{systemKey:x,sceneKey:y}}),"function"==typeof v&&(this.data=v,this.state=T.FILE_POPULATED)},onProcess:function(){var m=this.loader.systems.plugins,d=this.config,p=this.key,v=h(d,"systemKey",p),x=h(d,"sceneKey",p);this.state===T.FILE_POPULATED?m.installScenePlugin(v,this.data,x,this.loader.scene,!0):(this.state=T.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),m.installScenePlugin(v,window[this.key],x,this.loader.scene,!0)),this.onProcessComplete()}});f.register("scenePlugin",function(m,d,p,v,x){if(Array.isArray(m))for(var y=0;y<m.length;y++)this.addFile(new u(this,m[y]));else this.addFile(new u(this,m,d,p,v,x));return this}),S.exports=u},34328:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new w({Extends:g,initialize:function(d,p,v,x,y){var _="js";if(c(p)){var E=p;p=h(E,"key"),v=h(E,"url"),x=h(E,"type","script"),y=h(E,"xhrSettings"),_=h(E,"extension",_)}else void 0===x&&(x="script");g.call(this,d,{type:x,cache:!1,extension:_,responseType:"text",key:p,url:v,xhrSettings:y})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});f.register("script",function(m,d,p,v){if(Array.isArray(m))for(var x=0;x<m.length;x++)this.addFile(new u(this,m[x]));else this.addFile(new u(this,m,d,p,v));return this}),S.exports=u},85035:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(74099),f=a(19550),h=new w({Extends:f,initialize:function(u,m,d,p,v){f.call(this,u,m,d,v,p),this.type="spritesheet"},addToCache:function(){var c=this.linkFile;c?c.state>=T.FILE_COMPLETE&&("normalMap"===this.type?this.cache.addSpriteSheet(this.key,c.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,c.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});g.register("spritesheet",function(c,u,m,d){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new h(this,c[p]));else this.addFile(new h(this,c,u,m,d));return this}),S.exports=h},78776:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new w({Extends:g,initialize:function(d,p,v,x){var y="text",_="txt",E=d.cacheManager.text;if(c(p)){var A=p;p=h(A,"key"),v=h(A,"url"),x=h(A,"xhrSettings"),_=h(A,"extension",_),y=h(A,"type",y),E=h(A,"cache",E)}g.call(this,d,{type:y,cache:E,extension:_,responseType:"text",key:p,url:v,xhrSettings:x})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});f.register("text",function(m,d,p){if(Array.isArray(m))for(var v=0;v<m.length;v++)this.addFile(new u(this,m[v]));else this.addFile(new u(this,m,d,p));return this}),S.exports=u},49477:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(95540),c=a(41212),u=a(80341),m=new w({Extends:g,initialize:function(p,v,x,y){var _="csv";if(c(v)){var E=v;v=h(E,"key"),x=h(E,"url"),y=h(E,"xhrSettings"),_=h(E,"extension",_)}g.call(this,p,{type:"tilemapCSV",cache:p.cacheManager.tilemap,extension:_,responseType:"text",key:v,url:x,xhrSettings:y}),this.tilemapFormat=u.CSV},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){this.cache.add(this.key,{format:this.tilemapFormat,data:this.data})}});f.register("tilemapCSV",function(d,p,v){if(Array.isArray(d))for(var x=0;x<d.length;x++)this.addFile(new m(this,d[x]));else this.addFile(new m(this,d,p,v));return this}),S.exports=m},40807:(S,P,a)=>{var w=a(83419),T=a(74099),g=a(518),f=a(80341),h=new w({Extends:g,initialize:function(u,m,d,p){g.call(this,u,m,d,p),this.type="tilemapJSON",this.cache=u.cacheManager.tilemap},addToCache:function(){this.cache.add(this.key,{format:f.WELTMEISTER,data:this.data})}});T.register("tilemapImpact",function(c,u,m){if(Array.isArray(c))for(var d=0;d<c.length;d++)this.addFile(new h(this,c[d]));else this.addFile(new h(this,c,u,m));return this}),S.exports=h},56775:(S,P,a)=>{var w=a(83419),T=a(74099),g=a(518),f=a(80341),h=new w({Extends:g,initialize:function(u,m,d,p){g.call(this,u,m,d,p),this.type="tilemapJSON",this.cache=u.cacheManager.tilemap},addToCache:function(){this.cache.add(this.key,{format:f.TILED_JSON,data:this.data})}});T.register("tilemapTiledJSON",function(c,u,m){if(Array.isArray(c))for(var d=0;d<c.length;d++)this.addFile(new h(this,c[d]));else this.addFile(new h(this,c,u,m));return this}),S.exports=h},25771:(S,P,a)=>{var w=a(83419),T=a(74099),g=a(95540),f=a(19550),h=a(41212),c=a(26430),u=a(78776),m=new w({Extends:c,initialize:function(p,v,x,y,_,E){var A,M;if(h(v)){var I=v;v=g(I,"key"),A=new f(p,{key:v,url:g(I,"textureURL"),extension:g(I,"textureExtension","png"),normalMap:g(I,"normalMap"),xhrSettings:g(I,"textureXhrSettings")}),M=new u(p,{key:v,url:g(I,"atlasURL"),extension:g(I,"atlasExtension","txt"),xhrSettings:g(I,"atlasXhrSettings")})}else A=new f(p,v,x,_),M=new u(p,v,y,E);c.call(this,p,"unityatlas",v,A.linkFile?[A,M,A.linkFile]:[A,M])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0];this.loader.textureManager.addUnityAtlas(d.key,d.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});T.register("unityAtlas",function(d,p,v,x,y){var _;if(Array.isArray(d))for(var E=0;E<d.length;E++)_=new m(this,d[E]),this.addFile(_.files);else _=new m(this,d,p,v,x,y),this.addFile(_.files);return this}),S.exports=m},33720:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(98356),c=a(95540),u=a(41212),m=new w({Extends:g,initialize:function(p,v,x,y){if(void 0===y&&(y=!1),u(v)){var _=v;v=c(_,"key"),x=c(_,"url",[]),y=c(_,"noAudio",!1)}var E=p.systems.game.device.video.getVideoURL(x);E||console.warn("VideoFile: No supported format for "+v),g.call(this,p,{type:"video",cache:p.cacheManager.video,extension:E.type,key:v,url:E.url,config:{noAudio:y}})},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=h(this,this.loader.baseURL),this.state=T.FILE_LOADED,this.loader.nextFile(this,!0)}});f.register("video",function(d,p,v){if(Array.isArray(d))for(var x=0;x<d.length;x++)this.addFile(new m(this,d[x]));else this.addFile(new m(this,d,p,v));return this}),S.exports=m},57318:(S,P,a)=>{var w=a(83419),T=a(23906),g=a(41299),f=a(74099),h=a(95540),c=a(41212),u=a(56836),m=new w({Extends:g,initialize:function(p,v,x,y){var _="xml";if(c(v)){var E=v;v=h(E,"key"),x=h(E,"url"),y=h(E,"xhrSettings"),_=h(E,"extension",_)}g.call(this,p,{type:"xml",cache:p.cacheManager.xml,extension:_,responseType:"text",key:v,url:x,xhrSettings:y})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=u(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});f.register("xml",function(d,p,v){if(Array.isArray(d))for(var x=0;x<d.length;x++)this.addFile(new m(this,d[x]));else this.addFile(new m(this,d,p,v));return this}),S.exports=m},64589:(S,P,a)=>{S.exports={AnimationJSONFile:a(14135),AsepriteFile:a(76272),AtlasJSONFile:a(38734),AtlasXMLFile:a(74599),AudioFile:a(21097),AudioSpriteFile:a(89524),BinaryFile:a(85722),BitmapFontFile:a(97025),CompressedTextureFile:a(69559),CSSFile:a(16024),FontFile:a(87674),GLSLFile:a(47931),HTML5AudioFile:a(89749),HTMLFile:a(88470),HTMLTextureFile:a(14643),ImageFile:a(19550),JSONFile:a(518),MultiAtlasFile:a(59327),MultiScriptFile:a(99297),OBJFile:a(41846),PackFile:a(58610),PluginFile:a(48988),SceneFile:a(88423),ScenePluginFile:a(56812),ScriptFile:a(34328),SpriteSheetFile:a(85035),SVGFile:a(67397),TextFile:a(78776),TilemapCSVFile:a(49477),TilemapImpactFile:a(40807),TilemapJSONFile:a(56775),UnityAtlasFile:a(25771),VideoFile:a(33720),XMLFile:a(57318)}},57777:(S,P,a)=>{var w=a(23906),T=a(79291),g={Events:a(54899),FileTypes:a(64589),File:a(41299),FileTypesManager:a(74099),GetURL:a(98356),LoaderPlugin:a(74261),MergeXHRSettings:a(3374),MultiFile:a(26430),XHRLoader:a(84376),XHRSettings:a(92638)};g=T(!1,g,w),S.exports=g},53307:S=>{S.exports=function(a){for(var w=0,T=0;T<a.length;T++)w+=+a[T];return w/a.length}},85710:(S,P,a)=>{var w=a(6411);S.exports=function(g,f){return w(g)/w(f)/w(g-f)}},30976:S=>{S.exports=function(a,w){return Math.floor(Math.random()*(w-a+1)+a)}},87842:S=>{S.exports=function(a,w,T,g,f){var h=.5*(g-w),c=.5*(f-T),u=a*a;return(2*T-2*g+h+c)*(a*u)+(-3*T+3*g-2*h-c)*u+h*a+T}},26302:S=>{S.exports=function(a,w,T){void 0===w&&(w=0),void 0===T&&(T=10);var g=Math.pow(T,-w);return Math.ceil(a*g)/g}},45319:S=>{S.exports=function(a,w,T){return Math.max(w,Math.min(T,a))}},39506:(S,P,a)=>{var w=a(36383);S.exports=function(g){return g*w.DEG_TO_RAD}},61241:S=>{S.exports=function(a,w){return Math.abs(a-w)}},38857:(S,P,a)=>{var w=a(45319),T=a(83419),g=a(37867),f=a(29747),h=new g,c=new T({initialize:function u(m,d,p,v){void 0===m&&(m=0),void 0===d&&(d=0),void 0===p&&(p=0),void 0===v&&(v=u.DefaultOrder),this._x=m,this._y=d,this._z=p,this._order=v,this.onChangeCallback=f},x:{get:function(){return this._x},set:function(u){this._x=u,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(u){this._y=u,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(u){this._z=u,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(u){this._order=u,this.onChangeCallback(this)}},set:function(u,m,d,p){return void 0===p&&(p=this._order),this._x=u,this._y=m,this._z=d,this._order=p,this.onChangeCallback(this),this},copy:function(u){return this.set(u.x,u.y,u.z,u.order)},setFromQuaternion:function(u,m,d){return void 0===m&&(m=this._order),void 0===d&&(d=!1),h.fromQuat(u),this.setFromRotationMatrix(h,m,d)},setFromRotationMatrix:function(u,m,d){void 0===m&&(m=this._order),void 0===d&&(d=!1);var p=u.val,v=p[0],x=p[4],y=p[8],_=p[1],E=p[5],A=p[9],M=p[2],I=p[6],k=p[10],F=0,N=0,V=0,B=.99999;switch(m){case"XYZ":N=Math.asin(w(y,-1,1)),Math.abs(y)<B?(F=Math.atan2(-A,k),V=Math.atan2(-x,v)):F=Math.atan2(I,E);break;case"YXZ":F=Math.asin(-w(A,-1,1)),Math.abs(A)<B?(N=Math.atan2(y,k),V=Math.atan2(_,E)):N=Math.atan2(-M,v);break;case"ZXY":F=Math.asin(w(I,-1,1)),Math.abs(I)<B?(N=Math.atan2(-M,k),V=Math.atan2(-x,E)):V=Math.atan2(_,v);break;case"ZYX":N=Math.asin(-w(M,-1,1)),Math.abs(M)<B?(F=Math.atan2(I,k),V=Math.atan2(_,v)):V=Math.atan2(-x,E);break;case"YZX":V=Math.asin(w(_,-1,1)),Math.abs(_)<B?(F=Math.atan2(-A,E),N=Math.atan2(-M,v)):N=Math.atan2(y,k);break;case"XZY":V=Math.asin(-w(x,-1,1)),Math.abs(x)<B?(F=Math.atan2(I,E),N=Math.atan2(y,v)):F=Math.atan2(-A,k)}return this._x=F,this._y=N,this._z=V,this._order=m,d&&this.onChangeCallback(this),this}});c.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],c.DefaultOrder="XYZ",S.exports=c},6411:S=>{S.exports=function(a){if(0===a)return 1;for(var w=a;--a;)w*=a;return w}},99472:S=>{S.exports=function(a,w){return Math.random()*(w-a)+a}},77623:S=>{S.exports=function(a,w,T){void 0===w&&(w=0),void 0===T&&(T=10);var g=Math.pow(T,-w);return Math.floor(a*g)/g}},62945:(S,P,a)=>{var w=a(45319);S.exports=function(g,f,h){return(h-f)*(g=w(g,0,1))+f}},38265:S=>{S.exports=function(a,w){return a/w/1e3}},78702:S=>{S.exports=function(a){return a==parseFloat(a)?!(a%2):void 0}},94883:S=>{S.exports=function(a){return a===parseFloat(a)?!(a%2):void 0}},28915:S=>{S.exports=function(a,w,T){return(w-a)*T+a}},94908:S=>{S.exports=function(a,w,T){return void 0===T&&(T=0),a.clone().lerp(w,T)}},94434:(S,P,a)=>{var T=new(a(83419))({initialize:function(f){this.val=new Float32Array(9),f?this.copy(f):this.identity()},clone:function(){return new T(this)},set:function(g){return this.copy(g)},copy:function(g){var f=this.val,h=g.val;return f[0]=h[0],f[1]=h[1],f[2]=h[2],f[3]=h[3],f[4]=h[4],f[5]=h[5],f[6]=h[6],f[7]=h[7],f[8]=h[8],this},fromMat4:function(g){var f=g.val,h=this.val;return h[0]=f[0],h[1]=f[1],h[2]=f[2],h[3]=f[4],h[4]=f[5],h[5]=f[6],h[6]=f[8],h[7]=f[9],h[8]=f[10],this},fromArray:function(g){var f=this.val;return f[0]=g[0],f[1]=g[1],f[2]=g[2],f[3]=g[3],f[4]=g[4],f[5]=g[5],f[6]=g[6],f[7]=g[7],f[8]=g[8],this},identity:function(){var g=this.val;return g[0]=1,g[1]=0,g[2]=0,g[3]=0,g[4]=1,g[5]=0,g[6]=0,g[7]=0,g[8]=1,this},transpose:function(){var g=this.val,f=g[1],h=g[2],c=g[5];return g[1]=g[3],g[2]=g[6],g[3]=f,g[5]=g[7],g[6]=h,g[7]=c,this},invert:function(){var g=this.val,f=g[0],h=g[1],c=g[2],u=g[3],m=g[4],d=g[5],p=g[6],v=g[7],x=g[8],y=x*m-d*v,_=-x*u+d*p,E=v*u-m*p,A=f*y+h*_+c*E;return A?(g[0]=y*(A=1/A),g[1]=(-x*h+c*v)*A,g[2]=(d*h-c*m)*A,g[3]=_*A,g[4]=(x*f-c*p)*A,g[5]=(-d*f+c*u)*A,g[6]=E*A,g[7]=(-v*f+h*p)*A,g[8]=(m*f-h*u)*A,this):null},adjoint:function(){var g=this.val,f=g[0],h=g[1],c=g[2],u=g[3],m=g[4],d=g[5],p=g[6],v=g[7],x=g[8];return g[0]=m*x-d*v,g[1]=c*v-h*x,g[2]=h*d-c*m,g[3]=d*p-u*x,g[4]=f*x-c*p,g[5]=c*u-f*d,g[6]=u*v-m*p,g[7]=h*p-f*v,g[8]=f*m-h*u,this},determinant:function(){var g=this.val,u=g[3],m=g[4],d=g[5],p=g[6],v=g[7],x=g[8];return g[0]*(x*m-d*v)+g[1]*(-x*u+d*p)+g[2]*(v*u-m*p)},multiply:function(g){var f=this.val,h=f[0],c=f[1],u=f[2],m=f[3],d=f[4],p=f[5],v=f[6],x=f[7],y=f[8],_=g.val,E=_[0],A=_[1],M=_[2],I=_[3],k=_[4],F=_[5],N=_[6],V=_[7],B=_[8];return f[0]=E*h+A*m+M*v,f[1]=E*c+A*d+M*x,f[2]=E*u+A*p+M*y,f[3]=I*h+k*m+F*v,f[4]=I*c+k*d+F*x,f[5]=I*u+k*p+F*y,f[6]=N*h+V*m+B*v,f[7]=N*c+V*d+B*x,f[8]=N*u+V*p+B*y,this},translate:function(g){var f=this.val,h=g.x,c=g.y;return f[6]=h*f[0]+c*f[3]+f[6],f[7]=h*f[1]+c*f[4]+f[7],f[8]=h*f[2]+c*f[5]+f[8],this},rotate:function(g){var f=this.val,h=f[0],c=f[1],u=f[2],m=f[3],d=f[4],p=f[5],v=Math.sin(g),x=Math.cos(g);return f[0]=x*h+v*m,f[1]=x*c+v*d,f[2]=x*u+v*p,f[3]=x*m-v*h,f[4]=x*d-v*c,f[5]=x*p-v*u,this},scale:function(g){var f=this.val,h=g.x,c=g.y;return f[0]=h*f[0],f[1]=h*f[1],f[2]=h*f[2],f[3]=c*f[3],f[4]=c*f[4],f[5]=c*f[5],this},fromQuat:function(g){var f=g.x,h=g.y,c=g.z,u=g.w,m=f+f,d=h+h,p=c+c,v=f*m,x=f*d,y=f*p,_=h*d,E=h*p,A=c*p,M=u*m,I=u*d,k=u*p,F=this.val;return F[0]=1-(_+A),F[3]=x+k,F[6]=y-I,F[1]=x-k,F[4]=1-(v+A),F[7]=E+M,F[2]=y+I,F[5]=E-M,F[8]=1-(v+_),this},normalFromMat4:function(g){var f=g.val,h=this.val,c=f[0],u=f[1],m=f[2],d=f[3],p=f[4],v=f[5],x=f[6],y=f[7],_=f[8],E=f[9],A=f[10],M=f[11],I=f[12],k=f[13],F=f[14],N=f[15],V=c*v-u*p,B=c*x-m*p,H=c*y-d*p,Q=u*x-m*v,G=u*y-d*v,K=m*y-d*x,tt=_*k-E*I,at=_*F-A*I,lt=_*N-M*I,J=E*F-A*k,it=E*N-M*k,Y=A*N-M*F,j=V*Y-B*it+H*J+Q*lt-G*at+K*tt;return j?(h[0]=(v*Y-x*it+y*J)*(j=1/j),h[1]=(x*lt-p*Y-y*at)*j,h[2]=(p*it-v*lt+y*tt)*j,h[3]=(m*it-u*Y-d*J)*j,h[4]=(c*Y-m*lt+d*at)*j,h[5]=(u*lt-c*it-d*tt)*j,h[6]=(k*K-F*G+N*Q)*j,h[7]=(F*H-I*K-N*B)*j,h[8]=(I*G-k*H+N*V)*j,this):null}});S.exports=T},37867:(S,P,a)=>{var w=a(83419),T=a(25836),g=1e-6,f=new w({initialize:function(v){this.val=new Float32Array(16),v?this.copy(v):this.identity()},clone:function(){return new f(this)},set:function(p){return this.copy(p)},setValues:function(p,v,x,y,_,E,A,M,I,k,F,N,V,B,H,Q){var G=this.val;return G[0]=p,G[1]=v,G[2]=x,G[3]=y,G[4]=_,G[5]=E,G[6]=A,G[7]=M,G[8]=I,G[9]=k,G[10]=F,G[11]=N,G[12]=V,G[13]=B,G[14]=H,G[15]=Q,this},copy:function(p){var v=p.val;return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},fromArray:function(p){return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(p,v,x){var _=h.fromQuat(x).val,E=v.x,A=v.y,M=v.z;return this.setValues(_[0]*E,_[1]*E,_[2]*E,0,_[4]*A,_[5]*A,_[6]*A,0,_[8]*M,_[9]*M,_[10]*M,0,p.x,p.y,p.z,1)},xyz:function(p,v,x){this.identity();var y=this.val;return y[12]=p,y[13]=v,y[14]=x,this},scaling:function(p,v,x){this.zero();var y=this.val;return y[0]=p,y[5]=v,y[10]=x,y[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var p=this.val,v=p[1],x=p[2],y=p[3],_=p[6],E=p[7],A=p[11];return p[1]=p[4],p[2]=p[8],p[3]=p[12],p[4]=v,p[6]=p[9],p[7]=p[13],p[8]=x,p[9]=_,p[11]=p[14],p[12]=y,p[13]=E,p[14]=A,this},getInverse:function(p){return this.copy(p),this.invert()},invert:function(){var p=this.val,v=p[0],x=p[1],y=p[2],_=p[3],E=p[4],A=p[5],M=p[6],I=p[7],k=p[8],F=p[9],N=p[10],V=p[11],B=p[12],H=p[13],Q=p[14],G=p[15],K=v*A-x*E,tt=v*M-y*E,at=v*I-_*E,lt=x*M-y*A,J=x*I-_*A,it=y*I-_*M,Y=k*H-F*B,j=k*Q-N*B,nt=k*G-V*B,ht=F*Q-N*H,gt=F*G-V*H,wt=N*G-V*Q,St=K*wt-tt*gt+at*ht+lt*nt-J*j+it*Y;return St?this.setValues((A*wt-M*gt+I*ht)*(St=1/St),(y*gt-x*wt-_*ht)*St,(H*it-Q*J+G*lt)*St,(N*J-F*it-V*lt)*St,(M*nt-E*wt-I*j)*St,(v*wt-y*nt+_*j)*St,(Q*at-B*it-G*tt)*St,(k*it-N*at+V*tt)*St,(E*gt-A*nt+I*Y)*St,(x*nt-v*gt-_*Y)*St,(B*J-H*at+G*K)*St,(F*at-k*J-V*K)*St,(A*j-E*ht-M*Y)*St,(v*ht-x*j+y*Y)*St,(H*tt-B*lt-Q*K)*St,(k*lt-F*tt+N*K)*St):this},adjoint:function(){var p=this.val,v=p[0],x=p[1],y=p[2],_=p[3],E=p[4],A=p[5],M=p[6],I=p[7],k=p[8],F=p[9],N=p[10],V=p[11],B=p[12],H=p[13],Q=p[14],G=p[15];return this.setValues(A*(N*G-V*Q)-F*(M*G-I*Q)+H*(M*V-I*N),-(x*(N*G-V*Q)-F*(y*G-_*Q)+H*(y*V-_*N)),x*(M*G-I*Q)-A*(y*G-_*Q)+H*(y*I-_*M),-(x*(M*V-I*N)-A*(y*V-_*N)+F*(y*I-_*M)),-(E*(N*G-V*Q)-k*(M*G-I*Q)+B*(M*V-I*N)),v*(N*G-V*Q)-k*(y*G-_*Q)+B*(y*V-_*N),-(v*(M*G-I*Q)-E*(y*G-_*Q)+B*(y*I-_*M)),v*(M*V-I*N)-E*(y*V-_*N)+k*(y*I-_*M),E*(F*G-V*H)-k*(A*G-I*H)+B*(A*V-I*F),-(v*(F*G-V*H)-k*(x*G-_*H)+B*(x*V-_*F)),v*(A*G-I*H)-E*(x*G-_*H)+B*(x*I-_*A),-(v*(A*V-I*F)-E*(x*V-_*F)+k*(x*I-_*A)),-(E*(F*Q-N*H)-k*(A*Q-M*H)+B*(A*N-M*F)),v*(F*Q-N*H)-k*(x*Q-y*H)+B*(x*N-y*F),-(v*(A*Q-M*H)-E*(x*Q-y*H)+B*(x*M-y*A)),v*(A*N-M*F)-E*(x*N-y*F)+k*(x*M-y*A))},determinant:function(){var p=this.val,v=p[0],x=p[1],y=p[2],_=p[3],E=p[4],A=p[5],M=p[6],I=p[7],k=p[8],F=p[9],N=p[10],V=p[11],B=p[12],H=p[13],Q=p[14],G=p[15];return(v*A-x*E)*(N*G-V*Q)-(v*M-y*E)*(F*G-V*H)+(v*I-_*E)*(F*Q-N*H)+(x*M-y*A)*(k*G-V*B)-(x*I-_*A)*(k*Q-N*B)+(y*I-_*M)*(k*H-F*B)},multiply:function(p){var v=this.val,x=v[0],y=v[1],_=v[2],E=v[3],A=v[4],M=v[5],I=v[6],k=v[7],F=v[8],N=v[9],V=v[10],B=v[11],H=v[12],Q=v[13],G=v[14],K=v[15],tt=p.val,at=tt[0],lt=tt[1],J=tt[2],it=tt[3];return v[0]=at*x+lt*A+J*F+it*H,v[1]=at*y+lt*M+J*N+it*Q,v[2]=at*_+lt*I+J*V+it*G,v[3]=at*E+lt*k+J*B+it*K,v[4]=(at=tt[4])*x+(lt=tt[5])*A+(J=tt[6])*F+(it=tt[7])*H,v[5]=at*y+lt*M+J*N+it*Q,v[6]=at*_+lt*I+J*V+it*G,v[7]=at*E+lt*k+J*B+it*K,v[8]=(at=tt[8])*x+(lt=tt[9])*A+(J=tt[10])*F+(it=tt[11])*H,v[9]=at*y+lt*M+J*N+it*Q,v[10]=at*_+lt*I+J*V+it*G,v[11]=at*E+lt*k+J*B+it*K,v[12]=(at=tt[12])*x+(lt=tt[13])*A+(J=tt[14])*F+(it=tt[15])*H,v[13]=at*y+lt*M+J*N+it*Q,v[14]=at*_+lt*I+J*V+it*G,v[15]=at*E+lt*k+J*B+it*K,this},multiplyLocal:function(p){var v=this.val,x=p.val;return this.setValues(v[0]*x[0]+v[1]*x[4]+v[2]*x[8]+v[3]*x[12],v[0]*x[1]+v[1]*x[5]+v[2]*x[9]+v[3]*x[13],v[0]*x[2]+v[1]*x[6]+v[2]*x[10]+v[3]*x[14],v[0]*x[3]+v[1]*x[7]+v[2]*x[11]+v[3]*x[15],v[4]*x[0]+v[5]*x[4]+v[6]*x[8]+v[7]*x[12],v[4]*x[1]+v[5]*x[5]+v[6]*x[9]+v[7]*x[13],v[4]*x[2]+v[5]*x[6]+v[6]*x[10]+v[7]*x[14],v[4]*x[3]+v[5]*x[7]+v[6]*x[11]+v[7]*x[15],v[8]*x[0]+v[9]*x[4]+v[10]*x[8]+v[11]*x[12],v[8]*x[1]+v[9]*x[5]+v[10]*x[9]+v[11]*x[13],v[8]*x[2]+v[9]*x[6]+v[10]*x[10]+v[11]*x[14],v[8]*x[3]+v[9]*x[7]+v[10]*x[11]+v[11]*x[15],v[12]*x[0]+v[13]*x[4]+v[14]*x[8]+v[15]*x[12],v[12]*x[1]+v[13]*x[5]+v[14]*x[9]+v[15]*x[13],v[12]*x[2]+v[13]*x[6]+v[14]*x[10]+v[15]*x[14],v[12]*x[3]+v[13]*x[7]+v[14]*x[11]+v[15]*x[15])},premultiply:function(p){return this.multiplyMatrices(p,this)},multiplyMatrices:function(p,v){var x=p.val,y=v.val,_=x[0],E=x[4],A=x[8],M=x[12],I=x[1],k=x[5],F=x[9],N=x[13],V=x[2],B=x[6],H=x[10],Q=x[14],G=x[3],K=x[7],tt=x[11],at=x[15],lt=y[0],J=y[4],it=y[8],Y=y[12],j=y[1],nt=y[5],ht=y[9],gt=y[13],wt=y[2],St=y[6],Bt=y[10],Yt=y[14],$t=y[3],qt=y[7],ne=y[11],le=y[15];return this.setValues(_*lt+E*j+A*wt+M*$t,I*lt+k*j+F*wt+N*$t,V*lt+B*j+H*wt+Q*$t,G*lt+K*j+tt*wt+at*$t,_*J+E*nt+A*St+M*qt,I*J+k*nt+F*St+N*qt,V*J+B*nt+H*St+Q*qt,G*J+K*nt+tt*St+at*qt,_*it+E*ht+A*Bt+M*ne,I*it+k*ht+F*Bt+N*ne,V*it+B*ht+H*Bt+Q*ne,G*it+K*ht+tt*Bt+at*ne,_*Y+E*gt+A*Yt+M*le,I*Y+k*gt+F*Yt+N*le,V*Y+B*gt+H*Yt+Q*le,G*Y+K*gt+tt*Yt+at*le)},translate:function(p){return this.translateXYZ(p.x,p.y,p.z)},translateXYZ:function(p,v,x){var y=this.val;return y[12]=y[0]*p+y[4]*v+y[8]*x+y[12],y[13]=y[1]*p+y[5]*v+y[9]*x+y[13],y[14]=y[2]*p+y[6]*v+y[10]*x+y[14],y[15]=y[3]*p+y[7]*v+y[11]*x+y[15],this},scale:function(p){return this.scaleXYZ(p.x,p.y,p.z)},scaleXYZ:function(p,v,x){var y=this.val;return y[0]=y[0]*p,y[1]=y[1]*p,y[2]=y[2]*p,y[3]=y[3]*p,y[4]=y[4]*v,y[5]=y[5]*v,y[6]=y[6]*v,y[7]=y[7]*v,y[8]=y[8]*x,y[9]=y[9]*x,y[10]=y[10]*x,y[11]=y[11]*x,this},makeRotationAxis:function(p,v){var x=Math.cos(v),y=Math.sin(v),_=1-x,E=p.x,A=p.y,M=p.z,I=_*E,k=_*A;return this.setValues(I*E+x,I*A-y*M,I*M+y*A,0,I*A+y*M,k*A+x,k*M-y*E,0,I*M-y*A,k*M+y*E,_*M*M+x,0,0,0,0,1)},rotate:function(p,v){var x=this.val,y=v.x,_=v.y,E=v.z,A=Math.sqrt(y*y+_*_+E*E);if(Math.abs(A)<g)return this;y*=A=1/A,_*=A,E*=A;var M=Math.sin(p),I=Math.cos(p),k=1-I,F=x[0],N=x[1],V=x[2],B=x[3],H=x[4],Q=x[5],G=x[6],K=x[7],tt=x[8],at=x[9],lt=x[10],J=x[11],ht=y*y*k+I,gt=_*y*k+E*M,wt=E*y*k-_*M,St=y*_*k-E*M,Bt=_*_*k+I,Yt=E*_*k+y*M,$t=y*E*k+_*M,qt=_*E*k-y*M,ne=E*E*k+I;return this.setValues(F*ht+H*gt+tt*wt,N*ht+Q*gt+at*wt,V*ht+G*gt+lt*wt,B*ht+K*gt+J*wt,F*St+H*Bt+tt*Yt,N*St+Q*Bt+at*Yt,V*St+G*Bt+lt*Yt,B*St+K*Bt+J*Yt,F*$t+H*qt+tt*ne,N*$t+Q*qt+at*ne,V*$t+G*qt+lt*ne,B*$t+K*qt+J*ne,x[12],x[13],x[14],x[15])},rotateX:function(p){var v=this.val,x=Math.sin(p),y=Math.cos(p),_=v[4],E=v[5],A=v[6],M=v[7],I=v[8],k=v[9],F=v[10],N=v[11];return v[4]=_*y+I*x,v[5]=E*y+k*x,v[6]=A*y+F*x,v[7]=M*y+N*x,v[8]=I*y-_*x,v[9]=k*y-E*x,v[10]=F*y-A*x,v[11]=N*y-M*x,this},rotateY:function(p){var v=this.val,x=Math.sin(p),y=Math.cos(p),_=v[0],E=v[1],A=v[2],M=v[3],I=v[8],k=v[9],F=v[10],N=v[11];return v[0]=_*y-I*x,v[1]=E*y-k*x,v[2]=A*y-F*x,v[3]=M*y-N*x,v[8]=_*x+I*y,v[9]=E*x+k*y,v[10]=A*x+F*y,v[11]=M*x+N*y,this},rotateZ:function(p){var v=this.val,x=Math.sin(p),y=Math.cos(p),_=v[0],E=v[1],A=v[2],M=v[3],I=v[4],k=v[5],F=v[6],N=v[7];return v[0]=_*y+I*x,v[1]=E*y+k*x,v[2]=A*y+F*x,v[3]=M*y+N*x,v[4]=I*y-_*x,v[5]=k*y-E*x,v[6]=F*y-A*x,v[7]=N*y-M*x,this},fromRotationTranslation:function(p,v){var x=p.x,y=p.y,_=p.z,E=p.w,A=x+x,M=y+y,I=_+_,k=x*A,F=x*M,N=x*I,V=y*M,B=y*I,H=_*I,Q=E*A,G=E*M,K=E*I;return this.setValues(1-(V+H),F+K,N-G,0,F-K,1-(k+H),B+Q,0,N+G,B-Q,1-(k+V),0,v.x,v.y,v.z,1)},fromQuat:function(p){var v=p.x,x=p.y,y=p.z,_=p.w,E=v+v,A=x+x,M=y+y,I=v*E,k=v*A,F=v*M,N=x*A,V=x*M,B=y*M,H=_*E,Q=_*A,G=_*M;return this.setValues(1-(N+B),k+G,F-Q,0,k-G,1-(I+B),V+H,0,F+Q,V-H,1-(I+N),0,0,0,0,1)},frustum:function(p,v,x,y,_,E){var A=1/(v-p),M=1/(y-x),I=1/(_-E);return this.setValues(2*_*A,0,0,0,0,2*_*M,0,0,(v+p)*A,(y+x)*M,(E+_)*I,-1,0,0,E*_*2*I,0)},perspective:function(p,v,x,y){var _=1/Math.tan(p/2),E=1/(x-y);return this.setValues(_/v,0,0,0,0,_,0,0,0,0,(y+x)*E,-1,0,0,2*y*x*E,0)},perspectiveLH:function(p,v,x,y){return this.setValues(2*x/p,0,0,0,0,2*x/v,0,0,0,0,-y/(x-y),1,0,0,x*y/(x-y),0)},ortho:function(p,v,x,y,_,E){var A=p-v,M=x-y,I=_-E;return this.setValues(-2*(A=0===A?A:1/A),0,0,0,0,-2*(M=0===M?M:1/M),0,0,0,0,2*(I=0===I?I:1/I),0,(p+v)*A,(y+x)*M,(E+_)*I,1)},lookAtRH:function(p,v,x){var y=this.val;return d.subVectors(p,v),0===d.lengthSq()&&(d.z=1),d.normalize(),u.crossVectors(x,d),0===u.lengthSq()&&(1===Math.abs(x.z)?d.x+=1e-4:d.z+=1e-4,d.normalize(),u.crossVectors(x,d)),u.normalize(),m.crossVectors(d,u),y[0]=u.x,y[1]=u.y,y[2]=u.z,y[4]=m.x,y[5]=m.y,y[6]=m.z,y[8]=d.x,y[9]=d.y,y[10]=d.z,this},lookAt:function(p,v,x){var y=p.x,_=p.y,E=p.z,A=x.x,M=x.y,I=x.z,k=v.x,F=v.y,N=v.z;if(Math.abs(y-k)<g&&Math.abs(_-F)<g&&Math.abs(E-N)<g)return this.identity();var V=y-k,B=_-F,H=E-N,Q=1/Math.sqrt(V*V+B*B+H*H),G=M*(H*=Q)-I*(B*=Q),K=I*(V*=Q)-A*H,tt=A*B-M*V;(Q=Math.sqrt(G*G+K*K+tt*tt))?(G*=Q=1/Q,K*=Q,tt*=Q):(G=0,K=0,tt=0);var at=B*tt-H*K,lt=H*G-V*tt,J=V*K-B*G;return(Q=Math.sqrt(at*at+lt*lt+J*J))?(at*=Q=1/Q,lt*=Q,J*=Q):(at=0,lt=0,J=0),this.setValues(G,at,V,0,K,lt,B,0,tt,J,H,0,-(G*y+K*_+tt*E),-(at*y+lt*_+J*E),-(V*y+B*_+H*E),1)},yawPitchRoll:function(p,v,x){this.zero(),h.zero(),c.zero();var y=this.val,_=h.val,E=c.val,A=Math.sin(x),M=Math.cos(x);return y[10]=1,y[15]=1,y[0]=M,y[1]=A,y[4]=-A,y[5]=M,A=Math.sin(v),M=Math.cos(v),_[0]=1,_[15]=1,_[5]=M,_[10]=M,_[9]=-A,_[6]=A,A=Math.sin(p),M=Math.cos(p),E[5]=1,E[15]=1,E[0]=M,E[2]=-A,E[8]=A,E[10]=M,this.multiplyLocal(h),this.multiplyLocal(c),this},setWorldMatrix:function(p,v,x,y,_){return this.yawPitchRoll(p.y,p.x,p.z),h.scaling(x.x,x.y,x.z),c.xyz(v.x,v.y,v.z),this.multiplyLocal(h),this.multiplyLocal(c),y&&this.multiplyLocal(y),_&&this.multiplyLocal(_),this},multiplyToMat4:function(p,v){var x=this.val,y=p.val,_=x[0],E=x[1],A=x[2],M=x[3],I=x[4],k=x[5],F=x[6],N=x[7],V=x[8],B=x[9],H=x[10],Q=x[11],G=x[12],K=x[13],tt=x[14],at=x[15],J=y[1],it=y[2],Y=y[3],j=y[4],nt=y[5],ht=y[6],gt=y[7],wt=y[8],St=y[9],Bt=y[10],Yt=y[11],$t=y[12],qt=y[13],ne=y[14],le=y[15];return v.setValues(y[0]*_+J*I+it*V+Y*G,J*E+J*k+it*B+Y*K,it*A+J*F+it*H+Y*tt,Y*M+J*N+it*Q+Y*at,j*_+nt*I+ht*V+gt*G,j*E+nt*k+ht*B+gt*K,j*A+nt*F+ht*H+gt*tt,j*M+nt*N+ht*Q+gt*at,wt*_+St*I+Bt*V+Yt*G,wt*E+St*k+Bt*B+Yt*K,wt*A+St*F+Bt*H+Yt*tt,wt*M+St*N+Bt*Q+Yt*at,$t*_+qt*I+ne*V+le*G,$t*E+qt*k+ne*B+le*K,$t*A+qt*F+ne*H+le*tt,$t*M+qt*N+ne*Q+le*at)},fromRotationXYTranslation:function(p,v,x){var y=v.x,_=v.y,E=v.z,A=Math.sin(p.x),M=Math.cos(p.x),I=Math.sin(p.y),k=Math.cos(p.y),F=y,N=_,V=E,B=-A,H=0-B*I,Q=0-M*I,G=B*k,K=M*k;return x||(F=k*y+I*E,N=H*y+M*_+G*E,V=Q*y+A*_+K*E),this.setValues(k,H,Q,0,0,M,A,0,I,G,K,0,F,N,V,1)},getMaxScaleOnAxis:function(){var p=this.val;return Math.sqrt(Math.max(p[0]*p[0]+p[1]*p[1]+p[2]*p[2],p[4]*p[4]+p[5]*p[5]+p[6]*p[6],p[8]*p[8]+p[9]*p[9]+p[10]*p[10]))}}),h=new f,c=new f,u=new T,m=new T,d=new T;S.exports=f},86883:S=>{S.exports=function(a,w,T){return Math.min(a+w,T)}},50040:S=>{S.exports=function(a){var w=a.length;if(0===w)return 0;a.sort(function(g,f){return g-f});var T=Math.floor(w/2);return w%2==0?(a[T]+a[T-1])/2:a[T]}},37204:S=>{S.exports=function(a,w,T){return Math.max(a-w,T)}},65201:S=>{S.exports=function(a,w,T,g){void 0===T&&(T=w+1);var f=(a-w)/(T-w);return f>1?void 0!==g?(f=(g-a)/(g-T))<0&&(f=0):f=1:f<0&&(f=0),f}},15746:(S,P,a)=>{var w=a(83419),T=a(94434),g=a(29747),f=a(25836),h=1e-6,c=new Int8Array([1,2,0]),u=new Float32Array([0,0,0]),m=new f(1,0,0),d=new f(0,1,0),p=new f,v=new T,x=new w({initialize:function(_,E,A,M){this.onChangeCallback=g,this.set(_,E,A,M)},x:{get:function(){return this._x},set:function(y){this._x=y,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(y){this._y=y,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(y){this._z=y,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(y){this._w=y,this.onChangeCallback(this)}},copy:function(y){return this.set(y)},set:function(y,_,E,A,M){return void 0===M&&(M=!0),"object"==typeof y?(this._x=y.x||0,this._y=y.y||0,this._z=y.z||0,this._w=y.w||0):(this._x=y||0,this._y=_||0,this._z=E||0,this._w=A||0),M&&this.onChangeCallback(this),this},add:function(y){return this._x+=y.x,this._y+=y.y,this._z+=y.z,this._w+=y.w,this.onChangeCallback(this),this},subtract:function(y){return this._x-=y.x,this._y-=y.y,this._z-=y.z,this._w-=y.w,this.onChangeCallback(this),this},scale:function(y){return this._x*=y,this._y*=y,this._z*=y,this._w*=y,this.onChangeCallback(this),this},length:function(){var y=this.x,_=this.y,E=this.z,A=this.w;return Math.sqrt(y*y+_*_+E*E+A*A)},lengthSq:function(){var y=this.x,_=this.y,E=this.z,A=this.w;return y*y+_*_+E*E+A*A},normalize:function(){var y=this.x,_=this.y,E=this.z,A=this.w,M=y*y+_*_+E*E+A*A;return M>0&&(M=1/Math.sqrt(M),this._x=y*M,this._y=_*M,this._z=E*M,this._w=A*M),this.onChangeCallback(this),this},dot:function(y){return this.x*y.x+this.y*y.y+this.z*y.z+this.w*y.w},lerp:function(y,_){void 0===_&&(_=0);var E=this.x,A=this.y,M=this.z,I=this.w;return this.set(E+_*(y.x-E),A+_*(y.y-A),M+_*(y.z-M),I+_*(y.w-I))},rotationTo:function(y,_){var E=y.x*_.x+y.y*_.y+y.z*_.z;return E<-.999999?(p.copy(m).cross(y).length()<h&&p.copy(d).cross(y),p.normalize(),this.setAxisAngle(p,Math.PI)):E>.999999?this.set(0,0,0,1):(p.copy(y).cross(_),this._x=p.x,this._y=p.y,this._z=p.z,this._w=1+E,this.normalize())},setAxes:function(y,_,E){var A=v.val;return A[0]=_.x,A[3]=_.y,A[6]=_.z,A[1]=E.x,A[4]=E.y,A[7]=E.z,A[2]=-y.x,A[5]=-y.y,A[8]=-y.z,this.fromMat3(v).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(y,_){_*=.5;var E=Math.sin(_);return this.set(E*y.x,E*y.y,E*y.z,Math.cos(_))},multiply:function(y){var _=this.x,E=this.y,A=this.z,M=this.w,I=y.x,k=y.y,F=y.z,N=y.w;return this.set(_*N+M*I+E*F-A*k,E*N+M*k+A*I-_*F,A*N+M*F+_*k-E*I,M*N-_*I-E*k-A*F)},slerp:function(y,_){var E=this.x,A=this.y,M=this.z,I=this.w,k=y.x,F=y.y,N=y.z,V=y.w,B=E*k+A*F+M*N+I*V;B<0&&(B=-B,k=-k,F=-F,N=-N,V=-V);var H=1-_,Q=_;if(1-B>h){var G=Math.acos(B),K=Math.sin(G);H=Math.sin((1-_)*G)/K,Q=Math.sin(_*G)/K}return this.set(H*E+Q*k,H*A+Q*F,H*M+Q*N,H*I+Q*V)},invert:function(){var y=this.x,_=this.y,E=this.z,A=this.w,M=y*y+_*_+E*E+A*A,I=M?1/M:0;return this.set(-y*I,-_*I,-E*I,A*I)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(y){y*=.5;var _=this.x,E=this.y,A=this.z,M=this.w,I=Math.sin(y),k=Math.cos(y);return this.set(_*k+M*I,E*k+A*I,A*k-E*I,M*k-_*I)},rotateY:function(y){y*=.5;var _=this.x,E=this.y,A=this.z,M=this.w,I=Math.sin(y),k=Math.cos(y);return this.set(_*k-A*I,E*k+M*I,A*k+_*I,M*k-E*I)},rotateZ:function(y){y*=.5;var _=this.x,E=this.y,A=this.z,M=this.w,I=Math.sin(y),k=Math.cos(y);return this.set(_*k+E*I,E*k-_*I,A*k+M*I,M*k-A*I)},calculateW:function(){var y=this.x,_=this.y,E=this.z;return this.w=-Math.sqrt(1-y*y-_*_-E*E),this},setFromEuler:function(y,_){var E=y.x/2,A=y.y/2,M=y.z/2,I=Math.cos(E),k=Math.cos(A),F=Math.cos(M),N=Math.sin(E),V=Math.sin(A),B=Math.sin(M);switch(y.order){case"XYZ":this.set(N*k*F+I*V*B,I*V*F-N*k*B,I*k*B+N*V*F,I*k*F-N*V*B,_);break;case"YXZ":this.set(N*k*F+I*V*B,I*V*F-N*k*B,I*k*B-N*V*F,I*k*F+N*V*B,_);break;case"ZXY":this.set(N*k*F-I*V*B,I*V*F+N*k*B,I*k*B+N*V*F,I*k*F-N*V*B,_);break;case"ZYX":this.set(N*k*F-I*V*B,I*V*F+N*k*B,I*k*B-N*V*F,I*k*F+N*V*B,_);break;case"YZX":this.set(N*k*F+I*V*B,I*V*F+N*k*B,I*k*B-N*V*F,I*k*F-N*V*B,_);break;case"XZY":this.set(N*k*F-I*V*B,I*V*F-N*k*B,I*k*B+N*V*F,I*k*F+N*V*B,_)}return this},setFromRotationMatrix:function(y){var Q,_=y.val,E=_[0],A=_[4],M=_[8],I=_[1],k=_[5],F=_[9],N=_[2],V=_[6],B=_[10],H=E+k+B;return H>0?(Q=.5/Math.sqrt(H+1),this.set((V-F)*Q,(M-N)*Q,(I-A)*Q,.25/Q)):E>k&&E>B?(Q=2*Math.sqrt(1+E-k-B),this.set(.25*Q,(A+I)/Q,(M+N)/Q,(V-F)/Q)):k>B?(Q=2*Math.sqrt(1+k-E-B),this.set((A+I)/Q,.25*Q,(F+V)/Q,(M-N)/Q)):(Q=2*Math.sqrt(1+B-E-k),this.set((M+N)/Q,(F+V)/Q,.25*Q,(I-A)/Q)),this},fromMat3:function(y){var A,_=y.val,E=_[0]+_[4]+_[8];if(E>0)A=Math.sqrt(E+1),this.w=.5*A,this._x=(_[7]-_[5])*(A=.5/A),this._y=(_[2]-_[6])*A,this._z=(_[3]-_[1])*A;else{var M=0;_[4]>_[0]&&(M=1),_[8]>_[3*M+M]&&(M=2);var I=c[M],k=c[I];A=Math.sqrt(_[3*M+M]-_[3*I+I]-_[3*k+k]+1),u[M]=.5*A,u[I]=(_[3*I+M]+_[3*M+I])*(A=.5/A),u[k]=(_[3*k+M]+_[3*M+k])*A,this._x=u[0],this._y=u[1],this._z=u[2],this._w=(_[3*k+I]-_[3*I+k])*A}return this.onChangeCallback(this),this}});S.exports=x},43396:(S,P,a)=>{var w=a(36383);S.exports=function(g){return g*w.RAD_TO_DEG}},74362:S=>{S.exports=function(a,w){void 0===w&&(w=1);var T=2*Math.random()*Math.PI;return a.x=Math.cos(T)*w,a.y=Math.sin(T)*w,a}},60706:S=>{S.exports=function(a,w){void 0===w&&(w=1);var T=2*Math.random()*Math.PI,g=2*Math.random()-1,f=Math.sqrt(1-g*g)*w;return a.x=Math.cos(T)*f,a.y=Math.sin(T)*f,a.z=g*w,a}},67421:S=>{S.exports=function(a,w){return void 0===w&&(w=1),a.x=(2*Math.random()-1)*w,a.y=(2*Math.random()-1)*w,a.z=(2*Math.random()-1)*w,a.w=(2*Math.random()-1)*w,a}},36305:S=>{S.exports=function(a,w){var T=a.x,g=a.y;return a.x=T*Math.cos(w)-g*Math.sin(w),a.y=T*Math.sin(w)+g*Math.cos(w),a}},11520:S=>{S.exports=function(a,w,T,g){var f=Math.cos(g),h=Math.sin(g),c=a.x-w,u=a.y-T;return a.x=c*f-u*h+w,a.y=c*h+u*f+T,a}},1163:S=>{S.exports=function(a,w,T,g,f){var h=g+Math.atan2(a.y-T,a.x-w);return a.x=w+f*Math.cos(h),a.y=T+f*Math.sin(h),a}},70336:S=>{S.exports=function(a,w,T,g,f){return a.x=w+f*Math.cos(g),a.y=T+f*Math.sin(g),a}},72678:(S,P,a)=>{var w=a(25836),T=a(37867),g=a(15746),f=new T,h=new g,c=new w;S.exports=function(m,d,p){return h.setAxisAngle(d,p),f.fromRotationTranslation(h,c.set(0,0,0)),m.transformMat4(f)}},2284:S=>{S.exports=function(a){return a>0?Math.ceil(a):Math.floor(a)}},41013:S=>{S.exports=function(a,w,T){void 0===w&&(w=0),void 0===T&&(T=10);var g=Math.pow(T,-w);return Math.round(a*g)/g}},16922:S=>{S.exports=function(a,w,T,g){void 0===w&&(w=1),void 0===T&&(T=1),void 0===g&&(g=1),g*=Math.PI/a;for(var f=[],h=[],c=0;c<a;c++)w+=(T-=w*g)*g,f[c]=T,h[c]=w;return{sin:h,cos:f,length:a}}},7602:S=>{S.exports=function(a,w,T){return a<=w?0:a>=T?1:(a=(a-w)/(T-w))*a*(3-2*a)}},54261:S=>{S.exports=function(a,w,T){return(a=Math.max(0,Math.min(1,(a-w)/(T-w))))*a*a*(a*(6*a-15)+10)}},44408:(S,P,a)=>{var w=a(26099);S.exports=function(g,f,h,c){void 0===c&&(c=new w);var u=0,m=0;return g>0&&g<=f*h&&(u=g>f-1?g-(m=Math.floor(g/f))*f:g),c.set(u,m)}},85955:(S,P,a)=>{var w=a(26099);S.exports=function(g,f,h,c,u,m,d,p){void 0===p&&(p=new w);var v=Math.sin(u),x=Math.cos(u),y=x*m,_=v*m,E=-v*d,A=x*d,M=1/(y*A+E*-_);return p.x=A*M*g+-E*M*f+(c*E-h*A)*M,p.y=y*M*f+-_*M*g+(-c*y+h*_)*M,p}},26099:(S,P,a)=>{var w=a(83419),T=a(43855),g=new w({initialize:function(h,c){this.x=0,this.y=0,"object"==typeof h?(this.x=h.x||0,this.y=h.y||0):(void 0===c&&(c=h),this.x=h||0,this.y=c||0)},clone:function(){return new g(this.x,this.y)},copy:function(f){return this.x=f.x||0,this.y=f.y||0,this},setFromObject:function(f){return this.x=f.x||0,this.y=f.y||0,this},set:function(f,h){return void 0===h&&(h=f),this.x=f,this.y=h,this},setTo:function(f,h){return this.set(f,h)},setToPolar:function(f,h){return null==h&&(h=1),this.x=Math.cos(f)*h,this.y=Math.sin(f)*h,this},equals:function(f){return this.x===f.x&&this.y===f.y},fuzzyEquals:function(f,h){return T(this.x,f.x,h)&&T(this.y,f.y,h)},angle:function(){var f=Math.atan2(this.y,this.x);return f<0&&(f+=2*Math.PI),f},setAngle:function(f){return this.setToPolar(f,this.length())},add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this},scale:function(f){return isFinite(f)?(this.x*=f,this.y*=f):(this.x=0,this.y=0),this},divide:function(f){return this.x/=f.x,this.y/=f.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(f){var h=f.x-this.x,c=f.y-this.y;return Math.sqrt(h*h+c*c)},distanceSq:function(f){var h=f.x-this.x,c=f.y-this.y;return h*h+c*c},length:function(){var f=this.x,h=this.y;return Math.sqrt(f*f+h*h)},setLength:function(f){return this.normalize().scale(f)},lengthSq:function(){var f=this.x,h=this.y;return f*f+h*h},normalize:function(){var f=this.x,h=this.y,c=f*f+h*h;return c>0&&(c=1/Math.sqrt(c),this.x=f*c,this.y=h*c),this},normalizeRightHand:function(){var f=this.x;return this.x=-1*this.y,this.y=f,this},normalizeLeftHand:function(){var f=this.x;return this.x=this.y,this.y=-1*f,this},dot:function(f){return this.x*f.x+this.y*f.y},cross:function(f){return this.x*f.y-this.y*f.x},lerp:function(f,h){void 0===h&&(h=0);var c=this.x,u=this.y;return this.x=c+h*(f.x-c),this.y=u+h*(f.y-u),this},transformMat3:function(f){var h=this.x,c=this.y,u=f.val;return this.x=u[0]*h+u[3]*c+u[6],this.y=u[1]*h+u[4]*c+u[7],this},transformMat4:function(f){var h=this.x,c=this.y,u=f.val;return this.x=u[0]*h+u[4]*c+u[12],this.y=u[1]*h+u[5]*c+u[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(f){var h=this.length();return h&&h>f&&this.scale(f/h),this},reflect:function(f){return f=f.clone().normalize(),this.subtract(f.scale(2*this.dot(f)))},mirror:function(f){return this.reflect(f).negate()},rotate:function(f){var h=Math.cos(f),c=Math.sin(f);return this.set(h*this.x-c*this.y,c*this.x+h*this.y)},project:function(f){var h=this.dot(f)/f.dot(f);return this.copy(f).scale(h)}});g.ZERO=new g,g.RIGHT=new g(1,0),g.LEFT=new g(-1,0),g.UP=new g(0,-1),g.DOWN=new g(0,1),g.ONE=new g(1,1),S.exports=g},25836:(S,P,a)=>{var T=new(a(83419))({initialize:function(f,h,c){this.x=0,this.y=0,this.z=0,"object"==typeof f?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0):(this.x=f||0,this.y=h||0,this.z=c||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(g){return this.x=Math.min(this.x,g.x),this.y=Math.min(this.y,g.y),this.z=Math.min(this.z,g.z),this},max:function(g){return this.x=Math.max(this.x,g.x),this.y=Math.max(this.y,g.y),this.z=Math.max(this.z,g.z),this},clone:function(){return new T(this.x,this.y,this.z)},addVectors:function(g,f){return this.x=g.x+f.x,this.y=g.y+f.y,this.z=g.z+f.z,this},subVectors:function(g,f){return this.x=g.x-f.x,this.y=g.y-f.y,this.z=g.z-f.z,this},crossVectors:function(g,f){var h=g.x,c=g.y,u=g.z,m=f.x,d=f.y,p=f.z;return this.x=c*p-u*d,this.y=u*m-h*p,this.z=h*d-c*m,this},equals:function(g){return this.x===g.x&&this.y===g.y&&this.z===g.z},copy:function(g){return this.x=g.x,this.y=g.y,this.z=g.z||0,this},set:function(g,f,h){return"object"==typeof g?(this.x=g.x||0,this.y=g.y||0,this.z=g.z||0):(this.x=g||0,this.y=f||0,this.z=h||0),this},setFromMatrixPosition:function(g){return this.fromArray(g.val,12)},setFromMatrixColumn:function(g,f){return this.fromArray(g.val,4*f)},fromArray:function(g,f){return void 0===f&&(f=0),this.x=g[f],this.y=g[f+1],this.z=g[f+2],this},add:function(g){return this.x+=g.x,this.y+=g.y,this.z+=g.z||0,this},addScalar:function(g){return this.x+=g,this.y+=g,this.z+=g,this},addScale:function(g,f){return this.x+=g.x*f,this.y+=g.y*f,this.z+=g.z*f||0,this},subtract:function(g){return this.x-=g.x,this.y-=g.y,this.z-=g.z||0,this},multiply:function(g){return this.x*=g.x,this.y*=g.y,this.z*=g.z||1,this},scale:function(g){return isFinite(g)?(this.x*=g,this.y*=g,this.z*=g):(this.x=0,this.y=0,this.z=0),this},divide:function(g){return this.x/=g.x,this.y/=g.y,this.z/=g.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(g){var f=g.x-this.x,h=g.y-this.y,c=g.z-this.z||0;return Math.sqrt(f*f+h*h+c*c)},distanceSq:function(g){var f=g.x-this.x,h=g.y-this.y,c=g.z-this.z||0;return f*f+h*h+c*c},length:function(){var g=this.x,f=this.y,h=this.z;return Math.sqrt(g*g+f*f+h*h)},lengthSq:function(){var g=this.x,f=this.y,h=this.z;return g*g+f*f+h*h},normalize:function(){var g=this.x,f=this.y,h=this.z,c=g*g+f*f+h*h;return c>0&&(c=1/Math.sqrt(c),this.x=g*c,this.y=f*c,this.z=h*c),this},dot:function(g){return this.x*g.x+this.y*g.y+this.z*g.z},cross:function(g){var f=this.x,h=this.y,c=this.z,u=g.x,m=g.y,d=g.z;return this.x=h*d-c*m,this.y=c*u-f*d,this.z=f*m-h*u,this},lerp:function(g,f){void 0===f&&(f=0);var h=this.x,c=this.y,u=this.z;return this.x=h+f*(g.x-h),this.y=c+f*(g.y-c),this.z=u+f*(g.z-u),this},applyMatrix3:function(g){var f=this.x,h=this.y,c=this.z,u=g.val;return this.x=u[0]*f+u[3]*h+u[6]*c,this.y=u[1]*f+u[4]*h+u[7]*c,this.z=u[2]*f+u[5]*h+u[8]*c,this},applyMatrix4:function(g){var f=this.x,h=this.y,c=this.z,u=g.val,m=1/(u[3]*f+u[7]*h+u[11]*c+u[15]);return this.x=(u[0]*f+u[4]*h+u[8]*c+u[12])*m,this.y=(u[1]*f+u[5]*h+u[9]*c+u[13])*m,this.z=(u[2]*f+u[6]*h+u[10]*c+u[14])*m,this},transformMat3:function(g){var f=this.x,h=this.y,c=this.z,u=g.val;return this.x=f*u[0]+h*u[3]+c*u[6],this.y=f*u[1]+h*u[4]+c*u[7],this.z=f*u[2]+h*u[5]+c*u[8],this},transformMat4:function(g){var f=this.x,h=this.y,c=this.z,u=g.val;return this.x=u[0]*f+u[4]*h+u[8]*c+u[12],this.y=u[1]*f+u[5]*h+u[9]*c+u[13],this.z=u[2]*f+u[6]*h+u[10]*c+u[14],this},transformCoordinates:function(g){var f=this.x,h=this.y,c=this.z,u=g.val,d=f*u[1]+h*u[5]+c*u[9]+u[13],p=f*u[2]+h*u[6]+c*u[10]+u[14],v=f*u[3]+h*u[7]+c*u[11]+u[15];return this.x=(f*u[0]+h*u[4]+c*u[8]+u[12])/v,this.y=d/v,this.z=p/v,this},transformQuat:function(g){var f=this.x,h=this.y,c=this.z,u=g.x,m=g.y,d=g.z,p=g.w,v=p*f+m*c-d*h,x=p*h+d*f-u*c,y=p*c+u*h-m*f,_=-u*f-m*h-d*c;return this.x=v*p+_*-u+x*-d-y*-m,this.y=x*p+_*-m+y*-u-v*-d,this.z=y*p+_*-d+v*-m-x*-u,this},project:function(g){var f=this.x,h=this.y,c=this.z,u=g.val,d=u[1],p=u[2],y=u[5],_=u[6],M=u[9],I=u[10],N=u[13],V=u[14],H=1/(f*u[3]+h*u[7]+c*u[11]+u[15]);return this.x=(f*u[0]+h*u[4]+c*u[8]+u[12])*H,this.y=(f*d+h*y+c*M+N)*H,this.z=(f*p+h*_+c*I+V)*H,this},projectViewMatrix:function(g,f){return this.applyMatrix4(g).applyMatrix4(f)},unprojectViewMatrix:function(g,f){return this.applyMatrix4(g).applyMatrix4(f)},unproject:function(g,f){var m=g.w,p=m-this.y-1-g.y,v=this.z;return this.x=2*(this.x-g.x)/g.z-1,this.y=2*p/m-1,this.z=2*v-1,this.project(f)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});T.ZERO=new T,T.RIGHT=new T(1,0,0),T.LEFT=new T(-1,0,0),T.UP=new T(0,-1,0),T.DOWN=new T(0,1,0),T.FORWARD=new T(0,0,1),T.BACK=new T(0,0,-1),T.ONE=new T(1,1,1),S.exports=T},61369:(S,P,a)=>{var T=new(a(83419))({initialize:function(f,h,c,u){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof f?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0,this.w=f.w||0):(this.x=f||0,this.y=h||0,this.z=c||0,this.w=u||0)},clone:function(){return new T(this.x,this.y,this.z,this.w)},copy:function(g){return this.x=g.x,this.y=g.y,this.z=g.z||0,this.w=g.w||0,this},equals:function(g){return this.x===g.x&&this.y===g.y&&this.z===g.z&&this.w===g.w},set:function(g,f,h,c){return"object"==typeof g?(this.x=g.x||0,this.y=g.y||0,this.z=g.z||0,this.w=g.w||0):(this.x=g||0,this.y=f||0,this.z=h||0,this.w=c||0),this},add:function(g){return this.x+=g.x,this.y+=g.y,this.z+=g.z||0,this.w+=g.w||0,this},subtract:function(g){return this.x-=g.x,this.y-=g.y,this.z-=g.z||0,this.w-=g.w||0,this},scale:function(g){return this.x*=g,this.y*=g,this.z*=g,this.w*=g,this},length:function(){var g=this.x,f=this.y,h=this.z,c=this.w;return Math.sqrt(g*g+f*f+h*h+c*c)},lengthSq:function(){var g=this.x,f=this.y,h=this.z,c=this.w;return g*g+f*f+h*h+c*c},normalize:function(){var g=this.x,f=this.y,h=this.z,c=this.w,u=g*g+f*f+h*h+c*c;return u>0&&(u=1/Math.sqrt(u),this.x=g*u,this.y=f*u,this.z=h*u,this.w=c*u),this},dot:function(g){return this.x*g.x+this.y*g.y+this.z*g.z+this.w*g.w},lerp:function(g,f){void 0===f&&(f=0);var h=this.x,c=this.y,u=this.z,m=this.w;return this.x=h+f*(g.x-h),this.y=c+f*(g.y-c),this.z=u+f*(g.z-u),this.w=m+f*(g.w-m),this},multiply:function(g){return this.x*=g.x,this.y*=g.y,this.z*=g.z||1,this.w*=g.w||1,this},divide:function(g){return this.x/=g.x,this.y/=g.y,this.z/=g.z||1,this.w/=g.w||1,this},distance:function(g){var f=g.x-this.x,h=g.y-this.y,c=g.z-this.z||0,u=g.w-this.w||0;return Math.sqrt(f*f+h*h+c*c+u*u)},distanceSq:function(g){var f=g.x-this.x,h=g.y-this.y,c=g.z-this.z||0,u=g.w-this.w||0;return f*f+h*h+c*c+u*u},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(g){var f=this.x,h=this.y,c=this.z,u=this.w,m=g.val;return this.x=m[0]*f+m[4]*h+m[8]*c+m[12]*u,this.y=m[1]*f+m[5]*h+m[9]*c+m[13]*u,this.z=m[2]*f+m[6]*h+m[10]*c+m[14]*u,this.w=m[3]*f+m[7]*h+m[11]*c+m[15]*u,this},transformQuat:function(g){var f=this.x,h=this.y,c=this.z,u=g.x,m=g.y,d=g.z,p=g.w,v=p*f+m*c-d*h,x=p*h+d*f-u*c,y=p*c+u*h-m*f,_=-u*f-m*h-d*c;return this.x=v*p+_*-u+x*-d-y*-m,this.y=x*p+_*-m+y*-u-v*-d,this.z=y*p+_*-d+v*-m-x*-u,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});T.prototype.sub=T.prototype.subtract,T.prototype.mul=T.prototype.multiply,T.prototype.div=T.prototype.divide,T.prototype.dist=T.prototype.distance,T.prototype.distSq=T.prototype.distanceSq,T.prototype.len=T.prototype.length,T.prototype.lenSq=T.prototype.lengthSq,S.exports=T},60417:S=>{S.exports=function(a,w,T){return Math.abs(a-w)<=T}},15994:S=>{S.exports=function(a,w,T){var g=T-w;return w+((a-w)%g+g)%g}},31040:S=>{S.exports=function(a,w,T,g){return Math.atan2(g-w,T-a)}},55495:S=>{S.exports=function(a,w){return Math.atan2(w.y-a.y,w.x-a.x)}},128:S=>{S.exports=function(a,w){return Math.atan2(w.x-a.x,w.y-a.y)}},41273:S=>{S.exports=function(a,w,T,g){return Math.atan2(T-a,g-w)}},1432:(S,P,a)=>{var w=a(36383);S.exports=function(g){return g>Math.PI&&(g-=w.PI2),Math.abs(((g+w.TAU)%w.PI2-w.PI2)%w.PI2)}},12407:S=>{S.exports=function(a){return(a%=2*Math.PI)>=0?a:a+2*Math.PI}},53993:(S,P,a)=>{var w=a(99472);S.exports=function(){return w(-Math.PI,Math.PI)}},86564:(S,P,a)=>{var w=a(99472);S.exports=function(){return w(-180,180)}},90154:(S,P,a)=>{var w=a(12407);S.exports=function(g){return w(g+Math.PI)}},48736:(S,P,a)=>{var w=a(36383);S.exports=function(g,f,h){return void 0===h&&(h=.05),g===f||(Math.abs(f-g)<=h||Math.abs(f-g)>=w.PI2-h?g=f:(Math.abs(f-g)>Math.PI&&(f<g?f+=w.PI2:f-=w.PI2),f>g?g+=h:f<g&&(g-=h))),g}},61430:S=>{S.exports=function(a,w){var T=w-a;return 0===T?0:T-360*Math.floor((T- -180)/360)}},86554:(S,P,a)=>{var w=a(15994);S.exports=function(g){return w(g,-Math.PI,Math.PI)}},30954:(S,P,a)=>{var w=a(15994);S.exports=function(g){return w(g,-180,180)}},25588:(S,P,a)=>{S.exports={Between:a(31040),BetweenPoints:a(55495),BetweenPointsY:a(128),BetweenY:a(41273),CounterClockwise:a(1432),Normalize:a(12407),Random:a(53993),RandomDegrees:a(86564),Reverse:a(90154),RotateTo:a(48736),ShortestBetween:a(61430),Wrap:a(86554),WrapDegrees:a(30954)}},36383:S=>{var P={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};S.exports=P},20339:S=>{S.exports=function(a,w,T,g){var f=a-T,h=w-g;return Math.sqrt(f*f+h*h)}},52816:S=>{S.exports=function(a,w){var T=a.x-w.x,g=a.y-w.y;return Math.sqrt(T*T+g*g)}},64559:S=>{S.exports=function(a,w){var T=a.x-w.x,g=a.y-w.y;return T*T+g*g}},82340:S=>{S.exports=function(a,w,T,g){return Math.max(Math.abs(a-T),Math.abs(w-g))}},14390:S=>{S.exports=function(a,w,T,g,f){return void 0===f&&(f=2),Math.sqrt(Math.pow(T-a,f)+Math.pow(g-w,f))}},2243:S=>{S.exports=function(a,w,T,g){return Math.abs(a-T)+Math.abs(w-g)}},89774:S=>{S.exports=function(a,w,T,g){var f=a-T,h=w-g;return f*f+h*h}},50994:(S,P,a)=>{S.exports={Between:a(20339),BetweenPoints:a(52816),BetweenPointsSquared:a(64559),Chebyshev:a(82340),Power:a(14390),Snake:a(2243),Squared:a(89774)}},62640:(S,P,a)=>{var w=a(54178),T=a(41521),g=a(79980),f=a(85433),h=a(99140),c=a(48857),u=a(81596),m=a(59133),d=a(98516),p=a(35248),v=a(82500),x=a(49752);S.exports={Power0:u,Power1:m.Out,Power2:f.Out,Power3:d.Out,Power4:p.Out,Linear:u,Quad:m.Out,Cubic:f.Out,Quart:d.Out,Quint:p.Out,Sine:v.Out,Expo:c.Out,Circ:g.Out,Elastic:h.Out,Back:w.Out,Bounce:T.Out,Stepped:x,"Quad.easeIn":m.In,"Cubic.easeIn":f.In,"Quart.easeIn":d.In,"Quint.easeIn":p.In,"Sine.easeIn":v.In,"Expo.easeIn":c.In,"Circ.easeIn":g.In,"Elastic.easeIn":h.In,"Back.easeIn":w.In,"Bounce.easeIn":T.In,"Quad.easeOut":m.Out,"Cubic.easeOut":f.Out,"Quart.easeOut":d.Out,"Quint.easeOut":p.Out,"Sine.easeOut":v.Out,"Expo.easeOut":c.Out,"Circ.easeOut":g.Out,"Elastic.easeOut":h.Out,"Back.easeOut":w.Out,"Bounce.easeOut":T.Out,"Quad.easeInOut":m.InOut,"Cubic.easeInOut":f.InOut,"Quart.easeInOut":d.InOut,"Quint.easeInOut":p.InOut,"Sine.easeInOut":v.InOut,"Expo.easeInOut":c.InOut,"Circ.easeInOut":g.InOut,"Elastic.easeInOut":h.InOut,"Back.easeInOut":w.InOut,"Bounce.easeInOut":T.InOut}},1639:S=>{S.exports=function(a,w){return void 0===w&&(w=1.70158),a*a*((w+1)*a-w)}},50099:S=>{S.exports=function(a,w){void 0===w&&(w=1.70158);var T=1.525*w;return(a*=2)<1?a*a*((T+1)*a-T)*.5:.5*((a-=2)*a*((T+1)*a+T)+2)}},41286:S=>{S.exports=function(a,w){return void 0===w&&(w=1.70158),--a*a*((w+1)*a+w)+1}},54178:(S,P,a)=>{S.exports={In:a(1639),Out:a(41286),InOut:a(50099)}},59590:S=>{S.exports=function(a){return(a=1-a)<.36363636363636365?1-7.5625*a*a:a<.7272727272727273?1-(7.5625*(a-=.5454545454545454)*a+.75):a<.9090909090909091?1-(7.5625*(a-=.8181818181818182)*a+.9375):1-(7.5625*(a-=.9545454545454546)*a+.984375)}},41788:S=>{S.exports=function(a){var w=!1;return a<.5?(a=1-2*a,w=!0):a=2*a-1,a<.36363636363636365?a*=7.5625*a:a=a<.7272727272727273?7.5625*(a-=.5454545454545454)*a+.75:a<.9090909090909091?7.5625*(a-=.8181818181818182)*a+.9375:7.5625*(a-=.9545454545454546)*a+.984375,w?.5*(1-a):.5*a+.5}},69905:S=>{S.exports=function(a){return a<.36363636363636365?7.5625*a*a:a<.7272727272727273?7.5625*(a-=.5454545454545454)*a+.75:a<.9090909090909091?7.5625*(a-=.8181818181818182)*a+.9375:7.5625*(a-=.9545454545454546)*a+.984375}},41521:(S,P,a)=>{S.exports={In:a(59590),Out:a(69905),InOut:a(41788)}},91861:S=>{S.exports=function(a){return 1-Math.sqrt(1-a*a)}},4177:S=>{S.exports=function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)}},57512:S=>{S.exports=function(a){return Math.sqrt(1- --a*a)}},79980:(S,P,a)=>{S.exports={In:a(91861),Out:a(57512),InOut:a(4177)}},51150:S=>{S.exports=function(a){return a*a*a}},82820:S=>{S.exports=function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)}},35033:S=>{S.exports=function(a){return--a*a*a+1}},85433:(S,P,a)=>{S.exports={In:a(51150),Out:a(35033),InOut:a(82820)}},69965:S=>{S.exports=function(a,w,T){if(void 0===w&&(w=.1),void 0===T&&(T=.1),0===a)return 0;if(1===a)return 1;var g=T/4;return w<1?w=1:g=T*Math.asin(1/w)/(2*Math.PI),-w*Math.pow(2,10*(a-=1))*Math.sin((a-g)*(2*Math.PI)/T)}},50665:S=>{S.exports=function(a,w,T){if(void 0===w&&(w=.1),void 0===T&&(T=.1),0===a)return 0;if(1===a)return 1;var g=T/4;return w<1?w=1:g=T*Math.asin(1/w)/(2*Math.PI),(a*=2)<1?w*Math.pow(2,10*(a-=1))*Math.sin((a-g)*(2*Math.PI)/T)*-.5:w*Math.pow(2,-10*(a-=1))*Math.sin((a-g)*(2*Math.PI)/T)*.5+1}},7744:S=>{S.exports=function(a,w,T){if(void 0===w&&(w=.1),void 0===T&&(T=.1),0===a)return 0;if(1===a)return 1;var g=T/4;return w<1?w=1:g=T*Math.asin(1/w)/(2*Math.PI),w*Math.pow(2,-10*a)*Math.sin((a-g)*(2*Math.PI)/T)+1}},99140:(S,P,a)=>{S.exports={In:a(69965),Out:a(7744),InOut:a(50665)}},24590:S=>{S.exports=function(a){return Math.pow(2,10*(a-1))-.001}},87844:S=>{S.exports=function(a){return(a*=2)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))}},89433:S=>{S.exports=function(a){return 1-Math.pow(2,-10*a)}},48857:(S,P,a)=>{S.exports={In:a(24590),Out:a(89433),InOut:a(87844)}},48820:(S,P,a)=>{S.exports={Back:a(54178),Bounce:a(41521),Circular:a(79980),Cubic:a(85433),Elastic:a(99140),Expo:a(48857),Linear:a(81596),Quadratic:a(59133),Quartic:a(98516),Quintic:a(35248),Sine:a(82500),Stepped:a(49752)}},7147:S=>{S.exports=function(a){return a}},81596:(S,P,a)=>{S.exports=a(7147)},34826:S=>{S.exports=function(a){return a*a}},20544:S=>{S.exports=function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)}},92029:S=>{S.exports=function(a){return a*(2-a)}},59133:(S,P,a)=>{S.exports={In:a(34826),Out:a(92029),InOut:a(20544)}},64413:S=>{S.exports=function(a){return a*a*a*a}},78137:S=>{S.exports=function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)}},45840:S=>{S.exports=function(a){return 1- --a*a*a*a}},98516:(S,P,a)=>{S.exports={In:a(64413),Out:a(45840),InOut:a(78137)}},87745:S=>{S.exports=function(a){return a*a*a*a*a}},16509:S=>{S.exports=function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)}},17868:S=>{S.exports=function(a){return--a*a*a*a*a+1}},35248:(S,P,a)=>{S.exports={In:a(87745),Out:a(17868),InOut:a(16509)}},80461:S=>{S.exports=function(a){return 0===a?0:1===a?1:1-Math.cos(a*Math.PI/2)}},34025:S=>{S.exports=function(a){return 0===a?0:1===a?1:.5*(1-Math.cos(Math.PI*a))}},52768:S=>{S.exports=function(a){return 0===a?0:1===a?1:Math.sin(a*Math.PI/2)}},82500:(S,P,a)=>{S.exports={In:a(80461),Out:a(52768),InOut:a(34025)}},72251:S=>{S.exports=function(a,w){return void 0===w&&(w=1),a<=0?0:a>=1?1:1/w*(1+(w*a|0))}},49752:(S,P,a)=>{S.exports=a(72251)},75698:S=>{S.exports=function(a,w){return void 0===w&&(w=1e-4),Math.ceil(a-w)}},43855:S=>{S.exports=function(a,w,T){return void 0===T&&(T=1e-4),Math.abs(a-w)<T}},25777:S=>{S.exports=function(a,w){return void 0===w&&(w=1e-4),Math.floor(a+w)}},5470:S=>{S.exports=function(a,w,T){return void 0===T&&(T=1e-4),a>w-T}},94977:S=>{S.exports=function(a,w,T){return void 0===T&&(T=1e-4),a<w+T}},48379:(S,P,a)=>{S.exports={Ceil:a(75698),Equal:a(43855),Floor:a(25777),GreaterThan:a(5470),LessThan:a(94977)}},75508:(S,P,a)=>{var w=a(36383),T=a(79291),g={Angle:a(25588),Distance:a(50994),Easing:a(48820),Fuzzy:a(48379),Interpolation:a(38289),Pow2:a(49001),Snap:a(73697),RandomDataGenerator:a(28453),Average:a(53307),Bernstein:a(85710),Between:a(30976),CatmullRom:a(87842),CeilTo:a(26302),Clamp:a(45319),DegToRad:a(39506),Difference:a(61241),Euler:a(38857),Factorial:a(6411),FloatBetween:a(99472),FloorTo:a(77623),FromPercent:a(62945),GetSpeed:a(38265),IsEven:a(78702),IsEvenStrict:a(94883),Linear:a(28915),LinearXY:a(94908),MaxAdd:a(86883),Median:a(50040),MinSub:a(37204),Percent:a(65201),RadToDeg:a(43396),RandomXY:a(74362),RandomXYZ:a(60706),RandomXYZW:a(67421),Rotate:a(36305),RotateAround:a(11520),RotateAroundDistance:a(1163),RotateTo:a(70336),RoundAwayFromZero:a(2284),RoundTo:a(41013),SinCosTableGenerator:a(16922),SmootherStep:a(54261),SmoothStep:a(7602),ToXY:a(44408),TransformXY:a(85955),Within:a(60417),Wrap:a(15994),Vector2:a(26099),Vector3:a(25836),Vector4:a(61369),Matrix3:a(94434),Matrix4:a(37867),Quaternion:a(15746),RotateVec3:a(72678)};g=T(!1,g,w),S.exports=g},89318:(S,P,a)=>{var w=a(85710);S.exports=function(g,f){for(var h=0,c=g.length-1,u=0;u<=c;u++)h+=Math.pow(1-f,c-u)*Math.pow(f,u)*g[u]*w(c,u);return h}},77259:(S,P,a)=>{var w=a(87842);S.exports=function(g,f){var h=g.length-1,c=h*f,u=Math.floor(c);return g[0]===g[h]?(f<0&&(u=Math.floor(c=h*(1+f))),w(c-u,g[(u-1+h)%h],g[u],g[(u+1)%h],g[(u+2)%h])):f<0?g[0]-(w(-c,g[0],g[0],g[1],g[1])-g[0]):f>1?g[h]-(w(c-h,g[h],g[h],g[h-1],g[h-1])-g[h]):w(c-u,g[u?u-1:0],g[u],g[h<u+1?h:u+1],g[h<u+2?h:u+2])}},36316:S=>{S.exports=function(f,h,c,u,m){return function P(f,h){var c=1-f;return c*c*c*h}(f,h)+function a(f,h){var c=1-f;return 3*c*c*f*h}(f,c)+function w(f,h){return 3*(1-f)*f*f*h}(f,u)+function T(f,h){return f*f*f*h}(f,m)}},28392:(S,P,a)=>{var w=a(28915);S.exports=function(g,f){var h=g.length-1,c=h*f,u=Math.floor(c);return f<0?w(g[0],g[1],c):f>1?w(g[h],g[h-1],h-c):w(g[u],g[u+1>h?h:u+1],c-u)}},32112:S=>{S.exports=function(g,f,h,c){return function P(g,f){var h=1-g;return h*h*f}(g,f)+function a(g,f){return 2*(1-g)*g*f}(g,h)+function w(g,f){return g*g*f}(g,c)}},47235:(S,P,a)=>{var w=a(7602);S.exports=function(g,f,h){return f+(h-f)*w(g,0,1)}},50178:(S,P,a)=>{var w=a(54261);S.exports=function(g,f,h){return f+(h-f)*w(g,0,1)}},38289:(S,P,a)=>{S.exports={Bezier:a(89318),CatmullRom:a(77259),CubicBezier:a(36316),Linear:a(28392),QuadraticBezier:a(32112),SmoothStep:a(47235),SmootherStep:a(50178)}},98439:S=>{S.exports=function(a){var w=Math.log(a)/.6931471805599453;return 1<<Math.ceil(w)}},50030:S=>{S.exports=function(a,w){return a>0&&!(a&a-1)&&w>0&&!(w&w-1)}},81230:S=>{S.exports=function(a){return a>0&&!(a&a-1)}},49001:(S,P,a)=>{S.exports={GetNext:a(98439),IsSize:a(50030),IsValue:a(81230)}},28453:(S,P,a)=>{var T=new(a(83419))({initialize:function(f){void 0===f&&(f=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],f&&this.init(f)},rnd:function(){var g=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|g,this.s0=this.s1,this.s1=this.s2,this.s2=g-this.c,this.s2},hash:function(g){var f,h=this.n;g=g.toString();for(var c=0;c<g.length;c++)f=.02519603282416938*(h+=g.charCodeAt(c)),f-=h=f>>>0,h=(f*=h)>>>0,h+=4294967296*(f-=h);return this.n=h,2.3283064365386963e-10*(h>>>0)},init:function(g){"string"==typeof g?this.state(g):this.sow(g)},sow:function(g){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,g)for(var f=0;f<g.length&&null!=g[f];f++){var h=g[f];this.s0-=this.hash(h),this.s0+=~~(this.s0<0),this.s1-=this.hash(h),this.s1+=~~(this.s1<0),this.s2-=this.hash(h),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+11102230246251565e-32*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(g,f){return Math.floor(this.realInRange(0,f-g+1)+g)},between:function(g,f){return Math.floor(this.realInRange(0,f-g+1)+g)},realInRange:function(g,f){return this.frac()*(f-g)+g},normal:function(){return 1-2*this.frac()},uuid:function(){var g="",f="";for(f=g="";g++<36;f+=~g%5|3*g&4?(15^g?8^this.frac()*(20^g?16:4):4).toString(16):"-");return f},pick:function(g){return g[this.integerInRange(0,g.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(g){return g[~~(Math.pow(this.frac(),2)*(g.length-.5)+.5)]},timestamp:function(g,f){return this.realInRange(g||9466848e5,f||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(g){return"string"==typeof g&&g.match(/^!rnd/)&&(g=g.split(","),this.c=parseFloat(g[1]),this.s0=parseFloat(g[2]),this.s1=parseFloat(g[3]),this.s2=parseFloat(g[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(g){for(var h=g.length-1;h>0;h--){var c=Math.floor(this.frac()*(h+1)),u=g[c];g[c]=g[h],g[h]=u}return g}});S.exports=T},63448:S=>{S.exports=function(a,w,T,g){return void 0===T&&(T=0),0===w?a:(a-=T,a=w*Math.ceil(a/w),g?(T+a)/w:T+a)}},56583:S=>{S.exports=function(a,w,T,g){return void 0===T&&(T=0),0===w?a:(a-=T,a=w*Math.floor(a/w),g?(T+a)/w:T+a)}},77720:S=>{S.exports=function(a,w,T,g){return void 0===T&&(T=0),0===w?a:(a-=T,a=w*Math.round(a/w),g?(T+a)/w:T+a)}},73697:(S,P,a)=>{S.exports={Ceil:a(63448),Floor:a(56583),To:a(77720)}},85454:(S,P,a)=>{a(63595);var w=a(8054),T=a(79291),g={Actions:a(61061),Animations:a(60421),BlendModes:a(10312),Cache:a(83388),Cameras:a(26638),Core:a(42857),Class:a(83419),Create:a(15822),Curves:a(25410),Data:a(44965),Display:a(27460),DOM:a(84902),Events:a(93055),FX:a(66064),Game:a(50127),GameObjects:a(77856),Geom:a(55738),Input:a(14350),Loader:a(57777),Math:a(75508),Physics:a(44563),Plugins:a(18922),Renderer:a(36909),Scale:a(93364),ScaleModes:a(29795),Scene:a(97482),Scenes:a(62194),Structs:a(41392),Textures:a(27458),Tilemaps:a(62501),Time:a(90291),Tweens:a(43066),Utils:a(91799)};g.Sound=a(23717),g=T(!1,g,w),S.exports=g,a.g.Phaser=g},71289:(S,P,a)=>{var w=a(83419),T=a(92209),g=a(88571),f=new w({Extends:g,Mixins:[T.Acceleration,T.Angular,T.Bounce,T.Collision,T.Debug,T.Drag,T.Enable,T.Friction,T.Gravity,T.Immovable,T.Mass,T.Pushable,T.Size,T.Velocity],initialize:function(c,u,m,d,p){g.call(this,c,u,m,d,p),this.body=null}});S.exports=f},86689:(S,P,a)=>{var w=a(83419),T=a(39506),g=a(20339),f=a(89774),h=a(66022),c=a(95540),u=a(46975),m=a(72441),d=a(47956),p=a(37277),v=a(44594),x=a(26099),y=a(82248),_=new w({initialize:function(A){this.scene=A,this.systems=A.sys,this.config=this.getConfig(),this._category=1,A.sys.events.once(v.BOOT,this.boot,this),A.sys.events.on(v.START,this.start,this)},boot:function(){this.world=new y(this.scene,this.config),this.add=new h(this.world),this.systems.events.once(v.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new y(this.scene,this.config),this.add=new h(this.world));var E=this.systems.events;c(this.config,"customUpdate",!1)||E.on(v.UPDATE,this.world.update,this.world),E.on(v.POST_UPDATE,this.world.postUpdate,this.world),E.once(v.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(v.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(v.UPDATE,this.world.update,this.world)},getConfig:function(){var E=this.systems.game.config.physics;return u(c(this.systems.settings.physics,"arcade",{}),c(E,"arcade",{}))},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(E,A,M,I,k){return void 0===M&&(M=null),void 0===I&&(I=null),void 0===k&&(k=M),this.world.collideObjects(E,A,M,I,k,!0)},collide:function(E,A,M,I,k){return void 0===M&&(M=null),void 0===I&&(I=null),void 0===k&&(k=M),this.world.collideObjects(E,A,M,I,k,!1)},collideTiles:function(E,A,M,I,k){return this.world.collideTiles(E,A,M,I,k)},overlapTiles:function(E,A,M,I,k){return this.world.overlapTiles(E,A,M,I,k)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(E,A,M,I,k,F){void 0===I&&(I=60);var N=Math.atan2(M-E.y,A-E.x);return E.body.acceleration.setToPolar(N,I),void 0!==k&&void 0!==F&&E.body.maxVelocity.set(k,F),N},accelerateToObject:function(E,A,M,I,k){return this.accelerateTo(E,A.x,A.y,M,I,k)},closest:function(E,A){A||(A=this.world.bodies.entries);for(var M=Number.MAX_VALUE,I=null,k=E.x,F=E.y,N=A.length,V=0;V<N;V++){var B=A[V],H=B.body||B;if(E!==B&&E!==H&&E!==H.gameObject&&E!==H.center){var Q=f(k,F,H.center.x,H.center.y);Q<M&&(I=B,M=Q)}}return I},furthest:function(E,A){A||(A=this.world.bodies.entries);for(var M=-1,I=null,k=E.x,F=E.y,N=A.length,V=0;V<N;V++){var B=A[V],H=B.body||B;if(E!==B&&E!==H&&E!==H.gameObject&&E!==H.center){var Q=f(k,F,H.center.x,H.center.y);Q>M&&(I=B,M=Q)}}return I},moveTo:function(E,A,M,I,k){void 0===I&&(I=60),void 0===k&&(k=0);var F=Math.atan2(M-E.y,A-E.x);return k>0&&(I=g(E.x,E.y,A,M)/(k/1e3)),E.body.velocity.setToPolar(F,I),F},moveToObject:function(E,A,M,I){return this.moveTo(E,A.x,A.y,M,I)},velocityFromAngle:function(E,A,M){return void 0===A&&(A=60),void 0===M&&(M=new x),M.setToPolar(T(E),A)},velocityFromRotation:function(E,A,M){return void 0===A&&(A=60),void 0===M&&(M=new x),M.setToPolar(E,A)},overlapRect:function(E,A,M,I,k,F){return d(this.world,E,A,M,I,k,F)},overlapCirc:function(E,A,M,I,k){return m(this.world,E,A,M,I,k)},shutdown:function(){if(this.world){var E=this.systems.events;E.off(v.UPDATE,this.world.update,this.world),E.off(v.POST_UPDATE,this.world.postUpdate,this.world),E.off(v.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(v.START,this.start,this),this.scene=null,this.systems=null}});p.register("ArcadePhysics",_,"arcadePhysics"),S.exports=_},13759:(S,P,a)=>{var w=a(83419),T=a(92209),g=a(68287),f=new w({Extends:g,Mixins:[T.Acceleration,T.Angular,T.Bounce,T.Collision,T.Debug,T.Drag,T.Enable,T.Friction,T.Gravity,T.Immovable,T.Mass,T.Pushable,T.Size,T.Velocity],initialize:function(c,u,m,d,p){g.call(this,c,u,m,d,p),this.body=null}});S.exports=f},37742:(S,P,a)=>{var w=a(83419),T=a(78389),g=a(37747),f=a(63012),h=a(43396),c=a(87841),u=a(37303),m=a(95829),d=a(26099),p=new w({Mixins:[T],initialize:function(x,y){var _=64,E=64,M=void 0!==y;M&&y.displayWidth&&(_=y.displayWidth,E=y.displayHeight),M||(y={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=x,this.gameObject=M?y:void 0,this.isBody=!0,this.transform={x:y.x,y:y.y,rotation:y.angle,scaleX:y.scaleX,scaleY:y.scaleY,displayOriginX:y.displayOriginX,displayOriginY:y.displayOriginY},this.debugShowBody=x.defaults.debugShowBody,this.debugShowVelocity=x.defaults.debugShowVelocity,this.debugBodyColor=x.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new d,this.position=new d(y.x-y.scaleX*y.displayOriginX,y.y-y.scaleY*y.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=y.angle,this.preRotation=y.angle,this.width=_,this.height=E,this.sourceWidth=_,this.sourceHeight=E,y.frame&&(this.sourceWidth=y.frame.realWidth,this.sourceHeight=y.frame.realHeight),this.halfWidth=Math.abs(_/2),this.halfHeight=Math.abs(E/2),this.center=new d(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new d,this.newVelocity=new d,this.deltaMax=new d,this.acceleration=new d,this.allowDrag=!0,this.drag=new d,this.allowGravity=!0,this.gravity=new d,this.bounce=new d,this.worldBounce=null,this.customBoundsRectangle=x.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new d(1e4,1e4),this.maxSpeed=-1,this.friction=new d(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=g.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new d(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=m(!1),this.touching=m(!0),this.wasTouching=m(!0),this.blocked=m(!0),this.syncBounds=!1,this.physicsType=g.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=y.scaleX,this._sy=y.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new c,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var v=this.gameObject,x=this.transform;if(v.parentContainer){var y=v.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);x.x=y.tx,x.y=y.ty,x.rotation=h(y.rotation),x.scaleX=y.scaleX,x.scaleY=y.scaleY,x.displayOriginX=v.displayOriginX,x.displayOriginY=v.displayOriginY}else x.x=v.x,x.y=v.y,x.rotation=v.angle,x.scaleX=v.scaleX,x.scaleY=v.scaleY,x.displayOriginX=v.displayOriginX,x.displayOriginY=v.displayOriginY;var _=!1;if(this.syncBounds){var E=v.getBounds(this._bounds);this.width=E.width,this.height=E.height,_=!0}else{var A=Math.abs(x.scaleX),M=Math.abs(x.scaleY);(this._sx!==A||this._sy!==M)&&(this.width=this.sourceWidth*A,this.height=this.sourceHeight*M,this._sx=A,this._sy=M,_=!0)}_&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var v=this.transform;this.position.x=v.x+v.scaleX*(this.offset.x-v.displayOriginX),this.position.y=v.y+v.scaleY*(this.offset.y-v.displayOriginY),this.updateCenter()},resetFlags:function(v){void 0===v&&(v=!1);var x=this.wasTouching,y=this.touching,_=this.blocked;v?m(!0,x):(x.none=y.none,x.up=y.up,x.down=y.down,x.left=y.left,x.right=y.right),m(!0,y),m(!0,_),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(v,x){if(v&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var y=this.position;this.prev.x=y.x,this.prev.y=y.y,this.prevFrame.x=y.x,this.prevFrame.y=y.y}v&&this.update(x)},update:function(v){var x=this.prev,y=this.position,_=this.velocity;if(x.set(y.x,y.y),!this.moves)return this._dx=y.x-x.x,void(this._dy=y.y-x.y);if(this.directControl){var E=this.autoFrame;_.set((y.x-E.x)/v,(y.y-E.y)/v),this.world.updateMotion(this,v),this._dx=y.x-E.x,this._dy=y.y-E.y}else this.world.updateMotion(this,v),this.newVelocity.set(_.x*v,_.y*v),y.add(this.newVelocity),this._dx=y.x-x.x,this._dy=y.y-x.y;var A=_.x,M=_.y;if(this.updateCenter(),this.angle=Math.atan2(M,A),this.speed=Math.sqrt(A*A+M*M),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var I=this.blocked;this.world.emit(f.WORLD_BOUNDS,this,I.up,I.down,I.left,I.right)}},postUpdate:function(){var v=this.position,x=v.x-this.prevFrame.x,y=v.y-this.prevFrame.y,_=this.gameObject;if(this.moves){var E=this.deltaMax.x,A=this.deltaMax.y;0!==E&&0!==x&&(x<0&&x<-E?x=-E:x>0&&x>E&&(x=E)),0!==A&&0!==y&&(y<0&&y<-A?y=-A:y>0&&y>A&&(y=A)),_&&(_.x+=x,_.y+=y)}x<0?this.facing=g.FACING_LEFT:x>0&&(this.facing=g.FACING_RIGHT),y<0?this.facing=g.FACING_UP:y>0&&(this.facing=g.FACING_DOWN),this.allowRotation&&_&&(_.angle+=this.deltaZ()),this._tx=x,this._ty=y,this.autoFrame.set(v.x,v.y)},setBoundsRectangle:function(v){return this.customBoundsRectangle=v||this.world.bounds,this},checkWorldBounds:function(){var v=this.position,x=this.velocity,y=this.blocked,_=this.customBoundsRectangle,E=this.world.checkCollision,A=this.worldBounce?-this.worldBounce.x:-this.bounce.x,M=this.worldBounce?-this.worldBounce.y:-this.bounce.y,I=!1;return v.x<_.x&&E.left?(v.x=_.x,x.x*=A,y.left=!0,I=!0):this.right>_.right&&E.right&&(v.x=_.right-this.width,x.x*=A,y.right=!0,I=!0),v.y<_.y&&E.up?(v.y=_.y,x.y*=M,y.up=!0,I=!0):this.bottom>_.bottom&&E.down&&(v.y=_.bottom-this.height,x.y*=M,y.down=!0,I=!0),I&&(this.blocked.none=!1,this.updateCenter()),I},setOffset:function(v,x){return void 0===x&&(x=v),this.offset.set(v,x),this},setGameObject:function(v,x){return void 0===x&&(x=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=v,v.body&&(v.body=this),this.setSize(),this.world.add(this),this.enable=x,this},setSize:function(v,x,y){void 0===y&&(y=!0);var _=this.gameObject;return _&&(!v&&_.frame&&(v=_.frame.realWidth),!x&&_.frame&&(x=_.frame.realHeight)),this.sourceWidth=v,this.sourceHeight=x,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),y&&_&&_.getCenter&&this.offset.set((_.width-v)/2,(_.height-x)/2),this.isCircle=!1,this.radius=0,this},setCircle:function(v,x,y){return void 0===x&&(x=this.offset.x),void 0===y&&(y=this.offset.y),v>0?(this.isCircle=!0,this.radius=v,this.sourceWidth=2*v,this.sourceHeight=2*v,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(x,y),this.updateCenter()):this.isCircle=!1,this},reset:function(v,x){this.stop();var y=this.gameObject;y&&(y.setPosition(v,x),this.rotation=y.angle,this.preRotation=y.angle);var _=this.position;y&&y.getTopLeft?y.getTopLeft(_):_.set(v,x),this.prev.copy(_),this.prevFrame.copy(_),this.autoFrame.copy(_),y&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(v){return v.x=this.x,v.y=this.y,v.right=this.right,v.bottom=this.bottom,v},hitTest:function(v,x){return this.isCircle?this.radius>0&&v>=this.left&&v<=this.right&&x>=this.top&&x<=this.bottom&&(this.center.x-v)*(this.center.x-v)+(this.center.y-x)*(this.center.y-x)<=this.radius*this.radius:u(this,v,x)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(v){var x=this.position,y=x.x+this.halfWidth,_=x.y+this.halfHeight;this.debugShowBody&&(v.lineStyle(v.defaultStrokeWidth,this.debugBodyColor),this.isCircle?v.strokeCircle(y,_,this.width/2):(this.checkCollision.up&&v.lineBetween(x.x,x.y,x.x+this.width,x.y),this.checkCollision.right&&v.lineBetween(x.x+this.width,x.y,x.x+this.width,x.y+this.height),this.checkCollision.down&&v.lineBetween(x.x,x.y+this.height,x.x+this.width,x.y+this.height),this.checkCollision.left&&v.lineBetween(x.x,x.y,x.x,x.y+this.height))),this.debugShowVelocity&&(v.lineStyle(v.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),v.lineBetween(y,_,y+this.velocity.x/2,_+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(v){return void 0===v&&(v=!0),this.directControl=v,this},setCollideWorldBounds:function(v,x,y,_){void 0===v&&(v=!0),this.collideWorldBounds=v;var E=void 0!==x,A=void 0!==y;return(E||A)&&(this.worldBounce||(this.worldBounce=new d),E&&(this.worldBounce.x=x),A&&(this.worldBounce.y=y)),void 0!==_&&(this.onWorldBounds=_),this},setVelocity:function(v,x){return this.velocity.set(v,x),v=this.velocity.x,x=this.velocity.y,this.speed=Math.sqrt(v*v+x*x),this},setVelocityX:function(v){return this.setVelocity(v,this.velocity.y)},setVelocityY:function(v){return this.setVelocity(this.velocity.x,v)},setMaxVelocity:function(v,x){return this.maxVelocity.set(v,x),this},setMaxVelocityX:function(v){return this.maxVelocity.x=v,this},setMaxVelocityY:function(v){return this.maxVelocity.y=v,this},setMaxSpeed:function(v){return this.maxSpeed=v,this},setSlideFactor:function(v,x){return this.slideFactor.set(v,x),this},setBounce:function(v,x){return this.bounce.set(v,x),this},setBounceX:function(v){return this.bounce.x=v,this},setBounceY:function(v){return this.bounce.y=v,this},setAcceleration:function(v,x){return this.acceleration.set(v,x),this},setAccelerationX:function(v){return this.acceleration.x=v,this},setAccelerationY:function(v){return this.acceleration.y=v,this},setAllowDrag:function(v){return void 0===v&&(v=!0),this.allowDrag=v,this},setAllowGravity:function(v){return void 0===v&&(v=!0),this.allowGravity=v,this},setAllowRotation:function(v){return void 0===v&&(v=!0),this.allowRotation=v,this},setDrag:function(v,x){return this.drag.set(v,x),this},setDamping:function(v){return this.useDamping=v,this},setDragX:function(v){return this.drag.x=v,this},setDragY:function(v){return this.drag.y=v,this},setGravity:function(v,x){return this.gravity.set(v,x),this},setGravityX:function(v){return this.gravity.x=v,this},setGravityY:function(v){return this.gravity.y=v,this},setFriction:function(v,x){return this.friction.set(v,x),this},setFrictionX:function(v){return this.friction.x=v,this},setFrictionY:function(v){return this.friction.y=v,this},setAngularVelocity:function(v){return this.angularVelocity=v,this},setAngularAcceleration:function(v){return this.angularAcceleration=v,this},setAngularDrag:function(v){return this.angularDrag=v,this},setMass:function(v){return this.mass=v,this},setImmovable:function(v){return void 0===v&&(v=!0),this.immovable=v,this},setEnable:function(v){return void 0===v&&(v=!0),this.enable=v,this},processX:function(v,x,y,_){this.x+=v,this.updateCenter(),null!==x&&(this.velocity.x=x*this.slideFactor.x);var E=this.blocked;y&&(E.left=!0,E.none=!1),_&&(E.right=!0,E.none=!1)},processY:function(v,x,y,_){this.y+=v,this.updateCenter(),null!==x&&(this.velocity.y=x*this.slideFactor.y);var E=this.blocked;y&&(E.up=!0,E.none=!1),_&&(E.down=!0,E.none=!1)},x:{get:function(){return this.position.x},set:function(v){this.position.x=v}},y:{get:function(){return this.position.y},set:function(v){this.position.y=v}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});S.exports=p},79342:(S,P,a)=>{var T=new(a(83419))({initialize:function(f,h,c,u,m,d,p){this.world=f,this.name="",this.active=!0,this.overlapOnly=h,this.object1=c,this.object2=u,this.collideCallback=m,this.processCallback=d,this.callbackContext=p},setName:function(g){return this.name=g,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});S.exports=T},66022:(S,P,a)=>{var w=a(71289),T=a(13759),g=a(37742),f=a(83419),h=a(37747),c=a(60758),u=a(72624),m=a(71464),d=new f({initialize:function(v){this.world=v,this.scene=v.scene,this.sys=v.scene.sys},collider:function(p,v,x,y,_){return this.world.addCollider(p,v,x,y,_)},overlap:function(p,v,x,y,_){return this.world.addOverlap(p,v,x,y,_)},existing:function(p,v){return this.world.enableBody(p,v?h.STATIC_BODY:h.DYNAMIC_BODY),p},staticImage:function(p,v,x,y){var _=new w(this.scene,p,v,x,y);return this.sys.displayList.add(_),this.world.enableBody(_,h.STATIC_BODY),_},image:function(p,v,x,y){var _=new w(this.scene,p,v,x,y);return this.sys.displayList.add(_),this.world.enableBody(_,h.DYNAMIC_BODY),_},staticSprite:function(p,v,x,y){var _=new T(this.scene,p,v,x,y);return this.sys.displayList.add(_),this.sys.updateList.add(_),this.world.enableBody(_,h.STATIC_BODY),_},sprite:function(p,v,x,y){var _=new T(this.scene,p,v,x,y);return this.sys.displayList.add(_),this.sys.updateList.add(_),this.world.enableBody(_,h.DYNAMIC_BODY),_},staticGroup:function(p,v){return this.sys.updateList.add(new m(this.world,this.world.scene,p,v))},group:function(p,v){return this.sys.updateList.add(new c(this.world,this.world.scene,p,v))},body:function(p,v,x,y){var _=new g(this.world);return _.position.set(p,v),x&&y&&_.setSize(x,y),this.world.add(_,h.DYNAMIC_BODY),_},staticBody:function(p,v,x,y){var _=new u(this.world);return _.position.set(p,v),x&&y&&_.setSize(x,y),this.world.add(_,h.STATIC_BODY),_},destroy:function(){this.world=null,this.scene=null,this.sys=null}});S.exports=d},79599:S=>{S.exports=function(a){var w=0;if(Array.isArray(a))for(var T=0;T<a.length;T++)w|=a[T];else w=a;return w}},64897:(S,P,a)=>{var w=a(37747);S.exports=function(g,f,h,c){var u=0,m=g.deltaAbsX()+f.deltaAbsX()+c;return 0===g._dx&&0===f._dx?(g.embedded=!0,f.embedded=!0):g._dx>f._dx?(u=g.right-f.x)>m&&!h||!1===g.checkCollision.right||!1===f.checkCollision.left?u=0:(g.touching.none=!1,g.touching.right=!0,f.touching.none=!1,f.touching.left=!0,f.physicsType===w.STATIC_BODY&&!h&&(g.blocked.none=!1,g.blocked.right=!0),g.physicsType===w.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.left=!0)):g._dx<f._dx&&(-(u=g.x-f.width-f.x)>m&&!h||!1===g.checkCollision.left||!1===f.checkCollision.right?u=0:(g.touching.none=!1,g.touching.left=!0,f.touching.none=!1,f.touching.right=!0,f.physicsType===w.STATIC_BODY&&!h&&(g.blocked.none=!1,g.blocked.left=!0),g.physicsType===w.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.right=!0))),g.overlapX=u,f.overlapX=u,u}},45170:(S,P,a)=>{var w=a(37747);S.exports=function(g,f,h,c){var u=0,m=g.deltaAbsY()+f.deltaAbsY()+c;return 0===g._dy&&0===f._dy?(g.embedded=!0,f.embedded=!0):g._dy>f._dy?(u=g.bottom-f.y)>m&&!h||!1===g.checkCollision.down||!1===f.checkCollision.up?u=0:(g.touching.none=!1,g.touching.down=!0,f.touching.none=!1,f.touching.up=!0,f.physicsType===w.STATIC_BODY&&!h&&(g.blocked.none=!1,g.blocked.down=!0),g.physicsType===w.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.up=!0)):g._dy<f._dy&&(-(u=g.y-f.bottom)>m&&!h||!1===g.checkCollision.up||!1===f.checkCollision.down?u=0:(g.touching.none=!1,g.touching.up=!0,f.touching.none=!1,f.touching.down=!0,f.physicsType===w.STATIC_BODY&&!h&&(g.blocked.none=!1,g.blocked.up=!0),g.physicsType===w.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.down=!0))),g.overlapY=u,f.overlapY=u,u}},60758:(S,P,a)=>{var w=a(13759),T=a(83419),g=a(78389),f=a(37747),h=a(95540),c=a(26479),u=a(41212),m=new T({Extends:c,Mixins:[g],initialize:function(p,v,x,y){if(x||y)if(u(x))y=x,x=null,y.internalCreateCallback=this.createCallbackHandler,y.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(x)&&u(x[0])){var _=this;x.forEach(function(E){E.internalCreateCallback=_.createCallbackHandler,E.internalRemoveCallback=_.removeCallbackHandler,E.classType=h(E,"classType",w)}),y=null}else y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=p,y&&(y.classType=h(y,"classType",w)),this.physicsType=f.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:h(y,"collideWorldBounds",!1),setBoundsRectangle:h(y,"customBoundsRectangle",null),setAccelerationX:h(y,"accelerationX",0),setAccelerationY:h(y,"accelerationY",0),setAllowDrag:h(y,"allowDrag",!0),setAllowGravity:h(y,"allowGravity",!0),setAllowRotation:h(y,"allowRotation",!0),setDamping:h(y,"useDamping",!1),setBounceX:h(y,"bounceX",0),setBounceY:h(y,"bounceY",0),setDragX:h(y,"dragX",0),setDragY:h(y,"dragY",0),setEnable:h(y,"enable",!0),setGravityX:h(y,"gravityX",0),setGravityY:h(y,"gravityY",0),setFrictionX:h(y,"frictionX",0),setFrictionY:h(y,"frictionY",0),setMaxSpeed:h(y,"maxSpeed",-1),setMaxVelocityX:h(y,"maxVelocityX",1e4),setMaxVelocityY:h(y,"maxVelocityY",1e4),setVelocityX:h(y,"velocityX",0),setVelocityY:h(y,"velocityY",0),setAngularVelocity:h(y,"angularVelocity",0),setAngularAcceleration:h(y,"angularAcceleration",0),setAngularDrag:h(y,"angularDrag",0),setMass:h(y,"mass",1),setImmovable:h(y,"immovable",!1)},c.call(this,v,x,y),this.type="PhysicsGroup"},createCallbackHandler:function(d){d.body||this.world.enableBody(d,f.DYNAMIC_BODY);var p=d.body;for(var v in this.defaults)p[v](this.defaults[v])},removeCallbackHandler:function(d){d.body&&this.world.disableBody(d)},setVelocity:function(d,p,v){void 0===v&&(v=0);for(var x=this.getChildren(),y=0;y<x.length;y++)x[y].body.velocity.set(d+y*v,p+y*v);return this},setVelocityX:function(d,p){void 0===p&&(p=0);for(var v=this.getChildren(),x=0;x<v.length;x++)v[x].body.velocity.x=d+x*p;return this},setVelocityY:function(d,p){void 0===p&&(p=0);for(var v=this.getChildren(),x=0;x<v.length;x++)v[x].body.velocity.y=d+x*p;return this}});S.exports=m},3017:S=>{var P,a,w,T,g,f,h,c,u,m,d,p,v,x,y,_,E,M=function(){return m&&y&&a.blocked.right?(P.processX(-E,h,!1,!0),1):u&&_&&a.blocked.left?(P.processX(E,h,!0),1):v&&_&&P.blocked.right?(a.processX(-E,c,!1,!0),2):p&&y&&P.blocked.left?(a.processX(E,c,!0),2):0},k=function(V){if(w&&T)E*=.5,0===V||3===V?(P.processX(E,g),a.processX(-E,f)):(P.processX(-E,g),a.processX(E,f));else if(w&&!T)0===V||3===V?P.processX(E,h,!0):P.processX(-E,h,!1,!0);else if(!w&&T)0===V||3===V?a.processX(-E,c,!1,!0):a.processX(E,c,!0);else{var B=.5*E;0===V?x?(P.processX(E,0,!0),a.processX(0,null,!1,!0)):v?(P.processX(B,0,!0),a.processX(-B,0,!1,!0)):(P.processX(B,a.velocity.x,!0),a.processX(-B,null,!1,!0)):1===V?d?(P.processX(0,null,!1,!0),a.processX(E,0,!0)):m?(P.processX(-B,0,!1,!0),a.processX(B,0,!0)):(P.processX(-B,null,!1,!0),a.processX(B,P.velocity.x,!0)):2===V?x?(P.processX(-E,0,!1,!0),a.processX(0,null,!0)):p?(P.processX(-B,0,!1,!0),a.processX(B,0,!0)):(P.processX(-B,a.velocity.x,!1,!0),a.processX(B,null,!0)):3===V&&(d?(P.processX(0,null,!0),a.processX(-E,0,!1,!0)):u?(P.processX(B,0,!0),a.processX(-B,0,!1,!0)):(P.processX(B,a.velocity.y,!0),a.processX(-B,null,!1,!0)))}return!0};S.exports={BlockCheck:M,Check:function(){var V=P.velocity.x,B=a.velocity.x,H=Math.sqrt(B*B*a.mass/P.mass)*(B>0?1:-1),Q=Math.sqrt(V*V*P.mass/a.mass)*(V>0?1:-1),G=.5*(H+Q);return g=G+(H-=G)*P.bounce.x,f=G+(Q-=G)*a.bounce.x,u&&_?k(0):p&&y?k(1):m&&y?k(2):!(!v||!_)&&k(3)},Set:function(V,B,H){var Q=(P=V).velocity.x,G=(a=B).velocity.x;return w=P.pushable,u=P._dx<0,m=P._dx>0,d=0===P._dx,y=Math.abs(P.right-a.x)<=Math.abs(a.right-P.x),h=G-Q*P.bounce.x,T=a.pushable,p=a._dx<0,v=a._dx>0,x=0===a._dx,_=!y,c=Q-G*a.bounce.x,E=Math.abs(H),M()},Run:k,RunImmovableBody1:function(V){1===V?a.velocity.x=0:y?a.processX(E,c,!0):a.processX(-E,c,!1,!0),P.moves&&(a.y+=(P.directControl?P.y-P.autoFrame.y:P.y-P.prev.y)*P.friction.y,a._dy=a.y-a.prev.y)},RunImmovableBody2:function(V){2===V?P.velocity.x=0:_?P.processX(E,h,!0):P.processX(-E,h,!1,!0),a.moves&&(P.y+=(a.directControl?a.y-a.autoFrame.y:a.y-a.prev.y)*a.friction.y,P._dy=P.y-P.prev.y)}}},47962:S=>{var P,a,w,T,g,f,h,c,u,m,d,p,v,x,y,_,E,M=function(){return m&&y&&a.blocked.down?(P.processY(-E,h,!1,!0),1):u&&_&&a.blocked.up?(P.processY(E,h,!0),1):v&&_&&P.blocked.down?(a.processY(-E,c,!1,!0),2):p&&y&&P.blocked.up?(a.processY(E,c,!0),2):0},k=function(V){if(w&&T)E*=.5,0===V||3===V?(P.processY(E,g),a.processY(-E,f)):(P.processY(-E,g),a.processY(E,f));else if(w&&!T)0===V||3===V?P.processY(E,h,!0):P.processY(-E,h,!1,!0);else if(!w&&T)0===V||3===V?a.processY(-E,c,!1,!0):a.processY(E,c,!0);else{var B=.5*E;0===V?x?(P.processY(E,0,!0),a.processY(0,null,!1,!0)):v?(P.processY(B,0,!0),a.processY(-B,0,!1,!0)):(P.processY(B,a.velocity.y,!0),a.processY(-B,null,!1,!0)):1===V?d?(P.processY(0,null,!1,!0),a.processY(E,0,!0)):m?(P.processY(-B,0,!1,!0),a.processY(B,0,!0)):(P.processY(-B,null,!1,!0),a.processY(B,P.velocity.y,!0)):2===V?x?(P.processY(-E,0,!1,!0),a.processY(0,null,!0)):p?(P.processY(-B,0,!1,!0),a.processY(B,0,!0)):(P.processY(-B,a.velocity.y,!1,!0),a.processY(B,null,!0)):3===V&&(d?(P.processY(0,null,!0),a.processY(-E,0,!1,!0)):u?(P.processY(B,0,!0),a.processY(-B,0,!1,!0)):(P.processY(B,a.velocity.y,!0),a.processY(-B,null,!1,!0)))}return!0};S.exports={BlockCheck:M,Check:function(){var V=P.velocity.y,B=a.velocity.y,H=Math.sqrt(B*B*a.mass/P.mass)*(B>0?1:-1),Q=Math.sqrt(V*V*P.mass/a.mass)*(V>0?1:-1),G=.5*(H+Q);return g=G+(H-=G)*P.bounce.y,f=G+(Q-=G)*a.bounce.y,u&&_?k(0):p&&y?k(1):m&&y?k(2):!(!v||!_)&&k(3)},Set:function(V,B,H){var Q=(P=V).velocity.y,G=(a=B).velocity.y;return w=P.pushable,u=P._dy<0,m=P._dy>0,d=0===P._dy,y=Math.abs(P.bottom-a.y)<=Math.abs(a.bottom-P.y),h=G-Q*P.bounce.y,T=a.pushable,p=a._dy<0,v=a._dy>0,x=0===a._dy,_=!y,c=Q-G*a.bounce.y,E=Math.abs(H),M()},Run:k,RunImmovableBody1:function(V){1===V?a.velocity.y=0:y?a.processY(E,c,!0):a.processY(-E,c,!1,!0),P.moves&&(a.x+=(P.directControl?P.x-P.autoFrame.x:P.x-P.prev.x)*P.friction.x,a._dx=a.x-a.prev.x)},RunImmovableBody2:function(V){2===V?P.velocity.y=0:_?P.processY(E,h,!0):P.processY(-E,h,!1,!0),a.moves&&(P.x+=(a.directControl?a.x-a.autoFrame.x:a.x-a.prev.x)*a.friction.x,P._dx=P.x-P.prev.x)}}},14087:(S,P,a)=>{var w=a(64897),T=a(3017);S.exports=function(f,h,c,u,m){void 0===m&&(m=w(f,h,c,u));var d=f.immovable,p=h.immovable;if(c||0===m||d&&p||f.customSeparateX||h.customSeparateX)return 0!==m||f.embedded&&h.embedded;var v=T.Set(f,h,m);return d||p?(d?T.RunImmovableBody1(v):p&&T.RunImmovableBody2(v),!0):v>0||T.Check()}},89936:(S,P,a)=>{var w=a(45170),T=a(47962);S.exports=function(f,h,c,u,m){void 0===m&&(m=w(f,h,c,u));var d=f.immovable,p=h.immovable;if(c||0===m||d&&p||f.customSeparateY||h.customSeparateY)return 0!==m||f.embedded&&h.embedded;var v=T.Set(f,h,m);return d||p?(d?T.RunImmovableBody1(v):p&&T.RunImmovableBody2(v),!0):v>0||T.Check()}},95829:S=>{S.exports=function(a,w){return void 0===w&&(w={}),w.none=a,w.up=!1,w.down=!1,w.left=!1,w.right=!1,a||(w.up=!0,w.down=!0,w.left=!0,w.right=!0),w}},72624:(S,P,a)=>{var w=a(87902),T=a(83419),g=a(78389),f=a(37747),h=a(37303),c=a(95829),u=a(26099),m=new T({Mixins:[g],initialize:function(p,v){var x=64,y=64,E=void 0!==v;E&&v.displayWidth&&(x=v.displayWidth,y=v.displayHeight),E||(v={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=p,this.gameObject=E?v:void 0,this.isBody=!0,this.debugShowBody=p.defaults.debugShowStaticBody,this.debugBodyColor=p.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new u,this.position=new u(v.x-x*v.originX,v.y-y*v.originY),this.width=x,this.height=y,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new u(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=u.ZERO,this.allowGravity=!1,this.gravity=u.ZERO,this.bounce=u.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=c(!1),this.touching=c(!0),this.wasTouching=c(!0),this.blocked=c(!0),this.physicsType=f.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(d,p){return d&&d!==this.gameObject&&(this.gameObject.body=null,d.body=this,this.gameObject=d),p&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var d=this.gameObject;return d.getTopLeft(this.position),this.width=d.displayWidth,this.height=d.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(d,p){return void 0===p&&(p=d),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d,p),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(d,p,v){void 0===v&&(v=!0);var x=this.gameObject;if(x&&x.frame&&(d||(d=x.frame.realWidth),p||(p=x.frame.realHeight)),this.world.staticTree.remove(this),this.width=d,this.height=p,this.halfWidth=Math.floor(d/2),this.halfHeight=Math.floor(p/2),v&&x&&x.getCenter){var y=x.displayWidth/2,_=x.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(y-this.halfWidth,_-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(d,p,v){return void 0===p&&(p=this.offset.x),void 0===v&&(v=this.offset.y),d>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=d,this.width=2*d,this.height=2*d,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(p,v),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(d,p){var v=this.gameObject;void 0===d&&(d=v.x),void 0===p&&(p=v.y),this.world.staticTree.remove(this),v.setPosition(d,p),v.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(d){return d.x=this.x,d.y=this.y,d.right=this.right,d.bottom=this.bottom,d},hitTest:function(d,p){return this.isCircle?w(this,d,p):h(this,d,p)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(d){var p=this.position,v=p.x+this.halfWidth,x=p.y+this.halfHeight;this.debugShowBody&&(d.lineStyle(d.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?d.strokeCircle(v,x,this.width/2):d.strokeRect(p.x,p.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(d){return d<=0&&(d=.1),this.mass=d,this},x:{get:function(){return this.position.x},set:function(d){this.world.staticTree.remove(this),this.position.x=d,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(d){this.world.staticTree.remove(this),this.position.y=d,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});S.exports=m},71464:(S,P,a)=>{var w=a(13759),T=a(83419),g=a(78389),f=a(37747),h=a(95540),c=a(26479),u=a(41212),m=new T({Extends:c,Mixins:[g],initialize:function(p,v,x,y){x||y?u(x)?(y=x,x=null,y.internalCreateCallback=this.createCallbackHandler,y.internalRemoveCallback=this.removeCallbackHandler,y.createMultipleCallback=this.createMultipleCallbackHandler,y.classType=h(y,"classType",w)):Array.isArray(x)&&u(x[0])?(y=x,x=null,y.forEach(function(_){_.internalCreateCallback=this.createCallbackHandler,_.internalRemoveCallback=this.removeCallbackHandler,_.createMultipleCallback=this.createMultipleCallbackHandler,_.classType=h(_,"classType",w)})):y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:w},this.world=p,this.physicsType=f.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,c.call(this,v,x,y),this.type="StaticPhysicsGroup"},createCallbackHandler:function(d){d.body||this.world.enableBody(d,f.STATIC_BODY)},removeCallbackHandler:function(d){d.body&&this.world.disableBody(d)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var d=this.children.entries,p=0;p<d.length;p++)d[p].body.reset();return this}});S.exports=m},82248:(S,P,a)=>{var w=a(55495),T=a(37742),g=a(45319),f=a(83419),h=a(79342),c=a(37747),u=a(20339),m=a(52816),d=a(50792),p=a(63012),v=a(43855),x=a(5470),y=a(94977),_=a(64897),E=a(45170),A=a(96523),M=a(35154),I=a(36383),k=a(25774),F=a(96602),N=a(87841),V=a(59542),B=a(40012),H=a(14087),Q=a(89936),G=a(35072),K=a(72624),tt=a(2483),at=a(61340),lt=a(26099),J=a(15994),it=new f({Extends:d,initialize:function(j,nt){d.call(this),this.scene=j,this.bodies=new G,this.staticBodies=new G,this.pendingDestroy=new G,this.colliders=new k,this.gravity=new lt(M(nt,"gravity.x",0),M(nt,"gravity.y",0)),this.bounds=new N(M(nt,"x",0),M(nt,"y",0),M(nt,"width",j.sys.scale.width),M(nt,"height",j.sys.scale.height)),this.checkCollision={up:M(nt,"checkCollision.up",!0),down:M(nt,"checkCollision.down",!0),left:M(nt,"checkCollision.left",!0),right:M(nt,"checkCollision.right",!0)},this.fps=M(nt,"fps",60),this.fixedStep=M(nt,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=M(nt,"timeScale",1),this.OVERLAP_BIAS=M(nt,"overlapBias",4),this.TILE_BIAS=M(nt,"tileBias",16),this.forceX=M(nt,"forceX",!1),this.isPaused=M(nt,"isPaused",!1),this._total=0,this.drawDebug=M(nt,"debug",!1),this.defaults={debugShowBody:M(nt,"debugShowBody",!0),debugShowStaticBody:M(nt,"debugShowStaticBody",!0),debugShowVelocity:M(nt,"debugShowVelocity",!0),bodyDebugColor:M(nt,"debugBodyColor",16711935),staticBodyDebugColor:M(nt,"debugStaticBodyColor",255),velocityDebugColor:M(nt,"debugVelocityColor",65280)},this.maxEntries=M(nt,"maxEntries",16),this.useTree=M(nt,"useTree",!0),this.tree=new V(this.maxEntries),this.staticTree=new V(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new at,this._tempMatrix2=new at,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(Y,j){void 0===j&&(j=c.DYNAMIC_BODY),Array.isArray(Y)||(Y=[Y]);for(var nt=0;nt<Y.length;nt++){var ht=Y[nt];if(ht.isParent)for(var gt=ht.getChildren(),wt=0;wt<gt.length;wt++){var St=gt[wt];St.isParent?this.enable(St,j):this.enableBody(St,j)}else this.enableBody(ht,j)}},enableBody:function(Y,j){return void 0===j&&(j=c.DYNAMIC_BODY),Y.hasTransformComponent&&(Y.body||(j===c.DYNAMIC_BODY?Y.body=new T(this,Y):j===c.STATIC_BODY&&(Y.body=new K(this,Y))),this.add(Y.body)),Y},add:function(Y){return Y.physicsType===c.DYNAMIC_BODY?this.bodies.set(Y):Y.physicsType===c.STATIC_BODY&&(this.staticBodies.set(Y),this.staticTree.insert(Y)),Y.enable=!0,Y},disable:function(Y){Array.isArray(Y)||(Y=[Y]);for(var j=0;j<Y.length;j++){var nt=Y[j];if(nt.isParent)for(var ht=nt.getChildren(),gt=0;gt<ht.length;gt++){var wt=ht[gt];wt.isParent?this.disable(wt):this.disableBody(wt.body)}else this.disableBody(nt.body)}},disableBody:function(Y){this.remove(Y),Y.enable=!1},remove:function(Y){Y.physicsType===c.DYNAMIC_BODY?(this.tree.remove(Y),this.bodies.delete(Y)):Y.physicsType===c.STATIC_BODY&&(this.staticBodies.delete(Y),this.staticTree.remove(Y))},createDebugGraphic:function(){var Y=this.scene.sys.add.graphics({x:0,y:0});return Y.setDepth(Number.MAX_VALUE),this.debugGraphic=Y,this.drawDebug=!0,Y},setBounds:function(Y,j,nt,ht,gt,wt,St,Bt){return this.bounds.setTo(Y,j,nt,ht),void 0!==gt&&this.setBoundsCollision(gt,wt,St,Bt),this},setBoundsCollision:function(Y,j,nt,ht){return void 0===Y&&(Y=!0),void 0===j&&(j=!0),void 0===nt&&(nt=!0),void 0===ht&&(ht=!0),this.checkCollision.left=Y,this.checkCollision.right=j,this.checkCollision.up=nt,this.checkCollision.down=ht,this},pause:function(){return this.isPaused=!0,this.emit(p.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(p.RESUME),this},addCollider:function(Y,j,nt,ht,gt){void 0===nt&&(nt=null),void 0===ht&&(ht=null),void 0===gt&&(gt=nt);var wt=new h(this,!1,Y,j,nt,ht,gt);return this.colliders.add(wt),wt},addOverlap:function(Y,j,nt,ht,gt){void 0===nt&&(nt=null),void 0===ht&&(ht=null),void 0===gt&&(gt=nt);var wt=new h(this,!0,Y,j,nt,ht,gt);return this.colliders.add(wt),wt},removeCollider:function(Y){return this.colliders.remove(Y),this},setFPS:function(Y){return this.fps=Y,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(Y,j){if(!this.isPaused&&0!==this.bodies.size){var nt,ht=this._frameTime,gt=this._frameTimeMS*this.timeScale;this._elapsed+=j;var wt,St=this.bodies.entries,Bt=this._elapsed>=gt;for(this.fixedStep||(ht=.001*j,Bt=!0,this._elapsed=0),nt=0;nt<St.length;nt++)(wt=St[nt]).enable&&wt.preUpdate(Bt,ht);if(Bt){this._elapsed-=gt,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(St));var Yt=this.colliders.update();for(nt=0;nt<Yt.length;nt++){var $t=Yt[nt];$t.active&&$t.update()}this.emit(p.WORLD_STEP,ht)}for(;this._elapsed>=gt;)this._elapsed-=gt,this.step(ht)}},step:function(Y){var j,nt,ht=this.bodies.entries,gt=ht.length;for(j=0;j<gt;j++)(nt=ht[j]).enable&&nt.update(Y);this.useTree&&(this.tree.clear(),this.tree.load(ht));var wt=this.colliders.update();for(j=0;j<wt.length;j++){var St=wt[j];St.active&&St.update()}this.emit(p.WORLD_STEP,Y),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var Y,j,nt=this.bodies.entries,ht=nt.length,gt=this.bodies,wt=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,Y=0;Y<ht;Y++)(j=nt[Y]).enable&&j.postUpdate();if(this.drawDebug){var St=this.debugGraphic;for(St.clear(),Y=0;Y<ht;Y++)(j=nt[Y]).willDrawDebug()&&j.drawDebug(St);for(ht=(nt=wt.entries).length,Y=0;Y<ht;Y++)(j=nt[Y]).willDrawDebug()&&j.drawDebug(St)}var Bt=this.pendingDestroy;if(Bt.size>0){var Yt=this.tree,$t=this.staticTree;for(ht=(nt=Bt.entries).length,Y=0;Y<ht;Y++)(j=nt[Y]).physicsType===c.DYNAMIC_BODY?(Yt.remove(j),gt.delete(j)):j.physicsType===c.STATIC_BODY&&($t.remove(j),wt.delete(j)),j.world=void 0,j.gameObject=void 0;Bt.clear()}},updateMotion:function(Y,j){Y.allowRotation&&this.computeAngularVelocity(Y,j),this.computeVelocity(Y,j)},computeAngularVelocity:function(Y,j){var nt=Y.angularVelocity,ht=Y.angularAcceleration,gt=Y.angularDrag,wt=Y.maxAngular;ht?nt+=ht*j:Y.allowDrag&&gt&&(x(nt-(gt*=j),0,.1)?nt-=gt:y(nt+gt,0,.1)?nt+=gt:nt=0),nt=g(nt,-wt,wt),Y.angularVelocity+=nt-Y.angularVelocity,Y.rotation+=Y.angularVelocity*j},computeVelocity:function(Y,j){var nt=Y.velocity.x,ht=Y.acceleration.x,gt=Y.drag.x,wt=Y.maxVelocity.x,St=Y.velocity.y,Bt=Y.acceleration.y,Yt=Y.drag.y,$t=Y.maxVelocity.y,qt=Y.speed,ne=Y.maxSpeed,le=Y.allowDrag,Me=Y.useDamping;Y.allowGravity&&(nt+=(this.gravity.x+Y.gravity.x)*j,St+=(this.gravity.y+Y.gravity.y)*j),ht?nt+=ht*j:le&&gt&&(Me?(nt*=gt=Math.pow(gt,j),qt=Math.sqrt(nt*nt+St*St),v(qt,0,.001)&&(nt=0)):x(nt-(gt*=j),0,.01)?nt-=gt:y(nt+gt,0,.01)?nt+=gt:nt=0),Bt?St+=Bt*j:le&&Yt&&(Me?(St*=Yt=Math.pow(Yt,j),qt=Math.sqrt(nt*nt+St*St),v(qt,0,.001)&&(St=0)):x(St-(Yt*=j),0,.01)?St-=Yt:y(St+Yt,0,.01)?St+=Yt:St=0),nt=g(nt,-wt,wt),St=g(St,-$t,$t),Y.velocity.set(nt,St),ne>-1&&Y.velocity.length()>ne&&(Y.velocity.normalize().scale(ne),qt=ne),Y.speed=qt},separate:function(Y,j,nt,ht,gt){var wt,St,Bt=!1,Yt=!0;if(!Y.enable||!j.enable||Y.checkCollision.none||j.checkCollision.none||!this.intersects(Y,j)||nt&&!1===nt.call(ht,Y.gameObject||Y,j.gameObject||j))return Bt;if(Y.isCircle||j.isCircle){var $t=this.separateCircle(Y,j,gt);$t.result?(Bt=!0,Yt=!1):(wt=$t.x,St=$t.y,Yt=!0)}if(Yt){var qt=!1,ne=!1,le=this.OVERLAP_BIAS;gt?(qt=H(Y,j,gt,le,wt),ne=Q(Y,j,gt,le,St)):this.forceX||Math.abs(this.gravity.y+Y.gravity.y)<Math.abs(this.gravity.x+Y.gravity.x)?(qt=H(Y,j,gt,le,wt),this.intersects(Y,j)&&(ne=Q(Y,j,gt,le,St))):(ne=Q(Y,j,gt,le,St),this.intersects(Y,j)&&(qt=H(Y,j,gt,le,wt))),Bt=qt||ne}return Bt&&(gt?(Y.onOverlap||j.onOverlap)&&this.emit(p.OVERLAP,Y.gameObject,j.gameObject,Y,j):(Y.onCollide||j.onCollide)&&this.emit(p.COLLIDE,Y.gameObject,j.gameObject,Y,j)),Bt},separateCircle:function(Y,j,nt){_(Y,j,!1,0),E(Y,j,!1,0);var gt=j.isCircle,wt=Y.center,St=j.center,Bt=Y.immovable,Yt=j.immovable,$t=Y.velocity,qt=j.velocity,ne=0,le=!0;if(Y.isCircle!==gt){le=!1;var Me=wt.x,pi=wt.y,Ie=Y.halfWidth,_i=j.position.x,we=j.position.y,ri=j.right,Ze=j.bottom;gt&&(Me=St.x,pi=St.y,Ie=j.halfWidth,_i=Y.position.x,we=Y.position.y,ri=Y.right,Ze=Y.bottom),pi<we?Me<_i?ne=u(Me,pi,_i,we)-Ie:Me>ri&&(ne=u(Me,pi,ri,we)-Ie):pi>Ze&&(Me<_i?ne=u(Me,pi,_i,Ze)-Ie:Me>ri&&(ne=u(Me,pi,ri,Ze)-Ie)),ne*=-1}else ne=Y.halfWidth+j.halfWidth-m(wt,St);Y.overlapR=ne,j.overlapR=ne;var zi=w(wt,St),Cn=(ne+I.EPSILON)*Math.cos(zi),sr=(ne+I.EPSILON)*Math.sin(zi),vn={overlap:ne,result:!1,x:Cn,y:sr};if(nt&&(!le||le&&0!==ne))return vn.result=!0,vn;if(!le&&0===ne||Bt&&Yt||Y.customSeparateX||j.customSeparateX)return vn.x=void 0,vn.y=void 0,vn;var bn=!Y.pushable&&!j.pushable;if(le){var cs=wt.y-St.y,Dn=Math.sqrt(Math.pow(wt.x-St.x,2)+Math.pow(cs,2)),xr=(St.x-wt.x)/Dn||0,ts=(St.y-wt.y)/Dn||0,Xs=2*($t.x*xr+$t.y*ts-qt.x*xr-qt.y*ts)/(Y.mass+j.mass);(Bt||Yt||!Y.pushable||!j.pushable)&&(Xs*=2),!Bt&&Y.pushable&&($t.x=$t.x-Xs/Y.mass*xr,$t.y=$t.y-Xs/Y.mass*ts,$t.multiply(Y.bounce)),!Yt&&j.pushable&&(qt.x=qt.x+Xs/j.mass*xr,qt.y=qt.y+Xs/j.mass*ts,qt.multiply(j.bounce)),!Bt&&!Yt&&(Cn*=.5,sr*=.5),!Bt||Y.pushable||bn?(Y.x-=Cn,Y.y-=sr,Y.updateCenter()):(!Yt||j.pushable||bn)&&(j.x+=Cn,j.y+=sr,j.updateCenter()),vn.result=!0}else!Bt||Y.pushable||bn?(Y.x-=Cn,Y.y-=sr,Y.updateCenter()):(!Yt||j.pushable||bn)&&(j.x+=Cn,j.y+=sr,j.updateCenter()),vn.x=void 0,vn.y=void 0;return vn},intersects:function(Y,j){return Y!==j&&(Y.isCircle||j.isCircle?Y.isCircle?j.isCircle?m(Y.center,j.center)<=Y.halfWidth+j.halfWidth:this.circleBodyIntersects(Y,j):this.circleBodyIntersects(j,Y):!(Y.right<=j.left||Y.bottom<=j.top||Y.left>=j.right||Y.top>=j.bottom))},circleBodyIntersects:function(Y,j){var nt=g(Y.center.x,j.left,j.right),ht=g(Y.center.y,j.top,j.bottom);return(Y.center.x-nt)*(Y.center.x-nt)+(Y.center.y-ht)*(Y.center.y-ht)<=Y.halfWidth*Y.halfWidth},overlap:function(Y,j,nt,ht,gt){return void 0===nt&&(nt=null),void 0===ht&&(ht=null),void 0===gt&&(gt=nt),this.collideObjects(Y,j,nt,ht,gt,!0)},collide:function(Y,j,nt,ht,gt){return void 0===nt&&(nt=null),void 0===ht&&(ht=null),void 0===gt&&(gt=nt),this.collideObjects(Y,j,nt,ht,gt,!1)},collideObjects:function(Y,j,nt,ht,gt,wt){var St,Bt;Y.isParent&&(void 0===Y.physicsType||void 0===j||Y===j)&&(Y=Y.children.entries),j&&j.isParent&&void 0===j.physicsType&&(j=j.children.entries);var Yt=Array.isArray(Y),$t=Array.isArray(j);if(this._total=0,Yt||$t)if(!Yt&&$t)for(St=0;St<j.length;St++)this.collideHandler(Y,j[St],nt,ht,gt,wt);else if(Yt&&!$t)if(j)for(St=0;St<Y.length;St++)this.collideHandler(Y[St],j,nt,ht,gt,wt);else for(St=0;St<Y.length;St++){var qt=Y[St];for(Bt=St+1;Bt<Y.length;Bt++)St!==Bt&&this.collideHandler(qt,Y[Bt],nt,ht,gt,wt)}else for(St=0;St<Y.length;St++)for(Bt=0;Bt<j.length;Bt++)this.collideHandler(Y[St],j[Bt],nt,ht,gt,wt);else this.collideHandler(Y,j,nt,ht,gt,wt);return this._total>0},collideHandler:function(Y,j,nt,ht,gt,wt){if(void 0===j&&Y.isParent)return this.collideGroupVsGroup(Y,Y,nt,ht,gt,wt);if(!Y||!j)return!1;if(Y.body||Y.isBody){if(j.body||j.isBody)return this.collideSpriteVsSprite(Y,j,nt,ht,gt,wt);if(j.isParent)return this.collideSpriteVsGroup(Y,j,nt,ht,gt,wt);if(j.isTilemap)return this.collideSpriteVsTilemapLayer(Y,j,nt,ht,gt,wt)}else if(Y.isParent){if(j.body||j.isBody)return this.collideSpriteVsGroup(j,Y,nt,ht,gt,wt);if(j.isParent)return this.collideGroupVsGroup(Y,j,nt,ht,gt,wt);if(j.isTilemap)return this.collideGroupVsTilemapLayer(Y,j,nt,ht,gt,wt)}else if(Y.isTilemap){if(j.body||j.isBody)return this.collideSpriteVsTilemapLayer(j,Y,nt,ht,gt,wt);if(j.isParent)return this.collideGroupVsTilemapLayer(j,Y,nt,ht,gt,wt)}},canCollide:function(Y,j){return Y&&j&&!!(Y.collisionMask&j.collisionCategory)&&!!(j.collisionMask&Y.collisionCategory)},collideSpriteVsSprite:function(Y,j,nt,ht,gt,wt){var St=Y.isBody?Y:Y.body,Bt=j.isBody?j:j.body;return!!this.canCollide(St,Bt)&&(this.separate(St,Bt,ht,gt,wt)&&(nt&&nt.call(gt,Y,j),this._total++),!0)},collideSpriteVsGroup:function(Y,j,nt,ht,gt,wt){var Bt,Yt,$t,St=Y.isBody?Y:Y.body;if(0!==j.getLength()&&St&&St.enable&&!St.checkCollision.none&&this.canCollide(St,j))if(this.useTree||j.physicsType===c.STATIC_BODY){var qt=this.treeMinMax;qt.minX=St.left,qt.minY=St.top,qt.maxX=St.right,qt.maxY=St.bottom;var ne=j.physicsType===c.DYNAMIC_BODY?this.tree.search(qt):this.staticTree.search(qt);for(Yt=ne.length,Bt=0;Bt<Yt;Bt++)St!==($t=ne[Bt])&&$t.enable&&!$t.checkCollision.none&&j.contains($t.gameObject)&&this.separate(St,$t,ht,gt,wt)&&(nt&&nt.call(gt,St.gameObject,$t.gameObject),this._total++)}else{var le=j.getChildren(),Me=j.children.entries.indexOf(Y);for(Yt=le.length,Bt=0;Bt<Yt;Bt++)($t=le[Bt].body)&&Bt!==Me&&$t.enable&&this.separate(St,$t,ht,gt,wt)&&(nt&&nt.call(gt,St.gameObject,$t.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(Y,j,nt,ht,gt,wt){if(!this.canCollide(Y,j))return!1;var St=Y.getChildren();if(0===St.length)return!1;for(var Bt=!1,Yt=0;Yt<St.length;Yt++)(St[Yt].body||St[Yt].isBody)&&this.collideSpriteVsTilemapLayer(St[Yt],j,nt,ht,gt,wt)&&(Bt=!0);return Bt},collideTiles:function(Y,j,nt,ht,gt){return!(0===j.length||Y.body&&!Y.body.enable||Y.isBody&&!Y.enable)&&this.collideSpriteVsTilesHandler(Y,j,nt,ht,gt,!1,!1)},overlapTiles:function(Y,j,nt,ht,gt){return!(0===j.length||Y.body&&!Y.body.enable||Y.isBody&&!Y.enable)&&this.collideSpriteVsTilesHandler(Y,j,nt,ht,gt,!0,!1)},collideSpriteVsTilemapLayer:function(Y,j,nt,ht,gt,wt){var St=Y.isBody?Y:Y.body;if(!St.enable||St.checkCollision.none||!this.canCollide(St,j))return!1;var Bt=j.layer,Me=A(St.x-Bt.tileWidth*j.scaleX,St.y-Bt.tileHeight*j.scaleY,St.width+Bt.tileWidth*j.scaleX,St.height+Bt.tileHeight*j.scaleY,wt?null:this.tileFilterOptions,j.scene.cameras.main,j.layer);return 0!==Me.length&&this.collideSpriteVsTilesHandler(Y,Me,nt,ht,gt,wt,!0)},collideSpriteVsTilesHandler:function(Y,j,nt,ht,gt,wt,St){for(var Yt,qt,Bt=Y.isBody?Y:Y.body,$t={left:0,right:0,top:0,bottom:0},ne=!1,le=0;le<j.length;le++){var Me=(qt=(Yt=j[le]).tilemapLayer).tileToWorldXY(Yt.x,Yt.y);$t.left=Me.x,$t.top=Me.y,$t.right=$t.left+Yt.width*qt.scaleX,$t.bottom=$t.top+Yt.height*qt.scaleY,tt($t,Bt)&&(!ht||ht.call(gt,Y,Yt))&&F(Yt,Y)&&(wt||B(le,Bt,Yt,$t,qt,this.TILE_BIAS,St))&&(this._total++,ne=!0,nt&&nt.call(gt,Y,Yt),wt&&Bt.onOverlap?this.emit(p.TILE_OVERLAP,Y,Yt,Bt):Bt.onCollide&&this.emit(p.TILE_COLLIDE,Y,Yt,Bt))}return ne},collideGroupVsGroup:function(Y,j,nt,ht,gt,wt){if(0!==Y.getLength()&&0!==j.getLength()&&this.canCollide(Y,j))for(var St=Y.getChildren(),Bt=0;Bt<St.length;Bt++)this.collideSpriteVsGroup(St[Bt],j,nt,ht,gt,wt)},wrap:function(Y,j){Y.body?this.wrapObject(Y,j):Y.getChildren?this.wrapArray(Y.getChildren(),j):Array.isArray(Y)?this.wrapArray(Y,j):this.wrapObject(Y,j)},wrapArray:function(Y,j){for(var nt=0;nt<Y.length;nt++)this.wrapObject(Y[nt],j)},wrapObject:function(Y,j){void 0===j&&(j=0),Y.x=J(Y.x,this.bounds.left-j,this.bounds.right+j),Y.y=J(Y.y,this.bounds.top-j,this.bounds.bottom+j)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});S.exports=it},1093:S=>{S.exports={setAcceleration:function(a,w){return this.body.acceleration.set(a,w),this},setAccelerationX:function(a){return this.body.acceleration.x=a,this},setAccelerationY:function(a){return this.body.acceleration.y=a,this}}},59023:S=>{S.exports={setAngularVelocity:function(a){return this.body.angularVelocity=a,this},setAngularAcceleration:function(a){return this.body.angularAcceleration=a,this},setAngularDrag:function(a){return this.body.angularDrag=a,this}}},62069:S=>{S.exports={setBounce:function(a,w){return this.body.bounce.set(a,w),this},setBounceX:function(a){return this.body.bounce.x=a,this},setBounceY:function(a){return this.body.bounce.y=a,this},setCollideWorldBounds:function(a,w,T,g){return this.body.setCollideWorldBounds(a,w,T,g),this}}},78389:(S,P,a)=>{var w=a(79599);S.exports={setCollisionCategory:function(g){return(this.body?this.body:this).collisionCategory=g,this},willCollideWith:function(g){return!!((this.body?this.body:this).collisionMask&g)},addCollidesWith:function(g){var f=this.body?this.body:this;return f.collisionMask=f.collisionMask|g,this},removeCollidesWith:function(g){var f=this.body?this.body:this;return f.collisionMask=f.collisionMask&~g,this},setCollidesWith:function(g){return(this.body?this.body:this).collisionMask=w(g),this},resetCollisionCategory:function(){var g=this.body?this.body:this;return g.collisionCategory=1,g.collisionMask=2147483647,this}}},87118:S=>{S.exports={setDebug:function(a,w,T){return this.debugShowBody=a,this.debugShowVelocity=w,this.debugBodyColor=T,this},setDebugBodyColor:function(a){return this.body.debugBodyColor=a,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(a){this.body.debugShowBody=a}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(a){this.body.debugShowVelocity=a}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(a){this.body.debugBodyColor=a}}}},52819:S=>{S.exports={setDrag:function(a,w){return this.body.drag.set(a,w),this},setDragX:function(a){return this.body.drag.x=a,this},setDragY:function(a){return this.body.drag.y=a,this},setDamping:function(a){return this.body.useDamping=a,this}}},4074:S=>{S.exports={setDirectControl:function(a){return this.body.setDirectControl(a),this},enableBody:function(a,w,T,g,f){return a&&this.body.reset(w,T),g&&(this.body.gameObject.active=!0),f&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(a,w){return void 0===a&&(a=!1),void 0===w&&(w=!1),this.body.stop(),this.body.enable=!1,a&&(this.body.gameObject.active=!1),w&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}}},40831:S=>{S.exports={setFriction:function(a,w){return this.body.friction.set(a,w),this},setFrictionX:function(a){return this.body.friction.x=a,this},setFrictionY:function(a){return this.body.friction.y=a,this}}},26775:S=>{S.exports={setGravity:function(a,w){return this.body.gravity.set(a,w),this},setGravityX:function(a){return this.body.gravity.x=a,this},setGravityY:function(a){return this.body.gravity.y=a,this}}},9437:S=>{S.exports={setImmovable:function(a){return void 0===a&&(a=!0),this.body.immovable=a,this}}},30621:S=>{S.exports={setMass:function(a){return this.body.mass=a,this}}},72441:(S,P,a)=>{var w=a(47956),T=a(96503),g=a(2044),f=a(81491);S.exports=function(c,u,m,d,p,v){var x=w(c,u-d,m-d,2*d,2*d,p,v);if(0===x.length)return x;for(var y=new T(u,m,d),_=new T,E=[],A=0;A<x.length;A++){var M=x[A];M.isCircle?(_.setTo(M.center.x,M.center.y,M.halfWidth),g(y,_)&&E.push(M)):f(y,M)&&E.push(M)}return E}},47956:S=>{S.exports=function(a,w,T,g,f,h,c){void 0===h&&(h=!0),void 0===c&&(c=!1);var u=[],m=[],d=a.treeMinMax;if(d.minX=w,d.minY=T,d.maxX=w+g,d.maxY=T+f,c&&(m=a.staticTree.search(d)),h&&a.useTree)u=a.tree.search(d);else if(h){var v={position:{x:w,y:T},left:w,top:T,right:w+g,bottom:T+f,isCircle:!1},x=a.intersects;a.bodies.iterate(function(y){x(y,v)&&u.push(y)})}return m.concat(u)}},62121:S=>{S.exports={setPushable:function(a){return void 0===a&&(a=!0),this.body.pushable=a,this}}},29384:S=>{S.exports={setOffset:function(a,w){return this.body.setOffset(a,w),this},setSize:function(a,w,T){return this.body.setSize(a,w,T),this},setBodySize:function(a,w,T){return this.body.setSize(a,w,T),this},setCircle:function(a,w,T){return this.body.setCircle(a,w,T),this}}},15098:S=>{S.exports={setVelocity:function(a,w){return this.body.setVelocity(a,w),this},setVelocityX:function(a){return this.body.setVelocityX(a),this},setVelocityY:function(a){return this.body.setVelocityY(a),this},setMaxVelocity:function(a,w){return this.body.maxVelocity.set(a,w),this}}},92209:(S,P,a)=>{S.exports={Acceleration:a(1093),Angular:a(59023),Bounce:a(62069),Collision:a(78389),Debug:a(87118),Drag:a(52819),Enable:a(4074),Friction:a(40831),Gravity:a(26775),Immovable:a(9437),Mass:a(30621),OverlapCirc:a(72441),OverlapRect:a(47956),Pushable:a(62121),Size:a(29384),Velocity:a(15098)}},37747:S=>{S.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},20009:S=>{S.exports="collide"},36768:S=>{S.exports="overlap"},60473:S=>{S.exports="pause"},89954:S=>{S.exports="resume"},61804:S=>{S.exports="tilecollide"},7161:S=>{S.exports="tileoverlap"},34689:S=>{S.exports="worldbounds"},16006:S=>{S.exports="worldstep"},63012:(S,P,a)=>{S.exports={COLLIDE:a(20009),OVERLAP:a(36768),PAUSE:a(60473),RESUME:a(89954),TILE_COLLIDE:a(61804),TILE_OVERLAP:a(7161),WORLD_BOUNDS:a(34689),WORLD_STEP:a(16006)}},27064:(S,P,a)=>{var w=a(37747),T=a(79291),g={ArcadePhysics:a(86689),Body:a(37742),Collider:a(79342),Components:a(92209),Events:a(63012),Factory:a(66022),GetCollidesWith:a(79599),GetOverlapX:a(64897),GetOverlapY:a(45170),SeparateX:a(14087),SeparateY:a(89936),Group:a(60758),Image:a(71289),Sprite:a(13759),StaticBody:a(72624),StaticGroup:a(71464),Tilemap:a(55173),World:a(82248)};g=T(!1,g,w),S.exports=g},96602:S=>{S.exports=function(a,w){return a.collisionCallback?!a.collisionCallback.call(a.collisionCallbackContext,w,a):!a.layer.callbacks[a.index]||!a.layer.callbacks[a.index].callback.call(a.layer.callbacks[a.index].callbackContext,w,a)}},36294:S=>{S.exports=function(a,w){w<0?(a.blocked.none=!1,a.blocked.left=!0):w>0&&(a.blocked.none=!1,a.blocked.right=!0),a.position.x-=w,a.updateCenter(),a.velocity.x=0===a.bounce.x?0:-a.velocity.x*a.bounce.x}},67013:S=>{S.exports=function(a,w){w<0?(a.blocked.none=!1,a.blocked.up=!0):w>0&&(a.blocked.none=!1,a.blocked.down=!0),a.position.y-=w,a.updateCenter(),a.velocity.y=0===a.bounce.y?0:-a.velocity.y*a.bounce.y}},40012:(S,P,a)=>{var w=a(21329),T=a(53442),g=a(2483);S.exports=function(h,c,u,m,d,p,v){var x=m.left,y=m.top,_=m.right,E=m.bottom,A=u.faceLeft||u.faceRight,M=u.faceTop||u.faceBottom;if(v||(A=!0,M=!0),!A&&!M)return!1;var I=0,k=0,F=0,N=1;if(c.deltaAbsX()>c.deltaAbsY()?F=-1:c.deltaAbsX()<c.deltaAbsY()&&(N=-1),0!==c.deltaX()&&0!==c.deltaY()&&A&&M&&(F=Math.min(Math.abs(c.position.x-_),Math.abs(c.right-x)),N=Math.min(Math.abs(c.position.y-E),Math.abs(c.bottom-y))),F<N){if(A&&0!==(I=w(c,u,x,_,p,v))&&!g(m,c))return!0;M&&(k=T(c,u,y,E,p,v))}else{if(M&&0!==(k=T(c,u,y,E,p,v))&&!g(m,c))return!0;A&&(I=w(c,u,x,_,p,v))}return 0!==I||0!==k}},21329:(S,P,a)=>{var w=a(36294);S.exports=function(g,f,h,c,u,m){var d=0,p=f.faceLeft,v=f.faceRight,x=f.collideLeft,y=f.collideRight;return m||(p=!0,v=!0,x=!0,y=!0),g.deltaX()<0&&y&&g.checkCollision.left?v&&g.x<c&&(d=g.x-c)<-u&&(d=0):g.deltaX()>0&&x&&g.checkCollision.right&&p&&g.right>h&&(d=g.right-h)>u&&(d=0),0!==d&&(g.customSeparateX?g.overlapX=d:w(g,d)),d}},53442:(S,P,a)=>{var w=a(67013);S.exports=function(g,f,h,c,u,m){var d=0,p=f.faceTop,v=f.faceBottom,x=f.collideUp,y=f.collideDown;return m||(p=!0,v=!0,x=!0,y=!0),g.deltaY()<0&&y&&g.checkCollision.up?v&&g.y<c&&(d=g.y-c)<-u&&(d=0):g.deltaY()>0&&x&&g.checkCollision.down&&p&&g.bottom>h&&(d=g.bottom-h)>u&&(d=0),0!==d&&(g.customSeparateY?g.overlapY=d:w(g,d)),d}},2483:S=>{S.exports=function(a,w){return!(w.right<=a.left||w.bottom<=a.top||w.position.x>=a.right||w.position.y>=a.bottom)}},55173:(S,P,a)=>{var w={ProcessTileCallbacks:a(96602),ProcessTileSeparationX:a(36294),ProcessTileSeparationY:a(67013),SeparateTile:a(40012),TileCheckX:a(21329),TileCheckY:a(53442),TileIntersectsBody:a(2483)};S.exports=w},44563:(S,P,a)=>{S.exports={Arcade:a(27064),Matter:a(3875)}},68174:(S,P,a)=>{var w=a(83419),T=a(26099),g=new w({initialize:function(){this.boundsCenter=new T,this.centerDiff=new T},parseBody:function(f){if(!(f=f.hasOwnProperty("body")?f.body:f).hasOwnProperty("bounds")||!f.hasOwnProperty("centerOfMass"))return!1;var h=this.boundsCenter,c=this.centerDiff,u=f.bounds.max.x-f.bounds.min.x,m=f.bounds.max.y-f.bounds.min.y,d=u*f.centerOfMass.x,p=m*f.centerOfMass.y;return h.set(u/2,m/2),c.set(d-h.x,p-h.y),!0},getTopLeft:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var u=this.boundsCenter,m=this.centerDiff;return new T(h+u.x+m.x,c+u.y+m.y)}return!1},getTopCenter:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var m=this.centerDiff;return new T(h+m.x,c+this.boundsCenter.y+m.y)}return!1},getTopRight:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var u=this.boundsCenter,m=this.centerDiff;return new T(h-(u.x-m.x),c+u.y+m.y)}return!1},getLeftCenter:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var m=this.centerDiff;return new T(h+this.boundsCenter.x+m.x,c+m.y)}return!1},getCenter:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var u=this.centerDiff;return new T(h+u.x,c+u.y)}return!1},getRightCenter:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var m=this.centerDiff;return new T(h-(this.boundsCenter.x-m.x),c+m.y)}return!1},getBottomLeft:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var u=this.boundsCenter,m=this.centerDiff;return new T(h+u.x+m.x,c-(u.y-m.y))}return!1},getBottomCenter:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var m=this.centerDiff;return new T(h+m.x,c-(this.boundsCenter.y-m.y))}return!1},getBottomRight:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var u=this.boundsCenter,m=this.centerDiff;return new T(h-(u.x-m.x),c-(u.y-m.y))}return!1}});S.exports=g},19933:(S,P,a)=>{var w=a(6790);w.Body=a(22562),w.Composite=a(69351),w.World=a(4372),w.Collision=a(52284),w.Detector=a(81388),w.Pairs=a(99561),w.Pair=a(4506),w.Query=a(73296),w.Resolver=a(66272),w.Constraint=a(48140),w.Common=a(53402),w.Engine=a(48413),w.Events=a(35810),w.Sleeping=a(53614),w.Plugin=a(73832),w.Bodies=a(66280),w.Composites=a(74116),w.Axes=a(66615),w.Bounds=a(15647),w.Svg=a(74058),w.Vector=a(31725),w.Vertices=a(41598),w.World.add=w.Composite.add,w.World.remove=w.Composite.remove,w.World.addComposite=w.Composite.addComposite,w.World.addBody=w.Composite.addBody,w.World.addConstraint=w.Composite.addConstraint,w.World.clear=w.Composite.clear,S.exports=w},28137:(S,P,a)=>{var w=a(66280),T=a(83419),g=a(74116),f=a(48140),h=a(74058),c=a(75803),u=a(23181),m=a(34803),d=a(73834),p=a(19496),v=a(85791),x=a(98713),y=a(41598),_=new T({initialize:function(A){this.world=A,this.scene=A.scene,this.sys=A.scene.sys},rectangle:function(E,A,M,I,k){var F=w.rectangle(E,A,M,I,k);return this.world.add(F),F},trapezoid:function(E,A,M,I,k,F){var N=w.trapezoid(E,A,M,I,k,F);return this.world.add(N),N},circle:function(E,A,M,I,k){var F=w.circle(E,A,M,I,k);return this.world.add(F),F},polygon:function(E,A,M,I,k){var F=w.polygon(E,A,M,I,k);return this.world.add(F),F},fromVertices:function(E,A,M,I,k,F,N){"string"==typeof M&&(M=y.fromPath(M));var V=w.fromVertices(E,A,M,I,k,F,N);return this.world.add(V),V},fromPhysicsEditor:function(E,A,M,I,k){void 0===k&&(k=!0);var F=p.parseBody(E,A,M,I);return k&&!this.world.has(F)&&this.world.add(F),F},fromSVG:function(E,A,M,I,k,F){void 0===I&&(I=1),void 0===k&&(k={}),void 0===F&&(F=!0);for(var N=M.getElementsByTagName("path"),V=[],B=0;B<N.length;B++){var H=h.pathToVertices(N[B],30);1!==I&&y.scale(H,I,I),V.push(H)}var Q=w.fromVertices(E,A,V,k);return F&&this.world.add(Q),Q},fromJSON:function(E,A,M,I,k){void 0===I&&(I={}),void 0===k&&(k=!0);var F=v.parseBody(E,A,M,I);return F&&k&&this.world.add(F),F},imageStack:function(E,A,M,I,k,F,N,V,B){void 0===N&&(N=0),void 0===V&&(V=0),void 0===B&&(B={});var H=this.world,Q=this.sys.displayList;B.addToWorld=!1;var G=g.stack(M,I,k,F,N,V,function(K,tt){var at=new u(H,K,tt,E,A,B);return Q.add(at),at.body});return H.add(G),G},stack:function(E,A,M,I,k,F,N){var V=g.stack(E,A,M,I,k,F,N);return this.world.add(V),V},pyramid:function(E,A,M,I,k,F,N){var V=g.pyramid(E,A,M,I,k,F,N);return this.world.add(V),V},chain:function(E,A,M,I,k,F){return g.chain(E,A,M,I,k,F)},mesh:function(E,A,M,I,k){return g.mesh(E,A,M,I,k)},newtonsCradle:function(E,A,M,I,k){var F=g.newtonsCradle(E,A,M,I,k);return this.world.add(F),F},car:function(E,A,M,I,k){var F=g.car(E,A,M,I,k);return this.world.add(F),F},softBody:function(E,A,M,I,k,F,N,V,B,H){var Q=g.softBody(E,A,M,I,k,F,N,V,B,H);return this.world.add(Q),Q},joint:function(E,A,M,I,k){return this.constraint(E,A,M,I,k)},spring:function(E,A,M,I,k){return this.constraint(E,A,M,I,k)},constraint:function(E,A,M,I,k){void 0===I&&(I=1),void 0===k&&(k={}),k.bodyA="body"===E.type?E:E.body,k.bodyB="body"===A.type?A:A.body,isNaN(M)||(k.length=M),k.stiffness=I;var F=f.create(k);return this.world.add(F),F},worldConstraint:function(E,A,M,I){void 0===M&&(M=1),void 0===I&&(I={}),I.bodyB="body"===E.type?E:E.body,isNaN(A)||(I.length=A),I.stiffness=M;var k=f.create(I);return this.world.add(k),k},mouseSpring:function(E){return this.pointerConstraint(E)},pointerConstraint:function(E){void 0===E&&(E={}),E.hasOwnProperty("render")||(E.render={visible:!1});var A=new x(this.scene,this.world,E);return this.world.add(A.constraint),A},image:function(E,A,M,I,k){var F=new u(this.world,E,A,M,I,k);return this.sys.displayList.add(F),F},tileBody:function(E,A){return new d(this.world,E,A)},sprite:function(E,A,M,I,k){var F=new m(this.world,E,A,M,I,k);return this.sys.displayList.add(F),this.sys.updateList.add(F),F},gameObject:function(E,A,M){return c(this.world,E,A,M)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});S.exports=_},75803:(S,P,a)=>{var w=a(31884),T=a(95540),g=a(26099);function f(c){return!!c.get&&"function"==typeof c.get||!!c.set&&"function"==typeof c.set}S.exports=function(c,u,m,d){void 0===m&&(m={}),void 0===d&&(d=!0);var p=u.x,v=u.y;if(u.body={temp:!0,position:{x:p,y:v}},[w.Bounce,w.Collision,w.Force,w.Friction,w.Gravity,w.Mass,w.Sensor,w.SetBody,w.Sleep,w.Static,w.Transform,w.Velocity].forEach(function(_){for(var E in _)f(_[E])?Object.defineProperty(u,E,{get:_[E].get,set:_[E].set}):Object.defineProperty(u,E,{value:_[E]})}),u.world=c,u._tempVec2=new g(p,v),m.hasOwnProperty("type")&&"body"===m.type)u.setExistingBody(m,d);else{var y=T(m,"shape",null);y||(y="rectangle"),m.addToWorld=d,u.setBody(y,m)}return u}},23181:(S,P,a)=>{var w=a(83419),T=a(31884),g=a(95643),f=a(95540),h=a(88571),c=a(72699),u=a(26099),m=new w({Extends:h,Mixins:[T.Bounce,T.Collision,T.Force,T.Friction,T.Gravity,T.Mass,T.Sensor,T.SetBody,T.Sleep,T.Static,T.Transform,T.Velocity,c],initialize:function(p,v,x,y,_,E){g.call(this,p.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(y,_),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new u(v,x);var A=f(E,"shape",null);A?this.setBody(A,E):this.setRectangle(this.width,this.height,E),this.setPosition(v,x),this.initPipeline(),this.initPostPipeline(!0)}});S.exports=m},42045:(S,P,a)=>{var w=a(60461),T=a(66615),g=a(66280),f=a(22562),h=a(68174),c=a(15647),u=a(83419),m=a(52284),d=a(53402),p=a(69351),v=a(74116),x=a(48140),y=a(81388),_=a(20339),E=a(28137),A=a(95540),M=a(35154),I=a(46975),k=a(4506),F=a(99561),N=a(37277),V=a(73296),B=a(66272),H=a(44594),Q=a(74058),G=a(31725),K=a(41598),tt=a(68243);d.setDecomp(a(55973));var at=new u({initialize:function(J){this.scene=J,this.systems=J.sys,this.config=this.getConfig(),this.body=f,this.composite=p,this.collision=m,this.detector=y,this.pair=k,this.pairs=F,this.query=V,this.resolver=B,this.constraint=x,this.bodies=g,this.composites=v,this.axes=T,this.bounds=c,this.svg=Q,this.vector=G,this.vertices=K,this.verts=K,this._tempVec2=G.create(),B._restingThresh=M(this.config,"restingThresh",4),B._restingThreshTangent=M(this.config,"restingThreshTangent",6),B._positionDampen=M(this.config,"positionDampen",.9),B._positionWarming=M(this.config,"positionWarming",.8),B._frictionNormalMultiplier=M(this.config,"frictionNormalMultiplier",5),J.sys.events.once(H.BOOT,this.boot,this),J.sys.events.on(H.START,this.start,this)},boot:function(){this.world=new tt(this.scene,this.config),this.add=new E(this.world),this.bodyBounds=new h,this.systems.events.once(H.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new tt(this.scene,this.config),this.add=new E(this.world));var lt=this.systems.events;lt.on(H.UPDATE,this.world.update,this.world),lt.on(H.POST_UPDATE,this.world.postUpdate,this.world),lt.once(H.SHUTDOWN,this.shutdown,this)},getConfig:function(){var lt=this.systems.game.config.physics;return I(A(this.systems.settings.physics,"matter",{}),A(lt,"matter",{}))},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(lt,J){this.world.step(lt,J)},containsPoint:function(lt,J,it){lt=this.getMatterBodies(lt);var Y=G.create(J,it);return V.point(lt,Y).length>0},intersectPoint:function(lt,J,it){it=this.getMatterBodies(it);var Y=G.create(lt,J),j=[];return V.point(it,Y).forEach(function(ht){-1===j.indexOf(ht)&&j.push(ht)}),j},intersectRect:function(lt,J,it,Y,j,nt){void 0===j&&(j=!1),nt=this.getMatterBodies(nt);var gt=[];return V.region(nt,{min:{x:lt,y:J},max:{x:lt+it,y:J+Y}},j).forEach(function(St){-1===gt.indexOf(St)&&gt.push(St)}),gt},intersectRay:function(lt,J,it,Y,j,nt){void 0===j&&(j=1),nt=this.getMatterBodies(nt);for(var ht=[],gt=V.ray(nt,G.create(lt,J),G.create(it,Y),j),wt=0;wt<gt.length;wt++)ht.push(gt[wt].body);return ht},intersectBody:function(lt,J){J=this.getMatterBodies(J);for(var it=[],Y=V.collides(lt,J),j=0;j<Y.length;j++){var nt=Y[j];it.push(nt.bodyA===lt?nt.bodyB:nt.bodyA)}return it},overlap:function(lt,J,it,Y,j){void 0===it&&(it=null),void 0===Y&&(Y=null),void 0===j&&(j=it),Array.isArray(lt)||(lt=[lt]),lt=this.getMatterBodies(lt),J=this.getMatterBodies(J);for(var nt=!1,ht=0;ht<lt.length;ht++)for(var gt=lt[ht],wt=V.collides(gt,J),St=0;St<wt.length;St++){var Bt=wt[St],Yt=Bt.bodyA.id===gt.id?Bt.bodyB:Bt.bodyA;if(!Y||Y.call(j,gt,Yt,Bt))if(nt=!0,it)it.call(j,gt,Yt,Bt);else if(!Y)return!0}return nt},setCollisionCategory:function(lt,J){return(lt=this.getMatterBodies(lt)).forEach(function(it){it.collisionFilter.category=J}),this},setCollisionGroup:function(lt,J){return(lt=this.getMatterBodies(lt)).forEach(function(it){it.collisionFilter.group=J}),this},setCollidesWith:function(lt,J){lt=this.getMatterBodies(lt);var it=0;if(Array.isArray(J))for(var Y=0;Y<J.length;Y++)it|=J[Y];else it=J;return lt.forEach(function(j){j.collisionFilter.mask=it}),this},getMatterBodies:function(lt){if(!lt)return this.world.getAllBodies();Array.isArray(lt)||(lt=[lt]);for(var J=[],it=0;it<lt.length;it++){var Y=lt[it].hasOwnProperty("body")?lt[it].body:lt[it];J.push(Y)}return J},setVelocity:function(lt,J,it){lt=this.getMatterBodies(lt);var Y=this._tempVec2;return Y.x=J,Y.y=it,lt.forEach(function(j){f.setVelocity(j,Y)}),this},setVelocityX:function(lt,J){lt=this.getMatterBodies(lt);var it=this._tempVec2;return it.x=J,lt.forEach(function(Y){it.y=Y.velocity.y,f.setVelocity(Y,it)}),this},setVelocityY:function(lt,J){lt=this.getMatterBodies(lt);var it=this._tempVec2;return it.y=J,lt.forEach(function(Y){it.x=Y.velocity.x,f.setVelocity(Y,it)}),this},setAngularVelocity:function(lt,J){return(lt=this.getMatterBodies(lt)).forEach(function(it){f.setAngularVelocity(it,J)}),this},applyForce:function(lt,J){lt=this.getMatterBodies(lt);var it=this._tempVec2;return lt.forEach(function(Y){it.x=Y.position.x,it.y=Y.position.y,f.applyForce(Y,it,J)}),this},applyForceFromPosition:function(lt,J,it,Y){lt=this.getMatterBodies(lt);var j=this._tempVec2;return lt.forEach(function(nt){void 0===Y&&(Y=nt.angle),j.x=it*Math.cos(Y),j.y=it*Math.sin(Y),f.applyForce(nt,J,j)}),this},applyForceFromAngle:function(lt,J,it){lt=this.getMatterBodies(lt);var Y=this._tempVec2;return lt.forEach(function(j){void 0===it&&(it=j.angle),Y.x=J*Math.cos(it),Y.y=J*Math.sin(it),f.applyForce(j,{x:j.position.x,y:j.position.y},Y)}),this},getConstraintLength:function(lt){var J=lt.pointA.x,it=lt.pointA.y,Y=lt.pointB.x,j=lt.pointB.y;return lt.bodyA&&(J+=lt.bodyA.position.x,it+=lt.bodyA.position.y),lt.bodyB&&(Y+=lt.bodyB.position.x,j+=lt.bodyB.position.y),_(J,it,Y,j)},alignBody:function(lt,J,it,Y){var j;switch(lt=lt.hasOwnProperty("body")?lt.body:lt,Y){case w.TOP_LEFT:case w.LEFT_TOP:j=this.bodyBounds.getTopLeft(lt,J,it);break;case w.TOP_CENTER:j=this.bodyBounds.getTopCenter(lt,J,it);break;case w.TOP_RIGHT:case w.RIGHT_TOP:j=this.bodyBounds.getTopRight(lt,J,it);break;case w.LEFT_CENTER:j=this.bodyBounds.getLeftCenter(lt,J,it);break;case w.CENTER:j=this.bodyBounds.getCenter(lt,J,it);break;case w.RIGHT_CENTER:j=this.bodyBounds.getRightCenter(lt,J,it);break;case w.LEFT_BOTTOM:case w.BOTTOM_LEFT:j=this.bodyBounds.getBottomLeft(lt,J,it);break;case w.BOTTOM_CENTER:j=this.bodyBounds.getBottomCenter(lt,J,it);break;case w.BOTTOM_RIGHT:case w.RIGHT_BOTTOM:j=this.bodyBounds.getBottomRight(lt,J,it)}return j&&f.setPosition(lt,j),this},shutdown:function(){var lt=this.systems.events;this.world&&(lt.off(H.UPDATE,this.world.update,this.world),lt.off(H.POST_UPDATE,this.world.postUpdate,this.world)),lt.off(H.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(H.START,this.start,this),this.scene=null,this.systems=null}});N.register("MatterPhysics",at,"matterPhysics"),S.exports=at},34803:(S,P,a)=>{var w=a(9674),T=a(83419),g=a(31884),f=a(95643),h=a(95540),c=a(72699),u=a(68287),m=a(26099),d=new T({Extends:u,Mixins:[g.Bounce,g.Collision,g.Force,g.Friction,g.Gravity,g.Mass,g.Sensor,g.SetBody,g.Sleep,g.Static,g.Transform,g.Velocity,c],initialize:function(v,x,y,_,E,A){f.call(this,v.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new w(this),this.setTexture(_,E),this.setSizeToFrame(),this.setOrigin(),this.world=v,this._tempVec2=new m(x,y);var M=h(A,"shape",null);M?this.setBody(M,A):this.setRectangle(this.width,this.height,A),this.setPosition(x,y),this.initPipeline(),this.initPostPipeline(!0)}});S.exports=d},73834:(S,P,a)=>{var w=a(66280),T=a(22562),g=a(83419),f=a(31884),h=a(62644),c=a(50792),u=a(95540),m=a(97022),d=a(41598),p=new g({Extends:c,Mixins:[f.Bounce,f.Collision,f.Friction,f.Gravity,f.Mass,f.Sensor,f.Sleep,f.Static],initialize:function(x,y,_){c.call(this),this.tile=y,this.world=x,y.physics.matterBody&&y.physics.matterBody.destroy(),y.physics.matterBody=this;var E=u(_,"body",null),A=u(_,"addToWorld",!0);if(E)this.setBody(E,A);else{var M=y.getCollisionGroup();u(M,"objects",[]).length>0?this.setFromTileCollision(_):this.setFromTileRectangle(_)}if(y.flipX||y.flipY){var k={x:y.getCenterX(),y:y.getCenterY()};T.scale(E,y.flipX?-1:1,y.flipY?-1:1,k)}},setFromTileRectangle:function(v){void 0===v&&(v={}),m(v,"isStatic")||(v.isStatic=!0),m(v,"addToWorld")||(v.addToWorld=!0);var x=this.tile.getBounds(),E=w.rectangle(x.x+x.width/2,x.y+x.height/2,x.width,x.height,v);return this.setBody(E,v.addToWorld),this},setFromTileCollision:function(v){void 0===v&&(v={}),m(v,"isStatic")||(v.isStatic=!0),m(v,"addToWorld")||(v.addToWorld=!0);for(var x=this.tile.tilemapLayer.scaleX,y=this.tile.tilemapLayer.scaleY,_=this.tile.getLeft(),E=this.tile.getTop(),A=this.tile.getCollisionGroup(),M=u(A,"objects",[]),I=[],k=0;k<M.length;k++){var F=M[k],N=_+F.x*x,V=E+F.y*y,B=F.width*x,H=F.height*y,Q=null;if(F.rectangle)Q=w.rectangle(N+B/2,V+H/2,B,H,v);else if(F.ellipse)Q=w.circle(N+B/2,V+H/2,B/2,v);else if(F.polygon||F.polyline){var K=(F.polygon?F.polygon:F.polyline).map(function(J){return{x:J.x*x,y:J.y*y}}),tt=d.create(K),at=d.centre(tt);Q=w.fromVertices(N+=at.x,V+=at.y,tt,v)}Q&&I.push(Q)}if(1===I.length)this.setBody(I[0],v.addToWorld);else if(I.length>1){var lt=h(v);lt.parts=I,this.setBody(T.create(lt),lt.addToWorld)}return this},setBody:function(v,x){return void 0===x&&(x=!0),this.body&&this.removeBody(),this.body=v,this.body.gameObject=this,x&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});S.exports=p},19496:(S,P,a)=>{var w=a(66280),T=a(22562),g=a(53402),f=a(95540),h=a(41598);S.exports={parseBody:function(u,m,d,p){void 0===p&&(p={});for(var v=f(d,"fixtures",[]),x=[],y=0;y<v.length;y++)for(var _=this.parseFixture(v[y]),E=0;E<_.length;E++)x.push(_[E]);var A=g.clone(d,!0);g.extend(A,p,!0),delete A.fixtures,delete A.type;var M=T.create(A);return T.setParts(M,x),T.setPosition(M,{x:u,y:m}),M},parseFixture:function(u){var d,m=g.extend({},!1,u);if(delete m.circle,delete m.vertices,u.circle){var p=f(u.circle,"x"),v=f(u.circle,"y"),x=f(u.circle,"radius");d=[w.circle(p,v,x,m)]}else u.vertices&&(d=this.parseVertices(u.vertices,m));return d},parseVertices:function(u,m){void 0===m&&(m={});for(var d=[],p=0;p<u.length;p++)h.clockwiseSort(u[p]),d.push(T.create(g.extend({position:h.centre(u[p]),vertices:u[p]},m)));return w.flagCoincidentParts(d)}}},85791:(S,P,a)=>{var w=a(66280),T=a(22562);S.exports={parseBody:function(f,h,c,u){void 0===u&&(u={});var m,d=c.vertices;if(1===d.length)u.vertices=d[0],m=T.create(u),w.flagCoincidentParts(m.parts);else{for(var p=[],v=0;v<d.length;v++){var x=T.create({vertices:d[v]});p.push(x)}w.flagCoincidentParts(p),u.parts=p,m=T.create(u)}return m.label=c.label,T.setPosition(m,{x:f,y:h}),m}}},98713:(S,P,a)=>{var w=a(15647),T=a(83419),g=a(69351),f=a(48140),h=a(81388),c=a(1121),u=a(8214),m=a(46975),d=a(53614),p=a(26099),v=a(41598),x=new T({initialize:function(_,E,A){void 0===A&&(A={}),this.scene=_,this.world=E,this.camera=null,this.pointer=null,this.active=!0,this.position=new p,this.body=null,this.part=null,this.constraint=f.create(m(A,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(c.BEFORE_UPDATE,this.update,this),_.sys.input.on(u.POINTER_DOWN,this.onDown,this),_.sys.input.on(u.POINTER_UP,this.onUp,this)},onDown:function(y){this.pointer||(this.pointer=y,this.camera=y.camera)},onUp:function(y){y===this.pointer&&(this.pointer=null)},getBody:function(y){var _=this.position,E=this.constraint;this.camera.getWorldPoint(y.x,y.y,_);for(var A=g.allBodies(this.world.localWorld),M=0;M<A.length;M++){var I=A[M];if(!I.ignorePointer&&w.contains(I.bounds,_)&&h.canCollide(I.collisionFilter,E.collisionFilter)&&this.hitTestBody(I,_))return this.world.emit(c.DRAG_START,I,this.part,this),!0}return!1},hitTestBody:function(y,_){for(var E=this.constraint,A=y.parts.length,I=A>1?1:0;I<A;I++){var k=y.parts[I];if(v.contains(k.vertices,_))return E.pointA=_,E.pointB={x:_.x-y.position.x,y:_.y-y.position.y},E.bodyB=y,E.angleB=y.angle,d.set(y,!1),this.part=k,this.body=y,!0}return!1},update:function(){var y=this.pointer,_=this.body;if(this.active&&y)if(y.isDown||!_){if(y.isDown){if(!this.camera||!_&&!this.getBody(y))return;_=this.body;var E=this.position,A=this.constraint;this.camera.getWorldPoint(y.x,y.y,E),A.pointA.x=E.x,A.pointA.y=E.y,d.set(_,!1),this.world.emit(c.DRAG,_,this)}}else this.stopDrag();else _&&this.stopDrag()},stopDrag:function(){var y=this.body,_=this.constraint;_.bodyB=null,_.pointB=null,this.pointer=null,this.body=null,this.part=null,y&&this.world.emit(c.DRAG_END,y,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(c.BEFORE_UPDATE,this.update),this.scene.sys.input.off(u.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(u.POINTER_UP,this.onUp,this)}});S.exports=x},68243:(S,P,a)=>{var w=a(66280),T=a(22562),g=a(83419),f=a(53402),h=a(69351),c=a(48413),u=a(50792),m=a(1121),d=a(95540),p=a(35154),v=a(22562),x=a(35810),y=a(73834),_=a(4372),E=a(13037),A=a(31725),M=new g({Extends:u,initialize:function(k,F){u.call(this),this.scene=k,this.engine=c.create(F),this.localWorld=this.engine.world;var N=p(F,"gravity",null);N?this.setGravity(N.x,N.y,N.scale):!1===N&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=p(F,"enabled",!0),this.getDelta=p(F,"getDelta",this.update60Hz);var V=d(F,"runner",{}),B=d(V,"fps",!1),H=d(V,"fps",60),Q=d(V,"delta",1e3/H),G=d(V,"deltaMin",1e3/H),K=d(V,"deltaMax",1e3/(.5*H));B||(H=1e3/Q),this.runner={fps:H,deltaSampleSize:d(V,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,timeBuffer:0,isFixed:d(V,"isFixed",!1),delta:Q,deltaMin:G,deltaMax:K},this.autoUpdate=p(F,"autoUpdate",!0);var tt=p(F,"debug",!1);if(this.drawDebug="object"==typeof tt||tt,this.debugConfig={showAxes:d(tt,"showAxes",!1),showAngleIndicator:d(tt,"showAngleIndicator",!1),angleColor:d(tt,"angleColor",15208787),showBroadphase:d(tt,"showBroadphase",!1),broadphaseColor:d(tt,"broadphaseColor",16757760),showBounds:d(tt,"showBounds",!1),boundsColor:d(tt,"boundsColor",16777215),showVelocity:d(tt,"showVelocity",!1),velocityColor:d(tt,"velocityColor",44783),showCollisions:d(tt,"showCollisions",!1),collisionColor:d(tt,"collisionColor",16094476),showSeparations:d(tt,"showSeparations",!1),separationColor:d(tt,"separationColor",16753920),showBody:d(tt,"showBody",!0),showStaticBody:d(tt,"showStaticBody",!0),showInternalEdges:d(tt,"showInternalEdges",!1),renderFill:d(tt,"renderFill",!1),renderLine:d(tt,"renderLine",!0),fillColor:d(tt,"fillColor",1075465),fillOpacity:d(tt,"fillOpacity",1),lineColor:d(tt,"lineColor",2678297),lineOpacity:d(tt,"lineOpacity",1),lineThickness:d(tt,"lineThickness",1),staticFillColor:d(tt,"staticFillColor",857979),staticLineColor:d(tt,"staticLineColor",1255396),showSleeping:d(tt,"showSleeping",!1),staticBodySleepOpacity:d(tt,"staticBodySleepOpacity",.7),sleepFillColor:d(tt,"sleepFillColor",4605510),sleepLineColor:d(tt,"sleepLineColor",10066585),showSensors:d(tt,"showSensors",!0),sensorFillColor:d(tt,"sensorFillColor",857979),sensorLineColor:d(tt,"sensorLineColor",1255396),showPositions:d(tt,"showPositions",!0),positionSize:d(tt,"positionSize",4),positionColor:d(tt,"positionColor",14697178),showJoint:d(tt,"showJoint",!0),jointColor:d(tt,"jointColor",14737474),jointLineOpacity:d(tt,"jointLineOpacity",1),jointLineThickness:d(tt,"jointLineThickness",2),pinSize:d(tt,"pinSize",4),pinColor:d(tt,"pinColor",4382944),springColor:d(tt,"springColor",14697184),anchorColor:d(tt,"anchorColor",15724527),anchorSize:d(tt,"anchorSize",4),showConvexHulls:d(tt,"showConvexHulls",!1),hullColor:d(tt,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),d(F,"setBounds",!1)){var at=F.setBounds;if("boolean"==typeof at)this.setBounds();else{var lt=d(at,"x",0),J=d(at,"y",0),it=d(at,"width",k.sys.scale.width),Y=d(at,"height",k.sys.scale.height),j=d(at,"thickness",64),nt=d(at,"left",!0),ht=d(at,"right",!0),gt=d(at,"top",!0),wt=d(at,"bottom",!0);this.setBounds(lt,J,it,Y,j,nt,ht,gt,wt)}}},setCompositeRenderStyle:function(I){var V,B,H,k=I.bodies,F=I.constraints,N=I.composites;for(V=0;V<k.length;V++)this.setBodyRenderStyle(B=k[V],(H=B.render).lineColor,H.lineOpacity,H.lineThickness,H.fillColor,H.fillOpacity);for(V=0;V<F.length;V++)this.setConstraintRenderStyle(B=F[V],(H=B.render).lineColor,H.lineOpacity,H.lineThickness,H.pinSize,H.anchorColor,H.anchorSize);for(V=0;V<N.length;V++)this.setCompositeRenderStyle(B=N[V]);return this},setBodyRenderStyle:function(I,k,F,N,V,B){var H=I.render,Q=this.debugConfig;return H?(null==k&&(k=I.isStatic?Q.staticLineColor:Q.lineColor),null==F&&(F=Q.lineOpacity),null==N&&(N=Q.lineThickness),null==V&&(V=I.isStatic?Q.staticFillColor:Q.fillColor),null==B&&(B=Q.fillOpacity),!1!==k&&(H.lineColor=k),!1!==F&&(H.lineOpacity=F),!1!==N&&(H.lineThickness=N),!1!==V&&(H.fillColor=V),!1!==B&&(H.fillOpacity=B),this):this},setConstraintRenderStyle:function(I,k,F,N,V,B,H){var Q=I.render,G=this.debugConfig;if(!Q)return this;if(null==k){var K=Q.type;"line"===K?k=G.jointColor:"pin"===K?k=G.pinColor:"spring"===K&&(k=G.springColor)}return null==F&&(F=G.jointLineOpacity),null==N&&(N=G.jointLineThickness),null==V&&(V=G.pinSize),null==B&&(B=G.anchorColor),null==H&&(H=G.anchorSize),!1!==k&&(Q.lineColor=k),!1!==F&&(Q.lineOpacity=F),!1!==N&&(Q.lineThickness=N),!1!==V&&(Q.pinSize=V),!1!==B&&(Q.anchorColor=B),!1!==H&&(Q.anchorSize=H),this},setEventsProxy:function(){var I=this,k=this.engine,F=this.localWorld;this.drawDebug&&(x.on(F,"compositeModified",function(N){I.setCompositeRenderStyle(N)}),x.on(F,"beforeAdd",function(N){for(var V=[].concat(N.object),B=0;B<V.length;B++){var H=V[B],Q=H.render;"body"===H.type?I.setBodyRenderStyle(H,Q.lineColor,Q.lineOpacity,Q.lineThickness,Q.fillColor,Q.fillOpacity):"composite"===H.type?I.setCompositeRenderStyle(H):"constraint"===H.type&&I.setConstraintRenderStyle(H,Q.lineColor,Q.lineOpacity,Q.lineThickness,Q.pinSize,Q.anchorColor,Q.anchorSize)}})),x.on(F,"beforeAdd",function(N){I.emit(m.BEFORE_ADD,N)}),x.on(F,"afterAdd",function(N){I.emit(m.AFTER_ADD,N)}),x.on(F,"beforeRemove",function(N){I.emit(m.BEFORE_REMOVE,N)}),x.on(F,"afterRemove",function(N){I.emit(m.AFTER_REMOVE,N)}),x.on(k,"beforeUpdate",function(N){I.emit(m.BEFORE_UPDATE,N)}),x.on(k,"afterUpdate",function(N){I.emit(m.AFTER_UPDATE,N)}),x.on(k,"collisionStart",function(N){var B,H,V=N.pairs;V.length>0&&V.map(function(Q){H=Q.bodyB,(B=Q.bodyA).gameObject&&B.gameObject.emit("collide",B,H,Q),H.gameObject&&H.gameObject.emit("collide",H,B,Q),x.trigger(B,"onCollide",{pair:Q}),x.trigger(H,"onCollide",{pair:Q}),B.onCollideCallback&&B.onCollideCallback(Q),H.onCollideCallback&&H.onCollideCallback(Q),B.onCollideWith[H.id]&&B.onCollideWith[H.id](H,Q),H.onCollideWith[B.id]&&H.onCollideWith[B.id](B,Q)}),I.emit(m.COLLISION_START,N,B,H)}),x.on(k,"collisionActive",function(N){var B,H,V=N.pairs;V.length>0&&V.map(function(Q){H=Q.bodyB,(B=Q.bodyA).gameObject&&B.gameObject.emit("collideActive",B,H,Q),H.gameObject&&H.gameObject.emit("collideActive",H,B,Q),x.trigger(B,"onCollideActive",{pair:Q}),x.trigger(H,"onCollideActive",{pair:Q}),B.onCollideActiveCallback&&B.onCollideActiveCallback(Q),H.onCollideActiveCallback&&H.onCollideActiveCallback(Q)}),I.emit(m.COLLISION_ACTIVE,N,B,H)}),x.on(k,"collisionEnd",function(N){var B,H,V=N.pairs;V.length>0&&V.map(function(Q){H=Q.bodyB,(B=Q.bodyA).gameObject&&B.gameObject.emit("collideEnd",B,H,Q),H.gameObject&&H.gameObject.emit("collideEnd",H,B,Q),x.trigger(B,"onCollideEnd",{pair:Q}),x.trigger(H,"onCollideEnd",{pair:Q}),B.onCollideEndCallback&&B.onCollideEndCallback(Q),H.onCollideEndCallback&&H.onCollideEndCallback(Q)}),I.emit(m.COLLISION_END,N,B,H)})},setBounds:function(I,k,F,N,V,B,H,Q,G){return void 0===I&&(I=0),void 0===k&&(k=0),void 0===F&&(F=this.scene.sys.scale.width),void 0===N&&(N=this.scene.sys.scale.height),void 0===V&&(V=64),void 0===B&&(B=!0),void 0===H&&(H=!0),void 0===Q&&(Q=!0),void 0===G&&(G=!0),this.updateWall(B,"left",I-V,k-V,V,N+2*V),this.updateWall(H,"right",I+F,k-V,V,N+2*V),this.updateWall(Q,"top",I,k-V,F,V),this.updateWall(G,"bottom",I,k+N,F,V),this},updateWall:function(I,k,F,N,V,B){var H=this.walls[k];I?(H&&_.remove(this.localWorld,H),this.walls[k]=this.create(F+=V/2,N+=B/2,V,B,{isStatic:!0,friction:0,frictionStatic:0})):(H&&_.remove(this.localWorld,H),this.walls[k]=null)},createDebugGraphic:function(){var I=this.scene.sys.add.graphics({x:0,y:0});return I.setDepth(Number.MAX_VALUE),this.debugGraphic=I,this.drawDebug=!0,I},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(I,k,F){return void 0===I&&(I=0),void 0===k&&(k=1),void 0===F&&(F=.001),this.localWorld.gravity.x=I,this.localWorld.gravity.y=k,this.localWorld.gravity.scale=F,this},create:function(I,k,F,N,V){var B=w.rectangle(I,k,F,N,V);return _.add(this.localWorld,B),B},add:function(I){return _.add(this.localWorld,I),this},remove:function(I,k){Array.isArray(I)||(I=[I]);for(var F=0;F<I.length;F++){var N=I[F];h.remove(this.localWorld,N.body?N.body:N,k)}return this},removeConstraint:function(I,k){return h.remove(this.localWorld,I,k),this},convertTilemapLayer:function(I,k){var F=I.layer,N=I.getTilesWithin(0,0,F.width,F.height,{isColliding:!0});return this.convertTiles(N,k),this},convertTiles:function(I,k){if(0===I.length)return this;for(var F=0;F<I.length;F++)new y(this,I[F],k);return this},nextGroup:function(I){return v.nextGroup(I)},nextCategory:function(){return v.nextCategory()},pause:function(){return this.enabled=!1,this.emit(m.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=f.now(),this.emit(m.RESUME),this},update:function(I){if(this.enabled&&this.autoUpdate){var k=this.engine,F=this.runner,N=f.now(),V=F.delta,B=0,H=I-F.timeLastTick;if((!H||!F.timeLastTick||H>Math.max(E._maxFrameDelta,F.maxFrameTime))&&(H=F.frameDelta||E._frameDeltaFallback),F.frameDeltaSmoothing){F.frameDeltaHistory.push(H),F.frameDeltaHistory=F.frameDeltaHistory.slice(-F.frameDeltaHistorySize);var Q=F.frameDeltaHistory.slice(0).sort(),G=F.frameDeltaHistory.slice(Q.length*E._smoothingLowerBound,Q.length*E._smoothingUpperBound);H=E._mean(G)||H}F.frameDeltaSnapping&&(H=1e3/Math.round(1e3/H)),F.frameDelta=H,F.timeLastTick=I,F.timeBuffer+=F.frameDelta,F.timeBuffer=f.clamp(F.timeBuffer,0,F.frameDelta+V*E._timeBufferMargin),F.lastUpdatesDeferred=0;for(var tt=F.maxUpdates||Math.ceil(F.maxFrameTime/V),at=f.now();V>0&&F.timeBuffer>=V*E._timeBufferMargin;){c.update(k,V),F.timeBuffer-=V,B+=1;var lt=f.now()-N,J=f.now()-at;if(B>=tt||lt+E._elapsedNextEstimate*J/B>F.maxFrameTime){F.lastUpdatesDeferred=Math.round(Math.max(0,F.timeBuffer/V-E._timeBufferMargin));break}}}},step:function(I){c.update(this.engine,I)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(I){var k=I.hasOwnProperty("body")?I.body:I;return null!==h.get(this.localWorld,k.id,k.type)},getAllBodies:function(){return h.allBodies(this.localWorld)},getAllConstraints:function(){return h.allConstraints(this.localWorld)},getAllComposites:function(){return h.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var I=this.debugConfig,k=this.engine,F=this.debugGraphic,N=h.allBodies(this.localWorld);this.debugGraphic.clear(),I.showBroadphase&&k.broadphase.controller&&this.renderGrid(k.broadphase,F,I.broadphaseColor,.5),I.showBounds&&this.renderBodyBounds(N,F,I.boundsColor,.5),(I.showBody||I.showStaticBody)&&this.renderBodies(N),I.showJoint&&this.renderJoints(),(I.showAxes||I.showAngleIndicator)&&this.renderBodyAxes(N,F,I.showAxes,I.angleColor,.5),I.showVelocity&&this.renderBodyVelocity(N,F,I.velocityColor,1,2),I.showSeparations&&this.renderSeparations(k.pairs.list,F,I.separationColor),I.showCollisions&&this.renderCollisions(k.pairs.list,F,I.collisionColor)}},renderGrid:function(I,k,F,N){k.lineStyle(1,F,N);for(var V=f.keys(I.buckets),B=0;B<V.length;B++){var H=V[B];if(!(I.buckets[H].length<2)){var Q=H.split(/C|R/);k.strokeRect(parseInt(Q[1],10)*I.bucketWidth,parseInt(Q[2],10)*I.bucketHeight,I.bucketWidth,I.bucketHeight)}}return this},renderSeparations:function(I,k,F){k.lineStyle(1,F,1);for(var N=0;N<I.length;N++){var V=I[N];if(V.isActive){var B=V.collision,H=B.bodyA,Q=B.bodyB,G=H.position,K=Q.position,tt=B.penetration,at=H.isStatic||Q.isStatic?1:4;Q.isStatic&&(at=0),k.lineBetween(K.x,K.y,K.x-tt.x*at,K.y-tt.y*at),at=H.isStatic||Q.isStatic?1:4,H.isStatic&&(at=0),k.lineBetween(G.x,G.y,G.x-tt.x*at,G.y-tt.y*at)}}return this},renderCollisions:function(I,k,F){var N,V;for(k.lineStyle(1,F,.5),k.fillStyle(F,1),N=0;N<I.length;N++)if((V=I[N]).isActive)for(var B=0;B<V.contactCount;B++){var Q=V.contacts[B].vertex;Q&&k.fillRect(Q.x-2,Q.y-2,5,5)}for(N=0;N<I.length;N++)if((V=I[N]).isActive){var G=V.collision,K=V.contacts;if(V.contactCount>0){var tt=K[0].vertex.x,at=K[0].vertex.y;2===V.contactCount&&(tt=(K[0].vertex.x+K[1].vertex.x)/2,at=(K[0].vertex.y+K[1].vertex.y)/2),G.bodyB===G.supports[0].body||G.bodyA.isStatic?k.lineBetween(tt-8*G.normal.x,at-8*G.normal.y,tt,at):k.lineBetween(tt+8*G.normal.x,at+8*G.normal.y,tt,at)}}return this},renderBodyBounds:function(I,k,F,N){k.lineStyle(1,F,N);for(var V=0;V<I.length;V++){var B=I[V];if(B.render.visible){var H=B.bounds;if(H)k.strokeRect(H.min.x,H.min.y,H.max.x-H.min.x,H.max.y-H.min.y);else for(var Q=B.parts,G=Q.length>1?1:0;G<Q.length;G++){var K=Q[G];k.strokeRect(K.bounds.min.x,K.bounds.min.y,K.bounds.max.x-K.bounds.min.x,K.bounds.max.y-K.bounds.min.y)}}}return this},renderBodyAxes:function(I,k,F,N,V){k.lineStyle(1,N,V);for(var B=0;B<I.length;B++){var G,K,tt,H=I[B],Q=H.parts;if(H.render.visible)if(F)for(K=Q.length>1?1:0;K<Q.length;K++)for(G=Q[K],tt=0;tt<G.axes.length;tt++){var at=G.axes[tt];k.lineBetween(G.position.x,G.position.y,G.position.x+20*at.x,G.position.y+20*at.y)}else for(K=Q.length>1?1:0;K<Q.length;K++)for(G=Q[K],tt=0;tt<G.axes.length;tt++)k.lineBetween(G.position.x,G.position.y,(G.vertices[0].x+G.vertices[G.vertices.length-1].x)/2,(G.vertices[0].y+G.vertices[G.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(I,k,F,N,V){k.lineStyle(V,F,N);for(var B=0;B<I.length;B++){var H=I[B];H.render.visible&&k.lineBetween(H.position.x,H.position.y,H.position.x+2*(H.position.x-H.positionPrev.x),H.position.y+2*(H.position.y-H.positionPrev.y))}return this},renderBodies:function(I){for(var k=this.debugGraphic,F=this.debugConfig,N=F.showBody,V=F.showStaticBody,B=F.showSleeping,H=F.showInternalEdges,Q=F.showConvexHulls,G=F.renderFill,K=F.renderLine,tt=F.staticBodySleepOpacity,at=F.sleepFillColor,lt=F.sleepLineColor,J=F.hullColor,it=0;it<I.length;it++){var Y=I[it];if(Y.render.visible&&(V||!Y.isStatic)&&(N||Y.isStatic)){var j=Y.render.lineColor,nt=Y.render.lineOpacity,ht=Y.render.lineThickness,gt=Y.render.fillColor,wt=Y.render.fillOpacity;B&&Y.isSleeping&&(Y.isStatic?(nt*=tt,wt*=tt):(j=lt,gt=at)),G||(gt=null),K||(j=null),this.renderBody(Y,k,H,j,nt,ht,gt,wt),Q&&Y.parts.length>1&&this.renderConvexHull(Y,k,J,ht)}}},renderBody:function(I,k,F,N,V,B,H,Q){void 0===N&&(N=null),void 0===V&&(V=null),void 0===B&&(B=1),void 0===H&&(H=null),void 0===Q&&(Q=null);for(var G=this.debugConfig,K=G.sensorFillColor,tt=G.sensorLineColor,at=I.parts,lt=at.length,J=lt>1?1:0;J<lt;J++){var it=at[J],Y=it.render,j=Y.opacity;if(Y.visible&&0!==j&&(!it.isSensor||G.showSensors)){var nt=it.circleRadius;if(k.beginPath(),it.isSensor?(null!==H&&k.fillStyle(K,Q*j),null!==N&&k.lineStyle(B,tt,V*j)):(null!==H&&k.fillStyle(H,Q*j),null!==N&&k.lineStyle(B,N,V*j)),nt)k.arc(it.position.x,it.position.y,nt,0,2*Math.PI);else{var ht=it.vertices,gt=ht.length;k.moveTo(ht[0].x,ht[0].y);for(var wt=1;wt<gt;wt++){var St=ht[wt];if(!ht[wt-1].isInternal||F?k.lineTo(St.x,St.y):k.moveTo(St.x,St.y),wt<gt&&St.isInternal&&!F){var Bt=(wt+1)%gt;k.moveTo(ht[Bt].x,ht[Bt].y)}}k.closePath()}null!==H&&k.fillPath(),null!==N&&k.strokePath()}}if(G.showPositions&&!I.isStatic){var Yt=I.position.x,$t=I.position.y,qt=Math.ceil(G.positionSize/2);k.fillStyle(G.positionColor,1),k.fillRect(Yt-qt,$t-qt,G.positionSize,G.positionSize)}return this},renderConvexHull:function(I,k,F,N){if(void 0===N&&(N=1),I.parts.length>1){var H=I.vertices;k.lineStyle(N,F),k.beginPath(),k.moveTo(H[0].x,H[0].y);for(var Q=1;Q<H.length;Q++)k.lineTo(H[Q].x,H[Q].y);k.lineTo(H[0].x,H[0].y),k.strokePath()}return this},renderJoints:function(){for(var I=this.debugGraphic,k=h.allConstraints(this.localWorld),F=0;F<k.length;F++){var N=k[F].render;this.renderConstraint(k[F],I,N.lineColor,N.lineOpacity,N.lineThickness,N.pinSize,N.anchorColor,N.anchorSize)}},renderConstraint:function(I,k,F,N,V,B,H,Q){var G=I.render;if(!G.visible||!I.pointA||!I.pointB)return this;k.lineStyle(V,F,N);var at,lt,K=I.bodyA,tt=I.bodyB;if(at=K?A.add(K.position,I.pointA):I.pointA,"pin"===G.type)k.strokeCircle(at.x,at.y,B);else{if(lt=tt?A.add(tt.position,I.pointB):I.pointB,k.beginPath(),k.moveTo(at.x,at.y),"spring"===G.type)for(var j,J=A.sub(lt,at),it=A.perp(A.normalise(J)),Y=Math.ceil(f.clamp(I.length/5,12,20)),nt=1;nt<Y;nt+=1)k.lineTo(at.x+J.x*(nt/Y)+it.x*(j=nt%2==0?1:-1)*4,at.y+J.y*(nt/Y)+it.y*j*4);k.lineTo(lt.x,lt.y)}return k.strokePath(),G.anchors&&Q>0&&(k.fillStyle(H),k.fillCircle(at.x,at.y,Q),k.fillCircle(lt.x,lt.y,Q)),this},resetCollisionIDs:function(){return T._nextCollidingGroupId=1,T._nextNonCollidingGroupId=-1,T._nextCategory=1,this},shutdown:function(){x.off(this.engine),this.removeAllListeners(),_.clear(this.localWorld,!1),c.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});S.exports=M},70410:S=>{S.exports={setBounce:function(a){return this.body.restitution=a,this}}},66968:S=>{S.exports={setCollisionCategory:function(a){return this.body.collisionFilter.category=a,this},setCollisionGroup:function(a){return this.body.collisionFilter.group=a,this},setCollidesWith:function(a){var w=0;if(Array.isArray(a))for(var T=0;T<a.length;T++)w|=a[T];else w=a;return this.body.collisionFilter.mask=w,this},setOnCollide:function(a){return this.body.onCollideCallback=a,this},setOnCollideEnd:function(a){return this.body.onCollideEndCallback=a,this},setOnCollideActive:function(a){return this.body.onCollideActiveCallback=a,this},setOnCollideWith:function(a,w){Array.isArray(a)||(a=[a]);for(var T=0;T<a.length;T++){var g=a[T].hasOwnProperty("body")?a[T].body:a[T];this.body.setOnCollideWith(g,w)}return this}}},51607:(S,P,a)=>{var w=a(22562);S.exports={applyForce:function(g){return this._tempVec2.set(this.body.position.x,this.body.position.y),w.applyForce(this.body,this._tempVec2,g),this},applyForceFrom:function(g,f){return w.applyForce(this.body,g,f),this},thrust:function(g){var f=this.body.angle;return this._tempVec2.set(g*Math.cos(f),g*Math.sin(f)),w.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(g){var f=this.body.angle-Math.PI/2;return this._tempVec2.set(g*Math.cos(f),g*Math.sin(f)),w.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(g){var f=this.body.angle+Math.PI/2;return this._tempVec2.set(g*Math.cos(f),g*Math.sin(f)),w.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(g){var f=this.body.angle-Math.PI;return this._tempVec2.set(g*Math.cos(f),g*Math.sin(f)),w.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}}},5436:S=>{S.exports={setFriction:function(a,w,T){return this.body.friction=a,void 0!==w&&(this.body.frictionAir=w),void 0!==T&&(this.body.frictionStatic=T),this},setFrictionAir:function(a){return this.body.frictionAir=a,this},setFrictionStatic:function(a){return this.body.frictionStatic=a,this}}},39858:S=>{S.exports={setIgnoreGravity:function(a){return this.body.ignoreGravity=a,this}}},37302:(S,P,a)=>{var w=a(22562),T=a(26099);S.exports={setMass:function(f){return w.setMass(this.body,f),this},setDensity:function(f){return w.setDensity(this.body,f),this},centerOfMass:{get:function(){return new T(this.body.centerOfMass.x,this.body.centerOfMass.y)}}}},39132:S=>{S.exports={setSensor:function(a){return this.body.isSensor=a,this},isSensor:function(){return this.body.isSensor}}},57772:(S,P,a)=>{var w=a(66280),T=a(22562),g=a(43855),f=a(95540),h=a(19496),c=a(85791),u=a(41598);S.exports={setRectangle:function(d,p,v){return this.setBody({type:"rectangle",width:d,height:p},v)},setCircle:function(d,p){return this.setBody({type:"circle",radius:d},p)},setPolygon:function(d,p,v){return this.setBody({type:"polygon",sides:p,radius:d},v)},setTrapezoid:function(d,p,v,x){return this.setBody({type:"trapezoid",width:d,height:p,slope:v},x)},setExistingBody:function(d,p){void 0===p&&(p=!0),this.body&&this.world.remove(this.body,!0),this.body=d;for(var v=0;v<d.parts.length;v++)d.parts[v].gameObject=this;var x=this;if(d.destroy=function(){x.world.remove(x.body,!0),x.body.gameObject=null},p&&(this.world.has(d)&&this.world.remove(d,!0),this.world.add(d)),this._originComponent){var y=d.render.sprite.xOffset,_=d.render.sprite.yOffset,A=d.centerOfMass.y;g(d.centerOfMass.x,.5)&&g(A,.5)?this.setOrigin(y+.5,_+.5):this.setOrigin(y+d.centerOffset.x/this.displayWidth,_+d.centerOffset.y/this.displayHeight)}return this},setBody:function(d,p){if(!d)return this;var v;"string"==typeof d&&(d={type:d});var x=f(d,"type","rectangle"),y=f(d,"x",this._tempVec2.x),_=f(d,"y",this._tempVec2.y),E=f(d,"width",this.width),A=f(d,"height",this.height);switch(x){case"rectangle":v=w.rectangle(y,_,E,A,p);break;case"circle":var M=f(d,"radius",Math.max(E,A)/2),I=f(d,"maxSides",25);v=w.circle(y,_,M,p,I);break;case"trapezoid":var k=f(d,"slope",.5);v=w.trapezoid(y,_,E,A,k,p);break;case"polygon":var F=f(d,"sides",5),N=f(d,"radius",Math.max(E,A)/2);v=w.polygon(y,_,F,N,p);break;case"fromVertices":case"fromVerts":var V=f(d,"verts",null);if(V)if("string"==typeof V&&(V=u.fromPath(V)),this.body&&!this.body.hasOwnProperty("temp"))T.setVertices(this.body,V),v=this.body;else{var B=f(d,"flagInternal",!1),H=f(d,"removeCollinear",.01),Q=f(d,"minimumArea",10);v=w.fromVertices(y,_,V,p,B,H,Q)}break;case"fromPhysicsEditor":v=h.parseBody(y,_,d,p);break;case"fromPhysicsTracer":v=c.parseBody(y,_,d,p)}return v&&this.setExistingBody(v,d.addToWorld),this}}},38083:(S,P,a)=>{var w=a(1121),T=a(53614),g=a(35810);S.exports={setToSleep:function(){return T.set(this.body,!0),this},setAwake:function(){return T.set(this.body,!1),this},setSleepThreshold:function(h){return void 0===h&&(h=60),this.body.sleepThreshold=h,this},setSleepEvents:function(h,c){return this.setSleepStartEvent(h),this.setSleepEndEvent(c),this},setSleepStartEvent:function(h){if(h){var c=this.world;g.on(this.body,"sleepStart",function(u){c.emit(w.SLEEP_START,u,this)})}else g.off(this.body,"sleepStart");return this},setSleepEndEvent:function(h){if(h){var c=this.world;g.on(this.body,"sleepEnd",function(u){c.emit(w.SLEEP_END,u,this)})}else g.off(this.body,"sleepEnd");return this}}},90556:(S,P,a)=>{var w=a(22562);S.exports={setStatic:function(g){return w.setStatic(this.body,g),this},isStatic:function(){return this.body.isStatic}}},85436:(S,P,a)=>{var w=a(22562),T=a(36383),g=a(86554),f=a(30954);S.exports={x:{get:function(){return this.body.position.x},set:function(u){this._tempVec2.set(u,this.y),w.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(u){this._tempVec2.set(this.x,u),w.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(u){var m=1/this._scaleX,d=1/this._scaleY;this._scaleX=u,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,w.scale(this.body,m,d),w.scale(this.body,u,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(u){var m=1/this._scaleX,d=1/this._scaleY;this._scaleY=u,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,w.scale(this.body,m,d),w.scale(this.body,this._scaleX,u)}},angle:{get:function(){return f(this.body.angle*T.RAD_TO_DEG)},set:function(u){this.rotation=f(u)*T.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(u){this._rotation=g(u),w.setAngle(this.body,this._rotation)}},setPosition:function(u,m){return void 0===u&&(u=0),void 0===m&&(m=u),this._tempVec2.set(u,m),w.setPosition(this.body,this._tempVec2),this},setRotation:function(u){return void 0===u&&(u=0),this._rotation=g(u),w.setAngle(this.body,u),this},setFixedRotation:function(){return w.setInertia(this.body,1/0),this},setAngle:function(u){return void 0===u&&(u=0),this.angle=u,w.setAngle(this.body,this.rotation),this},setScale:function(u,m,d){void 0===u&&(u=1),void 0===m&&(m=u);var p=1/this._scaleX,v=1/this._scaleY;return this._scaleX=u,this._scaleY=m,w.scale(this.body,p,v,d),w.scale(this.body,u,m,d),this}}},42081:(S,P,a)=>{var w=a(22562);S.exports={setVelocityX:function(g){return this._tempVec2.set(g,this.body.velocity.y),w.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(g){return this._tempVec2.set(this.body.velocity.x,g),w.setVelocity(this.body,this._tempVec2),this},setVelocity:function(g,f){return this._tempVec2.set(g,f),w.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return w.getVelocity(this.body)},setAngularVelocity:function(g){return w.setAngularVelocity(this.body,g),this},getAngularVelocity:function(){return w.getAngularVelocity(this.body)},setAngularSpeed:function(g){return w.setAngularSpeed(this.body,g),this},getAngularSpeed:function(){return w.getAngularSpeed(this.body)}}},31884:(S,P,a)=>{S.exports={Bounce:a(70410),Collision:a(66968),Force:a(51607),Friction:a(5436),Gravity:a(39858),Mass:a(37302),Sensor:a(39132),SetBody:a(57772),Sleep:a(38083),Static:a(90556),Transform:a(85436),Velocity:a(42081)}},85608:S=>{S.exports="afteradd"},1213:S=>{S.exports="afterremove"},25968:S=>{S.exports="afterupdate"},67205:S=>{S.exports="beforeadd"},39438:S=>{S.exports="beforeremove"},44823:S=>{S.exports="beforeupdate"},92593:S=>{S.exports="collisionactive"},60128:S=>{S.exports="collisionend"},76861:S=>{S.exports="collisionstart"},92362:S=>{S.exports="dragend"},76408:S=>{S.exports="drag"},93971:S=>{S.exports="dragstart"},5656:S=>{S.exports="pause"},47861:S=>{S.exports="resume"},79099:S=>{S.exports="sleepend"},35906:S=>{S.exports="sleepstart"},1121:(S,P,a)=>{S.exports={AFTER_ADD:a(85608),AFTER_REMOVE:a(1213),AFTER_UPDATE:a(25968),BEFORE_ADD:a(67205),BEFORE_REMOVE:a(39438),BEFORE_UPDATE:a(44823),COLLISION_ACTIVE:a(92593),COLLISION_END:a(60128),COLLISION_START:a(76861),DRAG_END:a(92362),DRAG:a(76408),DRAG_START:a(93971),PAUSE:a(5656),RESUME:a(47861),SLEEP_END:a(79099),SLEEP_START:a(35906)}},3875:(S,P,a)=>{S.exports={BodyBounds:a(68174),Components:a(31884),Events:a(1121),Factory:a(28137),MatterGameObject:a(75803),Image:a(23181),Matter:a(19933),MatterPhysics:a(42045),PolyDecomp:a(55973),Sprite:a(34803),TileBody:a(73834),PhysicsEditorParser:a(19496),PhysicsJSONParser:a(85791),PointerConstraint:a(98713),World:a(68243)}},22562:(S,P,a)=>{var w={};S.exports=w;var T=a(41598),g=a(31725),f=a(53614),h=a(53402),c=a(15647),u=a(66615);!function(){w._timeCorrection=!0,w._inertiaScale=4,w._nextCollidingGroupId=1,w._nextNonCollidingGroupId=-1,w._nextCategory=1,w._baseDelta=16.666666666666668,w.create=function(d){var p={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:d.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!d.hasOwnProperty("position")&&d.hasOwnProperty("vertices")?d.position=T.centre(d.vertices):d.hasOwnProperty("vertices")||(p.vertices=T.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var v=h.extend(p,d);return m(v,d),v.setOnCollideWith=function(x,y){return y?this.onCollideWith[x.id]=y:delete this.onCollideWith[x.id],this},v},w.nextGroup=function(d){return d?w._nextNonCollidingGroupId--:w._nextCollidingGroupId++},w.nextCategory=function(){return w._nextCategory=w._nextCategory<<1,w._nextCategory};var m=function(d,p){if(p=p||{},w.set(d,{bounds:d.bounds||c.create(d.vertices),positionPrev:d.positionPrev||g.clone(d.position),anglePrev:d.anglePrev||d.angle,vertices:d.vertices,parts:d.parts||[d],isStatic:d.isStatic,isSleeping:d.isSleeping,parent:d.parent||d}),T.rotate(d.vertices,d.angle,d.position),u.rotate(d.axes,d.angle),c.update(d.bounds,d.vertices,d.velocity),w.set(d,{axes:p.axes||d.axes,area:p.area||d.area,mass:p.mass||d.mass,inertia:p.inertia||d.inertia}),1===d.parts.length){var v=d.bounds,x=d.centerOfMass,y=d.centerOffset,_=v.max.x-v.min.x,E=v.max.y-v.min.y;x.x=-(v.min.x-d.position.x)/_,x.y=-(v.min.y-d.position.y)/E,y.x=_*x.x,y.y=E*x.y}};w.set=function(d,p,v){var x;for(x in"string"==typeof p&&(x=p,(p={})[x]=v),p)if(Object.prototype.hasOwnProperty.call(p,x))switch(v=p[x],x){case"isStatic":w.setStatic(d,v);break;case"isSleeping":f.set(d,v);break;case"mass":w.setMass(d,v);break;case"density":w.setDensity(d,v);break;case"inertia":w.setInertia(d,v);break;case"vertices":w.setVertices(d,v);break;case"position":w.setPosition(d,v);break;case"angle":w.setAngle(d,v);break;case"velocity":w.setVelocity(d,v);break;case"angularVelocity":w.setAngularVelocity(d,v);break;case"speed":w.setSpeed(d,v);break;case"angularSpeed":w.setAngularSpeed(d,v);break;case"parts":w.setParts(d,v);break;case"centre":w.setCentre(d,v);break;default:d[x]=v}},w.setStatic=function(d,p){for(var v=0;v<d.parts.length;v++){var x=d.parts[v];p?(x.isStatic||(x._original={restitution:x.restitution,friction:x.friction,mass:x.mass,inertia:x.inertia,density:x.density,inverseMass:x.inverseMass,inverseInertia:x.inverseInertia}),x.restitution=0,x.friction=1,x.mass=x.inertia=x.density=1/0,x.inverseMass=x.inverseInertia=0,x.positionPrev.x=x.position.x,x.positionPrev.y=x.position.y,x.anglePrev=x.angle,x.angularVelocity=0,x.speed=0,x.angularSpeed=0,x.motion=0):x._original&&(x.restitution=x._original.restitution,x.friction=x._original.friction,x.mass=x._original.mass,x.inertia=x._original.inertia,x.density=x._original.density,x.inverseMass=x._original.inverseMass,x.inverseInertia=x._original.inverseInertia,x._original=null),x.isStatic=p}},w.setMass=function(d,p){d.inertia=d.inertia/(d.mass/6)*(p/6),d.inverseInertia=1/d.inertia,d.mass=p,d.inverseMass=1/d.mass,d.density=d.mass/d.area},w.setDensity=function(d,p){w.setMass(d,p*d.area),d.density=p},w.setInertia=function(d,p){d.inertia=p,d.inverseInertia=1/d.inertia},w.setVertices=function(d,p){d.vertices=p[0].body===d?p:T.create(p,d),d.axes=u.fromVertices(d.vertices),d.area=T.area(d.vertices),w.setMass(d,d.density*d.area);var v=T.centre(d.vertices);T.translate(d.vertices,v,-1),w.setInertia(d,w._inertiaScale*T.inertia(d.vertices,d.mass)),T.translate(d.vertices,d.position),c.update(d.bounds,d.vertices,d.velocity)},w.setParts=function(d,p,v){var x;for(p=p.slice(0),d.parts.length=0,d.parts.push(d),d.parent=d,x=0;x<p.length;x++){var y=p[x];y!==d&&(y.parent=d,d.parts.push(y))}if(1!==d.parts.length){if(v=!(typeof v<"u")||v){var _=[];for(x=0;x<p.length;x++)_=_.concat(p[x].vertices);T.clockwiseSort(_);var E=T.hull(_),A=T.centre(E);w.setVertices(d,E),T.translate(d.vertices,A)}var M=w._totalProperties(d),I=M.centre.x,k=M.centre.y,F=d.bounds,N=d.centerOfMass,V=d.centerOffset;c.update(F,d.vertices,d.velocity),N.x=-(F.min.x-I)/(F.max.x-F.min.x),N.y=-(F.min.y-k)/(F.max.y-F.min.y),V.x=I,V.y=k,d.area=M.area,d.parent=d,d.position.x=I,d.position.y=k,d.positionPrev.x=I,d.positionPrev.y=k,w.setMass(d,M.mass),w.setInertia(d,M.inertia),w.setPosition(d,M.centre)}},w.setCentre=function(d,p,v){v?(d.positionPrev.x+=p.x,d.positionPrev.y+=p.y,d.position.x+=p.x,d.position.y+=p.y):(d.positionPrev.x=p.x-(d.position.x-d.positionPrev.x),d.positionPrev.y=p.y-(d.position.y-d.positionPrev.y),d.position.x=p.x,d.position.y=p.y)},w.setPosition=function(d,p,v){var x=g.sub(p,d.position);v?(d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.velocity.x=x.x,d.velocity.y=x.y,d.speed=g.magnitude(x)):(d.positionPrev.x+=x.x,d.positionPrev.y+=x.y);for(var y=0;y<d.parts.length;y++){var _=d.parts[y];_.position.x+=x.x,_.position.y+=x.y,T.translate(_.vertices,x),c.update(_.bounds,_.vertices,d.velocity)}},w.setAngle=function(d,p,v){var x=p-d.angle;v?(d.anglePrev=d.angle,d.angularVelocity=x,d.angularSpeed=Math.abs(x)):d.anglePrev+=x;for(var y=0;y<d.parts.length;y++){var _=d.parts[y];_.angle+=x,T.rotate(_.vertices,x,d.position),u.rotate(_.axes,x),c.update(_.bounds,_.vertices,d.velocity),y>0&&g.rotateAbout(_.position,x,d.position,_.position)}},w.setVelocity=function(d,p){var v=d.deltaTime/w._baseDelta;d.positionPrev.x=d.position.x-p.x*v,d.positionPrev.y=d.position.y-p.y*v,d.velocity.x=(d.position.x-d.positionPrev.x)/v,d.velocity.y=(d.position.y-d.positionPrev.y)/v,d.speed=g.magnitude(d.velocity)},w.getVelocity=function(d){var p=w._baseDelta/d.deltaTime;return{x:(d.position.x-d.positionPrev.x)*p,y:(d.position.y-d.positionPrev.y)*p}},w.getSpeed=function(d){return g.magnitude(w.getVelocity(d))},w.setSpeed=function(d,p){w.setVelocity(d,g.mult(g.normalise(w.getVelocity(d)),p))},w.setAngularVelocity=function(d,p){var v=d.deltaTime/w._baseDelta;d.anglePrev=d.angle-p*v,d.angularVelocity=(d.angle-d.anglePrev)/v,d.angularSpeed=Math.abs(d.angularVelocity)},w.getAngularVelocity=function(d){return(d.angle-d.anglePrev)*w._baseDelta/d.deltaTime},w.getAngularSpeed=function(d){return Math.abs(w.getAngularVelocity(d))},w.setAngularSpeed=function(d,p){w.setAngularVelocity(d,h.sign(w.getAngularVelocity(d))*p)},w.translate=function(d,p,v){w.setPosition(d,g.add(d.position,p),v)},w.rotate=function(d,p,v,x){if(v){var y=Math.cos(p),_=Math.sin(p),E=d.position.x-v.x,A=d.position.y-v.y;w.setPosition(d,{x:v.x+(E*y-A*_),y:v.y+(E*_+A*y)},x),w.setAngle(d,d.angle+p,x)}else w.setAngle(d,d.angle+p,x)},w.scale=function(d,p,v,x){var y=0,_=0;x=x||d.position;for(var E=d.inertia===1/0,A=0;A<d.parts.length;A++){var M=d.parts[A];M.scale.x=p,M.scale.y=v,T.scale(M.vertices,p,v,x),M.axes=u.fromVertices(M.vertices),M.area=T.area(M.vertices),w.setMass(M,d.density*M.area),T.translate(M.vertices,{x:-M.position.x,y:-M.position.y}),w.setInertia(M,w._inertiaScale*T.inertia(M.vertices,M.mass)),T.translate(M.vertices,{x:M.position.x,y:M.position.y}),A>0&&(y+=M.area,_+=M.inertia),M.position.x=x.x+(M.position.x-x.x)*p,M.position.y=x.y+(M.position.y-x.y)*v,c.update(M.bounds,M.vertices,d.velocity)}d.parts.length>1&&(d.area=y,d.isStatic||(w.setMass(d,d.density*y),w.setInertia(d,_))),d.circleRadius&&(p===v?d.circleRadius*=p:d.circleRadius=null),E&&w.setInertia(d,1/0)},w.update=function(d,p){var v=(p=(typeof p<"u"?p:16.666666666666668)*d.timeScale)*p,x=w._timeCorrection?p/(d.deltaTime||p):1,y=1-d.frictionAir*(p/h._baseDelta),E=(d.position.y-d.positionPrev.y)*x;d.velocity.x=(d.position.x-d.positionPrev.x)*x*y+d.force.x/d.mass*v,d.velocity.y=E*y+d.force.y/d.mass*v,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.position.x+=d.velocity.x,d.position.y+=d.velocity.y,d.deltaTime=p,d.angularVelocity=(d.angle-d.anglePrev)*y*x+d.torque/d.inertia*v,d.anglePrev=d.angle,d.angle+=d.angularVelocity,d.speed=g.magnitude(d.velocity),d.angularSpeed=Math.abs(d.angularVelocity);for(var A=0;A<d.parts.length;A++){var M=d.parts[A];T.translate(M.vertices,d.velocity),A>0&&(M.position.x+=d.velocity.x,M.position.y+=d.velocity.y),0!==d.angularVelocity&&(T.rotate(M.vertices,d.angularVelocity,d.position),u.rotate(M.axes,d.angularVelocity),A>0&&g.rotateAbout(M.position,d.angularVelocity,d.position,M.position)),c.update(M.bounds,M.vertices,d.velocity)}},w.updateVelocities=function(d){var p=w._baseDelta/d.deltaTime,v=d.velocity;v.x=(d.position.x-d.positionPrev.x)*p,v.y=(d.position.y-d.positionPrev.y)*p,d.speed=Math.sqrt(v.x*v.x+v.y*v.y),d.angularVelocity=(d.angle-d.anglePrev)*p,d.angularSpeed=Math.abs(d.angularVelocity)},w.applyForce=function(d,p,v){var x_x=p.x-d.position.x,x_y=p.y-d.position.y;d.force.x+=v.x,d.force.y+=v.y,d.torque+=x_x*v.y-x_y*v.x},w._totalProperties=function(d){for(var p={mass:0,area:0,inertia:0,centre:{x:0,y:0}},v=1===d.parts.length?0:1;v<d.parts.length;v++){var x=d.parts[v],y=x.mass!==1/0?x.mass:1;p.mass+=y,p.area+=x.area,p.inertia+=x.inertia,p.centre=g.add(p.centre,g.mult(x.position,y))}return p.centre=g.div(p.centre,p.mass),p},w.wrap=function(d,p){var v=c.wrap(d.bounds,p);return v&&w.translate(d,v),v}}()},69351:(S,P,a)=>{var w={};S.exports=w;var T=a(35810),g=a(53402),f=a(15647),h=a(22562);w.create=function(c){return g.extend({id:g.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},c)},w.setModified=function(c,u,m,d){if(T.trigger(c,"compositeModified",c),c.isModified=u,u&&c.cache&&(c.cache.allBodies=null,c.cache.allConstraints=null,c.cache.allComposites=null),m&&c.parent&&w.setModified(c.parent,u,m,d),d)for(var p=0;p<c.composites.length;p++)w.setModified(c.composites[p],u,m,d)},w.add=function(c,u){var m=[].concat(u);T.trigger(c,"beforeAdd",{object:u});for(var d=0;d<m.length;d++){var p=m[d];switch(p.type){case"body":if(p.parent!==p){g.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}w.addBody(c,p);break;case"constraint":w.addConstraint(c,p);break;case"composite":w.addComposite(c,p);break;case"mouseConstraint":w.addConstraint(c,p.constraint)}}return T.trigger(c,"afterAdd",{object:u}),c},w.remove=function(c,u,m){var d=[].concat(u);T.trigger(c,"beforeRemove",{object:u});for(var p=0;p<d.length;p++){var v=d[p];switch(v.type){case"body":w.removeBody(c,v,m);break;case"constraint":w.removeConstraint(c,v,m);break;case"composite":w.removeComposite(c,v,m);break;case"mouseConstraint":w.removeConstraint(c,v.constraint)}}return T.trigger(c,"afterRemove",{object:u}),c},w.addComposite=function(c,u){return c.composites.push(u),u.parent=c,w.setModified(c,!0,!0,!1),c},w.removeComposite=function(c,u,m){var d=g.indexOf(c.composites,u);if(-1!==d){var p=w.allBodies(u);w.removeCompositeAt(c,d);for(var v=0;v<p.length;v++)p[v].sleepCounter=0}if(m)for(v=0;v<c.composites.length;v++)w.removeComposite(c.composites[v],u,!0);return c},w.removeCompositeAt=function(c,u){return c.composites.splice(u,1),w.setModified(c,!0,!0,!1),c},w.addBody=function(c,u){return c.bodies.push(u),w.setModified(c,!0,!0,!1),c},w.removeBody=function(c,u,m){var d=g.indexOf(c.bodies,u);if(-1!==d&&(w.removeBodyAt(c,d),u.sleepCounter=0),m)for(var p=0;p<c.composites.length;p++)w.removeBody(c.composites[p],u,!0);return c},w.removeBodyAt=function(c,u){return c.bodies.splice(u,1),w.setModified(c,!0,!0,!1),c},w.addConstraint=function(c,u){return c.constraints.push(u),w.setModified(c,!0,!0,!1),c},w.removeConstraint=function(c,u,m){var d=g.indexOf(c.constraints,u);if(-1!==d&&w.removeConstraintAt(c,d),m)for(var p=0;p<c.composites.length;p++)w.removeConstraint(c.composites[p],u,!0);return c},w.removeConstraintAt=function(c,u){return c.constraints.splice(u,1),w.setModified(c,!0,!0,!1),c},w.clear=function(c,u,m){if(m)for(var d=0;d<c.composites.length;d++)w.clear(c.composites[d],u,!0);return u?c.bodies=c.bodies.filter(function(p){return p.isStatic}):c.bodies.length=0,c.constraints.length=0,c.composites.length=0,w.setModified(c,!0,!0,!1),c},w.allBodies=function(c){if(c.cache&&c.cache.allBodies)return c.cache.allBodies;for(var u=[].concat(c.bodies),m=0;m<c.composites.length;m++)u=u.concat(w.allBodies(c.composites[m]));return c.cache&&(c.cache.allBodies=u),u},w.allConstraints=function(c){if(c.cache&&c.cache.allConstraints)return c.cache.allConstraints;for(var u=[].concat(c.constraints),m=0;m<c.composites.length;m++)u=u.concat(w.allConstraints(c.composites[m]));return c.cache&&(c.cache.allConstraints=u),u},w.allComposites=function(c){if(c.cache&&c.cache.allComposites)return c.cache.allComposites;for(var u=[].concat(c.composites),m=0;m<c.composites.length;m++)u=u.concat(w.allComposites(c.composites[m]));return c.cache&&(c.cache.allComposites=u),u},w.get=function(c,u,m){var d,p;switch(m){case"body":d=w.allBodies(c);break;case"constraint":d=w.allConstraints(c);break;case"composite":d=w.allComposites(c).concat(c)}return d?0===(p=d.filter(function(v){return v.id.toString()===u.toString()})).length?null:p[0]:null},w.move=function(c,u,m){return w.remove(c,u),w.add(m,u),c},w.rebase=function(c){for(var u=w.allBodies(c).concat(w.allConstraints(c)).concat(w.allComposites(c)),m=0;m<u.length;m++)u[m].id=g.nextId();return c},w.translate=function(c,u,m){for(var d=m?w.allBodies(c):c.bodies,p=0;p<d.length;p++)h.translate(d[p],u);return c},w.rotate=function(c,u,m,d){for(var p=Math.cos(u),v=Math.sin(u),x=d?w.allBodies(c):c.bodies,y=0;y<x.length;y++){var _=x[y],E=_.position.x-m.x,A=_.position.y-m.y;h.setPosition(_,{x:m.x+(E*p-A*v),y:m.y+(E*v+A*p)}),h.rotate(_,u)}return c},w.scale=function(c,u,m,d,p){for(var v=p?w.allBodies(c):c.bodies,x=0;x<v.length;x++){var y=v[x];h.setPosition(y,{x:d.x+(y.position.x-d.x)*u,y:d.y+(y.position.y-d.y)*m}),h.scale(y,u,m)}return c},w.bounds=function(c){for(var u=w.allBodies(c),m=[],d=0;d<u.length;d+=1){var p=u[d];m.push(p.bounds.min,p.bounds.max)}return f.create(m)},w.wrap=function(c,u){var m=f.wrap(w.bounds(c),u);return m&&w.translate(c,m),m}},4372:(S,P,a)=>{var w={};S.exports=w;var T=a(69351);w.create=T.create,w.add=T.add,w.remove=T.remove,w.clear=T.clear,w.addComposite=T.addComposite,w.addBody=T.addBody,w.addConstraint=T.addConstraint},52284:(S,P,a)=>{var w={};S.exports=w;var f,h,c,T=a(41598),g=a(4506);f=[],h={overlap:0,axis:null},c={overlap:0,axis:null},w.create=function(u,m){return{pair:null,collided:!1,bodyA:u,bodyB:m,parentA:u.parent,parentB:m.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},w.collides=function(u,m,d){if(w._overlapAxes(h,u.vertices,m.vertices,u.axes),h.overlap<=0||(w._overlapAxes(c,m.vertices,u.vertices,m.axes),c.overlap<=0))return null;var v,x,p=d&&d.table[g.id(u,m)];p?v=p.collision:((v=w.create(u,m)).collided=!0,v.bodyA=u.id<m.id?u:m,v.bodyB=u.id<m.id?m:u,v.parentA=v.bodyA.parent,v.parentB=v.bodyB.parent);var y=v.normal,_=v.tangent,E=v.penetration,A=v.supports,M=(x=h.overlap<c.overlap?h:c).overlap,I=x.axis,k=I.x,F=I.y;k*((m=v.bodyB).position.x-(u=v.bodyA).position.x)+F*(m.position.y-u.position.y)>=0&&(k=-k,F=-F),y.x=k,y.y=F,_.x=-F,_.y=k,E.x=k*M,E.y=F*M,v.depth=M;var B=w._findSupports(u,m,y,1),H=0;if(T.contains(u.vertices,B[0])&&(A[H++]=B[0]),T.contains(u.vertices,B[1])&&(A[H++]=B[1]),H<2){var Q=w._findSupports(m,u,y,-1);T.contains(m.vertices,Q[0])&&(A[H++]=Q[0]),H<2&&T.contains(m.vertices,Q[1])&&(A[H++]=Q[1])}return 0===H&&(A[H++]=B[0]),v.supportCount=H,v},w._overlapAxes=function(u,m,d,p){var F,N,V,B,H,Q,v=m.length,x=d.length,y=m[0].x,_=m[0].y,E=d[0].x,A=d[0].y,M=p.length,I=Number.MAX_VALUE,k=0;for(H=0;H<M;H++){var G=p[H],K=G.x,tt=G.y,at=y*K+_*tt,lt=E*K+A*tt,J=at,it=lt;for(Q=1;Q<v;Q+=1)(B=m[Q].x*K+m[Q].y*tt)>J?J=B:B<at&&(at=B);for(Q=1;Q<x;Q+=1)(B=d[Q].x*K+d[Q].y*tt)>it?it=B:B<lt&&(lt=B);if((F=(N=J-lt)<(V=it-at)?N:V)<I&&(I=F,k=H,F<=0))break}u.axis=p[k],u.overlap=I},w._findSupports=function(u,m,d,p){var F,N,V,v=m.vertices,x=v.length,y=u.position.x,_=u.position.y,E=d.x*p,A=d.y*p,M=v[0],I=M,k=E*(y-I.x)+A*(_-I.y);for(V=1;V<x;V+=1)(N=E*(y-(I=v[V]).x)+A*(_-I.y))<k&&(k=N,M=I);return E*(y-(I=v[(M.index+1)%x]).x)+A*(_-I.y)<(k=E*(y-(F=v[(x+M.index-1)%x]).x)+A*(_-F.y))?(f[0]=M,f[1]=I,f):(f[0]=M,f[1]=F,f)}},43424:S=>{var P={};S.exports=P,P.create=function(a){return{vertex:a,normalImpulse:0,tangentImpulse:0}}},81388:(S,P,a)=>{var w={};S.exports=w;var T=a(53402),g=a(52284);w.create=function(f){return T.extend({bodies:[],collisions:[],pairs:null},f)},w.setBodies=function(f,h){f.bodies=h.slice(0)},w.clear=function(f){f.bodies=[],f.collisions=[]},w.collisions=function(f){var x,y,h=f.pairs,c=f.bodies,u=c.length,m=w.canCollide,d=g.collides,p=f.collisions,v=0;for(c.sort(w._compareBoundsX),x=0;x<u;x++){var _=c[x],E=_.bounds,A=_.bounds.max.x,M=_.bounds.max.y,I=_.bounds.min.y,k=_.isStatic||_.isSleeping,F=_.parts.length,N=1===F;for(y=x+1;y<u;y++){var V=c[y];if((B=V.bounds).min.x>A)break;if(!(M<B.min.y||I>B.max.y)&&(!k||!V.isStatic&&!V.isSleeping)&&m(_.collisionFilter,V.collisionFilter)){var H=V.parts.length;if(N&&1===H)(Q=d(_,V,h))&&(p[v++]=Q);else for(var K=H>1?1:0,tt=F>1?1:0;tt<F;tt++)for(var at=_.parts[tt],lt=(E=at.bounds,K);lt<H;lt++){var B,Q,J=V.parts[lt];E.min.x>(B=J.bounds).max.x||E.max.x<B.min.x||E.max.y<B.min.y||E.min.y>B.max.y||(Q=d(at,J,h))&&(p[v++]=Q)}}}}return p.length!==v&&(p.length=v),p},w.canCollide=function(f,h){return f.group===h.group&&0!==f.group?f.group>0:!!(f.mask&h.category)&&!!(h.mask&f.category)},w._compareBoundsX=function(f,h){return f.bounds.min.x-h.bounds.min.x}},4506:(S,P,a)=>{var w={};S.exports=w;var T=a(43424);w.create=function(g,f){var h=g.bodyA,c=g.bodyB,u={id:w.id(h,c),bodyA:h,bodyB:c,collision:g,contacts:[T.create(),T.create()],contactCount:0,separation:0,isActive:!0,isSensor:h.isSensor||c.isSensor,timeCreated:f,timeUpdated:f,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return w.update(u,g,f),u},w.update=function(g,f,h){var c=f.supports,u=f.supportCount,m=g.contacts,d=f.parentA,p=f.parentB;g.isActive=!0,g.timeUpdated=h,g.collision=f,g.separation=f.depth,g.inverseMass=d.inverseMass+p.inverseMass,g.friction=d.friction<p.friction?d.friction:p.friction,g.frictionStatic=d.frictionStatic>p.frictionStatic?d.frictionStatic:p.frictionStatic,g.restitution=d.restitution>p.restitution?d.restitution:p.restitution,g.slop=d.slop>p.slop?d.slop:p.slop,g.contactCount=u,f.pair=g;var v=c[0],x=m[0],y=c[1],_=m[1];(_.vertex===v||x.vertex===y)&&(m[1]=x,m[0]=x=_,_=m[1]),x.vertex=v,_.vertex=y},w.setActive=function(g,f,h){f?(g.isActive=!0,g.timeUpdated=h):(g.isActive=!1,g.contactCount=0)},w.id=function(g,f){return g.id<f.id?g.id.toString(36)+":"+f.id.toString(36):f.id.toString(36)+":"+g.id.toString(36)}},99561:(S,P,a)=>{var w={};S.exports=w;var T=a(4506),g=a(53402);w.create=function(f){return g.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},f)},w.update=function(f,h,c){var N,V,B,u=T.update,m=T.create,d=T.setActive,p=f.table,v=f.list,x=v.length,y=x,_=f.collisionStart,E=f.collisionEnd,A=f.collisionActive,M=h.length,I=0,k=0,F=0;for(B=0;B<M;B++)(V=(N=h[B]).pair)?(V.isActive&&(A[F++]=V),u(V,N,c)):(p[(V=m(N,c)).id]=V,_[I++]=V,v[y++]=V);for(y=0,x=v.length,B=0;B<x;B++)(V=v[B]).timeUpdated>=c?v[y++]=V:(d(V,!1,c),V.collision.bodyA.sleepCounter>0&&V.collision.bodyB.sleepCounter>0?v[y++]=V:(E[k++]=V,delete p[V.id]));v.length!==y&&(v.length=y),_.length!==I&&(_.length=I),E.length!==k&&(E.length=k),A.length!==F&&(A.length=F)},w.clear=function(f){return f.table={},f.list.length=0,f.collisionStart.length=0,f.collisionActive.length=0,f.collisionEnd.length=0,f}},73296:(S,P,a)=>{var w={};S.exports=w;var T=a(31725),g=a(52284),f=a(15647),h=a(66280),c=a(41598);w.collides=function(u,m){for(var d=[],p=m.length,v=u.bounds,x=g.collides,y=f.overlaps,_=0;_<p;_++){var E=m[_],A=E.parts.length,M=1===A?0:1;if(u!==E&&y(E.bounds,v))for(var I=M;I<A;I++){var k=E.parts[I];if(y(k.bounds,v)){var F=x(k,u);if(F){d.push(F);break}}}}return d},w.ray=function(u,m,d,p){p=p||1e-100;for(var v=T.angle(m,d),x=T.magnitude(T.sub(m,d)),E=h.rectangle(.5*(d.x+m.x),.5*(d.y+m.y),x,p,{angle:v}),A=w.collides(E,u),M=0;M<A.length;M+=1){var I=A[M];I.body=I.bodyB=I.bodyA}return A},w.region=function(u,m,d){for(var p=[],v=0;v<u.length;v++){var x=u[v],y=f.overlaps(x.bounds,m);(y&&!d||!y&&d)&&p.push(x)}return p},w.point=function(u,m){for(var d=[],p=0;p<u.length;p++){var v=u[p];if(f.contains(v.bounds,m))for(var x=1===v.parts.length?0:1;x<v.parts.length;x++){var y=v.parts[x];if(f.contains(y.bounds,m)&&c.contains(y.vertices,m)){d.push(v);break}}}return d}},66272:(S,P,a)=>{var w={};S.exports=w;var T=a(41598),g=a(53402),f=a(15647);w._restingThresh=2,w._restingThreshTangent=Math.sqrt(6),w._positionDampen=.9,w._positionWarming=.8,w._frictionNormalMultiplier=5,w._frictionMaxStatic=Number.MAX_VALUE,w.preSolvePosition=function(h){var c,u,m,d=h.length;for(c=0;c<d;c++)(u=h[c]).isActive&&(u.collision.parentA.totalContacts+=m=u.contactCount,u.collision.parentB.totalContacts+=m)},w.solvePosition=function(h,c,u){var m,d,p,v,x,y,_,E,A=w._positionDampen*(u||1),M=g.clamp(c/g._baseDelta,0,1),I=h.length;for(m=0;m<I;m++)(d=h[m]).isActive&&!d.isSensor&&(d.separation=(p=d.collision).depth+(y=p.normal).x*((x=p.parentB).positionImpulse.x-(v=p.parentA).positionImpulse.x)+y.y*(x.positionImpulse.y-v.positionImpulse.y));for(m=0;m<I;m++)(d=h[m]).isActive&&!d.isSensor&&(x=(p=d.collision).parentB,y=p.normal,E=d.separation-d.slop*M,((v=p.parentA).isStatic||x.isStatic)&&(E*=2),v.isStatic||v.isSleeping||(v.positionImpulse.x+=y.x*E*(_=A/v.totalContacts),v.positionImpulse.y+=y.y*E*_),x.isStatic||x.isSleeping||(x.positionImpulse.x-=y.x*E*(_=A/x.totalContacts),x.positionImpulse.y-=y.y*E*_))},w.postSolvePosition=function(h){for(var c=w._positionWarming,u=h.length,m=T.translate,d=f.update,p=0;p<u;p++){var v=h[p],x=v.positionImpulse,y=x.x,_=x.y,E=v.velocity;if(v.totalContacts=0,0!==y||0!==_){for(var A=0;A<v.parts.length;A++){var M=v.parts[A];m(M.vertices,x),d(M.bounds,M.vertices,E),M.position.x+=y,M.position.y+=_}v.positionPrev.x+=y,v.positionPrev.y+=_,y*E.x+_*E.y<0?(x.x=0,x.y=0):(x.x*=c,x.y*=c)}}},w.preSolveVelocity=function(h){var u,m,c=h.length;for(u=0;u<c;u++){var d=h[u];if(d.isActive&&!d.isSensor){var p=d.contacts,v=d.contactCount,x=d.collision,y=x.parentA,_=x.parentB,E=x.normal,A=x.tangent;for(m=0;m<v;m++){var M=p[m],I=M.vertex,k=M.normalImpulse,F=M.tangentImpulse;if(0!==k||0!==F){var N=E.x*k+A.x*F,V=E.y*k+A.y*F;y.isStatic||y.isSleeping||(y.positionPrev.x+=N*y.inverseMass,y.positionPrev.y+=V*y.inverseMass,y.anglePrev+=y.inverseInertia*((I.x-y.position.x)*V-(I.y-y.position.y)*N)),_.isStatic||_.isSleeping||(_.positionPrev.x-=N*_.inverseMass,_.positionPrev.y-=V*_.inverseMass,_.anglePrev-=_.inverseInertia*((I.x-_.position.x)*V-(I.y-_.position.y)*N))}}}}},w.solveVelocity=function(h,c){var E,A,M,I,u=c/g._baseDelta,d=u*u*u,p=-w._restingThresh*u,v=w._restingThreshTangent,x=w._frictionNormalMultiplier*u,y=w._frictionMaxStatic,_=h.length;for(M=0;M<_;M++){var k=h[M];if(k.isActive&&!k.isSensor){var F=k.collision,N=F.parentA,V=F.parentB,B=F.normal.x,H=F.normal.y,Q=F.tangent.x,G=F.tangent.y,K=k.inverseMass,tt=k.friction*k.frictionStatic*x,at=k.contacts,lt=k.contactCount,J=1/lt,it=N.position.x-N.positionPrev.x,Y=N.position.y-N.positionPrev.y,j=N.angle-N.anglePrev,nt=V.position.x-V.positionPrev.x,ht=V.position.y-V.positionPrev.y,gt=V.angle-V.anglePrev;for(I=0;I<lt;I++){var wt=at[I],St=wt.vertex,Bt=St.x-N.position.x,Yt=St.y-N.position.y,$t=St.x-V.position.x,qt=St.y-V.position.y,Ie=it-Yt*j-(nt-qt*gt),_i=Y+Bt*j-(ht+$t*gt),we=B*Ie+H*_i,ri=Q*Ie+G*_i,Ze=k.separation+we,zi=Math.min(Ze,1),Cn=(zi=Ze<0?0:zi)*tt;ri<-Cn||ri>Cn?(E=k.friction*(ri>0?1:-1)*d)<-(A=ri>0?ri:-ri)?E=-A:E>A&&(E=A):(E=ri,A=y);var sr=Bt*H-Yt*B,vn=$t*H-qt*B,bn=J/(K+N.inverseInertia*sr*sr+V.inverseInertia*vn*vn),Fr=(1+k.restitution)*we*bn;if(E*=bn,we<p)wt.normalImpulse=0;else{var cs=wt.normalImpulse;wt.normalImpulse+=Fr,wt.normalImpulse>0&&(wt.normalImpulse=0),Fr=wt.normalImpulse-cs}if(ri<-v||ri>v)wt.tangentImpulse=0;else{var Dn=wt.tangentImpulse;wt.tangentImpulse+=E,wt.tangentImpulse<-A&&(wt.tangentImpulse=-A),wt.tangentImpulse>A&&(wt.tangentImpulse=A),E=wt.tangentImpulse-Dn}var xr=B*Fr+Q*E,ts=H*Fr+G*E;N.isStatic||N.isSleeping||(N.positionPrev.x+=xr*N.inverseMass,N.positionPrev.y+=ts*N.inverseMass,N.anglePrev+=(Bt*ts-Yt*xr)*N.inverseInertia),V.isStatic||V.isSleeping||(V.positionPrev.x-=xr*V.inverseMass,V.positionPrev.y-=ts*V.inverseMass,V.anglePrev-=($t*ts-qt*xr)*V.inverseInertia)}}}}},48140:(S,P,a)=>{var w={};S.exports=w;var T=a(41598),g=a(31725),f=a(53614),h=a(15647),c=a(66615),u=a(53402);w._warming=.4,w._torqueDampen=1,w._minLength=1e-6,w.create=function(m){var d=m;d.bodyA&&!d.pointA&&(d.pointA={x:0,y:0}),d.bodyB&&!d.pointB&&(d.pointB={x:0,y:0});var p=d.bodyA?g.add(d.bodyA.position,d.pointA):d.pointA,v=d.bodyB?g.add(d.bodyB.position,d.pointB):d.pointB,x=g.magnitude(g.sub(p,v));d.length=typeof d.length<"u"?d.length:x,d.id=d.id||u.nextId(),d.label=d.label||"Constraint",d.type="constraint",d.stiffness=d.stiffness||(d.length>0?1:.7),d.damping=d.damping||0,d.angularStiffness=d.angularStiffness||0,d.angleA=d.bodyA?d.bodyA.angle:d.angleA,d.angleB=d.bodyB?d.bodyB.angle:d.angleB,d.plugin={};var y={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===d.length&&d.stiffness>.1?(y.type="pin",y.anchors=!1):d.stiffness<.9&&(y.type="spring"),d.render=u.extend(y,d.render),d},w.preSolveAll=function(m){for(var d=0;d<m.length;d+=1){var p=m[d],v=p.constraintImpulse;p.isStatic||0===v.x&&0===v.y&&0===v.angle||(p.position.x+=v.x,p.position.y+=v.y,p.angle+=v.angle)}},w.solveAll=function(m,d){for(var p=u.clamp(d/u._baseDelta,0,1),v=0;v<m.length;v+=1){var x=m[v],y=!x.bodyA||x.bodyA&&x.bodyA.isStatic,_=!x.bodyB||x.bodyB&&x.bodyB.isStatic;(y||_)&&w.solve(m[v],p)}for(v=0;v<m.length;v+=1)_=!(x=m[v]).bodyB||x.bodyB&&x.bodyB.isStatic,!(y=!x.bodyA||x.bodyA&&x.bodyA.isStatic)&&!_&&w.solve(m[v],p)},w.solve=function(m,d){var p=m.bodyA,v=m.bodyB,x=m.pointA,y=m.pointB;if(p||v){p&&!p.isStatic&&(g.rotate(x,p.angle-m.angleA,x),m.angleA=p.angle),v&&!v.isStatic&&(g.rotate(y,v.angle-m.angleB,y),m.angleB=v.angle);var _=x,E=y;if(p&&(_=g.add(p.position,x)),v&&(E=g.add(v.position,y)),_&&E){var A=g.sub(_,E),M=g.magnitude(A);M<w._minLength&&(M=w._minLength);var G,K,tt,at,lt,N=m.damping*d,V=g.mult(A,(M-m.length)/M*(m.stiffness>=1||0===m.length?m.stiffness*d:m.stiffness*d*d)),B=(p?p.inverseMass:0)+(v?v.inverseMass:0),Q=B+((p?p.inverseInertia:0)+(v?v.inverseInertia:0));if(N>0){var J=g.create();tt=g.div(A,M),lt=g.sub(v&&g.sub(v.position,v.positionPrev)||J,p&&g.sub(p.position,p.positionPrev)||J),at=g.dot(tt,lt)}p&&!p.isStatic&&(p.constraintImpulse.x-=V.x*(K=p.inverseMass/B),p.constraintImpulse.y-=V.y*K,p.position.x-=V.x*K,p.position.y-=V.y*K,N>0&&(p.positionPrev.x-=N*tt.x*at*K,p.positionPrev.y-=N*tt.y*at*K),G=g.cross(x,V)/Q*w._torqueDampen*p.inverseInertia*(1-m.angularStiffness),p.constraintImpulse.angle-=G,p.angle-=G),v&&!v.isStatic&&(v.constraintImpulse.x+=V.x*(K=v.inverseMass/B),v.constraintImpulse.y+=V.y*K,v.position.x+=V.x*K,v.position.y+=V.y*K,N>0&&(v.positionPrev.x+=N*tt.x*at*K,v.positionPrev.y+=N*tt.y*at*K),G=g.cross(y,V)/Q*w._torqueDampen*v.inverseInertia*(1-m.angularStiffness),v.constraintImpulse.angle+=G,v.angle+=G)}}},w.postSolveAll=function(m){for(var d=0;d<m.length;d++){var p=m[d],v=p.constraintImpulse;if(!(p.isStatic||0===v.x&&0===v.y&&0===v.angle)){f.set(p,!1);for(var x=0;x<p.parts.length;x++){var y=p.parts[x];T.translate(y.vertices,v),x>0&&(y.position.x+=v.x,y.position.y+=v.y),0!==v.angle&&(T.rotate(y.vertices,v.angle,p.position),c.rotate(y.axes,v.angle),x>0&&g.rotateAbout(y.position,v.angle,p.position,y.position)),h.update(y.bounds,y.vertices,p.velocity)}v.angle*=w._warming,v.x*=w._warming,v.y*=w._warming}}},w.pointAWorld=function(m){return{x:(m.bodyA?m.bodyA.position.x:0)+(m.pointA?m.pointA.x:0),y:(m.bodyA?m.bodyA.position.y:0)+(m.pointA?m.pointA.y:0)}},w.pointBWorld=function(m){return{x:(m.bodyB?m.bodyB.position.x:0)+(m.pointB?m.pointB.x:0),y:(m.bodyB?m.bodyB.position.y:0)+(m.pointB?m.pointB.y:0)}},w.currentLength=function(m){var y=(m.bodyA?m.bodyA.position.x:0)+(m.pointA?m.pointA.x:0)-((m.bodyB?m.bodyB.position.x:0)+(m.pointB?m.pointB.x:0)),_=(m.bodyA?m.bodyA.position.y:0)+(m.pointA?m.pointA.y:0)-((m.bodyB?m.bodyB.position.y:0)+(m.pointB?m.pointB.y:0));return Math.sqrt(y*y+_*_)}},53402:(S,P,a)=>{var w={};S.exports=w,function(){w._baseDelta=16.666666666666668,w._nextId=0,w._seed=0,w._nowStartTime=+new Date,w._warnedOnce={},w._decomp=null,w.extend=function(g,f){var h,u;"boolean"==typeof f?(h=2,u=f):(h=1,u=!0);for(var m=h;m<arguments.length;m++){var d=arguments[m];if(d)for(var p in d)!u||!d[p]||d[p].constructor!==Object||g[p]&&g[p].constructor!==Object?g[p]=d[p]:(g[p]=g[p]||{},w.extend(g[p],u,d[p]))}return g},w.clone=function(g,f){return w.extend({},f,g)},w.keys=function(g){if(Object.keys)return Object.keys(g);var f=[];for(var h in g)f.push(h);return f},w.values=function(g){var f=[];if(Object.keys){for(var h=Object.keys(g),c=0;c<h.length;c++)f.push(g[h[c]]);return f}for(var u in g)f.push(g[u]);return f},w.get=function(g,f,h,c){f=f.split(".").slice(h,c);for(var u=0;u<f.length;u+=1)g=g[f[u]];return g},w.set=function(g,f,h,c,u){var m=f.split(".").slice(c,u);return w.get(g,f,0,-1)[m[m.length-1]]=h,h},w.shuffle=function(g){for(var f=g.length-1;f>0;f--){var h=Math.floor(w.random()*(f+1)),c=g[f];g[f]=g[h],g[h]=c}return g},w.choose=function(g){return g[Math.floor(w.random()*g.length)]},w.isElement=function(g){return typeof HTMLElement<"u"?g instanceof HTMLElement:!!(g&&g.nodeType&&g.nodeName)},w.isArray=function(g){return"[object Array]"===Object.prototype.toString.call(g)},w.isFunction=function(g){return"function"==typeof g},w.isPlainObject=function(g){return"object"==typeof g&&g.constructor===Object},w.isString=function(g){return"[object String]"===toString.call(g)},w.clamp=function(g,f,h){return g<f?f:g>h?h:g},w.sign=function(g){return g<0?-1:1},w.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-w._nowStartTime},w.random=function(g,f){return f=typeof f<"u"?f:1,(g=typeof g<"u"?g:0)+T()*(f-g)};var T=function(){return w._seed=(9301*w._seed+49297)%233280,w._seed/233280};w.colorToNumber=function(g){return 3==(g=g.replace("#","")).length&&(g=g.charAt(0)+g.charAt(0)+g.charAt(1)+g.charAt(1)+g.charAt(2)+g.charAt(2)),parseInt(g,16)},w.logLevel=1,w.log=function(){console&&w.logLevel>0&&w.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},w.info=function(){console&&w.logLevel>0&&w.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},w.warn=function(){console&&w.logLevel>0&&w.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},w.warnOnce=function(){var g=Array.prototype.slice.call(arguments).join(" ");w._warnedOnce[g]||(w.warn(g),w._warnedOnce[g]=!0)},w.deprecated=function(g,f,h){g[f]=w.chain(function(){w.warnOnce("\u{1f505} deprecated \u{1f505}",h)},g[f])},w.nextId=function(){return w._nextId++},w.indexOf=function(g,f){if(g.indexOf)return g.indexOf(f);for(var h=0;h<g.length;h++)if(g[h]===f)return h;return-1},w.map=function(g,f){if(g.map)return g.map(f);for(var h=[],c=0;c<g.length;c+=1)h.push(f(g[c]));return h},w.topologicalSort=function(g){var f=[],h=[],c=[];for(var u in g)!h[u]&&!c[u]&&w._topologicalSort(u,h,c,g,f);return f},w._topologicalSort=function(g,f,h,c,u){var m=c[g]||[];h[g]=!0;for(var d=0;d<m.length;d+=1){var p=m[d];h[p]||f[p]||w._topologicalSort(p,f,h,c,u)}h[g]=!1,f[g]=!0,u.push(g)},w.chain=function(){for(var g=[],f=0;f<arguments.length;f+=1){var h=arguments[f];h._chained?g.push.apply(g,h._chained):g.push(h)}var c=function(){for(var u,m=new Array(arguments.length),d=0,p=arguments.length;d<p;d++)m[d]=arguments[d];for(d=0;d<g.length;d+=1){var v=g[d].apply(u,m);typeof v<"u"&&(u=v)}return u};return c._chained=g,c},w.chainPathBefore=function(g,f,h){return w.set(g,f,w.chain(h,w.get(g,f)))},w.chainPathAfter=function(g,f,h){return w.set(g,f,w.chain(w.get(g,f),h))},w.setDecomp=function(g){w._decomp=g},w.getDecomp=function(){var g=w._decomp;try{!g&&typeof window<"u"&&(g=window.decomp),!g&&typeof a.g<"u"&&(g=a.g.decomp)}catch{g=null}return g}}()},48413:(S,P,a)=>{var w={};S.exports=w;var T=a(53614),g=a(66272),f=a(81388),h=a(99561),c=a(35810),u=a(69351),m=a(48140),d=a(53402),p=a(22562);w._deltaMax=16.666666666666668,w.create=function(v){var y=d.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},v=v||{});return y.world=v.world||u.create({label:"World"}),y.pairs=v.pairs||h.create(),y.detector=v.detector||f.create(),y.detector.pairs=y.pairs,y.grid={buckets:[]},y.world.gravity=y.gravity,y.broadphase=y.grid,y.metrics={},y},w.update=function(v,x){var k,y=d.now(),_=v.world,E=v.detector,A=v.pairs,M=v.timing,I=M.timestamp;x>w._deltaMax&&d.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",w._deltaMax.toFixed(3),"ms."),x=typeof x<"u"?x:d._baseDelta,M.timestamp+=x*=M.timeScale,M.lastDelta=x;var F={timestamp:M.timestamp,delta:x};c.trigger(v,"beforeUpdate",F);var N=u.allBodies(_),V=u.allConstraints(_),B=u.allComposites(_);for(_.isModified&&(f.setBodies(E,N),u.setModified(_,!1,!1,!0)),v.enableSleeping&&T.update(N,x),w._bodiesApplyGravity(N,v.gravity),w.wrap(N,B),w.attractors(N),x>0&&w._bodiesUpdate(N,x),c.trigger(v,"beforeSolve",F),m.preSolveAll(N),k=0;k<v.constraintIterations;k++)m.solveAll(V,x);m.postSolveAll(N);var H=f.collisions(E);h.update(A,H,I),v.enableSleeping&&T.afterCollisions(A.list),A.collisionStart.length>0&&c.trigger(v,"collisionStart",{pairs:A.collisionStart,timestamp:M.timestamp,delta:x});var Q=d.clamp(20/v.positionIterations,0,1);for(g.preSolvePosition(A.list),k=0;k<v.positionIterations;k++)g.solvePosition(A.list,x,Q);for(g.postSolvePosition(N),m.preSolveAll(N),k=0;k<v.constraintIterations;k++)m.solveAll(V,x);for(m.postSolveAll(N),g.preSolveVelocity(A.list),k=0;k<v.velocityIterations;k++)g.solveVelocity(A.list,x);return w._bodiesUpdateVelocities(N),A.collisionActive.length>0&&c.trigger(v,"collisionActive",{pairs:A.collisionActive,timestamp:M.timestamp,delta:x}),A.collisionEnd.length>0&&c.trigger(v,"collisionEnd",{pairs:A.collisionEnd,timestamp:M.timestamp,delta:x}),w._bodiesClearForces(N),c.trigger(v,"afterUpdate",F),v.timing.lastElapsed=d.now()-y,v},w.merge=function(v,x){if(d.extend(v,x),x.world){v.world=x.world,w.clear(v);for(var y=u.allBodies(v.world),_=0;_<y.length;_++){var E=y[_];T.set(E,!1),E.id=d.nextId()}}},w.clear=function(v){h.clear(v.pairs),f.clear(v.detector)},w._bodiesClearForces=function(v){for(var x=v.length,y=0;y<x;y++){var _=v[y];_.force.x=0,_.force.y=0,_.torque=0}},w._bodiesApplyGravity=function(v,x){var y=typeof x.scale<"u"?x.scale:.001,_=v.length;if((0!==x.x||0!==x.y)&&0!==y)for(var E=0;E<_;E++){var A=v[E];A.ignoreGravity||A.isStatic||A.isSleeping||(A.force.y+=A.mass*x.y*y,A.force.x+=A.mass*x.x*y)}},w._bodiesUpdate=function(v,x){for(var y=v.length,_=0;_<y;_++){var E=v[_];E.isStatic||E.isSleeping||p.update(E,x)}},w._bodiesUpdateVelocities=function(v){for(var x=v.length,y=0;y<x;y++)p.updateVelocities(v[y])},w.wrap=function(v,x){for(var y=0;y<v.length;y+=1){var _=v[y];null!==_.wrapBounds&&p.wrap(_,_.wrapBounds)}for(y=0;y<x.length;y+=1){var E=x[y];null!==E.wrapBounds&&u.wrap(E,E.wrapBounds)}},w.attractors=function(v){for(var x=0;x<v.length;x++){var y=v[x],_=y.attractors;if(_&&_.length>0)for(var E=0;E<v.length;E++){var A=v[E];if(x!==E)for(var M=0;M<_.length;M++){var I=_[M],k=I;d.isFunction(I)&&(k=I(y,A)),k&&p.applyForce(A,A.position,k)}}}}},35810:(S,P,a)=>{var w={};S.exports=w;var T=a(53402);w.on=function(g,f,h){for(var u,c=f.split(" "),m=0;m<c.length;m++)u=c[m],g.events=g.events||{},g.events[u]=g.events[u]||[],g.events[u].push(h);return h},w.off=function(g,f,h){if(f){"function"==typeof f&&(h=f,f=T.keys(g.events).join(" "));for(var c=f.split(" "),u=0;u<c.length;u++){var m=g.events[c[u]],d=[];if(h&&m)for(var p=0;p<m.length;p++)m[p]!==h&&d.push(m[p]);g.events[c[u]]=d}}else g.events={}},w.trigger=function(g,f,h){var c,u,m,d,p=g.events;if(p&&T.keys(p).length>0){h||(h={}),c=f.split(" ");for(var v=0;v<c.length;v++)if(m=p[u=c[v]]){(d=T.clone(h,!1)).name=u,d.source=g;for(var x=0;x<m.length;x++)m[x].apply(g,[d])}}}},6790:(S,P,a)=>{var w={};S.exports=w;var T=a(73832),g=a(53402);w.name="matter-js",w.version="0.20.0",w.uses=[],w.used=[],w.use=function(){T.use(w,Array.prototype.slice.call(arguments))},w.before=function(f,h){return f=f.replace(/^Matter./,""),g.chainPathBefore(w,f,h)},w.after=function(f,h){return f=f.replace(/^Matter./,""),g.chainPathAfter(w,f,h)}},73832:(S,P,a)=>{var w={};S.exports=w;var T=a(53402);w._registry={},w.register=function(g){if(w.isPlugin(g)||T.warn("Plugin.register:",w.toString(g),"does not implement all required fields."),g.name in w._registry){var f=w._registry[g.name],h=w.versionParse(g.version).number,c=w.versionParse(f.version).number;h>c?(T.warn("Plugin.register:",w.toString(f),"was upgraded to",w.toString(g)),w._registry[g.name]=g):h<c?T.warn("Plugin.register:",w.toString(f),"can not be downgraded to",w.toString(g)):g!==f&&T.warn("Plugin.register:",w.toString(g),"is already registered to different plugin object")}else w._registry[g.name]=g;return g},w.resolve=function(g){return w._registry[w.dependencyParse(g).name]},w.toString=function(g){return"string"==typeof g?g:(g.name||"anonymous")+"@"+(g.version||g.range||"0.0.0")},w.isPlugin=function(g){return g&&g.name&&g.version&&g.install},w.isUsed=function(g,f){return g.used.indexOf(f)>-1},w.isFor=function(g,f){var h=g.for&&w.dependencyParse(g.for);return!g.for||f.name===h.name&&w.versionSatisfies(f.version,h.range)},w.use=function(g,f){if(g.uses=(g.uses||[]).concat(f||[]),0!==g.uses.length){for(var h=w.dependencies(g),c=T.topologicalSort(h),u=[],m=0;m<c.length;m+=1)if(c[m]!==g.name){var d=w.resolve(c[m]);if(!d){u.push("\u274c "+c[m]);continue}w.isUsed(g,d.name)||(w.isFor(d,g)||(T.warn("Plugin.use:",w.toString(d),"is for",d.for,"but installed on",w.toString(g)+"."),d._warned=!0),d.install?d.install(g):(T.warn("Plugin.use:",w.toString(d),"does not specify an install function."),d._warned=!0),d._warned?(u.push("\u{1f536} "+w.toString(d)),delete d._warned):u.push("\u2705 "+w.toString(d)),g.used.push(d.name))}u.length>0&&!d.silent&&T.info(u.join("  "))}else T.warn("Plugin.use:",w.toString(g),"does not specify any dependencies to install.")},w.dependencies=function(g,f){var h=w.dependencyParse(g),c=h.name;if(!(c in(f=f||{}))){g=w.resolve(g)||g,f[c]=T.map(g.uses||[],function(m){w.isPlugin(m)&&w.register(m);var d=w.dependencyParse(m),p=w.resolve(m);return p&&!w.versionSatisfies(p.version,d.range)?(T.warn("Plugin.dependencies:",w.toString(p),"does not satisfy",w.toString(d),"used by",w.toString(h)+"."),p._warned=!0,g._warned=!0):p||(T.warn("Plugin.dependencies:",w.toString(m),"used by",w.toString(h),"could not be resolved."),g._warned=!0),d.name});for(var u=0;u<f[c].length;u+=1)w.dependencies(f[c][u],f);return f}},w.dependencyParse=function(g){return T.isString(g)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(g)||T.warn("Plugin.dependencyParse:",g,"is not a valid dependency string."),{name:g.split("@")[0],range:g.split("@")[1]||"*"}):{name:g.name,range:g.range||g.version}},w.versionParse=function(g){var f=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;f.test(g)||T.warn("Plugin.versionParse:",g,"is not a valid version or range.");var h=f.exec(g),c=Number(h[4]),u=Number(h[5]),m=Number(h[6]);return{isRange:!(!h[1]&&!h[2]),version:h[3],range:g,operator:h[1]||h[2]||"",major:c,minor:u,patch:m,parts:[c,u,m],prerelease:h[7],number:1e8*c+1e4*u+m}},w.versionSatisfies=function(g,f){var h=w.versionParse(f=f||"*"),c=w.versionParse(g);if(h.isRange){if("*"===h.operator||"*"===g)return!0;if(">"===h.operator)return c.number>h.number;if(">="===h.operator)return c.number>=h.number;if("~"===h.operator)return c.major===h.major&&c.minor===h.minor&&c.patch>=h.patch;if("^"===h.operator)return h.major>0?c.major===h.major&&c.number>=h.number:h.minor>0?c.minor===h.minor&&c.patch>=h.patch:c.patch===h.patch}return g===f||"*"===g}},13037:(S,P,a)=>{var w={};S.exports=w;var T=a(35810),g=a(48413),f=a(53402);!function(){w._maxFrameDelta=66.66666666666667,w._frameDeltaFallback=16.666666666666668,w._timeBufferMargin=1.5,w._elapsedNextEstimate=1,w._smoothingLowerBound=.1,w._smoothingUpperBound=.9,w.create=function(c){var m=f.extend({delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},c);return m.fps=0,m},w.run=function(c,u){return c.timeBuffer=w._frameDeltaFallback,function m(d){c.frameRequestId=w._onNextFrame(c,m),d&&c.enabled&&w.tick(c,u,d)}(),c},w.tick=function(c,u,m){var d=f.now(),p=c.delta,v=0,x=m-c.timeLastTick;if((!x||!c.timeLastTick||x>Math.max(w._maxFrameDelta,c.maxFrameTime))&&(x=c.frameDelta||w._frameDeltaFallback),c.frameDeltaSmoothing){c.frameDeltaHistory.push(x),c.frameDeltaHistory=c.frameDeltaHistory.slice(-c.frameDeltaHistorySize);var y=c.frameDeltaHistory.slice(0).sort(),_=c.frameDeltaHistory.slice(y.length*w._smoothingLowerBound,y.length*w._smoothingUpperBound);x=h(_)||x}c.frameDeltaSnapping&&(x=1e3/Math.round(1e3/x)),c.frameDelta=x,c.timeLastTick=m,c.timeBuffer+=c.frameDelta,c.timeBuffer=f.clamp(c.timeBuffer,0,c.frameDelta+p*w._timeBufferMargin),c.lastUpdatesDeferred=0;var A=c.maxUpdates||Math.ceil(c.maxFrameTime/p),M={timestamp:u.timing.timestamp};T.trigger(c,"beforeTick",M),T.trigger(c,"tick",M);for(var I=f.now();p>0&&c.timeBuffer>=p*w._timeBufferMargin;){T.trigger(c,"beforeUpdate",M),g.update(u,p),T.trigger(c,"afterUpdate",M),c.timeBuffer-=p,v+=1;var k=f.now()-d,F=f.now()-I;if(v>=A||k+w._elapsedNextEstimate*F/v>c.maxFrameTime){c.lastUpdatesDeferred=Math.round(Math.max(0,c.timeBuffer/p-w._timeBufferMargin));break}}u.timing.lastUpdatesPerFrame=v,T.trigger(c,"afterTick",M),c.frameDeltaHistory.length>=100&&(c.lastUpdatesDeferred&&Math.round(c.frameDelta/p)>A?f.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):c.lastUpdatesDeferred&&f.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof c.isFixed<"u"&&f.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(c.deltaMin||c.deltaMax)&&f.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==c.fps&&f.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},w.stop=function(c){w._cancelNextFrame(c)},w._onNextFrame=function(c,u){if(!(typeof window<"u"&&window.requestAnimationFrame))throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return c.frameRequestId=window.requestAnimationFrame(u),c.frameRequestId},w._cancelNextFrame=function(c){if(!(typeof window<"u"&&window.cancelAnimationFrame))throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.");window.cancelAnimationFrame(c.frameRequestId)};var h=function(c){for(var u=0,m=c.length,d=0;d<m;d+=1)u+=c[d];return u/m||0}}()},53614:(S,P,a)=>{var w={};S.exports=w;var T=a(22562),g=a(35810),f=a(53402);w._motionWakeThreshold=.18,w._motionSleepThreshold=.08,w._minBias=.9,w.update=function(h,c){for(var u=c/f._baseDelta,m=w._motionSleepThreshold,d=0;d<h.length;d++){var p=h[d],v=T.getSpeed(p),x=T.getAngularSpeed(p),y=v*v+x*x;if(0===p.force.x&&0===p.force.y){var _=Math.min(p.motion,y),E=Math.max(p.motion,y);p.motion=w._minBias*_+(1-w._minBias)*E,p.sleepThreshold>0&&p.motion<m?(p.sleepCounter+=1,p.sleepCounter>=p.sleepThreshold/u&&w.set(p,!0)):p.sleepCounter>0&&(p.sleepCounter-=1)}else w.set(p,!1)}},w.afterCollisions=function(h){for(var c=w._motionSleepThreshold,u=0;u<h.length;u++){var m=h[u];if(m.isActive){var d=m.collision,p=d.bodyA.parent,v=d.bodyB.parent;if(!(p.isSleeping&&v.isSleeping||p.isStatic||v.isStatic)&&(p.isSleeping||v.isSleeping)){var x=p.isSleeping&&!p.isStatic?p:v;!x.isStatic&&(x===p?v:p).motion>c&&w.set(x,!1)}}}},w.set=function(h,c){var u=h.isSleeping;c?(h.isSleeping=!0,h.sleepCounter=h.sleepThreshold,h.positionImpulse.x=0,h.positionImpulse.y=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.speed=0,h.angularSpeed=0,h.motion=0,u||g.trigger(h,"sleepStart")):(h.isSleeping=!1,h.sleepCounter=0,u&&g.trigger(h,"sleepEnd"))}},66280:(S,P,a)=>{var w={};S.exports=w;var T=a(41598),g=a(53402),f=a(22562),h=a(15647),c=a(31725);w.rectangle=function(u,m,d,p,v){v=v||{};var x={label:"Rectangle Body",position:{x:u,y:m},vertices:T.fromPath("L 0 0 L "+d+" 0 L "+d+" "+p+" L 0 "+p)};if(v.chamfer){var y=v.chamfer;x.vertices=T.chamfer(x.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete v.chamfer}return f.create(g.extend({},x,v))},w.trapezoid=function(u,m,d,p,v,x){x=x||{},v>=1&&g.warn("Bodies.trapezoid: slope parameter must be < 1.");var _=d*(v*=.5),E=_+(1-2*v)*d,A=E+_,I={label:"Trapezoid Body",position:{x:u,y:m},vertices:T.fromPath(v<.5?"L 0 0 L "+_+" "+-p+" L "+E+" "+-p+" L "+A+" 0":"L 0 0 L "+E+" "+-p+" L "+A+" 0")};if(x.chamfer){var k=x.chamfer;I.vertices=T.chamfer(I.vertices,k.radius,k.quality,k.qualityMin,k.qualityMax),delete x.chamfer}return f.create(g.extend({},I,x))},w.circle=function(u,m,d,p,v){p=p||{};var x={label:"Circle Body",circleRadius:d};v=v||25;var y=Math.ceil(Math.max(10,Math.min(v,d)));return y%2==1&&(y+=1),w.polygon(u,m,y,d,g.extend({},x,p))},w.polygon=function(u,m,d,p,v){if(v=v||{},d<3)return w.circle(u,m,p,v);for(var x=2*Math.PI/d,y="",_=.5*x,E=0;E<d;E+=1){var A=_+E*x,M=Math.cos(A)*p,I=Math.sin(A)*p;y+="L "+M.toFixed(3)+" "+I.toFixed(3)+" "}var k={label:"Polygon Body",position:{x:u,y:m},vertices:T.fromPath(y)};if(v.chamfer){var F=v.chamfer;k.vertices=T.chamfer(k.vertices,F.radius,F.quality,F.qualityMin,F.qualityMax),delete v.chamfer}return f.create(g.extend({},k,v))},w.fromVertices=function(u,m,d,p,v,x,y,_){var A,M,I,k,N,V,B,H,Q,G,E=g.getDecomp();for(A=!(!E||!E.quickDecomp),p=p||{},I=[],v=typeof v<"u"&&v,x=typeof x<"u"?x:.01,y=typeof y<"u"?y:10,_=typeof _<"u"?_:.01,g.isArray(d[0])||(d=[d]),Q=0;Q<d.length;Q+=1)if(!(k=T.isConvex(N=d[Q]))&&!A&&g.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),k||!A)N=k?T.clockwiseSort(N):T.hull(N),I.push({position:{x:u,y:m},vertices:N});else{var K=N.map(function(wt){return[wt.x,wt.y]});E.makeCCW(K),!1!==x&&E.removeCollinearPoints(K,x),!1!==_&&E.removeDuplicatePoints&&E.removeDuplicatePoints(K,_);var tt=E.quickDecomp(K);for(V=0;V<tt.length;V++){var lt=tt[V].map(function(wt){return{x:wt[0],y:wt[1]}});y>0&&T.area(lt)<y||I.push({position:T.centre(lt),vertices:lt})}}for(V=0;V<I.length;V++)I[V]=f.create(g.extend(I[V],p));if(v)for(V=0;V<I.length;V++){var it=I[V];for(B=V+1;B<I.length;B++){var Y=I[B];if(h.overlaps(it.bounds,Y.bounds)){var j=it.vertices,nt=Y.vertices;for(H=0;H<it.vertices.length;H++)for(G=0;G<Y.vertices.length;G++){var ht=c.magnitudeSquared(c.sub(j[(H+1)%j.length],nt[G])),gt=c.magnitudeSquared(c.sub(j[H],nt[(G+1)%nt.length]));ht<5&&gt<5&&(j[H].isInternal=!0,nt[G].isInternal=!0)}}}}return I.length>1?(M=f.create(g.extend({parts:I.slice(0)},p)),f.setPosition(M,{x:u,y:m}),M):I[0]},w.flagCoincidentParts=function(u,m){void 0===m&&(m=5);for(var d=0;d<u.length;d++)for(var p=u[d],v=d+1;v<u.length;v++){var x=u[v];if(h.overlaps(p.bounds,x.bounds))for(var y=p.vertices,_=x.vertices,E=0;E<p.vertices.length;E++)for(var A=0;A<x.vertices.length;A++){var M=c.magnitudeSquared(c.sub(y[(E+1)%y.length],_[A])),I=c.magnitudeSquared(c.sub(y[E],_[(A+1)%_.length]));M<m&&I<m&&(y[E].isInternal=!0,_[A].isInternal=!0)}}return u}},74116:(S,P,a)=>{var w={};S.exports=w;var T=a(69351),g=a(48140),f=a(53402),h=a(22562),c=a(66280);w.stack=function(u,m,d,p,v,x,y){for(var M,_=T.create({label:"Stack"}),E=u,A=m,I=0,k=0;k<p;k++){for(var F=0,N=0;N<d;N++){var V=y(E,A,N,k,M,I);if(V){var B=V.bounds.max.y-V.bounds.min.y;B>F&&(F=B),h.translate(V,{x:.5*(V.bounds.max.x-V.bounds.min.x),y:.5*B}),E=V.bounds.max.x+v,T.addBody(_,V),M=V,I+=1}else E+=v}A+=F+x,E=u}return _},w.chain=function(u,m,d,p,v,x){for(var y=u.bodies,_=1;_<y.length;_++){var E=y[_-1],A=y[_],V=f.extend({bodyA:E,pointA:{x:(E.bounds.max.x-E.bounds.min.x)*m,y:(E.bounds.max.y-E.bounds.min.y)*d},bodyB:A,pointB:{x:(A.bounds.max.x-A.bounds.min.x)*p,y:(A.bounds.max.y-A.bounds.min.y)*v}},x);T.addConstraint(u,g.create(V))}return u.label+=" Chain",u},w.mesh=function(u,m,d,p,v){var y,_,A,x=u.bodies;for(y=0;y<d;y++){for(_=1;_<m;_++)T.addConstraint(u,g.create(f.extend({bodyA:x[_-1+y*m],bodyB:A=x[_+y*m]},v)));if(y>0)for(_=0;_<m;_++)T.addConstraint(u,g.create(f.extend({bodyA:x[_+(y-1)*m],bodyB:A=x[_+y*m]},v))),p&&_>0&&T.addConstraint(u,g.create(f.extend({bodyA:x[_-1+(y-1)*m],bodyB:A},v))),p&&_<m-1&&T.addConstraint(u,g.create(f.extend({bodyA:x[_+1+(y-1)*m],bodyB:A},v)))}return u.label+=" Mesh",u},w.pyramid=function(u,m,d,p,v,x,y){return w.stack(u,m,d,p,v,x,function(_,E,A,M,I,k){var F=Math.min(p,Math.ceil(d/2)),N=I?I.bounds.max.x-I.bounds.min.x:0;if(!(M>F||A<(M=F-M)||A>d-1-M))return 1===k&&h.translate(I,{x:(A+(d%2==1?1:-1))*N,y:0}),y(u+(I?A*N:0)+A*v,E,A,M,I,k)})},w.newtonsCradle=function(u,m,d,p,v){for(var x=T.create({label:"Newtons Cradle"}),y=0;y<d;y++){var E=c.circle(u+y*(1.9*p),m+v,p,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),A=g.create({pointA:{x:u+y*(1.9*p),y:m},bodyB:E});T.addBody(x,E),T.addConstraint(x,A)}return x},w.car=function(u,m,d,p,v){var x=h.nextGroup(!0),_=.5*-d+20,E=.5*d-20,M=T.create({label:"Car"}),I=c.rectangle(u,m,d,p,{collisionFilter:{group:x},chamfer:{radius:.5*p},density:2e-4}),k=c.circle(u+_,m+0,v,{collisionFilter:{group:x},friction:.8}),F=c.circle(u+E,m+0,v,{collisionFilter:{group:x},friction:.8}),N=g.create({bodyB:I,pointB:{x:_,y:0},bodyA:k,stiffness:1,length:0}),V=g.create({bodyB:I,pointB:{x:E,y:0},bodyA:F,stiffness:1,length:0});return T.addBody(M,I),T.addBody(M,k),T.addBody(M,F),T.addConstraint(M,N),T.addConstraint(M,V),M},w.softBody=function(u,m,d,p,v,x,y,_,E,A){E=f.extend({inertia:1/0},E),A=f.extend({stiffness:.2,render:{type:"line",anchors:!1}},A);var M=w.stack(u,m,d,p,v,x,function(I,k){return c.circle(I,k,_,E)});return w.mesh(M,d,p,y,A),M.label="Soft Body",M}},66615:(S,P,a)=>{var w={};S.exports=w;var T=a(31725),g=a(53402);w.fromVertices=function(f){for(var h={},c=0;c<f.length;c++){var u=(c+1)%f.length,m=T.normalise({x:f[u].y-f[c].y,y:f[c].x-f[u].x}),d=0===m.y?1/0:m.x/m.y;h[d=d.toFixed(3).toString()]=m}return g.values(h)},w.rotate=function(f,h){if(0!==h)for(var c=Math.cos(h),u=Math.sin(h),m=0;m<f.length;m++){var p,d=f[m];p=d.x*c-d.y*u,d.y=d.x*u+d.y*c,d.x=p}}},15647:S=>{var P={};S.exports=P,P.create=function(a){var w={min:{x:0,y:0},max:{x:0,y:0}};return a&&P.update(w,a),w},P.update=function(a,w,T){a.min.x=1/0,a.max.x=-1/0,a.min.y=1/0,a.max.y=-1/0;for(var g=0;g<w.length;g++){var f=w[g];f.x>a.max.x&&(a.max.x=f.x),f.x<a.min.x&&(a.min.x=f.x),f.y>a.max.y&&(a.max.y=f.y),f.y<a.min.y&&(a.min.y=f.y)}T&&(T.x>0?a.max.x+=T.x:a.min.x+=T.x,T.y>0?a.max.y+=T.y:a.min.y+=T.y)},P.contains=function(a,w){return w.x>=a.min.x&&w.x<=a.max.x&&w.y>=a.min.y&&w.y<=a.max.y},P.overlaps=function(a,w){return a.min.x<=w.max.x&&a.max.x>=w.min.x&&a.max.y>=w.min.y&&a.min.y<=w.max.y},P.translate=function(a,w){a.min.x+=w.x,a.max.x+=w.x,a.min.y+=w.y,a.max.y+=w.y},P.shift=function(a,w){var T=a.max.x-a.min.x,g=a.max.y-a.min.y;a.min.x=w.x,a.max.x=w.x+T,a.min.y=w.y,a.max.y=w.y+g},P.wrap=function(a,w,T){var g=null,f=null;if(typeof w.min.x<"u"&&typeof w.max.x<"u"&&(a.min.x>w.max.x?g=w.min.x-a.max.x:a.max.x<w.min.x&&(g=w.max.x-a.min.x)),typeof w.min.y<"u"&&typeof w.max.y<"u"&&(a.min.y>w.max.y?f=w.min.y-a.max.y:a.max.y<w.min.y&&(f=w.max.y-a.min.y)),null!==g||null!==f)return{x:g||0,y:f||0}}},74058:(S,P,a)=>{var w={};S.exports=w,a(15647);var g=a(53402);w.pathToVertices=function(f,h){typeof window<"u"&&!("SVGPathSeg"in window)&&g.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var c,u,m,d,p,v,x,y,_,M,I,A=[],k=0,F=0,N=0;h=h||15;var V=function(H,Q,G){var K=G%2==1&&G>1;if(!_||H!=_.x||Q!=_.y){_&&K?(M=_.x,I=_.y):(M=0,I=0);var tt={x:M+H,y:I+Q};(K||!_)&&(_=tt),A.push(tt),F=M+H,N=I+Q}},B=function(H){var Q=H.pathSegTypeAsLetter.toUpperCase();if("Z"!==Q){switch(Q){case"M":case"L":case"T":case"C":case"S":case"Q":F=H.x,N=H.y;break;case"H":F=H.x;break;case"V":N=H.y}V(F,N,H.pathSegType)}};for(w._svgPathToAbsolute(f),m=f.getTotalLength(),v=[],c=0;c<f.pathSegList.numberOfItems;c+=1)v.push(f.pathSegList.getItem(c));for(x=v.concat();k<m;){if((p=v[f.getPathSegAtLength(k)])!=y){for(;x.length&&x[0]!=p;)B(x.shift());y=p}switch(p.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":d=f.getPointAtLength(k),V(d.x,d.y,0)}k+=h}for(c=0,u=x.length;c<u;++c)B(x[c]);return A},w._svgPathToAbsolute=function(f){for(var h,c,u,m,d,p,v=f.pathSegList,x=0,y=0,_=v.numberOfItems,E=0;E<_;++E){var A=v.getItem(E),M=A.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(M))"x"in A&&(x=A.x),"y"in A&&(y=A.y);else switch("x1"in A&&(u=x+A.x1),"x2"in A&&(d=x+A.x2),"y1"in A&&(m=y+A.y1),"y2"in A&&(p=y+A.y2),"x"in A&&(x+=A.x),"y"in A&&(y+=A.y),M){case"m":v.replaceItem(f.createSVGPathSegMovetoAbs(x,y),E);break;case"l":v.replaceItem(f.createSVGPathSegLinetoAbs(x,y),E);break;case"h":v.replaceItem(f.createSVGPathSegLinetoHorizontalAbs(x),E);break;case"v":v.replaceItem(f.createSVGPathSegLinetoVerticalAbs(y),E);break;case"c":v.replaceItem(f.createSVGPathSegCurvetoCubicAbs(x,y,u,m,d,p),E);break;case"s":v.replaceItem(f.createSVGPathSegCurvetoCubicSmoothAbs(x,y,d,p),E);break;case"q":v.replaceItem(f.createSVGPathSegCurvetoQuadraticAbs(x,y,u,m),E);break;case"t":v.replaceItem(f.createSVGPathSegCurvetoQuadraticSmoothAbs(x,y),E);break;case"a":v.replaceItem(f.createSVGPathSegArcAbs(x,y,A.r1,A.r2,A.angle,A.largeArcFlag,A.sweepFlag),E);break;case"z":case"Z":x=h,y=c}("M"==M||"m"==M)&&(h=x,c=y)}}},31725:S=>{var P={};S.exports=P,P.create=function(a,w){return{x:a||0,y:w||0}},P.clone=function(a){return{x:a.x,y:a.y}},P.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},P.magnitudeSquared=function(a){return a.x*a.x+a.y*a.y},P.rotate=function(a,w,T){var g=Math.cos(w),f=Math.sin(w);T||(T={});var h=a.x*g-a.y*f;return T.y=a.x*f+a.y*g,T.x=h,T},P.rotateAbout=function(a,w,T,g){var f=Math.cos(w),h=Math.sin(w);g||(g={});var c=T.x+((a.x-T.x)*f-(a.y-T.y)*h);return g.y=T.y+((a.x-T.x)*h+(a.y-T.y)*f),g.x=c,g},P.normalise=function(a){var w=P.magnitude(a);return 0===w?{x:0,y:0}:{x:a.x/w,y:a.y/w}},P.dot=function(a,w){return a.x*w.x+a.y*w.y},P.cross=function(a,w){return a.x*w.y-a.y*w.x},P.cross3=function(a,w,T){return(w.x-a.x)*(T.y-a.y)-(w.y-a.y)*(T.x-a.x)},P.add=function(a,w,T){return T||(T={}),T.x=a.x+w.x,T.y=a.y+w.y,T},P.sub=function(a,w,T){return T||(T={}),T.x=a.x-w.x,T.y=a.y-w.y,T},P.mult=function(a,w){return{x:a.x*w,y:a.y*w}},P.div=function(a,w){return{x:a.x/w,y:a.y/w}},P.perp=function(a,w){return{x:(w=!0===w?-1:1)*-a.y,y:w*a.x}},P.neg=function(a){return{x:-a.x,y:-a.y}},P.angle=function(a,w){return Math.atan2(w.y-a.y,w.x-a.x)},P._temp=[P.create(),P.create(),P.create(),P.create(),P.create(),P.create()]},41598:(S,P,a)=>{var w={};S.exports=w;var T=a(31725),g=a(53402);w.create=function(f,h){for(var c=[],u=0;u<f.length;u++){var m=f[u];c.push({x:m.x,y:m.y,index:u,body:h,isInternal:!1})}return c},w.fromPath=function(f,h){var u=[];return f.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,function(m,d,p){u.push({x:parseFloat(d),y:parseFloat(p)})}),w.create(u,h)},w.centre=function(f){for(var u,m,d,h=w.area(f,!0),c={x:0,y:0},p=0;p<f.length;p++)u=T.cross(f[p],f[d=(p+1)%f.length]),m=T.mult(T.add(f[p],f[d]),u),c=T.add(c,m);return T.div(c,6*h)},w.mean=function(f){for(var h={x:0,y:0},c=0;c<f.length;c++)h.x+=f[c].x,h.y+=f[c].y;return T.div(h,f.length)},w.area=function(f,h){for(var c=0,u=f.length-1,m=0;m<f.length;m++)c+=(f[u].x-f[m].x)*(f[u].y+f[m].y),u=m;return h?c/2:Math.abs(c)/2},w.inertia=function(f,h){for(var d,p,c=0,u=0,m=f,v=0;v<m.length;v++)p=(v+1)%m.length,c+=(d=Math.abs(T.cross(m[p],m[v])))*(T.dot(m[p],m[p])+T.dot(m[p],m[v])+T.dot(m[v],m[v])),u+=d;return h/6*(c/u)},w.translate=function(f,h,c){var p,u=f.length,m=h.x*(c=typeof c<"u"?c:1),d=h.y*c;for(p=0;p<u;p++)f[p].x+=m,f[p].y+=d;return f},w.rotate=function(f,h,c){if(0!==h){var x,y,_,E,u=Math.cos(h),m=Math.sin(h),d=c.x,p=c.y,v=f.length;for(E=0;E<v;E++)(x=f[E]).x=d+((y=x.x-d)*u-(_=x.y-p)*m),x.y=p+(y*m+_*u);return f}},w.contains=function(f,h){for(var p,c=h.x,u=h.y,m=f.length,d=f[m-1],v=0;v<m;v++){if((c-d.x)*((p=f[v]).y-d.y)+(u-d.y)*(d.x-p.x)>0)return!1;d=p}return!0},w.scale=function(f,h,c,u){if(1===h&&1===c)return f;u=u||w.centre(f);for(var d,p=0;p<f.length;p++)d=T.sub(f[p],u),f[p].x=u.x+d.x*h,f[p].y=u.y+d.y*c;return f},w.chamfer=function(f,h,c,u,m){h="number"==typeof h?[h]:h||[8],c=typeof c<"u"?c:-1,u=u||2,m=m||14;for(var d=[],p=0;p<f.length;p++){var v=f[p-1>=0?p-1:f.length-1],x=f[p],y=f[(p+1)%f.length],_=h[p<h.length?p:h.length-1];if(0!==_){var E=T.normalise({x:x.y-v.y,y:v.x-x.x}),A=T.normalise({x:y.y-x.y,y:x.x-y.x}),M=Math.sqrt(2*Math.pow(_,2)),I=T.mult(g.clone(E),_),k=T.normalise(T.mult(T.add(E,A),.5)),F=T.sub(x,T.mult(k,M)),N=c;-1===c&&(N=1.75*Math.pow(_,.32)),(N=g.clamp(N,u,m))%2==1&&(N+=1);for(var B=Math.acos(T.dot(E,A))/N,H=0;H<N;H++)d.push(T.add(T.rotate(I,B*H),F))}else d.push(x)}return d},w.clockwiseSort=function(f){var h=w.mean(f);return f.sort(function(c,u){return T.angle(h,c)-T.angle(h,u)}),f},w.isConvex=function(f){var u,m,d,p,h=0,c=f.length;if(c<3)return null;for(u=0;u<c;u++)if(p=(f[m=(u+1)%c].x-f[u].x)*(f[d=(u+2)%c].y-f[m].y),(p-=(f[m].y-f[u].y)*(f[d].x-f[m].x))<0?h|=1:p>0&&(h|=2),3===h)return!1;return 0!==h||null},w.hull=function(f){var u,m,h=[],c=[];for((f=f.slice(0)).sort(function(d,p){var v=d.x-p.x;return 0!==v?v:d.y-p.y}),m=0;m<f.length;m+=1){for(u=f[m];c.length>=2&&T.cross3(c[c.length-2],c[c.length-1],u)<=0;)c.pop();c.push(u)}for(m=f.length-1;m>=0;m-=1){for(u=f[m];h.length>=2&&T.cross3(h[h.length-2],h[h.length-1],u)<=0;)h.pop();h.push(u)}return h.pop(),c.pop(),h.concat(c)}},55973:S=>{function P(J,it,Y){var nt,ht,gt,wt,St,Bt,Yt,j=[0,0];return gt=(nt=J[1][1]-J[0][1])*J[0][0]+(ht=J[0][0]-J[1][0])*J[0][1],Bt=(wt=it[1][1]-it[0][1])*it[0][0]+(St=it[0][0]-it[1][0])*it[0][1],at(Yt=nt*St-wt*ht,0,Y=Y||0)||(j[0]=(St*gt-ht*Bt)/Yt,j[1]=(nt*Bt-wt*gt)/Yt),j}function a(J,it,Y,j){var nt=it[0]-J[0],ht=it[1]-J[1],gt=j[0]-Y[0],wt=j[1]-Y[1];if(gt*ht-wt*nt==0)return!1;var St=(nt*(Y[1]-J[1])+ht*(J[0]-Y[0]))/(gt*ht-wt*nt),Bt=(gt*(J[1]-Y[1])+wt*(Y[0]-J[0]))/(wt*nt-gt*ht);return St>=0&&St<=1&&Bt>=0&&Bt<=1}function w(J,it,Y){return(it[0]-J[0])*(Y[1]-J[1])-(Y[0]-J[0])*(it[1]-J[1])}function T(J,it,Y){return w(J,it,Y)>0}function g(J,it,Y){return w(J,it,Y)>=0}function f(J,it,Y){return w(J,it,Y)<0}function h(J,it,Y){return w(J,it,Y)<=0}S.exports={decomp:function V(J){var it=N(J);return it.length>0?B(J,it):[J]},quickDecomp:function G(J,it,Y,j,nt,ht,gt){gt=gt||0,nt=nt||25,it=typeof it<"u"?it:[],Y=Y||[],j=j||[];var wt=[0,0],St=[0,0],Bt=[0,0],Yt=0,$t=0,qt=0,ne=0,le=0,Me=0,pi=0,Ie=[],_i=[],we=J,ri=J;if(ri.length<3)return it;if(++gt>(ht=ht||100))return console.warn("quickDecomp: max level ("+ht+") reached."),it;for(var Ze=0;Ze<J.length;++Ze)if(E(we,Ze)){Y.push(we[Ze]),Yt=$t=Number.MAX_VALUE;for(var zi=0;zi<J.length;++zi)T(p(we,Ze-1),p(we,Ze),p(we,zi))&&h(p(we,Ze-1),p(we,Ze),p(we,zi-1))&&(Bt=Q(p(we,Ze-1),p(we,Ze),p(we,zi),p(we,zi-1)),f(p(we,Ze+1),p(we,Ze),Bt)&&(qt=d(we[Ze],Bt))<$t&&($t=qt,St=Bt,Me=zi)),T(p(we,Ze+1),p(we,Ze),p(we,zi+1))&&h(p(we,Ze+1),p(we,Ze),p(we,zi))&&(Bt=Q(p(we,Ze+1),p(we,Ze),p(we,zi),p(we,zi+1)),T(p(we,Ze-1),p(we,Ze),Bt)&&(qt=d(we[Ze],Bt))<Yt&&(Yt=qt,wt=Bt,le=zi));if(Me===(le+1)%J.length)Bt[0]=(St[0]+wt[0])/2,Bt[1]=(St[1]+wt[1])/2,j.push(Bt),Ze<le?(x(Ie,we,Ze,le+1),Ie.push(Bt),_i.push(Bt),0!==Me&&x(_i,we,Me,we.length),x(_i,we,0,Ze+1)):(0!==Ze&&x(Ie,we,Ze,we.length),x(Ie,we,0,le+1),Ie.push(Bt),_i.push(Bt),x(_i,we,Me,Ze+1));else{if(Me>le&&(le+=J.length),ne=Number.MAX_VALUE,le<Me)return it;for(zi=Me;zi<=le;++zi)g(p(we,Ze-1),p(we,Ze),p(we,zi))&&h(p(we,Ze+1),p(we,Ze),p(we,zi))&&(qt=d(p(we,Ze),p(we,zi)))<ne&&k(we,Ze,zi)&&(ne=qt,pi=zi%J.length);Ze<pi?(x(Ie,we,Ze,pi+1),0!==pi&&x(_i,we,pi,ri.length),x(_i,we,0,Ze+1)):(0!==Ze&&x(Ie,we,Ze,ri.length),x(Ie,we,0,pi+1),x(_i,we,pi,Ze+1))}return Ie.length<_i.length?(G(Ie,it,Y,j,nt,ht,gt),G(_i,it,Y,j,nt,ht,gt)):(G(_i,it,Y,j,nt,ht,gt),G(Ie,it,Y,j,nt,ht,gt)),it}return it.push(J),it},isSimple:function H(J){var Y,it=J;for(Y=0;Y<it.length-1;Y++)for(var j=0;j<Y-1;j++)if(a(it[Y],it[Y+1],it[j],it[j+1]))return!1;for(Y=1;Y<it.length-2;Y++)if(a(it[0],it[it.length-1],it[Y],it[Y+1]))return!1;return!0},removeCollinearPoints:function K(J,it){for(var Y=0,j=J.length-1;J.length>3&&j>=0;--j)m(p(J,j-1),p(J,j),p(J,j+1),it)&&(J.splice(j%J.length,1),Y++);return Y},removeDuplicatePoints:function tt(J,it){for(var Y=J.length-1;Y>=1;--Y)for(var j=J[Y],nt=Y-1;nt>=0;--nt)if(lt(j,J[nt],it)){J.splice(Y,1);continue}},makeCCW:function y(J){for(var it=0,Y=J,j=1;j<J.length;++j)(Y[j][1]<Y[it][1]||Y[j][1]===Y[it][1]&&Y[j][0]>Y[it][0])&&(it=j);return!T(p(J,it-1),p(J,it),p(J,it+1))&&(function _(J){for(var it=[],Y=J.length,j=0;j!==Y;j++)it.push(J.pop());for(j=0;j!==Y;j++)J[j]=it[j]}(J),!0)}};var c=[],u=[];function m(J,it,Y,j){if(j){var nt=c,ht=u;nt[0]=it[0]-J[0],nt[1]=it[1]-J[1],ht[0]=Y[0]-it[0],ht[1]=Y[1]-it[1];var gt=nt[0]*ht[0]+nt[1]*ht[1],wt=Math.sqrt(nt[0]*nt[0]+nt[1]*nt[1]),St=Math.sqrt(ht[0]*ht[0]+ht[1]*ht[1]);return Math.acos(gt/(wt*St))<j}return 0===w(J,it,Y)}function d(J,it){var Y=it[0]-J[0],j=it[1]-J[1];return Y*Y+j*j}function p(J,it){var Y=J.length;return J[it<0?it%Y+Y:it%Y]}function x(J,it,Y,j){for(var nt=Y;nt<j;nt++)J.push(it[nt])}function E(J,it){return f(p(J,it-1),p(J,it),p(J,it+1))}var A=[],M=[];function I(J,it,Y){var j,nt,ht=A,gt=M;if(g(p(J,it+1),p(J,it),p(J,Y))&&h(p(J,it-1),p(J,it),p(J,Y)))return!1;nt=d(p(J,it),p(J,Y));for(var wt=0;wt!==J.length;++wt)if((wt+1)%J.length!==it&&wt!==it&&g(p(J,it),p(J,Y),p(J,wt+1))&&h(p(J,it),p(J,Y),p(J,wt))&&(ht[0]=p(J,it),ht[1]=p(J,Y),gt[0]=p(J,wt),gt[1]=p(J,wt+1),j=P(ht,gt),d(p(J,it),j)<nt))return!1;return!0}function k(J,it,Y){for(var j=0;j!==J.length;++j)if(j!==it&&j!==Y&&(j+1)%J.length!==it&&(j+1)%J.length!==Y&&a(p(J,it),p(J,Y),p(J,j),p(J,j+1)))return!1;return!0}function F(J,it,Y,j){var nt=j||[];if(function v(J){J.length=0}(nt),it<Y)for(var ht=it;ht<=Y;ht++)nt.push(J[ht]);else{for(ht=0;ht<=Y;ht++)nt.push(J[ht]);for(ht=it;ht<J.length;ht++)nt.push(J[ht])}return nt}function N(J){for(var it=[],Y=[],j=[],nt=[],ht=Number.MAX_VALUE,gt=0;gt<J.length;++gt)if(E(J,gt))for(var wt=0;wt<J.length;++wt)if(I(J,gt,wt)){Y=N(F(J,gt,wt,nt)),j=N(F(J,wt,gt,nt));for(var St=0;St<j.length;St++)Y.push(j[St]);Y.length<ht&&(ht=Y.length,(it=Y).push([p(J,gt),p(J,wt)]))}return it}function B(J,it){if(0===it.length)return[J];if(it instanceof Array&&it.length&&it[0]instanceof Array&&2===it[0].length&&it[0][0]instanceof Array){for(var Y=[J],j=0;j<it.length;j++)for(var nt=it[j],ht=0;ht<Y.length;ht++){var wt=B(Y[ht],nt);if(wt){Y.splice(ht,1),Y.push(wt[0],wt[1]);break}}return Y}return j=J.indexOf((nt=it)[0]),ht=J.indexOf(nt[1]),-1!==j&&-1!==ht&&[F(J,j,ht),F(J,ht,j)]}function Q(J,it,Y,j,nt){var ht=it[1]-J[1],gt=J[0]-it[0],wt=ht*J[0]+gt*J[1],St=j[1]-Y[1],Bt=Y[0]-j[0],Yt=St*Y[0]+Bt*Y[1],$t=ht*Bt-St*gt;return at($t,0,nt=nt||0)?[0,0]:[(Bt*wt-gt*Yt)/$t,(ht*Yt-St*wt)/$t]}function at(J,it,Y){return Y=Y||0,Math.abs(J-it)<=Y}function lt(J,it,Y){return at(J[0],it[0],Y)&&at(J[1],it[1],Y)}},52018:(S,P,a)=>{var T=new(a(83419))({initialize:function(f){this.pluginManager=f,this.game=f.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});S.exports=T},42363:S=>{S.exports={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]}},37277:S=>{var P={},a={};S.exports={register:function(T,g,f,h){void 0===h&&(h=!1),P[T]={plugin:g,mapping:f,custom:h}},registerCustom:function(T,g,f,h){a[T]={plugin:g,mapping:f,data:h}},hasCore:function(T){return P.hasOwnProperty(T)},hasCustom:function(T){return a.hasOwnProperty(T)},getCore:function(T){return P[T]},getCustom:function(T){return a[T]},getCustomClass:function(T){return a.hasOwnProperty(T)?a[T].plugin:null},remove:function(T){P.hasOwnProperty(T)&&delete P[T]},removeCustom:function(T){a.hasOwnProperty(T)&&delete a[T]},destroyCorePlugins:function(){for(var T in P)P.hasOwnProperty(T)&&delete P[T]},destroyCustomPlugins:function(){for(var T in a)a.hasOwnProperty(T)&&delete a[T]}}},77332:(S,P,a)=>{var w=a(83419),T=a(8443),g=a(50792),f=a(74099),h=a(44603),c=a(39429),u=a(95540),m=a(37277),d=a(72905),p=new w({Extends:g,initialize:function(x){g.call(this),this.game=x,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],x.isBooted?this.boot():x.events.once(T.BOOT,this.boot,this)},boot:function(){var v,x,y,_,E,A,M,I=this.game.config,k=I.installGlobalPlugins;for(k=k.concat(this._pendingGlobal),v=0;v<k.length;v++)y=u(x=k[v],"key",null),_=u(x,"plugin",null),E=u(x,"start",!1),A=u(x,"mapping",null),M=u(x,"data",null),y&&(_?this.install(y,_,E,A,M):console.warn("Missing `plugin` for key: "+y));for(k=(k=I.installScenePlugins).concat(this._pendingScene),v=0;v<k.length;v++)y=u(x=k[v],"key",null),_=u(x,"plugin",null),A=u(x,"mapping",null),y&&(_?this.installScenePlugin(y,_,A):console.warn("Missing `plugin` for key: "+y));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(T.DESTROY,this.destroy,this)},addToScene:function(v,x,y){var _,E,A,M=this.game,I=v.scene,k=v.settings.map,F=v.settings.isBooted;for(_=0;_<x.length;_++)M[E=x[_]]?(v[E]=M[E],k.hasOwnProperty(E)&&(I[k[E]]=v[E])):"game"===E&&k.hasOwnProperty(E)&&(I[k[E]]=M);for(var N=0;N<y.length;N++)for(A=y[N],_=0;_<A.length;_++)if(m.hasCore(E=A[_])){var V=m.getCore(E),B=V.mapping,H=new V.plugin(I,this,B);v[B]=H,V.custom?I[B]=H:k.hasOwnProperty(B)&&(I[k[B]]=H),F&&H.boot()}for(A=this.plugins,_=0;_<A.length;_++){var Q=A[_];Q.mapping&&(I[Q.mapping]=Q.plugin)}},getDefaultScenePlugins:function(){var v=this.game.config.defaultPlugins;return v.concat(this.scenePlugins)},installScenePlugin:function(v,x,y,_,E){if(void 0===E&&(E=!1),"function"==typeof x){if(m.hasCore(v)||m.register(v,x,y,!0),-1===this.scenePlugins.indexOf(v))this.scenePlugins.push(v);else if(!E&&m.hasCore(v))return void console.warn("Scene Plugin key in use: "+v);if(_){var A=new x(_,this,v);_.sys[v]=A,y&&""!==y&&(_[y]=A),A.boot()}}else console.warn("Invalid Scene Plugin: "+v)},install:function(v,x,y,_,E){if(void 0===y&&(y=!1),void 0===_&&(_=null),void 0===E&&(E=null),"function"!=typeof x)return console.warn("Invalid Plugin: "+v),null;if(m.hasCustom(v))return console.warn("Plugin key in use: "+v),null;if(null!==_&&(y=!0),this.game.isBooted){if(m.registerCustom(v,x,_,E),y)return this.start(v)}else this._pendingGlobal.push({key:v,plugin:x,start:y,mapping:_,data:E});return null},getIndex:function(v){for(var x=this.plugins,y=0;y<x.length;y++)if(x[y].key===v)return y;return-1},getEntry:function(v){var x=this.getIndex(v);if(-1!==x)return this.plugins[x]},isActive:function(v){var x=this.getEntry(v);return x&&x.active},start:function(v,x){void 0===x&&(x=v);var y=this.getEntry(x);return y&&!y.active?(y.active=!0,y.plugin.start()):y||(y=this.createEntry(v,x)),y?y.plugin:null},createEntry:function(v,x){var y=m.getCustom(v);if(y){var _=new y.plugin(this);this.plugins.push(y={key:x,plugin:_,active:!0,mapping:y.mapping,data:y.data}),_.init(y.data),_.start()}return y},stop:function(v){var x=this.getEntry(v);return x&&x.active&&(x.active=!1,x.plugin.stop()),this},get:function(v,x){void 0===x&&(x=!0);var y=this.getEntry(v);if(y)return y.plugin;var _=this.getClass(v);return _&&x?(y=this.createEntry(v,v))?y.plugin:null:_||null},getClass:function(v){return m.getCustomClass(v)},removeGlobalPlugin:function(v){var x=this.getEntry(v);x&&d(this.plugins,x),m.removeCustom(v)},removeScenePlugin:function(v){d(this.scenePlugins,v),m.remove(v)},registerGameObject:function(v,x,y){return x&&c.register(v,x),y&&h.register(v,y),this},removeGameObject:function(v,x,y){return void 0===x&&(x=!0),void 0===y&&(y=!0),x&&c.remove(v),y&&h.remove(v),this},registerFileType:function(v,x,y){f.register(v,x),y&&y.sys.load&&(y.sys.load[v]=x)},destroy:function(){for(var v=0;v<this.plugins.length;v++)this.plugins[v].plugin.destroy();m.destroyCustomPlugins(),this.game.noReturn&&m.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});S.exports=p},45145:(S,P,a)=>{var w=a(52018),T=a(83419),g=a(44594),f=new T({Extends:w,initialize:function(c,u,m){w.call(this,u),this.scene=c,this.systems=c.sys,this.pluginKey=m,c.sys.events.once(g.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});S.exports=f},18922:(S,P,a)=>{S.exports={BasePlugin:a(52018),DefaultPlugins:a(42363),PluginCache:a(37277),PluginManager:a(77332),ScenePlugin:a(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(S){const P=performance.now(),a=this.getVideoPlaybackQuality(),w=this.mozPresentedFrames||this.mozPaintedFrames||a.totalVideoFrames-a.droppedVideoFrames,T=(g,f)=>{const h=this.getVideoPlaybackQuality(),c=this.mozPresentedFrames||this.mozPaintedFrames||h.totalVideoFrames-h.droppedVideoFrames;if(c>w){const u=this.mozFrameDelay||h.totalFrameDelay-a.totalFrameDelay||0,m=f-g;S(f,{presentationTime:f+1e3*u,expectedDisplayTime:f+m,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+m/1e3,presentedFrames:c,processingDuration:u}),delete this._rvfcpolyfillmap[P]}else this._rvfcpolyfillmap[P]=requestAnimationFrame(u=>T(f,u))};return this._rvfcpolyfillmap[P]=requestAnimationFrame(g=>T(P,g)),P},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(S){cancelAnimationFrame(this._rvfcpolyfillmap[S]),delete this._rvfcpolyfillmap[S]})},10312:S=>{S.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:S=>{S.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},68627:(S,P,a)=>{var w=a(19715),T=a(32880),g=a(83419),f=a(8054),h=a(50792),c=a(92503),u=a(56373),m=a(97480),d=a(69442),p=a(61340),v=new g({Extends:h,initialize:function(y){h.call(this);var _=y.config;this.config={clearBeforeRender:_.clearBeforeRender,backgroundColor:_.backgroundColor,antialias:_.antialias,roundPixels:_.roundPixels},this.game=y,this.type=f.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=y.canvas,this.gameContext=_.context?_.context:this.gameCanvas.getContext("2d",{alpha:y.config.transparent,desynchronized:y.config.desynchronized,willReadFrequently:!1}),this.currentContext=this.gameContext,this.antialias=y.config.antialias,this.blendModes=u(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new p,this._tempMatrix2=new p,this._tempMatrix3=new p,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(d.READY,this.boot,this)},boot:function(){var x=this.game,y=x.scale.baseSize;this.width=y.width,this.height=y.height,this.isBooted=!0,x.scale.on(m.RESIZE,this.onResize,this),this.resize(y.width,y.height)},onResize:function(x,y){(y.width!==this.width||y.height!==this.height)&&this.resize(y.width,y.height)},resize:function(x,y){this.width=x,this.height=y,this.emit(c.RESIZE,x,y)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(x){return this.currentContext.globalCompositeOperation=x,this},setContext:function(x){return this.currentContext=x||this.gameContext,this},setAlpha:function(x){return this.currentContext.globalAlpha=x,this},preRender:function(){var x=this.gameContext,y=this.config,_=this.width,E=this.height;x.globalAlpha=1,x.globalCompositeOperation="source-over",x.setTransform(1,0,0,1,0,0),this.emit(c.PRE_RENDER_CLEAR),y.clearBeforeRender&&(x.clearRect(0,0,_,E),y.transparent||(x.fillStyle=y.backgroundColor.rgba,x.fillRect(0,0,_,E))),x.save(),this.drawCount=0,this.emit(c.PRE_RENDER)},render:function(x,y,_){var E=y.length;this.emit(c.RENDER,x,_);var A=_.x,M=_.y,I=_.width,k=_.height,F=_.renderToTexture?_.context:x.sys.context;F.save(),this.game.scene.customViewports&&(F.beginPath(),F.rect(A,M,I,k),F.clip()),_.emit(w.PRE_RENDER,_),this.currentContext=F;var N=_.mask;N&&N.preRenderCanvas(this,null,_._maskCamera),_.transparent||(F.fillStyle=_.backgroundColor.rgba,F.fillRect(A,M,I,k)),F.globalAlpha=_.alpha,F.globalCompositeOperation="source-over",this.drawCount+=E,_.renderToTexture&&_.emit(w.PRE_RENDER,_),_.matrix.copyToContext(F);for(var V=0;V<E;V++){var B=y[V];B.mask&&B.mask.preRenderCanvas(this,B,_),B.renderCanvas(this,B,_),B.mask&&B.mask.postRenderCanvas(this,B,_)}F.setTransform(1,0,0,1,0,0),F.globalCompositeOperation="source-over",F.globalAlpha=1,_.flashEffect.postRenderCanvas(F),_.fadeEffect.postRenderCanvas(F),_.dirty=!1,N&&N.postRenderCanvas(this),F.restore(),_.renderToTexture&&(_.emit(w.POST_RENDER,_),_.renderToGame&&x.sys.context.drawImage(_.canvas,A,M)),_.emit(w.POST_RENDER,_)},postRender:function(){this.gameContext.restore(),this.emit(c.POST_RENDER);var y=this.snapshotState;y.callback&&(T(this.gameCanvas,y),y.callback=null)},snapshotCanvas:function(x,y,_,E,A,M,I,k,F){void 0===_&&(_=!1),this.snapshotArea(E,A,M,I,y,k,F);var N=this.snapshotState;return N.getPixel=_,T(x,N),N.callback=null,this},snapshot:function(x,y,_){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,x,y,_)},snapshotArea:function(x,y,_,E,A,M,I){var k=this.snapshotState;return k.callback=A,k.type=M,k.encoder=I,k.getPixel=!1,k.x=x,k.y=y,k.width=Math.min(_,this.gameCanvas.width),k.height=Math.min(E,this.gameCanvas.height),this},snapshotPixel:function(x,y,_){return this.snapshotArea(x,y,1,1,_),this.snapshotState.getPixel=!0,this},batchSprite:function(x,y,_,E){var A=_.alpha*x.alpha;if(0!==A){var M=this.currentContext,I=this._tempMatrix1,k=this._tempMatrix2,F=y.canvasData,N=F.x,V=F.y,B=y.cutWidth,H=y.cutHeight,Q=y.customPivot,G=y.source.resolution,K=x.displayOriginX,tt=x.displayOriginY,at=-K+y.x,lt=-tt+y.y;if(x.isCropped){var J=x._crop;(J.flipX!==x.flipX||J.flipY!==x.flipY)&&y.updateCropUVs(J,x.flipX,x.flipY),B=J.cw,H=J.ch,N=J.cx,V=J.cy,at=-K+J.x,lt=-tt+J.y,x.flipX&&(at>=0?at=-(at+B):at<0&&(at=Math.abs(at)-B)),x.flipY&&(lt>=0?lt=-(lt+H):lt<0&&(lt=Math.abs(lt)-H))}var it=1,Y=1;x.flipX&&(Q||(at+=2*K-y.realWidth),it=-1),x.flipY&&(Q||(lt+=2*tt-y.realHeight),Y=-1);var j=x.x,nt=x.y;if(_.roundPixels&&(j=Math.floor(j),nt=Math.floor(nt)),k.applyITRS(j,nt,x.rotation,x.scaleX*it,x.scaleY*Y),I.copyFrom(_.matrix),E?(I.multiplyWithOffset(E,-_.scrollX*x.scrollFactorX,-_.scrollY*x.scrollFactorY),k.e=j,k.f=nt):(k.e-=_.scrollX*x.scrollFactorX,k.f-=_.scrollY*x.scrollFactorY),I.multiply(k),_.renderRoundPixels&&(I.e=Math.floor(I.e+.5),I.f=Math.floor(I.f+.5)),M.save(),I.setToContext(M),M.globalCompositeOperation=this.blendModes[x.blendMode],M.globalAlpha=A,M.imageSmoothingEnabled=!y.source.scaleMode,x.mask&&x.mask.preRenderCanvas(this,x,_),B>0&&H>0){var ht=B/G,gt=H/G;_.roundPixels&&(at=Math.floor(at+.5),lt=Math.floor(lt+.5),ht+=.5,gt+=.5),M.drawImage(y.source.image,N,V,B,H,at,lt,ht,gt)}x.mask&&x.mask.postRenderCanvas(this,x,_),M.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});S.exports=v},55830:(S,P,a)=>{S.exports={CanvasRenderer:a(68627),GetBlendModes:a(56373),SetTransform:a(20926)}},56373:(S,P,a)=>{var w=a(10312),T=a(89289);S.exports=function(){var f=[],h=T.supportNewBlendModes,c="source-over";return f[w.NORMAL]=c,f[w.ADD]="lighter",f[w.MULTIPLY]=h?"multiply":c,f[w.SCREEN]=h?"screen":c,f[w.OVERLAY]=h?"overlay":c,f[w.DARKEN]=h?"darken":c,f[w.LIGHTEN]=h?"lighten":c,f[w.COLOR_DODGE]=h?"color-dodge":c,f[w.COLOR_BURN]=h?"color-burn":c,f[w.HARD_LIGHT]=h?"hard-light":c,f[w.SOFT_LIGHT]=h?"soft-light":c,f[w.DIFFERENCE]=h?"difference":c,f[w.EXCLUSION]=h?"exclusion":c,f[w.HUE]=h?"hue":c,f[w.SATURATION]=h?"saturation":c,f[w.COLOR]=h?"color":c,f[w.LUMINOSITY]=h?"luminosity":c,f[w.ERASE]="destination-out",f[w.SOURCE_IN]="source-in",f[w.SOURCE_OUT]="source-out",f[w.SOURCE_ATOP]="source-atop",f[w.DESTINATION_OVER]="destination-over",f[w.DESTINATION_IN]="destination-in",f[w.DESTINATION_OUT]="destination-out",f[w.DESTINATION_ATOP]="destination-atop",f[w.LIGHTER]="lighter",f[w.COPY]="copy",f[w.XOR]="xor",f}},20926:(S,P,a)=>{var w=a(91296);S.exports=function(g,f,h,c,u){var m=c.alpha*h.alpha;if(m<=0)return!1;var d=w(h,c,u).calc;return f.globalCompositeOperation=g.blendModes[h.blendMode],f.globalAlpha=m,f.save(),d.setToContext(f),f.imageSmoothingEnabled=h.frame?!h.frame.source.scaleMode:g.antialias,!0}},63899:S=>{S.exports="losewebgl"},6119:S=>{S.exports="postrender"},48070:S=>{S.exports="prerender"},15640:S=>{S.exports="render"},8912:S=>{S.exports="resize"},87124:S=>{S.exports="restorewebgl"},92503:(S,P,a)=>{S.exports={LOSE_WEBGL:a(63899),POST_RENDER:a(6119),PRE_RENDER:a(48070),RENDER:a(15640),RESIZE:a(8912),RESTORE_WEBGL:a(87124)}},36909:(S,P,a)=>{S.exports={Events:a(92503),Snapshot:a(89966)},S.exports.Canvas=a(55830),S.exports.WebGL=a(4159)},32880:(S,P,a)=>{var w=a(27919),T=a(40987),g=a(95540);S.exports=function(h,c){var u=g(c,"callback"),m=g(c,"type","image/png"),d=g(c,"encoder",.92),p=Math.abs(Math.round(g(c,"x",0))),v=Math.abs(Math.round(g(c,"y",0))),x=Math.floor(g(c,"width",h.width)),y=Math.floor(g(c,"height",h.height));if(g(c,"getPixel",!1)){var M=h.getContext("2d",{willReadFrequently:!1}).getImageData(p,v,1,1).data;u.call(null,new T(M[0],M[1],M[2],M[3]))}else if(0!==p||0!==v||x!==h.width||y!==h.height){var I=w.createWebGL(this,x,y),k=I.getContext("2d",{willReadFrequently:!0});x>0&&y>0&&k.drawImage(h,p,v,x,y,0,0,x,y);var F=new Image;F.onerror=function(){u.call(null),w.remove(I)},F.onload=function(){u.call(null,F),w.remove(I)},F.src=I.toDataURL(m,d)}else{var N=new Image;N.onerror=function(){u.call(null)},N.onload=function(){u.call(null,N)},N.src=h.toDataURL(m,d)}}},88815:(S,P,a)=>{var w=a(27919),T=a(40987),g=a(95540);S.exports=function(h,c){var u=h,m=g(c,"callback"),d=g(c,"type","image/png"),p=g(c,"encoder",.92),v=Math.abs(Math.round(g(c,"x",0))),x=Math.abs(Math.round(g(c,"y",0))),y=g(c,"getPixel",!1),_=g(c,"isFramebuffer",!1),E=_?g(c,"bufferWidth",1):u.drawingBufferWidth,A=_?g(c,"bufferHeight",1):u.drawingBufferHeight;if(y){var M=new Uint8Array(4);u.readPixels(v,_?x:A-x,1,1,u.RGBA,u.UNSIGNED_BYTE,M),m.call(null,new T(M[0],M[1],M[2],M[3]))}else{var k=Math.floor(g(c,"width",E)),F=Math.floor(g(c,"height",A)),N=k*F*4,V=new Uint8Array(N);u.readPixels(v,A-x-F,k,F,u.RGBA,u.UNSIGNED_BYTE,V);for(var B=w.createWebGL(this,k,F),H=B.getContext("2d",{willReadFrequently:!0}),Q=H.getImageData(0,0,k,F),G=Q.data,K=0;K<F;K++)for(var tt=0;tt<k;tt++){var at=4*((F-K-1)*k+tt),lt=_?N-4*(K*k+(k-tt)):4*(K*k+tt);G[lt+0]=V[at+0],G[lt+1]=V[at+1],G[lt+2]=V[at+2],G[lt+3]=V[at+3]}H.putImageData(Q,0,0);var J=new Image;J.onerror=function(){m.call(null),w.remove(B)},J.onload=function(){m.call(null,J),w.remove(B)},J.src=B.toDataURL(d,p)}}},89966:(S,P,a)=>{S.exports={Canvas:a(32880),WebGL:a(88815)}},7530:(S,P,a)=>{var w=a(83419),T=a(36060),g=a(90330),f=a(82264),h=a(95540),c=a(32302),u=a(63448),m=a(31302),d=a(58918),p=a(14811),v=a(92651),x=a(96569),y=a(56527),_=a(57516),E=a(43439),A=a(81041),M=a(12385),I=a(7589),k=a(95428),F=a(72905),N=new w({initialize:function(B){this.game=B.game,this.renderer=B,this.classes=new g([[T.UTILITY_PIPELINE,I],[T.MULTI_PIPELINE,_],[T.BITMAPMASK_PIPELINE,m],[T.SINGLE_PIPELINE,M],[T.ROPE_PIPELINE,A],[T.LIGHT_PIPELINE,x],[T.POINTLIGHT_PIPELINE,E],[T.MOBILE_PIPELINE,y]]),this.postPipelineClasses=new g,this.pipelines=new g,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(V,B,H){var Q=this.renderer,G=this.renderTargets;this.frameInc=Math.floor(h(V,"frameInc",32));var K=Q.width,tt=Q.height,at=this.game.config.disablePreFX;if(this.game.config.disablePostFX||this.postPipelineClasses.setAll([[String(p.BARREL),d.Barrel],[String(p.BLOOM),d.Bloom],[String(p.BLUR),d.Blur],[String(p.BOKEH),d.Bokeh],[String(p.CIRCLE),d.Circle],[String(p.COLOR_MATRIX),d.ColorMatrix],[String(p.DISPLACEMENT),d.Displacement],[String(p.GLOW),d.Glow],[String(p.GRADIENT),d.Gradient],[String(p.PIXELATE),d.Pixelate],[String(p.SHADOW),d.Shadow],[String(p.SHINE),d.Shine],[String(p.VIGNETTE),d.Vignette],[String(p.WIPE),d.Wipe]]),!at){this.classes.set(T.FX_PIPELINE,v);for(var J=Math.min(K,tt),it=Math.ceil(J/this.frameInc),Y=1;Y<it;Y++){var j=Y*this.frameInc;G.push(new c(Q,j,j)),G.push(new c(Q,j,j)),G.push(new c(Q,j,j)),this.maxDimension=j}G.push(new c(Q,K,tt,1,0,!0,!0)),G.push(new c(Q,K,tt,1,0,!0,!0)),G.push(new c(Q,K,tt,1,0,!0,!0))}var nt,ht,gt=this,wt=this.game;if(this.classes.each(function(Bt,Yt){nt=gt.add(Bt,new Yt({game:wt})),Bt===T.UTILITY_PIPELINE&&(gt.UTILITY_PIPELINE=nt,gt.fullFrame1=nt.fullFrame1,gt.fullFrame2=nt.fullFrame2,gt.halfFrame1=nt.halfFrame1,gt.halfFrame2=nt.halfFrame2)}),this.MULTI_PIPELINE=this.get(T.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(T.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(T.MOBILE_PIPELINE),at||(this.FX_PIPELINE=this.get(T.FX_PIPELINE)),V)for(ht in V){var St=V[ht];(nt=new St(wt)).name=ht,nt.isPostFX?this.postPipelineClasses.set(ht,St):this.has(ht)||(this.classes.set(ht,St),this.add(ht,nt))}this.default=this.get(B),H&&!f.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(V){var B=this.get(V);return B&&(this.default=B),B},add:function(V,B){if(!B.isPostFX){var H=this.pipelines,Q=this.renderer;return H.has(V)?console.warn("Pipeline exists: "+V):(B.name=V,B.manager=this,H.set(V,B)),B.hasBooted||B.boot(),0!==Q.width&&0!==Q.height&&!B.isPreFX&&B.resize(Q.width,Q.height),B}console.warn(V+" is a Post Pipeline. Use `addPostPipeline` instead")},addPostPipeline:function(V,B){this.postPipelineClasses.has(V)||this.postPipelineClasses.set(V,B)},flush:function(){this.current&&this.current.flush()},has:function(V){var B=this.pipelines;return"string"==typeof V?B.has(V):!!B.contains(V)},get:function(V){var B=this.pipelines;return"string"==typeof V?B.get(V):B.contains(V)?V:void 0},getPostPipeline:function(V,B,H){var G,Q=this.postPipelineClasses,K="",tt=typeof V;if("string"===tt||"number"===tt?(G=Q.get(V),K=V):"function"===tt?(Q.contains(V)&&(G=V),K=V.name):"object"===tt&&(G=Q.get(V.name),K=V.name),G){var at=new G(this.game,H);return at.name=K,B&&(at.gameObject=B),this.postPipelineInstances.push(at),at}},removePostPipeline:function(V){F(this.postPipelineInstances,V)},remove:function(V,B,H){void 0===B&&(B=!0),void 0===H&&(H=!0),this.pipelines.delete(V),B&&this.classes.delete(V),H&&this.postPipelineClasses.delete(V)},set:function(V,B,H){if(!V.isPostFX)return this.isCurrent(V,H)||(this.flush(),this.current&&this.current.unbind(),this.current=V,V.bind(H)),V.updateProjectionMatrix(),V.onBind(B),V},preBatch:function(V){if(V.hasPostPipeline){this.flush();for(var B=V.postPipelines,H=B.length-1;H>=0;H--){var Q=B[H];Q.active&&Q.preBatch(V)}}},postBatch:function(V){if(V.hasPostPipeline){this.flush();for(var B=V.postPipelines,H=0;H<B.length;H++){var Q=B[H];Q.active&&Q.postBatch(V)}}},preBatchCamera:function(V){if(V.hasPostPipeline){this.flush();for(var B=V.postPipelines,H=B.length-1;H>=0;H--){var Q=B[H];Q.active&&Q.preBatch(V)}}},postBatchCamera:function(V){if(V.hasPostPipeline){this.flush();for(var B=V.postPipelines,H=0;H<B.length;H++){var Q=B[H];Q.active&&Q.postBatch(V)}}},isCurrent:function(V,B){var Q=this.current;return Q&&!B&&(B=Q.currentShader),!(Q!==V||B.program!==this.renderer.currentProgram)},copyFrame:function(V,B,H,Q,G){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(V,B,H,Q,G),this},copyToGame:function(V){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(V),this},drawFrame:function(V,B,H,Q){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(V,B,H,Q),this},blendFrames:function(V,B,H,Q,G){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(V,B,H,Q,G),this},blendFramesAdditive:function(V,B,H,Q,G){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(V,B,H,Q,G),this},clearFrame:function(V,B){return this.UTILITY_PIPELINE.clearFrame(V,B),this},blitFrame:function(V,B,H,Q,G,K){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(V,B,H,Q,G,K),this},copyFrameRect:function(V,B,H,Q,G,K,tt,at){return this.UTILITY_PIPELINE.copyFrameRect(V,B,H,Q,G,K,tt,at),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(V){return this.UTILITY_PIPELINE.bind(V)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(V,B){B.restoreContext()}),k(this.postPipelineInstances,function(V){V.restoreContext()})},rebind:function(V){void 0===V&&this.previous&&(V=this.previous);var B=this.renderer,H=B.gl;H.disable(H.DEPTH_TEST),H.disable(H.CULL_FACE),B.hasActiveStencilMask()?H.clear(H.DEPTH_BUFFER_BIT):(H.disable(H.STENCIL_TEST),H.clear(H.DEPTH_BUFFER_BIT|H.STENCIL_BUFFER_BIT)),H.viewport(0,0,B.width,B.height),B.currentProgram=null,B.setBlendMode(0,!0);var Q=B.vaoExtension;Q&&Q.bindVertexArrayOES(null);var G=this.pipelines.entries;for(var K in G)G[K].glReset=!0;V&&(this.current=V,V.rebind())},clear:function(){var V=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,V.currentProgram=null,V.setBlendMode(0,!0);var B=V.vaoExtension;B&&B.bindVertexArrayOES(null)},getRenderTarget:function(V){var B=this.renderTargets;if(V>this.maxDimension)return this.targetIndex=B.length-3,B[this.targetIndex];var Q=3*(u(V,this.frameInc,0,!0)-1);return this.targetIndex=Q,B[Q]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});S.exports=N},32302:(S,P,a)=>{var w=a(83419),T=a(92503),g=new w({initialize:function(h,c,u,m,d,p,v,x,y){void 0===m&&(m=1),void 0===d&&(d=0),void 0===p&&(p=!0),void 0===v&&(v=!1),void 0===x&&(x=!0),void 0===y&&(y=!0),this.renderer=h,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=m,this.minFilter=d,this.autoClear=p,this.autoResize=!0,this.hasDepthBuffer=x,this.forceClamp=y,this.init(c,u),v?this.renderer.on(T.RESIZE,this.resize,this):this.autoResize=!1},init:function(f,h){var c=this.renderer;this.texture=c.createTextureFromSource(null,f,h,this.minFilter,this.forceClamp),this.framebuffer=c.createFramebuffer(f,h,this.texture,this.hasDepthBuffer),this.width=f,this.height=h},setAutoResize:function(f){return f&&!this.autoResize?(this.renderer.on(T.RESIZE,this.resize,this),this.autoResize=!0):!f&&this.autoResize&&(this.renderer.off(T.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(f,h){if(this.autoResize&&this.willResize(f,h)){var c=this.renderer;c.deleteFramebuffer(this.framebuffer),c.deleteTexture(this.texture),this.texture=c.createTextureFromSource(null,f,h,this.minFilter,this.forceClamp),this.framebuffer=c.createFramebuffer(f,h,this.texture,this.hasDepthBuffer),this.width=f,this.height=h}return this},willResize:function(f,h){return"number"==typeof f&&"number"==typeof h&&(f=Math.round(f*this.scale),h=Math.round(h*this.scale),f=Math.max(f,1),h=Math.max(h,1),f!==this.width||h!==this.height)},bind:function(f,h,c){void 0===f&&(f=!1);var u=this.renderer;if(f&&u.flush(),h&&c&&this.resize(h,c),u.pushFramebuffer(this.framebuffer,!1,!1),f&&this.adjustViewport(),this.autoClear){var m=this.renderer.gl;m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT)}u.clearStencilMask()},adjustViewport:function(){var f=this.renderer.gl;f.viewport(0,0,this.width,this.height),f.disable(f.SCISSOR_TEST)},clear:function(f,h,c,u){var m=this.renderer,d=m.gl;m.pushFramebuffer(this.framebuffer),void 0!==f&&void 0!==h&&void 0!==c&&void 0!==u?(d.enable(d.SCISSOR_TEST),d.scissor(f,h,c,u)):d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),m.popFramebuffer(),m.resetScissor()},unbind:function(f){void 0===f&&(f=!1);var h=this.renderer;return f&&h.flush(),h.popFramebuffer()},destroy:function(){var f=this.renderer;f.off(T.RESIZE,this.resize,this),f.deleteFramebuffer(this.framebuffer),f.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});S.exports=g},70554:S=>{S.exports={getTintFromFloats:function(P,a,w,T){return((255*T&255)<<24|(255*P&255)<<16|(255*a&255)<<8|255*w&255)>>>0},getTintAppendFloatAlpha:function(P,a){return((255*a&255)<<24|P)>>>0},getTintAppendFloatAlphaAndSwap:function(P,a){return((255*a&255)<<24|(255&P)<<16|(P>>8&255)<<8|P>>16&255)>>>0},getFloatsFromUintRGB:function(P){return[(P>>16&255)/255,(P>>8&255)/255,(255&P)/255]},checkShaderMax:function(P,a){var w=Math.min(16,P.getParameter(P.MAX_TEXTURE_IMAGE_UNITS));return a&&-1!==a?Math.min(w,a):w},parseFragmentShaderMaxTextures:function(P,a){if(!P)return"";for(var w="",T=0;T<a;T++)T>0&&(w+="\n\telse "),T<a-1&&(w+="if (outTexId < "+T+".5)"),w+="\n\t{",w+="\n\t\ttexture = texture2D(uMainSampler["+T+"], outTexCoord);",w+="\n\t}";return(P=P.replace(/%count%/gi,a.toString())).replace(/%forloop%/gi,w)},setGlowQuality:function(P,a,w,T){return void 0===w&&(w=a.config.glowFXQuality),void 0===T&&(T=a.config.glowFXDistance),(P=P.replace(/__SIZE__/gi,(1/w/T).toFixed(7))).replace(/__DIST__/gi,T.toFixed(0)+".0")}}},29100:(S,P,a)=>{var w=a(83419),T=a(62644),g=a(50792),f=a(77085),h=a(95540),c=a(37867),u=a(92503),m=a(32302),d=a(70554),p=a(38683),v=new w({Extends:g,initialize:function(y){g.call(this);var _=y.game,E=_.renderer,A=E.gl;this.name=h(y,"name","WebGLPipeline"),this.game=_,this.renderer=E,this.gl=A,this.view=_.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.topology=h(y,"topology",A.TRIANGLES),this.active=!0,this.forceZero=h(y,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.shaders=[],this.projectionWidth=0,this.projectionHeight=0,this.config=y,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=h(y,"resizeUniform","")},boot:function(){var x,y=this.gl,_=this.config,E=this.renderer;this.isPostFX||(this.projectionMatrix=(new c).identity());var A=this.renderTargets,M=h(_,"renderTarget",!1);"boolean"==typeof M&&M&&(M=1);var I=E.width,k=E.height;if("number"==typeof M)for(x=0;x<M;x++)A.push(new m(E,I,k,1,0,!0));else if(Array.isArray(M))for(x=0;x<M.length;x++){var F=h(M[x],"scale",1),N=h(M[x],"minFilter",0),V=h(M[x],"autoClear",1),B=h(M[x],"autoResize",!1),H=h(M[x],"width",null),Q=h(M[x],"height",H);A.push(H?new m(E,H,Q,1,N,V,B):new m(E,I,k,F,N,V,B))}A.length&&(this.currentRenderTarget=A[0]),this.setShadersFromConfig(_);var G=this.shaders,K=0;for(x=0;x<G.length;x++)G[x].vertexSize>K&&(K=G[x].vertexSize);var tt=h(_,"batchSize",E.config.batchSize);this.vertexCapacity=6*tt;var at=new ArrayBuffer(this.vertexCapacity*K);this.vertexData=at,this.bytes=new Uint8Array(at),this.vertexViewF32=new Float32Array(at),this.vertexViewU32=new Uint32Array(at);var lt=h(_,"vertices",null);for(lt?(this.vertexViewF32.set(lt),this.vertexBuffer=E.createVertexBuffer(at,y.STATIC_DRAW)):this.vertexBuffer=E.createVertexBuffer(at.byteLength,y.DYNAMIC_DRAW),this.setVertexBuffer(),x=G.length-1;x>=0;x--)G[x].rebind();this.hasBooted=!0,E.on(u.RESIZE,this.resize,this),E.on(u.PRE_RENDER,this.onPreRender,this),E.on(u.RENDER,this.onRender,this),E.on(u.POST_RENDER,this.onPostRender,this),this.emit(f.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(x,y,_){return x===this.currentShader&&this.renderer.currentProgram===this.currentShader.program||(this.flush(),this.setVertexBuffer(_)&&!y&&(y=!0),x.bind(y,!1),this.currentShader=x),this},getShaderByName:function(x){for(var y=this.shaders,_=0;_<y.length;_++)if(y[_].name===x)return y[_]},setShadersFromConfig:function(x){var y,_=this.shaders,E=this.renderer;for(y=0;y<_.length;y++)_[y].destroy();var A="vertShader",M="fragShader",I="attributes",k=h(x,A,null),F=d.parseFragmentShaderMaxTextures(h(x,M,null),E.maxTextures),N=h(x,I,null),V=h(x,"shaders",[]),B=V.length;if(0===B)k&&F&&(this.shaders=[new p(this,"default",k,F,T(N))]);else{var H=[];for(y=0;y<B;y++){var G,K,tt,at,Q=V[y];if("string"==typeof Q?(G="default",K=k,tt=d.parseFragmentShaderMaxTextures(Q,E.maxTextures),at=N):(G=h(Q,"name","default"),K=h(Q,A,k),tt=d.parseFragmentShaderMaxTextures(h(Q,M,F),E.maxTextures),at=h(Q,I,N)),"default"===G){var J=tt.split("\n")[0].trim();J.indexOf("#define SHADER_NAME")>-1&&(G=J.substring(20))}K&&tt&&H.push(new p(this,G,K,tt,T(at)))}this.shaders=H}return 0===this.shaders.length?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(x){return this.currentBatch={start:this.vertexCount,count:0,texture:[x],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=x,this.batch.push(this.currentBatch),0},addTextureToBatch:function(x){var y=this.currentBatch;y&&(y.texture.push(x),y.unit++,y.maxUnit++)},pushBatch:function(x){if(!this.currentBatch||this.forceZero&&x!==this.currentTexture)return this.createBatch(x);if(x===this.currentTexture)return this.currentUnit;var y=this.currentBatch,_=y.texture.indexOf(x);return-1===_?y.texture.length===this.renderer.maxTextures?this.createBatch(x):(y.unit++,y.maxUnit++,y.texture.push(x),this.currentUnit=y.unit,this.currentTexture=x,y.unit):(this.currentUnit=_,this.currentTexture=x,_)},setGameObject:function(x,y){return void 0===y&&(y=x.frame),this.pushBatch(y.source.glTexture)},shouldFlush:function(x){return void 0===x&&(x=0),this.vertexCount+x>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(x,y){(x!==this.width||y!==this.height)&&this.flush(),this.width=x,this.height=y;for(var _=this.renderTargets,E=0;E<_.length;E++)_[E].resize(x,y);return this.setProjectionMatrix(x,y),this.resizeUniform&&this.set2f(this.resizeUniform,x,y),this.emit(f.RESIZE,x,y,this),this.onResize(x,y),this},setProjectionMatrix:function(x,y){var _=this.projectionMatrix;if(!_)return this;this.projectionWidth=x,this.projectionHeight=y,_.ortho(0,x,y,0,-1e3,1e3);for(var E=this.shaders,A="uProjectionMatrix",M=0;M<E.length;M++){var I=E[M];I.hasUniform(A)&&(I.resetUniform(A),I.setMatrix4fv(A,!1,_.val,I))}return this},flipProjectionMatrix:function(x){void 0===x&&(x=!0);var y=this.projectionMatrix;if(!y)return this;var _=this.projectionWidth,E=this.projectionHeight;x?y.ortho(0,_,0,E,-1e3,1e3):y.ortho(0,_,E,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,y.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var x=this.renderer.projectionWidth,y=this.renderer.projectionHeight;(this.projectionWidth!==x||this.projectionHeight!==y)&&this.setProjectionMatrix(x,y)}},bind:function(x){if(void 0===x&&(x=this.currentShader),this.glReset)return this.rebind(x);var y=!1,_=this.gl;return _.getParameter(_.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(_.bindBuffer(_.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,y=!0),x.bind(y),this.currentShader=x,this.activeTextures.length=0,this.emit(f.BIND,this,x),this.onActive(x),this},rebind:function(x){this.activeBuffer=null,this.setVertexBuffer();for(var y=this.shaders,_=y.length-1;_>=0;_--){var E=y[_].rebind();(!x||E===x)&&(this.currentShader=E)}return this.activeTextures.length=0,this.emit(f.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var x=this.shaders,y=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,y&&this.setVertexBuffer();for(var _=0;_<x.length;_++){var E=x[_];E.syncUniforms(),y&&E.rebind()}},setVertexBuffer:function(x){return void 0===x&&(x=this.vertexBuffer),x!==this.activeBuffer&&(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,x.webGLBuffer),this.activeBuffer=x,!0)},preBatch:function(x){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(x),this},postBatch:function(x){return this.onDraw(this.currentRenderTarget),this.onPostBatch(x),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(x){if(void 0===x&&(x=!1),this.vertexCount>0){this.emit(f.BEFORE_FLUSH,this,x),this.onBeforeFlush(x);var y=this.gl,_=this.vertexCount,E=this.currentShader.vertexSize,A=this.topology;if(this.active){this.setVertexBuffer(),_===this.vertexCapacity?y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.DYNAMIC_DRAW):y.bufferSubData(y.ARRAY_BUFFER,0,this.bytes.subarray(0,_*E));var M,I,k,F=this.batch,N=this.activeTextures;if(this.forceZero)for(N[0]||y.activeTexture(y.TEXTURE0),M=0;M<F.length;M++)N[0]!==(k=(I=F[M]).texture[0])&&(y.bindTexture(y.TEXTURE_2D,k.webGLTexture),N[0]=k),y.drawArrays(A,I.start,I.count);else for(M=0;M<F.length;M++){I=F[M];for(var V=0;V<=I.maxUnit;V++)N[V]!==(k=I.texture[V])&&(y.activeTexture(y.TEXTURE0+V),y.bindTexture(y.TEXTURE_2D,k.webGLTexture),N[V]=k);y.drawArrays(A,I.start,I.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(f.AFTER_FLUSH,this,x),this.onAfterFlush(x)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(x,y,_,E,A,M,I){var k=this.vertexViewF32,F=this.vertexViewU32,N=this.vertexCount*this.currentShader.vertexComponentCount-1;k[++N]=x,k[++N]=y,k[++N]=_,k[++N]=E,k[++N]=A,k[++N]=M,F[++N]=I,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(x,y,_,E,A,M,I,k,F,N,V,B,H,Q,G,K,tt,at,lt,J){void 0===J&&(J=this.currentUnit);var it=!1;this.shouldFlush(6)&&(this.flush(),it=!0),this.currentBatch||(J=this.setTexture2D(lt));var Y=this.vertexViewF32,j=this.vertexViewU32,nt=this.vertexCount*this.currentShader.vertexComponentCount-1;return Y[++nt]=y,Y[++nt]=_,Y[++nt]=N,Y[++nt]=V,Y[++nt]=J,Y[++nt]=at,j[++nt]=Q,Y[++nt]=E,Y[++nt]=A,Y[++nt]=N,Y[++nt]=H,Y[++nt]=J,Y[++nt]=at,j[++nt]=K,Y[++nt]=M,Y[++nt]=I,Y[++nt]=B,Y[++nt]=H,Y[++nt]=J,Y[++nt]=at,j[++nt]=tt,Y[++nt]=y,Y[++nt]=_,Y[++nt]=N,Y[++nt]=V,Y[++nt]=J,Y[++nt]=at,j[++nt]=Q,Y[++nt]=M,Y[++nt]=I,Y[++nt]=B,Y[++nt]=H,Y[++nt]=J,Y[++nt]=at,j[++nt]=tt,Y[++nt]=k,Y[++nt]=F,Y[++nt]=B,Y[++nt]=V,Y[++nt]=J,Y[++nt]=at,j[++nt]=G,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),it},batchTri:function(x,y,_,E,A,M,I,k,F,N,V,B,H,Q,G,K,tt){void 0===tt&&(tt=this.currentUnit);var at=!1;this.shouldFlush(3)&&(this.flush(),at=!0),this.currentBatch||(tt=this.setTexture2D(K));var lt=this.vertexViewF32,J=this.vertexViewU32,it=this.vertexCount*this.currentShader.vertexComponentCount-1;return lt[++it]=y,lt[++it]=_,lt[++it]=k,lt[++it]=F,lt[++it]=tt,lt[++it]=G,J[++it]=B,lt[++it]=E,lt[++it]=A,lt[++it]=k,lt[++it]=V,lt[++it]=tt,lt[++it]=G,J[++it]=H,lt[++it]=M,lt[++it]=I,lt[++it]=N,lt[++it]=V,lt[++it]=tt,lt[++it]=G,J[++it]=Q,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),at},drawFillRect:function(x,y,_,E,A,M,I,k){void 0===I&&(I=this.renderer.whiteTexture),void 0===k&&(k=!0),x=Math.floor(x),y=Math.floor(y);var F=Math.floor(x+_),N=Math.floor(y+E),V=this.setTexture2D(I),B=d.getTintAppendFloatAlphaAndSwap(A,M),Q=0,K=1;k&&(Q=1,K=0),this.batchQuad(null,x,y,x,N,F,N,F,y,0,Q,1,K,B,B,B,B,0,I,V)},setTexture2D:function(x){return void 0===x&&(x=this.renderer.whiteTexture),this.pushBatch(x)},bindTexture:function(x,y){void 0===y&&(y=0);var _=this.gl;return _.activeTexture(_.TEXTURE0+y),_.bindTexture(_.TEXTURE_2D,x.webGLTexture),this},bindRenderTarget:function(x,y){return this.bindTexture(x.texture,y)},setTime:function(x,y){return this.set1f(x,this.game.loop.getDuration(),y),this},setBoolean:function(x,y,_){return void 0===_&&(_=this.currentShader),_.setBoolean(x,y),this},set1f:function(x,y,_){return void 0===_&&(_=this.currentShader),_.set1f(x,y),this},set2f:function(x,y,_,E){return void 0===E&&(E=this.currentShader),E.set2f(x,y,_),this},set3f:function(x,y,_,E,A){return void 0===A&&(A=this.currentShader),A.set3f(x,y,_,E),this},set4f:function(x,y,_,E,A,M){return void 0===M&&(M=this.currentShader),M.set4f(x,y,_,E,A),this},set1fv:function(x,y,_){return void 0===_&&(_=this.currentShader),_.set1fv(x,y),this},set2fv:function(x,y,_){return void 0===_&&(_=this.currentShader),_.set2fv(x,y),this},set3fv:function(x,y,_){return void 0===_&&(_=this.currentShader),_.set3fv(x,y),this},set4fv:function(x,y,_){return void 0===_&&(_=this.currentShader),_.set4fv(x,y),this},set1iv:function(x,y,_){return void 0===_&&(_=this.currentShader),_.set1iv(x,y),this},set2iv:function(x,y,_){return void 0===_&&(_=this.currentShader),_.set2iv(x,y),this},set3iv:function(x,y,_){return void 0===_&&(_=this.currentShader),_.set3iv(x,y),this},set4iv:function(x,y,_){return void 0===_&&(_=this.currentShader),_.set4iv(x,y),this},set1i:function(x,y,_){return void 0===_&&(_=this.currentShader),_.set1i(x,y),this},set2i:function(x,y,_,E){return void 0===E&&(E=this.currentShader),E.set2i(x,y,_),this},set3i:function(x,y,_,E,A){return void 0===A&&(A=this.currentShader),A.set3i(x,y,_,E),this},set4i:function(x,y,_,E,A,M){return void 0===M&&(M=this.currentShader),M.set4i(x,y,_,E,A),this},setMatrix2fv:function(x,y,_,E){return void 0===E&&(E=this.currentShader),E.setMatrix2fv(x,y,_),this},setMatrix3fv:function(x,y,_,E){return void 0===E&&(E=this.currentShader),E.setMatrix3fv(x,y,_),this},setMatrix4fv:function(x,y,_,E){return void 0===E&&(E=this.currentShader),E.setMatrix4fv(x,y,_),this},destroy:function(){this.emit(f.DESTROY,this);var x,y=this.shaders;for(x=0;x<y.length;x++)y[x].destroy();var _=this.renderTargets;for(x=0;x<_.length;x++)_[x].destroy();var E=this.renderer;return E.deleteBuffer(this.vertexBuffer),E.off(u.RESIZE,this.resize,this),E.off(u.PRE_RENDER,this.onPreRender,this),E.off(u.RENDER,this.onRender,this),E.off(u.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});S.exports=v},74797:(S,P,a)=>{var w=a(95428),T=a(72905),g=a(19715),f=a(83419),h=a(8054),c=a(50792),u=a(92503),m=a(50030),d=a(37867),p=a(29747),v=a(7530),x=a(32302),y=a(97480),_=a(69442),E=a(70554),A=a(88815),M=a(26128),I=a(1482),k=a(82751),F=a(84387),N=a(93567),V=a(57183),Q=new f({Extends:c,initialize:function(K){c.call(this);var tt=K.config;this.config={clearBeforeRender:tt.clearBeforeRender,antialias:tt.antialias,backgroundColor:tt.backgroundColor,contextCreation:{alpha:tt.transparent,desynchronized:tt.desynchronized,depth:!0,antialias:tt.antialiasGL,premultipliedAlpha:tt.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:tt.failIfMajorPerformanceCaveat,powerPreference:tt.powerPreference,preserveDrawingBuffer:tt.preserveDrawingBuffer,willReadFrequently:!1},roundPixels:tt.roundPixels,maxTextures:tt.maxTextures,maxTextureSize:tt.maxTextureSize,batchSize:tt.batchSize,maxLights:tt.maxLights,mipmapFilter:tt.mipmapFilter},this.game=K,this.type=h.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=K.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=p,this.contextRestoredHandler=p,this.previousContextLostHandler=p,this.previousContextRestoredHandler=p,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(G){var K,tt=this.game,at=this.canvas,lt=G.backgroundColor;if(!(K=tt.config.context?tt.config.context:at.getContext("webgl",G.contextCreation)||at.getContext("experimental-webgl",G.contextCreation))||K.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=K,this.setExtensions(),this.setContextHandlers(),tt.context=K;for(var J=0;J<=27;J++)this.blendModes.push({func:[K.ONE,K.ONE_MINUS_SRC_ALPHA],equation:K.FUNC_ADD});return this.blendModes[1].func=[K.ONE,K.DST_ALPHA],this.blendModes[2].func=[K.DST_COLOR,K.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[K.ONE,K.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[K.ZERO,K.ONE_MINUS_SRC_ALPHA],equation:K.FUNC_REVERSE_SUBTRACT},this.glFormats=[K.BYTE,K.SHORT,K.UNSIGNED_BYTE,K.UNSIGNED_SHORT,K.FLOAT],this.glFuncMap={mat2:{func:K.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:K.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:K.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:K.uniform1f,length:1},"1fv":{func:K.uniform1fv,length:1},"1i":{func:K.uniform1i,length:1},"1iv":{func:K.uniform1iv,length:1},"2f":{func:K.uniform2f,length:2},"2fv":{func:K.uniform2fv,length:1},"2i":{func:K.uniform2i,length:2},"2iv":{func:K.uniform2iv,length:1},"3f":{func:K.uniform3f,length:3},"3fv":{func:K.uniform3fv,length:1},"3i":{func:K.uniform3i,length:3},"3iv":{func:K.uniform3iv,length:1},"4f":{func:K.uniform4f,length:4},"4fv":{func:K.uniform4fv,length:1},"4i":{func:K.uniform4i,length:4},"4iv":{func:K.uniform4iv,length:1}},(!G.maxTextures||-1===G.maxTextures)&&(G.maxTextures=K.getParameter(K.MAX_TEXTURE_IMAGE_UNITS)),G.maxTextureSize||(G.maxTextureSize=K.getParameter(K.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),K.disable(K.DEPTH_TEST),K.disable(K.CULL_FACE),K.enable(K.BLEND),K.clearColor(lt.redGL,lt.greenGL,lt.blueGL,lt.alphaGL),-1!==["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"].indexOf(G.mipmapFilter)&&(this.mipmapFilter=K[G.mipmapFilter]),this.maxTextures=E.checkShaderMax(K,G.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new v(this),this.setBlendMode(h.BlendModes.NORMAL),this.projectionMatrix=(new d).identity(),tt.textures.once(_.READY,this.boot,this),this},boot:function(){var G=this.game,K=this.pipelines,tt=G.scale.baseSize,at=tt.width,lt=tt.height;this.width=at,this.height=lt,this.isBooted=!0,this.renderTarget=new x(this,at,lt,1,0,!0,!0),this.maskTarget=new x(this,at,lt,1,0,!0,!0),this.maskSource=new x(this,at,lt,1,0,!0,!0);var J=G.config;K.boot(J.pipeline,J.defaultPipeline,J.autoMobilePipeline),this.blankTexture=G.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=G.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=G.textures.getFrame("__WHITE").glTexture;var it=this.gl;it.bindFramebuffer(it.FRAMEBUFFER,null),it.enable(it.SCISSOR_TEST),G.scale.on(y.RESIZE,this.onResize,this),this.resize(at,lt)},setExtensions:function(){var G=this.gl,K=G.getSupportedExtensions();this.supportedExtensions=K;var tt="ANGLE_instanced_arrays";this.instancedArraysExtension=K.indexOf(tt)>-1?G.getExtension(tt):null;var at="OES_vertex_array_object";this.vaoExtension=K.indexOf(at)>-1?G.getExtension(at):null},setContextHandlers:function(G,K){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),this.contextLostHandler="function"==typeof G?G.bind(this):this.dispatchContextLost.bind(this),this.contextRestoredHandler="function"==typeof K?K.bind(this):this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(G){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(u.LOSE_WEBGL,this),G.preventDefault()},dispatchContextRestored:function(G){var K=this.gl;if(K.isContextLost())console&&console.log("WebGL Context restored, but context is still lost");else{this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(h.BlendModes.NORMAL),K.disable(K.BLEND),K.disable(K.DEPTH_TEST),K.enable(K.CULL_FACE),this.compression=this.getCompressedTextures();var tt=function(at){at.createResource()};w(this.glTextureWrappers,tt),w(this.glBufferWrappers,tt),w(this.glFramebufferWrappers,tt),w(this.glProgramWrappers,tt),w(this.glAttribLocationWrappers,tt),w(this.glUniformLocationWrappers,tt),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(u.RESTORE_WEBGL,this),G.preventDefault()}},createTemporaryTextures:function(){for(var G=this.gl,K=0;K<this.maxTextures;K++){var tt=G.createTexture();G.activeTexture(G.TEXTURE0+K),G.bindTexture(G.TEXTURE_2D,tt),G.texImage2D(G.TEXTURE_2D,0,G.RGBA,1,1,0,G.RGBA,G.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(K)}},captureFrame:function(G,K){void 0===G&&(G=!1),void 0===K&&(K=!1)},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(G,K,tt){void 0===G&&(G=0),void 0===K&&(K=!1),void 0===tt&&(tt=!1)},stopCapture:function(){},onCapture:function(G){},onResize:function(G,K){(K.width!==this.width||K.height!==this.height)&&this.resize(K.width,K.height)},beginCapture:function(G,K){void 0===G&&(G=this.width),void 0===K&&(K=this.height),this.renderTarget.bind(!0,G,K),this.setProjectionMatrix(G,K)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(G,K){var tt=this.gl;return this.width=G,this.height=K,this.setProjectionMatrix(G,K),tt.viewport(0,0,G,K),this.drawingBufferHeight=tt.drawingBufferHeight,tt.scissor(0,tt.drawingBufferHeight-K,G,K),this.defaultScissor[2]=G,this.defaultScissor[3]=K,this.emit(u.RESIZE,G,K),this},getCompressedTextures:function(){var G="WEBGL_compressed_texture_",K="WEBKIT_"+G,at=function(J,it){var Y=J.getExtension(G+it)||J.getExtension(K+it)||J.getExtension("EXT_texture_compression_"+it);if(Y){var j={};for(var nt in Y)j[Y[nt]]=nt;return j}},lt=this.gl;return{ETC:at(lt,"etc"),ETC1:at(lt,"etc1"),ATC:at(lt,"atc"),ASTC:at(lt,"astc"),BPTC:at(lt,"bptc"),RGTC:at(lt,"rgtc"),PVRTC:at(lt,"pvrtc"),S3TC:at(lt,"s3tc"),S3TCSRGB:at(lt,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(G,K){var tt=this.compression[G.toUpperCase()];if(K in tt)return tt[K]},supportsCompressedTexture:function(G,K){var tt=this.compression[G.toUpperCase()];return!!tt&&(!K||K in tt)},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(G,K){return(G!==this.projectionWidth||K!==this.projectionHeight)&&(this.projectionWidth=G,this.projectionHeight=K,this.projectionMatrix.ortho(0,G,K,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(G){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(G)},getExtension:function(G){return this.hasExtension(G)?(G in this.extensions||(this.extensions[G]=this.gl.getExtension(G)),this.extensions[G]):null},flush:function(){this.pipelines.flush()},pushScissor:function(G,K,tt,at,lt){void 0===lt&&(lt=this.drawingBufferHeight);var it=[G,K,tt,at];return this.scissorStack.push(it),this.setScissor(G,K,tt,at,lt),this.currentScissor=it,it},setScissor:function(G,K,tt,at,lt){void 0===lt&&(lt=this.drawingBufferHeight);var J=this.gl,it=this.currentScissor,Y=tt>0&&at>0;it&&Y&&(Y=it[0]!==G||it[1]!==K||it[2]!==tt||it[3]!==at),Y&&(this.flush(),J.scissor(G,lt-K-at,tt,at))},resetScissor:function(){var G=this.gl;G.enable(G.SCISSOR_TEST);var K=this.currentScissor;if(K){var lt=K[2],J=K[3];lt>0&&J>0&&G.scissor(K[0],this.drawingBufferHeight-K[1]-J,lt,J)}},popScissor:function(){var G=this.scissorStack;G.pop();var K=G[G.length-1];K&&this.setScissor(K[0],K[1],K[2],K[3]),this.currentScissor=K},hasActiveStencilMask:function(){var G=this.currentMask.mask,K=this.currentCameraMask.mask;return G&&G.isStencil||K&&K.isStencil},resetViewport:function(){var G=this.gl;G.viewport(0,0,this.width,this.height),this.drawingBufferHeight=G.drawingBufferHeight},setBlendMode:function(G,K){void 0===K&&(K=!1);var tt=this.gl,at=this.blendModes[G];return!!(K||G!==h.BlendModes.SKIP_CHECK&&this.currentBlendMode!==G)&&(this.flush(),tt.enable(tt.BLEND),tt.blendEquation(at.equation),at.func.length>2?tt.blendFuncSeparate(at.func[0],at.func[1],at.func[2],at.func[3]):tt.blendFunc(at.func[0],at.func[1]),this.currentBlendMode=G,!0)},addBlendMode:function(G,K){return this.blendModes.push({func:G,equation:K})-1},updateBlendMode:function(G,K,tt){return this.blendModes[G]&&(this.blendModes[G].func=K,tt&&(this.blendModes[G].equation=tt)),this},removeBlendMode:function(G){return G>17&&this.blendModes[G]&&this.blendModes.splice(G,1),this},pushFramebuffer:function(G,K,tt,at,lt){return G===this.currentFramebuffer?this:(this.fboStack.push(G),this.setFramebuffer(G,K,tt,at,lt))},setFramebuffer:function(G,K,tt,at,lt){if(void 0===K&&(K=!1),void 0===tt&&(tt=!0),void 0===at&&(at=null),void 0===lt&&(lt=!1),G===this.currentFramebuffer)return this;var J=this.gl,it=this.width,Y=this.height;return G&&G.renderTexture&&tt?(it=G.renderTexture.width,Y=G.renderTexture.height):this.flush(),J.bindFramebuffer(J.FRAMEBUFFER,G?G.webGLFramebuffer:null),tt&&J.viewport(0,0,it,Y),at&&J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,at.webGLTexture,0),lt&&(J.clearColor(0,0,0,0),J.clear(J.COLOR_BUFFER_BIT)),K&&(G?(this.drawingBufferHeight=Y,this.pushScissor(0,0,it,Y)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=G,this},popFramebuffer:function(G,K){void 0===G&&(G=!1),void 0===K&&(K=!0);var tt=this.fboStack;tt.pop();var at=tt[tt.length-1];return at||(at=null),this.setFramebuffer(at,G,K),at},restoreFramebuffer:function(G,K){void 0===G&&(G=!1),void 0===K&&(K=!0);var tt=this.fboStack,at=tt[tt.length-1];at||(at=null),this.currentFramebuffer=null,this.setFramebuffer(at,G,K)},setProgram:function(G){return G!==this.currentProgram&&(this.flush(),this.gl.useProgram(G.webGLProgram),this.currentProgram=G,!0)},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(G,K,tt,at,lt){void 0===lt&&(lt=!1);var J=this.gl,it=J.NEAREST,Y=J.NEAREST,j=J.CLAMP_TO_EDGE,ht=m(K=G?G.width:K,tt=G?G.height:tt);if(ht&&!lt&&(j=J.REPEAT),at===h.ScaleModes.LINEAR&&this.config.antialias){var gt=G&&G.compressed;it=this.mipmapFilter&&(!gt&&ht||gt&&G.mipmaps.length>1)?this.mipmapFilter:J.LINEAR,Y=J.LINEAR}return G||"number"!=typeof K||"number"!=typeof tt?this.createTexture2D(0,it,Y,j,j,J.RGBA,G):this.createTexture2D(0,it,Y,j,j,J.RGBA,null,K,tt)},createTexture2D:function(G,K,tt,at,lt,J,it,Y,j,nt,ht,gt){"number"!=typeof Y&&(Y=it?it.width:1),"number"!=typeof j&&(j=it?it.height:1);var wt=new k(this.gl,G,K,tt,at,lt,J,it,Y,j,nt,ht,gt);return this.glTextureWrappers.push(wt),wt},createFramebuffer:function(G,K,tt,at){this.currentFramebuffer=null;var lt=new F(this.gl,G,K,tt,at);return this.glFramebufferWrappers.push(lt),lt},beginBitmapMask:function(G,K){this.gl&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==G&&(this.currentMask.mask=G,this.currentMask.camera=K))},drawBitmapMask:function(G,K,tt){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),G.renderWebGL(this,G,K),this.maskSource.unbind(!0),this.maskTarget.unbind();var at=this.gl,lt=this.getCurrentStencilMask();lt?(at.enable(at.STENCIL_TEST),lt.mask.applyStencil(this,lt.camera,!0)):this.currentMask.mask=null,this.pipelines.set(tt),at.activeTexture(at.TEXTURE0),at.bindTexture(at.TEXTURE_2D,this.maskTarget.texture.webGLTexture),at.activeTexture(at.TEXTURE1),at.bindTexture(at.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(G,K){var tt=new I(this.gl,G,K);return this.glProgramWrappers.push(tt),tt},createVertexBuffer:function(G,K){var tt=this.gl,at=new M(tt,G,tt.ARRAY_BUFFER,K);return this.glBufferWrappers.push(at),at},createAttribLocation:function(G,K){var tt=new N(this.gl,G,K);return this.glAttribLocationWrappers.push(tt),tt},createUniformLocation:function(G,K){var tt=new V(this.gl,G,K);return this.glUniformLocationWrappers.push(tt),tt},createIndexBuffer:function(G,K){var tt=this.gl,at=new M(tt,G,tt.ELEMENT_ARRAY_BUFFER,K);return this.glBufferWrappers.push(at),at},deleteTexture:function(G){if(G)return T(this.glTextureWrappers,G),G.destroy(),this},deleteFramebuffer:function(G){return G?(T(this.fboStack,G),T(this.glFramebufferWrappers,G),G.destroy(),this):this},deleteProgram:function(G){return G&&(T(this.glProgramWrappers,G),G.destroy()),this},deleteAttribLocation:function(G){return G&&(T(this.glAttribLocationWrappers,G),G.destroy()),this},deleteUniformLocation:function(G){return G&&(T(this.glUniformLocationWrappers,G),G.destroy()),this},deleteBuffer:function(G){return G?(T(this.glBufferWrappers,G),G.destroy(),this):this},preRenderCamera:function(G){var K=G.x,tt=G.y,at=G.width,lt=G.height,J=G.backgroundColor;G.emit(g.PRE_RENDER,G),this.pipelines.preBatchCamera(G),this.pushScissor(K,tt,at,lt),G.mask&&(this.currentCameraMask.mask=G.mask,this.currentCameraMask.camera=G._maskCamera,G.mask.preRenderWebGL(this,G,G._maskCamera)),J.alphaGL>0&&this.pipelines.setMulti().drawFillRect(K,tt,at,lt,E.getTintFromFloats(J.blueGL,J.greenGL,J.redGL,1),J.alphaGL)},getCurrentStencilMask:function(){var G=null,K=this.maskStack,tt=this.currentCameraMask;return K.length>0?G=K[K.length-1]:tt.mask&&tt.mask.isStencil&&(G=tt),G},postRenderCamera:function(G){var K=G.flashEffect,tt=G.fadeEffect;if(K.isRunning||tt.isRunning||tt.isComplete){var at=this.pipelines.setMulti();K.postRenderWebGL(at,E.getTintFromFloats),tt.postRenderWebGL(at,E.getTintFromFloats)}G.dirty=!1,this.popScissor(),G.mask&&(this.currentCameraMask.mask=null,G.mask.postRenderWebGL(this,G._maskCamera)),this.pipelines.postBatchCamera(G),G.emit(g.POST_RENDER,G)},preRender:function(){if(!this.contextLost){var G=this.gl;if(G.bindFramebuffer(G.FRAMEBUFFER,null),this.emit(u.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var K=this.config.backgroundColor;G.clearColor(K.redGL,K.greenGL,K.blueGL,K.alphaGL),G.clear(G.COLOR_BUFFER_BIT|G.DEPTH_BUFFER_BIT|G.STENCIL_BUFFER_BIT)}G.enable(G.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&G.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(u.PRE_RENDER)}},render:function(G,K,tt){if(!this.contextLost){var at=K.length;if(this.emit(u.RENDER,G,tt),this.preRenderCamera(tt),0===at)return this.setBlendMode(h.BlendModes.NORMAL),void this.postRenderCamera(tt);this.currentType="";for(var lt=this.currentMask,J=0;J<at;J++){this.finalType=J===at-1;var it=K[J],Y=it.mask;(lt=this.currentMask).mask&&lt.mask!==Y&&lt.mask.postRenderWebGL(this,lt.camera),Y&&lt.mask!==Y&&Y.preRenderWebGL(this,it,tt),it.blendMode!==this.currentBlendMode&&this.setBlendMode(it.blendMode);var j=it.type;j!==this.currentType&&(this.newType=!0,this.currentType=j),this.nextTypeMatch=!this.finalType&&K[J+1].type===this.currentType,it.renderWebGL(this,it,tt),this.newType=!1}(lt=this.currentMask).mask&&lt.mask.postRenderWebGL(this,lt.camera),this.setBlendMode(h.BlendModes.NORMAL),this.postRenderCamera(tt)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(u.POST_RENDER);var G=this.snapshotState;G.callback&&(A(this.gl,G),G.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var G=this.gl,K=this.getCurrentStencilMask();if(K){var tt=K.mask;G.enable(G.STENCIL_TEST),G.stencilFunc(tt.invertAlpha?G.NOTEQUAL:G.EQUAL,tt.level,255)}},snapshot:function(G,K,tt){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,G,K,tt)},snapshotArea:function(G,K,tt,at,lt,J,it){var Y=this.snapshotState;return Y.callback=lt,Y.type=J,Y.encoder=it,Y.getPixel=!1,Y.x=G,Y.y=K,Y.width=tt,Y.height=at,this},snapshotPixel:function(G,K,tt){return this.snapshotArea(G,K,1,1,tt),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(G,K,tt,at,lt,J,it,Y,j,nt,ht){void 0===lt&&(lt=!1),void 0===J&&(J=0),void 0===it&&(it=0),void 0===Y&&(Y=K),void 0===j&&(j=tt),"pixel"===nt&&(lt=!0,nt="image/png");var gt=this.currentFramebuffer;this.snapshotArea(J,it,Y,j,at,nt,ht);var wt=this.snapshotState;return wt.getPixel=lt,wt.isFramebuffer=!0,wt.bufferWidth=K,wt.bufferHeight=tt,wt.width=Math.min(wt.width,K),wt.height=Math.min(wt.height,tt),this.setFramebuffer(G),A(this.gl,wt),this.setFramebuffer(gt),wt.callback=null,wt.isFramebuffer=!1,this},canvasToTexture:function(G,K,tt,at){void 0===tt&&(tt=!1),void 0===at&&(at=!1);var lt=this.gl,J=lt.NEAREST,it=lt.NEAREST,Y=G.width,j=G.height,nt=lt.CLAMP_TO_EDGE,ht=m(Y,j);return!tt&&ht&&(nt=lt.REPEAT),this.config.antialias&&(J=ht&&this.mipmapFilter?this.mipmapFilter:lt.LINEAR,it=lt.LINEAR),K?(K.update(G,Y,j,at,nt,nt,J,it,K.format),K):this.createTexture2D(0,J,it,nt,nt,lt.RGBA,G,Y,j,!0,!1,at)},createCanvasTexture:function(G,K,tt){return void 0===K&&(K=!1),void 0===tt&&(tt=!1),this.canvasToTexture(G,null,K,tt)},updateCanvasTexture:function(G,K,tt,at){return void 0===tt&&(tt=!1),void 0===at&&(at=!1),this.canvasToTexture(G,K,at,tt)},videoToTexture:function(G,K,tt,at){void 0===tt&&(tt=!1),void 0===at&&(at=!1);var lt=this.gl,J=lt.NEAREST,it=lt.NEAREST,Y=G.videoWidth,j=G.videoHeight,nt=lt.CLAMP_TO_EDGE,ht=m(Y,j);return!tt&&ht&&(nt=lt.REPEAT),this.config.antialias&&(J=ht&&this.mipmapFilter?this.mipmapFilter:lt.LINEAR,it=lt.LINEAR),K?(K.update(G,Y,j,at,nt,nt,J,it,K.format),K):this.createTexture2D(0,J,it,nt,nt,lt.RGBA,G,Y,j,!0,!0,at)},createVideoTexture:function(G,K,tt){return void 0===K&&(K=!1),void 0===tt&&(tt=!1),this.videoToTexture(G,null,K,tt)},updateVideoTexture:function(G,K,tt,at){return void 0===tt&&(tt=!1),void 0===at&&(at=!1),this.videoToTexture(G,K,at,tt)},createUint8ArrayTexture:function(G,K,tt){var at=this.gl,lt=at.NEAREST,J=at.NEAREST,it=at.CLAMP_TO_EDGE;return m(K,tt)&&(it=at.REPEAT),this.createTexture2D(0,lt,J,it,it,at.RGBA,G,K,tt)},setTextureFilter:function(G,K){var tt=this.gl,at=0===K?tt.LINEAR:tt.NEAREST;tt.activeTexture(tt.TEXTURE0);var lt=tt.getParameter(tt.TEXTURE_BINDING_2D);return tt.bindTexture(tt.TEXTURE_2D,G.webGLTexture),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MIN_FILTER,at),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MAG_FILTER,at),G.minFilter=at,G.magFilter=at,lt&&tt.bindTexture(tt.TEXTURE_2D,lt),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var G=function(K){K.destroy()};w(this.glAttribLocationWrappers,G),w(this.glBufferWrappers,G),w(this.glFramebufferWrappers,G),w(this.glProgramWrappers,G),w(this.glTextureWrappers,G),w(this.glUniformLocationWrappers,G),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});S.exports=Q},38683:(S,P,a)=>{var w=a(83419),T=a(95428),g=a(95540),f=a(14500),h=new w({initialize:function(u,m,d,p,v){this.pipeline=u,this.name=m,this.renderer=u.renderer,this.gl=this.renderer.gl,this.fragSrc=p,this.vertSrc=d,this.program=this.renderer.createProgram(d,p),this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(v),this.createUniforms()},createAttributes:function(c){var u=0,m=0,d=[];this.vertexComponentCount=0;for(var p=0;p<c.length;p++){var v=c[p],x=v.name,y=g(v,"size",1),_=g(v,"type",f.FLOAT),A=_.size;d.push({name:x,size:y,type:_.enum,normalized:!!v.normalized,offset:m,enabled:!1,location:-1}),4===A?u+=y:u++,m+=y*A}this.vertexSize=m,this.vertexComponentCount=u,this.attributes=d},bind:function(c,u){return void 0===c&&(c=!1),void 0===u&&(u=!1),u&&this.pipeline.flush(),this.renderer.setProgram(this.program),c&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(c){void 0===c&&(c=!1);for(var u=this.gl,m=this.renderer,d=this.vertexSize,p=this.attributes,v=this.program,x=0;x<p.length;x++){var y=p[x],_=y.size,E=y.type,A=y.offset,M=y.enabled,I=y.location,k=!!y.normalized;if(c){-1!==I&&m.deleteAttribLocation(I);var F=this.renderer.createAttribLocation(v,y.name);F.webGLAttribLocation>=0?(u.enableVertexAttribArray(F.webGLAttribLocation),u.vertexAttribPointer(F.webGLAttribLocation,_,E,k,d,A),y.enabled=!0,y.location=F):-1!==F.webGLAttribLocation&&u.disableVertexAttribArray(F.webGLAttribLocation)}else M?u.vertexAttribPointer(I.webGLAttribLocation,_,E,k,d,A):!M&&-1!==I&&I.webGLAttribLocation>-1&&(u.disableVertexAttribArray(I.webGLAttribLocation),y.location=-1)}return this},createUniforms:function(){var d,p,v,c=this.gl,u=this.program,m=this.uniforms,x=c.getProgramParameter(u.webGLProgram,c.ACTIVE_UNIFORMS);for(d=0;d<x;d++){var y=c.getActiveUniform(u.webGLProgram,d);if(y){null!==(v=this.renderer.createUniformLocation(u,p=y.name))&&(m[p]={name:p,location:v,setter:null,value1:null,value2:null,value3:null,value4:null});var _=p.indexOf("[");_>0&&(p=p.substr(0,_),m.hasOwnProperty(p)||null!==(v=this.renderer.createUniformLocation(u,p))&&(m[p]={name:p,location:v,setter:null,value1:null,value2:null,value3:null,value4:null}))}}return this},syncUniforms:function(){var c=this.gl;for(var u in this.renderer.setProgram(this.program),this.uniforms){var m=this.uniforms[u];m.setter&&m.setter.call(c,m.location.webGLUniformLocation,m.value1,m.value2,m.value3,m.value4)}},hasUniform:function(c){return this.uniforms.hasOwnProperty(c)},resetUniform:function(c){var u=this.uniforms[c];return u&&(u.value1=null,u.value2=null,u.value3=null,u.value4=null),this},setUniform1:function(c,u,m,d){var p=this.uniforms[u];return p?((d||p.value1!==m)&&(p.setter||(p.setter=c),p.value1=m,this.renderer.setProgram(this.program),c.call(this.gl,p.location.webGLUniformLocation,m),this.pipeline.currentShader=this),this):this},setUniform2:function(c,u,m,d,p){var v=this.uniforms[u];return v?((p||v.value1!==m||v.value2!==d)&&(v.setter||(v.setter=c),v.value1=m,v.value2=d,this.renderer.setProgram(this.program),c.call(this.gl,v.location.webGLUniformLocation,m,d),this.pipeline.currentShader=this),this):this},setUniform3:function(c,u,m,d,p,v){var x=this.uniforms[u];return x?((v||x.value1!==m||x.value2!==d||x.value3!==p)&&(x.setter||(x.setter=c),x.value1=m,x.value2=d,x.value3=p,this.renderer.setProgram(this.program),c.call(this.gl,x.location.webGLUniformLocation,m,d,p),this.pipeline.currentShader=this),this):this},setUniform4:function(c,u,m,d,p,v,x){var y=this.uniforms[u];return y?((x||y.value1!==m||y.value2!==d||y.value3!==p||y.value4!==v)&&(y.setter||(y.setter=c),y.value1=m,y.value2=d,y.value3=p,y.value4=v,this.renderer.setProgram(this.program),c.call(this.gl,y.location.webGLUniformLocation,m,d,p,v),this.pipeline.currentShader=this),this):this},setBoolean:function(c,u){return this.setUniform1(this.gl.uniform1i,c,Number(u))},set1f:function(c,u){return this.setUniform1(this.gl.uniform1f,c,u)},set2f:function(c,u,m){return this.setUniform2(this.gl.uniform2f,c,u,m)},set3f:function(c,u,m,d){return this.setUniform3(this.gl.uniform3f,c,u,m,d)},set4f:function(c,u,m,d,p){return this.setUniform4(this.gl.uniform4f,c,u,m,d,p)},set1fv:function(c,u){return this.setUniform1(this.gl.uniform1fv,c,u,!0)},set2fv:function(c,u){return this.setUniform1(this.gl.uniform2fv,c,u,!0)},set3fv:function(c,u){return this.setUniform1(this.gl.uniform3fv,c,u,!0)},set4fv:function(c,u){return this.setUniform1(this.gl.uniform4fv,c,u,!0)},set1iv:function(c,u){return this.setUniform1(this.gl.uniform1iv,c,u,!0)},set2iv:function(c,u){return this.setUniform1(this.gl.uniform2iv,c,u,!0)},set3iv:function(c,u){return this.setUniform1(this.gl.uniform3iv,c,u,!0)},set4iv:function(c,u){return this.setUniform1(this.gl.uniform4iv,c,u,!0)},set1i:function(c,u){return this.setUniform1(this.gl.uniform1i,c,u)},set2i:function(c,u,m){return this.setUniform2(this.gl.uniform2i,c,u,m)},set3i:function(c,u,m,d){return this.setUniform3(this.gl.uniform3i,c,u,m,d)},set4i:function(c,u,m,d,p){return this.setUniform4(this.gl.uniform4i,c,u,m,d,p)},setMatrix2fv:function(c,u,m){return this.setUniform2(this.gl.uniformMatrix2fv,c,u,m,!0)},setMatrix3fv:function(c,u,m){return this.setUniform2(this.gl.uniformMatrix3fv,c,u,m,!0)},setMatrix4fv:function(c,u,m){return this.setUniform2(this.gl.uniformMatrix4fv,c,u,m,!0)},createProgram:function(c,u){return void 0===c&&(c=this.vertSrc),void 0===u&&(u=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=c,this.fragSrc=u,this.program=this.renderer.createProgram(c,u),this.createUniforms(),this.rebind()},destroy:function(){var c=this.renderer;T(this.uniforms,function(u){c.deleteUniformLocation(u.location)}),this.uniforms=null,T(this.attributes,function(u){c.deleteAttribLocation(u.location)}),this.attributes=null,c.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});S.exports=h},14500:S=>{S.exports={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}}},4159:(S,P,a)=>{var w=a(14500),T=a(79291),g={PipelineManager:a(7530),Pipelines:a(96615),RenderTarget:a(32302),Utils:a(70554),WebGLPipeline:a(29100),WebGLRenderer:a(74797),WebGLShader:a(38683),Wrappers:a(9503)};g=T(!1,g,w),S.exports=g},31302:(S,P,a)=>{var w=a(83419),T=a(95540),g=a(78908),f=a(85191),h=a(14500),c=a(29100),u=new w({Extends:c,initialize:function(d){d.fragShader=T(d,"fragShader",g),d.vertShader=T(d,"vertShader",f),d.batchSize=T(d,"batchSize",1),d.vertices=T(d,"vertices",[-1,1,-1,-7,7,1]),d.attributes=T(d,"attributes",[{name:"inPosition",size:2,type:h.FLOAT}]),c.call(this,d)},boot:function(){c.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(m,d){c.prototype.resize.call(this,m,d),this.set2f("uResolution",m,d)},beginMask:function(m,d,p){this.renderer.beginBitmapMask(m,p)},endMask:function(m,d,p){var v=this.gl,y=m.bitmapMask;y&&v&&(this.renderer.drawBitmapMask(y,d,this),p&&this.set2f("uResolution",p.width,p.height),this.set1i("uInvertMaskAlpha",m.invertAlpha),v.drawArrays(this.topology,0,3),p&&this.set2f("uResolution",this.width,this.height),v.bindTexture(v.TEXTURE_2D,null))}});S.exports=u},92651:(S,P,a)=>{var w=a(83419),T=a(58918),g=a(14811),f=a(95540),h=a(43558),c=a(89350),u=a(70554),m=new w({Extends:h,initialize:function(p){p.shaders=[u.setGlowQuality(c.FXGlowFrag,p.game),c.FXShadowFrag,c.FXPixelateFrag,c.FXVignetteFrag,c.FXShineFrag,c.FXBlurLowFrag,c.FXBlurMedFrag,c.FXBlurHighFrag,c.FXGradientFrag,c.FXBloomFrag,c.ColorMatrixFrag,c.FXCircleFrag,c.FXBarrelFrag,c.FXDisplacementFrag,c.FXWipeFrag,c.FXBokehFrag],h.call(this,p);var v=this.game;this.glow=new T.Glow(v),this.shadow=new T.Shadow(v),this.pixelate=new T.Pixelate(v),this.vignette=new T.Vignette(v),this.shine=new T.Shine(v),this.gradient=new T.Gradient(v),this.circle=new T.Circle(v),this.barrel=new T.Barrel(v),this.wipe=new T.Wipe(v),this.bokeh=new T.Bokeh(v);var x=[];x[g.GLOW]=this.onGlow,x[g.SHADOW]=this.onShadow,x[g.PIXELATE]=this.onPixelate,x[g.VIGNETTE]=this.onVignette,x[g.SHINE]=this.onShine,x[g.BLUR]=this.onBlur,x[g.GRADIENT]=this.onGradient,x[g.BLOOM]=this.onBloom,x[g.COLOR_MATRIX]=this.onColorMatrix,x[g.CIRCLE]=this.onCircle,x[g.BARREL]=this.onBarrel,x[g.DISPLACEMENT]=this.onDisplacement,x[g.WIPE]=this.onWipe,x[g.BOKEH]=this.onBokeh,this.fxHandlers=x},onDraw:function(d,p,v){this.source=d,this.target=p,this.swap=v;var x=d.width,y=d.height,_=this.tempSprite,E=this.fxHandlers;if(_&&_.preFX)for(var A=_.preFX.list,M=0;M<A.length;M++){var I=A[M];I.active&&E[I.type].call(this,I,x,y)}this.drawToGame(this.source)},runDraw:function(){var d=this.source,p=this.target;this.copy(d,p),this.source=p,this.target=d},onGlow:function(d,p,v){var x=this.shaders[g.GLOW];this.setShader(x),this.glow.onPreRender(d,x,p,v),this.runDraw()},onShadow:function(d){var p=this.shaders[g.SHADOW];this.setShader(p),this.shadow.onPreRender(d,p),this.runDraw()},onPixelate:function(d,p,v){var x=this.shaders[g.PIXELATE];this.setShader(x),this.pixelate.onPreRender(d,x,p,v),this.runDraw()},onVignette:function(d){var p=this.shaders[g.VIGNETTE];this.setShader(p),this.vignette.onPreRender(d,p),this.runDraw()},onShine:function(d,p,v){var x=this.shaders[g.SHINE];this.setShader(x),this.shine.onPreRender(d,x,p,v),this.runDraw()},onBlur:function(d,p,v){var x=f(d,"quality");this.setShader(this.shaders[g.BLUR+x]),this.set1i("uMainSampler",0),this.set2f("resolution",p,v),this.set1f("strength",f(d,"strength")),this.set3fv("color",f(d,"glcolor"));for(var _=f(d,"x"),E=f(d,"y"),A=f(d,"steps"),M=0;M<A;M++)this.set2f("offset",_,0),this.runDraw(),this.set2f("offset",0,E),this.runDraw()},onGradient:function(d){var p=this.shaders[g.GRADIENT];this.setShader(p),this.gradient.onPreRender(d,p),this.runDraw()},onBloom:function(d,p,v){var x=this.shaders[g.BLOOM];this.copySprite(this.source,this.swap),this.setShader(x),this.set1i("uMainSampler",0),this.set1f("strength",f(d,"blurStrength")),this.set3fv("color",f(d,"glcolor"));for(var y=2/p*f(d,"offsetX"),_=2/v*f(d,"offsetY"),E=f(d,"steps"),A=0;A<E;A++)this.set2f("offset",y,0),this.runDraw(),this.set2f("offset",0,_),this.runDraw();this.blendFrames(this.swap,this.source,this.target,f(d,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(d){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",d.getData()),this.set1f("uAlpha",d.alpha),this.runDraw()},onCircle:function(d,p,v){var x=this.shaders[g.CIRCLE];this.setShader(x),this.circle.onPreRender(d,x,p,v),this.runDraw()},onBarrel:function(d){var p=this.shaders[g.BARREL];this.setShader(p),this.barrel.onPreRender(d,p),this.runDraw()},onDisplacement:function(d){this.setShader(this.shaders[g.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",d.x,d.y),this.bindTexture(d.glTexture,1),this.runDraw()},onWipe:function(d){var p=this.shaders[g.WIPE];this.setShader(p),this.wipe.onPreRender(d,p),this.runDraw()},onBokeh:function(d,p,v){var x=this.shaders[g.BOKEH];this.setShader(x),this.bokeh.onPreRender(d,x,p,v),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,h.prototype.destroy.call(this),this}});S.exports=m},96569:(S,P,a)=>{var w=a(83419),T=a(95540),g=a(31063),f=a(57516),h=a(61340),c=a(26099),u=a(29100),m=new w({Extends:f,initialize:function(p){var v=T(p,"fragShader",g);p.fragShader=v.replace("%LIGHT_COUNT%",p.game.renderer.config.maxLights),f.call(this,p),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.lightsActive=!0,this.tempVec2=new c,this._tempMatrix=new h,this._tempMatrix2=new h},boot:function(){u.prototype.boot.call(this)},onRender:function(d,p){var v=d.sys.lights;if(this.lightsActive=!1,v&&v.active){var x=v.getLights(p),y=x.length;this.lightsActive=!0;var _,A=this.renderer.height,M=p.matrix,I=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",p.x,p.y,p.rotation,p.zoom),this.set3f("uAmbientLightColor",v.ambientColor.r,v.ambientColor.g,v.ambientColor.b),this.set1i("uLightCount",y),_=0;_<y;_++){var k=x[_].light,F=k.color,N="uLights["+_+"].";M.transformPoint(k.x,k.y,I),this.set2f(N+"position",I.x-p.scrollX*k.scrollFactorX*p.zoom,A-(I.y-p.scrollY*k.scrollFactorY*p.zoom)),this.set3f(N+"color",F.r,F.g,F.b),this.set1f(N+"intensity",k.intensity),this.set1f(N+"radius",k.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(d){if(d!==this.currentNormalMapRotation||0===this.vertexCount){this.vertexCount>0&&this.flush();var p=this.inverseRotationMatrix;if(d){var v=-d,x=Math.cos(v),y=Math.sin(v);p[1]=y,p[3]=-y,p[0]=p[4]=x}else p[0]=p[4]=1,p[1]=p[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,p),this.currentNormalMapRotation=d}},setTexture2D:function(d,p){void 0===d&&(d=this.renderer.whiteTexture);var x=this.getNormalMap(p);this.isNewNormalMap(d,x)&&(this.flush(),this.createBatch(d),this.addTextureToBatch(x),this.currentNormalMap=x);var y=0;return p&&p.parentContainer?y=p.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2).rotationNormalized:p&&(y=p.rotation),null===this.currentBatch&&(this.createBatch(d),this.addTextureToBatch(x)),this.setNormalMapRotation(y),0},setGameObject:function(d,p){void 0===p&&(p=d.frame);var v=p.glTexture,x=this.getNormalMap(d);if(this.isNewNormalMap(v,x)&&(this.flush(),this.createBatch(v),this.addTextureToBatch(x),this.currentNormalMap=x),d.parentContainer){var y=d.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(y.rotationNormalized)}else this.setNormalMapRotation(d.rotation);return null===this.currentBatch&&(this.createBatch(v),this.addTextureToBatch(x)),0},isNewNormalMap:function(d,p){return this.currentTexture!==d||this.currentNormalMap!==p},getNormalMap:function(d){var p;return d?(d.displayTexture?p=d.displayTexture.dataSource[d.displayFrame.sourceIndex]:d.texture?p=d.texture.dataSource[d.frame.sourceIndex]:d.tileset&&(p=Array.isArray(d.tileset)?d.tileset[0].image.dataSource[0]:d.tileset.image.dataSource[0]),p?p.glTexture:this.renderer.normalTexture):this.renderer.normalTexture},batchSprite:function(d,p,v){this.lightsActive&&f.prototype.batchSprite.call(this,d,p,v)},batchTexture:function(d,p,v,x,y,_,E,A,M,I,k,F,N,V,B,H,Q,G,K,tt,at,lt,J,it,Y,j,nt,ht,gt,wt,St,Bt){this.lightsActive&&f.prototype.batchTexture.call(this,d,p,v,x,y,_,E,A,M,I,k,F,N,V,B,H,Q,G,K,tt,at,lt,J,it,Y,j,nt,ht,gt,wt,St,Bt)},batchTextureFrame:function(d,p,v,x,y,_,E){this.lightsActive&&f.prototype.batchTextureFrame.call(this,d,p,v,x,y,_,E)}});S.exports=m},56527:(S,P,a)=>{var w=a(83419),T=a(95540),g=a(57516),f=a(45561),h=a(60722),c=a(14500),u=a(29100),m=new w({Extends:g,initialize:function(p){p.fragShader=T(p,"fragShader",f),p.vertShader=T(p,"vertShader",h),p.attributes=T(p,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:c.UNSIGNED_BYTE,normalized:!0}]),p.forceZero=!0,p.resizeUniform="uResolution",g.call(this,p)},boot:function(){u.prototype.boot.call(this);var d=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",d.width,d.height)}});S.exports=m},57516:(S,P,a)=>{var w=a(83419),T=a(94811),g=a(95540),f=a(98840),h=a(44667),c=a(61340),u=a(70554),m=a(14500),d=a(29100),p=new w({Extends:d,initialize:function(x){var y=x.game.renderer,_=g(x,"fragShader",f);x.fragShader=u.parseFragmentShaderMaxTextures(_,y.maxTextures),x.vertShader=g(x,"vertShader",h),x.attributes=g(x,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:m.UNSIGNED_BYTE,normalized:!0}]),x.resizeUniform="uResolution",d.call(this,x),this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.calcMatrix=new c,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){d.prototype.boot.call(this);var v=this.renderer;this.set1iv("uMainSampler",v.textureIndexes),this.set2f("uResolution",v.width,v.height)},batchSprite:function(v,x,y){this.manager.set(this,v);var _=this._tempMatrix1,E=this._tempMatrix2,A=this._tempMatrix3,M=v.frame,I=M.glTexture,k=M.u0,F=M.v0,N=M.u1,V=M.v1,B=M.x,H=M.y,Q=M.cutWidth,G=M.cutHeight,K=M.customPivot,tt=v.displayOriginX,at=v.displayOriginY,lt=-tt+B,J=-at+H;if(v.isCropped){var it=v._crop;(it.flipX!==v.flipX||it.flipY!==v.flipY)&&M.updateCropUVs(it,v.flipX,v.flipY),k=it.u0,F=it.v0,N=it.u1,V=it.v1,Q=it.width,G=it.height,lt=-tt+(B=it.x),J=-at+(H=it.y)}var Y=1,j=1;v.flipX&&(K||(lt+=2*tt-M.realWidth),Y=-1),v.flipY&&(K||(J+=2*at-M.realHeight),j=-1);var nt=v.x,ht=v.y;x.roundPixels&&(nt=Math.floor(nt),ht=Math.floor(ht)),E.applyITRS(nt,ht,v.rotation,v.scaleX*Y,v.scaleY*j),_.copyFrom(x.matrix),y?(_.multiplyWithOffset(y,-x.scrollX*v.scrollFactorX,-x.scrollY*v.scrollFactorY),E.e=nt,E.f=ht):(E.e-=x.scrollX*v.scrollFactorX,E.f-=x.scrollY*v.scrollFactorY),_.multiply(E,A);var gt=A.setQuad(lt,J,lt+Q,J+G,x.renderRoundPixels),wt=u.getTintAppendFloatAlpha,St=x.alpha,Bt=wt(v.tintTopLeft,St*v._alphaTL),Yt=wt(v.tintTopRight,St*v._alphaTR),$t=wt(v.tintBottomLeft,St*v._alphaBL),qt=wt(v.tintBottomRight,St*v._alphaBR);this.shouldFlush(6)&&this.flush();var ne=this.setGameObject(v,M);this.manager.preBatch(v),this.batchQuad(v,gt[0],gt[1],gt[2],gt[3],gt[4],gt[5],gt[6],gt[7],k,F,N,V,Bt,Yt,$t,qt,v.tintFill,I,ne),this.manager.postBatch(v)},batchTexture:function(v,x,y,_,E,A,M,I,k,F,N,V,B,H,Q,G,K,tt,at,lt,J,it,Y,j,nt,ht,gt,wt,St,Bt,Yt,$t,qt){void 0===qt&&(qt=!1),this.manager.set(this,v);var ne=this._tempMatrix1,le=this._tempMatrix2,Me=this._tempMatrix3,pi=tt/y+gt,Ie=at/_+wt,_i=(tt+lt)/y+gt,we=(at+J)/_+wt,ri=M,Ze=I,zi=-G,Cn=-K;if(v.isCropped){var sr=v._crop,vn=sr.width,bn=sr.height;ri=vn,Ze=bn,M=vn,I=bn;var Fr=tt=sr.x,cs=at=sr.y;V&&(Fr=lt-sr.x-vn),B&&(cs=J-sr.y-bn),pi=Fr/y+gt,Ie=cs/_+wt,_i=(Fr+vn)/y+gt,we=(cs+bn)/_+wt,zi=-G+tt,Cn=-K+at}V&&(ri*=-1,zi+=M),(B^=!Yt&&x.isRenderTexture?1:0)&&(Ze*=-1,Cn+=I),St.roundPixels&&(E=Math.floor(E),A=Math.floor(A)),le.applyITRS(E,A,N,k,F),ne.copyFrom(St.matrix),Bt?(ne.multiplyWithOffset(Bt,-St.scrollX*H,-St.scrollY*Q),le.e=E,le.f=A):(le.e-=St.scrollX*H,le.f-=St.scrollY*Q),ne.multiply(le,Me);var Dn=Me.setQuad(zi,Cn,zi+ri,Cn+Ze,St.renderRoundPixels);null==$t&&($t=this.setTexture2D(x)),v&&!qt&&this.manager.preBatch(v),this.batchQuad(v,Dn[0],Dn[1],Dn[2],Dn[3],Dn[4],Dn[5],Dn[6],Dn[7],pi,Ie,_i,we,it,Y,j,nt,ht,x,$t),v&&!qt&&this.manager.postBatch(v)},batchTextureFrame:function(v,x,y,_,E,A,M){this.manager.set(this);var I=this._tempMatrix1.copyFrom(A),k=this._tempMatrix2;M?I.multiply(M,k):k=I;var F=k.setQuad(x,y,x+v.width,y+v.height),N=this.setTexture2D(v.source.glTexture);_=u.getTintAppendFloatAlpha(_,E),this.batchQuad(null,F[0],F[1],F[2],F[3],F[4],F[5],F[6],F[7],v.u0,v.v0,v.u1,v.v1,_,_,_,_,0,v.glTexture,N)},batchFillRect:function(v,x,y,_,E,A){this.renderer.pipelines.set(this);var M=this.calcMatrix;A&&A.multiply(E,M);var I=M.setQuad(v,x,v+y,x+_),k=this.fillTint;this.batchQuad(null,I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],0,0,1,1,k.TL,k.TR,k.BL,k.BR,2)},batchFillTriangle:function(v,x,y,_,E,A,M,I){this.renderer.pipelines.set(this);var k=this.calcMatrix;I&&I.multiply(M,k);var F=k.getX(v,x),N=k.getY(v,x),V=k.getX(y,_),B=k.getY(y,_),H=k.getX(E,A),Q=k.getY(E,A),G=this.fillTint;this.batchTri(null,F,N,V,B,H,Q,0,0,1,1,G.TL,G.TR,G.BL,2)},batchStrokeTriangle:function(v,x,y,_,E,A,M,I,k){var F=this.tempTriangle;F[0].x=v,F[0].y=x,F[0].width=M,F[1].x=y,F[1].y=_,F[1].width=M,F[2].x=E,F[2].y=A,F[2].width=M,F[3].x=v,F[3].y=x,F[3].width=M,this.batchStrokePath(F,M,!1,I,k)},batchFillPath:function(v,x,y){this.renderer.pipelines.set(this);var _=this.calcMatrix;y&&y.multiply(x,_);for(var M,I,E=v.length,A=this.polygonCache,k=this.fillTint.TL,F=this.fillTint.TR,N=this.fillTint.BL,V=0;V<E;++V)A.push((I=v[V]).x,I.y);E=(M=T(A)).length;for(var B=0;B<E;B+=3){var H=2*M[B+0],Q=2*M[B+1],G=2*M[B+2],K=A[H+0],tt=A[H+1],at=A[Q+0],lt=A[Q+1],J=A[G+0],it=A[G+1],Y=_.getX(K,tt),j=_.getY(K,tt),nt=_.getX(at,lt),ht=_.getY(at,lt),gt=_.getX(J,it),wt=_.getY(J,it);this.batchTri(null,Y,j,nt,ht,gt,wt,0,0,1,1,k,F,N,2)}A.length=0},batchStrokePath:function(v,x,y,_,E){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var A=v.length-1,M=0;M<A;M++){var I=v[M],k=v[M+1];this.batchLine(I.x,I.y,k.x,k.y,I.width/2,k.width/2,x,M,!y&&M===A-1,_,E)}},batchLine:function(v,x,y,_,E,A,M,I,k,F,N){this.renderer.pipelines.set(this);var V=this.calcMatrix;N&&N.multiply(F,V);var B=y-v,H=_-x,Q=Math.sqrt(B*B+H*H);if(0!==Q){var G=E*(_-x)/Q,K=E*(v-y)/Q,tt=A*(_-x)/Q,at=A*(v-y)/Q,lt=y-tt,J=_-at,it=v-G,Y=x-K,j=y+tt,nt=_+at,ht=v+G,gt=x+K,wt=V.getX(lt,J),St=V.getY(lt,J),Bt=V.getX(it,Y),Yt=V.getY(it,Y),$t=V.getX(j,nt),qt=V.getY(j,nt),ne=V.getX(ht,gt),le=V.getY(ht,gt),Me=this.strokeTint,pi=Me.TL,Ie=Me.TR,_i=Me.BL,we=Me.BR;if(this.batchQuad(null,ne,le,Bt,Yt,wt,St,$t,qt,0,0,1,1,pi,Ie,_i,we,2),!(M<=2)){var ri=this.prevQuad,Ze=this.firstQuad;I>0&&ri[4]?this.batchQuad(null,ne,le,Bt,Yt,ri[0],ri[1],ri[2],ri[3],0,0,1,1,pi,Ie,_i,we,2):(Ze[0]=ne,Ze[1]=le,Ze[2]=Bt,Ze[3]=Yt,Ze[4]=1),k&&Ze[4]?this.batchQuad(null,wt,St,$t,qt,Ze[0],Ze[1],Ze[2],Ze[3],0,0,1,1,pi,Ie,_i,we,2):(ri[0]=wt,ri[1]=St,ri[2]=$t,ri[3]=qt,ri[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,d.prototype.destroy.call(this),this}});S.exports=p},43439:(S,P,a)=>{var w=a(83419),T=a(95540),g=a(4127),f=a(89924),h=a(29100),c=new w({Extends:h,initialize:function(m){m.vertShader=T(m,"vertShader",f),m.fragShader=T(m,"fragShader",g),m.attributes=T(m,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),h.call(this,m)},onRender:function(u,m){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",m.zoom)},batchPointLight:function(u,m,d,p,v,x,y,_,E,A,M,I){var k=u.color,F=u.intensity,N=u.radius,V=u.attenuation,B=k.r*F,H=k.g*F,Q=k.b*F,G=m.alpha*u.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(d,p,M,I,N,V,B,H,Q,G),this.batchLightVert(v,x,M,I,N,V,B,H,Q,G),this.batchLightVert(y,_,M,I,N,V,B,H,Q,G),this.batchLightVert(d,p,M,I,N,V,B,H,Q,G),this.batchLightVert(y,_,M,I,N,V,B,H,Q,G),this.batchLightVert(E,A,M,I,N,V,B,H,Q,G),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(u,m,d,p,v,x,y,_,E,A){var M=this.vertexViewF32,I=this.vertexCount*this.currentShader.vertexComponentCount-1;M[++I]=u,M[++I]=m,M[++I]=d,M[++I]=p,M[++I]=v,M[++I]=x,M[++I]=y,M[++I]=_,M[++I]=E,M[++I]=A,this.vertexCount++}});S.exports=c},84057:(S,P,a)=>{var w=a(83419),T=a(89422),g=a(95540),f=a(27681),h=a(49627),c=a(29100),u=new w({Extends:c,initialize:function(d){d.renderTarget=g(d,"renderTarget",1),d.fragShader=g(d,"fragShader",f),d.vertShader=g(d,"vertShader",h),d.attributes=g(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.batchSize=1,d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],c.call(this,d),this.isPostFX=!0,this.colorMatrix=new T,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){c.prototype.boot.call(this);var m=this.manager.UTILITY_PIPELINE;this.fullFrame1=m.fullFrame1,this.fullFrame2=m.fullFrame2,this.halfFrame1=m.halfFrame1,this.halfFrame2=m.halfFrame2;var d=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",d.width,d.height);for(var p=this.renderTargets,v=0;v<p.length;v++)p[v].autoResize=!0},postBatch:function(m){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(m),this},onDraw:function(m){this.bindAndDraw(m)},getController:function(m){return void 0!==m?m:this.controller?this.controller:this},copySprite:function(m,d,p){void 0===p&&(p=!1);var v=this.gl;v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,m.texture.webGLTexture);var x=v.getParameter(v.FRAMEBUFFER_BINDING);v.bindFramebuffer(v.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,d.texture.webGLTexture,0),v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),p&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,x))},copyFrame:function(m,d,p,v,x){this.manager.copyFrame(m,d,p,v,x)},copyToGame:function(m){this.manager.copyToGame(m)},drawFrame:function(m,d,p){this.manager.drawFrame(m,d,p,this.colorMatrix)},blendFrames:function(m,d,p,v,x){this.manager.blendFrames(m,d,p,v,x)},blendFramesAdditive:function(m,d,p,v,x){this.manager.blendFramesAdditive(m,d,p,v,x)},clearFrame:function(m,d){this.manager.clearFrame(m,d)},blitFrame:function(m,d,p,v,x,y){this.manager.blitFrame(m,d,p,v,x,y)},copyFrameRect:function(m,d,p,v,x,y,_,E){this.manager.copyFrameRect(m,d,p,v,x,y,_,E)},bindAndDraw:function(m,d,p,v,x){void 0===p&&(p=!0),void 0===v&&(v=!0);var y=this.gl,_=this.renderer;this.bind(x),this.set1i("uMainSampler",0),d?(y.viewport(0,0,d.width,d.height),y.bindFramebuffer(y.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,d.texture.webGLTexture,0),p&&(y.clearColor(0,0,0,v?0:1),y.clear(y.COLOR_BUFFER_BIT))):(_.popFramebuffer(!1,!1),_.currentFramebuffer||y.viewport(0,0,_.width,_.height)),_.restoreStencilMask(),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,m.texture.webGLTexture),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),d&&(y.bindTexture(y.TEXTURE_2D,null),y.bindFramebuffer(y.FRAMEBUFFER,_.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),c.prototype.destroy.call(this),this}});S.exports=u},43558:(S,P,a)=>{var w=a(10312),T=a(67502),g=a(83419),f=a(96293),h=a(95540),c=a(57516),u=a(27681),m=a(87841),d=a(32302),p=a(45561),v=a(60722),x=a(29100),y=new g({Extends:c,initialize:function(E){var A=h(E,"fragShader",u),M=h(E,"vertShader",v),I=h(E,"drawShader",u),k=[{name:"DrawSprite",fragShader:p,vertShader:v},{name:"CopySprite",fragShader:A,vertShader:M},{name:"DrawGame",fragShader:I,vertShader:v},{name:"ColorMatrix",fragShader:f}],F=h(E,"shaders",[]);E.shaders=k.concat(F),E.vertShader||(E.vertShader=M),E.batchSize=1,c.call(this,E),this.isPreFX=!0,this.customMainSampler=null,this.spriteBounds=new m,this.targetBounds=new m,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){x.prototype.boot.call(this);var _=this.shaders,E=this.renderer;this.drawSpriteShader=_[0],this.copyShader=_[1],this.gameShader=_[2],this.colorMatrixShader=_[3],this.fsTarget=new d(E,E.width,E.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var A=new ArrayBuffer(168);this.quadVertexData=A,this.quadVertexViewF32=new Float32Array(A),this.quadVertexBuffer=E.createVertexBuffer(A,this.gl.STATIC_DRAW),this.onResize(E.width,E.height),this.currentShader=this.copyShader,this.set2f("uResolution",E.width,E.height)},onResize:function(_,E){var A=this.quadVertexViewF32;A[1]=E,A[22]=E,A[14]=_,A[28]=_,A[35]=_,A[36]=E},batchQuad:function(_,E,A,M,I,k,F,N,V,B,H,Q,G,K,tt,at,lt,J,it){var Y=Math.min(E,M,k,N),j=Math.min(A,I,F,V),gt=Math.max(E,M,k,N)-Y,wt=Math.max(A,I,F,V)-j,St=this.spriteBounds.setTo(Y,j,gt,wt),Bt=_?_.preFX.padding:0,qt=Math.abs(Math.max(gt+2*Bt,wt+2*Bt)),ne=this.manager.getRenderTarget(qt),le=this.targetBounds.setTo(0,0,ne.width,ne.height);T(le,Math.round(St.centerX),Math.round(St.centerY)),this.tempSprite=_;var Me=this.gl,pi=this.renderer;pi.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",pi.width,pi.height),this.flipProjectionMatrix(!0),_&&(this.onDrawSprite(_,ne),_.preFX.onFX(this));var Ie=this.fsTarget;return this.flush(),Me.viewport(0,0,pi.width,pi.height),Me.bindFramebuffer(Me.FRAMEBUFFER,Ie.framebuffer.webGLFramebuffer),Me.framebufferTexture2D(Me.FRAMEBUFFER,Me.COLOR_ATTACHMENT0,Me.TEXTURE_2D,Ie.texture.webGLTexture,0),Me.clearColor(0,0,0,0),Me.clear(Me.COLOR_BUFFER_BIT),this.setTexture2D(it),this.batchVert(E,A,B,H,0,J,K),this.batchVert(M,I,B,G,0,J,at),this.batchVert(k,F,Q,G,0,J,lt),this.batchVert(E,A,B,H,0,J,K),this.batchVert(k,F,Q,G,0,J,lt),this.batchVert(N,V,Q,H,0,J,tt),this.flush(),this.flipProjectionMatrix(!1),Me.activeTexture(Me.TEXTURE0),Me.bindTexture(Me.TEXTURE_2D,ne.texture.webGLTexture),Me.copyTexSubImage2D(Me.TEXTURE_2D,0,0,0,le.x,le.y,le.width,le.height),Me.bindFramebuffer(Me.FRAMEBUFFER,null),Me.bindTexture(Me.TEXTURE_2D,null),this.onBatch(_),this.currentShader=this.copyShader,this.onDraw(ne,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(_,E,A,M,I,k,F){void 0===A&&(A=!0),void 0===M&&(M=!0),void 0===I&&(I=!1),void 0===F&&(F=this.copyShader);var N=this.gl,V=this.tempSprite;k&&(F=this.colorMatrixShader),this.currentShader=F;var B=this.setVertexBuffer(this.quadVertexBuffer);F.bind(B,!1);var H=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",H.width,H.height),V.preFX.onFXCopy(this),this.onCopySprite(_,E,V),k&&(this.set1fv("uColorMatrix",k.getData()),this.set1f("uAlpha",k.alpha)),N.activeTexture(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,_.texture.webGLTexture),_.height>E.height?(N.viewport(0,0,_.width,_.height),this.setTargetUVs(_,E)):(N.viewport(0,E.height-_.height,_.width,_.height),this.resetUVs()),N.bindFramebuffer(N.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),N.framebufferTexture2D(N.FRAMEBUFFER,N.COLOR_ATTACHMENT0,N.TEXTURE_2D,E.texture.webGLTexture,0),A&&(N.clearColor(0,0,0,+!M),N.clear(N.COLOR_BUFFER_BIT)),I){var G=this.renderer.currentBlendMode;this.renderer.setBlendMode(w.ERASE)}N.bufferData(N.ARRAY_BUFFER,this.quadVertexData,N.STATIC_DRAW),N.drawArrays(N.TRIANGLES,0,6),I&&this.renderer.setBlendMode(G),N.bindFramebuffer(N.FRAMEBUFFER,null)},copy:function(_,E){var A=this.gl;this.set1i("uMainSampler",0),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,_.texture.webGLTexture),A.viewport(0,0,_.width,_.height),this.setUVs(0,0,0,1,1,1,1,0),A.bindFramebuffer(A.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,E.texture.webGLTexture,0),A.clearColor(0,0,0,0),A.clear(A.COLOR_BUFFER_BIT),A.bufferData(A.ARRAY_BUFFER,this.quadVertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null)},blendFrames:function(_,E,A,M,I){this.manager.blendFrames(_,E,A,M,I)},blendFramesAdditive:function(_,E,A,M,I){this.manager.blendFramesAdditive(_,E,A,M,I)},drawToGame:function(_){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(_)},copyToGame:function(_){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(_)},bindAndDraw:function(_){var E=this.gl,A=this.renderer;this.set1i("uMainSampler",0),this.setTexture2D(this.customMainSampler?this.customMainSampler:_.texture);var M=this._tempMatrix1.loadIdentity(),I=this.targetBounds.x,k=this.targetBounds.y,F=I+_.width,N=k+_.height,V=M.getX(I,k),B=M.getX(I,N),H=M.getX(F,N),Q=M.getX(F,k),G=M.getY(I,k),K=M.getY(I,N),tt=M.getY(F,N),at=M.getY(F,k),lt=16777215;this.batchVert(V,G,0,0,0,0,lt),this.batchVert(B,K,0,1,0,0,lt),this.batchVert(H,tt,1,1,0,0,lt),this.batchVert(V,G,0,0,0,0,lt),this.batchVert(H,tt,1,1,0,0,lt),this.batchVert(Q,at,1,0,0,0,lt),A.restoreFramebuffer(!1,!0),A.currentFramebuffer||E.viewport(0,0,A.width,A.height),A.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(_){this.drawToGame(_)},setUVs:function(_,E,A,M,I,k,F,N){var V=this.quadVertexViewF32;V[2]=_,V[3]=E,V[9]=A,V[10]=M,V[16]=I,V[17]=k,V[23]=_,V[24]=E,V[30]=I,V[31]=k,V[37]=F,V[38]=N},setTargetUVs:function(_,E){var A=E.height/_.height;this.setUVs(0,A=A>.5?.5-(A-.5):.5-A+.5,0,1+A,1,1+A,1,A)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,c.prototype.destroy.call(this),this}});S.exports=y},81041:(S,P,a)=>{var w=a(83419),T=a(95540),g=a(57516),f=new w({Extends:g,initialize:function(c){c.topology=5,c.batchSize=T(c,"batchSize",256),g.call(this,c)}});S.exports=f},12385:(S,P,a)=>{var w=a(83419),T=a(95540),g=a(57516),f=a(45561),h=a(60722),c=a(29100),u=new w({Extends:g,initialize:function(d){d.fragShader=T(d,"fragShader",f),d.vertShader=T(d,"vertShader",h),d.forceZero=!0,g.call(this,d)},boot:function(){c.prototype.boot.call(this);var m=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",m.width,m.height)}});S.exports=u},7589:(S,P,a)=>{var w=a(35407),T=a(10312),g=a(83419),f=a(89422),h=a(96293),c=a(36682),u=a(95540),m=a(48247),d=a(49627),p=a(29100),v=new g({Extends:p,initialize:function(y){y.renderTarget=u(y,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),y.vertShader=u(y,"vertShader",d),y.shaders=u(y,"shaders",[{name:"Copy",fragShader:c},{name:"AddBlend",fragShader:w},{name:"LinearBlend",fragShader:m},{name:"ColorMatrix",fragShader:h}]),y.attributes=u(y,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),y.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],y.batchSize=1,p.call(this,y),this.colorMatrix=new f},boot:function(){p.prototype.boot.call(this);var x=this.shaders,y=this.renderTargets;this.copyShader=x[0],this.addShader=x[1],this.linearShader=x[2],this.colorMatrixShader=x[3],this.fullFrame1=y[0],this.fullFrame2=y[1],this.halfFrame1=y[2],this.halfFrame2=y[3]},copyFrame:function(x,y,_,E,A){void 0===_&&(_=1),void 0===E&&(E=!0),void 0===A&&(A=!0);var M=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",_),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,x.texture.webGLTexture),y?(M.viewport(0,0,y.width,y.height),M.bindFramebuffer(M.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,y.texture.webGLTexture,0)):M.viewport(0,0,x.width,x.height),E&&(M.clearColor(0,0,0,A?0:1),M.clear(M.COLOR_BUFFER_BIT)),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},blitFrame:function(x,y,_,E,A,M,I){void 0===_&&(_=1),void 0===E&&(E=!0),void 0===A&&(A=!0),void 0===M&&(M=!1),void 0===I&&(I=!1);var k=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",_),k.activeTexture(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,x.texture.webGLTexture),x.height>y.height?(k.viewport(0,0,x.width,x.height),this.setTargetUVs(x,y)):k.viewport(0,y.height-x.height,x.width,x.height),k.bindFramebuffer(k.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,y.texture.webGLTexture,0),E&&(k.clearColor(0,0,0,A?0:1),k.clear(k.COLOR_BUFFER_BIT)),M){var N=this.renderer.currentBlendMode;this.renderer.setBlendMode(T.ERASE)}I&&this.flipY(),k.bufferData(k.ARRAY_BUFFER,this.vertexData,k.STATIC_DRAW),k.drawArrays(k.TRIANGLES,0,6),M&&this.renderer.setBlendMode(N),k.bindFramebuffer(k.FRAMEBUFFER,null),k.bindTexture(k.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(x,y,_,E,A,M,I,k){void 0===I&&(I=!0),void 0===k&&(k=!0);var F=this.gl;F.bindFramebuffer(F.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,x.texture.webGLTexture,0),I&&(F.clearColor(0,0,0,k?0:1),F.clear(F.COLOR_BUFFER_BIT)),F.activeTexture(F.TEXTURE0),F.bindTexture(F.TEXTURE_2D,y.texture.webGLTexture),F.copyTexSubImage2D(F.TEXTURE_2D,0,0,0,_,E,A,M),F.bindFramebuffer(F.FRAMEBUFFER,null),F.bindTexture(F.TEXTURE_2D,null)},copyToGame:function(x){var y=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,x.texture.webGLTexture),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6)},drawFrame:function(x,y,_,E){void 0===_&&(_=!0),void 0===E&&(E=this.colorMatrix);var A=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",E.getData()),this.set1f("uAlpha",E.alpha),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,x.texture.webGLTexture),y?(A.viewport(0,0,y.width,y.height),A.bindFramebuffer(A.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,y.texture.webGLTexture,0)):A.viewport(0,0,x.width,x.height),A.clearColor(0,0,0,_?0:1),A.clear(A.COLOR_BUFFER_BIT),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},blendFrames:function(x,y,_,E,A,M){void 0===E&&(E=1),void 0===A&&(A=!0),void 0===M&&(M=this.linearShader);var I=this.gl;this.setShader(M),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",E),I.activeTexture(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,x.texture.webGLTexture),I.activeTexture(I.TEXTURE1),I.bindTexture(I.TEXTURE_2D,y.texture.webGLTexture),_?(I.bindFramebuffer(I.FRAMEBUFFER,_.framebuffer.webGLFramebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,_.texture.webGLTexture,0),I.viewport(0,0,_.width,_.height)):I.viewport(0,0,x.width,x.height),I.clearColor(0,0,0,A?0:1),I.clear(I.COLOR_BUFFER_BIT),I.bufferData(I.ARRAY_BUFFER,this.vertexData,I.STATIC_DRAW),I.drawArrays(I.TRIANGLES,0,6),I.bindFramebuffer(I.FRAMEBUFFER,null),I.bindTexture(I.TEXTURE_2D,null)},blendFramesAdditive:function(x,y,_,E,A){this.blendFrames(x,y,_,E,A,this.addShader)},clearFrame:function(x,y){void 0===y&&(y=!0);var _=this.gl;_.viewport(0,0,x.width,x.height),_.bindFramebuffer(_.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),_.clearColor(0,0,0,y?0:1),_.clear(_.COLOR_BUFFER_BIT),_.bindFramebuffer(_.FRAMEBUFFER,this.renderer.currentFramebuffer.webGLFramebuffer)},setUVs:function(x,y,_,E,A,M,I,k){var F=this.vertexViewF32;F[2]=x,F[3]=y,F[6]=_,F[7]=E,F[10]=A,F[11]=M,F[14]=x,F[15]=y,F[18]=A,F[19]=M,F[22]=I,F[23]=k},setTargetUVs:function(x,y){var _=y.height/x.height;this.setUVs(0,_=_>.5?.5-(_-.5):.5-_+.5,0,1+_,1,1+_,1,_)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});S.exports=v},36060:S=>{S.exports={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"}},84817:S=>{S.exports="pipelineafterflush"},36712:S=>{S.exports="pipelinebeforeflush"},40285:S=>{S.exports="pipelinebind"},65918:S=>{S.exports="pipelineboot"},92852:S=>{S.exports="pipelinedestroy"},56072:S=>{S.exports="pipelinerebind"},57566:S=>{S.exports="pipelineresize"},77085:(S,P,a)=>{S.exports={AFTER_FLUSH:a(84817),BEFORE_FLUSH:a(36712),BIND:a(40285),BOOT:a(65918),DESTROY:a(92852),REBIND:a(56072),RESIZE:a(57566)}},54812:(S,P,a)=>{var w=a(83419),T=a(99155),g=a(84057),f=new w({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:T}),this.amount=1},onPreRender:function(h,c){h=this.getController(h),this.set1f("amount",h.amount,c)}});S.exports=f},67329:(S,P,a)=>{var w=a(83419),T=a(24400),g=a(84057),f=new w({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:T}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(h){h=this.getController(h),this.set1f("strength",h.blurStrength),this.set3fv("color",h.glcolor)},onDraw:function(h){var c=this.getController(),u=this.fullFrame1,m=this.fullFrame2;this.copyFrame(h,m);for(var d=2/h.width*c.offsetX,p=2/h.height*c.offsetY,v=0;v<c.steps;v++)this.set2f("offset",d,0),this.copySprite(h,u),this.set2f("offset",0,p),this.copySprite(u,h);this.blendFrames(m,h,u,c.strength),this.copyToGame(u)}});S.exports=f},8861:(S,P,a)=>{var w=a(83419),T=a(41514),g=a(51078),f=a(94328),h=a(84057),c=new w({Extends:h,initialize:function(m){h.call(this,{game:m,shaders:[{name:"Gaussian5",fragShader:T},{name:"Gaussian9",fragShader:g},{name:"Gaussian13",fragShader:f}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(u){var m=this.getController(),d=this.gl,p=this.fullFrame1,v=d.getParameter(d.FRAMEBUFFER_BINDING);this.bind(this.shaders[m.quality]),d.activeTexture(d.TEXTURE0),d.viewport(0,0,u.width,u.height),this.set1i("uMainSampler",0),this.set2f("resolution",u.width,u.height),this.set1f("strength",m.strength),this.set3fv("color",m.glcolor);for(var x=0;x<m.steps;x++)this.set2f("offset",m.x,0),this.copySprite(u,p),this.set2f("offset",0,m.y),this.copySprite(p,u);d.bindFramebuffer(d.FRAMEBUFFER,v),d.bindTexture(d.TEXTURE_2D,null),this.copyToGame(u)}});S.exports=c},51051:(S,P,a)=>{var w=a(83419),T=a(90610),g=a(84057),f=new w({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:T}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(h,c,u,m){h=this.getController(h),this.set1f("radius",h.radius,c),this.set1f("amount",h.amount,c),this.set1f("contrast",h.contrast,c),this.set1f("strength",h.strength,c),this.set2f("blur",h.blurX,h.blurY,c),this.setBoolean("isTiltShift",h.isTiltShift,c),u&&m&&this.set2f("resolution",u,m,c)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});S.exports=f},89428:(S,P,a)=>{var w=a(83419),T=a(91899),g=a(84057),f=new w({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:T}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(h,c,u,m){h=this.getController(h),this.set1f("scale",h.scale,c),this.set1f("feather",h.feather,c),this.set1f("thickness",h.thickness,c),this.set3fv("color",h.glcolor,c),this.set4fv("backgroundColor",h.glcolor2,c),u&&m&&this.set2f("resolution",u,m,c)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});S.exports=f},88904:(S,P,a)=>{var w=a(83419),T=a(84057),g=new w({Extends:T,initialize:function(h){T.call(this,{game:h})},onDraw:function(f){var h=this.fullFrame1;this.controller?this.manager.drawFrame(f,h,!0,this.controller):this.drawFrame(f,h),this.copyToGame(h)}});S.exports=g},63563:(S,P,a)=>{var w=a(83419),T=a(47838),g=a(84057),f=new w({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:T}),this.x=.005,this.y=.005},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(h){var c=this.game.textures.getFrame(h);c&&(this.glTexture=c.glTexture)},onDraw:function(h){var c=this.getController(),u=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",c.x,c.y),this.bindTexture(c.glTexture,1),this.copySprite(h,u),this.copyToGame(u)}});S.exports=f},94045:(S,P,a)=>{var w=a(83419),T=a(95540),g=a(98656),f=a(84057),h=a(70554),c=new w({Extends:f,initialize:function(m,d){var p=T(d,"quality",.1),v=T(d,"distance",10);f.call(this,{game:m,fragShader:h.setGlowQuality(g,m,p,v)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(u,m,d,p){u=this.getController(u),this.set1f("outerStrength",u.outerStrength,m),this.set1f("innerStrength",u.innerStrength,m),this.set4fv("glowColor",u.glcolor,m),this.setBoolean("knockout",u.knockout,m),d&&p&&this.set2f("resolution",d,p,m)},onDraw:function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)}});S.exports=c},74088:(S,P,a)=>{var w=a(83419),T=a(70463),g=a(84057),f=new w({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:T}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(h,c){h=this.getController(h),this.set1f("alpha",h.alpha,c),this.set1i("size",h.size,c),this.set3fv("color1",h.glcolor1,c),this.set3fv("color2",h.glcolor2,c),this.set2f("positionFrom",h.fromX,h.fromY,c),this.set2f("positionTo",h.toX,h.toY,c)}});S.exports=f},99636:(S,P,a)=>{var w=a(83419),T=a(50831),g=a(84057),f=new w({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:T}),this.amount=1},onPreRender:function(h,c,u,m){h=this.getController(h),this.set1f("amount",h.amount,c),u&&m&&this.set2f("resolution",u,m,c)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});S.exports=f},34700:(S,P,a)=>{var w=a(83419),T=a(92595),g=a(84057),f=new w({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:T}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(h,c){var u=(h=this.getController(h)).samples;this.set1i("samples",u,c),this.set1f("intensity",h.intensity,c),this.set1f("decay",h.decay,c),this.set1f("power",h.power/u,c),this.set2f("lightPosition",h.x,h.y,c),this.set4fv("color",h.glcolor,c)}});S.exports=f},91157:(S,P,a)=>{var w=a(83419),T=a(72464),g=a(84057),f=new w({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:T}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(h,c,u,m){h=this.getController(h),this.setTime("time",c),this.set1f("speed",h.speed,c),this.set1f("lineWidth",h.lineWidth,c),this.set1f("gradient",h.gradient,c),this.setBoolean("reveal",h.reveal,c),u&&m&&this.set2f("resolution",u,m,c)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});S.exports=f},27797:(S,P,a)=>{var w=a(83419),T=a(39249),g=a(84057),f=new w({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:T}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(h,c){h=this.getController(h),this.set1f("radius",h.radius,c),this.set1f("strength",h.strength,c),this.set2f("position",h.x,h.y,c)}});S.exports=f},67603:(S,P,a)=>{var w=a(83419),T=a(2878),g=a(84057),f=new w({Extends:g,initialize:function(c){g.call(this,{game:c,fragShader:T}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(h,c){h=this.getController(h),this.set4f("config",h.progress,h.wipeWidth,h.direction,h.axis,c),this.setBoolean("reveal",h.reveal,c)}});S.exports=f},58918:(S,P,a)=>{var w={Barrel:a(54812),Bloom:a(67329),Blur:a(8861),Bokeh:a(51051),Circle:a(89428),ColorMatrix:a(88904),Displacement:a(63563),Glow:a(94045),Gradient:a(74088),Pixelate:a(99636),Shadow:a(34700),Shine:a(91157),Vignette:a(27797),Wipe:a(67603)};S.exports=w},96615:(S,P,a)=>{var w=a(36060),T=a(79291),g={FX:a(58918),BitmapMaskPipeline:a(31302),Events:a(77085),FXPipeline:a(92651),LightPipeline:a(96569),MobilePipeline:a(56527),MultiPipeline:a(57516),PointLightPipeline:a(43439),PostFXPipeline:a(84057),PreFXPipeline:a(43558),RopePipeline:a(81041),SinglePipeline:a(12385),UtilityPipeline:a(7589)};g=T(!1,g,w),S.exports=g},35407:S=>{S.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join("\n")},78908:S=>{S.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join("\n")},85191:S=>{S.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join("\n")},96293:S=>{S.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join("\n")},36682:S=>{S.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join("\n")},99155:S=>{S.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join("\n")},24400:S=>{S.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join("\n")},94328:S=>{S.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},41514:S=>{S.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},51078:S=>{S.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},90610:S=>{S.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join("\n")},91899:S=>{S.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join("\n")},47838:S=>{S.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join("\n")},98656:S=>{S.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join("\n")},70463:S=>{S.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join("\n")},50831:S=>{S.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join("\n")},92595:S=>{S.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join("\n")},72464:S=>{S.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","\tvec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join("\n")},39249:S=>{S.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    \tcol = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join("\n")},2878:S=>{S.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join("\n")},31063:S=>{S.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join("\n")},48247:S=>{S.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join("\n")},41214:S=>{S.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join("\n")},39653:S=>{S.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join("\n")},62143:S=>{S.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},47940:S=>{S.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},98840:S=>{S.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},44667:S=>{S.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},4127:S=>{S.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join("\n")},89924:S=>{S.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join("\n")},27681:S=>{S.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join("\n")},49627:S=>{S.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join("\n")},45561:S=>{S.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},60722:S=>{S.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},89350:(S,P,a)=>{S.exports={AddBlendFrag:a(35407),BitmapMaskFrag:a(78908),BitmapMaskVert:a(85191),ColorMatrixFrag:a(96293),CopyFrag:a(36682),FXBarrelFrag:a(99155),FXBloomFrag:a(24400),FXBlurHighFrag:a(94328),FXBlurLowFrag:a(41514),FXBlurMedFrag:a(51078),FXBokehFrag:a(90610),FXCircleFrag:a(91899),FXDisplacementFrag:a(47838),FXGlowFrag:a(98656),FXGradientFrag:a(70463),FXPixelateFrag:a(50831),FXShadowFrag:a(92595),FXShineFrag:a(72464),FXVignetteFrag:a(39249),FXWipeFrag:a(2878),LightFrag:a(31063),LinearBlendFrag:a(48247),MeshFrag:a(41214),MeshVert:a(39653),MobileFrag:a(62143),MobileVert:a(47940),MultiFrag:a(98840),MultiVert:a(44667),PointLightFrag:a(4127),PointLightVert:a(89924),PostFXFrag:a(27681),QuadVert:a(49627),SingleFrag:a(45561),SingleVert:a(60722)}},93567:(S,P,a)=>{var T=new(a(83419))({initialize:function(f,h,c){this.webGLAttribLocation=-1,this.gl=f,this.program=h,this.name=c,this.createResource()},createResource:function(){if(null!==this.program.webGLProgram){var g=this.gl;g.isContextLost()||(this.webGLAttribLocation=g.getAttribLocation(this.program.webGLProgram,this.name))}else this.webGLAttribLocation=-1},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});S.exports=T},26128:(S,P,a)=>{var T=new(a(83419))({initialize:function(f,h,c,u){this.webGLBuffer=null,this.gl=f,this.initialDataOrSize=h,this.bufferType=c,this.bufferUsage=u,this.createResource()},createResource:function(){if(null!==this.initialDataOrSize){var g=this.gl;if(!g.isContextLost()){var f=this.bufferType,h=g.createBuffer();this.webGLBuffer=h,g.bindBuffer(f,this.webGLBuffer),g.bufferData(f,this.initialDataOrSize,this.bufferUsage),g.bindBuffer(f,null)}}},destroy:function(){var g=this.gl;g.isContextLost()||g.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});S.exports=T},84387:(S,P,a)=>{var w=a(83419),T={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},g=new w({initialize:function(h,c,u,m,d){this.webGLFramebuffer=null,this.gl=h,this.width=c,this.height=u,this.renderTexture=m,this.addDepthStencilBuffer=!!d,this.createResource()},createResource:function(){var f=this.gl;if(!f.isContextLost()){var c,h=this.renderTexture,u=f.createFramebuffer();if(this.webGLFramebuffer=u,f.bindFramebuffer(f.FRAMEBUFFER,u),h.isRenderTexture=!0,h.isAlphaPremultiplied=!1,f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,h.webGLTexture,0),(c=f.checkFramebufferStatus(f.FRAMEBUFFER))!==f.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(T[c]||c));if(this.addDepthStencilBuffer){var m=f.createRenderbuffer();f.bindRenderbuffer(f.RENDERBUFFER,m),f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_STENCIL,this.width,this.height),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,m)}f.bindFramebuffer(f.FRAMEBUFFER,null)}},destroy:function(){if(null!==this.webGLFramebuffer){var f=this.gl;if(!f.isContextLost()){f.bindFramebuffer(f.FRAMEBUFFER,this.webGLFramebuffer);var h=f.getFramebufferAttachmentParameter(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==h&&(f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,null,0),f.deleteTexture(h));var c=f.getFramebufferAttachmentParameter(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==c&&f.deleteRenderbuffer(c),f.bindFramebuffer(f.FRAMEBUFFER,null),f.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});S.exports=g},1482:(S,P,a)=>{var T=new(a(83419))({initialize:function(f,h,c){this.webGLProgram=null,this.gl=f,this.vertexSource=h,this.fragmentSource=c,this.createResource()},createResource:function(){var g=this.gl;if(!g.isContextLost()){var f=g.createProgram(),h=g.createShader(g.VERTEX_SHADER),c=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(h,this.vertexSource),g.shaderSource(c,this.fragmentSource),g.compileShader(h),g.compileShader(c);var u="Shader failed:\n";if(!g.getShaderParameter(h,g.COMPILE_STATUS))throw new Error("Vertex "+u+g.getShaderInfoLog(h));if(!g.getShaderParameter(c,g.COMPILE_STATUS))throw new Error("Fragment "+u+g.getShaderInfoLog(c));if(g.attachShader(f,h),g.attachShader(f,c),g.linkProgram(f),!g.getProgramParameter(f,g.LINK_STATUS))throw new Error("Link "+u+g.getProgramInfoLog(f));g.useProgram(f),this.webGLProgram=f}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});S.exports=T},82751:(S,P,a)=>{var w=a(83419),T=a(50030),g=new w({initialize:function(h,c,u,m,d,p,v,x,y,_,E,A,M){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=h,this.mipLevel=c,this.minFilter=u,this.magFilter=m,this.wrapT=d,this.wrapS=p,this.format=v,this.pixels=x,this.width=y,this.height=_,this.pma=E??!0,this.forceSize=!!A,this.flipY=!!M,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var f=this.gl;if(!f.isContextLost()){if(this.pixels instanceof g)return void(this.webGLTexture=this.pixels.webGLTexture);var h=f.createTexture();h.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=h,this._processTexture()}},update:function(f,h,c,u,m,d,p,v,x){0!==h&&0!==c&&(this.pixels=f,this.width=h,this.height=c,this.flipY=u,this.wrapS=m,this.wrapT=d,this.minFilter=p,this.magFilter=v,this.format=x,this.gl.isContextLost()||this._processTexture())},_processTexture:function(){var f=this.gl;f.activeTexture(f.TEXTURE0);var h=f.getParameter(f.TEXTURE_BINDING_2D);f.bindTexture(f.TEXTURE_2D,this.webGLTexture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,this.minFilter),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,this.magFilter),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,this.wrapS),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,this.wrapT),f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,this.flipY);var c=this.pixels,u=this.mipLevel,m=this.width,d=this.height,p=this.format,v=!1;if(null==c)f.texImage2D(f.TEXTURE_2D,u,p,m,d,0,p,f.UNSIGNED_BYTE,null),v=T(m,d);else if(c.compressed){m=c.width,d=c.height,v=c.generateMipmap;for(var x=0;x<c.mipmaps.length;x++)f.compressedTexImage2D(f.TEXTURE_2D,x,c.internalFormat,c.mipmaps[x].width,c.mipmaps[x].height,0,c.mipmaps[x].data)}else c instanceof Uint8Array?(f.texImage2D(f.TEXTURE_2D,u,p,m,d,0,p,f.UNSIGNED_BYTE,c),v=T(m,d)):(this.forceSize||(m=c.width,d=c.height),f.texImage2D(f.TEXTURE_2D,u,p,p,f.UNSIGNED_BYTE,c),v=T(m,d));v&&f.generateMipmap(f.TEXTURE_2D),f.bindTexture(f.TEXTURE_2D,h||null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(f){this.__SPECTOR_Metadata=f,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=f)}},destroy:function(){null!==this.webGLTexture&&(this.gl.isContextLost()||this.pixels instanceof g||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});S.exports=g},57183:(S,P,a)=>{var T=new(a(83419))({initialize:function(f,h,c){this.webGLUniformLocation=null,this.gl=f,this.program=h,this.name=c,this.createResource()},createResource:function(){if(null!==this.program.webGLProgram){var g=this.gl;g.isContextLost()||(this.webGLUniformLocation=g.getUniformLocation(this.program.webGLProgram,this.name))}else this.webGLUniformLocation=null},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});S.exports=T},9503:(S,P,a)=>{var w={WebGLAttribLocationWrapper:a(93567),WebGLBufferWrapper:a(26128),WebGLProgramWrapper:a(1482),WebGLTextureWrapper:a(82751),WebGLFramebufferWrapper:a(84387),WebGLUniformLocationWrapper:a(57183)};S.exports=w},76531:(S,P,a)=>{var w=a(13560),T=a(83419),g=a(50792),f=a(97480),h=a(8443),c=a(57811),u=a(74403),m=a(45818),d=a(29747),p=a(87841),v=a(86555),x=a(56583),y=a(26099),_=a(38058),E=new T({Extends:g,initialize:function(M){g.call(this),this.game=M,this.canvasBounds=new p,this.parent=null,this.parentIsWindow=!1,this.parentSize=new v,this.gameSize=new v,this.baseSize=new v,this.displaySize=new v,this.scaleMode=w.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new y(1,1),this.autoRound=!1,this.autoCenter=w.CENTER.NO_CENTER,this.orientation=w.ORIENTATION.LANDSCAPE,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:d,windowResize:d,fullScreenChange:d,fullScreenError:d}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(h.BOOT,this.boot,this)},boot:function(){var A=this.game;this.canvas=A.canvas,this.fullscreen=A.device.fullscreen;var M=this.scaleMode;M!==w.SCALE_MODE.RESIZE&&M!==w.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(M),M===w.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),A.events.on(h.PRE_STEP,this.step,this),A.events.once(h.READY,this.refresh,this),A.events.once(h.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(A){this.getParent(A),this.getParentBounds();var M=A.width,I=A.height,k=A.scaleMode,F=A.zoom,N=A.autoRound;if("string"==typeof M)if("%"!==M.substr(-1))M=parseInt(M,10);else{var V=this.parentSize.width;0===V&&(V=window.innerWidth);var B=parseInt(M,10)/100;M=Math.floor(V*B)}if("string"==typeof I)if("%"!==I.substr(-1))I=parseInt(I,10);else{var H=this.parentSize.height;0===H&&(H=window.innerHeight);var Q=parseInt(I,10)/100;I=Math.floor(H*Q)}this.scaleMode=k,this.autoRound=N,this.autoCenter=A.autoCenter,this.resizeInterval=A.resizeInterval,N&&(M=Math.floor(M),I=Math.floor(I)),this.gameSize.setSize(M,I),F===w.ZOOM.MAX_ZOOM&&(F=this.getMaxZoom()),this.zoom=F,1!==F&&(this._resetZoom=!0),this.baseSize.setSize(M,I),N&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),A.minWidth>0&&this.displaySize.setMin(A.minWidth*F,A.minHeight*F),A.maxWidth>0&&this.displaySize.setMax(A.maxWidth*F,A.maxHeight*F),this.displaySize.setSize(M,I),(A.snapWidth>0||A.snapHeight>0)&&this.displaySize.setSnap(A.snapWidth,A.snapHeight),this.orientation=m(M,I)},getParent:function(A){var M=A.parent;if(null!==M){if(this.parent=u(M),this.parentIsWindow=this.parent===document.body,A.expandParent&&A.scaleMode!==w.SCALE_MODE.NONE){var I=this.parent.getBoundingClientRect();(this.parentIsWindow||0===I.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",I=this.parent.getBoundingClientRect(),!this.parentIsWindow&&0===I.height&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}A.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=u(A.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var A=this.parentSize,M=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(M.height=c(!0));var I=M.width,k=M.height;if(A.width!==I||A.height!==k)return A.setSize(I,k),!0;if(this.canvas){var F=this.canvasBounds,N=this.canvas.getBoundingClientRect();if(N.x!==F.x||N.y!==F.y)return!0}return!1},lockOrientation:function(A){var M=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!M&&M.call(screen,A)},setParentSize:function(A,M){return this.parentSize.setSize(A,M),this.refresh()},setGameSize:function(A,M){var I=this.autoRound;I&&(A=Math.floor(A),M=Math.floor(M));var k=this.width,F=this.height;return this.gameSize.resize(A,M),this.baseSize.resize(A,M),I&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(A/M),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(k,F)},resize:function(A,M){var I=this.zoom,k=this.autoRound;k&&(A=Math.floor(A),M=Math.floor(M));var F=this.width,N=this.height;this.gameSize.resize(A,M),this.baseSize.resize(A,M),k&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(A*I,M*I),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var V=this.canvas.style,B=A*I,H=M*I;return k&&(B=Math.floor(B),H=Math.floor(H)),(B!==A||H!==M)&&(V.width=B+"px",V.height=H+"px"),this.refresh(F,N)},setZoom:function(A){return this.zoom=A,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(A,M){return void 0===A&&(A=0),void 0===M&&(M=A),this.displaySize.setSnap(A,M),this.refresh()},refresh:function(A,M){void 0===A&&(A=this.width),void 0===M&&(M=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var I=this.game.domContainer;if(I){this.baseSize.setCSS(I);var k=this.canvas.style,F=I.style;F.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",F.marginLeft=k.marginLeft,F.marginTop=k.marginTop}return this.emit(f.RESIZE,this.gameSize,this.baseSize,this.displaySize,A,M),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var A=m(this.width,this.height);A!==this.orientation&&(this.orientation=A,this.emit(f.ORIENTATION_CHANGE,A))}},updateScale:function(){var k,F,A=this.canvas.style,N=this.zoom,V=this.autoRound;if(this.scaleMode===w.SCALE_MODE.NONE)this.displaySize.setSize(this.gameSize.width*N,this.gameSize.height*N),k=this.displaySize.width,F=this.displaySize.height,V&&(k=Math.floor(k),F=Math.floor(F)),this._resetZoom&&(A.width=k+"px",A.height=F+"px",this._resetZoom=!1);else if(this.scaleMode===w.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),k=this.displaySize.width,F=this.displaySize.height,V&&(k=Math.floor(k),F=Math.floor(F)),this.canvas.width=k,this.canvas.height=F;else if(this.scaleMode===w.SCALE_MODE.EXPAND){var B=this.game.config.width,H=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),k=this.displaySize.width,F=this.displaySize.height,V&&(k=Math.floor(k),F=Math.floor(F)),A.width=k+"px",A.height=F+"px";var Q=this.parentSize.width/B,G=this.parentSize.height/H;Q<G&&0!==Q?this.baseSize.setSize(B,this.parentSize.height/Q):0!==G&&this.baseSize.setSize(this.displaySize.width/G,H),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),k=this.baseSize.width,F=this.baseSize.height,V&&(k=Math.floor(k),F=Math.floor(F)),this.canvas.width=k,this.canvas.height=F}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),k=this.displaySize.width,F=this.displaySize.height,V&&(k=Math.floor(k),F=Math.floor(F)),A.width=k+"px",A.height=F+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var A=x(this.parentSize.width,this.gameSize.width,0,!0),M=x(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(A,M),1)},updateCenter:function(){var A=this.autoCenter;if(A!==w.CENTER.NO_CENTER){var M=this.canvas,I=M.style,k=M.getBoundingClientRect(),N=k.height,V=Math.floor((this.parentSize.width-k.width)/2),B=Math.floor((this.parentSize.height-N)/2);A===w.CENTER.CENTER_HORIZONTALLY?B=0:A===w.CENTER.CENTER_VERTICALLY&&(V=0),I.marginLeft=V+"px",I.marginTop=B+"px"}},updateBounds:function(){var A=this.canvasBounds,M=this.canvas.getBoundingClientRect();A.x=M.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),A.y=M.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),A.width=M.width,A.height=M.height},transformX:function(A){return(A-this.canvasBounds.left)*this.displayScale.x},transformY:function(A){return(A-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(A){void 0===A&&(A={navigationUI:"hide"});var M=this.fullscreen;if(M.available){if(!M.active){this.getFullscreenTarget()[M.request](M.keyboard?Element.ALLOW_KEYBOARD_INPUT:A)}}else this.emit(f.FULLSCREEN_UNSUPPORTED)},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(f.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(A){this.removeFullscreenTarget(),this.emit(f.FULLSCREEN_FAILED,A)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var A=document.createElement("div");A.style.margin="0",A.style.padding="0",A.style.width="100%",A.style.height="100%",this.fullscreenTarget=A,this._createdFullscreenTarget=!0}return this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)),this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var A=this.fullscreenTarget;if(A&&A.parentNode){var M=A.parentNode;M.insertBefore(this.canvas,A),M.removeChild(A)}}},stopFullscreen:function(){var A=this.fullscreen;if(!A.available)return this.emit(f.FULLSCREEN_UNSUPPORTED),!1;A.active&&document[A.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(f.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(A){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(A)},startListeners:function(){var A=this,M=this.domlisteners;M.orientationChange=function(){A.updateBounds(),A._checkOrientation=!0,A.dirty=!0,A.refresh()},M.windowResize=function(){A.updateBounds(),A.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",M.orientationChange,!1):window.addEventListener("orientationchange",M.orientationChange,!1),window.addEventListener("resize",M.windowResize,!1),this.fullscreen.available&&(M.fullScreenChange=function(k){return A.onFullScreenChange(k)},M.fullScreenError=function(k){return A.onFullScreenError(k)},["webkit","moz",""].forEach(function(k){document.addEventListener(k+"fullscreenchange",M.fullScreenChange,!1),document.addEventListener(k+"fullscreenerror",M.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",M.fullScreenChange,!1),document.addEventListener("MSFullscreenError",M.fullScreenError,!1))},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(A,M){A instanceof _||(M=A,A=void 0),void 0===M&&(M=new p);var I=this.baseSize,k=this.parentSize,F=this.canvasBounds,N=this.displayScale;return M.setTo(F.x>=0?0:-F.x*N.x,F.y>=0?0:-F.y*N.y,k.width>=F.width?I.width:I.width-(F.width-k.width)*N.x,k.height>=F.height?I.height:I.height-(F.height-k.height)*N.y),A&&(M.width/=A.zoomX,M.height/=A.zoomY,M.centerX=A.centerX+A.scrollX,M.centerY=A.centerY+A.scrollY),M},step:function(A,M){this.parent&&(this._lastCheck+=M,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var A=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",A.orientationChange,!1):window.removeEventListener("orientationchange",A.orientationChange,!1),window.removeEventListener("resize",A.windowResize,!1),["webkit","moz",""].forEach(function(I){document.removeEventListener(I+"fullscreenchange",A.fullScreenChange,!1),document.removeEventListener(I+"fullscreenerror",A.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",A.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",A.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===w.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===w.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});S.exports=E},64743:S=>{S.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:S=>{S.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:S=>{S.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:S=>{S.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(S,P,a)=>{var w={CENTER:a(64743),ORIENTATION:a(39218),SCALE_MODE:a(81050),ZOOM:a(80805)};S.exports=w},56139:S=>{S.exports="enterfullscreen"},2336:S=>{S.exports="fullscreenfailed"},47412:S=>{S.exports="fullscreenunsupported"},51452:S=>{S.exports="leavefullscreen"},20666:S=>{S.exports="orientationchange"},47945:S=>{S.exports="resize"},97480:(S,P,a)=>{S.exports={ENTER_FULLSCREEN:a(56139),FULLSCREEN_FAILED:a(2336),FULLSCREEN_UNSUPPORTED:a(47412),LEAVE_FULLSCREEN:a(51452),ORIENTATION_CHANGE:a(20666),RESIZE:a(47945)}},93364:(S,P,a)=>{var w=a(79291),T=a(13560),g={Center:a(64743),Events:a(97480),Orientation:a(39218),ScaleManager:a(76531),ScaleModes:a(81050),Zoom:a(80805)};g=w(!1,g,T.CENTER),g=w(!1,g,T.ORIENTATION),g=w(!1,g,T.SCALE_MODE),g=w(!1,g,T.ZOOM),S.exports=g},27397:(S,P,a)=>{var w=a(95540),T=a(35355);S.exports=function(f){var h=f.game.config.defaultPhysicsSystem,c=w(f.settings,"physics",!1);if(h||c){var u=[];if(h&&u.push(T(h+"Physics")),c)for(var m in c)m=T(m.concat("Physics")),-1===u.indexOf(m)&&u.push(m);return u}}},52106:(S,P,a)=>{var w=a(95540);S.exports=function(g){var f=g.plugins.getDefaultScenePlugins(),h=w(g.settings,"plugins",!1);return Array.isArray(h)?h:f||[]}},87033:S=>{S.exports={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},97482:(S,P,a)=>{var w=a(83419),T=a(2368),g=new w({initialize:function(h){this.sys=new T(this,h)},update:function(){}});S.exports=g},60903:(S,P,a)=>{var w=a(83419),T=a(89993),g=a(44594),f=a(8443),h=a(35154),c=a(54899),u=a(29747),m=a(97482),d=a(2368),p=new w({initialize:function(x,y){if(this.game=x,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,y){Array.isArray(y)||(y=[y]);for(var _=0;_<y.length;_++)this._pending.push({key:"default",scene:y[_],autoStart:0===_,data:{}})}x.events.once(f.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var v,x,y,_;for(this.systemScene=this.createSceneFromInstance("__SYSTEM",new m),this.game.events.emit(f.SYSTEM_READY,this.systemScene,this),v=0;v<this._pending.length;v++){var E;y=(x=this._pending[v]).key,(_=x.scene)instanceof m?E=this.createSceneFromInstance(y,_):"object"==typeof _?E=this.createSceneFromObject(y,_):"function"==typeof _&&(E=this.createSceneFromFunction(y,_)),this.keys[y=E.sys.settings.key]=E,this.scenes.push(E),this._data[y]&&(E.sys.settings.data=this._data[y].data,this._data[y].autoStart&&(x.autoStart=!0)),(x.autoStart||E.sys.settings.active)&&this._start.push(y)}for(this._pending.length=0,this._data={},this.isBooted=!0,v=0;v<this._start.length;v++)this.start(x=this._start[v]);this._start.length=0}},processQueue:function(){var v=this._pending.length;if(0!==v||0!==this._queue.length){var y,_;if(v){for(y=0;y<v;y++)this.add((_=this._pending[y]).key,_.scene,_.autoStart,_.data);for(y=0;y<this._start.length;y++)this.start(_=this._start[y]);this._start.length=0,this._pending.length=0}for(y=0;y<this._queue.length;y++)this[(_=this._queue[y]).op](_.keyA,_.keyB,_.data);this._queue.length=0}},add:function(v,x,y,_){return void 0===y&&(y=!1),void 0===_&&(_={}),this.isProcessing||!this.isBooted?(this._pending.push({key:v,scene:x,autoStart:y,data:_}),this.isBooted||(this._data[v]={data:_}),null):(v=this.getKey(v,x),x instanceof m?E=this.createSceneFromInstance(v,x):"object"==typeof x?(x.key=v,E=this.createSceneFromObject(v,x)):"function"==typeof x&&(E=this.createSceneFromFunction(v,x)),E.sys.settings.data=_,this.keys[v=E.sys.settings.key]=E,this.scenes.push(E),(y||E.sys.settings.active)&&(this._pending.length?this._start.push(v):this.start(v)),E);var E},remove:function(v){if(this.isProcessing)return this.queueOp("remove",v);var x=this.getScene(v);if(!x||x.sys.isTransitioning())return this;var y=this.scenes.indexOf(x),_=x.sys.settings.key;return y>-1&&(delete this.keys[_],this.scenes.splice(y,1),this._start.indexOf(_)>-1&&(y=this._start.indexOf(_),this._start.splice(y,1)),x.sys.destroy()),this},bootScene:function(v){var _,x=v.sys,y=x.settings;x.sceneUpdate=u,v.init&&(v.init.call(v,y.data),y.status=T.INIT,y.isTransition&&x.events.emit(g.TRANSITION_INIT,y.transitionFrom,y.transitionDuration)),x.load&&(_=x.load).reset(),_&&v.preload?(v.preload.call(v),y.status=T.LOADING,_.once(c.COMPLETE,this.loadComplete,this),_.start()):this.create(v)},loadComplete:function(v){this.create(v.scene)},payloadComplete:function(v){this.bootScene(v.scene)},update:function(v,x){this.processQueue(),this.isProcessing=!0;for(var y=this.scenes.length-1;y>=0;y--){var _=this.scenes[y].sys;_.settings.status>T.START&&_.settings.status<=T.RUNNING&&_.step(v,x),_.scenePlugin&&_.scenePlugin._target&&_.scenePlugin.step(v,x)}},render:function(v){for(var x=0;x<this.scenes.length;x++){var y=this.scenes[x].sys;y.settings.visible&&y.settings.status>=T.LOADING&&y.settings.status<T.SLEEPING&&y.render(v)}this.isProcessing=!1},create:function(v){var x=v.sys,y=x.settings;v.create&&(y.status=T.CREATING,v.create.call(v,y.data),y.status===T.DESTROYED)||(y.isTransition&&x.events.emit(g.TRANSITION_START,y.transitionFrom,y.transitionDuration),v.update&&(x.sceneUpdate=v.update),y.status=T.RUNNING,x.events.emit(g.CREATE,v))},createSceneFromFunction:function(v,x){var y=new x;if(y instanceof m){var _=y.sys.settings.key;if(""!==_&&(v=_),this.keys.hasOwnProperty(v))throw new Error("Cannot add Scene with duplicate key: "+v);return this.createSceneFromInstance(v,y)}return y.sys=new d(y),y.sys.settings.key=v,y.sys.init(this.game),y},createSceneFromInstance:function(v,x){return""===x.sys.settings.key&&(x.sys.settings.key=v),x.sys.init(this.game),x},createSceneFromObject:function(v,x){var y=new m(x),_=y.sys.settings.key;""!==_?v=_:y.sys.settings.key=v,y.sys.init(this.game);for(var E=["init","preload","create","update","render"],A=0;A<E.length;A++){var M=h(x,E[A],null);M&&(y[E[A]]=M)}if(x.hasOwnProperty("extend"))for(var I in x.extend)if(x.extend.hasOwnProperty(I)){var k=x.extend[I];"data"===I&&y.hasOwnProperty("data")&&"object"==typeof k?y.data.merge(k):"sys"!==I&&(y[I]=k)}return y},getKey:function(v,x){if(v||(v="default"),"function"==typeof x)return v;if(x instanceof m?v=x.sys.settings.key:"object"==typeof x&&x.hasOwnProperty("key")&&(v=x.key),this.keys.hasOwnProperty(v))throw new Error("Cannot add Scene with duplicate key: "+v);return v},getScenes:function(v,x){void 0===v&&(v=!0),void 0===x&&(x=!1);for(var y=[],_=this.scenes,E=0;E<_.length;E++){var A=_[E];A&&(!v||v&&A.sys.isActive())&&y.push(A)}return x?y.reverse():y},getScene:function(v){if("string"==typeof v){if(this.keys[v])return this.keys[v]}else for(var x=0;x<this.scenes.length;x++)if(v===this.scenes[x])return v;return null},isActive:function(v){var x=this.getScene(v);return x?x.sys.isActive():null},isPaused:function(v){var x=this.getScene(v);return x?x.sys.isPaused():null},isVisible:function(v){var x=this.getScene(v);return x?x.sys.isVisible():null},isSleeping:function(v){var x=this.getScene(v);return x?x.sys.isSleeping():null},pause:function(v,x){var y=this.getScene(v);return y&&y.sys.pause(x),this},resume:function(v,x){var y=this.getScene(v);return y&&y.sys.resume(x),this},sleep:function(v,x){var y=this.getScene(v);return y&&!y.sys.isTransitioning()&&y.sys.sleep(x),this},wake:function(v,x){var y=this.getScene(v);return y&&y.sys.wake(x),this},run:function(v,x){var y=this.getScene(v);if(!y){for(var _=0;_<this._pending.length;_++)if(this._pending[_].key===v){this.queueOp("start",v,x);break}return this}y.sys.isSleeping()?y.sys.wake(x):y.sys.isPaused()?y.sys.resume(x):this.start(v,x)},start:function(v,x){if(!this.isBooted)return this._data[v]={autoStart:!0,data:x},this;var y=this.getScene(v);if(!y)return console.warn("Scene key not found: "+v),this;var A,_=y.sys,E=_.settings.status;if(E>=T.START&&E<=T.CREATING)return this;if(E>=T.RUNNING&&E<=T.SLEEPING)_.shutdown(),_.sceneUpdate=u,_.start(x);else if(_.sceneUpdate=u,_.start(x),_.load&&(A=_.load),A&&_.settings.hasOwnProperty("pack")&&(A.reset(),A.addPack({payload:_.settings.pack})))return _.settings.status=T.LOADING,A.once(c.COMPLETE,this.payloadComplete,this),A.start(),this;return this.bootScene(y),this},stop:function(v,x){var y=this.getScene(v);if(y&&!y.sys.isTransitioning()&&y.sys.settings.status!==T.SHUTDOWN){var _=y.sys.load;_&&(_.off(c.COMPLETE,this.loadComplete,this),_.off(c.COMPLETE,this.payloadComplete,this)),y.sys.shutdown(x)}return this},switch:function(v,x,y){var _=this.getScene(v),E=this.getScene(x);return _&&E&&_!==E&&(this.sleep(v),this.isSleeping(x)?this.wake(x,y):this.start(x,y)),this},getAt:function(v){return this.scenes[v]},getIndex:function(v){var x=this.getScene(v);return this.scenes.indexOf(x)},bringToTop:function(v){if(this.isProcessing)return this.queueOp("bringToTop",v);var x=this.getIndex(v),y=this.scenes;if(-1!==x&&x<y.length){var _=this.getScene(v);y.splice(x,1),y.push(_)}return this},sendToBack:function(v){if(this.isProcessing)return this.queueOp("sendToBack",v);var x=this.getIndex(v);if(-1!==x&&x>0){var y=this.getScene(v);this.scenes.splice(x,1),this.scenes.unshift(y)}return this},moveDown:function(v){if(this.isProcessing)return this.queueOp("moveDown",v);var x=this.getIndex(v);if(x>0){var y=x-1,_=this.getScene(v),E=this.getAt(y);this.scenes[x]=E,this.scenes[y]=_}return this},moveUp:function(v){if(this.isProcessing)return this.queueOp("moveUp",v);var x=this.getIndex(v);if(x<this.scenes.length-1){var y=x+1,_=this.getScene(v),E=this.getAt(y);this.scenes[x]=E,this.scenes[y]=_}return this},moveAbove:function(v,x){if(v===x)return this;if(this.isProcessing)return this.queueOp("moveAbove",v,x);var y=this.getIndex(v),_=this.getIndex(x);if(-1!==y&&-1!==_&&_<y){var E=this.getAt(_);this.scenes.splice(_,1),this.scenes.splice(y+(_>y),0,E)}return this},moveBelow:function(v,x){if(v===x)return this;if(this.isProcessing)return this.queueOp("moveBelow",v,x);var y=this.getIndex(v),_=this.getIndex(x);if(-1!==y&&-1!==_&&_>y){var E=this.getAt(_);this.scenes.splice(_,1),0===y?this.scenes.unshift(E):this.scenes.splice(y-(_<y),0,E)}return this},queueOp:function(v,x,y,_){return this._queue.push({op:v,keyA:x,keyB:y,data:_}),this},swapPosition:function(v,x){if(v===x)return this;if(this.isProcessing)return this.queueOp("swapPosition",v,x);var y=this.getIndex(v),_=this.getIndex(x);if(y!==_&&-1!==y&&-1!==_){var E=this.getAt(y);this.scenes[y]=this.scenes[_],this.scenes[_]=E}return this},dump:function(){for(var v=[],x=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],y=0;y<this.scenes.length;y++){var _=this.scenes[y].sys,E=!_.settings.visible||_.settings.status!==T.RUNNING&&_.settings.status!==T.PAUSED?"[-] ":"[*] ";v.push(E+=_.settings.key+" ("+x[_.settings.status]+")")}console.log(v.join("\n"))},destroy:function(){for(var v=0;v<this.scenes.length;v++)this.scenes[v].sys.destroy();this.systemScene.sys.destroy(),this.update=u,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});S.exports=p},52209:(S,P,a)=>{var w=a(45319),T=a(83419),g=a(44594),f=a(95540),h=a(37277),c=new T({initialize:function(m){this.scene=m,this.systems=m.sys,this.settings=m.sys.settings,this.key=m.sys.settings.key,this.manager=m.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._willSleep=!1,this._willRemove=!1,m.sys.events.once(g.BOOT,this.boot,this),m.sys.events.on(g.START,this.pluginStart,this)},boot:function(){this.systems.events.once(g.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(g.SHUTDOWN,this.shutdown,this)},start:function(u,m){return void 0===u&&(u=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",u,m),this},restart:function(u){var m=this.key;return this.manager.queueOp("stop",m),this.manager.queueOp("start",m,u),this},transition:function(u){void 0===u&&(u={});var m=f(u,"target",!1),d=this.manager.getScene(m);if(!m||!this.checkValidTransition(d))return!1;var p=f(u,"duration",1e3);this._elapsed=0,this._target=d,this._duration=p,this._willSleep=f(u,"sleep",!1),this._willRemove=f(u,"remove",!1);var v=f(u,"onUpdate",null);v&&(this._onUpdate=v,this._onUpdateScope=f(u,"onUpdateScope",this.scene));var x=f(u,"allowInput",!1);this.settings.transitionAllowInput=x;var y=d.sys.settings;y.isTransition=!0,y.transitionFrom=this.scene,y.transitionDuration=p,y.transitionAllowInput=x,f(u,"moveAbove",!1)?this.manager.moveAbove(this.key,m):f(u,"moveBelow",!1)&&this.manager.moveBelow(this.key,m),d.sys.isSleeping()?d.sys.wake(f(u,"data")):this.manager.start(m,f(u,"data"));var _=f(u,"onStart",null),E=f(u,"onStartScope",this.scene);return _&&_.call(E,this.scene,d,p),this.systems.events.emit(g.TRANSITION_OUT,d,p),!0},checkValidTransition:function(u){return!(!u||u.sys.isActive()||u.sys.isTransitioning()||u===this.scene||this.systems.isTransitioning())},step:function(u,m){this._elapsed+=m,this.transitionProgress=w(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var m=this._target.sys.settings;this._target.sys.events.emit(g.TRANSITION_COMPLETE,this.scene),m.isTransition=!1,m.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(u,m,d,p){return this.manager.add(u,m,d,p)},launch:function(u,m){return u&&u!==this.key&&this.manager.queueOp("start",u,m),this},run:function(u,m){return u&&u!==this.key&&this.manager.queueOp("run",u,m),this},pause:function(u,m){return void 0===u&&(u=this.key),this.manager.queueOp("pause",u,m),this},resume:function(u,m){return void 0===u&&(u=this.key),this.manager.queueOp("resume",u,m),this},sleep:function(u,m){return void 0===u&&(u=this.key),this.manager.queueOp("sleep",u,m),this},wake:function(u,m){return void 0===u&&(u=this.key),this.manager.queueOp("wake",u,m),this},switch:function(u,m){return u!==this.key&&this.manager.queueOp("switch",this.key,u,m),this},stop:function(u,m){return void 0===u&&(u=this.key),this.manager.queueOp("stop",u,m),this},setActive:function(u,m,d){void 0===m&&(m=this.key);var p=this.manager.getScene(m);return p&&p.sys.setActive(u,d),this},setVisible:function(u,m){void 0===m&&(m=this.key);var d=this.manager.getScene(m);return d&&d.sys.setVisible(u),this},isSleeping:function(u){return void 0===u&&(u=this.key),this.manager.isSleeping(u)},isActive:function(u){return void 0===u&&(u=this.key),this.manager.isActive(u)},isPaused:function(u){return void 0===u&&(u=this.key),this.manager.isPaused(u)},isVisible:function(u){return void 0===u&&(u=this.key),this.manager.isVisible(u)},swapPosition:function(u,m){return void 0===m&&(m=this.key),u!==m&&this.manager.swapPosition(u,m),this},moveAbove:function(u,m){return void 0===m&&(m=this.key),u!==m&&this.manager.moveAbove(u,m),this},moveBelow:function(u,m){return void 0===m&&(m=this.key),u!==m&&this.manager.moveBelow(u,m),this},remove:function(u){return void 0===u&&(u=this.key),this.manager.remove(u),this},moveUp:function(u){return void 0===u&&(u=this.key),this.manager.moveUp(u),this},moveDown:function(u){return void 0===u&&(u=this.key),this.manager.moveDown(u),this},bringToTop:function(u){return void 0===u&&(u=this.key),this.manager.bringToTop(u),this},sendToBack:function(u){return void 0===u&&(u=this.key),this.manager.sendToBack(u),this},get:function(u){return this.manager.getScene(u)},getStatus:function(u){var m=this.manager.getScene(u);if(m)return m.sys.getStatus()},getIndex:function(u){return void 0===u&&(u=this.key),this.manager.getIndex(u)},shutdown:function(){var u=this.systems.events;u.off(g.SHUTDOWN,this.shutdown,this),u.off(g.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(g.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});h.register("ScenePlugin",c,"scenePlugin"),S.exports=c},55681:(S,P,a)=>{var w=a(89993),T=a(35154),g=a(46975),f=a(87033);S.exports={create:function(c){return"string"==typeof c?c={key:c}:void 0===c&&(c={}),{status:w.PENDING,key:T(c,"key",""),active:T(c,"active",!1),visible:T(c,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:T(c,"pack",!1),cameras:T(c,"cameras",null),map:T(c,"map",g(f,T(c,"mapAdd",{}))),physics:T(c,"physics",{}),loader:T(c,"loader",{}),plugins:T(c,"plugins",!1),input:T(c,"input",{})}}}},2368:(S,P,a)=>{var w=a(83419),T=a(89993),g=a(42363),f=a(44594),h=a(27397),c=a(52106),u=a(29747),m=a(55681),d=new w({initialize:function(v,x){this.scene=v,this.config=x,this.settings=m.create(x),this.sceneUpdate=u},init:function(p){this.settings.status=T.INIT,this.sceneUpdate=u,this.game=p,this.renderer=p.renderer,this.canvas=p.canvas,this.context=p.context;var v=p.plugins;this.plugins=v,v.addToScene(this,g.Global,[g.CoreScene,c(this),h(this)]),this.events.emit(f.BOOT,this),this.settings.isBooted=!0},step:function(p,v){var x=this.events;x.emit(f.PRE_UPDATE,p,v),x.emit(f.UPDATE,p,v),this.sceneUpdate.call(this.scene,p,v),x.emit(f.POST_UPDATE,p,v)},render:function(p){var v=this.displayList;v.depthSort(),this.events.emit(f.PRE_RENDER,p),this.cameras.render(p,v),this.events.emit(f.RENDER,p)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(p){var v=this.settings,x=this.getStatus();return x!==T.CREATING&&x!==T.RUNNING?console.warn("Cannot pause non-running Scene",v.key):this.settings.active&&(v.status=T.PAUSED,v.active=!1,this.events.emit(f.PAUSE,this,p)),this},resume:function(p){var v=this.events,x=this.settings;return this.settings.active||(x.status=T.RUNNING,x.active=!0,v.emit(f.RESUME,this,p)),this},sleep:function(p){var v=this.settings,x=this.getStatus();return x!==T.CREATING&&x!==T.RUNNING?console.warn("Cannot sleep non-running Scene",v.key):(v.status=T.SLEEPING,v.active=!1,v.visible=!1,this.events.emit(f.SLEEP,this,p)),this},wake:function(p){var v=this.events,x=this.settings;return x.status=T.RUNNING,x.active=!0,x.visible=!0,v.emit(f.WAKE,this,p),x.isTransition&&v.emit(f.TRANSITION_WAKE,x.transitionFrom,x.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var p=this.settings.status;return p>T.PENDING&&p<=T.RUNNING},isSleeping:function(){return this.settings.status===T.SLEEPING},isActive:function(){return this.settings.status===T.RUNNING},isPaused:function(){return this.settings.status===T.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(p){return this.settings.visible=p,this},setActive:function(p,v){return p?this.resume(v):this.pause(v)},start:function(p){var v=this.events,x=this.settings;p&&(x.data=p),x.status=T.START,x.active=!0,x.visible=!0,v.emit(f.START,this),v.emit(f.READY,this,p)},shutdown:function(p){var v=this.events,x=this.settings;v.off(f.TRANSITION_INIT),v.off(f.TRANSITION_START),v.off(f.TRANSITION_COMPLETE),v.off(f.TRANSITION_OUT),x.status=T.SHUTDOWN,x.active=!1,x.visible=!1,v.emit(f.SHUTDOWN,this,p)},destroy:function(){var p=this.events,v=this.settings;v.status=T.DESTROYED,v.active=!1,v.visible=!1,p.emit(f.DESTROY,this),p.removeAllListeners();for(var x=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],y=0;y<x.length;y++)this[x[y]]=null}});S.exports=d},89993:S=>{S.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},69830:S=>{S.exports="addedtoscene"},7919:S=>{S.exports="boot"},46763:S=>{S.exports="create"},11763:S=>{S.exports="destroy"},71555:S=>{S.exports="pause"},36735:S=>{S.exports="postupdate"},3809:S=>{S.exports="prerender"},90716:S=>{S.exports="preupdate"},58262:S=>{S.exports="ready"},91633:S=>{S.exports="removedfromscene"},10319:S=>{S.exports="render"},87132:S=>{S.exports="resume"},81961:S=>{S.exports="shutdown"},90194:S=>{S.exports="sleep"},6265:S=>{S.exports="start"},33178:S=>{S.exports="transitioncomplete"},43063:S=>{S.exports="transitioninit"},11259:S=>{S.exports="transitionout"},61611:S=>{S.exports="transitionstart"},45209:S=>{S.exports="transitionwake"},22966:S=>{S.exports="update"},21747:S=>{S.exports="wake"},44594:(S,P,a)=>{S.exports={ADDED_TO_SCENE:a(69830),BOOT:a(7919),CREATE:a(46763),DESTROY:a(11763),PAUSE:a(71555),POST_UPDATE:a(36735),PRE_RENDER:a(3809),PRE_UPDATE:a(90716),READY:a(58262),REMOVED_FROM_SCENE:a(91633),RENDER:a(10319),RESUME:a(87132),SHUTDOWN:a(81961),SLEEP:a(90194),START:a(6265),TRANSITION_COMPLETE:a(33178),TRANSITION_INIT:a(43063),TRANSITION_OUT:a(11259),TRANSITION_START:a(61611),TRANSITION_WAKE:a(45209),UPDATE:a(22966),WAKE:a(21747)}},62194:(S,P,a)=>{var w=a(89993),T=a(79291),g={Events:a(44594),GetPhysicsPlugins:a(27397),GetScenePlugins:a(52106),SceneManager:a(60903),ScenePlugin:a(52209),Settings:a(55681),Systems:a(2368)};g=T(!1,g,w),S.exports=g},30341:(S,P,a)=>{var w=a(83419),T=a(50792),g=a(14463),f=a(79291),h=a(29747),c=new w({Extends:T,initialize:function(m,d,p){T.call(this),this.manager=m,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=f(this.config,p),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(u){return!(!u||!u.name||"string"!=typeof u.name||(this.markers[u.name]?(console.error("addMarker "+u.name+" already exists in Sound"),1):(u=f(!0,{name:"",start:0,duration:this.totalDuration-(u.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},u),this.markers[u.name]=u,0)))},updateMarker:function(u){return!(!u||!u.name||"string"!=typeof u.name||(this.markers[u.name]?(this.markers[u.name]=f(!0,this.markers[u.name],u),0):(console.warn("Audio Marker: "+u.name+" missing in Sound: "+this.key),1)))},removeMarker:function(u){var m=this.markers[u];return m?(this.markers[u]=null,m):null},play:function(u,m){if(void 0===u&&(u=""),"object"==typeof u&&(m=u,u=""),"string"!=typeof u)return!1;if(u){if(!this.markers[u])return console.warn("Marker: "+u+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[u],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=f(this.currentConfig,m),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!(this.isPaused||!this.isPlaying||(this.isPlaying=!1,this.isPaused=!0,0))},resume:function(){return!(!this.isPaused||this.isPlaying||(this.isPlaying=!0,this.isPaused=!1,0))},stop:function(){return!(!this.isPaused&&!this.isPlaying||(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),0))},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:h,calculateRate:function(){var d=Math.pow(1.0005777895065548,this.currentConfig.detune+this.manager.detune);this.totalRate=this.currentConfig.rate*this.manager.rate*d},destroy:function(){this.pendingRemove||(this.stop(),this.emit(g.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});S.exports=c},85034:(S,P,a)=>{var w=a(83419),T=a(41786),g=a(50792),f=a(14463),h=a(8443),c=a(46710),u=a(58731),m=a(29747),d=a(26099),p=new w({Extends:g,initialize:function(x){g.call(this),this.game=x,this.jsonCache=x.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new d,x.events.on(h.BLUR,this.onGameBlur,this),x.events.on(h.FOCUS,this.onGameFocus,this),x.events.on(h.PRE_STEP,this.update,this),x.events.once(h.DESTROY,this.destroy,this)},add:m,addAudioSprite:function(v,x){void 0===x&&(x={});var y=this.add(v,x);for(var _ in y.spritemap=this.jsonCache.get(v).spritemap,y.spritemap)if(y.spritemap.hasOwnProperty(_)){var E=T(x),A=y.spritemap[_];E.loop=!!A.hasOwnProperty("loop")&&A.loop,y.addMarker({name:_,start:A.start,duration:A.end-A.start,config:E})}return y},get:function(v){return u(this.sounds,"key",v)},getAll:function(v){return v?c(this.sounds,"key",v):c(this.sounds)},getAllPlaying:function(){return c(this.sounds,"isPlaying",!0)},play:function(v,x){var y=this.add(v);return y.once(f.COMPLETE,y.destroy,y),x?x.name?(y.addMarker(x),y.play(x.name)):y.play(x):y.play()},playAudioSprite:function(v,x,y){var _=this.addAudioSprite(v);return _.once(f.COMPLETE,_.destroy,_),_.play(x,y)},remove:function(v){var x=this.sounds.indexOf(v);return-1!==x&&(v.destroy(),this.sounds.splice(x,1),!0)},removeAll:function(){this.sounds.forEach(function(v){v.destroy()}),this.sounds.length=0},removeByKey:function(v){for(var x=0,y=this.sounds.length-1;y>=0;y--){var _=this.sounds[y];_.key===v&&(_.destroy(),this.sounds.splice(y,1),x++)}return x},pauseAll:function(){this.forEachActiveSound(function(v){v.pause()}),this.emit(f.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(v){v.resume()}),this.emit(f.RESUME_ALL,this)},setListenerPosition:m,stopAll:function(){this.forEachActiveSound(function(v){v.stop()}),this.emit(f.STOP_ALL,this)},stopByKey:function(v){var x=0;return this.getAll(v).forEach(function(y){y.stop()&&x++}),x},isPlaying:function(v){var _,y=this.sounds.length-1;if(void 0===v){for(;y>=0;y--)if((_=this.sounds[y]).isPlaying)return!0}else for(;y>=0;y--)if((_=this.sounds[y]).key===v&&_.isPlaying)return!0;return!1},unlock:m,onBlur:m,onFocus:m,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(v,x){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(f.UNLOCKED,this));for(var y=this.sounds.length-1;y>=0;y--)this.sounds[y].pendingRemove&&this.sounds.splice(y,1);this.sounds.forEach(function(_){_.update(v,x)})},destroy:function(){this.game.events.off(h.BLUR,this.onGameBlur,this),this.game.events.off(h.FOCUS,this.onGameFocus,this),this.game.events.off(h.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(v,x){var y=this;this.sounds.forEach(function(_,E){_&&!_.pendingRemove&&v.call(x||y,_,E,y.sounds)})},setRate:function(v){return this.rate=v,this},rate:{get:function(){return this._rate},set:function(v){this._rate=v,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(f.GLOBAL_RATE,this,v)}},setDetune:function(v){return this.detune=v,this},detune:{get:function(){return this._detune},set:function(v){this._detune=v,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(f.GLOBAL_DETUNE,this,v)}}});S.exports=p},14747:(S,P,a)=>{var w=a(33684),T=a(25960),g=a(57490);S.exports={create:function(h){var c=h.config.audio,u=h.device.audio;return c.noAudio||!u.webAudio&&!u.audioData?new T(h):u.webAudio&&!c.disableWebAudio?new g(h):new w(h)}}},19723:S=>{S.exports="complete"},98882:S=>{S.exports="decodedall"},57506:S=>{S.exports="decoded"},73146:S=>{S.exports="destroy"},11305:S=>{S.exports="detune"},40577:S=>{S.exports="detune"},30333:S=>{S.exports="mute"},20394:S=>{S.exports="rate"},21802:S=>{S.exports="volume"},1299:S=>{S.exports="looped"},99190:S=>{S.exports="loop"},97125:S=>{S.exports="mute"},89259:S=>{S.exports="pan"},79986:S=>{S.exports="pauseall"},17586:S=>{S.exports="pause"},19618:S=>{S.exports="play"},42306:S=>{S.exports="rate"},10387:S=>{S.exports="resumeall"},48959:S=>{S.exports="resume"},9960:S=>{S.exports="seek"},19180:S=>{S.exports="stopall"},98328:S=>{S.exports="stop"},50401:S=>{S.exports="unlocked"},52498:S=>{S.exports="volume"},14463:(S,P,a)=>{S.exports={COMPLETE:a(19723),DECODED:a(57506),DECODED_ALL:a(98882),DESTROY:a(73146),DETUNE:a(11305),GLOBAL_DETUNE:a(40577),GLOBAL_MUTE:a(30333),GLOBAL_RATE:a(20394),GLOBAL_VOLUME:a(21802),LOOP:a(99190),LOOPED:a(1299),MUTE:a(97125),PAN:a(89259),PAUSE_ALL:a(79986),PAUSE:a(17586),PLAY:a(19618),RATE:a(42306),RESUME_ALL:a(10387),RESUME:a(48959),SEEK:a(9960),STOP_ALL:a(19180),STOP:a(98328),UNLOCKED:a(50401),VOLUME:a(52498)}},64895:(S,P,a)=>{var w=a(30341),T=a(83419),g=a(14463),f=a(45319),h=new T({Extends:w,initialize:function(u,m,d){if(void 0===d&&(d={}),this.tags=u.game.cache.audio.get(m),!this.tags)throw new Error('No cached audio asset with key "'+m);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,w.call(this,u,m,d)},play:function(c,u){return!(this.manager.isLocked(this,"play",[c,u])||!w.prototype.play.call(this,c,u)||!this.pickAndPlayAudioTag()||(this.emit(g.PLAY,this),0))},pause:function(){return!(this.manager.isLocked(this,"pause")||this.startTime>0||!w.prototype.pause.call(this)||(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(g.PAUSE,this),0))},resume:function(){return!(this.manager.isLocked(this,"resume")||this.startTime>0||!w.prototype.resume.call(this)||!this.pickAndPlayAudioTag()||(this.emit(g.RESUME,this),0))},stop:function(){return!(this.manager.isLocked(this,"stop")||!w.prototype.stop.call(this)||(this.stopAndReleaseAudioTag(),this.emit(g.STOP,this),0))},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var u=this.currentConfig.delay,m=(this.currentMarker?this.currentMarker.start:0)+this.currentConfig.seek;return this.previousTime=m,this.audio.currentTime=m,this.applyConfig(),0===u?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*u,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var c=0;c<this.tags.length;c++){var u=this.tags[c];if("false"===u.dataset.used)return u.dataset.used="true",this.audio=u,!0}if(!this.manager.override)return!1;var m=[];this.manager.forEachActiveSound(function(p){p.key===this.key&&p.audio&&m.push(p)},this),m.sort(function(p,v){return p.loop===v.loop?v.seek/v.duration-p.seek/p.duration:p.loop?1:-1});var d=m[0];return this.audio=d.audio,d.reset(),d.audio=null,d.startTime=0,d.previousTime=0,!0},playCatchPromise:function(){var c=this.audio.play();c&&c.catch(function(u){console.warn(u)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){w.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(c){if(this.isPlaying){if(this.startTime>0)return void(this.startTime<c-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,c-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise()));var u=this.currentMarker?this.currentMarker.start:0,m=u+this.duration,d=this.audio.currentTime;if(this.currentConfig.loop)d>=m-this.manager.loopEndOffset?(this.audio.currentTime=u+Math.max(0,d-m),d=this.audio.currentTime):d<u&&(this.audio.currentTime+=u,d=this.audio.currentTime),d<this.previousTime&&this.emit(g.LOOPED,this);else if(d>=m)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit(g.COMPLETE,this);this.previousTime=d}},destroy:function(){w.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=f(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){w.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(c){this.currentConfig.mute=c,!this.manager.isLocked(this,"mute",c)&&(this.updateMute(),this.emit(g.MUTE,this,c))}},setMute:function(c){return this.mute=c,this},volume:{get:function(){return this.currentConfig.volume},set:function(c){this.currentConfig.volume=c,!this.manager.isLocked(this,"volume",c)&&(this.updateVolume(),this.emit(g.VOLUME,this,c))}},setVolume:function(c){return this.volume=c,this},rate:{get:function(){return this.currentConfig.rate},set:function(c){this.currentConfig.rate=c,!this.manager.isLocked(this,g.RATE,c)&&(this.calculateRate(),this.emit(g.RATE,this,c))}},setRate:function(c){return this.rate=c,this},detune:{get:function(){return this.currentConfig.detune},set:function(c){this.currentConfig.detune=c,!this.manager.isLocked(this,g.DETUNE,c)&&(this.calculateRate(),this.emit(g.DETUNE,this,c))}},setDetune:function(c){return this.detune=c,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(c){this.manager.isLocked(this,"seek",c)||this.startTime>0||(this.isPlaying||this.isPaused)&&(c=Math.min(Math.max(0,c),this.duration),this.isPlaying?(this.previousTime=c,this.audio.currentTime=c):this.isPaused&&(this.currentConfig.seek=c),this.emit(g.SEEK,this,c))}},setSeek:function(c){return this.seek=c,this},loop:{get:function(){return this.currentConfig.loop},set:function(c){this.currentConfig.loop=c,!this.manager.isLocked(this,"loop",c)&&(this.audio&&(this.audio.loop=c),this.emit(g.LOOP,this,c))}},setLoop:function(c){return this.loop=c,this},pan:{get:function(){return this.currentConfig.pan},set:function(c){this.currentConfig.pan=c,this.emit(g.PAN,this,c)}},setPan:function(c){return this.pan=c,this}});S.exports=h},33684:(S,P,a)=>{var w=a(85034),T=a(83419),g=a(14463),f=a(64895),h=new T({Extends:w,initialize:function(u){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,w.call(this,u)},add:function(c,u){var m=new f(this,c,u);return this.sounds.push(m),m},unlock:function(){this.locked=!1;var c=this;if(this.game.cache.audio.entries.each(function(p,v){for(var x=0;x<v.length;x++)if("true"===v[x].dataset.locked)return c.locked=!0,!1;return!0}),this.locked){var u=!1,m=function(){u=!0},d=function(){if(u)u=!1;else{document.body.removeEventListener("touchmove",m),document.body.removeEventListener("touchend",d);var p=[];if(c.game.cache.audio.entries.each(function(x,y){for(var _=0;_<y.length;_++){var E=y[_];"true"===E.dataset.locked&&p.push(E)}return!0}),0!==p.length){var v=p[p.length-1];v.oncanplaythrough=function(){v.oncanplaythrough=null,p.forEach(function(x){x.dataset.locked="false"}),c.unlocked=!0},p.forEach(function(x){x.load()})}}};this.once(g.UNLOCKED,function(){for(this.forEachActiveSound(function(v){null===v.currentMarker&&0===v.duration&&(v.duration=v.tags[0].duration),v.totalDuration=v.tags[0].duration});this.lockedActionsQueue.length;){var p=this.lockedActionsQueue.shift();p.sound[p.prop].apply?p.sound[p.prop].apply(p.sound,p.value||[]):p.sound[p.prop]=p.value}},this),document.body.addEventListener("touchmove",m,!1),document.body.addEventListener("touchend",d,!1)}},onBlur:function(){this.forEachActiveSound(function(c){c.isPlaying&&(this.onBlurPausedSounds.push(c),c.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(c){c.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){w.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(c,u,m){return"true"===c.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:c,prop:u,value:m}),!0)},setMute:function(c){return this.mute=c,this},mute:{get:function(){return this._mute},set:function(c){this._mute=c,this.forEachActiveSound(function(u){u.updateMute()}),this.emit(g.GLOBAL_MUTE,this,c)}},setVolume:function(c){return this.volume=c,this},volume:{get:function(){return this._volume},set:function(c){this._volume=c,this.forEachActiveSound(function(u){u.updateVolume()}),this.emit(g.GLOBAL_VOLUME,this,c)}}});S.exports=h},23717:(S,P,a)=>{S.exports={SoundManagerCreator:a(14747),Events:a(14463),BaseSound:a(30341),BaseSoundManager:a(85034),WebAudioSound:a(71741),WebAudioSoundManager:a(57490),HTML5AudioSound:a(64895),HTML5AudioSoundManager:a(33684),NoAudioSound:a(4603),NoAudioSoundManager:a(25960)}},4603:(S,P,a)=>{var w=a(30341),T=a(83419),g=a(50792),f=a(79291),h=a(29747),c=function(){return!1},u=function(){return null},m=function(){return this},d=new T({Extends:g,initialize:function(v,x,y){void 0===y&&(y={}),g.call(this),this.manager=v,this.key=x,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=f({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},y),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:c,updateMarker:c,removeMarker:u,play:c,pause:c,resume:c,stop:c,setMute:m,setVolume:m,setRate:m,setDetune:m,setSeek:m,setLoop:m,setPan:m,applyConfig:u,resetConfig:u,update:h,calculateRate:u,destroy:function(){w.prototype.destroy.call(this)}});S.exports=d},25960:(S,P,a)=>{var w=a(85034),T=a(83419),g=a(50792),f=a(4603),h=a(29747),c=new T({Extends:g,initialize:function(m){g.call(this),this.game=m,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(u,m){var d=new f(this,u,m);return this.sounds.push(d),d},addAudioSprite:function(u,m){var d=this.add(u,m);return d.spritemap={},d},get:function(u){return w.prototype.get.call(this,u)},getAll:function(u){return w.prototype.getAll.call(this,u)},play:function(u,m){return!1},playAudioSprite:function(u,m,d){return!1},remove:function(u){return w.prototype.remove.call(this,u)},removeAll:function(){return w.prototype.removeAll.call(this)},removeByKey:function(u){return w.prototype.removeByKey.call(this,u)},stopByKey:function(u){return w.prototype.stopByKey.call(this,u)},onBlur:h,onFocus:h,onGameBlur:h,onGameFocus:h,pauseAll:h,resumeAll:h,stopAll:h,update:h,setRate:h,setDetune:h,setMute:h,setVolume:h,unlock:h,forEachActiveSound:function(u,m){w.prototype.forEachActiveSound.call(this,u,m)},destroy:function(){w.prototype.destroy.call(this)}});S.exports=c},71741:(S,P,a)=>{var w=a(30341),T=a(83419),g=a(14463),f=a(95540),h=new T({Extends:w,initialize:function(u,m,d){if(void 0===d&&(d={}),this.audioBuffer=u.game.cache.audio.get(m),!this.audioBuffer)throw new Error('Audio key "'+m+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=u.context.createGain(),this.volumeNode=u.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),u.context.createPanner&&(this.spatialNode=u.context.createPanner(),this.volumeNode.connect(this.spatialNode)),u.context.createStereoPanner?(this.pannerNode=u.context.createStereoPanner(),u.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(u.destination)):u.context.createPanner?this.spatialNode.connect(u.destination):this.volumeNode.connect(u.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,w.call(this,u,m,d)},play:function(c,u){return!!w.prototype.play.call(this,c,u)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(g.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime||!w.prototype.pause.call(this)||(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(g.PAUSE,this),0))},resume:function(){return!(this.manager.context.currentTime<this.startTime||!w.prototype.resume.call(this)||(this.createAndStartBufferSource(),this.emit(g.RESUME,this),0))},stop:function(){return!!w.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(g.STOP,this),!0)},createAndStartBufferSource:function(){var c=this.currentConfig.seek,m=this.manager.context.currentTime+this.currentConfig.delay,d=(this.currentMarker?this.currentMarker.start:0)+c,p=this.duration-c;this.playTime=m-c,this.startTime=m,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,m),Math.max(0,d),Math.max(0,p)),this.resetConfig()},createAndStartLoopBufferSource:function(){var c=this.getLoopTime(),u=this.currentMarker?this.currentMarker.start:0,m=this.duration;this.loopTime=c,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,c),Math.max(0,u),Math.max(0,m))},createBufferSource:function(){var c=this,u=this.manager.context.createBufferSource();return u.buffer=this.audioBuffer,u.connect(this.muteNode),u.onended=function(m){var d=m.target;(d===c.source||d===c.loopSource)&&(c.currentConfig.loop?c.hasLooped=!0:c.hasEnded=!0)},u},stopAndRemoveBufferSource:function(){if(this.source){var c=this.source;this.source=null,c.stop(),c.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var c=this.currentConfig.source;if(c&&this.manager.context.createPanner){var u=this.spatialNode;u.panningModel=f(c,"panningModel","equalpower"),u.distanceModel=f(c,"distanceModel","inverse"),u.orientationX.value=f(c,"orientationX",0),u.orientationY.value=f(c,"orientationY",0),u.orientationZ.value=f(c,"orientationZ",-1),u.refDistance=f(c,"refDistance",1),u.maxDistance=f(c,"maxDistance",1e4),u.rolloffFactor=f(c,"rolloffFactor",1),u.coneInnerAngle=f(c,"coneInnerAngle",360),u.coneOuterAngle=f(c,"coneOuterAngle",0),u.coneOuterGain=f(c,"coneOuterGain",0),this.spatialSource=f(c,"follow",null),this.spatialSource||(u.positionX.value=f(c,"x",0),u.positionY.value=f(c,"y",0),u.positionZ.value=f(c,"z",0))}w.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(c){this.spatialNode&&(this.spatialNode.positionX.value=c)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(c){this.spatialNode&&(this.spatialNode.positionY.value=c)}},update:function(){if(this.isPlaying&&this.spatialSource){var c=f(this.spatialSource,"x",null),u=f(this.spatialSource,"y",null);c&&c!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=c),u&&u!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=u)}this.hasEnded?(w.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(g.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(g.LOOPED,this))},destroy:function(){this.pendingRemove||(w.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){w.prototype.calculateRate.call(this);var c=this.manager.context.currentTime;this.source&&"number"==typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,c),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,c)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var c=0,u=0;u<this.rateUpdates.length;u++)c+=((u<this.rateUpdates.length-1?this.rateUpdates[u+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[u].time)*this.rateUpdates[u].rate;return c},getLoopTime:function(){for(var c=0,u=0;u<this.rateUpdates.length-1;u++)c+=(this.rateUpdates[u+1].time-this.rateUpdates[u].time)*this.rateUpdates[u].rate;var m=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+m.time+(this.duration-c)/m.rate},rate:{get:function(){return this.currentConfig.rate},set:function(c){this.currentConfig.rate=c,this.calculateRate(),this.emit(g.RATE,this,c)}},setRate:function(c){return this.rate=c,this},detune:{get:function(){return this.currentConfig.detune},set:function(c){this.currentConfig.detune=c,this.calculateRate(),this.emit(g.DETUNE,this,c)}},setDetune:function(c){return this.detune=c,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(c){this.currentConfig.mute=c,this.muteNode.gain.setValueAtTime(c?0:1,0),this.emit(g.MUTE,this,c)}},setMute:function(c){return this.mute=c,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(c){this.currentConfig.volume=c,this.volumeNode.gain.setValueAtTime(c,0),this.emit(g.VOLUME,this,c)}},setVolume:function(c){return this.volume=c,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(c){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(c=Math.min(Math.max(0,c),this.duration),this.currentConfig.seek=c,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(g.SEEK,this,c))}},setSeek:function(c){return this.seek=c,this},loop:{get:function(){return this.currentConfig.loop},set:function(c){this.currentConfig.loop=c,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),c&&this.createAndStartLoopBufferSource()),this.emit(g.LOOP,this,c)}},setLoop:function(c){return this.loop=c,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(c){this.currentConfig.pan=c,this.pannerNode&&this.pannerNode.pan.setValueAtTime(c,this.manager.context.currentTime),this.emit(g.PAN,this,c)}},setPan:function(c){return this.pan=c,this}});S.exports=h},57490:(S,P,a)=>{var w=a(53134),T=a(85034),g=a(83419),f=a(14463),h=a(8443),c=a(71741),u=a(95540),m=new g({Extends:T,initialize:function(p){this.context=this.createAudioContext(p),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),T.call(this,p),this.locked&&p.isBooted?this.unlock():p.events.once(h.BOOT,this.unlock,this)},createAudioContext:function(d){var p=d.config.audio;return p.context?(p.context.resume(),p.context):window.hasOwnProperty("AudioContext")?new AudioContext:window.hasOwnProperty("webkitAudioContext")?new window.webkitAudioContext:void 0},setAudioContext:function(d){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=d,this.masterMuteNode=d.createGain(),this.masterVolumeNode=d.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(d.destination),this.destination=this.masterMuteNode,this},add:function(d,p){var v=new c(this,d,p);return this.sounds.push(v),v},decodeAudio:function(d,p){var v;v=Array.isArray(d)?d:[{key:d,data:p}];for(var x=this.game.cache.audio,y=v.length,_=0;_<v.length;_++){var E=v[_],A=E.key,M=E.data;"string"==typeof M&&(M=w(M));var I=function(F,N){x.add(F,N),this.emit(f.DECODED,F),0==--y&&this.emit(f.DECODED_ALL)}.bind(this,A),k=function(F,N){console.error("Error decoding audio: "+F+" - ",N?N.message:""),0==--y&&this.emit(f.DECODED_ALL)}.bind(this,A);this.context.decodeAudioData(M,I,k)}},setListenerPosition:function(d,p){return void 0===d&&(d=this.game.scale.width/2),void 0===p&&(p=this.game.scale.height/2),this.listenerPosition.set(d,p),this},unlock:function(){var d=this,p=document.body,v=function x(){if(d.context&&p){var y=p.removeEventListener.bind(p);d.context.resume().then(function(){y("touchstart",x),y("touchend",x),y("click",x),y("keydown",x),d.unlocked=!0},function(){y("touchstart",x),y("touchend",x),y("click",x),y("keydown",x)})}};p&&(p.addEventListener("touchstart",v,!1),p.addEventListener("touchend",v,!1),p.addEventListener("click",v,!1),p.addEventListener("keydown",v,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var d=this.context;d&&!this.locked&&("suspended"===d.state||"interrupted"===d.state)&&d.resume()},update:function(d,p){var v=this.context.listener;if(v&&void 0!==v.positionX){var x=u(this.listenerPosition,"x",null),y=u(this.listenerPosition,"y",null);x&&x!==this._spatialx&&(this._spatialx=v.positionX.value=x),y&&y!==this._spatialy&&(this._spatialy=v.positionY.value=y)}T.prototype.update.call(this,d,p),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var d=this;this.context.close().then(function(){d.context=null})}T.prototype.destroy.call(this)},setMute:function(d){return this.mute=d,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(d){this.masterMuteNode.gain.setValueAtTime(d?0:1,0),this.emit(f.GLOBAL_MUTE,this,d)}},setVolume:function(d){return this.volume=d,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(d){this.masterVolumeNode.gain.setValueAtTime(d,0),this.emit(f.GLOBAL_VOLUME,this,d)}}});S.exports=m},73162:(S,P,a)=>{var w=a(37105),T=a(83419),g=a(29747),f=a(19186),h=new T({initialize:function(u){this.parent=u,this.list=[],this.position=0,this.addCallback=g,this.removeCallback=g,this._sortKey=""},add:function(c,u){return u?w.Add(this.list,c):w.Add(this.list,c,0,this.addCallback,this)},addAt:function(c,u,m){return m?w.AddAt(this.list,c,u):w.AddAt(this.list,c,u,0,this.addCallback,this)},getAt:function(c){return this.list[c]},getIndex:function(c){return this.list.indexOf(c)},sort:function(c,u){return c?(void 0===u&&(u=function(m,d){return m[c]-d[c]}),f(this.list,u),this):this},getByName:function(c){return w.GetFirst(this.list,"name",c)},getRandom:function(c,u){return w.GetRandom(this.list,c,u)},getFirst:function(c,u,m,d){return w.GetFirst(this.list,c,u,m,d)},getAll:function(c,u,m,d){return w.GetAll(this.list,c,u,m,d)},count:function(c,u){return w.CountAllMatching(this.list,c,u)},swap:function(c,u){w.Swap(this.list,c,u)},moveTo:function(c,u){return w.MoveTo(this.list,c,u)},moveAbove:function(c,u){return w.MoveAbove(this.list,c,u)},moveBelow:function(c,u){return w.MoveBelow(this.list,c,u)},remove:function(c,u){return u?w.Remove(this.list,c):w.Remove(this.list,c,this.removeCallback,this)},removeAt:function(c,u){return u?w.RemoveAt(this.list,c):w.RemoveAt(this.list,c,this.removeCallback,this)},removeBetween:function(c,u,m){return m?w.RemoveBetween(this.list,c,u):w.RemoveBetween(this.list,c,u,this.removeCallback,this)},removeAll:function(c){for(var u=this.list.length;u--;)this.remove(this.list[u],c);return this},bringToTop:function(c){return w.BringToTop(this.list,c)},sendToBack:function(c){return w.SendToBack(this.list,c)},moveUp:function(c){return w.MoveUp(this.list,c),c},moveDown:function(c){return w.MoveDown(this.list,c),c},reverse:function(){return this.list.reverse(),this},shuffle:function(){return w.Shuffle(this.list),this},replace:function(c,u){return w.Replace(this.list,c,u)},exists:function(c){return this.list.indexOf(c)>-1},setAll:function(c,u,m,d){return w.SetAll(this.list,c,u,m,d),this},each:function(c,u){for(var m=[null],d=2;d<arguments.length;d++)m.push(arguments[d]);for(d=0;d<this.list.length;d++)m[0]=this.list[d],c.apply(u,m)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});S.exports=h},90330:(S,P,a)=>{var T=new(a(83419))({initialize:function(f){this.entries={},this.size=0,this.setAll(f)},setAll:function(g){if(Array.isArray(g))for(var f=0;f<g.length;f++)this.set(g[f][0],g[f][1]);return this},set:function(g,f){return this.has(g)||this.size++,this.entries[g]=f,this},get:function(g){if(this.has(g))return this.entries[g]},getArray:function(){var g=[],f=this.entries;for(var h in f)g.push(f[h]);return g},has:function(g){return this.entries.hasOwnProperty(g)},delete:function(g){return this.has(g)&&(delete this.entries[g],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(g){delete this.entries[g]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var g=[],f=this.entries;for(var h in f)g.push(f[h]);return g},dump:function(){var g=this.entries;for(var f in console.group("Map"),g)console.log(f,g[f]);console.groupEnd()},each:function(g){var f=this.entries;for(var h in f)if(!1===g(h,f[h]))break;return this},contains:function(g){var f=this.entries;for(var h in f)if(f[h]===g)return!0;return!1},merge:function(g,f){void 0===f&&(f=!1);var h=this.entries,c=g.entries;for(var u in c)h.hasOwnProperty(u)&&f?h[u]=c[u]:this.set(u,c[u]);return this}});S.exports=T},25774:(S,P,a)=>{var w=a(83419),T=a(50792),g=a(82348),f=new w({Extends:T,initialize:function(){T.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(h){return this._active.indexOf(h)>-1},isPending:function(h){return this._toProcess>0&&this._pending.indexOf(h)>-1},isDestroying:function(h){return this._destroy.indexOf(h)>-1},add:function(h){return this.checkQueue&&this.isActive(h)&&!this.isDestroying(h)||this.isPending(h)||(this._pending.push(h),this._toProcess++),h},remove:function(h){if(this.isPending(h)){var c=this._pending,u=c.indexOf(h);-1!==u&&c.splice(u,1)}else this.isActive(h)&&(this._destroy.push(h),this._toProcess++);return h},removeAll:function(){for(var h=this._active,c=this._destroy,u=h.length;u--;)c.push(h[u]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var u,m,h=this._destroy,c=this._active;for(u=0;u<h.length;u++){var d=c.indexOf(m=h[u]);-1!==d&&(c.splice(d,1),this.emit(g.PROCESS_QUEUE_REMOVE,m))}for(h.length=0,h=this._pending,u=0;u<h.length;u++)m=h[u],(!this.checkQueue||this.checkQueue&&-1===c.indexOf(m))&&(c.push(m),this.emit(g.PROCESS_QUEUE_ADD,m));return h.length=0,this._toProcess=0,c},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});S.exports=f},59542:(S,P,a)=>{var w=a(43886);function T(M){if(!(this instanceof T))return new T(M,[".left",".top",".right",".bottom"]);this._maxEntries=Math.max(4,M||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function g(M,I,k){if(!k)return I.indexOf(M);for(var F=0;F<I.length;F++)if(k(M,I[F]))return F;return-1}function f(M,I){h(M,0,M.children.length,I,M)}function h(M,I,k,F,N){N||(N=E(null)),N.minX=1/0,N.minY=1/0,N.maxX=-1/0,N.maxY=-1/0;for(var B,V=I;V<k;V++)B=M.children[V],c(N,M.leaf?F(B):B);return N}function c(M,I){return M.minX=Math.min(M.minX,I.minX),M.minY=Math.min(M.minY,I.minY),M.maxX=Math.max(M.maxX,I.maxX),M.maxY=Math.max(M.maxY,I.maxY),M}function u(M,I){return M.minX-I.minX}function m(M,I){return M.minY-I.minY}function d(M){return(M.maxX-M.minX)*(M.maxY-M.minY)}function p(M){return M.maxX-M.minX+(M.maxY-M.minY)}function v(M,I){return(Math.max(I.maxX,M.maxX)-Math.min(I.minX,M.minX))*(Math.max(I.maxY,M.maxY)-Math.min(I.minY,M.minY))}function x(M,I){var k=Math.max(M.minX,I.minX),F=Math.max(M.minY,I.minY),N=Math.min(M.maxX,I.maxX),V=Math.min(M.maxY,I.maxY);return Math.max(0,N-k)*Math.max(0,V-F)}function y(M,I){return M.minX<=I.minX&&M.minY<=I.minY&&I.maxX<=M.maxX&&I.maxY<=M.maxY}function _(M,I){return I.minX<=M.maxX&&I.minY<=M.maxY&&I.maxX>=M.minX&&I.maxY>=M.minY}function E(M){return{children:M,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function A(M,I,k,F,N){for(var B,V=[I,k];V.length;)!((k=V.pop())-(I=V.pop())<=F)&&(B=I+Math.ceil((k-I)/F/2)*F,w(M,B,I,k,N),V.push(I,B,B,k))}T.prototype={all:function(){return this._all(this.data,[])},search:function(M){var I=this.data,k=[],F=this.toBBox;if(!_(M,I))return k;for(var V,B,H,Q,N=[];I;){for(V=0,B=I.children.length;V<B;V++)H=I.children[V],_(M,Q=I.leaf?F(H):H)&&(I.leaf?k.push(H):y(M,Q)?this._all(H,k):N.push(H));I=N.pop()}return k},collides:function(M){var I=this.data,k=this.toBBox;if(!_(M,I))return!1;for(var N,V,B,H,F=[];I;){for(N=0,V=I.children.length;N<V;N++)if(B=I.children[N],_(M,H=I.leaf?k(B):B)){if(I.leaf||y(M,H))return!0;F.push(B)}I=F.pop()}return!1},load:function(M){if(!M||!M.length)return this;if(M.length<this._minEntries){for(var I=0,k=M.length;I<k;I++)this.insert(M[I]);return this}var F=this._build(M.slice(),0,M.length-1,0);if(this.data.children.length)if(this.data.height===F.height)this._splitRoot(this.data,F);else{if(this.data.height<F.height){var N=this.data;this.data=F,F=N}this._insert(F,this.data.height-F.height-1,!0)}else this.data=F;return this},insert:function(M){return M&&this._insert(M,this.data.height-1),this},clear:function(){return this.data=E([]),this},remove:function(M,I){if(!M)return this;for(var B,H,Q,G,k=this.data,F=this.toBBox(M),N=[],V=[];k||N.length;){if(k||(k=N.pop(),H=N[N.length-1],B=V.pop(),G=!0),k.leaf&&-1!==(Q=g(M,k.children,I)))return k.children.splice(Q,1),N.push(k),this._condense(N),this;G||k.leaf||!y(k,F)?H?(B++,k=H.children[B],G=!1):k=null:(N.push(k),V.push(B),B=0,H=k,k=k.children[0])}return this},toBBox:function(M){return M},compareMinX:u,compareMinY:m,toJSON:function(){return this.data},fromJSON:function(M){return this.data=M,this},_all:function(M,I){for(var k=[];M;)M.leaf?I.push.apply(I,M.children):k.push.apply(k,M.children),M=k.pop();return I},_build:function(M,I,k,F){var B,N=k-I+1,V=this._maxEntries;if(N<=V)return f(B=E(M.slice(I,k+1)),this.toBBox),B;F||(F=Math.ceil(Math.log(N)/Math.log(V)),V=Math.ceil(N/Math.pow(V,F-1))),(B=E([])).leaf=!1,B.height=F;var G,K,tt,at,H=Math.ceil(N/V),Q=H*Math.ceil(Math.sqrt(V));for(A(M,I,k,Q,this.compareMinX),G=I;G<=k;G+=Q)for(A(M,G,tt=Math.min(G+Q-1,k),H,this.compareMinY),K=G;K<=tt;K+=H)at=Math.min(K+H-1,tt),B.children.push(this._build(M,K,at,F-1));return f(B,this.toBBox),B},_chooseSubtree:function(M,I,k,F){for(var N,V,B,H,Q,G,K,tt;F.push(I),!I.leaf&&F.length-1!==k;){for(K=tt=1/0,N=0,V=I.children.length;N<V;N++)Q=d(B=I.children[N]),(G=v(M,B)-Q)<tt?(tt=G,K=Q<K?Q:K,H=B):G===tt&&Q<K&&(K=Q,H=B);I=H||I.children[0]}return I},_insert:function(M,I,k){var N=k?M:(0,this.toBBox)(M),V=[],B=this._chooseSubtree(N,this.data,I,V);for(B.children.push(M),c(B,N);I>=0&&V[I].children.length>this._maxEntries;)this._split(V,I),I--;this._adjustParentBBoxes(N,V,I)},_split:function(M,I){var k=M[I],F=k.children.length,N=this._minEntries;this._chooseSplitAxis(k,N,F);var V=this._chooseSplitIndex(k,N,F),B=E(k.children.splice(V,k.children.length-V));B.height=k.height,B.leaf=k.leaf,f(k,this.toBBox),f(B,this.toBBox),I?M[I-1].children.push(B):this._splitRoot(k,B)},_splitRoot:function(M,I){this.data=E([M,I]),this.data.height=M.height+1,this.data.leaf=!1,f(this.data,this.toBBox)},_chooseSplitIndex:function(M,I,k){var F,N,V,B,H,Q,G,K;for(Q=G=1/0,F=I;F<=k-I;F++)B=x(N=h(M,0,F,this.toBBox),V=h(M,F,k,this.toBBox)),H=d(N)+d(V),B<Q?(Q=B,K=F,G=H<G?H:G):B===Q&&H<G&&(G=H,K=F);return K},_chooseSplitAxis:function(M,I,k){var F=M.leaf?this.compareMinX:u,N=M.leaf?this.compareMinY:m;this._allDistMargin(M,I,k,F)<this._allDistMargin(M,I,k,N)&&M.children.sort(F)},_allDistMargin:function(M,I,k,F){M.children.sort(F);var Q,G,N=this.toBBox,V=h(M,0,I,N),B=h(M,k-I,k,N),H=p(V)+p(B);for(Q=I;Q<k-I;Q++)G=M.children[Q],c(V,M.leaf?N(G):G),H+=p(V);for(Q=k-I-1;Q>=I;Q--)G=M.children[Q],c(B,M.leaf?N(G):G),H+=p(B);return H},_adjustParentBBoxes:function(M,I,k){for(var F=k;F>=0;F--)c(I[F],M)},_condense:function(M){for(var k,I=M.length-1;I>=0;I--)0===M[I].children.length?I>0?(k=M[I-1].children).splice(k.indexOf(M[I]),1):this.clear():f(M[I],this.toBBox)},compareMinX:function(M,I){return M.left-I.left},compareMinY:function(M,I){return M.top-I.top},toBBox:function(M){return{minX:M.left,minY:M.top,maxX:M.right,maxY:M.bottom}}},S.exports=T},35072:(S,P,a)=>{var T=new(a(83419))({initialize:function(f){if(this.entries=[],Array.isArray(f))for(var h=0;h<f.length;h++)this.set(f[h])},set:function(g){return-1===this.entries.indexOf(g)&&this.entries.push(g),this},get:function(g,f){for(var h=0;h<this.entries.length;h++){var c=this.entries[h];if(c[g]===f)return c}},getArray:function(){return this.entries.slice(0)},delete:function(g){var f=this.entries.indexOf(g);return f>-1&&this.entries.splice(f,1),this},dump:function(){console.group("Set");for(var g=0;g<this.entries.length;g++)console.log(this.entries[g]);console.groupEnd()},each:function(g,f){var h,c=this.entries.slice(),u=c.length;if(f)for(h=0;h<u&&!1!==g.call(f,c[h],h);h++);else for(h=0;h<u&&!1!==g(c[h],h);h++);return this},iterate:function(g,f){var h,c=this.entries.length;if(f)for(h=0;h<c&&!1!==g.call(f,this.entries[h],h);h++);else for(h=0;h<c&&!1!==g(this.entries[h],h);h++);return this},iterateLocal:function(g){var f,h=[];for(f=1;f<arguments.length;f++)h.push(arguments[f]);var c=this.entries.length;for(f=0;f<c;f++){var u=this.entries[f];u[g].apply(u,h)}return this},clear:function(){return this.entries.length=0,this},contains:function(g){return this.entries.indexOf(g)>-1},union:function(g){var f=new T;return g.entries.forEach(function(h){f.set(h)}),this.entries.forEach(function(h){f.set(h)}),f},intersect:function(g){var f=new T;return this.entries.forEach(function(h){g.contains(h)&&f.set(h)}),f},difference:function(g){var f=new T;return this.entries.forEach(function(h){g.contains(h)||f.set(h)}),f},size:{get:function(){return this.entries.length},set:function(g){return g<this.entries.length?this.entries.length=g:this.entries.length}}});S.exports=T},86555:(S,P,a)=>{var w=a(45319),T=a(83419),g=a(56583),f=a(26099),h=new T({initialize:function(u,m,d,p){void 0===u&&(u=0),void 0===m&&(m=u),void 0===d&&(d=0),void 0===p&&(p=null),this._width=u,this._height=m,this._parent=p,this.aspectMode=d,this.aspectRatio=0===m?1:u/m,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new f},setAspectMode:function(c){return void 0===c&&(c=0),this.aspectMode=c,this.setSize(this._width,this._height)},setSnap:function(c,u){return void 0===c&&(c=0),void 0===u&&(u=c),this.snapTo.set(c,u),this.setSize(this._width,this._height)},setParent:function(c){return this._parent=c,this.setSize(this._width,this._height)},setMin:function(c,u){return void 0===c&&(c=0),void 0===u&&(u=c),this.minWidth=w(c,0,this.maxWidth),this.minHeight=w(u,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(c,u){return void 0===c&&(c=Number.MAX_VALUE),void 0===u&&(u=c),this.maxWidth=w(c,this.minWidth,Number.MAX_VALUE),this.maxHeight=w(u,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(c,u){switch(void 0===c&&(c=0),void 0===u&&(u=c),this.aspectMode){case h.NONE:this._width=this.getNewWidth(g(c,this.snapTo.x)),this._height=this.getNewHeight(g(u,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height;break;case h.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(g(c,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case h.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(g(u,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case h.FIT:this.constrain(c,u,!0);break;case h.ENVELOP:this.constrain(c,u,!1)}return this},setAspectRatio:function(c){return this.aspectRatio=c,this.setSize(this._width,this._height)},resize:function(c,u){return this._width=this.getNewWidth(g(c,this.snapTo.x)),this._height=this.getNewHeight(g(u,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height,this},getNewWidth:function(c,u){return void 0===u&&(u=!0),c=w(c,this.minWidth,this.maxWidth),u&&this._parent&&c>this._parent.width&&(c=Math.max(this.minWidth,this._parent.width)),c},getNewHeight:function(c,u){return void 0===u&&(u=!0),c=w(c,this.minHeight,this.maxHeight),u&&this._parent&&c>this._parent.height&&(c=Math.max(this.minHeight,this._parent.height)),c},constrain:function(c,u,m){void 0===c&&(c=0),void 0===u&&(u=c),void 0===m&&(m=!0),c=this.getNewWidth(c),u=this.getNewHeight(u);var d=this.snapTo,p=0===u?1:c/u;return m&&this.aspectRatio>p||!m&&this.aspectRatio<p?(u=(c=g(c,d.x))/this.aspectRatio,d.y>0&&(c=(u=g(u,d.y))*this.aspectRatio)):(m&&this.aspectRatio<p||!m&&this.aspectRatio>p)&&(c=(u=g(u,d.y))*this.aspectRatio,d.x>0&&(u=(c=g(c,d.x))*(1/this.aspectRatio))),this._width=c,this._height=u,this},fitTo:function(c,u){return this.constrain(c,u,!0)},envelop:function(c,u){return this.constrain(c,u,!1)},setWidth:function(c){return this.setSize(c,this._height)},setHeight:function(c){return this.setSize(this._width,c)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(c){c&&c.style&&(c.style.width=this._width+"px",c.style.height=this._height+"px")},copy:function(c){return c.setAspectMode(this.aspectMode),c.aspectRatio=this.aspectRatio,c.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(c){this.setSize(c,this._height)}},height:{get:function(){return this._height},set:function(c){this.setSize(this._width,c)}}});h.NONE=0,h.WIDTH_CONTROLS_HEIGHT=1,h.HEIGHT_CONTROLS_WIDTH=2,h.FIT=3,h.ENVELOP=4,S.exports=h},15238:S=>{S.exports="add"},56187:S=>{S.exports="remove"},82348:(S,P,a)=>{S.exports={PROCESS_QUEUE_ADD:a(15238),PROCESS_QUEUE_REMOVE:a(56187)}},41392:(S,P,a)=>{S.exports={Events:a(82348),List:a(73162),Map:a(90330),ProcessQueue:a(25774),RTree:a(59542),Set:a(35072),Size:a(86555)}},57382:(S,P,a)=>{var w=a(83419),T=a(45319),g=a(40987),f=a(8054),h=a(50030),c=a(79237),u=new w({Extends:c,initialize:function(d,p,v,x,y){c.call(this,d,p,v,x,y),this.add("__BASE",0,0,0,x,y),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=x,this.height=y,this.imageData=this.context.getImageData(0,0,x,y),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===f.WEBGL&&this.refresh(),this},draw:function(m,d,p,v){return void 0===v&&(v=!0),this.context.drawImage(p,m,d),v&&this.update(),this},drawFrame:function(m,d,p,v,x){void 0===p&&(p=0),void 0===v&&(v=0),void 0===x&&(x=!0);var y=this.manager.getFrame(m,d);if(y){var _=y.canvasData,E=y.cutWidth,A=y.cutHeight,M=y.source.resolution;this.context.drawImage(y.source.image,_.x,_.y,E,A,p,v,E/M,A/M),x&&this.update()}return this},setPixel:function(m,d,p,v,x,y){if(void 0===y&&(y=255),m=Math.abs(Math.floor(m)),d=Math.abs(Math.floor(d)),this.getIndex(m,d)>-1){var E=this.context.getImageData(m,d,1,1);E.data[0]=p,E.data[1]=v,E.data[2]=x,E.data[3]=y,this.context.putImageData(E,m,d)}return this},putData:function(m,d,p,v,x,y,_){return void 0===v&&(v=0),void 0===x&&(x=0),void 0===y&&(y=m.width),void 0===_&&(_=m.height),this.context.putImageData(m,d,p,v,x,y,_),this},getData:function(m,d,p,v){return m=T(Math.floor(m),0,this.width-1),d=T(Math.floor(d),0,this.height-1),p=T(p,1,this.width-m),v=T(v,1,this.height-d),this.context.getImageData(m,d,p,v)},getPixel:function(m,d,p){p||(p=new g);var v=this.getIndex(m,d);if(v>-1){var x=this.data;p.setTo(x[v+0],x[v+1],x[v+2],x[v+3])}return p},getPixels:function(m,d,p,v){void 0===m&&(m=0),void 0===d&&(d=0),void 0===p&&(p=this.width),void 0===v&&(v=p),m=Math.abs(Math.round(m)),d=Math.abs(Math.round(d));for(var x=T(m,0,this.width),y=T(m+p,0,this.width),_=T(d,0,this.height),E=T(d+v,0,this.height),A=new g,M=[],I=_;I<E;I++){for(var k=[],F=x;F<y;F++)A=this.getPixel(F,I,A),k.push({x:F,y:I,color:A.color,alpha:A.alphaGL});M.push(k)}return M},getIndex:function(m,d){return m=Math.abs(Math.round(m)),d=Math.abs(Math.round(d)),m<this.width&&d<this.height?4*(m+d*this.width):-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(m,d,p,v,x){return void 0===m&&(m=0),void 0===d&&(d=0),void 0===p&&(p=this.width),void 0===v&&(v=this.height),void 0===x&&(x=!0),this.context.clearRect(m,d,p,v),x&&this.update(),this},setSize:function(m,d){return void 0===d&&(d=m),(m!==this.width||d!==this.height)&&(this.canvas.width=m,this.canvas.height=d,this._source.width=m,this._source.height=d,this._source.isPowerOf2=h(m,d),this.frames.__BASE.setSize(m,d,0,0),this.width=m,this.height=d,this.refresh()),this},destroy:function(){c.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});S.exports=u},81320:(S,P,a)=>{var w=a(10312),T=a(38058),g=a(27919),f=a(83419),h=a(8054),c=a(4327),u=a(95540),m=a(36060),d=a(32302),p=a(79237),v=a(70554),x=new f({Extends:p,initialize:function(_,E,A,M){void 0===A&&(A=256),void 0===M&&(M=256),this.type="DynamicTexture";var I=_.game.renderer,k=I&&I.type===h.CANVAS,F=k?g.create2D(this,A,M):[this];p.call(this,_,E,F,A,M),this.add("__BASE",0,0,0,A,M),this.renderer=I,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=k?F:null,this.context=k?F.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new T(0,0,A,M).setScene(_.game.scene.systemScene,!1),this.renderTarget=k?null:new d(I,A,M,1,0,!1,!1,!0,!1),this.pipeline=k?null:I.pipelines.get(m.SINGLE_PIPELINE),this.setSize(A,M)},setSize:function(y,_){void 0===_&&(_=y);var E=this.get(),A=E.source;if(y!==this.width||_!==this.height){this.canvas&&(this.canvas.width=y,this.canvas.height=_);var M=this.renderTarget;M&&(M.willResize(y,_)&&M.resize(y,_),M.texture!==A.glTexture&&this.renderer.deleteTexture(A.glTexture),this.setFromRenderTarget()),this.camera.setSize(y,_),A.width=y,A.height=_,E.setSize(y,_),this.width=y,this.height=_}else{var I=this.getSourceImage();E.cutX+y>I.width&&(y=I.width-E.cutX),E.cutY+_>I.height&&(_=I.height-E.cutY),E.setSize(y,_,E.cutX,E.cutY)}return this},setFromRenderTarget:function(){var _=this.get().source,E=this.renderTarget;return _.isRenderTexture=!0,_.isGLTexture=!0,_.glTexture=E.texture,this},setIsSpriteTexture:function(y){return this.isSpriteTexture=y,this},fill:function(y,_,E,A,M,I){var F=this.renderer;void 0===_&&(_=1),void 0===E&&(E=0),void 0===A&&(A=0),void 0===M&&(M=this.width),void 0===I&&(I=this.height);var N=y>>16&255,V=y>>8&255,B=255&y,H=this.renderTarget;if(this.camera.preRender(),H){H.bind(!0);var Q=this.pipeline.manager.set(this.pipeline),G=F.width/H.width,K=F.height/H.height;Q.drawFillRect(E*G,(H.height-(A+I))*K,M*G,I*K,v.getTintFromFloats(B/255,V/255,N/255,1),_),H.unbind(!0)}else{var at=this.context;F.setContext(at),at.globalCompositeOperation="source-over",at.fillStyle="rgba("+N+","+V+","+B+","+_+")",at.fillRect(E,A,M,I),F.setContext()}return this.dirty=!0,this},clear:function(y,_,E,A){if(this.dirty){var M=this.context,I=this.renderTarget;I?I.clear(y,_,E,A):M&&(void 0!==y&&void 0!==_&&void 0!==E&&void 0!==A?M.clearRect(y,_,E,A):(M.save(),M.setTransform(1,0,0,1,0,0),M.clearRect(0,0,this.width,this.height),M.restore())),this.dirty=!1}return this},stamp:function(y,_,E,A,M){void 0===E&&(E=0),void 0===A&&(A=0);var I=u(M,"alpha",1),k=u(M,"tint",16777215),F=u(M,"angle",0),N=u(M,"rotation",0),V=u(M,"scale",1),B=u(M,"scaleX",V),H=u(M,"scaleY",V),Q=u(M,"originX",.5),G=u(M,"originY",.5),K=u(M,"blendMode",0),tt=u(M,"erase",!1),at=u(M,"skipBatch",!1),lt=this.manager.resetStamp(I,k);return lt.setAngle(0),0!==F?lt.setAngle(F):0!==N&&lt.setRotation(N),lt.setScale(B,H),lt.setTexture(y,_),lt.setOrigin(Q,G),lt.setBlendMode(K),tt&&(this._eraseMode=!0),at?this.batchGameObject(lt,E,A):this.draw(lt,E,A),tt&&(this._eraseMode=!1),this},erase:function(y,_,E){return this._eraseMode=!0,this.draw(y,_,E),this._eraseMode=!1,this},draw:function(y,_,E,A,M){return this.beginDraw(),this.batchDraw(y,_,E,A,M),this.endDraw(),this},drawFrame:function(y,_,E,A,M,I){return this.beginDraw(),this.batchDrawFrame(y,_,E,A,M,I),this.endDraw(),this},repeat:function(y,_,E,A,M,I,k,F,N){if(void 0===E&&(E=0),void 0===A&&(A=0),void 0===M&&(M=this.width),void 0===I&&(I=this.height),void 0===k&&(k=1),void 0===F&&(F=16777215),void 0===N&&(N=!1),!(_=y instanceof c?y:this.manager.getFrame(y,_)))return this;var V=this.manager.resetStamp(k,F);V.setFrame(_),V.setOrigin(0);var B=_.width,H=_.height;M=Math.floor(M),I=Math.floor(I);var Q=Math.ceil(M/B),G=Math.ceil(I/H),K=Q*B-M,tt=G*H-I;K>0&&(K=B-K),tt>0&&(tt=H-tt),E<0&&(Q+=Math.ceil(Math.abs(E)/B)),A<0&&(G+=Math.ceil(Math.abs(A)/H));var at=E,lt=A,J=!1,it=this.manager.stampCrop.setTo(0,0,B,H);N||this.beginDraw();for(var Y=0;Y<G;Y++)if(lt+H<0)lt+=H;else{for(var j=0;j<Q;j++)J=!1,at+B<0||(at<0&&(J=!0,it.width=B+at,it.x=B-it.width),lt<0&&(J=!0,it.height=H+lt,it.y=H-it.height),K>0&&j===Q-1&&(J=!0,it.width=K),tt>0&&Y===G-1&&(J=!0,it.height=tt),J&&V.setCrop(it),this.batchGameObject(V,at,lt),V.isCropped=!1,it.setTo(0,0,B,H)),at+=B;at=E,lt+=H}return N||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var _=this.renderer,E=this.renderTarget;this.camera.preRender(),E?_.beginCapture(E.width,E.height):_.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(y,_,E,A,M){return Array.isArray(y)||(y=[y]),this.batchList(y,_,E,A,M),this},batchDrawFrame:function(y,_,E,A,M,I){void 0===E&&(E=0),void 0===A&&(A=0),void 0===M&&(M=1),void 0===I&&(I=16777215);var k=this.manager.getFrame(y,_);return k&&(this.renderTarget?this.pipeline.batchTextureFrame(k,E,A,I,M,this.camera.matrix,null):this.batchTextureFrame(k,E,A,M,I)),this},endDraw:function(y){if(void 0===y&&(y=this._eraseMode),this.isDrawing){var _=this.renderer,E=this.renderTarget;if(E){var A=_.endCapture();_.pipelines.setUtility().blitFrame(A,E,1,!1,!1,y,this.isSpriteTexture),_.resetScissor(),_.resetViewport()}else _.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(y,_,E,A,M){var I=y.length;if(0!==I)for(var k=0;k<I;k++){var F=y[k];!F||F===this||(F.renderWebGL||F.renderCanvas?this.batchGameObject(F,_,E):F.isParent||F.list?this.batchGroup(F.getChildren(),_,E):"string"==typeof F?this.batchTextureFrameKey(F,null,_,E,A,M):F instanceof c?this.batchTextureFrame(F,_,E,A,M):Array.isArray(F)&&this.batchList(F,_,E,A,M))}},batchGroup:function(y,_,E){void 0===_&&(_=0),void 0===E&&(E=0);for(var A=0;A<y.length;A++){var M=y[A];M.willRender(this.camera)&&this.batchGameObject(M,M.x+_,M.y+E)}},batchGameObject:function(y,_,E){void 0===_&&(_=y.x),void 0===E&&(E=y.y);var A=y.x,M=y.y,I=this.camera,k=this.renderer,F=this._eraseMode,N=y.mask;if(y.setPosition(_,E),this.canvas){if(F){var V=y.blendMode;y.blendMode=w.ERASE}N&&N.preRenderCanvas(k,y,I),y.renderCanvas(k,y,I,null),N&&N.postRenderCanvas(k,y,I),F&&(y.blendMode=V)}else k&&(N&&N.preRenderWebGL(k,y,I),F||k.setBlendMode(y.blendMode),y.renderWebGL(k,y,I),N&&N.postRenderWebGL(k,I,this.renderTarget));y.setPosition(A,M)},batchTextureFrameKey:function(y,_,E,A,M,I){var k=this.manager.getFrame(y,_);k&&this.batchTextureFrame(k,E,A,M,I)},batchTextureFrame:function(y,_,E,A,M){void 0===_&&(_=0),void 0===E&&(E=0),void 0===A&&(A=1),void 0===M&&(M=16777215);var I=this.camera.matrix;if(this.renderTarget)this.pipeline.batchTextureFrame(y,_,E,M,A,I,null);else{var F=this.context,N=y.canvasData,V=y.source.image;F.save(),F.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",F.globalAlpha=A,I.setToContext(F),N.width>0&&N.height>0&&F.drawImage(V,N.x,N.y,N.width,N.height,_,E,N.width,N.height),F.restore()}},snapshotArea:function(y,_,E,A,M,I,k){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,M,!1,y,_,E,A,I,k):this.renderer.snapshotCanvas(this.canvas,M,!1,y,_,E,A,I,k),this},snapshot:function(y,_,E){return this.snapshotArea(0,0,this.width,this.height,y,_,E)},snapshotPixel:function(y,_,E){return this.snapshotArea(y,_,1,1,E,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(y,_,E,A){var M=this.manager.resetStamp();M.setTexture(this),M.setOrigin(0),M.renderWebGL(y,M,E,A)},renderCanvas:function(){},destroy:function(){var y=this.manager.stamp;y&&y.texture===this&&this.manager.resetStamp(),p.prototype.destroy.call(this),g.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});S.exports=x},4327:(S,P,a)=>{var w=a(83419),T=a(45319),g=a(79291),f=new w({initialize:function(c,u,m,d,p,v,x){this.texture=c,this.name=u,this.source=c.source[m],this.sourceIndex=m,this.x=0,this.y=0,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(v,x,d,p)},setCutPosition:function(h,c){return void 0===h&&(h=0),void 0===c&&(c=0),this.cutX=h,this.cutY=c,this.updateUVs()},setCutSize:function(h,c){return this.cutWidth=h,this.cutHeight=c,this.updateUVs()},setSize:function(h,c,u,m){void 0===u&&(u=0),void 0===m&&(m=0),this.setCutPosition(u,m),this.setCutSize(h,c),this.width=h,this.height=c,this.halfWidth=Math.floor(.5*h),this.halfHeight=Math.floor(.5*c),this.centerX=Math.floor(h/2),this.centerY=Math.floor(c/2);var d=this.data,p=d.cut;p.x=u,p.y=m,p.w=h,p.h=c,p.r=u+h,p.b=m+c,d.sourceSize.w=h,d.sourceSize.h=c,d.spriteSourceSize.w=h,d.spriteSourceSize.h=c,d.radius=.5*Math.sqrt(h*h+c*c);var v=d.drawImage;return v.x=u,v.y=m,v.width=h,v.height=c,this.updateUVs()},setTrim:function(h,c,u,m,d,p){var v=this.data,x=v.spriteSourceSize;return v.trim=!0,v.sourceSize.w=h,v.sourceSize.h=c,x.x=u,x.y=m,x.w=d,x.h=p,x.r=u+d,x.b=m+p,this.x=u,this.y=m,this.width=d,this.height=p,this.halfWidth=.5*d,this.halfHeight=.5*p,this.centerX=Math.floor(d/2),this.centerY=Math.floor(p/2),this.updateUVs()},setScale9:function(h,c,u,m){var d=this.data;return d.scale9=!0,d.is3Slice=0===c&&m===this.height,d.scale9Borders.x=h,d.scale9Borders.y=c,d.scale9Borders.w=u,d.scale9Borders.h=m,this},setCropUVs:function(h,c,u,m,d,p,v){var x=this.cutX,y=this.cutY,_=this.cutWidth,E=this.cutHeight,A=this.realWidth,M=this.realHeight,I=x+(c=T(c,0,A)),k=y+(u=T(u,0,M)),F=m=T(m,0,A-c),N=d=T(d,0,M-u),V=this.data;if(V.trim){var B=V.spriteSourceSize,H=c+(m=T(m,0,_-c)),Q=u+(d=T(d,0,E-u));if(B.r<c||B.b<u||B.x>H||B.y>Q)I=0,k=0,F=0,N=0;else{var K=Math.max(B.x,c),tt=Math.max(B.y,u),at=Math.min(B.r,H)-K,lt=Math.min(B.b,Q)-tt;F=at,N=lt,I=p?x+(_-(K-B.x)-at):x+(K-B.x),k=v?y+(E-(tt-B.y)-lt):y+(tt-B.y),c=K,u=tt,m=at,d=lt}}else p&&(I=x+(_-c-m)),v&&(k=y+(E-u-d));var J=this.source.width,it=this.source.height;return h.u0=Math.max(0,I/J),h.v0=Math.max(0,k/it),h.u1=Math.min(1,(I+F)/J),h.v1=Math.min(1,(k+N)/it),h.x=c,h.y=u,h.cx=I,h.cy=k,h.cw=F,h.ch=N,h.width=m,h.height=d,h.flipX=p,h.flipY=v,h},updateCropUVs:function(h,c,u){return this.setCropUVs(h,h.x,h.y,h.width,h.height,c,u)},setUVs:function(h,c,u,m,d,p){var v=this.data.drawImage;return v.width=h,v.height=c,this.u0=u,this.v0=m,this.u1=d,this.v1=p,this},updateUVs:function(){var h=this.cutX,c=this.cutY,u=this.cutWidth,m=this.cutHeight,d=this.data.drawImage;d.width=u,d.height=m;var p=this.source.width,v=this.source.height;return this.u0=h/p,this.v0=c/v,this.u1=(h+u)/p,this.v1=(c+m)/v,this},updateUVsInverted:function(){var h=this.source.width,c=this.source.height;return this.u0=(this.cutX+this.cutHeight)/h,this.v0=this.cutY/c,this.u1=this.cutX/h,this.v1=(this.cutY+this.cutWidth)/c,this},clone:function(){var h=new f(this.texture,this.name,this.sourceIndex);return h.cutX=this.cutX,h.cutY=this.cutY,h.cutWidth=this.cutWidth,h.cutHeight=this.cutHeight,h.x=this.x,h.y=this.y,h.width=this.width,h.height=this.height,h.halfWidth=this.halfWidth,h.halfHeight=this.halfHeight,h.centerX=this.centerX,h.centerY=this.centerY,h.rotated=this.rotated,h.data=g(!0,h.data,this.data),h.updateUVs(),h},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});S.exports=f},79237:(S,P,a)=>{var w=a(83419),T=a(4327),g=a(11876),f='Texture "%s" has no frame "%s"',h=new w({initialize:function(u,m,d,p,v){Array.isArray(d)||(d=[d]),this.manager=u,this.key=m,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var x=0;x<d.length;x++)this.source.push(new g(this,d[x],p,v))},add:function(c,u,m,d,p,v){if(this.has(c))return null;var x=new T(this,c,u,m,d,p,v);return this.frames[c]=x,"__BASE"===this.firstFrame&&(this.firstFrame=c),this.frameTotal++,x},remove:function(c){return!!this.has(c)&&(this.get(c).destroy(),delete this.frames[c],!0)},has:function(c){return this.frames.hasOwnProperty(c)},get:function(c){c||(c=this.firstFrame);var u=this.frames[c];return u||(console.warn(f,this.key,c),u=this.frames[this.firstFrame]),u},getTextureSourceIndex:function(c){for(var u=0;u<this.source.length;u++)if(this.source[u]===c)return u;return-1},getFramesFromTextureSource:function(c,u){void 0===u&&(u=!1);var m=[];for(var d in this.frames)if("__BASE"!==d||u){var p=this.frames[d];p.sourceIndex===c&&m.push(p)}return m},getFrameBounds:function(c){void 0===c&&(c=0);for(var u=this.getFramesFromTextureSource(c,!0),m=u[0],d=m.cutX,p=m.cutY,v=m.cutX+m.cutWidth,x=m.cutY+m.cutHeight,y=1;y<u.length;y++){var _=u[y];_.cutX<d&&(d=_.cutX),_.cutY<p&&(p=_.cutY),_.cutX+_.cutWidth>v&&(v=_.cutX+_.cutWidth),_.cutY+_.cutHeight>x&&(x=_.cutY+_.cutHeight)}return{x:d,y:p,width:v-d,height:x-p}},getFrameNames:function(c){void 0===c&&(c=!1);var u=Object.keys(this.frames);if(!c){var m=u.indexOf("__BASE");-1!==m&&u.splice(m,1)}return u},getSourceImage:function(c){(null==c||1===this.frameTotal)&&(c="__BASE");var u=this.frames[c];return u?u.source.image:(console.warn(f,this.key,c),this.frames.__BASE.source.image)},getDataSourceImage:function(c){(null==c||1===this.frameTotal)&&(c="__BASE");var m,u=this.frames[c];return u?m=u.sourceIndex:(console.warn(f,this.key,c),m=this.frames.__BASE.sourceIndex),this.dataSource[m].image},setDataSource:function(c){Array.isArray(c)||(c=[c]);for(var u=0;u<c.length;u++){var m=this.source[u];this.dataSource.push(new g(this,c[u],m.width,m.height))}},setFilter:function(c){var u;for(u=0;u<this.source.length;u++)this.source[u].setFilter(c);for(u=0;u<this.dataSource.length;u++)this.dataSource[u].setFilter(c)},destroy:function(){var c,u=this.source,m=this.dataSource;for(c=0;c<u.length;c++)u[c]&&u[c].destroy();for(c=0;c<m.length;c++)m[c]&&m[c].destroy();for(var d in this.frames){var p=this.frames[d];p&&p.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});S.exports=h},17130:(S,P,a)=>{var w=a(27919),T=a(57382),g=a(83419),f=a(40987),h=a(8054),c=a(81320),u=a(50792),m=a(69442),d=a(4327),p=a(8443),v=a(99584),x=a(35154),y=a(88571),_=a(41212),E=a(61309),A=a(87841),M=a(79237),I=new g({Extends:u,initialize:function(F){u.call(this),this.game=F,this.name="TextureManager",this.list={},this._tempCanvas=w.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stampCrop=new A,this.silentWarnings=!1,F.events.once(p.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(m.LOAD,this.updatePending,this),this.on(m.ERROR,this.updatePending,this);var k=this.game.config;null!==k.defaultImage&&this.addBase64("__DEFAULT",k.defaultImage),null!==k.missingImage&&this.addBase64("__MISSING",k.missingImage),null!==k.whiteImage&&this.addBase64("__WHITE",k.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(p.DESTROY,this.destroy,this),this.game.events.once(p.SYSTEM_READY,function(F){this.stamp=new y(F).setOrigin(0)},this)},updatePending:function(){this._pending--,0===this._pending&&(this.off(m.LOAD),this.off(m.ERROR),this.emit(m.READY))},checkKey:function(k){return!(!k||"string"!=typeof k||this.exists(k))||(this.silentWarnings||console.error("Texture key already in use: "+k),!1)},remove:function(k){if("string"==typeof k){if(!this.exists(k))return this.silentWarnings||console.warn("No texture found matching key: "+k),this;k=this.get(k)}var F=k.key;return this.list.hasOwnProperty(F)&&(k.destroy(),this.emit(m.REMOVE,F),this.emit(m.REMOVE_KEY+F)),this},removeKey:function(k){return this.list.hasOwnProperty(k)&&delete this.list[k],this},addBase64:function(k,F){if(this.checkKey(k)){var N=this,V=new Image;V.onerror=function(){N.emit(m.ERROR,k)},V.onload=function(){var B=N.create(k,V);E.Image(B,0),N.emit(m.ADD,k,B),N.emit(m.ADD_KEY+k,B),N.emit(m.LOAD,k,B)},V.src=F}return this},getBase64:function(k,F,N,V){void 0===N&&(N="image/png"),void 0===V&&(V=.92);var B="",H=this.getFrame(k,F);if(H&&(H.source.isRenderTexture||H.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(H){var Q=H.canvasData,G=w.create2D(this,Q.width,Q.height),K=G.getContext("2d",{willReadFrequently:!0});Q.width>0&&Q.height>0&&K.drawImage(H.source.image,Q.x,Q.y,Q.width,Q.height,0,0,Q.width,Q.height),B=G.toDataURL(N,V),w.remove(G)}return B},addImage:function(k,F,N){var V=null;return this.checkKey(k)&&(V=this.create(k,F),E.Image(V,0),N&&V.setDataSource(N),this.emit(m.ADD,k,V),this.emit(m.ADD_KEY+k,V)),V},addGLTexture:function(k,F){var N=null;if(this.checkKey(k)){var V=F.width,B=F.height;(N=this.create(k,F,V,B)).add("__BASE",0,0,0,V,B),this.emit(m.ADD,k,N),this.emit(m.ADD_KEY+k,N)}return N},addCompressedTexture:function(k,F,N){var V=null;if(this.checkKey(k)){if((V=this.create(k,F)).add("__BASE",0,0,0,F.width,F.height),N){var B=function(Q,G,K){Array.isArray(K.textures)||Array.isArray(K.frames)?E.JSONArray(Q,G,K):E.JSONHash(Q,G,K)};if(Array.isArray(N))for(var H=0;H<N.length;H++)B(V,H,N[H]);else B(V,0,N)}this.emit(m.ADD,k,V),this.emit(m.ADD_KEY+k,V)}return V},addRenderTexture:function(k,F){var N=null;return this.checkKey(k)&&((N=this.create(k,F)).add("__BASE",0,0,0,F.width,F.height),this.emit(m.ADD,k,N),this.emit(m.ADD_KEY+k,N)),N},generate:function(k,F){if(this.checkKey(k)){var N=w.create(this,1,1);return F.canvas=N,v(F),this.addCanvas(k,N)}return null},createCanvas:function(k,F,N){if(void 0===F&&(F=256),void 0===N&&(N=256),this.checkKey(k)){var V=w.create(this,F,N,h.CANVAS,!0);return this.addCanvas(k,V)}return null},addCanvas:function(k,F,N){void 0===N&&(N=!1);var V=null;return N?V=new T(this,k,F,F.width,F.height):this.checkKey(k)&&(V=new T(this,k,F,F.width,F.height),this.list[k]=V,this.emit(m.ADD,k,V),this.emit(m.ADD_KEY+k,V)),V},addDynamicTexture:function(k,F,N){var V=null;return"string"!=typeof k||this.exists(k)?k=(V=k).key:V=new c(this,k,F,N),this.checkKey(k)?(this.list[k]=V,this.emit(m.ADD,k,V),this.emit(m.ADD_KEY+k,V)):V=null,V},addAtlas:function(k,F,N,V){return Array.isArray(N.textures)||Array.isArray(N.frames)?this.addAtlasJSONArray(k,F,N,V):this.addAtlasJSONHash(k,F,N,V)},addAtlasJSONArray:function(k,F,N,V){var B=null;if(F instanceof M?(k=F.key,B=F):this.checkKey(k)&&(B=this.create(k,F)),B){if(Array.isArray(N))for(var H=1===N.length,Q=0;Q<B.source.length;Q++)E.JSONArray(B,Q,H?N[0]:N[Q]);else E.JSONArray(B,0,N);V&&B.setDataSource(V),this.emit(m.ADD,k,B),this.emit(m.ADD_KEY+k,B)}return B},addAtlasJSONHash:function(k,F,N,V){var B=null;if(F instanceof M?(k=F.key,B=F):this.checkKey(k)&&(B=this.create(k,F)),B){if(Array.isArray(N))for(var H=0;H<N.length;H++)E.JSONHash(B,H,N[H]);else E.JSONHash(B,0,N);V&&B.setDataSource(V),this.emit(m.ADD,k,B),this.emit(m.ADD_KEY+k,B)}return B},addAtlasXML:function(k,F,N,V){var B=null;return F instanceof M?(k=F.key,B=F):this.checkKey(k)&&(B=this.create(k,F)),B&&(E.AtlasXML(B,0,N),V&&B.setDataSource(V),this.emit(m.ADD,k,B),this.emit(m.ADD_KEY+k,B)),B},addUnityAtlas:function(k,F,N,V){var B=null;return F instanceof M?(k=F.key,B=F):this.checkKey(k)&&(B=this.create(k,F)),B&&(E.UnityYAML(B,0,N),V&&B.setDataSource(V),this.emit(m.ADD,k,B),this.emit(m.ADD_KEY+k,B)),B},addSpriteSheet:function(k,F,N,V){var B=null;return F instanceof M?(k=F.key,B=F):this.checkKey(k)&&(B=this.create(k,F)),B&&(E.SpriteSheet(B,0,0,0,B.source[0].width,B.source[0].height,N),V&&B.setDataSource(V),this.emit(m.ADD,k,B),this.emit(m.ADD_KEY+k,B)),B},addSpriteSheetFromAtlas:function(k,F){if(!this.checkKey(k))return null;var N=x(F,"atlas",null),V=x(F,"frame",null);if(N&&V){var H=this.get(N).get(V);if(H){var Q=H.source.image;Q||(Q=H.source.glTexture);var G=this.create(k,Q);return H.trimmed?E.SpriteSheetFromAtlas(G,H,F):E.SpriteSheet(G,0,H.cutX,H.cutY,H.cutWidth,H.cutHeight,F),this.emit(m.ADD,k,G),this.emit(m.ADD_KEY+k,G),G}}},addUint8Array:function(k,F,N,V){if(!this.checkKey(k)||F.length/4!=N*V)return null;var B=this.create(k,F,N,V);return B.add("__BASE",0,0,0,N,V),this.emit(m.ADD,k,B),this.emit(m.ADD_KEY+k,B),B},create:function(k,F,N,V){var B=null;return this.checkKey(k)&&(B=new M(this,k,F,N,V),this.list[k]=B),B},exists:function(k){return this.list.hasOwnProperty(k)},get:function(k){return void 0===k&&(k="__DEFAULT"),this.list[k]?this.list[k]:k instanceof M?k:k instanceof d?k.texture:this.list.__MISSING},cloneFrame:function(k,F){if(this.list[k])return this.list[k].get(F).clone()},getFrame:function(k,F){if(this.list[k])return this.list[k].get(F)},parseFrame:function(k){if(k)return"string"==typeof k?this.getFrame(k):Array.isArray(k)&&2===k.length?this.getFrame(k[0],k[1]):_(k)?this.getFrame(k.key,k.frame):k instanceof M?k.get():k instanceof d?k:void 0},getTextureKeys:function(){var k=[];for(var F in this.list)"__DEFAULT"!==F&&"__MISSING"!==F&&"__WHITE"!==F&&"__NORMAL"!==F&&k.push(F);return k},getPixel:function(k,F,N,V){var B=this.getFrame(N,V);if(B){k-=B.x,F-=B.y;var H=B.data.cut;if(F+=H.y,(k+=H.x)>=H.x&&k<H.r&&F>=H.y&&F<H.b){var Q=this._tempContext;Q.clearRect(0,0,1,1),Q.drawImage(B.source.image,k,F,1,1,0,0,1,1);var G=Q.getImageData(0,0,1,1);return new f(G.data[0],G.data[1],G.data[2],G.data[3])}}return null},getPixelAlpha:function(k,F,N,V){var B=this.getFrame(N,V);if(B){k-=B.x,F-=B.y;var H=B.data.cut;if(F+=H.y,(k+=H.x)>=H.x&&k<H.r&&F>=H.y&&F<H.b){var Q=this._tempContext;return Q.clearRect(0,0,1,1),Q.drawImage(B.source.image,k,F,1,1,0,0,1,1),Q.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(k,F,N){return this.list[F]&&(k.texture=this.list[F],k.frame=k.texture.get(N)),k},renameTexture:function(k,F){var N=this.get(k);return!(!N||k===F||(N.key=F,this.list[F]=N,delete this.list[k],0))},each:function(k,F){for(var N=[null],V=1;V<arguments.length;V++)N.push(arguments[V]);for(var B in this.list)N[0]=this.list[B],k.apply(F,N)},resetStamp:function(k,F){void 0===k&&(k=1),void 0===F&&(F=16777215);var N=this.stamp;return N.setCrop(),N.setPosition(0),N.setAngle(0),N.setScale(1),N.setAlpha(k),N.setTint(F),N.setTexture("__WHITE"),N},destroy:function(){for(var k in this.list)this.list[k].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,w.remove(this._tempCanvas)}});S.exports=I},11876:(S,P,a)=>{var w=a(27919),T=a(83419),g=a(50030),f=a(29795),h=a(82751),c=new T({initialize:function(m,d,p,v,x){void 0===x&&(x=!1);var y=m.manager.game;this.renderer=y.renderer,this.texture=m,this.source=d,this.image=d.compressed?null:d,this.compressionAlgorithm=d.compressed?d.format:null,this.resolution=1,this.width=p||d.naturalWidth||d.videoWidth||d.width||0,this.height=v||d.naturalHeight||d.videoHeight||d.height||0,this.scaleMode=f.DEFAULT,this.isCanvas=d instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&d instanceof HTMLVideoElement,this.isRenderTexture="RenderTexture"===d.type||"DynamicTexture"===d.type,this.isGLTexture=d instanceof h,this.isPowerOf2=g(this.width,this.height),this.glTexture=null,this.flipY=x,this.init(y)},init:function(u){var m=this.renderer;if(m){var d=this.source;if(m.gl){var p=this.image,v=this.flipY,x=this.width,y=this.height,_=this.scaleMode;this.glTexture=this.isCanvas?m.createCanvasTexture(p,!1,v):this.isVideo?m.createVideoTexture(p,!1,v):this.isRenderTexture?m.createTextureFromSource(null,x,y,_):this.isGLTexture?d:this.compressionAlgorithm?m.createTextureFromSource(d,void 0,void 0,_):d instanceof Uint8Array?m.createUint8ArrayTexture(d,x,y,_):m.createTextureFromSource(p,x,y,_)}else this.isRenderTexture&&(this.image=d.canvas)}u.config.antialias||this.setFilter(1)},setFilter:function(u){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,u),this.scaleMode=u},setFlipY:function(u){return void 0===u&&(u=!0),u===this.flipY||(this.flipY=u,this.update()),this},update:function(){var u=this.renderer,m=this.image,d=this.flipY,p=u.gl;p&&this.isCanvas?u.updateCanvasTexture(m,this.glTexture,d):p&&this.isVideo&&u.updateVideoTexture(m,this.glTexture,d)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&w.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});S.exports=c},19673:S=>{S.exports={LINEAR:0,NEAREST:1}},44538:S=>{S.exports="addtexture"},63486:S=>{S.exports="addtexture-"},94851:S=>{S.exports="onerror"},29099:S=>{S.exports="onload"},8678:S=>{S.exports="ready"},86415:S=>{S.exports="removetexture"},30879:S=>{S.exports="removetexture-"},69442:(S,P,a)=>{S.exports={ADD:a(44538),ADD_KEY:a(63486),ERROR:a(94851),LOAD:a(29099),READY:a(8678),REMOVE:a(86415),REMOVE_KEY:a(30879)}},27458:(S,P,a)=>{var w=a(79291),T=a(19673),g={CanvasTexture:a(57382),DynamicTexture:a(81320),Events:a(69442),FilterMode:T,Frame:a(4327),Parsers:a(61309),Texture:a(79237),TextureManager:a(17130),TextureSource:a(11876)};g=w(!1,g,T),S.exports=g},89905:S=>{S.exports=function(a,w,T){if(T.getElementsByTagName("TextureAtlas")){var g=a.source[w];a.add("__BASE",w,0,0,g.width,g.height);for(var h,f=T.getElementsByTagName("SubTexture"),c=0;c<f.length;c++){var u=f[c].attributes,m=u.name.value,d=parseInt(u.x.value,10),p=parseInt(u.y.value,10),v=parseInt(u.width.value,10),x=parseInt(u.height.value,10);if(h=a.add(m,w,d,p,v,x),u.frameX){var y=Math.abs(parseInt(u.frameX.value,10)),_=Math.abs(parseInt(u.frameY.value,10)),E=parseInt(u.frameWidth.value,10),A=parseInt(u.frameHeight.value,10);h.setTrim(v,x,y,_,E,A)}}return a}console.warn("Invalid Texture Atlas XML given")}},72893:S=>{S.exports=function(a,w){var T=a.source[w];return a.add("__BASE",w,0,0,T.width,T.height),a}},4832:S=>{S.exports=function(a,w){var T=a.source[w];return a.add("__BASE",w,0,0,T.width,T.height),a}},78566:(S,P,a)=>{var w=a(41786);S.exports=function(g,f,h){if(h.frames||h.textures){var c=g.source[f];g.add("__BASE",f,0,0,c.width,c.height);for(var m,u=Array.isArray(h.textures)?h.textures[f].frames:h.frames,d=0;d<u.length;d++){var p=u[d];if(m=g.add(p.filename,f,p.frame.x,p.frame.y,p.frame.w,p.frame.h)){p.trimmed&&m.setTrim(p.sourceSize.w,p.sourceSize.h,p.spriteSourceSize.x,p.spriteSourceSize.y,p.spriteSourceSize.w,p.spriteSourceSize.h),p.rotated&&(m.rotated=!0,m.updateUVsInverted());var v=p.anchor||p.pivot;v&&(m.customPivot=!0,m.pivotX=v.x,m.pivotY=v.y),p.scale9Borders&&m.setScale9(p.scale9Borders.x,p.scale9Borders.y,p.scale9Borders.w,p.scale9Borders.h),m.customData=w(p)}else console.warn("Invalid atlas json, frame already exists: "+p.filename)}for(var x in h)"frames"!==x&&(g.customData[x]=Array.isArray(h[x])?h[x].slice(0):h[x]);return g}console.warn("Invalid Texture Atlas JSON Array")}},39711:(S,P,a)=>{var w=a(41786);S.exports=function(g,f,h){if(h.frames){var c=g.source[f];g.add("__BASE",f,0,0,c.width,c.height);var m,u=h.frames;for(var d in u)if(u.hasOwnProperty(d)){var p=u[d];if(!(m=g.add(d,f,p.frame.x,p.frame.y,p.frame.w,p.frame.h))){console.warn("Invalid atlas json, frame already exists: "+d);continue}p.trimmed&&m.setTrim(p.sourceSize.w,p.sourceSize.h,p.spriteSourceSize.x,p.spriteSourceSize.y,p.spriteSourceSize.w,p.spriteSourceSize.h),p.rotated&&(m.rotated=!0,m.updateUVsInverted());var v=p.anchor||p.pivot;v&&(m.customPivot=!0,m.pivotX=v.x,m.pivotY=v.y),p.scale9Borders&&m.setScale9(p.scale9Borders.x,p.scale9Borders.y,p.scale9Borders.w,p.scale9Borders.h),m.customData=w(p)}for(var x in h)"frames"!==x&&(g.customData[x]=Array.isArray(h[x])?h[x].slice(0):h[x]);return g}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")}},31403:S=>{S.exports=function(a){var T,w=[171,75,84,88,32,49,49,187,13,10,26,10],g=new Uint8Array(a,0,12);for(T=0;T<g.length;T++)if(g[T]!==w[T])return void console.warn("KTXParser - Invalid file format");var f=Uint32Array.BYTES_PER_ELEMENT,h=new DataView(a,12,13*f),c=67305985===h.getUint32(0,!0);if(0===h.getUint32(1*f,c)){var m=h.getUint32(4*f,c),d=h.getUint32(6*f,c),p=h.getUint32(7*f,c),v=Math.max(1,h.getUint32(11*f,c)),x=h.getUint32(12*f,c),y=new Array(v),_=64+x,E=d,A=p;for(T=0;T<v;T++){var M=new Int32Array(a,_,1)[0];_+=4,y[T]={data:new Uint8Array(a,_,M),width:E,height:A},E=Math.max(1,E>>1),A=Math.max(1,A>>1),_+=M}return{mipmaps:y,width:d,height:p,internalFormat:m,compressed:!0,generateMipmap:!1}}console.warn("KTXParser - Only compressed formats supported")}},82038:S=>{function P(F,N,V,B,H,Q,G){return void 0===G&&(G=16),Math.floor((F+V)/H)*Math.floor((N+B)/Q)*G}function a(F,N){return(F=Math.max(F,16))*(N=Math.max(N,8))/4}function w(F,N){return(F=Math.max(F,8))*(N=Math.max(N,8))/2}function T(F,N){return Math.ceil(F/4)*Math.ceil(N/4)*16}function g(F,N){return P(F,N,3,3,4,4,8)}function f(F,N){return P(F,N,3,3,4,4)}var I={0:{sizeFunc:a,glFormat:[35841]},1:{sizeFunc:a,glFormat:[35843]},2:{sizeFunc:w,glFormat:[35840]},3:{sizeFunc:w,glFormat:[35842]},6:{sizeFunc:g,glFormat:[36196]},7:{sizeFunc:g,glFormat:[33776,35916]},8:{sizeFunc:f,glFormat:[33777,35917]},9:{sizeFunc:f,glFormat:[33778,35918]},11:{sizeFunc:f,glFormat:[33779,35919]},14:{sizeFunc:T,glFormat:[36494,36495]},15:{sizeFunc:T,glFormat:[36492,36493]},22:{sizeFunc:g,glFormat:[37492,37493]},23:{sizeFunc:f,glFormat:[37496,37497]},24:{sizeFunc:g,glFormat:[37494,37495]},25:{sizeFunc:g,glFormat:[37488]},26:{sizeFunc:f,glFormat:[37490]},27:{sizeFunc:f,glFormat:[37808,37840]},28:{sizeFunc:function h(F,N){return P(F,N,4,3,5,4)},glFormat:[37809,37841]},29:{sizeFunc:function c(F,N){return P(F,N,4,4,5,5)},glFormat:[37810,37842]},30:{sizeFunc:function u(F,N){return P(F,N,5,4,6,5)},glFormat:[37811,37843]},31:{sizeFunc:function m(F,N){return P(F,N,5,5,6,6)},glFormat:[37812,37844]},32:{sizeFunc:function d(F,N){return P(F,N,7,4,8,5)},glFormat:[37813,37845]},33:{sizeFunc:function p(F,N){return P(F,N,7,5,8,6)},glFormat:[37814,37846]},34:{sizeFunc:function v(F,N){return P(F,N,7,7,8,8)},glFormat:[37815,37847]},35:{sizeFunc:function x(F,N){return P(F,N,9,4,10,5)},glFormat:[37816,37848]},36:{sizeFunc:function y(F,N){return P(F,N,9,5,10,6)},glFormat:[37817,37849]},37:{sizeFunc:function _(F,N){return P(F,N,9,7,10,8)},glFormat:[37818,37850]},38:{sizeFunc:function E(F,N){return P(F,N,9,9,10,10)},glFormat:[37819,37851]},39:{sizeFunc:function A(F,N){return P(F,N,11,9,12,10)},glFormat:[37820,37852]},40:{sizeFunc:function M(F,N){return P(F,N,11,11,12,12)},glFormat:[37821,37853]}};S.exports=function(F){for(var N=new Uint32Array(F,0,13),H=55727696===N[0]?N[2]:N[3],G=I[H].glFormat[N[4]],K=I[H].sizeFunc,tt=N[11],at=N[7],lt=N[6],it=new Uint8Array(F,52+N[12]),Y=new Array(tt),j=0,nt=at,ht=lt,gt=0;gt<tt;gt++){var wt=K(nt,ht);Y[gt]={data:new Uint8Array(it.buffer,it.byteOffset+j,wt),width:nt,height:ht},nt=Math.max(1,nt>>1),ht=Math.max(1,ht>>1),j+=wt}return{mipmaps:Y,width:at,height:lt,internalFormat:G,compressed:!0,generateMipmap:!1}}},75549:(S,P,a)=>{var w=a(95540);S.exports=function(g,f,h,c,u,m,d){var p=w(d,"frameWidth",null),v=w(d,"frameHeight",p);if(null===p)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var x=g.source[f];g.add("__BASE",f,0,0,x.width,x.height);var y=w(d,"startFrame",0),_=w(d,"endFrame",-1),E=w(d,"margin",0),A=w(d,"spacing",0),k=Math.floor((u-E+A)/(p+A))*Math.floor((m-E+A)/(v+A));0===k&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",g.key),(y>k||y<-k)&&(y=0),y<0&&(y=k+y),(-1===_||_>k||_<y)&&(_=k);for(var F=E,N=E,V=0,B=0,H=0,Q=0;Q<k;Q++){V=0,B=0;var G=F+p,K=N+v;G>u&&(V=G-u),K>m&&(B=K-m),Q>=y&&Q<=_&&(g.add(H,f,h+F,c+N,p-V,v-B),H++),(F+=p+A)+p>u&&(F=E,N+=v+A)}return g}},47534:(S,P,a)=>{var w=a(95540);S.exports=function(g,f,h){var c=w(h,"frameWidth",null),u=w(h,"frameHeight",c);if(!c)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var m=g.source[0];g.add("__BASE",0,0,0,m.width,m.height);var d=w(h,"startFrame",0),p=w(h,"endFrame",-1),v=w(h,"margin",0),x=w(h,"spacing",0),y=f.cutX,_=f.cutY,E=f.cutWidth,A=f.cutHeight,M=f.realWidth,I=f.realHeight,k=Math.floor((M-v+x)/(c+x)),F=Math.floor((I-v+x)/(u+x)),N=k*F,V=f.x,B=c-V,H=c-(M-E-V),Q=f.y,G=u-Q,K=u-(I-A-Q);(d>N||d<-N)&&(d=0),d<0&&(d=N+d),-1!==p&&(N=d+(p+1));for(var tt,at=v,lt=v,J=0,Y=0;Y<F;Y++){for(var j=0===Y,nt=Y===F-1,ht=0;ht<k;ht++){var gt=0===ht,wt=ht===k-1;if(tt=g.add(J,0,y+at,_+lt,c,u),gt||j||wt||nt){var St=gt?V:0,Bt=j?Q:0,Yt=0,$t=0;gt&&(Yt+=c-B),wt&&(Yt+=c-H),j&&($t+=u-G),nt&&($t+=u-K);var qt=c-Yt,ne=u-$t;tt.cutWidth=qt,tt.cutHeight=ne,tt.setTrim(c,u,St,Bt,qt,ne)}at+=x,at+=gt?B:wt?H:c,J++}at=v,lt+=x,lt+=j?G:nt?K:u}return g}},86147:S=>{var P=0,a=function(T,g,f,h){T.add(f,g,h.x,P-h.y-h.height,h.width,h.height)};S.exports=function(T,g,f){var h=T.source[g];T.add("__BASE",g,0,0,h.width,h.height),P=h.height;for(var c=f.split("\n"),u=/^[ ]*(- )*(\w+)+[: ]+(.*)/,m="",d="",p={x:0,y:0,width:0,height:0},v=0;v<c.length;v++){var x=c[v].match(u);if(x){var _=x[2],E=x[3];if("- "===x[1]&&(d!==m&&(a(T,g,d,p),m=d),p={x:0,y:0,width:0,height:0}),"name"===_){d=E;continue}switch(_){case"x":case"y":case"width":case"height":p[_]=parseInt(E,10)}}}return d!==m&&a(T,g,d,p),T}},55222:(S,P,a)=>{var w=a(50030);function g(m){for(var d=m.mipmaps,p=0;p<d.length;p++){var v=d[p].width,x=d[p].height;if((v<<p)%4!=0||(x<<p)%4!=0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+p+" is "+v+"x"+x),!1}return!0}function f(){return!0}function h(m){var p=m.mipmaps[0];return!!w(p.width,p.height)||(console.warn("PVRTC base dimensions must be power of two. Base level is "+p.width+"x"+p.height),!1)}function c(m){var p=m.mipmaps[0];return p.width%4==0&&p.height%4==0||(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+p.width+"x"+p.height+" pixels"),!1)}var u={37488:f,37489:f,37490:f,37491:f,37492:f,37493:f,37494:f,37495:f,37496:f,37497:f,36196:f,37808:f,37809:f,37810:f,37811:f,37812:f,37813:f,37814:f,37815:f,37816:f,37817:f,37818:f,37819:f,37820:f,37821:f,37840:f,37841:f,37842:f,37843:f,37844:f,37845:f,37846:f,37847:f,37848:f,37849:f,37850:f,37851:f,37852:f,37853:f,36492:g,36493:g,36494:g,36495:g,36283:g,36284:g,36285:g,36286:g,35840:h,35841:h,35842:h,35843:h,33776:g,33777:g,33778:g,33779:g,35916:c,35917:c,35918:c,35919:c};S.exports=function(m){for(var d=m.mipmaps,p=1;p<d.length;p++){var v=d[p].width,x=d[p].height;if(!w(v,x))return console.warn("Mip level "+p+" is not a power-of-two size: "+v+"x"+x),!1}var y=u[m.internalFormat];return y?y(m):(console.warn("No format checker found for internal format "+m.internalFormat+". Assuming valid."),!0)}},61309:(S,P,a)=>{S.exports={AtlasXML:a(89905),Canvas:a(72893),Image:a(4832),JSONArray:a(78566),JSONHash:a(39711),KTXParser:a(31403),PVRParser:a(82038),SpriteSheet:a(75549),SpriteSheetFromAtlas:a(47534),UnityYAML:a(86147)}},80341:S=>{S.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(S,P,a)=>{var T=new(a(83419))({initialize:function(f,h,c,u,m,d,p){(void 0===c||c<=0)&&(c=32),(void 0===u||u<=0)&&(u=32),void 0===m&&(m=0),void 0===d&&(d=0),this.name=f,this.firstgid=0|h,this.imageWidth=0|c,this.imageHeight=0|u,this.imageMargin=0|m,this.imageSpacing=0|d,this.properties=p||{},this.images=[],this.total=0},containsImageIndex:function(g){return g>=this.firstgid&&g<this.firstgid+this.total},addImage:function(g,f){return this.images.push({gid:g,image:f}),this.total++,this}});S.exports=T},27462:(S,P,a)=>{var T=new(a(83419))({initialize:function(f){if(this.gids=[],void 0!==f)for(var h=0;h<f.length;++h)for(var c=f[h],u=0;u<c.total;++u)this.gids[c.firstgid+u]=c;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(g){this.gids=g?this._gids:void 0}},getTypeIncludingTile:function(g){if(void 0!==g.type&&""!==g.type)return g.type;if(this.gids&&void 0!==g.gid){var f=this.gids[g.gid];if(f){var h=f.getTileData(g.gid);if(h)return h.type}}},setTextureAndFrame:function(g,f,h,c){if(null===f&&this.gids&&void 0!==c.gid){var u=this.gids[c.gid];u&&(null===f&&void 0!==u.image&&(f=u.image.key),null===h&&(h=c.gid-u.firstgid),g.scene.textures.getFrame(f,h)||(f=null,h=null))}g.setTexture(f,h)},setPropertiesFromTiledObject:function(g,f){if(void 0!==this.gids&&void 0!==f.gid){var h=this.gids[f.gid];void 0!==h&&this.setFromJSON(g,h.getTileProperties(f.gid))}this.setFromJSON(g,f.properties)},setFromJSON:function(g,f){if(f){if(Array.isArray(f)){for(var h=0;h<f.length;h++){var c=f[h];void 0!==g[c.name]?g[c.name]=c.value:g.setData(c.name,c.value)}return}for(var u in f)void 0!==g[u]?g[u]=f[u]:g.setData(u,f[u])}}});S.exports=T},31989:(S,P,a)=>{var w=a(80341),T=a(87010),g=a(46177),f=a(49075);S.exports=function(c,u,m,d,p,v,x,y){void 0===m&&(m=32),void 0===d&&(d=32),void 0===p&&(p=10),void 0===v&&(v=10),void 0===y&&(y=!1);var _=null;if(Array.isArray(x))_=g(void 0!==u?u:"map",w.ARRAY_2D,x,m,d,y);else if(void 0!==u){var A=c.cache.tilemap.get(u);A?_=g(u,A.format,A.data,m,d,y):console.warn("No map data found for key "+u)}return null===_&&(_=new T({tileWidth:m,tileHeight:d,width:p,height:v})),new f(c,_)}},23029:(S,P,a)=>{var w=a(83419),T=a(31401),g=a(91907),f=a(62644),h=a(93232),c=new w({Mixins:[T.AlphaSingle,T.Flip,T.Visible],initialize:function(m,d,p,v,x,y,_,E){this.layer=m,this.index=d,this.x=p,this.y=v,this.width=x,this.height=y,this.baseWidth=void 0!==_?_:x,this.baseHeight=void 0!==E?E:y,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(u,m){return!(u<this.pixelX||m<this.pixelY||u>this.right||m>this.bottom)},copy:function(u){return this.index=u.index,this.alpha=u.alpha,this.properties=f(u.properties),this.visible=u.visible,this.setFlip(u.flipX,u.flipY),this.tint=u.tint,this.rotation=u.rotation,this.collideUp=u.collideUp,this.collideDown=u.collideDown,this.collideLeft=u.collideLeft,this.collideRight=u.collideRight,this.collisionCallback=u.collisionCallback,this.collisionCallbackContext=u.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(u){var m=this.tilemapLayer;return m?m.tileToWorldXY(this.x,this.y,void 0,u).x:this.x*this.baseWidth},getRight:function(u){var m=this.tilemapLayer;return m?this.getLeft(u)+this.width*m.scaleX:this.getLeft(u)+this.width},getTop:function(u){var m=this.tilemapLayer;return m?m.tileToWorldXY(this.x,this.y,void 0,u).y:this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(u){var m=this.tilemapLayer;return m?this.getTop(u)+this.height*m.scaleY:this.getTop(u)+this.height},getBounds:function(u,m){return void 0===m&&(m=new h),m.x=this.getLeft(u),m.y=this.getTop(u),m.width=this.getRight(u)-m.x,m.height=this.getBottom(u)-m.y,m},getCenterX:function(u){return(this.getLeft(u)+this.getRight(u))/2},getCenterY:function(u){return(this.getTop(u)+this.getBottom(u))/2},intersects:function(u,m,d,p){return!(d<=this.pixelX||p<=this.pixelY||u>=this.right||m>=this.bottom)},isInteresting:function(u,m){return u&&m?this.canCollide||this.hasInterestingFace:u?this.collides:!!m&&this.hasInterestingFace},resetCollision:function(u){return void 0===u&&(u=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,u&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(u,m,d,p,v){return void 0===m&&(m=u),void 0===d&&(d=u),void 0===p&&(p=u),void 0===v&&(v=!0),this.collideLeft=u,this.collideRight=m,this.collideUp=d,this.collideDown=p,this.faceLeft=u,this.faceRight=m,this.faceTop=d,this.faceBottom=p,v&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},setCollisionCallback:function(u,m){return null===u?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=u,this.collisionCallbackContext=m),this},setSize:function(u,m,d,p){return void 0!==u&&(this.width=u),void 0!==m&&(this.height=m),void 0!==d&&(this.baseWidth=d),void 0!==p&&(this.baseHeight=p),this.updatePixelXY(),this},updatePixelXY:function(){var u=this.layer.orientation;if(u===g.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(u===g.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(u===g.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(u===g.HEXAGONAL){var x,m=this.layer.staggerAxis,d=this.layer.staggerIndex,p=this.layer.hexSideLength;"y"===m?(x=(this.baseHeight-p)/2+p,this.pixelX="odd"===d?this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*x):"x"===m&&(this.pixelX=this.x*((this.baseWidth-p)/2+p),this.pixelY="odd"===d?this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||void 0!==this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var u=this.layer.tilemapLayer;if(u){var m=u.gidMap[this.index];if(m)return m}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var u=this.tilemapLayer;return u?u.tilemap:null}}});S.exports=c},49075:(S,P,a)=>{var w=a(84101),T=a(83419),g=a(39506),f=a(80341),h=a(95540),c=a(14977),u=a(27462),m=a(91907),d=a(36305),p=a(19133),v=a(68287),x=a(23029),y=a(81086),_=a(20442),E=a(33629),A=new T({initialize:function(I,k){this.scene=I,this.tileWidth=k.tileWidth,this.tileHeight=k.tileHeight,this.width=k.width,this.height=k.height,this.orientation=k.orientation,this.renderOrder=k.renderOrder,this.format=k.format,this.version=k.version,this.properties=k.properties,this.widthInPixels=k.widthInPixels,this.heightInPixels=k.heightInPixels,this.imageCollections=k.imageCollections,this.images=k.images,this.layers=k.layers,this.tiles=k.tiles,this.tilesets=k.tilesets,this.objects=k.objects,this.currentLayerIndex=0,this.hexSideLength=k.hexSideLength;var F=this.orientation;this._convert={WorldToTileXY:y.GetWorldToTileXYFunction(F),WorldToTileX:y.GetWorldToTileXFunction(F),WorldToTileY:y.GetWorldToTileYFunction(F),TileToWorldXY:y.GetTileToWorldXYFunction(F),TileToWorldX:y.GetTileToWorldXFunction(F),TileToWorldY:y.GetTileToWorldYFunction(F),GetTileCorners:y.GetTileCornersFunction(F)}},setRenderOrder:function(M){var I=["right-down","left-down","right-up","left-up"];return"number"==typeof M&&(M=I[M]),I.indexOf(M)>-1&&(this.renderOrder=M),this},addTilesetImage:function(M,I,k,F,N,V,B,H){if(void 0===M)return null;null==I&&(I=M);var Q=this.scene.sys.textures;if(!Q.exists(I))return console.warn('Texture key "%s" not found',I),null;var G=Q.get(I),K=this.getTilesetIndex(M);if(null===K&&this.format===f.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',M,this.tilesets),null;var tt=this.tilesets[K];return tt?((k||F)&&tt.setTileSize(k,F),(N||V)&&tt.setSpacing(N,V),tt.setImage(G),tt):(void 0===k&&(k=this.tileWidth),void 0===F&&(F=this.tileHeight),void 0===N&&(N=0),void 0===V&&(V=0),void 0===B&&(B=0),void 0===H&&(H={x:0,y:0}),(tt=new E(M,B,k,F,N,V,void 0,void 0,H)).setImage(G),this.tilesets.push(tt),this.tiles=w(this),tt)},copy:function(M,I,k,F,N,V,B,H){return null!==(H=this.getLayer(H))?(y.Copy(M,I,k,F,N,V,B,H),this):null},createBlankLayer:function(M,I,k,F,N,V,B,H){if(void 0===k&&(k=0),void 0===F&&(F=0),void 0===N&&(N=this.width),void 0===V&&(V=this.height),void 0===B&&(B=this.tileWidth),void 0===H&&(H=this.tileHeight),null!==this.getLayerIndex(M))return console.warn("Invalid Tilemap Layer ID: "+M),null;for(var K,G=new c({name:M,tileWidth:B,tileHeight:H,width:N,height:V,orientation:this.orientation}),tt=0;tt<V;tt++){K=[];for(var at=0;at<N;at++)K.push(new x(G,-1,at,tt,B,H,this.tileWidth,this.tileHeight));G.data.push(K)}this.layers.push(G),this.currentLayerIndex=this.layers.length-1;var lt=new _(this.scene,this,this.currentLayerIndex,I,k,F);return lt.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(lt),lt},createLayer:function(M,I,k,F){var N=this.getLayerIndex(M);if(null===N)return console.warn("Invalid Tilemap Layer ID: "+M),"string"==typeof M&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var V=this.layers[N];if(V.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+M),null;this.currentLayerIndex=N,void 0===k&&(k=V.x),void 0===F&&(F=V.y);var B=new _(this.scene,this,N,I,k,F);return B.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(B),B},createFromObjects:function(M,I,k){void 0===k&&(k=!0);var F=[],N=this.getObjectLayer(M);if(!N)return console.warn("createFromObjects: Invalid objectLayerName given: "+M),F;var V=new u(k?this.tilesets:void 0);Array.isArray(I)||(I=[I]);for(var B=N.objects,H=0;H<I.length;H++){var Q=I[H],G=h(Q,"id",null),K=h(Q,"gid",null),tt=h(Q,"name",null),at=h(Q,"type",null);V.enabled=!h(Q,"ignoreTileset",null);for(var lt,J=[],it=0;it<B.length;it++)lt=B[it],(null===G&&null===K&&null===tt&&null===at||null!==G&&lt.id===G||null!==K&&lt.gid===K||null!==tt&&lt.name===tt||null!==at&&V.getTypeIncludingTile(lt)===at)&&J.push(lt);for(var Y=h(Q,"classType",v),j=h(Q,"scene",this.scene),nt=h(Q,"container",null),ht=h(Q,"key",null),gt=h(Q,"frame",null),wt=0;wt<J.length;wt++){lt=J[wt];var St=new Y(j);if(St.setName(lt.name),St.setPosition(lt.x,lt.y),V.setTextureAndFrame(St,ht,gt,lt),lt.width&&(St.displayWidth=lt.width),lt.height&&(St.displayHeight=lt.height),this.orientation===m.ISOMETRIC){var Yt={x:St.x-St.y,y:(St.x+St.y)/(this.tileWidth/this.tileHeight)};St.x=Yt.x,St.y=Yt.y}var $t={x:St.originX*lt.width,y:(St.originY-(lt.gid?1:0))*lt.height};if(lt.rotation){var qt=g(lt.rotation);d($t,qt),St.rotation=qt}St.x+=$t.x,St.y+=$t.y,(void 0!==lt.flippedHorizontal||void 0!==lt.flippedVertical)&&St.setFlip(lt.flippedHorizontal,lt.flippedVertical),lt.visible||(St.visible=!1),V.setPropertiesFromTiledObject(St,lt),nt?nt.add(St):j.add.existing(St),F.push(St)}}return F},createFromTiles:function(M,I,k,F,N,V){return null===(V=this.getLayer(V))?null:y.CreateFromTiles(M,I,k,F,N,V)},fill:function(M,I,k,F,N,V,B){return void 0===V&&(V=!0),null===(B=this.getLayer(B))?null:(y.Fill(M,I,k,F,N,V,B),this)},filterObjects:function(M,I,k){if("string"==typeof M){var F=M;if(!(M=this.getObjectLayer(M)))return console.warn("No object layer found with the name: "+F),null}return M.objects.filter(I,k)},filterTiles:function(M,I,k,F,N,V,B,H){return null===(H=this.getLayer(H))?null:y.FilterTiles(M,I,k,F,N,V,B,H)},findByIndex:function(M,I,k,F){return null===(F=this.getLayer(F))?null:y.FindByIndex(M,I,k,F)},findObject:function(M,I,k){if("string"==typeof M){var F=M;if(!(M=this.getObjectLayer(M)))return console.warn("No object layer found with the name: "+F),null}return M.objects.find(I,k)||null},findTile:function(M,I,k,F,N,V,B,H){return null===(H=this.getLayer(H))?null:y.FindTile(M,I,k,F,N,V,B,H)},forEachTile:function(M,I,k,F,N,V,B,H){return null===(H=this.getLayer(H))?null:(y.ForEachTile(M,I,k,F,N,V,B,H),this)},getImageIndex:function(M){return this.getIndex(this.images,M)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map(function(M){return M.name}):[]},getIndex:function(M,I){for(var k=0;k<M.length;k++)if(M[k].name===I)return k;return null},getLayer:function(M){var I=this.getLayerIndex(M);return null!==I?this.layers[I]:null},getObjectLayer:function(M){var I=this.getIndex(this.objects,M);return null!==I?this.objects[I]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map(function(M){return M.name}):[]},getLayerIndex:function(M){return void 0===M?this.currentLayerIndex:"string"==typeof M?this.getLayerIndexByName(M):"number"==typeof M&&M<this.layers.length?M:M instanceof _&&M.tilemap===this?M.layerIndex:null},getLayerIndexByName:function(M){return this.getIndex(this.layers,M)},getTileAt:function(M,I,k,F){return null===(F=this.getLayer(F))?null:y.GetTileAt(M,I,k,F)},getTileAtWorldXY:function(M,I,k,F,N){return null===(N=this.getLayer(N))?null:y.GetTileAtWorldXY(M,I,k,F,N)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map(function(M){return M.name}):[]},getTilesWithin:function(M,I,k,F,N,V){return null===(V=this.getLayer(V))?null:y.GetTilesWithin(M,I,k,F,N,V)},getTilesWithinShape:function(M,I,k,F){return null===(F=this.getLayer(F))?null:y.GetTilesWithinShape(M,I,k,F)},getTilesWithinWorldXY:function(M,I,k,F,N,V,B){return null===(B=this.getLayer(B))?null:y.GetTilesWithinWorldXY(M,I,k,F,N,V,B)},getTileset:function(M){var I=this.getIndex(this.tilesets,M);return null!==I?this.tilesets[I]:null},getTilesetIndex:function(M){return this.getIndex(this.tilesets,M)},hasTileAt:function(M,I,k){return null===(k=this.getLayer(k))?null:y.HasTileAt(M,I,k)},hasTileAtWorldXY:function(M,I,k,F){return null===(F=this.getLayer(F))?null:y.HasTileAtWorldXY(M,I,k,F)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(M){this.setLayer(M)}},putTileAt:function(M,I,k,F,N){return void 0===F&&(F=!0),null===(N=this.getLayer(N))?null:y.PutTileAt(M,I,k,F,N)},putTileAtWorldXY:function(M,I,k,F,N,V){return void 0===F&&(F=!0),null===(V=this.getLayer(V))?null:y.PutTileAtWorldXY(M,I,k,F,N,V)},putTilesAt:function(M,I,k,F,N){return void 0===F&&(F=!0),null===(N=this.getLayer(N))?null:(y.PutTilesAt(M,I,k,F,N),this)},randomize:function(M,I,k,F,N,V){return null===(V=this.getLayer(V))?null:(y.Randomize(M,I,k,F,N,V),this)},calculateFacesAt:function(M,I,k){return null===(k=this.getLayer(k))?null:(y.CalculateFacesAt(M,I,k),this)},calculateFacesWithin:function(M,I,k,F,N){return null===(N=this.getLayer(N))?null:(y.CalculateFacesWithin(M,I,k,F,N),this)},removeLayer:function(M){var I=this.getLayerIndex(M);if(null!==I){p(this.layers,I);for(var k=I;k<this.layers.length;k++)this.layers[k].tilemapLayer&&this.layers[k].tilemapLayer.layerIndex--;return this.currentLayerIndex===I&&(this.currentLayerIndex=0),this}return null},destroyLayer:function(M){var I=this.getLayerIndex(M);return null!==I?((M=this.layers[I]).tilemapLayer.destroy(),p(this.layers,I),this.currentLayerIndex===I&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var M=this.layers,I=0;I<M.length;I++)M[I].tilemapLayer&&M[I].tilemapLayer.destroy(!1);return M.length=0,this.currentLayerIndex=0,this},removeTile:function(M,I,k){void 0===I&&(I=-1),void 0===k&&(k=!0);var F=[];Array.isArray(M)||(M=[M]);for(var N=0;N<M.length;N++){var V=M[N];F.push(this.removeTileAt(V.x,V.y,!0,k,V.tilemapLayer)),I>-1&&this.putTileAt(I,V.x,V.y,k,V.tilemapLayer)}return F},removeTileAt:function(M,I,k,F,N){return void 0===k&&(k=!0),void 0===F&&(F=!0),null===(N=this.getLayer(N))?null:y.RemoveTileAt(M,I,k,F,N)},removeTileAtWorldXY:function(M,I,k,F,N,V){return void 0===k&&(k=!0),void 0===F&&(F=!0),null===(V=this.getLayer(V))?null:y.RemoveTileAtWorldXY(M,I,k,F,N,V)},renderDebug:function(M,I,k){return null===(k=this.getLayer(k))?null:(this.orientation===m.ORTHOGONAL&&y.RenderDebug(M,I,k),this)},renderDebugFull:function(M,I){for(var k=this.layers,F=0;F<k.length;F++)y.RenderDebug(M,I,k[F]);return this},replaceByIndex:function(M,I,k,F,N,V,B){return null===(B=this.getLayer(B))?null:(y.ReplaceByIndex(M,I,k,F,N,V,B),this)},setCollision:function(M,I,k,F,N){return void 0===I&&(I=!0),void 0===k&&(k=!0),void 0===N&&(N=!0),null===(F=this.getLayer(F))?null:(y.SetCollision(M,I,k,F,N),this)},setCollisionBetween:function(M,I,k,F,N){return void 0===k&&(k=!0),void 0===F&&(F=!0),null===(N=this.getLayer(N))?null:(y.SetCollisionBetween(M,I,k,F,N),this)},setCollisionByProperty:function(M,I,k,F){return void 0===I&&(I=!0),void 0===k&&(k=!0),null===(F=this.getLayer(F))?null:(y.SetCollisionByProperty(M,I,k,F),this)},setCollisionByExclusion:function(M,I,k,F){return void 0===I&&(I=!0),void 0===k&&(k=!0),null===(F=this.getLayer(F))?null:(y.SetCollisionByExclusion(M,I,k,F),this)},setCollisionFromCollisionGroup:function(M,I,k){return void 0===M&&(M=!0),void 0===I&&(I=!0),null===(k=this.getLayer(k))?null:(y.SetCollisionFromCollisionGroup(M,I,k),this)},setTileIndexCallback:function(M,I,k,F){return null===(F=this.getLayer(F))?null:(y.SetTileIndexCallback(M,I,k,F),this)},setTileLocationCallback:function(M,I,k,F,N,V,B){return null===(B=this.getLayer(B))?null:(y.SetTileLocationCallback(M,I,k,F,N,V,B),this)},setLayer:function(M){var I=this.getLayerIndex(M);return null!==I&&(this.currentLayerIndex=I),this},setBaseTileSize:function(M,I){this.tileWidth=M,this.tileHeight=I,this.widthInPixels=this.width*M,this.heightInPixels=this.height*I;for(var k=0;k<this.layers.length;k++){this.layers[k].baseTileWidth=M,this.layers[k].baseTileHeight=I;for(var F=this.layers[k].data,N=this.layers[k].width,V=this.layers[k].height,B=0;B<V;B++)for(var H=0;H<N;H++){var Q=F[B][H];null!==Q&&Q.setSize(void 0,void 0,M,I)}}return this},setLayerTileSize:function(M,I,k){if(null===(k=this.getLayer(k)))return this;k.tileWidth=M,k.tileHeight=I;for(var F=k.data,N=k.width,V=k.height,B=0;B<V;B++)for(var H=0;H<N;H++){var Q=F[B][H];null!==Q&&Q.setSize(M,I)}return this},shuffle:function(M,I,k,F,N){return null===(N=this.getLayer(N))?null:(y.Shuffle(M,I,k,F,N),this)},swapByIndex:function(M,I,k,F,N,V,B){return null===(B=this.getLayer(B))?null:(y.SwapByIndex(M,I,k,F,N,V,B),this)},tileToWorldX:function(M,I,k){return null===(k=this.getLayer(k))?null:this._convert.TileToWorldX(M,I,k)},tileToWorldY:function(M,I,k){return null===(k=this.getLayer(k))?null:this._convert.TileToWorldY(M,I,k)},tileToWorldXY:function(M,I,k,F,N){return null===(N=this.getLayer(N))?null:this._convert.TileToWorldXY(M,I,k,F,N)},getTileCorners:function(M,I,k,F){return null===(F=this.getLayer(F))?null:this._convert.GetTileCorners(M,I,k,F)},weightedRandomize:function(M,I,k,F,N,V){return null===(V=this.getLayer(V))?null:(y.WeightedRandomize(I,k,F,N,M,V),this)},worldToTileX:function(M,I,k,F){return null===(F=this.getLayer(F))?null:this._convert.WorldToTileX(M,I,k,F)},worldToTileY:function(M,I,k,F){return null===(F=this.getLayer(F))?null:this._convert.WorldToTileY(M,I,k,F)},worldToTileXY:function(M,I,k,F,N,V){return null===(V=this.getLayer(V))?null:this._convert.WorldToTileXY(M,I,k,F,N,V)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});S.exports=A},45939:(S,P,a)=>{var w=a(44603),T=a(31989);w.register("tilemap",function(g){var f=void 0!==g?g:{};return T(this.scene,f.key,f.tileWidth,f.tileHeight,f.width,f.height,f.data,f.insertNull)})},46029:(S,P,a)=>{var w=a(39429),T=a(31989);w.register("tilemap",function(g,f,h,c,u,m,d){return null===g&&(g=void 0),null===f&&(f=void 0),null===h&&(h=void 0),null===c&&(c=void 0),null===u&&(u=void 0),T(this.scene,g,f,h,c,u,m,d)})},20442:(S,P,a)=>{var w=a(83419),T=a(78389),g=a(31401),f=a(95643),h=a(81086),c=a(19218),u=a(26099),m=new w({Extends:f,Mixins:[g.Alpha,g.BlendMode,g.ComputedSize,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.Transform,g.Visible,g.ScrollFactor,T,c],initialize:function(p,v,x,y,_,E){f.call(this,p,"TilemapLayer"),this.isTilemap=!0,this.tilemap=v,this.layerIndex=x,this.layer=v.layers[x],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=h.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new u,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(y),this.setAlpha(this.layer.alpha),this.setPosition(_,E),this.setOrigin(0,0),this.setSize(v.tileWidth*this.layer.width,v.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(d){var p=[],v=[],x=this.tilemap;Array.isArray(d)||(d=[d]);for(var y=0;y<d.length;y++){var _=d[y];if("string"==typeof _&&(_=x.getTileset(_)),_){v.push(_);for(var E=_.firstgid,A=0;A<_.total;A++)p[E+A]=_}}this.gidMap=p,this.tileset=v},setRenderOrder:function(d){return"string"==typeof d&&(d=["right-down","left-down","right-up","left-up"].indexOf(d)),d>=0&&d<4&&(this._renderOrder=d),this},calculateFacesAt:function(d,p){return h.CalculateFacesAt(d,p,this.layer),this},calculateFacesWithin:function(d,p,v,x){return h.CalculateFacesWithin(d,p,v,x,this.layer),this},createFromTiles:function(d,p,v,x,y){return h.CreateFromTiles(d,p,v,x,y,this.layer)},cull:function(d){return this.cullCallback(this.layer,d,this.culledTiles,this._renderOrder)},copy:function(d,p,v,x,y,_,E){return h.Copy(d,p,v,x,y,_,E,this.layer),this},fill:function(d,p,v,x,y,_){return h.Fill(d,p,v,x,y,_,this.layer),this},filterTiles:function(d,p,v,x,y,_,E){return h.FilterTiles(d,p,v,x,y,_,E,this.layer)},findByIndex:function(d,p,v){return h.FindByIndex(d,p,v,this.layer)},findTile:function(d,p,v,x,y,_,E){return h.FindTile(d,p,v,x,y,_,E,this.layer)},forEachTile:function(d,p,v,x,y,_,E){return h.ForEachTile(d,p,v,x,y,_,E,this.layer),this},setTint:function(d,p,v,x,y,_){return void 0===d&&(d=16777215),this.forEachTile(function(A){A.tint=d,A.tintFill=!1},this,p,v,x,y,_)},setTintFill:function(d,p,v,x,y,_){return void 0===d&&(d=16777215),this.forEachTile(function(A){A.tint=d,A.tintFill=!0},this,p,v,x,y,_)},getTileAt:function(d,p,v){return h.GetTileAt(d,p,v,this.layer)},getTileAtWorldXY:function(d,p,v,x){return h.GetTileAtWorldXY(d,p,v,x,this.layer)},getIsoTileAtWorldXY:function(d,p,v,x,y){void 0===v&&(v=!0);var _=this.tempVec;return h.IsometricWorldToTileXY(d,p,!0,_,y,this.layer,v),this.getTileAt(_.x,_.y,x)},getTilesWithin:function(d,p,v,x,y){return h.GetTilesWithin(d,p,v,x,y,this.layer)},getTilesWithinShape:function(d,p,v){return h.GetTilesWithinShape(d,p,v,this.layer)},getTilesWithinWorldXY:function(d,p,v,x,y,_){return h.GetTilesWithinWorldXY(d,p,v,x,y,_,this.layer)},hasTileAt:function(d,p){return h.HasTileAt(d,p,this.layer)},hasTileAtWorldXY:function(d,p,v){return h.HasTileAtWorldXY(d,p,v,this.layer)},putTileAt:function(d,p,v,x){return h.PutTileAt(d,p,v,x,this.layer)},putTileAtWorldXY:function(d,p,v,x,y){return h.PutTileAtWorldXY(d,p,v,x,y,this.layer)},putTilesAt:function(d,p,v,x){return h.PutTilesAt(d,p,v,x,this.layer),this},randomize:function(d,p,v,x,y){return h.Randomize(d,p,v,x,y,this.layer),this},removeTileAt:function(d,p,v,x){return h.RemoveTileAt(d,p,v,x,this.layer)},removeTileAtWorldXY:function(d,p,v,x,y){return h.RemoveTileAtWorldXY(d,p,v,x,y,this.layer)},renderDebug:function(d,p){return h.RenderDebug(d,p,this.layer),this},replaceByIndex:function(d,p,v,x,y,_){return h.ReplaceByIndex(d,p,v,x,y,_,this.layer),this},setSkipCull:function(d){return void 0===d&&(d=!0),this.skipCull=d,this},setCullPadding:function(d,p){return void 0===d&&(d=1),void 0===p&&(p=1),this.cullPaddingX=d,this.cullPaddingY=p,this},setCollision:function(d,p,v,x){return h.SetCollision(d,p,v,this.layer,x),this},setCollisionBetween:function(d,p,v,x){return h.SetCollisionBetween(d,p,v,x,this.layer),this},setCollisionByProperty:function(d,p,v){return h.SetCollisionByProperty(d,p,v,this.layer),this},setCollisionByExclusion:function(d,p,v){return h.SetCollisionByExclusion(d,p,v,this.layer),this},setCollisionFromCollisionGroup:function(d,p){return h.SetCollisionFromCollisionGroup(d,p,this.layer),this},setTileIndexCallback:function(d,p,v){return h.SetTileIndexCallback(d,p,v,this.layer),this},setTileLocationCallback:function(d,p,v,x,y,_){return h.SetTileLocationCallback(d,p,v,x,y,_,this.layer),this},shuffle:function(d,p,v,x){return h.Shuffle(d,p,v,x,this.layer),this},swapByIndex:function(d,p,v,x,y,_){return h.SwapByIndex(d,p,v,x,y,_,this.layer),this},tileToWorldX:function(d,p){return this.tilemap.tileToWorldX(d,p,this)},tileToWorldY:function(d,p){return this.tilemap.tileToWorldY(d,p,this)},tileToWorldXY:function(d,p,v,x){return this.tilemap.tileToWorldXY(d,p,v,x,this)},getTileCorners:function(d,p,v){return this.tilemap.getTileCorners(d,p,v,this)},weightedRandomize:function(d,p,v,x,y){return h.WeightedRandomize(p,v,x,y,d,this.layer),this},worldToTileX:function(d,p,v){return this.tilemap.worldToTileX(d,p,v,this)},worldToTileY:function(d,p,v){return this.tilemap.worldToTileY(d,p,v,this)},worldToTileXY:function(d,p,v,x,y){return this.tilemap.worldToTileXY(d,p,v,x,y,this)},destroy:function(d){void 0===d&&(d=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),d&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],f.prototype.destroy.call(this))}});S.exports=m},16153:(S,P,a)=>{var w=a(61340),T=new w,g=new w,f=new w;S.exports=function(c,u,m,d){var p=u.cull(m),v=p.length,x=m.alpha*u.alpha;if(!(0===v||x<=0)){var y=T,_=g,E=f;_.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),y.copyFrom(m.matrix);var A=c.currentContext,M=u.gidMap;A.save(),d?(y.multiplyWithOffset(d,-m.scrollX*u.scrollFactorX,-m.scrollY*u.scrollFactorY),_.e=u.x,_.f=u.y,y.multiply(_,E),E.copyToContext(A)):(_.e-=m.scrollX*u.scrollFactorX,_.f-=m.scrollY*u.scrollFactorY,_.copyToContext(A)),(!c.antialias||u.scaleX>1||u.scaleY>1)&&(A.imageSmoothingEnabled=!1);for(var I=0;I<v;I++){var k=p[I],F=M[k.index];if(F){var N=F.image.getSourceImage(),V=F.getTileTextureCoordinates(k.index),B=F.tileWidth,H=F.tileHeight;if(null!==V&&0!==B&&0!==H){var Q=.5*B,G=.5*H;V.x+=F.tileOffset.x,V.y+=F.tileOffset.y,A.save(),A.translate(k.pixelX+Q,k.pixelY+G),0!==k.rotation&&A.rotate(k.rotation),(k.flipX||k.flipY)&&A.scale(k.flipX?-1:1,k.flipY?-1:1),A.globalAlpha=x*k.alpha,A.drawImage(N,V.x,V.y,B,H,-Q,-G,B,H),A.restore()}}}A.restore()}}},19218:(S,P,a)=>{var T,g;a(29747),T=a(99558),g=a(16153),S.exports={renderWebGL:T,renderCanvas:g}},99558:(S,P,a)=>{var w=a(70554);S.exports=function(g,f,h){var c=f.cull(h),u=c.length,m=h.alpha*f.alpha;if(!(0===u||m<=0)){var d=f.gidMap,p=g.pipelines.set(f.pipeline,f),v=w.getTintAppendFloatAlpha,x=f.scrollFactorX,y=f.scrollFactorY,_=f.x,E=f.y,A=f.scaleX,M=f.scaleY;g.pipelines.preBatch(f);for(var I=0;I<u;I++){var k=c[I],F=d[k.index];if(F){var N=F.getTileTextureCoordinates(k.index),V=F.tileWidth,B=F.tileHeight;if(N&&0!==V&&0!==B){var H=.5*V,Q=.5*B,G=F.glTexture,K=p.setTexture2D(G,f),tt=V,at=B,lt=N.x,J=N.y,it=F.tileOffset.x,Y=F.tileOffset.y,j=v(k.tint,m*k.alpha);p.batchTexture(f,G,G.width,G.height,_+k.pixelX*A+(H*A-it),E+k.pixelY*M+(Q*M-Y),V,B,A,M,k.rotation,k.flipX,k.flipY,x,y,H,Q,lt,J,tt,at,j,j,j,j,k.tintFill,0,0,h,null,!0,K,!0)}}}g.pipelines.postBatch(f)}}},33629:(S,P,a)=>{var w=a(83419),T=a(26099),g=new w({initialize:function(h,c,u,m,d,p,v,x,y){(void 0===u||u<=0)&&(u=32),(void 0===m||m<=0)&&(m=32),void 0===d&&(d=0),void 0===p&&(p=0),void 0===v&&(v={}),void 0===x&&(x={}),this.name=h,this.firstgid=c,this.tileWidth=u,this.tileHeight=m,this.tileMargin=d,this.tileSpacing=p,this.tileProperties=v,this.tileData=x,this.tileOffset=new T,void 0!==y&&this.tileOffset.set(y.x,y.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(f){return this.containsTileIndex(f)?this.tileProperties[f-this.firstgid]:null},getTileData:function(f){return this.containsTileIndex(f)?this.tileData[f-this.firstgid]:null},getTileCollisionGroup:function(f){var h=this.getTileData(f);return h&&h.objectgroup?h.objectgroup:null},containsTileIndex:function(f){return f>=this.firstgid&&f<this.firstgid+this.total},getTileTextureCoordinates:function(f){return this.containsTileIndex(f)?this.texCoordinates[f-this.firstgid]:null},setImage:function(f){this.image=f;var h=f.get(),c=f.getFrameBounds();return this.glTexture=h.source.glTexture,h.width>c.width||h.height>c.height?this.updateTileData(h.width,h.height):this.updateTileData(c.width,c.height,c.x,c.y),this},setTileSize:function(f,h){return void 0!==f&&(this.tileWidth=f),void 0!==h&&(this.tileHeight=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(f,h){return void 0!==f&&(this.tileMargin=f),void 0!==h&&(this.tileSpacing=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(f,h,c,u){void 0===c&&(c=0),void 0===u&&(u=0);var m=(h-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),d=(f-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(m%1!=0||d%1!=0)&&console.warn("Image tile area not tile size multiple in: "+this.name),m=Math.floor(m),d=Math.floor(d),this.rows=m,this.columns=d,this.total=m*d,this.texCoordinates.length=0;for(var p=this.tileMargin+c,v=this.tileMargin+u,x=0;x<this.rows;x++){for(var y=0;y<this.columns;y++)this.texCoordinates.push({x:p,y:v}),p+=this.tileWidth+this.tileSpacing;p=this.tileMargin+c,v+=this.tileHeight+this.tileSpacing}return this}});S.exports=g},72023:(S,P,a)=>{var w=a(7423);S.exports=function(g,f,h){var c=w(g,f,!0,h),u=w(g,f-1,!0,h),m=w(g,f+1,!0,h),d=w(g-1,f,!0,h),p=w(g+1,f,!0,h),v=c&&c.collides;return v&&(c.faceTop=!0,c.faceBottom=!0,c.faceLeft=!0,c.faceRight=!0),u&&u.collides&&(v&&(c.faceTop=!1),u.faceBottom=!v),m&&m.collides&&(v&&(c.faceBottom=!1),m.faceTop=!v),d&&d.collides&&(v&&(c.faceLeft=!1),d.faceRight=!v),p&&p.collides&&(v&&(c.faceRight=!1),p.faceLeft=!v),c&&!c.collides&&c.resetFaces(),c}},42573:(S,P,a)=>{var w=a(7423),T=a(7386);S.exports=function(f,h,c,u,m){for(var d=null,p=null,v=null,x=null,y=T(f,h,c,u,null,m),_=0;_<y.length;_++){var E=y[_];E&&(E.collides?(d=w(E.x,E.y-1,!0,m),p=w(E.x,E.y+1,!0,m),v=w(E.x-1,E.y,!0,m),x=w(E.x+1,E.y,!0,m),E.faceTop=!(d&&d.collides),E.faceBottom=!(p&&p.collides),E.faceLeft=!(v&&v.collides),E.faceRight=!(x&&x.collides)):E.resetFaces())}}},33528:(S,P,a)=>{var T=new(a(26099));S.exports=function(f,h,c,u){var m=c.tilemapLayer,d=m.cullPaddingX,p=m.cullPaddingY,v=m.tilemap.tileToWorldXY(f,h,T,u,m);return v.x>u.worldView.x+m.scaleX*c.tileWidth*(-d-.5)&&v.x<u.worldView.right+m.scaleX*c.tileWidth*(d-.5)&&v.y>u.worldView.y+m.scaleY*c.tileHeight*(-p-1)&&v.y<u.worldView.bottom+m.scaleY*c.tileHeight*(p-.5)}},1785:(S,P,a)=>{var w=a(42573),T=a(7386),g=a(62991),f=a(23029);S.exports=function(c,u,m,d,p,v,x,y){void 0===x&&(x=!0);var _=T(c,u,m,d,null,y),E=[];_.forEach(function(V){var B=new f(V.layer,V.index,V.x,V.y,V.width,V.height,V.baseWidth,V.baseHeight);B.copy(V),E.push(B)});for(var A=p-c,M=v-u,I=0;I<E.length;I++){var k=E[I],F=k.x+A,N=k.y+M;g(F,N,y)&&y.data[N][F]&&(k.x=F,k.y=N,k.updatePixelXY(),y.data[N][F]=k)}x&&w(p-1,v-1,m+2,d+2,y),_.length=0,E.length=0}},78419:(S,P,a)=>{var w=a(62644),T=a(7386),g=a(27987);S.exports=function(h,c,u,m,d,p){u||(u={}),Array.isArray(h)||(h=[h]);var v=p.tilemapLayer;m||(m=v.scene),d||(d=m.cameras.main);var A,x=p.width,y=p.height,_=T(0,0,x,y,null,p),E=[],M=function(N,V,B){for(var H=0;H<B.length;H++){var Q=B[H];N.hasOwnProperty(Q)||(N[Q]=V[Q])}};for(A=0;A<_.length;A++){var I=_[A],k=w(u);if(-1!==h.indexOf(I.index)){var F=v.tileToWorldXY(I.x,I.y,void 0,d,p);k.x=F.x,k.y=F.y,M(k,I,["rotation","flipX","flipY","alpha","visible","tint"]),k.hasOwnProperty("origin")||(k.x+=.5*I.width,k.y+=.5*I.height),k.hasOwnProperty("useSpriteSheet")&&(k.key=I.tileset.image,k.frame=I.index-1),E.push(m.make.sprite(k))}}if(Array.isArray(c))for(A=0;A<h.length;A++)g(h[A],c[A],0,0,x,y,p);else if(null!==c)for(A=0;A<h.length;A++)g(h[A],c,0,0,x,y,p);return E}},19545:(S,P,a)=>{var w=a(87841),T=a(63448),g=a(56583),f=new w;S.exports=function(c,u){var m=c.tilemapLayer.tilemap,d=c.tilemapLayer,p=Math.floor(m.tileWidth*d.scaleX),v=Math.floor(m.tileHeight*d.scaleY),x=g(u.worldView.x-d.x,p,0,!0)-d.cullPaddingX,y=T(u.worldView.right-d.x,p,0,!0)+d.cullPaddingX,_=g(u.worldView.y-d.y,v,0,!0)-d.cullPaddingY,E=T(u.worldView.bottom-d.y,v,0,!0)+d.cullPaddingY;return f.setTo(x,_,y-x,E-_)}},30003:(S,P,a)=>{var w=a(19545),T=a(32483);S.exports=function(f,h,c,u){void 0===c&&(c=[]),void 0===u&&(u=0),c.length=0;var m=f.tilemapLayer,d=w(f,h);return(m.skipCull||1!==m.scrollFactorX||1!==m.scrollFactorY)&&(d.left=0,d.right=f.width,d.top=0,d.bottom=f.height),T(f,d,u,c),c}},35137:(S,P,a)=>{var w=a(7386),T=a(42573),g=a(20576);S.exports=function(h,c,u,m,d,p,v){for(var x=-1!==v.collideIndexes.indexOf(h),y=w(c,u,m,d,null,v),_=0;_<y.length;_++)y[_].index=h,g(y[_],x);p&&T(c-1,u-1,m+2,d+2,v)}},40253:(S,P,a)=>{var w=a(7386);S.exports=function(g,f,h,c,u,m,d,p){return w(h,c,u,m,d,p).filter(g,f)}},52692:S=>{S.exports=function(a,w,T,g){void 0===w&&(w=0),void 0===T&&(T=!1);var h,c,u,f=0;if(T){for(c=g.height-1;c>=0;c--)for(h=g.width-1;h>=0;h--)if((u=g.data[c][h])&&u.index===a){if(f===w)return u;f+=1}}else for(c=0;c<g.height;c++)for(h=0;h<g.width;h++)if((u=g.data[c][h])&&u.index===a){if(f===w)return u;f+=1}return null}},66151:(S,P,a)=>{var w=a(7386);S.exports=function(g,f,h,c,u,m,d,p){return w(h,c,u,m,d,p).find(g,f)||null}},97560:(S,P,a)=>{var w=a(7386);S.exports=function(g,f,h,c,u,m,d,p){w(h,c,u,m,d,p).forEach(g,f)}},43305:(S,P,a)=>{var w=a(91907),T=a(30003),g=a(9474),f=a(14018),h=a(29747),c=a(54503);S.exports=function(m){return m===w.ORTHOGONAL?T:m===w.HEXAGONAL?g:m===w.STAGGERED?c:m===w.ISOMETRIC?f:h}},7423:(S,P,a)=>{var w=a(62991);S.exports=function(g,f,h,c){if(w(g,f,c)){var u=c.data[f][g]||null;return u?-1===u.index?h?u:null:u:null}return null}},60540:(S,P,a)=>{var w=a(7423),g=new(a(26099));S.exports=function(h,c,u,m,d){return d.tilemapLayer.worldToTileXY(h,c,!0,g,m),w(g.x,g.y,u,d)}},55826:(S,P,a)=>{var w=a(26099);S.exports=function(g,f,h,c){var u=c.baseTileWidth,m=c.baseTileHeight,d=c.tilemapLayer,p=0,v=0;d&&(h||(h=d.scene.cameras.main),p=d.x+h.scrollX*(1-d.scrollFactorX),v=d.y+h.scrollY*(1-d.scrollFactorY),u*=d.scaleX,m*=d.scaleY);var x=p+g*u,y=v+f*m;return[new w(x,y),new w(x+u,y),new w(x+u,y+m),new w(x,y+m)]}},11758:(S,P,a)=>{var w=a(91907),T=a(27229),g=a(29747),f=a(55826);S.exports=function(c){return c===w.ORTHOGONAL?f:c===w.ISOMETRIC?g:c===w.HEXAGONAL?T:g}},39167:(S,P,a)=>{var w=a(91907),T=a(29747),g=a(97281);S.exports=function(h){return h===w.ORTHOGONAL?g:T}},62e3:(S,P,a)=>{var w=a(91907),T=a(19951),g=a(14127),f=a(29747),h=a(97202),c=a(70326);S.exports=function(m){return m===w.ORTHOGONAL?c:m===w.ISOMETRIC?g:m===w.HEXAGONAL?T:m===w.STAGGERED?h:f}},5984:(S,P,a)=>{var w=a(91907),T=a(29747),g=a(28054),f=a(29650);S.exports=function(c){return c===w.ORTHOGONAL?f:c===w.STAGGERED?g:T}},7386:(S,P,a)=>{var w=a(95540);S.exports=function(g,f,h,c,u,m){void 0===g&&(g=0),void 0===f&&(f=0),void 0===h&&(h=m.width),void 0===c&&(c=m.height),u||(u={});var d=w(u,"isNotEmpty",!1),p=w(u,"isColliding",!1),v=w(u,"hasInterestingFace",!1);g<0&&(h+=g,g=0),f<0&&(c+=f,f=0),g+h>m.width&&(h=Math.max(m.width-g,0)),f+c>m.height&&(c=Math.max(m.height-f,0));for(var x=[],y=f;y<f+c;y++)for(var _=g;_<g+h;_++){var E=m.data[y][_];if(null!==E){if(d&&-1===E.index||p&&!E.collides||v&&!E.hasInterestingFace)continue;x.push(E)}}return x}},91141:(S,P,a)=>{var w=a(55738),T=a(7386),g=a(91865),f=a(29747),h=a(26099),c=function(v,x){return g.RectangleToTriangle(x,v)},u=new h,m=new h,d=new h;S.exports=function(v,x,y,_){if(void 0===v)return[];var E=f;v instanceof w.Circle?E=g.CircleToRectangle:v instanceof w.Rectangle?E=g.RectangleToRectangle:v instanceof w.Triangle?E=c:v instanceof w.Line&&(E=g.LineToRectangle),_.tilemapLayer.worldToTileXY(v.left,v.top,!0,m,y);var A=m.x,M=m.y;_.tilemapLayer.worldToTileXY(v.right,v.bottom,!1,d,y);var I=Math.ceil(d.x),k=Math.ceil(d.y),F=Math.max(I-A,1),N=Math.max(k-M,1),V=T(A,M,F,N,x,_),B=_.tileWidth,H=_.tileHeight;_.tilemapLayer&&(B*=_.tilemapLayer.scaleX,H*=_.tilemapLayer.scaleY);for(var Q=[],G=new w.Rectangle(0,0,B,H),K=0;K<V.length;K++){var tt=V[K];_.tilemapLayer.tileToWorldXY(tt.x,tt.y,u,y),G.x=u.x,G.y=u.y,E(v,G)&&Q.push(tt)}return Q}},96523:(S,P,a)=>{var w=a(7386),T=a(26099),g=new T,f=new T;S.exports=function(c,u,m,d,p,v,x){var y=x.tilemapLayer.tilemap._convert.WorldToTileXY;y(c,u,!0,g,v,x);var _=g.x,E=g.y;y(c+m,u+d,!1,f,v,x);var A=Math.ceil(f.x),M=Math.ceil(f.y);return w(_,E,A-_,M-E,p,x)}},96113:(S,P,a)=>{var w=a(91907),T=a(20242),g=a(10095);S.exports=function(h){return h===w.ORTHOGONAL?g:T}},16926:(S,P,a)=>{var w=a(91907),T=a(86625),g=a(96897),f=a(29747),h=a(15108),c=a(85896);S.exports=function(m){return m===w.ORTHOGONAL?c:m===w.ISOMETRIC?g:m===w.HEXAGONAL?T:m===w.STAGGERED?h:f}},55762:(S,P,a)=>{var w=a(91907),T=a(20242),g=a(51900),f=a(63288);S.exports=function(c){return c===w.ORTHOGONAL?f:c===w.STAGGERED?g:T}},45091:(S,P,a)=>{var w=a(62991);S.exports=function(g,f,h){if(w(g,f,h)){var c=h.data[f][g];return null!==c&&c.index>-1}return!1}},24152:(S,P,a)=>{var w=a(45091),g=new(a(26099));S.exports=function(h,c,u,m){return m.tilemapLayer.worldToTileXY(h,c,!0,g,u),w(g.x,g.y,m)}},90454:(S,P,a)=>{var w=a(63448),T=a(56583);S.exports=function(f,h){var v,x,y,_,c=f.tilemapLayer.tilemap,u=f.tilemapLayer,m=Math.floor(c.tileWidth*u.scaleX),d=Math.floor(c.tileHeight*u.scaleY),p=f.hexSideLength;if("y"===f.staggerAxis){var E=(d-p)/2+p;v=T(h.worldView.x-u.x,m,0,!0)-u.cullPaddingX,x=w(h.worldView.right-u.x,m,0,!0)+u.cullPaddingX,y=T(h.worldView.y-u.y,E,0,!0)-u.cullPaddingY,_=w(h.worldView.bottom-u.y,E,0,!0)+u.cullPaddingY}else{var A=(m-p)/2+p;v=T(h.worldView.x-u.x,A,0,!0)-u.cullPaddingX,x=w(h.worldView.right-u.x,A,0,!0)+u.cullPaddingX,y=T(h.worldView.y-u.y,d,0,!0)-u.cullPaddingY,_=w(h.worldView.bottom-u.y,d,0,!0)+u.cullPaddingY}return{left:v,right:x,top:y,bottom:_}}},9474:(S,P,a)=>{var w=a(90454),T=a(32483);S.exports=function(f,h,c,u){void 0===c&&(c=[]),void 0===u&&(u=0),c.length=0;var m=f.tilemapLayer,d=w(f,h);return m.skipCull&&1===m.scrollFactorX&&1===m.scrollFactorY&&(d.left=0,d.right=f.width,d.top=0,d.bottom=f.height),T(f,d,u,c),c}},27229:(S,P,a)=>{var w=a(19951),T=a(26099),g=new T;S.exports=function(h,c,u,m){var d=m.baseTileWidth,p=m.baseTileHeight,v=m.tilemapLayer;v&&(d*=v.scaleX,p*=v.scaleY);var E,A,x=w(h,c,g,u,m),y=[],_=.5773502691896257;"y"===m.staggerAxis?(E=_*d,A=p/2):(E=d/2,A=_*p);for(var M=0;M<6;M++){var I=2*Math.PI*(.5-M)/6;y.push(new T(x.x+E*Math.cos(I),x.y+A*Math.sin(I)))}return y}},19951:(S,P,a)=>{var w=a(26099);S.exports=function(g,f,h,c,u){h||(h=new w);var m=u.baseTileWidth,d=u.baseTileHeight,p=u.tilemapLayer,v=0,x=0;p&&(c||(c=p.scene.cameras.main),v=p.x+c.scrollX*(1-p.scrollFactorX),x=p.y+c.scrollY*(1-p.scrollFactorY),m*=p.scaleX,d*=p.scaleY);var E,A,y=m/2,_=d/2,M=u.staggerAxis,I=u.staggerIndex;return"y"===M?(E=v+m*g+m,A=x+1.5*f*_+_,f%2==0&&("odd"===I?E-=y:E+=y)):"x"===M&&"odd"===I&&(E=v+1.5*g*y+y,A=x+d*g+d,g%2==0&&("odd"===I?A-=_:A+=_)),h.set(E,A)}},86625:(S,P,a)=>{var w=a(26099);S.exports=function(g,f,h,c,u,m){c||(c=new w);var d=m.baseTileWidth,p=m.baseTileHeight,v=m.tilemapLayer;v&&(u||(u=v.scene.cameras.main),g-=v.x+u.scrollX*(1-v.scrollFactorX),f-=v.y+u.scrollY*(1-v.scrollFactorY),d*=v.scaleX,p*=v.scaleY);var I,k,F,N,V,x=.5773502691896257,y=-.3333333333333333,E=.6666666666666666,A=d/2,M=p/2;"y"===m.staggerAxis?(F=x*(I=(g-A)/(x*d))+y*(k=(f-M)/M),N=0*I+E*k):(F=y*(I=(g-A)/A)+x*(k=(f-M)/(x*p)),N=E*I+0*k),V=-F-N;var B=Math.round(F),H=Math.round(N),Q=Math.round(V),G=Math.abs(B-F),K=Math.abs(H-N),tt=Math.abs(Q-V);return G>K&&G>tt?B=-H-Q:K>tt&&(H=-B-Q),c.set("odd"===m.staggerIndex?H%2==0?H/2+B:H/2+B-.5:H%2==0?H/2+B:H/2+B+.5,H)}},62991:S=>{S.exports=function(a,w,T){return a>=0&&a<T.width&&w>=0&&w<T.height}},14018:(S,P,a)=>{var w=a(33528);S.exports=function(g,f,h,c){void 0===h&&(h=[]),void 0===c&&(c=0),h.length=0;var A,M,I,u=g.tilemapLayer,m=g.data,d=g.width,p=g.height,v=u.skipCull,y=d,E=p;if(0===c)for(M=0;M<E;M++)for(A=0;A<y;A++)(I=m[M][A])&&-1!==I.index&&I.visible&&0!==I.alpha&&(!v&&!w(A,M,g,f)||h.push(I));else if(1===c)for(M=0;M<E;M++)for(A=y;A>=0;A--)(I=m[M][A])&&-1!==I.index&&I.visible&&0!==I.alpha&&(!v&&!w(A,M,g,f)||h.push(I));else if(2===c)for(M=E;M>=0;M--)for(A=0;A<y;A++)(I=m[M][A])&&-1!==I.index&&I.visible&&0!==I.alpha&&(!v&&!w(A,M,g,f)||h.push(I));else if(3===c)for(M=E;M>=0;M--)for(A=y;A>=0;A--)(I=m[M][A])&&-1!==I.index&&I.visible&&0!==I.alpha&&(!v&&!w(A,M,g,f)||h.push(I));return u.tilesDrawn=h.length,u.tilesTotal=d*p,h}},14127:(S,P,a)=>{var w=a(26099);S.exports=function(g,f,h,c,u){h||(h=new w);var m=u.baseTileWidth,d=u.baseTileHeight,p=u.tilemapLayer,v=0,x=0;return p&&(c||(c=p.scene.cameras.main),v=p.x+c.scrollX*(1-p.scrollFactorX),m*=p.scaleX,x=p.y+c.scrollY*(1-p.scrollFactorY),d*=p.scaleY),h.set(v+m/2*(g-f),x+(g+f)*(d/2))}},96897:(S,P,a)=>{var w=a(26099);S.exports=function(g,f,h,c,u,m,d){c||(c=new w);var p=m.baseTileWidth,v=m.baseTileHeight,x=m.tilemapLayer;x&&(u||(u=x.scene.cameras.main),f-=x.y+u.scrollY*(1-x.scrollFactorY),v*=x.scaleY,g-=x.x+u.scrollX*(1-x.scrollFactorX),p*=x.scaleX);var y=p/2,_=v/2;d||(f-=v);var E=.5*((g-=y)/y+f/_),A=.5*(-g/y+f/_);return h&&(E=Math.floor(E),A=Math.floor(A)),c.set(E,A)}},71558:(S,P,a)=>{var w=a(23029),T=a(62991),g=a(72023),f=a(20576);S.exports=function(c,u,m,d,p){if(void 0===d&&(d=!0),!T(u,m,p))return null;var v,x=p.data[m][u],y=x&&x.collides;c instanceof w?(null===p.data[m][u]&&(p.data[m][u]=new w(p,c.index,u,m,p.tileWidth,p.tileHeight)),p.data[m][u].copy(c)):(v=c,null===p.data[m][u]?p.data[m][u]=new w(p,v,u,m,p.tileWidth,p.tileHeight):p.data[m][u].index=v);var _=p.data[m][u],E=-1!==p.collideIndexes.indexOf(_.index);if(-1===(v=c instanceof w?c.index:c))_.width=p.tileWidth,_.height=p.tileHeight;else{var A=p.tilemapLayer.tilemap,k=A.tilesets[A.tiles[v][2]];_.width=k.tileWidth,_.height=k.tileHeight}return f(_,E),d&&y!==_.collides&&g(u,m,p),_}},26303:(S,P,a)=>{var w=a(71558),g=new(a(26099));S.exports=function(h,c,u,m,d,p){return p.tilemapLayer.worldToTileXY(c,u,!0,g,d,p),w(h,g.x,g.y,m,p)}},14051:(S,P,a)=>{var w=a(42573),T=a(71558);S.exports=function(f,h,c,u,m){if(void 0===u&&(u=!0),!Array.isArray(f))return null;Array.isArray(f[0])||(f=[f]);for(var d=f.length,p=f[0].length,v=0;v<d;v++)for(var x=0;x<p;x++)T(f[v][x],h+x,c+v,!1,m);u&&w(h-1,c-1,p+2,d+2,m)}},77389:(S,P,a)=>{var w=a(7386),T=a(26546);S.exports=function(f,h,c,u,m,d){var p,v=w(f,h,c,u,{},d);if(!m)for(m=[],p=0;p<v.length;p++)-1===m.indexOf(v[p].index)&&m.push(v[p].index);for(p=0;p<v.length;p++)v[p].index=T(m)}},63557:(S,P,a)=>{var w=a(23029),T=a(62991),g=a(72023);S.exports=function(h,c,u,m,d){if(void 0===u&&(u=!0),void 0===m&&(m=!0),!T(h,c,d))return null;var p=d.data[c][h];return p?(d.data[c][h]=u?null:new w(d,-1,h,c,d.tileWidth,d.tileHeight),m&&p&&p.collides&&g(h,c,d),p):null}},94178:(S,P,a)=>{var w=a(63557),g=new(a(26099));S.exports=function(h,c,u,m,d,p){return p.tilemapLayer.worldToTileXY(h,c,!0,g,d,p),w(g.x,g.y,u,m,p)}},15533:(S,P,a)=>{var w=a(7386),T=a(3956),g=new T(105,210,231,150),f=new T(243,134,48,200),h=new T(40,39,37,150);S.exports=function(u,m,d){void 0===m&&(m={});var p=void 0!==m.tileColor?m.tileColor:g,v=void 0!==m.collidingTileColor?m.collidingTileColor:f,x=void 0!==m.faceColor?m.faceColor:h,y=w(0,0,d.width,d.height,null,d);u.translateCanvas(d.tilemapLayer.x,d.tilemapLayer.y),u.scaleCanvas(d.tilemapLayer.scaleX,d.tilemapLayer.scaleY);for(var _=0;_<y.length;_++){var E=y[_],A=E.width,M=E.height,I=E.pixelX,k=E.pixelY,F=E.collides?v:p;null!==F&&(u.fillStyle(F.color,F.alpha/255),u.fillRect(I,k,A,M)),I+=1,k+=1,A-=2,M-=2,null!==x&&(u.lineStyle(1,x.color,x.alpha/255),E.faceTop&&u.lineBetween(I,k,I+A,k),E.faceRight&&u.lineBetween(I+A,k,I+A,k+M),E.faceBottom&&u.lineBetween(I,k+M,I+A,k+M),E.faceLeft&&u.lineBetween(I,k,I,k+M))}}},27987:(S,P,a)=>{var w=a(7386);S.exports=function(g,f,h,c,u,m,d){for(var p=w(h,c,u,m,null,d),v=0;v<p.length;v++)p[v]&&p[v].index===g&&(p[v].index=f)}},32483:S=>{S.exports=function(a,w,T,g){var x,y,_,f=a.data,h=a.width,c=a.height,u=a.tilemapLayer,m=Math.max(0,w.left),d=Math.min(h,w.right),p=Math.max(0,w.top),v=Math.min(c,w.bottom);if(0===T)for(y=p;y<v;y++)for(x=m;f[y]&&x<d;x++)(_=f[y][x])&&-1!==_.index&&_.visible&&0!==_.alpha&&g.push(_);else if(1===T)for(y=p;y<v;y++)for(x=d;f[y]&&x>=m;x--)(_=f[y][x])&&-1!==_.index&&_.visible&&0!==_.alpha&&g.push(_);else if(2===T)for(y=v;y>=p;y--)for(x=m;f[y]&&x<d;x++)(_=f[y][x])&&-1!==_.index&&_.visible&&0!==_.alpha&&g.push(_);else if(3===T)for(y=v;y>=p;y--)for(x=d;f[y]&&x>=m;x--)(_=f[y][x])&&-1!==_.index&&_.visible&&0!==_.alpha&&g.push(_);return u.tilesDrawn=g.length,u.tilesTotal=h*c,g}},57068:(S,P,a)=>{var w=a(20576),T=a(42573),g=a(9589);S.exports=function(h,c,u,m,d){void 0===c&&(c=!0),void 0===u&&(u=!0),void 0===d&&(d=!0),Array.isArray(h)||(h=[h]);for(var p=0;p<h.length;p++)g(h[p],c,m);if(d)for(var v=0;v<m.height;v++)for(var x=0;x<m.width;x++){var y=m.data[v][x];y&&-1!==h.indexOf(y.index)&&w(y,c)}u&&T(0,0,m.width,m.height,m)}},37266:(S,P,a)=>{var w=a(20576),T=a(42573),g=a(9589);S.exports=function(h,c,u,m,d,p){if(void 0===u&&(u=!0),void 0===m&&(m=!0),void 0===p&&(p=!0),!(h>c)){for(var v=h;v<=c;v++)g(v,u,d);if(p)for(var x=0;x<d.height;x++)for(var y=0;y<d.width;y++){var _=d.data[x][y];_&&_.index>=h&&_.index<=c&&w(_,u)}m&&T(0,0,d.width,d.height,d)}}},75661:(S,P,a)=>{var w=a(20576),T=a(42573),g=a(9589);S.exports=function(h,c,u,m){void 0===c&&(c=!0),void 0===u&&(u=!0),Array.isArray(h)||(h=[h]);for(var d=0;d<m.height;d++)for(var p=0;p<m.width;p++){var v=m.data[d][p];v&&-1===h.indexOf(v.index)&&(w(v,c),g(v.index,c,m))}u&&T(0,0,m.width,m.height,m)}},64740:(S,P,a)=>{var w=a(20576),T=a(42573),g=a(97022);S.exports=function(h,c,u,m){void 0===c&&(c=!0),void 0===u&&(u=!0);for(var d=0;d<m.height;d++)for(var p=0;p<m.width;p++){var v=m.data[d][p];if(v)for(var x in h)if(g(v.properties,x)){var y=h[x];Array.isArray(y)||(y=[y]);for(var _=0;_<y.length;_++)v.properties[x]===y[_]&&w(v,c)}}u&&T(0,0,m.width,m.height,m)}},63307:(S,P,a)=>{var w=a(20576),T=a(42573);S.exports=function(f,h,c){void 0===f&&(f=!0),void 0===h&&(h=!0);for(var u=0;u<c.height;u++)for(var m=0;m<c.width;m++){var d=c.data[u][m];if(d){var p=d.getCollisionGroup();p&&p.objects&&p.objects.length>0&&w(d,f)}}h&&T(0,0,c.width,c.height,c)}},9589:S=>{S.exports=function(a,w,T){var g=T.collideIndexes.indexOf(a);w&&-1===g?T.collideIndexes.push(a):!w&&-1!==g&&T.collideIndexes.splice(g,1)}},20576:S=>{S.exports=function(a,w){w?a.setCollision(!0,!0,!0,!0,!1):a.resetCollision(!1)}},79583:S=>{S.exports=function(a,w,T,g){if("number"==typeof a)g.callbacks[a]=null!==w?{callback:w,callbackContext:T}:void 0;else for(var f=0,h=a.length;f<h;f++)g.callbacks[a[f]]=null!==w?{callback:w,callbackContext:T}:void 0}},93254:(S,P,a)=>{var w=a(7386);S.exports=function(g,f,h,c,u,m,d){for(var p=w(g,f,h,c,null,d),v=0;v<p.length;v++)p[v].setCollisionCallback(u,m)}},32903:(S,P,a)=>{var w=a(7386),T=a(33680);S.exports=function(f,h,c,u,m){var d=w(f,h,c,u,null,m),p=d.map(function(x){return x.index});T(p);for(var v=0;v<d.length;v++)d[v].index=p[v]}},61325:(S,P,a)=>{var w=a(63448),T=a(56583);S.exports=function(f,h){var c=f.tilemapLayer.tilemap,u=f.tilemapLayer,m=Math.floor(c.tileWidth*u.scaleX),d=Math.floor(c.tileHeight*u.scaleY);return{left:T(h.worldView.x-u.x,m,0,!0)-u.cullPaddingX,right:w(h.worldView.right-u.x,m,0,!0)+u.cullPaddingX,top:T(h.worldView.y-u.y,d/2,0,!0)-u.cullPaddingY,bottom:w(h.worldView.bottom-u.y,d/2,0,!0)+u.cullPaddingY}}},54503:(S,P,a)=>{var w=a(61325),T=a(32483);S.exports=function(f,h,c,u){void 0===c&&(c=[]),void 0===u&&(u=0),c.length=0;var m=f.tilemapLayer,d=w(f,h);return m.skipCull&&1===m.scrollFactorX&&1===m.scrollFactorY&&(d.left=0,d.right=f.width,d.top=0,d.bottom=f.height),T(f,d,u,c),c}},97202:(S,P,a)=>{var w=a(26099);S.exports=function(g,f,h,c,u){h||(h=new w);var m=u.baseTileWidth,d=u.baseTileHeight,p=u.tilemapLayer,v=0,x=0;return p&&(c||(c=p.scene.cameras.main),v=p.x+c.scrollX*(1-p.scrollFactorX),m*=p.scaleX,x=p.y+c.scrollY*(1-p.scrollFactorY),d*=p.scaleY),h.set(v+g*m+f%2*(m/2),x+f*(d/2))}},28054:S=>{S.exports=function(a,w,T){var g=T.baseTileHeight,f=T.tilemapLayer,h=0;return f&&(void 0===w&&(w=f.scene.cameras.main),h=f.y+w.scrollY*(1-f.scrollFactorY),g*=f.scaleY),h+a*(g/2)+g}},15108:(S,P,a)=>{var w=a(26099);S.exports=function(g,f,h,c,u,m){c||(c=new w);var d=m.baseTileWidth,p=m.baseTileHeight,v=m.tilemapLayer;v&&(u||(u=v.scene.cameras.main),f-=v.y+u.scrollY*(1-v.scrollFactorY),p*=v.scaleY,g-=v.x+u.scrollX*(1-v.scrollFactorX),d*=v.scaleX);var x=h?Math.floor(f/(p/2)):f/(p/2),y=h?Math.floor((g+x%2*.5*d)/d):(g+x%2*.5*d)/d;return c.set(y,x)}},51900:S=>{S.exports=function(a,w,T,g){var f=g.baseTileHeight,h=g.tilemapLayer;return h&&(T||(T=h.scene.cameras.main),a-=h.y+T.scrollY*(1-h.scrollFactorY),f*=h.scaleY),w?Math.floor(a/(f/2)):a/(f/2)}},86560:(S,P,a)=>{var w=a(7386);S.exports=function(g,f,h,c,u,m,d){for(var p=w(h,c,u,m,null,d),v=0;v<p.length;v++)p[v]&&(p[v].index===g?p[v].index=f:p[v].index===f&&(p[v].index=g))}},97281:S=>{S.exports=function(a,w,T){var g=T.baseTileWidth,f=T.tilemapLayer,h=0;return f&&(w||(w=f.scene.cameras.main),h=f.x+w.scrollX*(1-f.scrollFactorX),g*=f.scaleX),h+a*g}},70326:(S,P,a)=>{var w=a(97281),T=a(29650),g=a(26099);S.exports=function(h,c,u,m,d){return u||(u=new g(0,0)),u.x=w(h,m,d),u.y=T(c,m,d),u}},29650:S=>{S.exports=function(a,w,T){var g=T.baseTileHeight,f=T.tilemapLayer,h=0;return f&&(w||(w=f.scene.cameras.main),h=f.y+w.scrollY*(1-f.scrollFactorY),g*=f.scaleY),h+a*g}},77366:(S,P,a)=>{var w=a(7386),T=a(75508);S.exports=function(f,h,c,u,m,d){if(m){var p,v=w(f,h,c,u,null,d),x=0;for(p=0;p<m.length;p++)x+=m[p].weight;if(!(x<=0))for(p=0;p<v.length;p++){for(var y=T.RND.frac()*x,_=0,E=-1,A=0;A<m.length;A++)if(y<=(_+=m[A].weight)){var M=m[A].index;E=Array.isArray(M)?M[Math.floor(T.RND.frac()*M.length)]:M;break}v[p].index=E}}}},10095:(S,P,a)=>{var w=a(85896),g=new(a(26099));S.exports=function(h,c,u,m){return w(h,0,c,g,u,m),g.x}},85896:(S,P,a)=>{var w=a(26099);S.exports=function(g,f,h,c,u,m){void 0===h&&(h=!0),c||(c=new w);var d=m.baseTileWidth,p=m.baseTileHeight,v=m.tilemapLayer;v&&(u||(u=v.scene.cameras.main),g-=v.x+u.scrollX*(1-v.scrollFactorX),f-=v.y+u.scrollY*(1-v.scrollFactorY),d*=v.scaleX,p*=v.scaleY);var x=g/d,y=f/p;return h&&(x=Math.floor(x),y=Math.floor(y)),c.set(x,y)}},63288:(S,P,a)=>{var w=a(85896),g=new(a(26099));S.exports=function(h,c,u,m){return w(0,h,c,g,u,m),g.y}},81086:(S,P,a)=>{S.exports={CalculateFacesAt:a(72023),CalculateFacesWithin:a(42573),CheckIsoBounds:a(33528),Copy:a(1785),CreateFromTiles:a(78419),CullBounds:a(19545),CullTiles:a(30003),Fill:a(35137),FilterTiles:a(40253),FindByIndex:a(52692),FindTile:a(66151),ForEachTile:a(97560),GetCullTilesFunction:a(43305),GetTileAt:a(7423),GetTileAtWorldXY:a(60540),GetTileCorners:a(55826),GetTileCornersFunction:a(11758),GetTilesWithin:a(7386),GetTilesWithinShape:a(91141),GetTilesWithinWorldXY:a(96523),GetTileToWorldXFunction:a(39167),GetTileToWorldXYFunction:a(62e3),GetTileToWorldYFunction:a(5984),GetWorldToTileXFunction:a(96113),GetWorldToTileXYFunction:a(16926),GetWorldToTileYFunction:a(55762),HasTileAt:a(45091),HasTileAtWorldXY:a(24152),HexagonalCullBounds:a(90454),HexagonalCullTiles:a(9474),HexagonalGetTileCorners:a(27229),HexagonalTileToWorldXY:a(19951),HexagonalWorldToTileXY:a(86625),IsInLayerBounds:a(62991),IsometricCullTiles:a(14018),IsometricTileToWorldXY:a(14127),IsometricWorldToTileXY:a(96897),PutTileAt:a(71558),PutTileAtWorldXY:a(26303),PutTilesAt:a(14051),Randomize:a(77389),RemoveTileAt:a(63557),RemoveTileAtWorldXY:a(94178),RenderDebug:a(15533),ReplaceByIndex:a(27987),RunCull:a(32483),SetCollision:a(57068),SetCollisionBetween:a(37266),SetCollisionByExclusion:a(75661),SetCollisionByProperty:a(64740),SetCollisionFromCollisionGroup:a(63307),SetLayerCollisionIndex:a(9589),SetTileCollision:a(20576),SetTileIndexCallback:a(79583),SetTileLocationCallback:a(93254),Shuffle:a(32903),StaggeredCullBounds:a(61325),StaggeredCullTiles:a(54503),StaggeredTileToWorldXY:a(97202),StaggeredTileToWorldY:a(28054),StaggeredWorldToTileXY:a(15108),StaggeredWorldToTileY:a(51900),SwapByIndex:a(86560),TileToWorldX:a(97281),TileToWorldXY:a(70326),TileToWorldY:a(29650),WeightedRandomize:a(77366),WorldToTileX:a(10095),WorldToTileXY:a(85896),WorldToTileY:a(63288)}},91907:S=>{S.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(S,P,a)=>{var w={ORIENTATION:a(91907)};S.exports=w},62501:(S,P,a)=>{var w=a(79291),T=a(21829),g={Components:a(81086),Parsers:a(57442),Formats:a(80341),ImageCollection:a(16536),ParseToTilemap:a(31989),Tile:a(23029),Tilemap:a(49075),TilemapCreator:a(45939),TilemapFactory:a(46029),Tileset:a(33629),TilemapLayer:a(20442),Orientation:a(91907),LayerData:a(14977),MapData:a(87010),ObjectLayer:a(48700)};g=w(!1,g,T.ORIENTATION),S.exports=g},14977:(S,P,a)=>{var w=a(83419),T=a(91907),g=a(95540),f=new w({initialize:function(c){void 0===c&&(c={}),this.name=g(c,"name","layer"),this.id=g(c,"id",0),this.x=g(c,"x",0),this.y=g(c,"y",0),this.width=g(c,"width",0),this.height=g(c,"height",0),this.tileWidth=g(c,"tileWidth",0),this.tileHeight=g(c,"tileHeight",0),this.baseTileWidth=g(c,"baseTileWidth",this.tileWidth),this.baseTileHeight=g(c,"baseTileHeight",this.tileHeight),this.orientation=g(c,"orientation",T.ORTHOGONAL),this.widthInPixels=g(c,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=g(c,"heightInPixels",this.height*this.baseTileHeight),this.alpha=g(c,"alpha",1),this.visible=g(c,"visible",!0),this.properties=g(c,"properties",[]),this.indexes=g(c,"indexes",[]),this.collideIndexes=g(c,"collideIndexes",[]),this.callbacks=g(c,"callbacks",[]),this.bodies=g(c,"bodies",[]),this.data=g(c,"data",[]),this.tilemapLayer=g(c,"tilemapLayer",null),this.hexSideLength=g(c,"hexSideLength",0),this.staggerAxis=g(c,"staggerAxis","y"),this.staggerIndex=g(c,"staggerIndex","odd")}});S.exports=f},87010:(S,P,a)=>{var w=a(83419),T=a(91907),g=a(95540),f=new w({initialize:function(c){void 0===c&&(c={}),this.name=g(c,"name","map"),this.width=g(c,"width",0),this.height=g(c,"height",0),this.infinite=g(c,"infinite",!1),this.tileWidth=g(c,"tileWidth",0),this.tileHeight=g(c,"tileHeight",0),this.widthInPixels=g(c,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=g(c,"heightInPixels",this.height*this.tileHeight),this.format=g(c,"format",null),this.orientation=g(c,"orientation",T.ORTHOGONAL),this.renderOrder=g(c,"renderOrder","right-down"),this.version=g(c,"version","1"),this.properties=g(c,"properties",{}),this.layers=g(c,"layers",[]),this.images=g(c,"images",[]),this.objects=g(c,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=g(c,"collision",{}),this.tilesets=g(c,"tilesets",[]),this.imageCollections=g(c,"imageCollections",[]),this.tiles=g(c,"tiles",[]),this.hexSideLength=g(c,"hexSideLength",0),this.staggerAxis=g(c,"staggerAxis","y"),this.staggerIndex=g(c,"staggerIndex","odd")}});S.exports=f},48700:(S,P,a)=>{var w=a(83419),T=a(95540),g=new w({initialize:function(h){void 0===h&&(h={}),this.name=T(h,"name","object layer"),this.id=T(h,"id",0),this.opacity=T(h,"opacity",1),this.properties=T(h,"properties",{}),this.propertyTypes=T(h,"propertytypes",{}),this.type=T(h,"type","objectgroup"),this.visible=T(h,"visible",!0),this.objects=T(h,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});S.exports=g},6641:(S,P,a)=>{var w=a(91907);S.exports=function(g){return"isometric"===(g=g.toLowerCase())?w.ISOMETRIC:"staggered"===g?w.STAGGERED:"hexagonal"===g?w.HEXAGONAL:w.ORTHOGONAL}},46177:(S,P,a)=>{var w=a(80341),T=a(2342),g=a(82593),f=a(46594),h=a(87021);S.exports=function(u,m,d,p,v,x){var y;switch(m){case w.ARRAY_2D:y=T(u,d,p,v,x);break;case w.CSV:y=g(u,d,p,v,x);break;case w.TILED_JSON:y=f(u,d,x);break;case w.WELTMEISTER:y=h(u,d,x);break;default:console.warn("Unrecognized tilemap data format: "+m),y=null}return y}},2342:(S,P,a)=>{var w=a(80341),T=a(14977),g=a(87010),f=a(23029);S.exports=function(c,u,m,d,p){for(var v=new T({tileWidth:m,tileHeight:d}),x=new g({name:c,tileWidth:m,tileHeight:d,format:w.ARRAY_2D,layers:[v]}),y=[],_=u.length,E=0,A=0;A<u.length;A++){y[A]=[];for(var M=u[A],I=0;I<M.length;I++){var k=parseInt(M[I],10);y[A][I]=isNaN(k)||-1===k?p?null:new f(v,-1,I,A,m,d):new f(v,k,I,A,m,d)}0===E&&(E=M.length)}return x.width=v.width=E,x.height=v.height=_,x.widthInPixels=v.widthInPixels=E*m,x.heightInPixels=v.heightInPixels=_*d,v.data=y,x}},82593:(S,P,a)=>{var w=a(80341),T=a(2342);S.exports=function(f,h,c,u,m){var d=h.trim().split("\n").map(function(v){return v.split(",")}),p=T(f,d,c,u,m);return p.format=w.CSV,p}},6656:(S,P,a)=>{var w=a(14977),T=a(23029);S.exports=function(f,h){for(var c=[],u=0;u<f.layer.length;u++){for(var m=f.layer[u],d=new w({name:m.name,width:m.width,height:m.height,tileWidth:m.tilesize,tileHeight:m.tilesize,visible:1===m.visible}),p=[],v=[],x=0;x<m.data.length;x++){for(var y=0;y<m.data[x].length;y++){var E,_=m.data[x][y]-1;E=_>-1?new T(d,_,y,x,m.tilesize,m.tilesize):h?null:new T(d,-1,y,x,m.tilesize,m.tilesize),p.push(E)}v.push(p),p=[]}d.data=v,c.push(d)}return c}},96483:(S,P,a)=>{var w=a(33629);S.exports=function(g){for(var f=[],h=[],c=0;c<g.layer.length;c++){var u=g.layer[c],m=u.tilesetName;""!==m&&-1===h.indexOf(m)&&(h.push(m),f.push(new w(m,0,u.tilesize,u.tilesize,0,0)))}return f}},87021:(S,P,a)=>{var w=a(80341),T=a(87010),g=a(6656),f=a(96483);S.exports=function(c,u,m){if(0===u.layer.length)return console.warn("No layers found in the Weltmeister map: "+c),null;for(var d=0,p=0,v=0;v<u.layer.length;v++)u.layer[v].width>d&&(d=u.layer[v].width),u.layer[v].height>p&&(p=u.layer[v].height);var x=new T({width:d,height:p,name:c,tileWidth:u.layer[0].tilesize,tileHeight:u.layer[0].tilesize,format:w.WELTMEISTER});return x.layers=g(u,m),x.tilesets=f(u),x}},52833:(S,P,a)=>{S.exports={ParseTileLayers:a(6656),ParseTilesets:a(96483),ParseWeltmeister:a(87021)}},57442:(S,P,a)=>{S.exports={FromOrientationString:a(6641),Parse:a(46177),Parse2DArray:a(2342),ParseCSV:a(82593),Impact:a(52833),Tiled:a(96761)}},51233:(S,P,a)=>{var w=a(79291);S.exports=function(g){for(var f,h,u,m,d=0;d<g.layers.length;d++){f=g.layers[d],u=null;for(var p=0;p<f.data.length;p++){m=f.data[p];for(var v=0;v<m.length;v++)!(null===(h=m[v])||h.index<0)&&(h.width=(u=g.tilesets[g.tiles[h.index][2]]).tileWidth,h.height=u.tileHeight,u.tileProperties&&u.tileProperties[h.index-u.firstgid]&&(h.properties=w(h.properties,u.tileProperties[h.index-u.firstgid])))}}}},41868:S=>{S.exports=function(a){for(var w=window.atob(a),T=w.length,g=new Array(T/4),f=0;f<T;f+=4)g[f/4]=(w.charCodeAt(f)|w.charCodeAt(f+1)<<8|w.charCodeAt(f+2)<<16|w.charCodeAt(f+3)<<24)>>>0;return g}},84101:(S,P,a)=>{var w=a(33629);S.exports=function(g){var f,h,c=[];for(f=0;f<g.imageCollections.length;f++)for(var u=g.imageCollections[f],m=u.images,d=0;d<m.length;d++){var p=m[d];(h=new w(p.image,p.gid,u.imageWidth,u.imageHeight,0,0)).updateTileData(u.imageWidth,u.imageHeight),g.tilesets.push(h)}for(f=0;f<g.tilesets.length;f++)for(var v=(h=g.tilesets[f]).tileMargin,x=h.tileMargin,y=0,_=0,E=0,A=h.firstgid;A<h.firstgid+h.total&&(c[A]=[v,x,f],v+=h.tileWidth+h.tileSpacing,++y!==h.total&&(++_!==h.columns||(v=h.tileMargin,x+=h.tileHeight+h.tileSpacing,_=0,++E!==h.rows)));A++);return c}},79677:(S,P,a)=>{var w=a(95540);S.exports=function(g,f,h){if(!f)return{i:0,layers:g.layers,name:"",opacity:1,visible:!0,x:0,y:0};var c=f.x+w(f,"startx",0)*g.tilewidth+w(f,"offsetx",0),u=f.y+w(f,"starty",0)*g.tileheight+w(f,"offsety",0);return{i:0,layers:f.layers,name:h.name+f.name+"/",opacity:h.opacity*f.opacity,visible:h.visible&&f.visible,x:h.x+c,y:h.y+u}}},29920:S=>{var P=2147483648,a=1073741824,w=536870912;S.exports=function(g){var f=!!(g&P),h=!!(g&a),c=!!(g&w);g&=~(P|a|w);var u=0,m=!1;return f&&h&&c?(u=Math.PI/2,m=!0):f&&h&&!c?(u=Math.PI,m=!1):f&&!h&&c?(u=Math.PI/2,m=!1):!f||h||c?!f&&h&&c?(u=3*Math.PI/2,m=!1):f||!h||c?f||h||!c?!f&&!h&&!c&&(u=0,m=!1):(u=3*Math.PI/2,m=!0):(u=Math.PI,m=!0):(u=0,m=!0),{gid:g,flippedHorizontal:f,flippedVertical:h,flippedAntiDiagonal:c,rotation:u,flipped:m}}},12635:(S,P,a)=>{var w=a(95540),T=a(79677);S.exports=function(f){for(var h=[],c=[],u=T(f);u.i<u.layers.length||c.length>0;)if(u.i>=u.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}u=c.pop()}else{var m=u.layers[u.i];if(u.i++,"imagelayer"===m.type){var p=w(m,"offsetx",0)+w(m,"startx",0),v=w(m,"offsety",0)+w(m,"starty",0);h.push({name:u.name+m.name,image:m.image,x:u.x+p+m.x,y:u.y+v+m.y,alpha:u.opacity*m.opacity,visible:u.visible&&m.visible,properties:w(m,"properties",{})})}else if("group"===m.type){var d=T(f,m,u);c.push(u),u=d}}return h}},46594:(S,P,a)=>{var w=a(51233),T=a(84101),g=a(91907),f=a(62644),h=a(80341),c=a(6641),u=a(87010),m=a(12635),d=a(22611),p=a(28200),v=a(24619);S.exports=function(y,_,E){var A=f(_),M=new u({width:A.width,height:A.height,name:y,tileWidth:A.tilewidth,tileHeight:A.tileheight,orientation:c(A.orientation),format:h.TILED_JSON,version:A.version,properties:A.properties,renderOrder:A.renderorder,infinite:A.infinite});M.orientation===g.HEXAGONAL&&(M.hexSideLength=A.hexsidelength,M.staggerAxis=A.staggeraxis,M.staggerIndex=A.staggerindex),M.layers=p(A,E),M.images=m(A);var I=v(A);return M.tilesets=I.tilesets,M.imageCollections=I.imageCollections,M.objects=d(A),M.tiles=T(M),w(M),M}},52205:(S,P,a)=>{var w=a(18254),T=a(29920),g=function(c){return{x:c.x,y:c.y}},f=["id","name","type","rotation","properties","visible","x","y","width","height"];S.exports=function(c,u,m){void 0===u&&(u=0),void 0===m&&(m=0);var d=w(c,f);if(d.x+=u,d.y+=m,c.gid){var p=T(c.gid);d.gid=p.gid,d.flippedHorizontal=p.flippedHorizontal,d.flippedVertical=p.flippedVertical,d.flippedAntiDiagonal=p.flippedAntiDiagonal}else c.polyline?d.polyline=c.polyline.map(g):c.polygon?d.polygon=c.polygon.map(g):c.ellipse?d.ellipse=c.ellipse:c.text?d.text=c.text:c.point?d.point=!0:d.rectangle=!0;return d}},22611:(S,P,a)=>{var w=a(95540),T=a(52205),g=a(48700),f=a(79677);S.exports=function(c){for(var u=[],m=[],d=f(c);d.i<d.layers.length||m.length>0;)if(d.i>=d.layers.length){if(m.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=m.pop()}else{var p=d.layers[d.i];if(d.i++,p.opacity*=d.opacity,p.visible=d.visible&&p.visible,"objectgroup"===p.type){p.name=d.name+p.name;for(var x=d.x+w(p,"startx",0)+w(p,"offsetx",0),y=d.y+w(p,"starty",0)+w(p,"offsety",0),_=[],E=0;E<p.objects.length;E++){var A=T(p.objects[E],x,y);_.push(A)}var M=new g(p);M.objects=_,u.push(M)}else if("group"===p.type){var v=f(c,p,d);m.push(d),d=v}}return u}},28200:(S,P,a)=>{var w=a(41868),T=a(91907),g=a(79677),f=a(6641),h=a(95540),c=a(14977),u=a(29920),m=a(23029);S.exports=function(p,v){for(var x=h(p,"infinite",!1),y=[],_=[],E=g(p);E.i<E.layers.length||_.length>0;)if(E.i>=E.layers.length){if(_.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}E=_.pop()}else{var A=E.layers[E.i];if(E.i++,"tilelayer"===A.type)if(A.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+A.name+"'");else{if(A.encoding&&"base64"===A.encoding){if(A.chunks)for(var I=0;I<A.chunks.length;I++)A.chunks[I].data=w(A.chunks[I].data);A.data&&(A.data=w(A.data)),delete A.encoding}var k,F,N,V,B=[],H=0;if(x){var Q=h(A,"startx",0)+A.x,G=h(A,"starty",0)+A.y;(k=new c({name:E.name+A.name,id:A.id,x:E.x+h(A,"offsetx",0)+Q*p.tilewidth,y:E.y+h(A,"offsety",0)+G*p.tileheight,width:A.width,height:A.height,tileWidth:p.tilewidth,tileHeight:p.tileheight,alpha:E.opacity*A.opacity,visible:E.visible&&A.visible,properties:h(A,"properties",[]),orientation:f(p.orientation)})).orientation===T.HEXAGONAL&&(k.hexSideLength=p.hexsidelength,k.staggerAxis=p.staggeraxis,k.staggerIndex=p.staggerindex);for(var K=0;K<A.height;K++){B[K]=[null];for(var tt=0;tt<A.width;tt++)B[K][tt]=null}for(K=0,St=A.chunks.length;K<St;K++)for(var at=A.chunks[K],lt=at.x-Q,J=at.y-G,it=0,Y=0,j=at.data.length;Y<j;Y++){var nt=H+lt,ht=it+J;(F=u(at.data[Y])).gid>0?((N=new m(k,F.gid,nt,ht,p.tilewidth,p.tileheight)).rotation=F.rotation,N.flipX=F.flipped,B[ht][nt]=N):(V=v?null:new m(k,-1,nt,ht,p.tilewidth,p.tileheight),B[ht][nt]=V),++H===at.width&&(it++,H=0)}}else{(k=new c({name:E.name+A.name,id:A.id,x:E.x+h(A,"offsetx",0)+A.x,y:E.y+h(A,"offsety",0)+A.y,width:A.width,height:A.height,tileWidth:p.tilewidth,tileHeight:p.tileheight,alpha:E.opacity*A.opacity,visible:E.visible&&A.visible,properties:h(A,"properties",[]),orientation:f(p.orientation)})).orientation===T.HEXAGONAL&&(k.hexSideLength=p.hexsidelength,k.staggerAxis=p.staggeraxis,k.staggerIndex=p.staggerindex);for(var gt=[],wt=0,St=A.data.length;wt<St;wt++)(F=u(A.data[wt])).gid>0?((N=new m(k,F.gid,H,B.length,p.tilewidth,p.tileheight)).rotation=F.rotation,N.flipX=F.flipped,gt.push(N)):(V=v?null:new m(k,-1,H,B.length,p.tilewidth,p.tileheight),gt.push(V)),++H===A.width&&(B.push(gt),H=0,gt=[])}k.data=B,y.push(k)}else if("group"===A.type){var M=g(p,A,E);_.push(E),E=M}}return y}},24619:(S,P,a)=>{var w=a(33629),T=a(16536),g=a(52205),f=a(57880);S.exports=function(c){for(var p,u=[],m=[],d=null,v=0;v<c.tilesets.length;v++){var x=c.tilesets[v];if(x.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(x.image){var y=new w(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,void 0,void 0,x.tileoffset);if(c.version>1){var _=void 0,E=void 0;if(Array.isArray(x.tiles)){_=_||{},E=E||{};for(var A=0;A<x.tiles.length;A++){var M=x.tiles[A];if(M.properties){var I={};M.properties.forEach(function(K){I[K.name]=K.value}),E[M.id]=I}if(M.objectgroup&&((_[M.id]||(_[M.id]={})).objectgroup=M.objectgroup,M.objectgroup.objects)){var k=M.objectgroup.objects.map(function(K){return g(K)});_[M.id].objectgroup.objects=k}M.animation&&((_[M.id]||(_[M.id]={})).animation=M.animation),M.type&&((_[M.id]||(_[M.id]={})).type=M.type)}}Array.isArray(x.wangsets)&&(E=E||{},f(x.wangsets,_=_||{})),_&&(y.tileData=_,y.tileProperties=E)}else if(x.tileproperties&&(y.tileProperties=x.tileproperties),x.tiles)for(p in y.tileData=x.tiles,y.tileData){var F=y.tileData[p].objectgroup;if(F&&F.objects){var N=F.objects.map(function(K){return g(K)});y.tileData[p].objectgroup.objects=N}}y.updateTileData(x.imagewidth,x.imageheight),u.push(y)}else{var V=new T(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,x.properties),B=0;for(A=0;A<x.tiles.length;A++){var H=(M=x.tiles[A]).image,Q=parseInt(M.id,10);V.addImage(x.firstgid+Q,H),B=Math.max(Q,B)}V.maxId=B,m.push(V)}d&&(d.lastgid=x.firstgid-1),d=x}return{tilesets:u,imageCollections:m}}},57880:S=>{S.exports=function(a,w){for(var T=0;T<a.length;T++){var g=a[T],f=T;if(g.name&&""!==g.name&&(f=g.name),Array.isArray(g.wangtiles)&&g.wangtiles.length>0){var u,m,d,h={},c={};if(Array.isArray(g.edgecolors))for(u=0;u<g.edgecolors.length;u++)d=1+u,""!==(m=g.edgecolors[u]).name&&(h[d]=m.name);if(Array.isArray(g.cornercolors))for(u=0;u<g.cornercolors.length;u++)d=1+u,""!==(m=g.cornercolors[u]).name&&(c[d]=m.name);if(Array.isArray(g.colors))for(u=0;u<g.colors.length;u++)d=1+u,""!==(m=g.colors[u]).name&&(h[d]=c[d]=m.name);for(var p=[h,c,h,c,h,c,h,c],v=0;v<g.wangtiles.length;v++){var x=g.wangtiles[v],y=w[x.tileid]||(w[x.tileid]={});y=y.wangid||(y.wangid={});for(var _=[],E=0;E<Math.min(p.length,x.wangid.length);E++)if(0!==(m=x.wangid[E])){var A=p[E][m];_.push(void 0===A?m:A)}else _.push(void 0);y[f]=_}}}}},96761:(S,P,a)=>{S.exports={AssignTileProperties:a(51233),Base64Decode:a(41868),BuildTilesetIndex:a(84101),CreateGroupLayer:a(79677),ParseGID:a(29920),ParseImageLayers:a(12635),ParseJSONTiled:a(46594),ParseObject:a(52205),ParseObjectLayers:a(22611),ParseTileLayers:a(28200),ParseTilesets:a(24619)}},33385:(S,P,a)=>{var w=a(83419),T=a(37277),g=a(44594),f=a(94880),h=a(72905),c=new w({initialize:function(m){this.scene=m,this.systems=m.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],m.sys.events.once(g.BOOT,this.boot,this),m.sys.events.on(g.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(g.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var u=this.systems.events;u.on(g.PRE_UPDATE,this.preUpdate,this),u.on(g.UPDATE,this.update,this),u.once(g.SHUTDOWN,this.shutdown,this)},addEvent:function(u){var m;return u instanceof f?(this.removeEvent(m=u),m.elapsed=m.startAt,m.hasDispatched=!1,m.repeatCount=-1===m.repeat||m.loop?999999999999:m.repeat):m=new f(u),this._pendingInsertion.push(m),m},delayedCall:function(u,m,d,p){return this.addEvent({delay:u,callback:m,args:d,callbackScope:p})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(u){Array.isArray(u)||(u=[u]);for(var m=0;m<u.length;m++){var d=u[m];h(this._pendingRemoval,d),h(this._pendingInsertion,d),h(this._active,d)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var u=this._pendingRemoval.length,m=this._pendingInsertion.length;if(0!==u||0!==m){var d,p;for(d=0;d<u;d++){var v=this._active.indexOf(p=this._pendingRemoval[d]);v>-1&&this._active.splice(v,1),p.destroy()}for(d=0;d<m;d++)this._active.push(p=this._pendingInsertion[d]);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(u,m){if(this.now=u,!this.paused){m*=this.timeScale;for(var d=0;d<this._active.length;d++){var p=this._active[d];if(!p.paused&&(p.elapsed+=m*p.timeScale,p.elapsed>=p.delay)){var v=p.elapsed-p.delay;if(p.elapsed=p.delay,!p.hasDispatched&&p.callback&&(p.hasDispatched=!0,p.callback.apply(p.callbackScope,p.args)),p.repeatCount>0){if(p.repeatCount--,v>=p.delay)for(;v>=p.delay&&p.repeatCount>0;)p.callback&&p.callback.apply(p.callbackScope,p.args),v-=p.delay,p.repeatCount--;p.elapsed=v,p.hasDispatched=!1}else p.hasDispatched&&this._pendingRemoval.push(p)}}}},shutdown:function(){var u;for(u=0;u<this._pendingInsertion.length;u++)this._pendingInsertion[u].destroy();for(u=0;u<this._active.length;u++)this._active[u].destroy();for(u=0;u<this._pendingRemoval.length;u++)this._pendingRemoval[u].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var m=this.systems.events;m.off(g.PRE_UPDATE,this.preUpdate,this),m.off(g.UPDATE,this.update,this),m.off(g.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(g.START,this.start,this),this.scene=null,this.systems=null}});T.register("Clock",c,"time"),S.exports=c},96120:(S,P,a)=>{var w=a(83419),T=a(50792),g=a(39429),f=a(95540),h=a(44594),c=a(89809),u=new w({Extends:T,initialize:function(d,p){T.call(this),this.scene=d,this.systems=d.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var v=this.systems.events;v.on(h.PRE_UPDATE,this.preUpdate,this),v.on(h.UPDATE,this.update,this),v.once(h.SHUTDOWN,this.destroy,this),p&&this.add(p)},preUpdate:function(m,d){this.paused||(this.elapsed+=d*this.timeScale)},update:function(){if(!this.paused&&!this.complete){var m,x,d=this.events,p=!1,v=this.systems;for(m=0;m<d.length;m++){var y=d[m];if(!y.complete&&y.time<=this.elapsed){if(y.complete=!0,this.totalComplete++,x=y.target?y.target:this,y.if&&!y.if.call(x,y))continue;if(y.once&&(p=!0),y.set&&y.target)for(var _ in y.set)y.target[_]=y.set[_];this.iteration&&y.repeat++,y.loop&&y.repeat&&y.loop.call(x),y.tween&&(y.tweenInstance=v.tweens.add(y.tween)),y.sound&&("string"==typeof y.sound?v.sound.play(y.sound):v.sound.play(y.sound.key,y.sound.config)),y.event&&this.emit(y.event,x),y.run&&y.run.call(x),y.stop&&this.stop()}}if(p)for(m=0;m<d.length;m++)d[m].complete&&d[m].once&&(d.splice(m,1),m--);this.totalComplete>=d.length&&(0!==this.loop&&(-1===this.loop||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(c.COMPLETE,this)}},play:function(m){return void 0===m&&(m=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,m&&this.reset(),this},pause:function(){this.paused=!0;for(var m=this.events,d=0;d<m.length;d++){var p=m[d];p.tweenInstance&&(p.tweenInstance.paused=!0)}return this},repeat:function(m){return(void 0===m||!0===m)&&(m=-1),!1===m&&(m=0),this.loop=m,this},resume:function(){this.paused=!1;for(var m=this.events,d=0;d<m.length;d++){var p=m[d];p.tweenInstance&&(p.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(m){void 0===m&&(m=!1),this.elapsed=0,m||(this.iteration=0);for(var d=this.events,p=0;p<d.length;p++){var v=d[p];v.complete=!1,m||(v.repeat=0),v.tweenInstance&&v.tweenInstance.stop()}return this.play(!1)},add:function(m){Array.isArray(m)||(m=[m]);var d=this.events,p=0;d.length>0&&(p=d[d.length-1].time);for(var v=0;v<m.length;v++){var x=m[v],y=f(x,"at",0),_=f(x,"in",null);null!==_&&(y=this.elapsed+_);var E=f(x,"from",null);null!==E&&(y=p+E),d.push({complete:!1,time:y,repeat:0,if:f(x,"if",null),run:f(x,"run",null),loop:f(x,"loop",null),event:f(x,"event",null),target:f(x,"target",null),set:f(x,"set",null),tween:f(x,"tween",null),sound:f(x,"sound",null),once:f(x,"once",!1),stop:f(x,"stop",!1)}),p=y}return this.complete=!1,this},clear:function(){for(var m=this.events,d=0;d<m.length;d++){var p=m[d];p.tweenInstance&&p.tweenInstance.stop()}return m=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){return Math.min(this.totalComplete,this.events.length)/this.events.length},destroy:function(){var m=this.systems.events;m.off(h.PRE_UPDATE,this.preUpdate,this),m.off(h.UPDATE,this.update,this),m.off(h.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});g.register("timeline",function(m){return new u(this.scene,m)}),S.exports=u},94880:(S,P,a)=>{var w=a(83419),T=a(95540),g=new w({initialize:function(h){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(h)},reset:function(f){if(this.delay=T(f,"delay",0),this.repeat=T(f,"repeat",0),this.loop=T(f,"loop",!1),this.callback=T(f,"callback",void 0),this.callbackScope=T(f,"callbackScope",this),this.args=T(f,"args",[]),this.timeScale=T(f,"timeScale",1),this.startAt=T(f,"startAt",0),this.paused=T(f,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,0===this.delay&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){return this.repeat>0?(this.elapsed+this.delay*(this.repeat-this.repeatCount))/(this.delay+this.delay*this.repeat):this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return.001*this.getRemaining()},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return.001*this.getOverallRemaining()},remove:function(f){void 0===f&&(f=!1),this.elapsed=this.delay,this.hasDispatched=!f,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});S.exports=g},35945:S=>{S.exports="complete"},89809:(S,P,a)=>{S.exports={COMPLETE:a(35945)}},90291:(S,P,a)=>{S.exports={Clock:a(33385),Events:a(89809),Timeline:a(96120),TimerEvent:a(94880)}},40382:(S,P,a)=>{var w=a(72905),T=a(83419),g=a(43491),f=a(88032),h=a(37277),c=a(44594),u=a(93109),m=a(86081),d=a(8357),p=a(43960),v=a(26012),x=new T({initialize:function(_){this.scene=_,this.events=_.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},boot:function(){this.events.once(c.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(c.UPDATE,this.update,this),this.events.once(c.SHUTDOWN,this.shutdown,this)},create:function(y){Array.isArray(y)||(y=[y]);for(var _=[],E=0;E<y.length;E++){var A=y[E];A instanceof m||A instanceof p?_.push(A):Array.isArray(A.tweens)?_.push(v(this,A)):_.push(d(this,A))}return 1===_.length?_[0]:_},add:function(y){var _=y,E=this.tweens;return _ instanceof m||_ instanceof p||(_=Array.isArray(_.tweens)?v(this,_):d(this,_)),E.push(_.reset()),_},addMultiple:function(y){for(var _,E=[],A=this.tweens,M=0;M<y.length;M++)(_=y[M])instanceof m||_ instanceof p||(_=Array.isArray(_.tweens)?v(this,_):d(this,_)),A.push(_.reset()),E.push(_);return E},chain:function(y){var _=v(this,y);return this.tweens.push(_.init()),_},getChainedTweens:function(y){return y.getChainedTweens()},has:function(y){return this.tweens.indexOf(y)>-1},existing:function(y){return this.has(y)||this.tweens.push(y.reset()),this},addCounter:function(y){var _=f(this,y);return this.tweens.push(_.reset()),_},stagger:function(y,_){return u(y,_)},setLagSmooth:function(y,_){return void 0===y&&(y=1/1e-8),void 0===_&&(_=0),this.maxLag=y,this.lagSkip=Math.min(_,this.maxLag),this},setFps:function(y){return void 0===y&&(y=240),this.gap=1e3/y,this.nextTime=1e3*this.time+this.gap,this},getDelta:function(y){var _=Date.now()-this.prevTime;_>this.maxLag&&(this.startTime+=_-this.lagSkip),this.prevTime+=_;var E=this.prevTime-this.startTime,A=E-this.nextTime,M=E-1e3*this.time;return A>0||y?(this.time=E/=1e3,this.nextTime+=A+(A>=this.gap?4:this.gap-A)):M=0,M},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(y){void 0===y&&(y=!1);var _=this.getDelta(y);if(!(_<=0)){this.processing=!0;var E,A,M=[],I=this.tweens;for(E=0;E<I.length;E++)(A=I[E]).update(_)&&M.push(A);var k=M.length;if(k&&I.length>0){for(E=0;E<k;E++){var F=I.indexOf(A=M[E]);F>-1&&(A.isPendingRemove()||A.isDestroyed())&&(I.splice(F,1),A.destroy())}M.length=0}this.processing=!1}},remove:function(y){return this.processing?y.setPendingRemoveState():(w(this.tweens,y),y.setRemovedState()),this},reset:function(y){return this.existing(y),y.seek(),y.setActiveState(),this},makeActive:function(y){return this.existing(y),y.setActiveState(),this},each:function(y,_){var E,A=[null];for(E=1;E<arguments.length;E++)A.push(arguments[E]);return this.tweens.forEach(function(M){A[0]=M,y.apply(_,A)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(y){for(var _=[],E=this.tweens,A=(y=Array.isArray(y)?g(y):[y]).length,M=0;M<E.length;M++)for(var I=E[M],k=0;k<A;k++)!I.isDestroyed()&&I.hasTarget(y[k])&&_.push(I);return _},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(y){return this.timeScale=y,this},isTweening:function(y){for(var E,_=this.tweens,A=0;A<_.length;A++)if((E=_[A]).isPlaying()&&E.hasTarget(y))return!0;return!1},killAll:function(){for(var y=this.processing?this.getTweens():this.tweens,_=0;_<y.length;_++)y[_].destroy();return this.processing||(y.length=0),this},killTweensOf:function(y){for(var _=this.getTweensOf(y),E=0;E<_.length;E++)_[E].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(c.UPDATE,this.update,this),this.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.events=null}});h.register("TweenManager",x,"tweens"),S.exports=x},57355:S=>{S.exports=function(a,w,T){return a&&a.hasOwnProperty(w)?a[w]:T}},6113:(S,P,a)=>{var w=a(62640),T=a(35355);S.exports=function(f,h){var c=w.Power0;if("string"==typeof f)if(w.hasOwnProperty(f))c=w[f];else{var u="";if(f.indexOf(".")){var m=(u=f.substring(f.indexOf(".")+1)).toLowerCase();"in"===m?u="easeIn":"out"===m?u="easeOut":"inout"===m&&(u="easeInOut")}f=T(f.substring(0,f.indexOf(".")+1)+u),w.hasOwnProperty(f)&&(c=w[f])}else"function"==typeof f&&(c=f);if(!h)return c;var d=h.slice(0);return d.unshift(0),function(p){return d[0]=p,c.apply(this,d)}}},91389:(S,P,a)=>{var w=a(89318),T=a(77259),f={bezier:w,catmull:T,catmullrom:T,linear:a(28392)};S.exports=function(c){if(null===c)return null;var u=f.linear;return"string"==typeof c?f.hasOwnProperty(c)&&(u=f[c]):"function"==typeof c&&(u=c),u}},55292:S=>{S.exports=function(a,w,T){return a.hasOwnProperty(w)?"function"==typeof a[w]?function(h,c,u,m,d,p){return a[w](h,c,u,m,d,p)}:function(){return a[w]}:"function"==typeof T?T:function(){return T}}},82985:(S,P,a)=>{var w=a(81076);S.exports=function(g){var f,h=[];if(g.hasOwnProperty("props"))for(f in g.props)"_"!==f.substring(0,1)&&h.push({key:f,value:g.props[f]});else for(f in g)-1===w.indexOf(f)&&"_"!==f.substring(0,1)&&h.push({key:f,value:g[f]});return h}},62329:(S,P,a)=>{var w=a(35154);S.exports=function(g){var f=w(g,"targets",null);return null===f||("function"==typeof f&&(f=f.call()),Array.isArray(f)||(f=[f])),f}},17777:(S,P,a)=>{var w=a(30976),T=a(99472);function g(m){return!!m.getActive&&"function"==typeof m.getActive}function f(m){return!!m.getStart&&"function"==typeof m.getStart}function h(m){return!!m.getEnd&&"function"==typeof m.getEnd}var u=function(m,d){var p,v=function(at,lt,J){return J},x=function(at,lt,J){return J},y=null,_=typeof d;if("number"===_)v=function(){return d};else if(Array.isArray(d))x=function(){return d[0]},v=function(){return d[d.length-1]};else if("string"===_){var E=d.toLowerCase(),A="random"===E.substring(0,6),M="int"===E.substring(0,3);if(A||M){var I=E.indexOf("("),k=E.indexOf(")"),F=E.indexOf(",");if(!(I&&k&&F))throw new Error("invalid random() format");var N=parseFloat(E.substring(I+1,F)),V=parseFloat(E.substring(F+1,k));v=A?function(){return T(N,V)}:function(){return w(N,V)}}else{E=E[0];var B=parseFloat(d.substr(2));switch(E){case"+":v=function(at,lt,J){return J+B};break;case"-":v=function(at,lt,J){return J-B};break;case"*":v=function(at,lt,J){return J*B};break;case"/":v=function(at,lt,J){return J/B};break;default:v=function(){return parseFloat(d)}}}}else if("function"===_)v=d;else if("object"===_)if(function c(m){return f(m)||h(m)||g(m)}(d))g(d)&&(y=d.getActive),h(d)&&(v=d.getEnd),f(d)&&(x=d.getStart);else if(d.hasOwnProperty("value"))p=u(m,d.value);else{var H=d.hasOwnProperty("to"),Q=d.hasOwnProperty("from"),G=d.hasOwnProperty("start");if(H&&(Q||G)){if(p=u(m,d.to),G){var K=u(m,d.start);p.getActive=K.getEnd}if(Q){var tt=u(m,d.from);p.getStart=tt.getEnd}}}return p||(p={getActive:y,getEnd:v,getStart:x}),p};S.exports=u},88032:(S,P,a)=>{var w=a(70402),T=a(69902),g=a(23568),f=a(57355),h=a(6113),c=a(55292),u=a(35154),m=a(17777),d=a(269),p=a(86081);S.exports=function(x,y,_){if(y instanceof p)return y.parent=x,y;_=void 0===_?T:d(T,_);var E=u(y,"from",0),A=u(y,"to",1),M=[{value:E}],I=u(y,"delay",_.delay),k=u(y,"easeParams",_.easeParams),F=u(y,"ease",_.ease),N=m("value",A),V=new p(x,M),B=V.add(0,"value",N.getEnd,N.getStart,N.getActive,h(u(y,"ease",F),u(y,"easeParams",k)),c(y,"delay",I),u(y,"duration",_.duration),f(y,"yoyo",_.yoyo),u(y,"hold",_.hold),u(y,"repeat",_.repeat),u(y,"repeatDelay",_.repeatDelay),!1,!1);B.start=E,B.current=E,V.completeDelay=g(y,"completeDelay",0),V.loop=Math.round(g(y,"loop",0)),V.loopDelay=Math.round(g(y,"loopDelay",0)),V.paused=f(y,"paused",!1),V.persist=f(y,"persist",!1),V.callbackScope=u(y,"callbackScope",V);for(var H=w.TYPES,Q=0;Q<H.length;Q++){var G=H[Q],K=u(y,G,!1);if(K){var tt=u(y,G+"Params",[]);V.setCallback(G,K,tt)}}return V}},93109:(S,P,a)=>{var w=a(6113),T=a(35154),g=a(36383);S.exports=function(h,c){void 0===c&&(c={});var m=T(c,"start",0),d=T(c,"ease",null),p=T(c,"grid",null),v=T(c,"from",0),x="first"===v,y="center"===v,_="last"===v,E="number"==typeof v,A=Array.isArray(h),M=parseFloat(A?h[0]:h),I=A?parseFloat(h[1]):0,k=Math.max(M,I);if(A&&(m+=M),p){var F=p[0],N=p[1],V=0,B=0,H=0,Q=0,G=[];_?(V=F-1,B=N-1):E?(V=v%F,B=Math.floor(v/F)):y&&(V=(F-1)/2,B=(N-1)/2);for(var K=g.MIN_SAFE_INTEGER,tt=0;tt<N;tt++){G[tt]=[];for(var at=0;at<F;at++){H=V-at,Q=B-tt;var lt=Math.sqrt(H*H+Q*Q);lt>K&&(K=lt),G[tt][at]=lt}}}var J=d?w(d):null;return p?function(it,Y,j,nt){var St,ht=0,gt=nt%F,wt=Math.floor(nt/F);if(gt>=0&&gt<F&&wt>=0&&wt<N&&(ht=G[wt][gt]),A){var Bt=I-M;St=J?ht/K*Bt*J(ht/K):ht/K*Bt}else St=J?ht*M*J(ht/K):ht*M;return St+m}:function(it,Y,j,nt,ht){var gt,wt,St;return ht--,x?gt=nt:y?gt=Math.abs(ht/2-nt):_?gt=ht-nt:E&&(gt=Math.abs(v-nt)),A?(St=y?(I-M)/ht*(2*gt):(I-M)/ht*gt,wt=J?St*J(gt/ht):St):wt=J?ht*k*J(gt/ht):gt*M,wt+m}}},8357:(S,P,a)=>{var w=a(70402),T=a(69902),g=a(23568),f=a(57355),h=a(6113),c=a(91389),u=a(55292),m=a(82985),d=a(62329),p=a(35154),v=a(17777),x=a(269),y=a(86081);S.exports=function(E,A,M){if(A instanceof y)return A.parent=E,A;M=void 0===M?T:x(T,M);var I=d(A);!I&&M.targets&&(I=M.targets);for(var k=m(A),F=p(A,"delay",M.delay),N=p(A,"duration",M.duration),V=p(A,"easeParams",M.easeParams),B=p(A,"ease",M.ease),H=p(A,"hold",M.hold),Q=p(A,"repeat",M.repeat),G=p(A,"repeatDelay",M.repeatDelay),K=f(A,"yoyo",M.yoyo),tt=f(A,"flipX",M.flipX),at=f(A,"flipY",M.flipY),lt=p(A,"interpolation",M.interpolation),J=function($t,qt,ne,le){if("texture"===ne){var Me=le,pi=void 0;Array.isArray(le)?(Me=le[0],pi=le[1]):le.hasOwnProperty("value")?(Me=le.value,Array.isArray(le.value)?(Me=le.value[0],pi=le.value[1]):"string"==typeof le.value&&(Me=le.value)):"string"==typeof le&&(Me=le),$t.addFrame(qt,Me,pi,u(le,"delay",F),p(le,"duration",N),p(le,"hold",H),p(le,"repeat",Q),p(le,"repeatDelay",G),f(le,"flipX",tt),f(le,"flipY",at))}else{var Ie=v(ne,le),_i=c(p(le,"interpolation",lt));$t.add(qt,ne,Ie.getEnd,Ie.getStart,Ie.getActive,h(p(le,"ease",B),p(le,"easeParams",V)),u(le,"delay",F),p(le,"duration",N),f(le,"yoyo",K),p(le,"hold",H),p(le,"repeat",Q),p(le,"repeatDelay",G),f(le,"flipX",tt),f(le,"flipY",at),_i,_i?le:null)}},it=new y(E,I),Y=0;Y<k.length;Y++)for(var j=k[Y].key,nt=k[Y].value,ht=0;ht<I.length;ht++)"scale"!==j||I[ht].hasOwnProperty("scale")?J(it,ht,j,nt):(J(it,ht,"scaleX",nt),J(it,ht,"scaleY",nt));it.completeDelay=g(A,"completeDelay",0),it.loop=Math.round(g(A,"loop",0)),it.loopDelay=Math.round(g(A,"loopDelay",0)),it.paused=f(A,"paused",!1),it.persist=f(A,"persist",!1),it.callbackScope=p(A,"callbackScope",it);for(var gt=w.TYPES,wt=0;wt<gt.length;wt++){var St=gt[wt],Bt=p(A,St,!1);if(Bt){var Yt=p(A,St+"Params",[]);it.setCallback(St,Bt,Yt)}}return it}},26012:(S,P,a)=>{var w=a(70402),T=a(23568),g=a(57355),f=a(62329),h=a(35154),c=a(8357),u=a(43960);S.exports=function(d,p){if(p instanceof u)return p.parent=d,p;var v=new u(d);v.startDelay=h(p,"delay",0),v.completeDelay=T(p,"completeDelay",0),v.loop=Math.round(T(p,"loop",h(p,"repeat",0))),v.loopDelay=Math.round(T(p,"loopDelay",h(p,"repeatDelay",0))),v.paused=g(p,"paused",!1),v.persist=g(p,"persist",!1),v.callbackScope=h(p,"callbackScope",v);var x,y=w.TYPES;for(x=0;x<y.length;x++){var _=y[x],E=h(p,_,!1);if(E){var A=h(p,_+"Params",[]);v.setCallback(_,E,A)}}var M=h(p,"tweens",null);if(Array.isArray(M)){var I=[],k=f(p),F=void 0;for(k&&(F={targets:k}),x=0;x<M.length;x++)I.push(c(v,M[x],F));v.add(I)}return v}},30231:(S,P,a)=>{S.exports={GetBoolean:a(57355),GetEaseFunction:a(6113),GetInterpolationFunction:a(91389),GetNewValue:a(55292),GetProps:a(82985),GetTargets:a(62329),GetValueOp:a(17777),NumberTweenBuilder:a(88032),StaggerBuilder:a(93109),TweenBuilder:a(8357)}},73685:S=>{S.exports="active"},98540:S=>{S.exports="complete"},67233:S=>{S.exports="loop"},2859:S=>{S.exports="pause"},98336:S=>{S.exports="repeat"},25764:S=>{S.exports="resume"},32193:S=>{S.exports="start"},84371:S=>{S.exports="stop"},70766:S=>{S.exports="update"},55659:S=>{S.exports="yoyo"},842:(S,P,a)=>{S.exports={TWEEN_ACTIVE:a(73685),TWEEN_COMPLETE:a(98540),TWEEN_LOOP:a(67233),TWEEN_PAUSE:a(2859),TWEEN_RESUME:a(25764),TWEEN_REPEAT:a(98336),TWEEN_START:a(32193),TWEEN_STOP:a(84371),TWEEN_UPDATE:a(70766),TWEEN_YOYO:a(55659)}},43066:(S,P,a)=>{var w={States:a(86353),Builders:a(30231),Events:a(842),TweenManager:a(40382),Tween:a(86081),TweenData:a(48177),TweenFrameData:a(42220),BaseTween:a(70402),TweenChain:a(43960)};S.exports=w},70402:(S,P,a)=>{var w=a(83419),T=a(50792),g=a(842),f=a(86353),h=new w({Extends:T,initialize:function(u){T.call(this),this.parent=u,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=f.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.persist=!1},setTimeScale:function(c){return this.timeScale=c,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(g.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(g.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(g.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(g.TWEEN_COMPLETE,"onComplete")},complete:function(c){return void 0===c&&(c=0),c?(this.setCompleteDelayState(),this.countdown=c):this.onCompleteHandler(),this},completeAfterLoop:function(c){return void 0===c&&(c=0),this.loopCounter>c&&(this.loopCounter=c),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(g.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(c){this.countdown-=c,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(g.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(c){return this.countdown-=c,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(g.TWEEN_START,"onStart"),c=0),c},updateCompleteDelay:function(c){this.countdown-=c,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(c,u,m){return void 0===m&&(m=[]),this.callbacks.hasOwnProperty(c)&&(this.callbacks[c]={func:u,params:m}),this},setPendingState:function(){this.state=f.PENDING},setActiveState:function(){this.state=f.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=f.LOOP_DELAY},setCompleteDelayState:function(){this.state=f.COMPLETE_DELAY},setStartDelayState:function(){this.state=f.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=f.PENDING_REMOVE},setRemovedState:function(){this.state=f.REMOVED},setFinishedState:function(){this.state=f.FINISHED},setDestroyedState:function(){this.state=f.DESTROYED},isPending:function(){return this.state===f.PENDING},isActive:function(){return this.state===f.ACTIVE},isLoopDelayed:function(){return this.state===f.LOOP_DELAY},isCompleteDelayed:function(){return this.state===f.COMPLETE_DELAY},isStartDelayed:function(){return this.state===f.START_DELAY},isPendingRemove:function(){return this.state===f.PENDING_REMOVE},isRemoved:function(){return this.state===f.REMOVED},isFinished:function(){return this.state===f.FINISHED},isDestroyed:function(){return this.state===f.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(c){c.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});h.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],S.exports=h},95042:(S,P,a)=>{var w=a(83419),T=a(842),g=a(86353),f=new w({initialize:function(c,u,m,d,p,v,x,y,_,E){this.tween=c,this.targetIndex=u,this.duration=d,this.totalDuration=0,this.delay=0,this.getDelay=m,this.yoyo=p,this.hold=v,this.repeat=x,this.repeatDelay=y,this.repeatCounter=0,this.flipX=_,this.flipY=E,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(h){void 0===h&&(h=this.current),this.tween.targets[this.targetIndex][this.key]=h},setCreatedState:function(){this.state=g.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=g.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=g.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=g.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=g.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=g.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=g.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=g.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===g.CREATED},isDelayed:function(){return this.state===g.DELAY},isPendingRender:function(){return this.state===g.PENDING_RENDER},isPlayingForward:function(){return this.state===g.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===g.PLAYING_BACKWARD},isHolding:function(){return this.state===g.HOLD_DELAY},isRepeating:function(){return this.state===g.REPEAT_DELAY},isComplete:function(){return this.state===g.COMPLETE},setStateFromEnd:function(h){this.yoyo?this.onRepeat(h,!0,!0):this.repeatCounter>0?this.onRepeat(h,!0,!1):this.setCompleteState()},setStateFromStart:function(h){this.repeatCounter>0?this.onRepeat(h,!1):this.setCompleteState()},reset:function(){var h=this.tween,c=h.totalTargets,u=this.targetIndex,m=h.targets[u],d=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(m,d,0,u,c,h),this.repeatCounter=-1===this.repeat?g.MAX:this.repeat,this.setPendingRenderState();var p=this.duration+this.hold;this.yoyo&&(p+=this.duration);var v=p+this.repeatDelay;this.totalDuration=this.delay+p,-1===this.repeat?(this.totalDuration+=v*g.MAX,h.isInfinite=!0):this.repeat>0&&(this.totalDuration+=v*this.repeat),this.totalDuration>h.duration&&(h.duration=this.totalDuration),this.delay<h.startDelay&&(h.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(h,c,u){var m=this.tween,d=m.totalTargets,p=this.targetIndex,v=m.targets[p],x=this.key,y="texture"!==x;if(this.elapsed=h,this.progress=h/this.duration,this.flipX&&v.toggleFlipX(),this.flipY&&v.toggleFlipY(),y&&(c||u)&&(this.start=this.getStartValue(v,x,this.start,p,d,m)),u)return this.setPlayingBackwardState(),void this.dispatchEvent(T.TWEEN_YOYO,"onYoyo");this.repeatCounter--,y&&(this.end=this.getEndValue(v,x,this.start,p,d,m)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-h,y&&(this.current=this.start,v[x]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(T.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});S.exports=f},69902:S=>{S.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null}},81076:S=>{S.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(S,P,a)=>{var w=a(70402),T=a(83419),g=a(842),f=a(44603),h=a(39429),c=a(36383),u=a(86353),m=a(48177),d=a(42220),p=new T({Extends:w,initialize:function(x,y){w.call(this,x),this.targets=y,this.totalTargets=y.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(v,x,y,_,E,A,M,I,k,F,N,V,B,H,Q,G){var K=new m(this,v,x,y,_,E,A,M,I,k,F,N,V,B,H,Q,G);return this.totalData=this.data.push(K),K},addFrame:function(v,x,y,_,E,A,M,I,k,F){var N=new d(this,v,x,y,_,E,A,M,I,k,F);return this.totalData=this.data.push(N),N},getValue:function(v){void 0===v&&(v=0);var x=null;return this.data&&(x=this.data[v].current),x},hasTarget:function(v){return this.targets&&-1!==this.targets.indexOf(v)},updateTo:function(v,x,y){if(void 0===y&&(y=!1),"texture"!==v)for(var _=0;_<this.totalData;_++){var E=this.data[_];E.key===v&&(E.isPlayingForward()||E.isPlayingBackward())&&(E.end=x,y&&(E.start=E.current))}return this},restart:function(){switch(this.state){case u.REMOVED:case u.FINISHED:this.seek(),this.parent.makeActive(this);break;case u.PENDING:case u.PENDING_REMOVE:this.parent.reset(this);break;case u.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek()}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(g.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,w.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(v,x,y){if(void 0===v&&(v=0),void 0===x&&(x=16.6),void 0===y&&(y=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;y||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(g.TWEEN_ACTIVE,"onActive");var _=this.paused;if(this.paused=!1,v>0){for(var E=Math.floor(v/x),A=v-E*x,M=0;M<E;M++)this.update(x);A>0&&this.update(A)}return this.paused=_,this.isSeeking=!1,this},initTweenData:function(v){void 0===v&&(v=!1),this.duration=0,this.startDelay=c.MAX_SAFE_INTEGER;for(var x=this.data,y=0;y<this.totalData;y++)x[y].reset(v);this.duration=Math.max(this.duration,.01);var _=this.duration,E=this.completeDelay,A=this.loopCounter;this.totalDuration=A>0?_+E+(_+this.loopDelay)*A:_+E},reset:function(v){return void 0===v&&(v=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,-1===this.loop&&(this.isInfinite=!0,this.loopCounter=u.MAX),v||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(g.TWEEN_ACTIVE,"onActive")),this},update:function(v){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(v*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(v),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(v),!1;this.hasStarted||(this.startDelay-=v,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(g.TWEEN_START,"onStart"),v=0));var x=!1;if(this.isActive())for(var y=this.data,_=0;_<this.totalData;_++)y[_].update(v)&&(x=!0);this.elapsed+=v,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=v,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),x||this.nextState();var E=this.isPendingRemove();return E&&this.persist&&(this.setFinishedState(),E=!1),E},forward:function(v){return this.update(v),this},rewind:function(v){return this.update(-v),this},dispatchEvent:function(v,x){if(!this.isSeeking){this.emit(v,this,this.targets);var y=this.callbacks[x];y&&y.func.apply(this.callbackScope,[this,this.targets].concat(y.params))}},destroy:function(){w.prototype.destroy.call(this),this.targets=null}});h.register("tween",function(v){return this.scene.sys.tweens.add(v)}),f.register("tween",function(v){return this.scene.sys.tweens.create(v)}),S.exports=p},43960:(S,P,a)=>{var w=a(72905),T=a(70402),g=a(83419),f=a(842),h=a(44603),c=a(39429),u=a(86353),m=new g({Extends:T,initialize:function(p){T.call(this,p),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=-1===this.loop?u.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(d){var p=this.parent.create(d);Array.isArray(p)||(p=[p]);for(var v=this.data,x=0;x<p.length;x++){var y=p[x];y.parent=this,v.push(y.reset())}return this.totalData=v.length,this},remove:function(d){return w(this.data,d),d.setRemovedState(),d===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(d){for(var p=this.data,v=0;v<this.totalData;v++)if(p[v].hasTarget(d))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(d){return d.seek(),d.setActiveState(),this},makeActive:function(d){return d.reset(),d.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var d=this.data,p=this.totalData,v=0;v<p;v++)d[v].reset(!1);this.setCurrentTween(0)},update:function(d){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;d*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(d):this.isCompleteDelayed()?this.updateCompleteDelay(d):this.isStartDelayed()&&(d=this.updateStartCountdown(d));var p=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(d)&&this.nextTween()&&this.nextState(),(p=this.isPendingRemove())&&this.persist&&(this.setFinishedState(),p=!1)),p},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData||(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(d){this.currentIndex=d,this.currentTween=this.data[d],this.currentTween.setActiveState()},dispatchEvent:function(d,p){this.emit(d,this);var v=this.callbacks[p];v&&v.func.apply(this.callbackScope,[this].concat(v.params))},destroy:function(){T.prototype.destroy.call(this),this.currentTween=null}});c.register("tweenchain",function(d){return this.scene.sys.tweens.chain(d)}),h.register("tweenchain",function(d){return this.scene.sys.tweens.create(d)}),S.exports=m},48177:(S,P,a)=>{var w=a(95042),T=a(45319),g=a(83419),f=a(842),h=new g({Extends:w,initialize:function(u,m,d,p,v,x,y,_,E,A,M,I,k,F,N,V,B){w.call(this,u,m,_,E,A,M,I,k,F,N),this.key=d,this.getActiveValue=x,this.getEndValue=p,this.getStartValue=v,this.ease=y,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=V,this.interpolationData=B},reset:function(c){w.prototype.reset.call(this);var u=this.tween.targets[this.targetIndex],m=this.key;c&&(u[m]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(u[m]=this.getActiveValue(u,m,0))},update:function(c){var u=this.tween,m=u.totalTargets,d=this.targetIndex,p=u.targets[d],v=this.key;if(!p)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=c,this.elapsed<=0&&(this.elapsed=0,c=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(f.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(p,v,p[v],d,m,u),this.end=this.getEndValue(p,v,this.start,d,m,u),this.current=this.start,p[v]=this.start,this.setPlayingForwardState(),!0;var x=this.isPlayingForward(),y=this.isPlayingBackward();if(x||y){var _=this.elapsed,E=this.duration,A=0,M=!1;(_+=c)>=E?(A=_-E,_=E,M=!0):_<0&&(_=0);var I=T(_/E,0,1);this.elapsed=_,this.progress=I,this.previous=this.current,x||(I=1-I);var k=this.ease(I);this.current=this.interpolation?this.interpolation(this.interpolationData,k):this.start+(this.end-this.start)*k,p[v]=this.current,M&&(x?this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(A):this.setStateFromStart(A)),this.dispatchEvent(f.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(c,u){var m=this.tween;if(!m.isSeeking){var d=m.targets[this.targetIndex],p=this.key,v=this.current,x=this.previous;m.emit(c,m,p,d,v,x);var y=m.callbacks[u];y&&y.func.apply(m.callbackScope,[m,d,p,v,x].concat(y.params))}},destroy:function(){w.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});S.exports=h},42220:(S,P,a)=>{var w=a(95042),T=a(45319),g=a(83419),f=a(842),h=new g({Extends:w,initialize:function(u,m,d,p,v,x,y,_,E,A,M){w.call(this,u,m,v,x,!1,y,_,E,A,M),this.key="texture",this.startTexture=null,this.endTexture=d,this.startFrame=null,this.endFrame=p,this.yoyo=0!==_},reset:function(c){w.prototype.reset.call(this);var u=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=u.texture.key,this.startFrame=u.frame.name),c&&u.setTexture(this.startTexture,this.startFrame)},update:function(c){var d=this.tween.targets[this.targetIndex];if(!d)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=c,this.elapsed<=0&&(this.elapsed=0,c=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(f.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&d.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var p=this.isPlayingForward(),v=this.isPlayingBackward();if(p||v){var x=this.elapsed,y=this.duration,_=0,E=!1;(x+=c)>=y?(_=x-y,x=y,E=!0):x<0&&(x=0);var A=T(x/y,0,1);this.elapsed=x,this.progress=A,E&&(p?(d.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(_)):(d.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(_))),this.dispatchEvent(f.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(c,u){var m=this.tween;if(!m.isSeeking){var d=m.targets[this.targetIndex],p=this.key;m.emit(c,m,p,d);var v=m.callbacks[u];v&&v.func.apply(m.callbackScope,[m,d,p].concat(v.params))}},destroy:function(){w.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});S.exports=h},86353:S=>{S.exports={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999}},83419:S=>{function a(h,c,u){var m=u?h[c]:Object.getOwnPropertyDescriptor(h,c);return!u&&m.value&&"object"==typeof m.value&&(m=m.value),!(!m||!function P(h){return!!h.get&&"function"==typeof h.get||!!h.set&&"function"==typeof h.set}(m))&&(typeof m.enumerable>"u"&&(m.enumerable=!0),typeof m.configurable>"u"&&(m.configurable=!0),m)}function w(h,c){var u=Object.getOwnPropertyDescriptor(h,c);return!!u&&(u.value&&"object"==typeof u.value&&(u=u.value),!1===u.configurable)}function T(h,c,u,m){for(var d in c)if(c.hasOwnProperty(d)){var p=a(c,d,u);if(!1!==p){if(w((m||h).prototype,d)){if(f.ignoreFinals)continue;throw new Error("cannot override final property '"+d+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(h.prototype,d,p)}else h.prototype[d]=c[d]}}function g(h,c){if(c){Array.isArray(c)||(c=[c]);for(var u=0;u<c.length;u++)T(h,c[u].prototype||c[u])}}function f(h){var c,u;if(h||(h={}),h.initialize){if("function"!=typeof h.initialize)throw new Error("initialize must be a function");c=h.initialize,delete h.initialize}else if(h.Extends){var m=h.Extends;c=function(){m.apply(this,arguments)}}else c=function(){};h.Extends?(c.prototype=Object.create(h.Extends.prototype),c.prototype.constructor=c,u=h.Extends,delete h.Extends):c.prototype.constructor=c;var d=null;return h.Mixins&&(d=h.Mixins,delete h.Mixins),g(c,d),T(c,h,!0,u),c}f.extend=T,f.mixin=g,f.ignoreFinals=!1,S.exports=f},29747:S=>{S.exports=function(){}},20242:S=>{S.exports=function(){return null}},71146:S=>{S.exports=function(a,w,T,g,f){if(void 0===f&&(f=a),T>0){var h=T-a.length;if(h<=0)return null}if(!Array.isArray(w))return-1===a.indexOf(w)?(a.push(w),g&&g.call(f,w),w):null;for(var c=w.length-1;c>=0;)-1!==a.indexOf(w[c])&&w.splice(c,1),c--;if(0===(c=w.length))return null;T>0&&c>h&&(w.splice(h),c=h);for(var u=0;u<c;u++){var m=w[u];a.push(m),g&&g.call(f,m)}return w}},51067:S=>{S.exports=function(a,w,T,g,f,h){if(void 0===T&&(T=0),void 0===h&&(h=a),g>0){var c=g-a.length;if(c<=0)return null}if(!Array.isArray(w))return-1===a.indexOf(w)?(a.splice(T,0,w),f&&f.call(h,w),w):null;for(var u=w.length-1;u>=0;)-1!==a.indexOf(w[u])&&w.pop(),u--;if(0===(u=w.length))return null;g>0&&u>c&&(w.splice(c),u=c);for(var m=u-1;m>=0;m--){var d=w[m];a.splice(T,0,d),f&&f.call(h,d)}return w}},66905:S=>{S.exports=function(a,w){var T=a.indexOf(w);return-1!==T&&T<a.length&&(a.splice(T,1),a.push(w)),w}},21612:(S,P,a)=>{var w=a(82011);S.exports=function(g,f,h,c,u){void 0===c&&(c=0),void 0===u&&(u=g.length);var m=0;if(w(g,c,u))for(var d=c;d<u;d++)g[d][f]===h&&m++;return m}},95428:S=>{S.exports=function(a,w,T){var g,f=[null];for(g=3;g<arguments.length;g++)f.push(arguments[g]);for(g=0;g<a.length;g++)f[0]=a[g],w.apply(T,f);return a}},36914:(S,P,a)=>{var w=a(82011);S.exports=function(g,f,h,c,u){if(void 0===c&&(c=0),void 0===u&&(u=g.length),w(g,c,u)){var m,d=[null];for(m=5;m<arguments.length;m++)d.push(arguments[m]);for(m=c;m<u;m++)d[0]=g[m],f.apply(h,d)}return g}},81957:S=>{S.exports=function(a,w,T){if(!w.length)return NaN;if(1===w.length)return w[0];var f,h,g=1;if(T){if(a<w[0][T])return w[0];for(;w[g][T]<a;)g++}else for(;w[g]<a;)g++;return g>w.length&&(g=w.length),T?(h=w[g][T])-a<=a-(f=w[g-1][T])?w[g]:w[g-1]:(h=w[g])-a<=a-(f=w[g-1])?h:f}},43491:S=>{var P=function(a,w){void 0===w&&(w=[]);for(var T=0;T<a.length;T++)Array.isArray(a[T])?P(a[T],w):w.push(a[T]);return w};S.exports=P},46710:(S,P,a)=>{var w=a(82011);S.exports=function(g,f,h,c,u){void 0===c&&(c=0),void 0===u&&(u=g.length);var m=[];if(w(g,c,u))for(var d=c;d<u;d++){var p=g[d];(!f||f&&void 0===h&&p.hasOwnProperty(f)||f&&void 0!==h&&p[f]===h)&&m.push(p)}return m}},58731:(S,P,a)=>{var w=a(82011);S.exports=function(g,f,h,c,u){if(void 0===c&&(c=0),void 0===u&&(u=g.length),w(g,c,u))for(var m=c;m<u;m++){var d=g[m];if(!f||f&&void 0===h&&d.hasOwnProperty(f)||f&&void 0!==h&&d[f]===h)return d}return null}},26546:S=>{S.exports=function(a,w,T){void 0===w&&(w=0),void 0===T&&(T=a.length);var g=w+Math.floor(Math.random()*T);return void 0===a[g]?null:a[g]}},85835:S=>{S.exports=function(a,w,T){if(w===T)return a;var g=a.indexOf(w),f=a.indexOf(T);if(g<0||f<0)throw new Error("Supplied items must be elements of the same array");return g>f||(a.splice(g,1),f=a.indexOf(T),a.splice(f+1,0,w)),a}},83371:S=>{S.exports=function(a,w,T){if(w===T)return a;var g=a.indexOf(w),f=a.indexOf(T);if(g<0||f<0)throw new Error("Supplied items must be elements of the same array");return g<f||(a.splice(g,1),0===f?a.unshift(w):a.splice(f,0,w)),a}},70864:S=>{S.exports=function(a,w){var T=a.indexOf(w);if(T>0){var g=a[T-1],f=a.indexOf(g);a[T]=g,a[f]=w}return a}},69693:S=>{S.exports=function(a,w,T){var g=a.indexOf(w);if(-1===g||T<0||T>=a.length)throw new Error("Supplied index out of bounds");return g!==T&&(a.splice(g,1),a.splice(T,0,w)),w}},40853:S=>{S.exports=function(a,w){var T=a.indexOf(w);if(-1!==T&&T<a.length-1){var g=a[T+1],f=a.indexOf(g);a[T]=g,a[f]=w}return a}},20283:S=>{S.exports=function(a,w,T,g){var h,f=[],c=!1;if((T||g)&&(c=!0,T||(T=""),g||(g="")),w<a)for(h=a;h>=w;h--)f.push(c?T+h.toString()+g:h);else for(h=a;h<=w;h++)f.push(c?T+h.toString()+g:h);return f}},593:(S,P,a)=>{var w=a(2284);S.exports=function(g,f,h){void 0===g&&(g=0),void 0===f&&(f=null),void 0===h&&(h=1),null===f&&(f=g,g=0);for(var c=[],u=Math.max(w((f-g)/(h||1)),0),m=0;m<u;m++)c.push(g),g+=h;return c}},43886:S=>{function P(T,g,f){var h=T[g];T[g]=T[f],T[f]=h}function a(T,g){return T<g?-1:T>g?1:0}var w=function(T,g,f,h,c){for(void 0===f&&(f=0),void 0===h&&(h=T.length-1),void 0===c&&(c=a);h>f;){if(h-f>600){var u=h-f+1,m=g-f+1,d=Math.log(u),p=.5*Math.exp(2*d/3),v=.5*Math.sqrt(d*p*(u-p)/u)*(m-u/2<0?-1:1),x=Math.max(f,Math.floor(g-m*p/u+v)),y=Math.min(h,Math.floor(g+(u-m)*p/u+v));w(T,g,x,y,c)}var _=T[g],E=f,A=h;for(P(T,f,g),c(T[h],_)>0&&P(T,f,h);E<A;){for(P(T,E,A),E++,A--;c(T[E],_)<0;)E++;for(;c(T[A],_)>0;)A--}0===c(T[f],_)?P(T,f,A):P(T,++A,h),A<=g&&(f=A+1),g<=A&&(h=A-1)}};S.exports=w},88492:(S,P,a)=>{var w=a(35154),T=a(33680),g=function(h,c,u){for(var m=[],d=0;d<h.length;d++)for(var p=0;p<c.length;p++)for(var v=0;v<u;v++)m.push({a:h[d],b:c[p]});return m};S.exports=function(h,c,u){var m=w(u,"max",0),d=w(u,"qty",1),p=w(u,"random",!1),v=w(u,"randomB",!1),x=w(u,"repeat",0),y=w(u,"yoyo",!1),_=[];if(v&&T(c),-1===x)if(0===m)x=0;else{var E=h.length*c.length*d;y&&(E*=2),x=Math.ceil(m/E)}for(var A=0;A<=x;A++){var M=g(h,c,d);p&&T(M),_=_.concat(M),y&&(M.reverse(),_=_.concat(M))}return m&&_.splice(m),_}},72905:(S,P,a)=>{var w=a(19133);S.exports=function(g,f,h,c){var u;if(void 0===c&&(c=g),!Array.isArray(f))return-1!==(u=g.indexOf(f))?(w(g,u),h&&h.call(c,f),f):null;for(var m=f.length-1,d=[];m>=0;){var p=f[m];-1!==(u=g.indexOf(p))&&(w(g,u),d.push(p),h&&h.call(c,p)),m--}return d}},60248:(S,P,a)=>{var w=a(19133);S.exports=function(g,f,h,c){if(void 0===c&&(c=g),f<0||f>g.length-1)throw new Error("Index out of bounds");var u=w(g,f);return h&&h.call(c,u),u}},81409:(S,P,a)=>{var w=a(82011);S.exports=function(g,f,h,c,u){if(void 0===f&&(f=0),void 0===h&&(h=g.length),void 0===u&&(u=g),w(g,f,h)){var d=g.splice(f,h-f);if(c)for(var p=0;p<d.length;p++)c.call(u,d[p]);return d}return[]}},31856:(S,P,a)=>{var w=a(19133);S.exports=function(g,f,h){void 0===f&&(f=0),void 0===h&&(h=g.length);var c=f+Math.floor(Math.random()*h);return w(g,c)}},42169:S=>{S.exports=function(a,w,T){var g=a.indexOf(w),f=a.indexOf(T);return-1!==g&&-1===f&&(a[g]=T,!0)}},86003:S=>{S.exports=function(a,w){void 0===w&&(w=1);for(var T=null,g=0;g<w;g++)T=a.shift(),a.push(T);return T}},49498:S=>{S.exports=function(a,w){void 0===w&&(w=1);for(var T=null,g=0;g<w;g++)T=a.pop(),a.unshift(T);return T}},82011:S=>{S.exports=function(a,w,T,g){var f=a.length;if(w<0||w>f||w>=T||T>f){if(g)throw new Error("Range Error: Values outside acceptable range");return!1}return!0}},89545:S=>{S.exports=function(a,w){var T=a.indexOf(w);return-1!==T&&T>0&&(a.splice(T,1),a.unshift(w)),w}},17810:(S,P,a)=>{var w=a(82011);S.exports=function(g,f,h,c,u){if(void 0===c&&(c=0),void 0===u&&(u=g.length),w(g,c,u))for(var m=c;m<u;m++){var d=g[m];d.hasOwnProperty(f)&&(d[f]=h)}return g}},33680:S=>{S.exports=function(a){for(var w=a.length-1;w>0;w--){var T=Math.floor(Math.random()*(w+1)),g=a[w];a[w]=a[T],a[T]=g}return a}},90126:S=>{S.exports=function(a){var w=/\D/g;return a.sort(function(T,g){return parseInt(T.replace(w,""),10)-parseInt(g.replace(w,""),10)}),a}},19133:S=>{S.exports=function(a,w){if(!(w>=a.length)){for(var T=a.length-1,g=a[w],f=w;f<T;f++)a[f]=a[f+1];return a.length=T,g}}},19186:(S,P,a)=>{var w=a(82264);function T(c,u){return String(c).localeCompare(u)}function f(c,u,m,d){var y,_,E,A,M,p=c.length,v=0,x=2*m;for(y=0;y<p;y+=x)for(E=(_=y+m)+m,_>p&&(_=p),E>p&&(E=p),A=y,M=_;;)if(A<_&&M<E)u(c[A],c[M])<=0?d[v++]=c[A++]:d[v++]=c[M++];else if(A<_)d[v++]=c[A++];else{if(!(M<E))break;d[v++]=c[M++]}}S.exports=function(c,u){if(void 0===u&&(u=T),!c||c.length<2)return c;if(w.features.stableSort)return c.sort(u);var m=function g(c,u){var m=c.length;if(m<=1)return c;for(var d=new Array(m),p=1;p<m;p*=2){f(c,u,p,d);var v=c;c=d,d=v}return c}(c,u);return m!==c&&f(m,null,c.length,c),c}},25630:S=>{S.exports=function(a,w,T){if(w===T)return a;var g=a.indexOf(w),f=a.indexOf(T);if(g<0||f<0)throw new Error("Supplied items must be elements of the same array");return a[g]=T,a[f]=w,a}},37105:(S,P,a)=>{S.exports={Matrix:a(54915),Add:a(71146),AddAt:a(51067),BringToTop:a(66905),CountAllMatching:a(21612),Each:a(95428),EachInRange:a(36914),FindClosestInSorted:a(81957),Flatten:a(43491),GetAll:a(46710),GetFirst:a(58731),GetRandom:a(26546),MoveDown:a(70864),MoveTo:a(69693),MoveUp:a(40853),MoveAbove:a(85835),MoveBelow:a(83371),NumberArray:a(20283),NumberArrayStep:a(593),QuickSelect:a(43886),Range:a(88492),Remove:a(72905),RemoveAt:a(60248),RemoveBetween:a(81409),RemoveRandomElement:a(31856),Replace:a(42169),RotateLeft:a(86003),RotateRight:a(49498),SafeRange:a(82011),SendToBack:a(89545),SetAll:a(17810),Shuffle:a(33680),SortByDigits:a(90126),SpliceOne:a(19133),StableSort:a(19186),Swap:a(25630)}},86922:S=>{S.exports=function(a){if(!Array.isArray(a)||!Array.isArray(a[0]))return!1;for(var w=a[0].length,T=1;T<a.length;T++)if(a[T].length!==w)return!1;return!0}},63362:(S,P,a)=>{var w=a(41836),T=a(86922);S.exports=function(f){var h="";if(!T(f))return h;for(var c=0;c<f.length;c++){for(var u=0;u<f[c].length;u++){var m=f[c][u].toString();h+="undefined"!==m?w(m,2):"?",u<f[c].length-1&&(h+=" |")}if(c<f.length-1){h+="\n";for(var d=0;d<f[c].length;d++)h+="---",d<f[c].length-1&&(h+="+");h+="\n"}}return h}},92598:S=>{S.exports=function(a){return a.reverse()}},21224:S=>{S.exports=function(a){for(var w=0;w<a.length;w++)a[w].reverse();return a}},98717:(S,P,a)=>{var w=a(37829);S.exports=function(g){return w(g,180)}},44657:(S,P,a)=>{var w=a(37829);S.exports=function(g,f){void 0===f&&(f=1);for(var h=0;h<f;h++)g=w(g,90);return g}},37829:(S,P,a)=>{var w=a(86922),T=a(2429);S.exports=function(f,h){if(void 0===h&&(h=90),!w(f))return null;if("string"!=typeof h&&(h=(h%360+360)%360),90===h||-270===h||"rotateLeft"===h)(f=T(f)).reverse();else if(-90===h||270===h||"rotateRight"===h)f.reverse(),f=T(f);else if(180===Math.abs(h)||"rotate180"===h){for(var c=0;c<f.length;c++)f[c].reverse();f.reverse()}return f}},92632:(S,P,a)=>{var w=a(37829);S.exports=function(g,f){void 0===f&&(f=1);for(var h=0;h<f;h++)g=w(g,-90);return g}},69512:(S,P,a)=>{var w=a(86003),T=a(49498);S.exports=function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),0!==c&&(c<0?w(f,Math.abs(c)):T(f,c)),0!==h)for(var u=0;u<f.length;u++){var m=f[u];h<0?w(m,Math.abs(h)):T(m,h)}return f}},2429:S=>{S.exports=function(a){for(var w=a.length,T=a[0].length,g=new Array(T),f=0;f<T;f++){g[f]=new Array(w);for(var h=w-1;h>-1;h--)g[f][h]=a[h][f]}return g}},54915:(S,P,a)=>{S.exports={CheckMatrix:a(86922),MatrixToString:a(63362),ReverseColumns:a(92598),ReverseRows:a(21224),Rotate180:a(98717),RotateLeft:a(44657),RotateMatrix:a(37829),RotateRight:a(92632),Translate:a(69512),TransposeMatrix:a(2429)}},71334:S=>{var P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";S.exports=function(w,T){for(var g=new Uint8Array(w),f=g.length,h=T?"data:"+T+";base64,":"",c=0;c<f;c+=3)h+=P[g[c]>>2],h+=P[(3&g[c])<<4|g[c+1]>>4],h+=P[(15&g[c+1])<<2|g[c+2]>>6],h+=P[63&g[c+2]];return f%3==2?h=h.substring(0,h.length-1)+"=":f%3==1&&(h=h.substring(0,h.length-2)+"=="),h}},53134:S=>{for(var a=new Uint8Array(256),w=0;w<64;w++)a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(w)]=w;S.exports=function(g){var u,m,d,p,f=(g=g.substr(g.indexOf(",")+1)).length,h=.75*f,c=0;"="===g[f-1]&&(h--,"="===g[f-2]&&h--);for(var v=new ArrayBuffer(h),x=new Uint8Array(v),y=0;y<f;y+=4)u=a[g.charCodeAt(y)],m=a[g.charCodeAt(y+1)],d=a[g.charCodeAt(y+2)],p=a[g.charCodeAt(y+3)],x[c++]=u<<2|m>>4,x[c++]=(15&m)<<4|d>>2,x[c++]=(3&d)<<6|63&p;return v}},65839:(S,P,a)=>{S.exports={ArrayBufferToBase64:a(71334),Base64ToArrayBuffer:a(53134)}},91799:(S,P,a)=>{S.exports={Array:a(37105),Base64:a(65839),Objects:a(1183),String:a(31749),NOOP:a(29747),NULL:a(20242)}},41786:S=>{S.exports=function(a){var w={};for(var T in a)w[T]=Array.isArray(a[T])?a[T].slice(0):a[T];return w}},62644:S=>{var P=function(a){var w,g;if("object"!=typeof a||null===a)return a;for(g in w=Array.isArray(a)?[]:{},a)w[g]=P(a[g]);return w};S.exports=P},79291:(S,P,a)=>{var w=a(41212),T=function(){var g,f,h,c,u,m,d=arguments[0]||{},p=1,v=arguments.length,x=!1;for("boolean"==typeof d&&(x=d,d=arguments[1]||{},p=2),v===p&&(d=this,--p);p<v;p++)if(null!=(g=arguments[p]))for(f in g)h=d[f],d!==(c=g[f])&&(x&&c&&(w(c)||(u=Array.isArray(c)))?(u?(u=!1,m=h&&Array.isArray(h)?h:[]):m=h&&w(h)?h:{},d[f]=T(x,m,c)):void 0!==c&&(d[f]=c));return d};S.exports=T},23568:(S,P,a)=>{var w=a(75508),T=a(35154);S.exports=function(f,h,c){var u=T(f,h,null);if(null===u)return c;if(Array.isArray(u))return w.RND.pick(u);if("object"==typeof u){if(u.hasOwnProperty("randInt"))return w.RND.integerInRange(u.randInt[0],u.randInt[1]);if(u.hasOwnProperty("randFloat"))return w.RND.realInRange(u.randFloat[0],u.randFloat[1])}else if("function"==typeof u)return u(h);return u}},95540:S=>{S.exports=function(a,w,T){var g=typeof a;return a&&"number"!==g&&"string"!==g&&a.hasOwnProperty(w)&&void 0!==a[w]?a[w]:T}},82840:(S,P,a)=>{var w=a(35154),T=a(45319);S.exports=function(f,h,c,u,m){void 0===m&&(m=c);var d=w(f,h,m);return T(d,c,u)}},35154:S=>{S.exports=function(a,w,T,g){if(!a&&!g||"number"==typeof a)return T;if(a&&a.hasOwnProperty(w))return a[w];if(g&&g.hasOwnProperty(w))return g[w];if(-1!==w.indexOf(".")){for(var f=w.split("."),h=a,c=g,u=T,m=T,d=!0,p=!0,v=0;v<f.length;v++)h&&h.hasOwnProperty(f[v])?(u=h[f[v]],h=h[f[v]]):d=!1,c&&c.hasOwnProperty(f[v])?(m=c[f[v]],c=c[f[v]]):p=!1;return d?u:p?m:T}return T}},69036:S=>{S.exports=function(a,w){for(var T=0;T<w.length;T++)if(!a.hasOwnProperty(w[T]))return!1;return!0}},1985:S=>{S.exports=function(a,w){for(var T=0;T<w.length;T++)if(a.hasOwnProperty(w[T]))return!0;return!1}},97022:S=>{S.exports=function(a,w){return a.hasOwnProperty(w)}},41212:S=>{S.exports=function(a){if(!a||"object"!=typeof a||a.nodeType||a===a.window)return!1;try{if(a.constructor&&!{}.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0}},46975:(S,P,a)=>{var w=a(41786);S.exports=function(g,f){var h=w(g);for(var c in f)h.hasOwnProperty(c)||(h[c]=f[c]);return h}},269:(S,P,a)=>{var w=a(41786);S.exports=function(g,f){var h=w(g);for(var c in f)h.hasOwnProperty(c)&&(h[c]=f[c]);return h}},18254:(S,P,a)=>{var w=a(97022);S.exports=function(g,f){for(var h={},c=0;c<f.length;c++){var u=f[c];w(g,u)&&(h[u]=g[u])}return h}},61622:S=>{S.exports=function(a,w,T){if(!a||"number"==typeof a)return!1;if(a.hasOwnProperty(w))return a[w]=T,!0;if(-1!==w.indexOf(".")){for(var g=w.split("."),f=a,h=a,c=0;c<g.length;c++){if(!f.hasOwnProperty(g[c]))return!1;h=f,f=f[g[c]]}return h[g[g.length-1]]=T,!0}return!1}},1183:(S,P,a)=>{S.exports={Clone:a(41786),DeepCopy:a(62644),Extend:a(79291),GetAdvancedValue:a(23568),GetFastValue:a(95540),GetMinMaxValue:a(82840),GetValue:a(35154),HasAll:a(69036),HasAny:a(1985),HasValue:a(97022),IsPlainObject:a(41212),Merge:a(46975),MergeRight:a(269),Pick:a(18254),SetValue:a(61622)}},27902:S=>{S.exports=function(a,w){return a.replace(/%([0-9]+)/g,function(T,g){return w[Number(g)-1]})}},41836:S=>{S.exports=function(a,w,T,g){void 0===w&&(w=0),void 0===T&&(T=" "),void 0===g&&(g=3);var f=0;if(w+1>=(a=a.toString()).length)switch(g){case 1:a=new Array(w+1-a.length).join(T)+a;break;case 3:var h=Math.ceil((f=w-a.length)/2);a=new Array(f-h+1).join(T)+a+new Array(h+1).join(T);break;default:a+=new Array(w+1-a.length).join(T)}return a}},33628:S=>{S.exports=function(a,w){return 0===w?a.slice(1):a.slice(0,w)+a.slice(w+1)}},27671:S=>{S.exports=function(a){return a.split("").reverse().join("")}},45650:S=>{S.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var w=16*Math.random()|0;return("x"===a?w:3&w|8).toString(16)})}},35355:S=>{S.exports=function(a){return a&&a[0].toUpperCase()+a.slice(1)}},31749:(S,P,a)=>{S.exports={Format:a(27902),Pad:a(41836),RemoveAt:a(33628),Reverse:a(27671),UppercaseFirst:a(35355),UUID:a(45650)}}},gs={};function Do(S){var P=gs[S];if(void 0!==P)return P.exports;var a=gs[S]={exports:{}};return Fd[S](a,a.exports,Do),a.exports}return Do.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Do(85454)})(),Ws.exports=Do()},293:Ws=>{"use strict";Ws.exports=JSON.parse('{"a":["ahole","anus","ash0le","ash0les","asholes","ass","Ass Monkey","Assface","assh0le","assh0lez","asshole","assholes","assholz","asswipe","azzhole","bassterds","bastard","bastards","bastardz","basterds","basterdz","Biatch","bitch","bitches","Blow Job","boffing","butthole","buttwipe","c0ck","c0cks","c0k","Carpet Muncher","cawk","cawks","Clit","cnts","cntz","cock","cockhead","cock-head","cocks","CockSucker","cock-sucker","crap","cum","cunt","cunts","cuntz","dick","dild0","dild0s","dildo","dildos","dilld0","dilld0s","dominatricks","dominatrics","dominatrix","dyke","enema","f u c k","f u c k e r","fag","fag1t","faget","fagg1t","faggit","faggot","fagg0t","fagit","fags","fagz","faig","faigs","fart","flipping the bird","fuck","fucker","fuckin","fucking","fucks","Fudge Packer","fuk","Fukah","Fuken","fuker","Fukin","Fukk","Fukkah","Fukken","Fukker","Fukkin","g00k","God-damned","h00r","h0ar","h0re","hells","hoar","hoor","hoore","jackoff","jap","japs","jerk-off","jisim","jiss","jizm","jizz","knob","knobs","knobz","kunt","kunts","kuntz","Lezzian","Lipshits","Lipshitz","masochist","masokist","massterbait","masstrbait","masstrbate","masterbaiter","masterbate","masterbates","Motha Fucker","Motha Fuker","Motha Fukkah","Motha Fukker","Mother Fucker","Mother Fukah","Mother Fuker","Mother Fukkah","Mother Fukker","mother-fucker","Mutha Fucker","Mutha Fukah","Mutha Fuker","Mutha Fukkah","Mutha Fukker","n1gr","nastt","nigger;","nigur;","niiger;","niigr;","orafis","orgasim;","orgasm","orgasum","oriface","orifice","orifiss","packi","packie","packy","paki","pakie","paky","pecker","peeenus","peeenusss","peenus","peinus","pen1s","penas","penis","penis-breath","penus","penuus","Phuc","Phuck","Phuk","Phuker","Phukker","polac","polack","polak","Poonani","pr1c","pr1ck","pr1k","pusse","pussee","pussy","puuke","puuker","qweir","recktum","rectum","retard","sadist","scank","schlong","screwing","semen","sex","sexy","Sh!t","sh1t","sh1ter","sh1ts","sh1tter","sh1tz","shit","shits","shitter","Shitty","Shity","shitz","Shyt","Shyte","Shytty","Shyty","skanck","skank","skankee","skankey","skanks","Skanky","slag","slut","sluts","Slutty","slutz","son-of-a-bitch","tit","turd","va1jina","vag1na","vagiina","vagina","vaj1na","vajina","vullva","vulva","w0p","wh00r","wh0re","whore","xrated","xxx","b!+ch","bitch","blowjob","clit","arschloch","fuck","shit","ass","asshole","b!tch","b17ch","b1tch","bastard","bi+ch","boiolas","buceta","c0ck","cawk","chink","cipa","clits","cock","cum","cunt","dildo","dirsa","ejakulate","fatass","fcuk","fuk","fux0r","hoer","hore","jism","kawk","l3itch","l3i+ch","masturbate","masterbat*","masterbat3","motherfucker","s.o.b.","mofo","nazi","nigga","nigger","nutsack","phuck","pimpis","pusse","pussy","scrotum","sh!t","shemale","shi+","sh!+","slut","smut","teets","tits","boobs","b00bs","teez","testical","testicle","titt","w00se","jackoff","wank","whoar","whore","*damn","*dyke","*fuck*","*shit*","@$$","amcik","andskota","arse*","assrammer","ayir","bi7ch","bitch*","bollock*","breasts","butt-pirate","cabron","cazzo","chraa","chuj","Cock*","cunt*","d4mn","daygo","dego","dick*","dike*","dupa","dziwka","ejackulate","Ekrem*","Ekto","enculer","faen","fag*","fanculo","fanny","feces","feg","Felcher","ficken","fitt*","Flikker","foreskin","Fotze","Fu(*","fuk*","futkretzn","gook","guiena","h0r","h4x0r","hell","helvete","hoer*","honkey","Huevon","hui","injun","jizz","kanker*","kike","klootzak","kraut","knulle","kuk","kuksuger","Kurac","kurwa","kusi*","kyrpa*","lesbo","mamhoon","masturbat*","merd*","mibun","monkleigh","mouliewop","muie","mulkku","muschi","nazis","nepesaurio","nigger*","orospu","paska*","perse","picka","pierdol*","pillu*","pimmel","piss*","pizda","poontsee","poop","porn","p0rn","pr0n","preteen","pula","pule","puta","puto","qahbeh","queef*","rautenberg","schaffer","scheiss*","schlampe","schmuck","screw","sh!t*","sharmuta","sharmute","shipal","shiz","skribz","skurwysyn","sphencter","spic","spierdalaj","splooge","suka","b00b*","testicle*","titt*","twat","vittu","wank*","wetback*","wichser","wop*","yed","zabourah"]}')}},Ws=>{Ws(Ws.s=951)}]);
(self.webpackChunksct_implementation_demonstrator=self.webpackChunksct_implementation_demonstrator||[]).push([[792],{4914:(Wt,he,It)=>{"use strict";function Xt(e,i,t,n,r,s,o){try{var l=e[s](o),w=l.value}catch(S){return void t(S)}l.done?i(w):Promise.resolve(w).then(n,r)}function Mt(e){return function(){var i=this,t=arguments;return new Promise(function(n,r){var s=e.apply(i,t);function o(w){Xt(s,n,r,o,l,"next",w)}function l(w){Xt(s,n,r,o,l,"throw",w)}o(void 0)})}}let k=null,a=!1,y=1;const T=Symbol("SIGNAL");function m(e){const i=k;return k=e,i}const u={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function g(e){if((!F(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==y)){if(!e.producerMustRecompute(e)&&!A(e))return e.dirty=!1,void(e.lastCleanEpoch=y);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=y}}function b(e){e.dirty=!0,function v(e){if(void 0===e.liveConsumerNode)return;const i=a;a=!0;try{for(const t of e.liveConsumerNode)t.dirty||b(t)}finally{a=i}}(e),e.consumerMarkedDirty?.(e)}function _(e){return e&&(e.nextProducerIndex=0),m(e)}function E(e,i){if(m(i),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(F(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)R(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function A(e){L(e);for(let i=0;i<e.producerNode.length;i++){const t=e.producerNode[i],n=e.producerLastReadVersion[i];if(n!==t.version||(g(t),n!==t.version))return!0}return!1}function D(e){if(L(e),F(e))for(let i=0;i<e.producerNode.length;i++)R(e.producerNode[i],e.producerIndexOfThis[i]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function R(e,i){if(function V(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),L(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)R(e.producerNode[n],e.producerIndexOfThis[n]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[i]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[i]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,i<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[i],r=e.liveConsumerNode[i];L(r),r.producerIndexOfThis[n]=i}}function F(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function L(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let at=null;const Zt=()=>{},Jt={...u,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:Zt};function ae(e){return"function"==typeof e}function fe(e){const t=e(n=>{Error.call(n),n.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Pe=fe(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Xe(e,i){if(e){const t=e.indexOf(i);0<=t&&e.splice(t,1)}}class Re{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:n}=this;if(ae(n))try{n()}catch(s){i=s instanceof Pe?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{Je(s)}catch(o){i=i??[],o instanceof Pe?i=[...i,...o.errors]:i.push(o)}}if(i)throw new Pe(i)}}add(i){var t;if(i&&i!==this)if(this.closed)Je(i);else{if(i instanceof Re){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(i)}}_hasParent(i){const{_parentage:t}=this;return t===i||Array.isArray(t)&&t.includes(i)}_addParent(i){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(i),t):t?[t,i]:i}_removeParent(i){const{_parentage:t}=this;t===i?this._parentage=null:Array.isArray(t)&&Xe(t,i)}remove(i){const{_finalizers:t}=this;t&&Xe(t,i),i instanceof Re&&i._removeParent(this)}}Re.EMPTY=(()=>{const e=new Re;return e.closed=!0,e})();const $e=Re.EMPTY;function Ce(e){return e instanceof Re||e&&"closed"in e&&ae(e.remove)&&ae(e.add)&&ae(e.unsubscribe)}function Je(e){ae(e)?e():e.unsubscribe()}const ii={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ni={setTimeout(e,i,...t){const{delegate:n}=Ni;return n?.setTimeout?n.setTimeout(e,i,...t):setTimeout(e,i,...t)},clearTimeout(e){const{delegate:i}=Ni;return(i?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ji(e){Ni.setTimeout(()=>{const{onUnhandledError:i}=ii;if(!i)throw e;i(e)})}function an(){}const on=Ur("C",void 0,void 0);function Ur(e,i,t){return{kind:e,value:i,error:t}}let un=null;function sr(e){if(ii.useDeprecatedSynchronousErrorHandling){const i=!un;if(i&&(un={errorThrown:!1,error:null}),e(),i){const{errorThrown:t,error:n}=un;if(un=null,t)throw n}}else e()}class bs extends Re{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,Ce(i)&&i.add(this)):this.destination=Gnt}static create(i,t,n){return new Xo(i,t,n)}next(i){this.isStopped?YA(function Mr(e){return Ur("N",e,void 0)}(i),this):this._next(i)}error(i){this.isStopped?YA(function dn(e){return Ur("E",void 0,e)}(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?YA(on,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const zl=Function.prototype.bind;function $s(e,i){return zl.call(e,i)}class Ba{constructor(i){this.partialObserver=i}next(i){const{partialObserver:t}=this;if(t.next)try{t.next(i)}catch(n){Gl(n)}}error(i){const{partialObserver:t}=this;if(t.error)try{t.error(i)}catch(n){Gl(n)}else Gl(i)}complete(){const{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(t){Gl(t)}}}class Xo extends bs{constructor(i,t,n){let r;if(super(),ae(i)||!i)r={next:i??void 0,error:t??void 0,complete:n??void 0};else{let s;this&&ii.useDeprecatedNextContext?(s=Object.create(i),s.unsubscribe=()=>this.unsubscribe(),r={next:i.next&&$s(i.next,s),error:i.error&&$s(i.error,s),complete:i.complete&&$s(i.complete,s)}):r=i}this.destination=new Ba(r)}}function Gl(e){ii.useDeprecatedSynchronousErrorHandling?function Or(e){ii.useDeprecatedSynchronousErrorHandling&&un&&(un.errorThrown=!0,un.error=e)}(e):Ji(e)}function YA(e,i){const{onStoppedNotification:t}=ii;t&&Ni.setTimeout(()=>t(e,i))}const Gnt={closed:!0,next:an,error:function znt(e){throw e},complete:an},$A="function"==typeof Symbol&&Symbol.observable||"@@observable";function th(e){return e}function B4(e){return 0===e.length?th:1===e.length?e[0]:function(t){return e.reduce((n,r)=>r(n),t)}}let gr=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(t,n,r){const s=function jnt(e){return e&&e instanceof bs||function Wnt(e){return e&&ae(e.next)&&ae(e.error)&&ae(e.complete)}(e)&&Ce(e)}(t)?t:new Xo(t,n,r);return sr(()=>{const{operator:o,source:l}=this;s.add(o?o.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return new(n=V4(n))((r,s)=>{const o=new Xo({next:l=>{try{t(l)}catch(w){s(w),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)}[$A](){return this}pipe(...t){return B4(t)(this)}toPromise(t){return new(t=V4(t))((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return e.create=i=>new e(i),e})();function V4(e){var i;return null!==(i=e??ii.Promise)&&void 0!==i?i:Promise}const Xnt=fe(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ne=(()=>{class e extends gr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const n=new U4(this,this);return n.operator=t,n}_throwIfClosed(){if(this.closed)throw new Xnt}next(t){sr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(t)}})}error(t){sr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:n}=this;for(;n.length;)n.shift().error(t)}})}complete(){sr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:n,isStopped:r,observers:s}=this;return n||r?$e:(this.currentObservers=null,s.push(t),new Re(()=>{this.currentObservers=null,Xe(s,t)}))}_checkFinalizedStatuses(t){const{hasError:n,thrownError:r,isStopped:s}=this;n?t.error(r):s&&t.complete()}asObservable(){const t=new gr;return t.source=this,t}}return e.create=(i,t)=>new U4(i,t),e})();class U4 extends Ne{constructor(i,t){super(),this.destination=i,this.source=t}next(i){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,i)}error(i){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,i)}complete(){var i,t;null===(t=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===t||t.call(i)}_subscribe(i){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(i))&&void 0!==n?n:$e}}class Kr extends Ne{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const t=super._subscribe(i);return!t.closed&&i.next(this._value),t}getValue(){const{hasError:i,thrownError:t,_value:n}=this;if(i)throw t;return this._throwIfClosed(),n}next(i){super.next(this._value=i)}}function z4(e){return ae(e?.lift)}function ms(e){return i=>{if(z4(i))return i.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Zr(e,i,t,n,r){return new Ynt(e,i,t,n,r)}class Ynt extends bs{constructor(i,t,n,r,s,o){super(i),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(l){try{t(l)}catch(w){i.error(w)}}:super._next,this._error=r?function(l){try{r(l)}catch(w){i.error(w)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(l){i.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}}function Ri(e,i){return ms((t,n)=>{let r=0;t.subscribe(Zr(n,s=>{n.next(e.call(i,s,r++))}))})}const G4="https://g.co/ng/security#xss";class pe extends Error{constructor(i,t){super(function Ep(e,i){return`NG0${Math.abs(e)}${i?": "+i:""}`}(i,t)),this.code=i}}function Bd(e){return{toString:e}.toString()}const Dp="__parameters__";function Ip(e,i,t){return Bd(()=>{const n=function QA(e){return function(...t){if(e){const n=e(...t);for(const r in n)this[r]=n[r]}}}(i);function r(...s){if(this instanceof r)return n.apply(this,s),this;const o=new r(...s);return l.annotation=o,l;function l(w,S,M){const P=w.hasOwnProperty(Dp)?w[Dp]:Object.defineProperty(w,Dp,{value:[]})[Dp];for(;P.length<=M;)P.push(null);return(P[M]=P[M]||[]).push(o),w}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}const vr=globalThis;function Tr(e){for(let i in e)if(e[i]===Tr)return i;throw Error("Could not find renamed property on target object.")}function $nt(e,i){for(const t in i)i.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=i[t])}function ra(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ra).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const i=e.toString();if(null==i)return""+i;const t=i.indexOf("\n");return-1===t?i:i.substring(0,t)}function KA(e,i){return null==e||""===e?null===i?"":i:null==i||""===i?e:e+" "+i}const Qnt=Tr({__forward_ref__:Tr});function kn(e){return e.__forward_ref__=kn,e.toString=function(){return ra(this())},e}function Yi(e){return hw(e)?e():e}function hw(e){return"function"==typeof e&&e.hasOwnProperty(Qnt)&&e.__forward_ref__===kn}function ke(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Bi(e){return{providers:e.providers||[],imports:e.imports||[]}}function fw(e){return X4(e,pw)||X4(e,Y4)}function X4(e,i){return e.hasOwnProperty(i)?e[i]:null}function mw(e){return e&&(e.hasOwnProperty(ZA)||e.hasOwnProperty(ert))?e[ZA]:null}const pw=Tr({\u0275prov:Tr}),ZA=Tr({\u0275inj:Tr}),Y4=Tr({ngInjectableDef:Tr}),ert=Tr({ngInjectorDef:Tr});class se{constructor(i,t){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ke({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function n2(e){return e&&!!e.\u0275providers}const F0=Tr({\u0275cmp:Tr}),r2=Tr({\u0275dir:Tr}),s2=Tr({\u0275pipe:Tr}),Q4=Tr({\u0275mod:Tr}),Vd=Tr({\u0275fac:Tr}),O0=Tr({__NG_ELEMENT_ID__:Tr}),K4=Tr({__NG_ENV_ID__:Tr});function hn(e){return"string"==typeof e?e:null==e?"":String(e)}function a2(e,i){throw new pe(-201,!1)}var zn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(zn||{});let o2;function Z4(){return o2}function Yo(e){const i=o2;return o2=e,i}function J4(e,i,t){const n=fw(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:t&zn.Optional?null:void 0!==i?i:void a2()}const L0={},l2="__NG_DI_FLAG__",gw="ngTempTokenPath",ort=/\n/gm,q4="__source";let kp;function ih(e){const i=kp;return kp=e,i}function drt(e,i=zn.Default){if(void 0===kp)throw new pe(-203,!1);return null===kp?J4(e,void 0,i):kp.get(e,i&zn.Optional?null:void 0,i)}function ne(e,i=zn.Default){return(Z4()||drt)(Yi(e),i)}function xe(e,i=zn.Default){return ne(e,vw(i))}function vw(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function c2(e){const i=[];for(let t=0;t<e.length;t++){const n=Yi(e[t]);if(Array.isArray(n)){if(0===n.length)throw new pe(900,!1);let r,s=zn.Default;for(let o=0;o<n.length;o++){const l=n[o],w=urt(l);"number"==typeof w?-1===w?r=l.token:s|=w:r=l}i.push(ne(r,s))}else i.push(ne(n))}return i}function N0(e,i){return e[l2]=i,e.prototype[l2]=i,e}function urt(e){return e[l2]}const Ud=N0(Ip("Optional"),8),Cf=N0(Ip("SkipSelf"),4);function Sf(e,i){return e.hasOwnProperty(Vd)?e[Vd]:null}function Rp(e,i){e.forEach(t=>Array.isArray(t)?Rp(t,i):i(t))}function e3(e,i,t){i>=e.length?e.push(t):e.splice(i,0,t)}function xw(e,i){return i>=e.length-1?e.pop():e.splice(i,1)[0]}function fl(e,i,t){let n=Pp(e,i);return n>=0?e[1|n]=t:(n=~n,function n3(e,i,t,n){let r=e.length;if(r==i)e.push(t,n);else if(1===r)e.push(n,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>i;)e[r]=e[r-2],r--;e[i]=t,e[i+1]=n}}(e,n,i,t)),n}function u2(e,i){const t=Pp(e,i);if(t>=0)return e[1|t]}function Pp(e,i){return function r3(e,i,t){let n=0,r=e.length>>t;for(;r!==n;){const s=n+(r-n>>1),o=e[s<<t];if(i===o)return s<<t;o>i?r=s:n=s+1}return~(r<<t)}(e,i,1)}const Hc={},tr=[],Ef=new se(""),s3=new se("",-1),h2=new se("");class bw{get(i,t=L0){if(t===L0){const n=new Error(`NullInjectorError: No provider for ${ra(i)}!`);throw n.name="NullInjectorError",n}return t}}var ww=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ww||{}),gc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(gc||{}),$t=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}($t||{});function xrt(e,i,t){let n=e.length;for(;;){const r=e.indexOf(i,t);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=i.length;if(r+s===n||e.charCodeAt(r+s)<=32)return r}t=r+1}}function f2(e,i,t){let n=0;for(;n<t.length;){const r=t[n];if("number"==typeof r){if(0!==r)break;n++;const s=t[n++],o=t[n++],l=t[n++];e.setAttribute(i,o,l,s)}else{const s=r,o=t[++n];o3(s)?e.setProperty(i,s,o):e.setAttribute(i,s,o),n++}}return n}function a3(e){return 3===e||4===e||6===e}function o3(e){return 64===e.charCodeAt(0)}function B0(e,i){if(null!==i&&0!==i.length)if(null===e||0===e.length)e=i.slice();else{let t=-1;for(let n=0;n<i.length;n++){const r=i[n];"number"==typeof r?t=r:0===t||l3(e,t,r,null,-1===t||2===t?i[++n]:null)}}return e}function l3(e,i,t,n,r){let s=0,o=e.length;if(-1===i)o=-1;else for(;s<e.length;){const l=e[s++];if("number"==typeof l){if(l===i){o=-1;break}if(l>i){o=s-1;break}}}for(;s<e.length;){const l=e[s];if("number"==typeof l)break;if(l===t){if(null===n)return void(null!==r&&(e[s+1]=r));if(n===e[s+1])return void(e[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,i),s=o+1),e.splice(s++,0,t),null!==n&&e.splice(s++,0,n),null!==r&&e.splice(s++,0,r)}const c3="ng-template";function yrt(e,i,t,n){let r=0;if(n){for(;r<i.length&&"string"==typeof i[r];r+=2)if("class"===i[r]&&-1!==xrt(i[r+1].toLowerCase(),t,0))return!0}else if(m2(e))return!1;if(r=i.indexOf(1,r),r>-1){let s;for(;++r<i.length&&"string"==typeof(s=i[r]);)if(s.toLowerCase()===t)return!0}return!1}function m2(e){return 4===e.type&&e.value!==c3}function brt(e,i,t){return i===(4!==e.type||t?e.value:c3)}function wrt(e,i,t){let n=4;const r=e.attrs,s=null!==r?function Crt(e){for(let i=0;i<e.length;i++)if(a3(e[i]))return i;return e.length}(r):0;let o=!1;for(let l=0;l<i.length;l++){const w=i[l];if("number"!=typeof w){if(!o)if(4&n){if(n=2|1&n,""!==w&&!brt(e,w,t)||""===w&&1===i.length){if(vc(n))return!1;o=!0}}else if(8&n){if(null===r||!yrt(e,r,w,t)){if(vc(n))return!1;o=!0}}else{const S=i[++l],M=_rt(w,r,m2(e),t);if(-1===M){if(vc(n))return!1;o=!0;continue}if(""!==S){let P;if(P=M>s?"":r[M+1].toLowerCase(),2&n&&S!==P){if(vc(n))return!1;o=!0}}}}else{if(!o&&!vc(n)&&!vc(w))return!1;if(o&&vc(w))continue;o=!1,n=w|1&n}}return vc(n)||o}function vc(e){return!(1&e)}function _rt(e,i,t,n){if(null===i)return-1;let r=0;if(n||!t){let s=!1;for(;r<i.length;){const o=i[r];if(o===e)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let l=i[++r];for(;"string"==typeof l;)l=i[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function Srt(e,i){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const n=e[t];if("number"==typeof n)return-1;if(n===i)return t;t++}return-1}(i,e)}function d3(e,i,t=!1){for(let n=0;n<i.length;n++)if(wrt(e,i[n],t))return!0;return!1}function Ert(e,i){t:for(let t=0;t<i.length;t++){const n=i[t];if(e.length===n.length){for(let r=0;r<e.length;r++)if(e[r]!==n[r])continue t;return!0}}return!1}function u3(e,i){return e?":not("+i.trim()+")":i}function Art(e){let i=e[0],t=1,n=2,r="",s=!1;for(;t<e.length;){let o=e[t];if("string"==typeof o)if(2&n){const l=e[++t];r+="["+o+(l.length>0?'="'+l+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""!==r&&!vc(o)&&(i+=u3(s,r),r=""),n=o,s=s||!vc(n);t++}return""!==r&&(i+=u3(s,r)),i}function Qe(e){return Bd(()=>{const i=f3(e),t={...i,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ww.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||gc.Emulated,styles:e.styles||tr,_:null,schemas:e.schemas||null,tView:null,id:""};m3(t);const n=e.dependencies;return t.directiveDefs=_w(n,!1),t.pipeDefs=_w(n,!0),t.id=function Prt(e){let i=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of t)i=Math.imul(31,i)+r.charCodeAt(0)|0;return i+=2147483648,"c"+i}(t),t})}function Irt(e){return Rn(e)||sa(e)}function krt(e){return null!==e}function zi(e){return Bd(()=>({type:e.type,bootstrap:e.bootstrap||tr,declarations:e.declarations||tr,imports:e.imports||tr,exports:e.exports||tr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function h3(e,i){if(null==e)return Hc;const t={};for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];let s,o,l=$t.None;Array.isArray(r)?(l=r[0],s=r[1],o=r[2]??s):(s=r,o=r),i?(t[s]=l!==$t.None?[n,l]:n,i[s]=o):t[s]=n}return t}function me(e){return Bd(()=>{const i=f3(e);return m3(i),i})}function Ja(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Rn(e){return e[F0]||null}function sa(e){return e[r2]||null}function Va(e){return e[s2]||null}function qa(e,i){const t=e[Q4]||null;if(!t&&!0===i)throw new Error(`Type ${ra(e)} does not have '\u0275mod' property.`);return t}function f3(e){const i={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:e.inputs||Hc,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||tr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:h3(e.inputs,i),outputs:h3(e.outputs),debugInfo:null}}function m3(e){e.features?.forEach(i=>i(e))}function _w(e,i){if(!e)return null;const t=i?Va:Irt;return()=>("function"==typeof e?e():e).map(n=>t(n)).filter(krt)}function Frt(...e){return{\u0275providers:p2(0,e),\u0275fromNgModule:!0}}function p2(e,...i){const t=[],n=new Set;let r;const s=o=>{t.push(o)};return Rp(i,o=>{const l=o;Tw(l,s,[],n)&&(r||=[],r.push(l))}),void 0!==r&&p3(r,s),t}function p3(e,i){for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];g2(r,s=>{i(s,n)})}}function Tw(e,i,t,n){if(!(e=Yi(e)))return!1;let r=null,s=mw(e);const o=!s&&Rn(e);if(s||o){if(o&&!o.standalone)return!1;r=e}else{const w=e.ngModule;if(s=mw(w),!s)return!1;r=w}const l=n.has(r);if(o){if(l)return!1;if(n.add(r),o.dependencies){const w="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const S of w)Tw(S,i,t,n)}}else{if(!s)return!1;{if(null!=s.imports&&!l){let S;n.add(r);try{Rp(s.imports,M=>{Tw(M,i,t,n)&&(S||=[],S.push(M))})}finally{}void 0!==S&&p3(S,i)}if(!l){const S=Sf(r)||(()=>new r);i({provide:r,useFactory:S,deps:tr},r),i({provide:h2,useValue:r,multi:!0},r),i({provide:Ef,useValue:()=>ne(r),multi:!0},r)}const w=s.providers;if(null!=w&&!l){const S=e;g2(w,M=>{i(M,S)})}}}return r!==e&&void 0!==e.providers}function g2(e,i){for(let t of e)n2(t)&&(t=t.\u0275providers),Array.isArray(t)?g2(t,i):i(t)}const Ort=Tr({provide:String,useValue:Tr});function v2(e){return null!==e&&"object"==typeof e&&Ort in e}function Af(e){return"function"==typeof e}const x2=new se(""),Cw={},Nrt={};let y2;function Sw(){return void 0===y2&&(y2=new bw),y2}class Qo{}class Fp extends Qo{get destroyed(){return this._destroyed}constructor(i,t,n,r){super(),this.parent=t,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,w2(i,o=>this.processProvider(o)),this.records.set(s3,Op(void 0,this)),r.has("environment")&&this.records.set(Qo,Op(void 0,this));const s=this.records.get(x2);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(h2,tr,zn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const i=m(null);try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),m(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const t=ih(this),n=Yo(void 0);try{return i()}finally{ih(t),Yo(n)}}get(i,t=L0,n=zn.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(K4))return i[K4](this);n=vw(n);const s=ih(this),o=Yo(void 0);try{if(!(n&zn.SkipSelf)){let w=this.records.get(i);if(void 0===w){const S=function Grt(e){return"function"==typeof e||"object"==typeof e&&e instanceof se}(i)&&fw(i);w=S&&this.injectableDefInScope(S)?Op(b2(i),Cw):null,this.records.set(i,w)}if(null!=w)return this.hydrate(i,w)}return(n&zn.Self?Sw():this.parent).get(i,t=n&zn.Optional&&t===L0?null:t)}catch(l){if("NullInjectorError"===l.name){if((l[gw]=l[gw]||[]).unshift(ra(i)),s)throw l;return function hrt(e,i,t,n){const r=e[gw];throw i[q4]&&r.unshift(i[q4]),e.message=function frt(e,i,t,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=ra(i);if(Array.isArray(i))r=i.map(ra).join(" -> ");else if("object"==typeof i){let s=[];for(let o in i)if(i.hasOwnProperty(o)){let l=i[o];s.push(o+":"+("string"==typeof l?JSON.stringify(l):ra(l)))}r=`{${s.join(", ")}}`}return`${t}${n?"("+n+")":""}[${r}]: ${e.replace(ort,"\n  ")}`}("\n"+e.message,r,t,n),e.ngTokenPath=r,e[gw]=null,e}(l,i,"R3InjectorError",this.source)}throw l}finally{Yo(o),ih(s)}}resolveInjectorInitializers(){const i=m(null),t=ih(this),n=Yo(void 0);try{const s=this.get(Ef,tr,zn.Self);for(const o of s)o()}finally{ih(t),Yo(n),m(i)}}toString(){const i=[],t=this.records;for(const n of t.keys())i.push(ra(n));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(i){let t=Af(i=Yi(i))?i:Yi(i&&i.provide);const n=function Vrt(e){return v2(e)?Op(void 0,e.useValue):Op(x3(e),Cw)}(i);if(!Af(i)&&!0===i.multi){let r=this.records.get(t);r||(r=Op(void 0,Cw,!0),r.factory=()=>c2(r.multi),this.records.set(t,r)),t=i,r.multi.push(i)}this.records.set(t,n)}hydrate(i,t){const n=m(null);try{return t.value===Cw&&(t.value=Nrt,t.value=t.factory()),"object"==typeof t.value&&t.value&&function zrt(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{m(n)}}injectableDefInScope(i){if(!i.providedIn)return!1;const t=Yi(i.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(i){const t=this._onDestroyHooks.indexOf(i);-1!==t&&this._onDestroyHooks.splice(t,1)}}function b2(e){const i=fw(e),t=null!==i?i.factory:Sf(e);if(null!==t)return t;if(e instanceof se)throw new pe(204,!1);if(e instanceof Function)return function Brt(e){if(e.length>0)throw new pe(204,!1);const t=function trt(e){return e&&(e[pw]||e[Y4])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new pe(204,!1)}function x3(e,i,t){let n;if(Af(e)){const r=Yi(e);return Sf(r)||b2(r)}if(v2(e))n=()=>Yi(e.useValue);else if(function v3(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...c2(e.deps||[]));else if(function g3(e){return!(!e||!e.useExisting)}(e))n=()=>ne(Yi(e.useExisting));else{const r=Yi(e&&(e.useClass||e.provide));if(!function Urt(e){return!!e.deps}(e))return Sf(r)||b2(r);n=()=>new r(...c2(e.deps))}return n}function Op(e,i,t=!1){return{factory:e,value:i,multi:t?[]:void 0}}function w2(e,i){for(const t of e)Array.isArray(t)?w2(t,i):t&&n2(t)?w2(t.\u0275providers,i):i(t)}function Wc(e,i){e instanceof Fp&&e.assertNotDestroyed();const n=ih(e),r=Yo(void 0);try{return i()}finally{ih(n),Yo(r)}}function y3(){return void 0!==Z4()||null!=function crt(){return kp}()}function Ew(e){if(!y3())throw new pe(-203,!1)}const as=0,ni=1,Vi=2,Ds=3,xc=4,to=5,ml=6,Np=7,zr=8,Ua=9,yc=10,qi=11,z0=12,w3=13,Bp=14,ps=15,G0=16,Vp=17,zd=18,H0=19,_3=20,rh=21,Dw=22,Df=23,fn=25,T2=1,jc=7,Up=9,Ms=10;var C2=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(C2||{});function eo(e){return Array.isArray(e)&&"object"==typeof e[T2]}function io(e){return Array.isArray(e)&&!0===e[T2]}function S2(e){return!!(4&e.flags)}function Mf(e){return e.componentOffset>-1}function Iw(e){return!(1&~e.flags)}function bc(e){return!!e.template}function E2(e){return!!(512&e[Vi])}class est{constructor(i,t,n){this.previousValue=i,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function E3(e,i,t,n){null!==i?i.applyValueToInputSignal(i,n):e[t]=n}function ar(){return A3}function A3(e){return e.type.prototype.ngOnChanges&&(e.setInput=nst),ist}function ist(){const e=M3(this),i=e?.current;if(i){const t=e.previous;if(t===Hc)e.previous=i;else for(let n in i)t[n]=i[n];e.current=null,this.ngOnChanges(i)}}function nst(e,i,t,n,r){const s=this.declaredInputs[n],o=M3(e)||function rst(e,i){return e[D3]=i}(e,{previous:Hc,current:null}),l=o.current||(o.current={}),w=o.previous,S=w[s];l[s]=new est(S&&S.currentValue,t,w===Hc),E3(e,i,r,t)}ar.ngInherit=!0;const D3="__ngSimpleChanges__";function M3(e){return e[D3]||null}const Xc=function(e,i,t){},I3="svg";let R3=!1;function Ir(e){for(;Array.isArray(e);)e=e[as];return e}function j0(e,i){return Ir(i[e])}function Ro(e,i){return Ir(i[e.index])}function X0(e,i){return e.data[i]}function zp(e,i){return e[i]}function pl(e,i){const t=i[e];return eo(t)?t:t[as]}function k2(e){return!(128&~e[Vi])}function Yc(e,i){return null==i?null:e[i]}function P3(e){e[Vp]=0}function dst(e){1024&e[Vi]||(e[Vi]|=1024,k2(e)&&Y0(e))}function R2(e){return!!(9216&e[Vi]||e[Df]?.dirty)}function P2(e){e[yc].changeDetectionScheduler?.notify(1),R2(e)?Y0(e):64&e[Vi]&&(function ast(){return R3}()?(e[Vi]|=1024,Y0(e)):e[yc].changeDetectionScheduler?.notify())}function Y0(e){e[yc].changeDetectionScheduler?.notify();let i=If(e);for(;null!==i&&!(8192&i[Vi])&&(i[Vi]|=8192,k2(i));)i=If(i)}function kw(e,i){if(!(256&~e[Vi]))throw new pe(911,!1);null===e[rh]&&(e[rh]=[]),e[rh].push(i)}function If(e){const i=e[Ds];return io(i)?i[Ds]:i}const tn={lFrame:H3(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function L3(){return tn.bindingsEnabled}function Gp(){return null!==tn.skipHydrationRootTNode}function Se(){return tn.lFrame.lView}function Gn(){return tn.lFrame.tView}function Gt(e){return tn.lFrame.contextLView=e,e[zr]}function Ht(e){return tn.lFrame.contextLView=null,e}function Cr(){let e=N3();for(;null!==e&&64===e.type;)e=e.parent;return e}function N3(){return tn.lFrame.currentTNode}function $c(e,i){const t=tn.lFrame;t.currentTNode=e,t.isParent=i}function O2(){return tn.lFrame.isParent}function L2(){tn.lFrame.isParent=!1}function Po(){const e=tn.lFrame;let i=e.bindingRootIndex;return-1===i&&(i=e.bindingRootIndex=e.tView.bindingStartIndex),i}function Gd(){return tn.lFrame.bindingIndex}function wc(){return tn.lFrame.bindingIndex++}function Hd(e){const i=tn.lFrame,t=i.bindingIndex;return i.bindingIndex=i.bindingIndex+e,t}function wst(e,i){const t=tn.lFrame;t.bindingIndex=t.bindingRootIndex=e,N2(i)}function N2(e){tn.lFrame.currentDirectiveIndex=e}function B2(e){const i=tn.lFrame.currentDirectiveIndex;return-1===i?null:e[i]}function V2(){return tn.lFrame.currentQueryIndex}function Rw(e){tn.lFrame.currentQueryIndex=e}function Tst(e){const i=e[ni];return 2===i.type?i.declTNode:1===i.type?e[to]:null}function z3(e,i,t){if(t&zn.SkipSelf){let r=i,s=e;for(;!(r=r.parent,null!==r||t&zn.Host||(r=Tst(s),null===r||(s=s[Bp],10&r.type))););if(null===r)return!1;i=r,e=s}const n=tn.lFrame=G3();return n.currentTNode=i,n.lView=e,!0}function U2(e){const i=G3(),t=e[ni];tn.lFrame=i,i.currentTNode=t.firstChild,i.lView=e,i.tView=t,i.contextLView=e,i.bindingIndex=t.bindingStartIndex,i.inI18n=!1}function G3(){const e=tn.lFrame,i=null===e?null:e.child;return null===i?H3(e):i}function H3(e){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=i),i}function W3(){const e=tn.lFrame;return tn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const j3=W3;function z2(){const e=W3();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function no(){return tn.lFrame.selectedIndex}function kf(e){tn.lFrame.selectedIndex=e}function Gr(){const e=tn.lFrame;return X0(e.tView,e.selectedIndex)}function gl(){tn.lFrame.currentNamespace=I3}function Q0(){!function Est(){tn.lFrame.currentNamespace=null}()}let Y3=!0;function K0(){return Y3}function Qc(e){Y3=e}function Pw(e,i){for(let t=i.directiveStart,n=i.directiveEnd;t<n;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:l,ngAfterViewInit:w,ngAfterViewChecked:S,ngOnDestroy:M}=s;o&&(e.contentHooks??=[]).push(-t,o),l&&((e.contentHooks??=[]).push(t,l),(e.contentCheckHooks??=[]).push(t,l)),w&&(e.viewHooks??=[]).push(-t,w),S&&((e.viewHooks??=[]).push(t,S),(e.viewCheckHooks??=[]).push(t,S)),null!=M&&(e.destroyHooks??=[]).push(t,M)}}function Fw(e,i,t){$3(e,i,3,t)}function Ow(e,i,t,n){(3&e[Vi])===t&&$3(e,i,t,n)}function G2(e,i){let t=e[Vi];(3&t)===i&&(t&=16383,t+=1,e[Vi]=t)}function $3(e,i,t,n){const s=n??-1,o=i.length-1;let l=0;for(let w=void 0!==n?65535&e[Vp]:0;w<o;w++)if("number"==typeof i[w+1]){if(l=i[w],null!=n&&l>=n)break}else i[w]<0&&(e[Vp]+=65536),(l<s||-1==s)&&(Dst(e,t,i,w),e[Vp]=(4294901760&e[Vp])+w+2),w++}function Q3(e,i){Xc(4,e,i);const t=m(null);try{i.call(e)}finally{m(t),Xc(5,e,i)}}function Dst(e,i,t,n){const r=t[n]<0,s=t[n+1],l=e[r?-t[n]:t[n]];r?e[Vi]>>14<e[Vp]>>16&&(3&e[Vi])===i&&(e[Vi]+=16384,Q3(l,s)):Q3(l,s)}const Hp=-1;class Z0{constructor(i,t,n){this.factory=i,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function W2(e){return e!==Hp}function J0(e){return 32767&e}function q0(e,i){let t=function Pst(e){return e>>16}(e),n=i;for(;t>0;)n=n[Bp],t--;return n}let j2=!0;function Lw(e){const i=j2;return j2=e,i}const K3=255,Z3=5;let Fst=0;const Kc={};function Nw(e,i){const t=J3(e,i);if(-1!==t)return t;const n=i[ni];n.firstCreatePass&&(e.injectorIndex=i.length,X2(n.data,e),X2(i,null),X2(n.blueprint,null));const r=Bw(e,i),s=e.injectorIndex;if(W2(r)){const o=J0(r),l=q0(r,i),w=l[ni].data;for(let S=0;S<8;S++)i[s+S]=l[o+S]|w[o+S]}return i[s+8]=r,s}function X2(e,i){e.push(0,0,0,0,0,0,0,0,i)}function J3(e,i){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===i[e.injectorIndex+8]?-1:e.injectorIndex}function Bw(e,i){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,n=null,r=i;for(;null!==r;){if(n=sB(r),null===n)return Hp;if(t++,r=r[Bp],-1!==n.injectorIndex)return n.injectorIndex|t<<16}return Hp}function Y2(e,i,t){!function Ost(e,i,t){let n;"string"==typeof t?n=t.charCodeAt(0)||0:t.hasOwnProperty(O0)&&(n=t[O0]),null==n&&(n=t[O0]=Fst++);const r=n&K3;i.data[e+(r>>Z3)]|=1<<r}(e,i,t)}function q3(e,i,t){if(t&zn.Optional||void 0!==e)return e;a2()}function tB(e,i,t,n){if(t&zn.Optional&&void 0===n&&(n=null),!(t&(zn.Self|zn.Host))){const r=e[Ua],s=Yo(void 0);try{return r?r.get(i,n,t&zn.Optional):J4(i,n,t&zn.Optional)}finally{Yo(s)}}return q3(n,0,t)}function eB(e,i,t,n=zn.Default,r){if(null!==e){if(2048&i[Vi]&&!(n&zn.Self)){const o=function Ust(e,i,t,n,r){let s=e,o=i;for(;null!==s&&null!==o&&2048&o[Vi]&&!(512&o[Vi]);){const l=iB(s,o,t,n|zn.Self,Kc);if(l!==Kc)return l;let w=s.parent;if(!w){const S=o[_3];if(S){const M=S.get(t,Kc,n);if(M!==Kc)return M}w=sB(o),o=o[Bp]}s=w}return r}(e,i,t,n,Kc);if(o!==Kc)return o}const s=iB(e,i,t,n,Kc);if(s!==Kc)return s}return tB(i,t,n,r)}function iB(e,i,t,n,r){const s=function Bst(e){if("string"==typeof e)return e.charCodeAt(0)||0;const i=e.hasOwnProperty(O0)?e[O0]:void 0;return"number"==typeof i?i>=0?i&K3:Vst:i}(t);if("function"==typeof s){if(!z3(i,e,n))return n&zn.Host?q3(r,0,n):tB(i,t,n,r);try{let o;if(o=s(n),null!=o||n&zn.Optional)return o;a2()}finally{j3()}}else if("number"==typeof s){let o=null,l=J3(e,i),w=Hp,S=n&zn.Host?i[ps][to]:null;for((-1===l||n&zn.SkipSelf)&&(w=-1===l?Bw(e,i):i[l+8],w!==Hp&&rB(n,!1)?(o=i[ni],l=J0(w),i=q0(w,i)):l=-1);-1!==l;){const M=i[ni];if(nB(s,l,M.data)){const P=Nst(l,i,t,o,n,S);if(P!==Kc)return P}w=i[l+8],w!==Hp&&rB(n,i[ni].data[l+8]===S)&&nB(s,l,i)?(o=M,l=J0(w),i=q0(w,i)):l=-1}}return r}function Nst(e,i,t,n,r,s){const o=i[ni],l=o.data[e+8],M=Vw(l,o,t,null==n?Mf(l)&&j2:n!=o&&!!(3&l.type),r&zn.Host&&s===l);return null!==M?Rf(i,o,M,l):Kc}function Vw(e,i,t,n,r){const s=e.providerIndexes,o=i.data,l=1048575&s,w=e.directiveStart,M=s>>20,O=r?l+M:e.directiveEnd;for(let N=n?l:l+M;N<O;N++){const U=o[N];if(N<w&&t===U||N>=w&&U.type===t)return N}if(r){const N=o[w];if(N&&bc(N)&&N.type===t)return w}return null}function Rf(e,i,t,n){let r=e[t];const s=i.data;if(function Mst(e){return e instanceof Z0}(r)){const o=r;o.resolving&&function rrt(e,i){throw i&&i.join(" > "),new pe(-200,e)}(function ur(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():hn(e)}(s[t]));const l=Lw(o.canSeeViewProviders);o.resolving=!0;const S=o.injectImpl?Yo(o.injectImpl):null;z3(e,n,zn.Default);try{r=e[t]=o.factory(void 0,s,e,n),i.firstCreatePass&&t>=n.directiveStart&&function Ast(e,i,t){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=i.type.prototype;if(n){const o=A3(i);(t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o)}r&&(t.preOrderHooks??=[]).push(0-e,r),s&&((t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s))}(t,s[t],i)}finally{null!==S&&Yo(S),Lw(l),o.resolving=!1,j3()}}return r}function nB(e,i,t){return!!(t[i+(e>>Z3)]&1<<e)}function rB(e,i){return!(e&zn.Self||e&zn.Host&&i)}class oa{constructor(i,t){this._tNode=i,this._lView=t}get(i,t,n){return eB(this._tNode,this._lView,i,vw(n),t)}}function Vst(){return new oa(Cr(),Se())}function Dn(e){return Bd(()=>{const i=e.prototype.constructor,t=i[Vd]||$2(i),n=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==n;){const s=r[Vd]||$2(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function $2(e){return hw(e)?()=>{const i=$2(Yi(e));return i&&i()}:Sf(e)}function sB(e){const i=e[ni],t=i.type;return 2===t?i.declTNode:1===t?e[to]:null}function vl(e){return function Lst(e,i){if("class"===i)return e.classes;if("style"===i)return e.styles;const t=e.attrs;if(t){const n=t.length;let r=0;for(;r<n;){const s=t[r];if(a3(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<n&&"string"==typeof t[r];)r++;else{if(s===i)return t[r+1];r+=2}}}return null}(Cr(),e)}function dB(e,i=null,t=null,n){const r=uB(e,i,t,n);return r.resolveInjectorInitializers(),r}function uB(e,i=null,t=null,n,r=new Set){const s=[t||tr,Frt(e)];return n=n||("object"==typeof e?void 0:ra(e)),new Fp(s,i||Sw(),n||null,r)}let os=(()=>{class e{static#t=this.THROW_IF_NOT_FOUND=L0;static#e=this.NULL=new bw;static create(t,n){if(Array.isArray(t))return dB({name:""},n,t,"");{const r=t.name??"";return dB({name:r},t.parent,t.providers,r)}}static#i=this.\u0275prov=ke({token:e,providedIn:"any",factory:()=>ne(s3)});static#n=this.__NG_ELEMENT_ID__=-1}return e})();function K2(e){return e.ngOriginalError}class xl{constructor(){this._console=console}handleError(i){const t=this._findOriginalError(i);this._console.error("ERROR",i),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(i){let t=i&&K2(i);for(;t&&K2(t);)t=K2(t);return t||null}}const fB=new se("",{providedIn:"root",factory:()=>xe(xl).handleError.bind(void 0)});let Xp=(()=>{class e{static#t=this.__NG_ELEMENT_ID__=Qst;static#e=this.__NG_ENV_ID__=t=>t}return e})();class $st extends Xp{constructor(i){super(),this._lView=i}onDestroy(i){return kw(this._lView,i),()=>function F2(e,i){if(null===e[rh])return;const t=e[rh].indexOf(i);-1!==t&&e[rh].splice(t,1)}(this._lView,i)}}function Qst(){return new $st(Se())}function Kst(){return Yp(Cr(),Se())}function Yp(e,i){return new oi(Ro(e,i))}let oi=(()=>{class e{constructor(t){this.nativeElement=t}static#t=this.__NG_ELEMENT_ID__=Kst}return e})();function pB(e){return e instanceof oi?e.nativeElement:e}function Z2(e){return i=>{setTimeout(e,void 0,i)}}const Fe=class Zst extends Ne{constructor(i=!1){super(),this.destroyRef=void 0,this.__isAsync=i,y3()&&(this.destroyRef=xe(Xp,{optional:!0})??void 0)}emit(i){const t=m(null);try{super.next(i)}finally{m(t)}}subscribe(i,t,n){let r=i,s=t||(()=>null),o=n;if(i&&"object"==typeof i){const w=i;r=w.next?.bind(w),s=w.error?.bind(w),o=w.complete?.bind(w)}this.__isAsync&&(s=Z2(s),r&&(r=Z2(r)),o&&(o=Z2(o)));const l=super.subscribe({next:r,error:s,complete:o});return i instanceof Re&&i.add(l),l}};function Jst(){return this._results[Symbol.iterator]()}class sh{static#t=Symbol.iterator;get changes(){return this._changes??=new Fe}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=sh.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Jst)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,t){return this._results.reduce(i,t)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,t){this.dirty=!1;const n=function $o(e){return e.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function vrt(e,i,t){if(e.length!==i.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],s=i[n];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function zw(e){return!(128&~e.flags)}const J2=new Map;let tat=0;const tD="__ngContext__";function ro(e,i){eo(i)?(e[tD]=i[H0],function iat(e){J2.set(e[H0],e)}(i)):e[tD]=i}function SB(e){return AB(e[z0])}function EB(e){return AB(e[xc])}function AB(e){for(;null!==e&&!io(e);)e=e[xc];return e}let eD;function ah(){if(void 0!==eD)return eD;if(typeof document<"u")return document;throw new pe(210,!1)}const ix=new se("",{providedIn:"root",factory:()=>bat}),bat="ng",OB=new se(""),Wd=new se("",{providedIn:"platform",factory:()=>"unknown"}),Hr=new se(""),iD=new se("",{providedIn:"root",factory:()=>ah().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let LB=()=>null;function dD(e,i,t=!1){return LB(e,i,t)}const zB=new se("",{providedIn:"root",factory:()=>!1});let Kw,Zw;function Kp(e){return function mD(){if(void 0===Kw&&(Kw=null,vr.trustedTypes))try{Kw=vr.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Kw}()?.createHTML(e)||e}function HB(e){return function pD(){if(void 0===Zw&&(Zw=null,vr.trustedTypes))try{Zw=vr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Zw}()?.createHTML(e)||e}class Pf{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${G4})`}}class Fat extends Pf{getTypeName(){return"HTML"}}class Oat extends Pf{getTypeName(){return"Style"}}class Lat extends Pf{getTypeName(){return"Script"}}class Nat extends Pf{getTypeName(){return"URL"}}class Bat extends Pf{getTypeName(){return"ResourceURL"}}function yl(e){return e instanceof Pf?e.changingThisBreaksApplicationSecurity:e}function Zc(e,i){const t=function Vat(e){return e instanceof Pf&&e.getTypeName()||null}(e);if(null!=t&&t!==i){if("ResourceURL"===t&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${t} (see ${G4})`)}return t===i}class jat{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const t=(new window.DOMParser).parseFromString(Kp(i),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(i):(t.removeChild(t.firstChild),t)}catch{return null}}}class Xat{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const t=this.inertDocument.createElement("template");return t.innerHTML=Kp(i),t}}const $at=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jw(e){return(e=String(e)).match($at)?e:"unsafe:"+e}function jd(e){const i={};for(const t of e.split(","))i[t]=!0;return i}function ox(...e){const i={};for(const t of e)for(const n in t)t.hasOwnProperty(n)&&(i[n]=!0);return i}const YB=jd("area,br,col,hr,img,wbr"),$B=jd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),QB=jd("rp,rt"),gD=ox(YB,ox($B,jd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ox(QB,jd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ox(QB,$B)),vD=jd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),KB=ox(vD,jd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),jd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qat=jd("script,style,template");class Kat{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let t=i.firstChild,n=!0,r=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)r.push(t),t=qat(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=Jat(t);if(s){t=s;break}t=r.pop()}return this.buf.join("")}startElement(i){const t=ZB(i).toLowerCase();if(!gD.hasOwnProperty(t))return this.sanitizedSomething=!0,!Qat.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=i.attributes;for(let r=0;r<n.length;r++){const s=n.item(r),o=s.name,l=o.toLowerCase();if(!KB.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let w=s.value;vD[l]&&(w=Jw(w)),this.buf.push(" ",o,'="',qB(w),'"')}return this.buf.push(">"),!0}endElement(i){const t=ZB(i).toLowerCase();gD.hasOwnProperty(t)&&!YB.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(i){this.buf.push(qB(i))}}function Jat(e){const i=e.nextSibling;if(i&&e!==i.previousSibling)throw JB(i);return i}function qat(e){const i=e.firstChild;if(i&&function Zat(e,i){return(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,i))throw JB(i);return i}function ZB(e){const i=e.nodeName;return"string"==typeof i?i:"FORM"}function JB(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const tot=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eot=/([^\#-~ |!])/g;function qB(e){return e.replace(/&/g,"&amp;").replace(tot,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(eot,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qw;function t5(e,i){let t=null;try{qw=qw||function XB(e){const i=new Xat(e);return function Yat(){try{return!!(new window.DOMParser).parseFromString(Kp(""),"text/html")}catch{return!1}}()?new jat(i):i}(e);let n=i?String(i):"";t=qw.getInertBodyElement(n);let r=5,s=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=t.innerHTML,t=qw.getInertBodyElement(n)}while(n!==s);return Kp((new Kat).sanitizeChildren(xD(t)||t))}finally{if(t){const n=xD(t)||t;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function xD(e){return"content"in e&&function iot(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var za=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(za||{});function Ff(e){const i=cx();return i?HB(i.sanitize(za.HTML,e)||""):Zc(e,"HTML")?HB(yl(e)):t5(ah(),hn(e))}function lx(e){const i=cx();return i?i.sanitize(za.URL,e)||"":Zc(e,"URL")?yl(e):Jw(hn(e))}function cx(){const e=Se();return e&&e[yc].sanitizer}const lot=/^>|^->|<!--|-->|--!>|<!-$/g,cot=/(<|>)/g,dot="\u200b$1\u200b";function bl(e){return e instanceof Function?e():e}var lh=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(lh||{});let _D;function TD(e,i){return _D(e,i)}function Jp(e,i,t,n,r){if(null!=n){let s,o=!1;io(n)?s=n:eo(n)&&(o=!0,n=n[as]);const l=Ir(n);0===e&&null!==t?null==r?m5(i,t,l):Of(i,t,l,r||null,!0):1===e&&null!==t?Of(i,t,l,r||null,!0):2===e?function hx(e,i,t){const n=r_(e,i);n&&function Mot(e,i,t,n){e.removeChild(i,t,n)}(e,n,i,t)}(i,l,o):3===e&&i.destroyNode(l),null!=s&&function Rot(e,i,t,n,r){const s=t[jc];s!==Ir(t)&&Jp(i,e,n,s,r);for(let l=Ms;l<t.length;l++){const w=t[l];a_(w[ni],w,e,i,n,s)}}(i,e,s,t,r)}}function SD(e,i){return e.createComment(function n5(e){return e.replace(lot,i=>i.replace(cot,dot))}(i))}function i_(e,i,t){return e.createElement(i,t)}function u5(e,i){i[yc].changeDetectionScheduler?.notify(1),a_(e,i,i[qi],2,null,null)}function h5(e,i){const t=e[Up],n=t.indexOf(i);t.splice(n,1)}function dx(e,i){if(e.length<=Ms)return;const t=Ms+i,n=e[t];if(n){const r=n[G0];null!==r&&r!==e&&h5(r,n),i>0&&(e[t-1][xc]=n[xc]);const s=xw(e,Ms+i);!function _ot(e,i){u5(e,i),i[as]=null,i[to]=null}(n[ni],n);const o=s[zd];null!==o&&o.detachView(s[ni]),n[Ds]=null,n[xc]=null,n[Vi]&=-129}return n}function n_(e,i){if(!(256&i[Vi])){const t=i[qi];t.destroyNode&&a_(e,i,t,3,null,null),function Cot(e){let i=e[z0];if(!i)return ED(e[ni],e);for(;i;){let t=null;if(eo(i))t=i[z0];else{const n=i[Ms];n&&(t=n)}if(!t){for(;i&&!i[xc]&&i!==e;)eo(i)&&ED(i[ni],i),i=i[Ds];null===i&&(i=e),eo(i)&&ED(i[ni],i),t=i&&i[xc]}i=t}}(i)}}function ED(e,i){if(256&i[Vi])return;const t=m(null);try{i[Vi]&=-129,i[Vi]|=256,i[Df]&&D(i[Df]),function Dot(e,i){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let n=0;n<t.length;n+=2){const r=i[t[n]];if(!(r instanceof Z0)){const s=t[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const l=r[s[o]],w=s[o+1];Xc(4,l,w);try{w.call(l)}finally{Xc(5,l,w)}}else{Xc(4,r,s);try{s.call(r)}finally{Xc(5,r,s)}}}}}(e,i),function Aot(e,i){const t=e.cleanup,n=i[Np];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else t[s].call(n[t[s+1]]);null!==n&&(i[Np]=null);const r=i[rh];if(null!==r){i[rh]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(e,i),1===i[ni].type&&i[qi].destroy();const n=i[G0];if(null!==n&&io(i[Ds])){n!==i[Ds]&&h5(n,i);const r=i[zd];null!==r&&r.detachView(e)}!function nat(e){J2.delete(e[H0])}(i)}finally{m(t)}}function AD(e,i,t){return function f5(e,i,t){let n=i;for(;null!==n&&40&n.type;)n=(i=n).parent;if(null===n)return t[as];{const{componentOffset:r}=n;if(r>-1){const{encapsulation:s}=e.data[n.directiveStart+r];if(s===gc.None||s===gc.Emulated)return null}return Ro(n,t)}}(e,i.parent,t)}function Of(e,i,t,n,r){e.insertBefore(i,t,n,r)}function m5(e,i,t){e.appendChild(i,t)}function p5(e,i,t,n,r){null!==n?Of(e,i,t,n,r):m5(e,i,t)}function r_(e,i){return e.parentNode(i)}function g5(e,i,t){return x5(e,i,t)}let DD,x5=function v5(e,i,t){return 40&e.type?Ro(e,t):null};function s_(e,i,t,n){const r=AD(e,n,i),s=i[qi],l=g5(n.parent||i[to],n,i);if(null!=r)if(Array.isArray(t))for(let w=0;w<t.length;w++)p5(s,r,t[w],l,!1);else p5(s,r,t,l,!1);void 0!==DD&&DD(s,n,i,t,r)}function ux(e,i){if(null!==i){const t=i.type;if(3&t)return Ro(i,e);if(4&t)return MD(-1,e[i.index]);if(8&t){const n=i.child;if(null!==n)return ux(e,n);{const r=e[i.index];return io(r)?MD(-1,r):Ir(r)}}if(32&t)return TD(i,e)()||Ir(e[i.index]);{const n=b5(e,i);return null!==n?Array.isArray(n)?n[0]:ux(If(e[ps]),n):ux(e,i.next)}}return null}function b5(e,i){return null!==i?e[ps][to].projection[i.projection]:null}function MD(e,i){const t=Ms+e+1;if(t<i.length){const n=i[t],r=n[ni].firstChild;if(null!==r)return ux(n,r)}return i[jc]}function ID(e,i,t,n,r,s,o){for(;null!=t;){const l=n[t.index],w=t.type;if(o&&0===i&&(l&&ro(Ir(l),n),t.flags|=2),32&~t.flags)if(8&w)ID(e,i,t.child,n,r,s,!1),Jp(i,e,r,l,s);else if(32&w){const S=TD(t,n);let M;for(;M=S();)Jp(i,e,r,M,s);Jp(i,e,r,l,s)}else 16&w?_5(e,i,n,t,r,s):Jp(i,e,r,l,s);t=o?t.projectionNext:t.next}}function a_(e,i,t,n,r,s){ID(t,n,e.firstChild,i,r,s,!1)}function _5(e,i,t,n,r,s){const o=t[ps],w=o[to].projection[n.projection];if(Array.isArray(w))for(let S=0;S<w.length;S++)Jp(i,e,r,w[S],s);else{let S=w;const M=o[Ds];zw(n)&&(S.flags|=128),ID(e,i,S,M,r,s,!0)}}function T5(e,i,t){""===t?e.removeAttribute(i,"class"):e.setAttribute(i,"class",t)}function C5(e,i,t){const{mergedAttrs:n,classes:r,styles:s}=t;null!==n&&f2(e,i,n),null!==r&&T5(e,i,r),null!==s&&function Fot(e,i,t){e.setAttribute(i,"style",t)}(e,i,s)}const pn={};function ot(e=1){S5(Gn(),Se(),no()+e,!1)}function S5(e,i,t,n){if(!n)if(3&~i[Vi]){const s=e.preOrderHooks;null!==s&&Ow(i,s,0,t)}else{const s=e.preOrderCheckHooks;null!==s&&Fw(i,s,t)}kf(t)}function mt(e,i=zn.Default){const t=Se();return null===t?ne(e,i):eB(Cr(),t,Yi(e),i)}function o_(){throw new Error("invalid")}function E5(e,i,t,n,r,s){const o=m(null);try{let l=null;r&$t.SignalBased&&(l=i[n][T]),null!==l&&void 0!==l.transformFn&&(s=l.transformFn(s)),r&$t.HasDecoratorInputTransform&&(s=e.inputTransforms[n].call(i,s)),null!==e.setInput?e.setInput(i,l,s,t,n):E3(i,l,n,s)}finally{m(o)}}function l_(e,i,t,n,r,s,o,l,w,S,M){const P=i.blueprint.slice();return P[as]=r,P[Vi]=204|n,(null!==S||e&&2048&e[Vi])&&(P[Vi]|=2048),P3(P),P[Ds]=P[Bp]=e,P[zr]=t,P[yc]=o||e&&e[yc],P[qi]=l||e&&e[qi],P[Ua]=w||e&&e[Ua]||null,P[to]=s,P[H0]=function eat(){return tat++}(),P[ml]=M,P[_3]=S,P[ps]=2==i.type?e[ps]:P,P}function qp(e,i,t,n,r){let s=e.data[i];if(null===s)s=function kD(e,i,t,n,r){const s=N3(),o=O2(),w=e.data[i]=function Got(e,i,t,n,r,s){let o=i?i.injectorIndex:-1,l=0;return Gp()&&(l|=128),{type:t,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,i,n,r);return null===e.firstChild&&(e.firstChild=w),null!==s&&(o?null==s.child&&null!==w.parent&&(s.child=w):null===s.next&&(s.next=w,w.prev=s)),w}(e,i,t,n,r),function bst(){return tn.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=n,s.attrs=r;const o=function $0(){const e=tn.lFrame,i=e.currentTNode;return e.isParent?i:i.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return $c(s,!0),s}function fx(e,i,t,n){if(0===t)return-1;const r=i.length;for(let s=0;s<t;s++)i.push(n),e.blueprint.push(n),e.data.push(null);return r}function A5(e,i,t,n,r){const s=no(),o=2&n;try{kf(-1),o&&i.length>fn&&S5(e,i,fn,!1),Xc(o?2:0,r),t(n,r)}finally{kf(s),Xc(o?3:1,r)}}function RD(e,i,t){if(S2(i)){const n=m(null);try{const s=i.directiveEnd;for(let o=i.directiveStart;o<s;o++){const l=e.data[o];l.contentQueries&&l.contentQueries(1,t[o],o)}}finally{m(n)}}}function PD(e,i,t){L3()&&(function Qot(e,i,t,n){const r=t.directiveStart,s=t.directiveEnd;Mf(t)&&function ilt(e,i,t){const n=Ro(i,e),r=D5(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const l=c_(e,l_(e,r,null,o,n,i,null,e[yc].rendererFactory.createRenderer(n,t),null,null,null));e[i.index]=l}(i,t,e.data[r+t.componentOffset]),e.firstCreatePass||Nw(t,i),ro(n,i);const o=t.initialInputs;for(let l=r;l<s;l++){const w=e.data[l],S=Rf(i,e,l,t);ro(S,i),null!==o&&nlt(0,l-r,S,w,0,o),bc(w)&&(pl(t.index,i)[zr]=Rf(i,e,l,t))}}(e,i,t,Ro(t,i)),!(64&~t.flags)&&P5(e,i,t))}function FD(e,i,t=Ro){const n=i.localNames;if(null!==n){let r=i.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],l=-1===o?t(i,e):e[o];e[r++]=l}}}function D5(e){const i=e.tView;return null===i||i.incompleteFirstPass?e.tView=OD(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):i}function OD(e,i,t,n,r,s,o,l,w,S,M){const P=fn+n,O=P+r,N=function Lot(e,i){const t=[];for(let n=0;n<i;n++)t.push(n<e?null:pn);return t}(P,O),U="function"==typeof S?S():S;return N[ni]={type:e,blueprint:N,template:t,queries:null,viewQuery:l,declTNode:i,data:N.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:w,consts:U,incompleteFirstPass:!1,ssrId:M}}let M5=()=>null;function I5(e,i,t,n,r){for(let s in i){if(!i.hasOwnProperty(s))continue;const o=i[s];if(void 0===o)continue;n??={};let l,w=$t.None;Array.isArray(o)?(l=o[0],w=o[1]):l=o;let S=s;if(null!==r){if(!r.hasOwnProperty(s))continue;S=r[s]}0===e?k5(n,t,S,l,w):k5(n,t,S,l)}return n}function k5(e,i,t,n,r){let s;e.hasOwnProperty(t)?(s=e[t]).push(i,n):s=e[t]=[i,n],void 0!==r&&s.push(r)}function Zo(e,i,t,n,r,s,o,l){const w=Ro(i,t);let M,S=i.inputs;!l&&null!=S&&(M=S[n])?(UD(e,t,M,n,r),Mf(i)&&function jot(e,i){const t=pl(i,e);16&t[Vi]||(t[Vi]|=64)}(t,i.index)):3&i.type&&(n=function Wot(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),r=null!=o?o(r,i.value||"",n):r,s.setProperty(w,n,r))}function LD(e,i,t,n){if(L3()){const r=null===n?null:{"":-1},s=function Zot(e,i){const t=e.directiveRegistry;let n=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(d3(i,o.selectors,!1))if(n||(n=[]),bc(o))if(null!==o.findHostDirectiveDefs){const l=[];r=r||new Map,o.findHostDirectiveDefs(o,l,r),n.unshift(...l,o),ND(e,i,l.length)}else n.unshift(o),ND(e,i,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return null===n?null:[n,r]}(e,t);let o,l;null===s?o=l=null:[o,l]=s,null!==o&&R5(e,i,t,o,r,l),r&&function Jot(e,i,t){if(i){const n=e.localNames=[];for(let r=0;r<i.length;r+=2){const s=t[i[r+1]];if(null==s)throw new pe(-301,!1);n.push(i[r],s)}}}(t,n,r)}t.mergedAttrs=B0(t.mergedAttrs,t.attrs)}function R5(e,i,t,n,r,s){for(let S=0;S<n.length;S++)Y2(Nw(t,i),e,n[S].type);!function tlt(e,i,t){e.flags|=1,e.directiveStart=i,e.directiveEnd=i+t,e.providerIndexes=i}(t,e.data.length,n.length);for(let S=0;S<n.length;S++){const M=n[S];M.providersResolver&&M.providersResolver(M)}let o=!1,l=!1,w=fx(e,i,n.length,null);for(let S=0;S<n.length;S++){const M=n[S];t.mergedAttrs=B0(t.mergedAttrs,M.hostAttrs),elt(e,t,i,w,M),qot(w,M,r),null!==M.contentQueries&&(t.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(t.flags|=64);const P=M.type.prototype;!o&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),o=!0),!l&&(P.ngOnChanges||P.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),l=!0),w++}!function Hot(e,i,t){const r=i.directiveEnd,s=e.data,o=i.attrs,l=[];let w=null,S=null;for(let M=i.directiveStart;M<r;M++){const P=s[M],O=t?t.get(P):null,U=O?O.outputs:null;w=I5(0,P.inputs,M,w,O?O.inputs:null),S=I5(1,P.outputs,M,S,U);const j=null===w||null===o||m2(i)?null:rlt(w,M,o);l.push(j)}null!==w&&(w.hasOwnProperty("class")&&(i.flags|=8),w.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=l,i.inputs=w,i.outputs=S}(e,t,s)}function P5(e,i,t){const n=t.directiveStart,r=t.directiveEnd,s=t.index,o=function _st(){return tn.lFrame.currentDirectiveIndex}();try{kf(s);for(let l=n;l<r;l++){const w=e.data[l],S=i[l];N2(l),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Kot(w,S)}}finally{kf(-1),N2(o)}}function Kot(e,i){null!==e.hostBindings&&e.hostBindings(1,i)}function ND(e,i,t){i.componentOffset=t,(e.components??=[]).push(i.index)}function qot(e,i,t){if(t){if(i.exportAs)for(let n=0;n<i.exportAs.length;n++)t[i.exportAs[n]]=e;bc(i)&&(t[""]=e)}}function elt(e,i,t,n,r){e.data[n]=r;const s=r.factory||(r.factory=Sf(r.type)),o=new Z0(s,bc(r),mt);e.blueprint[n]=o,t[n]=o,function Yot(e,i,t,n,r){const s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const l=~i.index;(function $ot(e){let i=e.length;for(;i>0;){const t=e[--i];if("number"==typeof t&&t<0)return t}return 0})(o)!=l&&o.push(l),o.push(t,n,s)}}(e,i,n,fx(e,t,r.hostVars,pn),r)}function Jc(e,i,t,n,r,s){const o=Ro(e,i);!function BD(e,i,t,n,r,s,o){if(null==s)e.removeAttribute(i,r,t);else{const l=null==o?hn(s):o(s,n||"",r);e.setAttribute(i,r,l,t)}}(i[qi],o,s,e.value,t,n,r)}function nlt(e,i,t,n,r,s){const o=s[i];if(null!==o)for(let l=0;l<o.length;)E5(n,t,o[l++],o[l++],o[l++],o[l++])}function rlt(e,i,t){let n=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===n&&(n=[]);const o=e[s];for(let l=0;l<o.length;l+=3)if(o[l]===i){n.push(s,o[l+1],o[l+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function F5(e,i,t,n){return[e,!0,0,i,null,n,null,t,null,null]}function O5(e,i){const t=e.contentQueries;if(null!==t){const n=m(null);try{for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const l=e.data[o];Rw(t[r]),l.contentQueries(2,i[o],o)}}}finally{m(n)}}}function c_(e,i){return e[z0]?e[w3][xc]=i:e[z0]=i,e[w3]=i,i}function VD(e,i,t){Rw(0);const n=m(null);try{i(e,t)}finally{m(n)}}function L5(e){return e[Np]||(e[Np]=[])}function N5(e){return e.cleanup||(e.cleanup=[])}function B5(e,i,t){return(null===e||bc(e))&&(t=function I2(e){for(;Array.isArray(e);){if("object"==typeof e[T2])return e;e=e[as]}return null}(t[i.index])),t[qi]}function d_(e,i){const t=e[Ua],n=t?t.get(xl,null):null;n&&n.handleError(i)}function UD(e,i,t,n,r){for(let s=0;s<t.length;){const o=t[s++],l=t[s++],w=t[s++];E5(e.data[o],i[o],n,l,w,r)}}function Xd(e,i,t){const n=j0(i,e);!function d5(e,i,t){e.setValue(i,t)}(e[qi],n,t)}function slt(e,i){const t=pl(i,e),n=t[ni];!function alt(e,i){for(let t=i.length;t<e.blueprint.length;t++)i.push(e.blueprint[t])}(n,t);const r=t[as];null!==r&&null===t[ml]&&(t[ml]=dD(r,t[Ua])),zD(n,t,t[zr])}function zD(e,i,t){U2(i);try{const n=e.viewQuery;null!==n&&VD(1,n,t);const r=e.template;null!==r&&A5(e,i,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),i[zd]?.finishViewCreation(e),e.staticContentQueries&&O5(e,i),e.staticViewQueries&&VD(2,e.viewQuery,t);const s=e.components;null!==s&&function olt(e,i){for(let t=0;t<i.length;t++)slt(e,i[t])}(i,s)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{i[Vi]&=-5,z2()}}function mx(e,i,t,n){const r=m(null);try{const s=i.tView,w=l_(e,s,t,4096&e[Vi]?4096:16,null,i,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null);w[G0]=e[i.index];const M=e[zd];return null!==M&&(w[zd]=M.createEmbeddedView(s)),zD(s,w,t),w}finally{m(r)}}function V5(e,i){const t=Ms+i;if(t<e.length)return e[t]}function tg(e,i){return!i||null===i.firstChild||zw(e)}function px(e,i,t,n=!0){const r=i[ni];if(function Sot(e,i,t,n){const r=Ms+n,s=t.length;n>0&&(t[r-1][xc]=i),n<s-Ms?(i[xc]=t[r],e3(t,Ms+n,i)):(t.push(i),i[xc]=null),i[Ds]=t;const o=i[G0];null!==o&&t!==o&&function Eot(e,i){const t=e[Up];i[ps]!==i[Ds][Ds][ps]&&(e[Vi]|=C2.HasTransplantedViews),null===t?e[Up]=[i]:t.push(i)}(o,i);const l=i[zd];null!==l&&l.insertView(e),P2(i),i[Vi]|=128}(r,i,e,t),n){const o=MD(t,e),l=i[qi],w=r_(l,e[jc]);null!==w&&function Tot(e,i,t,n,r,s){n[as]=r,n[to]=i,a_(e,n,t,1,r,s)}(r,e[to],l,i,w,o)}const s=i[ml];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function GD(e,i){const t=dx(e,i);return void 0!==t&&n_(t[ni],t),t}function gx(e,i,t,n,r=!1){for(;null!==t;){const s=i[t.index];null!==s&&n.push(Ir(s)),io(s)&&U5(s,n);const o=t.type;if(8&o)gx(e,i,t.child,n);else if(32&o){const l=TD(t,i);let w;for(;w=l();)n.push(w)}else if(16&o){const l=b5(i,t);if(Array.isArray(l))n.push(...l);else{const w=If(i[ps]);gx(w[ni],w,l,n,!0)}}t=r?t.projectionNext:t.next}return n}function U5(e,i){for(let t=Ms;t<e.length;t++){const n=e[t],r=n[ni].firstChild;null!==r&&gx(n[ni],n,r,i)}e[jc]!==e[as]&&i.push(e[jc])}let z5=[];const ult={...u,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Y0(e.lView)},consumerOnSignalRead(){this.lView[Df]=this}},G5=100;function u_(e,i=!0,t=0){const n=e[yc],r=n.rendererFactory;r.begin?.();try{!function hlt(e,i){HD(e,i);let t=0;for(;R2(e);){if(t===G5)throw new pe(103,!1);t++,HD(e,1)}}(e,t)}catch(o){throw i&&d_(e,o),o}finally{r.end?.(),n.inlineEffectRunner?.flush()}}function flt(e,i,t,n){const r=i[Vi];if(!(256&~r))return;i[yc].inlineEffectRunner?.flush(),U2(i);let o=null,l=null;(function mlt(e){return 2!==e.type})(e)&&(l=function llt(e){return e[Df]??function clt(e){const i=z5.pop()??Object.create(ult);return i.lView=e,i}(e)}(i),o=_(l));try{P3(i),function V3(e){return tn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&A5(e,i,t,2,n);const w=!(3&~r);if(w){const P=e.preOrderCheckHooks;null!==P&&Fw(i,P,null)}else{const P=e.preOrderHooks;null!==P&&Ow(i,P,0,null),G2(i,0)}if(function plt(e){for(let i=SB(e);null!==i;i=EB(i)){if(!(i[Vi]&C2.HasTransplantedViews))continue;const t=i[Up];for(let n=0;n<t.length;n++){dst(t[n])}}}(i),H5(i,0),null!==e.contentQueries&&O5(e,i),w){const P=e.contentCheckHooks;null!==P&&Fw(i,P)}else{const P=e.contentHooks;null!==P&&Ow(i,P,1),G2(i,1)}!function Oot(e,i){const t=e.hostBindingOpCodes;if(null!==t)try{for(let n=0;n<t.length;n++){const r=t[n];if(r<0)kf(~r);else{const s=r,o=t[++n],l=t[++n];wst(o,s),l(2,i[s])}}}finally{kf(-1)}}(e,i);const S=e.components;null!==S&&j5(i,S,0);const M=e.viewQuery;if(null!==M&&VD(2,M,n),w){const P=e.viewCheckHooks;null!==P&&Fw(i,P)}else{const P=e.viewHooks;null!==P&&Ow(i,P,2),G2(i,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i[Dw]){for(const P of i[Dw])P();i[Dw]=null}i[Vi]&=-73}catch(w){throw Y0(i),w}finally{null!==l&&(E(l,o),function dlt(e){e.lView[Df]!==e&&(e.lView=null,z5.push(e))}(l)),z2()}}function H5(e,i){for(let t=SB(e);null!==t;t=EB(t))for(let n=Ms;n<t.length;n++)W5(t[n],i)}function glt(e,i,t){W5(pl(i,e),t)}function W5(e,i){k2(e)&&HD(e,i)}function HD(e,i){const n=e[ni],r=e[Vi],s=e[Df];let o=!!(0===i&&16&r);if(o||=!!(64&r&&0===i),o||=!!(1024&r),o||=!(!s?.dirty||!A(s)),s&&(s.dirty=!1),e[Vi]&=-9217,o)flt(n,e,n.template,e[zr]);else if(8192&r){H5(e,1);const l=n.components;null!==l&&j5(e,l,1)}}function j5(e,i,t){for(let n=0;n<i.length;n++)glt(e,i[n],t)}function vx(e){for(e[yc].changeDetectionScheduler?.notify();e;){e[Vi]|=64;const i=If(e);if(E2(e)&&!i)return e;e=i}return null}class xx{get rootNodes(){const i=this._lView,t=i[ni];return gx(t,i,t.firstChild,[])}constructor(i,t,n=!0){this._lView=i,this._cdRefInjectingView=t,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zr]}set context(i){this._lView[zr]=i}get destroyed(){return!(256&~this._lView[Vi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Ds];if(io(i)){const t=i[8],n=t?t.indexOf(this):-1;n>-1&&(dx(i,n),xw(t,n))}this._attachedToViewContainer=!1}n_(this._lView[ni],this._lView)}onDestroy(i){kw(this._lView,i)}markForCheck(){vx(this._cdRefInjectingView||this._lView)}detach(){this._lView[Vi]&=-129}reattach(){P2(this._lView),this._lView[Vi]|=128}detectChanges(){this._lView[Vi]|=1024,u_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,u5(this._lView[ni],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=i,P2(this._lView)}}let xr=(()=>{class e{static#t=this.__NG_ELEMENT_ID__=ylt}return e})();const vlt=xr,xlt=class extends vlt{constructor(i,t,n){super(),this._declarationLView=i,this._declarationTContainer=t,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,t){return this.createEmbeddedViewImpl(i,t)}createEmbeddedViewImpl(i,t,n){const r=mx(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:t,dehydratedView:n});return new xx(r)}};function ylt(){return h_(Cr(),Se())}function h_(e,i){return 4&e.type?new xlt(i,e,Yp(e,i)):null}let Z5=()=>null;function eg(e,i){return Z5(e,i)}class v_{}class Hlt{}class J5{}class jlt{resolveComponentFactory(i){throw function Wlt(e){const i=Error(`No component factory found for ${ra(e)}.`);return i.ngComponent=e,i}(i)}}let Lf=(()=>{class e{static#t=this.NULL=new jlt}return e})();class QD{}let _c=(()=>{class e{constructor(){this.destroyNode=null}static#t=this.__NG_ELEMENT_ID__=()=>function Xlt(){const e=Se(),t=pl(Cr().index,e);return(eo(t)?t:e)[qi]}()}return e})(),Ylt=(()=>{class e{static#t=this.\u0275prov=ke({token:e,providedIn:"root",factory:()=>null})}return e})();const KD={},tV=new Set;function qc(e){tV.has(e)||(tV.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function eV(...e){}class di{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function $lt(){const e="function"==typeof vr.requestAnimationFrame;let i=vr[e?"requestAnimationFrame":"setTimeout"],t=vr[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&t){const n=i[Zone.__symbol__("OriginalDelegate")];n&&(i=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Zlt(e){const i=()=>{!function Klt(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(vr,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,JD(e),e.isCheckStableRunning=!0,ZD(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),JD(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,s,o,l)=>{if(function Jlt(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(l))return t.invokeTask(r,s,o,l);try{return iV(e),t.invokeTask(r,s,o,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&i(),nV(e)}},onInvoke:(t,n,r,s,o,l,w)=>{try{return iV(e),t.invoke(r,s,o,l,w)}finally{e.shouldCoalesceRunChangeDetection&&i(),nV(e)}},onHasTask:(t,n,r,s)=>{t.hasTask(r,s),n===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,JD(e),ZD(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,n,r,s)=>(t.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!di.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(di.isInAngularZone())throw new pe(909,!1)}run(i,t,n){return this._inner.run(i,t,n)}runTask(i,t,n,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,i,Qlt,eV,eV);try{return s.runTask(o,t,n)}finally{s.cancelTask(o)}}runGuarded(i,t,n){return this._inner.runGuarded(i,t,n)}runOutsideAngular(i){return this._outer.run(i)}}const Qlt={};function ZD(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function JD(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function iV(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function nV(e){e._nesting--,ZD(e)}class rV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(i,t,n){return i.apply(t,n)}runGuarded(i,t,n){return i.apply(t,n)}runOutsideAngular(i){return i()}runTask(i,t,n,r){return i.apply(t,n)}}var Nf=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Nf||{});const sV={destroy(){}};function aV(e,i){!i&&Ew();const t=i?.injector??xe(os);if(!function oh(e){return"browser"===(e??xe(os)).get(Wd)}(t))return sV;qc("NgAfterNextRender");const n=t.get(Tx),r=n.handler??=new lV,s=i?.phase??Nf.MixedReadWrite,o=()=>{r.unregister(w),l()},l=t.get(Xp).onDestroy(o),w=Wc(t,()=>new oV(s,()=>{o(),e()}));return r.register(w),{destroy:o}}class oV{constructor(i,t){this.phase=i,this.callbackFn=t,this.zone=xe(di),this.errorHandler=xe(xl,{optional:!0}),xe(v_,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(i){this.errorHandler?.handleError(i)}}}class lV{constructor(){this.executingCallbacks=!1,this.buckets={[Nf.EarlyRead]:new Set,[Nf.Write]:new Set,[Nf.MixedReadWrite]:new Set,[Nf.Read]:new Set},this.deferredCallbacks=new Set}register(i){(this.executingCallbacks?this.deferredCallbacks:this.buckets[i.phase]).add(i)}unregister(i){this.buckets[i.phase].delete(i),this.deferredCallbacks.delete(i)}execute(){this.executingCallbacks=!0;for(const i of Object.values(this.buckets))for(const t of i)t.invoke();this.executingCallbacks=!1;for(const i of this.deferredCallbacks)this.buckets[i.phase].add(i);this.deferredCallbacks.clear()}destroy(){for(const i of Object.values(this.buckets))i.clear();this.deferredCallbacks.clear()}}let Tx=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const n of t)n()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#t=this.\u0275prov=ke({token:e,providedIn:"root",factory:()=>new e})}return e})();function y_(e,i,t){let n=t?e.styles:null,r=t?e.classes:null,s=0;if(null!==i)for(let o=0;o<i.length;o++){const l=i[o];"number"==typeof l?s=l:1==s?r=KA(r,l):2==s&&(n=KA(n,l+": "+i[++o]+";"))}t?e.styles=n:e.stylesWithoutHost=n,t?e.classes=r:e.classesWithoutHost=r}class uV extends Lf{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const t=Rn(i);return new Ex(t,this.ngModule)}}function hV(e){const i=[];for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t];void 0!==n&&i.push({propName:Array.isArray(n)?n[0]:n,templateName:t})}return i}class b_{constructor(i,t){this.injector=i,this.parentInjector=t}get(i,t,n){n=vw(n);const r=this.injector.get(i,KD,n);return r!==KD||t===KD?r:this.parentInjector.get(i,t,n)}}class Ex extends J5{get inputs(){const i=this.componentDef,t=i.inputTransforms,n=hV(i.inputs);if(null!==t)for(const r of n)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return n}get outputs(){return hV(this.componentDef.outputs)}constructor(i,t){super(),this.componentDef=i,this.ngModule=t,this.componentType=i.type,this.selector=function Drt(e){return e.map(Art).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!t}create(i,t,n,r){const s=m(null);try{let o=(r=r||this.ngModule)instanceof Qo?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const l=o?new b_(i,o):i,w=l.get(QD,null);if(null===w)throw new pe(407,!1);const S=l.get(Ylt,null),O={rendererFactory:w,sanitizer:S,inlineEffectRunner:null,afterRenderEventManager:l.get(Tx,null),changeDetectionScheduler:l.get(v_,null)},N=w.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",j=n?function Not(e,i,t,n){const s=n.get(zB,!1)||t===gc.ShadowDom,o=e.selectRootElement(i,s);return function Bot(e){M5(e)}(o),o}(N,n,this.componentDef.encapsulation,l):i_(N,U,function nct(e){const i=e.toLowerCase();return"svg"===i?I3:"math"===i?"math":null}(U));let W=512;this.componentDef.signals?W|=4096:this.componentDef.onPush||(W|=16);let Z=null;null!==j&&(Z=dD(j,l,!0));const rt=OD(0,null,null,1,0,null,null,null,null,null,null),st=l_(null,rt,null,W,null,null,O,N,l,null,Z);let vt,_t;U2(st);try{const kt=this.componentDef;let ft,dt=null;kt.findHostDirectiveDefs?(ft=[],dt=new Map,kt.findHostDirectiveDefs(kt,ft,dt),ft.push(kt)):ft=[kt];const pt=function sct(e,i){const t=e[ni],n=fn;return e[n]=i,qp(t,n,2,"#host",null)}(st,j),bt=function act(e,i,t,n,r,s,o){const l=r[ni];!function oct(e,i,t,n){for(const r of e)i.mergedAttrs=B0(i.mergedAttrs,r.hostAttrs);null!==i.mergedAttrs&&(y_(i,i.mergedAttrs,!0),null!==t&&C5(n,t,i))}(n,e,i,o);let w=null;null!==i&&(w=dD(i,r[Ua]));const S=s.rendererFactory.createRenderer(i,t);let M=16;t.signals?M=4096:t.onPush&&(M=64);const P=l_(r,D5(t),null,M,r[e.index],e,s,S,null,null,w);return l.firstCreatePass&&ND(l,e,n.length-1),c_(r,P),r[e.index]=P}(pt,j,kt,ft,st,O,N);_t=X0(rt,fn),j&&function cct(e,i,t,n){if(n)f2(e,t,["ng-version","17.3.3"]);else{const{attrs:r,classes:s}=function Mrt(e){const i=[],t=[];let n=1,r=2;for(;n<e.length;){let s=e[n];if("string"==typeof s)2===r?""!==s&&i.push(s,e[++n]):8===r&&t.push(s);else{if(!vc(r))break;r=s}n++}return{attrs:i,classes:t}}(i.selectors[0]);r&&f2(e,t,r),s&&s.length>0&&T5(e,t,s.join(" "))}}(N,kt,j,n),void 0!==t&&function dct(e,i,t){const n=e.projection=[];for(let r=0;r<i.length;r++){const s=t[r];n.push(null!=s?Array.from(s):null)}}(_t,this.ngContentSelectors,t),vt=function lct(e,i,t,n,r,s){const o=Cr(),l=r[ni],w=Ro(o,r);R5(l,r,o,t,null,n);for(let M=0;M<t.length;M++)ro(Rf(r,l,o.directiveStart+M,o),r);P5(l,r,o),w&&ro(w,r);const S=Rf(r,l,o.directiveStart+o.componentOffset,o);if(e[zr]=r[zr]=S,null!==s)for(const M of s)M(S,i);return RD(l,o,r),S}(bt,kt,ft,dt,st,[uct]),zD(rt,st,null)}finally{z2()}return new rct(this.componentType,vt,Yp(_t,st),st,_t)}finally{m(s)}}}class rct extends Hlt{constructor(i,t,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new xx(r,void 0,!1),this.componentType=i}setInput(i,t){const n=this._tNode.inputs;let r;if(null!==n&&(r=n[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),t))return;const s=this._rootLView;UD(s[ni],s,r,i,t),this.previousInputValues.set(i,t),vx(pl(this._tNode.index,s))}}get injector(){return new oa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function uct(){const e=Cr();Pw(Se()[ni],e)}let Lr=(()=>{class e{static#t=this.__NG_ELEMENT_ID__=hct}return e})();function hct(){return pV(Cr(),Se())}const fct=Lr,fV=class extends fct{constructor(i,t,n){super(),this._lContainer=i,this._hostTNode=t,this._hostLView=n}get element(){return Yp(this._hostTNode,this._hostLView)}get injector(){return new oa(this._hostTNode,this._hostLView)}get parentInjector(){const i=Bw(this._hostTNode,this._hostLView);if(W2(i)){const t=q0(i,this._hostLView),n=J0(i);return new oa(t[ni].data[n+8],t)}return new oa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const t=mV(this._lContainer);return null!==t&&t[i]||null}get length(){return this._lContainer.length-Ms}createEmbeddedView(i,t,n){let r,s;"number"==typeof n?r=n:null!=n&&(r=n.index,s=n.injector);const o=eg(this._lContainer,i.ssrId),l=i.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(l,r,tg(this._hostTNode,o)),l}createComponent(i,t,n,r,s){const o=i&&!function U0(e){return"function"==typeof e}(i);let l;if(o)l=t;else{const U=t||{};l=U.index,n=U.injector,r=U.projectableNodes,s=U.environmentInjector||U.ngModuleRef}const w=o?i:new Ex(Rn(i)),S=n||this.parentInjector;if(!s&&null==w.ngModule){const j=(o?S:this.parentInjector).get(Qo,null);j&&(s=j)}const M=Rn(w.componentType??{}),P=eg(this._lContainer,M?.id??null),N=w.create(S,r,P?.firstChild??null,s);return this.insertImpl(N.hostView,l,tg(this._hostTNode,P)),N}insert(i,t){return this.insertImpl(i,t,!0)}insertImpl(i,t,n){const r=i._lView;if(function cst(e){return io(e[Ds])}(r)){const l=this.indexOf(i);if(-1!==l)this.detach(l);else{const w=r[Ds],S=new fV(w,w[to],w[Ds]);S.detach(S.indexOf(i))}}const s=this._adjustIndex(t),o=this._lContainer;return px(o,r,s,n),i.attachToViewContainerRef(),e3(iM(o),s,i),i}move(i,t){return this.insert(i,t)}indexOf(i){const t=mV(this._lContainer);return null!==t?t.indexOf(i):-1}remove(i){const t=this._adjustIndex(i,-1),n=dx(this._lContainer,t);n&&(xw(iM(this._lContainer),t),n_(n[ni],n))}detach(i){const t=this._adjustIndex(i,-1),n=dx(this._lContainer,t);return n&&null!=xw(iM(this._lContainer),t)?new xx(n):null}_adjustIndex(i,t=0){return i??this.length+t}};function mV(e){return e[8]}function iM(e){return e[8]||(e[8]=[])}function pV(e,i){let t;const n=i[e.index];return io(n)?t=n:(t=F5(n,i,null,e),i[e.index]=t,c_(i,t)),gV(t,i,e,n),new fV(t,e,i)}let gV=function xV(e,i,t,n){if(e[jc])return;let r;r=8&t.type?Ir(n):function mct(e,i){const t=e[qi],n=t.createComment(""),r=Ro(i,e);return Of(t,r_(t,r),n,function Iot(e,i){return e.nextSibling(i)}(t,r),!1),n}(i,t),e[jc]=r},nM=()=>!1;class rM{constructor(i){this.queryList=i,this.matches=null}clone(){return new rM(this.queryList)}setDirty(){this.queryList.setDirty()}}class sM{constructor(i=[]){this.queries=i}createEmbeddedView(i){const t=i.queries;if(null!==t){const n=null!==i.contentQueries?i.contentQueries[0]:t.length,r=[];for(let s=0;s<n;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new sM(r)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let t=0;t<this.queries.length;t++)null!==dM(i,t).matches&&this.queries[t].setDirty()}}class yV{constructor(i,t,n=null){this.flags=t,this.read=n,this.predicate="string"==typeof i?function _ct(e){return e.split(",").map(i=>i.trim())}(i):i}}class aM{constructor(i=[]){this.queries=i}elementStart(i,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(i,t)}elementEnd(i){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(i)}embeddedTView(i){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,s=this.getByIndex(n).embeddedTView(i,r);s&&(s.indexInDeclarationView=n,null!==t?t.push(s):t=[s])}return null!==t?new aM(t):null}template(i,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(i,t)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class oM{constructor(i,t=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(i,t){this.isApplyingToNode(t)&&this.matchTNode(i,t)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,t){this.elementStart(i,t)}embeddedTView(i,t){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,t),new oM(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let n=i.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(i,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];this.matchTNodeWithReadOption(i,t,xct(t,s)),this.matchTNodeWithReadOption(i,t,Vw(t,i,s,!1,!1))}else n===xr?4&t.type&&this.matchTNodeWithReadOption(i,t,-1):this.matchTNodeWithReadOption(i,t,Vw(t,i,n,!1,!1))}matchTNodeWithReadOption(i,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===oi||r===Lr||r===xr&&4&t.type)this.addMatch(t.index,-2);else{const s=Vw(t,i,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,n)}}addMatch(i,t){null===this.matches?this.matches=[i,t]:this.matches.push(i,t)}}function xct(e,i){const t=e.localNames;if(null!==t)for(let n=0;n<t.length;n+=2)if(t[n]===i)return t[n+1];return null}function bct(e,i,t,n){return-1===t?function yct(e,i){return 11&e.type?Yp(e,i):4&e.type?h_(e,i):null}(i,e):-2===t?function wct(e,i,t){return t===oi?Yp(i,e):t===xr?h_(i,e):t===Lr?pV(i,e):void 0}(e,i,n):Rf(e,e[ni],t,i)}function bV(e,i,t,n){const r=i[zd].queries[n];if(null===r.matches){const s=e.data,o=t.matches,l=[];for(let w=0;null!==o&&w<o.length;w+=2){const S=o[w];l.push(S<0?null:bct(i,s[S],o[w+1],t.metadata.read))}r.matches=l}return r.matches}function lM(e,i,t,n){const r=e.queries.getByIndex(t),s=r.matches;if(null!==s){const o=bV(e,i,r,t);for(let l=0;l<s.length;l+=2){const w=s[l];if(w>0)n.push(o[l/2]);else{const S=s[l+1],M=i[-w];for(let P=Ms;P<M.length;P++){const O=M[P];O[G0]===O[Ds]&&lM(O[ni],O,S,n)}if(null!==M[Up]){const P=M[Up];for(let O=0;O<P.length;O++){const N=P[O];lM(N[ni],N,S,n)}}}}}return n}function wV(e,i,t){const n=new sh(!(4&~t));return function zot(e,i,t,n){const r=L5(i);r.push(t),e.firstCreatePass&&N5(e).push(n,r.length-1)}(e,i,n,n.destroy),(i[zd]??=new sM).queries.push(new rM(n))-1}function CV(e,i,t){null===e.queries&&(e.queries=new aM),e.queries.track(new oM(i,t))}function dM(e,i){return e.queries.getByIndex(i)}function SV(e,i){const t=e[ni],n=dM(t,i);return n.crossesNgTemplate?lM(t,e,i,[]):bV(t,e,n,i)}function w_(e){return"function"==typeof e&&void 0!==e[T]}function AV(e){return w_(e)&&"function"==typeof e.set}function xi(e){let i=function BV(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const n=[e];for(;i;){let r;if(bc(e))r=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new pe(903,!1);r=i.\u0275dir}if(r){if(t){n.push(r);const o=e;o.inputs=T_(e.inputs),o.inputTransforms=T_(e.inputTransforms),o.declaredInputs=T_(e.declaredInputs),o.outputs=T_(e.outputs);const l=r.hostBindings;l&&Bct(e,l);const w=r.viewQuery,S=r.contentQueries;if(w&&Lct(e,w),S&&Nct(e,S),Fct(e,r),$nt(e.outputs,r.outputs),bc(r)&&r.data.animation){const M=e.data;M.animation=(M.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const l=s[o];l&&l.ngInherit&&l(e),l===xi&&(t=!1)}}i=Object.getPrototypeOf(i)}!function Oct(e){let i=0,t=null;for(let n=e.length-1;n>=0;n--){const r=e[n];r.hostVars=i+=r.hostVars,r.hostAttrs=B0(r.hostAttrs,t=B0(t,r.hostAttrs))}}(n)}function Fct(e,i){for(const t in i.inputs){if(!i.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;const n=i.inputs[t];if(void 0!==n&&(e.inputs[t]=n,e.declaredInputs[t]=i.declaredInputs[t],null!==i.inputTransforms)){const r=Array.isArray(n)?n[0]:n;if(!i.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=i.inputTransforms[r]}}}function T_(e){return e===Hc?{}:e===tr?[]:e}function Lct(e,i){const t=e.viewQuery;e.viewQuery=t?(n,r)=>{i(n,r),t(n,r)}:i}function Nct(e,i){const t=e.contentQueries;e.contentQueries=t?(n,r,s)=>{i(n,r,s),t(n,r,s)}:i}function Bct(e,i){const t=e.hostBindings;e.hostBindings=t?(n,r)=>{i(n,r),t(n,r)}:i}function vn(e){const i=e.inputConfig,t={};for(const n in i)if(i.hasOwnProperty(n)){const r=i[n];Array.isArray(r)&&r[3]&&(t[n]=r[3])}e.inputTransforms=t}class Bf{}class GV{}class hM extends Bf{constructor(i,t,n){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uV(this);const r=qa(i);this._bootstrapComponents=bl(r.bootstrap),this._r3Injector=uB(i,t,[{provide:Bf,useValue:this},{provide:Lf,useValue:this.componentFactoryResolver},...n],ra(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class fM extends GV{constructor(i){super(),this.moduleType=i}create(i){return new hM(this.moduleType,i,[])}}class HV extends Bf{constructor(i){super(),this.componentFactoryResolver=new uV(this),this.instance=null;const t=new Fp([...i.providers,{provide:Bf,useValue:this},{provide:Lf,useValue:this.componentFactoryResolver}],i.parent||Sw(),i.debugName,new Set(["environment"]));this.injector=t,i.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function C_(e,i,t=null){return new HV({providers:e,parent:i,debugName:t,runEnvironmentInitializers:!0}).injector}let uh=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Kr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function E_(e){return!!mM(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function mM(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function td(e,i,t){return e[i]=t}function Is(e,i,t){return!Object.is(e[i],t)&&(e[i]=t,!0)}function Vf(e,i,t,n){const r=Is(e,i,t);return Is(e,i+1,n)||r}function A_(e,i,t,n,r){const s=Vf(e,i,t,n);return Is(e,i+2,r)||s}function jt(e,i,t,n,r,s,o,l){const w=Se(),S=Gn(),M=e+fn,P=S.firstCreatePass?function Zct(e,i,t,n,r,s,o,l,w){const S=i.consts,M=qp(i,e,4,o||null,Yc(S,l));LD(i,t,M,Yc(S,w)),Pw(i,M);const P=M.tView=OD(2,M,n,r,s,i.directiveRegistry,i.pipeRegistry,null,i.schemas,S,null);return null!==i.queries&&(i.queries.template(i,M),P.queries=i.queries.embeddedTView(M)),M}(M,S,w,i,t,n,r,s,o):S.data[M];$c(P,!1);const O=WV(S,w,P,e);K0()&&s_(S,w,O,P),ro(O,w);const N=F5(O,w,O,P);return w[M]=N,c_(w,N),function vV(e,i,t){return nM(e,i,t)}(N,P,w),Iw(P)&&PD(S,w,P),null!=o&&FD(w,P,l),jt}let WV=function jV(e,i,t,n){return Qc(!0),i[qi].createComment("")};function Ai(e,i,t,n){const r=Se();return Is(r,wc(),i)&&(Gn(),Jc(Gr(),r,e,i,t,n)),Ai}function dg(e,i,t,n){return Is(e,wc(),t)?i+hn(t)+n:pn}function P_(e,i){return e<<17|i<<2}function fh(e){return e>>17&32767}function CM(e){return 2|e}function zf(e){return(131068&e)>>2}function SM(e,i){return-131069&e|i<<2}function EM(e){return 1|e}function _8(e,i,t,n){const r=e[t+1],s=null===i;let o=n?fh(r):zf(r),l=!1;for(;0!==o&&(!1===l||s);){const S=e[o+1];Ldt(e[o],i)&&(l=!0,e[o+1]=n?EM(S):CM(S)),o=n?fh(S):zf(S)}l&&(e[t+1]=n?CM(r):EM(r))}function Ldt(e,i){return null===e||null==i||(Array.isArray(e)?e[1]:e)===i||!(!Array.isArray(e)||"string"!=typeof i)&&Pp(e,i)>=0}const la={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function T8(e){return e.substring(la.key,la.keyEnd)}function C8(e,i){const t=la.textEnd;return t===i?-1:(i=la.keyEnd=function Udt(e,i,t){for(;i<t&&e.charCodeAt(i)>32;)i++;return i}(e,la.key=i,t),xg(e,i,t))}function xg(e,i,t){for(;i<t&&e.charCodeAt(i)<=32;)i++;return i}function xt(e,i,t){const n=Se();return Is(n,wc(),i)&&Zo(Gn(),Gr(),n,e,i,n[qi],t,!1),xt}function AM(e,i,t,n,r){const o=r?"class":"style";UD(e,t,i.inputs[o],o,n)}function Ps(e,i,t){return Tc(e,i,t,!1),Ps}function Si(e,i){return Tc(e,i,null,!0),Si}function Wl(e){Cc(Qdt,id,e,!0)}function id(e,i){for(let t=function Bdt(e){return function E8(e){la.key=0,la.keyEnd=0,la.value=0,la.valueEnd=0,la.textEnd=e.length}(e),C8(e,xg(e,0,la.textEnd))}(i);t>=0;t=C8(i,t))fl(e,T8(i),!0)}function Tc(e,i,t,n){const r=Se(),s=Gn(),o=Hd(2);s.firstUpdatePass&&I8(s,e,o,n),i!==pn&&Is(r,o,i)&&R8(s,s.data[no()],r,r[qi],e,r[o+1]=function Zdt(e,i){return null==e||""===e||("string"==typeof i?e+=i:"object"==typeof e&&(e=ra(yl(e)))),e}(i,t),n,o)}function Cc(e,i,t,n){const r=Gn(),s=Hd(2);r.firstUpdatePass&&I8(r,null,s,n);const o=Se();if(t!==pn&&Is(o,s,t)){const l=r.data[no()];if(F8(l,n)&&!M8(r,s)){let w=n?l.classesWithoutHost:l.stylesWithoutHost;null!==w&&(t=KA(w,t||"")),AM(r,l,o,t,n)}else!function Kdt(e,i,t,n,r,s,o,l){r===pn&&(r=tr);let w=0,S=0,M=0<r.length?r[0]:null,P=0<s.length?s[0]:null;for(;null!==M||null!==P;){const O=w<r.length?r[w+1]:void 0,N=S<s.length?s[S+1]:void 0;let j,U=null;M===P?(w+=2,S+=2,O!==N&&(U=P,j=N)):null===P||null!==M&&M<P?(w+=2,U=M):(S+=2,U=P,j=N),null!==U&&R8(e,i,t,n,U,j,o,l),M=w<r.length?r[w]:null,P=S<s.length?s[S]:null}}(r,l,o,o[qi],o[s+1],o[s+1]=function $dt(e,i,t){if(null==t||""===t)return tr;const n=[],r=yl(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(n,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&e(n,s,r[s]);else"string"==typeof r&&i(n,r);return n}(e,i,t),n,s)}}function M8(e,i){return i>=e.expandoStartIndex}function I8(e,i,t,n){const r=e.data;if(null===r[t+1]){const s=r[no()],o=M8(e,t);F8(s,n)&&null===i&&!o&&(i=!1),i=function Wdt(e,i,t,n){const r=B2(e);let s=n?i.residualClasses:i.residualStyles;if(null===r)0===(n?i.classBindings:i.styleBindings)&&(t=Px(t=DM(null,e,i,t,n),i.attrs,n),s=null);else{const o=i.directiveStylingLast;if(-1===o||e[o]!==r)if(t=DM(r,e,i,t,n),null===s){let w=function jdt(e,i,t){const n=t?i.classBindings:i.styleBindings;if(0!==zf(n))return e[fh(n)]}(e,i,n);void 0!==w&&Array.isArray(w)&&(w=DM(null,e,i,w[1],n),w=Px(w,i.attrs,n),function Xdt(e,i,t,n){e[fh(t?i.classBindings:i.styleBindings)]=n}(e,i,n,w))}else s=function Ydt(e,i,t){let n;const r=i.directiveEnd;for(let s=1+i.directiveStylingLast;s<r;s++)n=Px(n,e[s].hostAttrs,t);return Px(n,i.attrs,t)}(e,i,n)}return void 0!==s&&(n?i.residualClasses=s:i.residualStyles=s),t}(r,s,i,n),function Fdt(e,i,t,n,r,s){let o=s?i.classBindings:i.styleBindings,l=fh(o),w=zf(o);e[n]=t;let M,S=!1;if(Array.isArray(t)?(M=t[1],(null===M||Pp(t,M)>0)&&(S=!0)):M=t,r)if(0!==w){const O=fh(e[l+1]);e[n+1]=P_(O,l),0!==O&&(e[O+1]=SM(e[O+1],n)),e[l+1]=function Rdt(e,i){return 131071&e|i<<17}(e[l+1],n)}else e[n+1]=P_(l,0),0!==l&&(e[l+1]=SM(e[l+1],n)),l=n;else e[n+1]=P_(w,0),0===l?l=n:e[w+1]=SM(e[w+1],n),w=n;S&&(e[n+1]=CM(e[n+1])),_8(e,M,n,!0),_8(e,M,n,!1),function Odt(e,i,t,n,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof i&&Pp(s,i)>=0&&(t[n+1]=EM(t[n+1]))}(i,M,e,n,s),o=P_(l,w),s?i.classBindings=o:i.styleBindings=o}(r,s,i,t,o,n)}}function DM(e,i,t,n,r){let s=null;const o=t.directiveEnd;let l=t.directiveStylingLast;for(-1===l?l=t.directiveStart:l++;l<o&&(s=i[l],n=Px(n,s.hostAttrs,r),s!==e);)l++;return null!==e&&(t.directiveStylingLast=l),n}function Px(e,i,t){const n=t?1:2;let r=-1;if(null!==i)for(let s=0;s<i.length;s++){const o=i[s];"number"==typeof o?r=o:r===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),fl(e,o,!!t||i[++s]))}return void 0===e?null:e}function Qdt(e,i,t){const n=String(i);""!==n&&!n.includes(" ")&&fl(e,n,t)}function R8(e,i,t,n,r,s,o,l){if(!(3&i.type))return;const w=e.data,S=w[l+1],M=function Pdt(e){return!(1&~e)}(S)?P8(w,i,t,r,zf(S),o):void 0;F_(M)||(F_(s)||function kdt(e){return!(2&~e)}(S)&&(s=P8(w,null,t,r,l,o)),function Pot(e,i,t,n,r){if(i)r?e.addClass(t,n):e.removeClass(t,n);else{let s=-1===n.indexOf("-")?void 0:lh.DashCase;null==r?e.removeStyle(t,n,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=lh.Important),e.setStyle(t,n,r,s))}}(n,o,j0(no(),t),r,s))}function P8(e,i,t,n,r,s){const o=null===i;let l;for(;r>0;){const w=e[r],S=Array.isArray(w),M=S?w[1]:w,P=null===M;let O=t[r+1];O===pn&&(O=P?tr:void 0);let N=P?u2(O,n):M===n?O:void 0;if(S&&!F_(N)&&(N=u2(w,n)),F_(N)&&(l=N,o))return l;const U=e[r+1];r=o?fh(U):zf(U)}if(null!==i){let w=s?i.residualClasses:i.residualStyles;null!=w&&(l=u2(w,n))}return l}function F_(e){return void 0!==e}function F8(e,i){return!!(e.flags&(i?8:16))}class out{destroy(i){}updateValue(i,t){}swap(i,t){const n=Math.min(i,t),r=Math.max(i,t),s=this.detach(r);if(r-n>1){const o=this.detach(n);this.attach(n,s),this.attach(r,o)}else this.attach(n,s)}move(i,t){this.attach(t,this.detach(i))}}function MM(e,i,t,n,r){return e===t&&Object.is(i,n)?1:Object.is(r(e,i),r(t,n))?-1:0}function IM(e,i,t,n){return!(void 0===i||!i.has(n)||(e.attach(t,i.get(n)),i.delete(n),0))}function L8(e,i,t,n,r){if(IM(e,i,n,t(n,r)))e.updateValue(n,r);else{const s=e.create(n,r);e.attach(n,s)}}function N8(e,i,t,n){const r=new Set;for(let s=i;s<=t;s++)r.add(n(s,e.at(s)));return r}class B8{constructor(){this.kvMap=new Map,this._vMap=void 0}has(i){return this.kvMap.has(i)}delete(i){if(!this.has(i))return!1;const t=this.kvMap.get(i);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(i,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(i),!0}get(i){return this.kvMap.get(i)}set(i,t){if(this.kvMap.has(i)){let n=this.kvMap.get(i);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(n);)n=r.get(n);r.set(n,t)}else this.kvMap.set(i,t)}forEach(i){for(let[t,n]of this.kvMap)if(i(n,t),void 0!==this._vMap){const r=this._vMap;for(;r.has(n);)n=r.get(n),i(n,t)}}}function En(e,i,t){qc("NgControlFlow");const n=Se(),r=wc(),s=kM(n,fn+e);if(Is(n,r,i)){const l=m(null);try{if(GD(s,0),-1!==i){const w=RM(n[ni],fn+i),S=eg(s,w.tView.ssrId);px(s,mx(n,w,t,{dehydratedView:S}),0,tg(w,S))}}finally{m(l)}}else{const l=V5(s,0);void 0!==l&&(l[zr]=t)}}class cut{constructor(i,t,n){this.lContainer=i,this.$implicit=t,this.$index=n}get $count(){return this.lContainer.length-Ms}}function O_(e,i){return i}class uut{constructor(i,t,n){this.hasEmptyBlock=i,this.trackByFn=t,this.liveCollection=n}}function L_(e,i,t,n,r,s,o,l,w,S,M,P,O){qc("NgControlFlow");const N=void 0!==w,U=Se(),j=l?o.bind(U[ps][zr]):o,W=new uut(N,j);U[fn+e]=W,jt(e+1,i,t,n,r,s),N&&jt(e+2,w,S,M,P,O)}class hut extends out{constructor(i,t,n){super(),this.lContainer=i,this.hostLView=t,this.templateTNode=n,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ms}at(i){return this.getLView(i)[zr].$implicit}attach(i,t){const n=t[ml];this.needsIndexUpdate||=i!==this.length,px(this.lContainer,t,i,tg(this.templateTNode,n))}detach(i){return this.needsIndexUpdate||=i!==this.length-1,function fut(e,i){return dx(e,i)}(this.lContainer,i)}create(i,t){const n=eg(this.lContainer,this.templateTNode.tView.ssrId);return mx(this.hostLView,this.templateTNode,new cut(this.lContainer,t,i),{dehydratedView:n})}destroy(i){n_(i[ni],i)}updateValue(i,t){this.getLView(i)[zr].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let i=0;i<this.length;i++)this.getLView(i)[zr].$index=i}getLView(i){return function mut(e,i){return V5(e,i)}(this.lContainer,i)}}function N_(e){const i=m(null),t=no();try{const n=Se(),r=n[ni],s=n[t];if(void 0===s.liveCollection){const l=t+1,w=kM(n,l),S=RM(r,l);s.liveCollection=new hut(w,n,S)}else s.liveCollection.reset();const o=s.liveCollection;if(function lut(e,i,t){let n,r,s=0,o=e.length-1;if(Array.isArray(i)){let l=i.length-1;for(;s<=o&&s<=l;){const w=e.at(s),S=i[s],M=MM(s,w,s,S,t);if(0!==M){M<0&&e.updateValue(s,S),s++;continue}const P=e.at(o),O=i[l],N=MM(o,P,l,O,t);if(0!==N){N<0&&e.updateValue(o,O),o--,l--;continue}const U=t(s,w),j=t(o,P),W=t(s,S);if(Object.is(W,j)){const Z=t(l,O);Object.is(Z,U)?(e.swap(s,o),e.updateValue(o,O),l--,o--):e.move(o,s),e.updateValue(s,S),s++}else if(n??=new B8,r??=N8(e,s,o,t),IM(e,n,s,W))e.updateValue(s,S),s++,o++;else if(r.has(W))n.set(U,e.detach(s)),o--;else{const Z=e.create(s,i[s]);e.attach(s,Z),s++,o++}}for(;s<=l;)L8(e,n,t,s,i[s]),s++}else if(null!=i){const l=i[Symbol.iterator]();let w=l.next();for(;!w.done&&s<=o;){const S=e.at(s),M=w.value,P=MM(s,S,s,M,t);if(0!==P)P<0&&e.updateValue(s,M),s++,w=l.next();else{n??=new B8,r??=N8(e,s,o,t);const O=t(s,M);if(IM(e,n,s,O))e.updateValue(s,M),s++,o++,w=l.next();else if(r.has(O)){const N=t(s,S);n.set(N,e.detach(s)),o--}else e.attach(s,e.create(s,M)),s++,o++,w=l.next()}}for(;!w.done;)L8(e,n,t,e.length,w.value),w=l.next()}for(;s<=o;)e.destroy(e.detach(o--));n?.forEach(l=>{e.destroy(l)})}(o,e,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){const l=wc(),w=0===o.length;if(Is(n,l,w)){const S=t+2,M=kM(n,S);if(w){const P=RM(r,S),O=eg(M,P.tView.ssrId);px(M,mx(n,P,void 0,{dehydratedView:O}),0,tg(P,O))}else GD(M,0)}}}finally{m(i)}}function kM(e,i){return e[i]}function RM(e,i){return X0(e,i)}function q(e,i,t,n){const r=Se(),s=Gn(),o=fn+e,l=r[qi],w=s.firstCreatePass?function put(e,i,t,n,r,s){const o=i.consts,w=qp(i,e,2,n,Yc(o,r));return LD(i,t,w,Yc(o,s)),null!==w.attrs&&y_(w,w.attrs,!1),null!==w.mergedAttrs&&y_(w,w.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,w),w}(o,s,r,i,t,n):s.data[o],S=V8(s,r,w,l,i,e);r[o]=S;const M=Iw(w);return $c(w,!0),C5(l,S,w),!function Mx(e){return!(32&~e.flags)}(w)&&K0()&&s_(s,r,S,w),0===function ust(){return tn.lFrame.elementDepthCount}()&&ro(S,r),function hst(){tn.lFrame.elementDepthCount++}(),M&&(PD(s,r,w),RD(s,w,r)),null!==n&&FD(r,w),q}function et(){let e=Cr();O2()?L2():(e=e.parent,$c(e,!1));const i=e;(function mst(e){return tn.skipHydrationRootTNode===e})(i)&&function xst(){tn.skipHydrationRootTNode=null}(),function fst(){tn.lFrame.elementDepthCount--}();const t=Gn();return t.firstCreatePass&&(Pw(t,e),S2(e)&&t.queries.elementEnd(e)),null!=i.classesWithoutHost&&function kst(e){return!!(8&e.flags)}(i)&&AM(t,i,Se(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Rst(e){return!!(16&e.flags)}(i)&&AM(t,i,Se(),i.stylesWithoutHost,!1),et}function Te(e,i,t,n){return q(e,i,t,n),et(),Te}let V8=(e,i,t,n,r,s)=>(Qc(!0),i_(n,r,function X3(){return tn.lFrame.currentNamespace}()));function $i(e,i,t){const n=Se(),r=Gn(),s=e+fn,o=r.firstCreatePass?function xut(e,i,t,n,r){const s=i.consts,o=Yc(s,n),l=qp(i,e,8,"ng-container",o);return null!==o&&y_(l,o,!0),LD(i,t,l,Yc(s,r)),null!==i.queries&&i.queries.elementStart(i,l),l}(s,r,n,i,t):r.data[s];$c(o,!0);const l=U8(r,n,o,e);return n[s]=l,K0()&&s_(r,n,l,o),ro(l,n),Iw(o)&&(PD(r,n,o),RD(r,o,n)),null!=t&&FD(n,o),$i}function Qi(){let e=Cr();const i=Gn();return O2()?L2():(e=e.parent,$c(e,!1)),i.firstCreatePass&&(Pw(i,e),S2(e)&&i.queries.elementEnd(e)),Qi}function ca(e,i,t){return $i(e,i,t),Qi(),ca}let U8=(e,i,t,n)=>(Qc(!0),SD(i[qi],""));function ye(){return Se()}function nd(e,i,t){const n=Se();return Is(n,wc(),i)&&Zo(Gn(),Gr(),n,e,i,n[qi],t,!0),nd}function B_(e,i,t){const n=Se();if(Is(n,wc(),i)){const s=Gn(),o=Gr();Zo(s,o,n,e,i,B5(B2(s.data),o,n),t,!0)}return B_}const Gf=void 0;var _ut=["en",[["a","p"],["AM","PM"],Gf],[["AM","PM"],Gf,Gf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gf,"{1} 'at' {0}",Gf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wut(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let yg={};function Fo(e){const i=function Tut(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=G8(i);if(t)return t;const n=i.split("-")[0];if(t=G8(n),t)return t;if("en"===n)return _ut;throw new pe(701,!1)}function G8(e){return e in yg||(yg[e]=vr.ng&&vr.ng.common&&vr.ng.common.locales&&vr.ng.common.locales[e]),yg[e]}var Wr=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Wr||{});const bg="en-US";let H8=bg;function zt(e,i,t,n){const r=Se(),s=Gn(),o=Cr();return OM(s,r,r[qi],o,e,i,n),zt}function H_(e,i){const t=Cr(),n=Se(),r=Gn();return OM(r,n,B5(B2(r.data),t,n),t,e,i),H_}function OM(e,i,t,n,r,s,o){const l=Iw(n),S=e.firstCreatePass&&N5(e),M=i[zr],P=L5(i);let O=!0;if(3&n.type||o){const j=Ro(n,i),W=o?o(j):j,Z=P.length,rt=o?vt=>o(Ir(vt[n.index])):n.index;let st=null;if(!o&&l&&(st=function yht(e,i,t,n){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===n){const l=i[Np],w=r[s+2];return l.length>w?l[w]:null}"string"==typeof o&&(s+=2)}return null}(e,i,r,n.index)),null!==st)(st.__ngLastListenerFn__||st).__ngNextListenerFn__=s,st.__ngLastListenerFn__=s,O=!1;else{s=g6(n,i,M,s,!1);const vt=t.listen(W,r,s);P.push(s,vt),S&&S.push(r,rt,Z,Z+1)}}else s=g6(n,i,M,s,!1);const N=n.outputs;let U;if(O&&null!==N&&(U=N[r])){const j=U.length;if(j)for(let W=0;W<j;W+=2){const _t=i[U[W]][U[W+1]].subscribe(s),kt=P.length;P.push(s,_t),S&&S.push(r,n.index,kt,-(kt+1))}}}function p6(e,i,t,n){const r=m(null);try{return Xc(6,i,t),!1!==t(n)}catch(s){return d_(e,s),!1}finally{Xc(7,i,t),m(r)}}function g6(e,i,t,n,r){return function s(o){if(o===Function)return n;vx(e.componentOffset>-1?pl(e.index,i):i);let w=p6(i,t,n,o),S=s.__ngNextListenerFn__;for(;S;)w=p6(i,t,S,o)&&w,S=S.__ngNextListenerFn__;return r&&!1===w&&o.preventDefault(),w}}function Ct(e=1){return function Cst(e){return(tn.lFrame.contextLView=function F3(e,i){for(;e>0;)i=i[Bp],e--;return i}(e,tn.lFrame.contextLView))[zr]}(e)}function bht(e,i){let t=null;const n=function Trt(e){const i=e.attrs;if(null!=i){const t=i.indexOf(5);if(!(1&t))return i[t+1]}return null}(e);for(let r=0;r<i.length;r++){const s=i[r];if("*"!==s){if(null===n?d3(e,s,!0):Ert(n,s))return r}else t=r}return t}function er(e){const i=Se()[ps][to];if(!i.projection){const n=i.projection=function yw(e,i){const t=[];for(let n=0;n<e;n++)t.push(i);return t}(e?e.length:1,null),r=n.slice();let s=i.child;for(;null!==s;){const o=e?bht(s,e):0;null!==o&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s),s=s.next}}}function Ti(e,i=0,t){const n=Se(),r=Gn(),s=qp(r,fn+e,16,null,t||null);null===s.projection&&(s.projection=i),L2(),(!n[ml]||Gp())&&32&~s.flags&&function kot(e,i,t){_5(i[qi],0,i,t,AD(e,t,i),g5(t.parent||i[to],t,i))}(r,n,s)}function mh(e,i,t){return W_(e,"",i,"",t),mh}function W_(e,i,t,n,r){const s=Se(),o=dg(s,i,t,n);return o!==pn&&Zo(Gn(),Gr(),s,e,o,s[qi],r,!1),W_}function Pn(e,i,t,n){!function TV(e,i,t,n){const r=Gn();if(r.firstCreatePass){const s=Cr();CV(r,new yV(i,t,n),s.index),function Tct(e,i){const t=e.contentQueries||(e.contentQueries=[]);i!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,i)}(r,e),!(2&~t)&&(r.staticContentQueries=!0)}return wV(r,Se(),t)}(e,i,t,n)}function Pi(e,i,t){!function _V(e,i,t){const n=Gn();return n.firstCreatePass&&(CV(n,new yV(e,i,t),-1),!(2&~i)&&(n.staticViewQueries=!0)),wV(n,Se(),i)}(e,i,t)}function Ge(e){const i=Se(),t=Gn(),n=V2();Rw(n+1);const r=dM(t,n);if(e.dirty&&function lst(e){return!(4&~e[Vi])}(i)===!(2&~r.metadata.flags)){if(null===r.matches)e.reset([]);else{const s=SV(i,n);e.reset(s,pB),e.notifyOnChanges()}return!0}return!1}function He(){return function cM(e,i){return e[zd].queries[i].queryList}(Se(),V2())}function en(e){return zp(function yst(){return tn.lFrame.contextLView}(),fn+e)}function ut(e,i=""){const t=Se(),n=Gn(),r=e+fn,s=n.firstCreatePass?qp(n,r,1,i,null):n.data[r],o=F6(n,t,s,i,e);t[r]=o,K0()&&s_(n,t,o,s),$c(s,!1)}let F6=(e,i,t,n,r)=>(Qc(!0),function CD(e,i){return e.createText(i)}(i[qi],n));function qe(e){return Ke("",e,""),qe}function Ke(e,i,t){const n=Se(),r=dg(n,e,i,t);return r!==pn&&Xd(n,no(),r),Ke}function qo(e,i,t,n,r){const s=Se(),o=function ug(e,i,t,n,r,s){const l=Vf(e,Gd(),t,r);return Hd(2),l?i+hn(t)+n+hn(r)+s:pn}(s,e,i,t,n,r);return o!==pn&&Xd(s,no(),o),qo}function Ux(e,i,t,n,r,s,o){const l=Se(),w=function hg(e,i,t,n,r,s,o,l){const S=A_(e,Gd(),t,r,o);return Hd(3),S?i+hn(t)+n+hn(r)+s+hn(o)+l:pn}(l,e,i,t,n,r,s,o);return w!==pn&&Xd(l,no(),w),Ux}function Ca(e,i,t){AV(i)&&(i=i());const n=Se();return Is(n,wc(),i)&&Zo(Gn(),Gr(),n,e,i,n[qi],t,!1),Ca}function Ga(e,i){const t=AV(e);return t&&e.set(i),t}function Sa(e,i){const t=Se(),n=Gn(),r=Cr();return OM(n,t,t[qi],r,e,i),Sa}function LM(e,i,t,n,r){if(e=Yi(e),Array.isArray(e))for(let s=0;s<e.length;s++)LM(e[s],i,t,n,r);else{const s=Gn(),o=Se(),l=Cr();let w=Af(e)?e:Yi(e.provide);const S=x3(e),M=1048575&l.providerIndexes,P=l.directiveStart,O=l.providerIndexes>>20;if(Af(e)||!e.multi){const N=new Z0(S,r,mt),U=BM(w,i,r?M:M+O,P);-1===U?(Y2(Nw(l,o),s,w),NM(s,e,i.length),i.push(w),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(N),o.push(N)):(t[U]=N,o[U]=N)}else{const N=BM(w,i,M+O,P),U=BM(w,i,M,M+O),W=U>=0&&t[U];if(r&&!W||!r&&!(N>=0&&t[N])){Y2(Nw(l,o),s,w);const Z=function Vht(e,i,t,n,r){const s=new Z0(e,t,mt);return s.multi=[],s.index=i,s.componentProviders=0,z6(s,r,n&&!t),s}(r?Bht:Nht,t.length,r,n,S);!r&&W&&(t[U].providerFactory=Z),NM(s,e,i.length,0),i.push(w),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(Z),o.push(Z)}else NM(s,e,N>-1?N:U,z6(t[r?U:N],S,!r&&n));!r&&n&&W&&t[U].componentProviders++}}}function NM(e,i,t,n){const r=Af(i),s=function Lrt(e){return!!e.useClass}(i);if(r||s){const w=(s?Yi(i.useClass):i).prototype.ngOnDestroy;if(w){const S=e.destroyHooks||(e.destroyHooks=[]);if(!r&&i.multi){const M=S.indexOf(t);-1===M?S.push(t,[n,w]):S[M+1].push(n,w)}else S.push(t,w)}}}function z6(e,i,t){return t&&e.componentProviders++,e.multi.push(i)-1}function BM(e,i,t,n){for(let r=t;r<n;r++)if(i[r]===e)return r;return-1}function Nht(e,i,t,n){return VM(this.multi,[])}function Bht(e,i,t,n){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,l=Rf(t,t[ni],this.providerFactory.index,n);s=l.slice(0,o),VM(r,s);for(let w=o;w<l.length;w++)s.push(l[w])}else s=[],VM(r,s);return s}function VM(e,i){for(let t=0;t<e.length;t++)i.push((0,e[t])());return i}function yi(e,i=[]){return t=>{t.providersResolver=(n,r)=>function Lht(e,i,t){const n=Gn();if(n.firstCreatePass){const r=bc(e);LM(t,n.data,n.blueprint,r,!0),LM(i,n.data,n.blueprint,r,!1)}}(n,r?r(e):e,i)}}let Uht=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const n=p2(0,t.type),r=n.length>0?C_([n],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#t=this.\u0275prov=ke({token:e,providedIn:"environment",factory:()=>new e(ne(Qo))})}return e})();function Wi(e){qc("NgStandalone"),e.getStandaloneInjector=i=>i.get(Uht).getOrCreateStandaloneInjector(e)}function tl(e,i,t){const n=Po()+e,r=Se();return r[n]===pn?td(r,n,t?i.call(t):i()):function Dx(e,i){return e[i]}(r,n)}function _l(e,i,t,n){return H6(Se(),Po(),e,i,t,n)}function UM(e,i,t,n,r){return W6(Se(),Po(),e,i,t,n,r)}function zx(e,i){const t=e[i];return t===pn?void 0:t}function H6(e,i,t,n,r,s){const o=i+t;return Is(e,o,r)?td(e,o+1,s?n.call(s,r):n(r)):zx(e,o+1)}function W6(e,i,t,n,r,s,o){const l=i+t;return Vf(e,l,r,s)?td(e,l+2,o?n.call(o,r,s):n(r,s)):zx(e,l+2)}function gs(e,i){const t=Gn();let n;const r=e+fn;t.firstCreatePass?(n=function Kht(e,i){if(i)for(let t=i.length-1;t>=0;t--){const n=i[t];if(e===n.name)return n}}(i,t.pipeRegistry),t.data[r]=n,n.onDestroy&&(t.destroyHooks??=[]).push(r,n.onDestroy)):n=t.data[r];const s=n.factory||(n.factory=Sf(n.type)),l=Yo(mt);try{const w=Lw(!1),S=s();return Lw(w),function Cht(e,i,t,n){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),i[t]=n}(t,Se(),r,S),S}finally{Yo(l)}}function jl(e,i,t){const n=e+fn,r=Se(),s=zp(r,n);return Gx(r,n)?H6(r,Po(),i,s.transform,t,s):s.transform(t)}function Sc(e,i,t,n){const r=e+fn,s=Se(),o=zp(s,r);return Gx(s,r)?W6(s,Po(),i,o.transform,t,n,o):o.transform(t,n)}function $6(e,i,t,n,r){const s=e+fn,o=Se(),l=zp(o,s);return Gx(o,s)?function j6(e,i,t,n,r,s,o,l){const w=i+t;return A_(e,w,r,s,o)?td(e,w+3,l?n.call(l,r,s,o):n(r,s,o)):zx(e,w+3)}(o,Po(),i,l.transform,t,n,r,l):l.transform(t,n,r)}function Gx(e,i){return e[ni].data[i].pure}function wg(e,i){return h_(e,i)}let d9=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const p9=new se(""),$_=new se("");let $M,XM=(()=>{class e{constructor(t,n,r){this._ngZone=t,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,$M||(function jft(e){$M=e}(r),r.addToWindow(n)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{di.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(t)||(clearTimeout(n.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,n,r){let s=-1;n&&n>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},n)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,n,r){return[]}static#t=this.\u0275fac=function(n){return new(n||e)(ne(di),ne(YM),ne($_))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})(),YM=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,n){this._applications.set(t,n)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,n=!0){return $M?.findTestabilityInTree(this,t,n)??null}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function jx(e){return!!e&&"function"==typeof e.then}function g9(e){return!!e&&"function"==typeof e.subscribe}const QM=new se("");let KM=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,n)=>{this.resolve=t,this.reject=n}),this.appInits=xe(QM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if(jx(s))t.push(s);else if(g9(s)){const o=new Promise((l,w)=>{s.subscribe({complete:l,error:w})});t.push(o)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{n()}).catch(r=>{this.reject(r)}),0===t.length&&n(),this.initialized=!0}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ZM=new se("");function y9(e,i){return Array.isArray(i)?i.reduce(y9,e):{...e,...i}}let Yd=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=xe(fB),this.afterRenderEffectManager=xe(Tx),this.externalTestViews=new Set,this.beforeRender=new Ne,this.afterTick=new Ne,this.componentTypes=[],this.components=[],this.isStable=xe(uh).hasPendingTasks.pipe(Ri(t=>!t)),this._injector=xe(Qo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,n){const r=t instanceof J5;if(!this._injector.get(KM).done)throw!r&&function nh(e){const i=Rn(e)||sa(e)||Va(e);return null!==i&&i.standalone}(t),new pe(405,!1);let o;o=r?t:this._injector.get(Lf).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const l=function Xft(e){return e.isBoundToModule}(o)?void 0:this._injector.get(Bf),S=o.create(os.NULL,[],n||o.selector,l),M=S.location.nativeElement,P=S.injector.get(p9,null);return P?.registerApplication(M),S.onDestroy(()=>{this.detachView(S.hostView),Q_(this.components,S),P?.unregisterApplication(M)}),this._loadComponent(S),S}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new pe(101,!1);const n=m(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,m(n)}}detectChangesInAttachedViews(t){let n=0;const r=this.afterRenderEffectManager;for(;;){if(n===G5)throw new pe(103,!1);if(t){const s=0===n;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:l}of this._views)$ft(o,s,l)}if(n++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>JM(s))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>JM(s))))break}}attachView(t){const n=t;this._views.push(n),n.attachToAppRef(this)}detachView(t){const n=t;Q_(this._views,n),n.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const n=this._injector.get(ZM,[]);[...this._bootstrapListeners,...n].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Q_(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new pe(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Q_(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}function $ft(e,i,t){!i&&!JM(e)||function Qft(e,i,t){let n;t?(n=0,e[Vi]|=1024):n=64&e[Vi]?0:1,u_(e,i,n)}(e,t,i)}function JM(e){return R2(e)}class Kft{constructor(i,t){this.ngModuleFactory=i,this.componentFactories=t}}let b9=(()=>{class e{compileModuleSync(t){return new fM(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const n=this.compileModuleSync(t),s=bl(qa(t).declarations).reduce((o,l)=>{const w=Rn(l);return w&&o.push(new Ex(w)),o},[]);return new Kft(n,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qft=(()=>{class e{constructor(){this.zone=xe(di),this.applicationRef=xe(Yd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function tmt(){const e=xe(di),i=xe(xl);return t=>e.runOutsideAngular(()=>i.handleError(t))}let imt=(()=>{class e{constructor(){this.subscription=new Re,this.initialized=!1,this.zone=xe(di),this.pendingTasks=xe(uh)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{di.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{di.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const rd=new se("",{providedIn:"root",factory:()=>xe(rd,zn.Optional|zn.SkipSelf)||function nmt(){return typeof $localize<"u"&&$localize.locale||bg}()}),qM=new se("");let C9=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,n){const r=function qlt(e="zone.js",i){return"noop"===e?new rV:"zone.js"===e?new di(i):e}(n?.ngZone,function T9(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return r.run(()=>{const s=function jct(e,i,t){return new hM(e,i,t)}(t.moduleType,this.injector,function _9(e){return[{provide:di,useFactory:e},{provide:Ef,multi:!0,useFactory:()=>{const i=xe(qft,{optional:!0});return()=>i.initialize()}},{provide:Ef,multi:!0,useFactory:()=>{const i=xe(imt);return()=>{i.initialize()}}},{provide:fB,useFactory:tmt}]}(()=>r)),o=s.injector.get(xl,null);return r.runOutsideAngular(()=>{const l=r.onError.subscribe({next:w=>{o.handleError(w)}});s.onDestroy(()=>{Q_(this._modules,s),l.unsubscribe()})}),function x9(e,i,t){try{const n=t();return jx(n)?n.catch(r=>{throw i.runOutsideAngular(()=>e.handleError(r)),r}):n}catch(n){throw i.runOutsideAngular(()=>e.handleError(n)),n}}(o,r,()=>{const l=s.injector.get(KM);return l.runInitializers(),l.donePromise.then(()=>(function W8(e){"string"==typeof e&&(H8=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(rd,bg)||bg),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,n=[]){const r=y9({},n);return function Jft(e,i,t){const n=new fM(t);return Promise.resolve(n)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const n=t.injector.get(Yd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new pe(-403,!1);t.instance.ngDoBootstrap(n)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const t=this._injector.get(qM,null);t&&(t.forEach(n=>n()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#t=this.\u0275fac=function(n){return new(n||e)(ne(os))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),ph=null;const S9=new se("");function E9(e,i,t=[]){const n=`Platform: ${i}`,r=new se(n);return(s=[])=>{let o=tI();if(!o||o.injector.get(S9,!1)){const l=[...t,...s,{provide:r,useValue:!0}];e?e(l):function amt(e){if(ph&&!ph.get(S9,!1))throw new pe(400,!1);(function v9(){!function J(e){at=e}(()=>{throw new pe(600,!1)})})(),ph=e;const i=e.get(C9);(function D9(e){e.get(OB,null)?.forEach(t=>t())})(e)}(function A9(e=[],i){return os.create({name:i,providers:[{provide:x2,useValue:"platform"},{provide:qM,useValue:new Set([()=>ph=null])},...e]})}(l,n))}return function omt(e){const i=tI();if(!i)throw new pe(401,!1);return i}()}}function tI(){return ph?.get(C9)??null}let Fn=(()=>{class e{static#t=this.__NG_ELEMENT_ID__=cmt}return e})();function cmt(e){return function dmt(e,i,t){if(Mf(e)&&!t){const n=pl(e.index,i);return new xx(n,n)}return 47&e.type?new xx(i[ps],i):null}(Cr(),Se(),!(16&~e))}class P9{constructor(){}supports(i){return E_(i)}create(i){return new pmt(i)}}const mmt=(e,i)=>i;class pmt{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||mmt}forEachItem(i){let t;for(t=this._itHead;null!==t;t=t._next)i(t)}forEachOperation(i){let t=this._itHead,n=this._removalsHead,r=0,s=null;for(;t||n;){const o=!n||t&&t.currentIndex<O9(n,r,s)?t:n,l=O9(o,r,s),w=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const S=l-r,M=w-r;if(S!=M){for(let O=0;O<S;O++){const N=O<s.length?s[O]:s[O]=0,U=N+O;M<=U&&U<S&&(s[O]=N+1)}s[o.previousIndex]=M-S}}l!==w&&i(o,l,w)}}forEachPreviousItem(i){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)i(t)}forEachAddedItem(i){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)i(t)}forEachMovedItem(i){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)i(t)}forEachRemovedItem(i){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)i(t)}forEachIdentityChange(i){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)i(t)}diff(i){if(null==i&&(i=[]),!E_(i))throw new pe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let r,s,o,t=this._itHead,n=!1;if(Array.isArray(i)){this.length=i.length;for(let l=0;l<this.length;l++)s=i[l],o=this._trackByFn(l,s),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,s,o,l)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,l),n=!0),t=t._next}else r=0,function Qct(e,i){if(Array.isArray(e))for(let t=0;t<e.length;t++)i(e[t]);else{const t=e[Symbol.iterator]();let n;for(;!(n=t.next()).done;)i(n.value)}}(i,l=>{o=this._trackByFn(r,l),null!==t&&Object.is(t.trackById,o)?(n&&(t=this._verifyReinsertion(t,l,o,r)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,o,r),n=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,t,n,r){let s;return null===i?s=this._itTail:(s=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(i.item,t)||this._addIdentityChange(i,t),this._reinsertAfter(i,s,r)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(i.item,t)||this._addIdentityChange(i,t),this._moveAfter(i,s,r)):i=this._addAfter(new gmt(t,n),s,r),i}_verifyReinsertion(i,t,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?i=this._reinsertAfter(s,i._prev,r):i.currentIndex!=r&&(i.currentIndex=r,this._addToMoves(i,r)),i}_truncate(i){for(;null!==i;){const t=i._next;this._addToRemovals(this._unlink(i)),i=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const r=i._prevRemoved,s=i._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(i,t,n),this._addToMoves(i,n),i}_moveAfter(i,t,n){return this._unlink(i),this._insertAfter(i,t,n),this._addToMoves(i,n),i}_addAfter(i,t,n){return this._insertAfter(i,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,t,n){const r=null===t?this._itHead:t._next;return i._next=r,i._prev=t,null===r?this._itTail=i:r._prev=i,null===t?this._itHead=i:t._next=i,null===this._linkedRecords&&(this._linkedRecords=new F9),this._linkedRecords.put(i),i.currentIndex=n,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const t=i._prev,n=i._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,i}_addToMoves(i,t){return i.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new F9),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,t){return i.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class gmt{constructor(i,t){this.item=i,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vmt{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,i))return n;return null}remove(i){const t=i._prevDup,n=i._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class F9{constructor(){this.map=new Map}put(i){const t=i.trackById;let n=this.map.get(t);n||(n=new vmt,this.map.set(t,n)),n.add(i)}get(i,t){const r=this.map.get(i);return r?r.get(i,t):null}remove(i){const t=i.trackById;return this.map.get(t).remove(i)&&this.map.delete(t),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function O9(e,i,t){const n=e.previousIndex;if(null===n)return n;let r=0;return t&&n<t.length&&(r=t[n]),n+i+r}class L9{constructor(){}supports(i){return i instanceof Map||mM(i)}create(){return new xmt}}class xmt{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let t;for(t=this._mapHead;null!==t;t=t._next)i(t)}forEachPreviousItem(i){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)i(t)}forEachChangedItem(i){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)i(t)}forEachAddedItem(i){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)i(t)}forEachRemovedItem(i){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)i(t)}diff(i){if(i){if(!(i instanceof Map||mM(i)))throw new pe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(i,(n,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,n);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,t){if(i){const n=i._prev;return t._next=i,t._prev=n,i._prev=t,n&&(n._next=t),i===this._mapHead&&(this._mapHead=t),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(i,t){if(this._records.has(i)){const r=this._records.get(i);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const n=new ymt(i);return this._records.set(i,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,t){Object.is(t,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=t,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,t){i instanceof Map?i.forEach(t):Object.keys(i).forEach(n=>t(i[n],n))}}class ymt{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function N9(){return new gh([new P9])}let gh=(()=>{class e{static#t=this.\u0275prov=ke({token:e,providedIn:"root",factory:N9});constructor(t){this.factories=t}static create(t,n){if(null!=n){const r=n.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||N9()),deps:[[e,new Cf,new Ud]]}}find(t){const n=this.factories.find(r=>r.supports(t));if(null!=n)return n;throw new pe(901,!1)}}return e})();function B9(){return new q_([new L9])}let q_=(()=>{class e{static#t=this.\u0275prov=ke({token:e,providedIn:"root",factory:B9});constructor(t){this.factories=t}static create(t,n){if(n){const r=n.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||B9()),deps:[[e,new Cf,new Ud]]}}find(t){const n=this.factories.find(r=>r.supports(t));if(n)return n;throw new pe(901,!1)}}return e})();const _mt=E9(null,"core",[]);let Tmt=(()=>{class e{constructor(t){}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Yd))};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({})}return e})();function si(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function Jr(e,i=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?i:Number(e)}function aU(e){const i=m(null);try{return e()}finally{m(i)}}const qmt=new se("",{providedIn:"root",factory:()=>xe(tpt)});let tpt=(()=>{class e{static#t=this.\u0275prov=ke({token:e,providedIn:"root",factory:()=>new ept})}return e})();class ept{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=xe(uh),this.taskId=null}scheduleEffect(i){if(this.enqueue(i),null===this.taskId){const t=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(t),this.taskId=null})}}enqueue(i){const t=i.creationZone;this.queues.has(t)||this.queues.set(t,new Set);const n=this.queues.get(t);n.has(i)||(this.queuedEffectCount++,n.add(i))}flush(){for(;this.queuedEffectCount>0;)for(const[i,t]of this.queues)null===i?this.flushQueue(t):i.run(()=>this.flushQueue(t))}flushQueue(i){for(const t of i)i.delete(t),this.queuedEffectCount--,t.run()}}class ipt{constructor(i,t,n,r,s,o){this.scheduler=i,this.effectFn=t,this.creationZone=n,this.injector=s,this.watcher=function Vt(e,i,t){const n=Object.create(Jt);t&&(n.consumerAllowSignalWrites=!0),n.fn=e,n.schedule=i;const r=w=>{n.cleanupFn=w};return n.ref={notify:()=>b(n),run:()=>{if(null===n.fn)return;if(function h(){return a}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(n.dirty=!1,n.hasRun&&!A(n))return;n.hasRun=!0;const w=_(n);try{n.cleanupFn(),n.cleanupFn=Zt,n.fn(r)}finally{E(n,w)}},cleanup:()=>n.cleanupFn(),destroy:()=>function o(w){(function s(w){return null===w.fn&&null===w.schedule})(w)||(D(w),w.cleanupFn(),w.fn=null,w.schedule=null,w.cleanupFn=Zt)}(n),[T]:n},n.ref}(l=>this.runEffect(l),()=>this.schedule(),o),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(i){try{this.effectFn(i)}catch(t){this.injector.get(xl,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}let lU=null;function vh(){return lU}class spt{}const Gi=new se("");let oI=(()=>{class e{historyGo(t){throw new Error("")}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:()=>xe(opt),providedIn:"platform"})}return e})();const apt=new se("");let opt=(()=>{class e extends oI{constructor(){super(),this._doc=xe(Gi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vh().getBaseHref(this._doc)}onPopState(t){const n=vh().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",t,!1),()=>n.removeEventListener("popstate",t)}onHashChange(t){const n=vh().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",t,!1),()=>n.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,n,r){this._history.pushState(t,n,r)}replaceState(t,n,r){this._history.replaceState(t,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function lI(e,i){if(0==e.length)return i;if(0==i.length)return e;let t=0;return e.endsWith("/")&&t++,i.startsWith("/")&&t++,2==t?e+i.substring(1):1==t?e+i:e+"/"+i}function cU(e){const i=e.match(/#|\?|$/),t=i&&i.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function $d(e){return e&&"?"!==e[0]?"?"+e:e}let jf=(()=>{class e{historyGo(t){throw new Error("")}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:()=>xe(uU),providedIn:"root"})}return e})();const dU=new se("");let uU=(()=>{class e extends jf{constructor(t,n){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??xe(Gi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return lI(this._baseHref,t)}path(t=!1){const n=this._platformLocation.pathname+$d(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${n}${r}`:n}pushState(t,n,r,s){const o=this.prepareExternalUrl(r+$d(s));this._platformLocation.pushState(t,n,o)}replaceState(t,n,r,s){const o=this.prepareExternalUrl(r+$d(s));this._platformLocation.replaceState(t,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#t=this.\u0275fac=function(n){return new(n||e)(ne(oI),ne(dU,8))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lpt=(()=>{class e extends jf{constructor(t,n){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(t){const n=lI(this._baseHref,t);return n.length>0?"#"+n:n}pushState(t,n,r,s){let o=this.prepareExternalUrl(r+$d(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,n,o)}replaceState(t,n,r,s){let o=this.prepareExternalUrl(r+$d(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#t=this.\u0275fac=function(n){return new(n||e)(ne(oI),ne(dU,8))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})(),Xf=(()=>{class e{constructor(t){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const n=this._locationStrategy.getBaseHref();this._basePath=function upt(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(cU(hU(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+$d(n))}normalize(t){return e.stripTrailingSlash(function dpt(e,i){if(!e||!i.startsWith(e))return i;const t=i.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:i}(this._basePath,hU(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,n="",r=null){this._locationStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$d(n)),r)}replaceState(t,n="",r=null){this._locationStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$d(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{const n=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",n){this._urlChangeListeners.forEach(r=>r(t,n))}subscribe(t,n,r){return this._subject.subscribe({next:t,error:n,complete:r})}static#t=this.normalizeQueryParams=$d;static#e=this.joinWithSlash=lI;static#i=this.stripTrailingSlash=cU;static#n=this.\u0275fac=function(n){return new(n||e)(ne(jf))};static#r=this.\u0275prov=ke({token:e,factory:()=>function cpt(){return new Xf(ne(jf))}(),providedIn:"root"})}return e})();function hU(e){return e.replace(/\/index.html$/,"")}var sT=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(sT||{}),Lo=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Lo||{}),Nr=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Nr||{}),Tl=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Tl||{});const Qs={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function aT(e,i){return Yl(Fo(e)[Wr.DateFormat],i)}function oT(e,i){return Yl(Fo(e)[Wr.TimeFormat],i)}function lT(e,i){return Yl(Fo(e)[Wr.DateTimeFormat],i)}function Xl(e,i){const t=Fo(e),n=t[Wr.NumberSymbols][i];if(typeof n>"u"){if(i===Qs.CurrencyDecimal)return t[Wr.NumberSymbols][Qs.Decimal];if(i===Qs.CurrencyGroup)return t[Wr.NumberSymbols][Qs.Group]}return n}function mU(e){if(!e[Wr.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Wr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Yl(e,i){for(let t=i;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function dI(e){const[i,t]=e.split(":");return{hours:+i,minutes:+t}}const Spt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,cT={},Ept=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Qd=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(Qd||{}),hr=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(hr||{}),fr=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(fr||{});function Apt(e,i,t,n){let r=function Lpt(e){if(vU(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[r,s=1,o=1]=e.split("-").map(l=>+l);return dT(r,s-1,o)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(Spt))return function Npt(e){const i=new Date(0);let t=0,n=0;const r=e[8]?i.setUTCFullYear:i.setFullYear,s=e[8]?i.setUTCHours:i.setHours;e[9]&&(t=Number(e[9]+e[10]),n=Number(e[9]+e[11])),r.call(i,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-t,l=Number(e[5]||0)-n,w=Number(e[6]||0),S=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(i,o,l,w,S),i}(n)}const i=new Date(e);if(!vU(i))throw new Error(`Unable to convert "${e}" into a date`);return i}(e);i=Kd(t,i)||i;let l,o=[];for(;i;){if(l=Ept.exec(i),!l){o.push(i);break}{o=o.concat(l.slice(1));const M=o.pop();if(!M)break;i=M}}let w=r.getTimezoneOffset();n&&(w=gU(n,w),r=function Opt(e,i,t){const n=t?-1:1,r=e.getTimezoneOffset();return function Fpt(e,i){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+i),e}(e,n*(gU(i,r)-r))}(r,n,!0));let S="";return o.forEach(M=>{const P=function Ppt(e){if(hI[e])return hI[e];let i;switch(e){case"G":case"GG":case"GGG":i=jr(fr.Eras,Nr.Abbreviated);break;case"GGGG":i=jr(fr.Eras,Nr.Wide);break;case"GGGGG":i=jr(fr.Eras,Nr.Narrow);break;case"y":i=Ks(hr.FullYear,1,0,!1,!0);break;case"yy":i=Ks(hr.FullYear,2,0,!0,!0);break;case"yyy":i=Ks(hr.FullYear,3,0,!1,!0);break;case"yyyy":i=Ks(hr.FullYear,4,0,!1,!0);break;case"Y":i=mT(1);break;case"YY":i=mT(2,!0);break;case"YYY":i=mT(3);break;case"YYYY":i=mT(4);break;case"M":case"L":i=Ks(hr.Month,1,1);break;case"MM":case"LL":i=Ks(hr.Month,2,1);break;case"MMM":i=jr(fr.Months,Nr.Abbreviated);break;case"MMMM":i=jr(fr.Months,Nr.Wide);break;case"MMMMM":i=jr(fr.Months,Nr.Narrow);break;case"LLL":i=jr(fr.Months,Nr.Abbreviated,Lo.Standalone);break;case"LLLL":i=jr(fr.Months,Nr.Wide,Lo.Standalone);break;case"LLLLL":i=jr(fr.Months,Nr.Narrow,Lo.Standalone);break;case"w":i=uI(1);break;case"ww":i=uI(2);break;case"W":i=uI(1,!0);break;case"d":i=Ks(hr.Date,1);break;case"dd":i=Ks(hr.Date,2);break;case"c":case"cc":i=Ks(hr.Day,1);break;case"ccc":i=jr(fr.Days,Nr.Abbreviated,Lo.Standalone);break;case"cccc":i=jr(fr.Days,Nr.Wide,Lo.Standalone);break;case"ccccc":i=jr(fr.Days,Nr.Narrow,Lo.Standalone);break;case"cccccc":i=jr(fr.Days,Nr.Short,Lo.Standalone);break;case"E":case"EE":case"EEE":i=jr(fr.Days,Nr.Abbreviated);break;case"EEEE":i=jr(fr.Days,Nr.Wide);break;case"EEEEE":i=jr(fr.Days,Nr.Narrow);break;case"EEEEEE":i=jr(fr.Days,Nr.Short);break;case"a":case"aa":case"aaa":i=jr(fr.DayPeriods,Nr.Abbreviated);break;case"aaaa":i=jr(fr.DayPeriods,Nr.Wide);break;case"aaaaa":i=jr(fr.DayPeriods,Nr.Narrow);break;case"b":case"bb":case"bbb":i=jr(fr.DayPeriods,Nr.Abbreviated,Lo.Standalone,!0);break;case"bbbb":i=jr(fr.DayPeriods,Nr.Wide,Lo.Standalone,!0);break;case"bbbbb":i=jr(fr.DayPeriods,Nr.Narrow,Lo.Standalone,!0);break;case"B":case"BB":case"BBB":i=jr(fr.DayPeriods,Nr.Abbreviated,Lo.Format,!0);break;case"BBBB":i=jr(fr.DayPeriods,Nr.Wide,Lo.Format,!0);break;case"BBBBB":i=jr(fr.DayPeriods,Nr.Narrow,Lo.Format,!0);break;case"h":i=Ks(hr.Hours,1,-12);break;case"hh":i=Ks(hr.Hours,2,-12);break;case"H":i=Ks(hr.Hours,1);break;case"HH":i=Ks(hr.Hours,2);break;case"m":i=Ks(hr.Minutes,1);break;case"mm":i=Ks(hr.Minutes,2);break;case"s":i=Ks(hr.Seconds,1);break;case"ss":i=Ks(hr.Seconds,2);break;case"S":i=Ks(hr.FractionalSeconds,1);break;case"SS":i=Ks(hr.FractionalSeconds,2);break;case"SSS":i=Ks(hr.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":i=hT(Qd.Short);break;case"ZZZZZ":i=hT(Qd.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":i=hT(Qd.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":i=hT(Qd.Long);break;default:return null}return hI[e]=i,i}(M);S+=P?P(r,t,w):"''"===M?"'":M.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),S}function dT(e,i,t){const n=new Date(0);return n.setFullYear(e,i,t),n.setHours(0,0,0),n}function Kd(e,i){const t=function fpt(e){return Fo(e)[Wr.LocaleId]}(e);if(cT[t]??={},cT[t][i])return cT[t][i];let n="";switch(i){case"shortDate":n=aT(e,Tl.Short);break;case"mediumDate":n=aT(e,Tl.Medium);break;case"longDate":n=aT(e,Tl.Long);break;case"fullDate":n=aT(e,Tl.Full);break;case"shortTime":n=oT(e,Tl.Short);break;case"mediumTime":n=oT(e,Tl.Medium);break;case"longTime":n=oT(e,Tl.Long);break;case"fullTime":n=oT(e,Tl.Full);break;case"short":const r=Kd(e,"shortTime"),s=Kd(e,"shortDate");n=uT(lT(e,Tl.Short),[r,s]);break;case"medium":const o=Kd(e,"mediumTime"),l=Kd(e,"mediumDate");n=uT(lT(e,Tl.Medium),[o,l]);break;case"long":const w=Kd(e,"longTime"),S=Kd(e,"longDate");n=uT(lT(e,Tl.Long),[w,S]);break;case"full":const M=Kd(e,"fullTime"),P=Kd(e,"fullDate");n=uT(lT(e,Tl.Full),[M,P])}return n&&(cT[t][i]=n),n}function uT(e,i){return i&&(e=e.replace(/\{([^}]+)}/g,function(t,n){return null!=i&&n in i?i[n]:t})),e}function Ec(e,i,t="-",n,r){let s="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,s=t));let o=String(e);for(;o.length<i;)o="0"+o;return n&&(o=o.slice(o.length-i)),s+o}function Ks(e,i,t=0,n=!1,r=!1){return function(s,o){let l=function Mpt(e,i){switch(e){case hr.FullYear:return i.getFullYear();case hr.Month:return i.getMonth();case hr.Date:return i.getDate();case hr.Hours:return i.getHours();case hr.Minutes:return i.getMinutes();case hr.Seconds:return i.getSeconds();case hr.FractionalSeconds:return i.getMilliseconds();case hr.Day:return i.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((t>0||l>-t)&&(l+=t),e===hr.Hours)0===l&&-12===t&&(l=12);else if(e===hr.FractionalSeconds)return function Dpt(e,i){return Ec(e,3).substring(0,i)}(l,i);const w=Xl(o,Qs.MinusSign);return Ec(l,i,w,n,r)}}function jr(e,i,t=Lo.Format,n=!1){return function(r,s){return function Ipt(e,i,t,n,r,s){switch(t){case fr.Months:return function gpt(e,i,t){const n=Fo(e),s=Yl([n[Wr.MonthsFormat],n[Wr.MonthsStandalone]],i);return Yl(s,t)}(i,r,n)[e.getMonth()];case fr.Days:return function ppt(e,i,t){const n=Fo(e),s=Yl([n[Wr.DaysFormat],n[Wr.DaysStandalone]],i);return Yl(s,t)}(i,r,n)[e.getDay()];case fr.DayPeriods:const o=e.getHours(),l=e.getMinutes();if(s){const S=function bpt(e){const i=Fo(e);return mU(i),(i[Wr.ExtraData][2]||[]).map(n=>"string"==typeof n?dI(n):[dI(n[0]),dI(n[1])])}(i),M=function wpt(e,i,t){const n=Fo(e);mU(n);const s=Yl([n[Wr.ExtraData][0],n[Wr.ExtraData][1]],i)||[];return Yl(s,t)||[]}(i,r,n),P=S.findIndex(O=>{if(Array.isArray(O)){const[N,U]=O,j=o>=N.hours&&l>=N.minutes,W=o<U.hours||o===U.hours&&l<U.minutes;if(N.hours<U.hours){if(j&&W)return!0}else if(j||W)return!0}else if(O.hours===o&&O.minutes===l)return!0;return!1});if(-1!==P)return M[P]}return function mpt(e,i,t){const n=Fo(e),s=Yl([n[Wr.DayPeriodsFormat],n[Wr.DayPeriodsStandalone]],i);return Yl(s,t)}(i,r,n)[o<12?0:1];case fr.Eras:return function vpt(e,i){return Yl(Fo(e)[Wr.Eras],i)}(i,n)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,e,i,t,n)}}function hT(e){return function(i,t,n){const r=-1*n,s=Xl(t,Qs.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case Qd.Short:return(r>=0?"+":"")+Ec(o,2,s)+Ec(Math.abs(r%60),2,s);case Qd.ShortGMT:return"GMT"+(r>=0?"+":"")+Ec(o,1,s);case Qd.Long:return"GMT"+(r>=0?"+":"")+Ec(o,2,s)+":"+Ec(Math.abs(r%60),2,s);case Qd.Extended:return 0===n?"Z":(r>=0?"+":"")+Ec(o,2,s)+":"+Ec(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}const kpt=0,fT=4;function pU(e){const i=e.getDay(),t=0===i?-3:fT-i;return dT(e.getFullYear(),e.getMonth(),e.getDate()+t)}function uI(e,i=!1){return function(t,n){let r;if(i){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{const s=pU(t),o=function Rpt(e){const i=dT(e,kpt,1).getDay();return dT(e,0,1+(i<=fT?fT:fT+7)-i)}(s.getFullYear()),l=s.getTime()-o.getTime();r=1+Math.round(l/6048e5)}return Ec(r,e,Xl(n,Qs.MinusSign))}}function mT(e,i=!1){return function(t,n){return Ec(pU(t).getFullYear(),e,Xl(n,Qs.MinusSign),i)}}const hI={};function gU(e,i){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?i:t}function vU(e){return e instanceof Date&&!isNaN(e.valueOf())}const Bpt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function gI(e){const i=parseInt(e);if(isNaN(i))throw new Error("Invalid integer literal when parsing "+e);return i}function wU(e,i){i=encodeURIComponent(i);for(const t of e.split(";")){const n=t.indexOf("="),[r,s]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)];if(r.trim()===i)return decodeURIComponent(s)}return null}const xI=/\s+/,_U=[];let Ac=(()=>{class e{constructor(t,n){this._ngEl=t,this._renderer=n,this.initialClasses=_U,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(xI):_U}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(xI):t}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const n of t)this._updateState(n,!0);else if(null!=t)for(const n of Object.keys(t))this._updateState(n,!!t[n]);this._applyStateDiff()}_updateState(t,n){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(t,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const n=t[0],r=t[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(t,n){(t=t.trim()).length>0&&t.split(xI).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(_c))};static#e=this.\u0275dir=me({type:e,selectors:[["","ngClass",""]],inputs:{klass:[$t.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class Kpt{constructor(i,t,n,r){this.$implicit=i,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ws=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,n,r){this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const n=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new Kpt(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)n.remove(null===s?void 0:s);else if(null!==s){const l=n.get(s);n.move(l,o),CU(l,r)}});for(let r=0,s=n.length;r<s;r++){const l=n.get(r).context;l.index=r,l.count=s,l.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{CU(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,n){return!0}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lr),mt(xr),mt(gh))};static#e=this.\u0275dir=me({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function CU(e,i){e.context.$implicit=i.item}let Fs=(()=>{class e{constructor(t,n){this._viewContainer=t,this._context=new Zpt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){SU("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){SU("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,n){return!0}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lr),mt(xr))};static#e=this.\u0275dir=me({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class Zpt{constructor(){this.$implicit=null,this.ngIf=null}}function SU(e,i){if(i&&!i.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ra(i)}'.`)}let AU=(()=>{class e{constructor(t,n,r){this._ngEl=t,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,n){const[r,s]=t.split("."),o=-1===r.indexOf("-")?void 0:lh.DashCase;null!=n?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${n}${s}`:n,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(t){t.forEachRemovedItem(n=>this._setStyle(n.key,null)),t.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),t.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(q_),mt(_c))};static#e=this.\u0275dir=me({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return e})(),gT=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,n,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,n,r),get:(t,n,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,r)}})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lr))};static#e=this.\u0275dir=me({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ar]})}return e})();function Dc(e,i){return new pe(2100,!1)}class igt{createSubscription(i,t){return aU(()=>i.subscribe({next:t,error:n=>{throw n}}))}dispose(i){aU(()=>i.unsubscribe())}}class ngt{createSubscription(i,t){return i.then(t,n=>{throw n})}dispose(i){}}const rgt=new ngt,sgt=new igt;let wI=(()=>{class e{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,n=>this._updateLatestValue(t,n))}_selectStrategy(t){if(jx(t))return rgt;if(g9(t))return sgt;throw Dc()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,n){t===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Fn,16))};static#e=this.\u0275pipe=Ja({name:"async",type:e,pure:!1,standalone:!0})}return e})();const ogt=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let _I=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw Dc();return t.replace(ogt,n=>n[0].toUpperCase()+n.slice(1).toLowerCase())}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275pipe=Ja({name:"titlecase",type:e,pure:!0,standalone:!0})}return e})(),TI=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw Dc();return t.toUpperCase()}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275pipe=Ja({name:"uppercase",type:e,pure:!0,standalone:!0})}return e})();const cgt=new se(""),dgt=new se("");let Zd=(()=>{class e{constructor(t,n,r){this.locale=t,this.defaultTimezone=n,this.defaultOptions=r}transform(t,n,r,s){if(null==t||""===t||t!=t)return null;try{return Apt(t,n??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw Dc()}}static#t=this.\u0275fac=function(n){return new(n||e)(mt(rd,16),mt(cgt,24),mt(dgt,24))};static#e=this.\u0275pipe=Ja({name:"date",type:e,pure:!0,standalone:!0})}return e})(),DU=(()=>{class e{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=MU}transform(t,n=MU){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ??=this.differs.find(t).create();const r=this.differ.diff(t),s=n!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(o=>{this.keyValues.push(function pgt(e,i){return{key:e,value:i}}(o.key,o.currentValue))})),(r||s)&&(this.keyValues.sort(n),this.compareFn=n),this.keyValues}static#t=this.\u0275fac=function(n){return new(n||e)(mt(q_,16))};static#e=this.\u0275pipe=Ja({name:"keyvalue",type:e,pure:!1,standalone:!0})}return e})();function MU(e,i){const t=e.key,n=i.key;if(t===n)return 0;if(void 0===t)return 1;if(void 0===n)return-1;if(null===t)return 1;if(null===n)return-1;if("string"==typeof t&&"string"==typeof n)return t<n?-1:1;if("number"==typeof t&&"number"==typeof n)return t-n;if("boolean"==typeof t&&"boolean"==typeof n)return t<n?-1:1;const r=String(t),s=String(n);return r==s?0:r<s?-1:1}let IU=(()=>{class e{constructor(t){this._locale=t}transform(t,n,r){if(!function CI(e){return!(null==e||""===e||e!=e)}(t))return null;r||=this._locale;try{return function Wpt(e,i,t){return function mI(e,i,t,n,r,s,o=!1){let l="",w=!1;if(isFinite(e)){let S=function Xpt(e){let n,r,s,o,l,i=Math.abs(e)+"",t=0;for((r=i.indexOf("."))>-1&&(i=i.replace(".","")),(s=i.search(/e/i))>0?(r<0&&(r=s),r+=+i.slice(s+1),i=i.substring(0,s)):r<0&&(r=i.length),s=0;"0"===i.charAt(s);s++);if(s===(l=i.length))n=[0],r=1;else{for(l--;"0"===i.charAt(l);)l--;for(r-=s,n=[],o=0;s<=l;s++,o++)n[o]=Number(i.charAt(s))}return r>22&&(n=n.splice(0,21),t=r-1,r=1),{digits:n,exponent:t,integerLen:r}}(e);o&&(S=function jpt(e){if(0===e.digits[0])return e;const i=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===i?e.digits.push(0,0):1===i&&e.digits.push(0),e.integerLen+=2),e}(S));let M=i.minInt,P=i.minFrac,O=i.maxFrac;if(s){const rt=s.match(Bpt);if(null===rt)throw new Error(`${s} is not a valid digit info`);const st=rt[1],vt=rt[3],_t=rt[5];null!=st&&(M=gI(st)),null!=vt&&(P=gI(vt)),null!=_t?O=gI(_t):null!=vt&&P>O&&(O=P)}!function Ypt(e,i,t){if(i>t)throw new Error(`The minimum number of digits after fraction (${i}) is higher than the maximum (${t}).`);let n=e.digits,r=n.length-e.integerLen;const s=Math.min(Math.max(i,r),t);let o=s+e.integerLen,l=n[o];if(o>0){n.splice(Math.max(e.integerLen,o));for(let P=o;P<n.length;P++)n[P]=0}else{r=Math.max(0,r),e.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let P=1;P<o;P++)n[P]=0}if(l>=5)if(o-1<0){for(let P=0;P>o;P--)n.unshift(0),e.integerLen++;n.unshift(1),e.integerLen++}else n[o-1]++;for(;r<Math.max(0,s);r++)n.push(0);let w=0!==s;const S=i+e.integerLen,M=n.reduceRight(function(P,O,N,U){return U[N]=(O+=P)<10?O:O-10,w&&(0===U[N]&&N>=S?U.pop():w=!1),O>=10?1:0},0);M&&(n.unshift(M),e.integerLen++)}(S,P,O);let N=S.digits,U=S.integerLen;const j=S.exponent;let W=[];for(w=N.every(rt=>!rt);U<M;U++)N.unshift(0);for(;U<0;U++)N.unshift(0);U>0?W=N.splice(U,N.length):(W=N,N=[0]);const Z=[];for(N.length>=i.lgSize&&Z.unshift(N.splice(-i.lgSize,N.length).join(""));N.length>i.gSize;)Z.unshift(N.splice(-i.gSize,N.length).join(""));N.length&&Z.unshift(N.join("")),l=Z.join(Xl(t,n)),W.length&&(l+=Xl(t,r)+W.join("")),j&&(l+=Xl(t,Qs.Exponential)+"+"+j)}else l=Xl(t,Qs.Infinity);return l=e<0&&!w?i.negPre+l+i.negSuf:i.posPre+l+i.posSuf,l}(e,function pI(e,i="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=e.split(";"),r=n[0],s=n[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],l=o[0],w=o[1]||"";t.posPre=l.substring(0,l.indexOf("#"));for(let M=0;M<w.length;M++){const P=w.charAt(M);"0"===P?t.minFrac=t.maxFrac=M+1:"#"===P?t.maxFrac=M+1:t.posSuf+=P}const S=l.split(",");if(t.gSize=S[1]?S[1].length:0,t.lgSize=S[2]||S[1]?(S[2]||S[1]).length:0,s){const M=r.length-t.posPre.length-t.posSuf.length,P=s.indexOf("#");t.negPre=s.substring(0,P).replace(/'/g,""),t.negSuf=s.slice(P+M).replace(/'/g,"")}else t.negPre=i+t.posPre,t.negSuf=t.posSuf;return t}(function cI(e,i){return Fo(e)[Wr.NumberFormats][i]}(i,sT.Decimal),Xl(i,Qs.MinusSign)),i,Qs.Group,Qs.Decimal,t)}(function SI(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(t),r,n)}catch(s){throw Dc()}}static#t=this.\u0275fac=function(n){return new(n||e)(mt(rd,16))};static#e=this.\u0275pipe=Ja({name:"number",type:e,pure:!0,standalone:!0})}return e})();let kU=(()=>{class e{transform(t,n,r){if(null==t)return null;if(!this.supports(t))throw Dc();return t.slice(n,r)}supports(t){return"string"==typeof t||Array.isArray(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275pipe=Ja({name:"slice",type:e,pure:!1,standalone:!0})}return e})(),sd=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({})}return e})();const RU="browser";function PU(e){return e===RU}function FU(e){return"server"===e}let wgt=(()=>{class e{static#t=this.\u0275prov=ke({token:e,providedIn:"root",factory:()=>PU(xe(Wd))?new _gt(xe(Gi),window):new Cgt})}return e})();class _gt{constructor(i,t){this.document=i,this.window=t,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(i){this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){const t=function Tgt(e,i){const t=e.getElementById(i)||e.getElementsByName(i)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(i)||s.querySelector(`[name="${i}"]`);if(o)return o}r=n.nextNode()}}return null}(this.document,i);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(i){this.window.history.scrollRestoration=i}scrollToElement(i){const t=i.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}}class Cgt{setOffset(i){}getScrollPosition(){return[0,0]}scrollToPosition(i){}scrollToAnchor(i){}setHistoryScrollRestoration(i){}}class OU{}class Jgt extends spt{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class AI extends Jgt{static makeCurrent(){!function rpt(e){lU??=e}(new AI)}onAndCancel(i,t,n){return i.addEventListener(t,n),()=>{i.removeEventListener(t,n)}}dispatchEvent(i,t){i.dispatchEvent(t)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,t){return(t=t||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,t){return"window"===t?window:"document"===t?i:"body"===t?i.body:null}getBaseHref(i){const t=function qgt(){return Zx=Zx||document.querySelector("base"),Zx?Zx.getAttribute("href"):null}();return null==t?null:function tvt(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){Zx=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return wU(document.cookie,i)}}let Zx=null,ivt=(()=>{class e{build(){return new XMLHttpRequest}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();const DI=new se("");let WU=(()=>{class e{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,n,r){return this._findPluginFor(n).addEventListener(t,n,r)}getZone(){return this._zone}_findPluginFor(t){let n=this._eventNameToPlugin.get(t);if(n)return n;if(n=this._plugins.find(s=>s.supports(t)),!n)throw new pe(5101,!1);return this._eventNameToPlugin.set(t,n),n}static#t=this.\u0275fac=function(n){return new(n||e)(ne(DI),ne(di))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();class jU{constructor(i){this._doc=i}}const MI="ng-app-id";let XU=(()=>{class e{constructor(t,n,r,s={}){this.doc=t,this.appId=n,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=FU(s),this.resetHostNodes()}addStyles(t){for(const n of t)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(t){for(const n of t)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(n=>n.remove()),t.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const n of this.getAllStyles())this.addStyleToHost(t,n)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const n of this.hostNodes)this.addStyleToHost(n,t)}onStyleRemoved(t){const n=this.styleRef;n.get(t)?.elements?.forEach(r=>r.remove()),n.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${MI}="${this.appId}"]`);if(t?.length){const n=new Map;return t.forEach(r=>{null!=r.textContent&&n.set(r.textContent,r)}),n}return null}changeUsageCount(t,n){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=n,s.usage}return r.set(t,{usage:n,elements:[]}),n}getStyleElement(t,n){const r=this.styleNodesInDOM,s=r?.get(n);if(s?.parentNode===t)return r.delete(n),s.removeAttribute(MI),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=n,this.platformIsServer&&o.setAttribute(MI,this.appId),t.appendChild(o),o}}addStyleToHost(t,n){const r=this.getStyleElement(t,n),s=this.styleRef,o=s.get(n)?.elements;o?o.push(r):s.set(n,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Gi),ne(ix),ne(iD,8),ne(Wd))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();const II={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kI=/%COMP%/g,avt=new se("",{providedIn:"root",factory:()=>!0});function $U(e,i){return i.map(t=>t.replace(kI,e))}let RI=(()=>{class e{constructor(t,n,r,s,o,l,w,S=null){this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=l,this.ngZone=w,this.nonce=S,this.rendererByCompId=new Map,this.platformIsServer=FU(l),this.defaultRenderer=new PI(t,o,w,this.platformIsServer)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===gc.ShadowDom&&(n={...n,encapsulation:gc.Emulated});const r=this.getOrCreateRenderer(t,n);return r instanceof KU?r.applyToHost(t):r instanceof FI&&r.applyStyles(),r}getOrCreateRenderer(t,n){const r=this.rendererByCompId;let s=r.get(n.id);if(!s){const o=this.doc,l=this.ngZone,w=this.eventManager,S=this.sharedStylesHost,M=this.removeStylesOnCompDestroy,P=this.platformIsServer;switch(n.encapsulation){case gc.Emulated:s=new KU(w,S,n,this.appId,M,o,l,P);break;case gc.ShadowDom:return new dvt(w,S,t,n,o,l,this.nonce,P);default:s=new FI(w,S,n,M,o,l,P)}r.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#t=this.\u0275fac=function(n){return new(n||e)(ne(WU),ne(XU),ne(ix),ne(avt),ne(Gi),ne(Wd),ne(di),ne(iD))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();class PI{constructor(i,t,n,r){this.eventManager=i,this.doc=t,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(i,t){return t?this.doc.createElementNS(II[t]||t,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,t){(QU(i)?i.content:i).appendChild(t)}insertBefore(i,t,n){i&&(QU(i)?i.content:i).insertBefore(t,n)}removeChild(i,t){i&&i.removeChild(t)}selectRootElement(i,t){let n="string"==typeof i?this.doc.querySelector(i):i;if(!n)throw new pe(-5104,!1);return t||(n.textContent=""),n}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,t,n,r){if(r){t=r+":"+t;const s=II[r];s?i.setAttributeNS(s,t,n):i.setAttribute(t,n)}else i.setAttribute(t,n)}removeAttribute(i,t,n){if(n){const r=II[n];r?i.removeAttributeNS(r,t):i.removeAttribute(`${n}:${t}`)}else i.removeAttribute(t)}addClass(i,t){i.classList.add(t)}removeClass(i,t){i.classList.remove(t)}setStyle(i,t,n,r){r&(lh.DashCase|lh.Important)?i.style.setProperty(t,n,r&lh.Important?"important":""):i.style[t]=n}removeStyle(i,t,n){n&lh.DashCase?i.style.removeProperty(t):i.style[t]=""}setProperty(i,t,n){null!=i&&(i[t]=n)}setValue(i,t){i.nodeValue=t}listen(i,t,n){if("string"==typeof i&&!(i=vh().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${t}`);return this.eventManager.addEventListener(i,t,this.decoratePreventDefault(n))}decoratePreventDefault(i){return t=>{if("__ngUnwrap__"===t)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(t)):i(t))&&t.preventDefault()}}}function QU(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class dvt extends PI{constructor(i,t,n,r,s,o,l,w){super(i,s,o,w),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const S=$U(r.id,r.styles);for(const M of S){const P=document.createElement("style");l&&P.setAttribute("nonce",l),P.textContent=M,this.shadowRoot.appendChild(P)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,t){return super.appendChild(this.nodeOrShadowRoot(i),t)}insertBefore(i,t,n){return super.insertBefore(this.nodeOrShadowRoot(i),t,n)}removeChild(i,t){return super.removeChild(this.nodeOrShadowRoot(i),t)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class FI extends PI{constructor(i,t,n,r,s,o,l,w){super(i,s,o,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=w?$U(w,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class KU extends FI{constructor(i,t,n,r,s,o,l,w){const S=r+"-"+n.id;super(i,t,n,s,o,l,w,S),this.contentAttr=function ovt(e){return"_ngcontent-%COMP%".replace(kI,e)}(S),this.hostAttr=function lvt(e){return"_nghost-%COMP%".replace(kI,e)}(S)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,t){const n=super.createElement(i,t);return super.setAttribute(n,this.contentAttr,""),n}}let uvt=(()=>{class e extends jU{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,r){return t.addEventListener(n,r,!1),()=>this.removeEventListener(t,n,r)}removeEventListener(t,n,r){return t.removeEventListener(n,r)}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Gi))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();const ZU=["alt","control","meta","shift"],hvt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fvt={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let mvt=(()=>{class e extends jU{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const s=e.parseEventName(n),o=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vh().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(n.pop());let o="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),o="code."),ZU.forEach(S=>{const M=n.indexOf(S);M>-1&&(n.splice(M,1),o+=S+".")}),o+=s,0!=n.length||0===s.length)return null;const w={};return w.domEventName=r,w.fullKey=o,w}static matchEventFullKeyCode(t,n){let r=hvt[t.key]||t.key,s="";return n.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ZU.forEach(o=>{o!==r&&(0,fvt[o])(t)&&(s+=o+".")}),s+=r,s===n)}static eventCallback(t,n,r){return s=>{e.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>n(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Gi))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();const xvt=E9(_mt,"browser",[{provide:Wd,useValue:RU},{provide:OB,useValue:function pvt(){AI.makeCurrent()},multi:!0},{provide:Gi,useFactory:function vvt(){return function yat(e){eD=e}(document),document},deps:[]}]),yvt=new se(""),tz=[{provide:$_,useClass:class evt{addToWindow(i){vr.getAngularTestability=(n,r=!0)=>{const s=i.findTestabilityInTree(n,r);if(null==s)throw new pe(5103,!1);return s},vr.getAllAngularTestabilities=()=>i.getAllTestabilities(),vr.getAllAngularRootElements=()=>i.getAllRootElements(),vr.frameworkStabilizers||(vr.frameworkStabilizers=[]),vr.frameworkStabilizers.push(n=>{const r=vr.getAllAngularTestabilities();let s=r.length;const o=function(){s--,0==s&&n()};r.forEach(l=>{l.whenStable(o)})})}findTestabilityInTree(i,t,n){return null==t?null:i.getTestability(t)??(n?vh().isShadowRoot(t)?this.findTestabilityInTree(i,t.host,!0):this.findTestabilityInTree(i,t.parentElement,!0):null)}},deps:[]},{provide:p9,useClass:XM,deps:[di,YM,$_]},{provide:XM,useClass:XM,deps:[di,YM,$_]}],ez=[{provide:x2,useValue:"root"},{provide:xl,useFactory:function gvt(){return new xl},deps:[]},{provide:DI,useClass:uvt,multi:!0,deps:[Gi,di,Wd]},{provide:DI,useClass:mvt,multi:!0,deps:[Gi]},RI,XU,WU,{provide:QD,useExisting:RI},{provide:OU,useClass:ivt,deps:[]},[]];let iz=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:ix,useValue:t.appId}]}}static#t=this.\u0275fac=function(n){return new(n||e)(ne(yvt,12))};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({providers:[...ez,...tz],imports:[sd,Tmt]})}return e})(),bvt=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Gi))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),OI=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:function(n){let r=null;return r=n?new(n||e):ne(Cvt),r},providedIn:"root"})}return e})(),Cvt=(()=>{class e extends OI{constructor(t){super(),this._doc=t}sanitize(t,n){if(null==n)return null;switch(t){case za.NONE:return n;case za.HTML:return Zc(n,"HTML")?yl(n):t5(this._doc,String(n)).toString();case za.STYLE:return Zc(n,"Style")?yl(n):n;case za.SCRIPT:if(Zc(n,"Script"))return yl(n);throw new pe(5200,!1);case za.URL:return Zc(n,"URL")?yl(n):Jw(String(n));case za.RESOURCE_URL:if(Zc(n,"ResourceURL"))return yl(n);throw new pe(5201,!1);default:throw new pe(5202,!1)}}bypassSecurityTrustHtml(t){return function Uat(e){return new Fat(e)}(t)}bypassSecurityTrustStyle(t){return function zat(e){return new Oat(e)}(t)}bypassSecurityTrustScript(t){return function Gat(e){return new Lat(e)}(t)}bypassSecurityTrustUrl(t){return function Hat(e){return new Nat(e)}(t)}bypassSecurityTrustResourceUrl(t){return function Wat(e){return new Bat(e)}(t)}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Gi))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function LI(e){return!!e&&(e instanceof gr||ae(e.lift)&&ae(e.subscribe))}function xh(e){return this instanceof xh?(this.v=e,this):new xh(e)}function cz(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=function UI(e){var i="function"==typeof Symbol&&Symbol.iterator,t=i&&e[i],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=e[s]&&function(o){return new Promise(function(l,w){!function r(s,o,l,w){Promise.resolve(w).then(function(S){s({value:S,done:l})},o)}(l,w,(o=e[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const zI=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function dz(e){return ae(e?.then)}function uz(e){return ae(e[$A])}function hz(e){return Symbol.asyncIterator&&ae(e?.[Symbol.asyncIterator])}function fz(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const mz=function Xvt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function pz(e){return ae(e?.[mz])}function gz(e){return function lz(e,i,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=t.apply(e,i||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(O){n[O]&&(r[O]=function(N){return new Promise(function(U,j){s.push([O,N,U,j])>1||l(O,N)})})}function l(O,N){try{!function w(O){O.value instanceof xh?Promise.resolve(O.value.v).then(S,M):P(s[0][2],O)}(n[O](N))}catch(U){P(s[0][3],U)}}function S(O){l("next",O)}function M(O){l("throw",O)}function P(O,N){O(N),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:n,done:r}=yield xh(t.read());if(r)return yield xh(void 0);yield yield xh(n)}}finally{t.releaseLock()}})}function vz(e){return ae(e?.getReader)}function so(e){if(e instanceof gr)return e;if(null!=e){if(uz(e))return function Yvt(e){return new gr(i=>{const t=e[$A]();if(ae(t.subscribe))return t.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(zI(e))return function $vt(e){return new gr(i=>{for(let t=0;t<e.length&&!i.closed;t++)i.next(e[t]);i.complete()})}(e);if(dz(e))return function Qvt(e){return new gr(i=>{e.then(t=>{i.closed||(i.next(t),i.complete())},t=>i.error(t)).then(null,Ji)})}(e);if(hz(e))return xz(e);if(pz(e))return function Kvt(e){return new gr(i=>{for(const t of e)if(i.next(t),i.closed)return;i.complete()})}(e);if(vz(e))return function Zvt(e){return xz(gz(e))}(e)}throw fz(e)}function xz(e){return new gr(i=>{(function Jvt(e,i){var t,n,r,s;return function az(e,i,t,n){return new(t||(t=Promise))(function(s,o){function l(M){try{S(n.next(M))}catch(P){o(P)}}function w(M){try{S(n.throw(M))}catch(P){o(P)}}function S(M){M.done?s(M.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(M.value).then(l,w)}S((n=n.apply(e,i||[])).next())})}(this,void 0,void 0,function*(){try{for(t=cz(e);!(n=yield t.next()).done;)if(i.next(n.value),i.closed)return}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}i.complete()})})(e,i).catch(t=>i.error(t))})}function Jd(e,i,t,n=0,r=!1){const s=i.schedule(function(){t(),r?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(s),!r)return s}function yz(e,i=0){return ms((t,n)=>{t.subscribe(Zr(n,r=>Jd(n,e,()=>n.next(r),i),()=>Jd(n,e,()=>n.complete(),i),r=>Jd(n,e,()=>n.error(r),i)))})}function bz(e,i=0){return ms((t,n)=>{n.add(e.schedule(()=>t.subscribe(n),i))})}function wz(e,i){if(!e)throw new Error("Iterable cannot be null");return new gr(t=>{Jd(t,i,()=>{const n=e[Symbol.asyncIterator]();Jd(t,i,()=>{n.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Os(e,i){return i?function r0t(e,i){if(null!=e){if(uz(e))return function qvt(e,i){return so(e).pipe(bz(i),yz(i))}(e,i);if(zI(e))return function e0t(e,i){return new gr(t=>{let n=0;return i.schedule(function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())})})}(e,i);if(dz(e))return function t0t(e,i){return so(e).pipe(bz(i),yz(i))}(e,i);if(hz(e))return wz(e,i);if(pz(e))return function i0t(e,i){return new gr(t=>{let n;return Jd(t,i,()=>{n=e[mz](),Jd(t,i,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>ae(n?.return)&&n.return()})}(e,i);if(vz(e))return function n0t(e,i){return wz(gz(e),i)}(e,i)}throw fz(e)}(e,i):so(e)}function _z(e){return e&&ae(e.schedule)}function GI(e){return e[e.length-1]}function Tz(e){return ae(GI(e))?e.pop():void 0}function qx(e){return _z(GI(e))?e.pop():void 0}function _i(...e){return Os(e,qx(e))}const{isArray:a0t}=Array,{getPrototypeOf:o0t,prototype:l0t,keys:c0t}=Object;function Cz(e){if(1===e.length){const i=e[0];if(a0t(i))return{args:i,keys:null};if(function d0t(e){return e&&"object"==typeof e&&o0t(e)===l0t}(i)){const t=c0t(i);return{args:t.map(n=>i[n]),keys:t}}}return{args:e,keys:null}}const{isArray:u0t}=Array;function HI(e){return Ri(i=>function h0t(e,i){return u0t(i)?e(...i):e(i)}(e,i))}function Sz(e,i){return e.reduce((t,n,r)=>(t[n]=i[r],t),{})}function qd(...e){const i=qx(e),t=Tz(e),{args:n,keys:r}=Cz(e);if(0===n.length)return Os([],i);const s=new gr(function f0t(e,i,t=th){return n=>{Ez(i,()=>{const{length:r}=e,s=new Array(r);let o=r,l=r;for(let w=0;w<r;w++)Ez(i,()=>{const S=Os(e[w],i);let M=!1;S.subscribe(Zr(n,P=>{s[w]=P,M||(M=!0,l--),l||n.next(t(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}(n,i,r?o=>Sz(r,o):th));return t?s.pipe(HI(t)):s}function Ez(e,i,t){e?Jd(t,e,i):i()}const Eg=fe(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Ea(e,i,t=1/0){return ae(i)?Ea((n,r)=>Ri((s,o)=>i(n,s,r,o))(so(e(n,r))),t):("number"==typeof i&&(t=i),ms((n,r)=>function m0t(e,i,t,n,r,s,o,l){const w=[];let S=0,M=0,P=!1;const O=()=>{P&&!w.length&&!S&&i.complete()},N=j=>S<n?U(j):w.push(j),U=j=>{s&&i.next(j),S++;let W=!1;so(t(j,M++)).subscribe(Zr(i,Z=>{r?.(Z),s?N(Z):i.next(Z)},()=>{W=!0},void 0,()=>{if(W)try{for(S--;w.length&&S<n;){const Z=w.shift();o?Jd(i,o,()=>U(Z)):U(Z)}O()}catch(Z){i.error(Z)}}))};return e.subscribe(Zr(i,N,()=>{P=!0,O()})),()=>{l?.()}}(n,r,e,t)))}function Ag(e=1/0){return Ea(th,e)}function ty(...e){return function p0t(){return Ag(1)}()(Os(e,qx(e)))}function Dg(e){return new gr(i=>{so(e()).subscribe(i)})}function Mg(e,i){const t=ae(e)?e:()=>e,n=r=>r.error(t());return new gr(i?r=>i.schedule(n,0,r):n)}const el=new gr(e=>e.complete());function WI(){return ms((e,i)=>{let t=null;e._refCount++;const n=Zr(i,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const r=e._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),i.unsubscribe()});e.subscribe(n),n.closed||(t=e.connect())})}class jI extends gr{constructor(i,t){super(),this.source=i,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,z4(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Re;const t=this.getSubject();i.add(this.source.subscribe(Zr(t,void 0,()=>{this._teardown(),t.complete()},n=>{this._teardown(),t.error(n)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Re.EMPTY)}return i}refCount(){return WI()(this)}}function Ls(e,i){return ms((t,n)=>{let r=null,s=0,o=!1;const l=()=>o&&!r&&n.complete();t.subscribe(Zr(n,w=>{r?.unsubscribe();let S=0;const M=s++;so(e(w,M)).subscribe(r=Zr(n,P=>n.next(i?i(w,P,M,S++):P),()=>{r=null,l()}))},()=>{o=!0,l()}))})}function or(e){return e<=0?()=>el:ms((i,t)=>{let n=0;i.subscribe(Zr(t,r=>{++n<=e&&(t.next(r),e<=n&&t.complete())}))})}function Aa(...e){const i=qx(e);return ms((t,n)=>{(i?ty(e,t,i):ty(e,t)).subscribe(n)})}function On(e,i){return ms((t,n)=>{let r=0;t.subscribe(Zr(n,s=>e.call(i,s,r++)&&n.next(s)))})}function bT(e){return ms((i,t)=>{let n=!1;i.subscribe(Zr(t,r=>{n=!0,t.next(r)},()=>{n||t.next(e),t.complete()}))})}function Az(e=v0t){return ms((i,t)=>{let n=!1;i.subscribe(Zr(t,r=>{n=!0,t.next(r)},()=>n?t.complete():t.error(e())))})}function v0t(){return new Eg}function $l(e,i){const t=arguments.length>=2;return n=>n.pipe(e?On((r,s)=>e(r,s,n)):th,or(1),t?bT(i):Az(()=>new Eg))}function Ig(e,i){return ae(i)?Ea(e,i,1):Ea(e,1)}function vs(e,i,t){const n=ae(e)||i||t?{next:e,error:i,complete:t}:e;return n?ms((r,s)=>{var o;null===(o=n.subscribe)||void 0===o||o.call(n);let l=!0;r.subscribe(Zr(s,w=>{var S;null===(S=n.next)||void 0===S||S.call(n,w),s.next(w)},()=>{var w;l=!1,null===(w=n.complete)||void 0===w||w.call(n),s.complete()},w=>{var S;l=!1,null===(S=n.error)||void 0===S||S.call(n,w),s.error(w)},()=>{var w,S;l&&(null===(w=n.unsubscribe)||void 0===w||w.call(n)),null===(S=n.finalize)||void 0===S||S.call(n)}))}):th}function ua(e){return ms((i,t)=>{let s,n=null,r=!1;n=i.subscribe(Zr(t,void 0,void 0,o=>{s=so(e(o,ua(e)(i))),n?(n.unsubscribe(),n=null,s.subscribe(t)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(t))})}function XI(e){return e<=0?()=>el:ms((i,t)=>{let n=[];i.subscribe(Zr(t,r=>{n.push(r),e<n.length&&n.shift()},()=>{for(const r of n)t.next(r);t.complete()},void 0,()=>{n=null}))})}function wT(e){return Ri(()=>e)}function kg(e){return ms((i,t)=>{try{i.subscribe(t)}finally{t.add(e)}})}function ji(e){return ms((i,t)=>{so(e).subscribe(Zr(t,()=>t.complete(),an)),!t.closed&&i.subscribe(t)})}const An="primary",ey=Symbol("RouteTitle");class w0t{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t[0]:t}return null}getAll(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Rg(e){return new w0t(e)}function _0t(e,i,t){const n=t.path.split("/");if(n.length>e.length||"full"===t.pathMatch&&(i.hasChildren()||n.length<e.length))return null;const r={};for(let s=0;s<n.length;s++){const o=n[s],l=e[s];if(o.startsWith(":"))r[o.substring(1)]=l;else if(o!==l.path)return null}return{consumed:e.slice(0,n.length),posParams:r}}function ad(e,i){const t=e?YI(e):void 0,n=i?YI(i):void 0;if(!t||!n||t.length!=n.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!Dz(e[r],i[r]))return!1;return!0}function YI(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Dz(e,i){if(Array.isArray(e)&&Array.isArray(i)){if(e.length!==i.length)return!1;const t=[...e].sort(),n=[...i].sort();return t.every((r,s)=>n[s]===r)}return e===i}function Mz(e){return e.length>0?e[e.length-1]:null}function yh(e){return LI(e)?e:jx(e)?Os(Promise.resolve(e)):_i(e)}const C0t={exact:function Rz(e,i,t){if(!Yf(e.segments,i.segments)||!_T(e.segments,i.segments,t)||e.numberOfChildren!==i.numberOfChildren)return!1;for(const n in i.children)if(!e.children[n]||!Rz(e.children[n],i.children[n],t))return!1;return!0},subset:Pz},Iz={exact:function S0t(e,i){return ad(e,i)},subset:function E0t(e,i){return Object.keys(i).length<=Object.keys(e).length&&Object.keys(i).every(t=>Dz(e[t],i[t]))},ignored:()=>!0};function kz(e,i,t){return C0t[t.paths](e.root,i.root,t.matrixParams)&&Iz[t.queryParams](e.queryParams,i.queryParams)&&!("exact"===t.fragment&&e.fragment!==i.fragment)}function Pz(e,i,t){return Fz(e,i,i.segments,t)}function Fz(e,i,t,n){if(e.segments.length>t.length){const r=e.segments.slice(0,t.length);return!(!Yf(r,t)||i.hasChildren()||!_T(r,t,n))}if(e.segments.length===t.length){if(!Yf(e.segments,t)||!_T(e.segments,t,n))return!1;for(const r in i.children)if(!e.children[r]||!Pz(e.children[r],i.children[r],n))return!1;return!0}{const r=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(Yf(e.segments,r)&&_T(e.segments,r,n)&&e.children[An])&&Fz(e.children[An],i,s,n)}}function _T(e,i,t){return i.every((n,r)=>Iz[t](e[r].parameters,n.parameters))}class Pg{constructor(i=new kr([],{}),t={},n=null){this.root=i,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Rg(this.queryParams),this._queryParamMap}toString(){return M0t.serialize(this)}}class kr{constructor(i,t){this.segments=i,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return TT(this)}}class iy{constructor(i,t){this.path=i,this.parameters=t}get parameterMap(){return this._parameterMap??=Rg(this.parameters),this._parameterMap}toString(){return Nz(this)}}function Yf(e,i){return e.length===i.length&&e.every((t,n)=>t.path===i[n].path)}let Fg=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:()=>new $I,providedIn:"root"})}return e})();class $I{parse(i){const t=new U0t(i);return new Pg(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(i){const t=`/${ny(i.root,!0)}`,n=function R0t(e){const i=Object.entries(e).map(([t,n])=>Array.isArray(n)?n.map(r=>`${CT(t)}=${CT(r)}`).join("&"):`${CT(t)}=${CT(n)}`).filter(t=>t);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${t}${n}${"string"==typeof i.fragment?`#${function I0t(e){return encodeURI(e)}(i.fragment)}`:""}`}}const M0t=new $I;function TT(e){return e.segments.map(i=>Nz(i)).join("/")}function ny(e,i){if(!e.hasChildren())return TT(e);if(i){const t=e.children[An]?ny(e.children[An],!1):"",n=[];return Object.entries(e.children).forEach(([r,s])=>{r!==An&&n.push(`${r}:${ny(s,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function D0t(e,i){let t=[];return Object.entries(e.children).forEach(([n,r])=>{n===An&&(t=t.concat(i(r,n)))}),Object.entries(e.children).forEach(([n,r])=>{n!==An&&(t=t.concat(i(r,n)))}),t}(e,(n,r)=>r===An?[ny(e.children[An],!1)]:[`${r}:${ny(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[An]?`${TT(e)}/${t[0]}`:`${TT(e)}/(${t.join("//")})`}}function Oz(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function CT(e){return Oz(e).replace(/%3B/gi,";")}function QI(e){return Oz(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ST(e){return decodeURIComponent(e)}function Lz(e){return ST(e.replace(/\+/g,"%20"))}function Nz(e){return`${QI(e.path)}${function k0t(e){return Object.entries(e).map(([i,t])=>`;${QI(i)}=${QI(t)}`).join("")}(e.parameters)}`}const P0t=/^[^\/()?;#]+/;function KI(e){const i=e.match(P0t);return i?i[0]:""}const F0t=/^[^\/()?;=#]+/,L0t=/^[^=?&#]+/,B0t=/^[^&#]+/;class U0t{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kr([],{}):new kr([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(i.length>0||Object.keys(t).length>0)&&(n[An]=new kr(i,t)),n}parseSegment(){const i=KI(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new pe(4009,!1);return this.capture(i),new iy(ST(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const t=function O0t(e){const i=e.match(F0t);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const r=KI(this.remaining);r&&(n=r,this.capture(n))}i[ST(t)]=ST(n)}parseQueryParam(i){const t=function N0t(e){const i=e.match(L0t);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const o=function V0t(e){const i=e.match(B0t);return i?i[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const r=Lz(t),s=Lz(n);if(i.hasOwnProperty(r)){let o=i[r];Array.isArray(o)||(o=[o],i[r]=o),o.push(s)}else i[r]=s}parseParens(i){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=KI(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new pe(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):i&&(s=An);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[An]:new kr([],o),this.consumeOptional("//")}return t}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new pe(4011,!1)}}function Bz(e){return e.segments.length>0?new kr([],{[An]:e}):e}function Vz(e){const i={};for(const[n,r]of Object.entries(e.children)){const s=Vz(r);if(n===An&&0===s.segments.length&&s.hasChildren())for(const[o,l]of Object.entries(s.children))i[o]=l;else(s.segments.length>0||s.hasChildren())&&(i[n]=s)}return function z0t(e){if(1===e.numberOfChildren&&e.children[An]){const i=e.children[An];return new kr(e.segments.concat(i.segments),i.children)}return e}(new kr(e.segments,i))}function Og(e){return e instanceof Pg}function Uz(e){let i;const r=Bz(function t(s){const o={};for(const w of s.children){const S=t(w);o[w.outlet]=S}const l=new kr(s.url,o);return s===e&&(i=l),l}(e.root));return i??r}function zz(e,i,t,n){let r=e;for(;r.parent;)r=r.parent;if(0===i.length)return ZI(r,r,r,t,n);const s=function H0t(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Hz(!0,0,e);let i=0,t=!1;const n=e.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return Object.entries(s.outlets).forEach(([w,S])=>{l[w]="string"==typeof S?S.split("/"):S}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((l,w)=>{0==w&&"."===l||(0==w&&""===l?t=!0:".."===l?i++:""!=l&&r.push(l))}),r):[...r,s]},[]);return new Hz(t,i,n)}(i);if(s.toRoot())return ZI(r,r,new kr([],{}),t,n);const o=function W0t(e,i,t){if(e.isAbsolute)return new AT(i,!0,0);if(!t)return new AT(i,!1,NaN);if(null===t.parent)return new AT(t,!0,0);const n=ET(e.commands[0])?0:1;return function j0t(e,i,t){let n=e,r=i,s=t;for(;s>r;){if(s-=r,n=n.parent,!n)throw new pe(4005,!1);r=n.segments.length}return new AT(n,!1,r-s)}(t,t.segments.length-1+n,e.numberOfDoubleDots)}(s,r,e),l=o.processChildren?sy(o.segmentGroup,o.index,s.commands):Wz(o.segmentGroup,o.index,s.commands);return ZI(r,o.segmentGroup,l,t,n)}function ET(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ry(e){return"object"==typeof e&&null!=e&&e.outlets}function ZI(e,i,t,n,r){let o,s={};n&&Object.entries(n).forEach(([w,S])=>{s[w]=Array.isArray(S)?S.map(M=>`${M}`):`${S}`}),o=e===i?t:Gz(e,i,t);const l=Bz(Vz(o));return new Pg(l,s,r)}function Gz(e,i,t){const n={};return Object.entries(e.children).forEach(([r,s])=>{n[r]=s===i?t:Gz(s,i,t)}),new kr(e.segments,n)}class Hz{constructor(i,t,n){if(this.isAbsolute=i,this.numberOfDoubleDots=t,this.commands=n,i&&n.length>0&&ET(n[0]))throw new pe(4003,!1);const r=n.find(ry);if(r&&r!==Mz(n))throw new pe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class AT{constructor(i,t,n){this.segmentGroup=i,this.processChildren=t,this.index=n}}function Wz(e,i,t){if(e??=new kr([],{}),0===e.segments.length&&e.hasChildren())return sy(e,i,t);const n=function Y0t(e,i,t){let n=0,r=i;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(n>=t.length)return s;const o=e.segments[r],l=t[n];if(ry(l))break;const w=`${l}`,S=n<t.length-1?t[n+1]:null;if(r>0&&void 0===w)break;if(w&&S&&"object"==typeof S&&void 0===S.outlets){if(!Xz(w,S,o))return s;n+=2}else{if(!Xz(w,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(e,i,t),r=t.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const s=new kr(e.segments.slice(0,n.pathIndex),{});return s.children[An]=new kr(e.segments.slice(n.pathIndex),e.children),sy(s,0,r)}return n.match&&0===r.length?new kr(e.segments,{}):n.match&&!e.hasChildren()?JI(e,i,t):n.match?sy(e,0,r):JI(e,i,t)}function sy(e,i,t){if(0===t.length)return new kr(e.segments,{});{const n=function X0t(e){return ry(e[0])?e[0].outlets:{[An]:e}}(t),r={};if(Object.keys(n).some(s=>s!==An)&&e.children[An]&&1===e.numberOfChildren&&0===e.children[An].segments.length){const s=sy(e.children[An],i,t);return new kr(e.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=Wz(e.children[s],i,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===n[s]&&(r[s]=o)}),new kr(e.segments,r)}}function JI(e,i,t){const n=e.segments.slice(0,i);let r=0;for(;r<t.length;){const s=t[r];if(ry(s)){const w=$0t(s.outlets);return new kr(n,w)}if(0===r&&ET(t[0])){n.push(new iy(e.segments[i].path,jz(t[0]))),r++;continue}const o=ry(s)?s.outlets[An]:`${s}`,l=r<t.length-1?t[r+1]:null;o&&l&&ET(l)?(n.push(new iy(o,jz(l))),r+=2):(n.push(new iy(o,{})),r++)}return new kr(n,{})}function $0t(e){const i={};return Object.entries(e).forEach(([t,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(i[t]=JI(new kr([],{}),0,n))}),i}function jz(e){const i={};return Object.entries(e).forEach(([t,n])=>i[t]=`${n}`),i}function Xz(e,i,t){return e==t.path&&ad(i,t.parameters)}const ay="imperative";var Qn=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Qn||{});class od{constructor(i,t){this.id=i,this.url=t}}class DT extends od{constructor(i,t,n="imperative",r=null){super(i,t),this.type=Qn.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ld extends od{constructor(i,t,n){super(i,t),this.urlAfterRedirects=n,this.type=Qn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Cl=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Cl||{}),MT=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(MT||{});class Lg extends od{constructor(i,t,n,r){super(i,t),this.reason=n,this.code=r,this.type=Qn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ng extends od{constructor(i,t,n,r){super(i,t),this.reason=n,this.code=r,this.type=Qn.NavigationSkipped}}class IT extends od{constructor(i,t,n,r){super(i,t),this.error=n,this.target=r,this.type=Qn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yz extends od{constructor(i,t,n,r){super(i,t),this.urlAfterRedirects=n,this.state=r,this.type=Qn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q0t extends od{constructor(i,t,n,r){super(i,t),this.urlAfterRedirects=n,this.state=r,this.type=Qn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K0t extends od{constructor(i,t,n,r,s){super(i,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=Qn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Z0t extends od{constructor(i,t,n,r){super(i,t),this.urlAfterRedirects=n,this.state=r,this.type=Qn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J0t extends od{constructor(i,t,n,r){super(i,t),this.urlAfterRedirects=n,this.state=r,this.type=Qn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q0t{constructor(i){this.route=i,this.type=Qn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class txt{constructor(i){this.route=i,this.type=Qn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ext{constructor(i){this.snapshot=i,this.type=Qn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ixt{constructor(i){this.snapshot=i,this.type=Qn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nxt{constructor(i){this.snapshot=i,this.type=Qn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rxt{constructor(i){this.snapshot=i,this.type=Qn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $z{constructor(i,t,n){this.routerEvent=i,this.position=t,this.anchor=n,this.type=Qn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qI{}class tk{constructor(i){this.url=i}}class sxt{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new oy,this.attachRef=null}}let oy=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const r=this.getOrCreateContext(t);r.outlet=n,this.contexts.set(t,r)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new sxt,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Qz{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const t=this.pathFromRoot(i);return t.length>1?t[t.length-2]:null}children(i){const t=ek(i,this._root);return t?t.children.map(n=>n.value):[]}firstChild(i){const t=ek(i,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(i){const t=ik(i,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==i)}pathFromRoot(i){return ik(i,this._root).map(t=>t.value)}}function ek(e,i){if(e===i.value)return i;for(const t of i.children){const n=ek(e,t);if(n)return n}return null}function ik(e,i){if(e===i.value)return[i];for(const t of i.children){const n=ik(e,t);if(n.length)return n.unshift(i),n}return[]}class Mc{constructor(i,t){this.value=i,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bg(e){const i={};return e&&e.children.forEach(t=>i[t.value.outlet]=t),i}class Kz extends Qz{constructor(i,t){super(i),this.snapshot=t,sk(this,i)}toString(){return this.snapshot.toString()}}function Zz(e){const i=function axt(e){const s=new rk([],{},{},"",{},An,e,null,{});return new Jz("",new Mc(s,[]))}(e),t=new Kr([new iy("",{})]),n=new Kr({}),r=new Kr({}),s=new Kr({}),o=new Kr(""),l=new Ic(t,n,s,o,r,An,e,i.root);return l.snapshot=i.root,new Kz(new Mc(l,[]),i)}class Ic{constructor(i,t,n,r,s,o,l,w){this.urlSubject=i,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=l,this._futureSnapshot=w,this.title=this.dataSubject?.pipe(Ri(S=>S[ey]))??_i(void 0),this.url=i,this.params=t,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ri(i=>Rg(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ri(i=>Rg(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nk(e,i,t="emptyOnly"){let n;const{routeConfig:r}=e;return n=null===i||"always"!==t&&""!==r?.path&&(i.component||i.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...i.params,...e.params},data:{...i.data,...e.data},resolve:{...e.data,...i.data,...r?.data,...e._resolvedData}},r&&tG(r)&&(n.resolve[ey]=r.title),n}class rk{get title(){return this.data?.[ey]}constructor(i,t,n,r,s,o,l,w,S){this.url=i,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=l,this.routeConfig=w,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rg(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rg(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jz extends Qz{constructor(i,t){super(t),this.url=i,sk(this,t)}toString(){return qz(this._root)}}function sk(e,i){i.value._routerState=e,i.children.forEach(t=>sk(e,t))}function qz(e){const i=e.children.length>0?` { ${e.children.map(qz).join(", ")} } `:"";return`${e.value}${i}`}function ak(e){if(e.snapshot){const i=e.snapshot,t=e._futureSnapshot;e.snapshot=t,ad(i.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),i.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),ad(i.params,t.params)||e.paramsSubject.next(t.params),function T0t(e,i){if(e.length!==i.length)return!1;for(let t=0;t<e.length;++t)if(!ad(e[t],i[t]))return!1;return!0}(i.url,t.url)||e.urlSubject.next(t.url),ad(i.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ok(e,i){const t=ad(e.params,i.params)&&function A0t(e,i){return Yf(e,i)&&e.every((t,n)=>ad(t.parameters,i[n].parameters))}(e.url,i.url);return t&&!(!e.parent!=!i.parent)&&(!e.parent||ok(e.parent,i.parent))}function tG(e){return"string"==typeof e.title||null===e.title}let lk=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=An,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=xe(oy),this.location=xe(Lr),this.changeDetector=xe(Fn),this.environmentInjector=xe(Qo),this.inputBinder=xe(kT,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:n,previousValue:r}=t.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new pe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new pe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new pe(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new pe(4013,!1);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,w=new oxt(t,l,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:w,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ar]})}return e})();class oxt{constructor(i,t,n){this.route=i,this.childContexts=t,this.parent=n,this.__ngOutletInjector=!0}get(i,t){return i===Ic?this.route:i===oy?this.childContexts:this.parent.get(i,t)}}const kT=new se("");let eG=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:n}=t,r=qd([n.queryParams,n.params,n.data]).pipe(Ls(([s,o,l],w)=>(l={...s,...o,...l},0===w?_i(l):Promise.resolve(l)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(t);const o=function npt(e){const i=Rn(e);if(!i)return null;const t=new Ex(i);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}(n.component);if(o)for(const{templateName:l}of o.inputs)t.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();function ly(e,i,t){if(t&&e.shouldReuseRoute(i.value,t.value.snapshot)){const n=t.value;n._futureSnapshot=i.value;const r=function cxt(e,i,t){return i.children.map(n=>{for(const r of t.children)if(e.shouldReuseRoute(n.value,r.value.snapshot))return ly(e,n,r);return ly(e,n)})}(e,i,t);return new Mc(n,r)}{if(e.shouldAttach(i.value)){const s=e.retrieve(i.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=i.value,o.children=i.children.map(l=>ly(e,l)),o}}const n=function dxt(e){return new Ic(new Kr(e.url),new Kr(e.params),new Kr(e.queryParams),new Kr(e.fragment),new Kr(e.data),e.outlet,e.component,e)}(i.value),r=i.children.map(s=>ly(e,s));return new Mc(n,r)}}const iG="ngNavigationCancelingError";function nG(e,i){const{redirectTo:t,navigationBehaviorOptions:n}=Og(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,r=rG(!1,Cl.Redirect);return r.url=t,r.navigationBehaviorOptions=n,r}function rG(e,i){const t=new Error(`NavigationCancelingError: ${e||""}`);return t[iG]=!0,t.cancellationCode=i,t}function sG(e){return!!e&&e[iG]}let aG=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=Qe({type:e,selectors:[["ng-component"]],standalone:!0,features:[Wi],decls:1,vars:0,template:function(n,r){1&n&&Te(0,"router-outlet")},dependencies:[lk],encapsulation:2})}return e})();function ck(e){const i=e.children&&e.children.map(ck),t=i?{...e,children:i}:{...e};return!t.component&&!t.loadComponent&&(i||t.loadChildren)&&t.outlet&&t.outlet!==An&&(t.component=aG),t}function cd(e){return e.outlet||An}function cy(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let i=e.parent;i;i=i.parent){const t=i.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class xxt{constructor(i,t,n,r,s){this.routeReuseStrategy=i,this.futureState=t,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(i){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,i),ak(this.futureState.root),this.activateChildRoutes(t,n,i)}deactivateChildRoutes(i,t,n){const r=Bg(t);i.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(i,t,n){const r=i.value,s=t?t.value:null;if(r===s)if(r.component){const o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(i,t,o.children)}else this.deactivateChildRoutes(i,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(i,t){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,t):this.deactivateRouteAndOutlet(i,t)}detachAndStoreRouteSubtree(i,t){const n=t.getContext(i.value.outlet),r=n&&i.value.component?n.children:t,s=Bg(i);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){const o=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:o,route:i,contexts:l})}}deactivateRouteAndOutlet(i,t){const n=t.getContext(i.value.outlet),r=n&&i.value.component?n.children:t,s=Bg(i);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(i,t,n){const r=Bg(t);i.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new rxt(s.value.snapshot))}),i.children.length&&this.forwardEvent(new ixt(i.value.snapshot))}activateRoutes(i,t,n){const r=i.value,s=t?t.value:null;if(ak(r),r===s)if(r.component){const o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(i,t,o.children)}else this.activateChildRoutes(i,t,n);else if(r.component){const o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(l.contexts),o.attachRef=l.componentRef,o.route=l.route.value,o.outlet&&o.outlet.attach(l.componentRef,l.route.value),ak(l.route.value),this.activateChildRoutes(i,null,o.children)}else{const l=cy(r.snapshot);o.attachRef=null,o.route=r,o.injector=l,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(i,null,o.children)}}else this.activateChildRoutes(i,null,n)}}class oG{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class RT{constructor(i,t){this.component=i,this.route=t}}function yxt(e,i,t){const n=e._root;return dy(n,i?i._root:null,t,[n.value])}function Vg(e,i){const t=Symbol(),n=i.get(e,t);return n===t?"function"!=typeof e||function qnt(e){return null!==fw(e)}(e)?i.get(e):e:n}function dy(e,i,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Bg(i);return e.children.forEach(o=>{(function wxt(e,i,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=i?i.value:null,l=t?t.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const w=function _xt(e,i,t){if("function"==typeof t)return t(e,i);switch(t){case"pathParamsChange":return!Yf(e.url,i.url);case"pathParamsOrQueryParamsChange":return!Yf(e.url,i.url)||!ad(e.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ok(e,i)||!ad(e.queryParams,i.queryParams);default:return!ok(e,i)}}(o,s,s.routeConfig.runGuardsAndResolvers);w?r.canActivateChecks.push(new oG(n)):(s.data=o.data,s._resolvedData=o._resolvedData),dy(e,i,s.component?l?l.children:null:t,n,r),w&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new RT(l.outlet.component,o))}else o&&uy(i,l,r),r.canActivateChecks.push(new oG(n)),dy(e,null,s.component?l?l.children:null:t,n,r)})(o,s[o.value.outlet],t,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,l])=>uy(l,t.getContext(o),r)),r}function uy(e,i,t){const n=Bg(e),r=e.value;Object.entries(n).forEach(([s,o])=>{uy(o,r.component?i?i.children.getContext(s):null:i,t)}),t.canDeactivateChecks.push(new RT(r.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,r))}function hy(e){return"function"==typeof e}function lG(e){return e instanceof Eg||"EmptyError"===e?.name}const PT=Symbol("INITIAL_VALUE");function Ug(){return Ls(e=>qd(e.map(i=>i.pipe(or(1),Aa(PT)))).pipe(Ri(i=>{for(const t of i)if(!0!==t){if(t===PT)return PT;if(!1===t||t instanceof Pg)return t}return!0}),On(i=>i!==PT),or(1)))}function cG(e){return function Hnt(...e){return B4(e)}(vs(i=>{if(Og(i))throw nG(0,i)}),Ri(i=>!0===i))}class dk{constructor(i){this.segmentGroup=i||null}}class uk extends Error{constructor(i){super(),this.urlTree=i}}function zg(e){return Mg(new dk(e))}class zxt{constructor(i,t){this.urlSerializer=i,this.urlTree=t}lineralizeSegments(i,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return _i(n);if(r.numberOfChildren>1||!r.children[An])return Mg(new pe(4e3,!1));r=r.children[An]}}applyRedirectCommands(i,t,n){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),i,n);if(t.startsWith("/"))throw new uk(r);return r}applyRedirectCreateUrlTree(i,t,n,r){const s=this.createSegmentGroup(i,t.root,n,r);return new Pg(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(i,t){const n={};return Object.entries(i).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const l=s.substring(1);n[r]=t[l]}else n[r]=s}),n}createSegmentGroup(i,t,n,r){const s=this.createSegments(i,t.segments,n,r);let o={};return Object.entries(t.children).forEach(([l,w])=>{o[l]=this.createSegmentGroup(i,w,n,r)}),new kr(s,o)}createSegments(i,t,n,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(i,s,r):this.findOrReturn(s,n))}findPosParam(i,t,n){const r=n[t.path.substring(1)];if(!r)throw new pe(4001,!1);return r}findOrReturn(i,t){let n=0;for(const r of t){if(r.path===i.path)return t.splice(n),r;n++}return i}}const hk={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gxt(e,i,t,n,r){const s=fk(e,i,t);return s.matched?(n=function hxt(e,i){return e.providers&&!e._injector&&(e._injector=C_(e.providers,i,`Route: ${e.path}`)),e._injector??i}(i,n),function Bxt(e,i,t,n){const r=i.canMatch;return r&&0!==r.length?_i(r.map(o=>{const l=Vg(o,e);return yh(function Dxt(e){return e&&hy(e.canMatch)}(l)?l.canMatch(i,t):Wc(e,()=>l(i,t)))})).pipe(Ug(),cG()):_i(!0)}(n,i,t).pipe(Ri(o=>!0===o?s:{...hk}))):_i(s)}function fk(e,i,t){if("**"===i.path)return function Hxt(e){return{matched:!0,parameters:e.length>0?Mz(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===i.path)return"full"===i.pathMatch&&(e.hasChildren()||t.length>0)?{...hk}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(i.matcher||_0t)(t,e,i);if(!r)return{...hk};const s={};Object.entries(r.posParams??{}).forEach(([l,w])=>{s[l]=w.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function dG(e,i,t,n){return t.length>0&&function Xxt(e,i,t){return t.some(n=>FT(e,i,n)&&cd(n)!==An)}(e,t,n)?{segmentGroup:new kr(i,jxt(n,new kr(t,e.children))),slicedSegments:[]}:0===t.length&&function Yxt(e,i,t){return t.some(n=>FT(e,i,n))}(e,t,n)?{segmentGroup:new kr(e.segments,Wxt(e,t,n,e.children)),slicedSegments:t}:{segmentGroup:new kr(e.segments,e.children),slicedSegments:t}}function Wxt(e,i,t,n){const r={};for(const s of t)if(FT(e,i,s)&&!n[cd(s)]){const o=new kr([],{});r[cd(s)]=o}return{...n,...r}}function jxt(e,i){const t={};t[An]=i;for(const n of e)if(""===n.path&&cd(n)!==An){const r=new kr([],{});t[cd(n)]=r}return t}function FT(e,i,t){return(!(e.hasChildren()||i.length>0)||"full"!==t.pathMatch)&&""===t.path}class Kxt{}class qxt{constructor(i,t,n,r,s,o,l){this.injector=i,this.configLoader=t,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=l,this.applyRedirects=new zxt(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(i){return new pe(4002,`'${i.segmentGroup}'`)}recognize(){const i=dG(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(Ri(t=>{const n=new rk([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},An,this.rootComponentType,null,{}),r=new Mc(n,t),s=new Jz("",r),o=function G0t(e,i,t=null,n=null){return zz(Uz(e),i,t,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(i){return this.processSegmentGroup(this.injector,this.config,i,An).pipe(ua(n=>{if(n instanceof uk)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof dk?this.noMatchError(n):n}))}inheritParamsAndData(i,t){const n=i.value,r=nk(n,t,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),i.children.forEach(s=>this.inheritParamsAndData(s,n))}processSegmentGroup(i,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,t,n):this.processSegment(i,t,n,n.segments,r,!0).pipe(Ri(s=>s instanceof Mc?[s]:[]))}processChildren(i,t,n){const r=[];for(const s of Object.keys(n.children))"primary"===s?r.unshift(s):r.push(s);return Os(r).pipe(Ig(s=>{const o=n.children[s],l=function gxt(e,i){const t=e.filter(n=>cd(n)===i);return t.push(...e.filter(n=>cd(n)!==i)),t}(t,s);return this.processSegmentGroup(i,l,o,s)}),function y0t(e,i){return ms(function x0t(e,i,t,n,r){return(s,o)=>{let l=t,w=i,S=0;s.subscribe(Zr(o,M=>{const P=S++;w=l?e(w,M,P):(l=!0,M),n&&o.next(w)},r&&(()=>{l&&o.next(w),o.complete()})))}}(e,i,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),bT(null),function b0t(e,i){const t=arguments.length>=2;return n=>n.pipe(e?On((r,s)=>e(r,s,n)):th,XI(1),t?bT(i):Az(()=>new Eg))}(),Ea(s=>{if(null===s)return zg(n);const o=uG(s);return function tyt(e){e.sort((i,t)=>i.value.outlet===An?-1:t.value.outlet===An?1:i.value.outlet.localeCompare(t.value.outlet))}(o),_i(o)}))}processSegment(i,t,n,r,s,o){return Os(t).pipe(Ig(l=>this.processSegmentAgainstRoute(l._injector??i,t,l,n,r,s,o).pipe(ua(w=>{if(w instanceof dk)return _i(null);throw w}))),$l(l=>!!l),ua(l=>{if(lG(l))return function Qxt(e,i,t){return 0===i.length&&!e.children[t]}(n,r,s)?_i(new Kxt):zg(n);throw l}))}processSegmentAgainstRoute(i,t,n,r,s,o,l){return function $xt(e,i,t,n){return!!(cd(e)===n||n!==An&&FT(i,t,e))&&fk(i,e,t).matched}(n,r,s,o)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(i,r,n,s,o):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(i,r,t,n,s,o):zg(r):zg(r)}expandSegmentAgainstRouteUsingRedirect(i,t,n,r,s,o){const{matched:l,consumedSegments:w,positionalParamSegments:S,remainingSegments:M}=fk(t,r,s);if(!l)return zg(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const P=this.applyRedirects.applyRedirectCommands(w,r.redirectTo,S);return this.applyRedirects.lineralizeSegments(r,P).pipe(Ea(O=>this.processSegment(i,n,t,O.concat(M),o,!1)))}matchSegmentAgainstRoute(i,t,n,r,s){const o=Gxt(t,n,r,i);return"**"===n.path&&(t.children={}),o.pipe(Ls(l=>l.matched?this.getChildConfig(i=n._injector??i,n,r).pipe(Ls(({routes:w})=>{const S=n._loadedInjector??i,{consumedSegments:M,remainingSegments:P,parameters:O}=l,N=new rk(M,O,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function iyt(e){return e.data||{}}(n),cd(n),n.component??n._loadedComponent??null,n,function nyt(e){return e.resolve||{}}(n)),{segmentGroup:U,slicedSegments:j}=dG(t,M,P,w);if(0===j.length&&U.hasChildren())return this.processChildren(S,w,U).pipe(Ri(Z=>null===Z?null:new Mc(N,Z)));if(0===w.length&&0===j.length)return _i(new Mc(N,[]));const W=cd(n)===s;return this.processSegment(S,w,U,j,W?An:s,!0).pipe(Ri(Z=>new Mc(N,Z instanceof Mc?[Z]:[])))})):zg(t)))}getChildConfig(i,t,n){return t.children?_i({routes:t.children,injector:i}):t.loadChildren?void 0!==t._loadedRoutes?_i({routes:t._loadedRoutes,injector:t._loadedInjector}):function Nxt(e,i,t,n){const r=i.canLoad;return void 0===r||0===r.length?_i(!0):_i(r.map(o=>{const l=Vg(o,e);return yh(function Cxt(e){return e&&hy(e.canLoad)}(l)?l.canLoad(i,t):Wc(e,()=>l(i,t)))})).pipe(Ug(),cG())}(i,t,n).pipe(Ea(r=>r?this.configLoader.loadChildren(i,t).pipe(vs(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Uxt(e){return Mg(rG(!1,Cl.GuardRejected))}())):_i({routes:[],injector:i})}}function eyt(e){const i=e.value.routeConfig;return i&&""===i.path}function uG(e){const i=[],t=new Set;for(const n of e){if(!eyt(n)){i.push(n);continue}const r=i.find(s=>n.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...n.children),t.add(r)):i.push(n)}for(const n of t){const r=uG(n.children);i.push(new Mc(n.value,r))}return i.filter(n=>!t.has(n))}function hG(e){const i=e.children.map(t=>hG(t)).flat();return[e,...i]}function mk(e){return Ls(i=>{const t=e(i);return t?Os(t).pipe(Ri(()=>i)):_i(i)})}let fG=(()=>{class e{buildTitle(t){let n,r=t.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(s=>s.outlet===An);return n}getResolvedTitleForRoute(t){return t.data[ey]}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:()=>xe(cyt),providedIn:"root"})}return e})(),cyt=(()=>{class e extends fG{constructor(t){super(),this.title=t}updateTitle(t){const n=this.buildTitle(t);void 0!==n&&this.title.setTitle(n)}static#t=this.\u0275fac=function(n){return new(n||e)(ne(bvt))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Gg=new se("",{providedIn:"root",factory:()=>({})}),Hg=new se("");let pk=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=xe(b9)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return _i(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const n=yh(t.loadComponent()).pipe(Ri(mG),vs(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),kg(()=>{this.componentLoaders.delete(t)})),r=new jI(n,()=>new Ne).pipe(WI());return this.componentLoaders.set(t,r),r}loadChildren(t,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return _i({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const s=function dyt(e,i,t,n){return yh(e.loadChildren()).pipe(Ri(mG),Ea(r=>r instanceof GV||Array.isArray(r)?_i(r):Os(i.compileModuleAsync(r))),Ri(r=>{n&&n(e);let s,o,l=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(t).injector,o=s.get(Hg,[],{optional:!0,self:!0}).flat()),{routes:o.map(ck),injector:s}}))}(n,this.compiler,t,this.onLoadEndListener).pipe(kg(()=>{this.childrenLoaders.delete(n)})),o=new jI(s,()=>new Ne).pipe(WI());return this.childrenLoaders.set(n,o),o}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mG(e){return function uyt(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let gk=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:()=>xe(hyt),providedIn:"root"})}return e})(),hyt=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const pG=new se(""),gG=new se("");function fyt(e,i,t){const n=e.get(gG),r=e.get(Gi);return e.get(di).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let s;const o=new Promise(S=>{s=S}),l=r.startViewTransition(()=>(s(),function myt(e){return new Promise(i=>{aV(i,{injector:e})})}(e))),{onViewTransitionCreated:w}=n;return w&&Wc(e,()=>w({transition:l,from:i,to:t})),o})}let OT=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ne,this.transitionAbortSubject=new Ne,this.configLoader=xe(pk),this.environmentInjector=xe(Qo),this.urlSerializer=xe(Fg),this.rootContexts=xe(oy),this.location=xe(Xf),this.inputBindingEnabled=null!==xe(kT,{optional:!0}),this.titleStrategy=xe(fG),this.options=xe(Gg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=xe(gk),this.createViewTransition=xe(pG,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>_i(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new txt(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new q0t(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:n})}setupNavigations(t,n,r){return this.transitions=new Kr({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ay,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(On(s=>0!==s.id),Ri(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ls(s=>{let o=!1,l=!1;return _i(s).pipe(Ls(w=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Cl.SupersededByNewNavigation),el;this.currentTransition=s,this.currentNavigation={id:w.id,initialUrl:w.rawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const S=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!S&&"reload"!==(w.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const P="";return this.events.next(new Ng(w.id,this.urlSerializer.serialize(w.rawUrl),P,MT.IgnoredSameUrlNavigation)),w.resolve(null),el}if(this.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return _i(w).pipe(Ls(P=>{const O=this.transitions?.getValue();return this.events.next(new DT(P.id,this.urlSerializer.serialize(P.extractedUrl),P.source,P.restoredState)),O!==this.transitions?.getValue()?el:Promise.resolve(P)}),function ryt(e,i,t,n,r,s){return Ea(o=>function Zxt(e,i,t,n,r,s,o="emptyOnly"){return new qxt(e,i,t,n,r,o,s).recognize()}(e,i,t,n,o.extractedUrl,r,s).pipe(Ri(({state:l,tree:w})=>({...o,targetSnapshot:l,urlAfterRedirects:w}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),vs(P=>{s.targetSnapshot=P.targetSnapshot,s.urlAfterRedirects=P.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:P.urlAfterRedirects};const O=new Yz(P.id,this.urlSerializer.serialize(P.extractedUrl),this.urlSerializer.serialize(P.urlAfterRedirects),P.targetSnapshot);this.events.next(O)}));if(S&&this.urlHandlingStrategy.shouldProcessUrl(w.currentRawUrl)){const{id:P,extractedUrl:O,source:N,restoredState:U,extras:j}=w,W=new DT(P,this.urlSerializer.serialize(O),N,U);this.events.next(W);const Z=Zz(this.rootComponentType).snapshot;return this.currentTransition=s={...w,targetSnapshot:Z,urlAfterRedirects:O,extras:{...j,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=O,_i(s)}{const P="";return this.events.next(new Ng(w.id,this.urlSerializer.serialize(w.extractedUrl),P,MT.IgnoredByUrlHandlingStrategy)),w.resolve(null),el}}),vs(w=>{const S=new Q0t(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(S)}),Ri(w=>(this.currentTransition=s={...w,guards:yxt(w.targetSnapshot,w.currentSnapshot,this.rootContexts)},s)),function Mxt(e,i){return Ea(t=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?_i({...t,guardsResult:!0}):function Ixt(e,i,t,n){return Os(e).pipe(Ea(r=>function Lxt(e,i,t,n,r){const s=i&&i.routeConfig?i.routeConfig.canDeactivate:null;return s&&0!==s.length?_i(s.map(l=>{const w=cy(i)??r,S=Vg(l,w);return yh(function Axt(e){return e&&hy(e.canDeactivate)}(S)?S.canDeactivate(e,i,t,n):Wc(w,()=>S(e,i,t,n))).pipe($l())})).pipe(Ug()):_i(!0)}(r.component,r.route,t,i,n)),$l(r=>!0!==r,!0))}(o,n,r,e).pipe(Ea(l=>l&&function Txt(e){return"boolean"==typeof e}(l)?function kxt(e,i,t,n){return Os(i).pipe(Ig(r=>ty(function Pxt(e,i){return null!==e&&i&&i(new ext(e)),_i(!0)}(r.route.parent,n),function Rxt(e,i){return null!==e&&i&&i(new nxt(e)),_i(!0)}(r.route,n),function Oxt(e,i,t){const n=i[i.length-1],s=i.slice(0,i.length-1).reverse().map(o=>function bxt(e){const i=e.routeConfig?e.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:e,guards:i}:null}(o)).filter(o=>null!==o).map(o=>Dg(()=>_i(o.guards.map(w=>{const S=cy(o.node)??t,M=Vg(w,S);return yh(function Ext(e){return e&&hy(e.canActivateChild)}(M)?M.canActivateChild(n,e):Wc(S,()=>M(n,e))).pipe($l())})).pipe(Ug())));return _i(s).pipe(Ug())}(e,r.path,t),function Fxt(e,i,t){const n=i.routeConfig?i.routeConfig.canActivate:null;if(!n||0===n.length)return _i(!0);const r=n.map(s=>Dg(()=>{const o=cy(i)??t,l=Vg(s,o);return yh(function Sxt(e){return e&&hy(e.canActivate)}(l)?l.canActivate(i,e):Wc(o,()=>l(i,e))).pipe($l())}));return _i(r).pipe(Ug())}(e,r.route,t))),$l(r=>!0!==r,!0))}(n,s,e,i):_i(l)),Ri(l=>({...t,guardsResult:l})))})}(this.environmentInjector,w=>this.events.next(w)),vs(w=>{if(s.guardsResult=w.guardsResult,Og(w.guardsResult))throw nG(0,w.guardsResult);const S=new K0t(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.events.next(S)}),On(w=>!!w.guardsResult||(this.cancelNavigationTransition(w,"",Cl.GuardRejected),!1)),mk(w=>{if(w.guards.canActivateChecks.length)return _i(w).pipe(vs(S=>{const M=new Z0t(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(M)}),Ls(S=>{let M=!1;return _i(S).pipe(function syt(e,i){return Ea(t=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return _i(t);const s=new Set(r.map(w=>w.route)),o=new Set;for(const w of s)if(!o.has(w))for(const S of hG(w))o.add(S);let l=0;return Os(o).pipe(Ig(w=>s.has(w)?function ayt(e,i,t,n){const r=e.routeConfig,s=e._resolve;return void 0!==r?.title&&!tG(r)&&(s[ey]=r.title),function oyt(e,i,t,n){const r=YI(e);if(0===r.length)return _i({});const s={};return Os(r).pipe(Ea(o=>function lyt(e,i,t,n){const r=cy(i)??n,s=Vg(e,r);return yh(s.resolve?s.resolve(i,t):Wc(r,()=>s(i,t)))}(e[o],i,t,n).pipe($l(),vs(l=>{s[o]=l}))),XI(1),wT(s),ua(o=>lG(o)?el:Mg(o)))}(s,e,i,n).pipe(Ri(o=>(e._resolvedData=o,e.data=nk(e,e.parent,t).resolve,null)))}(w,n,e,i):(w.data=nk(w,w.parent,e).resolve,_i(void 0))),vs(()=>l++),XI(1),Ea(w=>l===o.size?_i(t):el))})}(this.paramsInheritanceStrategy,this.environmentInjector),vs({next:()=>M=!0,complete:()=>{M||this.cancelNavigationTransition(S,"",Cl.NoDataFromResolver)}}))}),vs(S=>{const M=new J0t(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(M)}))}),mk(w=>{const S=M=>{const P=[];M.routeConfig?.loadComponent&&!M.routeConfig._loadedComponent&&P.push(this.configLoader.loadComponent(M.routeConfig).pipe(vs(O=>{M.component=O}),Ri(()=>{})));for(const O of M.children)P.push(...S(O));return P};return qd(S(w.targetSnapshot.root)).pipe(bT(null),or(1))}),mk(()=>this.afterPreactivation()),Ls(()=>{const{currentSnapshot:w,targetSnapshot:S}=s,M=this.createViewTransition?.(this.environmentInjector,w.root,S.root);return M?Os(M).pipe(Ri(()=>s)):_i(s)}),Ri(w=>{const S=function lxt(e,i,t){const n=ly(e,i._root,t?t._root:void 0);return new Kz(n,i)}(t.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return this.currentTransition=s={...w,targetRouterState:S},this.currentNavigation.targetRouterState=S,s}),vs(()=>{this.events.next(new qI)}),((e,i,t,n)=>Ri(r=>(new xxt(i,r.targetRouterState,r.currentRouterState,t,n).activate(e),r)))(this.rootContexts,t.routeReuseStrategy,w=>this.events.next(w),this.inputBindingEnabled),or(1),vs({next:w=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ld(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects))),this.titleStrategy?.updateTitle(w.targetRouterState.snapshot),w.resolve(!0)},complete:()=>{o=!0}}),ji(this.transitionAbortSubject.pipe(vs(w=>{throw w}))),kg(()=>{!o&&!l&&this.cancelNavigationTransition(s,"",Cl.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ua(w=>{if(l=!0,sG(w))this.events.next(new Lg(s.id,this.urlSerializer.serialize(s.extractedUrl),w.message,w.cancellationCode)),function uxt(e){return sG(e)&&Og(e.url)}(w)?this.events.next(new tk(w.url)):s.resolve(!1);else{this.events.next(new IT(s.id,this.urlSerializer.serialize(s.extractedUrl),w,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(w))}catch(S){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(S)}}return el}))}))}cancelNavigationTransition(t,n,r){const s=new Lg(t.id,this.urlSerializer.serialize(t.extractedUrl),n,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pyt(e){return e!==ay}let gyt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:()=>xe(xyt),providedIn:"root"})}return e})();class vyt{shouldDetach(i){return!1}store(i,t){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,t){return i.routeConfig===t.routeConfig}}let xyt=(()=>{class e extends vyt{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vG=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:()=>xe(yyt),providedIn:"root"})}return e})(),yyt=(()=>{class e extends vG{constructor(){super(...arguments),this.location=xe(Xf),this.urlSerializer=xe(Fg),this.options=xe(Gg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=xe(gk),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pg,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Zz(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(n=>{"popstate"===n.type&&t(n.url,n.state)})}handleRouterEvent(t,n){if(t instanceof DT)this.stateMemento=this.createStateMemento();else if(t instanceof Ng)this.rawUrlTree=n.initialUrl;else if(t instanceof Yz){if("eager"===this.urlUpdateStrategy&&!n.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(r,n)}}else t instanceof qI?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,"deferred"===this.urlUpdateStrategy&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):t instanceof Lg&&(t.code===Cl.GuardRejected||t.code===Cl.NoDataFromResolver)?this.restoreHistory(n):t instanceof IT?this.restoreHistory(n,!0):t instanceof ld&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,n){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const o={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,n=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&0===s&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,n){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var fy=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(fy||{});function xG(e,i){e.events.pipe(On(t=>t instanceof ld||t instanceof Lg||t instanceof IT||t instanceof Ng),Ri(t=>t instanceof ld||t instanceof Ng?fy.COMPLETE:t instanceof Lg&&(t.code===Cl.Redirect||t.code===Cl.SupersededByNewNavigation)?fy.REDIRECTING:fy.FAILED),On(t=>t!==fy.REDIRECTING),or(1)).subscribe(()=>{i()})}function byt(e){throw e}const wyt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_yt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let No=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=xe(d9),this.stateManager=xe(vG),this.options=xe(Gg,{optional:!0})||{},this.pendingTasks=xe(uh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=xe(OT),this.urlSerializer=xe(Fg),this.location=xe(Xf),this.urlHandlingStrategy=xe(gk),this._events=new Ne,this.errorHandler=this.options.errorHandler||byt,this.navigated=!1,this.routeReuseStrategy=xe(gyt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=xe(Hg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!xe(kT,{optional:!0}),this.eventsSubscription=new Re,this.isNgZoneEnabled=xe(di)instanceof di&&di.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(n=>{try{const r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==r&&null!==s)if(this.stateManager.handleRouterEvent(n,s),n instanceof Lg&&n.code!==Cl.Redirect&&n.code!==Cl.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof ld)this.navigated=!0;else if(n instanceof tk){const o=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),l={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pyt(r.source)};this.scheduleNavigation(o,ay,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function Cyt(e){return!(e instanceof qI||e instanceof tk)})(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ay,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",n)},0)})}navigateToSyncWithBrowser(t,n,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const w={...r};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(s.state=w)}const l=this.parseUrl(t);this.scheduleNavigation(l,n,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ck),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,n={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:l,preserveFragment:w}=n,S=w?this.currentUrlTree.fragment:o;let P,M=null;switch(l){case"merge":M={...this.currentUrlTree.queryParams,...s};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=s||null}null!==M&&(M=this.removeEmptyProps(M));try{P=Uz(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),P=this.currentUrlTree.root}return zz(P,t,M,S??null)}navigateByUrl(t,n={skipLocationChange:!1}){const r=Og(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,ay,null,n)}navigate(t,n={skipLocationChange:!1}){return function Tyt(e){for(let i=0;i<e.length;i++)if(null==e[i])throw new pe(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,n){let r;if(r=!0===n?{...wyt}:!1===n?{..._yt}:n,Og(t))return kz(this.currentUrlTree,t,r);const s=this.parseUrl(t);return kz(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((n,[r,s])=>(null!=s&&(n[r]=s),n),{})}scheduleNavigation(t,n,r,s,o){if(this.disposed)return Promise.resolve(!1);let l,w,S;o?(l=o.resolve,w=o.reject,S=o.promise):S=new Promise((P,O)=>{l=P,w=O});const M=this.pendingTasks.add();return xG(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(M))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:l,reject:w,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(P=>Promise.reject(P))}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class yG{}let Ayt=(()=>{class e{constructor(t,n,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(On(t=>t instanceof ld),Ig(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){const r=[];for(const s of n){s.providers&&!s._injector&&(s._injector=C_(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,l=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(l,s.children??s._loadedRoutes))}return Os(r).pipe(Ag())}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(t,n):_i(null);const s=r.pipe(Ea(o=>null===o?_i(void 0):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return n.loadComponent&&!n._loadedComponent?Os([s,this.loader.loadComponent(n)]).pipe(Ag()):s})}static#t=this.\u0275fac=function(n){return new(n||e)(ne(No),ne(b9),ne(Qo),ne(yG),ne(pk))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const xk=new se("");let bG=(()=>{class e{constructor(t,n,r,s,o={}){this.urlSerializer=t,this.transitions=n,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof DT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ld?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ng&&t.code===MT.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $z&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $z(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#t=this.\u0275fac=function(n){o_()};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();function dd(e,i){return{\u0275kind:e,\u0275providers:i}}function _G(){const e=xe(os);return i=>{const t=e.get(Yd);if(i!==t.components[0])return;const n=e.get(No),r=e.get(TG);1===e.get(yk)&&n.initialNavigation(),e.get(CG,null,zn.Optional)?.setUpPreloading(),e.get(xk,null,zn.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const TG=new se("",{factory:()=>new Ne}),yk=new se("",{providedIn:"root",factory:()=>1}),CG=new se("");function kyt(e){return dd(0,[{provide:CG,useExisting:Ayt},{provide:yG,useExisting:e}])}function Pyt(e){return dd(9,[{provide:pG,useValue:fyt},{provide:gG,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const SG=new se("ROUTER_FORROOT_GUARD"),Fyt=[Xf,{provide:Fg,useClass:$I},No,oy,{provide:Ic,useFactory:function wG(e){return e.routerState.root},deps:[No]},pk,[]];let EG=(()=>{class e{constructor(t){}static forRoot(t,n){return{ngModule:e,providers:[Fyt,[],{provide:Hg,multi:!0,useValue:t},{provide:SG,useFactory:Byt,deps:[[No,new Ud,new Cf]]},{provide:Gg,useValue:n||{}},n?.useHash?{provide:jf,useClass:lpt}:{provide:jf,useClass:uU},{provide:xk,useFactory:()=>{const e=xe(wgt),i=xe(di),t=xe(Gg),n=xe(OT),r=xe(Fg);return t.scrollOffset&&e.setOffset(t.scrollOffset),new bG(r,n,e,i,t)}},n?.preloadingStrategy?kyt(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?Vyt(n):[],n?.bindToComponentInputs?dd(8,[eG,{provide:kT,useExisting:eG}]).\u0275providers:[],n?.enableViewTransitions?Pyt().\u0275providers:[],[{provide:AG,useFactory:_G},{provide:ZM,multi:!0,useExisting:AG}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Hg,multi:!0,useValue:t}]}}static#t=this.\u0275fac=function(n){return new(n||e)(ne(SG,8))};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({})}return e})();function Byt(e){return"guarded"}function Vyt(e){return["disabled"===e.initialNavigation?dd(3,[{provide:QM,multi:!0,useFactory:()=>{const i=xe(No);return()=>{i.setUpLocationChangeListener()}}},{provide:yk,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?dd(2,[{provide:yk,useValue:0},{provide:QM,multi:!0,deps:[os],useFactory:i=>{const t=i.get(apt,Promise.resolve());return()=>t.then(()=>new Promise(n=>{const r=i.get(No),s=i.get(TG);xG(r,()=>{n(!0)}),i.get(OT).afterPreactivation=()=>(n(!0),s.closed?_i(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const AG=new se("");class LT{}function bk(e){return e&&"function"==typeof e.connect&&!(e instanceof jI)}var tu=function(e){return e[e.REPLACED=0]="REPLACED",e[e.INSERTED=1]="INSERTED",e[e.MOVED=2]="MOVED",e[e.REMOVED=3]="REMOVED",e}(tu||{});const my=new se("_ViewRepeater");class DG{applyChanges(i,t,n,r,s){i.forEachOperation((o,l,w)=>{let S,M;if(null==o.previousIndex){const P=n(o,l,w);S=t.createEmbeddedView(P.templateRef,P.context,P.index),M=tu.INSERTED}else null==w?(t.remove(l),M=tu.REMOVED):(S=t.get(l),t.move(S,w),M=tu.MOVED);s&&s({context:S?.context,operation:M,record:o})})}detach(){}}class wk{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(i=!1,t,n=!0,r){this._multiple=i,this._emitChanges=n,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ne,t&&t.length&&(i?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...i){this._verifyValueAssignment(i),i.forEach(n=>this._markSelected(n));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...i){this._verifyValueAssignment(i),i.forEach(n=>this._unmarkSelected(n));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...i){this._verifyValueAssignment(i);const t=this.selected,n=new Set(i);i.forEach(s=>this._markSelected(s)),t.filter(s=>!n.has(this._getConcreteValue(s,n))).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(i){return this.isSelected(i)?this.deselect(i):this.select(i)}clear(i=!0){this._unmarkAll();const t=this._hasQueuedChanges();return i&&this._emitChangeEvent(),t}isSelected(i){return this._selection.has(this._getConcreteValue(i))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(i){this._multiple&&this.selected&&this._selected.sort(i)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(i){i=this._getConcreteValue(i),this.isSelected(i)||(this._multiple||this._unmarkAll(),this.isSelected(i)||this._selection.add(i),this._emitChanges&&this._selectedToEmit.push(i))}_unmarkSelected(i){i=this._getConcreteValue(i),this.isSelected(i)&&(this._selection.delete(i),this._emitChanges&&this._deselectedToEmit.push(i))}_unmarkAll(){this.isEmpty()||this._selection.forEach(i=>this._unmarkSelected(i))}_verifyValueAssignment(i){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(i,t){if(this.compareWith){t=t??this._selection;for(let n of t)if(this.compareWith(i,n))return n;return i}return i}}let _k=(()=>{class e{constructor(){this._listeners=[]}notify(t,n){for(let r of this._listeners)r(t,n)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(n=>t!==n)}}ngOnDestroy(){this._listeners=[]}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Da(e,i){const t="object"==typeof i;return new Promise((n,r)=>{let o,s=!1;e.subscribe({next:l=>{o=l,s=!0},error:r,complete:()=>{s?n(o):t?n(i.defaultValue):r(new Eg)}})})}const Tk={now:()=>(Tk.delegate||Date).now(),delegate:void 0};class py extends Ne{constructor(i=1/0,t=1/0,n=Tk){super(),this._bufferSize=i,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,t)}next(i){const{isStopped:t,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;t||(n.push(i),!r&&n.push(s.now()+o)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(i),{_infiniteTimeWindow:n,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!i.closed;o+=n?1:2)i.next(s[o]);return this._checkFinalizedStatuses(i),t}_trimBuffer(){const{_bufferSize:i,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:r}=this,s=(r?1:2)*i;if(i<1/0&&s<n.length&&n.splice(0,n.length-s),!r){const o=t.now();let l=0;for(let w=1;w<n.length&&n[w]<=o;w+=2)l=w;l&&n.splice(0,l+1)}}}class NT{}class BT{}class il{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?"string"==typeof i?this.lazyInit=()=>{this.headers=new Map,i.split("\n").forEach(t=>{const n=t.indexOf(":");if(n>0){const r=t.slice(0,n),s=r.toLowerCase(),o=t.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const t=this.headers.get(i.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,t){return this.clone({name:i,value:t,op:"a"})}set(i,t){return this.clone({name:i,value:t,op:"s"})}delete(i,t){return this.clone({name:i,value:t,op:"d"})}maybeSetNormalizedName(i,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,i)}init(){this.lazyInit&&(this.lazyInit instanceof il?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(t=>{this.headers.set(t,i.headers.get(t)),this.normalizedNames.set(t,i.normalizedNames.get(t))})}clone(i){const t=new il;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof il?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([i]),t}applyUpdate(i){const t=i.name.toLowerCase();switch(i.op){case"a":case"s":let n=i.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(i.name,t);const r=("a"===i.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const s=i.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(l=>-1===s.indexOf(l)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(i,t){const n=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=i.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(i,r)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>i(this.normalizedNames.get(t),this.headers.get(t)))}}class zyt{encodeKey(i){return IG(i)}encodeValue(i){return IG(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const Hyt=/%(\d[a-f0-9])/gi,Wyt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function IG(e){return encodeURIComponent(e).replace(Hyt,(i,t)=>Wyt[t]??i)}function VT(e){return`${e}`}class bh{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new zyt,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Gyt(e,i){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,l]=-1==s?[i.decodeKey(r),""]:[i.decodeKey(r.slice(0,s)),i.decodeValue(r.slice(s+1))],w=t.get(o)||[];w.push(l),t.set(o,w)}),t}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(t=>{const n=i.fromObject[t],r=Array.isArray(n)?n.map(VT):[VT(n)];this.map.set(t,r)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const t=this.map.get(i);return t?t[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,t){return this.clone({param:i,value:t,op:"a"})}appendAll(i){const t=[];return Object.keys(i).forEach(n=>{const r=i[n];Array.isArray(r)?r.forEach(s=>{t.push({param:n,value:s,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(i,t){return this.clone({param:i,value:t,op:"s"})}delete(i,t){return this.clone({param:i,value:t,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const t=this.encoder.encodeKey(i);return this.map.get(i).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const t=new bh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(i),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const t=("a"===i.op?this.map.get(i.param):void 0)||[];t.push(VT(i.value)),this.map.set(i.param,t);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let n=this.map.get(i.param)||[];const r=n.indexOf(VT(i.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(i.param,n):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class jyt{constructor(){this.map=new Map}set(i,t){return this.map.set(i,t),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function kG(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function RG(e){return typeof Blob<"u"&&e instanceof Blob}function PG(e){return typeof FormData<"u"&&e instanceof FormData}class gy{constructor(i,t,n,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function Xyt(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new il,this.context??=new jyt,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const l=t.indexOf("?");this.urlWithParams=t+(-1===l?"?":l<t.length-1?"&":"")+o}}else this.params=new bh,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||kG(this.body)||RG(this.body)||PG(this.body)||function Yyt(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof bh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||PG(this.body)?null:RG(this.body)?this.body.type||null:kG(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const t=i.method||this.method,n=i.url||this.url,r=i.responseType||this.responseType,s=i.transferCache??this.transferCache,o=void 0!==i.body?i.body:this.body,l=i.withCredentials??this.withCredentials,w=i.reportProgress??this.reportProgress;let S=i.headers||this.headers,M=i.params||this.params;const P=i.context??this.context;return void 0!==i.setHeaders&&(S=Object.keys(i.setHeaders).reduce((O,N)=>O.set(N,i.setHeaders[N]),S)),i.setParams&&(M=Object.keys(i.setParams).reduce((O,N)=>O.set(N,i.setParams[N]),M)),new gy(t,n,o,{params:M,headers:S,context:P,reportProgress:w,responseType:r,withCredentials:l,transferCache:s})}}var wh=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(wh||{});class Ck{constructor(i,t=vy.Ok,n="OK"){this.headers=i.headers||new il,this.status=void 0!==i.status?i.status:t,this.statusText=i.statusText||n,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class UT extends Ck{constructor(i={}){super(i),this.type=wh.ResponseHeader}clone(i={}){return new UT({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class $f extends Ck{constructor(i={}){super(i),this.type=wh.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new $f({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class Wg extends Ck{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}var vy=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(vy||{});function Sk(e,i){return{body:i,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let Ql=(()=>{class e{constructor(t){this.handler=t}request(t,n,r={}){let s;if(t instanceof gy)s=t;else{let w,S;w=r.headers instanceof il?r.headers:new il(r.headers),r.params&&(S=r.params instanceof bh?r.params:new bh({fromObject:r.params})),s=new gy(t,n,void 0!==r.body?r.body:null,{headers:w,context:r.context,params:S,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const o=_i(s).pipe(Ig(w=>this.handler.handle(w)));if(t instanceof gy||"events"===r.observe)return o;const l=o.pipe(On(w=>w instanceof $f));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(Ri(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return l.pipe(Ri(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return l.pipe(Ri(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return l.pipe(Ri(w=>w.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:(new bh).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,r={}){return this.request("PATCH",t,Sk(r,n))}post(t,n,r={}){return this.request("POST",t,Sk(r,n))}put(t,n,r={}){return this.request("PUT",t,Sk(r,n))}static#t=this.\u0275fac=function(n){return new(n||e)(ne(NT))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();function OG(e,i){return i(e)}function Jyt(e,i){return(t,n)=>i.intercept(t,{handle:r=>e(r,n)})}const tbt=new se(""),xy=new se(""),LG=new se(""),NG=new se("");function ebt(){let e=null;return(i,t)=>{null===e&&(e=(xe(tbt,{optional:!0})??[]).reduceRight(Jyt,OG));const n=xe(uh),r=n.add();return e(i,t).pipe(kg(()=>n.remove(r)))}}let BG=(()=>{class e extends NT{constructor(t,n){super(),this.backend=t,this.injector=n,this.chain=null,this.pendingTasks=xe(uh);const r=xe(NG,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(xy),...this.injector.get(LG,[])]));this.chain=r.reduceRight((s,o)=>function qyt(e,i,t){return(n,r)=>Wc(t,()=>i(n,s=>e(s,r)))}(s,o,this.injector),OG)}const n=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(kg(()=>this.pendingTasks.remove(n)))}static#t=this.\u0275fac=function(n){return new(n||e)(ne(BT),ne(Qo))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();const abt=/^\)\]\}',?\n/;let UG=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new pe(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?Os(n.\u0275loadImpl()):_i(null)).pipe(Ls(()=>new gr(s=>{const o=n.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((j,W)=>o.setRequestHeader(j,W.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const j=t.detectContentTypeHeader();null!==j&&o.setRequestHeader("Content-Type",j)}if(t.responseType){const j=t.responseType.toLowerCase();o.responseType="json"!==j?j:"text"}const l=t.serializeBody();let w=null;const S=()=>{if(null!==w)return w;const j=o.statusText||"OK",W=new il(o.getAllResponseHeaders()),Z=function obt(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(o)||t.url;return w=new UT({headers:W,status:o.status,statusText:j,url:Z}),w},M=()=>{let{headers:j,status:W,statusText:Z,url:rt}=S(),st=null;W!==vy.NoContent&&(st=typeof o.response>"u"?o.responseText:o.response),0===W&&(W=st?vy.Ok:0);let vt=W>=200&&W<300;if("json"===t.responseType&&"string"==typeof st){const _t=st;st=st.replace(abt,"");try{st=""!==st?JSON.parse(st):null}catch(kt){st=_t,vt&&(vt=!1,st={error:kt,text:st})}}vt?(s.next(new $f({body:st,headers:j,status:W,statusText:Z,url:rt||void 0})),s.complete()):s.error(new Wg({error:st,headers:j,status:W,statusText:Z,url:rt||void 0}))},P=j=>{const{url:W}=S(),Z=new Wg({error:j,status:o.status||0,statusText:o.statusText||"Unknown Error",url:W||void 0});s.error(Z)};let O=!1;const N=j=>{O||(s.next(S()),O=!0);let W={type:wh.DownloadProgress,loaded:j.loaded};j.lengthComputable&&(W.total=j.total),"text"===t.responseType&&o.responseText&&(W.partialText=o.responseText),s.next(W)},U=j=>{let W={type:wh.UploadProgress,loaded:j.loaded};j.lengthComputable&&(W.total=j.total),s.next(W)};return o.addEventListener("load",M),o.addEventListener("error",P),o.addEventListener("timeout",P),o.addEventListener("abort",P),t.reportProgress&&(o.addEventListener("progress",N),null!==l&&o.upload&&o.upload.addEventListener("progress",U)),o.send(l),s.next({type:wh.Sent}),()=>{o.removeEventListener("error",P),o.removeEventListener("abort",P),o.removeEventListener("load",M),o.removeEventListener("timeout",P),t.reportProgress&&(o.removeEventListener("progress",N),null!==l&&o.upload&&o.upload.removeEventListener("progress",U)),o.readyState!==o.DONE&&o.abort()}})))}static#t=this.\u0275fac=function(n){return new(n||e)(ne(OU))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();const Dk=new se(""),zG=new se("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),GG=new se("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class HG{}let dbt=(()=>{class e{constructor(t,n,r){this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=wU(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Gi),ne(Wd),ne(zG))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();function ubt(e,i){const t=e.url.toLowerCase();if(!xe(Dk)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return i(e);const n=xe(HG).getToken(),r=xe(GG);return null!=n&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,n)})),i(e)}var _h=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(_h||{});function hbt(...e){const i=[Ql,UG,BG,{provide:NT,useExisting:BG},{provide:BT,useExisting:UG},{provide:xy,useValue:ubt,multi:!0},{provide:Dk,useValue:!0},{provide:HG,useClass:dbt}];for(const t of e)i.push(...t.\u0275providers);return function V0(e){return{\u0275providers:e}}(i)}const WG=new se("");function fbt(){return function Qf(e,i){return{\u0275kind:e,\u0275providers:i}}(_h.LegacyInterceptors,[{provide:WG,useFactory:ebt},{provide:xy,useExisting:WG,multi:!0}])}let Mk,mbt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({providers:[hbt(fbt())]})}return e})();try{Mk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Mk=!1}let jg,lr=(()=>{class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?PU(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Mk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Wd))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const JG=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function qG(){if(jg)return jg;if("object"!=typeof document||!document)return jg=new Set(JG),jg;let e=document.createElement("input");return jg=new Set(JG.filter(i=>(e.setAttribute("type",i),e.type===i))),jg}let yy;function kc(e){return function bbt(){if(null==yy&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>yy=!0}))}finally{yy=yy||!1}return yy}()?e:!!e.capture}var ud=function(e){return e[e.NORMAL=0]="NORMAL",e[e.NEGATED=1]="NEGATED",e[e.INVERTED=2]="INVERTED",e}(ud||{});let GT,Kf,Ik;function tH(){if(null==Kf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Kf=!1,Kf;if("scrollBehavior"in document.documentElement.style)Kf=!0;else{const e=Element.prototype.scrollTo;Kf=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return Kf}function by(){if("object"!=typeof document||!document)return ud.NORMAL;if(null==GT){const e=document.createElement("div"),i=e.style;e.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";const t=document.createElement("div"),n=t.style;n.width="2px",n.height="1px",e.appendChild(t),document.body.appendChild(e),GT=ud.NORMAL,0===e.scrollLeft&&(e.scrollLeft=1,GT=0===e.scrollLeft?ud.NEGATED:ud.INVERTED),e.remove()}return GT}function kk(e){if(function wbt(){if(null==Ik){const e=typeof document<"u"?document.head:null;Ik=!(!e||!e.createShadowRoot&&!e.attachShadow)}return Ik}()){const i=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function HT(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){const i=e.shadowRoot.activeElement;if(i===e)break;e=i}return e}function Sl(e){return e.composedPath?e.composedPath()[0]:e.target}function Rk(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ao(e,...i){return i.length?i.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}class Fbt extends Re{constructor(i,t){super()}schedule(i,t=0){return this}}const XT={setInterval(e,i,...t){const{delegate:n}=XT;return n?.setInterval?n.setInterval(e,i,...t):setInterval(e,i,...t)},clearInterval(e){const{delegate:i}=XT;return(i?.clearInterval||clearInterval)(e)},delegate:void 0};class Fk extends Fbt{constructor(i,t){super(i,t),this.scheduler=i,this.work=t,this.pending=!1}schedule(i,t=0){var n;if(this.closed)return this;this.state=i;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(s,this.id,t),this}requestAsyncId(i,t,n=0){return XT.setInterval(i.flush.bind(i,this),n)}recycleAsyncId(i,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&XT.clearInterval(t)}execute(i,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(i,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,t){let r,n=!1;try{this.work(i)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:i,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Xe(n,this),null!=i&&(this.id=this.recycleAsyncId(t,i,null)),this.delay=null,super.unsubscribe()}}}class _y{constructor(i,t=_y.now){this.schedulerActionCtor=i,this.now=t}schedule(i,t=0,n){return new this.schedulerActionCtor(this,i).schedule(n,t)}}_y.now=Tk.now;class Ok extends _y{constructor(i,t=_y.now){super(i,t),this.actions=[],this._active=!1}flush(i){const{actions:t}=this;if(this._active)return void t.push(i);let n;this._active=!0;do{if(n=i.execute(i.state,i.delay))break}while(i=t.shift());if(this._active=!1,n){for(;i=t.shift();)i.unsubscribe();throw n}}}const Ty=new Ok(Fk),Obt=Ty;function iu(e,i=Ty){return ms((t,n)=>{let r=null,s=null,o=null;const l=()=>{if(r){r.unsubscribe(),r=null;const S=s;s=null,n.next(S)}};function w(){const S=o+e,M=i.now();if(M<S)return r=this.schedule(void 0,S-M),void n.add(r);l()}t.subscribe(Zr(n,S=>{s=S,o=i.now(),r||(r=i.schedule(w,e),n.add(r))},()=>{l(),n.complete()},void 0,()=>{s=r=null}))})}function Lk(e){return On((i,t)=>e<=t)}function nu(e,i=th){return e=e??Lbt,ms((t,n)=>{let r,s=!0;t.subscribe(Zr(n,o=>{const l=i(o);(s||!e(r,l))&&(s=!1,r=l,n.next(o))}))})}function Lbt(e,i){return e===i}function ha(e){return null!=e&&"false"!=`${e}`}function Sh(e,i=0){return iH(e)?Number(e):i}function iH(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Cy(e){return Array.isArray(e)?e:[e]}function Zs(e){return null==e?"":"string"==typeof e?e:`${e}px`}function _s(e){return e instanceof oi?e.nativeElement:e}let nH=(()=>{class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Bbt=(()=>{class e{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,n)=>this._cleanupObserver(n))}observe(t){const n=_s(t);return new gr(r=>{const o=this._observeElement(n).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(n)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const n=new Ne,r=this._mutationObserverFactory.create(s=>n.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:n,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:n,stream:r}=this._observedElements.get(t);n&&n.disconnect(),r.complete(),this._observedElements.delete(t)}}static#t=this.\u0275fac=function(n){return new(n||e)(ne(nH))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rH=(()=>{class e{get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Sh(t),this._subscribe()}constructor(t,n,r){this._contentObserver=t,this._elementRef=n,this._ngZone=r,this.event=new Fe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(iu(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Bbt),mt(oi),mt(di))};static#e=this.\u0275dir=me({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[$t.HasDecoratorInputTransform,"cdkObserveContentDisabled","disabled",si],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[vn]})}return e})(),Nk=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({providers:[nH]})}return e})();const sH=new Set;let Zf,Vbt=(()=>{class e{constructor(t,n){this._platform=t,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):zbt}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ubt(e,i){if(!sH.has(e))try{Zf||(Zf=document.createElement("style"),i&&Zf.setAttribute("nonce",i),Zf.setAttribute("type","text/css"),document.head.appendChild(Zf)),Zf.sheet&&(Zf.sheet.insertRule(`@media ${e} {body{ }}`,0),sH.add(e))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#t=this.\u0275fac=function(n){return new(n||e)(ne(lr),ne(iD,8))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zbt(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let aH=(()=>{class e{constructor(t,n){this._mediaMatcher=t,this._zone=n,this._queries=new Map,this._destroySubject=new Ne}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return oH(Cy(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=qd(oH(Cy(t)).map(o=>this._registerQuery(o).observable));return s=ty(s.pipe(or(1)),s.pipe(Lk(1),iu(0))),s.pipe(Ri(o=>{const l={matches:!1,breakpoints:{}};return o.forEach(({matches:w,query:S})=>{l.matches=l.matches||w,l.breakpoints[S]=w}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const n=this._mediaMatcher.matchMedia(t),s={observable:new gr(o=>{const l=w=>this._zone.run(()=>o.next(w));return n.addListener(l),()=>{n.removeListener(l)}}).pipe(Aa(n),Ri(({matches:o})=>({query:t,matches:o})),ji(this._destroySubject)),mql:n};return this._queries.set(t,s),s}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Vbt),ne(di))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function oH(e){return e.map(i=>i.split(",")).reduce((i,t)=>i.concat(t)).map(i=>i.trim())}function YT(e,i,t){const n=$T(e,i);t=t.trim(),!n.some(r=>r.trim()===t)&&(n.push(t),e.setAttribute(i,n.join(" ")))}function Yg(e,i,t){const n=$T(e,i);t=t.trim();const r=n.filter(s=>s!==t);r.length?e.setAttribute(i,r.join(" ")):e.removeAttribute(i)}function $T(e,i){return e.getAttribute(i)?.match(/\S+/g)??[]}const cH="cdk-describedby-message",QT="cdk-describedby-host";let Bk=0,dH=(()=>{class e{constructor(t,n){this._platform=n,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Bk++,this._document=t,this._id=xe(ix)+"-"+Bk++}describe(t,n,r){if(!this._canBeDescribed(t,n))return;const s=Vk(n,r);"string"!=typeof n?(uH(n,this._id),this._messageRegistry.set(s,{messageElement:n,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(n,r),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,n,r){if(!n||!this._isElementNode(t))return;const s=Vk(n,r);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof n){const o=this._messageRegistry.get(s);o&&0===o.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${QT}="${this._id}"]`);for(let n=0;n<t.length;n++)this._removeCdkDescribedByReferenceIds(t[n]),t[n].removeAttribute(QT);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,n){const r=this._document.createElement("div");uH(r,this._id),r.textContent=t,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Vk(t,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<n.length;s++)n[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const n=$T(t,"aria-describedby").filter(r=>0!=r.indexOf(cH));t.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(t,n){const r=this._messageRegistry.get(n);YT(t,"aria-describedby",r.messageElement.id),t.setAttribute(QT,this._id),r.referenceCount++}_removeMessageReference(t,n){const r=this._messageRegistry.get(n);r.referenceCount--,Yg(t,"aria-describedby",r.messageElement.id),t.removeAttribute(QT)}_isElementDescribedByMessage(t,n){const r=$T(t,"aria-describedby"),s=this._messageRegistry.get(n),o=s&&s.messageElement.id;return!!o&&-1!=r.indexOf(o)}_canBeDescribed(t,n){if(!this._isElementNode(t))return!1;if(n&&"object"==typeof n)return!0;const r=null==n?"":`${n}`.trim(),s=t.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Gi),ne(lr))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Vk(e,i){return"string"==typeof e?`${i||""}/${e}`:e}function uH(e,i){e.id||(e.id=`${cH}-${i}-${Bk++}`)}class hH{constructor(i,t){this._items=i,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ne,this._typeaheadSubscription=Re.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=n=>n.disabled,this._pressedLetters=[],this.tabOut=new Ne,this.change=new Ne,i instanceof sh?this._itemChangesSubscription=i.changes.subscribe(n=>this._itemsChanged(n.toArray())):w_(i)&&(this._effectRef=function oU(e,i){qc("NgSignals"),!i?.injector&&Ew();const t=i?.injector??xe(os),n=!0!==i?.manualCleanup?t.get(Xp):null,r=new ipt(t.get(qmt),e,typeof Zone>"u"?null:Zone.current,n,t,i?.allowSignalWrites??!1),s=t.get(Fn,null,{optional:!0});return s&&8&s._lView[Vi]?(s._lView[Dw]??=[]).push(r.watcher.notify):r.watcher.notify(),r}(()=>this._itemsChanged(i()),{injector:t}))}skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(vs(t=>this._pressedLetters.push(t)),iu(i),On(()=>this._pressedLetters.length>0),Ri(()=>this._pressedLetters.join(""))).subscribe(t=>{const n=this._getItemsArray();for(let r=1;r<n.length+1;r++){const s=(this._activeItemIndex+r)%n.length,o=n[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}withPageUpDown(i=!0,t=10){return this._pageUpAndDown={enabled:i,delta:t},this}setActiveItem(i){const t=this._activeItem;this.updateActiveItem(i),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(i){const t=i.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!i[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||ao(i,"shiftKey"))&&(i.key&&1===i.key.length?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){const t=this._getItemsArray(),n="number"==typeof i?i:t.indexOf(i);this._activeItem=t[n]??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const r=(this._activeItemIndex+i*n+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,t){const n=this._getItemsArray();if(n[i]){for(;this._skipPredicateFn(n[i]);)if(!n[i+=t])return;this.setActiveItem(i)}}_getItemsArray(){return w_(this._items)?this._items():this._items instanceof sh?this._items.toArray():this._items}_itemsChanged(i){if(this._activeItem){const t=i.indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}}}class fH extends hH{setActiveItem(i){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(i),this.activeItem&&this.activeItem.setActiveStyles()}}class Uk extends hH{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}let KT=(()=>{class e{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Wbt(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const n=function Hbt(e){try{return e.frameElement}catch{return null}}(function Jbt(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(t));if(n&&(-1===pH(n)||!this.isVisible(n)))return!1;let r=t.nodeName.toLowerCase(),s=pH(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Kbt(e){let i=e.nodeName.toLowerCase(),t="input"===i&&e.type;return"text"===t||"password"===t||"select"===i||"textarea"===i}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,n){return function Zbt(e){return!function Xbt(e){return function $bt(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function jbt(e){let i=e.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(e)||function Ybt(e){return function Qbt(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||mH(e))}(t)&&!this.isDisabled(t)&&(n?.ignoreVisibility||this.isVisible(t))}static#t=this.\u0275fac=function(n){return new(n||e)(ne(lr))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mH(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let i=e.getAttribute("tabindex");return!(!i||isNaN(parseInt(i,10)))}function pH(e){if(!mH(e))return null;const i=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class gH{get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}constructor(i,t,n,r,s=!1){this._element=i,this._checker=t,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const i=this._startAnchor,t=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){const t=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);return"start"==i?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return n?.focus(i),!!n}return t.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){const t=this._getRegionBoundary("start");return t&&t.focus(i),!!t}focusLastTabbableElement(i){const t=this._getRegionBoundary("end");return t&&t.focus(i),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const t=i.children;for(let n=0;n<t.length;n++){const r=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(r)return r}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const t=i.children;for(let n=t.length-1;n>=0;n--){const r=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(r)return r}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,t){i?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(or(1)).subscribe(i)}}let zk=(()=>{class e{constructor(t,n,r){this._checker=t,this._ngZone=n,this._document=r}create(t,n=!1){return new gH(t,this._checker,this._ngZone,this._document,n)}static#t=this.\u0275fac=function(n){return new(n||e)(ne(KT),ne(di),ne(Gi))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ZT(e){return 0===e.buttons||0===e.detail}function JT(e){const i=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}const qbt=new se("cdk-input-modality-detector-options"),t1t={ignoreKeys:[18,17,224,91,16]},$g=kc({passive:!0,capture:!0});let e1t=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(t,n,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Kr(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(l=>l===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Sl(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ZT(o)?"keyboard":"mouse"),this._mostRecentTarget=Sl(o))},this._onTouchstart=o=>{JT(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Sl(o))},this._options={...t1t,...s},this.modalityDetected=this._modality.pipe(Lk(1)),this.modalityChanged=this.modalityDetected.pipe(nu()),t.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,$g),r.addEventListener("mousedown",this._onMousedown,$g),r.addEventListener("touchstart",this._onTouchstart,$g)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,$g),document.removeEventListener("mousedown",this._onMousedown,$g),document.removeEventListener("touchstart",this._onTouchstart,$g))}static#t=this.\u0275fac=function(n){return new(n||e)(ne(lr),ne(di),ne(Gi),ne(qbt,8))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const i1t=new se("liveAnnouncerElement",{providedIn:"root",factory:function n1t(){return null}}),r1t=new se("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let s1t=0,xH=(()=>{class e{constructor(t,n,r,s){this._ngZone=n,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...n){const r=this._defaultOptions;let s,o;return 1===n.length&&"number"==typeof n[0]?o=n[0]:[s,o]=n,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",n=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<n.length;s++)n[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+s1t++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const s=n[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}static#t=this.\u0275fac=function(n){return new(n||e)(ne(i1t,8),ne(di),ne(Gi),ne(r1t,8))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var qT=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(qT||{});const a1t=new se("cdk-focus-monitor-default-options"),tC=kc({passive:!0,capture:!0});let Kl=(()=>{class e{constructor(t,n,r,s,o){this._ngZone=t,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ne,this._rootNodeFocusAndBlurListener=l=>{for(let S=Sl(l);S;S=S.parentElement)"focus"===l.type?this._onFocus(l,S):this._onBlur(l,S)},this._document=s,this._detectionMode=o?.detectionMode||qT.IMMEDIATE}monitor(t,n=!1){const r=_s(t);if(!this._platform.isBrowser||1!==r.nodeType)return _i();const s=kk(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return n&&(o.checkChildren=!0),o.subject;const l={checkChildren:n,subject:new Ne,rootNode:s};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(t){const n=_s(t),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(t,n,r){const s=_s(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([l,w])=>this._originChanged(l,n,w)):(this._setOrigin(n),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===qT.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,n){t.classList.toggle("cdk-focused",!!n),t.classList.toggle("cdk-touch-focused","touch"===n),t.classList.toggle("cdk-keyboard-focused","keyboard"===n),t.classList.toggle("cdk-mouse-focused","mouse"===n),t.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(t,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&n,this._detectionMode===qT.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,n){const r=this._elementInfo.get(n),s=Sl(t);!r||!r.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),r)}_onBlur(t,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&t.relatedTarget instanceof Node&&n.contains(t.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(t,n){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(n))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const n=t.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,tC),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,tC)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ji(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const n=t.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,tC),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,tC),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,n,r){this._setClasses(t,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(t){const n=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&n.push([s,r])}),n}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(n))return!0;return!1}static#t=this.\u0275fac=function(n){return new(n||e)(ne(di),ne(lr),ne(e1t),ne(Gi,8),ne(a1t,8))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),o1t=(()=>{class e{constructor(t,n){this._elementRef=t,this._focusMonitor=n,this._focusOrigin=null,this.cdkFocusChange=new Fe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(Kl))};static#e=this.\u0275dir=me({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return e})();var Jf=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(Jf||{});const yH="cdk-high-contrast-black-on-white",bH="cdk-high-contrast-white-on-black",Gk="cdk-high-contrast-active";let wH=(()=>{class e{constructor(t,n){this._platform=t,this._document=n,this._breakpointSubscription=xe(aH).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Jf.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Jf.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Jf.BLACK_ON_WHITE}return Jf.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Gk,yH,bH),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();n===Jf.BLACK_ON_WHITE?t.add(Gk,yH):n===Jf.WHITE_ON_BLACK&&t.add(Gk,bH)}}static#t=this.\u0275fac=function(n){return new(n||e)(ne(lr),ne(Gi))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_H=(()=>{class e{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#t=this.\u0275fac=function(n){return new(n||e)(ne(wH))};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[Nk]})}return e})();const l1t=new se("cdk-dir-doc",{providedIn:"root",factory:function c1t(){return xe(Gi)}}),d1t=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ha=(()=>{class e{constructor(t){this.value="ltr",this.change=new Fe,t&&(this.value=function u1t(e){const i=e?.toLowerCase()||"";return"auto"===i&&typeof navigator<"u"&&navigator?.language?d1t.test(navigator.language)?"rtl":"ltr":"rtl"===i?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#t=this.\u0275fac=function(n){return new(n||e)(ne(l1t,8))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Sy=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({})}return e})();const h1t=["text"],f1t=[[["mat-icon"]],"*"],m1t=["mat-icon","*"];function p1t(e,i){if(1&e&&Te(0,"mat-pseudo-checkbox",1),2&e){const t=Ct();xt("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function g1t(e,i){1&e&&Te(0,"mat-pseudo-checkbox",3),2&e&&xt("disabled",Ct().disabled)}function v1t(e,i){if(1&e&&(q(0,"span",4),ut(1),et()),2&e){const t=Ct();ot(),Ke("(",t.group.label,")")}}const x1t=["mat-internal-form-field",""],y1t=["*"];let b1t=(()=>{class e{static#t=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#e=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#i=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#n=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return e})(),w1t=(()=>{class e{static#t=this.COMPLEX="375ms";static#e=this.ENTERING="225ms";static#i=this.EXITING="195ms"}return e})();const T1t=new se("mat-sanity-checks",{providedIn:"root",factory:function _1t(){return!0}});let nn=(()=>{class e{constructor(t,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Rk()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#t=this.\u0275fac=function(n){return new(n||e)(ne(wH),ne(T1t,8),ne(Gi))};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[Sy,Sy]})}return e})();class Hk{constructor(i,t,n,r,s){this._defaultMatcher=i,this.ngControl=t,this._parentFormGroup=n,this._parentForm=r,this._stateChanges=s,this.errorState=!1}updateErrorState(){const i=this.errorState,t=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,s=n?.isErrorState(r,t)??!1;s!==i&&(this.errorState=s,this._stateChanges.next())}}let SH=(()=>{class e{isErrorState(t,n){return!!(t&&t.invalid&&(t.touched||n&&n.submitted))}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Zl=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(Zl||{});class M1t{constructor(i,t,n,r=!1){this._renderer=i,this.element=t,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=Zl.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const EH=kc({passive:!0,capture:!0});class I1t{constructor(){this._events=new Map,this._delegateEventHandler=i=>{const t=Sl(i);t&&this._events.get(i.type)?.forEach((n,r)=>{(r===t||r.contains(t))&&n.forEach(s=>s.handleEvent(i))})}}addHandler(i,t,n,r){const s=this._events.get(t);if(s){const o=s.get(n);o?o.add(r):s.set(n,new Set([r]))}else this._events.set(t,new Map([[n,new Set([r])]])),i.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,EH)})}removeHandler(i,t,n){const r=this._events.get(i);if(!r)return;const s=r.get(t);s&&(s.delete(n),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,EH)))}}const AH={enterDuration:225,exitDuration:150},DH=kc({passive:!0,capture:!0}),MH=["mousedown","touchstart"],IH=["mouseup","mouseleave","touchend","touchcancel"];class Ay{static#t=this._eventManager=new I1t;constructor(i,t,n,r){this._target=i,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=_s(n))}fadeInRipple(i,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...AH,...n.animation};n.centered&&(i=r.left+r.width/2,t=r.top+r.height/2);const o=n.radius||function R1t(e,i,t){const n=Math.max(Math.abs(e-t.left),Math.abs(e-t.right)),r=Math.max(Math.abs(i-t.top),Math.abs(i-t.bottom));return Math.sqrt(n*n+r*r)}(i,t,r),l=i-r.left,w=t-r.top,S=s.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=l-o+"px",M.style.top=w-o+"px",M.style.height=2*o+"px",M.style.width=2*o+"px",null!=n.color&&(M.style.backgroundColor=n.color),M.style.transitionDuration=`${S}ms`,this._containerElement.appendChild(M);const P=window.getComputedStyle(M),N=P.transitionDuration,U="none"===P.transitionProperty||"0s"===N||"0s, 0s"===N||0===r.width&&0===r.height,j=new M1t(this,M,n,U);M.style.transform="scale3d(1, 1, 1)",j.state=Zl.FADING_IN,n.persistent||(this._mostRecentTransientRipple=j);let W=null;return!U&&(S||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Z=()=>this._finishRippleTransition(j),rt=()=>this._destroyRipple(j);M.addEventListener("transitionend",Z),M.addEventListener("transitioncancel",rt),W={onTransitionEnd:Z,onTransitionCancel:rt}}),this._activeRipples.set(j,W),(U||!S)&&this._finishRippleTransition(j),j}fadeOutRipple(i){if(i.state===Zl.FADING_OUT||i.state===Zl.HIDDEN)return;const t=i.element,n={...AH,...i.config.animation};t.style.transitionDuration=`${n.exitDuration}ms`,t.style.opacity="0",i.state=Zl.FADING_OUT,(i._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const t=_s(i);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,MH.forEach(n=>{Ay._eventManager.addHandler(this._ngZone,n,t,this)}))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{IH.forEach(t=>{this._triggerElement.addEventListener(t,this,DH)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){i.state===Zl.FADING_IN?this._startFadeOutTransition(i):i.state===Zl.FADING_OUT&&this._destroyRipple(i)}_startFadeOutTransition(i){const t=i===this._mostRecentTransientRipple,{persistent:n}=i.config;i.state=Zl.VISIBLE,!n&&(!t||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){const t=this._activeRipples.get(i)??null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=Zl.HIDDEN,null!==t&&(i.element.removeEventListener("transitionend",t.onTransitionEnd),i.element.removeEventListener("transitioncancel",t.onTransitionCancel)),i.element.remove()}_onMousedown(i){const t=ZT(i),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!JT(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=i.changedTouches;if(t)for(let n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{!i.config.persistent&&(i.state===Zl.VISIBLE||i.config.terminateOnPointerUp&&i.state===Zl.FADING_IN)&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const i=this._triggerElement;i&&(MH.forEach(t=>Ay._eventManager.removeHandler(t,i,this)),this._pointerUpEventsRegistered&&IH.forEach(t=>i.removeEventListener(t,this,DH)))}}const eC=new se("mat-ripple-global-options");let ru=(()=>{class e{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,n,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Ay(this,n,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,n=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(di),mt(lr),mt(eC,8),mt(Hr,8))};static#e=this.\u0275dir=me({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){2&n&&Si("mat-ripple-unbounded",r.unbounded)},inputs:{color:[$t.None,"matRippleColor","color"],unbounded:[$t.None,"matRippleUnbounded","unbounded"],centered:[$t.None,"matRippleCentered","centered"],radius:[$t.None,"matRippleRadius","radius"],animation:[$t.None,"matRippleAnimation","animation"],disabled:[$t.None,"matRippleDisabled","disabled"],trigger:[$t.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return e})(),Qg=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[nn,nn]})}return e})(),P1t=(()=>{class e{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Hr,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,r){2&n&&Si("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Wi],decls:0,vars:0,template:function(n,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return e})(),kH=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[nn]})}return e})();const Wk=new se("MAT_OPTION_PARENT_COMPONENT"),jk=new se("MatOptgroup");let F1t=0;class RH{constructor(i,t=!1){this.source=i,this.isUserInput=t}}let su=(()=>{class e{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=t}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,n,r,s){this._element=t,this._changeDetectorRef=n,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+F1t++,this.onSelectionChange=new Fe,this._stateChanges=new Ne}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,n){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!ao(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new RH(this,t))}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(Fn),mt(Wk,8),mt(jk,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-option"]],viewQuery:function(n,r){if(1&n&&Pi(h1t,7),2&n){let s;Ge(s=He())&&(r._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,r){1&n&&zt("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),2&n&&(nd("id",r.id),Ai("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),Si("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[$t.HasDecoratorInputTransform,"disabled","disabled",si]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[vn,Wi],ngContentSelectors:m1t,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,r){1&n&&(er(f1t),jt(0,p1t,1,2,"mat-pseudo-checkbox",1),Ti(1),q(2,"span",2,0),Ti(4,1),et(),jt(5,g1t,1,1,"mat-pseudo-checkbox",3)(6,v1t,2,1,"span",4),Te(7,"div",5)),2&n&&(En(0,r.multiple?0:-1),ot(5),En(5,r.multiple||!r.selected||r.hideSingleSelectionIndicator?-1:5),ot(),En(6,r.group&&r.group._inert?6:-1),ot(),xt("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[P1t,ru],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return e})();function PH(e,i,t){if(t.length){let n=i.toArray(),r=t.toArray(),s=0;for(let o=0;o<e+1;o++)n[o].group&&n[o].group===r[s]&&s++;return s}return 0}function FH(e,i,t,n){return e<t?e:e+i>t+n?Math.max(0,e-n+i):t}let iC=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[Qg,nn,kH]})}return e})();const OH={capture:!0},LH=["focus","click","mouseenter","touchstart"],Xk="mat-ripple-loader-uninitialized",Yk="mat-ripple-loader-class-name",NH="mat-ripple-loader-centered",nC="mat-ripple-loader-disabled";let O1t=(()=>{class e{constructor(){this._document=xe(Gi,{optional:!0}),this._animationMode=xe(Hr,{optional:!0}),this._globalRippleOptions=xe(eC,{optional:!0}),this._platform=xe(lr),this._ngZone=xe(di),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${Xk}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of LH)this._document?.addEventListener(t,this._onInteraction,OH)})}ngOnDestroy(){const t=this._hosts.keys();for(const n of t)this.destroyRipple(n);for(const n of LH)this._document?.removeEventListener(n,this._onInteraction,OH)}configureRipple(t,n){t.setAttribute(Xk,""),(n.className||!t.hasAttribute(Yk))&&t.setAttribute(Yk,n.className||""),n.centered&&t.setAttribute(NH,""),n.disabled&&t.setAttribute(nC,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,n){const r=this._hosts.get(t);r?r.disabled=n:n?t.setAttribute(nC,""):t.removeAttribute(nC)}_createRipple(t){if(!this._document)return;const n=this._hosts.get(t);if(n)return n;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(Yk)),t.append(r);const s=new ru(new oi(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=t,s.centered=t.hasAttribute(NH),s.disabled=t.hasAttribute(nC),this.attachRipple(t,s),s}attachRipple(t,n){t.removeAttribute(Xk),this._hosts.set(t,n)}destroyRipple(t){const n=this._hosts.get(t);n&&(n.ngOnDestroy(),this._hosts.delete(t))}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$k=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=Qe({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(n,r){2&n&&Si("mdc-form-field--align-end","before"===r.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Wi],attrs:x1t,ngContentSelectors:y1t,decls:1,vars:0,template:function(n,r){1&n&&(er(),Ti(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0})}return e})();const BH=["mat-button",""],VH=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],UH=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],zH=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",N1t=["mat-icon-button",""],B1t=["*"],V1t=new se("MAT_BUTTON_CONFIG"),U1t=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let Qk=(()=>{class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,n,r,s){this._elementRef=t,this._platform=n,this._ngZone=r,this._animationMode=s,this._focusMonitor=xe(Kl),this._rippleLoader=xe(O1t),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const o=xe(V1t,{optional:!0}),l=t.nativeElement,w=l.classList;this.disabledInteractive=o?.disabledInteractive??!1,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(const{attribute:S,mdcClasses:M}of U1t)l.hasAttribute(S)&&w.add(...M)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",n){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#t=this.\u0275fac=function(n){o_()};static#e=this.\u0275dir=me({type:e,inputs:{color:"color",disableRipple:[$t.HasDecoratorInputTransform,"disableRipple","disableRipple",si],disabled:[$t.HasDecoratorInputTransform,"disabled","disabled",si],ariaDisabled:[$t.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",si],disabledInteractive:[$t.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",si]},features:[vn]})}return e})(),z1t=(()=>{class e extends Qk{constructor(t,n,r,s){super(t,n,r,s),this._haltDisabledEvents=o=>{this.disabled&&(o.preventDefault(),o.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#t=this.\u0275fac=function(n){o_()};static#e=this.\u0275dir=me({type:e,inputs:{tabIndex:[$t.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?void 0:Jr(t)]},features:[vn,xi]})}return e})(),Ma=(()=>{class e extends Qk{constructor(t,n,r,s){super(t,n,r,s)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(lr),mt(di),mt(Hr,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,r){2&n&&(Ai("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Wl(r.color?"mat-"+r.color:""),Si("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[xi,Wi],attrs:BH,ngContentSelectors:UH,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(er(VH),Te(0,"span",0),Ti(1),q(2,"span",1),Ti(3,1),et(),Ti(4,2),Te(5,"span",2)(6,"span",3)),2&n&&Si("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return e})(),G1t=(()=>{class e extends z1t{constructor(t,n,r,s){super(t,n,r,s)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(lr),mt(di),mt(Hr,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(n,r){2&n&&(Ai("disabled",r._getDisabledAttribute())("tabindex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("aria-disabled",r._getDisabledAttribute()),Wl(r.color?"mat-"+r.color:""),Si("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[xi,Wi],attrs:BH,ngContentSelectors:UH,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(er(VH),Te(0,"span",0),Ti(1),q(2,"span",1),Ti(3,1),et(),Ti(4,2),Te(5,"span",2)(6,"span",3)),2&n&&Si("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',zH],encapsulation:2,changeDetection:0})}return e})(),Bo=(()=>{class e extends Qk{constructor(t,n,r,s){super(t,n,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(lr),mt(di),mt(Hr,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,r){2&n&&(Ai("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Wl(r.color?"mat-"+r.color:""),Si("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[xi,Wi],attrs:N1t,ngContentSelectors:B1t,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(er(),Te(0,"span",0),Ti(1),Te(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',zH],encapsulation:2,changeDetection:0})}return e})(),Kk=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[nn,Qg,nn]})}return e})();var rn=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(rn||{});const au="*";function yr(e,i){return{type:rn.Trigger,name:e,definitions:i,options:{}}}function mn(e,i=null){return{type:rn.Animate,styles:i,timings:e}}function Zk(e,i=null){return{type:rn.Group,steps:e,options:i}}function ai(e){return{type:rn.Style,styles:e,offset:null}}function Ln(e,i,t){return{type:rn.State,name:e,styles:i,options:t}}function Kg(e){return{type:rn.Keyframes,steps:e}}function gn(e,i,t=null){return{type:rn.Transition,expr:e,animation:i,options:t}}function rC(e=null){return{type:rn.AnimateChild,options:e}}function sC(e,i,t=null){return{type:rn.Query,selector:e,animation:i,options:t}}class Dy{constructor(i=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class GH{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let t=0,n=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,l)=>Math.max(o,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const t=i*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(r)})}getPosition(){const i=this.players.reduce((t,n)=>null===t||n.totalTime>t.totalTime?n:t,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class qk{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class Zg extends qk{constructor(i,t,n,r,s){super(),this.component=i,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=s}}class ou extends qk{constructor(i,t,n,r){super(),this.templateRef=i,this.viewContainerRef=t,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(i,t=this.context){return this.context=t,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class Q1t extends qk{constructor(i){super(),this.element=i instanceof oi?i.nativeElement:i}}class aC{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof Zg?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof ou?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof Q1t?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class K1t extends aC{constructor(i,t,n,r,s){super(),this.outletElement=i,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=o=>{const l=o.element,w=this._document.createComment("dom-portal");l.parentNode.insertBefore(w,l),this.outletElement.appendChild(l),this._attachedPortal=o,super.setDisposeFn(()=>{w.parentNode&&w.parentNode.replaceChild(l,w)})},this._document=s}attachComponentPortal(i){const n=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let r;return i.viewContainerRef?(r=i.viewContainerRef.createComponent(n,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector,i.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(i.injector||this._defaultInjector||os.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=i,r}attachTemplatePortal(i){let t=i.viewContainerRef,n=t.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(n);-1!==r&&t.remove(r)}),this._attachedPortal=i,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let Z1t=(()=>{class e extends ou{constructor(t,n){super(t,n)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(xr),mt(Lr))};static#e=this.\u0275dir=me({type:e,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[xi]})}return e})(),lu=(()=>{class e extends aC{constructor(t,n,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new Fe,this.attachDomPortal=s=>{const o=s.element,l=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(l,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(o,l)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const n=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=n.createComponent(s,n.length,t.injector||n.injector,t.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lf),mt(Lr),mt(Gi))};static#e=this.\u0275dir=me({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[$t.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[xi]})}return e})(),Jg=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({})}return e})();const J1t=["addListener","removeListener"],q1t=["addEventListener","removeEventListener"],twt=["on","off"];function Rc(e,i,t,n){if(ae(t)&&(n=t,t=void 0),n)return Rc(e,i,t).pipe(HI(n));const[r,s]=function nwt(e){return ae(e.addEventListener)&&ae(e.removeEventListener)}(e)?q1t.map(o=>l=>e[o](i,l,t)):function ewt(e){return ae(e.addListener)&&ae(e.removeListener)}(e)?J1t.map(HH(e,i)):function iwt(e){return ae(e.on)&&ae(e.off)}(e)?twt.map(HH(e,i)):[];if(!r&&zI(e))return Ea(o=>Rc(o,i,t))(so(e));if(!r)throw new TypeError("Invalid event target");return new gr(o=>{const l=(...w)=>o.next(1<w.length?w:w[0]);return r(l),()=>s(l)})}function HH(e,i){return t=>n=>e[t](i,n)}const My={schedule(e){let i=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:n}=My;n&&(i=n.requestAnimationFrame,t=n.cancelAnimationFrame);const r=i(s=>{t=void 0,e(s)});return new Re(()=>t?.(r))},requestAnimationFrame(...e){const{delegate:i}=My;return(i?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:i}=My;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},WH=new class swt extends Ok{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;i=i||n.shift();do{if(r=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===t&&n.shift());if(this._active=!1,r){for(;(i=n[0])&&i.id===t&&n.shift();)i.unsubscribe();throw r}}}(class rwt extends Fk{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,n=0){return null!==n&&n>0?super.requestAsyncId(i,t,n):(i.actions.push(this),i._scheduled||(i._scheduled=My.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(i,t,n);const{actions:s}=i;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(My.cancelAnimationFrame(t),i._scheduled=void 0)}});let tR,awt=1;const oC={};function jH(e){return e in oC&&(delete oC[e],!0)}const owt={setImmediate(e){const i=awt++;return oC[i]=!0,tR||(tR=Promise.resolve()),tR.then(()=>jH(i)&&e()),i},clearImmediate(e){jH(e)}},{setImmediate:lwt,clearImmediate:cwt}=owt,lC={setImmediate(...e){const{delegate:i}=lC;return(i?.setImmediate||lwt)(...e)},clearImmediate(e){const{delegate:i}=lC;return(i?.clearImmediate||cwt)(e)},delegate:void 0},eR=new class uwt extends Ok{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;i=i||n.shift();do{if(r=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===t&&n.shift());if(this._active=!1,r){for(;(i=n[0])&&i.id===t&&n.shift();)i.unsubscribe();throw r}}}(class dwt extends Fk{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,n=0){return null!==n&&n>0?super.requestAsyncId(i,t,n):(i.actions.push(this),i._scheduled||(i._scheduled=lC.setImmediate(i.flush.bind(i,void 0))))}recycleAsyncId(i,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(i,t,n);const{actions:s}=i;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(lC.clearImmediate(t),i._scheduled===t&&(i._scheduled=void 0))}});function Iy(e=0,i,t=Obt){let n=-1;return null!=i&&(_z(i)?t=i:n=i),new gr(r=>{let s=function fwt(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function XH(e,i=Ty){return function hwt(e){return ms((i,t)=>{let n=!1,r=null,s=null,o=!1;const l=()=>{if(s?.unsubscribe(),s=null,n){n=!1;const S=r;r=null,t.next(S)}o&&t.complete()},w=()=>{s=null,o&&t.complete()};i.subscribe(Zr(t,S=>{n=!0,r=S,s||so(e(S)).subscribe(s=Zr(t,l,w))},()=>{o=!0,(!n||!s||s.closed)&&t.complete()}))})}(()=>Iy(e,i))}let ky=(()=>{class e{constructor(t,n,r){this._ngZone=t,this._platform=n,this._scrolled=new Ne,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const n=this.scrollContainers.get(t);n&&(n.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new gr(n=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(XH(t)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):_i()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(t,n){const r=this.getAncestorScrollContainers(t);return this.scrolled(n).pipe(On(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const n=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,n){let r=_s(n),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Rc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#t=this.\u0275fac=function(n){return new(n||e)(ne(di),ne(lr),ne(Gi,8))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cC=(()=>{class e{constructor(t,n,r,s){this.elementRef=t,this.scrollDispatcher=n,this.ngZone=r,this.dir=s,this._destroyed=new Ne,this._elementScrolled=new gr(o=>this.ngZone.runOutsideAngular(()=>Rc(this.elementRef.nativeElement,"scroll").pipe(ji(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const n=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=n.scrollHeight-n.clientHeight-t.bottom),r&&by()!=ud.NORMAL?(null!=t.left&&(t.right=n.scrollWidth-n.clientWidth-t.left),by()==ud.INVERTED?t.left=t.right:by()==ud.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=n.scrollWidth-n.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const n=this.elementRef.nativeElement;tH()?n.scrollTo(t):(null!=t.top&&(n.scrollTop=t.top),null!=t.left&&(n.scrollLeft=t.left))}measureScrollOffset(t){const n="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:n:"end"==t&&(t=o?n:r),o&&by()==ud.INVERTED?t==n?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&by()==ud.NEGATED?t==n?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==n?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(ky),mt(di),mt(Ha,8))};static#e=this.\u0275dir=me({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return e})(),cu=(()=>{class e{constructor(t,n,r){this._platform=t,this._change=new Ne,this._changeListener=s=>{this._change.next(s)},this._document=r,n.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,n=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||n.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(XH(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#t=this.\u0275fac=function(n){return new(n||e)(ne(lr),ne(di),ne(Gi,8))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),du=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({})}return e})(),iR=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[Sy,du,Sy,du]})}return e})();function YH(e,i=!1){return ms((t,n)=>{let r=0;t.subscribe(Zr(n,s=>{const o=e(s,r++);(o||i)&&n.next(s),!o&&n.complete()}))})}function qr(...e){const i=qx(e),t=function s0t(e,i){return"number"==typeof GI(e)?e.pop():i}(e,1/0),n=e;return n.length?1===n.length?so(n[0]):Ag(t)(Os(n,i)):el}const $H=tH();class gwt{constructor(i,t){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=Zs(-this._previousScrollPosition.left),i.style.top=Zs(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,n=i.style,r=this._document.body.style,s=n.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),$H&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),$H&&(n.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,n=this._viewportRuler.getViewportSize();return t.scrollHeight>n.height||t.scrollWidth>n.width}}class vwt{constructor(i,t,n,r){this._scrollDispatcher=i,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0).pipe(On(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class QH{enable(){}disable(){}attach(){}}function nR(e,i){return i.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function KH(e,i){return i.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class xwt{constructor(i,t,n,r){this._scrollDispatcher=i,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();nR(t,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ywt=(()=>{class e{constructor(t,n,r,s){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new QH,this.close=o=>new vwt(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new gwt(this._viewportRuler,this._document),this.reposition=o=>new xwt(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#t=this.\u0275fac=function(n){return new(n||e)(ne(ky),ne(cu),ne(di),ne(Gi))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class qg{constructor(i){if(this.scrollStrategy=new QH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const t=Object.keys(i);for(const n of t)void 0!==i[n]&&(this[n]=i[n])}}}class bwt{constructor(i,t){this.connectionPair=i,this.scrollableViewProperties=t}}let ZH=(()=>{class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const n=this._attachedOverlays.indexOf(t);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Gi))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wwt=(()=>{class e extends ZH{constructor(t,n){super(t),this._ngZone=n,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const l=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Gi),ne(di,8))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_wt=(()=>{class e extends ZH{constructor(t,n,r){super(t),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Sl(s)},this._clickListener=s=>{const o=Sl(s),l="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const w=this._attachedOverlays.slice();for(let S=w.length-1;S>-1;S--){const M=w[S];if(M._outsidePointerEvents.observers.length<1||!M.hasAttached())continue;if(M.overlayElement.contains(o)||M.overlayElement.contains(l))break;const P=M._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>P.next(s)):P.next(s)}}}add(t){if(super.add(t),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Gi),ne(lr),ne(di,8))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dC=(()=>{class e{constructor(t,n){this._platform=n,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Rk()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const n=this._document.createElement("div");n.classList.add(t),Rk()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Gi),ne(lr))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class uC{constructor(i,t,n,r,s,o,l,w,S,M=!1){this._portalOutlet=i,this._host=t,this._pane=n,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=l,this._location=w,this._outsideClickDispatcher=S,this._animationsDisabled=M,this._backdropElement=null,this._backdropClick=new Ne,this._attachments=new Ne,this._detachments=new Ne,this._locationChanges=Re.EMPTY,this._backdropClickHandler=P=>this._backdropClick.next(P),this._backdropTransitionendHandler=P=>{this._disposeBackdrop(P.target)},this._keydownEvents=new Ne,this._outsidePointerEvents=new Ne,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(or(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config={...this._config,...i},this._updateElementSize()}setDirection(i){this._config={...this._config,direction:i},this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=Zs(this._config.width),i.height=Zs(this._config.height),i.minWidth=Zs(this._config.minWidth),i.minHeight=Zs(this._config.minHeight),i.maxWidth=Zs(this._config.maxWidth),i.maxHeight=Zs(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const i=this._backdropElement;if(i){if(this._animationsDisabled)return void this._disposeBackdrop(i);i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",this._backdropTransitionendHandler)}),i.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(i)},500))}}_toggleClasses(i,t,n){const r=Cy(t||[]).filter(s=>!!s);r.length&&(n?i.classList.add(...r):i.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(ji(qr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}_disposeBackdrop(i){i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",this._backdropTransitionendHandler),i.remove(),this._backdropElement===i&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const JH="cdk-overlay-connected-position-bounding-box",Twt=/([A-Za-z%]+)$/;class Cwt{get positions(){return this._preferredPositions}constructor(i,t,n,r,s){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ne,this._resizeSubscription=Re.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}attach(i){this._validatePositions(),i.hostElement.classList.add(JH),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const i=this._originRect,t=this._overlayRect,n=this._viewportRect,r=this._containerRect,s=[];let o;for(let l of this._preferredPositions){let w=this._getOriginPoint(i,r,l),S=this._getOverlayPoint(w,t,l),M=this._getOverlayFit(S,t,n,l);if(M.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,w);this._canFitWithFlexibleDimensions(M,S,n)?s.push({position:l,origin:w,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(w,l)}):(!o||o.overlayFit.visibleArea<M.visibleArea)&&(o={overlayFit:M,overlayPoint:S,originPoint:w,position:l,overlayRect:t})}if(s.length){let l=null,w=-1;for(const S of s){const M=S.boundingBoxRect.width*S.boundingBoxRect.height*(S.position.weight||1);M>w&&(w=M,l=S)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&qf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(JH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,t)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,t,n){let r,s;if("center"==n.originX)r=i.left+i.width/2;else{const o=this._isRtl()?i.right:i.left,l=this._isRtl()?i.left:i.right;r="start"==n.originX?o:l}return t.left<0&&(r-=t.left),s="center"==n.originY?i.top+i.height/2:"top"==n.originY?i.top:i.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(i,t,n){let r,s;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:i.x+r,y:i.y+s}}_getOverlayFit(i,t,n,r){const s=t7(t);let{x:o,y:l}=i,w=this._getOffset(r,"x"),S=this._getOffset(r,"y");w&&(o+=w),S&&(l+=S);let O=0-l,N=l+s.height-n.height,U=this._subtractOverflows(s.width,0-o,o+s.width-n.width),j=this._subtractOverflows(s.height,O,N),W=U*j;return{visibleArea:W,isCompletelyWithinViewport:s.width*s.height===W,fitsInViewportVertically:j===s.height,fitsInViewportHorizontally:U==s.width}}_canFitWithFlexibleDimensions(i,t,n){if(this._hasFlexibleDimensions){const r=n.bottom-t.y,s=n.right-t.x,o=qH(this._overlayRef.getConfig().minHeight),l=qH(this._overlayRef.getConfig().minWidth);return(i.fitsInViewportVertically||null!=o&&o<=r)&&(i.fitsInViewportHorizontally||null!=l&&l<=s)}return!1}_pushOverlayOnScreen(i,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const r=t7(t),s=this._viewportRect,o=Math.max(i.x+r.width-s.width,0),l=Math.max(i.y+r.height-s.height,0),w=Math.max(s.top-n.top-i.y,0),S=Math.max(s.left-n.left-i.x,0);let M=0,P=0;return M=r.width<=s.width?S||-o:i.x<this._viewportMargin?s.left-n.left-i.x:0,P=r.height<=s.height?w||-l:i.y<this._viewportMargin?s.top-n.top-i.y:0,this._previousPushAmount={x:M,y:P},{x:i.x+M,y:i.y+P}}_applyPosition(i,t){if(this._setTransformOrigin(i),this._setOverlayElementStyles(t,i),this._setBoundingBoxStyles(t,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._positionChanges.observers.length){const n=this._getScrollVisibility();if(i!==this._lastPosition||!this._lastScrollVisibility||!function Swt(e,i){return e===i||e.isOriginClipped===i.isOriginClipped&&e.isOriginOutsideView===i.isOriginOutsideView&&e.isOverlayClipped===i.isOverlayClipped&&e.isOverlayOutsideView===i.isOverlayOutsideView}(this._lastScrollVisibility,n)){const r=new bwt(i,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=i,this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=i.overlayY;n="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(i,t){const n=this._viewportRect,r=this._isRtl();let s,o,l,M,P,O;if("top"===t.overlayY)o=i.y,s=n.height-o+this._viewportMargin;else if("bottom"===t.overlayY)l=n.height-i.y+2*this._viewportMargin,s=n.height-l+this._viewportMargin;else{const N=Math.min(n.bottom-i.y+n.top,i.y),U=this._lastBoundingBoxSize.height;s=2*N,o=i.y-N,s>U&&!this._isInitialRender&&!this._growAfterOpen&&(o=i.y-U/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)O=n.width-i.x+2*this._viewportMargin,M=i.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)P=i.x,M=n.right-i.x;else{const N=Math.min(n.right-i.x+n.left,i.x),U=this._lastBoundingBoxSize.width;M=2*N,P=i.x-N,M>U&&!this._isInitialRender&&!this._growAfterOpen&&(P=i.x-U/2)}return{top:o,left:P,bottom:l,right:O,width:M,height:s}}_setBoundingBoxStyles(i,t){const n=this._calculateBoundingBoxRect(i,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Zs(n.height),r.top=Zs(n.top),r.bottom=Zs(n.bottom),r.width=Zs(n.width),r.left=Zs(n.left),r.right=Zs(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Zs(s)),o&&(r.maxWidth=Zs(o))}this._lastBoundingBoxSize=n,qf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){qf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){qf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,t){const n={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const M=this._viewportRuler.getViewportScrollPosition();qf(n,this._getExactOverlayY(t,i,M)),qf(n,this._getExactOverlayX(t,i,M))}else n.position="static";let l="",w=this._getOffset(t,"x"),S=this._getOffset(t,"y");w&&(l+=`translateX(${w}px) `),S&&(l+=`translateY(${S}px)`),n.transform=l.trim(),o.maxHeight&&(r?n.maxHeight=Zs(o.maxHeight):s&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=Zs(o.maxWidth):s&&(n.maxWidth="")),qf(this._pane.style,n)}_getExactOverlayY(i,t,n){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,i);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),"bottom"===i.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Zs(s.y),r}_getExactOverlayX(i,t,n){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,i);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),o=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Zs(s.x),r}_getScrollVisibility(){const i=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:KH(i,n),isOriginOutsideView:nR(i,n),isOverlayClipped:KH(t,n),isOverlayOutsideView:nR(t,n)}}_subtractOverflows(i,...t){return t.reduce((n,r)=>n-Math.max(r,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+i-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:i-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,t){return"x"===t?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Cy(i).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof oi)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const t=i.width||0,n=i.height||0;return{top:i.y,bottom:i.y+n,left:i.x,right:i.x+t,height:n,width:t}}}function qf(e,i){for(let t in i)i.hasOwnProperty(t)&&(e[t]=i[t]);return e}function qH(e){if("number"!=typeof e&&null!=e){const[i,t]=e.split(Twt);return t&&"px"!==t?null:parseFloat(i)}return e||null}function t7(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}const e7="cdk-global-overlay-wrapper";class Ewt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(i){const t=i.getConfig();this._overlayRef=i,this._width&&!t.width&&i.updateSize({width:this._width}),this._height&&!t.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(e7),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:l}=n,w=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),S=!("100%"!==s&&"100vh"!==s||l&&"100%"!==l&&"100vh"!==l),M=this._xPosition,P=this._xOffset,O="rtl"===this._overlayRef.getConfig().direction;let N="",U="",j="";w?j="flex-start":"center"===M?(j="center",O?U=P:N=P):O?"left"===M||"end"===M?(j="flex-end",N=P):("right"===M||"start"===M)&&(j="flex-start",U=P):"left"===M||"start"===M?(j="flex-start",N=P):("right"===M||"end"===M)&&(j="flex-end",U=P),i.position=this._cssPosition,i.marginLeft=w?"0":N,i.marginTop=S?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=w?"0":U,t.justifyContent=j,t.alignItems=S?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(e7),n.justifyContent=n.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let Awt=(()=>{class e{constructor(t,n,r,s){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=s}global(){return new Ewt}flexibleConnectedTo(t){return new Cwt(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#t=this.\u0275fac=function(n){return new(n||e)(ne(cu),ne(Gi),ne(lr),ne(dC))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Dwt=0,Ts=(()=>{class e{constructor(t,n,r,s,o,l,w,S,M,P,O,N){this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=l,this._ngZone=w,this._document=S,this._directionality=M,this._location=P,this._outsideClickDispatcher=O,this._animationsModuleType=N}create(t){const n=this._createHostElement(),r=this._createPaneElement(n),s=this._createPortalOutlet(r),o=new qg(t);return o.direction=o.direction||this._directionality.value,new uC(s,n,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const n=this._document.createElement("div");return n.id="cdk-overlay-"+Dwt++,n.classList.add("cdk-overlay-pane"),t.appendChild(n),n}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Yd)),new K1t(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#t=this.\u0275fac=function(n){return new(n||e)(ne(ywt),ne(dC),ne(Lf),ne(Awt),ne(wwt),ne(os),ne(di),ne(Gi),ne(Ha),ne(Xf),ne(_wt),ne(Hr,8))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Mwt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i7=new se("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const e=xe(Ts);return()=>e.scrollStrategies.reposition()}});let rR=(()=>{class e{constructor(t){this.elementRef=t}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi))};static#e=this.\u0275dir=me({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return e})(),n7=(()=>{class e{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}constructor(t,n,r,s,o){this._overlay=t,this._dir=o,this._backdropSubscription=Re.EMPTY,this._attachSubscription=Re.EMPTY,this._detachSubscription=Re.EMPTY,this._positionSubscription=Re.EMPTY,this._disposeOnNavigation=!1,this._ngZone=xe(di),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Fe,this.positionChange=new Fe,this.attach=new Fe,this.detach=new Fe,this.overlayKeydown=new Fe,this.overlayOutsideClick=new Fe,this._templatePortal=new ou(n,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Mwt);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!ao(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),n=new qg({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(t){const n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof rR?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(YH(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ts),mt(xr),mt(Lr),mt(i7),mt(Ha,8))};static#e=this.\u0275dir=me({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[$t.None,"cdkConnectedOverlayOrigin","origin"],positions:[$t.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[$t.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[$t.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[$t.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[$t.None,"cdkConnectedOverlayWidth","width"],height:[$t.None,"cdkConnectedOverlayHeight","height"],minWidth:[$t.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[$t.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[$t.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[$t.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[$t.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[$t.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[$t.None,"cdkConnectedOverlayOpen","open"],disableClose:[$t.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[$t.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[$t.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",si],lockPosition:[$t.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",si],flexibleDimensions:[$t.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",si],growAfterOpen:[$t.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",si],push:[$t.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",si],disposeOnNavigation:[$t.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",si]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[vn,ar]})}return e})();const kwt={provide:i7,deps:[Ts],useFactory:function Iwt(e){return()=>e.scrollStrategies.reposition()}};let tm=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({providers:[Ts,kwt],imports:[Sy,Jg,iR,iR]})}return e})();function Rwt(e,i){if(1&e){const t=ye();q(0,"div",1)(1,"button",2),zt("click",function(){return Gt(t),Ht(Ct().action())}),ut(2),et()()}if(2&e){const t=Ct();ot(2),Ke(" ",t.data.action," ")}}const Pwt=["label"];function Fwt(e,i){}const Owt=Math.pow(2,31)-1;class hC{constructor(i,t){this._overlayRef=t,this._afterDismissed=new Ne,this._afterOpened=new Ne,this._onAction=new Ne,this._dismissedByAction=!1,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,Owt))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const sR=new se("MatSnackBarData");class fC{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let r7=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return e})(),s7=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return e})(),a7=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return e})(),o7=(()=>{class e{constructor(t,n){this.snackBarRef=t,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#t=this.\u0275fac=function(n){return new(n||e)(mt(hC),mt(sR))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Wi],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,r){1&n&&(q(0,"div",0),ut(1),et(),jt(2,Rwt,3,1,"div",1)),2&n&&(ot(),Ke(" ",r.data.message,"\n"),ot(),En(2,r.hasAction?2:-1))},dependencies:[Ma,r7,s7,a7],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return e})();const Lwt={snackBarState:yr("state",[Ln("void, hidden",ai({transform:"scale(0.8)",opacity:0})),Ln("visible",ai({transform:"scale(1)",opacity:1})),gn("* => visible",mn("150ms cubic-bezier(0, 0, 0.2, 1)")),gn("* => void, * => hidden",mn("75ms cubic-bezier(0.4, 0.0, 1, 1)",ai({opacity:0})))])};let Nwt=0,l7=(()=>{class e extends aC{constructor(t,n,r,s,o){super(),this._ngZone=t,this._elementRef=n,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._document=xe(Gi),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ne,this._onExit=new Ne,this._onEnter=new Ne,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Nwt++,this.attachDomPortal=l=>{this._assertNotAttached();const w=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),w},this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const n=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),n}attachTemplatePortal(t){this._assertNotAttached();const n=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),n}onAnimationEnd(t){const{fromState:n,toState:r}=t;if(("void"===r&&"void"!==n||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const t=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(o=>t.classList.add(o)):t.classList.add(n)),this._exposeToModals();const r=this._label.nativeElement,s="mdc-snackbar__label";r.classList.toggle(s,!r.querySelector(`.${s}`))}_exposeToModals(){const t=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const s=n[r],o=s.getAttribute("aria-owns");this._trackedModals.add(s),o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const n=t.getAttribute("aria-owns");if(n){const r=n.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&n){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),n.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(di),mt(oi),mt(Fn),mt(lr),mt(fC))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,r){if(1&n&&(Pi(lu,7),Pi(Pwt,7)),2&n){let s;Ge(s=He())&&(r._portalOutlet=s.first),Ge(s=He())&&(r._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(n,r){1&n&&H_("@state.done",function(o){return r.onAnimationEnd(o)}),2&n&&B_("@state",r._animationState)},standalone:!0,features:[xi,Wi],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(q(0,"div",1)(1,"div",2,0)(3,"div",3),jt(4,Fwt,0,0,"ng-template",4),et(),Te(5,"div"),et()()),2&n&&(ot(5),Ai("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[lu],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Lwt.snackBarState]}})}return e})();const Vwt=new se("mat-snack-bar-default-options",{providedIn:"root",factory:function Bwt(){return new fC}});let Eh=(()=>{class e{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,n,r,s,o,l){this._overlay=t,this._live=n,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=o7,this.snackBarContainerComponent=l7,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(t,n){return this._attach(t,n)}openFromTemplate(t,n){return this._attach(t,n)}open(t,n="",r){const s={...this._defaultConfig,...r};return s.data={message:t,action:n},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,n){const s=os.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:fC,useValue:n}]}),o=new Zg(this.snackBarContainerComponent,n.viewContainerRef,s),l=t.attach(o);return l.instance.snackBarConfig=n,l.instance}_attach(t,n){const r={...new fC,...this._defaultConfig,...n},s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),l=new hC(o,s);if(t instanceof xr){const w=new ou(t,null,{$implicit:r.data,snackBarRef:l});l.instance=o.attachTemplatePortal(w)}else{const w=this._createInjector(r,l),S=new Zg(t,void 0,w),M=o.attachComponentPortal(S);l.instance=M.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(ji(s.detachments())).subscribe(w=>{s.overlayElement.classList.toggle(this.handsetCssClass,w.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(l,r),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(t,n){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),n.duration&&n.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(n.duration))}_createOverlay(t){const n=new qg;n.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,o="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,l=!o&&"center"!==t.horizontalPosition;return o?r.left("0"):l?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),n.positionStrategy=r,this._overlay.create(n)}_createInjector(t,n){return os.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:hC,useValue:n},{provide:sR,useValue:t.data}]})}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Ts),ne(xH),ne(os),ne(aH),ne(e,12),ne(Vwt))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uwt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({providers:[Eh],imports:[tm,Jg,Kk,nn,o7,nn]})}return e})(),Rr=(()=>{class e{constructor(t,n){this.sbRef=t,this.data=n}static#t=this.\u0275fac=function(n){return new(n||e)(mt(hC),mt(sR))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["snack-alert"]],decls:2,vars:1,consts:[[1,"example-alert"]],template:function(n,r){1&n&&(q(0,"span",0),ut(1),et()),2&n&&(ot(),qe(r.data))},styles:[".example-alert[_ngcontent-%COMP%]{color:#fff}"]})}return e})(),fa=(()=>{class e{constructor(t,n){this.http=t,this._snackBar=n,this.snowstormFhirBase="https://snowstorm.ihtsdotools.org/fhir",this.defaultFhirUrlParam="http://snomed.info/sct",this.fhirUrlParam=this.defaultFhirUrlParam,this.lang="en",this.snowstormFhirBaseSubject=new Kr(this.snowstormFhirBase),this.fhirUrlParamSubject=new Kr(this.fhirUrlParam),this.langSubject=new Kr(this.lang),this.snowstormFhirBase$=this.snowstormFhirBaseSubject.asObservable(),this.fhirUrlParam$=this.fhirUrlParamSubject.asObservable(),this.lang$=this.langSubject.asObservable(),this.conceptCache=new Map}setSnowstormFhirBase(t){this.snowstormFhirBase=t,this.snowstormFhirBaseSubject.next(t)}setFhirUrlParam(t){this.fhirUrlParam=t,this.fhirUrlParamSubject.next(t)}setLang(t){this.lang=t,this.langSubject.next(t)}getSnowstormFhirBase(){return this.snowstormFhirBase}getFhirUrlParam(){return this.fhirUrlParam}getLang(){return this.lang}getCodeSystems(){return this.http.get(`${this.snowstormFhirBase}/CodeSystem`).pipe(ua(this.handleError("getCodeSystems",{})))}getCodeSystem(t){return this.http.get(`${this.snowstormFhirBase}/CodeSystem?version=${t}`).pipe(ua(this.handleError("getCodeSystem",{})))}getValueSetExpansionUrl(t,n,r,s){return r||(r=0),s||(s=20),"string"!=typeof n&&(n=""),`${this.snowstormFhirBase}/ValueSet/$expand?url=${this.fhirUrlParam}?fhir_vs=ecl/${encodeURIComponent(t)}&count=${s}&offset=${r}&filter=${n}&language=${this.lang}&displayLanguage=${this.lang}`}expandValueSet(t,n,r,s){let o=this.getValueSetExpansionUrl(t,n,r,s);return this.http.get(o).pipe(ua(this.handleError("expandValueSet",{})))}translate(t,n,r){return r||(r=this.defaultFhirUrlParam),this.http.get(`${this.snowstormFhirBase}/ConceptMap/$translate?url=http://snomed.info/sct?fhir_cm=${t}&code=${n}&system=${r}`).pipe(ua(this.handleError("translate",{})))}expandValueSetFromServer(t,n,r,s,o,l){o||(o=0),l||(l=20),t||(t=this.snowstormFhirBase),n||(n=this.fhirUrlParam),"string"!=typeof s&&(s="");let w=`${t}/ValueSet/$expand?url=${n}?fhir_vs=ecl/${encodeURIComponent(r)}&count=${l}&offset=${o}&filter=${s}&language=${this.lang}&displayLanguage=${this.lang}`;return this.http.get(w).pipe(ua(this.handleError("expandValueSet",{})))}handleError(t="operation",n){return r=>(console.error("There was an error!"),console.error(r),this._snackBar.openFromComponent(Rr,{duration:5e3,data:r.message,panelClass:["red-snackbar"]}),_i(n))}lookupConcept(t,n){n||(n=this.fhirUrlParam);const r=`${n}:${t}`,s=this.conceptCache.get(r);if(s)return _i(s);let o=`${this.snowstormFhirBase}/CodeSystem/$lookup?system=http://snomed.info/sct&code=${t}&property=normalForm`;"http://snomed.info/sct"!=n&&(o+=`&version=${n}`);const l={headers:new il({"Accept-Language":"en"})};return this.http.get(o,l).pipe(vs(w=>{this.conceptCache.set(r,w)}),ua(this.handleError("lookupConcept",{})))}getMRCMAttributes(t){let n=`${this.snowstormFhirBase.replace("fhir","snowstorm/snomed-ct")}mrcm/MAIN/domain-attributes?parentIds=${t}&proximalPrimitiveModeling=false&contentType=POSTCOORDINATED`;return this.http.get(n).pipe(ua(this.handleError("getMRCMAttributes",{})))}addPostcoordinatedExpression(t){let n=`${this.snowstormFhirBase}/CodeSystem/sct_11000003104_EXP`;const r={headers:new il({"Content-Type":"application/fhir+json"})};return this.http.patch(n,{resourceType:"CodeSystem",concept:[{code:t}]},r).pipe(ua(this.handleError("addPostcoordinatedExpression",{})))}runEclLegacy(t){let n=`https://browser.ihtsdotools.org/snowstorm/snomed-ct/MAIN/SNOMEDCT-ES/2022-10-31/concepts?offset=0&limit=100&termActive=true&ecl=${encodeURIComponent(t)}`;return this.http.get(n).pipe(ua(this.handleError("expandValueSet",{})))}getIcd10MapTargets(t){return this.http.get(`${this.snowstormFhirBase}/ConceptMap/$translate?code=${t}&system=http://snomed.info/sct&source=http://snomed.info/sct?fhir_vs&target=http://hl7.org/fhir/sid/icd-10&url=http://snomed.info/sct/900000000000207008/version/20200131?fhir_cm=447562003`).pipe(ua(this.handleError("translate",{})))}lookupOtherCodeSystems(t,n){return this.http.get(`${this.snowstormFhirBase}/CodeSystem/$lookup?system=${t}&code=${n}`).pipe(ua(this.handleError("lookup",{})))}getNormalForm(t){if(t.parameter)for(let n of t.parameter){let r=!1;if("property"==n.name){for(let s of n.part)"code"==s.name&&"normalForm"==s.valueString&&(r=!0);if(r)for(let s of n.part)if("valueString"==s.name)return s.valueString}}return""}parseNormmalForm(t){const n=[];return t.split("} {").forEach(s=>{const o=s.match(/\d+\|[^\|]+\|\s*=\s*\d+\|[^\|]+\|/g);if(!o)return;const l=o.map(w=>{const[S,M]=w.split("=").map(j=>j.trim()),[P,O]=S.split("|").map(j=>j.trim()),[N,U]=M.split("|").map(j=>j.trim());return{type:{code:P,display:O.replace(/\(.*\)/,"").trim()},target:{code:N,display:U}}});n.push(l)}),{groups:n}}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Ql),ne(Eh))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function c7(...e){const i=Tz(e),{args:t,keys:n}=Cz(e),r=new gr(s=>{const{length:o}=t;if(!o)return void s.complete();const l=new Array(o);let w=o,S=o;for(let M=0;M<o;M++){let P=!1;so(t[M]).subscribe(Zr(s,O=>{P||(P=!0,S--),l[M]=O},()=>w--,void 0,()=>{(!w||!P)&&(S||s.next(n?Sz(n,l):l),s.complete())}))}});return i?r.pipe(HI(i)):r}function d7(e={}){const{connector:i=(()=>new Ne),resetOnError:t=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=e;return s=>{let o,l,w,S=0,M=!1,P=!1;const O=()=>{l?.unsubscribe(),l=void 0},N=()=>{O(),o=w=void 0,M=P=!1},U=()=>{const j=o;N(),j?.unsubscribe()};return ms((j,W)=>{S++,!P&&!M&&O();const Z=w=w??i();W.add(()=>{S--,0===S&&!P&&!M&&(l=aR(U,r))}),Z.subscribe(W),!o&&S>0&&(o=new Xo({next:rt=>Z.next(rt),error:rt=>{P=!0,O(),l=aR(N,t,rt),Z.error(rt)},complete:()=>{M=!0,O(),l=aR(N,n),Z.complete()}}),so(j).subscribe(o))})(s)}}function aR(e,i,...t){if(!0===i)return void e();if(!1===i)return;const n=new Xo({next:()=>{n.unsubscribe(),e()}});return so(i(...t)).subscribe(n)}const zwt=["*"];let mC;function Ry(e){return function Gwt(){if(void 0===mC&&(mC=null,typeof window<"u")){const e=window;void 0!==e.trustedTypes&&(mC=e.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return mC}()?.createHTML(e)||e}function u7(e){return Error(`Unable to find icon with the name "${e}"`)}function h7(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function f7(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class em{constructor(i,t,n){this.url=i,this.svgText=t,this.options=n}}let pC=(()=>{class e{constructor(t,n,r,s){this._httpClient=t,this._sanitizer=n,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,n,r){return this.addSvgIconInNamespace("",t,n,r)}addSvgIconLiteral(t,n,r){return this.addSvgIconLiteralInNamespace("",t,n,r)}addSvgIconInNamespace(t,n,r,s){return this._addSvgIconConfig(t,n,new em(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,n,r,s){const o=this._sanitizer.sanitize(za.HTML,r);if(!o)throw f7(r);const l=Ry(o);return this._addSvgIconConfig(t,n,new em("",l,s))}addSvgIconSet(t,n){return this.addSvgIconSetInNamespace("",t,n)}addSvgIconSetLiteral(t,n){return this.addSvgIconSetLiteralInNamespace("",t,n)}addSvgIconSetInNamespace(t,n,r){return this._addSvgIconSetConfig(t,new em(n,null,r))}addSvgIconSetLiteralInNamespace(t,n,r){const s=this._sanitizer.sanitize(za.HTML,n);if(!s)throw f7(n);const o=Ry(s);return this._addSvgIconSetConfig(t,new em("",o,r))}registerFontClassAlias(t,n=t){return this._fontCssClassesByAlias.set(t,n),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const n=this._sanitizer.sanitize(za.RESOURCE_URL,t);if(!n)throw h7(t);const r=this._cachedIconsByUrl.get(n);return r?_i(gC(r)):this._loadSvgIconFromConfig(new em(t,null)).pipe(vs(s=>this._cachedIconsByUrl.set(n,s)),Ri(s=>gC(s)))}getNamedSvgIcon(t,n=""){const r=m7(n,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(n,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(n);return o?this._getSvgFromIconSetConfigs(t,o):Mg(u7(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?_i(gC(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Ri(n=>gC(n)))}_getSvgFromIconSetConfigs(t,n){const r=this._extractIconWithNameFromAnySet(t,n);return r?_i(r):c7(n.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(ua(l=>{const S=`Loading icon set URL: ${this._sanitizer.sanitize(za.RESOURCE_URL,o.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(S)),_i(null)})))).pipe(Ri(()=>{const o=this._extractIconWithNameFromAnySet(t,n);if(!o)throw u7(t);return o}))}_extractIconWithNameFromAnySet(t,n){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(o,t,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(vs(n=>t.svgText=n),Ri(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?_i(null):this._fetchIcon(t).pipe(vs(n=>t.svgText=n))}_extractSvgIconFromSet(t,n,r){const s=t.querySelector(`[id="${n}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const l=this._svgElementFromString(Ry("<svg></svg>"));return l.appendChild(o),this._setSvgAttributes(l,r)}_svgElementFromString(t){const n=this._document.createElement("DIV");n.innerHTML=t;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const n=this._svgElementFromString(Ry("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:l}=r[s];"id"!==o&&n.setAttribute(o,l)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&n.appendChild(t.childNodes[s].cloneNode(!0));return n}_setSvgAttributes(t,n){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),n&&n.viewBox&&t.setAttribute("viewBox",n.viewBox),t}_fetchIcon(t){const{url:n,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function Hwt(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(za.RESOURCE_URL,n);if(!o)throw h7(n);const l=this._inProgressUrlFetches.get(o);if(l)return l;const w=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Ri(S=>Ry(S)),kg(()=>this._inProgressUrlFetches.delete(o)),d7());return this._inProgressUrlFetches.set(o,w),w}_addSvgIconConfig(t,n,r){return this._svgIconConfigs.set(m7(t,n),r),this}_addSvgIconSetConfig(t,n){const r=this._iconSetConfigs.get(t);return r?r.push(n):this._iconSetConfigs.set(t,[n]),this}_svgElementFromConfig(t){if(!t.svgElement){const n=this._svgElementFromString(t.svgText);this._setSvgAttributes(n,t.options),t.svgElement=n}return t.svgElement}_getIconConfigFromResolvers(t,n){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](n,t);if(s)return jwt(s)?new em(s.url,null,s.options):new em(s,null)}}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Ql,8),ne(OI),ne(Gi,8),ne(xl))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gC(e){return e.cloneNode(!0)}function m7(e,i){return e+":"+i}function jwt(e){return!(!e.url||!e.options)}const Xwt=new se("MAT_ICON_DEFAULT_OPTIONS"),Ywt=new se("mat-icon-location",{providedIn:"root",factory:function $wt(){const e=xe(Gi),i=e?e.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),p7=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Qwt=p7.map(e=>`[${e}]`).join(", "),Kwt=/^url\(['"]?#(.*?)['"]?\)$/;let ma=(()=>{class e{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const n=this._cleanupFontValue(t);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const n=this._cleanupFontValue(t);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(t,n,r,s,o,l){this._elementRef=t,this._iconRegistry=n,this._location=s,this._errorHandler=o,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Re.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const n=t.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let n=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=t.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),n.forEach(r=>t.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const n=this._elementsWithExternalReferences;n&&n.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const n=t.querySelectorAll(Qwt),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<n.length;s++)p7.forEach(o=>{const l=n[s],w=l.getAttribute(o),S=w?w.match(Kwt):null;if(S){let M=r.get(l);M||(M=[],r.set(l,M)),M.push({name:o,value:S[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[n,r]=this._splitIconName(t);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(or(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${s.message}`))})}}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(pC),vl("aria-hidden"),mt(Ywt),mt(xl),mt(Xwt,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,r){2&n&&(Ai("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Wl(r.color?"mat-"+r.color:""),Si("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[$t.HasDecoratorInputTransform,"inline","inline",si],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[vn,Wi],ngContentSelectors:zwt,decls:1,vars:0,template:function(n,r){1&n&&(er(),Ti(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return e})(),Zwt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[nn,nn]})}return e})();function g7(e,i){return i?t=>ty(i.pipe(or(1),function Jwt(){return ms((e,i)=>{e.subscribe(Zr(i,an))})}()),t.pipe(g7(e))):Ea((t,n)=>so(e(t,n)).pipe(or(1),wT(t)))}function oR(e,i=Ty){const t=Iy(e,i);return g7(()=>t)}const qwt=["mat-menu-item",""],t_t=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],e_t=["mat-icon, [matMenuItemIcon]","*"];function i_t(e,i){1&e&&(gl(),q(0,"svg",2),Te(1,"polygon",3),et())}const n_t=["*"];function r_t(e,i){if(1&e){const t=ye();q(0,"div",0),zt("keydown",function(r){return Gt(t),Ht(Ct()._handleKeydown(r))})("click",function(){return Gt(t),Ht(Ct().closed.emit("click"))})("@transformMenu.start",function(r){return Gt(t),Ht(Ct()._onAnimationStart(r))})("@transformMenu.done",function(r){return Gt(t),Ht(Ct()._onAnimationDone(r))}),q(1,"div",1),Ti(2),et()()}if(2&e){const t=Ct();xt("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Ai("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const lR=new se("MAT_MENU_PANEL");let Jl=(()=>{class e{constructor(t,n,r,s,o){this._elementRef=t,this._document=n,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=o,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new Ne,this._focused=new Ne,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,n){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),n=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<n.length;r++)n[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(Gi),mt(Kl),mt(lR,8),mt(Fn))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(n,r){1&n&&zt("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&n&&(Ai("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),Si("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[$t.HasDecoratorInputTransform,"disabled","disabled",si],disableRipple:[$t.HasDecoratorInputTransform,"disableRipple","disableRipple",si]},exportAs:["matMenuItem"],standalone:!0,features:[vn,Wi],attrs:qwt,ngContentSelectors:e_t,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,r){1&n&&(er(t_t),Ti(0),q(1,"span",0),Ti(2,1),et(),Te(3,"div",1),jt(4,i_t,2,0,":svg:svg",2)),2&n&&(ot(3),xt("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),ot(),En(4,r._triggersSubmenu?4:-1))},dependencies:[ru],encapsulation:2,changeDetection:0})}return e})();const s_t=new se("MatMenuContent"),vC={transformMenu:yr("transformMenu",[Ln("void",ai({opacity:0,transform:"scale(0.8)"})),gn("void => enter",mn("120ms cubic-bezier(0, 0, 0.2, 1)",ai({opacity:1,transform:"scale(1)"}))),gn("* => void",mn("100ms 25ms linear",ai({opacity:0})))]),fadeInItems:yr("fadeInItems",[Ln("showing",ai({opacity:1})),gn("void => *",[ai({opacity:0}),mn("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let a_t=0;const o_t=new se("mat-menu-default-options",{providedIn:"root",factory:function l_t(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let El=(()=>{class e{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}set panelClass(t){const n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,n,r,s){this._elementRef=t,this._ngZone=n,this._changeDetectorRef=s,this._elevationPrefix="mat-elevation-z",this._baseElevation=8,this._directDescendantItems=new sh,this._classList={},this._panelAnimationState="void",this._animationDone=new Ne,this.closed=new Fe,this.close=this.closed,this.panelId="mat-menu-panel-"+a_t++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this.overlapTrigger=r.overlapTrigger,this.hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Uk(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Aa(this._directDescendantItems),Ls(t=>qr(...t.map(n=>n._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const n=this._keyManager;if("enter"===this._panelAnimationState&&n.activeItem?._hasFocus()){const r=t.toArray(),s=Math.max(0,Math.min(r.length-1,n.activeItemIndex||0));r[s]&&!r[s].disabled?n.setActiveItem(s):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Aa(this._directDescendantItems),Ls(n=>qr(...n.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const n=t.keyCode,r=this._keyManager;switch(n){case 27:ao(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===n||40===n)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(or(1)).subscribe(()=>{let n=null;if(this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!n||!n.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&n&&n.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const n=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${n}`,s=Object.keys(this._classList).find(o=>o.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,n=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===n,r["mat-menu-below"]="below"===n,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Aa(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(di),mt(o_t),mt(Fn))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-menu"]],contentQueries:function(n,r,s){if(1&n&&(Pn(s,s_t,5),Pn(s,Jl,5),Pn(s,Jl,4)),2&n){let o;Ge(o=He())&&(r.lazyContent=o.first),Ge(o=He())&&(r._allItems=o),Ge(o=He())&&(r.items=o)}},viewQuery:function(n,r){if(1&n&&Pi(xr,5),2&n){let s;Ge(s=He())&&(r.templateRef=s.first)}},hostVars:3,hostBindings:function(n,r){2&n&&Ai("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[$t.None,"aria-label","ariaLabel"],ariaLabelledby:[$t.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[$t.None,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[$t.HasDecoratorInputTransform,"overlapTrigger","overlapTrigger",si],hasBackdrop:[$t.HasDecoratorInputTransform,"hasBackdrop","hasBackdrop",t=>null==t?null:si(t)],panelClass:[$t.None,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[yi([{provide:lR,useExisting:e}]),vn,Wi],ngContentSelectors:n_t,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id","ngClass"],[1,"mat-mdc-menu-content"]],template:function(n,r){1&n&&(er(),jt(0,r_t,3,6,"ng-template"))},dependencies:[Ac],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:var(--mat-menu-item-trailing-spacing);padding-right:var(--mat-menu-item-leading-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]),.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon])[dir=rtl]{padding-left:var(--mat-menu-item-with-icon-trailing-spacing);padding-right:var(--mat-menu-item-with-icon-leading-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;padding-right:var(--mat-menu-item-spacing);padding-left:0}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[vC.transformMenu,vC.fadeInItems]},changeDetection:0})}return e})();const v7=new se("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const e=xe(Ts);return()=>e.scrollStrategies.reposition()}}),d_t={provide:v7,deps:[Ts],useFactory:function c_t(e){return()=>e.scrollStrategies.reposition()}},x7=kc({passive:!0});let uu=(()=>{class e{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(n=>{this._destroyMenu(n),("click"===n||"tab"===n)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,n,r,s,o,l,w,S,M){this._overlay=t,this._element=n,this._viewContainerRef=r,this._menuItemInstance=l,this._dir=w,this._focusMonitor=S,this._ngZone=M,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Re.EMPTY,this._hoverSubscription=Re.EMPTY,this._menuCloseSubscription=Re.EMPTY,this._changeDetectorRef=xe(Fn),this._handleTouchStart=P=>{JT(P)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Fe,this.onMenuOpen=this.menuOpened,this.menuClosed=new Fe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=o instanceof El?o:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,x7)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,x7),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const n=this._createOverlay(t),r=n.getConfig(),s=r.positionStrategy;this._setPosition(t,s),r.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,n.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof El&&(t._startAnimation(),t._directDescendantItems.changes.pipe(ji(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,n){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,n instanceof El?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe(On(r=>"void"===r.toState),or(1),ji(n.lazyContent._attached)).subscribe({next:()=>n.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let n=0,r=t.parentMenu;for(;r;)n++,r=r.parentMenu;t.setElevation(n)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const n=this._getOverlayConfig(t);this._subscribeToPositions(t,n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new qg({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,n){t.setPositionClasses&&n.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",o="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,o)):t.setPositionClasses(s,o)})}_setPosition(t,n){let[r,s]="before"===t.xPosition?["end","start"]:["start","end"],[o,l]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[w,S]=[o,l],[M,P]=[r,s],O=0;if(this.triggersSubmenu()){if(P=r="before"===t.xPosition?"start":"end",s=M="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const N=this._parentMaterialMenu.items.first;this._parentInnerPadding=N?N._getHostElement().offsetTop:0}O="bottom"===o?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(w="top"===o?"bottom":"top",S="top"===l?"bottom":"top");n.withPositions([{originX:r,originY:w,overlayX:M,overlayY:o,offsetY:O},{originX:s,originY:w,overlayX:P,overlayY:o,offsetY:O},{originX:r,originY:S,overlayX:M,overlayY:l,offsetY:-O},{originX:s,originY:S,overlayX:P,overlayY:l,offsetY:-O}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),n=this._overlayRef.detachments();return qr(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:_i(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(On(o=>o!==this._menuItemInstance),On(()=>this._menuOpen)):_i(),n)}_handleMousedown(t){ZT(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const n=t.keyCode;(13===n||32===n)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===n&&"ltr"===this.dir||37===n&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(On(t=>t===this._menuItemInstance&&!t.disabled),oR(0,eR)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof El&&this.menu._isAnimating?this.menu._animationDone.pipe(or(1),oR(0,eR),ji(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new ou(t.templateRef,this._viewContainerRef)),this._portal}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ts),mt(oi),mt(Lr),mt(v7),mt(lR,8),mt(Jl,10),mt(Ha,8),mt(Kl),mt(di))};static#e=this.\u0275dir=me({type:e,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(n,r){1&n&&zt("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&n&&Ai("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[$t.None,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[$t.None,"matMenuTriggerFor","menu"],menuData:[$t.None,"matMenuTriggerData","menuData"],restoreFocus:[$t.None,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return e})(),u_t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({providers:[d_t],imports:[sd,Qg,nn,tm,du,nn]})}return e})();const h_t=["determinateSpinner"];function f_t(e,i){if(1&e&&(gl(),q(0,"svg",11),Te(1,"circle",12),et()),2&e){const t=Ct();Ai("viewBox",t._viewBox()),ot(),Ps("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),Ai("r",t._circleRadius())}}const m_t=new se("mat-progress-spinner-default-options",{providedIn:"root",factory:function p_t(){return{diameter:y7}}}),y7=100;let Ah=(()=>{class e{get color(){return this._color||this._defaultColor}set color(t){this._color=t}constructor(t,n,r){this._elementRef=t,this._defaultColor="primary",this._value=0,this._diameter=y7,this._noopAnimations="NoopAnimations"===n&&!!r&&!r._forceAnimations,this.mode="mat-spinner"===t.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",r&&(r.color&&(this.color=this._defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,t||0))}get diameter(){return this._diameter}set diameter(t){this._diameter=t||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=t||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(Hr,8),mt(m_t))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,r){if(1&n&&Pi(h_t,5),2&n){let s;Ge(s=He())&&(r._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(n,r){2&n&&(Ai("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),Wl("mat-"+r.color),Ps("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),Si("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:[$t.HasDecoratorInputTransform,"value","value",Jr],diameter:[$t.HasDecoratorInputTransform,"diameter","diameter",Jr],strokeWidth:[$t.HasDecoratorInputTransform,"strokeWidth","strokeWidth",Jr]},exportAs:["matProgressSpinner"],standalone:!0,features:[vn,Wi],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,r){if(1&n&&(jt(0,f_t,2,8,"ng-template",null,0,wg),q(2,"div",2,1),gl(),q(4,"svg",3),Te(5,"circle",4),et()(),Q0(),q(6,"div",5)(7,"div",6)(8,"div",7),ca(9,8),et(),q(10,"div",9),ca(11,8),et(),q(12,"div",10),ca(13,8),et()()()),2&n){const s=en(1);ot(4),Ai("viewBox",r._viewBox()),ot(),Ps("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),Ai("r",r._circleRadius()),ot(4),xt("ngTemplateOutlet",s),ot(2),xt("ngTemplateOutlet",s),ot(2),xt("ngTemplateOutlet",s)}},dependencies:[gT],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return e})(),v_t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[sd,nn]})}return e})();const x_t=["*"],w_t=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],__t=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],T_t=new se("MAT_CARD_CONFIG");let xC=(()=>{class e{constructor(t){this.appearance=t?.appearance||"raised"}static#t=this.\u0275fac=function(n){return new(n||e)(mt(T_t,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,r){2&n&&Si("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[Wi],ngContentSelectors:x_t,decls:1,vars:0,template:function(n,r){1&n&&(er(),Ti(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return e})(),b7=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return e})(),w7=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return e})(),_7=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return e})(),T7=(()=>{class e{constructor(){this.align="start"}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(n,r){2&n&&Si("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0})}return e})(),C7=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[Wi],ngContentSelectors:__t,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(n,r){1&n&&(er(w_t),Ti(0),q(1,"div",0),Ti(2,1),et(),Ti(3,2))},encapsulation:2,changeDetection:0})}return e})(),S_t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[nn,sd,nn]})}return e})();const E_t=[[["caption"]],[["colgroup"],["col"]],"*"],A_t=["caption","colgroup, col","*"];function D_t(e,i){1&e&&Ti(0,2)}function M_t(e,i){1&e&&(q(0,"thead",0),ca(1,1),et(),q(2,"tbody",0),ca(3,2)(4,3),et(),q(5,"tfoot",0),ca(6,4),et())}function I_t(e,i){1&e&&ca(0,1)(1,2)(2,3)(3,4)}const hd=new se("CDK_TABLE");let tv=(()=>{class e{constructor(t){this.template=t}static#t=this.\u0275fac=function(n){return new(n||e)(mt(xr))};static#e=this.\u0275dir=me({type:e,selectors:[["","cdkCellDef",""]],standalone:!0})}return e})(),ev=(()=>{class e{constructor(t){this.template=t}static#t=this.\u0275fac=function(n){return new(n||e)(mt(xr))};static#e=this.\u0275dir=me({type:e,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}return e})(),yC=(()=>{class e{constructor(t){this.template=t}static#t=this.\u0275fac=function(n){return new(n||e)(mt(xr))};static#e=this.\u0275dir=me({type:e,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}return e})(),hu=(()=>{class e{get name(){return this._name}set name(t){this._setNameInput(t)}get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){t!==this._stickyEnd&&(this._stickyEnd=t,this._hasStickyChanged=!0)}constructor(t){this._table=t,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#t=this.\u0275fac=function(n){return new(n||e)(mt(hd,8))};static#e=this.\u0275dir=me({type:e,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,r,s){if(1&n&&(Pn(s,tv,5),Pn(s,ev,5),Pn(s,yC,5)),2&n){let o;Ge(o=He())&&(r.cell=o.first),Ge(o=He())&&(r.headerCell=o.first),Ge(o=He())&&(r.footerCell=o.first)}},inputs:{name:[$t.None,"cdkColumnDef","name"],sticky:[$t.HasDecoratorInputTransform,"sticky","sticky",si],stickyEnd:[$t.HasDecoratorInputTransform,"stickyEnd","stickyEnd",si]},standalone:!0,features:[yi([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),vn]})}return e})();class cR{constructor(i,t){t.nativeElement.classList.add(...i._columnCssClassName)}}let dR=(()=>{class e extends cR{constructor(t,n){super(t,n)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(hu),mt(oi))};static#e=this.\u0275dir=me({type:e,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[xi]})}return e})(),uR=(()=>{class e extends cR{constructor(t,n){super(t,n);const r=t._table?._getCellRole();r&&n.nativeElement.setAttribute("role",r)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(hu),mt(oi))};static#e=this.\u0275dir=me({type:e,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[xi]})}return e})();class E7{constructor(){this.tasks=[],this.endTasks=[]}}const hR=new se("_COALESCED_STYLE_SCHEDULER");let A7=(()=>{class e{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Ne}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new E7,this._getScheduleObservable().pipe(ji(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new E7;for(const n of t.tasks)n();for(const n of t.endTasks)n()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Os(Promise.resolve(void 0)):this._ngZone.onStable.pipe(or(1))}static#t=this.\u0275fac=function(n){return new(n||e)(ne(di))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})(),fR=(()=>{class e{constructor(t,n){this.template=t,this._differs=n}ngOnChanges(t){if(!this._columnsDiffer){const n=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Py?t.headerCell.template:this instanceof Fy?t.footerCell.template:t.cell.template}static#t=this.\u0275fac=function(n){return new(n||e)(mt(xr),mt(gh))};static#e=this.\u0275dir=me({type:e,features:[ar]})}return e})(),Py=(()=>{class e extends fR{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,n,r){super(t,n),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static#t=this.\u0275fac=function(n){return new(n||e)(mt(xr),mt(gh),mt(hd,8))};static#e=this.\u0275dir=me({type:e,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[$t.None,"cdkHeaderRowDef","columns"],sticky:[$t.HasDecoratorInputTransform,"cdkHeaderRowDefSticky","sticky",si]},standalone:!0,features:[vn,xi,ar]})}return e})(),Fy=(()=>{class e extends fR{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,n,r){super(t,n),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static#t=this.\u0275fac=function(n){return new(n||e)(mt(xr),mt(gh),mt(hd,8))};static#e=this.\u0275dir=me({type:e,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[$t.None,"cdkFooterRowDef","columns"],sticky:[$t.HasDecoratorInputTransform,"cdkFooterRowDefSticky","sticky",si]},standalone:!0,features:[vn,xi,ar]})}return e})(),bC=(()=>{class e extends fR{constructor(t,n,r){super(t,n),this._table=r}static#t=this.\u0275fac=function(n){return new(n||e)(mt(xr),mt(gh),mt(hd,8))};static#e=this.\u0275dir=me({type:e,selectors:[["","cdkRowDef",""]],inputs:{columns:[$t.None,"cdkRowDefColumns","columns"],when:[$t.None,"cdkRowDefWhen","when"]},standalone:!0,features:[xi]})}return e})(),fu=(()=>{class e{static#t=this.mostRecentCellOutlet=null;constructor(t){this._viewContainer=t,e.mostRecentCellOutlet=this}ngOnDestroy(){e.mostRecentCellOutlet===this&&(e.mostRecentCellOutlet=null)}static#e=this.\u0275fac=function(n){return new(n||e)(mt(Lr))};static#i=this.\u0275dir=me({type:e,selectors:[["","cdkCellOutlet",""]],standalone:!0})}return e})(),mR=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=Qe({type:e,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[Wi],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&ca(0,0)},dependencies:[fu],encapsulation:2})}return e})(),gR=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=Qe({type:e,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[Wi],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&ca(0,0)},dependencies:[fu],encapsulation:2})}return e})(),wC=(()=>{class e{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}static#t=this.\u0275fac=function(n){return new(n||e)(mt(xr))};static#e=this.\u0275dir=me({type:e,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}return e})();const D7=["top","bottom","left","right"];class F_t{constructor(i,t,n,r,s=!0,o=!0,l){this._isNativeHtmlTable=i,this._stickCellCss=t,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=l,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(i,t){const n=[];for(const r of i)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let s=0;s<r.children.length;s++)n.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of n)this._removeStickyStyle(r,t)})}updateStickyColumns(i,t,n,r=!0){i.length&&this._isBrowser&&(t.some(s=>s)||n.some(s=>s))?this._coalescedStyleScheduler.schedule(()=>{const s=i[0],o=s.children.length,l=this._getCellWidths(s,r),w=this._getStickyStartColumnPositions(l,t),S=this._getStickyEndColumnPositions(l,n),M=t.lastIndexOf(!0),P=n.indexOf(!0),O="rtl"===this.direction,N=O?"right":"left",U=O?"left":"right";for(const j of i)for(let W=0;W<o;W++){const Z=j.children[W];t[W]&&this._addStickyStyle(Z,N,w[W],W===M),n[W]&&this._addStickyStyle(Z,U,S[W],W===P)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===M?[]:l.slice(0,M+1).map((j,W)=>t[W]?j:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===P?[]:l.slice(P).map((j,W)=>n[W+P]?j:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(i,t,n){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const r="bottom"===n?i.slice().reverse():i,s="bottom"===n?t.slice().reverse():t,o=[],l=[],w=[];for(let M=0,P=0;M<r.length;M++){if(!s[M])continue;o[M]=P;const O=r[M];w[M]=this._isNativeHtmlTable?Array.from(O.children):[O];const N=O.getBoundingClientRect().height;P+=N,l[M]=N}const S=s.lastIndexOf(!0);for(let M=0;M<r.length;M++){if(!s[M])continue;const P=o[M],O=M===S;for(const N of w[M])this._addStickyStyle(N,n,P,O)}"top"===n?this._positionListener?.stickyHeaderRowsUpdated({sizes:l,offsets:o,elements:w}):this._positionListener?.stickyFooterRowsUpdated({sizes:l,offsets:o,elements:w})})}updateStickyFooterContainer(i,t){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const n=i.querySelector("tfoot");n&&(t.some(r=>!r)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1))})}_removeStickyStyle(i,t){for(const r of t)i.style[r]="",i.classList.remove(this._borderCellCss[r]);D7.some(r=>-1===t.indexOf(r)&&i.style[r])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,t,n,r){i.classList.add(this._stickCellCss),r&&i.classList.add(this._borderCellCss[t]),i.style[t]=`${n}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){const t={top:100,bottom:10,left:1,right:1};let n=0;for(const r of D7)i.style[r]&&(n+=t[r]);return n?`${n}`:""}_getCellWidths(i,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],r=i.children;for(let s=0;s<r.length;s++)n.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(i,t){const n=[];let r=0;for(let s=0;s<i.length;s++)t[s]&&(n[s]=r,r+=i[s]);return n}_getStickyEndColumnPositions(i,t){const n=[];let r=0;for(let s=i.length;s>0;s--)t[s]&&(n[s]=r,r+=i[s]);return n}}const vR=new se("CDK_SPL");let xR=(()=>{class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;const r=xe(hd);r._rowOutlet=this,r._outletAssigned()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lr),mt(oi))};static#e=this.\u0275dir=me({type:e,selectors:[["","rowOutlet",""]],standalone:!0})}return e})(),yR=(()=>{class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;const r=xe(hd);r._headerRowOutlet=this,r._outletAssigned()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lr),mt(oi))};static#e=this.\u0275dir=me({type:e,selectors:[["","headerRowOutlet",""]],standalone:!0})}return e})(),bR=(()=>{class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;const r=xe(hd);r._footerRowOutlet=this,r._outletAssigned()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lr),mt(oi))};static#e=this.\u0275dir=me({type:e,selectors:[["","footerRowOutlet",""]],standalone:!0})}return e})(),wR=(()=>{class e{constructor(t,n){this.viewContainer=t,this.elementRef=n;const r=xe(hd);r._noDataRowOutlet=this,r._outletAssigned()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lr),mt(oi))};static#e=this.\u0275dir=me({type:e,selectors:[["","noDataRowOutlet",""]],standalone:!0})}return e})(),_C=(()=>{class e{_getCellRole(){if(void 0===this._cellRoleInternal){const t=this._elementRef.nativeElement.getAttribute("role"),n="grid"===t||"treegrid"===t?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===n?null:n}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=t,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=t,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,n,r,s,o,l,w,S,M,P,O,N){this._differs=t,this._changeDetectorRef=n,this._elementRef=r,this._dir=o,this._platform=w,this._viewRepeater=S,this._coalescedStyleScheduler=M,this._viewportRuler=P,this._stickyPositioningListener=O,this._ngZone=N,this._onDestroy=new Ne,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Fe,this.viewChange=new Kr({start:0,end:Number.MAX_VALUE}),s||r.nativeElement.setAttribute("role","table"),this._document=l,this._isServer=!w.isBrowser,this._isNativeHtmlTable="TABLE"===r.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((t,n)=>this.trackBy?this.trackBy(n.dataIndex,n.data):n),this._viewportRuler.change().pipe(ji(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),bk(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,n,(r,s,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{r.operation===tu.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{n.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&di.isInAngularZone()?this._ngZone.onStable.pipe(or(1),ji(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const r=M7(this._headerRowOutlet,"thead");r&&(r.style.display=t.length?"":"none")}const n=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const r=M7(this._footerRowOutlet,"tfoot");r&&(r.style.display=t.length?"":"none")}const n=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...n,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{const o=[];for(let l=0;l<n.length;l++)this._renderRows[l].rowDef===s&&o.push(n[l]);this._addStickyColumnStyles(o,s)}),r.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const t=[],n=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const o=this._getRenderRowsForData(s,r,n.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let l=0;l<o.length;l++){let w=o[l];const S=this._cachedRenderRowsMap.get(w.data);S.has(w.rowDef)?S.get(w.rowDef).push(w):S.set(w.rowDef,[w]),t.push(w)}}return t}_getRenderRowsForData(t,n,r){return this._getRowDefs(t,n).map(o=>{const l=r&&r.has(o)?r.get(o):[];if(l.length){const w=l.shift();return w.dataIndex=n,w}return{data:t,rowDef:o,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),TC(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=TC(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=TC(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=TC(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(n=>!n.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(o,l)=>o||!!l.getColumnsDiff(),n=this._rowDefs.reduce(t,!1);n&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),n||r||s}_switchDataSource(t){this._data=[],bk(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;bk(this.dataSource)?t=this.dataSource.connect(this):LI(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=_i(this.dataSource)),this._renderChangeSubscription=t.pipe(ji(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,n)=>this._renderRow(this._headerRowOutlet,t,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,n)=>this._renderRow(this._footerRowOutlet,t,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,n){const r=Array.from(n.columns||[]).map(l=>this._columnDefsByName.get(l)),s=r.map(l=>l.sticky),o=r.map(l=>l.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const n=[];for(let r=0;r<t.viewContainer.length;r++){const s=t.viewContainer.get(r);n.push(s.rootNodes[0])}return n}_getRowDefs(t,n){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(n,t));else{let s=this._rowDefs.find(o=>o.when&&o.when(n,t))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(t,n){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:n}}_renderRow(t,n,r,s={}){const o=t.viewContainer.createEmbeddedView(n.template,s,r);return this._renderCellTemplateForItem(n,s),o}_renderCellTemplateForItem(t,n){for(let r of this._getCellTemplates(t))fu.mostRecentCellOutlet&&fu.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let n=0,r=t.length;n<r;n++){const o=t.get(n).context;o.count=r,o.first=0===n,o.last=n===r-1,o.even=n%2==0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[n].dataIndex,o.renderIndex=n):o.index=this._renderRows[n].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,n=>{const r=this._columnDefsByName.get(n);return t.extractCellTemplate(r)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(n,r)=>n||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new F_t(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:_i()).pipe(ji(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const n=0===this._rowOutlet.viewContainer.length;if(n===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(n){const s=r.createEmbeddedView(t.templateRef),o=s.rootNodes[0];1===s.rootNodes.length&&o?.nodeType===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=n,this._changeDetectorRef.markForCheck()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(gh),mt(Fn),mt(oi),vl("role"),mt(Ha,8),mt(Gi),mt(lr),mt(my),mt(hR),mt(cu),mt(vR,12),mt(di,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,r,s){if(1&n&&(Pn(s,wC,5),Pn(s,hu,5),Pn(s,bC,5),Pn(s,Py,5),Pn(s,Fy,5)),2&n){let o;Ge(o=He())&&(r._noDataRow=o.first),Ge(o=He())&&(r._contentColumnDefs=o),Ge(o=He())&&(r._contentRowDefs=o),Ge(o=He())&&(r._contentHeaderRowDefs=o),Ge(o=He())&&(r._contentFooterRowDefs=o)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(n,r){2&n&&Si("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[$t.HasDecoratorInputTransform,"multiTemplateDataRows","multiTemplateDataRows",si],fixedLayout:[$t.HasDecoratorInputTransform,"fixedLayout","fixedLayout",si]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[yi([{provide:hd,useExisting:e},{provide:my,useClass:DG},{provide:hR,useClass:A7},{provide:vR,useValue:null}]),vn,Wi],ngContentSelectors:A_t,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){1&n&&(er(E_t),Ti(0),Ti(1,1),jt(2,D_t,1,0)(3,M_t,7,0)(4,I_t,4,0)),2&n&&(ot(2),En(2,r._isServer?2:-1),ot(),En(3,r._isNativeHtmlTable?3:4))},dependencies:[yR,xR,wR,bR],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return e})();function TC(e,i){return e.concat(Array.from(i))}function M7(e,i){const t=i.toUpperCase();let n=e.viewContainer.element.nativeElement;for(;n;){const r=1===n.nodeType?n.nodeName:null;if(r===t)return n;if("TABLE"===r)break;n=n.parentNode}return null}let L_t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[iR]})}return e})();const N_t=[[["caption"]],[["colgroup"],["col"]],"*"],B_t=["caption","colgroup, col","*"];function V_t(e,i){1&e&&Ti(0,2)}function U_t(e,i){1&e&&(q(0,"thead",0),ca(1,1),et(),q(2,"tbody",2),ca(3,3)(4,4),et(),q(5,"tfoot",0),ca(6,5),et())}function z_t(e,i){1&e&&ca(0,1)(1,3)(2,4)(3,5)}let Dh=(()=>{class e extends _C{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(n,r){2&n&&Si("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[yi([{provide:_C,useExisting:e},{provide:hd,useExisting:e},{provide:hR,useClass:A7},{provide:my,useClass:DG},{provide:vR,useValue:null}]),xi,Wi],ngContentSelectors:B_t,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){1&n&&(er(N_t),Ti(0),Ti(1,1),jt(2,V_t,1,0)(3,U_t,7,0)(4,z_t,4,0)),2&n&&(ot(2),En(2,r._isServer?2:-1),ot(),En(3,r._isNativeHtmlTable?3:4))},dependencies:[yR,xR,wR,bR],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return e})(),mu=(()=>{class e extends tv{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275dir=me({type:e,selectors:[["","matCellDef",""]],standalone:!0,features:[yi([{provide:tv,useExisting:e}]),xi]})}return e})(),pu=(()=>{class e extends ev{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275dir=me({type:e,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[yi([{provide:ev,useExisting:e}]),xi]})}return e})(),gu=(()=>{class e extends hu{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275dir=me({type:e,selectors:[["","matColumnDef",""]],inputs:{name:[$t.None,"matColumnDef","name"]},standalone:!0,features:[yi([{provide:hu,useExisting:e},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),xi]})}return e})(),vu=(()=>{class e extends dR{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275dir=me({type:e,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[xi]})}return e})(),xu=(()=>{class e extends uR{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275dir=me({type:e,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[xi]})}return e})(),Mh=(()=>{class e extends Py{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275dir=me({type:e,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[$t.None,"matHeaderRowDef","columns"],sticky:[$t.HasDecoratorInputTransform,"matHeaderRowDefSticky","sticky",si]},standalone:!0,features:[yi([{provide:Py,useExisting:e}]),vn,xi]})}return e})(),Ih=(()=>{class e extends bC{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275dir=me({type:e,selectors:[["","matRowDef",""]],inputs:{columns:[$t.None,"matRowDefColumns","columns"],when:[$t.None,"matRowDefWhen","when"]},standalone:!0,features:[yi([{provide:bC,useExisting:e}]),xi]})}return e})(),kh=(()=>{class e extends mR{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[yi([{provide:mR,useExisting:e}]),xi,Wi],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&ca(0,0)},dependencies:[fu],encapsulation:2})}return e})(),Rh=(()=>{class e extends gR{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[yi([{provide:gR,useExisting:e}]),xi,Wi],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){1&n&&ca(0,0)},dependencies:[fu],encapsulation:2})}return e})(),Q_t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[nn,L_t,nn]})}return e})();class im extends LT{get data(){return this._data.value}set data(i){i=Array.isArray(i)?i:[],this._data.next(i),this._renderChangesSubscription||this._filterData(i)}get filter(){return this._filter.value}set filter(i){this._filter.next(i),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(i){this._sort=i,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(i){this._paginator=i,this._updateChangeSubscription()}constructor(i=[]){super(),this._renderData=new Kr([]),this._filter=new Kr(""),this._internalPageChanges=new Ne,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,n)=>{const r=t[n];if(iH(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(t,n)=>{const r=n.active,s=n.direction;return r&&""!=s?t.sort((o,l)=>{let w=this.sortingDataAccessor(o,r),S=this.sortingDataAccessor(l,r);const M=typeof w,P=typeof S;M!==P&&("number"===M&&(w+=""),"number"===P&&(S+=""));let O=0;return null!=w&&null!=S?w>S?O=1:w<S&&(O=-1):null!=w?O=1:null!=S&&(O=-1),O*("asc"==s?1:-1)}):t},this.filterPredicate=(t,n)=>{const r=Object.keys(t).reduce((o,l)=>o+t[l]+"\u25ec","").toLowerCase(),s=n.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Kr(i),this._updateChangeSubscription()}_updateChangeSubscription(){const i=this._sort?qr(this._sort.sortChange,this._sort.initialized):_i(null),t=this._paginator?qr(this._paginator.page,this._internalPageChanges,this._paginator.initialized):_i(null),r=qd([this._data,this._filter]).pipe(Ri(([l])=>this._filterData(l))),s=qd([r,i]).pipe(Ri(([l])=>this._orderData(l))),o=qd([s,t]).pipe(Ri(([l])=>this._pageData(l)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=o.subscribe(l=>this._renderData.next(l))}_filterData(i){return this.filteredData=null==this.filter||""===this.filter?i:i.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(i){return this.sort?this.sortData(i.slice(),this.sort):i}_pageData(i){if(!this.paginator)return i;const t=this.paginator.pageIndex*this.paginator.pageSize;return i.slice(t,t+this.paginator.pageSize)}_updatePaginator(i){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=i,t.pageIndex>0)){const n=Math.ceil(t.length/t.pageSize)-1||0,r=Math.min(t.pageIndex,n);r!==t.pageIndex&&(t.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}let k7=(()=>{class e{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(_c),mt(oi))};static#e=this.\u0275dir=me({type:e})}return e})(),nm=(()=>{class e extends k7{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275dir=me({type:e,features:[xi]})}return e})();const pa=new se(""),J_t={provide:pa,useExisting:kn(()=>Al),multi:!0},tTt=new se("");let Al=(()=>{class e extends k7{constructor(t,n,r){super(t,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function q_t(){const e=vh()?vh().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(_c),mt(oi),mt(tTt,8))};static#e=this.\u0275dir=me({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&zt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[yi([J_t]),xi]})}return e})();function Ph(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function P7(e){return null!=e&&"number"==typeof e.length}const Js=new se(""),Fh=new se(""),eTt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class fd{static min(i){return function F7(e){return i=>{if(Ph(i.value)||Ph(e))return null;const t=parseFloat(i.value);return!isNaN(t)&&t<e?{min:{min:e,actual:i.value}}:null}}(i)}static max(i){return function O7(e){return i=>{if(Ph(i.value)||Ph(e))return null;const t=parseFloat(i.value);return!isNaN(t)&&t>e?{max:{max:e,actual:i.value}}:null}}(i)}static required(i){return L7(i)}static requiredTrue(i){return function N7(e){return!0===e.value?null:{required:!0}}(i)}static email(i){return function B7(e){return Ph(e.value)||eTt.test(e.value)?null:{email:!0}}(i)}static minLength(i){return V7(i)}static maxLength(i){return function U7(e){return i=>P7(i.value)&&i.value.length>e?{maxlength:{requiredLength:e,actualLength:i.value.length}}:null}(i)}static pattern(i){return z7(i)}static nullValidator(i){return null}static compose(i){return Y7(i)}static composeAsync(i){return $7(i)}}function L7(e){return Ph(e.value)?{required:!0}:null}function V7(e){return i=>Ph(i.value)||!P7(i.value)?null:i.value.length<e?{minlength:{requiredLength:e,actualLength:i.value.length}}:null}function z7(e){if(!e)return CC;let i,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),i=new RegExp(t)):(t=e.toString(),i=e),n=>{if(Ph(n.value))return null;const r=n.value;return i.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function CC(e){return null}function G7(e){return null!=e}function H7(e){return jx(e)?Os(e):e}function W7(e){let i={};return e.forEach(t=>{i=null!=t?{...i,...t}:i}),0===Object.keys(i).length?null:i}function j7(e,i){return i.map(t=>t(e))}function X7(e){return e.map(i=>function iTt(e){return!e.validate}(i)?i:t=>i.validate(t))}function Y7(e){if(!e)return null;const i=e.filter(G7);return 0==i.length?null:function(t){return W7(j7(t,i))}}function _R(e){return null!=e?Y7(X7(e)):null}function $7(e){if(!e)return null;const i=e.filter(G7);return 0==i.length?null:function(t){return c7(j7(t,i).map(H7)).pipe(Ri(W7))}}function TR(e){return null!=e?$7(X7(e)):null}function Q7(e,i){return null===e?[i]:Array.isArray(e)?[...e,i]:[e,i]}function K7(e){return e._rawValidators}function Z7(e){return e._rawAsyncValidators}function CR(e){return e?Array.isArray(e)?e:[e]:[]}function SC(e,i){return Array.isArray(e)?e.includes(i):e===i}function J7(e,i){const t=CR(i);return CR(e).forEach(r=>{SC(t,r)||t.push(r)}),t}function q7(e,i){return CR(i).filter(t=>!SC(e,t))}class tW{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=_R(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=TR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,t){return!!this.control&&this.control.hasError(i,t)}getError(i,t){return this.control?this.control.getError(i,t):null}}class Vo extends tW{get formDirective(){return null}get path(){return null}}class md extends tW{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class eW{constructor(i){this._cd=i}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Uo=(()=>{class e extends eW{constructor(t){super(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(md,2))};static#e=this.\u0275dir=me({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Si("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[xi]})}return e})(),rm=(()=>{class e extends eW{constructor(t){super(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Vo,10))};static#e=this.\u0275dir=me({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Si("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[xi]})}return e})();const Oy="VALID",AC="INVALID",iv="PENDING",Ly="DISABLED";function AR(e){return(DC(e)?e.validators:e)||null}function DR(e,i){return(DC(i)?i.asyncValidators:e)||null}function DC(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function nW(e,i,t){const n=e.controls;if(!(i?Object.keys(n):n).length)throw new pe(1e3,"");if(!n[t])throw new pe(1001,"")}function rW(e,i,t){e._forEachChild((n,r)=>{if(void 0===t[r])throw new pe(1002,"")})}class MC{constructor(i,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===Oy}get invalid(){return this.status===AC}get pending(){return this.status==iv}get disabled(){return this.status===Ly}get enabled(){return this.status!==Ly}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(J7(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(J7(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(q7(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(q7(i,this._rawAsyncValidators))}hasValidator(i){return SC(this._rawValidators,i)}hasAsyncValidator(i){return SC(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=iv,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=Ly,this.errors=null,this._forEachChild(n=>{n.disable({...i,onlySelf:!0})}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...i,skipPristineCheck:t}),this._onDisabledChange.forEach(n=>n(!0))}enable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=Oy,this._forEachChild(n=>{n.enable({...i,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors({...i,skipPristineCheck:t}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Oy||this.status===iv)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ly:Oy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=iv,this._hasOwnPendingAsyncValidator=!0;const t=H7(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,t={}){this.errors=i,this._updateControlsErrors(!1!==t.emitEvent)}get(i){let t=i;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((n,r)=>n&&n._find(r),this)}getError(i,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[i]:null}hasError(i,t){return!!this.getError(i,t)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?Ly:this.errors?AC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(iv)?iv:this._anyControlsHaveStatus(AC)?AC:Oy}_anyControlsHaveStatus(i){return this._anyControls(t=>t.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){DC(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=function aTt(e){return Array.isArray(e)?_R(e):e||null}(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=function oTt(e){return Array.isArray(e)?TR(e):e||null}(this._rawAsyncValidators)}}class nv extends MC{constructor(i,t,n){super(AR(t),DR(n,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,t){return this.controls[i]?this.controls[i]:(this.controls[i]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(i,t,n={}){this.registerControl(i,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(i,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(i,t,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],t&&this.registerControl(i,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,t={}){rW(this,0,i),Object.keys(i).forEach(n=>{nW(this,!0,n),this.controls[n].setValue(i[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(Object.keys(i).forEach(n=>{const r=this.controls[n];r&&r.patchValue(i[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i={},t={}){this._forEachChild((n,r)=>{n.reset(i?i[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(i,t,n)=>(i[n]=t.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(t,n)=>!!n._syncPendingControls()||t);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&i(n,t)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const[t,n]of Object.entries(this.controls))if(this.contains(t)&&i(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,n,r)=>((n.enabled||this.disabled)&&(t[r]=n.value),t))}_reduceChildren(i,t){let n=i;return this._forEachChild((r,s)=>{n=t(n,r,s)}),n}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}}class sW extends nv{}const sm=new se("CallSetDisabledState",{providedIn:"root",factory:()=>Ny}),Ny="always";function IC(e,i){return[...i.path,e]}function By(e,i,t=Ny){MR(e,i),i.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&i.valueAccessor.setDisabledState?.(e.disabled),function cTt(e,i){i.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&aW(e,i)})}(e,i),function uTt(e,i){const t=(n,r)=>{i.valueAccessor.writeValue(n),r&&i.viewToModelUpdate(n)};e.registerOnChange(t),i._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,i),function dTt(e,i){i.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&aW(e,i),"submit"!==e.updateOn&&e.markAsTouched()})}(e,i),function lTt(e,i){if(i.valueAccessor.setDisabledState){const t=n=>{i.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(t),i._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,i)}function kC(e,i,t=!0){const n=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(n),i.valueAccessor.registerOnTouched(n)),PC(e,i),e&&(i._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function RC(e,i){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(i)})}function MR(e,i){const t=K7(e);null!==i.validator?e.setValidators(Q7(t,i.validator)):"function"==typeof t&&e.setValidators([t]);const n=Z7(e);null!==i.asyncValidator?e.setAsyncValidators(Q7(n,i.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const r=()=>e.updateValueAndValidity();RC(i._rawValidators,r),RC(i._rawAsyncValidators,r)}function PC(e,i){let t=!1;if(null!==e){if(null!==i.validator){const r=K7(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==i.validator);s.length!==r.length&&(t=!0,e.setValidators(s))}}if(null!==i.asyncValidator){const r=Z7(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==i.asyncValidator);s.length!==r.length&&(t=!0,e.setAsyncValidators(s))}}}const n=()=>{};return RC(i._rawValidators,n),RC(i._rawAsyncValidators,n),t}function aW(e,i){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function oW(e,i){MR(e,i)}function kR(e,i){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(i,t.currentValue)}function lW(e,i){e._syncPendingControls(),i.forEach(t=>{const n=t.control;"submit"===n.updateOn&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function RR(e,i){if(!i)return null;let t,n,r;return Array.isArray(i),i.forEach(s=>{s.constructor===Al?t=s:function mTt(e){return Object.getPrototypeOf(e.constructor)===nm}(s)?n=s:r=s}),r||n||t||null}const gTt={provide:Vo,useExisting:kn(()=>am)},Vy=Promise.resolve();let am=(()=>{class e extends Vo{constructor(t,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Fe,this.form=new nv({},_R(t),TR(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Vy.then(()=>{const n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),By(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Vy.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Vy.then(()=>{const n=this._findContainer(t.path),r=new nv({});oW(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Vy.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){Vy.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,lW(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Js,10),mt(Fh,10),mt(sm,8))};static#e=this.\u0275dir=me({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&zt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[$t.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yi([gTt]),xi]})}return e})();function cW(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}function dW(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Ns=class extends MC{constructor(i=null,t,n){super(AR(t),DR(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),DC(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=dW(i)?i.value:i)}setValue(i,t={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(i,t={}){this.setValue(i,t)}reset(i=this.defaultValue,t={}){this._applyFormState(i),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){cW(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){cW(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){dW(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}},vTt=Ns,bTt={provide:md,useExisting:kn(()=>ql)},fW=Promise.resolve();let ql=(()=>{class e extends md{constructor(t,n,r,s,o,l){super(),this._changeDetectorRef=o,this.callSetDisabledState=l,this.control=new Ns,this._registered=!1,this.name="",this.update=new Fe,this._parent=t,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=RR(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),kR(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){By(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){fW.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const n=t.isDisabled.currentValue,r=0!==n&&si(n);fW.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?IC(t,this._parent):[t]}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Vo,9),mt(Js,10),mt(Fh,10),mt(pa,10),mt(Fn,8),mt(sm,8))};static#e=this.\u0275dir=me({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[$t.None,"disabled","isDisabled"],model:[$t.None,"ngModel","model"],options:[$t.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[yi([bTt]),xi,ar]})}return e})(),rv=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})();const wTt={provide:pa,useExisting:kn(()=>FC),multi:!0};let FC=(()=>{class e extends nm{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=n=>{t(""==n?null:parseFloat(n))}}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275dir=me({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&zt("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[yi([wTt]),xi]})}return e})();const PR=new se(""),STt={provide:md,useExisting:kn(()=>Uy)};let Uy=(()=>{class e extends md{set isDisabled(t){}static#t=this._ngModelWarningSentOnce=!1;constructor(t,n,r,s,o){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=o,this.update=new Fe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=RR(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const n=t.form.previousValue;n&&kC(n,this,!1),By(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}kR(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&kC(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static#e=this.\u0275fac=function(n){return new(n||e)(mt(Js,10),mt(Fh,10),mt(pa,10),mt(PR,8),mt(sm,8))};static#i=this.\u0275dir=me({type:e,selectors:[["","formControl",""]],inputs:{form:[$t.None,"formControl","form"],isDisabled:[$t.None,"disabled","isDisabled"],model:[$t.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[yi([STt]),xi,ar]})}return e})();const ETt={provide:Vo,useExisting:kn(()=>pd)};let pd=(()=>{class e extends Vo{constructor(t,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fe,this._setValidators(t),this._setAsyncValidators(n)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(PC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const n=this.form.get(t.path);return By(n,t,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),n}getControl(t){return this.form.get(t.path)}removeControl(t){kC(t.control||null,t,!1),function pTt(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,n){this.form.get(t.path).setValue(n)}onSubmit(t){return this.submitted=!0,lW(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const n=t.control,r=this.form.get(t.path);n!==r&&(kC(n||null,t),(e=>e instanceof Ns)(r)&&(By(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const n=this.form.get(t.path);oW(n,t),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const n=this.form.get(t.path);n&&function hTt(e,i){return PC(e,i)}(n,t)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){MR(this.form,this),this._oldForm&&PC(this._oldForm,this)}_checkFormPresent(){}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Js,10),mt(Fh,10),mt(sm,8))};static#e=this.\u0275dir=me({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&zt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[$t.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yi([ETt]),xi,ar]})}return e})();const MTt={provide:md,useExisting:kn(()=>sv)};let sv=(()=>{class e extends md{set isDisabled(t){}static#t=this._ngModelWarningSentOnce=!1;constructor(t,n,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Fe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=RR(0,s)}ngOnChanges(t){this._added||this._setUpControl(),kR(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return IC(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#e=this.\u0275fac=function(n){return new(n||e)(mt(Vo,13),mt(Js,10),mt(Fh,10),mt(pa,10),mt(PR,8))};static#i=this.\u0275dir=me({type:e,selectors:[["","formControlName",""]],inputs:{name:[$t.None,"formControlName","name"],isDisabled:[$t.None,"disabled","isDisabled"],model:[$t.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[yi([MTt]),xi,ar]})}return e})();let om=(()=>{class e{constructor(){this._validator=CC}ngOnChanges(t){if(this.inputName in t){const n=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):CC,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,features:[ar]})}return e})();const BTt={provide:Js,useExisting:kn(()=>OC),multi:!0};let OC=(()=>{class e extends om{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=si,this.createValidator=t=>L7}enabled(t){return t}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275dir=me({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&Ai("required",r._enabled?"":null)},inputs:{required:"required"},features:[yi([BTt]),xi]})}return e})();const zTt={provide:Js,useExisting:kn(()=>BR),multi:!0};let BR=(()=>{class e extends om{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function yW(e){return"number"==typeof e?e:parseInt(e,10)}(t),this.createValidator=t=>V7(t)}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275dir=me({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Ai("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[yi([zTt]),xi]})}return e})();const HTt={provide:Js,useExisting:kn(()=>NC),multi:!0};let NC=(()=>{class e extends om{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>z7(t)}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275dir=me({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Ai("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[yi([HTt]),xi]})}return e})(),SW=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({})}return e})();class EW extends MC{constructor(i,t,n){super(AR(t),DR(n,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[this._adjustIndex(i)]}push(i,t={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(i,t,n={}){this.controls.splice(i,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(i,t={}){let n=this._adjustIndex(i);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(i,t,n={}){let r=this._adjustIndex(i);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,t={}){rW(this,0,i),i.forEach((n,r)=>{nW(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(i.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i=[],t={}){this._forEachChild((n,r)=>{n.reset(i[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(i=>i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_adjustIndex(i){return i<0?i+this.length:i}_syncPendingControls(){let i=this.controls.reduce((t,n)=>!!n._syncPendingControls()||t,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((t,n)=>{i(t,n)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(t=>t.enabled&&i(t))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}_find(i){return this.at(i)??null}}function AW(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let BC=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,n=null){const r=this._reduceControls(t);let s={};return AW(n)?s=n:null!==n&&(s.validators=n.validator,s.asyncValidators=n.asyncValidator),new nv(r,s)}record(t,n=null){const r=this._reduceControls(t);return new sW(r,n)}control(t,n,r){let s={};return this.useNonNullable?(AW(n)?s=n:(s.validators=n,s.asyncValidators=r),new Ns(t,{...s,nonNullable:!0})):new Ns(t,n,r)}array(t,n,r){const s=t.map(o=>this._createControl(o));return new EW(s,n,r)}_reduceControls(t){const n={};return Object.keys(t).forEach(r=>{n[r]=this._createControl(t[r])}),n}_createControl(t){return t instanceof Ns||t instanceof MC?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),VR=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:sm,useValue:t.callSetDisabledState??Ny}]}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[SW]})}return e})(),WTt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:PR,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:sm,useValue:t.callSetDisabledState??Ny}]}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[SW]})}return e})();class XTt{constructor(i){this._box=i,this._destroyed=new Ne,this._resizeSubject=new Ne,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(i){return this._elementObservables.has(i)||this._elementObservables.set(i,new gr(t=>{const n=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(i,{box:this._box}),()=>{this._resizeObserver?.unobserve(i),n.unsubscribe(),this._elementObservables.delete(i)}}).pipe(On(t=>t.some(n=>n.target===i)),function jTt(e,i,t){let n,r=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:i=1/0,refCount:r=!1,scheduler:t}=e):n=e??1/0,d7({connector:()=>new py(n,i,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({bufferSize:1,refCount:!0}),ji(this._destroyed))),this._elementObservables.get(i)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let YTt=(()=>{class e{constructor(){this._observers=new Map,this._ngZone=xe(di)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,n){const r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new XTt(r)),this._observers.get(r).observe(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const $Tt=["notch"],QTt=["matFormFieldNotchedOutline",""],KTt=["*"],ZTt=["textField"],JTt=["iconPrefixContainer"],qTt=["textPrefixContainer"],tCt=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],eCt=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function iCt(e,i){1&e&&Te(0,"span",17)}function nCt(e,i){if(1&e&&(q(0,"label",16),Ti(1,1),jt(2,iCt,1,0,"span",17),et()),2&e){const t=Ct(2);xt("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Ai("for",t._control.id),ot(2),En(2,!t.hideRequiredMarker&&t._control.required?2:-1)}}function rCt(e,i){1&e&&jt(0,nCt,3,5,"label",16),2&e&&En(0,Ct()._hasFloatingLabel()?0:-1)}function sCt(e,i){1&e&&Te(0,"div",5)}function aCt(e,i){}function oCt(e,i){1&e&&jt(0,aCt,0,0,"ng-template",11),2&e&&(Ct(2),xt("ngTemplateOutlet",en(1)))}function lCt(e,i){if(1&e&&(q(0,"div",7),jt(1,oCt,1,1,null,11),et()),2&e){const t=Ct();xt("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),ot(),En(1,t._forceDisplayInfixLabel()?-1:1)}}function cCt(e,i){1&e&&(q(0,"div",8,2),Ti(2,2),et())}function dCt(e,i){1&e&&(q(0,"div",9,3),Ti(2,3),et())}function uCt(e,i){}function hCt(e,i){1&e&&jt(0,uCt,0,0,"ng-template",11),2&e&&(Ct(),xt("ngTemplateOutlet",en(1)))}function fCt(e,i){1&e&&(q(0,"div",12),Ti(1,4),et())}function mCt(e,i){1&e&&(q(0,"div",13),Ti(1,5),et())}function pCt(e,i){1&e&&Te(0,"div",14)}function gCt(e,i){1&e&&(q(0,"div",18),Ti(1,6),et()),2&e&&xt("@transitionMessages",Ct()._subscriptAnimationState)}function vCt(e,i){if(1&e&&(q(0,"mat-hint",20),ut(1),et()),2&e){const t=Ct(2);xt("id",t._hintLabelId),ot(),qe(t.hintLabel)}}function xCt(e,i){if(1&e&&(q(0,"div",19),jt(1,vCt,2,2,"mat-hint",20),Ti(2,7),Te(3,"div",21),Ti(4,8),et()),2&e){const t=Ct();xt("@transitionMessages",t._subscriptAnimationState),ot(),En(1,t.hintLabel?1:-1)}}let nl=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,selectors:[["mat-label"]],standalone:!0})}return e})(),yCt=0;const DW=new se("MatError");let MW=(()=>{class e{constructor(t,n){this.id="mat-mdc-error-"+yCt++,t||n.nativeElement.setAttribute("aria-live","polite")}static#t=this.\u0275fac=function(n){return new(n||e)(vl("aria-live"),mt(oi))};static#e=this.\u0275dir=me({type:e,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(n,r){2&n&&nd("id",r.id)},inputs:{id:"id"},standalone:!0,features:[yi([{provide:DW,useExisting:e}])]})}return e})(),bCt=0,Oh=(()=>{class e{constructor(){this.align="start",this.id="mat-mdc-hint-"+bCt++}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){2&n&&(nd("id",r.id),Ai("align",null),Si("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},standalone:!0})}return e})();const wCt=new se("MatPrefix"),IW=new se("MatSuffix");let kW=(()=>{class e{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[$t.None,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[yi([{provide:IW,useExisting:e}])]})}return e})();const RW=new se("FloatingLabelParent");let PW=(()=>{class e{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=xe(YTt),this._ngZone=xe(di),this._parent=xe(RW),this._resizeSubscription=new Re}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function _Ct(e){if(null!==e.offsetParent)return e.scrollWidth;const t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const n=t.scrollWidth;return t.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi))};static#e=this.\u0275dir=me({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){2&n&&Si("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return e})();const FW="mdc-line-ripple--active",VC="mdc-line-ripple--deactivating";let OW=(()=>{class e{constructor(t,n){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(VC);"opacity"===r.propertyName&&o&&s.remove(FW,VC)},n.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(VC),t.add(FW)}deactivate(){this._elementRef.nativeElement.classList.add(VC)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(di))};static#e=this.\u0275dir=me({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return e})(),LW=(()=>{class e{constructor(t,n){this._elementRef=t,this._ngZone=n,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(di))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(1&n&&Pi($Tt,5),2&n){let s;Ge(s=He())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){2&n&&Si("mdc-notched-outline--notched",r.open)},inputs:{open:[$t.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Wi],attrs:QTt,ngContentSelectors:KTt,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(n,r){1&n&&(er(),Te(0,"div",1),q(1,"div",2,0),Ti(3),et(),Te(4,"div",3))},encapsulation:2,changeDetection:0})}return e})();const TCt={transitionMessages:yr("transitionMessages",[Ln("enter",ai({opacity:1,transform:"translateY(0%)"})),gn("void => enter",[ai({opacity:0,transform:"translateY(-5px)"}),mn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let UC=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e})}return e})();const zC=new se("MatFormField"),CCt=new se("MAT_FORM_FIELD_DEFAULT_OPTIONS");let NW=0,Dl=(()=>{class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ha(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const n=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,n,r,s,o,l,w,S){this._elementRef=t,this._changeDetectorRef=n,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=l,this._animationMode=w,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+NW++,this._hintLabelId="mat-mdc-hint-"+NW++,this._subscriptAnimationState="",this._destroyed=new Ne,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(ji(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),qr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ji(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(ji(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const n=this._control?this._control.ngControl:null;return n&&n[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;n?t.push(n.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=n?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const n=t.getRootNode();return n&&n!==t}return document.documentElement.contains(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(Fn),mt(di),mt(Ha),mt(lr),mt(CCt,8),mt(Hr,8),mt(Gi))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-form-field"]],contentQueries:function(n,r,s){if(1&n&&(Pn(s,nl,5),Pn(s,nl,7),Pn(s,UC,5),Pn(s,wCt,5),Pn(s,IW,5),Pn(s,DW,5),Pn(s,Oh,5)),2&n){let o;Ge(o=He())&&(r._labelChildNonStatic=o.first),Ge(o=He())&&(r._labelChildStatic=o.first),Ge(o=He())&&(r._formFieldControl=o.first),Ge(o=He())&&(r._prefixChildren=o),Ge(o=He())&&(r._suffixChildren=o),Ge(o=He())&&(r._errorChildren=o),Ge(o=He())&&(r._hintChildren=o)}},viewQuery:function(n,r){if(1&n&&(Pi(ZTt,5),Pi(JTt,5),Pi(qTt,5),Pi(PW,5),Pi(LW,5),Pi(OW,5)),2&n){let s;Ge(s=He())&&(r._textField=s.first),Ge(s=He())&&(r._iconPrefixContainer=s.first),Ge(s=He())&&(r._textPrefixContainer=s.first),Ge(s=He())&&(r._floatingLabel=s.first),Ge(s=He())&&(r._notchedOutline=s.first),Ge(s=He())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,r){2&n&&Si("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[yi([{provide:zC,useExisting:e},{provide:RW,useExisting:e}]),Wi],ngContentSelectors:eCt,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,r){if(1&n){const s=ye();er(tCt),jt(0,rCt,1,1,"ng-template",null,0,wg),q(2,"div",4,1),zt("click",function(l){return Gt(s),Ht(r._control.onContainerClick(l))}),jt(4,sCt,1,0,"div",5),q(5,"div",6),jt(6,lCt,2,2,"div",7)(7,cCt,3,0,"div",8)(8,dCt,3,0,"div",9),q(9,"div",10),jt(10,hCt,1,1,null,11),Ti(11),et(),jt(12,fCt,2,0,"div",12)(13,mCt,2,0,"div",13),et(),jt(14,pCt,1,0,"div",14),et(),q(15,"div",15),jt(16,gCt,2,1)(17,xCt,5,2),et()}if(2&n){let s;ot(2),Si("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),ot(2),En(4,r._hasOutline()||r._control.disabled?-1:4),ot(2),En(6,r._hasOutline()?6:-1),ot(),En(7,r._hasIconPrefix?7:-1),ot(),En(8,r._hasTextPrefix?8:-1),ot(2),En(10,!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),ot(2),En(12,r._hasTextSuffix?12:-1),ot(),En(13,r._hasIconSuffix?13:-1),ot(),En(14,r._hasOutline()?-1:14),ot(),Si("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),ot(),En(16,"error"===(s=r._getDisplayedMessages())?16:"hint"===s?17:-1)}},dependencies:[PW,LW,gT,OW,Oh],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[TCt.transitionMessages]},changeDetection:0})}return e})(),GC=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[nn,sd,Nk,nn]})}return e})();const ACt=["panel"],DCt=["*"];function MCt(e,i){if(1&e){const t=ye();q(0,"div",1,0),zt("@panelAnimation.done",function(r){return Gt(t),Ht(Ct()._animationDone.next(r))}),Ti(2),et()}if(2&e){const t=i.id,n=Ct();xt("id",n.id)("ngClass",n._classList)("@panelAnimation",n.isOpen?"visible":"hidden"),Ai("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby(t))}}const ICt=yr("panelAnimation",[Ln("void, hidden",ai({opacity:0,transform:"scaleY(0.8)"})),gn(":enter, hidden => visible",[Zk([mn("0.03s linear",ai({opacity:1})),mn("0.12s cubic-bezier(0, 0, 0.2, 1)",ai({transform:"scaleY(1)"}))])]),gn(":leave, visible => hidden",[mn("0.075s linear",ai({opacity:0}))])]);let kCt=0;class RCt{constructor(i,t){this.source=i,this.option=t}}const UW=new se("mat-autocomplete-default-options",{providedIn:"root",factory:function PCt(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let FCt=(()=>{class e{get isOpen(){return this._isOpen&&this.showPanel}_setColor(t){this._color=t,this._setThemeClasses(this._classList)}set classList(t){this._classList=t&&t.length?function Nbt(e,i=/\s+/){const t=[];if(null!=e){const n=Array.isArray(e)?e:`${e}`.split(i);for(const r of n){const s=`${r}`.trim();s&&t.push(s)}}return t}(t).reduce((n,r)=>(n[r]=!0,n),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}constructor(t,n,r,s){this._changeDetectorRef=t,this._elementRef=n,this._defaults=r,this._activeOptionChanges=Re.EMPTY,this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._animationDone=new Fe,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new Fe,this.opened=new Fe,this.closed=new Fe,this.optionActivated=new Fe,this._classList={},this.id="mat-autocomplete-"+kCt++,this.inertGroups=s?.SAFARI||!1,this.autoActiveFirstOption=!!r.autoActiveFirstOption,this.autoSelectActiveOption=!!r.autoSelectActiveOption,this.requireSelection=!!r.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new fH(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const n=new RCt(this,t);this.optionSelected.emit(n)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}_setThemeClasses(t){t["mat-primary"]="primary"===this._color,t["mat-warn"]="warn"===this._color,t["mat-accent"]="accent"===this._color}_skipPredicate(){return!1}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Fn),mt(oi),mt(UW),mt(lr))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-autocomplete"]],contentQueries:function(n,r,s){if(1&n&&(Pn(s,su,5),Pn(s,jk,5)),2&n){let o;Ge(o=He())&&(r.options=o),Ge(o=He())&&(r.optionGroups=o)}},viewQuery:function(n,r){if(1&n&&(Pi(xr,7),Pi(ACt,5)),2&n){let s;Ge(s=He())&&(r.template=s.first),Ge(s=He())&&(r.panel=s.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[$t.None,"aria-label","ariaLabel"],ariaLabelledby:[$t.None,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[$t.HasDecoratorInputTransform,"autoActiveFirstOption","autoActiveFirstOption",si],autoSelectActiveOption:[$t.HasDecoratorInputTransform,"autoSelectActiveOption","autoSelectActiveOption",si],requireSelection:[$t.HasDecoratorInputTransform,"requireSelection","requireSelection",si],panelWidth:"panelWidth",disableRipple:[$t.HasDecoratorInputTransform,"disableRipple","disableRipple",si],classList:[$t.None,"class","classList"],hideSingleSelectionIndicator:[$t.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",si]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[yi([{provide:Wk,useExisting:e}]),vn,Wi],ngContentSelectors:DCt,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"]],template:function(n,r){1&n&&(er(),jt(0,MCt,3,5,"ng-template"))},dependencies:[Ac],styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[ICt]},changeDetection:0})}return e})();const OCt={provide:pa,useExisting:kn(()=>GW),multi:!0},zW=new se("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const e=xe(Ts);return()=>e.scrollStrategies.reposition()}}),NCt={provide:zW,deps:[Ts],useFactory:function LCt(e){return()=>e.scrollStrategies.reposition()}};let GW=(()=>{class e{constructor(t,n,r,s,o,l,w,S,M,P,O){this._element=t,this._overlay=n,this._viewContainerRef=r,this._zone=s,this._changeDetectorRef=o,this._dir=w,this._formField=S,this._document=M,this._viewportRuler=P,this._defaults=O,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Re.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Ne,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=Dg(()=>{const N=this.autocomplete?this.autocomplete.options:null;return N?N.changes.pipe(Aa(N),Ls(()=>qr(...N.map(U=>U.onSelectionChange)))):this._zone.onStable.pipe(or(1),Ls(()=>this.optionSelections))}),this._handlePanelKeydown=N=>{(27===N.keyCode&&!ao(N)||38===N.keyCode&&ao(N,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),N.stopPropagation(),N.preventDefault())},this._trackedModal=null,this._scrollStrategy=l}ngAfterViewInit(){const t=this._getWindow();typeof t<"u"&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();typeof t<"u"&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal)&&Yg(this._trackedModal,"aria-owns",this.autocomplete.id)}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return qr(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(On(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(On(()=>this._overlayAttached)):_i()).pipe(Ri(t=>t instanceof RH?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return qr(Rc(this._document,"click"),Rc(this._document,"auxclick"),Rc(this._document,"touchend")).pipe(On(t=>{const n=Sl(t),r=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,s=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&n!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(n))&&(!s||!s.contains(n))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(n)}))}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const n=t.keyCode,r=ao(t);if(27===n&&!r&&t.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&13===n&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const s=this.autocomplete._keyManager.activeItem,o=38===n||40===n;9===n||o&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):o&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(o||this.autocomplete._keyManager.activeItem!==s)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let n=t.target,r=n.value;if("number"===n.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r){if(this._previousValue=r,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(r),r){if(this.panelOpen&&!this.autocomplete.requireSelection){const s=this.autocomplete.options?.find(o=>o.selected);s&&r!==this._getDisplayValue(s.value)&&s.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===t.target){const s=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(s)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){return qr(this._zone.onStable.pipe(or(1)),this.autocomplete.options.changes.pipe(vs(()=>this._positionStrategy.reapplyLastPosition()),oR(0))).pipe(Ls(()=>(this._zone.run(()=>{const r=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit())}),this.panelClosingActions)),or(1)).subscribe(r=>this._setValueAndClose(r))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(t){const n=this.autocomplete;return n&&n.displayWith?n.displayWith(t):t}_assignOptionValue(t){const n=this._getDisplayValue(t);null==t&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(n??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){const n=this.autocomplete,r=t?t.source:this._pendingAutoselectedOption;r?(this._clearPreviousSelectedOption(r),this._assignOptionValue(r.value),this._onChange(r.value),n._emitSelectEvent(r),this._element.nativeElement.focus()):n.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),n._animationDone?n._animationDone.pipe(or(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(t,n){this.autocomplete?.options?.forEach(r=>{r!==t&&r.selected&&r.deselect(n)})}_openPanelInternal(t=this._element.nativeElement.value){this._attachOverlay(t),this._floatLabel(),this._trackedModal&&YT(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(t){let n=this._overlayRef;n?(this._positionStrategy.setOrigin(this._getConnectedElement()),n.updateSize({width:this._getPanelWidth()})):(this._portal=new ou(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),n=this._overlay.create(this._getOverlayConfig()),this._overlayRef=n,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&n&&n.updateSize({width:this._getPanelWidth()})})),n&&!n.hasAttached()&&(n.attach(this._portal),this._valueOnAttach=t,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const r=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&r!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const t=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=t.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=t.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new qg({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,s=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let o;o="above"===this.position?s:"below"===this.position?n:[...n,...s],t.withPositions(o)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;if(t.autoActiveFirstOption){let n=-1;for(let r=0;r<t.options.length;r++)if(!t.options.get(r).disabled){n=r;break}t._keyManager.setActiveItem(n)}else t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(t){const n=this.autocomplete,r=PH(t,n.options,n.optionGroups);if(0===t&&1===r)n._setScrollTop(0);else if(n.panel){const s=n.options.toArray()[t];if(s){const o=s._getHostElement(),l=FH(o.offsetTop,o.offsetHeight,n._getScrollTop(),n.panel.nativeElement.offsetHeight);n._setScrollTop(l)}}}_applyModalPanelOwnership(){const t=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const n=this.autocomplete.id;this._trackedModal&&Yg(this._trackedModal,"aria-owns",n),YT(t,"aria-owns",n),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(Yg(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(Ts),mt(Lr),mt(di),mt(Fn),mt(zW),mt(Ha,8),mt(zC,9),mt(Gi,8),mt(cu),mt(UW,8))};static#e=this.\u0275dir=me({type:e,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(n,r){1&n&&zt("focusin",function(){return r._handleFocus()})("blur",function(){return r._onTouched()})("input",function(o){return r._handleInput(o)})("keydown",function(o){return r._handleKeydown(o)})("click",function(){return r._handleClick()}),2&n&&Ai("autocomplete",r.autocompleteAttribute)("role",r.autocompleteDisabled?null:"combobox")("aria-autocomplete",r.autocompleteDisabled?null:"list")("aria-activedescendant",r.panelOpen&&r.activeOption?r.activeOption.id:null)("aria-expanded",r.autocompleteDisabled?null:r.panelOpen.toString())("aria-controls",r.autocompleteDisabled||!r.panelOpen||null==r.autocomplete?null:r.autocomplete.id)("aria-haspopup",r.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[$t.None,"matAutocomplete","autocomplete"],position:[$t.None,"matAutocompletePosition","position"],connectedTo:[$t.None,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[$t.None,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[$t.HasDecoratorInputTransform,"matAutocompleteDisabled","autocompleteDisabled",si]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[yi([OCt]),vn,ar]})}return e})(),BCt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({providers:[NCt],imports:[tm,iC,nn,sd,du,iC,nn]})}return e})();const HW=kc({passive:!0});let VCt=(()=>{class e{constructor(t,n){this._platform=t,this._ngZone=n,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return el;const n=_s(t),r=this._monitoredElements.get(n);if(r)return r.subject;const s=new Ne,o="cdk-text-field-autofilled",l=w=>{"cdk-text-field-autofill-start"!==w.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===w.animationName&&n.classList.contains(o)&&(n.classList.remove(o),this._ngZone.run(()=>s.next({target:w.target,isAutofilled:!1}))):(n.classList.add(o),this._ngZone.run(()=>s.next({target:w.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",l,HW),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:s,unlisten:()=>{n.removeEventListener("animationstart",l,HW)}}),s}stopMonitoring(t){const n=_s(t),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((t,n)=>this.stopMonitoring(n))}static#t=this.\u0275fac=function(n){return new(n||e)(ne(lr),ne(di))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),UCt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({})}return e})();const zCt=new se("MAT_INPUT_VALUE_ACCESSOR"),GCt=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let HCt=0,yu=(()=>{class e{get disabled(){return this._disabled}set disabled(t){this._disabled=ha(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(fd.required)??!1}set required(t){this._required=ha(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&qG().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ha(t)}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,n,r,s,o,l,w,S,M,P){this._elementRef=t,this._platform=n,this.ngControl=r,this._autofillMonitor=S,this._formField=P,this._uid="mat-input-"+HCt++,this.focused=!1,this.stateChanges=new Ne,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>qG().has(U)),this._iOSKeyupListener=U=>{const j=U.target;!j.value&&0===j.selectionStart&&0===j.selectionEnd&&(j.setSelectionRange(1,1),j.setSelectionRange(0,0))};const O=this._elementRef.nativeElement,N=O.nodeName.toLowerCase();this._inputValueAccessor=w||O,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&M.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Hk(l,r,o,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===N,this._isTextarea="textarea"===N,this._isInFormField=!!P,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const n=this._elementRef.nativeElement;this._previousPlaceholder=t,t?n.setAttribute("placeholder",t):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){GCt.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,n=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(lr),mt(md,10),mt(am,8),mt(pd,8),mt(SH),mt(zCt,10),mt(VCt),mt(di),mt(zC,8))};static#e=this.\u0275dir=me({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,r){1&n&&zt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&n&&(nd("id",r.id)("disabled",r.disabled)("required",r.required),Ai("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Si("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[$t.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[yi([{provide:UC,useExisting:e}]),ar]})}return e})(),WCt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[nn,GC,GC,UCt,nn]})}return e})();function jCt(e,i){if(1&e&&(q(0,"mat-label"),ut(1),et()),2&e){const t=Ct();ot(),qe(t.binding.title)}}function XCt(e,i){if(1&e){const t=ye();q(0,"button",7),zt("click",function(){return Gt(t),Ht(Ct().clearInput())}),q(1,"mat-icon"),ut(2,"close"),et()()}}function YCt(e,i){1&e&&(q(0,"mat-option",8),Te(1,"mat-spinner",9),et())}function $Ct(e,i){if(1&e&&(q(0,"mat-option",10)(1,"span",11),ut(2),et(),ut(3),et()),2&e){const t=i.$implicit;xt("value",t),ot(2),qe(t.code),ot(),Ke("",t.display," ")}}let av=(()=>{class e{static#t=this.nextId=0;constructor(t){this.terminologyService=t,this.term="",this.selectionChange=new Fe,this.formControl=new vTt,this.loading=!1,this.selectedConcept={},this.stateChanges=new Ne,this.focused=!1,this.ngControl=null,this.errorState=!1,this.controlType="app-autocomplete-binding",this.id="app-autocomplete-binding-"+e.nextId++,this.describedBy="",this.onChange=()=>{},this.onTouched=()=>{}}get empty(){return!this.formControl.value}setDescribedByIds(t){this.describedBy=t.join(" ")}onContainerClick(t){}writeValue(t){this.formControl.setValue(t&&"object"==typeof t&&t.display?t.display:t,{emitEvent:!1})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}ngOnChanges(t){t.term&&(this.term=t.term.currentValue,this.formControl.setValue(this.term&&"object"==typeof this.term&&this.term.display?this.term.display:this.term))}ngOnInit(){this.autoFilter=this.formControl.valueChanges.pipe(iu(300),nu(),Ls(t=>t?.length>=3?(this.loading=!0,this.terminologyService.expandValueSet(this.binding.ecl,t,0,50)):_i([])),vs(t=>{this.loading=!1}))}onTermChange(){this.formControl.setValue(this.term)}optionSelected(t){this.selectedConcept=t,this.selectionChange.emit(t),this.onChange(t)}clearInput(){this.formControl.reset(),this.selectedConcept={code:"",display:""},this.selectionChange.emit(this.selectedConcept)}change(t){const n=t?.option?.value;n&&(this.optionSelected({code:n.code,display:n.display}),this.formControl.setValue(n.display))}static#e=this.\u0275fac=function(n){return new(n||e)(mt(fa))};static#i=this.\u0275cmp=Qe({type:e,selectors:[["app-autocomplete-binding"]],inputs:{binding:"binding",term:"term"},outputs:{selectionChange:"selectionChange"},features:[yi([{provide:pa,useExisting:kn(()=>e),multi:!0},{provide:UC,useExisting:e}]),ar],decls:11,vars:10,consts:[["auto","matAutocomplete"],[4,"ngIf"],["type","text","matInput","",3,"placeholder","formControl","matAutocomplete"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["autoActiveFirstOption","",3,"optionSelected"],["disabled","","class","loading",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["disabled","",1,"loading"],["diameter","35"],[3,"value"],[1,"code"]],template:function(n,r){if(1&n){const s=ye();q(0,"mat-form-field"),jt(1,jCt,2,1,"mat-label",1),Te(2,"input",2),q(3,"mat-hint"),ut(4),et(),jt(5,XCt,3,0,"button",3),q(6,"mat-autocomplete",4,0),zt("optionSelected",function(l){return Gt(s),Ht(r.change(l))}),jt(8,YCt,2,0,"mat-option",5)(9,$Ct,4,3,"mat-option",6),gs(10,"async"),et()()}if(2&n){let s;const o=en(7);ot(),xt("ngIf",r.binding.title),ot(),mh("placeholder",(null==r.formControl.value?null:r.formControl.value.display)||r.binding.title||"Search..."),xt("formControl",r.formControl)("matAutocomplete",o),ot(2),qe(r.binding.note),ot(),xt("ngIf",r.formControl.value),ot(3),xt("ngIf",r.loading),ot(),xt("ngForOf",null==(s=jl(10,8,r.autoFilter))||null==s.expansion?null:s.expansion.contains)}},dependencies:[ws,Fs,Bo,ma,Dl,nl,Oh,kW,FCt,su,GW,Ah,yu,Al,Uo,Uy,wI],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}.id-icon[_ngcontent-%COMP%]{margin-left:10px;color:#2e8b57}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}return e})();function QCt(e,i){1&e&&Te(0,"mat-spinner",20)}function KCt(e,i){1&e&&(q(0,"th",21),ut(1," Date "),et())}function ZCt(e,i){if(1&e&&(q(0,"td",22),ut(1),gs(2,"date"),et()),2&e){const t=i.$implicit;ot(),Ke(" ",Sc(2,1,t.date,"yyyy-MM-dd")," ")}}function JCt(e,i){1&e&&(q(0,"th",21),ut(1," ConceptId "),et())}function qCt(e,i){if(1&e&&(q(0,"td",22),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.code," ")}}function tSt(e,i){1&e&&(q(0,"th",21),ut(1," Term "),et())}function eSt(e,i){1&e&&(q(0,"span",24),ut(1,"Allergy / Intolerance condition"),et())}function iSt(e,i){if(1&e&&(q(0,"td",22),jt(1,eSt,2,0,"span",23),ut(2),et()),2&e){const t=i.$implicit;ot(),xt("ngIf",t.allergy),ot(),Ke(" ",t.display," ")}}function nSt(e,i){1&e&&Te(0,"tr",25)}function rSt(e,i){1&e&&Te(0,"tr",26)}function sSt(e,i){1&e&&(q(0,"th",21),ut(1," ConceptId "),et())}function aSt(e,i){if(1&e&&(q(0,"td",22),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.code," ")}}function oSt(e,i){1&e&&(q(0,"th",21),ut(1," Term "),et())}function lSt(e,i){if(1&e&&(q(0,"td",22),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.display," ")}}function cSt(e,i){1&e&&Te(0,"tr",25)}function dSt(e,i){1&e&&Te(0,"tr",26)}const uSt=[],hSt=[];let WW=(()=>{class e{constructor(t){this.terminologyService=t,this.problemBinding={ecl:"< 404684003 |Clinical finding|",title:"Search..."},this.eclProblem="< 404684003 |Clinical finding|",this.term="",this.displayedColumns=["date","code","display"],this.dataToDisplay=[...uSt],this.dataSource=new fSt(this.dataToDisplay),this.loading=!1,this.displayedColumns2=["code","display"],this.dataToDisplay2=[...hSt],this.dataSource2=new mSt(this.dataToDisplay2)}updateProblem(t){var n=this;return Mt(function*(){n.selectedProblemSct=t})()}addProblem(t){var n=this;return Mt(function*(){if(n.selectedProblemSct||t){let r=t||n.selectedProblemSct;if(n.loading=!0,n.term=r.display,r.date=new Date,r.code.indexOf(":")>-1){r.allergy=!0;let s=r.substance;n.dataToDisplay2.find(o=>o.code===s.code)||(n.dataToDisplay2=[...n.dataToDisplay2,s],n.dataSource2.setData(n.dataToDisplay2))}else(yield n.getAllergyData(r))?.expansion?.contains?.length>0&&(r.allergy=!0,n.addAllergySubstanceToList(r));n.dataToDisplay.find(s=>s.code===r.code)||(n.dataToDisplay=[...n.dataToDisplay,r],n.dataSource.setData(n.dataToDisplay)),n.loading=!1,n.term=""}})()}addAllergySubstanceToList(t){var n=this;return Mt(function*(){(yield n.getAllergySubstance(t))?.expansion?.contains?.forEach(s=>{n.dataToDisplay2.find(o=>o.code===s.code)||(n.dataToDisplay2=[...n.dataToDisplay2,s],n.dataSource2.setData(n.dataToDisplay2))})})()}getAllergyData(t){var n=this;return Mt(function*(){return Da((yield n.terminologyService.expandValueSet("<<418038007 |Propensity to adverse reactions to substance| OR <<420134006 |Propensity to adverse reaction (finding)|",t.code,0,1)).pipe(Ri(s=>s)))})()}getAllergySubstance(t){var n=this;return Mt(function*(){return Da((yield n.terminologyService.expandValueSet(`${t.code} |${t.display}| . (246075003 |Causative agent (attribute)| OR 47429007 |Associated with (attribute)|)`,"")).pipe(Ri(s=>s)))})()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fa))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-allergies-problem-list"]],decls:60,vars:11,consts:[["substancePopoverMenu","matMenu"],["id","main-card"],[1,"container-space"],[1,"problem-list"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/x/PaDICg","target","_blank"],[1,"container"],[1,"item"],[3,"selectionChange","binding","term"],["mat-flat-button","","color","primary",3,"click"],["diameter","35",4,"ngIf"],["mat-table","",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","display"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["diameter","35"],["mat-header-cell",""],["mat-cell",""],["class","tag pill",4,"ngIf"],[1,"tag","pill"],["mat-header-row",""],["mat-row",""]],template:function(n,r){if(1&n){const s=ye();q(0,"mat-card",1)(1,"div",2)(2,"div",3)(3,"h4"),ut(4,"Problem List "),q(5,"button",4)(6,"mat-icon"),ut(7,"info"),et()(),q(8,"mat-menu",null,0)(10,"span",5),zt("click",function(l){return Gt(s),Ht(l.stopPropagation())}),q(11,"h4"),ut(12,"Problem list"),et(),q(13,"p"),ut(14,"Allergy or intolerance can also be recorded in the EHR as a problem. The problem list is normally restricted to SNOMED CT concepts from three hierarchies \u2013 Clinical finding, Event and Finding with explicit context. This corresponds either to the FHIR finding based AllergyIntolerance resource data model or the FHIR Condition resource."),et(),q(15,"p"),ut(16,"For practical guidance using SNOMED CT to document hypersensitivity to specific substances in a problem list, it is suggested to map to the appropriate concepts under the 473011001 |Allergic condition (finding)|hierarchies. This is due to the lack of sufficient content under 609433001 |Hypersensitivity disposition (finding)|and 421961002 |Hypersensitivity reaction (disorder)| and that many of the concepts under 609328004 |Allergic disposition (finding)|and 419076005 |Allergic reaction (disorder)| have unclear mechanisms which may actually represent non-allergic hypersensitivity. Please note that SNOMED international does not plan to create new children concepts of hypersensitivity disposition to specific substances unless more than one Member country would submit a request for them to answer to an active use-case."),et(),q(17,"p"),ut(18,"Almost all allergy concepts are modeled by substances in SNOMED CT. A very small number of allergy concepts are modeled by products but with explicit description for the specific intended meaning. Records of allergy to multiple substances or to multi-ingredient products should be recoded at the product level and updated when more specific information becomes available (e.g., positive sensitivity test to one specific ingredient of the mix)."),et(),q(19,"p"),ut(20,"Vaccine allergy is an example where allergy concepts are modeled using a product concept. For example, \u2018Allergy to component of vaccine product (finding)\u2019 with a synonym \u2018vaccine allergy\u2019 has been modeled by vaccine product. The concept represents that allergy is caused by any substance in a vaccine product."),et(),q(21,"p"),ut(22,"To record the level of certainty or verification status, it is recommended to use additional data elements in the EHR information model. Even though it is possible to utilize the SNOMED CT model for \u2018situation with explicit context\u2019 to express certainty, this is not recommended due to potential ambiguity. For example, \u201csuspected penicillin allergy\u201d can mean uncertainty with the condition (is it real allergy?) or with the causative agent (is it penicillin?). Even though SNOMED CT editorial guideline is clear that the first interpretation is correct, it is better to use other methods to represent the uncertainty to avoid confusion."),et(),q(23,"p"),ut(24,"For more information check the "),q(25,"a",6),ut(26,"Implementation Guide"),et(),ut(27," developed by the SNOMED International Allergy Clinical Reference Group."),et()()()(),q(28,"div",7)(29,"div",8)(30,"app-autocomplete-binding",9),zt("selectionChange",function(l){return Gt(s),Ht(r.updateProblem(l))}),et()(),q(31,"div",8)(32,"button",10),zt("click",function(){return Gt(s),Ht(r.addProblem())}),ut(33,"Add problem"),et()(),q(34,"div",8),jt(35,QCt,1,0,"mat-spinner",11),et()(),q(36,"table",12),$i(37,13),jt(38,KCt,2,0,"th",14)(39,ZCt,3,4,"td",15),Qi(),$i(40,16),jt(41,JCt,2,0,"th",14)(42,qCt,2,1,"td",15),Qi(),$i(43,17),jt(44,tSt,2,0,"th",14)(45,iSt,3,2,"td",15),Qi(),jt(46,nSt,1,0,"tr",18)(47,rSt,1,0,"tr",19),et()(),q(48,"div",3)(49,"h4"),ut(50,"Substances the patient is allergic to:"),et(),q(51,"table",12),$i(52,16),jt(53,sSt,2,0,"th",14)(54,aSt,2,1,"td",15),Qi(),$i(55,17),jt(56,oSt,2,0,"th",14)(57,lSt,2,1,"td",15),Qi(),jt(58,cSt,1,0,"tr",18)(59,dSt,1,0,"tr",19),et()()()()}if(2&n){const s=en(9);ot(5),xt("matMenuTriggerFor",s),ot(5),xt("disableRipple",!0),ot(20),xt("binding",r.problemBinding)("term",r.term),ot(5),xt("ngIf",r.loading),ot(),xt("dataSource",r.dataSource),ot(10),xt("matHeaderRowDef",r.displayedColumns),ot(),xt("matRowDefColumns",r.displayedColumns),ot(4),xt("dataSource",r.dataSource2),ot(7),xt("matHeaderRowDef",r.displayedColumns2),ot(),xt("matRowDefColumns",r.displayedColumns2)}},dependencies:[Fs,Ma,Bo,ma,El,Jl,uu,Ah,xC,Dh,pu,Mh,gu,mu,Ih,vu,xu,kh,Rh,av,Zd],styles:["#main-card[_ngcontent-%COMP%]{padding:10px}app-autocomplete-binding[_ngcontent-%COMP%]{display:block;min-width:500px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;margin:10px 0;gap:10px}.container-space[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;margin:10px 0;gap:10px}.problem-list[_ngcontent-%COMP%]{width:60%}.tag[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding-left:10px;padding-right:10px;margin-top:5px}td[_ngcontent-%COMP%]{position:relative}.pill[_ngcontent-%COMP%]{display:inline-block;font-size:10px;background-color:orange;color:#fff;padding:4px 8px;border-radius:20px;position:absolute;top:0;right:0;margin-top:1rem}.mat-column-display[_ngcontent-%COMP%]{min-width:350px}.long-tooltip[_ngcontent-%COMP%]{padding-left:3rem;padding-right:3rem;font-weight:lighter;font-size:.9rem}"]})}return e})();class fSt extends LT{constructor(i){super(),this._dataStream=new py,this.setData(i)}connect(){return this._dataStream}disconnect(){}setData(i){this._dataStream.next(i)}}class mSt extends LT{constructor(i){super(),this._dataStream=new py,this.setData(i)}connect(){return this._dataStream}disconnect(){}setData(i){this._dataStream.next(i)}}const UR=["*"];function pSt(e,i){1&e&&Ti(0)}const gSt=["tabListContainer"],vSt=["tabList"],xSt=["tabListInner"],ySt=["nextPaginator"],bSt=["previousPaginator"],wSt=e=>({animationDuration:e}),_St=(e,i)=>({value:e,params:i});function TSt(e,i){}const CSt=["tabBodyWrapper"],SSt=["tabHeader"];function ESt(e,i){}function ASt(e,i){1&e&&jt(0,ESt,0,0,"ng-template",12),2&e&&xt("cdkPortalOutlet",Ct().$implicit.templateLabel)}function DSt(e,i){1&e&&ut(0),2&e&&qe(Ct().$implicit.textLabel)}function MSt(e,i){if(1&e){const t=ye();q(0,"div",7,2),zt("click",function(){const r=Gt(t),s=r.$implicit,o=r.$index,l=Ct(),w=en(1);return Ht(l._handleClick(s,w,o))})("cdkFocusChange",function(r){const s=Gt(t).$index;return Ht(Ct()._tabFocusChanged(r,s))}),Te(2,"span",8)(3,"div",9),q(4,"span",10)(5,"span",11),jt(6,ASt,1,1,null,12)(7,DSt,1,1),et()()()}if(2&e){const t=i.$implicit,n=i.$index,r=en(1),s=Ct();Si("mdc-tab--active",s.selectedIndex===n),xt("id",s._getTabLabelId(n))("ngClass",t.labelClass)("disabled",t.disabled)("fitInkBarToContent",s.fitInkBarToContent),Ai("tabIndex",s._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(n))("aria-selected",s.selectedIndex===n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),ot(3),xt("matRippleTrigger",r)("matRippleDisabled",t.disabled||s.disableRipple),ot(3),En(6,t.templateLabel?6:7)}}function ISt(e,i){1&e&&Ti(0)}function kSt(e,i){if(1&e){const t=ye();q(0,"mat-tab-body",13),zt("_onCentered",function(){return Gt(t),Ht(Ct()._removeTabBodyWrapperHeight())})("_onCentering",function(r){return Gt(t),Ht(Ct()._setTabBodyWrapperHeight(r))}),et()}if(2&e){const t=i.$implicit,n=i.$index,r=Ct();Si("mat-mdc-tab-body-active",r.selectedIndex===n),xt("id",r._getTabContentId(n))("ngClass",t.bodyClass)("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),Ai("tabindex",null!=r.contentTabIndex&&r.selectedIndex===n?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(n))("aria-hidden",r.selectedIndex!==n)}}const RSt=new se("MatTabContent");let PSt=(()=>{class e{constructor(t){this.template=t}static#t=this.\u0275fac=function(n){return new(n||e)(mt(xr))};static#e=this.\u0275dir=me({type:e,selectors:[["","matTabContent",""]],standalone:!0,features:[yi([{provide:RSt,useExisting:e}])]})}return e})();const FSt=new se("MatTabLabel"),jW=new se("MAT_TAB");let OSt=(()=>{class e extends Z1t{constructor(t,n,r){super(t,n),this._closestTab=r}static#t=this.\u0275fac=function(n){return new(n||e)(mt(xr),mt(Lr),mt(jW,8))};static#e=this.\u0275dir=me({type:e,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[yi([{provide:FSt,useExisting:e}]),xi]})}return e})();const XW=new se("MAT_TAB_GROUP");let zy=(()=>{class e{get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}constructor(t,n){this._viewContainerRef=t,this._closestTabGroup=n,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new Ne,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new ou(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lr),mt(XW,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-tab"]],contentQueries:function(n,r,s){if(1&n&&(Pn(s,OSt,5),Pn(s,PSt,7,xr)),2&n){let o;Ge(o=He())&&(r.templateLabel=o.first),Ge(o=He())&&(r._explicitContent=o.first)}},viewQuery:function(n,r){if(1&n&&Pi(xr,7),2&n){let s;Ge(s=He())&&(r._implicitContent=s.first)}},hostAttrs:["hidden",""],inputs:{disabled:[$t.HasDecoratorInputTransform,"disabled","disabled",si],textLabel:[$t.None,"label","textLabel"],ariaLabel:[$t.None,"aria-label","ariaLabel"],ariaLabelledby:[$t.None,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[yi([{provide:jW,useExisting:e}]),vn,ar,Wi],ngContentSelectors:UR,decls:1,vars:0,template:function(n,r){1&n&&(er(),jt(0,pSt,1,0,"ng-template"))},encapsulation:2})}return e})();const zR="mdc-tab-indicator--active",YW="mdc-tab-indicator--no-transition";class LSt{constructor(i){this._items=i}hide(){this._items.forEach(i=>i.deactivateInkBar())}alignToElement(i){const t=this._items.find(r=>r.elementRef.nativeElement===i),n=this._currentItem;if(t!==n&&(n?.deactivateInkBar(),t)){const r=n?.elementRef.nativeElement.getBoundingClientRect?.();t.activateInkBar(r),this._currentItem=t}}}let NSt=(()=>{class e{constructor(){this._elementRef=xe(oi),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(t){this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(t){const n=this._elementRef.nativeElement;if(!t||!n.getBoundingClientRect||!this._inkBarContentElement)return void n.classList.add(zR);const r=n.getBoundingClientRect(),s=t.width/r.width,o=t.left-r.left;n.classList.add(YW),this._inkBarContentElement.style.setProperty("transform",`translateX(${o}px) scaleX(${s})`),n.getBoundingClientRect(),n.classList.remove(YW),n.classList.add(zR),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(zR)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const t=this._elementRef.nativeElement.ownerDocument||document,n=this._inkBarElement=t.createElement("span"),r=this._inkBarContentElement=t.createElement("span");n.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",n.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement).appendChild(this._inkBarElement)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,inputs:{fitInkBarToContent:[$t.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",si]},features:[vn]})}return e})(),$W=(()=>{class e extends NSt{constructor(t){super(),this.elementRef=t,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi))};static#e=this.\u0275dir=me({type:e,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(n,r){2&n&&(Ai("aria-disabled",!!r.disabled),Si("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[$t.HasDecoratorInputTransform,"disabled","disabled",si]},standalone:!0,features:[vn,xi]})}return e})();const QW=kc({passive:!0});let zSt=(()=>{class e{get selectedIndex(){return this._selectedIndex}set selectedIndex(t){const n=isNaN(t)?0:t;this._selectedIndex!=n&&(this._selectedIndexChanged=!0,this._selectedIndex=n,this._keyManager&&this._keyManager.updateActiveItem(n))}constructor(t,n,r,s,o,l,w){this._elementRef=t,this._changeDetectorRef=n,this._viewportRuler=r,this._dir=s,this._ngZone=o,this._platform=l,this._animationMode=w,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Ne,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Ne,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Fe,this.indexFocused=new Fe,o.runOutsideAngular(()=>{Rc(t.nativeElement,"mouseleave").pipe(ji(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Rc(this._previousPaginator.nativeElement,"touchstart",QW).pipe(ji(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Rc(this._nextPaginator.nativeElement,"touchstart",QW).pipe(ji(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:_i("ltr"),n=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Uk(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(or(1)).subscribe(r),qr(t,n,this._items.changes,this._itemsResized()).pipe(ji(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?el:this._items.changes.pipe(Aa(this._items),Ls(t=>new gr(n=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(s=>n.next(s));return t.forEach(s=>r.observe(s.elementRef.nativeElement)),()=>{r.disconnect()}}))),Lk(1),On(t=>t.some(n=>n.contentRect.width>0&&n.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!ao(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const n=this._items.get(this.focusIndex);n&&!n.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return!this._items||!!this._items.toArray()[t]}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const n=this._tabListContainer.nativeElement;n.scrollLeft="ltr"==this._getLayoutDirection()?0:n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const n=this._items?this._items.toArray()[t]:null;if(!n)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:o}=n.elementRef.nativeElement;let l,w;"ltr"==this._getLayoutDirection()?(l=s,w=l+o):(w=this._tabListInner.nativeElement.offsetWidth-s,l=w-o);const S=this.scrollDistance,M=this.scrollDistance+r;l<S?this.scrollDistance-=S-l:w>M&&(this.scrollDistance+=Math.min(w-M,l-S))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=t?t.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,n){n&&null!=n.button&&0!==n.button||(this._stopInterval(),Iy(650,100).pipe(ji(qr(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:s}=this._scrollHeader(t);(0===s||s>=r)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(Fn),mt(cu),mt(Ha,8),mt(di),mt(lr),mt(Hr,8))};static#e=this.\u0275dir=me({type:e,inputs:{disablePagination:[$t.HasDecoratorInputTransform,"disablePagination","disablePagination",si],selectedIndex:[$t.HasDecoratorInputTransform,"selectedIndex","selectedIndex",Jr]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[vn]})}return e})(),GSt=(()=>{class e extends zSt{constructor(t,n,r,s,o,l,w){super(t,n,r,s,o,l,w),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new LSt(this._items),super.ngAfterContentInit()}_itemSelected(t){t.preventDefault()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(Fn),mt(cu),mt(Ha,8),mt(di),mt(lr),mt(Hr,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-tab-header"]],contentQueries:function(n,r,s){if(1&n&&Pn(s,$W,4),2&n){let o;Ge(o=He())&&(r._items=o)}},viewQuery:function(n,r){if(1&n&&(Pi(gSt,7),Pi(vSt,7),Pi(xSt,7),Pi(ySt,5),Pi(bSt,5)),2&n){let s;Ge(s=He())&&(r._tabListContainer=s.first),Ge(s=He())&&(r._tabList=s.first),Ge(s=He())&&(r._tabListInner=s.first),Ge(s=He())&&(r._nextPaginator=s.first),Ge(s=He())&&(r._previousPaginator=s.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(n,r){2&n&&Si("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{disableRipple:[$t.HasDecoratorInputTransform,"disableRipple","disableRipple",si]},standalone:!0,features:[vn,xi,Wi],ngContentSelectors:UR,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(n,r){if(1&n){const s=ye();er(),q(0,"button",5,0),zt("click",function(){return Gt(s),Ht(r._handlePaginatorClick("before"))})("mousedown",function(l){return Gt(s),Ht(r._handlePaginatorPress("before",l))})("touchend",function(){return Gt(s),Ht(r._stopInterval())}),Te(2,"div",6),et(),q(3,"div",7,1),zt("keydown",function(l){return Gt(s),Ht(r._handleKeydown(l))}),q(5,"div",8,2),zt("cdkObserveContent",function(){return Gt(s),Ht(r._onContentChanges())}),q(7,"div",9,3),Ti(9),et()()(),q(10,"button",10,4),zt("mousedown",function(l){return Gt(s),Ht(r._handlePaginatorPress("after",l))})("click",function(){return Gt(s),Ht(r._handlePaginatorClick("after"))})("touchend",function(){return Gt(s),Ht(r._stopInterval())}),Te(12,"div",6),et()}2&n&&(Si("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),xt("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),ot(3),Si("_mat-animation-noopable","NoopAnimations"===r._animationMode),ot(7),Si("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),xt("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[ru,rH],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}return e})();const HSt=new se("MAT_TABS_CONFIG"),WSt={translateTab:yr("translateTab",[Ln("center, void, left-origin-center, right-origin-center",ai({transform:"none"})),Ln("left",ai({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Ln("right",ai({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),gn("* => left, * => right, left => center, right => center",mn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),gn("void => left-origin-center",[ai({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),mn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),gn("void => right-origin-center",[ai({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),mn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let jSt=(()=>{class e extends lu{constructor(t,n,r,s){super(t,n,s),this._host=r,this._centeringSub=Re.EMPTY,this._leavingSub=Re.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Aa(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lf),mt(Lr),mt(kn(()=>KW)),mt(Gi))};static#e=this.\u0275dir=me({type:e,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[xi]})}return e})(),KW=(()=>{class e{set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(t,n,r){this._elementRef=t,this._dir=n,this._dirChangeSubscription=Re.EMPTY,this._translateTabComplete=new Ne,this._onCentering=new Fe,this._beforeCentering=new Fe,this._afterLeavingCenter=new Fe,this._onCentered=new Fe(!0),this.animationDuration="500ms",this.preserveContent=!1,n&&(this._dirChangeSubscription=n.change.subscribe(s=>{this._computePositionAnimationState(s),r.markForCheck()})),this._translateTabComplete.pipe(nu((s,o)=>s.fromState===o.fromState&&s.toState===o.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const n=this._isCenterPosition(t.toState);this._beforeCentering.emit(n),n&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const n=this._getLayoutDirection();return"ltr"==n&&t<=0||"rtl"==n&&t>0?"left-origin-center":"right-origin-center"}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(Ha,8),mt(Fn))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-tab-body"]],viewQuery:function(n,r){if(1&n&&Pi(lu,5),2&n){let s;Ge(s=He())&&(r._portalHost=s.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[$t.None,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[Wi],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(n,r){if(1&n){const s=ye();q(0,"div",1,0),zt("@translateTab.start",function(l){return Gt(s),Ht(r._onTranslateTabStarted(l))})("@translateTab.done",function(l){return Gt(s),Ht(r._translateTabComplete.next(l))}),jt(2,TSt,0,0,"ng-template",2),et()}2&n&&xt("@translateTab",UM(3,_St,r._position,_l(1,wSt,r.animationDuration)))},dependencies:[jSt,cC],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[WSt.translateTab]}})}return e})(),XSt=0,ov=(()=>{class e{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=t,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=isNaN(t)?null:t}get animationDuration(){return this._animationDuration}set animationDuration(t){const n=t+"";this._animationDuration=/^\d+$/.test(n)?t+"ms":n}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=isNaN(t)?null:t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const n=this._elementRef.nativeElement.classList;n.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&n.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}constructor(t,n,r,s){this._elementRef=t,this._changeDetectorRef=n,this._animationMode=s,this._tabs=new sh,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Re.EMPTY,this._tabLabelSubscription=Re.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new Fe,this.focusChange=new Fe,this.animationDone=new Fe,this.selectedTabChange=new Fe(!0),this._isServer=!xe(lr).isBrowser,this._groupId=XSt++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,null!=r?.contentTabIndex&&(this.contentTabIndex=r.contentTabIndex),this.preserveContent=!!r?.preserveContent,this.fitInkBarToContent=!(!r||null==r.fitInkBarToContent)&&r.fitInkBarToContent,this.stretchTabs=!r||null==r.stretchTabs||r.stretchTabs}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const n=null==this._selectedIndex;if(!n){this.selectedTabChange.emit(this._createChangeEvent(t));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,s)=>r.isActive=s===t),n||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,r)=>{n.position=r-t,null!=this._selectedIndex&&0==n.position&&!n.origin&&(n.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const n=this._tabs.toArray();let r;for(let s=0;s<n.length;s++)if(n[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,r=n[s];break}!r&&n[t]&&Promise.resolve().then(()=>{n[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Aa(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const n=this._tabHeader;n&&(n.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const n=new $St;return n.index=t,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[t]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=qr(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,n,r){n.focusIndex=r,t.disabled||(this.selectedIndex=r)}_getTabIndex(t){return t===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(t,n){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=n)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(Fn),mt(HSt,8),mt(Hr,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-tab-group"]],contentQueries:function(n,r,s){if(1&n&&Pn(s,zy,5),2&n){let o;Ge(o=He())&&(r._allTabs=o)}},viewQuery:function(n,r){if(1&n&&(Pi(CSt,5),Pi(SSt,5)),2&n){let s;Ge(s=He())&&(r._tabBodyWrapper=s.first),Ge(s=He())&&(r._tabHeader=s.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(n,r){2&n&&(Wl("mat-"+(r.color||"primary")),Ps("--mat-tab-animation-duration",r.animationDuration),Si("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[$t.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",si],stretchTabs:[$t.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",si],dynamicHeight:[$t.HasDecoratorInputTransform,"dynamicHeight","dynamicHeight",si],selectedIndex:[$t.HasDecoratorInputTransform,"selectedIndex","selectedIndex",Jr],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[$t.HasDecoratorInputTransform,"contentTabIndex","contentTabIndex",Jr],disablePagination:[$t.HasDecoratorInputTransform,"disablePagination","disablePagination",si],disableRipple:[$t.HasDecoratorInputTransform,"disableRipple","disableRipple",si],preserveContent:[$t.HasDecoratorInputTransform,"preserveContent","preserveContent",si],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[yi([{provide:XW,useExisting:e}]),vn,Wi],ngContentSelectors:UR,decls:9,vars:6,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","ngClass","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","ngClass","content","position","origin","animationDuration","preserveContent"]],template:function(n,r){if(1&n){const s=ye();er(),q(0,"mat-tab-header",3,0),zt("indexFocused",function(l){return Gt(s),Ht(r._focusChanged(l))})("selectFocusedIndex",function(l){return Gt(s),Ht(r.selectedIndex=l)}),L_(2,MSt,8,16,"div",4,O_),et(),jt(4,ISt,1,0),q(5,"div",5,1),L_(7,kSt,1,12,"mat-tab-body",6,O_),et()}2&n&&(xt("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),ot(2),N_(r._tabs),ot(2),En(4,r._isServer?4:-1),ot(),Si("_mat-animation-noopable","NoopAnimations"===r._animationMode),ot(2),N_(r._tabs))},dependencies:[GSt,$W,o1t,Ac,ru,lu,KW],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return e})();class $St{}let QSt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[nn,nn]})}return e})();var gd=It(2578);class KSt{constructor(i,t){this._document=t;const n=this._textarea=this._document.createElement("textarea"),r=n.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",n.setAttribute("aria-hidden","true"),n.value=i,n.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(n)}copy(){const i=this._textarea;let t=!1;try{if(i){const n=this._document.activeElement;i.select(),i.setSelectionRange(0,i.value.length),t=this._document.execCommand("copy"),n&&n.focus()}}catch{}return t}destroy(){const i=this._textarea;i&&(i.remove(),this._textarea=void 0)}}let GR=(()=>{class e{constructor(t){this._document=t}copy(t){const n=this.beginCopy(t),r=n.copy();return n.destroy(),r}beginCopy(t){return new KSt(t,this._document)}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Gi))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ZSt=new se("HighlightJs-Config");let HC=(()=>{class e{constructor(t,n,r,s,o){this.el=t,this.ngModel=n,this.doc=r,this.ngZone=o,this.lang="html",this.mode="simple",Object.assign(this,s)}escapeHTML(t){return(t||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}init(){this.ngZone.runOutsideAngular(()=>{this.destroy();const t=this.el.nativeElement,n=this.code||""+t.innerHTML.trim();if(this.codeEl=this.doc.createElement("default"===this.mode?"div":"pre"),null==this.codeEl)return;const r="simple"===this.mode;r?(this.lang&&(this.codeEl.className=this.lang),this.parentEl=t.parentNode,this.parentEl.insertBefore(this.codeEl,t.nextSibling)):(this.parentEl=t,this.parentEl.innerHTML="",this.parentEl.appendChild(this.codeEl)),this.codeEl.innerHTML=n,hljs.configure({...this.options}),r?hljs.highlightElement(this.codeEl):this.codeEl.querySelectorAll("pre code").forEach(s=>{hljs.highlightElement(s)})})}destroy(){this.codeEl&&this.parentEl&&(this.parentEl.removeChild(this.codeEl),this.codeEl=void 0)}ngAfterViewInit(){this.init(),this.ngModel?this.modelValue$=this.ngModel.valueChanges?.subscribe(t=>{this.code=this.escapeHTML(t),this.init()}):this.initMutation()}ngOnDestroy(){this.destroy(),this.destroyMutation(),this.modelValue$&&this.modelValue$.unsubscribe()}initMutation(){typeof MutationObserver>"u"||this.ngZone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.init.bind(this)),this.observer.observe(this.el.nativeElement,{characterData:!0,childList:!0,subtree:!0})})}destroyMutation(){this.observer&&this.observer.disconnect()}}return e.\u0275fac=function(t){return new(t||e)(mt(oi),mt(ql,8),mt(Gi),mt(ZSt,8),mt(di))},e.\u0275dir=me({type:e,selectors:[["","highlight-js",""]],hostVars:2,hostBindings:function(t,n){2&t&&Ps("display","simple"===n.mode?"none":null)},inputs:{options:"options",lang:"lang",code:"code",mode:"mode"},exportAs:["highlightJs"],standalone:!0}),e})(),JSt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=zi({type:e}),e.\u0275inj=Bi({imports:[VR]}),e})();const qSt=["trigger"],tEt=["panel"],eEt=[[["mat-select-trigger"]],"*"],iEt=["mat-select-trigger","*"];function nEt(e,i){if(1&e&&(q(0,"span",4),ut(1),et()),2&e){const t=Ct();ot(),qe(t.placeholder)}}function rEt(e,i){1&e&&Ti(0)}function sEt(e,i){if(1&e&&(q(0,"span",11),ut(1),et()),2&e){const t=Ct(2);ot(),qe(t.triggerValue)}}function aEt(e,i){if(1&e&&(q(0,"span",10),jt(1,rEt,1,0)(2,sEt,2,1),et()),2&e){const t=Ct();ot(),En(1,t.customTrigger?1:2)}}function oEt(e,i){if(1&e){const t=ye();q(0,"div",12,1),zt("@transformPanel.done",function(r){return Gt(t),Ht(Ct()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return Gt(t),Ht(Ct()._handleKeydown(r))}),Ti(2,1),et()}if(2&e){const t=Ct();(function O8(e,i,t){Cc(fl,id,dg(Se(),e,i,t),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),xt("ngClass",t.panelClass)("@transformPanel","showing"),Ai("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const lEt={transformPanelWrap:yr("transformPanelWrap",[gn("* => void",sC("@transformPanel",[rC()],{optional:!0}))]),transformPanel:yr("transformPanel",[Ln("void",ai({opacity:0,transform:"scale(1, 0.8)"})),gn("void => showing",mn("120ms cubic-bezier(0, 0, 0.2, 1)",ai({opacity:1,transform:"scale(1, 1)"}))),gn("* => void",mn("100ms linear",ai({opacity:0})))])};let ZW=0;const JW=new se("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const e=xe(Ts);return()=>e.scrollStrategies.reposition()}}),dEt=new se("MAT_SELECT_CONFIG"),uEt={provide:JW,deps:[Ts],useFactory:function cEt(e){return()=>e.scrollStrategies.reposition()}},hEt=new se("MatSelectTrigger");class fEt{constructor(i,t){this.source=i,this.value=t}}let lv=(()=>{class e{_scrollOptionIntoView(t){const n=this.options.toArray()[t];if(n){const r=this.panel.nativeElement,s=PH(t,this.options,this.optionGroups),o=n._getHostElement();r.scrollTop=0===t&&1===s?0:FH(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new fEt(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(fd.required)??!1}set required(t){this._required=t,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=t}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,n,r,s,o,l,w,S,M,P,O,N,U,j){this._viewportRuler=t,this._changeDetectorRef=n,this._elementRef=o,this._dir=l,this._parentFormField=M,this.ngControl=P,this._liveAnnouncer=U,this._defaultOptions=j,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(W,Z)=>W===Z,this._uid="mat-select-"+ZW++,this._triggerAriaLabelledBy=null,this._destroy=new Ne,this.stateChanges=new Ne,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+ZW++,this._panelDoneAnimatingStream=new Ne,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new Ne,this.optionSelectionChanges=Dg(()=>{const W=this.options;return W?W.changes.pipe(Aa(W),Ls(()=>qr(...W.map(Z=>Z.onSelectionChange)))):this._initialized.pipe(Ls(()=>this.optionSelectionChanges))}),this.openedChange=new Fe,this._openedStream=this.openedChange.pipe(On(W=>W),Ri(()=>{})),this._closedStream=this.openedChange.pipe(On(W=>!W),Ri(()=>{})),this.selectionChange=new Fe,this.valueChange=new Fe,this._trackedModal=null,this._skipPredicate=W=>!this.panelOpen&&W.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=j?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=j.typeaheadDebounceInterval),this._errorStateTracker=new Hk(s,P,S,w,this.stateChanges),this._scrollStrategyFactory=N,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}ngOnInit(){this._selectionModel=new wk(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(nu(),ji(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(ji(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(ji(this._destroy)).subscribe(t=>{t.added.forEach(n=>n.select()),t.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Aa(null),ji(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),n=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(void 0!==this._previousControl&&null!==n.disabled&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const n=`${this.id}-panel`;this._trackedModal&&Yg(this._trackedModal,"aria-owns",n),YT(t,"aria-owns",n),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(Yg(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const n=t.keyCode,r=40===n||38===n||37===n||39===n,s=13===n||32===n,o=this._keyManager;if(!o.isTyping()&&s&&!ao(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const l=this.selected;o.onKeydown(t);const w=this.selected;w&&l!==w&&this._liveAnnouncer.announce(w.viewValue,1e4)}}_handleOpenKeydown(t){const n=this._keyManager,r=t.keyCode,s=40===r||38===r,o=n.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(o||13!==r&&32!==r||!n.activeItem||ao(t))if(!o&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const l=this.options.some(w=>!w.disabled&&!w.selected);this.options.forEach(w=>{w.disabled||(l?w.select():w.deselect())})}else{const l=n.activeItemIndex;n.onKeydown(t),this._multiple&&s&&t.shiftKey&&n.activeItem&&n.activeItemIndex!==l&&n.activeItem._selectViaInteraction()}else t.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(or(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{const n=this._selectOptionByValue(t);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_getOverlayWidth(t){return"auto"===this.panelWidth?(t instanceof rR?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new fH(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=qr(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(ji(t)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),qr(...this.options.map(n=>n._stateChanges)).pipe(ji(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,n){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),n&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),n&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,t):t.indexOf(n)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let n;n=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){t=n;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let n=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#t=this.\u0275fac=function(n){return new(n||e)(mt(cu),mt(Fn),mt(di),mt(SH),mt(oi),mt(Ha,8),mt(am,8),mt(pd,8),mt(zC,8),mt(md,10),vl("tabindex"),mt(JW),mt(xH),mt(dEt,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-select"]],contentQueries:function(n,r,s){if(1&n&&(Pn(s,hEt,5),Pn(s,su,5),Pn(s,jk,5)),2&n){let o;Ge(o=He())&&(r.customTrigger=o.first),Ge(o=He())&&(r.options=o),Ge(o=He())&&(r.optionGroups=o)}},viewQuery:function(n,r){if(1&n&&(Pi(qSt,5),Pi(tEt,5),Pi(n7,5)),2&n){let s;Ge(s=He())&&(r.trigger=s.first),Ge(s=He())&&(r.panel=s.first),Ge(s=He())&&(r._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,r){1&n&&zt("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&n&&(Ai("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),Si("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[$t.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[$t.HasDecoratorInputTransform,"disabled","disabled",si],disableRipple:[$t.HasDecoratorInputTransform,"disableRipple","disableRipple",si],tabIndex:[$t.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:Jr(t)],hideSingleSelectionIndicator:[$t.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",si],placeholder:"placeholder",required:[$t.HasDecoratorInputTransform,"required","required",si],multiple:[$t.HasDecoratorInputTransform,"multiple","multiple",si],disableOptionCentering:[$t.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",si],compareWith:"compareWith",value:"value",ariaLabel:[$t.None,"aria-label","ariaLabel"],ariaLabelledby:[$t.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[$t.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",Jr],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[yi([{provide:UC,useExisting:e},{provide:Wk,useExisting:e}]),vn,ar,Wi],ngContentSelectors:iEt,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,r){if(1&n){const s=ye();er(eEt),q(0,"div",2,0),zt("click",function(){return Gt(s),Ht(r.open())}),q(3,"div",3),jt(4,nEt,2,1,"span",4)(5,aEt,3,1),et(),q(6,"div",5)(7,"div",6),gl(),q(8,"svg",7),Te(9,"path",8),et()()()(),jt(10,oEt,3,9,"ng-template",9),zt("backdropClick",function(){return Gt(s),Ht(r.close())})("attach",function(){return Gt(s),Ht(r._onAttached())})("detach",function(){return Gt(s),Ht(r.close())})}if(2&n){const s=en(1);ot(3),Ai("id",r._valueId),ot(),En(4,r.empty?4:5),ot(6),xt("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[rR,n7,Ac],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[lEt.transformPanel]},changeDetection:0})}return e})(),qW=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({providers:[uEt],imports:[sd,tm,iC,nn,du,GC,iC,nn]})}return e})();const mEt=["tooltip"],ej=new se("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const e=xe(Ts);return()=>e.scrollStrategies.reposition({scrollThrottle:20})}}),gEt={provide:ej,deps:[Ts],useFactory:function pEt(e){return()=>e.scrollStrategies.reposition({scrollThrottle:20})}},xEt=new se("mat-tooltip-default-options",{providedIn:"root",factory:function vEt(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),ij="tooltip-panel",nj=kc({passive:!0});let bu=(()=>{class e{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=ha(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ha(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Sh(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Sh(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,n,r,s,o,l,w,S,M,P,O,N){this._overlay=t,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=o,this._platform=l,this._ariaDescriber=w,this._focusMonitor=S,this._dir=P,this._defaultOptions=O,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=TEt,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ne,this._scrollStrategy=M,this._document=N,O&&(this._showDelay=O.showDelay,this._hideDelay=O.hideDelay,O.position&&(this.position=O.position),O.positionAtOrigin&&(this.positionAtOrigin=O.positionAtOrigin),O.touchGestures&&(this.touchGestures=O.touchGestures)),P.change.pipe(ji(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(ji(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{t.removeEventListener(n,r,nj)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(n);this._detach(),this._portal=this._portal||new Zg(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(ji(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(t)}hide(t=this.hideDelay){const n=this._tooltipInstance;n&&(n.isVisible()?n.hide(t):(n._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof oi)return this._overlayRef;this._detach()}const n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return r.positionChanges.pipe(ji(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${ij}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(ji(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(ji(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(ji(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!ao(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const n=t.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();n.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n||"below"==n?r={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&t||"right"==n&&!t?r={originX:"start",originY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(r={originX:"end",originY:"center"});const{x:s,y:o}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:o}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n?r={overlayX:"center",overlayY:"bottom"}:"below"==n?r={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&t||"right"==n&&!t?r={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:o}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(or(1),ji(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,n){return"above"===this.position||"below"===this.position?"top"===n?n="bottom":"bottom"===n&&(n="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:n}}_updateCurrentPositionClass(t){const{overlayY:n,originX:r,originY:s}=t;let o;if(o="center"===n?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===n&&"top"===s?"above":"below",o!==this._currentPosition){const l=this._overlayRef;if(l){const w=`${this._cssClassPrefix}-${ij}-`;l.removePanelClass(w+this._currentPosition),l.addPanelClass(w+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let n;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(n=t),this.show(void 0,n)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const n=t.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",n=>{const r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const n=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",n],["touchcancel",n])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,nj)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const n=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const n=this._elementRef.nativeElement,r=n.style;("on"===t||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ts),mt(oi),mt(ky),mt(Lr),mt(di),mt(lr),mt(dH),mt(Kl),mt(ej),mt(Ha),mt(xEt,8),mt(Gi))};static#e=this.\u0275dir=me({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){2&n&&Si("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[$t.None,"matTooltipPosition","position"],positionAtOrigin:[$t.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[$t.None,"matTooltipDisabled","disabled"],showDelay:[$t.None,"matTooltipShowDelay","showDelay"],hideDelay:[$t.None,"matTooltipHideDelay","hideDelay"],touchGestures:[$t.None,"matTooltipTouchGestures","touchGestures"],message:[$t.None,"matTooltip","message"],tooltipClass:[$t.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return e})(),TEt=(()=>{class e{constructor(t,n,r){this._changeDetectorRef=t,this._elementRef=n,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Ne,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===r}show(t){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const n=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(n.classList.remove(t?s:r),n.classList.add(t?r:s),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const o=getComputedStyle(n);("0s"===o.getPropertyValue("animation-duration")||"none"===o.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Fn),mt(oi),mt(Hr,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(1&n&&Pi(mEt,7),2&n){let s;Ge(s=He())&&(r._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(n,r){1&n&&zt("mouseleave",function(o){return r._handleMouseLeave(o)}),2&n&&Ps("zoom",r.isVisible()?1:null)},standalone:!0,features:[Wi],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(n,r){if(1&n){const s=ye();q(0,"div",1,0),zt("animationend",function(l){return Gt(s),Ht(r._handleAnimationEnd(l))}),q(2,"div",2),ut(3),et()()}2&n&&(Si("mdc-tooltip--multiline",r._isMultiline),xt("ngClass",r.tooltipClass),ot(3),qe(r.message))},dependencies:[Ac],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return e})(),rj=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({providers:[gEt],imports:[_H,sd,tm,nn,nn,du]})}return e})();const CEt=["switch"],SEt=["*"];function EEt(e,i){1&e&&(q(0,"div",10),gl(),q(1,"svg",12),Te(2,"path",13),et(),q(3,"svg",14),Te(4,"path",15),et()())}const AEt=new se("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),DEt={provide:pa,useExisting:kn(()=>HR),multi:!0};class sj{constructor(i,t){this.source=i,this.checked=t}}let MEt=0,HR=(()=>{class e{_createChangeEvent(t){return new sj(this,t)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,r,s,o,l){this._elementRef=t,this._focusMonitor=n,this._changeDetectorRef=r,this.defaults=o,this._onChange=w=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new Fe,this.toggleChange=new Fe,this.tabIndex=parseInt(s)||0,this.color=o.color||"accent",this._noopAnimations="NoopAnimations"===l,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++MEt,this.hideIcon=o.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(t){t.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}validate(t){return this.required&&!0!==t.value?{required:!0}:null}registerOnValidatorChange(t){this._validatorOnChange=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new sj(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(Kl),mt(Fn),vl("tabindex"),mt(AEt),mt(Hr,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(n,r){if(1&n&&Pi(CEt,5),2&n){let s;Ge(s=He())&&(r._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(n,r){2&n&&(nd("id",r.id),Ai("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Wl(r.color?"mat-"+r.color:""),Si("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[$t.None,"aria-label","ariaLabel"],ariaLabelledby:[$t.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[$t.None,"aria-describedby","ariaDescribedby"],required:[$t.HasDecoratorInputTransform,"required","required",si],color:"color",disabled:[$t.HasDecoratorInputTransform,"disabled","disabled",si],disableRipple:[$t.HasDecoratorInputTransform,"disableRipple","disableRipple",si],tabIndex:[$t.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:Jr(t)],checked:[$t.HasDecoratorInputTransform,"checked","checked",si],hideIcon:[$t.HasDecoratorInputTransform,"hideIcon","hideIcon",si]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[yi([DEt,{provide:Js,useExisting:e,multi:!0}]),vn,ar,Wi],ngContentSelectors:SEt,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(n,r){if(1&n){const s=ye();er(),q(0,"div",1)(1,"button",2,0),zt("click",function(){return Gt(s),Ht(r._handleClick())}),Te(3,"div",3),q(4,"div",4)(5,"div",5)(6,"div",6),Te(7,"div",7),et(),q(8,"div",8),Te(9,"div",9),et(),jt(10,EEt,5,0,"div",10),et()()(),q(11,"label",11),zt("click",function(l){return Gt(s),Ht(l.stopPropagation())}),Ti(12),et()()}if(2&n){const s=en(2);xt("labelPosition",r.labelPosition),ot(),Si("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),xt("tabIndex",r.disabled?-1:r.tabIndex)("disabled",r.disabled),Ai("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),ot(8),xt("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),ot(),En(10,r.hideIcon?-1:10),ot(),xt("for",r.buttonId),Ai("id",r._labelId)}},dependencies:[ru,$k],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0})}return e})(),REt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[HR,nn,nn]})}return e})();function PEt(e,i){if(1&e){const t=ye();q(0,"button",14),zt("click",function(){Gt(t);const r=Ct().index;return Ht(Ct().removeReaction(r))}),q(1,"mat-icon"),ut(2,"close"),et()()}}function FEt(e,i){if(1&e){const t=ye();q(0,"mat-option",15),zt("click",function(){const r=Gt(t).$implicit,s=Ct().$implicit;return Ht(Ct().reactionSeveritySelected(s,r))}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),qe(t.display)}}function OEt(e,i){if(1&e){const t=ye();q(0,"div",4)(1,"div",5),jt(2,PEt,3,0,"button",6),et(),q(3,"div",7)(4,"div",8)(5,"app-autocomplete-binding",9),zt("selectionChange",function(r){const s=Gt(t).$implicit;return Ht(Ct().reactionManifestationSelected(s,r))}),et()(),q(6,"button",10)(7,"mat-icon"),ut(8,"info"),et()(),q(9,"mat-menu",null,0)(11,"span",11),zt("click",function(r){return Gt(t),Ht(r.stopPropagation())}),q(12,"p"),ut(13,"Terminology binding:"),et(),q(14,"pre"),ut(15),et()()()(),q(16,"mat-form-field",12)(17,"mat-label"),ut(18,"Reaction Severity"),et(),q(19,"mat-select"),jt(20,FEt,2,2,"mat-option",13),et()(),q(21,"div",7)(22,"div",8)(23,"app-autocomplete-binding",9),zt("selectionChange",function(r){const s=Gt(t).$implicit;return Ht(Ct().reactionRouteSelected(s,r))}),et()(),q(24,"button",10)(25,"mat-icon"),ut(26,"info"),et()(),q(27,"mat-menu",null,1)(29,"span",11),zt("click",function(r){return Gt(t),Ht(r.stopPropagation())}),q(30,"p"),ut(31,"Terminology binding:"),et(),q(32,"pre"),ut(33),et()()()()()}if(2&e){const t=i.index,n=en(10),r=en(28),s=Ct();ot(2),xt("ngIf",t>0),ot(3),xt("binding",s.reactionManifestationBinding),ot(),xt("matMenuTriggerFor",n),ot(5),xt("disableRipple",!0),ot(4),qe(s.reactionManifestationBinding.ecl),ot(5),xt("ngForOf",s.severityOptions),ot(3),xt("binding",s.routeBinding),ot(),xt("matMenuTriggerFor",r),ot(5),xt("disableRipple",!0),ot(4),qe(s.routeBinding.ecl)}}let LEt=(()=>{class e{constructor(){this.reactions=[],this.newManifestation=new Fe,this.severityOptions=[{code:"mild",display:"Mild",sctCode:"255604002",sctDisplay:"Mild (qualifier value)"},{code:"moderate",display:"Moderate",sctCode:"6736007",sctDisplay:"Moderate (qualifier value)"},{code:"severe",display:"Severe",sctCode:"24484000",sctDisplay:"Severe (qualifier value)"}],this.selectedSeverity={},this.reactionManifestationBinding={ecl:"<<404684003 |Clinical finding|",title:"Reaction Manifestation"},this.routeBinding={ecl:"<<284009009 |Route of administration value|",title:"Exposure Route"},this.reaction={},this.onChangeCallback=()=>{},this.onTouchedCallback=()=>{}}writeValue(t){void 0!==t&&(this.reactions=t)}setDisabledState(t){}addNewReaction(){this.reactions.push(this.reaction),this.reaction={},this.onChangeCallback(this.reactions)}removeReaction(t){this.reactions.splice(t,1),this.onChangeCallback(this.reactions)}reactionManifestationSelected(t,n){t.manifestation=n,this.newManifestation.emit(n),this.onChangeCallback(this.reactions)}reactionSeveritySelected(t,n){t.severity=n,this.onChangeCallback(this.reactions)}reactionRouteSelected(t,n){t.route=n,this.onChangeCallback(this.reactions)}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-allergies-allergy-list-reaction"]],inputs:{reactions:"reactions"},outputs:{newManifestation:"newManifestation"},features:[yi([{provide:pa,useExisting:kn(()=>e),multi:!0}])],decls:5,vars:1,consts:[["reactionPopoverMenu","matMenu"],["routePopoverMenu","matMenu"],["class","reaction",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary","matTooltip","Add reaction",3,"click"],[1,"reaction"],[1,"button-container"],["mat-icon-button","","color","primary","class","remove","matTooltip","Remove reaction",3,"click",4,"ngIf"],[1,"row-centered"],[1,"small-form-field"],[3,"selectionChange","binding"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click","disableRipple"],[1,"form-field"],[3,"value","click",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary","matTooltip","Remove reaction",1,"remove",3,"click"],[3,"click","value"]],template:function(n,r){1&n&&(jt(0,OEt,34,10,"div",2),q(1,"div")(2,"button",3),zt("click",function(){return r.addNewReaction()}),q(3,"mat-icon"),ut(4,"add"),et()()()),2&n&&xt("ngForOf",r.reactions)},dependencies:[ws,Fs,Bo,ma,El,Jl,uu,Dl,nl,su,lv,bu,av],styles:["#main-card[_ngcontent-%COMP%]{padding:10px;width:100%}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:flex-start}.row-centered[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center}.column[_ngcontent-%COMP%]{flex:1;margin:5px;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{width:100%}.smallest-form-field[_ngcontent-%COMP%]{width:60%;margin:5px}.small-form-field[_ngcontent-%COMP%]{width:90%;margin:5px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;padding:4px 8px;height:36px}.mat-mdc-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:0}.reaction[_ngcontent-%COMP%]{border-radius:10px;background-color:#a9bee9;padding:10px;margin-bottom:10px}#output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative}pre[_ngcontent-%COMP%] > code[_ngcontent-%COMP%]{width:45%;white-space:pre-wrap;word-wrap:break-word}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%}"]})}return e})();const NEt=()=>({});function BEt(e,i){if(1&e){const t=ye();q(0,"mat-option",31),zt("click",function(){return Gt(t),Ht(Ct().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),qe(t.display)}}function VEt(e,i){if(1&e){const t=ye();q(0,"mat-option",31),zt("click",function(){return Gt(t),Ht(Ct().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),qe(t.display)}}function UEt(e,i){if(1&e){const t=ye();q(0,"mat-option",31),zt("click",function(){return Gt(t),Ht(Ct().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),qe(t.display)}}function zEt(e,i){if(1&e){const t=ye();q(0,"app-autocomplete-binding",11),zt("selectionChange",function(r){return Gt(t),Ht(Ct().substanceSelected(r,!0))}),et()}if(2&e){const t=Ct();xt("binding",t.substanceBinding)("term",t.selectedSubstanceTerm)}}function GEt(e,i){if(1&e){const t=ye();q(0,"app-autocomplete-binding",11),zt("selectionChange",function(r){return Gt(t),Ht(Ct().substanceSelected(r))}),et()}if(2&e){const t=Ct();xt("binding",t.refinedSubstanceBinding)("term",t.selectedSubstanceTerm)}}function HEt(e,i){if(1&e&&(q(0,"pre"),ut(1),et()),2&e){const t=Ct();ot(),qe(t.substanceBinding.ecl)}}function WEt(e,i){if(1&e&&(q(0,"pre"),ut(1),et()),2&e){const t=Ct();ot(),qe(t.refinedSubstanceBinding.ecl)}}function jEt(e,i){if(1&e){const t=ye();q(0,"mat-option",31),zt("click",function(){return Gt(t),Ht(Ct().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),qe(t.display)}}function XEt(e,i){if(1&e){const t=ye();q(0,"mat-option",31),zt("click",function(){return Gt(t),Ht(Ct().updateAllergyStr())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),qe(t.display)}}let YEt=(()=>{class e{constructor(t,n,r){this.terminologyService=t,this.clipboard=n,this._snackBar=r,this.newProblem=new Fe,this.clinicalStatusOptions=[{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical",code:"active",display:"Active"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical",code:"inactive",display:"Inactive"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical",code:"resolved",display:"Resolved"}],this.selectedClinicalStatus=this.clinicalStatusOptions[0],this.verificationStatusOptions=[{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"unconfirmed",display:"Unconfirmed"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"presumed",display:"Presumed"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"confirmed",display:"Confirmed"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"refuted",display:"Refuted"},{system:"http://terminology.hl7.org/CodeSystem/allergyintolerance-verification",code:"entered-in-error",display:"Entered in Error"}],this.selectedVerificationStatus=this.verificationStatusOptions[0],this.intoleranceTypeOptions=[{system:"http://hl7.org/fhir/allergy-intolerance-type",code:"609433001",display:"Hypersensitivity disposition (finding)",fhirCode:"allergy",fhirDisplay:"Allergy"},{system:"http://hl7.org/fhir/allergy-intolerance-type",code:"782197009",display:"Intolerance to substance (finding)",fhirCode:"intolerance",fhirDisplay:"Intolerance"}],this.selectedIntoleranceType=null,this.intoleranceCategoryOptions=[{code:"food",display:"Food"},{code:"medication",display:"Medication"},{code:"environment",display:"Environment"},{code:"biologic",display:"Biologic"}],this.selectedIntoleranceCategories=[],this.selectedIntoleranceCategoriesControl=new Ns(this.selectedIntoleranceCategories),this.criticalityOptions=[{code:"low",display:"Low Risk"},{code:"high",display:"High Risk"},{code:"unable-to-assess",display:"Unable to Assess Risk"}],this.selectedCriticality=null,this.severityOptions=[{code:"mild",display:"Mild",sctCode:"255604002",sctDisplay:"Mild (qualifier value)"},{code:"moderate",display:"Moderate",sctCode:"6736007",sctDisplay:"Moderate (qualifier value)"},{code:"severe",display:"Severe",sctCode:"24484000",sctDisplay:"Severe (qualifier value)"}],this.selectedSeverity={},this.codeBinding={ecl:"<<418038007 |Propensity to adverse reactions to substance| OR <<420134006 |Propensity to adverse reaction (finding)|",title:"Allergy/Intolerance by propensity"},this.selectedCode=null,this.selectedCodeTerm="",this.recordPropensity=!1,this.substanceBinding={ecl:"<<105590001 | Substance (substance) | OR <<373873005 | Pharmaceutical / biologic product (product) |",title:"Allergy/Intolerance substance or product"},this.refinedSubstanceBinding={ecl:"<<105590001 | Substance (substance) |",title:"Allergy/Intolerance substance based on propensity"},this.selectedSubstanceTerm="",this.selectedSubstance=null,this.selectedReactions=[{suibstance:{},manifestation:{},severity:{},route:{}}],this.reactionManifestationBinding={ecl:"<<404684003 |Clinical finding|",title:"Reaction Manifestation"},this.selectedReactionManifestation=null,this.selectedReactionManifestationTerm="",this.routeBinding={ecl:"<<284009009 |Route of administration value|",title:"Exposure Route"},this.selectedRoute=null,this.selectedRouteTerm="",this.outputAllergyBase={resourceType:"AllergyIntolerance",id:"medication",text:{},clinicalStatus:{coding:[]},verificationStatus:{coding:[]},type:"",category:[],criticality:"high",code:{coding:[]},reaction:[{substance:[{coding:[]}],manifestation:[{coding:[]}],exposureRoute:{coding:[]},severity:""}],patient:{reference:"Patient/example"},recordedDate:"2010-03-01",participant:[{function:{coding:[{system:"http://terminology.hl7.org/CodeSystem/provenance-participant-type",code:"author",display:"Author"}]},actor:{reference:"Practitioner/example"}}]},this.outputAllergy=JSON.parse(JSON.stringify(this.outputAllergyBase)),this.outputAllergyStr=""}ngOnInit(){this.updateAllergyStr()}onReactionsChange(t){this.updateAllergyStr()}clear(){this.selectedClinicalStatus=this.clinicalStatusOptions[0],this.selectedVerificationStatus=this.verificationStatusOptions[0],this.selectedIntoleranceType=null,this.selectedIntoleranceCategories=[],this.selectedIntoleranceCategoriesControl=new Ns(this.selectedIntoleranceCategories),this.selectedCriticality=null,this.selectedSeverity={},this.selectedCode=null,this.selectedCodeTerm="",this.recordPropensity=!1,this.selectedSubstanceTerm="",this.selectedReactionManifestation=null,this.selectedReactionManifestationTerm=" ",this.selectedRoute=null,this.selectedRouteTerm=" ",this.selectedReactions=[{suibstance:{},manifestation:{},severity:{},route:{}}],this.outputAllergy=JSON.parse(JSON.stringify(this.outputAllergyBase)),this.updateAllergyStr(),setTimeout(()=>{this.selectedReactionManifestationTerm="",this.selectedRouteTerm=""},100)}updateAllergyStr(){this.outputAllergy.clinicalStatus.coding=[this.selectedClinicalStatus],this.outputAllergy.verificationStatus.coding=[this.selectedVerificationStatus],this.outputAllergy.type=this.selectedIntoleranceType?this.selectedIntoleranceType.fhirCode:"",this.outputAllergy.category=this.selectedIntoleranceCategories.length?this.selectedIntoleranceCategories.map(t=>t.display):[],this.outputAllergy.criticality=this.selectedCriticality?.code?[this.selectedCriticality.code]:{},this.outputAllergy.reaction=[],this.selectedReactions.forEach(t=>{t.manifestation.code&&(t.manifestation.system="http://snomed.info/sct"),t.route.code&&(t.route.system="http://snomed.info/sct"),this.outputAllergy.reaction.push({substance:[{coding:[this.selectedSubstance]}],manifestation:[{coding:t.manifestation?[t.manifestation]:[{}]}],exposureRoute:{coding:t.route?[t.route]:[{}]},severity:t.severity?t.severity.code:""})}),setTimeout(()=>{this.outputAllergyStr=JSON.stringify(this.outputAllergy,null,2)},100)}substanceSelected(t,n){var r=this;return Mt(function*(){n&&(r.selectedCodeTerm=""),r.selectedSubstance=t,r.selectedIntoleranceCategories=[],t=Object.assign({system:"http://snomed.info/sct"},t),r.recordPropensity||(r.outputAllergy.code.coding=[t]),r.outputAllergy.reaction[0].substance[0].coding=[t],(yield r.getSubstanceCategories(t))?.expansion?.contains?.forEach(o=>{"762766007"==o.code?r.selectedIntoleranceCategories.push(r.intoleranceCategoryOptions[0]):"115668003"==o.code?r.selectedIntoleranceCategories.push(r.intoleranceCategoryOptions[3]):"410942007"==o.code?r.selectedIntoleranceCategories.push(r.intoleranceCategoryOptions[1]):"57795002"==o.code&&r.selectedIntoleranceCategories.push(r.intoleranceCategoryOptions[2])}),r.selectedIntoleranceCategoriesControl.setValue(r.selectedIntoleranceCategories),r.updateAllergyStr()})()}propensityRecordChanged(){this.outputAllergy.code.coding=[],this.selectedCode&&this.codeSelected(this.selectedCode)}codeSelected(t){var n=this;return Mt(function*(){if(t=Object.assign({system:"http://snomed.info/sct"},t)){n.selectedCodeTerm=t.display,n.selectedCode=t,n.recordPropensity&&(n.outputAllergy.code.coding=[t]);let r=yield n.getTypes(t);if(r.expansion?.contains){const o=r.expansion?.contains[0];n.selectedIntoleranceType=n.intoleranceTypeOptions.find(l=>l.code===o.code)}let s=yield n.getAllergySubstance(t);if(s.expansion.contains||(s=yield n.getIntoleranceSubstance(t)),s.expansion?.contains){const o=s.expansion?.contains[0];n.refinedSubstanceBinding.ecl=`<<${o.code} | ${o.display} |`,n.substanceSelected(o),n.selectedSubstanceTerm=o.display}else n.refinedSubstanceBinding.ecl="<<105590001 | Substance (substance) |"}})()}getIntoleranceSubstance(t){var n=this;return Mt(function*(){return Da((yield n.terminologyService.expandValueSet(`${t.code} |${t.display}| . 47429007 |Associated with (attribute)|`,"")).pipe(Ri(s=>s)))})()}getAllergySubstance(t){var n=this;return Mt(function*(){return Da((yield n.terminologyService.expandValueSet(`${t.code} |${t.display}| . 246075003 |Causative agent (attribute)|`,"")).pipe(Ri(s=>s)))})()}getSubstanceCategories(t){var n=this;return Mt(function*(){return Da((yield n.terminologyService.expandValueSet(`> ${t.code} |${t.display}| AND (762766007 |Edible substance| OR 115668003 |Biological substance (substance)| OR 410942007 |Drug or medicament (substance)| OR 57795002 |Chemical element|)`,"")).pipe(Ri(s=>s)))})()}getTypes(t){var n=this;return Mt(function*(){return Da((yield n.terminologyService.expandValueSet(`> ${t.code} |${t.display}| AND (609433001 |Hypersensitivity disposition| OR 782197009 |Intolerance to substance|)`,"")).pipe(Ri(s=>s)))})()}saveFhirResource(){var t=new Blob([this.outputAllergyStr],{type:"text/plain;charset=utf-8"});(0,gd.saveAs)(t,"AllergyIntolerance.json")}copyToClipboard(t){this.clipboard.copy(t)}addToProblemsList(){if(this.selectedCode)this.newProblem.emit(this.selectedCode);else if(this.selectedSubstance&&this.selectedIntoleranceType){let t="";"609433001"===this.selectedIntoleranceType.code?t="Allergy to ":"782197009"===this.selectedIntoleranceType.code&&(t="Intolerance to "),t+=this.selectedSubstance.display,this.newProblem.emit({code:`${this.selectedIntoleranceType.code}:246075003=${this.selectedSubstance.code}`,display:t,substance:this.selectedSubstance})}else this._snackBar.openFromComponent(Rr,{duration:1e3,data:"Nothing to add to problem list",panelClass:["yellow-snackbar"]});this.clear()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fa),mt(GR),mt(Eh))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-allergies-allergy-list"]],outputs:{newProblem:"newProblem"},decls:105,vars:30,consts:[["substancePopoverMenu","matMenu"],["codePopoverMenu","matMenu"],["id","main-card"],[1,"row"],[1,"column"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/x/PaDICg","target","_blank"],["mat-flat-button","","color","accent","id","clear",3,"click"],[1,"row-centered"],[1,"smallest-form-field"],[3,"selectionChange","binding","term"],["mat-menu-item","",3,"click","disableRipple"],["matTooltip","Defines wether to use a propensity based model or a substance based model. Defines which one is recorded in the code element of the AllergyIntolerance resource.",3,"ngModelChange","click","ngModel"],[1,"form-field"],[3,"ngModelChange","ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[1,"small-form-field"],[3,"binding","term","selectionChange",4,"ngIf"],[4,"ngIf"],[3,"formControl","multiple"],[3,"ngModelChange","newManifestation","ngModel"],["mat-flat-button","","color","accent",3,"click"],["href","https://hl7.org/FHIR/allergyintolerance.html","target","_blank"],["id","output"],["id","save"],["mat-icon-button","","matTooltip","Download FHIR Resource",3,"click"],["fontIcon","cloud_download"],["mat-icon-button","","matTooltip","Copy FHIR Resource",3,"click"],["fontIcon","content_copy"],["highlight-js","","id","output","wrap","soft",3,"options","lang","innerHTML"],[3,"click","value"]],template:function(n,r){if(1&n){const s=ye();q(0,"mat-card",2)(1,"div",3)(2,"div",4)(3,"h4"),ut(4,"Allergy Intolerance Form "),q(5,"button",5)(6,"mat-icon"),ut(7,"info"),et()(),q(8,"mat-menu",null,0)(10,"span",6),zt("click",function(l){return Gt(s),Ht(l.stopPropagation())}),q(11,"h4"),ut(12,"Allergy list"),et(),q(13,"p"),ut(14,"Allergy or intolerance can be recorded in a specific section (e.g., \u201cDrug Allergy and Intolerance\u201d) of the EHR, which records the causative agent together with other details, including type (allergy, non-allergic hypersensitivity, intolerance), certainty, manifestation, and severity. This corresponds to the FHIR substance based AllergyIntolerance resource data model."),et(),q(15,"p"),ut(16,"In terms of documenting sensitivity type in the allergy list there is the option to map to 609433001 |Hypersensitivity disposition which in SNOMED CT represents both immune-mediated and non-immune mediated hypersensitivity or to map to 609328004 |Allergic disposition (finding)|which is common clinical parlance for what many clinicians would mean by allergic or non-allergic hypersensitivity. In addition, as recommended in the FHIR documentation if one is unclear as to whether a condition represents hypersensitivity or intolerance, one can just omit the type element from the resource."),et(),q(17,"p"),ut(18,"If SNOMED CT concepts are used to document the causative agent, it is preferable to use concepts from the Substance rather than Pharmaceutical/biologic product hierarchy since this will facilitate the downstream use of data, e.g., clinical decision support, data exchange."),et(),q(19,"p"),ut(20,"Almost all allergy and intolerance finding concepts are modeled using substance concepts in SNOMED CT. The SNOMED CT substance hierarchy has grouper concepts that are based on structure (e.g., Macrolide) or disposition (e.g., substance with histamine receptor antagonist mechanism of action). Clinical decision support systems can utilize these grouper concepts to access information at the desired level of granularity. Clinicians can also record a class of substance instead of a specific drug or substance (e.g., angiotensin II receptor antagonist). Note that substance grouper concepts based on therapeutic role (e.g., anticonvulsant) is not recommended for use because they are currently under review and may be retired in future."),et(),q(21,"p"),ut(22,"There are situations in which it is difficult to determine the specific substance as a true cause or most likely cause of a condition. This is the case for allergy/intolerance to a product containing multiple substances."),et(),q(23,"p"),ut(24,"Records of allergy to multiple substances or to multi-ingredient products should be recorded at the product level and updated when more specific information becomes available (e.g., positive sensitivity test to one specific ingredient of the mix)."),et(),q(25,"p"),ut(26,"For more information check the "),q(27,"a",7),ut(28,"Implementation Guide"),et(),ut(29," developed by the SNOMED International Allergy Clinical Reference Group."),et()()()(),q(30,"button",8),zt("click",function(){return Gt(s),Ht(r.clear())}),ut(31,"Clear"),et(),q(32,"div",9)(33,"div",10)(34,"app-autocomplete-binding",11),zt("selectionChange",function(l){return Gt(s),Ht(r.codeSelected(l))}),et()(),q(35,"button",5)(36,"mat-icon"),ut(37,"info"),et()(),q(38,"mat-menu",null,1)(40,"span",12),zt("click",function(l){return Gt(s),Ht(l.stopPropagation())}),q(41,"p"),ut(42,"Terminology binding:"),et(),q(43,"pre"),ut(44),et()()(),q(45,"mat-slide-toggle",13),Sa("ngModelChange",function(l){return Gt(s),Ga(r.recordPropensity,l)||(r.recordPropensity=l),Ht(l)}),zt("click",function(){return Gt(s),Ht(r.propensityRecordChanged())}),ut(46," Propensity based model "),et()(),q(47,"mat-form-field",14)(48,"mat-label"),ut(49,"Allergy Intolerance Type"),et(),q(50,"mat-select",15),Sa("ngModelChange",function(l){return Gt(s),Ga(r.selectedIntoleranceType,l)||(r.selectedIntoleranceType=l),Ht(l)}),jt(51,BEt,2,2,"mat-option",16),et()(),q(52,"div",9)(53,"mat-form-field",4)(54,"mat-label"),ut(55,"Clinical Status"),et(),q(56,"mat-select",15),Sa("ngModelChange",function(l){return Gt(s),Ga(r.selectedClinicalStatus,l)||(r.selectedClinicalStatus=l),Ht(l)}),jt(57,VEt,2,2,"mat-option",16),et()(),q(58,"mat-form-field",4)(59,"mat-label"),ut(60,"Verification Status"),et(),q(61,"mat-select",15),Sa("ngModelChange",function(l){return Gt(s),Ga(r.selectedVerificationStatus,l)||(r.selectedVerificationStatus=l),Ht(l)}),jt(62,UEt,2,2,"mat-option",16),et()()(),q(63,"div",9)(64,"div",17),jt(65,zEt,1,2,"app-autocomplete-binding",18)(66,GEt,1,2,"app-autocomplete-binding",18),et(),q(67,"button",5)(68,"mat-icon"),ut(69,"info"),et()(),q(70,"mat-menu",null,0)(72,"span",12),zt("click",function(l){return Gt(s),Ht(l.stopPropagation())}),q(73,"p"),ut(74,"Terminology binding:"),et(),jt(75,HEt,2,1,"pre",19)(76,WEt,2,1,"pre",19),et()()(),q(77,"div",9)(78,"mat-form-field",4)(79,"mat-label"),ut(80,"Substance Category"),et(),q(81,"mat-select",20),jt(82,jEt,2,2,"mat-option",16),et()(),q(83,"mat-form-field",4)(84,"mat-label"),ut(85,"Allergy Criticality"),et(),q(86,"mat-select",15),Sa("ngModelChange",function(l){return Gt(s),Ga(r.selectedCriticality,l)||(r.selectedCriticality=l),Ht(l)}),jt(87,XEt,2,2,"mat-option",16),et()()(),q(88,"app-allergies-allergy-list-reaction",21),Sa("ngModelChange",function(l){return Gt(s),Ga(r.selectedReactions,l)||(r.selectedReactions=l),Ht(l)}),zt("ngModelChange",function(l){return Gt(s),Ht(r.onReactionsChange(l))})("newManifestation",function(l){return Gt(s),Ht(r.newProblem.emit(l))}),et(),q(89,"button",22),zt("click",function(){return Gt(s),Ht(r.addToProblemsList())}),ut(90,"Save"),et()(),q(91,"div",4)(92,"h4"),ut(93,"AllergyIntolerance HL7 FHIR Resource ("),q(94,"a",23),ut(95,"link"),et(),ut(96,")"),et(),q(97,"div",24)(98,"div",25)(99,"button",26),zt("click",function(){return Gt(s),Ht(r.saveFhirResource())}),Te(100,"mat-icon",27),et(),q(101,"button",28),zt("click",function(){return Gt(s),Ht(r.copyToClipboard(r.outputAllergyStr))}),Te(102,"mat-icon",29),et()(),q(103,"textarea",30),ut(104,"                "),et()()()()()}if(2&n){const s=en(9),o=en(39);ot(5),xt("matMenuTriggerFor",s),ot(5),xt("disableRipple",!0),ot(24),xt("binding",r.codeBinding)("term",r.selectedCodeTerm),ot(),xt("matMenuTriggerFor",o),ot(5),xt("disableRipple",!0),ot(4),qe(r.codeBinding.ecl),ot(),Ca("ngModel",r.recordPropensity),ot(5),Ca("ngModel",r.selectedIntoleranceType),ot(),xt("ngForOf",r.intoleranceTypeOptions),ot(5),Ca("ngModel",r.selectedClinicalStatus),ot(),xt("ngForOf",r.clinicalStatusOptions),ot(4),Ca("ngModel",r.selectedVerificationStatus),ot(),xt("ngForOf",r.verificationStatusOptions),ot(3),xt("ngIf",!r.recordPropensity),ot(),xt("ngIf",r.recordPropensity),ot(),xt("matMenuTriggerFor",s),ot(5),xt("disableRipple",!0),ot(3),xt("ngIf",!r.recordPropensity),ot(),xt("ngIf",r.recordPropensity),ot(5),xt("formControl",r.selectedIntoleranceCategoriesControl)("multiple",!0),ot(),xt("ngForOf",r.intoleranceCategoryOptions),ot(4),Ca("ngModel",r.selectedCriticality),ot(),xt("ngForOf",r.criticalityOptions),ot(),Ca("ngModel",r.selectedReactions),ot(15),xt("options",tl(29,NEt))("lang","json")("innerHTML",r.outputAllergyStr,Ff)}},dependencies:[ws,Fs,HC,Ma,Bo,ma,El,Jl,uu,Dl,nl,su,Uo,Uy,xC,lv,ql,bu,HR,av,LEt],styles:["#main-card[_ngcontent-%COMP%]{padding:10px;width:100%}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:flex-start}.row-centered[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center}.column[_ngcontent-%COMP%]{position:relative;flex:1;margin:5px;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{width:100%}.smallest-form-field[_ngcontent-%COMP%]{width:60%;margin:5px}.small-form-field[_ngcontent-%COMP%]{width:90%;margin:5px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;padding:4px 8px;height:36px}.mat-mdc-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:0}.reaction[_ngcontent-%COMP%]{border-radius:10px;background-color:#a9bee9;padding:10px}#output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative}pre[_ngcontent-%COMP%] > code[_ngcontent-%COMP%]{width:45%;white-space:pre-wrap;word-wrap:break-word}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}#clear[_ngcontent-%COMP%]{position:absolute;right:20px;top:20px}.long-tooltip[_ngcontent-%COMP%]{padding-left:3rem;padding-right:3rem;font-weight:lighter;font-size:.9rem}"]})}return e})(),$Et=(()=>{class e{constructor(t){this._snackBar=t}addProblem(t){var n=this;return Mt(function*(){n.allergiesProblemListComponent.addProblem(t),n._snackBar.openFromComponent(Rr,{duration:1e3,data:"Problem list updated",panelClass:["green-snackbar"]})})()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Eh))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-allergies"]],viewQuery:function(n,r){if(1&n&&Pi(WW,5),2&n){let s;Ge(s=He())&&(r.allergiesProblemListComponent=s.first)}},decls:31,vars:2,consts:[["substancePopoverMenu","matMenu"],["id","main-panel"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/x/PaDICg","target","_blank"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Allergy List Approach (AllergyIntolerance FHIR resource)"],[3,"newProblem"],["label","Problem List Approach (Condition FHIR resource)"]],template:function(n,r){if(1&n){const s=ye();q(0,"div",1)(1,"h3"),ut(2,"Allergy, Hypersensitivity and Intolerance "),q(3,"button",2)(4,"mat-icon"),ut(5,"info"),et()(),q(6,"mat-menu",null,0)(8,"span",3),zt("click",function(l){return Gt(s),Ht(l.stopPropagation())}),q(9,"h4"),ut(10,"Allergy, Hypersensitivity and Intolerance Implementation Demo"),et(),q(11,"p"),ut(12,"This is a demonstration of different implementation approaches for recording Allergies, Hypersensitivity and Intolerance."),et(),q(13,"p")(14,"b"),ut(15,"Allergy list:"),et(),ut(16," allergy or intolerance can be recorded in a specific section of the EHR, which records the causative agent together with other details, including type (allergy, non-allergic hypersensitivity, intolerance), certainty, manifestation, and severity. This corresponds to the FHIR substance based AllergyIntolerance resource data model."),et(),q(17,"p")(18,"b"),ut(19,"Problem list:"),et(),ut(20," Allergy or intolerance can also be recorded in the EHR as a problem. The problem list is normally restricted to SNOMED CT concepts from three hierarchies \u2013 Clinical finding, Event and Finding with explicit context. This corresponds either to the FHIR finding based AllergyIntolerance resource data model or the FHIR Condition resource."),et(),q(21,"p"),ut(22,"For more information check the "),q(23,"a",4),ut(24,"Implementation Guide"),et(),ut(25," developed by the SNOMED International Allergy Clinical Reference Group."),et()()()(),q(26,"mat-tab-group",5)(27,"mat-tab",6)(28,"app-allergies-allergy-list",7),zt("newProblem",function(l){return Gt(s),Ht(r.addProblem(l))}),et()(),q(29,"mat-tab",8),Te(30,"app-allergies-problem-list"),et()()()}if(2&n){const s=en(7);ot(3),xt("matMenuTriggerFor",s),ot(5),xt("disableRipple",!0)}},dependencies:[Bo,ma,El,Jl,uu,zy,ov,WW,YEt],styles:["#main-panel[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{margin-top:0}#guideLink[_ngcontent-%COMP%]{font-size:smaller}.long-tooltip[_ngcontent-%COMP%]{padding-left:3rem;padding-right:3rem;font-weight:lighter;font-size:.9rem}"]})}return e})();function WR(e,i,t){for(let n in i)if(i.hasOwnProperty(n)){const r=i[n];r?e.setProperty(n,r,t?.has(n)?"important":""):e.removeProperty(n)}return e}function cv(e,i){const t=i?"":"none";WR(e.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function aj(e,i,t){WR(e.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},t)}function WC(e,i){return i&&"none"!=i?e+" "+i:e}function oj(e){const i=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*i}function jR(e,i){return e.getPropertyValue(i).split(",").map(n=>n.trim())}function XR(e){const i=e.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function YR(e,i,t){const{top:n,bottom:r,left:s,right:o}=e;return t>=n&&t<=r&&i>=s&&i<=o}function Gy(e,i,t){e.top+=i,e.bottom=e.top+e.height,e.left+=t,e.right=e.left+e.width}function lj(e,i,t,n){const{top:r,right:s,bottom:o,left:l,width:w,height:S}=e,M=w*i,P=S*i;return n>r-P&&n<o+P&&t>l-M&&t<s+M}class cj{constructor(i){this._document=i,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:XR(t)})})}handleScroll(i){const t=Sl(i),n=this.positions.get(t);if(!n)return null;const r=n.scrollPosition;let s,o;if(t===this._document){const S=this.getViewportScrollPosition();s=S.top,o=S.left}else s=t.scrollTop,o=t.scrollLeft;const l=r.top-s,w=r.left-o;return this.positions.forEach((S,M)=>{S.clientRect&&t!==M&&t.contains(M)&&Gy(S.clientRect,l,w)}),r.top=s,r.left=o,{top:l,left:w}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function dj(e){const i=e.cloneNode(!0),t=i.querySelectorAll("[id]"),n=e.nodeName.toLowerCase();i.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===n?fj(e,i):("input"===n||"select"===n||"textarea"===n)&&hj(e,i),uj("canvas",e,i,fj),uj("input, textarea, select",e,i,hj),i}function uj(e,i,t,n){const r=i.querySelectorAll(e);if(r.length){const s=t.querySelectorAll(e);for(let o=0;o<r.length;o++)n(r[o],s[o])}}let ZEt=0;function hj(e,i){"file"!==i.type&&(i.value=e.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${ZEt++}`)}function fj(e,i){const t=i.getContext("2d");if(t)try{t.drawImage(e,0,0)}catch{}}const mj=kc({passive:!0}),jC=kc({passive:!1}),$R=new Set(["position"]);class qEt{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(t=>cv(t,i)))}constructor(i,t,n,r,s,o){this._config=t,this._document=n,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Ne,this._pointerMoveSubscription=Re.EMPTY,this._pointerUpSubscription=Re.EMPTY,this._scrollSubscription=Re.EMPTY,this._resizeSubscription=Re.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ne,this.started=new Ne,this.released=new Ne,this.ended=new Ne,this.entered=new Ne,this.exited=new Ne,this.dropped=new Ne,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const w=this._getTargetHandle(l);w&&!this._disabledHandles.has(w)&&!this.disabled&&this._initializeDragSequence(w,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const w=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){if(Math.abs(w.x-this._pickupPositionOnPage.x)+Math.abs(w.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const N=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),U=this._dropContainer;if(!N)return void this._endDragSequence(l);(!U||!U.isDragging()&&!U.isReceiving())&&(l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}l.preventDefault();const S=this._getConstrainedPointerPosition(w);if(this._hasMoved=!0,this._lastKnownPointerPosition=w,this._updatePointerDirectionDelta(S),this._dropContainer)this._updateActiveDropContainer(S,w);else{const M=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,P=this._activeTransform;P.x=S.x-M.x+this._passiveTransform.x,P.y=S.y-M.y+this._passiveTransform.y,this._applyRootElementTransform(P.x,P.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:S,event:l,distance:this._getDragDistance(S),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this._nativeDragStart=l=>{if(this._handles.length){const w=this._getTargetHandle(l);w&&!this._disabledHandles.has(w)&&!this.disabled&&l.preventDefault()}else this.disabled||l.preventDefault()},this.withRootElement(i).withParent(t.parentDragRef||null),this._parentPositions=new cj(n),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(n=>_s(n)),this._handles.forEach(n=>cv(n,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&t.add(n)}),this._disabledHandles=t,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const t=_s(i);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,jC),t.addEventListener("touchstart",this._pointerDown,mj),t.addEventListener("dragstart",this._nativeDragStart,jC)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?_s(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),cv(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),cv(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){Hy(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const n=this._rootElement,r=n.parentNode,s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),l=this._getShadowRoot();r.insertBefore(o,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),aj(n,!1,$R),this._document.body.appendChild(r.replaceChild(s,n)),this._getPreviewInsertionPoint(r,l).appendChild(this._preview),this.started.next({source:this,event:i}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(i,t){this._parentDragRef&&t.stopPropagation();const n=this.isDragging(),r=Hy(t),s=!r&&0!==t.button,o=this._rootElement,l=Sl(t),w=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),S=r?JT(t):ZT(t);if(l&&l.draggable&&"mousedown"===t.type&&t.preventDefault(),n||s||w||S)return;if(this._handles.length){const O=o.style;this._rootElementTapHighlight=O.webkitTapHighlightColor||"",O.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(O=>this._updateOnScroll(O)),this._boundaryElement&&(this._boundaryRect=XR(this._boundaryElement));const M=this._previewTemplate;this._pickupPositionInElement=M&&M.template&&!M.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,i,t);const P=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:P.x,y:P.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(i){aj(this._rootElement,!0,$R),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,n=t.getItemIndex(this),r=this._getPointerPositionOnPage(i),s=this._getDragDistance(r),o=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:r,event:i}),t.drop(this,n,this._initialIndex,this._initialContainer,o,s,r,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:t},{x:n,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,i,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,i,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,i,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,t):this._applyPreviewTransform(i-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const i=this._previewTemplate,t=this.previewClass,n=i?i.template:null;let r;if(n&&i){const s=i.matchSize?this._initialDomRect:null,o=i.viewContainer.createEmbeddedView(n,i.context);o.detectChanges(),r=gj(o,this._document),this._previewRef=o,i.matchSize?vj(r,s):r.style.transform=XC(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=dj(this._rootElement),vj(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return WR(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},$R),cv(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>r.classList.add(s)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const t=function KEt(e){const i=getComputedStyle(e),t=jR(i,"transition-property"),n=t.find(l=>"transform"===l||"all"===l);if(!n)return 0;const r=t.indexOf(n),s=jR(i,"transition-duration"),o=jR(i,"transition-delay");return oj(s[r])+oj(o[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{const r=o=>{(!o||Sl(o)===this._preview&&"transform"===o.propertyName)&&(this._preview?.removeEventListener("transitionend",r),n(),clearTimeout(s))},s=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,t=i?i.template:null;let n;return t?(this._placeholderRef=i.viewContainer.createEmbeddedView(t,i.context),this._placeholderRef.detectChanges(),n=gj(this._placeholderRef,this._document)):n=dj(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(i,t,n){const r=t===this._rootElement?null:t,s=r?r.getBoundingClientRect():i,o=Hy(n)?n.targetTouches[0]:n,l=this._getViewportScrollPosition();return{x:s.left-i.left+(o.pageX-s.left-l.left),y:s.top-i.top+(o.pageY-s.top-l.top)}}_getPointerPositionOnPage(i){const t=this._getViewportScrollPosition(),n=Hy(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,r=n.pageX-t.left,s=n.pageY-t.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const l=this._ownerSVGElement.createSVGPoint();return l.x=r,l.y=s,l.matrixTransform(o.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(i){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(i,this,this._initialDomRect,this._pickupPositionInElement):i;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===t)&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,l=this._boundaryRect,{width:w,height:S}=this._getPreviewRect(),M=l.top+o,P=l.bottom-(S-o);n=pj(n,l.left+s,l.right-(w-s)),r=pj(r,M,P)}return{x:n,y:r}}_updatePointerDirectionDelta(i){const{x:t,y:n}=i,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-s.x),l=Math.abs(n-s.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=t>s.x?1:-1,s.x=t),l>this._config.pointerDirectionChangeThreshold&&(r.y=n>s.y?1:-1,s.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,cv(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,jC),i.removeEventListener("touchstart",this._pointerDown,mj),i.removeEventListener("dragstart",this._nativeDragStart,jC)}_applyRootElementTransform(i,t){const n=XC(i,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=WC(n,this._initialTransform)}_applyPreviewTransform(i,t){const n=this._previewTemplate?.template?void 0:this._initialTransform,r=XC(i,t);this._preview.style.transform=WC(r,n)}_getDragDistance(i){const t=this._pickupPositionOnPage;return t?{x:i.x-t.x,y:i.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:t}=this._passiveTransform;if(0===i&&0===t||this.isDragging()||!this._boundaryElement)return;const n=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===n.width&&0===n.height)return;const s=r.left-n.left,o=n.right-r.right,l=r.top-n.top,w=n.bottom-r.bottom;r.width>n.width?(s>0&&(i+=s),o>0&&(i-=o)):i=0,r.height>n.height?(l>0&&(t+=l),w>0&&(t-=w)):t=0,(i!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:i})}_getDragStartDelay(i){const t=this.dragStartDelay;return"number"==typeof t?t:Hy(i)?t.touch:t?t.mouse:0}_updateOnScroll(i){const t=this._parentPositions.handleScroll(i);if(t){const n=Sl(i);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&Gy(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=kk(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,t){const n=this._previewContainer||"global";if("parent"===n)return i;if("global"===n){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return _s(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(i){return this._handles.find(t=>i.target&&(i.target===t||t.contains(i.target)))}}function XC(e,i){return`translate3d(${Math.round(e)}px, ${Math.round(i)}px, 0)`}function pj(e,i,t){return Math.max(i,Math.min(t,e))}function Hy(e){return"t"===e.type[0]}function gj(e,i){const t=e.rootNodes;if(1===t.length&&t[0].nodeType===i.ELEMENT_NODE)return t[0];const n=i.createElement("div");return t.forEach(r=>n.appendChild(r)),n}function vj(e,i){e.style.width=`${i.width}px`,e.style.height=`${i.height}px`,e.style.transform=XC(i.left,i.top)}function QR(e,i,t){const n=Wy(i,e.length-1),r=Wy(t,e.length-1);if(n===r)return;const s=e[n],o=r<n?-1:1;for(let l=n;l!==r;l+=o)e[l]=e[l+o];e[r]=s}function Wy(e,i){return Math.max(0,Math.min(i,e))}class tAt{constructor(i,t){this._element=i,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(i){this.withItems(i)}sort(i,t,n,r){const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(i,t,n,r);if(-1===o&&s.length>0)return null;const l="horizontal"===this.orientation,w=s.findIndex(W=>W.drag===i),S=s[o],P=S.clientRect,O=w>o?1:-1,N=this._getItemOffsetPx(s[w].clientRect,P,O),U=this._getSiblingOffsetPx(w,s,O),j=s.slice();return QR(s,w,o),s.forEach((W,Z)=>{if(j[Z]===W)return;const rt=W.drag===i,st=rt?N:U,vt=rt?i.getPlaceholderElement():W.drag.getRootElement();W.offset+=st,l?(vt.style.transform=WC(`translate3d(${Math.round(W.offset)}px, 0, 0)`,W.initialTransform),Gy(W.clientRect,0,st)):(vt.style.transform=WC(`translate3d(0, ${Math.round(W.offset)}px, 0)`,W.initialTransform),Gy(W.clientRect,st,0))}),this._previousSwap.overlaps=YR(P,t,n),this._previousSwap.drag=S.drag,this._previousSwap.delta=l?r.x:r.y,{previousIndex:w,currentIndex:o}}enter(i,t,n,r){const s=null==r||r<0?this._getItemIndexFromPointerPosition(i,t,n):r,o=this._activeDraggables,l=o.indexOf(i),w=i.getPlaceholderElement();let S=o[s];if(S===i&&(S=o[s+1]),!S&&(null==s||-1===s||s<o.length-1)&&this._shouldEnterAsFirstChild(t,n)&&(S=o[0]),l>-1&&o.splice(l,1),S&&!this._dragDropRegistry.isDragging(S)){const M=S.getRootElement();M.parentElement.insertBefore(w,M),o.splice(s,0,i)}else _s(this._element).appendChild(w),o.push(i);w.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables.forEach(i=>{const t=i.getRootElement();if(t){const n=this._itemPositions.find(r=>r.drag===i)?.initialTransform;t.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===i)}updateOnScroll(i,t){this._itemPositions.forEach(({clientRect:n})=>{Gy(n,i,t)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}_cacheItemPositions(){const i="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const n=t.getVisibleElement();return{drag:t,offset:0,initialTransform:n.style.transform||"",clientRect:XR(n)}}).sort((t,n)=>i?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_getItemOffsetPx(i,t,n){const r="horizontal"===this.orientation;let s=r?t.left-i.left:t.top-i.top;return-1===n&&(s+=r?t.width-i.width:t.height-i.height),s}_getSiblingOffsetPx(i,t,n){const r="horizontal"===this.orientation,s=t[i].clientRect,o=t[i+-1*n];let l=s[r?"width":"height"]*n;if(o){const w=r?"left":"top",S=r?"right":"bottom";-1===n?l-=o.clientRect[w]-s[S]:l+=s[w]-o.clientRect[S]}return l}_shouldEnterAsFirstChild(i,t){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this.orientation;if(n[0].drag!==this._activeDraggables[0]){const o=n[n.length-1].clientRect;return r?i>=o.right:t>=o.bottom}{const o=n[0].clientRect;return r?i<=o.left:t<=o.top}}_getItemIndexFromPointerPosition(i,t,n,r){const s="horizontal"===this.orientation,o=this._itemPositions.findIndex(({drag:l,clientRect:w})=>l!==i&&((!r||l!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?r.x:r.y)!==this._previousSwap.delta)&&(s?t>=Math.floor(w.left)&&t<Math.floor(w.right):n>=Math.floor(w.top)&&n<Math.floor(w.bottom))));return-1!==o&&this._sortPredicate(o,i)?o:-1}}var tc=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e}(tc||{}),zo=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e}(zo||{});class eAt{constructor(i,t,n,r,s){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Ne,this.entered=new Ne,this.exited=new Ne,this.dropped=new Ne,this.sorted=new Ne,this.receivingStarted=new Ne,this.receivingStopped=new Ne,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Re.EMPTY,this._verticalScrollDirection=tc.NONE,this._horizontalScrollDirection=zo.NONE,this._stopScrollTimers=new Ne,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function QEt(e=0,i=Ty){return e<0&&(e=0),Iy(e,e,i)}(0,WH).pipe(ji(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,l=this.autoScrollStep;this._verticalScrollDirection===tc.UP?o.scrollBy(0,-l):this._verticalScrollDirection===tc.DOWN&&o.scrollBy(0,l),this._horizontalScrollDirection===zo.LEFT?o.scrollBy(-l,0):this._horizontalScrollDirection===zo.RIGHT&&o.scrollBy(l,0)})},this.element=_s(i),this._document=n,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new cj(n),this._sortStrategy=new tAt(this.element,t),this._sortStrategy.withSortPredicate((o,l)=>this.sortPredicate(o,l,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,t,n,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(i)),this._sortStrategy.enter(i,t,n,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,t,n,r,s,o,l,w={}){this._reset(),this.dropped.next({item:i,currentIndex:t,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:s,distance:o,dropPoint:l,event:w})}withItems(i){const t=this._draggables;return this._draggables=i,i.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===i.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._sortStrategy.direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._sortStrategy.orientation=i,this}withScrollableParents(i){const t=_s(this.element);return this._scrollableElements=-1===i.indexOf(t)?[t,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,t,n,r){if(this.sortingDisabled||!this._domRect||!lj(this._domRect,.05,t,n))return;const s=this._sortStrategy.sort(i,t,n,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,t){if(this.autoScrollDisabled)return;let n,r=tc.NONE,s=zo.NONE;if(this._parentPositions.positions.forEach((o,l)=>{l===this._document||!o.clientRect||n||lj(o.clientRect,.05,i,t)&&([r,s]=function iAt(e,i,t,n,r){const s=bj(i,r),o=wj(i,n);let l=tc.NONE,w=zo.NONE;if(s){const S=e.scrollTop;s===tc.UP?S>0&&(l=tc.UP):e.scrollHeight-S>e.clientHeight&&(l=tc.DOWN)}if(o){const S=e.scrollLeft;"rtl"===t?o===zo.RIGHT?S<0&&(w=zo.RIGHT):e.scrollWidth+S>e.clientWidth&&(w=zo.LEFT):o===zo.LEFT?S>0&&(w=zo.LEFT):e.scrollWidth-S>e.clientWidth&&(w=zo.RIGHT)}return[l,w]}(l,o.clientRect,this._sortStrategy.direction,i,t),(r||s)&&(n=l))}),!r&&!s){const{width:o,height:l}=this._viewportRuler.getViewportSize(),w={width:o,height:l,top:0,right:o,bottom:l,left:0};r=bj(w,t),s=wj(w,i),n=window}n&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=n,(r||s)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=_s(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const i=_s(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(i).clientRect}_reset(){this._isDragging=!1;const i=_s(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(i,t){return null!=this._domRect&&YR(this._domRect,i,t)}_getSiblingContainerFromPosition(i,t,n){return this._siblings.find(r=>r._canReceive(i,t,n))}_canReceive(i,t,n){if(!this._domRect||!YR(this._domRect,t,n)||!this.enterPredicate(i,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,n);if(!r)return!1;const s=_s(this.element);return r===s||s.contains(r)}_startReceiving(i,t){const n=this._activeSiblings;!n.has(i)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(n.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:t}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(i);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=kk(_s(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,i))}}function bj(e,i){const{top:t,bottom:n,height:r}=e,s=.05*r;return i>=t-s&&i<=t+s?tc.UP:i>=n-s&&i<=n+s?tc.DOWN:tc.NONE}function wj(e,i){const{left:t,right:n,width:r}=e,s=.05*r;return i>=t-s&&i<=t+s?zo.LEFT:i>=n-s&&i<=n+s?zo.RIGHT:zo.NONE}const YC=kc({passive:!1,capture:!0});let nAt=(()=>{class e{constructor(t,n){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Ne,this.pointerUp=new Ne,this.scroll=new Ne,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=n}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,YC)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,YC)}startDragging(t,n){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=n.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:YC}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:YC}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,o)=>{this._document.addEventListener(o,s.handler,s.options)})})}}stopDragging(t){const n=this._activeDragInstances.indexOf(t);n>-1&&(this._activeDragInstances.splice(n,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const n=[this.scroll];return t&&t!==this._document&&n.push(new gr(r=>this._ngZone.runOutsideAngular(()=>{const o=l=>{this._activeDragInstances.length&&r.next(l)};return t.addEventListener("scroll",o,!0),()=>{t.removeEventListener("scroll",o,!0)}}))),qr(...n)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,n)=>{this._document.removeEventListener(n,t.handler,t.options)}),this._globalListeners.clear()}static#t=this.\u0275fac=function(n){return new(n||e)(ne(di),ne(Gi))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const rAt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let KR=(()=>{class e{constructor(t,n,r,s){this._document=t,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(t,n=rAt){return new qEt(t,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new eAt(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Gi),ne(di),ne(cu),ne(nAt))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const jy=new se("CDK_DRAG_PARENT"),_j=new se("CdkDragHandle");let Tj=(()=>{class e{get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._stateChanges.next(this)}constructor(t,n){this.element=t,this._parentDrag=n,this._stateChanges=new Ne,this._disabled=!1,n?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(jy,12))};static#e=this.\u0275dir=me({type:e,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[$t.HasDecoratorInputTransform,"cdkDragHandleDisabled","disabled",si]},standalone:!0,features:[yi([{provide:_j,useExisting:e}]),vn]})}return e})();const Cj=new se("CDK_DRAG_CONFIG"),Sj=new se("CdkDropList");let ZR=(()=>{class e{static#t=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}constructor(t,n,r,s,o,l,w,S,M,P,O){this.element=t,this.dropContainer=n,this._ngZone=s,this._viewContainerRef=o,this._dir=w,this._changeDetectorRef=M,this._selfHandle=P,this._parentDrag=O,this._destroyed=new Ne,this._handles=new Kr([]),this.started=new Fe,this.released=new Fe,this.ended=new Fe,this.entered=new Fe,this.exited=new Fe,this.dropped=new Fe,this.moved=new gr(N=>{const U=this._dragRef.moved.pipe(Ri(j=>({source:this,pointerPosition:j.pointerPosition,event:j.event,delta:j.delta,distance:j.distance}))).subscribe(N);return()=>{U.unsubscribe()}}),this._dragRef=S.createDrag(t,{dragStartThreshold:l&&null!=l.dragStartThreshold?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&null!=l.pointerDirectionChangeThreshold?l.pointerDirectionChangeThreshold:5,zIndex:l?.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),l&&this._assignDefaults(l),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(or(1),ji(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const n=t.rootElementSelector,r=t.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=e._dragInstances.indexOf(this);t>-1&&e._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){const n=this._handles.getValue();n.push(t),this._handles.next(n)}_removeHandle(t){const n=this._handles.getValue(),r=n.indexOf(t);r>-1&&(n.splice(r,1),this._handles.next(n))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const t=this.element.nativeElement;let n=t;this.rootElementSelector&&(n=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):_s(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const n=this._dir,r=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:Sh(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),n&&t.withDirection(n.value)}}),t.beforeStarted.pipe(or(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let n=this.element.nativeElement.parentElement;for(;n;){if(n.classList.contains("cdk-drag")){t.withParent(e._dragInstances.find(r=>r.element.nativeElement===n)?._dragRef||null);break}n=n.parentElement}})}_handleEvents(t){t.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),t.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(t){const{lockAxis:n,dragStartDelay:r,constrainPosition:s,previewClass:o,boundaryElement:l,draggingDisabled:w,rootElementSelector:S,previewContainer:M}=t;this.disabled=w??!1,this.dragStartDelay=r||0,n&&(this.lockAxis=n),s&&(this.constrainPosition=s),o&&(this.previewClass=o),l&&(this.boundaryElement=l),S&&(this.rootElementSelector=S),M&&(this.previewContainer=M)}_setupHandlesListener(){this._handles.pipe(vs(t=>{const n=t.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),Ls(t=>qr(...t.map(n=>n._stateChanges.pipe(Aa(n))))),ji(this._destroyed)).subscribe(t=>{const n=this._dragRef,r=t.element.nativeElement;t.disabled?n.disableHandle(r):n.enableHandle(r)})}static#e=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(Sj,12),mt(Gi),mt(di),mt(Lr),mt(Cj,8),mt(Ha,8),mt(KR),mt(Fn),mt(_j,10),mt(jy,12))};static#i=this.\u0275dir=me({type:e,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(n,r){2&n&&Si("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[$t.None,"cdkDragData","data"],lockAxis:[$t.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[$t.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[$t.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[$t.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[$t.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[$t.HasDecoratorInputTransform,"cdkDragDisabled","disabled",si],constrainPosition:[$t.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[$t.None,"cdkDragPreviewClass","previewClass"],previewContainer:[$t.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[yi([{provide:jy,useExisting:e}]),vn,ar]})}return e})();const JR=new se("CdkDropListGroup");let oAt=0,qR=(()=>{class e{static#t=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}constructor(t,n,r,s,o,l,w){this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=s,this._dir=o,this._group=l,this._destroyed=new Ne,this.connectedTo=[],this.id="cdk-drop-list-"+oAt++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new Fe,this.entered=new Fe,this.exited=new Fe,this.sorted=new Fe,this._unsortedItems=new Set,this._dropListRef=n.createDropList(t),this._dropListRef.data=this,w&&this._assignDefaults(w),this._dropListRef.enterPredicate=(S,M)=>this.enterPredicate(S.data,M.data),this._dropListRef.sortPredicate=(S,M,P)=>this.sortPredicate(S,M.data,P.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),l&&l._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,n)=>t._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(Aa(this._dir.value),ji(this._destroyed)).subscribe(n=>t.withDirection(n)),t.beforeStarted.subscribe(()=>{const n=Cy(this.connectedTo).map(r=>"string"==typeof r?e._dropLists.find(o=>o.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===n.indexOf(r)&&n.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=Sh(this.autoScrollStep,2),t.connectedTo(n.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),qr(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:n,draggingDisabled:r,sortingDisabled:s,listAutoScrollDisabled:o,listOrientation:l}=t;this.disabled=r??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=o??!1,this.orientation=l||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}static#e=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(KR),mt(Fn),mt(ky),mt(Ha,8),mt(JR,12),mt(Cj,8))};static#i=this.\u0275dir=me({type:e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(n,r){2&n&&(Ai("id",r.id),Si("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[$t.None,"cdkDropListConnectedTo","connectedTo"],data:[$t.None,"cdkDropListData","data"],orientation:[$t.None,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[$t.None,"cdkDropListLockAxis","lockAxis"],disabled:[$t.HasDecoratorInputTransform,"cdkDropListDisabled","disabled",si],sortingDisabled:[$t.HasDecoratorInputTransform,"cdkDropListSortingDisabled","sortingDisabled",si],enterPredicate:[$t.None,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[$t.None,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[$t.HasDecoratorInputTransform,"cdkDropListAutoScrollDisabled","autoScrollDisabled",si],autoScrollStep:[$t.None,"cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[yi([{provide:JR,useValue:void 0},{provide:Sj,useExisting:e}]),vn]})}return e})(),uAt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({providers:[KR],imports:[du]})}return e})();function hAt(e,i){}class $C{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Ej=(()=>{class e extends aC{constructor(t,n,r,s,o,l,w,S){super(),this._elementRef=t,this._focusTrapFactory=n,this._config=s,this._interactivityChecker=o,this._ngZone=l,this._overlayRef=w,this._focusMonitor=S,this._platform=xe(lr),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=xe(Fn),this.attachDomPortal=M=>{this._portalOutlet.hasAttached();const P=this._portalOutlet.attachDomPortal(M);return this._contentAttached(),P},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const n=this._ariaLabelledByQueue.indexOf(t);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),n}attachTemplatePortal(t){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(n)}_focusByCssSelector(t,n){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,n)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let n=null;if("string"==typeof t?n=this._document.querySelector(t):"boolean"==typeof t?n=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(n=t),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=HT(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,n=HT();return t===n||t.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=HT()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(zk),mt(Gi,8),mt($C),mt(KT),mt(di),mt(uC),mt(Kl))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(1&n&&Pi(lu,7),2&n){let s;Ge(s=He())&&(r._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){2&n&&Ai("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[xi,Wi],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){1&n&&jt(0,hAt,0,0,"ng-template",0)},dependencies:[lu],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return e})();class tP{constructor(i,t){this.overlayRef=i,this.config=t,this.closed=new Ne,this.disableClose=t.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!ao(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(i,t){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(i),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",t=""){return this.overlayRef.updateSize({width:i,height:t}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}}const Aj=new se("DialogScrollStrategy",{providedIn:"root",factory:()=>{const e=xe(Ts);return()=>e.scrollStrategies.block()}}),fAt=new se("DialogData"),mAt=new se("DefaultDialogConfig");let gAt=0,Dj=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,n,r,s,o,l){this._overlay=t,this._injector=n,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ne,this._afterOpenedAtThisLevel=new Ne,this._ariaHiddenElements=new Map,this.afterAllClosed=Dg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Aa(void 0))),this._scrollStrategy=l}open(t,n){(n={...this._defaultOptions||new $C,...n}).id=n.id||"cdk-dialog-"+gAt++,n.id&&this.getDialogById(n.id);const s=this._getOverlayConfig(n),o=this._overlay.create(s),l=new tP(o,n),w=this._attachContainer(o,l,n);return l.containerInstance=w,this._attachDialogContent(t,l,w,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){eP(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(n=>n.id===t)}ngOnDestroy(){eP(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),eP(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const n=new qg({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(n.backdropClass=t.backdropClass),n}_attachContainer(t,n,r){const s=r.injector||r.viewContainerRef?.injector,o=[{provide:$C,useValue:r},{provide:tP,useValue:n},{provide:uC,useValue:t}];let l;r.container?"function"==typeof r.container?l=r.container:(l=r.container.type,o.push(...r.container.providers(r))):l=Ej;const w=new Zg(l,r.viewContainerRef,os.create({parent:s||this._injector,providers:o}),r.componentFactoryResolver);return t.attach(w).instance}_attachDialogContent(t,n,r,s){if(t instanceof xr){const o=this._createInjector(s,n,r,void 0);let l={$implicit:s.data,dialogRef:n};s.templateContext&&(l={...l,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new ou(t,null,l,o))}else{const o=this._createInjector(s,n,r,this._injector),l=r.attachComponentPortal(new Zg(t,s.viewContainerRef,o,s.componentFactoryResolver));n.componentRef=l,n.componentInstance=l.instance}}_createInjector(t,n,r,s){const o=t.injector||t.viewContainerRef?.injector,l=[{provide:fAt,useValue:t.data},{provide:tP,useValue:n}];return t.providers&&("function"==typeof t.providers?l.push(...t.providers(n,t,r)):l.push(...t.providers)),t.direction&&(!o||!o.get(Ha,null,{optional:!0}))&&l.push({provide:Ha,useValue:{value:t.direction,change:_i()}}),os.create({parent:o||s,providers:l})}_removeOpenDialog(t,n){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const n=t.parentElement.children;for(let r=n.length-1;r>-1;r--){const s=n[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Ts),ne(os),ne(mAt,8),ne(e,12),ne(dC),ne(Aj))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eP(e,i){let t=e.length;for(;t--;)i(e[t])}let vAt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({providers:[Dj],imports:[tm,Jg,_H,Jg]})}return e})();function xAt(e,i){}class iP{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const nP="mdc-dialog--open",Mj="mdc-dialog--opening",Ij="mdc-dialog--closing";let kj=(()=>{class e extends Ej{constructor(t,n,r,s,o,l,w,S,M){super(t,n,r,s,o,l,w,M),this._animationMode=S,this._animationStateChanged=new Fe,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Pj(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Pj(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Rj,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Mj,nP)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(nP),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(nP),this._animationsEnabled?(this._hostElement.style.setProperty(Rj,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ij)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(Mj,Ij)}_waitForAnimationToComplete(t,n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const n=super.attachComponentPortal(t);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(zk),mt(Gi,8),mt(iP),mt(KT),mt(di),mt(uC),mt(Hr,8),mt(Kl))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,r){2&n&&(nd("id",r._config.id),Ai("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Si("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[xi,Wi],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){1&n&&(q(0,"div",0)(1,"div",1),jt(2,xAt,0,0,"ng-template",2),et()())},dependencies:[lu],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return e})();const Rj="--mat-dialog-transition-duration";function Pj(e){return null==e?null:"number"==typeof e?e:e.endsWith("ms")?Sh(e.substring(0,e.length-2)):e.endsWith("s")?1e3*Sh(e.substring(0,e.length-1)):"0"===e?0:null}var QC=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(QC||{});class Lh{constructor(i,t,n){this._ref=i,this._containerInstance=n,this._afterOpened=new Ne,this._beforeClosed=new Ne,this._state=QC.OPEN,this.disableClose=t.disableClose,this.id=i.id,i.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(On(r=>"opened"===r.state),or(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(On(r=>"closed"===r.state),or(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),qr(this.backdropClick(),this.keydownEvents().pipe(On(r=>27===r.keyCode&&!this.disableClose&&!ao(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),Fj(this,"keydown"===r.type?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(On(t=>"closing"===t.state),or(1)).subscribe(t=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=QC.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let t=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?t.left(i.left):t.right(i.right):t.centerHorizontally(),i&&(i.top||i.bottom)?i.top?t.top(i.top):t.bottom(i.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",t=""){return this._ref.updateSize(i,t),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=QC.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function Fj(e,i,t){return e._closeInteractionType=i,e.close(t)}const KC=new se("MatMdcDialogData"),wAt=new se("mat-mdc-dialog-default-options"),Oj=new se("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const e=xe(Ts);return()=>e.scrollStrategies.block()}});let TAt=0,lm=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,n,r,s,o,l,w,S){this._overlay=t,this._defaultOptions=s,this._scrollStrategy=o,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ne,this._afterOpenedAtThisLevel=new Ne,this.dialogConfigClass=iP,this.afterAllClosed=Dg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Aa(void 0))),this._dialog=n.get(Dj),this._dialogRefConstructor=Lh,this._dialogContainerType=kj,this._dialogDataToken=KC}open(t,n){let r;(n={...this._defaultOptions||new iP,...n}).id=n.id||"mat-mdc-dialog-"+TAt++,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:$C,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(o,l,w)=>(r=new this._dialogRefConstructor(o,n,w),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:w},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=s.componentRef,r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(r);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(n=>n.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let n=t.length;for(;n--;)t[n].close()}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Ts),ne(os),ne(Xf,8),ne(wAt,8),ne(Oj),ne(e,12),ne(dC),ne(Hr,8))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),CAt=0,dv=(()=>{class e{constructor(t,n,r){this.dialogRef=t,this._elementRef=n,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Nj(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const n=t._matDialogClose||t._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(t){Fj(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lh,8),mt(oi),mt(lm))};static#e=this.\u0275dir=me({type:e,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,r){1&n&&zt("click",function(o){return r._onButtonClick(o)}),2&n&&Ai("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[$t.None,"aria-label","ariaLabel"],type:"type",dialogResult:[$t.None,"mat-dialog-close","dialogResult"],_matDialogClose:[$t.None,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[ar]})}return e})(),Lj=(()=>{class e{constructor(t,n,r){this._dialogRef=t,this._elementRef=n,this._dialog=r}ngOnInit(){this._dialogRef||(this._dialogRef=Nj(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lh,8),mt(oi),mt(lm))};static#e=this.\u0275dir=me({type:e,standalone:!0})}return e})(),rP=(()=>{class e extends Lj{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+CAt++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275dir=me({type:e,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,r){2&n&&nd("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[xi]})}return e})(),Xy=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0})}return e})(),Yy=(()=>{class e extends Lj{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Dn(e)))(r||e)}})();static#e=this.\u0275dir=me({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,r){2&n&&Si("mat-mdc-dialog-actions-align-start","start"===r.align)("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"},standalone:!0,features:[xi]})}return e})();function Nj(e,i){let t=e.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?i.find(n=>n.id===t.id):null}let SAt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({providers:[lm],imports:[vAt,tm,Jg,nn,nn]})}return e})(),EAt=(()=>{class e{constructor(t,n){this.dialogRef=t,this.data=n,this.localEcl="",this.localEcl=n.ecl}onNoClick(){this.dialogRef.close()}eclChanged(t){this.data.ecl=t?.detail[0]}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lh),mt(KC))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-ecl-builder-dialog"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"full-height"],["apiurl","https://snowstorm.ihtsdotools.org/snowstorm/snomed-ct","branch","MAIN/2023-01-31","v-on:eclOutput","eclChange",3,"eclOutput","eclstring"],["mat-dialog-actions","",1,"actions"],["mat-flat-button","","color","accent","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(n,r){1&n&&(q(0,"h1",0),ut(1,"ECL Builder"),et(),q(2,"div",1)(3,"snomed-ecl-builder",2),zt("eclOutput",function(o){return r.eclChanged(o)}),et()(),q(4,"div",3)(5,"button",4),ut(6,"Ok"),et()()),2&n&&(ot(3),mh("eclstring",r.localEcl),ot(2),xt("mat-dialog-close",r.data))},dependencies:[Ma,dv,rP,Yy,Xy],styles:[".full-height[_ngcontent-%COMP%]{height:78%}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]})}return e})();const Vj=new se("CdkAccordion");let AAt=0,DAt=(()=>{class e{get expanded(){return this._expanded}set expanded(t){this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}constructor(t,n,r){this.accordion=t,this._changeDetectorRef=n,this._expansionDispatcher=r,this._openCloseAllSubscription=Re.EMPTY,this.closed=new Fe,this.opened=new Fe,this.destroyed=new Fe,this.expandedChange=new Fe,this.id="cdk-accordion-child-"+AAt++,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,o)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===o&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Vj,12),mt(Fn),mt(_k))};static#e=this.\u0275dir=me({type:e,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[$t.HasDecoratorInputTransform,"expanded","expanded",si],disabled:[$t.HasDecoratorInputTransform,"disabled","disabled",si]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[yi([{provide:Vj,useValue:void 0}]),vn]})}return e})(),MAt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({})}return e})();const IAt=["body"],kAt=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],RAt=["mat-expansion-panel-header","*","mat-action-row"];function PAt(e,i){}const FAt=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],OAt=["mat-panel-title","mat-panel-description","*"];function LAt(e,i){1&e&&(q(0,"span",1),gl(),q(1,"svg",2),Te(2,"path",3),et()()),2&e&&xt("@indicatorRotate",Ct()._getExpandedState())}const Uj=new se("MAT_ACCORDION"),zj="225ms cubic-bezier(0.4,0.0,0.2,1)",Gj={indicatorRotate:yr("indicatorRotate",[Ln("collapsed, void",ai({transform:"rotate(0deg)"})),Ln("expanded",ai({transform:"rotate(180deg)"})),gn("expanded <=> collapsed, void => collapsed",mn(zj))]),bodyExpansion:yr("bodyExpansion",[Ln("collapsed, void",ai({height:"0px",visibility:"hidden"})),Ln("expanded",ai({height:"*",visibility:""})),gn("expanded <=> collapsed, void => collapsed",mn(zj))])},Hj=new se("MAT_EXPANSION_PANEL");let NAt=(()=>{class e{constructor(t,n){this._template=t,this._expansionPanel=n}static#t=this.\u0275fac=function(n){return new(n||e)(mt(xr),mt(Hj,8))};static#e=this.\u0275dir=me({type:e,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}return e})(),BAt=0;const Wj=new se("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let jj=(()=>{class e extends DAt{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,n,r,s,o,l,w){super(t,n,r),this._viewContainerRef=s,this._animationMode=l,this._hideToggle=!1,this.afterExpand=new Fe,this.afterCollapse=new Fe,this._inputChanges=new Ne,this._headerId="mat-expansion-panel-header-"+BAt++,this.accordion=t,this._document=o,this._animationsDisabled="NoopAnimations"===l,w&&(this.hideToggle=w.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Aa(null),On(()=>this.expanded&&!this._portal),or(1)).subscribe(()=>{this._portal=new ou(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,n=this._body.nativeElement;return t===n||n.contains(t)}return!1}_animationStarted(t){!Xj(t)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(t){Xj(t)||("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Uj,12),mt(Fn),mt(_k),mt(Lr),mt(Gi),mt(Hr,8),mt(Wj,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-expansion-panel"]],contentQueries:function(n,r,s){if(1&n&&Pn(s,NAt,5),2&n){let o;Ge(o=He())&&(r._lazyContent=o.first)}},viewQuery:function(n,r){if(1&n&&Pi(IAt,5),2&n){let s;Ge(s=He())&&(r._body=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(n,r){2&n&&Si("mat-expanded",r.expanded)("_mat-animation-noopable",r._animationsDisabled)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[$t.HasDecoratorInputTransform,"hideToggle","hideToggle",si],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[yi([{provide:Uj,useValue:void 0},{provide:Hj,useExisting:e}]),vn,xi,ar,Wi],ngContentSelectors:RAt,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(n,r){if(1&n){const s=ye();er(kAt),Ti(0),q(1,"div",1,0),zt("@bodyExpansion.start",function(l){return Gt(s),Ht(r._animationStarted(l))})("@bodyExpansion.done",function(l){return Gt(s),Ht(r._animationDone(l))}),q(3,"div",2),Ti(4,1),jt(5,PAt,0,0,"ng-template",3),et(),Ti(6,2),et()}2&n&&(ot(),xt("@bodyExpansion",r._getExpandedState())("id",r.id),Ai("aria-labelledby",r._headerId),ot(4),xt("cdkPortalOutlet",r._portal))},dependencies:[lu],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Gj.bodyExpansion]},changeDetection:0})}return e})();function Xj(e){return"void"===e.fromState}let VAt=(()=>{class e{constructor(t,n,r,s,o,l,w){this.panel=t,this._element=n,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=l,this._parentChangeSubscription=Re.EMPTY,this.tabIndex=0;const S=t.accordion?t.accordion._stateChanges.pipe(On(M=>!(!M.hideToggle&&!M.togglePosition))):el;this.tabIndex=parseInt(w||"")||0,this._parentChangeSubscription=qr(t.opened,t.closed,S,t._inputChanges.pipe(On(M=>!!(M.hideToggle||M.disabled||M.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(On(()=>t._containsFocus())).subscribe(()=>r.focusVia(n,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:ao(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,n){t?this._focusMonitor.focusVia(this._element,t,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(jj,1),mt(oi),mt(Kl),mt(Fn),mt(Wj,8),mt(Hr,8),vl("tabindex"))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(n,r){1&n&&zt("click",function(){return r._toggle()})("keydown",function(o){return r._keydown(o)}),2&n&&(Ai("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),Ps("height",r._getHeaderHeight()),Si("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[$t.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:Jr(t)]},standalone:!0,features:[vn,Wi],ngContentSelectors:OAt,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(n,r){1&n&&(er(FAt),q(0,"span",0),Ti(1),Ti(2,1),Ti(3,2),et(),jt(4,LAt,3,1,"span",1)),2&n&&(Si("mat-content-hide-toggle",!r._showToggle()),ot(4),En(4,r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color);display:inline-block;display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color);display:none;display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[Gj.indicatorRotate]},changeDetection:0})}return e})(),UAt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"],standalone:!0})}return e})(),zAt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0})}return e})(),GAt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[nn,MAt,Jg]})}return e})();function HAt(e,i){if(1&e){const t=ye();q(0,"mat-option",2),zt("click",function(){return Gt(t),Ht(Ct().optionClicked())}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t),ot(),Ke(" ",t.display," ")}}let Yj=(()=>{class e{constructor(t){this.terminologyService=t,this.selectionChange=new Fe}ngOnInit(){this.terminologyService.expandValueSet(this.binding.ecl,"").subscribe(t=>this.options=t.expansion.contains)}optionClicked(){this.selectionChange.emit(this.selectedOptions)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fa))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-dropdown-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},decls:7,vars:5,consts:[[3,"ngModelChange","multiple","ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"]],template:function(n,r){1&n&&(q(0,"mat-form-field")(1,"mat-label"),ut(2),et(),q(3,"mat-select",0),Sa("ngModelChange",function(o){return Ga(r.selectedOptions,o)||(r.selectedOptions=o),o}),jt(4,HAt,2,2,"mat-option",1),et(),q(5,"mat-hint"),ut(6),et()()),2&n&&(ot(2),qe(r.binding.title),ot(),xt("multiple","Select (Multiple)"==r.binding.type),Ca("ngModel",r.selectedOptions),ot(),xt("ngForOf",r.options),ot(2),qe(r.binding.note))},dependencies:[ws,Dl,nl,Oh,su,Uo,lv,ql],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}return e})();const WAt=["input"],jAt=["formField"],XAt=["*"];let $j=0;class Qj{constructor(i,t){this.source=i,this.value=t}}const YAt={provide:pa,useExisting:kn(()=>sP),multi:!0},Kj=new se("MatRadioGroup"),$At=new se("mat-radio-default-options",{providedIn:"root",factory:function QAt(){return{color:"accent"}}});let sP=(()=>{class e{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=t,this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+$j++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new Fe}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Qj(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Fn))};static#e=this.\u0275dir=me({type:e,selectors:[["mat-radio-group"]],contentQueries:function(n,r,s){if(1&n&&Pn(s,ZC,5),2&n){let o;Ge(o=He())&&(r._radios=o)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[$t.HasDecoratorInputTransform,"disabled","disabled",si],required:[$t.HasDecoratorInputTransform,"required","required",si]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[yi([YAt,{provide:Kj,useExisting:e}]),vn]})}return e})(),ZC=(()=>{class e{get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,r,s,o,l,w,S){this._elementRef=n,this._changeDetector=r,this._focusMonitor=s,this._radioDispatcher=o,this._providerOverride=w,this._uniqueId="mat-radio-"+ ++$j,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new Fe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===l,S&&(this.tabIndex=Jr(S,0))}focus(t,n){n?this._focusMonitor.focusVia(this._inputElement,n,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,n)=>{t!==this.id&&n===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Qj(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let n;if(n=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,n!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",n+""),this._previousTabIndex=n)}}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Kj,8),mt(oi),mt(Fn),mt(Kl),mt(_k),mt(Hr,8),mt($At,8),vl("tabindex"))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-radio-button"]],viewQuery:function(n,r){if(1&n&&(Pi(WAt,5),Pi(jAt,7,oi)),2&n){let s;Ge(s=He())&&(r._inputElement=s.first),Ge(s=He())&&(r._rippleTrigger=s.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(n,r){1&n&&zt("focus",function(){return r._inputElement.nativeElement.focus()}),2&n&&(Ai("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Si("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[$t.None,"aria-label","ariaLabel"],ariaLabelledby:[$t.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[$t.None,"aria-describedby","ariaDescribedby"],disableRipple:[$t.HasDecoratorInputTransform,"disableRipple","disableRipple",si],tabIndex:[$t.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:Jr(t)],checked:[$t.HasDecoratorInputTransform,"checked","checked",si],value:"value",labelPosition:"labelPosition",disabled:[$t.HasDecoratorInputTransform,"disabled","disabled",si],required:[$t.HasDecoratorInputTransform,"required","required",si],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[vn,Wi],ngContentSelectors:XAt,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(n,r){if(1&n){const s=ye();er(),q(0,"div",2,0)(2,"div",3)(3,"div",4),zt("click",function(l){return Gt(s),Ht(r._onTouchTargetClick(l))}),et(),q(4,"input",5,1),zt("change",function(l){return Gt(s),Ht(r._onInputInteraction(l))}),et(),q(6,"div",6),Te(7,"div",7)(8,"div",8),et(),q(9,"div",9),Te(10,"div",10),et()(),q(11,"label",11),Ti(12),et()()}2&n&&(xt("labelPosition",r.labelPosition),ot(2),Si("mdc-radio--disabled",r.disabled),ot(2),xt("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),Ai("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),ot(5),xt("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),ot(2),xt("for",r.inputId))},dependencies:[ru,$k],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return e})(),KAt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[nn,sd,Qg,ZC,nn]})}return e})();function ZAt(e,i){if(1&e){const t=ye();q(0,"mat-radio-button",3),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct().optionSelected(r))}),ut(1),et()}if(2&e){const t=i.$implicit;xt("value",t.code),ot(),Ke(" ",t.display," ")}}let Zj=(()=>{class e{constructor(t){this.terminologyService=t,this.selectionChange=new Fe}ngOnInit(){this.terminologyService.expandValueSet(this.binding.ecl,"").subscribe(t=>this.options=t.expansion.contains)}optionSelected(t){this.selectionChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fa))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-radios-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},decls:6,vars:3,consts:[["aria-label","Select an option",1,"radio-group"],["class","radio-button",3,"value","click",4,"ngFor","ngForOf"],["id","hint"],[1,"radio-button",3,"click","value"]],template:function(n,r){1&n&&(q(0,"div"),ut(1),et(),q(2,"mat-radio-group",0),jt(3,ZAt,2,2,"mat-radio-button",1),et(),q(4,"div",2),ut(5),et()),2&n&&(ot(),qe(r.binding.title),ot(2),xt("ngForOf",r.options),ot(2),qe(r.binding.note))},dependencies:[ws,sP,ZC],styles:["#hint[_ngcontent-%COMP%]{font-size:12px}.radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0;align-items:flex-start}.radio-button[_ngcontent-%COMP%]{margin:0}"]})}return e})(),Jj=(()=>{class e{constructor(t){this.terminologyService=t,this.textChange=new Fe,this.text=""}ngOnInit(){}onTextChange(t){this.text=t,this.textChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fa))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-textbox-binding"]],inputs:{binding:"binding"},outputs:{textChange:"textChange"},decls:6,vars:3,consts:[[1,"example-full-width"],["matInput","","placeholder","Enter text...",3,"ngModelChange","ngModel"]],template:function(n,r){1&n&&(q(0,"mat-form-field",0)(1,"mat-label"),ut(2),et(),q(3,"textarea",1),Sa("ngModelChange",function(o){return Ga(r.text,o)||(r.text=o),o}),zt("ngModelChange",function(o){return r.onTextChange(o)}),et(),q(4,"mat-hint"),ut(5),et()()),2&n&&(ot(2),qe(r.binding.title),ot(),Ca("ngModel",r.text),ot(2),qe(r.binding.note))},dependencies:[Dl,nl,Oh,yu,Al,Uo,ql],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}return e})();const JAt=["input"],qAt=["label"],t2t=["*"],e2t=new se("mat-checkbox-default-options",{providedIn:"root",factory:qj});function qj(){return{color:"accent",clickAction:"check-indeterminate"}}var oo=function(e){return e[e.Init=0]="Init",e[e.Checked=1]="Checked",e[e.Unchecked=2]="Unchecked",e[e.Indeterminate=3]="Indeterminate",e}(oo||{});const i2t={provide:pa,useExisting:kn(()=>$y),multi:!0};class n2t{}let r2t=0;const tX=qj();let $y=(()=>{class e{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const n=new n2t;return n.source=this,n.checked=t,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,r,s,o,l){this._elementRef=t,this._changeDetectorRef=n,this._ngZone=r,this._animationMode=o,this._options=l,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Fe,this.indeterminateChange=new Fe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=oo.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||tX,this.color=this._options.color||tX.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++r2t}ngOnChanges(t){t.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const n=t!=this._indeterminate;this._indeterminate=t,n&&(this._transitionCheckState(this._indeterminate?oo.Indeterminate:this.checked?oo.Checked:oo.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.required&&!0!==t.value?{required:!0}:null}registerOnValidatorChange(t){this._validatorChangeFn=t}_transitionCheckState(t){let n=this._currentCheckState,r=this._getAnimationTargetElement();if(n!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?oo.Checked:oo.Unchecked),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,n){if("NoopAnimations"===this._animationMode)return"";switch(t){case oo.Init:if(n===oo.Checked)return this._animationClasses.uncheckedToChecked;if(n==oo.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case oo.Unchecked:return n===oo.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case oo.Checked:return n===oo.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case oo.Indeterminate:return n===oo.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const n=this._inputElement;n&&(n.nativeElement.indeterminate=t)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(Fn),mt(di),vl("tabindex"),mt(Hr,8),mt(e2t,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-checkbox"]],viewQuery:function(n,r){if(1&n&&(Pi(JAt,5),Pi(qAt,5),Pi(ru,5)),2&n){let s;Ge(s=He())&&(r._inputElement=s.first),Ge(s=He())&&(r._labelElement=s.first),Ge(s=He())&&(r.ripple=s.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(n,r){2&n&&(nd("id",r.id),Ai("tabindex",null)("aria-label",null)("aria-labelledby",null),Wl(r.color?"mat-"+r.color:"mat-accent"),Si("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{ariaLabel:[$t.None,"aria-label","ariaLabel"],ariaLabelledby:[$t.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[$t.None,"aria-describedby","ariaDescribedby"],id:"id",required:[$t.HasDecoratorInputTransform,"required","required",si],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[$t.HasDecoratorInputTransform,"disableRipple","disableRipple",si],tabIndex:[$t.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?void 0:Jr(t)],color:"color",checked:[$t.HasDecoratorInputTransform,"checked","checked",si],disabled:[$t.HasDecoratorInputTransform,"disabled","disabled",si],indeterminate:[$t.HasDecoratorInputTransform,"indeterminate","indeterminate",si]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[yi([i2t,{provide:Js,useExisting:e,multi:!0}]),vn,ar,Wi],ngContentSelectors:t2t,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(n,r){if(1&n){const s=ye();er(),q(0,"div",3),zt("click",function(l){return Gt(s),Ht(r._preventBubblingFromLabel(l))}),q(1,"div",4,0)(3,"div",5),zt("click",function(){return Gt(s),Ht(r._onTouchTargetClick())}),et(),q(4,"input",6,1),zt("blur",function(){return Gt(s),Ht(r._onBlur())})("click",function(){return Gt(s),Ht(r._onInputClick())})("change",function(l){return Gt(s),Ht(r._onInteractionEvent(l))}),et(),Te(6,"div",7),q(7,"div",8),gl(),q(8,"svg",9),Te(9,"path",10),et(),Q0(),Te(10,"div",11),et(),Te(11,"div",12),et(),q(12,"label",13,2),Ti(14),et()()}if(2&n){const s=en(2);xt("labelPosition",r.labelPosition),ot(4),Si("mdc-checkbox--selected",r.checked),xt("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.disabled?-1:r.tabIndex),Ai("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("name",r.name)("value",r.value),ot(7),xt("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),ot(),xt("for",r.inputId)}},dependencies:[ru,$k],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return e})(),o2t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[$y,nn,nn]})}return e})();function l2t(e,i){if(1&e){const t=ye();q(0,"mat-checkbox",3),zt("click",function(){return Gt(t),Ht(Ct().optionClicked())}),ut(1),et()}if(2&e){const t=i.$implicit;mh("formControlName",t.display),ot(),Ke(" ",t.display," ")}}let eX=(()=>{class e{constructor(t,n){this.terminologyService=t,this._formBuilder=n,this.selectionChange=new Fe,this.checkboxes=this._formBuilder.group([]),this.present={display:"Known present (qualifier value)",system:"http://snomed.info/sct",code:"410515003"},this.absent={display:"Known absent (qualifier value)",system:"http://snomed.info/sct",code:"410516002"}}ngOnInit(){this.options=[{display:this.binding.title}],this.options?.forEach(t=>{this.checkboxes.addControl(t.display,this._formBuilder.control(!1))})}optionClicked(){let t=[];t.push({title:this.binding.title,code:this.binding.ecl,value:this.checkboxes.value[this.binding.title]?this.present:this.absent}),this.selectionChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fa),mt(BC))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-checkbox-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},decls:4,vars:3,consts:[[1,"check-group",3,"formGroup"],["class","check","labelPosition","before",3,"formControlName","click",4,"ngFor","ngForOf"],[1,"hint"],["labelPosition","before",1,"check",3,"click","formControlName"]],template:function(n,r){1&n&&(q(0,"form",0),jt(1,l2t,2,2,"mat-checkbox",1),q(2,"span",2),ut(3),et()()),2&n&&(xt("formGroup",r.checkboxes),ot(),xt("ngForOf",r.options),ot(2),qe(r.binding.note))},dependencies:[ws,rv,Uo,rm,pd,sv,$y],styles:["#hint[_ngcontent-%COMP%]{font-size:12px}.check-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0;align-items:flex-start}.check[_ngcontent-%COMP%]{margin:0}.hint[_ngcontent-%COMP%]{font-size:.8rem;color:#999;padding:0;margin:0 0 0 5px}"]})}return e})(),iX=(()=>{class e{constructor(t){this.terminologyService=t,this.textChange=new Fe,this.value=0}ngOnInit(){}onValueChange(t){this.value=t,this.textChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fa))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-integer-binding"]],inputs:{binding:"binding"},outputs:{textChange:"textChange"},decls:6,vars:3,consts:[[1,"example-full-width"],["matInput","","type","number","placeholder","Enter integer value...","pattern","^-?[0-9]\\d*$","title","Only integer values are allowed",3,"ngModelChange","ngModel"]],template:function(n,r){1&n&&(q(0,"mat-form-field",0)(1,"mat-label"),ut(2),et(),q(3,"input",1),Sa("ngModelChange",function(o){return Ga(r.value,o)||(r.value=o),o}),zt("ngModelChange",function(o){return r.onValueChange(o)}),et(),q(4,"mat-hint"),ut(5),et()()),2&n&&(ot(2),qe(r.binding.title),ot(),Ca("ngModel",r.value),ot(2),qe(r.binding.note))},dependencies:[Dl,nl,Oh,yu,Al,FC,Uo,NC,ql],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}return e})(),nX=(()=>{class e{constructor(t){this.terminologyService=t,this.textChange=new Fe,this.value=0}ngOnInit(){}onValueChange(t){this.value=t,this.textChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fa))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-decimal-binding"]],inputs:{binding:"binding"},outputs:{textChange:"textChange"},decls:6,vars:3,consts:[[1,"example-full-width"],["matInput","","type","number","placeholder","Enter decimal value...","pattern","^-?[0-9]*\\.?[0-9]+$","title","Only decimal values are allowed","step","any",3,"ngModelChange","ngModel"]],template:function(n,r){1&n&&(q(0,"mat-form-field",0)(1,"mat-label"),ut(2),et(),q(3,"input",1),Sa("ngModelChange",function(o){return Ga(r.value,o)||(r.value=o),o}),zt("ngModelChange",function(o){return r.onValueChange(o)}),et(),q(4,"mat-hint"),ut(5),et()()),2&n&&(ot(2),qe(r.binding.title),ot(),Ca("ngModel",r.value),ot(2),qe(r.binding.note))},dependencies:[Dl,nl,Oh,yu,Al,FC,Uo,NC,ql],styles:[".chip[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;background-color:#f4a460;border:none;cursor:default;height:36px;outline:none;padding:0;font-size:14px;color:#fff;font-family:Open Sans,sans-serif;white-space:nowrap;align-items:center;border-radius:16px;vertical-align:middle;text-decoration:none;justify-content:center;margin-right:20px}.chip-content[_ngcontent-%COMP%]{cursor:inherit;display:flex;align-items:center;-webkit-user-select:none;user-select:none;white-space:nowrap;padding-left:12px;padding-right:12px}mat-form-field[_ngcontent-%COMP%]{width:100%}.code[_ngcontent-%COMP%]{font-size:small;font-weight:lighter;margin-right:15px}mat-hint[_ngcontent-%COMP%]{font-size:12px}"]})}return e})();function c2t(e,i){if(1&e){const t=ye();q(0,"mat-checkbox",3),zt("click",function(){return Gt(t),Ht(Ct().optionClicked())}),ut(1),et()}if(2&e){const t=i.$implicit;mh("formControlName",t.display),ot(),Ke(" ",t.display," ")}}let rX=(()=>{class e{constructor(t,n){this.terminologyService=t,this._formBuilder=n,this.selectionChange=new Fe,this.checkboxes=this._formBuilder.group([]),this.present={display:"Known present (qualifier value)",system:"http://snomed.info/sct",code:"410515003"},this.absent={display:"Known absent (qualifier value)",system:"http://snomed.info/sct",code:"410516002"}}ngOnInit(){this.terminologyService.expandValueSet(this.binding.ecl,"").subscribe(t=>{this.options=t.expansion.contains,this.options?.forEach(n=>{this.checkboxes.addControl(n.display,this._formBuilder.control(!1))})})}optionClicked(){let t=[];this.options?.forEach(n=>{t.push({code:n,value:this.checkboxes.value[n.display]?this.present:this.absent})}),this.selectionChange.emit(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fa),mt(BC))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-checkbox-multiple-binding"]],inputs:{binding:"binding"},outputs:{selectionChange:"selectionChange"},decls:6,vars:4,consts:[[1,"check-group",3,"formGroup"],["class","check","labelPosition","after",3,"formControlName","click",4,"ngFor","ngForOf"],[1,"hint"],["labelPosition","after",1,"check",3,"click","formControlName"]],template:function(n,r){1&n&&(q(0,"div"),ut(1),et(),q(2,"form",0),jt(3,c2t,2,2,"mat-checkbox",1),q(4,"span",2),ut(5),et()()),2&n&&(ot(),qe(r.binding.title),ot(),xt("formGroup",r.checkboxes),ot(),xt("ngForOf",r.options),ot(2),qe(r.binding.note))},dependencies:[ws,rv,Uo,rm,pd,sv,$y],styles:["#hint[_ngcontent-%COMP%]{font-size:12px}.check-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0;align-items:flex-start}.check[_ngcontent-%COMP%]{margin:0}.hint[_ngcontent-%COMP%]{font-size:.8rem;color:#999;padding:0;margin:0 0 0 5px}"]})}return e})();const d2t=["newPanel"],u2t=()=>({standalone:!0}),aP=()=>({});function h2t(e,i){1&e&&(q(0,"mat-panel-description"),ut(1," Click to add new binding "),et())}function f2t(e,i){if(1&e){const t=ye();q(0,"button",46),zt("click",function(){let r;return Gt(t),Ht(null==(r=Ct().newBindingForm.get("title"))?null:r.reset())}),q(1,"mat-icon"),ut(2,"close"),et()()}}function m2t(e,i){1&e&&(q(0,"span"),ut(1,"Restrict to Observables"),et())}function p2t(e,i){1&e&&(q(0,"span"),ut(1,"Open to Observables + Findings + Procedures + Situations"),et())}function g2t(e,i){if(1&e&&(q(0,"mat-option",47),ut(1),et()),2&e){const t=i.$implicit;xt("value",t),ot(),Ke(" ",t," ")}}function v2t(e,i){if(1&e){const t=ye();q(0,"button",46),zt("click",function(){let r;return Gt(t),Ht(null==(r=Ct(2).newBindingForm.get("ecl"))?null:r.reset())}),q(1,"mat-icon"),ut(2,"close"),et()()}}function x2t(e,i){if(1&e){const t=ye();q(0,"mat-form-field",14)(1,"mat-label"),ut(2,"Answer options: ECL Expression"),et(),Te(3,"input",48),q(4,"a",49),zt("click",function(){let r;Gt(t);const s=Ct();return Ht(s.openEclBuilder(null==(r=s.newBindingForm.get("ecl"))?null:r.value,"ecl"))}),ut(5,"ECL Builder"),et(),jt(6,v2t,3,0,"button",16),q(7,"mat-error"),ut(8),et()()}if(2&e){let t;const n=Ct();ot(6),xt("ngIf",null==(t=n.newBindingForm.get("ecl"))?null:t.value),ot(2),qe(n.getErrorMessage("ecl"))}}function y2t(e,i){1&e&&(q(0,"span"),ut(1,"Restrict to Observables"),et())}function b2t(e,i){1&e&&(q(0,"span"),ut(1,"Open to Observables + Findings + Procedures"),et())}function w2t(e,i){if(1&e){const t=ye();q(0,"mat-form-field",14),Te(1,"app-autocomplete-binding",50),q(2,"a",19),zt("click",function(){return Gt(t),Ht(Ct().toggleCheckboxBinding())}),jt(3,y2t,2,0,"span",10)(4,b2t,2,0,"span",10),et(),q(5,"mat-error"),ut(6),et()()}if(2&e){const t=Ct();ot(),xt("binding",t.checkboxBinding),ot(2),xt("ngIf",t.checkboxBinding.ecl===t.codeBindingAll.ecl),ot(),xt("ngIf",t.checkboxBinding.ecl!=t.codeBindingAll.ecl),ot(2),qe(t.getErrorMessage("ecl"))}}function _2t(e,i){if(1&e){const t=ye();q(0,"button",46),zt("click",function(){let r;return Gt(t),Ht(null==(r=Ct(2).newBindingForm.get("note"))?null:r.reset())}),q(1,"mat-icon"),ut(2,"close"),et()()}}function T2t(e,i){if(1&e&&(q(0,"mat-form-field",51)(1,"mat-label"),ut(2,"Note"),et(),Te(3,"input",52),jt(4,_2t,3,0,"button",16),q(5,"mat-error"),ut(6),et()()),2&e){let t;const n=Ct();ot(4),xt("ngIf",null==(t=n.newBindingForm.get("note"))?null:t.value),ot(2),qe(n.getErrorMessage("note"))}}function C2t(e,i){if(1&e){const t=ye();q(0,"button",27),zt("click",function(){return Gt(t),Ht(Ct().addBinding())}),ut(1,"Add binding"),et()}}function S2t(e,i){if(1&e){const t=ye();q(0,"button",27),zt("click",function(){Gt(t);const r=Ct();return r.addBinding(),Ht(r.clearOutput())}),ut(1,"Update binding"),et()}}function E2t(e,i){if(1&e){const t=ye();q(0,"button",35),zt("click",function(){Gt(t);const r=Ct();return Ht(r.showRightContainer=!r.showRightContainer)}),ut(1),et()}if(2&e){const t=Ct();ot(),Ke(" ",t.showRightContainer?"Close data panel":"Open data panel"," ")}}function A2t(e,i){1&e&&(q(0,"button",53),ut(1," Download form "),et()),2&e&&(Ct(),xt("matMenuTriggerFor",en(69)))}function D2t(e,i){if(1&e){const t=ye();q(0,"div",54)(1,"p",55),ut(2),et(),q(3,"button",56),zt("click",function(){return Gt(t),Ht(Ct().titleEditMode=!0)}),q(4,"mat-icon"),ut(5,"edit"),et()()()}if(2&e){const t=Ct();ot(2),qe(t.formTitle)}}function M2t(e,i){if(1&e){const t=ye();q(0,"div",54)(1,"form",57)(2,"mat-form-field")(3,"mat-label"),ut(4,"Title"),et(),q(5,"input",58),Sa("ngModelChange",function(r){Gt(t);const s=Ct();return Ga(s.formTitle,r)||(s.formTitle=r),Ht(r)}),zt("ngModelChange",function(){return Gt(t),Ht(Ct().refreshFhirQuestionnaire())}),et(),q(6,"button",46),zt("click",function(){return Gt(t),Ht(Ct().formTitle="")}),q(7,"mat-icon"),ut(8,"close"),et()()()(),q(9,"button",56),zt("click",function(){return Gt(t),Ht(Ct().titleEditMode=!1)}),q(10,"mat-icon"),ut(11,"save"),et()()()}if(2&e){const t=Ct();ot(5),Ca("ngModel",t.formTitle),xt("ngModelOptions",tl(2,u2t))}}function I2t(e,i){if(1&e){const t=ye();q(0,"app-autocomplete-binding",67),zt("selectionChange",function(r){Gt(t);const s=Ct().$implicit;return Ht(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function k2t(e,i){if(1&e){const t=ye();q(0,"app-dropdown-binding",67),zt("selectionChange",function(r){Gt(t);const s=Ct().$implicit;return Ht(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function R2t(e,i){if(1&e){const t=ye();q(0,"app-radios-binding",67),zt("selectionChange",function(r){Gt(t);const s=Ct().$implicit;return Ht(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function P2t(e,i){if(1&e&&(q(0,"span",68),ut(1),et()),2&e){const t=Ct().$implicit;ot(),qe(t.title)}}function F2t(e,i){if(1&e){const t=ye();q(0,"app-textbox-binding",69),zt("textChange",function(r){Gt(t);const s=Ct().$implicit;return Ht(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function O2t(e,i){if(1&e){const t=ye();q(0,"app-integer-binding",69),zt("textChange",function(r){Gt(t);const s=Ct().$implicit;return Ht(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function L2t(e,i){if(1&e){const t=ye();q(0,"app-decimal-binding",69),zt("textChange",function(r){Gt(t);const s=Ct().$implicit;return Ht(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function N2t(e,i){if(1&e){const t=ye();q(0,"app-checkbox-binding",67),zt("selectionChange",function(r){Gt(t);const s=Ct().$implicit;return Ht(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function B2t(e,i){if(1&e){const t=ye();q(0,"app-checkbox-multiple-binding",67),zt("selectionChange",function(r){Gt(t);const s=Ct().$implicit;return Ht(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function V2t(e,i){if(1&e&&(q(0,"button",70)(1,"mat-icon"),ut(2,"info"),et()()),2&e){const t=Ct().$implicit;xt("matMenuTriggerFor",en(15))("disabled",!t.code&&!t.ecl)}}function U2t(e,i){if(1&e){const t=ye();q(0,"span",6),zt("click",function(r){return Gt(t),Ht(r.stopPropagation())}),q(1,"h4"),ut(2,"Question terminology binding"),et(),q(3,"pre"),ut(4),et()()}if(2&e){const t=Ct().$implicit;xt("disableRipple",!0),ot(4),qo("",null==t.code?null:t.code.code," |",null==t.code?null:t.code.display,"|")}}function z2t(e,i){if(1&e){const t=ye();q(0,"span",6),zt("click",function(r){return Gt(t),Ht(r.stopPropagation())}),q(1,"h4"),ut(2,"Answer terminology binding"),et(),q(3,"pre"),ut(4),et()()}if(2&e){const t=Ct().$implicit;xt("disableRipple",!0),ot(4),qe(t.ecl)}}function G2t(e,i){if(1&e){const t=ye();q(0,"div",59)(1,"div",60)(2,"mat-icon",61),ut(3,"drag_indicator"),et(),jt(4,I2t,1,1,"app-autocomplete-binding",62)(5,k2t,1,1,"app-dropdown-binding",62)(6,R2t,1,1,"app-radios-binding",62)(7,P2t,2,1,"span",63)(8,F2t,1,1,"app-textbox-binding",64)(9,O2t,1,1,"app-integer-binding",64)(10,L2t,1,1,"app-decimal-binding",64)(11,N2t,1,1,"app-checkbox-binding",62)(12,B2t,1,1,"app-checkbox-multiple-binding",62)(13,V2t,3,2,"button",65),q(14,"mat-menu",null,0),jt(16,U2t,5,3,"span",66)(17,z2t,5,2,"span",66),et(),q(18,"button",56),zt("click",function(){const r=Gt(t).index;return Ht(Ct().bindings.splice(r,1))}),q(19,"mat-icon"),ut(20,"delete"),et()(),q(21,"button",56),zt("click",function(){const r=Gt(t).index;return Ht(Ct().edit(r))}),q(22,"mat-icon"),ut(23,"edit"),et()()()()}if(2&e){const t=i.$implicit;ot(4),xt("ngIf","Autocomplete"==t.type),ot(),xt("ngIf","Select (Single)"==t.type||"Select (Multiple)"==t.type),ot(),xt("ngIf","Options"==t.type),ot(),xt("ngIf","Section header"==t.type),ot(),xt("ngIf","Text box"==t.type),ot(),xt("ngIf","Integer"==t.type),ot(),xt("ngIf","Decimal"==t.type),ot(),xt("ngIf","Checkbox"==t.type),ot(),xt("ngIf","Checkbox multiple"==t.type),ot(),xt("ngIf","Section header"!=t.type),ot(3),xt("ngIf",t.code),ot(),xt("ngIf",t.ecl)}}function H2t(e,i){if(1&e){const t=ye();q(0,"div",74)(1,"button",75),zt("click",function(){Gt(t);const r=Ct(2);return Ht(r.saveOutput(r.outputStr))}),Te(2,"mat-icon",76),et(),q(3,"button",77),zt("click",function(){Gt(t);const r=Ct(2);return Ht(r.copyOutputToClipboard(r.outputStr))}),Te(4,"mat-icon",78),et()()}}function W2t(e,i){if(1&e&&(q(0,"div",71),jt(1,H2t,5,0,"div",72),q(2,"textarea",73),ut(3,"                        "),et()()),2&e){const t=Ct();ot(),xt("ngIf",t.showRightContainer),ot(),xt("options",tl(4,aP))("lang","json")("innerHTML",t.responseStr,Ff)}}function j2t(e,i){if(1&e){const t=ye();q(0,"div",74)(1,"button",75),zt("click",function(){Gt(t);const r=Ct(2);return Ht(r.saveBundleOutput(r.responseBundleStr))}),Te(2,"mat-icon",76),et(),q(3,"button",77),zt("click",function(){Gt(t);const r=Ct(2);return Ht(r.copyOutputToClipboard(r.responseBundleStr))}),Te(4,"mat-icon",78),et()()}}function X2t(e,i){if(1&e&&(q(0,"div",71),jt(1,j2t,5,0,"div",72),q(2,"textarea",73),ut(3,"                        "),et()()),2&e){const t=Ct();ot(),xt("ngIf",t.showRightContainer),ot(),xt("options",tl(4,aP))("lang","json")("innerHTML",t.responseBundleStr,Ff)}}function Y2t(e,i){if(1&e){const t=ye();q(0,"div",74)(1,"button",75),zt("click",function(){Gt(t);const r=Ct(2);return Ht(r.saveOutput(r.fhirQuestionnaireStr))}),Te(2,"mat-icon",76),et(),q(3,"button",77),zt("click",function(){Gt(t);const r=Ct(2);return Ht(r.copyOutputToClipboard(r.fhirQuestionnaireStr))}),Te(4,"mat-icon",78),et()()}}function $2t(e,i){if(1&e&&(q(0,"div",71),jt(1,Y2t,5,0,"div",72),q(2,"textarea",73),ut(3,"                        "),et()()),2&e){const t=Ct();ot(),xt("ngIf",t.showRightContainer),ot(),xt("options",tl(4,aP))("lang","json")("innerHTML",t.fhirQuestionnaireStr,Ff)}}let Q2t=(()=>{class e{constructor(t,n,r){this.terminologyService=t,this.clipboard=n,this.dialog=r,this.formTitle="My new form",this.titleEditMode=!1,this.bindings=[],this.output={},this.outputStr="{}",this.response={},this.responseStr="{}",this.responseBundle={},this.responseBundleStr="{}",this.fhirQuestionnaire={},this.fhirQuestionnaireStr="{}",this.observableBinding={title:"Question code",type:"Autocomplete",ecl:"<< 363787002 |Observable entity (observable entity)|",value:""},this.codeBindingObservables={title:"Question code (Observables)",type:"Autocomplete",ecl:"<< 363787002 |Observable entity (observable entity)|",value:""},this.codeBindingAll={title:"Question code",type:"Autocomplete",ecl:"<< 363787002 |Observable entity (observable entity)| OR << 404684003 |Clinical finding (finding)| OR << 71388002 |Procedure (procedure)| OR << 243796009 |Situation with explicit context (situation)|",value:""},this.codeBinding=this.codeBindingAll,this.checkboxBinding=JSON.parse(JSON.stringify(this.codeBindingAll)),this.example1={title:"Appendicitis data entry form (example)",bindings:[{title:"Diagnosis (type of appendicitis)",type:"Autocomplete",ecl:"<< 74400008 |Appendicitis|",value:"",note:"An autocomplete field to select between all descendants of appendicitis."},{title:"Clinical note",type:"Text box",ecl:"74400008 |Appendicitis|",value:"",note:"A text box for entering free text clinical information."},{title:"Appendicitis type",type:"Select (Single)",ecl:"<< 196781001 |Acute appendicitis with peritonitis (disorder)|",value:"",note:"A single selection dropdown field for a shorter selection of the type of appendicitis."},{title:"Appendicitis type (M)",type:"Select (Multiple)",ecl:"<< 196781001 |Acute appendicitis with peritonitis (disorder)|",value:"",note:"A multiple selection dropdown field for a shorter selection of the type of appendicitis."},{title:"Appendicectomy type",type:"Options",ecl:"<< 174036004 |Emergency appendectomy (procedure)|",value:"",note:"A radio buttons selector for the type of appendicectomy procedure."}]},this.newBindingForm=new nv({title:new Ns("",[fd.required,fd.maxLength(50)]),code:new Ns("",[]),type:new Ns("",[fd.required]),ecl:new Ns("",[]),value:new Ns("",[]),note:new Ns("",[fd.maxLength(500)])}),this.indexInEdit=-1,this.panelOpenState=!1,this.maxSelectCount=50,this.maxOptionsCount=10,this.controlTypes=["Autocomplete","Select (Single)","Select (Multiple)","Options","Section header","Text box","Integer","Decimal","Checkbox","Checkbox multiple"].sort((s,o)=>s.localeCompare(o)),this.showRightContainer=!1}ngOnInit(){this.checkboxBinding.title=this.checkboxBinding.title.replace("Question","Checkbox")}get stateName(){return this.showRightContainer?"open":"closed"}addBinding(){var t=this;return Mt(function*(){if(t.newBindingForm.markAllAsTouched(),t.newBindingForm.invalid)return;const{title:n,code:r,type:s,ecl:o,value:l,note:w}=t.newBindingForm.controls;let S={title:n.value,code:r.value,type:s.value,ecl:o.value,value:l.value,note:w.value},M=!1;o.value?typeof S.type?.indexOf("Select")<"u"&&S.type?.indexOf("Select")>-1?(yield t.getEclPreview(o.value)).expansion.contains.length>t.maxSelectCount&&(M=!0,o.setErrors({selectTooManyResults:!0})):(typeof S.type?.indexOf("Options")<"u"&&S.type?.indexOf("Options")>-1||typeof S.type?.indexOf("Checkbox multiple")<"u"&&S.type?.indexOf("Checkbox multiple")>-1)&&(yield t.getEclPreview(o.value)).expansion.contains.length>t.maxOptionsCount&&(M=!0,o.setErrors({optionsTooManyResults:!0})):"Section header"!=S.type&&"Text box"!=S.type&&"Integer"!=S.type&&"Decimal"!=S.type&&(M=!0,o.setErrors({required:!0})),!M&&(t.indexInEdit>-1?t.bindings[t.indexInEdit]=S:t.bindings.push(S),t.newBindingForm.reset(),t.newPanel.close(),t.indexInEdit=-1,setTimeout(()=>{t.refreshFhirQuestionnaire(),t.refreshResponse()},100))})()}refreshFhirQuestionnaire(){this.fhirQuestionnaire={resourceType:"Questionnaire",title:this.formTitle,status:"draft",item:[]},this.bindings.forEach((t,n)=>{const r=this.createItemForBinding(t,n);r&&this.fhirQuestionnaire.item.push(r)}),this.fhirQuestionnaireStr=JSON.stringify(this.fhirQuestionnaire,null,2)}createItemForBinding(t,n){const r=this.initializeBaseItem(t,n);return["Select (Single)","Select (Multiple)","Options","Autocomplete"].includes(t.type)&&(r.extension=this.getExtensionForSelectableTypes(),r.answerValueSet=this.getAnswerValueSet(t)),"Autocomplete"===t.type&&r.extension.push(this.getAutocompleteExtension()),"Select (Multiple)"===t.type&&(r.repeats=!0),r}initializeBaseItem(t,n){const r={linkId:n+1,text:t.title,type:this.getQuestionnaireItemType(t.type)};return t.code&&(r.code=[{system:"http://snomed.info/sct",code:t.code.code,display:t.code.display}]),r}getQuestionnaireItemType(t){switch(t){case"Section header":return"display";case"Select (Single)":case"Select (Multiple)":case"Options":case"Checkbox multiple":case"Autocomplete":return"choice";case"Text box":return"text";case"Integer":return"integer";case"Decimal":return"decimal";default:return console.warn(`Unhandled binding type: ${t}`),null}}getExtensionForSelectableTypes(){return[{url:"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-preferredTerminologyServer",valueUrl:"https://snowstorm.ihtsdotools.org/fhir"}]}getAutocompleteExtension(){return{url:"http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",valueCodeableConcept:{coding:[{system:"http://hl7.org/fhir/questionnaire-item-control",code:"autocomplete",display:"Auto-complete"}]}}}getAnswerValueSet(t){return`http://snomed.info/sct/900000000000207008?fhir_vs=ecl%2F${encodeURIComponent(t.ecl)}`}getEclPreview(t){var n=this;return Mt(function*(){return Da((yield n.terminologyService.expandValueSet(t,"")).pipe(Ri(s=>s)))})()}edit(t){this.indexInEdit=t;const n=this.bindings[t];this.newBindingForm.setValue({title:n.title,code:n.code?n.code:"",type:n.type,ecl:n.ecl,value:n.value,note:n.note}),this.newPanel.open()}onDrop(t){QR(this.bindings,t.previousIndex,t.currentIndex)}getErrors(t){const n=this.newBindingForm.get(t);return n?n.errors:null}getErrorMessage(t){const n=this.getErrors(t);if(n){if(n.required)return"This field is required";if(n.maxlength)return`This field must be less than ${n.maxlength.requiredLength} characters`;if(n.selectTooManyResults)return`Too many results (Max = ${this.maxSelectCount})`;if(n.optionsTooManyResults)return`Too many results (Max = ${this.maxOptionsCount})`}return null}refreshResponse(){this.response={};for(let t of this.bindings)this.response[t.title]={},t.code&&(this.response[t.title].code=t.code);for(let[t,n]of Object.entries(this.output))this.output[t].code&&(this.response[t].code=this.output[t].code),this.output[t].value&&(this.response[t].value=this.output[t].value);this.responseStr=JSON.stringify(this.response,null,2),this.refreshResponseBundle()}refreshResponseBundle(){this.responseBundle={resourceType:"Bundle",type:"collection",entry:[]};for(let[t,n]of Object.entries(this.response)){let r=n;const s=r.code?{coding:[{system:"http://snomed.info/sct",code:r.code.code,display:r.code.display}]}:void 0,o=r.value?.code?{coding:[{system:"http://snomed.info/sct",code:r.value.code,display:r.value.display}]}:void 0;let l={resourceType:"Observation",status:"final",category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"survey",display:"Survey"}]}],subject:{reference:"Patient/123"}};l.code=s||{coding:[{system:"http://snomed.info/sct",code:"363788007",display:"Clinical history/examination observable (observable entity)"}]},o&&(l.valueCodeableConcept=o),r.value&&"string"==typeof r.value&&(l.valueString=r.value),(l.valueCodeableConcept||l.valueString)&&this.responseBundle.entry.push(l)}this.responseBundleStr=JSON.stringify(this.responseBundle,null,2)}optionSelected(t,n,r){this.output[t]={code:n,value:r},n||delete this.output[t].code,this.outputStr=JSON.stringify(this.output,null,2),this.refreshResponse()}loadExample1(){this.formTitle=this.example1.title,this.bindings=this.example1.bindings,this.refreshFhirQuestionnaire(),this.clearOutput(),this.refreshResponse()}cancelEdit(){this.newBindingForm.reset(),this.newPanel.close(),this.indexInEdit=-1}clear(){this.bindings=[],this.clearOutput(),this.newBindingForm.reset(),this.formTitle="My new form",this.showRightContainer=!1}clearOutput(){this.output={},this.outputStr="{}";const t=JSON.parse(JSON.stringify(this.bindings));this.bindings=[],this.bindings=t}saveForm(){var t=new Blob([JSON.stringify({title:this.formTitle,bindings:this.bindings},null,2)],{type:"text/plain;charset=utf-8"});(0,gd.saveAs)(t,`${this.formTitle}.json`)}saveOutput(t){var n=new Blob([t],{type:"text/plain;charset=utf-8"});(0,gd.saveAs)(n,`${this.formTitle}-data.json`)}saveBundleOutput(t){var n=new Blob([t],{type:"text/plain;charset=utf-8"});(0,gd.saveAs)(n,`${this.formTitle}-fhir-bundle.json`)}copyOutputToClipboard(t){this.clipboard.copy(t)}uploadFile(t){if(1!==t.target.files.length)console.error("No file selected");else{const n=new FileReader;n.onloadend=r=>{if(n.result){const s=JSON.parse(n.result?.toString());Array.isArray(s)?(this.bindings=s,this.formTitle="My new form"):(this.bindings=[],this.bindings=s.bindings,this.formTitle=s.title),this.clearOutput(),this.refreshResponse(),this.refreshFhirQuestionnaire()}},n.readAsText(t.target.files[0])}}openEclBuilder(t,n){this.dialog.open(EAt,{data:{ecl:t},width:"80%",height:"80%"}).afterClosed().subscribe(s=>{if(s){const o=this.newBindingForm.get(n);o&&o.setValue(s.ecl)}})}toggleCodeBinding(){this.codeBinding=this.codeBinding===this.codeBindingAll?this.codeBindingObservables:this.codeBindingAll}toggleCheckboxBinding(){this.checkboxBinding=this.checkboxBinding.ecl===this.codeBindingAll.ecl?JSON.parse(JSON.stringify(this.codeBindingObservables)):JSON.parse(JSON.stringify(this.codeBindingAll)),this.checkboxBinding.title=this.checkboxBinding.title.replace("Question","Checkbox")}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fa),mt(GR),mt(lm))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-bindings-sandbox"]],viewQuery:function(n,r){if(1&n&&Pi(d2t,5),2&n){let s;Ge(s=He())&&(r.newPanel=s.first)}},decls:94,vars:27,consts:[["substancePopoverMenu","matMenu"],["newPanel",""],["fileInput",""],["demosMenu","matMenu"],["id","main-panel"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click","disableRipple"],[1,"flex","flex-row","mb-8"],[1,"w-2/3"],[1,"editPanel","w-full","pt-4","pb-4",3,"opened","closed"],[4,"ngIf"],[1,"row",3,"formGroup"],[1,"form-row"],[1,"form-column"],[1,"input-field"],["matInput","","type","text","formControlName","title","placeholder","Enter title..."],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"input-field","autocomplete-field"],["formControlName","code",1,"grow",3,"binding"],["href","javascript:void(0)",1,"bottom-right-link",3,"click"],["formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["class","input-field",4,"ngIf"],["class","input-field full-width",4,"ngIf"],[1,"row"],[1,"grow"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],[1,"w-1/3"],[1,"flex","flex-row","gap-4","justify-end","flex-wrap"],["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["hidden","","type","file","id","file",3,"change"],["mat-flat-button","","color","accent",3,"matMenuTriggerFor",4,"ngIf"],[1,"wide-menu"],["mat-menu-item","",3,"click"],["mat-flat-button","","color","accent",3,"click"],["class","compact-row-container",4,"ngIf"],[1,"row-container"],[1,"row-container-item"],["cdkDropList","",3,"cdkDropListDropped"],["class","output-panel","cdkDrag","",4,"ngFor","ngForOf"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Data collected from form"],["class","output",4,"ngIf"],["label","Data collected (FHIR Bundle)"],["label","FHIR Questionnaire"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],["matInput","","type","text","formControlName","ecl","placeholder","Enter ECL..."],["href","javascript:void(0)",1,"top-right-link",3,"click"],["formControlName","ecl",1,"grow",3,"binding"],[1,"input-field","full-width"],["matInput","","type","text","formControlName","note","placeholder","Enter a description..."],["mat-flat-button","","color","accent",3,"matMenuTriggerFor"],[1,"compact-row-container"],[1,"title"],["mat-icon-button","","color","primary",1,"tool",3,"click"],[1,"row","form-title"],["matInput","","type","text","placeholder","Enter title...",3,"ngModelChange","ngModel","ngModelOptions"],["cdkDrag","",1,"output-panel"],[1,"row","control"],["cdkDragHandle","",1,"tool","drag-handle"],["class","grow",3,"binding","selectionChange",4,"ngIf"],["class","title grow",4,"ngIf"],["class","grow",3,"binding","textChange",4,"ngIf"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled",4,"ngIf"],["mat-menu-item","",3,"disableRipple","click",4,"ngIf"],[1,"grow",3,"selectionChange","binding"],[1,"title","grow"],[1,"grow",3,"textChange","binding"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled"],[1,"output"],["id","save",4,"ngIf"],["highlight-js","","id","output","wrap","soft",3,"options","lang","innerHTML"],["id","save"],["mat-icon-button","","matTooltip","Download",3,"click"],["fontIcon","cloud_download"],["mat-icon-button","","matTooltip","Copy",3,"click"],["fontIcon","content_copy"]],template:function(n,r){if(1&n){const s=ye();q(0,"div",4)(1,"h3"),ut(2,"Terminology Bindings Sandbox "),q(3,"button",5)(4,"mat-icon"),ut(5,"info"),et()(),q(6,"mat-menu",null,0)(8,"span",6),zt("click",function(l){return Gt(s),Ht(l.stopPropagation())}),q(9,"h4"),ut(10,"Terminology Bindings Sandbox"),et(),q(11,"p"),ut(12,"This is a sandbox for creating terminology bindings, designed to support education activities."),et()()()(),q(13,"div",7)(14,"div",8)(15,"mat-expansion-panel",9,1),zt("opened",function(){return Gt(s),Ht(r.panelOpenState=!0)})("closed",function(){return Gt(s),Ht(r.panelOpenState=!1)}),q(17,"mat-expansion-panel-header")(18,"mat-panel-title")(19,"h4"),ut(20,"New binding:"),et()(),jt(21,h2t,2,0,"mat-panel-description",10),et(),q(22,"div")(23,"form",11)(24,"div",12)(25,"div",13)(26,"h5"),ut(27,"Question"),et(),q(28,"mat-form-field",14)(29,"mat-label"),ut(30,"Question text"),et(),Te(31,"input",15),jt(32,f2t,3,0,"button",16),q(33,"mat-error"),ut(34),et()(),q(35,"mat-form-field",17),Te(36,"app-autocomplete-binding",18),q(37,"a",19),zt("click",function(){return Gt(s),Ht(r.toggleCodeBinding())}),jt(38,m2t,2,0,"span",10)(39,p2t,2,0,"span",10),et(),q(40,"mat-error"),ut(41),et()()(),q(42,"div",13)(43,"h5"),ut(44,"Answer"),et(),q(45,"mat-form-field",14)(46,"mat-label"),ut(47,"Answer Type"),et(),q(48,"mat-select",20),jt(49,g2t,2,2,"mat-option",21),et(),q(50,"mat-error"),ut(51),et()(),jt(52,x2t,9,2,"mat-form-field",22)(53,w2t,7,4,"mat-form-field",22),et()(),jt(54,T2t,7,2,"mat-form-field",23),et(),Te(55,"br"),q(56,"div",24),Te(57,"span",25),jt(58,C2t,2,0,"button",26)(59,S2t,2,0,"button",26),q(60,"button",27),zt("click",function(){return Gt(s),Ht(r.cancelEdit())}),ut(61,"Cancel"),et()()()()(),q(62,"div",28)(63,"div",29),jt(64,E2t,2,1,"button",30),q(65,"input",31,2),zt("change",function(l){return Gt(s),Ht(r.uploadFile(l))}),et(),jt(67,A2t,2,1,"button",32),q(68,"mat-menu",33,3)(70,"button",34),zt("click",function(){return Gt(s),Ht(r.saveForm())}),ut(71,"Download"),et(),q(72,"button",34),zt("click",function(){return Gt(s),Ht(r.saveOutput(r.fhirQuestionnaireStr))}),ut(73,"Download as FHIR Questionnaire"),et()(),q(74,"button",35),zt("click",function(){return Gt(s),Ht(en(66).click())}),ut(75,"Upload form"),et(),q(76,"button",35),zt("click",function(){return Gt(s),Ht(r.loadExample1())}),ut(77,"Example"),et(),q(78,"button",35),zt("click",function(){return Gt(s),Ht(r.clear())}),ut(79,"Clear"),et()()()(),jt(80,D2t,6,1,"div",36)(81,M2t,12,3,"div",36),q(82,"div",37)(83,"div",38)(84,"div",39),zt("cdkDropListDropped",function(l){return Gt(s),Ht(r.onDrop(l))}),jt(85,G2t,24,12,"div",40),et()(),q(86,"div",38)(87,"mat-tab-group",41)(88,"mat-tab",42),jt(89,W2t,4,5,"div",43),et(),q(90,"mat-tab",44),jt(91,X2t,4,5,"div",43),et(),q(92,"mat-tab",45),jt(93,$2t,4,5,"div",43),et()()()()()}if(2&n){let s;const o=en(7);ot(3),xt("matMenuTriggerFor",o),ot(5),xt("disableRipple",!0),ot(13),xt("ngIf",!r.panelOpenState),ot(2),xt("formGroup",r.newBindingForm),ot(9),xt("ngIf",null==(s=r.newBindingForm.get("title"))?null:s.value),ot(2),qe(r.getErrorMessage("title")),ot(2),xt("binding",r.codeBinding),ot(2),xt("ngIf",r.codeBinding===r.codeBindingAll),ot(),xt("ngIf",r.codeBinding!=r.codeBindingAll),ot(2),qe(r.getErrorMessage("code")),ot(8),xt("ngForOf",r.controlTypes),ot(2),qe(r.getErrorMessage("type")),ot(),xt("ngIf","Section header"!=r.newBindingForm.controls.type.value&&"Text box"!=r.newBindingForm.controls.type.value&&"Checkbox"!=r.newBindingForm.controls.type.value&&"Integer"!=r.newBindingForm.controls.type.value&&"Decimal"!=r.newBindingForm.controls.type.value),ot(),xt("ngIf","Checkbox"==r.newBindingForm.controls.type.value),ot(),xt("ngIf","Section header"!=r.newBindingForm.controls.type.value),ot(4),xt("ngIf",-1==r.indexInEdit),ot(),xt("ngIf",r.indexInEdit>-1),ot(5),xt("ngIf",r.bindings.length),ot(3),xt("ngIf",r.bindings.length),ot(13),xt("ngIf",!r.titleEditMode),ot(),xt("ngIf",r.titleEditMode),ot(2),xt("@growShrink",r.stateName),ot(2),xt("ngForOf",r.bindings),ot(),xt("@openClose",r.stateName),ot(3),xt("ngIf",r.bindings.length>0),ot(2),xt("ngIf",r.bindings.length>0),ot(2),xt("ngIf",r.bindings.length>0)}},dependencies:[ws,Fs,HC,qR,ZR,Tj,Ma,Bo,ma,El,Jl,uu,Dl,nl,MW,kW,su,yu,rv,Al,Uo,rm,pd,sv,zy,ov,lv,ql,am,bu,jj,VAt,zAt,UAt,av,Yj,Zj,Jj,eX,iX,nX,rX],styles:["#main-panel[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{margin-top:0}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center;gap:10px}.grow[_ngcontent-%COMP%]{flex-grow:4}mat-hint[_ngcontent-%COMP%], mat-error[_ngcontent-%COMP%]{font-size:12px}.editPanel[_ngcontent-%COMP%]{border:1px solid #cccccc00;border-radius:5px;background-color:#a0c8e5}.control[_ngcontent-%COMP%]{margin-bottom:30px}.output-panel[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{opacity:0;transition:opacity .5s}.row[_ngcontent-%COMP%]:hover   .tool[_ngcontent-%COMP%]{opacity:1}.drag-handle[_ngcontent-%COMP%]{cursor:move;color:#616161}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px;margin-left:2rem}.action-button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:20px}.action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}.row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.compact-row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:1rem}.row-container-item[_ngcontent-%COMP%]{width:100%;padding:10px}.output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative;margin:2rem}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}.top-right-link[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;font-size:smaller}.form-title[_ngcontent-%COMP%]{margin-left:1rem}.mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:0!important}.bottom-right-link[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:0;font-size:smaller}.form-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-10px;margin-left:-10px;width:100%}.form-column[_ngcontent-%COMP%]{flex:1 1 0px;padding-right:10px;padding-left:10px;display:flex;flex-direction:column;width:100%}.input-field.full-width[_ngcontent-%COMP%]{width:calc(100% - 20px);margin-bottom:20px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}"],data:{animation:[yr("openClose",[Ln("open",ai({opacity:1,width:"50%"})),Ln("closed",ai({opacity:0,width:"0"})),gn("open <=> closed",[mn("0.5s")])]),yr("growShrink",[Ln("open",ai({width:"50%"})),Ln("closed",ai({width:"100%"})),gn("open <=> closed",[mn("0.5s")])])]}})}return e})(),K2t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-prescription-main"]],decls:2,vars:0,template:function(n,r){1&n&&(q(0,"p"),ut(1,"prescription-main works!, no?"),et())}})}return e})();const Z2t=["mat-sort-header",""],J2t=["*"];function q2t(e,i){if(1&e){const t=ye();q(0,"div",2),zt("@arrowPosition.start",function(){return Gt(t),Ht(Ct()._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){return Gt(t),Ht(Ct()._disableViewStateAnimation=!1)}),Te(1,"div",3),q(2,"div",4),Te(3,"div",5)(4,"div",6)(5,"div",7),et()()}if(2&e){const t=Ct();xt("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),ot(2),xt("@indicator",t._getArrowDirectionState()),ot(),xt("@leftPointer",t._getArrowDirectionState()),ot(),xt("@rightPointer",t._getArrowDirectionState())}}const sX=new se("MAT_SORT_DEFAULT_OPTIONS");let Nh=(()=>{class e{get direction(){return this._direction}set direction(t){this._direction=t}constructor(t){this._defaultOptions=t,this._initializedStream=new py(1),this.sortables=new Map,this._stateChanges=new Ne,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new Fe,this.initialized=this._initializedStream}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let r=function tDt(e,i){let t=["asc","desc"];return"desc"==e&&t.reverse(),i||t.push(""),t}(t.start||this.start,t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=r.indexOf(this.direction)+1;return s>=r.length&&(s=0),r[s]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(sX,8))};static#e=this.\u0275dir=me({type:e,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[$t.None,"matSortActive","active"],start:[$t.None,"matSortStart","start"],direction:[$t.None,"matSortDirection","direction"],disableClear:[$t.HasDecoratorInputTransform,"matSortDisableClear","disableClear",si],disabled:[$t.HasDecoratorInputTransform,"matSortDisabled","disabled",si]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[vn,ar]})}return e})();const Bh=w1t.ENTERING+" "+b1t.STANDARD_CURVE,uv={indicator:yr("indicator",[Ln("active-asc, asc",ai({transform:"translateY(0px)"})),Ln("active-desc, desc",ai({transform:"translateY(10px)"})),gn("active-asc <=> active-desc",mn(Bh))]),leftPointer:yr("leftPointer",[Ln("active-asc, asc",ai({transform:"rotate(-45deg)"})),Ln("active-desc, desc",ai({transform:"rotate(45deg)"})),gn("active-asc <=> active-desc",mn(Bh))]),rightPointer:yr("rightPointer",[Ln("active-asc, asc",ai({transform:"rotate(45deg)"})),Ln("active-desc, desc",ai({transform:"rotate(-45deg)"})),gn("active-asc <=> active-desc",mn(Bh))]),arrowOpacity:yr("arrowOpacity",[Ln("desc-to-active, asc-to-active, active",ai({opacity:1})),Ln("desc-to-hint, asc-to-hint, hint",ai({opacity:.54})),Ln("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",ai({opacity:0})),gn("* => asc, * => desc, * => active, * => hint, * => void",mn("0ms")),gn("* <=> *",mn(Bh))]),arrowPosition:yr("arrowPosition",[gn("* => desc-to-hint, * => desc-to-active",mn(Bh,Kg([ai({transform:"translateY(-25%)"}),ai({transform:"translateY(0)"})]))),gn("* => hint-to-desc, * => active-to-desc",mn(Bh,Kg([ai({transform:"translateY(0)"}),ai({transform:"translateY(25%)"})]))),gn("* => asc-to-hint, * => asc-to-active",mn(Bh,Kg([ai({transform:"translateY(25%)"}),ai({transform:"translateY(0)"})]))),gn("* => hint-to-asc, * => active-to-asc",mn(Bh,Kg([ai({transform:"translateY(0)"}),ai({transform:"translateY(-25%)"})]))),Ln("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",ai({transform:"translateY(0)"})),Ln("hint-to-desc, active-to-desc, desc",ai({transform:"translateY(-25%)"})),Ln("hint-to-asc, active-to-asc, asc",ai({transform:"translateY(25%)"}))]),allowChildren:yr("allowChildren",[gn("* <=> *",[sC("@*",rC(),{optional:!0})])])};let JC=(()=>{class e{constructor(){this.changes=new Ne}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const iDt={provide:JC,deps:[[new Ud,new Cf,JC]],useFactory:function eDt(e){return e||new JC}};let oP=(()=>{class e{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}constructor(t,n,r,s,o,l,w,S){this._intl=t,this._changeDetectorRef=n,this._sort=r,this._columnDef=s,this._focusMonitor=o,this._elementRef=l,this._ariaDescriber=w,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",S?.arrowPosition&&(this.arrowPosition=S?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const n=!!t;n!==this._showIndicatorHint&&(this._setIndicatorHintVisible(n),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t||{},this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){!this._isDisabled()&&(32===t.keyCode||13===t.keyCode)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,t)),this._sortActionDescription=t}_handleStateChanges(){this._rerenderSubscription=qr(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(JC),mt(Fn),mt(Nh,8),mt("MAT_SORT_HEADER_COLUMN_DEF",8),mt(Kl),mt(oi),mt(dH,8),mt(sX,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(n,r){1&n&&zt("click",function(){return r._handleClick()})("keydown",function(o){return r._handleKeydown(o)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),2&n&&(Ai("aria-sort",r._getAriaSortAttribute()),Si("mat-sort-header-disabled",r._isDisabled()))},inputs:{id:[$t.None,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[$t.HasDecoratorInputTransform,"disabled","disabled",si],sortActionDescription:"sortActionDescription",disableClear:[$t.HasDecoratorInputTransform,"disableClear","disableClear",si]},exportAs:["matSortHeader"],standalone:!0,features:[vn,Wi],attrs:Z2t,ngContentSelectors:J2t,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(n,r){1&n&&(er(),q(0,"div",0)(1,"div",1),Ti(2),et(),jt(3,q2t,6,6,"div",2),et()),2&n&&(Si("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before","before"===r.arrowPosition),Ai("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),ot(3),En(3,r._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color);opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[uv.indicator,uv.leftPointer,uv.rightPointer,uv.arrowOpacity,uv.arrowPosition,uv.allowChildren]},changeDetection:0})}return e})(),nDt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({providers:[iDt],imports:[nn]})}return e})(),rDt=(()=>{class e{saveItem(t,n){localStorage.setItem(t,n)}getItem(t){return localStorage.getItem(t)}removeItem(t){localStorage.removeItem(t)}isLocalStorageSupported(){try{const t="__test__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hv=(()=>{class e{constructor(t,n){this.http=t,this.storageService=n,this.baseUrlSubject=new Kr("https://hapi.fhir.org/baseR4"),this.baseUrl$=this.baseUrlSubject.asObservable(),this.userTagSubject=new Kr(""),this.userTag$=this.userTagSubject.asObservable(),this.initialize()}initialize(){if(this.storageService.isLocalStorageSupported()){const t=this.storageService.getItem("baseUrl");t&&this.baseUrlSubject.next(t);const n=this.storageService.getItem("userTag");n&&this.userTagSubject.next(n)}}setBaseUrl(t){this.baseUrlSubject.next(t),this.storageService.saveItem("baseUrl",t)}getBaseUrl(){return this.baseUrlSubject.getValue()}setUserTag(t){this.userTagSubject.next(t),this.storageService.saveItem("userTag",t)}getUserTag(){return this.userTagSubject.getValue()}postQuestionnaire(t){return this.http.post(`${this.baseUrlSubject.value}/Questionnaire`,t)}getQuestionnairesByTag(t,n){return n||(n=100),this.http.get(`${this.baseUrlSubject.value}/Questionnaire?_tag=${t}&_count=${n}`)}tagQuestionnaire(t,n){return this.http.post(`${this.baseUrlSubject.value}/Questionnaire/${t}/$meta-add`,{resourceType:"Parameters",parameter:[{name:"meta",valueMeta:{tag:[{system:"http://snomed.org/tags",code:n}]}}]})}deleteQuestionnaire(t){return this.http.delete(`${this.baseUrlSubject.value}/Questionnaire/${t}`)}updateOrCreateQuestionnaire(t,n){return t.id?this.http.put(`${this.baseUrlSubject.value}/Questionnaire?_id=${t.id}&_tag=${n}`,t).pipe(ua(s=>404===s.status?this.postQuestionnaire(t):Mg(s))):this.postQuestionnaire(t)}getQuestionnaireHistory(t){return this.http.get(`${this.getBaseUrl()}/Questionnaire/${t}/_history`)}getSpecificQuestionnaireVersion(t,n){return this.http.get(`${this.getBaseUrl()}/Questionnaire/${t}/_history/${n}`)}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Ql),ne(rDt))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sDt(e,i){if(1&e&&(q(0,"mat-option",15),ut(1),et()),2&e){const t=i.$implicit;xt("value",t),ot(),Ke(" ",t.title," ")}}function aDt(e,i){1&e&&Te(0,"mat-spinner",16)}function oDt(e,i){if(1&e){const t=ye();q(0,"div",17)(1,"span",18),ut(2,"\u2261"),et(),ut(3),q(4,"button",19),zt("click",function(){const r=Gt(t).index;return Ht(Ct().deleteQuestionnaire(r))}),q(5,"mat-icon"),ut(6,"delete"),et()()()}if(2&e){const t=i.$implicit;ot(3),Ke(" ",t.title," ")}}let aX=(()=>{class e{constructor(t,n,r,s){this.fb=t,this.fhirService=n,this.data=r,this.dialogRef=s,this.allQuestionnaires=[],this.availableQuestionnaires=[],this.addedQuestionnaires=[],this.userTag="",this.loading=!1}ngOnInit(){this.questionnaireForm=this.fb.group({selectedQuestionnaire:[{value:"",disabled:!0}],assignedName:[{value:"",disabled:!0}]}),this.data&&(this.addedQuestionnaires=this.data.questionnaires,this.questionnaireForm.get("assignedName")?.setValue(this.data.title)),this.questionnaireForm.get("selectedQuestionnaire"),this.userTag=this.fhirService.getUserTag(),this.loadAvailableQuestionnaires()}updateAvailableQuestionnaires(){this.availableQuestionnaires=this.addedQuestionnaires?this.allQuestionnaires.filter(t=>!this.addedQuestionnaires.some(n=>n.id===t.id)):this.allQuestionnaires,this.availableQuestionnaires=this.availableQuestionnaires.filter(t=>!t.extension||!t.extension.some(n=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation"===n.url&&"assemble-root"===n.valueCode))}loadAvailableQuestionnaires(){this.loading=!0,this.fhirService.getQuestionnairesByTag(this.userTag).subscribe(t=>{this.allQuestionnaires=t.entry.map(n=>n.resource),this.allQuestionnaires.sort((n,r)=>n.title.localeCompare(r.title)),this.updateAvailableQuestionnaires(),this.loading=!1,this.questionnaireForm?.get("selectedQuestionnaire")?.enable(),this.questionnaireForm?.get("assignedName")?.enable()})}addQuestionnaire(){const t=this.questionnaireForm.value;t.selectedQuestionnaire&&(this.addedQuestionnaires.push({...t.selectedQuestionnaire,assignedName:t.assignedName}),this.questionnaireForm.get("selectedQuestionnaire")?.reset(),this.updateAvailableQuestionnaires())}drop(t){QR(this.addedQuestionnaires,t.previousIndex,t.currentIndex)}deleteQuestionnaire(t){t>-1&&(this.addedQuestionnaires.splice(t,1),this.updateAvailableQuestionnaires())}isSaveDisabled(){return!this.questionnaireForm.get("assignedName")?.value||!this.addedQuestionnaires.length}closeModal(){this.dialogRef.close({title:this.questionnaireForm.get("assignedName")?.value,questionnaires:this.addedQuestionnaires})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(BC),mt(hv),mt(KC),mt(Lh))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-create-root-module"]],decls:26,vars:6,consts:[[1,"form-layout",3,"formGroup"],[1,"form-row"],[1,"full-width"],["matInput","","formControlName","assignedName"],[1,"half-width"],["formControlName","selectedQuestionnaire"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"add-button",3,"click","disabled"],["diameter","35","class","loading-spinner",4,"ngIf"],[1,"questionnaire-list"],[1,"list",3,"cdkDropListDropped"],["cdkDrag","","class","cdk-drag",4,"ngFor","ngForOf"],[1,"button-container"],["mat-flat-button","","color","primary","mat-dialog-close",""],["mat-flat-button","","color","accent",3,"click","disabled"],[3,"value"],["diameter","35",1,"loading-spinner"],["cdkDrag","",1,"cdk-drag"],[1,"drag-handle"],["mat-icon-button","","aria-label","Delete questionnaire",3,"click"]],template:function(n,r){1&n&&(q(0,"mat-dialog-content")(1,"h2"),ut(2,"Create a modular Questionnaire"),et(),q(3,"form",0)(4,"div",1)(5,"mat-form-field",2)(6,"mat-label"),ut(7,"Assign Name"),et(),Te(8,"input",3),et()(),q(9,"div",1)(10,"mat-form-field",4)(11,"mat-label"),ut(12,"Select Child Questionnaire"),et(),q(13,"mat-select",5),jt(14,sDt,2,2,"mat-option",6),et()(),q(15,"button",7),zt("click",function(){return r.addQuestionnaire()}),ut(16,"Add questionnaire"),et(),jt(17,aDt,1,0,"mat-spinner",8),et()(),q(18,"div",9)(19,"cdk-drop-list",10),zt("cdkDropListDropped",function(o){return r.drop(o)}),jt(20,oDt,7,1,"div",11),et()()(),q(21,"mat-dialog-actions",12)(22,"button",13),ut(23,"Cancel"),et(),q(24,"button",14),zt("click",function(){return r.closeModal()}),ut(25,"Save"),et()()),2&n&&(ot(3),xt("formGroup",r.questionnaireForm),ot(11),xt("ngForOf",r.availableQuestionnaires),ot(),xt("disabled",r.loading),ot(2),xt("ngIf",r.loading),ot(3),xt("ngForOf",r.addedQuestionnaires),ot(4),xt("disabled",r.isSaveDisabled()||r.loading))},dependencies:[ws,Fs,qR,ZR,Ma,Bo,ma,Dl,nl,su,Ah,yu,rv,Al,Uo,rm,pd,sv,lv,dv,Yy,Xy],styles:[".questionnaire-list[_ngcontent-%COMP%]{width:100%;max-height:400px;overflow:auto;border:1px solid #ccc;border-radius:4px;background-color:#f9f9f9;padding:10px}.list[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;background-color:#fff;margin-bottom:10px;padding:10px;display:flex;align-items:center;justify-content:left;box-shadow:0 2px 4px #0000001a}.drag-handle[_ngcontent-%COMP%]{cursor:move;margin-right:15px;font-size:20px;color:#666}.cdk-drag-preview[_ngcontent-%COMP%]{background-color:#e0e0e0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.form-layout[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.form-layout[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.form-layout[_ngcontent-%COMP%]   .half-width[_ngcontent-%COMP%]{width:50%;margin-right:15px}"]})}return e})();function lDt(e,i){if(1&e&&(q(0,"mat-option",16),ut(1),et()),2&e){const t=i.$implicit;xt("value",t),ot(),Ke(" ",t," ")}}function cDt(e,i){if(1&e){const t=ye();q(0,"mat-form-field",13)(1,"mat-select",15),zt("selectionChange",function(r){return Gt(t),Ht(Ct(2)._changePageSize(r.value))}),L_(2,lDt,2,2,"mat-option",16,O_),et()()}if(2&e){const t=Ct(2);xt("appearance",t._formFieldAppearance)("color",t.color),ot(),xt("value",t.pageSize)("disabled",t.disabled)("aria-labelledby",t._pageSizeLabelId)("panelClass",t.selectConfig.panelClass||"")("disableOptionCentering",t.selectConfig.disableOptionCentering),ot(),N_(t._displayedPageSizeOptions)}}function dDt(e,i){if(1&e&&(q(0,"div",14),ut(1),et()),2&e){const t=Ct(2);ot(),qe(t.pageSize)}}function uDt(e,i){if(1&e&&(q(0,"div",2)(1,"div",12),ut(2),et(),jt(3,cDt,4,7,"mat-form-field",13)(4,dDt,2,1,"div",14),et()),2&e){const t=Ct();ot(),Ai("id",t._pageSizeLabelId),ot(),Ke(" ",t._intl.itemsPerPageLabel," "),ot(),En(3,t._displayedPageSizeOptions.length>1?3:-1),ot(),En(4,t._displayedPageSizeOptions.length<=1?4:-1)}}function hDt(e,i){if(1&e){const t=ye();q(0,"button",17),zt("click",function(){return Gt(t),Ht(Ct().firstPage())}),gl(),q(1,"svg",7),Te(2,"path",18),et()()}if(2&e){const t=Ct();xt("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),Ai("aria-label",t._intl.firstPageLabel)}}function fDt(e,i){if(1&e){const t=ye();q(0,"button",19),zt("click",function(){return Gt(t),Ht(Ct().lastPage())}),gl(),q(1,"svg",7),Te(2,"path",20),et()()}if(2&e){const t=Ct();xt("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),Ai("aria-label",t._intl.lastPageLabel)}}let qC=(()=>{class e{constructor(){this.changes=new Ne,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,n,r)=>{if(0==r||0==n)return`0 of ${r}`;const s=t*n;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+n,r):s+n} of ${r}`}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const pDt={provide:qC,deps:[[new Ud,new Cf,qC]],useFactory:function mDt(e){return e||new qC}},vDt=new se("MAT_PAGINATOR_DEFAULT_OPTIONS");let xDt=0,lP=(()=>{class e{get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(t||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=t||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(t||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(n=>Jr(n,0)),this._updateDisplayedPageSizeOptions()}constructor(t,n,r){if(this._intl=t,this._changeDetectorRef=n,this._pageSizeLabelId="mat-paginator-page-size-label-"+xDt++,this._isInitialized=!1,this._initializedStream=new py(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new Fe,this.initialized=this._initializedStream,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:o,hidePageSize:l,showFirstLastButtons:w}=r;null!=s&&(this._pageSize=s),null!=o&&(this._pageSizeOptions=o),null!=l&&(this.hidePageSize=l),null!=w&&(this.showFirstLastButtons=w)}this._formFieldAppearance=r?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,n)=>t-n),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(qC),mt(Fn),mt(vDt,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[$t.HasDecoratorInputTransform,"pageIndex","pageIndex",Jr],length:[$t.HasDecoratorInputTransform,"length","length",Jr],pageSize:[$t.HasDecoratorInputTransform,"pageSize","pageSize",Jr],pageSizeOptions:"pageSizeOptions",hidePageSize:[$t.HasDecoratorInputTransform,"hidePageSize","hidePageSize",si],showFirstLastButtons:[$t.HasDecoratorInputTransform,"showFirstLastButtons","showFirstLastButtons",si],selectConfig:"selectConfig",disabled:[$t.HasDecoratorInputTransform,"disabled","disabled",si]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[vn,Wi],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(n,r){1&n&&(q(0,"div",0)(1,"div",1),jt(2,uDt,5,4,"div",2),q(3,"div",3)(4,"div",4),ut(5),et(),jt(6,hDt,3,5,"button",5),q(7,"button",6),zt("click",function(){return r.previousPage()}),gl(),q(8,"svg",7),Te(9,"path",8),et()(),Q0(),q(10,"button",9),zt("click",function(){return r.nextPage()}),gl(),q(11,"svg",7),Te(12,"path",10),et()(),jt(13,fDt,3,5,"button",11),et()()()),2&n&&(ot(2),En(2,r.hidePageSize?-1:2),ot(3),Ke(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),ot(),En(6,r.showFirstLastButtons?6:-1),ot(),xt("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),Ai("aria-label",r._intl.previousPageLabel),ot(3),xt("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),Ai("aria-label",r._intl.nextPageLabel),ot(3),En(13,r.showFirstLastButtons?13:-1))},dependencies:[Dl,lv,su,Bo,bu],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking);--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return e})(),yDt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({providers:[pDt],imports:[Kk,qW,rj,lP]})}return e})(),oX=(()=>{class e{constructor(t,n){this.http=t,this.fhirService=n}generateRootQuestionnaire(t,n){var r=this;return Mt(function*(){try{let o=yield Da(r.http.get("assets/questionnaires/root-questionnaire-template.json"));o.title=t;let l=0,w=r.fhirService.getBaseUrl();return r.fhirService.getUserTag(),n.forEach(M=>{l++,M.url=w+"/Questionnaire/"+M.id,o.item.push({linkId:l.toString(),text:M.title,type:"group",required:!1,item:[{extension:[{url:"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire",valueCanonical:M.url}],linkId:l.toString()+".1",text:"Unable to resolve sub-questionnaire",type:"display"}]})}),o}catch(s){throw console.error("Error generating root questionnaire:",s),s}})()}getRootQuestionnaireData(t){var n=this;return Mt(function*(){if(!t||!Array.isArray(t.item))throw new Error("Invalid root questionnaire");const r=t.title,s=t.item.filter(l=>"group"===l.type&&l.item&&Array.isArray(l.item)).flatMap(l=>l.item).map(function(){var l=Mt(function*(w){const S=w.extension?.find(M=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire"===M.url);return S?n.getQuestionnaireFromUrl(S.valueCanonical):null});return function(w){return l.apply(this,arguments)}}());return{title:r,questionnaires:(yield Promise.all(s)).filter(l=>null!==l)}})()}checkForAssembleRoot(t){return!!(t&&t.extension&&Array.isArray(t.extension))&&t.extension.some(n=>"assemble-root"===n.valueCode)}assembleQuestionnaire(t){var n=this;return Mt(function*(){if(t=JSON.parse(JSON.stringify(t)),!n.checkForAssembleRoot(t))return null;for(let r of t.item)if("group"==r.type){r.extension=[];for(let s of r.item)if(s.extension&&Array.isArray(s.extension))for(let o of s.extension)if("http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire"===o.url){let l=yield n.getQuestionnaireFromUrl(o.valueCanonical);l&&(r.item=l.item),r.extension||(r.extension=[]),r.extension.push({url:"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assembledFrom",valueCanonical:o.valueCanonical})}}return t.extension=t.extension.filter(r=>"assemble-root"!==r.valueCode),t})()}disassembleQuestionnaire(t){var n=this;return Mt(function*(){if(!t||!t.item||!Array.isArray(t.item))throw new Error("Invalid root questionnaire");const r=t.title,s=[];for(const o of t.item)if("group"===o.type&&o.extension&&Array.isArray(o.extension)){const l=o.extension.find(w=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assembledFrom"===w.url);if(l){const w=l.valueCanonical,S=yield n.getQuestionnaireFromUrl(w);S&&s.push(S)}}return{title:r,questionnaires:s}})()}getQuestionnaireFromUrl(t){var n=this;return Mt(function*(){try{return yield Da(n.http.get(t))}catch(r){return console.error("Error fetching questionnaire:",r),null}})()}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Ql),ne(hv))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const bDt=()=>[5,10,20],wDt=e=>["status-pill",e],_Dt=()=>["status-pill","active"],TDt=()=>["status-pill","draft"];function CDt(e,i){1&e&&(q(0,"th",19),ut(1," Title "),et())}function SDt(e,i){if(1&e&&(q(0,"td",20),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.title," ")}}function EDt(e,i){1&e&&(q(0,"th",19),ut(1," Status "),et())}function ADt(e,i){if(1&e&&(q(0,"td",20)(1,"span",21),ut(2),gs(3,"uppercase"),et()()),2&e){const t=i.$implicit;ot(),xt("ngClass",_l(4,wDt,t.status)),ot(),qe(jl(3,2,t.status))}}function DDt(e,i){1&e&&(q(0,"th",22),ut(1," Version "),et())}function MDt(e,i){if(1&e&&(q(0,"td",20),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.meta.versionId," ")}}function IDt(e,i){1&e&&(q(0,"th",19),ut(1," Last updated "),et())}function kDt(e,i){if(1&e&&(q(0,"td",20),ut(1),gs(2,"date"),et()),2&e){const t=i.$implicit;ot(),Ke(" ",Sc(2,1,t.meta.lastUpdated,"MMMM d, y, h:mm:ss a")," ")}}function RDt(e,i){1&e&&(q(0,"th",19),ut(1," Type "),et())}function PDt(e,i){1&e&&(q(0,"span",21),ut(1,"QUESTIONNAIRE"),et()),2&e&&xt("ngClass",tl(1,_Dt))}function FDt(e,i){1&e&&(q(0,"span",21),ut(1,"MODULAR ROOT"),et()),2&e&&xt("ngClass",tl(1,TDt))}function ODt(e,i){if(1&e&&(q(0,"td",20),jt(1,PDt,2,2,"span",23)(2,FDt,2,2,"span",23),et()),2&e){const t=i.$implicit,n=Ct();ot(),xt("ngIf",!n.isRootQuestionnaire(t)),ot(),xt("ngIf",n.isRootQuestionnaire(t))}}function LDt(e,i){1&e&&(q(0,"th",22),ut(1," Actions "),et())}function NDt(e,i){if(1&e){const t=ye();q(0,"button",34),zt("click",function(){Gt(t);const r=Ct().$implicit;return Ht(Ct().validate(r))}),q(1,"mat-icon"),ut(2,"done"),et()()}if(2&e){const t=Ct().$implicit;xt("disabled",Ct().isRootQuestionnaire(t))}}function BDt(e,i){if(1&e){const t=ye();q(0,"button",35),zt("click",function(){Gt(t);const r=Ct().$implicit;return Ht(Ct().assemble(r))}),q(1,"mat-icon"),ut(2,"build"),et()()}}function VDt(e,i){if(1&e){const t=ye();q(0,"button",36),zt("click",function(){Gt(t);const r=Ct().$implicit;return Ht(Ct().preview(r))}),q(1,"mat-icon"),ut(2,"visibility"),et()()}}function UDt(e,i){if(1&e){const t=ye();q(0,"button",37),zt("click",function(){Gt(t);const r=Ct().$implicit;return Ht(Ct().openInNewTab(r))}),q(1,"mat-icon"),ut(2,"open_in_new"),et()()}}function zDt(e,i){if(1&e){const t=ye();q(0,"button",38),zt("click",function(){Gt(t);const r=Ct().$implicit;return Ht(Ct().editQuestionnaire(r))}),q(1,"mat-icon"),ut(2,"edit"),et()()}}function GDt(e,i){if(1&e){const t=ye();q(0,"button",39),zt("click",function(){Gt(t);const r=Ct().$implicit;return Ht(Ct().openModularQuestionnaireModal(r))}),q(1,"mat-icon"),ut(2,"edit"),et()()}}function HDt(e,i){if(1&e){const t=ye();q(0,"td",20),jt(1,NDt,3,1,"button",24)(2,BDt,3,0,"button",25)(3,VDt,3,0,"button",26)(4,UDt,3,0,"button",27),q(5,"button",28),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct().saveQuestionnaire(r))}),q(6,"mat-icon"),ut(7,"cloud_download"),et()(),jt(8,zDt,3,0,"button",29)(9,GDt,3,0,"button",30),q(10,"button",31),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct().viewHistory(r))}),q(11,"mat-icon"),ut(12,"history"),et()(),q(13,"span",32)(14,"button",33),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct().deleteQuestionnaire(r))}),q(15,"mat-icon"),ut(16,"delete"),et()()()()}if(2&e){const t=i.$implicit,n=Ct();ot(),xt("ngIf",n.config.validate),ot(),xt("ngIf",n.isRootQuestionnaire(t)),ot(),xt("ngIf",n.config.preview&&!n.isRootQuestionnaire(t)),ot(),xt("ngIf",n.config.preview),ot(4),xt("ngIf",!n.isRootQuestionnaire(t)),ot(),xt("ngIf",n.isRootQuestionnaire(t)),ot(),xt("disabled",1==t.meta.versionId),ot(3),mh("matTooltip",n.getDeleteTooltip(t)),ot(),xt("disabled",n.getReferencingQuestionnaires(t).length>0)}}function WDt(e,i){1&e&&Te(0,"tr",40)}function jDt(e,i){1&e&&Te(0,"tr",41)}function XDt(e,i){1&e&&(q(0,"p",42)(1,"i"),ut(2," No questionnaires found. Upload your questionnaires to start. "),et()())}function YDt(e,i){1&e&&Te(0,"mat-spinner",43)}function $Dt(e,i){if(1&e){const t=ye();q(0,"button",44),zt("click",function(){return Gt(t),Ht(Ct().downloadAllQuestionnaires())}),ut(1," Download bundle "),et()}}let lX=(()=>{class e{constructor(t,n,r,s){this.fhirService=t,this.questionnaireService=n,this.dialog=r,this._snackBar=s,this.questionnaireSelected=new Fe,this.validateQuestionnaire=new Fe,this.previewQuestionnaire=new Fe,this.viewQuestionaireHistory=new Fe,this.config={},this.displayedColumns=["title","status","version","lastUpdated","type","actions"],this.dataSource=new im,this.questionnaires=[],this.loading=!1,this.selectedFhirServer="",this.selectedUserTag="",this.notFound=!1,this.baseUrlChanged=new Ne,this.userTagChanged=new Ne,this.fbUrl="https://formbuilder.nlm.nih.gov",this.blankQuestionnaire={resourceType:"Questionnaire",title:"New Form",status:"draft",item:[{type:"string",linkId:"4009522077787",text:"Item 0"}]}}ngOnInit(){}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.sortingDataAccessor=(t,n)=>{switch(n){case"type":return this.isRootQuestionnaire(t)?"Modular root":"Questionnaire";case"version":return t.meta&&t.meta.versionId?t.meta.versionId:"";case"lastUpdated":return t.meta&&t.meta.lastUpdated?new Date(t.meta.lastUpdated):"";default:return t[n]}},this.selectedUserTag&&this.selectedFhirServer&&this.loadQuestionnaires(),qd([this.fhirService.baseUrl$.pipe(iu(1e3),nu()),this.fhirService.userTag$.pipe(iu(1e3),nu())]).subscribe(([t,n])=>{(this.selectedFhirServer!==t||this.selectedUserTag!==n)&&(this.selectedFhirServer=t,this.selectedUserTag=n,this.selectedUserTag&&this.selectedFhirServer&&this.loadQuestionnaires())})}ngOnChanges(t){}loadQuestionnaires(){this.loading=!0,this.notFound=!1,this.questionnaires=[],this.fhirService.getQuestionnairesByTag(this.selectedUserTag).subscribe(t=>{t.entry?(this.questionnaires=t.entry.map(n=>n.resource),this.dataSource.data=this.questionnaires,this.dataSource.sort=this.sort,this.loading=!1,this.sort.active="title",this.sort.direction="asc",this.sort.sortChange.emit()):(this.questionnaires=[],this.dataSource.data=this.questionnaires,this.loading=!1,this.notFound=!0)})}updateQuestionnairesList(t){const n=this.questionnaires.findIndex(r=>r.id===t.id);-1!==n?(this.questionnaires[n]=t,this.dataSource.data=this.questionnaires):(this.questionnaires.push(t),this.dataSource.data=this.questionnaires)}addQuestionnaire(t){this.updateQuestionnairesList(t)}deleteQuestionnaire(t){this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Deleting Questionnaire...",panelClass:["green-snackbar"]}),this.fhirService.deleteQuestionnaire(t.id).subscribe(()=>{this.questionnaires=this.questionnaires.filter(n=>n.id!==t.id),this.dataSource.data=this.questionnaires,this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Questionnaire deleted successfully",panelClass:["green-snackbar"]})})}selectQuestionnaire(t){this.questionnaireSelected.emit(t)}validate(t){this.validateQuestionnaire.emit(t)}viewHistory(t){this.viewQuestionaireHistory.emit(t)}preview(t){this.previewQuestionnaire.emit(t)}openInNewTab(t){window.open(this.selectedFhirServer+"/Questionnaire/"+t.id,"_blank")}saveQuestionnaire(t){var n=new Blob([JSON.stringify(t,null,2)],{type:"text/plain;charset=utf-8"});gd(n,`${t.title}-v${t.meta.versionId}.json`)}isRootQuestionnaire(t){return!(!t.extension||!Array.isArray(t.extension))&&t.extension.some(n=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation"===n.url&&"assemble-root"===n.valueCode)}assemble(t){this._snackBar.openFromComponent(Rr,{duration:2e3,data:"Assembling Questionnaire...",panelClass:["green-snackbar"]}),this.questionnaireService.assembleQuestionnaire(t).then(n=>{n.title=t.title+" (assembled)",this.previewQuestionnaire.emit(n),this._snackBar.openFromComponent(Rr,{duration:2e3,data:"Questionnaire ready",panelClass:["green-snackbar"]})}).catch(n=>{console.error("Error assembling questionnaire:",n)})}createQuestionnaire(){let t=this.blankQuestionnaire;t.meta||(t.meta={}),t.meta.tag=[{system:"http://snomed.org/tags",code:this.selectedUserTag,display:this.selectedUserTag},{system:"http://snomed.org/tags",code:"questionnaireManagerTool",display:"questionnaireManagerTool"}],this.editQuestionnaire(t)}editQuestionnaire(t){const n=window.open(this.fbUrl+"/window-open?referrer="+encodeURIComponent(window.location.href));window.addEventListener("message",function s(o){if(o.origin===r.fbUrl){const w=o.data.questionnaire;switch(o.data.type){case"initialized":n?.postMessage({type:"initialQuestionnaire",questionnaire:t},r.fbUrl);break;case"updateQuestionnaire":break;case"closed":r.fhirService.updateOrCreateQuestionnaire(w,r.selectedUserTag).pipe($l()).subscribe(S=>{r._snackBar.openFromComponent(Rr,{duration:5e3,data:"Questionnaire updated successfully",panelClass:["green-snackbar"]}),r.updateQuestionnairesList(S)},S=>{r._snackBar.openFromComponent(Rr,{duration:5e3,data:"Error saving questionnaire",panelClass:["red-snackbar"]})})}}},!0);let r=this}openModularQuestionnaireModal(t){var n=this;return Mt(function*(){let r=yield n.questionnaireService.getRootQuestionnaireData(t);n.dialog.open(aX,{data:r,width:"75%"}).afterClosed().subscribe(o=>{o&&n.handleDialogResult(o,t)})})()}handleDialogResult(t,n){var r=this;return Mt(function*(){r._snackBar.openFromComponent(Rr,{duration:5e3,data:"Updating questionnaire...",panelClass:["green-snackbar"]});try{let s=yield r.questionnaireService.generateRootQuestionnaire(t.title,t.questionnaires);s&&(n.title=t.title,n.item=s.item,r.addQuestionnaire(n),r.fhirService.updateOrCreateQuestionnaire(n,r.selectedUserTag).pipe($l()).subscribe(o=>{r._snackBar.openFromComponent(Rr,{duration:5e3,data:"Questionnaire updated successfully",panelClass:["green-snackbar"]}),r.updateQuestionnairesList(o)},o=>{r._snackBar.openFromComponent(Rr,{duration:5e3,data:"Error saving questionnaire",panelClass:["red-snackbar"]})}))}catch(s){console.error("Error handling dialog result:",s)}})()}downloadAllQuestionnaires(){this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Downloading Questionnaires...",panelClass:["green-snackbar"]}),this.fhirService.getQuestionnairesByTag(this.selectedUserTag).subscribe(t=>{var n=new Blob([JSON.stringify(t,null,2)],{type:"text/plain;charset=utf-8"});gd(n,"questionnaires-bundle.json"),this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Questionnaires downloaded successfully",panelClass:["green-snackbar"]})})}getReferencingQuestionnaires(t){let r=`${this.fhirService.getBaseUrl()}/Questionnaire/${t.id}`;return this.dataSource.data.filter(o=>o.item&&Array.isArray(o.item)&&o.item.some(l=>l.item&&Array.isArray(l.item)&&l.item.some(w=>w.extension&&Array.isArray(w.extension)&&w.extension.some(S=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire"===S.url&&S.valueCanonical===r))))}getDeleteTooltip(t){const n=this.getReferencingQuestionnaires(t);return 0===n.length?"Delete Questionnaire":`Cannot delete: Referenced by ${n.map(s=>`"${s.title}"`).join(", ")}`}static#t=this.\u0275fac=function(n){return new(n||e)(mt(hv),mt(oX),mt(lm),mt(Eh))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-list-questionnaires"]],viewQuery:function(n,r){if(1&n&&(Pi(lP,5),Pi(Nh,5)),2&n){let s;Ge(s=He())&&(r.paginator=s.first),Ge(s=He())&&(r.sort=s.first)}},inputs:{config:"config"},outputs:{questionnaireSelected:"questionnaireSelected",validateQuestionnaire:"validateQuestionnaire",previewQuestionnaire:"previewQuestionnaire",viewQuestionaireHistory:"viewQuestionaireHistory"},features:[ar],decls:28,vars:9,consts:[["id","table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","version"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","lastUpdated"],["matColumnDef","type"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"mat-elevation-z8",3,"pageSizeOptions","pageSize"],["class","not-found",4,"ngIf"],["diameter","35","class","loading-spinner",4,"ngIf"],["id","outer-container"],[1,"download-button-container"],["mat-flat-button","","color","accent","matTooltip","Download all Questionnaires",3,"click",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"ngClass"],["mat-header-cell",""],[3,"ngClass",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Validate Questionnaire",3,"disabled","click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Assemble Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Preview Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Open resource in new tab",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","matTooltip","Download Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Edit Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Edit Modular Questionnaire",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","matTooltip","View Questionnaire History",1,"action-button",3,"click","disabled"],[3,"matTooltip"],["mat-icon-button","","color","accent",3,"click","disabled"],["mat-icon-button","","color","accent","matTooltip","Validate Questionnaire",1,"action-button",3,"click","disabled"],["mat-icon-button","","color","accent","matTooltip","Assemble Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Preview Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Open resource in new tab",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Edit Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Edit Modular Questionnaire",1,"action-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"not-found"],["diameter","35",1,"loading-spinner"],["mat-flat-button","","color","accent","matTooltip","Download all Questionnaires",3,"click"]],template:function(n,r){1&n&&(q(0,"div",0)(1,"table",1),$i(2,2),jt(3,CDt,2,0,"th",3)(4,SDt,2,1,"td",4),Qi(),$i(5,5),jt(6,EDt,2,0,"th",3)(7,ADt,4,6,"td",4),Qi(),$i(8,6),jt(9,DDt,2,0,"th",7)(10,MDt,2,1,"td",4),Qi(),$i(11,8),jt(12,IDt,2,0,"th",3)(13,kDt,3,4,"td",4),Qi(),$i(14,9),jt(15,RDt,2,0,"th",3)(16,ODt,3,2,"td",4),Qi(),$i(17,10),jt(18,LDt,2,0,"th",7)(19,HDt,17,9,"td",4),Qi(),jt(20,WDt,1,0,"tr",11)(21,jDt,1,0,"tr",12),et(),Te(22,"mat-paginator",13),jt(23,XDt,3,0,"p",14)(24,YDt,1,0,"mat-spinner",15),et(),q(25,"div",16)(26,"div",17),jt(27,$Dt,2,0,"button",18),et()()),2&n&&(ot(),xt("dataSource",r.dataSource),ot(19),xt("matHeaderRowDef",r.displayedColumns),ot(),xt("matRowDefColumns",r.displayedColumns),ot(),xt("pageSizeOptions",tl(8,bDt))("pageSize",10),ot(),xt("ngIf",r.notFound&&!r.questionnaires.length),ot(),xt("ngIf",r.loading),ot(3),xt("ngIf",!r.loading&&r.questionnaires.length>0))},dependencies:[Ac,Fs,Ma,Bo,ma,Ah,Dh,pu,Mh,gu,mu,Ih,vu,xu,kh,Rh,bu,Nh,oP,lP,TI,Zd],styles:[".list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.list-text[_ngcontent-%COMP%]{flex-grow:1}.list-subtext[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-left:1rem}.action-button[_ngcontent-%COMP%]{margin-left:8px}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.list-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.status-pill[_ngcontent-%COMP%]{display:inline-block;padding:3px 8px;border-radius:15px;font-size:10px;color:#fff;text-align:center;margin-left:1rem}.status-pill.draft[_ngcontent-%COMP%]{background-color:#007bff}.status-pill.unknown[_ngcontent-%COMP%]{background-color:#ffc107}.status-pill.active[_ngcontent-%COMP%]{background-color:#28a745}.status-pill.retired[_ngcontent-%COMP%]{background-color:#dc3545}#table-container[_ngcontent-%COMP%]{padding-bottom:2rem}.not-found[_ngcontent-%COMP%]{margin-top:2rem}#outer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.download-button-container[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:2rem}"]})}return e})(),QDt=(()=>{class e{constructor(t){this.dialogRef=t,this.listConfig={select:!0}}selectAndDownload(t){this.dialogRef.close(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Lh))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-load-questionnaire-modal"]],decls:7,vars:1,consts:[[3,"questionnaireSelected","config"],["align","end"],["mat-flat-button","","color","accent","mat-dialog-close",""]],template:function(n,r){1&n&&(q(0,"mat-dialog-content")(1,"h2"),ut(2,"Available Questionnaires"),et(),q(3,"app-list-questionnaires",0),zt("questionnaireSelected",function(o){return r.selectAndDownload(o)}),et()(),q(4,"mat-dialog-actions",1)(5,"button",2),ut(6,"Close"),et()()),2&n&&(ot(3),xt("config",r.listConfig))},dependencies:[Ma,dv,Yy,Xy,lX]})}return e})();const KDt=["settingsForm"];function ZDt(e,i){1&e&&(q(0,"mat-error"),ut(1,"Base URL is required"),et())}function JDt(e,i){1&e&&(q(0,"mat-error"),ut(1,"User Tag is required and must be at least 3 characters"),et())}let cP=(()=>{class e{constructor(t,n){this.fhirService=t,this.dialogRef=n,this.baseUrl="",this.userTag=""}ngAfterViewInit(){this.triggerValidation()}triggerValidation(){Object.keys(this.settingsForm.controls).forEach(t=>{const n=this.settingsForm.control.get(t);n?.markAsTouched({onlySelf:!0}),n?.markAsDirty({onlySelf:!0})})}ngOnInit(){this.baseUrl=this.fhirService.getBaseUrl(),this.userTag=this.fhirService.getUserTag()}updateSettings(){this.settingsForm.valid&&(this.fhirService.setBaseUrl(this.baseUrl),this.fhirService.setUserTag(this.userTag),this.dialogRef.close("save"))}static#t=this.\u0275fac=function(n){return new(n||e)(mt(hv),mt(Lh))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-fhir-server-settings-modal"]],viewQuery:function(n,r){if(1&n&&Pi(KDt,5),2&n){let s;Ge(s=He())&&(r.settingsForm=s.first)}},decls:29,vars:5,consts:[["settingsForm","ngForm"],["baseUrlField","ngModel"],["userTagField","ngModel"],[1,"form-container"],[1,"warning"],[3,"ngSubmit"],["matInput","","name","baseUrl","required","",3,"ngModelChange","ngModel"],[4,"ngIf"],["matInput","","name","userTag","required","","minlength","3",3,"ngModelChange","ngModel"],[1,"button-container"],["mat-flat-button","","color","accent","type","submit",3,"disabled"],["mat-flat-button","","color","primary","mat-dialog-close",""]],template:function(n,r){if(1&n){const s=ye();q(0,"div",3)(1,"h2"),ut(2,"FHIR Server Connection"),et(),q(3,"p"),ut(4,"Manager mode allows you to store questionnares in a FHIR Server. Enter the FHIR server URL and your "),q(5,"b"),ut(6,"User Tag"),et(),ut(7,", this value will be used to identify your questionnaires."),et(),q(8,"p",4),ut(9,"Warning: using the default public FHIR server will not ensure the persistence of your information, always save your questionnaires to your computer as a backup."),et(),q(10,"form",5,0),zt("ngSubmit",function(){return Gt(s),Ht(r.updateSettings())}),q(12,"mat-form-field")(13,"mat-label"),ut(14,"Base URL of the FHIR Server"),et(),q(15,"input",6,1),Sa("ngModelChange",function(l){return Gt(s),Ga(r.baseUrl,l)||(r.baseUrl=l),Ht(l)}),et(),jt(17,ZDt,2,0,"mat-error",7),et(),q(18,"mat-form-field")(19,"mat-label"),ut(20,"User Tag"),et(),q(21,"input",8,2),Sa("ngModelChange",function(l){return Gt(s),Ga(r.userTag,l)||(r.userTag=l),Ht(l)}),et(),jt(23,JDt,2,0,"mat-error",7),et(),q(24,"div",9)(25,"button",10),ut(26,"Open FHIR Repository"),et(),q(27,"button",11),ut(28,"Close"),et()()()()}if(2&n){const s=en(11),o=en(16),l=en(22);ot(15),Ca("ngModel",r.baseUrl),ot(2),xt("ngIf",o.invalid&&o.touched),ot(4),Ca("ngModel",r.userTag),ot(2),xt("ngIf",l.invalid&&l.touched),ot(2),xt("disabled",!s.valid)}},dependencies:[Fs,Ma,Dl,nl,MW,yu,rv,Al,Uo,rm,OC,BR,ql,am,dv],styles:[".form-container[_ngcontent-%COMP%]{margin:auto;padding:20px}mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.warning[_ngcontent-%COMP%]{color:#ff9500;font-weight:lighter;font-style:italic}"]})}return e})(),dP=(()=>{class e{constructor(t,n){this.data=t,this.dialogRef=n}static#t=this.\u0275fac=function(n){return new(n||e)(mt(KC),mt(Lh))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-confirmation-dialog"]],decls:10,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","",1,"button-container"],["mat-button","",3,"mat-dialog-close"]],template:function(n,r){1&n&&(q(0,"h1",0),ut(1),et(),q(2,"div",1)(3,"p"),ut(4),et()(),q(5,"div",2)(6,"button",3),ut(7,"Yes"),et(),q(8,"button",3),ut(9,"No"),et()()),2&n&&(ot(),qe(r.data.title),ot(3),qe(r.data.message),ot(2),xt("mat-dialog-close",!0),ot(2),xt("mat-dialog-close",!1))},dependencies:[Ma,dv,rP,Yy,Xy],encapsulation:2})}return e})();const qDt=new se("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let uP=(()=>{class e{constructor(t,n,r,s,o){this._elementRef=t,this._ngZone=n,this._changeDetectorRef=r,this._animationMode=s,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new Fe,this._mode="determinate",this._transitionendHandler=l=>{0===this.animationEnd.observers.length||!l.target||!l.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===s,o&&(o.color&&(this.color=this._defaultColor=o.color),this.mode=o.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(t){this._color=t}get value(){return this._value}set value(t){this._value=cX(t||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=cX(t||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(di),mt(Fn),mt(Hr,8),mt(qDt,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(n,r){2&n&&(Ai("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),Wl("mat-"+r.color),Si("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[$t.HasDecoratorInputTransform,"value","value",Jr],bufferValue:[$t.HasDecoratorInputTransform,"bufferValue","bufferValue",Jr],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[vn,Wi],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(n,r){1&n&&(q(0,"div",0),Te(1,"div",1)(2,"div",2),et(),q(3,"div",3),Te(4,"span",4),et(),q(5,"div",5),Te(6,"span",4),et()),2&n&&(ot(),Ps("flex-basis",r._getBufferBarFlexBasis()),ot(2),Ps("transform",r._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E\")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:start;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0})}return e})();function cX(e,i=0,t=100){return Math.max(i,Math.min(t,e))}let eMt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[nn]})}return e})();const iMt=["questionnairesList"];function nMt(e,i){if(1&e&&(q(0,"div",19),Te(1,"mat-progress-bar",20),q(2,"div",21),ut(3),et()()),2&e){const t=Ct();ot(),xt("value",t.validatingProgress),ot(2),Ke("",t.validatingProgress,"%")}}function rMt(e,i){if(1&e){const t=ye();q(0,"button",22),zt("click",function(){return Gt(t),Ht(Ct().saveQuestionnaire())}),ut(1," Save changes "),et()}if(2&e){const t=Ct();xt("disabled",t.validating||!t.questionnaire)}}function sMt(e,i){1&e&&(q(0,"span"),ut(1,"Run validation"),et())}function aMt(e,i){1&e&&Te(0,"mat-spinner",26)}function oMt(e,i){if(1&e){const t=ye();q(0,"button",23),zt("click",function(){return Gt(t),Ht(Ct().validate())}),jt(1,sMt,2,0,"span",24)(2,aMt,1,0,"mat-spinner",25),et()}if(2&e){const t=Ct();ot(),xt("ngIf",!t.validating),ot(),xt("ngIf",t.validating)}}function lMt(e,i){if(1&e&&(q(0,"span",32),ut(1),et()),2&e){const t=Ct(2);ot(),Ke("Error: ",t.loadResults.error,"")}}function cMt(e,i){if(1&e&&(q(0,"span",33),ut(1),et()),2&e){const t=Ct(2);ot(),Ke("Inactive: ",t.loadResults.inactive,"")}}function dMt(e,i){if(1&e&&(q(0,"span",34),ut(1),et()),2&e){const t=Ct(2);ot(),Ke("Active: ",t.loadResults.active,"")}}function uMt(e,i){if(1&e&&(q(0,"p",27)(1,"b"),ut(2,"Questionnaire:"),et(),ut(3),q(4,"i"),ut(5),et(),ut(6,") - "),q(7,"span",28),ut(8),et(),ut(9),gs(10,"date"),jt(11,lMt,2,1,"span",29)(12,cMt,2,1,"span",30)(13,dMt,2,1,"span",31),et()),2&e){const t=Ct();ot(3),Ke(" ",t.questionnaire.title," ("),ot(2),qe(t.questionnaire.url),ot(3),Ke("",t.dataSource.data.length," bindings"),ot(),qo(" - - Version: ",t.questionnaire.meta.versionId," (",Sc(10,8,t.questionnaire.meta.lastUpdated,"fullDate"),") "),ot(2),xt("ngIf",t.loadResults.total>0),ot(),xt("ngIf",t.loadResults.total>0),ot(),xt("ngIf",t.loadResults.total>0)}}function hMt(e,i){1&e&&(q(0,"th",35),ut(1," # "),et())}function fMt(e,i){if(1&e&&(q(0,"td",36),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.order," ")}}function mMt(e,i){1&e&&(q(0,"th",35),ut(1," FHIRPath "),et())}function pMt(e,i){if(1&e&&(q(0,"td",36),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.path," ")}}function gMt(e,i){1&e&&(q(0,"th",35),ut(1," Path "),et())}function vMt(e,i){if(1&e&&(q(0,"td",36),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.readablePath," ")}}function xMt(e,i){1&e&&(q(0,"th",35),ut(1,"Code "),et())}function yMt(e,i){if(1&e&&(q(0,"td",36)(1,"a",37),ut(2),et()()),2&e){const t=i.$implicit;ot(),W_("href","http://snomed.info/id/",t.code,"",lx),ot(),qe(t.code)}}function bMt(e,i){1&e&&(q(0,"th",35),ut(1," Display "),et())}function wMt(e,i){if(1&e&&(q(0,"p",41),ut(1),et()),2&e){const t=Ct().$implicit;ot(),Ke("Concept FSN: ",t.serverDisplay,"")}}function _Mt(e,i){1&e&&(q(0,"p",42),ut(1,"Concept is inactive"),et())}function TMt(e,i){if(1&e){const t=ye();q(0,"p",43),ut(1),q(2,"button",44),zt("click",function(){const r=Gt(t).$implicit,s=Ct().$implicit;return Ht(Ct().replaceInactiveConcept(s,r.replacement))}),q(3,"mat-icon"),ut(4,"arrow_forward"),et()()()}if(2&e){const t=i.$implicit,n=Ct(2);ot(),Ux(" Replacement: ",t.equivalence," to ",t.replacement.code," |",t.replacement.display,"| "),ot(),xt("disabled",n.validating)}}function CMt(e,i){if(1&e&&(q(0,"td",36),ut(1),jt(2,wMt,2,1,"p",38)(3,_Mt,2,0,"p",39)(4,TMt,5,4,"p",40),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.display," "),ot(),xt("ngIf",t.serverDisplay),ot(),xt("ngIf","Inactive"==t.status),ot(),xt("ngForOf",t.replacements)}}function SMt(e,i){1&e&&(q(0,"th",35),ut(1," System "),et())}function EMt(e,i){if(1&e&&(q(0,"td",36),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.system," ")}}function AMt(e,i){1&e&&(q(0,"th",35),ut(1," Status "),et())}function DMt(e,i){1&e&&(q(0,"span"),Te(1,"mat-progress-bar",45),et())}function MMt(e,i){if(1&e&&(q(0,"span")(1,"span",46),ut(2),et()()),2&e){const t=Ct().$implicit;ot(),xt("ngClass",t.status),ot(),qe(t.status)}}function IMt(e,i){if(1&e&&(q(0,"td",36),jt(1,DMt,2,0,"span",24)(2,MMt,3,2,"span",24),et()),2&e){const t=i.$implicit;ot(),xt("ngIf","Validating"==t.status),ot(),xt("ngIf","Validating"!=t.status)}}function kMt(e,i){1&e&&Te(0,"tr",47)}function RMt(e,i){1&e&&Te(0,"tr",48)}function PMt(e,i){1&e&&Te(0,"mat-spinner",49)}let FMt=(()=>{class e{constructor(t,n){this.terminologyService=t,this._snackBar=n,this.questionnaireUpdated=new Fe,this.validatingQuestionnaire=new Fe,this.loading=!1,this.validating=!1,this.displayedColumns=["order","readablePath","code","display","system","status"],this.dataSource=new im,this.validatingProgress=0,this.orderCounter=0,this.loadResults={total:0,active:0,inactive:0,error:0},this.requiresSave=!1}ngOnChanges(t){t.questionnaire&&(this.questionnaire?this.loadQuestionnaire(this.questionnaire):this.clearQuestionnaire())}clearQuestionnaire(){this.questionnaire=null,this.dataSource.data=[],this.orderCounter=0,this.validatingProgress=0,this.loadResults={total:0,active:0,inactive:0,error:0}}loadQuestionnaire(t){this.loading=!0,this.clearQuestionnaire(),setTimeout(()=>{this.loading=!1,this.questionnaire=t;let n=this.extractObjects(t);this.dataSource.data=n,this.dataSource.sort=this.sort},700)}validate(){var t=this;this.loadResults={total:0,active:0,inactive:0,error:0},this.dataSource.data.forEach(s=>{s.status="Not checked"}),this.validating=!0,this.validatingQuestionnaire.emit(!0);let n=this.dataSource.data.length,r=0;this.asyncForEach(this.dataSource.data,function(){var s=Mt(function*(o){t.loadResults.total++,o.status="Validating",r++,t.validatingProgress=Math.round(r/n*100);try{const l=yield t.terminologyService.lookupConcept(o.code,o.system).pipe($l()).toPromise();let w=[],S="";for(const M of l.parameter){if("designation"===M.name){let P="",O="";for(const N of M.part)"value"===N.name&&(P=N.valueString),"use"===N.name&&(O=N.valueCoding?.code);w.push(P),"900000000000003001"===O&&(S=P)}"inactive"===M.name&&(M.valueBoolean?(o.status="Inactive",t.loadResults.inactive++):(o.status="Active",t.loadResults.active++))}if((!o.display||!w.includes(o.display))&&(o.serverDisplay=S),"Inactive"==o.status){const M=yield t.getHistoricalAssociationsTarget("900000000000527005",o.code),P=yield t.getHistoricalAssociationsTarget("900000000000530003",o.code),O=yield t.getHistoricalAssociationsTarget("900000000000523009",o.code),N=yield t.getHistoricalAssociationsTarget("900000000000526001",o.code),U=M.concat(P,O,N);o.replacements=U}}catch{o.status="Error",t.loadResults.error++}});return function(o){return s.apply(this,arguments)}}()).then(()=>{this.validating=!1,this.validatingQuestionnaire.emit(!1)})}getHistoricalAssociationsTarget(t,n){var r=this;return Mt(function*(){let s=[];const o=r.terminologyService.translate(t,n);let l=yield Da(o.pipe(Ri(w=>w)));if(l.parameter)for(const w of l.parameter)if("match"===w.name){let S={replacement:{},equivalence:""};for(const M of w.part)"concept"===M.name&&M.valueCoding&&(S.replacement={code:M.valueCoding.code,display:M.valueCoding.display,system:M.valueCoding.system}),"equivalence"===M.name&&M.valueCode&&(S.equivalence=M.valueCode);s.push(S)}return s})()}removeSemanticTag(t){return t.replace(/\s*\([^)]+\)\s*$/,"").trim().toLowerCase()}asyncForEach(t,n){return Mt(function*(){for(let r=0;r<t.length;r++)yield n(t[r],r,t)})()}extractObjects(t,n="",r=""){let s=[];if("object"!=typeof t||null===t)return s;if(t.text&&(r=r?`${r} -> ${t.text}`:t.text),t.system&&t.system.startsWith("http://snomed.info/sct")&&t.code&&t.display){this.orderCounter++;const o={order:this.orderCounter,system:t.system,code:t.code,display:t.display,path:n,readablePath:r,status:"Not checked"};s.some(l=>l.system===o.system&&l.code===o.code&&l.display===o.display)||s.push(o)}if(Array.isArray(t))for(let o in t)s=s.concat(this.extractObjects(t[o],`${n}[${o}]`,r));else for(let o in t)t.hasOwnProperty(o)&&(s=s.concat(this.extractObjects(t[o],n?`${n}.${o}`:o,r)));if(t.answerValueSet&&t.answerValueSet.startsWith("http")){const l=new URL(t.answerValueSet).searchParams.get("fhir_vs");if(l){const w=decodeURIComponent(l),S=/(\d{5,})(?:\s*\|\s*([^|]*)\s*\|)?/g;let M;for(;null!==(M=S.exec(w));)this.orderCounter++,s.push({order:this.orderCounter,code:M[1],display:M[2]?M[2].trim():void 0,system:"http://snomed.info/sct",path:n+".answerValueSet",readablePath:r+" -> answerValueSet [ECL]",status:"Not checked"})}}return s}replaceInactiveConcept(t,n){this.searchAndReplace(this.questionnaire,t,n,!1)&&(this.requiresSave=!0,this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Inactive reference replaced successfully. Save the questionnaire to persist the changes.",panelClass:["green-snackbar"]}))}saveQuestionnaire(){this.questionnaireUpdated.emit(this.questionnaire)}searchAndReplace(t,n,r,s){if("object"!=typeof t||null===t)return s;if(t.system==n.system&&t.code==n.code&&t.display==n.display&&(t.system=r.system,t.code=r.code,t.display=r.display,s=!0),t.answerValueSet){const o=new URL(t.answerValueSet),l=o.searchParams.get("fhir_vs");if(l){const w=decodeURIComponent(l),S=new RegExp(`(\\s|^)${n.code}(\\s|$|\\|)`,"g");if(S.test(w)){const M=w.replace(S,`$1${r.code}$2`);s=!0;const P=new RegExp(`\\|\\s*${n.display}\\s*\\|`,"g");if(P.test(M)){const O=M.replace(P,`| ${r.display} |`);o.searchParams.set("fhir_vs",encodeURIComponent(O)),t.answerValueSet=o.toString()}o.searchParams.set("fhir_vs",encodeURIComponent(M)),t.answerValueSet=o.toString()}}}if(Array.isArray(t))for(let o in t)s=this.searchAndReplace(t[o],n,r,s);else for(let o in t)t.hasOwnProperty(o)&&(s=this.searchAndReplace(t[o],n,r,s));if(s&&this.dataSource.data)for(let o in this.dataSource.data)this.dataSource.data[o].system==n.system&&this.dataSource.data[o].code==n.code&&this.dataSource.data[o].display==n.display&&(this.dataSource.data[o].system=r.system,this.dataSource.data[o].code=r.code,this.dataSource.data[o].display=r.display,this.dataSource.data[o].status="Active",this.dataSource.data[o].replacements=[]);return s}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fa),mt(Eh))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-validate-questionnaire"]],viewQuery:function(n,r){if(1&n&&(Pi(Nh,5),Pi(ov,5),Pi(iMt,5)),2&n){let s;Ge(s=He())&&(r.sort=s.first),Ge(s=He())&&(r.tabGroup=s.first),Ge(s=He())&&(r.questionnairesList=s.first)}},inputs:{questionnaire:"questionnaire"},outputs:{questionnaireUpdated:"questionnaireUpdated",validatingQuestionnaire:"validatingQuestionnaire"},features:[ar],decls:31,vars:8,consts:[[1,"button-container","bottom-spacer"],["class","progress-container",4,"ngIf"],["mat-flat-button","","color","accent",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","accent",3,"click",4,"ngIf"],["class","header","id","tab-header",4,"ngIf"],[1,"table-container","mt-4"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","order"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","path"],["matColumnDef","readablePath"],["matColumnDef","code"],["matColumnDef","display"],["matColumnDef","system"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["diameter","35","class","loading-spinner",4,"ngIf"],[1,"progress-container"],["mode","determinate",3,"value"],[1,"progress-label"],["mat-flat-button","","color","accent",3,"click","disabled"],["mat-flat-button","","color","accent",3,"click"],[4,"ngIf"],["diameter","20",4,"ngIf"],["diameter","20"],["id","tab-header",1,"header"],[1,"bindingsCount"],["class","mini-pill Error",4,"ngIf"],["class","mini-pill Inactive",4,"ngIf"],["class","mini-pill Active",4,"ngIf"],[1,"mini-pill","Error"],[1,"mini-pill","Inactive"],[1,"mini-pill","Active"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["target","_blank",1,"code-link",3,"href"],["class","server-name",4,"ngIf"],["class","concept-is-inactive",4,"ngIf"],["class","replacement",4,"ngFor","ngForOf"],[1,"server-name"],[1,"concept-is-inactive"],[1,"replacement"],["mat-icon-button","","color","primary","matTooltip","Replace using this concept",3,"click","disabled"],["mode","indeterminate"],[1,"pill",3,"ngClass"],["mat-header-row",""],["mat-row",""],["diameter","35",1,"loading-spinner"]],template:function(n,r){1&n&&(q(0,"div",0),jt(1,nMt,4,2,"div",1)(2,rMt,2,1,"button",2)(3,oMt,3,2,"button",3),et(),jt(4,uMt,14,11,"p",4),q(5,"div",5)(6,"table",6),$i(7,7),jt(8,hMt,2,0,"th",8)(9,fMt,2,1,"td",9),Qi(),$i(10,10),jt(11,mMt,2,0,"th",8)(12,pMt,2,1,"td",9),Qi(),$i(13,11),jt(14,gMt,2,0,"th",8)(15,vMt,2,1,"td",9),Qi(),$i(16,12),jt(17,xMt,2,0,"th",8)(18,yMt,3,3,"td",9),Qi(),$i(19,13),jt(20,bMt,2,0,"th",8)(21,CMt,5,4,"td",9),Qi(),$i(22,14),jt(23,SMt,2,0,"th",8)(24,EMt,2,1,"td",9),Qi(),$i(25,15),jt(26,AMt,2,0,"th",8)(27,IMt,3,2,"td",9),Qi(),jt(28,kMt,1,0,"tr",16)(29,RMt,1,0,"tr",17),et(),jt(30,PMt,1,0,"mat-spinner",18),et()),2&n&&(ot(),xt("ngIf",r.validating),ot(),xt("ngIf",r.requiresSave),ot(),xt("ngIf",!r.validating&&r.questionnaire),ot(),xt("ngIf",r.questionnaire),ot(2),xt("dataSource",r.dataSource),ot(22),xt("matHeaderRowDef",r.displayedColumns),ot(),xt("matRowDefColumns",r.displayedColumns),ot(),xt("ngIf",r.loading))},dependencies:[Ac,ws,Fs,Ma,Bo,ma,uP,Ah,Dh,pu,Mh,gu,mu,Ih,vu,xu,kh,Rh,bu,Nh,oP,Zd],styles:[".header[_ngcontent-%COMP%]{margin-left:2rem;margin-top:1rem}.table-container[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem;padding-bottom:2rem}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.bottom-spacer[_ngcontent-%COMP%]{margin-bottom:1rem}.pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;font-weight:700;text-align:center;display:inline-block;font-size:.8rem}.pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.mini-pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;text-align:center;font-weight:700;font-size:.9rem;margin-right:2rem;float:right}.mini-pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.mini-pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.mini-pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.progress-container[_ngcontent-%COMP%]{margin-top:1rem;position:relative;width:30%}.progress-label[_ngcontent-%COMP%]{position:absolute;width:100%;text-align:center;top:60%;transform:translateY(-50%);font-size:.9rem;font-weight:700}.bindingsCount[_ngcontent-%COMP%]{font-size:1rem;font-weight:lighter}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.code-link[_ngcontent-%COMP%]{font-size:.8rem}.server-name[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:maroon}.replacement[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:#00800b;display:flex;align-items:center;font-size:.9rem;margin-left:2rem}.concept-is-inactive[_ngcontent-%COMP%]{color:maroon;font-size:.9rem;margin-bottom:0rem}#myFormContainer[_ngcontent-%COMP%], #tab-header[_ngcontent-%COMP%]{margin-top:1rem}.tab-container[_ngcontent-%COMP%]{padding:2rem}.outgoing-link[_ngcontent-%COMP%]{font-size:.8rem;float:right;margin-right:2rem}"]})}return e})();const OMt=e=>["status-pill",e],LMt=()=>["status-pill","active"],NMt=()=>["status-pill","draft"];function BMt(e,i){1&e&&(q(0,"th",15),ut(1," Title "),et())}function VMt(e,i){if(1&e&&(q(0,"td",16),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.title," ")}}function UMt(e,i){1&e&&(q(0,"th",15),ut(1," Status "),et())}function zMt(e,i){if(1&e&&(q(0,"td",16)(1,"span",17),ut(2),gs(3,"uppercase"),et()()),2&e){const t=i.$implicit;ot(),xt("ngClass",_l(4,OMt,t.status)),ot(),qe(jl(3,2,t.status))}}function GMt(e,i){1&e&&(q(0,"th",15),ut(1," Version "),et())}function HMt(e,i){if(1&e&&(q(0,"td",16),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.meta.versionId," ")}}function WMt(e,i){1&e&&(q(0,"th",15),ut(1," Date "),et())}function jMt(e,i){if(1&e&&(q(0,"td",16)(1,"i"),ut(2),gs(3,"date"),et()()),2&e){const t=i.$implicit;ot(2),qe(Sc(3,1,t.meta.lastUpdated,"MMMM d, y, h:mm:ss a"))}}function XMt(e,i){1&e&&(q(0,"th",15),ut(1," Type "),et())}function YMt(e,i){1&e&&(q(0,"span",17),ut(1,"QUESTIONNAIRE"),et()),2&e&&xt("ngClass",tl(1,LMt))}function $Mt(e,i){1&e&&(q(0,"span",17),ut(1,"MODULAR ROOT"),et()),2&e&&xt("ngClass",tl(1,NMt))}function QMt(e,i){if(1&e&&(q(0,"td",16),jt(1,YMt,2,2,"span",18)(2,$Mt,2,2,"span",18),et()),2&e){const t=i.$implicit,n=Ct();ot(),xt("ngIf",!n.isRootQuestionnaire(t)),ot(),xt("ngIf",n.isRootQuestionnaire(t))}}function KMt(e,i){1&e&&(q(0,"th",19),ut(1," Actions "),et())}function ZMt(e,i){if(1&e){const t=ye();q(0,"button",24),zt("click",function(){Gt(t);const r=Ct().$implicit;return Ht(Ct().restore(r))}),q(1,"mat-icon"),ut(2,"restore_page"),et()()}}function JMt(e,i){if(1&e){const t=ye();q(0,"td",16)(1,"button",20),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct().preview(r))}),q(2,"mat-icon"),ut(3,"visibility"),et()(),q(4,"button",21),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct().openInNewTab(r))}),q(5,"mat-icon"),ut(6,"open_in_new"),et()(),q(7,"button",22),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct().saveQuestionnaire(r))}),q(8,"mat-icon"),ut(9,"cloud_download"),et()(),jt(10,ZMt,3,0,"button",23),et()}if(2&e){const t=i.$implicit,n=Ct();ot(10),xt("ngIf",(null==t||null==t.meta?null:t.meta.versionId)!=(null==n.versions[0]||null==n.versions[0].meta?null:n.versions[0].meta.versionId))}}function qMt(e,i){1&e&&Te(0,"tr",25)}function tIt(e,i){1&e&&Te(0,"tr",26)}function eIt(e,i){1&e&&(q(0,"p",27)(1,"i"),ut(2," No questionnaire selected. "),et()())}function iIt(e,i){1&e&&Te(0,"mat-spinner",28)}let nIt=(()=>{class e{constructor(t){this.fhirService=t,this.previewQuestionnaire=new Fe,this.restoreQuestionnaireVersion=new Fe,this.versions=[],this.loading=!1,this.selectedFhirServer="",this.selectedUserTag="",this.displayedColumns=["title","status","version","lastUpdated","type","actions"],this.dataSource=new im}ngOnChanges(t){t.questionnaire&&t.questionnaire.currentValue&&t.questionnaire.currentValue.id&&this.loadVersions()}ngOnInit(){qd([this.fhirService.baseUrl$.pipe(iu(1e3),nu()),this.fhirService.userTag$.pipe(iu(1e3),nu())]).subscribe(([t,n])=>{(this.selectedFhirServer!==t||this.selectedUserTag!==n)&&(this.selectedFhirServer=t,this.selectedUserTag=n,this.selectedUserTag&&this.selectedFhirServer&&this.loadVersions())})}loadVersions(t){this.versions=[],this.dataSource.data=this.versions,t&&(this.questionnaire=t),this.questionnaire&&(this.loading=!0,this.fhirService.getQuestionnaireHistory(this.questionnaire.id).subscribe(n=>{this.versions=n.entry.map(r=>r.resource),this.dataSource.data=this.versions,this.loading=!1},n=>{this.loading=!1}))}preview(t){this.previewQuestionnaire.emit(t),this.loadVersions()}openInNewTab(t){window.open(this.selectedFhirServer+"/Questionnaire/"+t.id+"/_history/"+t.meta.versionId,"_blank")}saveQuestionnaire(t){var n=new Blob([JSON.stringify(t,null,2)],{type:"text/plain;charset=utf-8"});gd(n,`${t.title}-v${t.meta.versionId}.json`)}restore(t){this.restoreQuestionnaireVersion.emit(t)}isRootQuestionnaire(t){return!(!t.extension||!Array.isArray(t.extension))&&t.extension.some(n=>"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation"===n.url&&"assemble-root"===n.valueCode)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(hv))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-questionnaire-history"]],inputs:{questionnaire:"questionnaire"},outputs:{previewQuestionnaire:"previewQuestionnaire",restoreQuestionnaireVersion:"restoreQuestionnaireVersion"},features:[ar],decls:24,vars:5,consts:[[1,"table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","version"],["matColumnDef","lastUpdated"],["matColumnDef","type"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","not-found",4,"ngIf"],["diameter","35","class","loading-spinner",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"ngClass"],[3,"ngClass",4,"ngIf"],["mat-header-cell",""],["mat-icon-button","","color","accent","matTooltip","Preview Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Open resource in new tab",1,"action-button",3,"click"],["mat-icon-button","","color","accent","matTooltip","Download Questionnaire",1,"action-button",3,"click"],["mat-icon-button","","color","accent","class","action-button","matTooltip","Restore Version",3,"click",4,"ngIf"],["mat-icon-button","","color","accent","matTooltip","Restore Version",1,"action-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"not-found"],["diameter","35",1,"loading-spinner"]],template:function(n,r){1&n&&(q(0,"div",0)(1,"table",1),$i(2,2),jt(3,BMt,2,0,"th",3)(4,VMt,2,1,"td",4),Qi(),$i(5,5),jt(6,UMt,2,0,"th",3)(7,zMt,4,6,"td",4),Qi(),$i(8,6),jt(9,GMt,2,0,"th",3)(10,HMt,2,1,"td",4),Qi(),$i(11,7),jt(12,WMt,2,0,"th",3)(13,jMt,4,4,"td",4),Qi(),$i(14,8),jt(15,XMt,2,0,"th",3)(16,QMt,3,2,"td",4),Qi(),$i(17,9),jt(18,KMt,2,0,"th",10)(19,JMt,11,1,"td",4),Qi(),jt(20,qMt,1,0,"tr",11)(21,tIt,1,0,"tr",12),et(),jt(22,eIt,3,0,"p",13)(23,iIt,1,0,"mat-spinner",14),et()),2&n&&(ot(),xt("dataSource",r.dataSource),ot(19),xt("matHeaderRowDef",r.displayedColumns),ot(),xt("matRowDefColumns",r.displayedColumns),ot(),xt("ngIf",!r.questionnaire),ot(),xt("ngIf",r.loading))},dependencies:[Ac,Fs,Bo,ma,Ah,Dh,pu,Mh,gu,mu,Ih,vu,xu,kh,Rh,bu,Nh,oP,TI,Zd],styles:[".list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.list-text[_ngcontent-%COMP%]{flex-grow:1}.list-subtext[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-left:1rem}.action-button[_ngcontent-%COMP%]{margin-left:8px}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.list-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.status-pill[_ngcontent-%COMP%]{display:inline-block;padding:3px 8px;border-radius:15px;font-size:10px;color:#fff;text-align:center;margin-left:1rem}.status-pill.draft[_ngcontent-%COMP%]{background-color:#007bff}.status-pill.unknown[_ngcontent-%COMP%]{background-color:#ffc107}.status-pill.active[_ngcontent-%COMP%]{background-color:#28a745}.status-pill.retired[_ngcontent-%COMP%]{background-color:#dc3545}.not-found[_ngcontent-%COMP%]{margin-top:2rem}#outer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.download-button-container[_ngcontent-%COMP%]{margin-top:10px}.table-container[_ngcontent-%COMP%]{margin:2rem;padding-bottom:2rem}"]})}return e})();const rIt=["questionnairesList"],sIt=["fileInput"],aIt=["questionnaireHistory"];function oIt(e,i){1&e&&(q(0,"span"),ut(1," / Validator"),et())}function lIt(e,i){1&e&&(q(0,"span"),ut(1," / Questionnaires repository"),et())}function cIt(e,i){if(1&e){const t=ye();q(0,"span",19)(1,"a",20),zt("click",function(){return Gt(t),Ht(Ct(3).mode="Manager")}),q(2,"mat-icon"),ut(3,"play_arrow"),et(),q(4,"span"),ut(5,"Reconnect to last FHIR Server"),et()()()}}function dIt(e,i){if(1&e&&(q(0,"span",19)(1,"span",21),ut(2),q(3,"i"),ut(4),et(),ut(5,'" )'),et()()),2&e){const t=Ct(3);ot(2),Ke(" ( ",t.selectedFhirServer,' as "'),ot(2),qe(t.selectedUserTag)}}function uIt(e,i){if(1&e){const t=ye();q(0,"div",14)(1,"h3",15),ut(2,"Work with the Questionnaire Manager"),et(),q(3,"p",15),ut(4,"Connect to a FHIR server to store and version your questionnaire resources. Use the integrated questionnaire manager, editor and validator."),et(),q(5,"div",16)(6,"button",17),zt("click",function(){Gt(t);const r=Ct(2);return r.step1Response="repository",Ht(r.advanceFromStep1())}),ut(7,"Connect to a FHIR Server and Open Repository Manager"),et(),jt(8,cIt,6,0,"span",18)(9,dIt,6,2,"span",18),et()()}if(2&e){const t=Ct(2);ot(8),xt("ngIf",t.selectedFhirServer&&t.selectedUserTag),ot(),xt("ngIf",t.selectedFhirServer&&t.selectedUserTag)}}function hIt(e,i){if(1&e){const t=ye();q(0,"div",22)(1,"h3",15),ut(2,"Work with a single questionnaire"),et(),q(3,"p",15),ut(4,"Create, preview or validate a questionnaire you upload from your computer."),et(),q(5,"div",23)(6,"button",17),zt("click",function(){Gt(t);const r=Ct(2);return r.step1Response="edit",Ht(r.advanceFromStep1())}),ut(7,"Open NLM Form Builder"),et(),q(8,"button",17),zt("click",function(){Gt(t);const r=Ct(2);return r.step1Response="example",Ht(r.advanceFromStep1())}),ut(9,"Load an example questionnaire"),et(),q(10,"button",17),zt("click",function(){Gt(t);const r=Ct(2);return r.step1Response="validate",Ht(r.advanceFromStep1())}),ut(11,"Upload and validate a questionnaire"),et()()()}}function fIt(e,i){if(1&e&&(q(0,"div",10)(1,"div",11),jt(2,uIt,10,2,"div",12)(3,hIt,12,0,"div",13),et()()),2&e){const t=Ct();ot(2),xt("ngIf","step1"==t.mode),ot(),xt("ngIf","utility"==t.mode)}}function mIt(e,i){if(1&e&&(q(0,"span"),ut(1," Connected to "),q(2,"a",37),ut(3),et(),ut(4,' as "'),q(5,"i"),ut(6),et(),ut(7,'" '),et()),2&e){const t=Ct(2);ot(2),xt("href",t.selectedFhirServer,lx),ot(),qe(t.selectedFhirServer),ot(3),qe(t.selectedUserTag)}}function pIt(e,i){if(1&e){const t=ye();q(0,"button",26),zt("click",function(){return Gt(t),Ht(Ct(2).createQuestionnaire())}),ut(1," Create Questionnaire "),et()}2&e&&xt("disabled",Ct(2).validating)}function gIt(e,i){if(1&e){const t=ye();q(0,"button",26),zt("click",function(){return Gt(t),Ht(Ct(2).openModularQuestionnaireModal())}),ut(1," Create Modular Questionnaire "),et()}2&e&&xt("disabled",Ct(2).validating)}function vIt(e,i){if(1&e){const t=ye();q(0,"mat-tab",38)(1,"div",31)(2,"app-list-questionnaires",39,3),zt("validateQuestionnaire",function(r){return Gt(t),Ht(Ct(2).switchToValidateTab(r))})("previewQuestionnaire",function(r){return Gt(t),Ht(Ct(2).switchToPreviewTab(r))})("viewQuestionaireHistory",function(r){return Gt(t),Ht(Ct(2).switchToHistoryTab(r))}),et()()()}if(2&e){const t=Ct(2);ot(2),xt("config",t.listConfig)}}function xIt(e,i){if(1&e&&(q(0,"h4"),ut(1),gs(2,"date"),et()),2&e){const t=Ct(2);ot(),Ux("",t.questionnaire.title," - Version: ",t.questionnaire.meta.versionId," (",Sc(2,3,t.questionnaire.meta.lastUpdated,"fullDate"),")")}}function yIt(e,i){if(1&e){const t=ye();q(0,"div")(1,"div",24),jt(2,mIt,8,3,"span",8),q(3,"input",25,0),zt("change",function(r){return Gt(t),Ht(Ct().onFileSelected(r))}),et(),q(5,"button",26),zt("click",function(){return Gt(t),Ht(en(4).click())}),ut(6," Upload "),et(),q(7,"button",26),zt("click",function(){return Gt(t),Ht(Ct().saveQuestionnaireToDisk())}),ut(8,"Download"),et(),jt(9,pIt,2,1,"button",27)(10,gIt,2,1,"button",27),et(),q(11,"mat-tab-group",28),zt("selectedIndexChange",function(r){return Gt(t),Ht(Ct().onTabChange(r))}),jt(12,vIt,4,1,"mat-tab",29),q(13,"mat-tab",30)(14,"div",31),jt(15,xIt,3,6,"h4",8),Te(16,"div",32),et()(),q(17,"mat-tab",33)(18,"app-validate-questionnaire",34,1),zt("questionnaireUpdated",function(r){return Gt(t),Ht(Ct().saveQuestionnaire(r))})("validatingQuestionnaire",function(r){return Gt(t),Ht(Ct().validating=r)}),et()(),q(20,"mat-tab",35)(21,"app-questionnaire-history",36,2),zt("previewQuestionnaire",function(r){return Gt(t),Ht(Ct().switchToPreviewTab(r))})("restoreQuestionnaireVersion",function(r){return Gt(t),Ht(Ct().saveQuestionnaire(r))}),et()()()()}if(2&e){const t=Ct();ot(2),xt("ngIf","Manager"==t.mode),ot(3),xt("disabled",t.validating),ot(2),xt("disabled",t.validating||!t.questionnaire),ot(2),xt("ngIf","Manager"==t.mode),ot(),xt("ngIf","Manager"==t.mode),ot(2),xt("ngIf","Manager"===t.mode),ot(3),xt("ngIf",t.questionnaire),ot(),Si("hidden",!t.questionnaire),ot(2),xt("questionnaire",t.questionnaire),ot(3),xt("questionnaire",t.questionnaire)}}let bIt=(()=>{class e{constructor(t,n,r,s,o,l,w){this.http=t,this.terminologyService=n,this.fhirService=r,this.questionnaireService=s,this.activatedRoute=o,this.dialog=l,this._snackBar=w,this.loading=!1,this.validating=!1,this.orderCounter=0,this.savingQuestionnaire=!1,this.selectedFhirServer="",this.selectedUserTag="",this.showFhirSetupModal=!1,this.listConfig={validate:!0,preview:!0},this.mode="step1"}ngOnInit(){this.fhirService.baseUrl$.subscribe(t=>{this.selectedFhirServer=t}),this.fhirService.userTag$.subscribe(t=>{this.selectedUserTag=t}),this.activatedRoute.queryParams.subscribe(t=>{this.mode="true"===t.utility?"utility":"step1"}),this.loadScript()}loadScript(){const t=document.createElement("script");t.src="https://clinicaltables.nlm.nih.gov/lforms-versions/36.3.2/webcomponent/lhc-forms.js",t.onload=()=>{const n=document.createElement("script");n.src="https://clinicaltables.nlm.nih.gov/lforms-versions/36.3.2/fhir/R4/lformsFHIR.min.js",n.onload=()=>{},document.head.appendChild(n)},document.head.appendChild(t)}toggleMode(){"Validator"===this.mode?this.dialog.open(cP,{width:"60%",disableClose:!0}).afterClosed().subscribe(n=>{"save"===n&&(this.mode="Manager",setTimeout(()=>{this.tabGroup.selectedIndex=0},500))}):this.mode="Validator"}previewForm(){"Preview"==this.getCurrentTabName()&&(this.questionnaire?LForms.Util.addFormToPage(this.questionnaire,"myFormContainer"):LForms.Util.addFormToPage({},"myFormContainer"))}getFormData(){this.questionnaire&&LForms.Util.getFormData("myFormContainer",!0,!0,!0)}displayHistory(t){t&&this.questionnaireHistory.loadVersions(t)}loadExampleQuestionnaire(){Da(this.http.get("assets/questionnaires/Carcinoma-of-the-Exocrine-Pancreas-Histopathology-Reporting-Form.R4 (11).json")).then(t=>{this.loadQuestionnaire(t),"Manager"===this.mode&&(this.tabGroup.selectedIndex=1)})}clearQuestionnaire(){this.questionnaire=null,this.orderCounter=0,this.previewForm()}createQuestionnaire(){this.questionnairesList.createQuestionnaire()}loadQuestionnaire(t){this.loading=!0,this.clearQuestionnaire(),setTimeout(()=>{this.loading=!1,this.questionnaire=t,this.previewForm()},700)}saveQuestionnaireToDisk(){var t=new Blob([JSON.stringify(this.questionnaire,null,2)],{type:"text/plain;charset=utf-8"});gd(t,`${this.questionnaire.title}.json`)}onFileSelected(t){const n=t.target.files?.[0];if(n){const r=new FileReader;r.onload=s=>{try{const o=JSON.parse(s.target?.result);"Questionnaire"===o.resourceType?(this.loadQuestionnaire(o),setTimeout(()=>{"Manager"===this.mode?this.postCurrentQuestionnaire():this.tabGroup.selectedIndex=1},1e3)):this._snackBar.openFromComponent(Rr,{duration:5e3,data:"The file is not a FHIR Questionnaire Resource",panelClass:["red-snackbar"]})}catch(o){console.error(o),this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Invalid JSON file",panelClass:["red-snackbar"]})}},r.readAsText(n),t.target.value=""}}postCurrentQuestionnaire(){this.postQuestionnaire(this.questionnaire)}postQuestionnaire(t){if(-1!==this.questionnairesList.questionnaires.findIndex(r=>r.title===t.title&&r.id!==t.id))this.dialog.open(dP,{width:"400px",data:{title:"Confirm Action",message:"A questionnaire with the same title and different ID already exists. Do you want to proceed?"}}).afterClosed().subscribe(s=>{s?this.saveQuestionnaire(t):this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Questionnaire save action cancelled",panelClass:["red-snackbar"]})});else{-1!==this.questionnairesList.questionnaires.findIndex(o=>o.title===t.title&&o.id===t.id&&o.meta?.versionId>=t.meta?.versionId)?this.dialog.open(dP,{width:"400px",data:{title:"Confirm Action",message:"A newer version or identical of this questionnaire already exists. Do you want to proceed?"}}).afterClosed().subscribe(l=>{l?this.saveQuestionnaire(t):this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Questionnaire save action cancelled",panelClass:["red-snackbar"]})}):this.saveQuestionnaire(t)}}saveQuestionnaire(t){t?(this.savingQuestionnaire=!0,this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Saving Questionnaire...",panelClass:["green-snackbar"]}),t.meta||(t.meta={}),t.meta.tag=[{system:"http://snomed.org/tags",code:this.selectedUserTag,display:this.selectedUserTag},{system:"http://snomed.org/tags",code:"questionnaireManagerTool",display:"questionnaireManagerTool"}],this.fhirService.updateOrCreateQuestionnaire(t,this.selectedUserTag).pipe($l()).subscribe(n=>{setTimeout(()=>{this.tabGroup.selectedIndex=0,setTimeout(()=>{this.savingQuestionnaire=!1,this.questionnairesList.addQuestionnaire(n)},300)},300),this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Questionnaire saved successfully",panelClass:["green-snackbar"]})},n=>{this.savingQuestionnaire=!1,this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Error saving questionnaire",panelClass:["red-snackbar"]}),this.dialog.open(dP,{width:"400px",data:{title:"Save error",message:"This could be an ID conflict. Post again as a new questionnaire?"}}).afterClosed().subscribe(s=>{s?(delete t.id,this.saveQuestionnaire(t)):this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Questionnaire not saved",panelClass:["red-snackbar"]})})})):this._snackBar.openFromComponent(Rr,{duration:5e3,data:"No questionnaire to save",panelClass:["red-snackbar"]})}listQuestionnaires(){this.fhirService.getQuestionnairesByTag(this.selectedUserTag).pipe($l()).subscribe(t=>{},t=>{console.error(t)})}openLoadQuestionnairesDialog(){this.dialog.open(QDt,{width:"70%"}).afterClosed().subscribe(n=>{this.loadQuestionnaire(n)})}setFhirServer(){this.fhirService.setBaseUrl(this.selectedFhirServer),this.fhirService.setUserTag(this.selectedUserTag)}setupFhirServer(){this.dialog.open(cP,{width:"60%"})}switchToValidateTab(t){this.loadQuestionnaire(t),this.tabGroup.selectedIndex=2}switchToPreviewTab(t){this.loadQuestionnaire(t),this.tabGroup.selectedIndex=1}switchToHistoryTab(t){this.displayHistory(t),this.tabGroup.selectedIndex=3}advanceFromStep1(){"edit"==this.step1Response?window.open("https://lhcformbuilder.nlm.nih.gov/","_blank"):"validate"==this.step1Response?(this.mode="Validator",setTimeout(()=>{this.uploadInput.nativeElement.click()},200)):"repository"==this.step1Response?this.dialog.open(cP,{width:"60%"}).afterClosed().subscribe(n=>{n&&(this.mode="Manager")}):"example"==this.step1Response?(this.mode="Validator",setTimeout(()=>{this.loadExampleQuestionnaire()},300)):"reconnect"==this.step1Response&&(this.mode="Manager"),this.step1Response=""}getCurrentTabName(){const t=this.tabGroup.selectedIndex;return null!=t?this.tabGroup._tabs.toArray()[t].textLabel:""}onTabChange(t){"Preview"===this.tabGroup._tabs.toArray()[t].textLabel&&setTimeout(()=>{this.previewForm()},300)}openModularQuestionnaireModal(){this.dialog.open(aX,{width:"75%"}).afterClosed().subscribe(n=>{n&&this.questionnaireService.generateRootQuestionnaire(n.title,n.questionnaires).then(r=>{this.postQuestionnaire(r)}).catch(r=>{console.error("Error:",r)})})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ql),mt(fa),mt(hv),mt(oX),mt(Ic),mt(lm),mt(Eh))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-questionnaires-main"]],viewQuery:function(n,r){if(1&n&&(Pi(Nh,5),Pi(ov,5),Pi(rIt,5),Pi(sIt,5),Pi(aIt,5)),2&n){let s;Ge(s=He())&&(r.sort=s.first),Ge(s=He())&&(r.tabGroup=s.first),Ge(s=He())&&(r.questionnairesList=s.first),Ge(s=He())&&(r.uploadInput=s.first),Ge(s=He())&&(r.questionnaireHistory=s.first)}},decls:11,vars:4,consts:[["fileInput",""],["validateQuestionnaire",""],["questionnaireHistory",""],["questionnairesList",""],[1,"header-container"],[1,"header"],[1,"breadcrumb"],["href","javascript:void(0)",3,"click"],[4,"ngIf"],["id","step1",4,"ngIf"],["id","step1"],[1,"flex","justify-between","pr-4"],["class","w-full border-2 border-blue-200 bg-transparent rounded-lg p-4 m-2 min-h-[500px]",4,"ngIf"],["class","w-full border-2 border-blue-200 bg-transparent rounded-lg p-4 m-2 min-h-[500px] justify-center",4,"ngIf"],[1,"w-full","border-2","border-blue-200","bg-transparent","rounded-lg","p-4","m-2","min-h-[500px]"],[1,"text-center"],[1,"flex","justify-center","flex-col","gap-1","mt-10"],["mat-flat-button","","color","accent",1,"mx-auto","w-auto","flex-none",3,"click"],["class","mx-auto w-auto flex-none",4,"ngIf"],[1,"mx-auto","w-auto","flex-none"],["href","javascript:void(0)","id","reconnect-link",3,"click"],[1,"muted"],[1,"w-full","border-2","border-blue-200","bg-transparent","rounded-lg","p-4","m-2","min-h-[500px]","justify-center"],[1,"flex","justify-center","flex-col","gap-5","mt-10"],[1,"button-container","bottom-spacer"],["type","file","hidden","",3,"change"],["mat-flat-button","","color","accent",3,"click","disabled"],["mat-flat-button","","color","accent",3,"disabled","click",4,"ngIf"],["mat-stretch-tabs","false","mat-align-tabs","start",3,"selectedIndexChange"],["label","My Questionnaires",4,"ngIf"],["label","Preview"],[1,"tab-container"],["id","myFormContainer"],["label","Validate SNOMED Bindings"],[3,"questionnaireUpdated","validatingQuestionnaire","questionnaire"],["label","History"],[3,"previewQuestionnaire","restoreQuestionnaireVersion","questionnaire"],["target","_blank",3,"href"],["label","My Questionnaires"],[3,"validateQuestionnaire","previewQuestionnaire","viewQuestionaireHistory","config"]],template:function(n,r){1&n&&(q(0,"div",4)(1,"h2",5),ut(2," SNOMED CT Terminology Bindings Validator - FHIR Questionnaire Manager "),et(),q(3,"div",6)(4,"span")(5,"a",7),zt("click",function(){return r.mode="step1"}),ut(6,"Home"),et(),jt(7,oIt,2,0,"span",8)(8,lIt,2,0,"span",8),et()()(),jt(9,fIt,4,2,"div",9)(10,yIt,23,11,"div",8)),2&n&&(ot(7),xt("ngIf","Validator"==r.mode),ot(),xt("ngIf","Manager"==r.mode),ot(),xt("ngIf","step1"==r.mode||"utility"==r.mode),ot(),xt("ngIf","Manager"==r.mode||"Validator"==r.mode))},dependencies:[Fs,Ma,ma,zy,ov,lX,FMt,nIt,Zd],styles:[".header[_ngcontent-%COMP%]{margin-left:2rem;margin-top:1rem}.table-container[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem}.button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;gap:1rem;margin-right:2rem;align-items:center}.bottom-spacer[_ngcontent-%COMP%]{margin-bottom:1rem}.pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;font-weight:700;text-align:center;display:inline-block;font-size:.8rem}.pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.mini-pill[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;text-align:center;font-weight:700;font-size:.9rem;margin-right:2rem;float:right}.mini-pill.Active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.mini-pill.Inactive[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}.mini-pill.Error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.progress-container[_ngcontent-%COMP%]{margin-top:1rem;position:relative;width:30%}.progress-label[_ngcontent-%COMP%]{position:absolute;width:100%;text-align:center;top:60%;transform:translateY(-50%);font-size:.9rem;font-weight:700}.bindingsCount[_ngcontent-%COMP%]{font-size:1rem;font-weight:lighter}.loading-spinner[_ngcontent-%COMP%]{margin-left:2rem;margin-top:2rem}.code-link[_ngcontent-%COMP%]{font-size:.8rem}.server-name[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:maroon}.replacement[_ngcontent-%COMP%]{font-weight:lighter;font-style:italic;color:#00800b;display:flex;align-items:center;font-size:.9rem;margin-left:2rem}.concept-is-inactive[_ngcontent-%COMP%]{color:maroon;font-size:.9rem;margin-bottom:0rem}#myFormContainer[_ngcontent-%COMP%], #tab-header[_ngcontent-%COMP%]{margin-top:1rem}.tab-container[_ngcontent-%COMP%]{padding-top:1rem;padding-left:2rem;padding-right:2rem}.outgoing-link[_ngcontent-%COMP%]{font-size:.8rem;float:right;margin-right:2rem}#step1[_ngcontent-%COMP%]{margin-top:2rem;margin-left:2rem;font-size:large}#step1[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{margin-left:2rem;display:flex;flex-direction:column;align-items:flex-start}.step-button-container[_ngcontent-%COMP%]{margin-left:30rem;margin-top:2rem}.breadcrumb[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:2rem}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.hidden[_ngcontent-%COMP%]{visibility:hidden}.muted[_ngcontent-%COMP%]{color:#8f9397}#reconnect[_ngcontent-%COMP%]{margin-left:5rem}#reconnect-link[_ngcontent-%COMP%]{display:flex;vertical-align:middle;flex-direction:row}"]})}return e})();const wIt=e=>({"bg-pink":e});function _It(e,i){if(1&e&&(q(0,"p",18),ut(1),et()),2&e){const t=Ct();ot(),qe(t.studentSubsetDefinition)}}function TIt(e,i){1&e&&Te(0,"mat-spinner",19)}function CIt(e,i){if(1&e&&(q(0,"p",23),ut(1),et()),2&e){const t=Ct(2);ot(),qe(t.definitionVsMembersValidationResult)}}function SIt(e,i){if(1&e&&(q(0,"p",23),ut(1),et()),2&e){const t=Ct(2);ot(),qe(t.keyConceptValidationResult)}}function EIt(e,i){if(1&e&&(q(0,"div",20)(1,"h3",21),ut(2,"Validation Results"),et(),jt(3,CIt,2,1,"p",22)(4,SIt,2,1,"p",22),q(5,"p",23),ut(6),et(),q(7,"p",23),ut(8),et()()),2&e){const t=Ct();ot(3),xt("ngIf",t.selectedAssignment.referenceDefinition),ot(),xt("ngIf",t.selectedAssignment.referenceDefinition),ot(2),qe(t.membersNotInRefrenceListResult),ot(2),qe(t.refrenceListVsStudentListResult)}}function AIt(e,i){1&e&&(q(0,"th",33),ut(1,"ID"),et())}function DIt(e,i){if(1&e&&(q(0,"td",34),ut(1),et()),2&e){const t=i.$implicit;ot(),qe(t.referencedComponentId)}}function MIt(e,i){1&e&&(q(0,"th",33),ut(1,"Name"),et())}function IIt(e,i){if(1&e&&(q(0,"td",34),ut(1),et()),2&e){const t=i.$implicit;ot(),qe(t.name)}}function kIt(e,i){1&e&&(q(0,"th",33),ut(1,"Result"),et())}function RIt(e,i){1&e&&(q(0,"span"),ut(1,"OK"),et())}function PIt(e,i){if(1&e&&(q(0,"span"),ut(1),et()),2&e){const t=Ct(2).$implicit;ot(),Ke(" ",t.customMessage.note," ")}}function FIt(e,i){1&e&&(q(0,"span"),ut(1," Error "),et())}function OIt(e,i){if(1&e&&(q(0,"span"),jt(1,RIt,2,0,"span",16)(2,PIt,2,1,"span",16)(3,FIt,2,0,"span",16),et()),2&e){const t=Ct().$implicit;ot(),xt("ngIf",null==t||null==t.inReferenceList?null:t.inReferenceList.value),ot(),xt("ngIf",!(null!=t&&null!=t.inReferenceList&&t.inReferenceList.value)&&(null==t||null==t.customMessage?null:t.customMessage.value)),ot(),xt("ngIf",!(null!=t&&null!=t.inReferenceList&&t.inReferenceList.value||null!=t&&null!=t.customMessage&&t.customMessage.value))}}function LIt(e,i){if(1&e&&(q(0,"td",34),jt(1,OIt,4,3,"span",16),et()),2&e){const t=Ct(2);ot(),xt("ngIf",t.membersValidationResult)}}function NIt(e,i){1&e&&Te(0,"tr",35)}function BIt(e,i){if(1&e&&Te(0,"tr",36),2&e){const t=i.$implicit,n=Ct(2);xt("ngClass",_l(1,wIt,!(null!=t.inReferenceList&&t.inReferenceList.value)&&n.membersValidationResult))}}function VIt(e,i){if(1&e&&(q(0,"div",24)(1,"table",25),$i(2,26),jt(3,AIt,2,0,"th",27)(4,DIt,2,1,"td",28),Qi(),$i(5,29),jt(6,MIt,2,0,"th",27)(7,IIt,2,1,"td",28),Qi(),$i(8,30),jt(9,kIt,2,0,"th",27)(10,LIt,2,1,"td",28),Qi(),jt(11,NIt,1,0,"tr",31)(12,BIt,1,3,"tr",32),et()()),2&e){const t=Ct();ot(),xt("dataSource",t.studentSubsetMembersDataSource),ot(10),xt("matHeaderRowDef",t.studentSubsetMembersDisplayedColumns),ot(),xt("matRowDefColumns",t.studentSubsetMembersDisplayedColumns)}}function UIt(e,i){if(1&e){const t=ye();q(0,"button",40),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct(2).setAssignment(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),qe(t.name)}}function zIt(e,i){if(1&e&&(q(0,"div")(1,"h3"),ut(2,"Assignment"),et(),q(3,"button",37),ut(4),et(),q(5,"mat-menu",38,2),jt(7,UIt,2,1,"button",39),et()()),2&e){const t=en(6),n=Ct();ot(3),xt("matMenuTriggerFor",t),ot(),Ke("Selected assignment: ",null==n.selectedAssignment?null:n.selectedAssignment.name,""),ot(3),xt("ngForOf",n.assignments)}}function GIt(e,i){if(1&e&&(q(0,"h3"),ut(1),et()),2&e){const t=Ct();ot(),Ke(" Assignment: ",null==t.selectedAssignment?null:t.selectedAssignment.name," ")}}function HIt(e,i){1&e&&(q(0,"ol")(1,"li"),ut(2,"1- Upload definition file"),et(),q(3,"li"),ut(4,"2- Upload members file"),et(),q(5,"li"),ut(6,"3- Click validate"),et()())}function WIt(e,i){1&e&&(q(0,"ol")(1,"li"),ut(2,"1- Upload members file"),et(),q(3,"li"),ut(4,"2- Click validate"),et()())}function jIt(e,i){if(1&e){const t=ye();q(0,"div")(1,"div")(2,"h3"),ut(3,"Reference Data"),et(),q(4,"mat-form-field",41)(5,"mat-label"),ut(6,"Textarea"),et(),q(7,"textarea",42),Sa("ngModelChange",function(r){Gt(t);const s=Ct();return Ga(s.assignmentsString,r)||(s.assignmentsString=r),Ht(r)}),et()(),q(8,"button",11),zt("click",function(){return Gt(t),Ht(Ct().updateAssignments())}),ut(9,"Update Assignments"),et()()()}if(2&e){const t=Ct();ot(7),Ca("ngModel",t.assignmentsString)}}let XIt=(()=>{class e{constructor(t,n,r,s){this.http=t,this.terminologyService=n,this._snackBar=r,this.activatedRoute=s,this.studentSubsetMembersDisplayedColumns=["referencedComponentId","name","result"],this.studentSubsetMembersDataSource=new im,this.studentSubsetmembers=[],this.studentSubsetDefinition="",this.keyConceptValidationResult="",this.definitionVsMembersValidationResult="",this.membersNotInRefrenceListResult="",this.membersValidationResult=!1,this.refrenceListVsStudentListResult="",this.embeddedMode=!1,this.loading=!1,this.ok="\u2705",this.error="\u{1f7e5}",this.assignments=[{name:"Assignment X",referenceData:[{referencedComponentId:"403197009",name:"Sun-induced wrinkles"},{referencedComponentId:"279002006",name:"Lichenification of skin"},{referencedComponentId:"274672009",name:"Changes in skin texture"},{referencedComponentId:"271767006",name:"Peeling of skin"},{referencedComponentId:"271761007",name:"Scaly skin"},{referencedComponentId:"247434009",name:"Wrinkled skin"}],referenceDefinition:"< 185823004 |Finding of skin texture (finding)|",keyConceptsInECL:[{code:"185823004",display:"Finding of skin texture (finding)"}],customMessages:[{conceptId:"85345005",note:"wrong hierarchy",principle:"wrong hierarchy"},{conceptId:"403197009",note:"wrong hierarchy",principle:"wrong hierarchy"}]}],this.assignmentsString=JSON.stringify(this.assignments),this.selectedAssignment=this.assignments[0],this.referenceDataDisplayedColumns=["referencedComponentId","name"],this.referenceDataDataSource=new im(this.selectedAssignment.referenceData)}ngOnInit(){var t=this;return Mt(function*(){const n=yield Da(t.http.get("assets/definitions/assignments.json"));t.assignments=n,t.assignmentsString=JSON.stringify(t.assignments),t.setAssignment(t.assignments[0]),t.activatedRoute.queryParams.subscribe(r=>{r.assignment&&t.setAssignment(t.assignments.find(s=>s.name===r.assignment)),t.embeddedMode="true"===r.embedded})})()}setAssignment(t){t&&(this.selectedAssignment=t,this.referenceDataDataSource=new im(this.selectedAssignment.referenceData))}checkStudentECLvsStudentList(){var t=this;return Mt(function*(){if(!t.studentSubsetDefinition){let r=yield t.terminologyService.expandValueSet(t.studentSubsetDefinition,"").toPromise(),o=0;t.studentSubsetmembers.forEach(l=>{r.expansion.contains.find(S=>S.code===l.referencedComponentId)?l.inStudentECL={value:!0,message:""}:(l.inStudentECL={value:!1,message:""},o++)})}return 0})()}checkStudentECLvsKeyConcept(){if(this.studentSubsetDefinition){console.log("Student ECL not defined");let t=this.studentSubsetDefinition,r=!0;return this.selectedAssignment.keyConceptsInECL.forEach(s=>{t.includes(s.code)||(r=!1)}),r}return!0}checkStudentListVsReferenceList(){let n=this.selectedAssignment.referenceData;this.studentSubsetmembers.forEach(s=>{s.inReferenceList=n.find(l=>l.referencedComponentId===s.referencedComponentId)?{value:!0,message:""}:{value:!1,message:""}})}checkReferenceListVsStudentList(){let t=this.studentSubsetmembers,r=0;return this.selectedAssignment.referenceData.forEach(s=>{t.find(l=>l.referencedComponentId===s.referencedComponentId)?s.inStudentList={value:!0,message:""}:(s.inStudentList={value:!1,message:""},r++)}),r}checkStudentListVsCustomMessages(){let n=this.selectedAssignment.customMessages;this.studentSubsetmembers.forEach(r=>{const s=n.find(o=>o.conceptId===r.referencedComponentId);r.customMessage=s?{value:!0,principle:s.principle,note:s.note}:{value:!1,principle:"",note:""}})}updateAssignments(){this.assignments=JSON.parse(this.assignmentsString),this.setAssignment(this.assignments[0])}validateAssignment(){var t=this;return Mt(function*(){t.loading=!0,t.keyConceptValidationResult="",t.definitionVsMembersValidationResult="",t.membersValidationResult=!1,t.loading=!0,t.studentSubsetDefinition&&(t.definitionVsMembersValidationResult=(yield t.checkStudentECLvsStudentList())>0?t.error+" The uploaded definition and members files are not in alignment":t.ok+" The uploaded definition and members files are in alignment",t.keyConceptValidationResult=t.checkStudentECLvsKeyConcept()?t.ok+" The definition of your subset includes the key subhierarchy":t.error+" The definition of your subset does not include the key subhierarchy"),t.checkStudentListVsReferenceList();let n=t.studentSubsetmembers.filter(s=>!s.inReferenceList.value).length;t.membersNotInRefrenceListResult=n>0?t.error+" There are "+n+" members in your subset that are not recommended to be included":t.ok+" All members match the recommended list of concepts for the subset",t.checkStudentListVsCustomMessages();let r=t.checkReferenceListVsStudentList();t.refrenceListVsStudentListResult=r>0?t.error+" "+r+" "+(r>1?"concepts are":"concept is")+" missing in the uploaded member list that would be recommended to be included in this subset":t.ok+" All recommended concepts are included in this subset",t.loading=!1,t.membersValidationResult=!0})()}onSubsetmembersFileSelected(t){this.studentSubsetmembers=[],this.studentSubsetMembersDataSource=new im,this.studentSubsetMembersDataSource.sort=this.sort,this.loading=!0;const n=t.target.files?.[0];if(n){const r=new FileReader;r.onload=s=>{try{const l=r.result.split("\n"),w=l[0].split("\t");if(w.length<2)throw new Error("Invalid file format");const S=w.indexOf("referencedComponentId"),M=w.indexOf("name");if(S<0||M<0)throw new Error("Invalid file format");const P=[];for(let O=1;O<l.length;O++){const N=l[O].split("\t");if(N.length<2)continue;const U={};U.referencedComponentId=N[S],U.name=N[M],U.result={value:"Not validated",message:""},U.scope={value:"Not validated",message:""},P.push(U)}P.sort((O,N)=>O.name.localeCompare(N.name)),this.studentSubsetmembers=P,this.studentSubsetMembersDataSource.data=P,this.loading=!1}catch(o){this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Error reading file: "+o.message,panelClass:["red-snackbar"]}),this.loading=!1}},r.onerror=s=>{this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Error reading file: "+s,panelClass:["red-snackbar"]}),this.loading=!1},r.readAsText(n)}else this.loading=!1}onDefinitionFileSelected(t){this.studentSubsetDefinition="",this.loading=!0;const n=t.target.files?.[0];if(n){const r=new FileReader;r.onload=s=>{try{const w=r.result.replace(/\r/g,"").split("\n"),S=w[0].split("\t");if(S.length<2)throw new Error("Invalid file format");const M=S.indexOf("referencedComponentId"),P=S.indexOf("definition");if(M<0||P<0)throw new Error("Invalid file format");this.studentSubsetDefinition=w[1].split("\t")[P],this.loading=!1}catch(o){this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Error reading file: "+o.message,panelClass:["red-snackbar"]}),this.loading=!1}},r.onerror=s=>{this._snackBar.openFromComponent(Rr,{duration:5e3,data:"Error reading file: "+s,panelClass:["red-snackbar"]}),this.loading=!1},r.readAsText(n)}else this.loading=!1}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ql),mt(fa),mt(Eh),mt(Ic))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-subset-validator"]],viewQuery:function(n,r){if(1&n&&Pi(Nh,5),2&n){let s;Ge(s=He())&&(r.sort=s.first)}},decls:31,vars:12,consts:[["fileInput",""],["fileInputDefinition",""],["demosMenu","matMenu"],[1,"layout-container"],[1,"left-column"],[1,"upload-controls"],[1,"mb-4"],["class","terminal-style",4,"ngIf"],["type","file",2,"display","none",3,"change"],[1,"buttons-panel"],["mat-flat-button","","color","primary",3,"click","disabled"],["mat-flat-button","","color","primary",3,"click"],["class","spinner","diameter","30",4,"ngIf"],["class","blue-rounded-div",4,"ngIf"],["class","table-container",4,"ngIf"],[1,"right-column"],[4,"ngIf"],[1,"instructions"],[1,"terminal-style"],["diameter","30",1,"spinner"],[1,"blue-rounded-div"],[1,"text-white","mb-1"],["class","validation-result",4,"ngIf"],[1,"validation-result"],[1,"table-container"],["mat-table","",3,"dataSource"],["matColumnDef","referencedComponentId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","result"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"ngClass"],["mat-flat-button","","color","accent",3,"matMenuTriggerFor"],[1,"wide-menu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],["appearance","fill"],["matInput","",3,"ngModelChange","ngModel"]],template:function(n,r){if(1&n){const s=ye();q(0,"div",3)(1,"div",4)(2,"div",5)(3,"h3"),ut(4,"Subset Members Validator"),et(),q(5,"p",6),ut(6),et(),jt(7,_It,2,1,"p",7),q(8,"input",8,0),zt("change",function(l){return Gt(s),Ht(r.onSubsetmembersFileSelected(l))}),et(),q(10,"input",8,1),zt("change",function(l){return Gt(s),Ht(r.onDefinitionFileSelected(l))}),et(),q(12,"div",9)(13,"button",10),zt("click",function(){return Gt(s),Ht(en(11).click())}),ut(14," Upload Definition File "),et(),q(15,"button",11),zt("click",function(){return Gt(s),Ht(en(9).click())}),ut(16,"Upload Members File"),et(),q(17,"button",10),zt("click",function(){return Gt(s),Ht(r.validateAssignment())}),ut(18,"Validate"),et(),jt(19,TIt,1,0,"mat-spinner",12),et(),jt(20,EIt,9,4,"div",13),et(),jt(21,VIt,13,3,"div",14),et(),q(22,"div",15),jt(23,zIt,8,3,"div",16)(24,GIt,2,1,"h3",16),q(25,"h3"),ut(26,"Instructions"),et(),q(27,"div",17),jt(28,HIt,7,0,"ol",16)(29,WIt,5,0,"ol",16),et(),jt(30,jIt,10,1,"div",16),et()()}2&n&&(ot(6),Ke("Validating against ",r.terminologyService.getFhirUrlParam(),""),ot(),xt("ngIf",r.studentSubsetDefinition),ot(6),xt("disabled",!r.selectedAssignment.referenceDefinition),ot(4),xt("disabled",!r.studentSubsetMembersDataSource.data.length),ot(2),xt("ngIf",r.loading),ot(),xt("ngIf",!r.loading&&r.membersNotInRefrenceListResult),ot(),xt("ngIf",!r.loading&&r.studentSubsetMembersDataSource.data.length),ot(2),xt("ngIf",!r.embeddedMode),ot(),xt("ngIf",r.embeddedMode),ot(4),xt("ngIf",r.selectedAssignment.referenceDefinition),ot(),xt("ngIf",!r.selectedAssignment.referenceDefinition),ot(),xt("ngIf",!r.embeddedMode))},dependencies:[Ac,ws,Fs,Ma,El,Jl,uu,Dl,nl,Ah,yu,Al,Uo,Dh,pu,Mh,gu,mu,Ih,vu,xu,kh,Rh,ql],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - 65px)}.layout-container[_ngcontent-%COMP%]{display:flex;height:100%}.left-column[_ngcontent-%COMP%]{flex:0 0 68%;display:flex;flex-direction:column;height:100%}.right-column[_ngcontent-%COMP%]{flex:0 0 28%}.buttons-panel[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem;margin-top:2rem}.upload-controls[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.table-container[_ngcontent-%COMP%]{overflow-y:auto}.upload-controls[_ngcontent-%COMP%]{margin-left:20px}table[_ngcontent-%COMP%]{width:100%}.validation-result[_ngcontent-%COMP%]{font-weight:400;font-size:larger}.blue-rounded-div[_ngcontent-%COMP%]{border-radius:10px;background-color:#4d7fb4;padding:.5rem 3rem 1rem;width:80%;color:#f5f5f5;margin-top:20px}.terminal-style[_ngcontent-%COMP%]{font-family:monospace;font-size:.9rem;background-color:#000;color:#fff;padding:10px;border-radius:10px;margin-top:20px;width:80%}h4[_ngcontent-%COMP%]{margin-top:10px}.instructions[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;font-weight:lighter;font-size:larger}h3[_ngcontent-%COMP%]{margin-top:10px}.bg-pink[_ngcontent-%COMP%]{background-color:pink}tr.mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#aba9a9!important}"]})}return e})();const dX=function(e){const i=[];let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?i[t++]=r:r<2048?(i[t++]=r>>6|192,i[t++]=63&r|128):55296==(64512&r)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n)),i[t++]=r>>18|240,i[t++]=r>>12&63|128,i[t++]=r>>6&63|128,i[t++]=63&r|128):(i[t++]=r>>12|224,i[t++]=r>>6&63|128,i[t++]=63&r|128)}return i},uX={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,i){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,l=o?e[r+1]:0,w=r+2<e.length,S=w?e[r+2]:0;let O=(15&l)<<2|S>>6,N=63&S;w||(N=64,o||(O=64)),n.push(t[s>>2],t[(3&s)<<4|l>>4],t[O],t[N])}return n.join("")},encodeString(e,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(e):this.encodeByteArray(dX(e),i)},decodeString(e,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(e):function(e){const i=[];let t=0,n=0;for(;t<e.length;){const r=e[t++];if(r<128)i[n++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[t++];i[n++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const w=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536;i[n++]=String.fromCharCode(55296+(w>>10)),i[n++]=String.fromCharCode(56320+(1023&w))}else{const s=e[t++],o=e[t++];i[n++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return i.join("")}(this.decodeStringToByteArray(e,i))},decodeStringToByteArray(e,i){this.init_();const t=i?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<e.length;){const s=t[e.charAt(r++)],l=r<e.length?t[e.charAt(r)]:0;++r;const S=r<e.length?t[e.charAt(r)]:64;++r;const P=r<e.length?t[e.charAt(r)]:64;if(++r,null==s||null==l||null==S||null==P)throw new ZIt;n.push(s<<2|l>>4),64!==S&&(n.push(l<<4&240|S>>2),64!==P&&n.push(S<<6&192|P))}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ZIt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tS=function(e){return function(e){const i=dX(e);return uX.encodeByteArray(i,!0)}(e).replace(/\./g,"")},eS=()=>{try{return function tkt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const i=e&&function(e){try{return uX.decodeString(e,!0)}catch(i){console.error("base64Decode failed: ",i)}return null}(e[1]);return i&&JSON.parse(i)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},fX=()=>{var e;return null===(e=eS())||void 0===e?void 0:e.config};class mX{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((i,t)=>{this.resolve=i,this.reject=t})}wrapCallback(i){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof i&&(this.promise.catch(()=>{}),1===i.length?i(t):i(t,n))}}}class fv extends Error{constructor(i,t,n){super(t),this.code=i,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,fv.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vX.prototype.create)}}class vX{constructor(i,t,n){this.service=i,this.serviceName=t,this.errors=n}create(i,...t){const n=t[0]||{},r=`${this.service}/${i}`,s=this.errors[i],o=s?function ukt(e,i){return e.replace(hkt,(t,n)=>{const r=i[n];return null!=r?String(r):`<${n}?>`})}(s,n):"Error";return new fv(r,`${this.serviceName}: ${o} (${r}).`,n)}}const hkt=/\{\$([^}]+)}/g;function Qy(e,i){if(e===i)return!0;const t=Object.keys(e),n=Object.keys(i);for(const r of t){if(!n.includes(r))return!1;const s=e[r],o=i[r];if(yX(s)&&yX(o)){if(!Qy(s,o))return!1}else if(s!==o)return!1}for(const r of n)if(!t.includes(r))return!1;return!0}function yX(e){return null!==e&&"object"==typeof e}function Pc(e){return e&&e._delegate?e._delegate:e}class Ky{constructor(i,t,n){this.name=i,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(i){return this.multipleInstances=i,this}setServiceProps(i){return this.serviceProps=i,this}setInstanceCreatedCallback(i){return this.onInstanceCreated=i,this}}const cm="[DEFAULT]";class bkt{constructor(i,t){this.name=i,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(i){const t=this.normalizeInstanceIdentifier(i);if(!this.instancesDeferred.has(t)){const n=new mX;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(i){var t;const n=this.normalizeInstanceIdentifier(i?.identifier),r=null!==(t=i?.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(i){if(i.name!==this.name)throw Error(`Mismatching Component ${i.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=i,this.shouldAutoInitialize()){if(function _kt(e){return"EAGER"===e.instantiationMode}(i))try{this.getOrInitializeService({instanceIdentifier:cm})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});n.resolve(s)}catch{}}}}clearInstance(i=cm){this.instancesDeferred.delete(i),this.instancesOptions.delete(i),this.instances.delete(i)}delete(){var i=this;return Mt(function*(){const t=Array.from(i.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(i=cm){return this.instances.has(i)}getOptions(i=cm){return this.instancesOptions.get(i)||{}}initialize(i={}){const{options:t={}}=i,n=this.normalizeInstanceIdentifier(i.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,o]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(i,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(i),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&i(o,r),()=>{s.delete(i)}}invokeOnInitCallbacks(i,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(i,t)}catch{}}getOrInitializeService({instanceIdentifier:i,options:t={}}){let n=this.instances.get(i);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(e=i,e===cm?void 0:e),options:t}),this.instances.set(i,n),this.instancesOptions.set(i,t),this.invokeOnInitCallbacks(n,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,n)}catch{}var e;return n||null}normalizeInstanceIdentifier(i=cm){return this.component?this.component.multipleInstances?i:cm:i}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Tkt{constructor(i){this.name=i,this.providers=new Map}addComponent(i){const t=this.getProvider(i.name);if(t.isComponentSet())throw new Error(`Component ${i.name} has already been registered with ${this.name}`);t.setComponent(i)}addOrOverwriteComponent(i){this.getProvider(i.name).isComponentSet()&&this.providers.delete(i.name),this.addComponent(i)}getProvider(i){if(this.providers.has(i))return this.providers.get(i);const t=new bkt(i,this);return this.providers.set(i,t),t}getProviders(){return Array.from(this.providers.values())}}const gP=[];var Zn=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(Zn||{});const bX={debug:Zn.DEBUG,verbose:Zn.VERBOSE,info:Zn.INFO,warn:Zn.WARN,error:Zn.ERROR,silent:Zn.SILENT},Ckt=Zn.INFO,Skt={[Zn.DEBUG]:"log",[Zn.VERBOSE]:"log",[Zn.INFO]:"info",[Zn.WARN]:"warn",[Zn.ERROR]:"error"},Ekt=(e,i,...t)=>{if(i<e.logLevel)return;const n=(new Date).toISOString(),r=Skt[i];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`);console[r](`[${n}]  ${e.name}:`,...t)};class wX{constructor(i){this.name=i,this._logLevel=Ckt,this._logHandler=Ekt,this._userLogHandler=null,gP.push(this)}get logLevel(){return this._logLevel}set logLevel(i){if(!(i in Zn))throw new TypeError(`Invalid value "${i}" assigned to \`logLevel\``);this._logLevel=i}setLogLevel(i){this._logLevel="string"==typeof i?bX[i]:i}get logHandler(){return this._logHandler}set logHandler(i){if("function"!=typeof i)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=i}get userLogHandler(){return this._userLogHandler}set userLogHandler(i){this._userLogHandler=i}debug(...i){this._userLogHandler&&this._userLogHandler(this,Zn.DEBUG,...i),this._logHandler(this,Zn.DEBUG,...i)}log(...i){this._userLogHandler&&this._userLogHandler(this,Zn.VERBOSE,...i),this._logHandler(this,Zn.VERBOSE,...i)}info(...i){this._userLogHandler&&this._userLogHandler(this,Zn.INFO,...i),this._logHandler(this,Zn.INFO,...i)}warn(...i){this._userLogHandler&&this._userLogHandler(this,Zn.WARN,...i),this._logHandler(this,Zn.WARN,...i)}error(...i){this._userLogHandler&&this._userLogHandler(this,Zn.ERROR,...i),this._logHandler(this,Zn.ERROR,...i)}}const Akt=(e,i)=>i.some(t=>e instanceof t);let _X,TX;const CX=new WeakMap,vP=new WeakMap,SX=new WeakMap,xP=new WeakMap,yP=new WeakMap;let bP={get(e,i,t){if(e instanceof IDBTransaction){if("done"===i)return vP.get(e);if("objectStoreNames"===i)return e.objectStoreNames||SX.get(e);if("store"===i)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Uh(e[i])},set:(e,i,t)=>(e[i]=t,!0),has:(e,i)=>e instanceof IDBTransaction&&("done"===i||"store"===i)||i in e};function Fkt(e){return"function"==typeof e?function Pkt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Mkt(){return TX||(TX=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...i){return e.apply(wP(this),i),Uh(CX.get(this))}:function(...i){return Uh(e.apply(wP(this),i))}:function(i,...t){const n=e.call(wP(this),i,...t);return SX.set(n,i.sort?i.sort():[i]),Uh(n)}}(e):(e instanceof IDBTransaction&&function kkt(e){if(vP.has(e))return;const i=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});vP.set(e,i)}(e),Akt(e,function Dkt(){return _X||(_X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,bP):e)}function Uh(e){if(e instanceof IDBRequest)return function Ikt(e){const i=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{t(Uh(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return i.then(t=>{t instanceof IDBCursor&&CX.set(t,e)}).catch(()=>{}),yP.set(i,e),i}(e);if(xP.has(e))return xP.get(e);const i=Fkt(e);return i!==e&&(xP.set(e,i),yP.set(i,e)),i}const wP=e=>yP.get(e),Lkt=["get","getKey","getAll","getAllKeys","count"],Nkt=["put","add","delete","clear"],_P=new Map;function EX(e,i){if(!(e instanceof IDBDatabase)||i in e||"string"!=typeof i)return;if(_P.get(i))return _P.get(i);const t=i.replace(/FromIndex$/,""),n=i!==t,r=Nkt.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!r&&!Lkt.includes(t))return;const s=function(){var o=Mt(function*(l,...w){const S=this.transaction(l,r?"readwrite":"readonly");let M=S.store;return n&&(M=M.index(w.shift())),(yield Promise.all([M[t](...w),r&&S.done]))[0]});return function(w){return o.apply(this,arguments)}}();return _P.set(i,s),s}!function Rkt(e){bP=e(bP)}(e=>({...e,get:(i,t,n)=>EX(i,t)||e.get(i,t,n),has:(i,t)=>!!EX(i,t)||e.has(i,t)}));class Bkt{constructor(i){this.container=i}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Vkt(e){const i=e.getComponent();return"VERSION"===i?.type}(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}return null}).filter(t=>t).join(" ")}}const nS="@firebase/app",dm=new wX("@firebase/app"),rS="[DEFAULT]",hRt={[nS]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},um=new Map,Zy=new Map,Jy=new Map;function AX(e,i){try{e.container.addComponent(i)}catch(t){dm.debug(`Component ${i.name} failed to register with FirebaseApp ${e.name}`,t)}}function sS(e){const i=e.name;if(Jy.has(i))return dm.debug(`There were multiple attempts to register component ${i}.`),!1;Jy.set(i,e);for(const t of um.values())AX(t,e);for(const t of Zy.values())AX(t,e);return!0}const ec=new vX("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class MX{constructor(i,t,n){this._isDeleted=!1,this._options=Object.assign({},i),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ky("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this.checkDestroyed(),this._automaticDataCollectionEnabled=i}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(i){this._isDeleted=i}checkDestroyed(){if(this.isDeleted)throw ec.create("app-deleted",{appName:this._name})}}function IX(e,i={}){let t=e;"object"!=typeof i&&(i={name:i});const n=Object.assign({name:rS,automaticDataCollectionEnabled:!1},i),r=n.name;if("string"!=typeof r||!r)throw ec.create("bad-app-name",{appName:String(r)});if(t||(t=fX()),!t)throw ec.create("no-options");const s=um.get(r);if(s){if(Qy(t,s.options)&&Qy(n,s.config))return s;throw ec.create("duplicate-app",{appName:r})}const o=new Tkt(r);for(const w of Jy.values())o.addComponent(w);const l=new MX(t,n,o);return um.set(r,l),l}function hm(e,i,t){var n;let r=null!==(n=hRt[e])&&void 0!==n?n:e;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=i.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${i}":`];return s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${i}" contains illegal characters (whitespace or "/")`),void dm.warn(l.join(" "))}sS(new Ky(`${r}-version`,()=>({library:r,version:i}),"VERSION"))}const yRt="firebase-heartbeat-database",bRt=1,qy="firebase-heartbeat-store";let SP=null;function kX(){return SP||(SP=function Okt(e,i,{blocked:t,upgrade:n,blocking:r,terminated:s}={}){const o=indexedDB.open(e,i),l=Uh(o);return n&&o.addEventListener("upgradeneeded",w=>{n(Uh(o.result),w.oldVersion,w.newVersion,Uh(o.transaction),w)}),t&&o.addEventListener("blocked",w=>t(w.oldVersion,w.newVersion,w)),l.then(w=>{s&&w.addEventListener("close",()=>s()),r&&w.addEventListener("versionchange",S=>r(S.oldVersion,S.newVersion,S))}).catch(()=>{}),l}(yRt,bRt,{upgrade:(e,i)=>{if(0===i)try{e.createObjectStore(qy)}catch(t){console.warn(t)}}}).catch(e=>{throw ec.create("idb-open",{originalErrorMessage:e.message})})),SP}function EP(){return(EP=Mt(function*(e){try{const t=(yield kX()).transaction(qy),n=yield t.objectStore(qy).get(PX(e));return yield t.done,n}catch(i){if(i instanceof fv)dm.warn(i.message);else{const t=ec.create("idb-get",{originalErrorMessage:i?.message});dm.warn(t.message)}}})).apply(this,arguments)}function RX(e,i){return AP.apply(this,arguments)}function AP(){return(AP=Mt(function*(e,i){try{const n=(yield kX()).transaction(qy,"readwrite");yield n.objectStore(qy).put(i,PX(e)),yield n.done}catch(t){if(t instanceof fv)dm.warn(t.message);else{const n=ec.create("idb-set",{originalErrorMessage:t?.message});dm.warn(n.message)}}})).apply(this,arguments)}function PX(e){return`${e.name}!${e.options.appId}`}class CRt{constructor(i){this.container=i,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ERt(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){var i=this;return Mt(function*(){var t,n;const s=i.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=FX();if((null!=(null===(t=i._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(i._heartbeatsCache=yield i._heartbeatsCachePromise,null!=(null===(n=i._heartbeatsCache)||void 0===n?void 0:n.heartbeats)))&&i._heartbeatsCache.lastSentHeartbeatDate!==o&&!i._heartbeatsCache.heartbeats.some(l=>l.date===o))return i._heartbeatsCache.heartbeats.push({date:o,agent:s}),i._heartbeatsCache.heartbeats=i._heartbeatsCache.heartbeats.filter(l=>{const w=new Date(l.date).valueOf();return Date.now()-w<=2592e6}),i._storage.overwrite(i._heartbeatsCache)})()}getHeartbeatsHeader(){var i=this;return Mt(function*(){var t;if(null===i._heartbeatsCache&&(yield i._heartbeatsCachePromise),null==(null===(t=i._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===i._heartbeatsCache.heartbeats.length)return"";const n=FX(),{heartbeatsToSend:r,unsentEntries:s}=function SRt(e,i=1024){const t=[];let n=e.slice();for(const r of e){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),OX(t)>i){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),OX(t)>i){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}(i._heartbeatsCache.heartbeats),o=tS(JSON.stringify({version:2,heartbeats:r}));return i._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(i._heartbeatsCache.heartbeats=s,yield i._storage.overwrite(i._heartbeatsCache)):(i._heartbeatsCache.heartbeats=[],i._storage.overwrite(i._heartbeatsCache)),o})()}}function FX(){return(new Date).toISOString().substring(0,10)}class ERt{constructor(i){this.app=i,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return Mt(function*(){return!!function gX(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function ckt(){return new Promise((e,i)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(n),e(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;i((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(t){i(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var i=this;return Mt(function*(){if(yield i._canUseIndexedDBPromise){const n=yield function wRt(e){return EP.apply(this,arguments)}(i.app);return n?.heartbeats?n:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(i){var t=this;return Mt(function*(){var n;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return RX(t.app,{lastSentHeartbeatDate:null!==(n=i.lastSentHeartbeatDate)&&void 0!==n?n:s.lastSentHeartbeatDate,heartbeats:i.heartbeats})}})()}add(i){var t=this;return Mt(function*(){var n;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return RX(t.app,{lastSentHeartbeatDate:null!==(n=i.lastSentHeartbeatDate)&&void 0!==n?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...i.heartbeats]})}})()}}function OX(e){return tS(JSON.stringify({version:2,heartbeats:e})).length}!function ARt(e){sS(new Ky("platform-logger",i=>new Bkt(i),"PRIVATE")),sS(new Ky("heartbeat",i=>new CRt(i),"PRIVATE")),hm(nS,"0.10.6",e),hm(nS,"0.10.6","esm2017"),hm("fire-js","")}("");var fm,BX,LX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},NX={};(function(){var e;function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(ft,dt,pt){pt||(pt=0);var bt=Array(16);if("string"==typeof dt)for(var Tt=0;16>Tt;++Tt)bt[Tt]=dt.charCodeAt(pt++)|dt.charCodeAt(pt++)<<8|dt.charCodeAt(pt++)<<16|dt.charCodeAt(pt++)<<24;else for(Tt=0;16>Tt;++Tt)bt[Tt]=dt[pt++]|dt[pt++]<<8|dt[pt++]<<16|dt[pt++]<<24;var Et=ft.g[3],Dt=(dt=ft.g[0])+(Et^(pt=ft.g[1])&((Tt=ft.g[2])^Et))+bt[0]+3614090360&4294967295;Dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=(pt=(Tt=(Et=(dt=pt+(Dt<<7&4294967295|Dt>>>25))+((Dt=Et+(Tt^dt&(pt^Tt))+bt[1]+3905402710&4294967295)<<12&4294967295|Dt>>>20))+((Dt=Tt+(pt^Et&(dt^pt))+bt[2]+606105819&4294967295)<<17&4294967295|Dt>>>15))+((Dt=pt+(dt^Tt&(Et^dt))+bt[3]+3250441966&4294967295)<<22&4294967295|Dt>>>10))+((Dt=dt+(Et^pt&(Tt^Et))+bt[4]+4118548399&4294967295)<<7&4294967295|Dt>>>25))+((Dt=Et+(Tt^dt&(pt^Tt))+bt[5]+1200080426&4294967295)<<12&4294967295|Dt>>>20))+((Dt=Tt+(pt^Et&(dt^pt))+bt[6]+2821735955&4294967295)<<17&4294967295|Dt>>>15))+((Dt=pt+(dt^Tt&(Et^dt))+bt[7]+4249261313&4294967295)<<22&4294967295|Dt>>>10))+((Dt=dt+(Et^pt&(Tt^Et))+bt[8]+1770035416&4294967295)<<7&4294967295|Dt>>>25))+((Dt=Et+(Tt^dt&(pt^Tt))+bt[9]+2336552879&4294967295)<<12&4294967295|Dt>>>20))+((Dt=Tt+(pt^Et&(dt^pt))+bt[10]+4294925233&4294967295)<<17&4294967295|Dt>>>15))+((Dt=pt+(dt^Tt&(Et^dt))+bt[11]+2304563134&4294967295)<<22&4294967295|Dt>>>10))+((Dt=dt+(Et^pt&(Tt^Et))+bt[12]+1804603682&4294967295)<<7&4294967295|Dt>>>25))+((Dt=Et+(Tt^dt&(pt^Tt))+bt[13]+4254626195&4294967295)<<12&4294967295|Dt>>>20))+((Dt=Tt+(pt^Et&(dt^pt))+bt[14]+2792965006&4294967295)<<17&4294967295|Dt>>>15))+((Dt=pt+(dt^Tt&(Et^dt))+bt[15]+1236535329&4294967295)<<22&4294967295|Dt>>>10))+((Dt=dt+(Tt^Et&(pt^Tt))+bt[1]+4129170786&4294967295)<<5&4294967295|Dt>>>27))+((Dt=Et+(pt^Tt&(dt^pt))+bt[6]+3225465664&4294967295)<<9&4294967295|Dt>>>23))+((Dt=Tt+(dt^pt&(Et^dt))+bt[11]+643717713&4294967295)<<14&4294967295|Dt>>>18))+((Dt=pt+(Et^dt&(Tt^Et))+bt[0]+3921069994&4294967295)<<20&4294967295|Dt>>>12))+((Dt=dt+(Tt^Et&(pt^Tt))+bt[5]+3593408605&4294967295)<<5&4294967295|Dt>>>27))+((Dt=Et+(pt^Tt&(dt^pt))+bt[10]+38016083&4294967295)<<9&4294967295|Dt>>>23))+((Dt=Tt+(dt^pt&(Et^dt))+bt[15]+3634488961&4294967295)<<14&4294967295|Dt>>>18))+((Dt=pt+(Et^dt&(Tt^Et))+bt[4]+3889429448&4294967295)<<20&4294967295|Dt>>>12))+((Dt=dt+(Tt^Et&(pt^Tt))+bt[9]+568446438&4294967295)<<5&4294967295|Dt>>>27))+((Dt=Et+(pt^Tt&(dt^pt))+bt[14]+3275163606&4294967295)<<9&4294967295|Dt>>>23))+((Dt=Tt+(dt^pt&(Et^dt))+bt[3]+4107603335&4294967295)<<14&4294967295|Dt>>>18))+((Dt=pt+(Et^dt&(Tt^Et))+bt[8]+1163531501&4294967295)<<20&4294967295|Dt>>>12))+((Dt=dt+(Tt^Et&(pt^Tt))+bt[13]+2850285829&4294967295)<<5&4294967295|Dt>>>27))+((Dt=Et+(pt^Tt&(dt^pt))+bt[2]+4243563512&4294967295)<<9&4294967295|Dt>>>23))+((Dt=Tt+(dt^pt&(Et^dt))+bt[7]+1735328473&4294967295)<<14&4294967295|Dt>>>18))+((Dt=pt+(Et^dt&(Tt^Et))+bt[12]+2368359562&4294967295)<<20&4294967295|Dt>>>12))+((Dt=dt+(pt^Tt^Et)+bt[5]+4294588738&4294967295)<<4&4294967295|Dt>>>28))+((Dt=Et+(dt^pt^Tt)+bt[8]+2272392833&4294967295)<<11&4294967295|Dt>>>21))+((Dt=Tt+(Et^dt^pt)+bt[11]+1839030562&4294967295)<<16&4294967295|Dt>>>16))+((Dt=pt+(Tt^Et^dt)+bt[14]+4259657740&4294967295)<<23&4294967295|Dt>>>9))+((Dt=dt+(pt^Tt^Et)+bt[1]+2763975236&4294967295)<<4&4294967295|Dt>>>28))+((Dt=Et+(dt^pt^Tt)+bt[4]+1272893353&4294967295)<<11&4294967295|Dt>>>21))+((Dt=Tt+(Et^dt^pt)+bt[7]+4139469664&4294967295)<<16&4294967295|Dt>>>16))+((Dt=pt+(Tt^Et^dt)+bt[10]+3200236656&4294967295)<<23&4294967295|Dt>>>9))+((Dt=dt+(pt^Tt^Et)+bt[13]+681279174&4294967295)<<4&4294967295|Dt>>>28))+((Dt=Et+(dt^pt^Tt)+bt[0]+3936430074&4294967295)<<11&4294967295|Dt>>>21))+((Dt=Tt+(Et^dt^pt)+bt[3]+3572445317&4294967295)<<16&4294967295|Dt>>>16))+((Dt=pt+(Tt^Et^dt)+bt[6]+76029189&4294967295)<<23&4294967295|Dt>>>9))+((Dt=dt+(pt^Tt^Et)+bt[9]+3654602809&4294967295)<<4&4294967295|Dt>>>28))+((Dt=Et+(dt^pt^Tt)+bt[12]+3873151461&4294967295)<<11&4294967295|Dt>>>21))+((Dt=Tt+(Et^dt^pt)+bt[15]+530742520&4294967295)<<16&4294967295|Dt>>>16))+((Dt=pt+(Tt^Et^dt)+bt[2]+3299628645&4294967295)<<23&4294967295|Dt>>>9))+((Dt=dt+(Tt^(pt|~Et))+bt[0]+4096336452&4294967295)<<6&4294967295|Dt>>>26))+((Dt=Et+(pt^(dt|~Tt))+bt[7]+1126891415&4294967295)<<10&4294967295|Dt>>>22))+((Dt=Tt+(dt^(Et|~pt))+bt[14]+2878612391&4294967295)<<15&4294967295|Dt>>>17))+((Dt=pt+(Et^(Tt|~dt))+bt[5]+4237533241&4294967295)<<21&4294967295|Dt>>>11))+((Dt=dt+(Tt^(pt|~Et))+bt[12]+1700485571&4294967295)<<6&4294967295|Dt>>>26))+((Dt=Et+(pt^(dt|~Tt))+bt[3]+2399980690&4294967295)<<10&4294967295|Dt>>>22))+((Dt=Tt+(dt^(Et|~pt))+bt[10]+4293915773&4294967295)<<15&4294967295|Dt>>>17))+((Dt=pt+(Et^(Tt|~dt))+bt[1]+2240044497&4294967295)<<21&4294967295|Dt>>>11))+((Dt=dt+(Tt^(pt|~Et))+bt[8]+1873313359&4294967295)<<6&4294967295|Dt>>>26))+((Dt=Et+(pt^(dt|~Tt))+bt[15]+4264355552&4294967295)<<10&4294967295|Dt>>>22))+((Dt=Tt+(dt^(Et|~pt))+bt[6]+2734768916&4294967295)<<15&4294967295|Dt>>>17))+((Dt=pt+(Et^(Tt|~dt))+bt[13]+1309151649&4294967295)<<21&4294967295|Dt>>>11))+((Et=(dt=pt+((Dt=dt+(Tt^(pt|~Et))+bt[4]+4149444226&4294967295)<<6&4294967295|Dt>>>26))+((Dt=Et+(pt^(dt|~Tt))+bt[11]+3174756917&4294967295)<<10&4294967295|Dt>>>22))^((Tt=Et+((Dt=Tt+(dt^(Et|~pt))+bt[2]+718787259&4294967295)<<15&4294967295|Dt>>>17))|~dt))+bt[9]+3951481745&4294967295,ft.g[0]=ft.g[0]+dt&4294967295,ft.g[1]=ft.g[1]+(Tt+(Dt<<21&4294967295|Dt>>>11))&4294967295,ft.g[2]=ft.g[2]+Tt&4294967295,ft.g[3]=ft.g[3]+Et&4294967295}function o(ft,dt){this.h=dt;for(var pt=[],bt=!0,Tt=ft.length-1;0<=Tt;Tt--){var Et=0|ft[Tt];bt&&Et==dt||(pt[Tt]=Et,bt=!1)}this.g=pt}(function i(ft,dt){function pt(){}pt.prototype=dt.prototype,ft.D=dt.prototype,ft.prototype=new pt,ft.prototype.constructor=ft,ft.C=function(bt,Tt,Et){for(var Dt=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)Dt[Ue-2]=arguments[Ue];return dt.prototype[Tt].apply(bt,Dt)}})(n,function t(){this.blockSize=-1}),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},n.prototype.u=function(ft,dt){void 0===dt&&(dt=ft.length);for(var pt=dt-this.blockSize,bt=this.B,Tt=this.h,Et=0;Et<dt;){if(0==Tt)for(;Et<=pt;)r(this,ft,Et),Et+=this.blockSize;if("string"==typeof ft){for(;Et<dt;)if(bt[Tt++]=ft.charCodeAt(Et++),Tt==this.blockSize){r(this,bt),Tt=0;break}}else for(;Et<dt;)if(bt[Tt++]=ft[Et++],Tt==this.blockSize){r(this,bt),Tt=0;break}}this.h=Tt,this.o+=dt},n.prototype.v=function(){var ft=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ft[0]=128;for(var dt=1;dt<ft.length-8;++dt)ft[dt]=0;var pt=8*this.o;for(dt=ft.length-8;dt<ft.length;++dt)ft[dt]=255&pt,pt/=256;for(this.u(ft),ft=Array(16),dt=pt=0;4>dt;++dt)for(var bt=0;32>bt;bt+=8)ft[pt++]=this.g[dt]>>>bt&255;return ft};var l={};function w(ft){return-128<=ft&&128>ft?function s(ft,dt){var pt=l;return Object.prototype.hasOwnProperty.call(pt,ft)?pt[ft]:pt[ft]=dt(ft)}(ft,function(dt){return new o([0|dt],0>dt?-1:0)}):new o([0|ft],0>ft?-1:0)}function S(ft){if(isNaN(ft)||!isFinite(ft))return P;if(0>ft)return W(S(-ft));for(var dt=[],pt=1,bt=0;ft>=pt;bt++)dt[bt]=ft/pt|0,pt*=4294967296;return new o(dt,0)}var P=w(0),O=w(1),N=w(16777216);function U(ft){if(0!=ft.h)return!1;for(var dt=0;dt<ft.g.length;dt++)if(0!=ft.g[dt])return!1;return!0}function j(ft){return-1==ft.h}function W(ft){for(var dt=ft.g.length,pt=[],bt=0;bt<dt;bt++)pt[bt]=~ft.g[bt];return new o(pt,~ft.h).add(O)}function Z(ft,dt){return ft.add(W(dt))}function rt(ft,dt){for(;(65535&ft[dt])!=ft[dt];)ft[dt+1]+=ft[dt]>>>16,ft[dt]&=65535,dt++}function st(ft,dt){this.g=ft,this.h=dt}function vt(ft,dt){if(U(dt))throw Error("division by zero");if(U(ft))return new st(P,P);if(j(ft))return dt=vt(W(ft),dt),new st(W(dt.g),W(dt.h));if(j(dt))return dt=vt(ft,W(dt)),new st(W(dt.g),dt.h);if(30<ft.g.length){if(j(ft)||j(dt))throw Error("slowDivide_ only works with positive integers.");for(var pt=O,bt=dt;0>=bt.l(ft);)pt=_t(pt),bt=_t(bt);var Tt=kt(pt,1),Et=kt(bt,1);for(bt=kt(bt,2),pt=kt(pt,2);!U(bt);){var Dt=Et.add(bt);0>=Dt.l(ft)&&(Tt=Tt.add(pt),Et=Dt),bt=kt(bt,1),pt=kt(pt,1)}return dt=Z(ft,Tt.j(dt)),new st(Tt,dt)}for(Tt=P;0<=ft.l(dt);){for(pt=Math.max(1,Math.floor(ft.m()/dt.m())),bt=48>=(bt=Math.ceil(Math.log(pt)/Math.LN2))?1:Math.pow(2,bt-48),Dt=(Et=S(pt)).j(dt);j(Dt)||0<Dt.l(ft);)Dt=(Et=S(pt-=bt)).j(dt);U(Et)&&(Et=O),Tt=Tt.add(Et),ft=Z(ft,Dt)}return new st(Tt,ft)}function _t(ft){for(var dt=ft.g.length+1,pt=[],bt=0;bt<dt;bt++)pt[bt]=ft.i(bt)<<1|ft.i(bt-1)>>>31;return new o(pt,ft.h)}function kt(ft,dt){var pt=dt>>5;dt%=32;for(var bt=ft.g.length-pt,Tt=[],Et=0;Et<bt;Et++)Tt[Et]=0<dt?ft.i(Et+pt)>>>dt|ft.i(Et+pt+1)<<32-dt:ft.i(Et+pt);return new o(Tt,ft.h)}(e=o.prototype).m=function(){if(j(this))return-W(this).m();for(var ft=0,dt=1,pt=0;pt<this.g.length;pt++){var bt=this.i(pt);ft+=(0<=bt?bt:4294967296+bt)*dt,dt*=4294967296}return ft},e.toString=function(ft){if(2>(ft=ft||10)||36<ft)throw Error("radix out of range: "+ft);if(U(this))return"0";if(j(this))return"-"+W(this).toString(ft);for(var dt=S(Math.pow(ft,6)),pt=this,bt="";;){var Tt=vt(pt,dt).g,Et=((0<(pt=Z(pt,Tt.j(dt))).g.length?pt.g[0]:pt.h)>>>0).toString(ft);if(U(pt=Tt))return Et+bt;for(;6>Et.length;)Et="0"+Et;bt=Et+bt}},e.i=function(ft){return 0>ft?0:ft<this.g.length?this.g[ft]:this.h},e.l=function(ft){return j(ft=Z(this,ft))?-1:U(ft)?0:1},e.abs=function(){return j(this)?W(this):this},e.add=function(ft){for(var dt=Math.max(this.g.length,ft.g.length),pt=[],bt=0,Tt=0;Tt<=dt;Tt++){var Et=bt+(65535&this.i(Tt))+(65535&ft.i(Tt)),Dt=(Et>>>16)+(this.i(Tt)>>>16)+(ft.i(Tt)>>>16);bt=Dt>>>16,pt[Tt]=(Dt&=65535)<<16|(Et&=65535)}return new o(pt,-2147483648&pt[pt.length-1]?-1:0)},e.j=function(ft){if(U(this)||U(ft))return P;if(j(this))return j(ft)?W(this).j(W(ft)):W(W(this).j(ft));if(j(ft))return W(this.j(W(ft)));if(0>this.l(N)&&0>ft.l(N))return S(this.m()*ft.m());for(var dt=this.g.length+ft.g.length,pt=[],bt=0;bt<2*dt;bt++)pt[bt]=0;for(bt=0;bt<this.g.length;bt++)for(var Tt=0;Tt<ft.g.length;Tt++){var Et=this.i(bt)>>>16,Dt=65535&this.i(bt),Ue=ft.i(Tt)>>>16,we=65535&ft.i(Tt);pt[2*bt+2*Tt]+=Dt*we,rt(pt,2*bt+2*Tt),pt[2*bt+2*Tt+1]+=Et*we,rt(pt,2*bt+2*Tt+1),pt[2*bt+2*Tt+1]+=Dt*Ue,rt(pt,2*bt+2*Tt+1),pt[2*bt+2*Tt+2]+=Et*Ue,rt(pt,2*bt+2*Tt+2)}for(bt=0;bt<dt;bt++)pt[bt]=pt[2*bt+1]<<16|pt[2*bt];for(bt=dt;bt<2*dt;bt++)pt[bt]=0;return new o(pt,0)},e.A=function(ft){return vt(this,ft).h},e.and=function(ft){for(var dt=Math.max(this.g.length,ft.g.length),pt=[],bt=0;bt<dt;bt++)pt[bt]=this.i(bt)&ft.i(bt);return new o(pt,this.h&ft.h)},e.or=function(ft){for(var dt=Math.max(this.g.length,ft.g.length),pt=[],bt=0;bt<dt;bt++)pt[bt]=this.i(bt)|ft.i(bt);return new o(pt,this.h|ft.h)},e.xor=function(ft){for(var dt=Math.max(this.g.length,ft.g.length),pt=[],bt=0;bt<dt;bt++)pt[bt]=this.i(bt)^ft.i(bt);return new o(pt,this.h^ft.h)},n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,BX=NX.Md5=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=S,o.fromString=function M(ft,dt){if(0==ft.length)throw Error("number format error: empty string");if(2>(dt=dt||10)||36<dt)throw Error("radix out of range: "+dt);if("-"==ft.charAt(0))return W(M(ft.substring(1),dt));if(0<=ft.indexOf("-"))throw Error('number format error: interior "-" character');for(var pt=S(Math.pow(dt,8)),bt=P,Tt=0;Tt<ft.length;Tt+=8){var Et=Math.min(8,ft.length-Tt),Dt=parseInt(ft.substring(Tt,Tt+Et),dt);8>Et?(Et=S(Math.pow(dt,Et)),bt=bt.j(Et).add(S(Dt))):bt=(bt=bt.j(pt)).add(S(Dt))}return bt},fm=NX.Integer=o}).apply(typeof LX<"u"?LX:typeof self<"u"?self:typeof window<"u"?window:{});var VX,UX,tb,zX,oS,DP,GX,HX,WX,aS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wu={};(function(){var e,i="function"==typeof Object.defineProperties?Object.defineProperty:function(z,ct,yt){return z==Array.prototype||z==Object.prototype||(z[ct]=yt.value),z},n=function t(z){z=["object"==typeof globalThis&&globalThis,z,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof aS&&aS];for(var ct=0;ct<z.length;++ct){var yt=z[ct];if(yt&&yt.Math==Math)return yt}throw Error("Cannot find global object")}(this);!function r(z,ct){if(ct)t:{var yt=n;z=z.split(".");for(var Rt=0;Rt<z.length-1;Rt++){var ee=z[Rt];if(!(ee in yt))break t;yt=yt[ee]}(ct=ct(Rt=yt[z=z[z.length-1]]))!=Rt&&null!=ct&&i(yt,z,{configurable:!0,writable:!0,value:ct})}}("Array.prototype.values",function(z){return z||function(){return function s(z,ct){z instanceof String&&(z+="");var yt=0,Rt=!1,ee={next:function(){if(!Rt&&yt<z.length){var be=yt++;return{value:ct(be,z[be]),done:!1}}return Rt=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}(this,function(ct,yt){return yt})}});var o=o||{},l=this||self;function w(z){var ct=typeof z;return"array"==(ct="object"!=ct?ct:z?Array.isArray(z)?"array":ct:"null")||"object"==ct&&"number"==typeof z.length}function S(z){var ct=typeof z;return"object"==ct&&null!=z||"function"==ct}function M(z,ct,yt){return z.call.apply(z.bind,arguments)}function P(z,ct,yt){if(!z)throw Error();if(2<arguments.length){var Rt=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,Rt),z.apply(ct,ee)}}return function(){return z.apply(ct,arguments)}}function O(z,ct,yt){return(O=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?M:P).apply(null,arguments)}function N(z,ct){var yt=Array.prototype.slice.call(arguments,1);return function(){var Rt=yt.slice();return Rt.push.apply(Rt,arguments),z.apply(this,Rt)}}function U(z,ct){function yt(){}yt.prototype=ct.prototype,z.aa=ct.prototype,z.prototype=new yt,z.prototype.constructor=z,z.Qb=function(Rt,ee,be){for(var mi=Array(arguments.length-2),Vr=2;Vr<arguments.length;Vr++)mi[Vr-2]=arguments[Vr];return ct.prototype[ee].apply(Rt,mi)}}function j(z){const ct=z.length;if(0<ct){const yt=Array(ct);for(let Rt=0;Rt<ct;Rt++)yt[Rt]=z[Rt];return yt}return[]}function W(z,ct){for(let yt=1;yt<arguments.length;yt++){const Rt=arguments[yt];if(w(Rt)){const ee=z.length||0,be=Rt.length||0;z.length=ee+be;for(let mi=0;mi<be;mi++)z[ee+mi]=Rt[mi]}else z.push(Rt)}}function rt(z){return/^[\s\xa0]*$/.test(z)}function st(){var z=l.navigator;return z&&(z=z.userAgent)?z:""}function vt(z){return vt[" "](z),z}vt[" "]=function(){};var _t=!(-1==st().indexOf("Gecko")||-1!=st().toLowerCase().indexOf("webkit")&&-1==st().indexOf("Edge")||-1!=st().indexOf("Trident")||-1!=st().indexOf("MSIE")||-1!=st().indexOf("Edge"));function kt(z,ct,yt){for(const Rt in z)ct.call(yt,z[Rt],Rt,z)}function dt(z){const ct={};for(const yt in z)ct[yt]=z[yt];return ct}const pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bt(z,ct){let yt,Rt;for(let ee=1;ee<arguments.length;ee++){for(yt in Rt=arguments[ee],Rt)z[yt]=Rt[yt];for(let be=0;be<pt.length;be++)yt=pt[be],Object.prototype.hasOwnProperty.call(Rt,yt)&&(z[yt]=Rt[yt])}}function Tt(z){var ct=1;z=z.split(":");const yt=[];for(;0<ct&&z.length;)yt.push(z.shift()),ct--;return z.length&&yt.push(z.join(":")),yt}function Et(z){l.setTimeout(()=>{throw z},0)}function Dt(){var z=ze;let ct=null;return z.g&&(ct=z.g,z.g=z.g.next,z.g||(z.h=null),ct.next=null),ct}var we=new class Z{constructor(ct,yt){this.i=ct,this.j=yt,this.h=0,this.g=null}get(){let ct;return 0<this.h?(this.h--,ct=this.g,this.g=ct.next,ct.next=null):ct=this.i(),ct}}(()=>new ve,z=>z.reset());class ve{constructor(){this.next=this.g=this.h=null}set(ct,yt){this.h=ct,this.g=yt,this.next=null}reset(){this.next=this.g=this.h=null}}let qt,Ee=!1,ze=new class Ue{constructor(){this.h=this.g=null}add(ct,yt){const Rt=we.get();Rt.set(ct,yt),this.h?this.h.next=Rt:this.g=Rt,this.h=Rt}},Me=()=>{const z=l.Promise.resolve(void 0);qt=()=>{z.then(Ii)}};var Ii=()=>{for(var z;z=Dt();){try{z.h.call(z.g)}catch(yt){Et(yt)}var ct=we;ct.j(z),100>ct.h&&(ct.h++,z.next=ct.g,ct.g=z)}Ee=!1};function te(){this.s=this.s,this.C=this.C}function Le(z,ct){this.type=z,this.g=this.target=ct,this.defaultPrevented=!1}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Le.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var z=!1,ct=Object.defineProperty({},"passive",{get:function(){z=!0}});try{const yt=()=>{};l.addEventListener("test",yt,ct),l.removeEventListener("test",yt,ct)}catch{}return z}();function fi(z,ct){if(Le.call(this,z?z.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,z){var yt=this.type=z.type,Rt=z.changedTouches&&z.changedTouches.length?z.changedTouches[0]:null;if(this.target=z.target||z.srcElement,this.g=ct,ct=z.relatedTarget){if(_t){t:{try{vt(ct.nodeName);var ee=!0;break t}catch{}ee=!1}ee||(ct=null)}}else"mouseover"==yt?ct=z.fromElement:"mouseout"==yt&&(ct=z.toElement);this.relatedTarget=ct,Rt?(this.clientX=void 0!==Rt.clientX?Rt.clientX:Rt.pageX,this.clientY=void 0!==Rt.clientY?Rt.clientY:Rt.pageY,this.screenX=Rt.screenX||0,this.screenY=Rt.screenY||0):(this.clientX=void 0!==z.clientX?z.clientX:z.pageX,this.clientY=void 0!==z.clientY?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0),this.button=z.button,this.key=z.key||"",this.ctrlKey=z.ctrlKey,this.altKey=z.altKey,this.shiftKey=z.shiftKey,this.metaKey=z.metaKey,this.pointerId=z.pointerId||0,this.pointerType="string"==typeof z.pointerType?z.pointerType:vi[z.pointerType]||"",this.state=z.state,this.i=z,z.defaultPrevented&&fi.aa.h.call(this)}}U(fi,Le);var vi={2:"touch",3:"pen",4:"mouse"};fi.prototype.h=function(){fi.aa.h.call(this);var z=this.i;z.preventDefault?z.preventDefault():z.returnValue=!1};var ui="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function Kt(z,ct,yt,Rt,ee){this.listener=z,this.proxy=null,this.src=ct,this.type=yt,this.capture=!!Rt,this.ha=ee,this.key=++Lt,this.da=this.fa=!1}function Qt(z){z.da=!0,z.listener=null,z.proxy=null,z.src=null,z.ha=null}function Yt(z){this.src=z,this.g={},this.h=0}function Ae(z,ct){var yt=ct.type;if(yt in z.g){var be,Rt=z.g[yt],ee=Array.prototype.indexOf.call(Rt,ct,void 0);(be=0<=ee)&&Array.prototype.splice.call(Rt,ee,1),be&&(Qt(ct),0==z.g[yt].length&&(delete z.g[yt],z.h--))}}function Ot(z,ct,yt,Rt){for(var ee=0;ee<z.length;++ee){var be=z[ee];if(!be.da&&be.listener==ct&&be.capture==!!yt&&be.ha==Rt)return ee}return-1}Yt.prototype.add=function(z,ct,yt,Rt,ee){var be=z.toString();(z=this.g[be])||(z=this.g[be]=[],this.h++);var mi=Ot(z,ct,Rt,ee);return-1<mi?(ct=z[mi],yt||(ct.fa=!1)):((ct=new Kt(ct,this.src,be,!!Rt,ee)).fa=yt,z.push(ct)),ct};var Di="closure_lm_"+(1e6*Math.random()|0),ei={};function We(z,ct,yt,Rt,ee){if(Rt&&Rt.once)return bi(z,ct,yt,Rt,ee);if(Array.isArray(ct)){for(var be=0;be<ct.length;be++)We(z,ct[be],yt,Rt,ee);return null}return yt=Do(yt),z&&z[ui]?z.K(ct,yt,S(Rt)?!!Rt.capture:!!Rt,ee):Hi(z,ct,yt,!1,Rt,ee)}function Hi(z,ct,yt,Rt,ee,be){if(!ct)throw Error("Invalid event type");var mi=S(ee)?!!ee.capture:!!ee,Vr=ri(z);if(Vr||(z[Di]=Vr=new Yt(z)),(yt=Vr.add(ct,yt,Rt,mi,be)).proxy)return yt;if(Rt=function cn(){const ct=Qa;return function z(yt){return ct.call(z.src,z.listener,yt)}}(),yt.proxy=Rt,Rt.src=z,Rt.listener=yt,z.addEventListener)De||(ee=mi),void 0===ee&&(ee=!1),z.addEventListener(ct.toString(),Rt,ee);else if(z.attachEvent)z.attachEvent(fs(ct.toString()),Rt);else{if(!z.addListener||!z.removeListener)throw Error("addEventListener and attachEvent are unavailable.");z.addListener(Rt)}return yt}function bi(z,ct,yt,Rt,ee){if(Array.isArray(ct)){for(var be=0;be<ct.length;be++)bi(z,ct[be],yt,Rt,ee);return null}return yt=Do(yt),z&&z[ui]?z.L(ct,yt,S(Rt)?!!Rt.capture:!!Rt,ee):Hi(z,ct,yt,!0,Rt,ee)}function cr(z,ct,yt,Rt,ee){if(Array.isArray(ct))for(var be=0;be<ct.length;be++)cr(z,ct[be],yt,Rt,ee);else Rt=S(Rt)?!!Rt.capture:!!Rt,yt=Do(yt),z&&z[ui]?(z=z.i,(ct=String(ct).toString())in z.g&&-1<(yt=Ot(be=z.g[ct],yt,Rt,ee))&&(Qt(be[yt]),Array.prototype.splice.call(be,yt,1),0==be.length&&(delete z.g[ct],z.h--))):z&&(z=ri(z))&&(ct=z.g[ct.toString()],z=-1,ct&&(z=Ot(ct,yt,Rt,ee)),(yt=-1<z?ct[z]:null)&&nr(yt))}function nr(z){if("number"!=typeof z&&z&&!z.da){var ct=z.src;if(ct&&ct[ui])Ae(ct.i,z);else{var yt=z.type,Rt=z.proxy;ct.removeEventListener?ct.removeEventListener(yt,Rt,z.capture):ct.detachEvent?ct.detachEvent(fs(yt),Rt):ct.addListener&&ct.removeListener&&ct.removeListener(Rt),(yt=ri(ct))?(Ae(yt,z),0==yt.h&&(yt.src=null,ct[Di]=null)):Qt(z)}}}function fs(z){return z in ei?ei[z]:ei[z]="on"+z}function Qa(z,ct){if(z.da)z=!0;else{ct=new fi(ct,this);var yt=z.listener,Rt=z.ha||z.src;z.fa&&nr(z),z=yt.call(Rt,ct)}return z}function ri(z){return(z=z[Di])instanceof Yt?z:null}var li="__closure_events_fn_"+(1e9*Math.random()>>>0);function Do(z){return"function"==typeof z?z:(z[li]||(z[li]=function(ct){return z.handleEvent(ct)}),z[li])}function rr(){te.call(this),this.i=new Yt(this),this.M=this,this.F=null}function $n(z,ct){var yt,Rt=z.F;if(Rt)for(yt=[];Rt;Rt=Rt.F)yt.push(Rt);if(z=z.M,Rt=ct.type||ct,"string"==typeof ct)ct=new Le(ct,z);else if(ct instanceof Le)ct.target=ct.target||z;else{var ee=ct;bt(ct=new Le(Rt,z),ee)}if(ee=!0,yt)for(var be=yt.length-1;0<=be;be--){var mi=ct.g=yt[be];ee=na(mi,Rt,!0,ct)&&ee}if(ee=na(mi=ct.g=z,Rt,!0,ct)&&ee,ee=na(mi,Rt,!1,ct)&&ee,yt)for(be=0;be<yt.length;be++)ee=na(mi=ct.g=yt[be],Rt,!1,ct)&&ee}function na(z,ct,yt,Rt){if(!(ct=z.i.g[String(ct)]))return!0;ct=ct.concat();for(var ee=!0,be=0;be<ct.length;++be){var mi=ct[be];if(mi&&!mi.da&&mi.capture==yt){var Vr=mi.listener,Za=mi.ha||mi.src;mi.fa&&Ae(z.i,mi),ee=!1!==Vr.call(Za,Rt)&&ee}}return ee&&!Rt.defaultPrevented}function Mo(z,ct,yt){if("function"==typeof z)yt&&(z=O(z,yt));else{if(!z||"function"!=typeof z.handleEvent)throw Error("Invalid listener argument");z=O(z.handleEvent,z)}return 2147483647<Number(ct)?-1:l.setTimeout(z,ct||0)}function sn(z){z.g=Mo(()=>{z.g=null,z.i&&(z.i=!1,sn(z))},z.l);const ct=z.h;z.h=null,z.m.apply(null,ct)}U(rr,te),rr.prototype[ui]=!0,rr.prototype.removeEventListener=function(z,ct,yt,Rt){cr(this,z,ct,yt,Rt)},rr.prototype.N=function(){if(rr.aa.N.call(this),this.i){var ct,z=this.i;for(ct in z.g){for(var yt=z.g[ct],Rt=0;Rt<yt.length;Rt++)Qt(yt[Rt]);delete z.g[ct],z.h--}}this.F=null},rr.prototype.K=function(z,ct,yt,Rt){return this.i.add(String(z),ct,!1,yt,Rt)},rr.prototype.L=function(z,ct,yt,Rt){return this.i.add(String(z),ct,!0,yt,Rt)};class Ki extends te{constructor(ct,yt){super(),this.m=ct,this.l=yt,this.h=null,this.i=!1,this.g=null}j(ct){this.h=arguments,this.g?this.i=!0:sn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qn(z){te.call(this),this.h=z,this.g={}}U(qn,te);var Br=[];function vp(z){kt(z.g,function(ct,yt){this.g.hasOwnProperty(yt)&&nr(ct)},z),z.g={}}qn.prototype.N=function(){qn.aa.N.call(this),vp(this)},qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mc=l.JSON.stringify,Qu=l.JSON.parse,xp=class{stringify(z){return l.JSON.stringify(z,void 0)}parse(z){return l.JSON.parse(z,void 0)}};function A0(){}function PA(){}A0.prototype.h=null;var yp={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wf(){Le.call(this,"d")}function iw(){Le.call(this,"c")}U(wf,Le),U(iw,Le);var Ku={},FA=null;function D0(){return FA=FA||new rr}function OA(z){Le.call(this,Ku.La,z)}function bp(z){const ct=D0();$n(ct,new OA(ct))}function LA(z,ct){Le.call(this,Ku.STAT_EVENT,z),this.stat=ct}function Ka(z){const ct=D0();$n(ct,new LA(ct,z))}function M0(z,ct){Le.call(this,Ku.Ma,z),this.size=ct}function wp(z,ct){if("function"!=typeof z)throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){z()},ct)}function _p(){this.g=!0}function Nt(z,ct,yt,Rt){z.info(function(){return"XMLHTTP TEXT ("+ct+"): "+function Ft(z,ct){if(!z.g)return ct;if(!ct)return null;try{var yt=JSON.parse(ct);if(yt)for(z=0;z<yt.length;z++)if(Array.isArray(yt[z])){var Rt=yt[z];if(!(2>Rt.length)){var ee=Rt[1];if(Array.isArray(ee)&&!(1>ee.length)){var be=ee[0];if("noop"!=be&&"stop"!=be&&"close"!=be)for(var mi=1;mi<ee.length;mi++)ee[mi]=""}}}return mc(yt)}catch{return ct}}(z,yt)+(Rt?" "+Rt:"")})}Ku.La="serverreachability",U(OA,Le),Ku.STAT_EVENT="statevent",U(LA,Le),Ku.Ma="timingevent",U(M0,Le),_p.prototype.xa=function(){this.g=!1},_p.prototype.info=function(){};var ce,Bt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ut={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function _e(){}function oe(z,ct,yt,Rt){this.j=z,this.i=ct,this.l=yt,this.R=Rt||1,this.U=new qn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new de}function de(){this.i=null,this.g="",this.h=!1}U(_e,A0),_e.prototype.g=function(){return new XMLHttpRequest},_e.prototype.i=function(){return{}},ce=new _e;var ue={},je={};function Ze(z,ct,yt){z.L=1,z.v=VA(Ju(ct)),z.m=yt,z.P=!0,Ci(z,null)}function Ci(z,ct){z.F=Date.now(),Zi(z),z.A=Ju(z.v);var yt=z.A,Rt=z.R;Array.isArray(Rt)||(Rt=[String(Rt)]),ynt(yt.i,"t",Rt),z.C=0,yt=z.j.J,z.h=new de,z.g=Nnt(z.j,yt?ct:null,!z.m),0<z.O&&(z.M=new Ki(O(z.Y,z,z.g),z.O)),ct=z.U,yt=z.g,Rt=z.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(Br[0]=ee.toString()),ee=Br);for(var be=0;be<ee.length;be++){var mi=We(yt,ee[be],Rt||ct.handleEvent,!1,ct.h||ct);if(!mi)break;ct.g[mi.key]=mi}ct=z.H?dt(z.H):{},z.m?(z.u||(z.u="POST"),ct["Content-Type"]="application/x-www-form-urlencoded",z.g.ea(z.A,z.u,z.m,ct)):(z.u="GET",z.g.ea(z.A,z.u,null,ct)),bp(),function I4(z,ct,yt,Rt,ee,be){z.info(function(){if(z.g)if(be)for(var mi="",Vr=be.split("&"),Za=0;Za<Vr.length;Za++){var dr=Vr[Za].split("=");if(1<dr.length){var Io=dr[0];dr=dr[1];var ko=Io.split("_");mi=2<=ko.length&&"type"==ko[1]?mi+(Io+"=")+dr+"&":mi+(Io+"=redacted&")}}else mi=null;else mi=be;return"XMLHTTP REQ ("+Rt+") [attempt "+ee+"]: "+ct+"\n"+yt+"\n"+mi})}(z.i,z.u,z.A,z.l,z.R,z.m)}function ci(z){return!!z.g&&"GET"==z.u&&2!=z.L&&z.j.Ca}function Ye(z,ct){var yt=z.C,Rt=ct.indexOf("\n",yt);return-1==Rt?je:(yt=Number(ct.substring(yt,Rt)),isNaN(yt)?ue:(Rt+=1)+yt>ct.length?je:(ct=ct.slice(Rt,Rt+yt),z.C=Rt+yt,ct))}function Zi(z){z.S=Date.now()+z.I,Dr(z,z.I)}function Dr(z,ct){if(null!=z.B)throw Error("WatchDog timer not null");z.B=wp(O(z.ba,z),ct)}function Na(z){z.B&&(l.clearTimeout(z.B),z.B=null)}function Qr(z){0==z.j.G||z.J||Pnt(z.j,z)}function Ys(z){Na(z);var ct=z.M;ct&&"function"==typeof ct.ma&&ct.ma(),z.M=null,vp(z.U),z.g&&(ct=z.g,z.g=null,ct.abort(),ct.ma())}function Zu(z,ct){try{var yt=z.j;if(0!=yt.G&&(yt.g==z||k4(yt.h,z)))if(!z.K&&k4(yt.h,z)&&3==yt.G){try{var Rt=yt.Da.g.parse(ct)}catch{Rt=null}if(Array.isArray(Rt)&&3==Rt.length){var ee=Rt;if(0==ee[0]){t:if(!yt.u){if(yt.g){if(!(yt.g.F+3e3<z.F))break t;WA(yt),GA(yt)}O4(yt),Ka(18)}}else yt.za=ee[1],0<yt.za-yt.T&&37500>ee[2]&&yt.F&&0==yt.v&&!yt.C&&(yt.C=wp(O(yt.Za,yt),6e3));if(1>=pc(yt.h)&&yt.ca){try{yt.ca()}catch{}yt.ca=void 0}}else Sp(yt,11)}else if((z.K||yt.g==z)&&WA(yt),!rt(ct))for(ee=yt.Da.g.parse(ct),ct=0;ct<ee.length;ct++){let dr=ee[ct];if(yt.T=dr[0],dr=dr[1],2==yt.G)if("c"==dr[0]){yt.K=dr[1],yt.ia=dr[2];const Io=dr[3];null!=Io&&(yt.la=Io,yt.j.info("VER="+yt.la));const ko=dr[4];null!=ko&&(yt.Aa=ko,yt.j.info("SVER="+yt.Aa));const P0=dr[5];null!=P0&&"number"==typeof P0&&0<P0&&(yt.L=Rt=1.5*P0,yt.j.info("backChannelRequestTimeoutMs_="+Rt)),Rt=yt;const Gc=z.g;if(Gc){const XA=Gc.g?Gc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(XA){var be=Rt.h;be.g||-1==XA.indexOf("spdy")&&-1==XA.indexOf("quic")&&-1==XA.indexOf("h2")||(be.j=be.l,be.g=new Set,be.h&&(R4(be,be.h),be.h=null))}if(Rt.D){const N4=Gc.g?Gc.g.getResponseHeader("X-HTTP-Session-Id"):null;N4&&(Rt.ya=N4,ss(Rt.I,Rt.D,N4))}}yt.G=3,yt.l&&yt.l.ua(),yt.ba&&(yt.R=Date.now()-z.F,yt.j.info("Handshake RTT: "+yt.R+"ms"));var mi=z;if((Rt=yt).qa=Lnt(Rt,Rt.J?Rt.ia:null,Rt.W),mi.K){unt(Rt.h,mi);var Vr=mi,Za=Rt.L;Za&&(Vr.I=Za),Vr.B&&(Na(Vr),Zi(Vr)),Rt.g=mi}else knt(Rt);0<yt.i.length&&HA(yt)}else"stop"!=dr[0]&&"close"!=dr[0]||Sp(yt,7);else 3==yt.G&&("stop"==dr[0]||"close"==dr[0]?"stop"==dr[0]?Sp(yt,7):F4(yt):"noop"!=dr[0]&&yt.l&&yt.l.ta(dr),yt.v=0)}bp()}catch{}}oe.prototype.ca=function(z){z=z.target;const ct=this.M;ct&&3==qu(z)?ct.j():this.Y(z)},oe.prototype.Y=function(z){try{if(z==this.g)t:{const ko=qu(this.g);var ct=this.g.Ba();if(this.g.Z(),!(3>ko)&&(3!=ko||this.g&&(this.h.h||this.g.oa()||Ent(this.g)))){this.J||4!=ko||7==ct||bp(),Na(this);var yt=this.g.Z();this.X=yt;e:if(ci(this)){var Rt=Ent(this.g);z="";var ee=Rt.length,be=4==qu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ys(this),Qr(this);var mi="";break e}this.h.i=new l.TextDecoder}for(ct=0;ct<ee;ct++)this.h.h=!0,z+=this.h.i.decode(Rt[ct],{stream:!(be&&ct==ee-1)});Rt.length=0,this.h.g+=z,this.C=0,mi=this.h.g}else mi=this.g.oa();if(this.o=200==yt,function At(z,ct,yt,Rt,ee,be,mi){z.info(function(){return"XMLHTTP RESP ("+Rt+") [ attempt "+ee+"]: "+ct+"\n"+yt+"\n"+be+" "+mi})}(this.i,this.u,this.A,this.l,this.R,ko,yt),this.o){if(this.T&&!this.K){e:{if(this.g){var Vr,Za=this.g;if((Vr=Za.g?Za.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(Vr)){var dr=Vr;break e}}dr=null}if(!(yt=dr)){this.o=!1,this.s=3,Ka(12),Ys(this),Qr(this);break t}Nt(this.i,this.l,yt,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zu(this,yt)}if(this.P){let Gc;for(yt=!0;!this.J&&this.C<mi.length;){if(Gc=Ye(this,mi),Gc==je){4==ko&&(this.s=4,Ka(14),yt=!1),Nt(this.i,this.l,null,"[Incomplete Response]");break}if(Gc==ue){this.s=4,Ka(15),Nt(this.i,this.l,mi,"[Invalid Chunk]"),yt=!1;break}Nt(this.i,this.l,Gc,null),Zu(this,Gc)}if(ci(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ko||0!=mi.length||this.h.h||(this.s=1,Ka(16),yt=!1),this.o=this.o&&yt,yt){if(0<mi.length&&!this.W){this.W=!0;var Io=this.j;Io.g==this&&Io.ba&&!Io.M&&(Io.j.info("Great, no buffering proxy detected. Bytes received: "+mi.length),L4(Io),Io.M=!0,Ka(11))}}else Nt(this.i,this.l,mi,"[Invalid Chunked Response]"),Ys(this),Qr(this)}else Nt(this.i,this.l,mi,null),Zu(this,mi);4==ko&&Ys(this),this.o&&!this.J&&(4==ko?Pnt(this.j,this):(this.o=!1,Zi(this)))}else(function aqt(z){const ct={};z=(z.g&&2<=qu(z)&&z.g.getAllResponseHeaders()||"").split("\r\n");for(let Rt=0;Rt<z.length;Rt++){if(rt(z[Rt]))continue;var yt=Tt(z[Rt]);const ee=yt[0];if("string"!=typeof(yt=yt[1]))continue;yt=yt.trim();const be=ct[ee]||[];ct[ee]=be,be.push(yt)}!function ft(z,ct){for(const yt in z)ct.call(void 0,z[yt],yt,z)}(ct,function(Rt){return Rt.join(", ")})})(this.g),400==yt&&0<mi.indexOf("Unknown SID")?(this.s=3,Ka(12)):(this.s=0,Ka(13)),Ys(this),Qr(this)}}}catch{}},oe.prototype.cancel=function(){this.J=!0,Ys(this)},oe.prototype.ba=function(){this.B=null;const z=Date.now();0<=z-this.S?(function Pt(z,ct){z.info(function(){return"TIMEOUT: "+ct})}(this.i,this.A),2!=this.L&&(bp(),Ka(17)),Ys(this),this.s=2,Qr(this)):Dr(this,this.S-z)};var Tp=class{constructor(z,ct){this.g=z,this.map=ct}};function Nd(z){this.l=z||10,z=l.PerformanceNavigationTiming?0<(z=l.performance.getEntriesByType("navigation")).length&&("hq"==z[0].nextHopProtocol||"h2"==z[0].nextHopProtocol):!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=z?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function I0(z){return!!z.h||!!z.g&&z.g.size>=z.j}function pc(z){return z.h?1:z.g?z.g.size:0}function k4(z,ct){return z.h?z.h==ct:!!z.g&&z.g.has(ct)}function R4(z,ct){z.g?z.g.add(ct):z.h=ct}function unt(z,ct){z.h&&z.h==ct?z.h=null:z.g&&z.g.has(ct)&&z.g.delete(ct)}function hnt(z){if(null!=z.h)return z.i.concat(z.h.D);if(null!=z.g&&0!==z.g.size){let ct=z.i;for(const yt of z.g.values())ct=ct.concat(yt.D);return ct}return j(z.i)}function fnt(z,ct){if(z.forEach&&"function"==typeof z.forEach)z.forEach(ct,void 0);else if(w(z)||"string"==typeof z)Array.prototype.forEach.call(z,ct,void 0);else for(var yt=function XJt(z){if(z.na&&"function"==typeof z.na)return z.na();if(!z.V||"function"!=typeof z.V){if(typeof Map<"u"&&z instanceof Map)return Array.from(z.keys());if(!(typeof Set<"u"&&z instanceof Set)){if(w(z)||"string"==typeof z){var ct=[];z=z.length;for(var yt=0;yt<z;yt++)ct.push(yt);return ct}ct=[],yt=0;for(const Rt in z)ct[yt++]=Rt;return ct}}}(z),Rt=function jJt(z){if(z.V&&"function"==typeof z.V)return z.V();if(typeof Map<"u"&&z instanceof Map||typeof Set<"u"&&z instanceof Set)return Array.from(z.values());if("string"==typeof z)return z.split("");if(w(z)){for(var ct=[],yt=z.length,Rt=0;Rt<yt;Rt++)ct.push(z[Rt]);return ct}for(Rt in ct=[],yt=0,z)ct[yt++]=z[Rt];return ct}(z),ee=Rt.length,be=0;be<ee;be++)ct.call(void 0,Rt[be],yt&&yt[be],z)}Nd.prototype.cancel=function(){if(this.i=hnt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const z of this.g.values())z.cancel();this.g.clear()}};var mnt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cp(z){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,z instanceof Cp){this.h=z.h,NA(this,z.j),this.o=z.o,this.g=z.g,BA(this,z.s),this.l=z.l;var ct=z.i,yt=new sw;yt.i=ct.i,ct.g&&(yt.g=new Map(ct.g),yt.h=ct.h),pnt(this,yt),this.m=z.m}else z&&(ct=String(z).match(mnt))?(this.h=!1,NA(this,ct[1]||"",!0),this.o=nw(ct[2]||""),this.g=nw(ct[3]||"",!0),BA(this,ct[4]),this.l=nw(ct[5]||"",!0),pnt(this,ct[6]||"",!0),this.m=nw(ct[7]||"")):(this.h=!1,this.i=new sw(null,this.h))}function Ju(z){return new Cp(z)}function NA(z,ct,yt){z.j=yt?nw(ct,!0):ct,z.j&&(z.j=z.j.replace(/:$/,""))}function BA(z,ct){if(ct){if(ct=Number(ct),isNaN(ct)||0>ct)throw Error("Bad port number "+ct);z.s=ct}else z.s=null}function pnt(z,ct,yt){ct instanceof sw?(z.i=ct,function qJt(z,ct){ct&&!z.j&&(_f(z),z.i=null,z.g.forEach(function(yt,Rt){var ee=Rt.toLowerCase();Rt!=ee&&(vnt(this,Rt),ynt(this,ee,yt))},z)),z.j=ct}(z.i,z.h)):(yt||(ct=rw(ct,ZJt)),z.i=new sw(ct,z.h))}function ss(z,ct,yt){z.i.set(ct,yt)}function VA(z){return ss(z,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),z}function nw(z,ct){return z?ct?decodeURI(z.replace(/%25/g,"%2525")):decodeURIComponent(z):""}function rw(z,ct,yt){return"string"==typeof z?(z=encodeURI(z).replace(ct,$Jt),yt&&(z=z.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z):null}function $Jt(z){return"%"+((z=z.charCodeAt(0))>>4&15).toString(16)+(15&z).toString(16)}Cp.prototype.toString=function(){var z=[],ct=this.j;ct&&z.push(rw(ct,gnt,!0),":");var yt=this.g;return(yt||"file"==ct)&&(z.push("//"),(ct=this.o)&&z.push(rw(ct,gnt,!0),"@"),z.push(encodeURIComponent(String(yt)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(yt=this.s)&&z.push(":",String(yt))),(yt=this.l)&&(this.g&&"/"!=yt.charAt(0)&&z.push("/"),z.push(rw(yt,"/"==yt.charAt(0)?KJt:QJt,!0))),(yt=this.i.toString())&&z.push("?",yt),(yt=this.m)&&z.push("#",rw(yt,JJt)),z.join("")};var gnt=/[#\/\?@]/g,QJt=/[#\?:]/g,KJt=/[#\?]/g,ZJt=/[#\?@]/g,JJt=/#/g;function sw(z,ct){this.h=this.g=null,this.i=z||null,this.j=!!ct}function _f(z){z.g||(z.g=new Map,z.h=0,z.i&&function YJt(z,ct){if(z){z=z.split("&");for(var yt=0;yt<z.length;yt++){var Rt=z[yt].indexOf("="),ee=null;if(0<=Rt){var be=z[yt].substring(0,Rt);ee=z[yt].substring(Rt+1)}else be=z[yt];ct(be,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}(z.i,function(ct,yt){z.add(decodeURIComponent(ct.replace(/\+/g," ")),yt)}))}function vnt(z,ct){_f(z),ct=k0(z,ct),z.g.has(ct)&&(z.i=null,z.h-=z.g.get(ct).length,z.g.delete(ct))}function xnt(z,ct){return _f(z),ct=k0(z,ct),z.g.has(ct)}function ynt(z,ct,yt){vnt(z,ct),0<yt.length&&(z.i=null,z.g.set(k0(z,ct),j(yt)),z.h+=yt.length)}function k0(z,ct){return ct=String(ct),z.j&&(ct=ct.toLowerCase()),ct}function Tf(z,ct,yt,Rt,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),Rt(yt)}catch{}}function iqt(){this.g=new xp}function nqt(z,ct,yt){const Rt=yt||"";try{fnt(z,function(ee,be){let mi=ee;S(ee)&&(mi=mc(ee)),ct.push(Rt+be+"="+encodeURIComponent(mi))})}catch(ee){throw ct.push(Rt+"type="+encodeURIComponent("_badmap")),ee}}function aw(z){this.l=z.Ub||null,this.j=z.eb||!1}function UA(z,ct){rr.call(this),this.D=z,this.o=ct,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function bnt(z){z.j.read().then(z.Pa.bind(z)).catch(z.ga.bind(z))}function ow(z){z.readyState=4,z.l=null,z.j=null,z.v=null,lw(z)}function lw(z){z.onreadystatechange&&z.onreadystatechange.call(z)}function wnt(z){let ct="";return kt(z,function(yt,Rt){ct+=Rt,ct+=":",ct+=yt,ct+="\r\n"}),ct}function P4(z,ct,yt){t:{for(Rt in yt){var Rt=!1;break t}Rt=!0}Rt||(yt=wnt(yt),"string"==typeof z?null!=yt&&encodeURIComponent(String(yt)):ss(z,ct,yt))}function As(z){rr.call(this),this.headers=new Map,this.o=z||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=sw.prototype).add=function(z,ct){_f(this),this.i=null,z=k0(this,z);var yt=this.g.get(z);return yt||this.g.set(z,yt=[]),yt.push(ct),this.h+=1,this},e.forEach=function(z,ct){_f(this),this.g.forEach(function(yt,Rt){yt.forEach(function(ee){z.call(ct,ee,Rt,this)},this)},this)},e.na=function(){_f(this);const z=Array.from(this.g.values()),ct=Array.from(this.g.keys()),yt=[];for(let Rt=0;Rt<ct.length;Rt++){const ee=z[Rt];for(let be=0;be<ee.length;be++)yt.push(ct[Rt])}return yt},e.V=function(z){_f(this);let ct=[];if("string"==typeof z)xnt(this,z)&&(ct=ct.concat(this.g.get(k0(this,z))));else{z=Array.from(this.g.values());for(let yt=0;yt<z.length;yt++)ct=ct.concat(z[yt])}return ct},e.set=function(z,ct){return _f(this),this.i=null,xnt(this,z=k0(this,z))&&(this.h-=this.g.get(z).length),this.g.set(z,[ct]),this.h+=1,this},e.get=function(z,ct){return z&&0<(z=this.V(z)).length?String(z[0]):ct},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const z=[],ct=Array.from(this.g.keys());for(var yt=0;yt<ct.length;yt++){var Rt=ct[yt];const be=encodeURIComponent(String(Rt)),mi=this.V(Rt);for(Rt=0;Rt<mi.length;Rt++){var ee=be;""!==mi[Rt]&&(ee+="="+encodeURIComponent(String(mi[Rt]))),z.push(ee)}}return this.i=z.join("&")},U(aw,A0),aw.prototype.g=function(){return new UA(this.l,this.j)},aw.prototype.i=function(z){return function(){return z}}({}),U(UA,rr),(e=UA.prototype).open=function(z,ct){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=z,this.A=ct,this.readyState=1,lw(this)},e.send=function(z){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ct={headers:this.u,method:this.B,credentials:this.m,cache:void 0};z&&(ct.body=z),(this.D||l).fetch(new Request(this.A,ct)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ow(this)),this.readyState=0},e.Sa=function(z){if(this.g&&(this.l=z,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=z.headers,this.readyState=2,lw(this)),this.g&&(this.readyState=3,lw(this),this.g)))if("arraybuffer"===this.responseType)z.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in z){if(this.j=z.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bnt(this)}else z.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(z){if(this.g){if(this.o&&z.value)this.response.push(z.value);else if(!this.o){var ct=z.value?z.value:new Uint8Array(0);(ct=this.v.decode(ct,{stream:!z.done}))&&(this.response=this.responseText+=ct)}z.done?ow(this):lw(this),3==this.readyState&&bnt(this)}},e.Ra=function(z){this.g&&(this.response=this.responseText=z,ow(this))},e.Qa=function(z){this.g&&(this.response=z,ow(this))},e.ga=function(){this.g&&ow(this)},e.setRequestHeader=function(z,ct){this.u.append(z,ct)},e.getResponseHeader=function(z){return this.h&&this.h.get(z.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const z=[],ct=this.h.entries();for(var yt=ct.next();!yt.done;)z.push((yt=yt.value)[0]+": "+yt[1]),yt=ct.next();return z.join("\r\n")},Object.defineProperty(UA.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(z){this.m=z?"include":"same-origin"}}),U(As,rr);var rqt=/^https?$/i,sqt=["POST","PUT"];function _nt(z,ct){z.h=!1,z.g&&(z.j=!0,z.g.abort(),z.j=!1),z.l=ct,z.m=5,Tnt(z),zA(z)}function Tnt(z){z.A||(z.A=!0,$n(z,"complete"),$n(z,"error"))}function Cnt(z){if(z.h&&typeof o<"u"&&(!z.v[1]||4!=qu(z)||2!=z.Z()))if(z.u&&4==qu(z))Mo(z.Ea,0,z);else if($n(z,"readystatechange"),4==qu(z)){z.h=!1;try{const mi=z.Z();t:switch(mi){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ct=!0;break t;default:ct=!1}var yt;if(!(yt=ct)){var Rt;if(Rt=0===mi){var ee=String(z.D).match(mnt)[1]||null;!ee&&l.self&&l.self.location&&(ee=l.self.location.protocol.slice(0,-1)),Rt=!rqt.test(ee?ee.toLowerCase():"")}yt=Rt}if(yt)$n(z,"complete"),$n(z,"success");else{z.m=6;try{var be=2<qu(z)?z.g.statusText:""}catch{be=""}z.l=be+" ["+z.Z()+"]",Tnt(z)}}finally{zA(z)}}}function zA(z,ct){if(z.g){Snt(z);const yt=z.g,Rt=z.v[0]?()=>{}:null;z.g=null,z.v=null,ct||$n(z,"ready");try{yt.onreadystatechange=Rt}catch{}}}function Snt(z){z.I&&(l.clearTimeout(z.I),z.I=null)}function qu(z){return z.g?z.g.readyState:0}function Ent(z){try{if(!z.g)return null;if("response"in z.g)return z.g.response;switch(z.H){case"":case"text":return z.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in z.g)return z.g.mozResponseArrayBuffer}return null}catch{return null}}function cw(z,ct,yt){return yt&&yt.internalChannelParams&&yt.internalChannelParams[z]||ct}function Ant(z){this.Aa=0,this.i=[],this.j=new _p,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cw("failFast",!1,z),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cw("baseRetryDelayMs",5e3,z),this.cb=cw("retryDelaySeedMs",1e4,z),this.Wa=cw("forwardChannelMaxRetries",2,z),this.wa=cw("forwardChannelRequestTimeoutMs",2e4,z),this.pa=z&&z.xmlHttpFactory||void 0,this.Xa=z&&z.Tb||void 0,this.Ca=z&&z.useFetchStreams||!1,this.L=void 0,this.J=z&&z.supportsCrossDomainXhr||!1,this.K="",this.h=new Nd(z&&z.concurrentRequestLimit),this.Da=new iqt,this.P=z&&z.fastHandshake||!1,this.O=z&&z.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=z&&z.Rb||!1,z&&z.xa&&this.j.xa(),z&&z.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&z&&z.detectBufferingProxy||!1,this.ja=void 0,z&&z.longPollingTimeout&&0<z.longPollingTimeout&&(this.ja=z.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function F4(z){if(Dnt(z),3==z.G){var ct=z.U++,yt=Ju(z.I);if(ss(yt,"SID",z.K),ss(yt,"RID",ct),ss(yt,"TYPE","terminate"),dw(z,yt),(ct=new oe(z,z.j,ct)).L=2,ct.v=VA(Ju(yt)),yt=!1,l.navigator&&l.navigator.sendBeacon)try{yt=l.navigator.sendBeacon(ct.v.toString(),"")}catch{}!yt&&l.Image&&((new Image).src=ct.v,yt=!0),yt||(ct.g=Nnt(ct.j,null),ct.g.ea(ct.v)),ct.F=Date.now(),Zi(ct)}Ont(z)}function GA(z){z.g&&(L4(z),z.g.cancel(),z.g=null)}function Dnt(z){GA(z),z.u&&(l.clearTimeout(z.u),z.u=null),WA(z),z.h.cancel(),z.s&&("number"==typeof z.s&&l.clearTimeout(z.s),z.s=null)}function HA(z){if(!I0(z.h)&&!z.s){z.s=!0;var ct=z.Ga;qt||Me(),Ee||(qt(),Ee=!0),ze.add(ct,z),z.B=0}}function Mnt(z,ct){var yt;yt=ct?ct.l:z.U++;const Rt=Ju(z.I);ss(Rt,"SID",z.K),ss(Rt,"RID",yt),ss(Rt,"AID",z.T),dw(z,Rt),z.m&&z.o&&P4(Rt,z.m,z.o),yt=new oe(z,z.j,yt,z.B+1),null===z.m&&(yt.H=z.o),ct&&(z.i=ct.D.concat(z.i)),ct=Int(z,yt,1e3),yt.I=Math.round(.5*z.wa)+Math.round(.5*z.wa*Math.random()),R4(z.h,yt),Ze(yt,Rt,ct)}function dw(z,ct){z.H&&kt(z.H,function(yt,Rt){ss(ct,Rt,yt)}),z.l&&fnt({},function(yt,Rt){ss(ct,Rt,yt)})}function Int(z,ct,yt){yt=Math.min(z.i.length,yt);var Rt=z.l?O(z.l.Na,z.l,z):null;t:{var ee=z.i;let be=-1;for(;;){const mi=["count="+yt];-1==be?0<yt?(be=ee[0].g,mi.push("ofs="+be)):be=0:mi.push("ofs="+be);let Vr=!0;for(let Za=0;Za<yt;Za++){let dr=ee[Za].g;const Io=ee[Za].map;if(dr-=be,0>dr)be=Math.max(0,ee[Za].g-100),Vr=!1;else try{nqt(Io,mi,"req"+dr+"_")}catch{Rt&&Rt(Io)}}if(Vr){Rt=mi.join("&");break t}}}return z=z.i.splice(0,yt),ct.D=z,Rt}function knt(z){if(!z.g&&!z.u){z.Y=1;var ct=z.Fa;qt||Me(),Ee||(qt(),Ee=!0),ze.add(ct,z),z.v=0}}function O4(z){return!(z.g||z.u||3<=z.v||(z.Y++,z.u=wp(O(z.Fa,z),Fnt(z,z.v)),z.v++,0))}function L4(z){null!=z.A&&(l.clearTimeout(z.A),z.A=null)}function Rnt(z){z.g=new oe(z,z.j,"rpc",z.Y),null===z.m&&(z.g.H=z.o),z.g.O=0;var ct=Ju(z.qa);ss(ct,"RID","rpc"),ss(ct,"SID",z.K),ss(ct,"AID",z.T),ss(ct,"CI",z.F?"0":"1"),!z.F&&z.ja&&ss(ct,"TO",z.ja),ss(ct,"TYPE","xmlhttp"),dw(z,ct),z.m&&z.o&&P4(ct,z.m,z.o),z.L&&(z.g.I=z.L);var yt=z.g;z=z.ia,yt.L=1,yt.v=VA(Ju(ct)),yt.m=null,yt.P=!0,Ci(yt,z)}function WA(z){null!=z.C&&(l.clearTimeout(z.C),z.C=null)}function Pnt(z,ct){var yt=null;if(z.g==ct){WA(z),L4(z),z.g=null;var Rt=2}else{if(!k4(z.h,ct))return;yt=ct.D,unt(z.h,ct),Rt=1}if(0!=z.G)if(ct.o)if(1==Rt){yt=ct.m?ct.m.length:0,ct=Date.now()-ct.F;var ee=z.B;$n(Rt=D0(),new M0(Rt,yt)),HA(z)}else knt(z);else if(3==(ee=ct.s)||0==ee&&0<ct.X||!(1==Rt&&function oqt(z,ct){return!(pc(z.h)>=z.h.j-(z.s?1:0)||(z.s?(z.i=ct.D.concat(z.i),0):1==z.G||2==z.G||z.B>=(z.Va?0:z.Wa)||(z.s=wp(O(z.Ga,z,ct),Fnt(z,z.B)),z.B++,0)))}(z,ct)||2==Rt&&O4(z)))switch(yt&&0<yt.length&&(ct=z.h,ct.i=ct.i.concat(yt)),ee){case 1:Sp(z,5);break;case 4:Sp(z,10);break;case 3:Sp(z,6);break;default:Sp(z,2)}}function Fnt(z,ct){let yt=z.Ta+Math.floor(Math.random()*z.cb);return z.isActive()||(yt*=2),yt*ct}function Sp(z,ct){if(z.j.info("Error code "+ct),2==ct){var yt=O(z.fb,z),Rt=z.Xa;const ee=!Rt;Rt=new Cp(Rt||"//www.google.com/images/cleardot.gif"),l.location&&"http"==l.location.protocol||NA(Rt,"https"),VA(Rt),ee?function tqt(z,ct){const yt=new _p;if(l.Image){const Rt=new Image;Rt.onload=N(Tf,yt,"TestLoadImage: loaded",!0,ct,Rt),Rt.onerror=N(Tf,yt,"TestLoadImage: error",!1,ct,Rt),Rt.onabort=N(Tf,yt,"TestLoadImage: abort",!1,ct,Rt),Rt.ontimeout=N(Tf,yt,"TestLoadImage: timeout",!1,ct,Rt),l.setTimeout(function(){Rt.ontimeout&&Rt.ontimeout()},1e4),Rt.src=z}else ct(!1)}(Rt.toString(),yt):function eqt(z,ct){new _p;const Rt=new AbortController,ee=setTimeout(()=>{Rt.abort(),Tf(0,0,!1,ct)},1e4);fetch(z,{signal:Rt.signal}).then(be=>{clearTimeout(ee),Tf(0,0,!!be.ok,ct)}).catch(()=>{clearTimeout(ee),Tf(0,0,!1,ct)})}(Rt.toString(),yt)}else Ka(2);z.G=0,z.l&&z.l.sa(ct),Ont(z),Dnt(z)}function Ont(z){if(z.G=0,z.ka=[],z.l){const ct=hnt(z.h);(0!=ct.length||0!=z.i.length)&&(W(z.ka,ct),W(z.ka,z.i),z.h.i.length=0,j(z.i),z.i.length=0),z.l.ra()}}function Lnt(z,ct,yt){var Rt=yt instanceof Cp?Ju(yt):new Cp(yt);if(""!=Rt.g)ct&&(Rt.g=ct+"."+Rt.g),BA(Rt,Rt.s);else{var ee=l.location;Rt=ee.protocol,ct=ct?ct+"."+ee.hostname:ee.hostname,ee=+ee.port;var be=new Cp(null);Rt&&NA(be,Rt),ct&&(be.g=ct),ee&&BA(be,ee),yt&&(be.l=yt),Rt=be}return ct=z.ya,(yt=z.D)&&ct&&ss(Rt,yt,ct),ss(Rt,"VER",z.la),dw(z,Rt),Rt}function Nnt(z,ct,yt){if(ct&&!z.J)throw Error("Can't create secondary domain capable XhrIo object.");return(ct=new As(z.Ca&&!z.pa?new aw({eb:yt}):z.pa)).Ha(z.J),ct}function Bnt(){}function jA(){}function Ul(z,ct){rr.call(this),this.g=new Ant(ct),this.l=z,this.h=ct&&ct.messageUrlParams||null,z=ct&&ct.messageHeaders||null,ct&&ct.clientProtocolHeaderRequired&&(z?z["X-Client-Protocol"]="webchannel":z={"X-Client-Protocol":"webchannel"}),this.g.o=z,z=ct&&ct.initMessageHeaders||null,ct&&ct.messageContentType&&(z?z["X-WebChannel-Content-Type"]=ct.messageContentType:z={"X-WebChannel-Content-Type":ct.messageContentType}),ct&&ct.va&&(z?z["X-WebChannel-Client-Profile"]=ct.va:z={"X-WebChannel-Client-Profile":ct.va}),this.g.S=z,(z=ct&&ct.Sb)&&!rt(z)&&(this.g.m=z),this.v=ct&&ct.supportsCrossDomainXhr||!1,this.u=ct&&ct.sendRawJson||!1,(ct=ct&&ct.httpSessionIdParam)&&!rt(ct)&&(this.g.D=ct,null!==(z=this.h)&&ct in z&&ct in(z=this.h)&&delete z[ct]),this.j=new R0(this)}function Vnt(z){wf.call(this),z.__headers__&&(this.headers=z.__headers__,this.statusCode=z.__status__,delete z.__headers__,delete z.__status__);var ct=z.__sm__;if(ct){t:{for(const yt in ct){z=yt;break t}z=void 0}(this.i=z)&&(z=this.i,ct=null!==ct&&z in ct?ct[z]:void 0),this.data=ct}else this.data=z}function Unt(){iw.call(this),this.status=1}function R0(z){this.g=z}(e=As.prototype).Ha=function(z){this.J=z},e.ea=function(z,ct,yt,Rt){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+z);ct=ct?ct.toUpperCase():"GET",this.D=z,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ce.g(),this.v=function ew(z){return z.h||(z.h=z.i())}(this.o?this.o:ce),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(ct,String(z),!0),this.B=!1}catch(be){return void _nt(this,be)}if(z=yt||"",yt=new Map(this.headers),Rt)if(Object.getPrototypeOf(Rt)===Object.prototype)for(var ee in Rt)yt.set(ee,Rt[ee]);else{if("function"!=typeof Rt.keys||"function"!=typeof Rt.get)throw Error("Unknown input type for opt_headers: "+String(Rt));for(const be of Rt.keys())yt.set(be,Rt.get(be))}Rt=Array.from(yt.keys()).find(be=>"content-type"==be.toLowerCase()),ee=l.FormData&&z instanceof l.FormData,!(0<=Array.prototype.indexOf.call(sqt,ct,void 0))||Rt||ee||yt.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,mi]of yt)this.g.setRequestHeader(be,mi);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Snt(this),this.u=!0,this.g.send(z),this.u=!1}catch(be){_nt(this,be)}},e.abort=function(z){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=z||7,$n(this,"complete"),$n(this,"abort"),zA(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zA(this,!0)),As.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Cnt(this):this.bb())},e.bb=function(){Cnt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qu(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(z){if(this.g){var ct=this.g.responseText;return z&&0==ct.indexOf(z)&&(ct=ct.substring(z.length)),Qu(ct)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Ant.prototype).la=8,e.G=1,e.connect=function(z,ct,yt,Rt){Ka(0),this.W=z,this.H=ct||{},yt&&void 0!==Rt&&(this.H.OSID=yt,this.H.OAID=Rt),this.F=this.X,this.I=Lnt(this,null,this.W),HA(this)},e.Ga=function(z){if(this.s)if(this.s=null,1==this.G){if(!z){this.U=Math.floor(1e5*Math.random()),z=this.U++;const ee=new oe(this,this.j,z);let be=this.o;if(this.S&&(be?(be=dt(be),bt(be,this.S)):be=this.S),null!==this.m||this.O||(ee.H=be,be=null),this.P)t:{for(var ct=0,yt=0;yt<this.i.length;yt++){var Rt=this.i[yt];if(void 0===(Rt="__data__"in Rt.map&&"string"==typeof(Rt=Rt.map.__data__)?Rt.length:void 0))break;if(4096<(ct+=Rt)){ct=yt;break t}if(4096===ct||yt===this.i.length-1){ct=yt+1;break t}}ct=1e3}else ct=1e3;ct=Int(this,ee,ct),ss(yt=Ju(this.I),"RID",z),ss(yt,"CVER",22),this.D&&ss(yt,"X-HTTP-Session-Id",this.D),dw(this,yt),be&&(this.O?ct="headers="+encodeURIComponent(String(wnt(be)))+"&"+ct:this.m&&P4(yt,this.m,be)),R4(this.h,ee),this.Ua&&ss(yt,"TYPE","init"),this.P?(ss(yt,"$req",ct),ss(yt,"SID","null"),ee.T=!0,Ze(ee,yt,null)):Ze(ee,yt,ct),this.G=2}}else 3==this.G&&(z?Mnt(this,z):0==this.i.length||I0(this.h)||Mnt(this))},e.Fa=function(){if(this.u=null,Rnt(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var z=2*this.R;this.j.info("BP detection timer enabled: "+z),this.A=wp(O(this.ab,this),z)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ka(10),GA(this),Rnt(this))},e.Za=function(){null!=this.C&&(this.C=null,GA(this),O4(this),Ka(19))},e.fb=function(z){z?(this.j.info("Successfully pinged google.com"),Ka(2)):(this.j.info("Failed to ping google.com"),Ka(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=Bnt.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},jA.prototype.g=function(z,ct){return new Ul(z,ct)},U(Ul,rr),Ul.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ul.prototype.close=function(){F4(this.g)},Ul.prototype.o=function(z){var ct=this.g;if("string"==typeof z){var yt={};yt.__data__=z,z=yt}else this.u&&((yt={}).__data__=mc(z),z=yt);ct.i.push(new Tp(ct.Ya++,z)),3==ct.G&&HA(ct)},Ul.prototype.N=function(){this.g.l=null,delete this.j,F4(this.g),delete this.g,Ul.aa.N.call(this)},U(Vnt,wf),U(Unt,iw),U(R0,Bnt),R0.prototype.ua=function(){$n(this.g,"a")},R0.prototype.ta=function(z){$n(this.g,new Vnt(z))},R0.prototype.sa=function(z){$n(this.g,new Unt)},R0.prototype.ra=function(){$n(this.g,"b")},jA.prototype.createWebChannel=jA.prototype.g,Ul.prototype.send=Ul.prototype.o,Ul.prototype.open=Ul.prototype.m,Ul.prototype.close=Ul.prototype.close,WX=wu.createWebChannelTransport=function(){return new jA},HX=wu.getStatEventTarget=function(){return D0()},GX=wu.Event=Ku,DP=wu.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bt.NO_ERROR=0,Bt.TIMEOUT=8,Bt.HTTP_ERROR=6,oS=wu.ErrorCode=Bt,Ut.COMPLETE="complete",zX=wu.EventType=Ut,PA.EventType=yp,yp.OPEN="a",yp.CLOSE="b",yp.ERROR="c",yp.MESSAGE="d",rr.prototype.listen=rr.prototype.K,tb=wu.WebChannel=PA,UX=wu.FetchXmlHttpFactory=aw,As.prototype.listenOnce=As.prototype.L,As.prototype.getLastError=As.prototype.Ka,As.prototype.getLastErrorCode=As.prototype.Ba,As.prototype.getStatus=As.prototype.Z,As.prototype.getResponseJson=As.prototype.Oa,As.prototype.getResponseText=As.prototype.oa,As.prototype.send=As.prototype.ea,As.prototype.setWithCredentials=As.prototype.Ha,VX=wu.XhrIo=As}).apply(typeof aS<"u"?aS:typeof self<"u"?self:typeof window<"u"?window:{});const jX="@firebase/firestore";class Ia{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}Ia.UNAUTHENTICATED=new Ia(null),Ia.GOOGLE_CREDENTIALS=new Ia("google-credentials-uid"),Ia.FIRST_PARTY=new Ia("first-party-uid"),Ia.MOCK_USER=new Ia("mock-user");let mv="10.12.3";const zh=new wX("@firebase/firestore");function pv(){return zh.logLevel}function Be(e,...i){if(zh.logLevel<=Zn.DEBUG){const t=i.map(MP);zh.debug(`Firestore (${mv}): ${e}`,...t)}}function Bs(e,...i){if(zh.logLevel<=Zn.ERROR){const t=i.map(MP);zh.error(`Firestore (${mv}): ${e}`,...t)}}function Ml(e,...i){if(zh.logLevel<=Zn.WARN){const t=i.map(MP);zh.warn(`Firestore (${mv}): ${e}`,...t)}}function MP(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch{return e}}function wi(e="Unexpected state"){const i=`FIRESTORE (${mv}) INTERNAL ASSERTION FAILED: `+e;throw Bs(i),new Error(i)}function ki(e,i){e||wi()}function hi(e,i){return e}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends fv{constructor(i,t){super(i,t),this.code=i,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ga{constructor(){this.promise=new Promise((i,t)=>{this.resolve=i,this.reject=t})}}class XX{constructor(i,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class DRt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,t){i.enqueueRetryable(()=>t(Ia.UNAUTHENTICATED))}shutdown(){}}class MRt{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,t){this.changeListener=t,i.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class IRt{constructor(i){this.t=i,this.currentUser=Ia.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,t){var n=this;let r=this.i;const s=S=>this.i!==r?(r=this.i,t(S)):Promise.resolve();let o=new ga;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ga,i.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const S=o;i.enqueueRetryable(Mt(function*(){yield S.promise,yield s(n.currentUser)}))},w=S=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(S=>w(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?w(S):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ga)}},0),l()}getToken(){const i=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==i?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ki("string"==typeof n.accessToken),new XX(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return ki(null===i||"string"==typeof i),new Ia(i)}}class kRt{constructor(i,t,n){this.l=i,this.h=t,this.P=n,this.type="FirstParty",this.user=Ia.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const i=this.T();return i&&this.I.set("Authorization",i),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class RRt{constructor(i,t,n){this.l=i,this.h=t,this.P=n}getToken(){return Promise.resolve(new kRt(this.l,this.h,this.P))}start(i,t){i.enqueueRetryable(()=>t(Ia.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YX{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PRt{constructor(i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(i,t){const n=s=>{null!=s.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{i.enqueueRetryable(()=>n(s))};const r=s=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(t=>t?(ki("string"==typeof t.token),this.R=t.token,new YX(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function FRt(e){const i=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(e);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(t);else for(let n=0;n<e;n++)t[n]=Math.floor(256*Math.random());return t}class $X{static newId(){const t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=FRt(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return n}}function ln(e,i){return e<i?-1:e>i?1:0}function gv(e,i,t){return e.length===i.length&&e.every((n,r)=>t(n,i[r]))}class ls{constructor(i,t){if(this.seconds=i,this.nanoseconds=t,t<0)throw new Ve(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ve(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(i<-62135596800)throw new Ve(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Ve(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return ls.fromMillis(Date.now())}static fromDate(i){return ls.fromMillis(i.getTime())}static fromMillis(i){const t=Math.floor(i/1e3),n=Math.floor(1e6*(i-1e3*t));return new ls(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?ln(this.nanoseconds,i.nanoseconds):ln(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fi{constructor(i){this.timestamp=i}static fromTimestamp(i){return new Fi(i)}static min(){return new Fi(new ls(0,0))}static max(){return new Fi(new ls(253402300799,999999999))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class eb{constructor(i,t,n){void 0===t?t=0:t>i.length&&wi(),void 0===n?n=i.length-t:n>i.length-t&&wi(),this.segments=i,this.offset=t,this.len=n}get length(){return this.len}isEqual(i){return 0===eb.comparator(this,i)}child(i){const t=this.segments.slice(this.offset,this.limit());return i instanceof eb?i.forEach(n=>{t.push(n)}):t.push(i),this.construct(t)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==i.get(t))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==i.get(t))return!1;return!0}forEach(i){for(let t=this.offset,n=this.limit();t<n;t++)i(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,t){const n=Math.min(i.length,t.length);for(let r=0;r<n;r++){const s=i.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return i.length<t.length?-1:i.length>t.length?1:0}}class Hn extends eb{construct(i,t,n){return new Hn(i,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...i){const t=[];for(const n of i){if(n.indexOf("//")>=0)throw new Ve(ge.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(r=>r.length>0))}return new Hn(t)}static emptyPath(){return new Hn([])}}const ORt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cs extends eb{construct(i,t,n){return new cs(i,t,n)}static isValidIdentifier(i){return ORt.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cs.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cs(["__name__"])}static fromServerFormat(i){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Ve(ge.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<i.length;){const l=i[r];if("\\"===l){if(r+1===i.length)throw new Ve(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const w=i[r+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Ve(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);n+=w,r+=2}else"`"===l?(o=!o,r++):"."!==l||o?(n+=l,r++):(s(),r++)}if(s(),o)throw new Ve(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new cs(t)}static emptyPath(){return new cs([])}}class gi{constructor(i){this.path=i}static fromPath(i){return new gi(Hn.fromString(i))}static fromName(i){return new gi(Hn.fromString(i).popFirst(5))}static empty(){return new gi(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return null!==i&&0===Hn.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,t){return Hn.comparator(i.path,t.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new gi(new Hn(i.slice()))}}class Il{constructor(i,t,n){this.readTime=i,this.documentKey=t,this.largestBatchId=n}static min(){return new Il(Fi.min(),gi.empty(),-1)}static max(){return new Il(Fi.max(),gi.empty(),-1)}}function kP(e,i){let t=e.readTime.compareTo(i.readTime);return 0!==t?t:(t=gi.comparator(e.documentKey,i.documentKey),0!==t?t:ln(e.largestBatchId,i.largestBatchId))}const JX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}function Gh(e){return RP.apply(this,arguments)}function RP(){return(RP=Mt(function*(e){if(e.code!==ge.FAILED_PRECONDITION||e.message!==JX)throw e;Be("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class re{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(i){return this.next(void 0,i)}next(i,t){return this.callbackAttached&&wi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(i,this.result):new re((n,r)=>{this.nextCallback=s=>{this.wrapSuccess(i,s).next(n,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,r)}})}toPromise(){return new Promise((i,t)=>{this.next(i,t)})}wrapUserFunction(i){try{const t=i();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(i,t){return i?this.wrapUserFunction(()=>i(t)):re.resolve(t)}wrapFailure(i,t){return i?this.wrapUserFunction(()=>i(t)):re.reject(t)}static resolve(i){return new re((t,n)=>{t(i)})}static reject(i){return new re((t,n)=>{n(i)})}static waitFor(i){return new re((t,n)=>{let r=0,s=0,o=!1;i.forEach(l=>{++r,l.next(()=>{++s,o&&s===r&&t()},w=>n(w))}),o=!0,s===r&&t()})}static or(i){let t=re.resolve(!1);for(const n of i)t=t.next(r=>r?re.resolve(r):n());return t}static forEach(i,t){const n=[];return i.forEach((r,s)=>{n.push(t.call(this,r,s))}),this.waitFor(n)}static mapArray(i,t){return new re((n,r)=>{const s=i.length,o=new Array(s);let l=0;for(let w=0;w<s;w++){const S=w;t(i[S]).next(M=>{o[S]=M,++l,l===s&&n(o)},M=>r(M))}})}static doWhile(i,t){return new re((n,r)=>{const s=()=>{!0===i()?t().next(()=>{s()},r):n()};s()})}}function Hh(e){return"IndexedDbTransactionError"===e.name}let kl=(()=>{class e{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return e.oe=-1,e})();function nb(e){return null==e}function rb(e){return 0===e&&1/e==-1/0}function dY(e){let i=0;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&i++;return i}function Wh(e,i){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&i(t,e[t])}function hY(e){for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i))return!1;return!0}class Yr{constructor(i,t){this.comparator=i,this.root=t||Wa.EMPTY}insert(i,t){return new Yr(this.comparator,this.root.insert(i,t,this.comparator).copy(null,null,Wa.BLACK,null,null))}remove(i){return new Yr(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Wa.BLACK,null,null))}get(i){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(i,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(i){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(i,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((t,n)=>(i(t,n),!1))}toString(){const i=[];return this.inorderTraversal((t,n)=>(i.push(`${t}:${n}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new dS(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new dS(this.root,i,this.comparator,!1)}getReverseIterator(){return new dS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new dS(this.root,i,this.comparator,!0)}}class dS{constructor(i,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!i.isEmpty();)if(s=t?n(i.key,t):1,t&&r&&(s*=-1),s<0)i=this.isReverse?i.left:i.right;else{if(0===s){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const t={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class Wa{constructor(i,t,n,r,s){this.key=i,this.value=t,this.color=n??Wa.RED,this.left=r??Wa.EMPTY,this.right=s??Wa.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,t,n,r,s){return new Wa(i??this.key,t??this.value,n??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,t,n){let r=this;const s=n(i,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(i,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(i,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Wa.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,t){let n,r=this;if(t(i,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(i,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(i,r.key)){if(r.right.isEmpty())return Wa.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(i,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,Wa.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,Wa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,t)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wi();const i=this.left.check();if(i!==this.right.check())throw wi();return i+(this.isRed()?0:1)}}Wa.EMPTY=null,Wa.RED=!0,Wa.BLACK=!1,Wa.EMPTY=new class{constructor(){this.size=0}get key(){throw wi()}get value(){throw wi()}get color(){throw wi()}get left(){throw wi()}get right(){throw wi()}copy(i,t,n,r,s){return this}insert(i,t,n){return new Wa(i,t)}remove(i,t){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pr{constructor(i){this.comparator=i,this.data=new Yr(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((t,n)=>(i(t),!1))}forEachInRange(i,t){const n=this.data.getIteratorFrom(i[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,i[1])>=0)return;t(r.key)}}forEachWhile(i,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!i(n.getNext().key))return}firstAfterOrEqual(i){const t=this.data.getIteratorFrom(i);return t.hasNext()?t.getNext().key:null}getIterator(){return new fY(this.data.getIterator())}getIteratorFrom(i){return new fY(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let t=this;return t.size<i.size&&(t=i,i=this),i.forEach(n=>{t=t.add(n)}),t}isEqual(i){if(!(i instanceof Pr)||this.size!==i.size)return!1;const t=this.data.getIterator(),n=i.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const i=[];return this.forEach(t=>{i.push(t)}),i}toString(){const i=[];return this.forEach(t=>i.push(t)),"SortedSet("+i.toString()+")"}copy(i){const t=new Pr(this.comparator);return t.data=i,t}}class fY{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class rl{constructor(i){this.fields=i,i.sort(cs.comparator)}static empty(){return new rl([])}unionWith(i){let t=new Pr(cs.comparator);for(const n of this.fields)t=t.add(n);for(const n of i)t=t.add(n);return new rl(t.toArray())}covers(i){for(const t of this.fields)if(t.isPrefixOf(i))return!0;return!1}isEqual(i){return gv(this.fields,i.fields,(t,n)=>t.isEqual(n))}}class mY extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class va{constructor(i){this.binaryString=i}static fromBase64String(i){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mY("Invalid base64 string: "+s):s}}(i);return new va(t)}static fromUint8Array(i){const t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(i);return new va(t)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return ln(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}va.EMPTY_BYTE_STRING=new va("");const aPt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _u(e){if(ki(!!e),"string"==typeof e){let i=0;const t=aPt.exec(e);if(ki(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),i=Number(r)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:i}}return{seconds:Cs(e.seconds),nanos:Cs(e.nanos)}}function Cs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Tu(e){return"string"==typeof e?va.fromBase64String(e):va.fromUint8Array(e)}function uS(e){var i,t;return"server_timestamp"===(null===(t=((null===(i=e?.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function hS(e){const i=e.mapValue.fields.__previous_value__;return uS(i)?hS(i):i}function sb(e){const i=_u(e.mapValue.fields.__local_write_time__.timestampValue);return new ls(i.seconds,i.nanos)}class oPt{constructor(i,t,n,r,s,o,l,w,S){this.databaseId=i,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=w,this.useFetchStreams=S}}class vm{constructor(i,t){this.projectId=i,this.database=t||"(default)"}static empty(){return new vm("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof vm&&i.projectId===this.projectId&&i.database===this.database}}const jh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?uS(e)?4:xY(e)?9007199254740991:10:wi()}function yd(e,i){if(e===i)return!0;const t=Xh(e);if(t!==Xh(i))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===i.booleanValue;case 4:return sb(e).isEqual(sb(i));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=_u(r.timestampValue),l=_u(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(e,i);case 5:return e.stringValue===i.stringValue;case 6:return s=i,Tu(e.bytesValue).isEqual(Tu(s.bytesValue));case 7:return e.referenceValue===i.referenceValue;case 8:return function(r,s){return Cs(r.geoPointValue.latitude)===Cs(s.geoPointValue.latitude)&&Cs(r.geoPointValue.longitude)===Cs(s.geoPointValue.longitude)}(e,i);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Cs(r.integerValue)===Cs(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Cs(r.doubleValue),l=Cs(s.doubleValue);return o===l?rb(o)===rb(l):isNaN(o)&&isNaN(l)}return!1}(e,i);case 9:return gv(e.arrayValue.values||[],i.arrayValue.values||[],yd);case 10:return function(r,s){const o=r.mapValue.fields||{},l=s.mapValue.fields||{};if(dY(o)!==dY(l))return!1;for(const w in o)if(o.hasOwnProperty(w)&&(void 0===l[w]||!yd(o[w],l[w])))return!1;return!0}(e,i);default:return wi()}var s}function ab(e,i){return void 0!==(e.values||[]).find(t=>yd(t,i))}function Yh(e,i){if(e===i)return 0;const t=Xh(e),n=Xh(i);if(t!==n)return ln(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return ln(e.booleanValue,i.booleanValue);case 2:return function(s,o){const l=Cs(s.integerValue||s.doubleValue),w=Cs(o.integerValue||o.doubleValue);return l<w?-1:l>w?1:l===w?0:isNaN(l)?isNaN(w)?0:-1:1}(e,i);case 3:return pY(e.timestampValue,i.timestampValue);case 4:return pY(sb(e),sb(i));case 5:return ln(e.stringValue,i.stringValue);case 6:return function(s,o){const l=Tu(s),w=Tu(o);return l.compareTo(w)}(e.bytesValue,i.bytesValue);case 7:return function(s,o){const l=s.split("/"),w=o.split("/");for(let S=0;S<l.length&&S<w.length;S++){const M=ln(l[S],w[S]);if(0!==M)return M}return ln(l.length,w.length)}(e.referenceValue,i.referenceValue);case 8:return function(s,o){const l=ln(Cs(s.latitude),Cs(o.latitude));return 0!==l?l:ln(Cs(s.longitude),Cs(o.longitude))}(e.geoPointValue,i.geoPointValue);case 9:return function(s,o){const l=s.values||[],w=o.values||[];for(let S=0;S<l.length&&S<w.length;++S){const M=Yh(l[S],w[S]);if(M)return M}return ln(l.length,w.length)}(e.arrayValue,i.arrayValue);case 10:return function(s,o){if(s===jh.mapValue&&o===jh.mapValue)return 0;if(s===jh.mapValue)return 1;if(o===jh.mapValue)return-1;const l=s.fields||{},w=Object.keys(l),S=o.fields||{},M=Object.keys(S);w.sort(),M.sort();for(let P=0;P<w.length&&P<M.length;++P){const O=ln(w[P],M[P]);if(0!==O)return O;const N=Yh(l[w[P]],S[M[P]]);if(0!==N)return N}return ln(w.length,M.length)}(e.mapValue,i.mapValue);default:throw wi()}}function pY(e,i){if("string"==typeof e&&"string"==typeof i&&e.length===i.length)return ln(e,i);const t=_u(e),n=_u(i),r=ln(t.seconds,n.seconds);return 0!==r?r:ln(t.nanos,n.nanos)}function bv(e){return OP(e)}function OP(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){const n=_u(t);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Tu(e.bytesValue).toBase64():"referenceValue"in e?gi.fromName(e.referenceValue).toString():"geoPointValue"in e?function(t){return`geo(${t.latitude},${t.longitude})`}(e.geoPointValue):"arrayValue"in e?function(t){let n="[",r=!0;for(const s of t.values||[])r?r=!1:n+=",",n+=OP(s);return n+"]"}(e.arrayValue):"mapValue"in e?function(t){const n=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const o of n)s?s=!1:r+=",",r+=`${o}:${OP(t.fields[o])}`;return r+"}"}(e.mapValue):wi()}function xm(e,i){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${i.path.canonicalString()}`}}function LP(e){return!!e&&"integerValue"in e}function ob(e){return!!e&&"arrayValue"in e}function gY(e){return!!e&&"nullValue"in e}function vY(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pS(e){return!!e&&"mapValue"in e}function lb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const i={mapValue:{fields:{}}};return Wh(e.mapValue.fields,(t,n)=>i.mapValue.fields[t]=lb(n)),i}if(e.arrayValue){const i={arrayValue:{values:[]}};for(let t=0;t<(e.arrayValue.values||[]).length;++t)i.arrayValue.values[t]=lb(e.arrayValue.values[t]);return i}return Object.assign({},e)}function xY(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class ja{constructor(i){this.value=i}static empty(){return new ja({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let t=this.value;for(let n=0;n<i.length-1;++n)if(t=(t.mapValue.fields||{})[i.get(n)],!pS(t))return null;return t=(t.mapValue.fields||{})[i.lastSegment()],t||null}}set(i,t){this.getFieldsMap(i.popLast())[i.lastSegment()]=lb(t)}setAll(i){let t=cs.emptyPath(),n={},r=[];i.forEach((o,l)=>{if(!t.isImmediateParentOf(l)){const w=this.getFieldsMap(t);this.applyChanges(w,n,r),n={},r=[],t=l.popLast()}o?n[l.lastSegment()]=lb(o):r.push(l.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(i){const t=this.field(i.popLast());pS(t)&&t.mapValue.fields&&delete t.mapValue.fields[i.lastSegment()]}isEqual(i){return yd(this.value,i.value)}getFieldsMap(i){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<i.length;++n){let r=t.mapValue.fields[i.get(n)];pS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[i.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(i,t,n){Wh(t,(r,s)=>i[r]=s);for(const r of n)delete i[r]}clone(){return new ja(lb(this.value))}}function wY(e){const i=[];return Wh(e.fields,(t,n)=>{const r=new cs([t]);if(pS(n)){const s=wY(n.mapValue).fields;if(0===s.length)i.push(r);else for(const o of s)i.push(r.child(o))}else i.push(r)}),new rl(i)}class ts{constructor(i,t,n,r,s,o,l){this.key=i,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(i){return new ts(i,0,Fi.min(),Fi.min(),Fi.min(),ja.empty(),0)}static newFoundDocument(i,t,n,r){return new ts(i,1,t,Fi.min(),n,r,0)}static newNoDocument(i,t){return new ts(i,2,t,Fi.min(),Fi.min(),ja.empty(),0)}static newUnknownDocument(i,t){return new ts(i,3,t,Fi.min(),Fi.min(),ja.empty(),2)}convertToFoundDocument(i,t){return!this.createTime.isEqual(Fi.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=i),this.version=i,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=ja.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=ja.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fi.min(),this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof ts&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new ts(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $h{constructor(i,t){this.position=i,this.inclusive=t}}function _Y(e,i,t){let n=0;for(let r=0;r<e.position.length;r++){const s=i[r],o=e.position[r];if(n=s.field.isKeyField()?gi.comparator(gi.fromName(o.referenceValue),t.key):Yh(o,t.data.field(s.field)),"desc"===s.dir&&(n*=-1),0!==n)break}return n}function TY(e,i){if(null===e)return null===i;if(null===i||e.inclusive!==i.inclusive||e.position.length!==i.position.length)return!1;for(let t=0;t<e.position.length;t++)if(!yd(e.position[t],i.position[t]))return!1;return!0}class cb{constructor(i,t="asc"){this.field=i,this.dir=t}}function dPt(e,i){return e.dir===i.dir&&e.field.isEqual(i.field)}class CY{}class Wn extends CY{constructor(i,t,n){super(),this.field=i,this.op=t,this.value=n}static create(i,t,n){return i.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(i,t,n):new uPt(i,t,n):"array-contains"===t?new mPt(i,n):"in"===t?new IY(i,n):"not-in"===t?new pPt(i,n):"array-contains-any"===t?new gPt(i,n):new Wn(i,t,n)}static createKeyFieldInFilter(i,t,n){return"in"===t?new hPt(i,n):new fPt(i,n)}matches(i){const t=i.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yh(t,this.value)):null!==t&&Xh(this.value)===Xh(t)&&this.matchesComparison(Yh(t,this.value))}matchesComparison(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return wi()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends CY{constructor(i,t){super(),this.filters=i,this.op=t,this.ae=null}static create(i,t){return new Sr(i,t)}matches(i){return wv(this)?void 0===this.filters.find(t=>!t.matches(i)):void 0!==this.filters.find(t=>t.matches(i))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((i,t)=>i.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wv(e){return"and"===e.op}function BP(e){return function SY(e){for(const i of e.filters)if(i instanceof Sr)return!1;return!0}(e)&&wv(e)}function VP(e){if(e instanceof Wn)return e.field.canonicalString()+e.op.toString()+bv(e.value);if(BP(e))return e.filters.map(i=>VP(i)).join(",");{const i=e.filters.map(t=>VP(t)).join(",");return`${e.op}(${i})`}}function EY(e,i){return e instanceof Wn?(n=e,(r=i)instanceof Wn&&n.op===r.op&&n.field.isEqual(r.field)&&yd(n.value,r.value)):e instanceof Sr?function(n,r){return r instanceof Sr&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((s,o,l)=>s&&EY(o,r.filters[l]),!0)}(e,i):void wi();var n,r}function DY(e){return e instanceof Wn?`${(t=e).field.canonicalString()} ${t.op} ${bv(t.value)}`:e instanceof Sr?function(t){return t.op.toString()+" {"+t.getFilters().map(DY).join(" ,")+"}"}(e):"Filter";var t}class uPt extends Wn{constructor(i,t,n){super(i,t,n),this.key=gi.fromName(n.referenceValue)}matches(i){const t=gi.comparator(i.key,this.key);return this.matchesComparison(t)}}class hPt extends Wn{constructor(i,t){super(i,"in",t),this.keys=MY(0,t)}matches(i){return this.keys.some(t=>t.isEqual(i.key))}}class fPt extends Wn{constructor(i,t){super(i,"not-in",t),this.keys=MY(0,t)}matches(i){return!this.keys.some(t=>t.isEqual(i.key))}}function MY(e,i){var t;return((null===(t=i.arrayValue)||void 0===t?void 0:t.values)||[]).map(n=>gi.fromName(n.referenceValue))}class mPt extends Wn{constructor(i,t){super(i,"array-contains",t)}matches(i){const t=i.data.field(this.field);return ob(t)&&ab(t.arrayValue,this.value)}}class IY extends Wn{constructor(i,t){super(i,"in",t)}matches(i){const t=i.data.field(this.field);return null!==t&&ab(this.value.arrayValue,t)}}class pPt extends Wn{constructor(i,t){super(i,"not-in",t)}matches(i){if(ab(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=i.data.field(this.field);return null!==t&&!ab(this.value.arrayValue,t)}}class gPt extends Wn{constructor(i,t){super(i,"array-contains-any",t)}matches(i){const t=i.data.field(this.field);return!(!ob(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>ab(this.value.arrayValue,n))}}class vPt{constructor(i,t=null,n=[],r=[],s=null,o=null,l=null){this.path=i,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function UP(e,i=null,t=[],n=[],r=null,s=null,o=null){return new vPt(e,i,t,n,r,s,o)}function ym(e){const i=hi(e);if(null===i.ue){let t=i.path.canonicalString();null!==i.collectionGroup&&(t+="|cg:"+i.collectionGroup),t+="|f:",t+=i.filters.map(n=>VP(n)).join(","),t+="|ob:",t+=i.orderBy.map(n=>{return(s=n).field.canonicalString()+s.dir;var s}).join(","),nb(i.limit)||(t+="|l:",t+=i.limit),i.startAt&&(t+="|lb:",t+=i.startAt.inclusive?"b:":"a:",t+=i.startAt.position.map(n=>bv(n)).join(",")),i.endAt&&(t+="|ub:",t+=i.endAt.inclusive?"a:":"b:",t+=i.endAt.position.map(n=>bv(n)).join(",")),i.ue=t}return i.ue}function db(e,i){if(e.limit!==i.limit||e.orderBy.length!==i.orderBy.length)return!1;for(let t=0;t<e.orderBy.length;t++)if(!dPt(e.orderBy[t],i.orderBy[t]))return!1;if(e.filters.length!==i.filters.length)return!1;for(let t=0;t<e.filters.length;t++)if(!EY(e.filters[t],i.filters[t]))return!1;return e.collectionGroup===i.collectionGroup&&!!e.path.isEqual(i.path)&&!!TY(e.startAt,i.startAt)&&TY(e.endAt,i.endAt)}function gS(e){return gi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Cu{constructor(i,t=null,n=[],r=[],s=null,o="F",l=null,w=null){this.path=i,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=w,this.ce=null,this.le=null,this.he=null}}function _v(e){return new Cu(e)}function FY(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zP(e){return null!==e.collectionGroup}function Tv(e){const i=hi(e);if(null===i.ce){i.ce=[];const t=new Set;for(const s of i.explicitOrderBy)i.ce.push(s),t.add(s.field.canonicalString());const n=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Pr(cs.comparator);return o.filters.forEach(w=>{w.getFlattenedFilters().forEach(S=>{S.isInequality()&&(l=l.add(S.field))})}),l})(i).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||i.ce.push(new cb(s,n))}),t.has(cs.keyField().canonicalString())||i.ce.push(new cb(cs.keyField(),n))}return i.ce}function co(e){const i=hi(e);return i.le||(i.le=function LY(e,i){if("F"===e.limitType)return UP(e.path,e.collectionGroup,i,e.filters,e.limit,e.startAt,e.endAt);{i=i.map(r=>new cb(r.field,"desc"===r.dir?"asc":"desc"));const t=e.endAt?new $h(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new $h(e.startAt.position,e.startAt.inclusive):null;return UP(e.path,e.collectionGroup,i,e.filters,e.limit,t,n)}}(i,Tv(e))),i.le}function GP(e,i){const t=e.filters.concat([i]);return new Cu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),t,e.limit,e.limitType,e.startAt,e.endAt)}function xS(e,i,t){return new Cu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),i,t,e.startAt,e.endAt)}function ub(e,i){return db(co(e),co(i))&&e.limitType===i.limitType}function NY(e){return`${ym(co(e))}|lt:${e.limitType}`}function Cv(e){return`Query(target=${function(t){let n=t.path.canonicalString();return null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>DY(r)).join(", ")}]`),nb(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>bv(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>bv(r)).join(",")),`Target(${n})`}(co(e))}; limitType=${e.limitType})`}function hb(e,i){return i.isFoundDocument()&&function(n,r){const s=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):gi.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(e,i)&&function(n,r){for(const s of Tv(n))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(e,i)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(e,i)&&(r=i,!((n=e).startAt&&!function(o,l,w){const S=_Y(o,l,w);return o.inclusive?S<=0:S<0}(n.startAt,Tv(n),r)||n.endAt&&!function(o,l,w){const S=_Y(o,l,w);return o.inclusive?S>=0:S>0}(n.endAt,Tv(n),r)));var n,r}function VY(e){return(i,t)=>{let n=!1;for(const r of Tv(e)){const s=xPt(r,i,t);if(0!==s)return s;n=n||r.field.isKeyField()}return 0}}function xPt(e,i,t){const n=e.field.isKeyField()?gi.comparator(i.key,t.key):function(s,o,l){const w=o.data.field(s),S=l.data.field(s);return null!==w&&null!==S?Yh(w,S):wi()}(e.field,i,t);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return wi()}}class Su{constructor(i,t){this.mapKeyFn=i,this.equalsFn=t,this.inner={},this.innerSize=0}get(i){const t=this.mapKeyFn(i),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,i))return s}has(i){return void 0!==this.get(i)}set(i,t){const n=this.mapKeyFn(i),r=this.inner[n];if(void 0===r)return this.inner[n]=[[i,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],i))return void(r[s]=[i,t]);r.push([i,t]),this.innerSize++}delete(i){const t=this.mapKeyFn(i),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],i))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(i){Wh(this.inner,(t,n)=>{for(const[r,s]of n)i(r,s)})}isEmpty(){return hY(this.inner)}size(){return this.innerSize}}const yPt=new Yr(gi.comparator);function sl(){return yPt}const UY=new Yr(gi.comparator);function fb(...e){let i=UY;for(const t of e)i=i.insert(t.key,t);return i}function zY(e){let i=UY;return e.forEach((t,n)=>i=i.insert(t,n.overlayedDocument)),i}function bd(){return mb()}function GY(){return mb()}function mb(){return new Su(e=>e.toString(),(e,i)=>e.isEqual(i))}const bPt=new Yr(gi.comparator),wPt=new Pr(gi.comparator);function _n(...e){let i=wPt;for(const t of e)i=i.add(t);return i}const _Pt=new Pr(ln);function HY(e,i){if(e.useProto3Json){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rb(i)?"-0":i}}function WY(e){return{integerValue:""+e}}function jY(e,i){return function iY(e){return"number"==typeof e&&Number.isInteger(e)&&!rb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(i)?WY(i):HY(e,i)}class yS{constructor(){this._=void 0}}function TPt(e,i,t){return e instanceof Sv?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&uS(s)&&(s=hS(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,i):e instanceof bm?YY(e,i):e instanceof wm?$Y(e,i):function(r,s){const o=XY(r,s),l=QY(o)+QY(r.Pe);return LP(o)&&LP(r.Pe)?WY(l):HY(r.serializer,l)}(e,i)}function CPt(e,i,t){return e instanceof bm?YY(e,i):e instanceof wm?$Y(e,i):t}function XY(e,i){return e instanceof Ev?LP(n=i)||(s=n)&&"doubleValue"in s?i:{integerValue:0}:null;var n,s}class Sv extends yS{}class bm extends yS{constructor(i){super(),this.elements=i}}function YY(e,i){const t=KY(i);for(const n of e.elements)t.some(r=>yd(r,n))||t.push(n);return{arrayValue:{values:t}}}class wm extends yS{constructor(i){super(),this.elements=i}}function $Y(e,i){let t=KY(i);for(const n of e.elements)t=t.filter(r=>!yd(r,n));return{arrayValue:{values:t}}}class Ev extends yS{constructor(i,t){super(),this.serializer=i,this.Pe=t}}function QY(e){return Cs(e.integerValue||e.doubleValue)}function KY(e){return ob(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class EPt{constructor(i,t){this.version=i,this.transformResults=t}}class ds{constructor(i,t){this.updateTime=i,this.exists=t}static none(){return new ds}static exists(i){return new ds(void 0,i)}static updateTime(i){return new ds(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function bS(e,i){return void 0!==e.updateTime?i.isFoundDocument()&&i.version.isEqual(e.updateTime):void 0===e.exists||e.exists===i.isFoundDocument()}class wS{}function ZY(e,i){if(!e.hasLocalMutations||i&&0===i.fields.length)return null;if(null===i)return e.isNoDocument()?new Dv(e.key,ds.none()):new Av(e.key,e.data,ds.none());{const t=e.data,n=ja.empty();let r=new Pr(cs.comparator);for(let s of i.fields)if(!r.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?n.delete(s):n.set(s,o),r=r.add(s)}return new Eu(e.key,n,new rl(r.toArray()),ds.none())}}function APt(e,i,t){e instanceof Av?function(r,s,o){const l=r.value.clone(),w=t$(r.fieldTransforms,s,o.transformResults);l.setAll(w),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,i,t):e instanceof Eu?function(r,s,o){if(!bS(r.precondition,s))return void s.convertToUnknownDocument(o.version);const l=t$(r.fieldTransforms,s,o.transformResults),w=s.data;w.setAll(qY(r)),w.setAll(l),s.convertToFoundDocument(o.version,w).setHasCommittedMutations()}(e,i,t):i.convertToNoDocument(t.version).setHasCommittedMutations()}function gb(e,i,t,n){return e instanceof Av?function(s,o,l,w){if(!bS(s.precondition,o))return l;const S=s.value.clone(),M=e$(s.fieldTransforms,w,o);return S.setAll(M),o.convertToFoundDocument(o.version,S).setHasLocalMutations(),null}(e,i,t,n):e instanceof Eu?function(s,o,l,w){if(!bS(s.precondition,o))return l;const S=e$(s.fieldTransforms,w,o),M=o.data;return M.setAll(qY(s)),M.setAll(S),o.convertToFoundDocument(o.version,M).setHasLocalMutations(),null===l?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(P=>P.field))}(e,i,t,n):(l=t,bS(e.precondition,o=i)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l);var o,l}function DPt(e,i){let t=null;for(const n of e.fieldTransforms){const r=i.data.field(n.field),s=XY(n.transform,r||null);null!=s&&(null===t&&(t=ja.empty()),t.set(n.field,s))}return t||null}function JY(e,i){return e.type===i.type&&!!e.key.isEqual(i.key)&&!!e.precondition.isEqual(i.precondition)&&(r=i.fieldTransforms,!!(void 0===(n=e.fieldTransforms)&&void 0===r||n&&r&&gv(n,r,(s,o)=>function SPt(e,i){return e.field.isEqual(i.field)&&(r=i.transform,(n=e.transform)instanceof bm&&r instanceof bm||n instanceof wm&&r instanceof wm?gv(n.elements,r.elements,yd):n instanceof Ev&&r instanceof Ev?yd(n.Pe,r.Pe):n instanceof Sv&&r instanceof Sv);var n,r}(s,o))))&&(0===e.type?e.value.isEqual(i.value):1!==e.type||e.data.isEqual(i.data)&&e.fieldMask.isEqual(i.fieldMask));var n,r}class Av extends wS{constructor(i,t,n,r=[]){super(),this.key=i,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Eu extends wS{constructor(i,t,n,r,s=[]){super(),this.key=i,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function qY(e){const i=new Map;return e.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=e.data.field(t);i.set(t,n)}}),i}function t$(e,i,t){const n=new Map;ki(e.length===t.length);for(let r=0;r<t.length;r++){const s=e[r],o=s.transform,l=i.data.field(s.field);n.set(s.field,CPt(o,l,t[r]))}return n}function e$(e,i,t){const n=new Map;for(const r of e){const s=r.transform,o=t.data.field(r.field);n.set(r.field,TPt(s,o,i))}return n}class Dv extends wS{constructor(i,t){super(),this.key=i,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WP extends wS{constructor(i,t){super(),this.key=i,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jP{constructor(i,t,n,r){this.batchId=i,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(i,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(i.key)&&APt(s,i,n[r])}}applyToLocalView(i,t){for(const n of this.baseMutations)n.key.isEqual(i.key)&&(t=gb(n,i,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(i.key)&&(t=gb(n,i,t,this.localWriteTime));return t}applyToLocalDocumentSet(i,t){const n=GY();return this.mutations.forEach(r=>{const s=i.get(r.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=t.has(r.key)?null:l;const w=ZY(o,l);null!==w&&n.set(r.key,w),o.isValidDocument()||o.convertToNoDocument(Fi.min())}),n}keys(){return this.mutations.reduce((i,t)=>i.add(t.key),_n())}isEqual(i){return this.batchId===i.batchId&&gv(this.mutations,i.mutations,(t,n)=>JY(t,n))&&gv(this.baseMutations,i.baseMutations,(t,n)=>JY(t,n))}}class XP{constructor(i,t,n,r){this.batch=i,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(i,t,n){ki(i.mutations.length===n.length);let r=function(){return bPt}();const s=i.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,n[o].version);return new XP(i,t,n,r)}}class YP{constructor(i,t){this.largestBatchId=i,this.mutation=t}getKey(){return this.mutation.key}isEqual(i){return null!==i&&this.mutation===i.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class MPt{constructor(i,t){this.count=i,this.unchangedNames=t}}var qs,Jn;function r$(e){if(void 0===e)return Bs("GRPC error has no .code"),ge.UNKNOWN;switch(e){case qs.OK:return ge.OK;case qs.CANCELLED:return ge.CANCELLED;case qs.UNKNOWN:return ge.UNKNOWN;case qs.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case qs.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case qs.INTERNAL:return ge.INTERNAL;case qs.UNAVAILABLE:return ge.UNAVAILABLE;case qs.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case qs.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case qs.NOT_FOUND:return ge.NOT_FOUND;case qs.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case qs.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case qs.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case qs.ABORTED:return ge.ABORTED;case qs.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case qs.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case qs.DATA_LOSS:return ge.DATA_LOSS;default:return wi()}}(Jn=qs||(qs={}))[Jn.OK=0]="OK",Jn[Jn.CANCELLED=1]="CANCELLED",Jn[Jn.UNKNOWN=2]="UNKNOWN",Jn[Jn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jn[Jn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jn[Jn.NOT_FOUND=5]="NOT_FOUND",Jn[Jn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jn[Jn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jn[Jn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jn[Jn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jn[Jn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jn[Jn.ABORTED=10]="ABORTED",Jn[Jn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jn[Jn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jn[Jn.INTERNAL=13]="INTERNAL",Jn[Jn.UNAVAILABLE=14]="UNAVAILABLE",Jn[Jn.DATA_LOSS=15]="DATA_LOSS";const IPt=new fm([4294967295,4294967295],0);function a$(e){const i=function s$(){return new TextEncoder}().encode(e),t=new BX;return t.update(i),new Uint8Array(t.digest())}function o$(e){const i=new DataView(e.buffer),t=i.getUint32(0,!0),n=i.getUint32(4,!0),r=i.getUint32(8,!0),s=i.getUint32(12,!0);return[new fm([t,n],0),new fm([r,s],0)]}class $P{constructor(i,t,n){if(this.bitmap=i,this.padding=t,this.hashCount=n,t<0||t>=8)throw new vb(`Invalid padding: ${t}`);if(n<0)throw new vb(`Invalid hash count: ${n}`);if(i.length>0&&0===this.hashCount)throw new vb(`Invalid hash count: ${n}`);if(0===i.length&&0!==t)throw new vb(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*i.length-t,this.Te=fm.fromNumber(this.Ie)}Ee(i,t,n){let r=i.add(t.multiply(fm.fromNumber(n)));return 1===r.compare(IPt)&&(r=new fm([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(i){return!!(this.bitmap[Math.floor(i/8)]&1<<i%8)}mightContain(i){if(0===this.Ie)return!1;const t=a$(i),[n,r]=o$(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,r,s);if(!this.de(o))return!1}return!0}static create(i,t,n){const r=i%8==0?0:8-i%8,s=new Uint8Array(Math.ceil(i/8)),o=new $P(s,r,t);return n.forEach(l=>o.insert(l)),o}insert(i){if(0===this.Ie)return;const t=a$(i),[n,r]=o$(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,r,s);this.Ae(o)}}Ae(i){const t=Math.floor(i/8);this.bitmap[t]|=1<<i%8}}class vb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xb{constructor(i,t,n,r,s){this.snapshotVersion=i,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(i,t,n){const r=new Map;return r.set(i,yb.createSynthesizedTargetChangeForCurrentChange(i,t,n)),new xb(Fi.min(),r,new Yr(ln),sl(),_n())}}class yb{constructor(i,t,n,r,s){this.resumeToken=i,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(i,t,n){return new yb(n,t,_n(),_n(),_n())}}class TS{constructor(i,t,n,r){this.Re=i,this.removedTargetIds=t,this.key=n,this.Ve=r}}class l${constructor(i,t){this.targetId=i,this.me=t}}class c${constructor(i,t,n=va.EMPTY_BYTE_STRING,r=null){this.state=i,this.targetIds=t,this.resumeToken=n,this.cause=r}}class d${constructor(){this.fe=0,this.ge=h$(),this.pe=va.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(i){i.approximateByteSize()>0&&(this.we=!0,this.pe=i)}Ce(){let i=_n(),t=_n(),n=_n();return this.ge.forEach((r,s)=>{switch(s){case 0:i=i.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wi()}}),new yb(this.pe,this.ye,i,t,n)}ve(){this.we=!1,this.ge=h$()}Fe(i,t){this.we=!0,this.ge=this.ge.insert(i,t)}Me(i){this.we=!0,this.ge=this.ge.remove(i)}xe(){this.fe+=1}Oe(){this.fe-=1,ki(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kPt{constructor(i){this.Le=i,this.Be=new Map,this.ke=sl(),this.qe=u$(),this.Qe=new Yr(ln)}Ke(i){for(const t of i.Re)i.Ve&&i.Ve.isFoundDocument()?this.$e(t,i.Ve):this.Ue(t,i.key,i.Ve);for(const t of i.removedTargetIds)this.Ue(t,i.key,i.Ve)}We(i){this.forEachTarget(i,t=>{const n=this.Ge(t);switch(i.state){case 0:this.ze(t)&&n.De(i.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(i.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(i.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(i.resumeToken));break;default:wi()}})}forEachTarget(i,t){i.targetIds.length>0?i.targetIds.forEach(t):this.Be.forEach((n,r)=>{this.ze(r)&&t(r)})}He(i){const t=i.targetId,n=i.me.count,r=this.Je(t);if(r){const s=r.target;if(gS(s))if(0===n){const o=new gi(s.path);this.Ue(t,o,ts.newNoDocument(o,Fi.min()))}else ki(1===n);else{const o=this.Ye(t);if(o!==n){const l=this.Ze(i),w=l?this.Xe(l,i,o):1;0!==w&&(this.je(t),this.Qe=this.Qe.insert(t,2===w?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(i){const t=i.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let o,l;try{o=Tu(n).toUint8Array()}catch(w){if(w instanceof mY)return Ml("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{l=new $P(o,r,s)}catch(w){return Ml(w instanceof vb?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return 0===l.Ie?null:l}Xe(i,t,n){return t.me.count===n-this.nt(i,t.targetId)?0:2}nt(i,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;i.mightContain(l)||(this.Ue(t,s,null),r++)}),r}rt(i){const t=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&gS(l.target)){const w=new gi(l.target.path);null!==this.ke.get(w)||this.it(o,w)||this.Ue(o,w,ts.newNoDocument(w,i))}s.be&&(t.set(o,s.Ce()),s.ve())}});let n=_n();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(w=>{const S=this.Je(w);return!S||"TargetPurposeLimboResolution"===S.purpose||(l=!1,!1)}),l&&(n=n.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(i));const r=new xb(i,t,this.Qe,this.ke,n);return this.ke=sl(),this.qe=u$(),this.Qe=new Yr(ln),r}$e(i,t){if(!this.ze(i))return;const n=this.it(i,t.key)?2:0;this.Ge(i).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(i))}Ue(i,t,n){if(!this.ze(i))return;const r=this.Ge(i);this.it(i,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(i)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(i){this.Be.delete(i)}Ye(i){const t=this.Ge(i).Ce();return this.Le.getRemoteKeysForTarget(i).size+t.addedDocuments.size-t.removedDocuments.size}xe(i){this.Ge(i).xe()}Ge(i){let t=this.Be.get(i);return t||(t=new d$,this.Be.set(i,t)),t}st(i){let t=this.qe.get(i);return t||(t=new Pr(ln),this.qe=this.qe.insert(i,t)),t}ze(i){const t=null!==this.Je(i);return t||Be("WatchChangeAggregator","Detected inactive target",i),t}Je(i){const t=this.Be.get(i);return t&&t.Se?null:this.Le.ot(i)}je(i){this.Be.set(i,new d$),this.Le.getRemoteKeysForTarget(i).forEach(t=>{this.Ue(i,t,null)})}it(i,t){return this.Le.getRemoteKeysForTarget(i).has(t)}}function u$(){return new Yr(gi.comparator)}function h$(){return new Yr(gi.comparator)}const RPt={asc:"ASCENDING",desc:"DESCENDING"},PPt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FPt={and:"AND",or:"OR"};class OPt{constructor(i,t){this.databaseId=i,this.useProto3Json=t}}function QP(e,i){return e.useProto3Json||nb(i)?i:{value:i}}function Mv(e,i){return e.useProto3Json?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function f$(e,i){return e.useProto3Json?i.toBase64():i.toUint8Array()}function LPt(e,i){return Mv(e,i.toTimestamp())}function Vs(e){return ki(!!e),Fi.fromTimestamp(function(t){const n=_u(t);return new ls(n.seconds,n.nanos)}(e))}function KP(e,i){return ZP(e,i).canonicalString()}function ZP(e,i){const t=(r=e,new Hn(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===i?t:t.child(i)}function m$(e){const i=Hn.fromString(e);return ki(S$(i)),i}function bb(e,i){return KP(e.databaseId,i.path)}function wd(e,i){const t=m$(i);if(t.get(1)!==e.databaseId.projectId)throw new Ve(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+e.databaseId.projectId);if(t.get(3)!==e.databaseId.database)throw new Ve(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+e.databaseId.database);return new gi(v$(t))}function p$(e,i){return KP(e.databaseId,i)}function JP(e){return new Hn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function v$(e){return ki(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function x$(e,i,t){return{name:bb(e,i),fields:t.value.mapValue.fields}}function b$(e,i){return{documents:[p$(e,i.path)]}}function CS(e,i){const t={structuredQuery:{}},n=i.path;let r;null!==i.collectionGroup?(r=n,t.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(r=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=p$(e,r);const s=function(S){if(0!==S.length)return C$(Sr.create(S,"and"))}(i.filters);s&&(t.structuredQuery.where=s);const o=function(S){if(0!==S.length)return S.map(M=>{return{field:Qh((O=M).field),direction:zPt(O.dir)};var O})}(i.orderBy);o&&(t.structuredQuery.orderBy=o);const l=QP(e,i.limit);return null!==l&&(t.structuredQuery.limit=l),i.startAt&&(t.structuredQuery.startAt={before:(S=i.startAt).inclusive,values:S.position}),i.endAt&&(t.structuredQuery.endAt=function(S){return{before:!S.inclusive,values:S.position}}(i.endAt)),{_t:t,parent:r};var S}function _$(e){let i=function g$(e){const i=m$(e);return 4===i.length?Hn.emptyPath():v$(i)}(e.parent);const t=e.structuredQuery,n=t.from?t.from.length:0;let r=null;if(n>0){ki(1===n);const M=t.from[0];M.allDescendants?r=M.collectionId:i=i.child(M.collectionId)}let s=[];t.where&&(s=function(P){const O=T$(P);return O instanceof Sr&&BP(O)?O.getFilters():[O]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(O=>{return new cb(Iv((U=O).field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction));var U}));let l=null;t.limit&&(l=function(P){let O;return O="object"==typeof P?P.value:P,nb(O)?null:O}(t.limit));let w=null;var P;t.startAt&&(w=new $h((P=t.startAt).values||[],!!P.before));let S=null;return t.endAt&&(S=function(P){return new $h(P.values||[],!P.before)}(t.endAt)),function PY(e,i,t,n,r,s,o,l){return new Cu(e,i,t,n,r,s,o,l)}(i,r,o,s,l,"F",w,S)}function T$(e){return void 0!==e.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Iv(t.unaryFilter.field);return Wn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Iv(t.unaryFilter.field);return Wn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Iv(t.unaryFilter.field);return Wn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Iv(t.unaryFilter.field);return Wn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return wi()}}(e):void 0!==e.fieldFilter?Wn.create(Iv((t=e).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wi()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==e.compositeFilter?function(t){return Sr.create(t.compositeFilter.filters.map(n=>T$(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return wi()}}(t.compositeFilter.op))}(e):wi();var t}function zPt(e){return RPt[e]}function GPt(e){return PPt[e]}function HPt(e){return FPt[e]}function Qh(e){return{fieldPath:e.canonicalString()}}function Iv(e){return cs.fromServerFormat(e.fieldPath)}function C$(e){return e instanceof Wn?function(t){if("=="===t.op){if(vY(t.value))return{unaryFilter:{field:Qh(t.field),op:"IS_NAN"}};if(gY(t.value))return{unaryFilter:{field:Qh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(vY(t.value))return{unaryFilter:{field:Qh(t.field),op:"IS_NOT_NAN"}};if(gY(t.value))return{unaryFilter:{field:Qh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qh(t.field),op:GPt(t.op),value:t.value}}}(e):e instanceof Sr?function(t){const n=t.getFilters().map(r=>C$(r));return 1===n.length?n[0]:{compositeFilter:{op:HPt(t.op),filters:n}}}(e):wi()}function WPt(e){const i=[];return e.fields.forEach(t=>i.push(t.canonicalString())),{fieldPaths:i}}function S$(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Au{constructor(i,t,n,r,s=Fi.min(),o=Fi.min(),l=va.EMPTY_BYTE_STRING,w=null){this.target=i,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=w}withSequenceNumber(i){return new Au(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(i,t){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,i,null)}withExpectedCount(i){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,i)}withLastLimboFreeSnapshotVersion(i){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken,this.expectedCount)}}class E${constructor(i){this.ct=i}}function tF(e){const i=_$({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?xS(i,i.limit,"L"):i}class Sm{constructor(){}Pt(i,t){this.It(i,t),t.Tt()}It(i,t){if("nullValue"in i)this.Et(t,5);else if("booleanValue"in i)this.Et(t,10),t.dt(i.booleanValue?1:0);else if("integerValue"in i)this.Et(t,15),t.dt(Cs(i.integerValue));else if("doubleValue"in i){const n=Cs(i.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),rb(n)?t.dt(0):t.dt(n))}else if("timestampValue"in i){let n=i.timestampValue;this.Et(t,20),"string"==typeof n&&(n=_u(n)),t.At(`${n.seconds||""}`),t.dt(n.nanos||0)}else if("stringValue"in i)this.Rt(i.stringValue,t),this.Vt(t);else if("bytesValue"in i)this.Et(t,30),t.ft(Tu(i.bytesValue)),this.Vt(t);else if("referenceValue"in i)this.gt(i.referenceValue,t);else if("geoPointValue"in i){const n=i.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in i?xY(i)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(i.mapValue,t),this.Vt(t)):"arrayValue"in i?(this.wt(i.arrayValue,t),this.Vt(t)):wi()}Rt(i,t){this.Et(t,25),this.St(i,t)}St(i,t){t.At(i)}yt(i,t){const n=i.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(i,t){const n=i.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(i,t){this.Et(t,37),gi.fromName(i).path.forEach(n=>{this.Et(t,60),this.St(n,t)})}Et(i,t){i.dt(t)}Vt(i){i.dt(2)}}Sm.bt=new Sm;class JPt{constructor(){this._n=new aF}addToCollectionParentIndex(i,t){return this._n.add(t),re.resolve()}getCollectionParents(i,t){return re.resolve(this._n.getEntries(t))}addFieldIndex(i,t){return re.resolve()}deleteFieldIndex(i,t){return re.resolve()}deleteAllFieldIndexes(i){return re.resolve()}createTargetIndexes(i,t){return re.resolve()}getDocumentsMatchingTarget(i,t){return re.resolve(null)}getIndexType(i,t){return re.resolve(0)}getFieldIndexes(i,t){return re.resolve([])}getNextCollectionGroupToUpdate(i){return re.resolve(null)}getMinOffset(i,t){return re.resolve(Il.min())}getMinOffsetFromCollectionGroup(i,t){return re.resolve(Il.min())}updateCollectionGroup(i,t,n){return re.resolve()}updateIndexEntries(i,t){return re.resolve()}}class aF{constructor(){this.index={}}add(i){const t=i.lastSegment(),n=i.popLast(),r=this.index[t]||new Pr(Hn.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(i){const t=i.lastSegment(),n=i.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(i){return(this.index[i]||new Pr(Hn.comparator)).toArray()}}new Uint8Array(0);class uo{constructor(i,t,n){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(i){return new uo(i,uo.DEFAULT_COLLECTION_PERCENTILE,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}uo.DEFAULT_COLLECTION_PERCENTILE=10,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uo.DEFAULT=new uo(41943040,uo.DEFAULT_COLLECTION_PERCENTILE,uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uo.DISABLED=new uo(-1,0,0);class Am{constructor(i){this.On=i}next(){return this.On+=2,this.On}static Nn(){return new Am(0)}static Ln(){return new Am(-1)}}class Q${constructor(){this.changes=new Su(i=>i.toString(),(i,t)=>i.isEqual(t)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,t){this.assertNotApplied(),this.changes.set(i,ts.newInvalidDocument(i).setReadTime(t))}getEntry(i,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?re.resolve(n):this.getFromCache(i,t)}getEntries(i,t){return this.getAllFromCache(i,t)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class aFt{constructor(i,t){this.overlayedDocument=i,this.mutatedFields=t}}class tQ{constructor(i,t,n,r){this.remoteDocumentCache=i,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(i,t){let n=null;return this.documentOverlayCache.getOverlay(i,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(i,t))).next(r=>(null!==n&&gb(n.mutation,r,rl.empty(),ls.now()),r))}getDocuments(i,t){return this.remoteDocumentCache.getEntries(i,t).next(n=>this.getLocalViewOfDocuments(i,n,_n()).next(()=>n))}getLocalViewOfDocuments(i,t,n=_n()){const r=bd();return this.populateOverlays(i,r,t).next(()=>this.computeViews(i,t,r,n).next(s=>{let o=fb();return s.forEach((l,w)=>{o=o.insert(l,w.overlayedDocument)}),o}))}getOverlayedDocuments(i,t){const n=bd();return this.populateOverlays(i,n,t).next(()=>this.computeViews(i,t,n,_n()))}populateOverlays(i,t,n){const r=[];return n.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(i,r).next(s=>{s.forEach((o,l)=>{t.set(o,l)})})}computeViews(i,t,n,r){let s=sl();const o=mb(),l=mb();return t.forEach((w,S)=>{const M=n.get(S.key);r.has(S.key)&&(void 0===M||M.mutation instanceof Eu)?s=s.insert(S.key,S):void 0!==M?(o.set(S.key,M.mutation.getFieldMask()),gb(M.mutation,S,M.mutation.getFieldMask(),ls.now())):o.set(S.key,rl.empty())}),this.recalculateAndSaveOverlays(i,s).next(w=>(w.forEach((S,M)=>o.set(S,M)),t.forEach((S,M)=>{var P;return l.set(S,new aFt(M,null!==(P=o.get(S))&&void 0!==P?P:null))}),l))}recalculateAndSaveOverlays(i,t){const n=mb();let r=new Yr((o,l)=>o-l),s=_n();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(i,t).next(o=>{for(const l of o)l.keys().forEach(w=>{const S=t.get(w);if(null===S)return;let M=n.get(w)||rl.empty();M=l.applyToLocalView(S,M),n.set(w,M);const P=(r.get(l.batchId)||_n()).add(w);r=r.insert(l.batchId,P)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const w=l.getNext(),S=w.key,M=w.value,P=GY();M.forEach(O=>{if(!s.has(O)){const N=ZY(t.get(O),n.get(O));null!==N&&P.set(O,N),s=s.add(O)}}),o.push(this.documentOverlayCache.saveOverlays(i,S,P))}return re.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(i,t){return this.remoteDocumentCache.getEntries(i,t).next(n=>this.recalculateAndSaveOverlays(i,n))}getDocumentsMatchingQuery(i,t,n,r){return gi.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(i,t.path):zP(t)?this.getDocumentsMatchingCollectionGroupQuery(i,t,n,r):this.getDocumentsMatchingCollectionQuery(i,t,n,r);var o}getNextDocuments(i,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(i,t,n,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(i,t,n.largestBatchId,r-s.size):re.resolve(bd());let l=-1,w=s;return o.next(S=>re.forEach(S,(M,P)=>(l<P.largestBatchId&&(l=P.largestBatchId),s.get(M)?re.resolve():this.remoteDocumentCache.getEntry(i,M).next(O=>{w=w.insert(M,O)}))).next(()=>this.populateOverlays(i,S,s)).next(()=>this.computeViews(i,w,S,_n())).next(M=>({batchId:l,changes:zY(M)})))})}getDocumentsMatchingDocumentQuery(i,t){return this.getDocument(i,new gi(t)).next(n=>{let r=fb();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(i,t,n,r){const s=t.collectionGroup;let o=fb();return this.indexManager.getCollectionParents(i,s).next(l=>re.forEach(l,w=>{const S=(P=t,O=w.child(s),new Cu(O,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt));var P,O;return this.getDocumentsMatchingCollectionQuery(i,S,n,r).next(M=>{M.forEach((P,O)=>{o=o.insert(P,O)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(i,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(i,t.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(i,t,n,s,r))).next(o=>{s.forEach((w,S)=>{const M=S.getKey();null===o.get(M)&&(o=o.insert(M,ts.newInvalidDocument(M)))});let l=fb();return o.forEach((w,S)=>{const M=s.get(w);void 0!==M&&gb(M.mutation,S,rl.empty(),ls.now()),hb(t,S)&&(l=l.insert(w,S))}),l})}}class oFt{constructor(i){this.serializer=i,this.cr=new Map,this.lr=new Map}getBundleMetadata(i,t){return re.resolve(this.cr.get(t))}saveBundleMetadata(i,t){return this.cr.set(t.id,{id:(r=t).id,version:r.version,createTime:Vs(r.createTime)}),re.resolve();var r}getNamedQuery(i,t){return re.resolve(this.lr.get(t))}saveNamedQuery(i,t){return this.lr.set(t.name,{name:(r=t).name,query:tF(r.bundledQuery),readTime:Vs(r.readTime)}),re.resolve();var r}}class lFt{constructor(){this.overlays=new Yr(gi.comparator),this.hr=new Map}getOverlay(i,t){return re.resolve(this.overlays.get(t))}getOverlays(i,t){const n=bd();return re.forEach(t,r=>this.getOverlay(i,r).next(s=>{null!==s&&n.set(r,s)})).next(()=>n)}saveOverlays(i,t,n){return n.forEach((r,s)=>{this.ht(i,t,s)}),re.resolve()}removeOverlaysForBatchId(i,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(n)),re.resolve()}getOverlaysForCollection(i,t,n){const r=bd(),s=t.length+1,o=new gi(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const w=l.getNext().value,S=w.getKey();if(!t.isPrefixOf(S.path))break;S.path.length===s&&w.largestBatchId>n&&r.set(w.getKey(),w)}return re.resolve(r)}getOverlaysForCollectionGroup(i,t,n,r){let s=new Yr((S,M)=>S-M);const o=this.overlays.getIterator();for(;o.hasNext();){const S=o.getNext().value;if(S.getKey().getCollectionGroup()===t&&S.largestBatchId>n){let M=s.get(S.largestBatchId);null===M&&(M=bd(),s=s.insert(S.largestBatchId,M)),M.set(S.getKey(),S)}}const l=bd(),w=s.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((S,M)=>l.set(S,M)),!(l.size()>=r)););return re.resolve(l)}ht(i,t,n){const r=this.overlays.get(n.key);if(null!==r){const o=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new YP(t,n));let s=this.hr.get(t);void 0===s&&(s=_n(),this.hr.set(t,s)),this.hr.set(t,s.add(n.key))}}class oF{constructor(){this.Pr=new Pr(Ra.Ir),this.Tr=new Pr(Ra.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(i,t){const n=new Ra(i,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(i,t){i.forEach(n=>this.addReference(n,t))}removeReference(i,t){this.Ar(new Ra(i,t))}Rr(i,t){i.forEach(n=>this.removeReference(n,t))}Vr(i){const t=new gi(new Hn([])),n=new Ra(t,i),r=new Ra(t,i+1),s=[];return this.Tr.forEachInRange([n,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(i=>this.Ar(i))}Ar(i){this.Pr=this.Pr.delete(i),this.Tr=this.Tr.delete(i)}gr(i){const t=new gi(new Hn([])),n=new Ra(t,i),r=new Ra(t,i+1);let s=_n();return this.Tr.forEachInRange([n,r],o=>{s=s.add(o.key)}),s}containsKey(i){const t=new Ra(i,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&i.isEqual(n.key)}}class Ra{constructor(i,t){this.key=i,this.pr=t}static Ir(i,t){return gi.comparator(i.key,t.key)||ln(i.pr,t.pr)}static Er(i,t){return ln(i.pr,t.pr)||gi.comparator(i.key,t.key)}}class cFt{constructor(i,t){this.indexManager=i,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Pr(Ra.Ir)}checkEmpty(i){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(i,t,n,r){const s=this.yr;this.yr++;const o=new jP(s,t,n,r);this.mutationQueue.push(o);for(const l of r)this.wr=this.wr.add(new Ra(l.key,s)),this.indexManager.addToCollectionParentIndex(i,l.key.path.popLast());return re.resolve(o)}lookupMutationBatch(i,t){return re.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(i,t){const r=this.br(t+1),s=r<0?0:r;return re.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(i){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(i,t){const n=new Ra(t,0),r=new Ra(t,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([n,r],o=>{const l=this.Sr(o.pr);s.push(l)}),re.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(i,t){let n=new Pr(ln);return t.forEach(r=>{const s=new Ra(r,0),o=new Ra(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{n=n.add(l.pr)})}),re.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(i,t){const n=t.path,r=n.length+1;let s=n;gi.isDocumentKey(s)||(s=s.child(""));const o=new Ra(new gi(s),0);let l=new Pr(ln);return this.wr.forEachWhile(w=>{const S=w.key.path;return!!n.isPrefixOf(S)&&(S.length===r&&(l=l.add(w.pr)),!0)},o),re.resolve(this.Dr(l))}Dr(i){const t=[];return i.forEach(n=>{const r=this.Sr(n);null!==r&&t.push(r)}),t}removeMutationBatch(i,t){ki(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return re.forEach(t.mutations,r=>{const s=new Ra(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(i,r.key)}).next(()=>{this.wr=n})}Mn(i){}containsKey(i,t){const n=new Ra(t,0),r=this.wr.firstAfterOrEqual(n);return re.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(i){return re.resolve()}Cr(i,t){return this.br(i)}br(i){return 0===this.mutationQueue.length?0:i-this.mutationQueue[0].batchId}Sr(i){const t=this.br(i);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class dFt{constructor(i){this.vr=i,this.docs=new Yr(gi.comparator),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(i,n.path.popLast())}removeEntry(i){const t=this.docs.get(i);t&&(this.docs=this.docs.remove(i),this.size-=t.size)}getEntry(i,t){const n=this.docs.get(t);return re.resolve(n?n.document.mutableCopy():ts.newInvalidDocument(t))}getEntries(i,t){let n=sl();return t.forEach(r=>{const s=this.docs.get(r);n=n.insert(r,s?s.document.mutableCopy():ts.newInvalidDocument(r))}),re.resolve(n)}getDocumentsMatchingQuery(i,t,n,r){let s=sl();const o=t.path,l=new gi(o.child("")),w=this.docs.getIteratorFrom(l);for(;w.hasNext();){const{key:S,value:{document:M}}=w.getNext();if(!o.isPrefixOf(S.path))break;S.path.length>o.length+1||kP(new Il((e=M).readTime,e.key,-1),n)<=0||(r.has(M.key)||hb(t,M))&&(s=s.insert(M.key,M.mutableCopy()))}var e;return re.resolve(s)}getAllFromCollectionGroup(i,t,n,r){wi()}Fr(i,t){return re.forEach(this.docs,n=>t(n))}newChangeBuffer(i){return new uFt(this)}getSize(i){return re.resolve(this.size)}}class uFt extends Q${constructor(i){super(),this.ar=i}applyChanges(i){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(i,r)):this.ar.removeEntry(n)}),re.waitFor(t)}getFromCache(i,t){return this.ar.getEntry(i,t)}getAllFromCache(i,t){return this.ar.getEntries(i,t)}}class hFt{constructor(i){this.persistence=i,this.Mr=new Su(t=>ym(t),db),this.lastRemoteSnapshotVersion=Fi.min(),this.highestTargetId=0,this.Or=0,this.Nr=new oF,this.targetCount=0,this.Lr=Am.Nn()}forEachTarget(i,t){return this.Mr.forEach((n,r)=>t(r)),re.resolve()}getLastRemoteSnapshotVersion(i){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return re.resolve(this.Or)}allocateTargetId(i){return this.highestTargetId=this.Lr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(i,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),re.resolve()}qn(i){this.Mr.set(i.target,i);const t=i.targetId;t>this.highestTargetId&&(this.Lr=new Am(t),this.highestTargetId=t),i.sequenceNumber>this.Or&&(this.Or=i.sequenceNumber)}addTargetData(i,t){return this.qn(t),this.targetCount+=1,re.resolve()}updateTargetData(i,t){return this.qn(t),re.resolve()}removeTargetData(i,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(i,t,n){let r=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=t&&null===n.get(l.targetId)&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(i,l.targetId)),r++)}),re.waitFor(s).next(()=>r)}getTargetCount(i){return re.resolve(this.targetCount)}getTargetData(i,t){const n=this.Mr.get(t)||null;return re.resolve(n)}addMatchingKeys(i,t,n){return this.Nr.dr(t,n),re.resolve()}removeMatchingKeys(i,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(i,o))}),re.waitFor(s)}removeMatchingKeysForTargetId(i,t){return this.Nr.Vr(t),re.resolve()}getMatchingKeysForTargetId(i,t){const n=this.Nr.gr(t);return re.resolve(n)}containsKey(i,t){return re.resolve(this.Nr.containsKey(t))}}class lF{constructor(i,t){this.Br={},this.overlays={},this.kr=new kl(0),this.qr=!1,this.qr=!0,this.referenceDelegate=i(this),this.Qr=new hFt(this),this.indexManager=new JPt,this.remoteDocumentCache=new dFt(n=>this.referenceDelegate.Kr(n)),this.serializer=new E$(t),this.$r=new oFt(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let t=this.overlays[i.toKey()];return t||(t=new lFt,this.overlays[i.toKey()]=t),t}getMutationQueue(i,t){let n=this.Br[i.toKey()];return n||(n=new cFt(t,this.referenceDelegate),this.Br[i.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(i,t,n){Be("MemoryPersistence","Starting transaction:",i);const r=new fFt(this.kr.next());return this.referenceDelegate.Ur(),n(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(i,t){return re.or(Object.values(this.Br).map(n=>()=>n.containsKey(i,t)))}}class fFt extends qX{constructor(i){super(),this.currentSequenceNumber=i}}class RS{constructor(i){this.persistence=i,this.zr=new oF,this.jr=null}static Hr(i){return new RS(i)}get Jr(){if(this.jr)return this.jr;throw wi()}addReference(i,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),re.resolve()}removeReference(i,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),re.resolve()}markPotentiallyOrphaned(i,t){return this.Jr.add(t.toString()),re.resolve()}removeTarget(i,t){this.zr.Vr(t.targetId).forEach(r=>this.Jr.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(i,t.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>n.removeTargetData(i,t))}Ur(){this.jr=new Set}Wr(i){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Jr,n=>{const r=gi.fromPath(n);return this.Yr(i,r).next(s=>{s||t.removeEntry(r,Fi.min())})}).next(()=>(this.jr=null,t.apply(i)))}updateLimboDocument(i,t){return this.Yr(i,t).next(n=>{n?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(i){return 0}Yr(i,t){return re.or([()=>re.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(i,t),()=>this.persistence.Gr(i,t)])}}class hF{constructor(i,t,n,r){this.targetId=i,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(i,t){let n=_n(),r=_n();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new hF(i,t.fromCache,n,r)}}class pFt{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(i){this._documentReadCount+=i}}class iQ{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function pX(){return!function okt(){var e;const i=null===(e=eS())||void 0===e?void 0:e.forceEnvironment;if("node"===i)return!0;if("browser"===i)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function tY(e){const i=e.match(/Android ([\d.]+)/i),t=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(function Vh(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())>0?6:4}initialize(i,t){this.zi=i,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(i,t,n,r){const s={result:null};return this.ji(i,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(i,t,r,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new pFt;return this.Ji(i,t,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(i,t,o,l.size)})}).next(()=>s.result)}Yi(i,t,n,r){return n.documentReadCount<this.Wi?(pv()<=Zn.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",Cv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),re.resolve()):(pv()<=Zn.DEBUG&&Be("QueryEngine","Query:",Cv(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(pv()<=Zn.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",Cv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(i,co(t))):re.resolve())}ji(i,t){if(FY(t))return re.resolve(null);let n=co(t);return this.indexManager.getIndexType(i,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=xS(t,null,"F"),n=co(t)),this.indexManager.getDocumentsMatchingTarget(i,n).next(s=>{const o=_n(...s);return this.zi.getDocuments(i,o).next(l=>this.indexManager.getMinOffset(i,n).next(w=>{const S=this.Zi(t,l);return this.Xi(t,S,o,w.readTime)?this.ji(i,xS(t,null,"F")):this.es(i,S,t,w)}))})))}Hi(i,t,n,r){return FY(t)||r.isEqual(Fi.min())?re.resolve(null):this.zi.getDocuments(i,n).next(s=>{const o=this.Zi(t,s);return this.Xi(t,o,n,r)?re.resolve(null):(pv()<=Zn.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Cv(t)),this.es(i,o,t,function KX(e,i){const t=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,r=Fi.fromTimestamp(1e9===n?new ls(t+1,0):new ls(t,n));return new Il(r,gi.empty(),i)}(r,-1)).next(l=>l))})}Zi(i,t){let n=new Pr(VY(i));return t.forEach((r,s)=>{hb(i,s)&&(n=n.add(s))}),n}Xi(i,t,n,r){if(null===i.limit)return!1;if(n.size!==t.size)return!0;const s="F"===i.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(i,t,n){return pv()<=Zn.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",Cv(t)),this.zi.getDocumentsMatchingQuery(i,t,Il.min(),n)}es(i,t,n,r){return this.zi.getDocumentsMatchingQuery(i,n,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class gFt{constructor(i,t,n,r){this.persistence=i,this.ts=t,this.serializer=r,this.ns=new Yr(ln),this.rs=new Su(s=>ym(s),db),this.ss=new Map,this.os=i.getRemoteDocumentCache(),this.Qr=i.getTargetCache(),this.$r=i.getBundleCache(),this._s(n)}_s(i){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(i),this.indexManager=this.persistence.getIndexManager(i),this.mutationQueue=this.persistence.getMutationQueue(i,this.indexManager),this.localDocuments=new tQ(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>i.collect(t,this.ns))}}function rQ(e,i){return fF.apply(this,arguments)}function fF(){return(fF=Mt(function*(e,i){const t=hi(e);return yield t.persistence.runTransaction("Handle user change","readonly",n=>{let r;return t.mutationQueue.getAllMutationBatches(n).next(s=>(r=s,t._s(i),t.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],l=[];let w=_n();for(const S of r){o.push(S.batchId);for(const M of S.mutations)w=w.add(M.key)}for(const S of s){l.push(S.batchId);for(const M of S.mutations)w=w.add(M.key)}return t.localDocuments.getDocuments(n,w).next(S=>({us:S,removedBatchIds:o,addedBatchIds:l}))})})})).apply(this,arguments)}function sQ(e){const i=hi(e);return i.persistence.runTransaction("Get last remote snapshot version","readonly",t=>i.Qr.getLastRemoteSnapshotVersion(t))}function yFt(e,i){const t=hi(e);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===i&&(i=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,i)))}function Lv(e,i,t){return mF.apply(this,arguments)}function mF(){return(mF=Mt(function*(e,i,t){const n=hi(e),r=n.ns.get(i),s=t?"readwrite":"readwrite-primary";try{t||(yield n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Hh(o))throw o;Be("LocalStore",`Failed to update sequence numbers for target ${i}: ${o}`)}n.ns=n.ns.remove(i),n.rs.delete(r.target)})).apply(this,arguments)}function OS(e,i,t){const n=hi(e);let r=Fi.min(),s=_n();return n.persistence.runTransaction("Execute query","readwrite",o=>function(w,S,M){const P=hi(w),O=P.rs.get(M);return void 0!==O?re.resolve(P.ns.get(O)):P.Qr.getTargetData(S,M)}(n,o,co(i)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(o,l.targetId).next(w=>{s=w})}).next(()=>n.ts.getDocumentsMatchingQuery(o,i,t?r:Fi.min(),t?s:_n())).next(l=>(function cQ(e,i,t){let n=e.ss.get(i)||Fi.min();t.forEach((r,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),e.ss.set(i,n)}(n,function BY(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(i),l),{documents:l,hs:s})))}class yF{constructor(){this.activeTargetIds=function HP(){return _Pt}()}As(i){this.activeTargetIds=this.activeTargetIds.add(i)}Rs(i){this.activeTargetIds=this.activeTargetIds.delete(i)}ds(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class hQ{constructor(){this.no=new yF,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,t,n){}addLocalQueryTarget(i){return this.no.As(i),this.ro[i]||"not-current"}updateQueryState(i,t,n){this.ro[i]=t}removeLocalQueryTarget(i){this.no.Rs(i)}isLocalQueryTarget(i){return this.no.activeTargetIds.has(i)}clearQueryState(i){delete this.ro[i]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(i){return this.no.activeTargetIds.has(i)}start(){return this.no=new yF,Promise.resolve()}handleUserChange(i,t,n){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(i){}}class _Ft{io(i){}shutdown(){}}class fQ{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(i){this.uo.push(i)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.uo)i(0)}ao(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.uo)i(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let BS=null;function wF(){return null===BS?BS=268435456+Math.round(2147483648*Math.random()):BS++,"0x"+BS.toString(16)}const TFt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CFt{constructor(i){this.lo=i.lo,this.ho=i.ho}Po(i){this.Io=i}To(i){this.Eo=i}Ao(i){this.Ro=i}onMessage(i){this.Vo=i}close(){this.ho()}send(i){this.lo(i)}mo(){this.Io()}fo(){this.Eo()}po(i){this.Ro(i)}yo(i){this.Vo(i)}}const ho="WebChannelConnection";class SFt extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=n+"://"+t.host,this.So=`projects/${r}/databases/${s}`,this.bo="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(t,n,r,s,o){const l=wF(),w=this.vo(t,n.toUriEncodedString());Be("RestConnection",`Sending RPC '${t}' ${l}:`,w,r);const S={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(S,s,o),this.Mo(t,w,S,r).then(M=>(Be("RestConnection",`Received RPC '${t}' ${l}: `,M),M),M=>{throw Ml("RestConnection",`RPC '${t}' ${l} failed with error: `,M,"url: ",w,"request:",r),M})}xo(t,n,r,s,o,l){return this.Co(t,n,r,s,o)}Fo(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+mv,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}vo(t,n){return`${this.wo}/v1/${n}:${TFt[t]}`}terminate(){}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams,this.longPollingOptions=i.longPollingOptions}Mo(i,t,n,r){const s=wF();return new Promise((o,l)=>{const w=new VX;w.setWithCredentials(!0),w.listenOnce(zX.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case oS.NO_ERROR:const M=w.getResponseJson();Be(ho,`XHR for RPC '${i}' ${s} received:`,JSON.stringify(M)),o(M);break;case oS.TIMEOUT:Be(ho,`RPC '${i}' ${s} timed out`),l(new Ve(ge.DEADLINE_EXCEEDED,"Request time out"));break;case oS.HTTP_ERROR:const P=w.getStatus();if(Be(ho,`RPC '${i}' ${s} failed with status:`,P,"response text:",w.getResponseText()),P>0){let O=w.getResponseJson();Array.isArray(O)&&(O=O[0]);const N=O?.error;if(N&&N.status&&N.message){const U=function(W){const Z=W.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(Z)>=0?Z:ge.UNKNOWN}(N.status);l(new Ve(U,N.message))}else l(new Ve(ge.UNKNOWN,"Server responded with status "+w.getStatus()))}else l(new Ve(ge.UNAVAILABLE,"Connection failed."));break;default:wi()}}finally{Be(ho,`RPC '${i}' ${s} completed.`)}});const S=JSON.stringify(r);Be(ho,`RPC '${i}' ${s} sending request:`,r),w.send(t,"POST",S,n,15)})}Oo(i,t,n){const r=wF(),s=[this.wo,"/","google.firestore.v1.Firestore","/",i,"/channel"],o=WX(),l=HX(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},S=this.longPollingOptions.timeoutSeconds;void 0!==S&&(w.longPollingTimeout=Math.round(1e3*S)),this.useFetchStreams&&(w.xmlHttpFactory=new UX({})),this.Fo(w.initMessageHeaders,t,n),w.encodeInitMessageHeaders=!0;const M=s.join("");Be(ho,`Creating RPC '${i}' stream ${r}: ${M}`,w);const P=o.createWebChannel(M,w);let O=!1,N=!1;const U=new CFt({lo:W=>{N?Be(ho,`Not sending because RPC '${i}' stream ${r} is closed:`,W):(O||(Be(ho,`Opening RPC '${i}' stream ${r} transport.`),P.open(),O=!0),Be(ho,`RPC '${i}' stream ${r} sending:`,W),P.send(W))},ho:()=>P.close()}),j=(W,Z,rt)=>{W.listen(Z,st=>{try{rt(st)}catch(vt){setTimeout(()=>{throw vt},0)}})};return j(P,tb.EventType.OPEN,()=>{N||(Be(ho,`RPC '${i}' stream ${r} transport opened.`),U.mo())}),j(P,tb.EventType.CLOSE,()=>{N||(N=!0,Be(ho,`RPC '${i}' stream ${r} transport closed`),U.po())}),j(P,tb.EventType.ERROR,W=>{N||(N=!0,Ml(ho,`RPC '${i}' stream ${r} transport errored:`,W),U.po(new Ve(ge.UNAVAILABLE,"The operation could not be completed")))}),j(P,tb.EventType.MESSAGE,W=>{var Z;if(!N){const rt=W.data[0];ki(!!rt);const vt=rt.error||(null===(Z=rt[0])||void 0===Z?void 0:Z.error);if(vt){Be(ho,`RPC '${i}' stream ${r} received error:`,vt);const _t=vt.status;let kt=function(pt){const bt=qs[pt];if(void 0!==bt)return r$(bt)}(_t),ft=vt.message;void 0===kt&&(kt=ge.INTERNAL,ft="Unknown error status: "+_t+" with message "+vt.message),N=!0,U.po(new Ve(kt,ft)),P.close()}else Be(ho,`RPC '${i}' stream ${r} received:`,rt),U.yo(rt)}}),j(l,GX.STAT_EVENT,W=>{W.stat===DP.PROXY?Be(ho,`RPC '${i}' stream ${r} detected buffering proxy`):W.stat===DP.NOPROXY&&Be(ho,`RPC '${i}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{U.fo()},0),U}}function VS(){return typeof document<"u"?document:null}function Mb(e){return new OPt(e,!0)}class _F{constructor(i,t,n=1e3,r=1.5,s=6e4){this.oi=i,this.timerId=t,this.No=n,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(i){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-n);r>0&&Be("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),i())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class pQ{constructor(i,t,n,r,s,o,l,w){this.oi=i,this.Go=n,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=w,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new _F(i,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var i=this;return Mt(function*(){i.Zo()&&(yield i.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(i){this.s_(),this.stream.send(i)}r_(){var i=this;return Mt(function*(){if(i.Xo())return i.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(i,t){var n=this;return Mt(function*(){n.s_(),n.o_(),n.Yo.cancel(),n.jo++,4!==i?n.Yo.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(Bs(t.toString()),Bs("Using maximum backoff delay to prevent overloading the backend."),n.Yo.Ko()):t&&t.code===ge.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.__(),n.stream.close(),n.stream=null),n.state=i,yield n.listener.Ao(t)})()}__(){}auth(){this.state=1;const i=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.jo===t&&this.u_(n,r)},n=>{i(()=>{const r=new Ve(ge.UNKNOWN,"Fetching auth token failed: "+n.message);return this.c_(r)})})}u_(i,t){const n=this.a_(this.jo);this.stream=this.l_(i,t),this.stream.Po(()=>{n(()=>this.listener.Po())}),this.stream.To(()=>{n(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{n(()=>this.c_(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}e_(){var i=this;this.state=5,this.Yo.$o(Mt(function*(){i.state=0,i.start()}))}c_(i){return Be("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}a_(i){return t=>{this.oi.enqueueAndForget(()=>this.jo===i?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EFt extends pQ{constructor(i,t,n,r,s,o){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}l_(i,t){return this.connection.Oo("Listen",i,t)}onMessage(i){this.Yo.reset();const t=function BPt(e,i){let t;if("targetChange"in i){const n="NO_CHANGE"===(S=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===S?1:"REMOVE"===S?2:"CURRENT"===S?3:"RESET"===S?4:wi(),r=i.targetChange.targetIds||[],s=function(S,M){return S.useProto3Json?(ki(void 0===M||"string"==typeof M),va.fromBase64String(M||"")):(ki(void 0===M||M instanceof Buffer||M instanceof Uint8Array),va.fromUint8Array(M||new Uint8Array))}(e,i.targetChange.resumeToken),o=i.targetChange.cause,l=o&&function(S){const M=void 0===S.code?ge.UNKNOWN:r$(S.code);return new Ve(M,S.message||"")}(o);t=new c$(n,r,s,l||null)}else if("documentChange"in i){const n=i.documentChange,r=wd(e,n.document.name),s=Vs(n.document.updateTime),o=n.document.createTime?Vs(n.document.createTime):Fi.min(),l=new ja({mapValue:{fields:n.document.fields}}),w=ts.newFoundDocument(r,s,o,l);t=new TS(n.targetIds||[],n.removedTargetIds||[],w.key,w)}else if("documentDelete"in i){const n=i.documentDelete,r=wd(e,n.document),s=n.readTime?Vs(n.readTime):Fi.min(),o=ts.newNoDocument(r,s);t=new TS([],n.removedTargetIds||[],o.key,o)}else if("documentRemove"in i){const n=i.documentRemove,r=wd(e,n.document);t=new TS([],n.removedTargetIds||[],r,null)}else{if(!("filter"in i))return wi();{const n=i.filter,{count:r=0,unchangedNames:s}=n,o=new MPt(r,s);t=new l$(n.targetId,o)}}var S;return t}(this.serializer,i),n=function(s){if(!("targetChange"in s))return Fi.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Fi.min():o.readTime?Vs(o.readTime):Fi.min()}(i);return this.listener.h_(t,n)}P_(i){const t={};t.database=JP(this.serializer),t.addTarget=function(s,o){let l;const w=o.target;if(l=gS(w)?{documents:b$(s,w)}:{query:CS(s,w)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=f$(s,o.resumeToken);const S=QP(s,o.expectedCount);null!==S&&(l.expectedCount=S)}else if(o.snapshotVersion.compareTo(Fi.min())>0){l.readTime=Mv(s,o.snapshotVersion.toTimestamp());const S=QP(s,o.expectedCount);null!==S&&(l.expectedCount=S)}return l}(this.serializer,i);const n=function UPt(e,i){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wi()}}(i.purpose);return null==t?null:{"goog-listen-tags":t}}(0,i);n&&(t.labels=n),this.i_(t)}I_(i){const t={};t.database=JP(this.serializer),t.removeTarget=i,this.i_(t)}}class AFt extends pQ{constructor(i,t,n,r,s,o){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(i,t){return this.connection.Oo("Write",i,t)}onMessage(i){if(ki(!!i.streamToken),this.lastStreamToken=i.streamToken,this.T_){this.Yo.reset();const t=function VPt(e,i){return e&&e.length>0?(ki(void 0!==i),e.map(t=>function(r,s){let o=Vs(r.updateTime?r.updateTime:s);return o.isEqual(Fi.min())&&(o=Vs(s)),new EPt(o,r.transformResults||[])}(t,i))):[]}(i.writeResults,i.commitTime),n=Vs(i.commitTime);return this.listener.A_(n,t)}return ki(!i.writeResults||0===i.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const i={};i.database=JP(this.serializer),this.i_(i)}d_(i){const t={streamToken:this.lastStreamToken,writes:i.map(n=>function wb(e,i){let t;if(i instanceof Av)t={update:x$(e,i.key,i.value)};else if(i instanceof Dv)t={delete:bb(e,i.key)};else if(i instanceof Eu)t={update:x$(e,i.key,i.data),updateMask:WPt(i.fieldMask)};else{if(!(i instanceof WP))return wi();t={verify:bb(e,i.key)}}return i.fieldTransforms.length>0&&(t.updateTransforms=i.fieldTransforms.map(n=>function(s,o){const l=o.transform;if(l instanceof Sv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof bm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof wm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ev)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw wi()}(0,n))),i.precondition.isNone||(t.currentDocument=void 0!==(s=i.precondition).updateTime?{updateTime:LPt(e,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:wi()),t;var s}(this.serializer,n))};this.i_(t)}}class DFt extends class{}{constructor(i,t,n,r){super(),this.authCredentials=i,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new Ve(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Co(i,t,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(i,ZP(t,n),r,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ve(ge.UNKNOWN,s.toString())})}xo(i,t,n,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.xo(i,ZP(t,n),r,o,l,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ve(ge.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class MFt{constructor(i,t){this.asyncQueue=i,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(i){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.S_("Offline")))}set(i){this.C_(),this.g_=0,"Online"===i&&(this.y_=!1),this.S_(i)}S_(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}b_(i){const t=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Bs(t),this.y_=!1):Be("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class IFt{constructor(i,t,n,r,s){var o=this;this.localStore=i,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(l=>{n.enqueueAndForget(Mt(function*(){var w;qh(o)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(w=Mt(function*(M){const P=hi(M);P.M_.add(4),yield Nv(P),P.N_.set("Unknown"),P.M_.delete(4),yield Ib(P)}),function S(M){return w.apply(this,arguments)})(o))}))}),this.N_=new MFt(n,r)}}function Ib(e){return TF.apply(this,arguments)}function TF(){return(TF=Mt(function*(e){if(qh(e))for(const i of e.x_)yield i(!0)})).apply(this,arguments)}function Nv(e){return CF.apply(this,arguments)}function CF(){return(CF=Mt(function*(e){for(const i of e.x_)yield i(!1)})).apply(this,arguments)}function US(e,i){const t=hi(e);t.F_.has(i.targetId)||(t.F_.set(i.targetId,i),AF(t)?EF(t):Uv(t).Xo()&&SF(t,i))}function Bv(e,i){const t=hi(e),n=Uv(t);t.F_.delete(i),n.Xo()&&gQ(t,i),0===t.F_.size&&(n.Xo()?n.n_():qh(t)&&t.N_.set("Unknown"))}function SF(e,i){if(e.L_.xe(i.targetId),i.resumeToken.approximateByteSize()>0||i.snapshotVersion.compareTo(Fi.min())>0){const t=e.remoteSyncer.getRemoteKeysForTarget(i.targetId).size;i=i.withExpectedCount(t)}Uv(e).P_(i)}function gQ(e,i){e.L_.xe(i),Uv(e).I_(i)}function EF(e){e.L_=new kPt({getRemoteKeysForTarget:i=>e.remoteSyncer.getRemoteKeysForTarget(i),ot:i=>e.F_.get(i)||null,tt:()=>e.datastore.serializer.databaseId}),Uv(e).start(),e.N_.w_()}function AF(e){return qh(e)&&!Uv(e).Zo()&&e.F_.size>0}function qh(e){return 0===hi(e).M_.size}function vQ(e){e.L_=void 0}function kFt(e){return DF.apply(this,arguments)}function DF(){return(DF=Mt(function*(e){e.N_.set("Online")})).apply(this,arguments)}function RFt(e){return MF.apply(this,arguments)}function MF(){return(MF=Mt(function*(e){e.F_.forEach((i,t)=>{SF(e,i)})})).apply(this,arguments)}function PFt(e,i){return IF.apply(this,arguments)}function IF(){return(IF=Mt(function*(e,i){vQ(e),AF(e)?(e.N_.D_(i),EF(e)):e.N_.set("Unknown")})).apply(this,arguments)}function FFt(e,i,t){return kF.apply(this,arguments)}function kF(){return kF=Mt(function*(e,i,t){if(e.N_.set("Online"),i instanceof c$&&2===i.state&&i.cause)try{yield(n=Mt(function*(s,o){const l=o.cause;for(const w of o.targetIds)s.F_.has(w)&&(yield s.remoteSyncer.rejectListen(w,l),s.F_.delete(w),s.L_.removeTarget(w))}),function r(s,o){return n.apply(this,arguments)})(e,i)}catch(n){Be("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),n),yield zS(e,n)}else if(i instanceof TS?e.L_.Ke(i):i instanceof l$?e.L_.He(i):e.L_.We(i),!t.isEqual(Fi.min()))try{const n=yield sQ(e.localStore);t.compareTo(n)>=0&&(yield function(s,o){const l=s.L_.rt(o);return l.targetChanges.forEach((w,S)=>{if(w.resumeToken.approximateByteSize()>0){const M=s.F_.get(S);M&&s.F_.set(S,M.withResumeToken(w.resumeToken,o))}}),l.targetMismatches.forEach((w,S)=>{const M=s.F_.get(w);if(!M)return;s.F_.set(w,M.withResumeToken(va.EMPTY_BYTE_STRING,M.snapshotVersion)),gQ(s,w);const P=new Au(M.target,w,S,M.sequenceNumber);SF(s,P)}),s.remoteSyncer.applyRemoteEvent(l)}(e,t))}catch(n){Be("RemoteStore","Failed to raise snapshot:",n),yield zS(e,n)}var n}),kF.apply(this,arguments)}function zS(e,i,t){return RF.apply(this,arguments)}function RF(){return(RF=Mt(function*(e,i,t){if(!Hh(i))throw i;e.M_.add(1),yield Nv(e),e.N_.set("Offline"),t||(t=()=>sQ(e.localStore)),e.asyncQueue.enqueueRetryable(Mt(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),e.M_.delete(1),yield Ib(e)}))})).apply(this,arguments)}function xQ(e,i){return i().catch(t=>zS(e,t,i))}function Vv(e){return PF.apply(this,arguments)}function PF(){return(PF=Mt(function*(e){const i=hi(e),t=tf(i);let n=i.v_.length>0?i.v_[i.v_.length-1].batchId:-1;for(;OFt(i);)try{const r=yield yFt(i.localStore,n);if(null===r){0===i.v_.length&&t.n_();break}n=r.batchId,LFt(i,r)}catch(r){yield zS(i,r)}yQ(i)&&bQ(i)})).apply(this,arguments)}function OFt(e){return qh(e)&&e.v_.length<10}function LFt(e,i){e.v_.push(i);const t=tf(e);t.Xo()&&t.E_&&t.d_(i.mutations)}function yQ(e){return qh(e)&&!tf(e).Zo()&&e.v_.length>0}function bQ(e){tf(e).start()}function NFt(e){return FF.apply(this,arguments)}function FF(){return(FF=Mt(function*(e){tf(e).V_()})).apply(this,arguments)}function BFt(e){return OF.apply(this,arguments)}function OF(){return(OF=Mt(function*(e){const i=tf(e);for(const t of e.v_)i.d_(t.mutations)})).apply(this,arguments)}function VFt(e,i,t){return LF.apply(this,arguments)}function LF(){return(LF=Mt(function*(e,i,t){const n=e.v_.shift(),r=XP.from(n,i,t);yield xQ(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),yield Vv(e)})).apply(this,arguments)}function UFt(e,i){return NF.apply(this,arguments)}function NF(){return NF=Mt(function*(e,i){var t;i&&tf(e).E_&&(yield(t=Mt(function*(r,s){if(function n$(e){switch(e){default:return wi();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}(l=s.code)&&l!==ge.ABORTED){const o=r.v_.shift();tf(r).t_(),yield xQ(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Vv(r)}var l}),function n(r,s){return t.apply(this,arguments)})(e,i)),yQ(e)&&bQ(e)}),NF.apply(this,arguments)}function wQ(e,i){return BF.apply(this,arguments)}function BF(){return(BF=Mt(function*(e,i){const t=hi(e);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const n=qh(t);t.M_.add(3),yield Nv(t),n&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(i),t.M_.delete(3),yield Ib(t)})).apply(this,arguments)}function VF(e,i){return UF.apply(this,arguments)}function UF(){return(UF=Mt(function*(e,i){const t=hi(e);i?(t.M_.delete(2),yield Ib(t)):i||(t.M_.add(2),yield Nv(t),t.N_.set("Unknown"))})).apply(this,arguments)}function Uv(e){return e.B_||(e.B_=function(t,n,r){const s=hi(t);return s.f_(),new EFt(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Po:kFt.bind(null,e),To:RFt.bind(null,e),Ao:PFt.bind(null,e),h_:FFt.bind(null,e)}),e.x_.push(function(){var i=Mt(function*(t){t?(e.B_.t_(),AF(e)?EF(e):e.N_.set("Unknown")):(yield e.B_.stop(),vQ(e))});return function(t){return i.apply(this,arguments)}}())),e.B_}function tf(e){return e.k_||(e.k_=function(t,n,r){const s=hi(t);return s.f_(),new AFt(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:NFt.bind(null,e),Ao:UFt.bind(null,e),R_:BFt.bind(null,e),A_:VFt.bind(null,e)}),e.x_.push(function(){var i=Mt(function*(t){t?(e.k_.t_(),yield Vv(e)):(yield e.k_.stop(),e.v_.length>0&&(Be("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))});return function(t){return i.apply(this,arguments)}}())),e.k_}class zF{constructor(i,t,n,r,s){this.asyncQueue=i,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(i,t,n,r,s){const o=Date.now()+n,l=new zF(i,t,o,r,s);return l.start(n),l}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(ge.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zv(e,i){if(Bs("AsyncQueue",`${i}: ${e}`),Hh(e))return new Ve(ge.UNAVAILABLE,`${i}: ${e}`);throw e}class Gv{constructor(i){this.comparator=i?(t,n)=>i(t,n)||gi.comparator(t.key,n.key):(t,n)=>gi.comparator(t.key,n.key),this.keyedMap=fb(),this.sortedSet=new Yr(this.comparator)}static emptySet(i){return new Gv(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const t=this.keyedMap.get(i);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((t,n)=>(i(t),!1))}add(i){const t=this.delete(i.key);return t.copy(t.keyedMap.insert(i.key,i),t.sortedSet.insert(i,null))}delete(i){const t=this.get(i);return t?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(t)):this}isEqual(i){if(!(i instanceof Gv)||this.size!==i.size)return!1;const t=this.sortedSet.getIterator(),n=i.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const i=[];return this.forEach(t=>{i.push(t.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,t){const n=new Gv;return n.comparator=this.comparator,n.keyedMap=i,n.sortedSet=t,n}}class _Q{constructor(){this.q_=new Yr(gi.comparator)}track(i){const t=i.doc.key,n=this.q_.get(t);n?0!==i.type&&3===n.type?this.q_=this.q_.insert(t,i):3===i.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:i.doc}):2===i.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:i.doc}):2===i.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:i.doc}):1===i.type&&0===n.type?this.q_=this.q_.remove(t):1===i.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===i.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:i.doc}):wi():this.q_=this.q_.insert(t,i)}Q_(){const i=[];return this.q_.inorderTraversal((t,n)=>{i.push(n)}),i}}class Hv{constructor(i,t,n,r,s,o,l,w,S){this.query=i,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=w,this.hasCachedResults=S}static fromInitialDocuments(i,t,n,r,s){const o=[];return t.forEach(l=>{o.push({type:0,doc:l})}),new Hv(i,t,Gv.emptySet(t),o,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.hasCachedResults===i.hasCachedResults&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&ub(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const t=this.docChanges,n=i.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class zFt{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(i=>i.G_())}}class GFt{constructor(){this.queries=new Su(i=>NY(i),ub),this.onlineState="Unknown",this.z_=new Set}}function HF(){return(HF=Mt(function*(e,i){const t=hi(e);let n=3;const r=i.query;let s=t.queries.get(r);s?!s.W_()&&i.G_()&&(n=2):(s=new zFt,n=i.G_()?0:1);try{switch(n){case 0:s.K_=yield t.onListen(r,!0);break;case 1:s.K_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){const l=zv(o,`Initialization of query '${Cv(i.query)}' failed`);return void i.onError(l)}t.queries.set(r,s),s.U_.push(i),i.j_(t.onlineState),s.K_&&i.H_(s.K_)&&XF(t)})).apply(this,arguments)}function jF(){return(jF=Mt(function*(e,i){const t=hi(e),n=i.query;let r=3;const s=t.queries.get(n);if(s){const o=s.U_.indexOf(i);o>=0&&(s.U_.splice(o,1),0===s.U_.length?r=i.G_()?0:1:!s.W_()&&i.G_()&&(r=2))}switch(r){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}})).apply(this,arguments)}function HFt(e,i){const t=hi(e);let n=!1;for(const r of i){const o=t.queries.get(r.query);if(o){for(const l of o.U_)l.H_(r)&&(n=!0);o.K_=r}}n&&XF(t)}function WFt(e,i,t){const n=hi(e),r=n.queries.get(i);if(r)for(const s of r.U_)s.onError(t);n.queries.delete(i)}function XF(e){e.z_.forEach(i=>{i.next()})}var YF,TQ;(TQ=YF||(YF={})).J_="default",TQ.Cache="cache";class $F{constructor(i,t,n){this.query=i,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(i){if(!this.options.includeMetadataChanges){const n=[];for(const r of i.docChanges)3!==r.type&&n.push(r);i=new Hv(i.query,i.docs,i.oldDocs,n,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0,i.hasCachedResults)}let t=!1;return this.Z_?this.ea(i)&&(this.Y_.next(i),t=!0):this.ta(i,this.onlineState)&&(this.na(i),t=!0),this.X_=i,t}onError(i){this.Y_.error(i)}j_(i){this.onlineState=i;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,i)&&(this.na(this.X_),t=!0),t}ta(i,t){return!i.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==t))&&(!i.docs.isEmpty()||i.hasCachedResults||"Offline"===t)}ea(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(i){i=Hv.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache,i.hasCachedResults),this.Z_=!0,this.Y_.next(i)}G_(){return this.options.source!==YF.Cache}}class EQ{constructor(i){this.key=i}}class AQ{constructor(i){this.key=i}}class DQ{constructor(i,t){this.query=i,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=_n(),this.mutatedKeys=_n(),this.Ia=VY(i),this.Ta=new Gv(this.Ia)}get Ea(){return this.la}da(i,t){const n=t?t.Aa:new _Q,r=t?t.Ta:this.Ta;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,l=!1;const w="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,S="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(i.inorderTraversal((M,P)=>{const O=r.get(M),N=hb(this.query,P)?P:null,U=!!O&&this.mutatedKeys.has(O.key),j=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let W=!1;O&&N?O.data.isEqual(N.data)?U!==j&&(n.track({type:3,doc:N}),W=!0):this.Ra(O,N)||(n.track({type:2,doc:N}),W=!0,(w&&this.Ia(N,w)>0||S&&this.Ia(N,S)<0)&&(l=!0)):!O&&N?(n.track({type:0,doc:N}),W=!0):O&&!N&&(n.track({type:1,doc:O}),W=!0,(w||S)&&(l=!0)),W&&(N?(o=o.add(N),s=j?s.add(M):s.delete(M)):(o=o.delete(M),s=s.delete(M)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const M="F"===this.query.limitType?o.last():o.first();o=o.delete(M.key),s=s.delete(M.key),n.track({type:1,doc:M})}return{Ta:o,Aa:n,Xi:l,mutatedKeys:s}}Ra(i,t){return i.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(i,t,n,r){const s=this.Ta;this.Ta=i.Ta,this.mutatedKeys=i.mutatedKeys;const o=i.Aa.Q_();o.sort((M,P)=>function(N,U){const j=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wi()}};return j(N)-j(U)}(M.type,P.type)||this.Ia(M.doc,P.doc)),this.Va(n),r=null!=r&&r;const l=t&&!r?this.ma():[],w=0===this.Pa.size&&this.current&&!r?1:0,S=w!==this.ha;return this.ha=w,0!==o.length||S?{snapshot:new Hv(this.query,i.Ta,s,o,i.mutatedKeys,0===w,S,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new _Q,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(i){return!this.la.has(i)&&!!this.Ta.has(i)&&!this.Ta.get(i).hasLocalMutations}Va(i){i&&(i.addedDocuments.forEach(t=>this.la=this.la.add(t)),i.modifiedDocuments.forEach(t=>{}),i.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=i.current)}ma(){if(!this.current)return[];const i=this.Pa;this.Pa=_n(),this.Ta.forEach(n=>{this.ga(n.key)&&(this.Pa=this.Pa.add(n.key))});const t=[];return i.forEach(n=>{this.Pa.has(n)||t.push(new AQ(n))}),this.Pa.forEach(n=>{i.has(n)||t.push(new EQ(n))}),t}pa(i){this.la=i.hs,this.Pa=_n();const t=this.da(i.documents);return this.applyChanges(t,!0)}ya(){return Hv.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class YFt{constructor(i,t,n){this.query=i,this.targetId=t,this.view=n}}class $Ft{constructor(i){this.key=i,this.wa=!1}}class QFt{constructor(i,t,n,r,s,o){this.localStore=i,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Su(l=>NY(l),ub),this.Da=new Map,this.Ca=new Set,this.va=new Yr(gi.comparator),this.Fa=new Map,this.Ma=new oF,this.xa={},this.Oa=new Map,this.Na=Am.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function KFt(e,i){return QF.apply(this,arguments)}function QF(){return(QF=Mt(function*(e,i,t=!0){const n=GS(e);let r;const s=n.ba.get(i);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield MQ(n,i,t,!0),r})).apply(this,arguments)}function ZFt(e,i){return KF.apply(this,arguments)}function KF(){return(KF=Mt(function*(e,i){const t=GS(e);yield MQ(t,i,!0,!1)})).apply(this,arguments)}function MQ(e,i,t,n){return ZF.apply(this,arguments)}function ZF(){return(ZF=Mt(function*(e,i,t,n){const r=yield function Ov(e,i){const t=hi(e);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return t.Qr.getTargetData(n,i).next(s=>s?(r=s,re.resolve(r)):t.Qr.allocateTargetId(n).next(o=>(r=new Au(i,o,"TargetPurposeListen",n.currentSequenceNumber),t.Qr.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=t.ns.get(n.targetId);return(null===r||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ns=t.ns.insert(n.targetId,n),t.rs.set(i,n.targetId)),n})}(e.localStore,co(i)),s=r.targetId,o=t?e.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return n&&(l=yield function JF(e,i,t,n,r){return qF.apply(this,arguments)}(e,i,s,"current"===o,r.resumeToken)),e.isPrimaryClient&&t&&US(e.remoteStore,r),l})).apply(this,arguments)}function qF(){return qF=Mt(function*(e,i,t,n,r){e.Ba=(P,O,N)=>{return(U=Mt(function*(W,Z,rt,st){let vt=Z.view.da(rt);vt.Xi&&(vt=yield OS(W.localStore,Z.query,!1).then(({documents:dt})=>Z.view.da(dt,vt)));const _t=st&&st.targetChanges.get(Z.targetId),kt=st&&null!=st.targetMismatches.get(Z.targetId),ft=Z.view.applyChanges(vt,W.isPrimaryClient,_t,kt);return dO(W,Z.targetId,ft.fa),ft.snapshot}),function j(W,Z,rt,st){return U.apply(this,arguments)})(e,P,O,N);var U};const s=yield OS(e.localStore,i,!0),o=new DQ(i,s.hs),l=o.da(s.documents),w=yb.createSynthesizedTargetChangeForCurrentChange(t,n&&"Offline"!==e.onlineState,r),S=o.applyChanges(l,e.isPrimaryClient,w);dO(e,t,S.fa);const M=new YFt(i,t,o);return e.ba.set(i,M),e.Da.has(t)?e.Da.get(t).push(i):e.Da.set(t,[i]),S.snapshot}),qF.apply(this,arguments)}function JFt(e,i,t){return tO.apply(this,arguments)}function tO(){return(tO=Mt(function*(e,i,t){const n=hi(e),r=n.ba.get(i),s=n.Da.get(r.targetId);if(s.length>1)return n.Da.set(r.targetId,s.filter(o=>!ub(o,i))),void n.ba.delete(i);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Lv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),t&&Bv(n.remoteStore,r.targetId),Wv(n,r.targetId)}).catch(Gh))):(Wv(n,r.targetId),yield Lv(n.localStore,r.targetId,!0))})).apply(this,arguments)}function qFt(e,i){return eO.apply(this,arguments)}function eO(){return(eO=Mt(function*(e,i){const t=hi(e),n=t.ba.get(i),r=t.Da.get(n.targetId);t.isPrimaryClient&&1===r.length&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Bv(t.remoteStore,n.targetId))})).apply(this,arguments)}function iO(){return(iO=Mt(function*(e,i,t){const n=function wO(e){const i=hi(e);return i.remoteStore.remoteSyncer.applySuccessfulWrite=iOt.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=nOt.bind(null,i),i}(e);try{const r=yield function(o,l){const w=hi(o),S=ls.now(),M=l.reduce((N,U)=>N.add(U.key),_n());let P,O;return w.persistence.runTransaction("Locally write mutations","readwrite",N=>{let U=sl(),j=_n();return w.os.getEntries(N,M).next(W=>{U=W,U.forEach((Z,rt)=>{rt.isValidDocument()||(j=j.add(Z))})}).next(()=>w.localDocuments.getOverlayedDocuments(N,U)).next(W=>{P=W;const Z=[];for(const rt of l){const st=DPt(rt,P.get(rt.key).overlayedDocument);null!=st&&Z.push(new Eu(rt.key,st,wY(st.value.mapValue),ds.exists(!0)))}return w.mutationQueue.addMutationBatch(N,S,Z,l)}).next(W=>{O=W;const Z=W.applyToLocalDocumentSet(P,j);return w.documentOverlayCache.saveOverlays(N,W.batchId,Z)})}).then(()=>({batchId:O.batchId,changes:zY(P)}))}(n.localStore,i);n.sharedClientState.addPendingMutation(r.batchId),function(o,l,w){let S=o.xa[o.currentUser.toKey()];S||(S=new Yr(ln)),S=S.insert(l,w),o.xa[o.currentUser.toKey()]=S}(n,r.batchId,t),yield Du(n,r.changes),yield Vv(n.remoteStore)}catch(r){const s=zv(r,"Failed to persist write");t.reject(s)}})).apply(this,arguments)}function IQ(e,i){return nO.apply(this,arguments)}function nO(){return(nO=Mt(function*(e,i){const t=hi(e);try{const n=yield function xFt(e,i){const t=hi(e),n=i.snapshotVersion;let r=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.os.newChangeBuffer({trackRemovals:!0});r=t.ns;const l=[];i.targetChanges.forEach((M,P)=>{const O=r.get(P);if(!O)return;l.push(t.Qr.removeMatchingKeys(s,M.removedDocuments,P).next(()=>t.Qr.addMatchingKeys(s,M.addedDocuments,P)));let N=O.withSequenceNumber(s.currentSequenceNumber);var j,W,Z;null!==i.targetMismatches.get(P)?N=N.withResumeToken(va.EMPTY_BYTE_STRING,Fi.min()).withLastLimboFreeSnapshotVersion(Fi.min()):M.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(M.resumeToken,n)),r=r.insert(P,N),W=N,Z=M,(0===(j=O).resumeToken.approximateByteSize()||W.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0)&&l.push(t.Qr.updateTargetData(s,N))});let w=sl(),S=_n();if(i.documentUpdates.forEach(M=>{i.resolvedLimboDocuments.has(M)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,M))}),l.push(function aQ(e,i,t){let n=_n(),r=_n();return t.forEach(s=>n=n.add(s)),i.getEntries(e,n).next(s=>{let o=sl();return t.forEach((l,w)=>{const S=s.get(l);w.isFoundDocument()!==S.isFoundDocument()&&(r=r.add(l)),w.isNoDocument()&&w.version.isEqual(Fi.min())?(i.removeEntry(l,w.readTime),o=o.insert(l,w)):!S.isValidDocument()||w.version.compareTo(S.version)>0||0===w.version.compareTo(S.version)&&S.hasPendingWrites?(i.addEntry(w),o=o.insert(l,w)):Be("LocalStore","Ignoring outdated watch update for ",l,". Current version:",S.version," Watch version:",w.version)}),{cs:o,ls:r}})}(s,o,i.documentUpdates).next(M=>{w=M.cs,S=M.ls})),!n.isEqual(Fi.min())){const M=t.Qr.getLastRemoteSnapshotVersion(s).next(P=>t.Qr.setTargetsMetadata(s,s.currentSequenceNumber,n));l.push(M)}return re.waitFor(l).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,w,S)).next(()=>w)}).then(s=>(t.ns=r,s))}(t.localStore,i);i.targetChanges.forEach((r,s)=>{const o=t.Fa.get(s);o&&(ki(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?ki(o.wa):r.removedDocuments.size>0&&(ki(o.wa),o.wa=!1))}),yield Du(t,n,i)}catch(n){yield Gh(n)}})).apply(this,arguments)}function kQ(e,i,t){const n=hi(e);if(n.isPrimaryClient&&0===t||!n.isPrimaryClient&&1===t){const r=[];n.ba.forEach((s,o)=>{const l=o.view.j_(i);l.snapshot&&r.push(l.snapshot)}),function(o,l){const w=hi(o);w.onlineState=l;let S=!1;w.queries.forEach((M,P)=>{for(const O of P.U_)O.j_(l)&&(S=!0)}),S&&XF(w)}(n.eventManager,i),r.length&&n.Sa.h_(r),n.onlineState=i,n.isPrimaryClient&&n.sharedClientState.setOnlineState(i)}}function eOt(e,i,t){return rO.apply(this,arguments)}function rO(){return(rO=Mt(function*(e,i,t){const n=hi(e);n.sharedClientState.updateQueryState(i,"rejected",t);const r=n.Fa.get(i),s=r&&r.key;if(s){let o=new Yr(gi.comparator);o=o.insert(s,ts.newNoDocument(s,Fi.min()));const l=_n().add(s),w=new xb(Fi.min(),new Map,new Yr(ln),o,l);yield IQ(n,w),n.va=n.va.remove(s),n.Fa.delete(i),uO(n)}else yield Lv(n.localStore,i,!1).then(()=>Wv(n,i,t)).catch(Gh)})).apply(this,arguments)}function iOt(e,i){return sO.apply(this,arguments)}function sO(){return(sO=Mt(function*(e,i){const t=hi(e),n=i.batch.batchId;try{const r=yield function vFt(e,i){const t=hi(e);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const r=i.batch.keys(),s=t.os.newChangeBuffer({trackRemovals:!0});return function(l,w,S,M){const P=S.batch,O=P.keys();let N=re.resolve();return O.forEach(U=>{N=N.next(()=>M.getEntry(w,U)).next(j=>{const W=S.docVersions.get(U);ki(null!==W),j.version.compareTo(W)<0&&(P.applyToRemoteDocument(j,S),j.isValidDocument()&&(j.setReadTime(S.commitVersion),M.addEntry(j)))})}),N.next(()=>l.mutationQueue.removeMutationBatch(w,P))}(t,n,i,s).next(()=>s.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,r,i.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let w=_n();for(let S=0;S<l.mutationResults.length;++S)l.mutationResults[S].transformResults.length>0&&(w=w.add(l.batch.mutations[S].key));return w}(i))).next(()=>t.localDocuments.getDocuments(n,r))})}(t.localStore,i);cO(t,n,null),lO(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),yield Du(t,r)}catch(r){yield Gh(r)}})).apply(this,arguments)}function nOt(e,i,t){return aO.apply(this,arguments)}function aO(){return(aO=Mt(function*(e,i,t){const n=hi(e);try{const r=yield function(o,l){const w=hi(o);return w.persistence.runTransaction("Reject batch","readwrite-primary",S=>{let M;return w.mutationQueue.lookupMutationBatch(S,l).next(P=>(ki(null!==P),M=P.keys(),w.mutationQueue.removeMutationBatch(S,P))).next(()=>w.mutationQueue.performConsistencyCheck(S)).next(()=>w.documentOverlayCache.removeOverlaysForBatchId(S,M,l)).next(()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(S,M)).next(()=>w.localDocuments.getDocuments(S,M))})}(n.localStore,i);cO(n,i,t),lO(n,i),n.sharedClientState.updateMutationState(i,"rejected",t),yield Du(n,r)}catch(r){yield Gh(r)}})).apply(this,arguments)}function lO(e,i){(e.Oa.get(i)||[]).forEach(t=>{t.resolve()}),e.Oa.delete(i)}function cO(e,i,t){const n=hi(e);let r=n.xa[n.currentUser.toKey()];if(r){const s=r.get(i);s&&(t?s.reject(t):s.resolve(),r=r.remove(i)),n.xa[n.currentUser.toKey()]=r}}function Wv(e,i,t=null){e.sharedClientState.removeLocalQueryTarget(i);for(const n of e.Da.get(i))e.ba.delete(n),t&&e.Sa.ka(n,t);e.Da.delete(i),e.isPrimaryClient&&e.Ma.Vr(i).forEach(n=>{e.Ma.containsKey(n)||RQ(e,n)})}function RQ(e,i){e.Ca.delete(i.path.canonicalString());const t=e.va.get(i);null!==t&&(Bv(e.remoteStore,t),e.va=e.va.remove(i),e.Fa.delete(t),uO(e))}function dO(e,i,t){for(const n of t)n instanceof EQ?(e.Ma.addReference(n.key,i),sOt(e,n)):n instanceof AQ?(Be("SyncEngine","Document no longer in limbo: "+n.key),e.Ma.removeReference(n.key,i),e.Ma.containsKey(n.key)||RQ(e,n.key)):wi()}function sOt(e,i){const t=i.key,n=t.path.canonicalString();e.va.get(t)||e.Ca.has(n)||(Be("SyncEngine","New document in limbo: "+t),e.Ca.add(n),uO(e))}function uO(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const i=e.Ca.values().next().value;e.Ca.delete(i);const t=new gi(Hn.fromString(i)),n=e.Na.next();e.Fa.set(n,new $Ft(t)),e.va=e.va.insert(t,n),US(e.remoteStore,new Au(co(_v(t.path)),n,"TargetPurposeLimboResolution",kl.oe))}}function Du(e,i,t){return hO.apply(this,arguments)}function hO(){return hO=Mt(function*(e,i,t){const n=hi(e),r=[],s=[],o=[];var l;n.ba.isEmpty()||(n.ba.forEach((l,w)=>{o.push(n.Ba(w,i,t).then(S=>{var M;if((S||t)&&n.isPrimaryClient){const P=S?!S.fromCache:null===(M=t?.targetChanges.get(w.targetId))||void 0===M?void 0:M.current;n.sharedClientState.updateQueryState(w.targetId,P?"current":"not-current")}if(S){r.push(S);const P=hF.Ki(w.targetId,S);s.push(P)}}))}),yield Promise.all(o),n.Sa.h_(r),yield(l=Mt(function*(S,M){const P=hi(S);try{yield P.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>re.forEach(M,N=>re.forEach(N.qi,U=>P.persistence.referenceDelegate.addReference(O,N.targetId,U)).next(()=>re.forEach(N.Qi,U=>P.persistence.referenceDelegate.removeReference(O,N.targetId,U)))))}catch(O){if(!Hh(O))throw O;Be("LocalStore","Failed to update sequence numbers: "+O)}for(const O of M){const N=O.targetId;if(!O.fromCache){const U=P.ns.get(N),W=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);P.ns=P.ns.insert(N,W)}}}),function w(S,M){return l.apply(this,arguments)})(n.localStore,s))}),hO.apply(this,arguments)}function aOt(e,i){return fO.apply(this,arguments)}function fO(){return(fO=Mt(function*(e,i){const t=hi(e);if(!t.currentUser.isEqual(i)){Be("SyncEngine","User change. New user:",i.toKey());const n=yield rQ(t.localStore,i);t.currentUser=i,(s=t).Oa.forEach(l=>{l.forEach(w=>{w.reject(new Ve(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Oa.clear(),t.sharedClientState.handleUserChange(i,n.removedBatchIds,n.addedBatchIds),yield Du(t,n.us)}var s})).apply(this,arguments)}function oOt(e,i){const t=hi(e),n=t.Fa.get(i);if(n&&n.wa)return _n().add(n.key);{let r=_n();const s=t.Da.get(i);if(!s)return r;for(const o of s){const l=t.ba.get(o);r=r.unionWith(l.view.Ea)}return r}}function GS(e){const i=hi(e);return i.remoteStore.remoteSyncer.applyRemoteEvent=IQ.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=oOt.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=eOt.bind(null,i),i.Sa.h_=HFt.bind(null,i.eventManager),i.Sa.ka=WFt.bind(null,i.eventManager),i}class jv{constructor(){this.synchronizeTabs=!1}initialize(i){var t=this;return Mt(function*(){t.serializer=Mb(i.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(i),t.persistence=t.createPersistence(i),yield t.persistence.start(),t.localStore=t.createLocalStore(i),t.gcScheduler=t.createGarbageCollectionScheduler(i,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(i,t.localStore)})()}createGarbageCollectionScheduler(i,t){return null}createIndexBackfillerScheduler(i,t){return null}createLocalStore(i){return function nQ(e,i,t,n){return new gFt(e,i,t,n)}(this.persistence,new iQ,i.initialUser,this.serializer)}createPersistence(i){return new lF(RS.Hr,this.serializer)}createSharedClientState(i){return new hQ}terminate(){var i=this;return Mt(function*(){var t,n;null===(t=i.gcScheduler)||void 0===t||t.stop(),null===(n=i.indexBackfillerScheduler)||void 0===n||n.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class Xv{initialize(i,t){var n=this;return Mt(function*(){n.localStore||(n.localStore=i.localStore,n.sharedClientState=i.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!i.synchronizeTabs),n.sharedClientState.onlineStateHandler=r=>kQ(n.syncEngine,r,1),n.remoteStore.remoteSyncer.handleCredentialChange=aOt.bind(null,n.syncEngine),yield VF(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(i){return new GFt}createDatastore(i){const t=Mb(i.databaseInfo.databaseId),n=new SFt(i.databaseInfo);return new DFt(i.authCredentials,i.appCheckCredentials,n,t)}createRemoteStore(i){return n=this.localStore,r=this.datastore,s=i.asyncQueue,o=t=>kQ(this.syncEngine,t,0),l=fQ.D()?new fQ:new _Ft,new IFt(n,r,s,o,l);var n,r,s,o,l}createSyncEngine(i,t){return function(r,s,o,l,w,S,M){const P=new QFt(r,s,o,l,w,S);return M&&(P.La=!0),P}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,t)}terminate(){var i=this;return Mt(function*(){var t,n;yield(n=Mt(function*(s){const o=hi(s);Be("RemoteStore","RemoteStore shutting down."),o.M_.add(5),yield Nv(o),o.O_.shutdown(),o.N_.set("Unknown")}),function r(s){return n.apply(this,arguments)})(i.remoteStore),null===(t=i.datastore)||void 0===t||t.terminate()})()}}class HS{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Ka(this.observer.next,i)}error(i){this.observer.error?this.Ka(this.observer.error,i):Bs("Uncaught Error in snapshot listener:",i.toString())}$a(){this.muted=!0}Ka(i,t){this.muted||setTimeout(()=>{this.muted||i(t)},0)}}class bOt{constructor(i,t,n,r){var s=this;this.authCredentials=i,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ia.UNAUTHENTICATED,this.clientId=$X.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var o=Mt(function*(l){Be("FirestoreClient","Received user=",l.uid),yield s.authCredentialListener(l),s.user=l});return function(l){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(n,o=>(Be("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const t=new ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Mt(function*(){try{i._onlineComponents&&(yield i._onlineComponents.terminate()),i._offlineComponents&&(yield i._offlineComponents.terminate()),i.authCredentials.shutdown(),i.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=zv(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function WS(e,i){return TO.apply(this,arguments)}function TO(){return TO=Mt(function*(e,i){e.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=e.configuration;yield i.initialize(t);let n=t.initialUser;e.setCredentialChangeListener(function(){var r=Mt(function*(s){n.isEqual(s)||(yield rQ(i.localStore,s),n=s)});return function(s){return r.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=i}),TO.apply(this,arguments)}function CO(e,i){return SO.apply(this,arguments)}function SO(){return(SO=Mt(function*(e,i){e.asyncQueue.verifyOperationInProgress();const t=yield function EO(e){return AO.apply(this,arguments)}(e);Be("FirestoreClient","Initializing OnlineComponentProvider"),yield i.initialize(t,e.configuration),e.setCredentialChangeListener(n=>wQ(i.remoteStore,n)),e.setAppCheckTokenChangeListener((n,r)=>wQ(i.remoteStore,r)),e._onlineComponents=i})).apply(this,arguments)}function AO(){return(AO=Mt(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield WS(e,e._uninitializedComponentsProvider._offline)}catch(i){const t=i;if(!function NQ(e){return"FirebaseError"===e.name?e.code===ge.FAILED_PRECONDITION||e.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(t))throw t;Ml("Error using user provided cache. Falling back to memory cache: "+t),yield WS(e,new jv)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),yield WS(e,new jv);return e._offlineComponents})).apply(this,arguments)}function jS(e){return DO.apply(this,arguments)}function DO(){return(DO=Mt(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),yield CO(e,e._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),yield CO(e,new Xv))),e._onlineComponents})).apply(this,arguments)}function IO(){return(IO=Mt(function*(e){const i=yield jS(e),t=i.eventManager;return t.onListen=KFt.bind(null,i.syncEngine),t.onUnlisten=JFt.bind(null,i.syncEngine),t.onFirstRemoteStoreListen=ZFt.bind(null,i.syncEngine),t.onLastRemoteStoreUnlisten=qFt.bind(null,i.syncEngine),t})).apply(this,arguments)}function GQ(e,i,t={}){const n=new ga;return e.asyncQueue.enqueueAndForget(Mt(function*(){return function(s,o,l,w,S){const M=new HS({next:O=>{o.enqueueAndForget(()=>function WF(e,i){return jF.apply(this,arguments)}(s,P)),O.fromCache&&"server"===w.source?S.reject(new Ve(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):S.resolve(O)},error:O=>S.reject(O)}),P=new $F(l,M,{includeMetadataChanges:!0,ra:!0});return function GF(e,i){return HF.apply(this,arguments)}(s,P)}(yield function $v(e){return IO.apply(this,arguments)}(e),e.asyncQueue,i,t,n)})),n.promise}function HQ(e){const i={};return void 0!==e.timeoutSeconds&&(i.timeoutSeconds=e.timeoutSeconds),i}const WQ=new Map;function kO(e,i,t){if(!t)throw new Ve(ge.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${i}.`)}function jQ(e){if(!gi.isDocumentKey(e))throw new Ve(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function XQ(e){if(gi.isDocumentKey(e))throw new Ve(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function XS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const i=(n=e).constructor?n.constructor.name:null;return i?`a custom ${i} object`:"an object"}}var n;return"function"==typeof e?"a function":wi()}function Nn(e,i){if("_delegate"in e&&(e=e._delegate),!(e instanceof i)){if(i.name===e.constructor.name)throw new Ve(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=XS(e);throw new Ve(ge.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${t}`)}}return e}class $Q{constructor(i){var t,n;if(void 0===i.host){if(void 0!==i.ssl)throw new Ve(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(t=i.ssl)||void 0===t||t;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,this.localCache=i.localCache,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Ve(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}(function ROt(e,i,t,n){if(!0===i&&!0===n)throw new Ve(ge.INVALID_ARGUMENT,`${e} and ${t} cannot be used together.`)})("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==i.experimentalAutoDetectLongPolling&&!i.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=HQ(null!==(n=i.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Ve(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ve(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ve(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!i.useFetchStreams}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===i.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class kb{constructor(i,t,n,r){this._authCredentials=i,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $Q({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Ve(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $Q(i),void 0!==i.credentials&&(this._authCredentials=function(n){if(!n)return new DRt;switch(n.type){case"firstParty":return new RRt(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ve(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=WQ.get(t);n&&(Be("ComponentProvider","Removing Datastore"),WQ.delete(t),n.terminate())}(this),Promise.resolve()}}class Xa{constructor(i,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=i}withConverter(i){return new Xa(this.firestore,i,this._query)}}class Us{constructor(i,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _d(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new Us(this.firestore,i,this._key)}}class _d extends Xa{constructor(i,t,n){super(i,t,_v(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new Us(this.firestore,null,new gi(i))}withConverter(i){return new _d(this.firestore,i,this._path)}}function QQ(e,i,...t){if(e=Pc(e),kO("collection","path",i),e instanceof kb){const n=Hn.fromString(i,...t);return XQ(n),new _d(e,null,n)}{if(!(e instanceof Us||e instanceof _d))throw new Ve(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Hn.fromString(i,...t));return XQ(n),new _d(e.firestore,null,n)}}class OOt{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new _F(this,"async_queue_retry"),this.hu=()=>{const t=VS();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};const i=VS();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Pu(),this.Iu(i)}enterRestrictedMode(i){if(!this.ou){this.ou=!0,this.cu=i||!1;const t=VS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(i){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new ga;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(i().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.su.push(i),this.Tu()))}Tu(){var i=this;return Mt(function*(){if(0!==i.su.length){try{yield i.su[0](),i.su.shift(),i.Yo.reset()}catch(t){if(!Hh(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}i.su.length>0&&i.Yo.$o(()=>i.Tu())}})()}Iu(i){const t=this.iu.then(()=>(this.uu=!0,i().catch(n=>{throw this.au=n,this.uu=!1,Bs("INTERNAL UNHANDLED ERROR: ",function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),l}(n)),n}).then(n=>(this.uu=!1,n))));return this.iu=t,t}enqueueAfterDelay(i,t,n){this.Pu(),this.lu.indexOf(i)>-1&&(t=0);const r=zF.createAndSchedule(this,i,t,n,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&wi()}verifyOperationInProgress(){}du(){var i=this;return Mt(function*(){let t;do{t=i.iu,yield t}while(t!==i.iu)})()}Au(i){for(const t of this._u)if(t.timerId===i)return!0;return!1}Ru(i){return this.du().then(()=>{this._u.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this._u)if(t.skipDelay(),"all"!==i&&t.timerId===i)break;return this.du()})}Vu(i){this.lu.push(i)}Eu(i){const t=this._u.indexOf(i);this._u.splice(t,1)}}class Fr extends kb{constructor(i,t,n,r){super(i,t,n,r),this.type="firestore",this._queue=new OOt,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ZQ(this),this._firestoreClient.terminate()}}function NOt(e,i){const t="object"==typeof e?e:function vRt(e=rS){const i=um.get(e);if(!i&&e===rS&&fX())return IX();if(!i)throw ec.create("no-app",{appName:e});return i}(),n="string"==typeof e?e:i||"(default)",r=function DX(e,i){const t=e.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),e.container.getProvider(i)}(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const s=(e=>{const i=(e=>{var i,t;return null===(t=null===(i=eS())||void 0===i?void 0:i.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!i)return;const t=i.lastIndexOf(":");if(t<=0||t+1===i.length)throw new Error(`Invalid host ${i} with no separate hostname and port!`);const n=parseInt(i.substring(t+1),10);return"["===i[0]?[i.substring(1,t-1),n]:[i.substring(0,t),n]})("firestore");s&&function POt(e,i,t,n={}){var r;const s=(e=Nn(e,kb))._getSettings(),o=`${i}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),n.mockUserToken){let l,w;if("string"==typeof n.mockUserToken)l=n.mockUserToken,w=Ia.MOCK_USER;else{l=function akt(e,i){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=i||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[tS(JSON.stringify({alg:"none",type:"JWT"})),tS(JSON.stringify(o)),""].join(".")}(n.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const S=n.mockUserToken.sub||n.mockUserToken.user_id;if(!S)throw new Ve(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ia(S)}e._authCredentials=new MRt(new XX(l,w))}}(r,...s)}return r}function xs(e){return e._firestoreClient||ZQ(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ZQ(e){var i,t,n;const r=e._freezeSettings(),s=(w=(null===(i=e._app)||void 0===i?void 0:i.options.appId)||"",new oPt(e._databaseId,w,e._persistenceKey,(M=r).host,M.ssl,M.experimentalForceLongPolling,M.experimentalAutoDetectLongPolling,HQ(M.experimentalLongPollingOptions),M.useFetchStreams));var w,M;e._firestoreClient=new bOt(e._authCredentials,e._appCheckCredentials,e._queue,s),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(n=r.localCache)&&void 0!==n&&n._onlineComponentProvider&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class Mm{constructor(i){this._byteString=i}static fromBase64String(i){try{return new Mm(va.fromBase64String(i))}catch(t){throw new Ve(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(i){return new Mm(va.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class Im{constructor(...i){for(let t=0;t<i.length;++t)if(0===i[t].length)throw new Ve(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cs(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class Qv{constructor(i){this._methodName=i}}class PO{constructor(i,t){if(!isFinite(i)||i<-90||i>90)throw new Ve(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(t)||t<-180||t>180)throw new Ve(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=i,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return ln(this._lat,i._lat)||ln(this._long,i._long)}}const VOt=/^__.*__$/;class UOt{constructor(i,t,n){this.data=i,this.fieldMask=t,this.fieldTransforms=n}toMutation(i,t){return null!==this.fieldMask?new Eu(i,this.data,this.fieldMask,t,this.fieldTransforms):new Av(i,this.data,t,this.fieldTransforms)}}function eK(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wi()}}class YS{constructor(i,t,n,r,s,o){this.settings=i,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(i){return new YS(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(i){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(i),r=this.gu({path:n,yu:!1});return r.wu(i),r}Su(i){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(i),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(i){return this.gu({path:void 0,yu:!0})}Du(i){return KS(i,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(i){return void 0!==this.fieldMask.find(t=>i.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>i.isPrefixOf(t.field))}mu(){if(this.path)for(let i=0;i<this.path.length;i++)this.wu(this.path.get(i))}wu(i){if(0===i.length)throw this.Du("Document fields must not be empty");if(eK(this.fu)&&VOt.test(i))throw this.Du('Document fields cannot begin and end with "__"')}}class zOt{constructor(i,t,n){this.databaseId=i,this.ignoreUndefinedProperties=t,this.serializer=n||Mb(i)}Fu(i,t,n,r=!1){return new YS({fu:i,methodName:t,vu:n,path:cs.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function km(e){const i=e._freezeSettings(),t=Mb(e._databaseId);return new zOt(e._databaseId,!!i.ignoreUndefinedProperties,t)}function $S(e,i,t,n,r,s={}){const o=e.Fu(s.merge||s.mergeFields?2:0,i,t,r);UO("Data must be an object, but it was:",o,n);const l=rK(n,o);let w,S;if(s.merge)w=new rl(o.fieldMask),S=o.fieldTransforms;else if(s.mergeFields){const M=[];for(const P of s.mergeFields){const O=Fb(i,P,t);if(!o.contains(O))throw new Ve(ge.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);aK(M,O)||M.push(O)}w=new rl(M),S=o.fieldTransforms.filter(P=>w.covers(P.field))}else w=null,S=o.fieldTransforms;return new UOt(new ja(l),w,S)}function Rm(e,i){if(sK(e=Pc(e)))return UO("Unsupported field value:",i,e),rK(e,i);if(e instanceof Qv)return function(n,r){if(!eK(r.fu))throw r.Du(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,i),null;if(void 0===e&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),e instanceof Array){if(i.settings.yu&&4!==i.fu)throw i.Du("Nested arrays are not supported");return function(n,r){const s=[];let o=0;for(const l of n){let w=Rm(l,r.bu(o));null==w&&(w={nullValue:"NULL_VALUE"}),s.push(w),o++}return{arrayValue:{values:s}}}(e,i)}return function(n,r){if(null===(n=Pc(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return jY(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const s=ls.fromDate(n);return{timestampValue:Mv(r.serializer,s)}}if(n instanceof ls){const s=new ls(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Mv(r.serializer,s)}}if(n instanceof PO)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Mm)return{bytesValue:f$(r.serializer,n._byteString)};if(n instanceof Us){const s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:KP(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Du(`Unsupported field value: ${XS(n)}`)}(e,i)}function rK(e,i){const t={};return hY(e)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):Wh(e,(n,r)=>{const s=Rm(r,i.pu(n));null!=s&&(t[n]=s)}),{mapValue:{fields:t}}}function sK(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ls||e instanceof PO||e instanceof Mm||e instanceof Us||e instanceof Qv)}function UO(e,i,t){if(!sK(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const n=XS(t);throw i.Du("an object"===n?e+" a custom object":e+" "+n)}var r}function Fb(e,i,t){if((i=Pc(i))instanceof Im)return i._internalPath;if("string"==typeof i)return QS(e,i);throw KS("Field path arguments must be of type string or ",e,!1,void 0,t)}const GOt=new RegExp("[~\\*/\\[\\]]");function QS(e,i,t){if(i.search(GOt)>=0)throw KS(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,t);try{return new Im(...i.split("."))._internalPath}catch{throw KS(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,t)}}function KS(e,i,t,n,r){const s=n&&!n.isEmpty(),o=void 0!==r;let l=`Function ${i}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let w="";return(s||o)&&(w+=" (found",s&&(w+=` in field ${n}`),o&&(w+=` in document ${r}`),w+=")"),new Ve(ge.INVALID_ARGUMENT,l+e+w)}function aK(e,i){return e.some(t=>t.isEqual(i))}class Ob{constructor(i,t,n,r,s){this._firestore=i,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Us(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new HOt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const t=this._document.data.field(ZS("DocumentSnapshot.get",i));if(null!==t)return this._userDataWriter.convertValue(t)}}}class HOt extends Ob{data(){return super.data()}}function ZS(e,i){return"string"==typeof i?QS(e,i):i instanceof Im?i._internalPath:i._delegate._internalPath}class zO{}class Lb extends zO{}class Nb extends Lb{constructor(i,t,n){super(),this._field=i,this._op=t,this._value=n,this.type="where"}static _create(i,t,n){return new Nb(i,t,n)}_apply(i){const t=this._parse(i);return uK(i._query,t),new Xa(i.firestore,i.converter,GP(i._query,t))}_parse(i){const t=km(i.firestore);return function(s,o,l,w,S,M,P){let O;if(S.isKeyField()){if("array-contains"===M||"array-contains-any"===M)throw new Ve(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${M}' queries on documentId().`);if("in"===M||"not-in"===M){dK(P,M);const N=[];for(const U of P)N.push(cK(w,s,U));O={arrayValue:{values:N}}}else O=cK(w,s,P)}else"in"!==M&&"not-in"!==M&&"array-contains-any"!==M||dK(P,M),O=function nK(e,i,t,n=!1){return Rm(t,e.Fu(n?4:3,i))}(l,"where",P,"in"===M||"not-in"===M);return Wn.create(S,M,O)}(i._query,0,t,i.firestore._databaseId,this._field,this._op,this._value)}}class Kv extends zO{constructor(i,t){super(),this.type=i,this._queryConstraints=t}static _create(i,t){return new Kv(i,t)}_parse(i){const t=this._queryConstraints.map(n=>n._parse(i)).filter(n=>n.getFilters().length>0);return 1===t.length?t[0]:Sr.create(t,this._getOperator())}_apply(i){const t=this._parse(i);return 0===t.getFilters().length?i:(function(r,s){let o=r;const l=s.getFlattenedFilters();for(const w of l)uK(o,w),o=GP(o,w)}(i._query,t),new Xa(i.firestore,i.converter,GP(i._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class GO extends Lb{constructor(i,t){super(),this._field=i,this._direction=t,this.type="orderBy"}static _create(i,t){return new GO(i,t)}_apply(i){const t=function(r,s,o){if(null!==r.startAt)throw new Ve(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ve(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cb(s,o)}(i._query,this._field,this._direction);return new Xa(i.firestore,i.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Cu(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(i._query,t))}}class JS extends Lb{constructor(i,t,n){super(),this.type=i,this._limit=t,this._limitType=n}static _create(i,t,n){return new JS(i,t,n)}_apply(i){return new Xa(i.firestore,i.converter,xS(i._query,this._limit,this._limitType))}}function cK(e,i,t){if("string"==typeof(t=Pc(t))){if(""===t)throw new Ve(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zP(i)&&-1!==t.indexOf("/"))throw new Ve(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=i.path.child(Hn.fromString(t));if(!gi.isDocumentKey(n))throw new Ve(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return xm(e,new gi(n))}if(t instanceof Us)return xm(e,t._key);throw new Ve(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${XS(t)}.`)}function dK(e,i){if(!Array.isArray(e)||0===e.length)throw new Ve(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`)}function uK(e,i){const t=function(r,s){for(const o of r)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(i.op));if(null!==t)throw new Ve(ge.INVALID_ARGUMENT,t===i.op?`Invalid query. You cannot use more than one '${i.op.toString()}' filter.`:`Invalid query. You cannot use '${i.op.toString()}' filters with '${t.toString()}' filters.`)}class fK{convertValue(i,t="none"){switch(Xh(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Cs(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,t);case 5:return i.stringValue;case 6:return this.convertBytes(Tu(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,t);case 10:return this.convertObject(i.mapValue,t);default:throw wi()}}convertObject(i,t){return this.convertObjectMap(i.fields,t)}convertObjectMap(i,t="none"){const n={};return Wh(i,(r,s)=>{n[r]=this.convertValue(s,t)}),n}convertGeoPoint(i){return new PO(Cs(i.latitude),Cs(i.longitude))}convertArray(i,t){return(i.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(i,t){switch(t){case"previous":const n=hS(i);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(sb(i));default:return null}}convertTimestamp(i){const t=_u(i);return new ls(t.seconds,t.nanos)}convertDocumentKey(i,t){const n=Hn.fromString(i);ki(S$(n));const r=new vm(n.get(1),n.get(3)),s=new gi(n.popFirst(5));return r.isEqual(t)||Bs(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class Pm{constructor(i,t){this.hasPendingWrites=i,this.fromCache=t}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class Zv extends Ob{constructor(i,t,n,r,s,o){super(i,t,n,r,o),this._firestore=i,this._firestoreImpl=i,this.metadata=s}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const t=new iE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,t={}){if(this._document){const n=this._document.data.field(ZS("DocumentSnapshot.get",i));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class iE extends Zv{data(i={}){return super.data(i)}}class Jv{constructor(i,t,n,r){this._firestore=i,this._userDataWriter=t,this._snapshot=r,this.metadata=new Pm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const i=[];return this.forEach(t=>i.push(t)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,t){this._snapshot.docs.forEach(n=>{i.call(t,new iE(this._firestore,this._userDataWriter,n.key,n,new Pm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const t=!!i.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ve(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new iE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Pm(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const w=new iE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Pm(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let S=-1,M=-1;return 0!==l.type&&(S=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),1!==l.type&&(o=o.add(l.doc),M=o.indexOf(l.doc.key)),{type:QOt(l.type),doc:w,oldIndex:S,newIndex:M}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function QOt(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wi()}}class ef extends fK{constructor(i){super(),this.firestore=i}convertBytes(i){return new Mm(i)}convertReference(i){const t=this.convertDocumentKey(i,this.firestore._databaseId);return new Us(this.firestore,null,t)}}function ZOt(e,i){const t=Nn(e.firestore,Fr),n=function FOt(e,i,...t){if(e=Pc(e),1===arguments.length&&(i=$X.newId()),kO("doc","path",i),e instanceof kb){const n=Hn.fromString(i,...t);return jQ(n),new Us(e,null,new gi(n))}{if(!(e instanceof Us||e instanceof _d))throw new Ve(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Hn.fromString(i,...t));return jQ(n),new Us(e.firestore,e instanceof _d?e.converter:null,new gi(n))}}(e),r=function eE(e,i,t){let n;return n=e?t&&(t.merge||t.mergeFields)?e.toFirestore(i,t):e.toFirestore(i):i,n}(e.converter,i);return function Bb(e,i){return function(n,r){const s=new ga;return n.asyncQueue.enqueueAndForget(Mt(function*(){return function tOt(e,i,t){return iO.apply(this,arguments)}(yield function MO(e){return jS(e).then(i=>i.syncEngine)}(n),r,s)})),s.promise}(xs(e),i)}(t,[$S(km(e.firestore),"addDoc",n._key,r,null!==e.converter,{}).toMutation(n._key,ds.exists(!1))]).then(()=>n)}!function(i,t=!0){mv="10.12.3",sS(new Ky("firestore",(n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),l=new Fr(new IRt(n.getProvider("auth-internal")),new PRt(n.getProvider("app-check-internal")),function(S,M){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new Ve(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vm(S.options.projectId,M)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),hm(jX,"4.6.4",i),hm(jX,"4.6.4","esm2017")}();let vK=(()=>{class e{constructor(t){this.terminologyService=t,this.goals=[{name:"Bronze",score:100},{name:"Silver",score:200},{name:"Gold",score:300},{name:"Platinum",score:400},{name:"Diamond",score:500}],this.difficultyLevels=[{name:"Easy",rules:{maxHitPoints:5,hitpointsAwardedForGuessingfullTerm:1,freeHints:2,pointsPerGuessedLetter:1,goals:this.goals,difficultyBonus:0,endless:!1,maxRoundTime:60}},{name:"Medium",rules:{maxHitPoints:4,hitpointsAwardedForGuessingfullTerm:1,freeHints:1,pointsPerGuessedLetter:2,goals:this.goals,difficultyBonus:50,endless:!1,maxRoundTime:50}},{name:"Hard",rules:{maxHitPoints:3,hitpointsAwardedForGuessingfullTerm:1,freeHints:0,pointsPerGuessedLetter:3,goals:this.goals,difficultyBonus:100,endless:!1,maxRoundTime:40}},{name:"Endless",rules:{maxHitPoints:3,hitpointsAwardedForGuessingfullTerm:1,freeHints:0,pointsPerGuessedLetter:3,goals:this.goals,difficultyBonus:100,endless:!0,maxRoundTime:30}}],this.rules=this.difficultyLevels[0].rules,this.fsn="",this.scg="",this.focusConcepts=[],this.attributePairs=[],this.usedHints=new Set,this.randomLimit=4e3,this.guessResult=new Fe,this.termResult=new Fe,this.game=new Kr(this.initialize())}loadMenu(){this.clearRoundTimer(),this.game.next({...this.game.value,state:"menu"})}getDifficultyLevels(){return this.difficultyLevels}newRound(t){var n=this;return Mt(function*(){n.clearRoundTimer(),n.game.next({...n.game.value,state:"choosingTerm",score:t?0:n.game.value.score,hitPoints:t?n.rules.maxHitPoints:n.game.value.hitPoints,round:t?1:n.game.value.round+1,remainingTime:n.rules.maxRoundTime});const r=Math.floor(Math.random()*n.randomLimit)+1,s=yield Da(n.terminologyService.expandValueSet("^ 816080008 |International Patient Summary| {{ C definitionStatus = defined }}","",r,1));n.randomLimit=s.expansion.total-1;const o=yield Da(n.terminologyService.lookupConcept(s.expansion.contains[0].code));let l=n.extractFSN(o);n.fsn=l||"";let w=n.extractScg(o);n.scg=w||"";let S=n.extractFocusConcepts(w||"");n.focusConcepts=S||[];let M=n.extractAttributePairs(w||"");n.attributePairs=M||[],l?n.initializeRound(l,t):n.initializeRound("No term found"),n.usedHints.clear()})()}extractFSN(t){let n=this.extractTerm(t,"900000000000003001",this.terminologyService.getLang());return n||(n=this.extractTerm(t,"900000000000013009",this.terminologyService.getLang())),n||(n=this.extractTerm(t,"900000000000003001","en")),n}extractTerm(t,n,r){let s="";return t.parameter.forEach(o=>{if("designation"===o.name){let l=o.part.some(S=>"use"===S.name&&S.valueCoding.code===n),w=o.part.some(S=>"language"===S.name&&S.valueCode===r);l&&w&&(s=o.part.find(S=>"value"===S.name)?.valueString)}}),s}extractScg(t){let n;return t.parameter.forEach(r=>{"property"===r.name&&r.part.some(s=>"code"===s.name&&"normalForm"===s.valueString)&&(n=r.part.find(s=>"valueString"===s.name)?.valueString)}),n}extractFocusConcepts(t){const[n]=t.split(":").map(l=>l.trim()),s=n.match(/\d+\|.*?\|/g);return s?s.map(l=>this.transformSnomedConcept(l.trim())||{code:"",display:""}).filter(l=>""!==l.code):[]}extractAttributePairs(t){const n=t.split(":").slice(1).join(":").trim(),r=/(\d+\|.*?\|)\s*=\s*(\d+\|.*?\|)/g;let s;const o=[];for(;null!==(s=r.exec(n));){const l=this.transformSnomedConcept(s[1].trim()),w=this.transformSnomedConcept(s[2].trim());l&&w&&o.push({type:l,target:w})}return o}transformSnomedConcept(t){const r=t.match(/^(\d+)\|(.+?)\|$/);return r?{code:r[1],display:r[2]}:null}initialize(){return{term:"",displayTerm:[],hitPoints:this.rules.maxHitPoints,hintsAvailable:!0,hints:[],state:"menu",score:0,round:0,rules:this.rules,difficultyLevel:"",startTimestamp:0,endTimestamp:0,difficultyBonus:0,livesBonus:0,timeBonus:0,maxRoundTime:0,remainingTime:0}}startGame(t){this.clearRoundTimer(),this.rules=this.difficultyLevels.find(n=>n.name.toLowerCase()===t.toLowerCase())?.rules,this.game.next({term:"",displayTerm:[],hitPoints:this.rules.maxHitPoints,hintsAvailable:!0,hints:[],state:"playing",score:0,round:0,rules:this.rules,difficultyLevel:t,startTimestamp:Date.now(),endTimestamp:0,difficultyBonus:0,livesBonus:0,timeBonus:0,maxRoundTime:this.rules.maxRoundTime,remainingTime:this.rules.maxRoundTime}),this.newRound(!0)}initializeRound(t,n){const r=t.match(/\(([^)]+)\)$/),s=r?r[0]:"",o=s?t.lastIndexOf(s):t.length,l=t.split("").map((w,S)=>S>=o?w:/[a-zA-Z0-9\xe1-\xfa\xf1]/.test(w)?"_":w);this.game.next({...this.game.value,term:t,displayTerm:l,hitPoints:n?this.rules.maxHitPoints:this.game.value.hitPoints,hints:[],state:"playing",score:n?0:this.game.value.score,remainingTime:this.rules.maxRoundTime}),this.startRoundTimer();for(let w=0;w<this.rules.freeHints;w++)this.revealHint(!0)}removeAccents(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}guessLetter(t){let n={...this.game.value},r=!1;const s=n.term.lastIndexOf("("),o=-1!==s?s:n.term.length;if(n.term.split("").forEach((l,w)=>{w<o&&"_"===n.displayTerm[w]&&this.removeAccents(l.toLowerCase())===this.removeAccents(t.toLowerCase())&&(n.displayTerm[w]=l,r=!0,n.score+=this.rules.pointsPerGuessedLetter)}),r){if(this.guessResult.emit({letter:t,result:!0}),-1===n.displayTerm.slice(0,o).indexOf("_")&&"playing"===n.state)if(this.termResult.emit(n.term),this.clearRoundTimer(),n.score>this.goals[this.goals.length-1].score&&!1===this.rules.endless){n.state="won",n.endTimestamp=Date.now(),n.difficultyBonus=this.rules.difficultyBonus,n.livesBonus=10*n.hitPoints;const w=Math.round((n.endTimestamp-n.startTimestamp)/1e3);n.timeBonus=Math.max(0,180-w),n.score+=n.difficultyBonus+n.livesBonus+n.timeBonus}else n.hitPoints=n.hitPoints+this.rules.hitpointsAwardedForGuessingfullTerm,n.hitPoints>this.rules.maxHitPoints&&(n.hitPoints=this.rules.maxHitPoints),setTimeout(()=>{this.newRound()},1500)}else this.guessResult.emit({letter:t,result:!1}),n.hitPoints-=1,n.hitPoints<=0&&(n.hitPoints=0,n.state="gameOver",n.endTimestamp=Date.now(),n.difficultyBonus=this.rules.difficultyBonus,n.score+=n.difficultyBonus,this.clearRoundTimer());this.game.next(n)}revealHint(t){let n={...this.game.value},r="";if(0===this.focusConcepts.length&&0===this.attributePairs.length)return n.hints.push("No more hints available."),void this.game.next(n);let s=this.focusConcepts.length>0,o=this.attributePairs.length>0;if(s&&o&&(s=Math.random()<.5),s){let l=Math.floor(Math.random()*this.focusConcepts.length);r=`One of the parents of this concept is: <i>${this.focusConcepts[l].display}</i>`,this.focusConcepts.splice(l,1)}else if(o){let l=Math.floor(Math.random()*this.attributePairs.length),w=this.attributePairs[l];r=`This concept has a <i>${w.type.display}</i> of <i>${w.target.display}</i>`,this.attributePairs.splice(l,1)}this.usedHints.add(r),n.hints.push(r),t||(n.hitPoints-=1),n.hintsAvailable=this.focusConcepts.length>0||this.attributePairs.length>0,this.game.next(n),n.hitPoints<=0&&(n.hitPoints=0,n.state="gameOver",n.endTimestamp=Date.now(),this.clearRoundTimer(),this.game.next(n))}getGameState(){return this.game.asObservable()}startRoundTimer(){this.roundTimer=setInterval(()=>{const t=this.game.value,n=t.remainingTime-1,r={...t,remainingTime:n};n<=0?(r.remainingTime=0,r.state="gameOver",r.endTimestamp=Date.now(),this.clearRoundTimer(),this.game.next(r)):this.game.next(r)},1e3)}clearRoundTimer(){this.roundTimer&&(clearInterval(this.roundTimer),this.roundTimer=null)}static#t=this.\u0275fac=function(n){return new(n||e)(ne(fa))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dLt=(()=>{class e{constructor(){this.loadingProgress=new Kr(0)}preloadImages(t){const n=t.map((r,s)=>this.preloadImage(r,t.length,s));return Promise.all(n).then(()=>{this.loadingProgress.next(100)})}preloadImage(t,n,r){return new Promise((s,o)=>{const l=new Image;l.src=t,l.onload=()=>{this.loadingProgress.next((r+1)/n*100),s()},l.onerror=o})}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xK=(()=>{class e{constructor(){this.db=NOt(),this.scoreLimit=20}addScore(t,n){var r=this;return Mt(function*(){try{yield ZOt(QQ(r.db,t),n)}catch(s){console.error("Error adding document: ",s)}})()}getScores(t){var n=this;return Mt(function*(){const s=function WOt(e,i,...t){let n=[];i instanceof zO&&n.push(i),n=n.concat(t),function(s){const o=s.filter(w=>w instanceof Kv).length,l=s.filter(w=>w instanceof Nb).length;if(o>1||o>0&&l>0)throw new Ve(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const r of n)e=r._apply(e);return e}(QQ(n.db,t),function jOt(e,i="asc"){const t=i,n=ZS("orderBy",e);return GO._create(n,t)}("score","desc"),function XOt(e){return function YQ(e,i){if(i<=0)throw new Ve(ge.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${i}.`)}("limit",e),JS._create("limit",e,"F")}(n.scoreLimit));return(yield function KOt(e){e=Nn(e,Xa);const i=Nn(e.firestore,Fr),t=xs(i),n=new ef(i);return function oK(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ve(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),GQ(t,e._query).then(r=>new Jv(i,n,e,r))}(s)).docs.map(l=>({id:l.id,...l.data()}))})()}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uLt(e,i){if(1&e){const t=ye();q(0,"button",4),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct(2).guessLetter(r))}),ut(1),et()}if(2&e){const t=i.$implicit,n=Ct(2);Si("guessed-correct","correct"===n.guessedLetters[t])("guessed-wrong","wrong"===n.guessedLetters[t]),xt("disabled",n.isLetterGuessed(t)),ot(),Ke(" ",t," ")}}function hLt(e,i){if(1&e&&(q(0,"div",2),jt(1,uLt,2,6,"button",3),et()),2&e){const t=i.$implicit;ot(),xt("ngForOf",t)}}let fLt=(()=>{class e{constructor(){this.keyboardLayout=[["1","2","3","4","5","6","7","8","9","0"],["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]],this.guessedLetters={},this.letterGuessed=new Fe}addGuessedLetter(t,n){this.guessedLetters[t]=n?"correct":"wrong"}guessLetter(t){this.letterGuessed.emit(t)}isLetterGuessed(t){return t in this.guessedLetters}markLetterAsGuessed(t,n){this.guessedLetters[t]=n}reset(){this.guessedLetters={}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-keyboard"]],outputs:{letterGuessed:"letterGuessed"},decls:2,vars:1,consts:[[1,"keyboard-container"],["class","keyboard-row",4,"ngFor","ngForOf"],[1,"keyboard-row"],["mat-button","",3,"guessed-correct","guessed-wrong","disabled","click",4,"ngFor","ngForOf"],["mat-button","",3,"click","disabled"]],template:function(n,r){1&n&&(q(0,"div",0),jt(1,hLt,2,1,"div",1),et()),2&n&&(ot(),xt("ngForOf",r.keyboardLayout))},dependencies:[ws,Ma],styles:[".keyboard-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.keyboard-row[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:5px;flex-wrap:wrap}button[_ngcontent-%COMP%]{margin:2px;padding:8px 6px;border-radius:8px;border:1px solid #000;transition:background-color .3s ease;min-width:40px;flex:1}button.guessed-correct[_ngcontent-%COMP%]{background-color:green;color:#fff}button.guessed-wrong[_ngcontent-%COMP%]{background-color:red;color:#fff}@media (max-width: 768px){.keyboard-row[_ngcontent-%COMP%]{margin:1px 0}.keyboard-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1px;padding:8px;min-width:0;width:9%;flex:1 1 auto;font-size:14px}}"]})}return e})(),mLt=(()=>{class e{constructor(){this.tooltipDismissedKey="iosSafariTooltipDismissed"}isIosSafari(){return/iP(ad|od|hone)/i.test(window.navigator.userAgent)&&/Safari/i.test(window.navigator.userAgent)&&!/CriOS/i.test(window.navigator.userAgent)&&!/FxiOS/i.test(window.navigator.userAgent)}tooltipDismissed(){return"true"===localStorage.getItem(this.tooltipDismissedKey)}dismissTooltip(){localStorage.setItem(this.tooltipDismissedKey,"true")}isRunningStandalone(){return"standalone"in window.navigator&&window.navigator.standalone}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pLt(e,i){if(1&e){const t=ye();q(0,"div",1)(1,"div",2),ut(2," Install this webapp on your iPhone: tap "),q(3,"mat-icon"),ut(4,"ios_share"),et(),ut(5," and then 'Add to Home Screen' "),et(),q(6,"button",3),zt("click",function(){return Gt(t),Ht(Ct().dismiss())}),q(7,"mat-icon"),ut(8,"close"),et()()()}}let gLt=(()=>{class e{constructor(t){this.platformDetectionService=t,this.isIosSafari=!1,this.tooltipDismissed=!1}ngOnInit(){this.isIosSafari=this.platformDetectionService.isIosSafari(),this.tooltipDismissed=this.platformDetectionService.tooltipDismissed()||this.platformDetectionService.isRunningStandalone()}dismiss(){this.tooltipDismissed=!0,this.platformDetectionService.dismissTooltip()}static#t=this.\u0275fac=function(n){return new(n||e)(mt(mLt))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-add-to-home"]],decls:1,vars:1,consts:[["class","custom-tooltip",4,"ngIf"],[1,"custom-tooltip"],[1,"tooltip-text"],[1,"tooltip-dismiss-button",3,"click"]],template:function(n,r){1&n&&jt(0,pLt,9,0,"div",0),2&n&&xt("ngIf",r.isIosSafari&&!r.tooltipDismissed)},dependencies:[Fs,ma],styles:['.custom-tooltip[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background:#fff;border-radius:8px;padding:16px;box-shadow:0 4px 8px #0003;display:flex;flex-direction:row;align-items:center;max-width:320px;box-sizing:border-box;z-index:1000}.custom-tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-20px;left:50%;transform:translate(-50%);width:0;height:0;border-left:20px solid transparent;border-right:20px solid transparent;border-top:20px solid white}.tooltip-icon[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-radius:50%;padding:10px;margin-right:16px}.tooltip-text[_ngcontent-%COMP%]{color:#333;font-size:16px}.tooltip-dismiss-button[_ngcontent-%COMP%]{margin-left:auto;background:transparent;border:none;cursor:pointer}.tooltip-dismiss-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;vertical-align:bottom}']})}return e})(),yK=(()=>{class e{transform(t,...n){if(!t)return t;const r=Math.floor(t/1e3%60),s=Math.floor(t/6e4%60),o=Math.floor(t/36e5%24),l=0===o&&s<10?s.toString():s<10?"0"+s:s;let M="";return o>0&&(M+=`${o<10?"0"+o:o}h `),(s>0||o>0)&&(M+=`${l}m `),M+=`${0===o&&0===s&&r<10?r.toString():r<10?"0"+r:r}s`,M}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275pipe=Ja({name:"elapsedTime",type:e,pure:!0})}return e})();const vLt=["keyboard"],bK=()=>[],xLt=(e,i)=>[e,i],jO=e=>[e],wK=e=>[e,"shadow-local"],yLt=e=>[e,"trophy-large","shadow-local"];function bLt(e,i){if(1&e&&(q(0,"div",8)(1,"div",9)(2,"div",10),ut(3," Loading... "),et(),Te(4,"mat-progress-bar",11),et()()),2&e){const t=Ct(2);ot(4),xt("value",t.loadingAssetsProgress)}}function wLt(e,i){1&e&&(q(0,"span")(1,"mat-icon"),ut(2,"favorite"),et()())}function _Lt(e,i){1&e&&(q(0,"span")(1,"mat-icon"),ut(2,"favorite_border"),et()())}function TLt(e,i){if(1&e&&(q(0,"span"),ut(1),et()),2&e){const t=i.$implicit;ot(),qe(t)}}function CLt(e,i){if(1&e&&(q(0,"span",33),jt(1,TLt,2,1,"span",18),et()),2&e){const t=i.$implicit;ot(),xt("ngForOf",t.split(""))}}function SLt(e,i){if(1&e&&(q(0,"div",31),jt(1,CLt,2,1,"span",32),et()),2&e){const t=Ct(2).ngIf;ot(),xt("ngForOf",t.displayTerm.join("").split(" "))}}function ELt(e,i){1&e&&(q(0,"div",34)(1,"div",35),ut(2," Choosing a random SNOMED CT concept using the FHIR API "),et(),Te(3,"mat-progress-bar",36),et())}function ALt(e,i){if(1&e){const t=ye();q(0,"div",37),zt("click",function(){return Gt(t),Ht(Ct(3).revealHint())}),ut(1," Reveal Hint "),et()}}function DLt(e,i){if(1&e){const t=ye();q(0,"div",37),zt("click",function(){return Gt(t),Ht(Ct(3).loadMenu())}),ut(1," Abandon game "),et()}}function MLt(e,i){1&e&&Te(0,"li",41),2&e&&xt("innerHTML",i.$implicit,Ff)}function ILt(e,i){if(1&e&&(q(0,"div",38)(1,"div",39)(2,"h2"),ut(3,"Hints:"),et(),q(4,"ul"),jt(5,MLt,1,1,"li",40),et()()()),2&e){const t=Ct(2).ngIf;ot(5),xt("ngForOf",t.hints)}}function kLt(e,i){if(1&e&&(q(0,"mat-icon",47),ut(1,"grade"),et()),2&e){const t=Ct().$implicit;Ps("left",Ct(3).calculateGoalPosition(t.score-5),"%"),xt("ngClass",_l(3,jO,t.name.toLowerCase()))}}function RLt(e,i){if(1&e&&(q(0,"mat-icon",48),ut(1,"grade"),et()),2&e){const t=Ct().$implicit;Ps("left",Ct(3).calculateGoalPosition(t.score-1),"%"),xt("ngClass",_l(3,jO,t.name.toLowerCase()))}}function PLt(e,i){if(1&e&&(q(0,"div",49),ut(1),et()),2&e){const t=Ct().$implicit;Ps("left",Ct(3).calculateGoalPosition(t.score),"%"),xt("ngClass",_l(4,jO,t.name.toLowerCase())),ot(),Ke("",t.name," trophy!")}}function FLt(e,i){if(1&e&&($i(0),Te(1,"div",42),jt(2,kLt,2,5,"mat-icon",43),q(3,"mat-icon",44),ut(4,"emoji_events"),et(),jt(5,RLt,2,5,"mat-icon",45)(6,PLt,2,6,"div",46),Qi()),2&e){const t=i.$implicit,n=Ct(2).ngIf,r=Ct();ot(),Wl(t.name.toLowerCase()),Ps("left",r.calculateGoalPosition(t.score),"%"),ot(),xt("ngIf",n.score>=t.score),ot(),Ps("left",r.calculateGoalPosition(t.score-3),"%"),xt("ngClass",UM(10,xLt,t.name.toLowerCase(),n.score>=t.score?"trophy-large":"")),ot(2),xt("ngIf",n.score>=t.score),ot(),xt("ngIf",n.score>=t.score)}}function OLt(e,i){if(1&e){const t=ye();q(0,"div")(1,"div",12)(2,"div",13),Te(3,"img",14),q(4,"div",15),ut(5),et()()(),q(6,"div",16)(7,"span",17),ut(8),et(),jt(9,wLt,3,0,"span",18)(10,_Lt,3,0,"span",18),q(11,"span",17),ut(12),et()(),jt(13,SLt,2,1,"div",19)(14,ELt,4,0,"div",20),q(15,"p",21),ut(16,"Click the keys to guess the letters of the term!"),et(),q(17,"div")(18,"app-keyboard",22,0),zt("letterGuessed",function(r){return Gt(t),Ht(Ct(2).guessLetter(r))}),et()(),q(20,"div",23),jt(21,ALt,2,0,"div",24)(22,DLt,2,0,"div",25),et(),jt(23,ILt,6,1,"div",26),q(24,"div",27),ut(25," * Hints are generated from the definition of the SNOMED CT concept, retrieved from the FHIR API as an SCG grammar expression "),et(),q(26,"div",28)(27,"h3"),ut(28,"Score Progression"),et(),q(29,"div",29),Te(30,"mat-progress-bar",30),jt(31,FLt,7,13,"ng-container",18),et()()()}if(2&e){const t=Ct().ngIf,n=Ct();ot(3),xt("@popIn",void 0),ot(2),qo(" ",t.difficultyLevel," - ",n.getLanguageName(n.selectedLanguage)," "),ot(3),qo(" Round: ",t.round," \xa0\xa0\xa0\xa0 Score: ",t.score," \xa0\xa0\xa0\xa0 Life: "),ot(),xt("ngForOf",tl(16,bK).constructor(t.hitPoints)),ot(),xt("ngForOf",tl(17,bK).constructor(t.rules.maxHitPoints-t.hitPoints)),ot(2),Ke(" \xa0\xa0\xa0\xa0 Time to guess: ",t.remainingTime,""),ot(),xt("ngIf","playing"==t.state),ot(),xt("ngIf","choosingTerm"===t.state),ot(3),xt("@shake",n.shakeState),ot(4),xt("ngIf","playing"==t.state&&t.hintsAvailable&&t.hitPoints>1),ot(),xt("ngIf","playing"==t.state),ot(),xt("ngIf",t.hints.length>0&&"playing"==t.state),ot(7),xt("value",n.calculateProgress(t.score)),ot(),xt("ngForOf",n.goals)}}function LLt(e,i){if(1&e){const t=ye();q(0,"div",50),Te(1,"img",51)(2,"img",52),q(3,"p",53)(4,"b"),ut(5,"Welcome to SnoGuess!"),et()(),q(6,"p",53),ut(7," A fun way to learn about SNOMED CT concepts and their definitions. "),et(),q(8,"div",54),zt("click",function(){return Gt(t),Ht(Ct(2).chooseDifficultyLevel())}),ut(9," New game "),et(),q(10,"div",54),zt("click",function(){return Gt(t),Ht(Ct(2).showInstructionsPanel())}),ut(11," Instructions "),et(),q(12,"div",55),zt("click",function(){return Gt(t),Ht(Ct(2).openScoreboard())}),ut(13," High Scores "),et(),q(14,"p",56),ut(15," Playing with terms in the IPS Reference Set in "),q(16,"b"),ut(17),et(),ut(18,", change language: "),et(),q(19,"div",57)(20,"button",58),zt("click",function(){return Gt(t),Ht(Ct(2).setLanguage("da"))}),ut(21,"DA"),et(),q(22,"button",58),zt("click",function(){return Gt(t),Ht(Ct(2).setLanguage("de"))}),ut(23,"DE"),et(),q(24,"button",58),zt("click",function(){return Gt(t),Ht(Ct(2).setLanguage("en"))}),ut(25,"EN"),et(),q(26,"button",58),zt("click",function(){return Gt(t),Ht(Ct(2).setLanguage("es"))}),ut(27,"ES"),et(),q(28,"button",58),zt("click",function(){return Gt(t),Ht(Ct(2).setLanguage("et"))}),ut(29,"ET"),et(),q(30,"button",58),zt("click",function(){return Gt(t),Ht(Ct(2).setLanguage("fi"))}),ut(31,"FI"),et(),q(32,"button",58),zt("click",function(){return Gt(t),Ht(Ct(2).setLanguage("fr"))}),ut(33,"FR"),et(),q(34,"button",58),zt("click",function(){return Gt(t),Ht(Ct(2).setLanguage("nl"))}),ut(35,"NL"),et(),q(36,"button",58),zt("click",function(){return Gt(t),Ht(Ct(2).setLanguage("no"))}),ut(37,"NO"),et(),q(38,"button",58),zt("click",function(){return Gt(t),Ht(Ct(2).setLanguage("sv"))}),ut(39,"SV"),et()()()}if(2&e){const t=Ct(2);ot(2),xt("@popIn",void 0),ot(6),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0),ot(5),qe(t.getLanguageName(t.selectedLanguage))}}function NLt(e,i){1&e&&(q(0,"span"),ut(1,", Endless"),et())}function BLt(e,i){if(1&e){const t=ye();q(0,"div",62)(1,"div",63),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct(3).startGame(r.name))}),ut(2),et(),q(3,"p",64),ut(4),q(5,"mat-icon",65),ut(6,"favorite"),et(),ut(7),q(8,"mat-icon",66),ut(9,"contact_support"),et(),ut(10),q(11,"mat-icon",67),ut(12,"timer"),et(),jt(13,NLt,2,0,"span",5),et()()}if(2&e){const t=i.$implicit;ot(),xt("@scrollUp",void 0),ot(),Ke(" ",t.name," "),ot(),xt("@fadeInDelayed",void 0),ot(),Ke(" Life: ",t.rules.maxHitPoints," "),ot(3),Ke(", Free hints: ",t.rules.freeHints," "),ot(3),qo(", Points per letter: ",t.rules.pointsPerGuessedLetter,", Time to guess: ",t.rules.maxRoundTime," "),ot(3),xt("ngIf",t.rules.endless)}}function VLt(e,i){if(1&e){const t=ye();q(0,"div",50),Te(1,"img",51)(2,"img",59),q(3,"p",53)(4,"b"),ut(5,"Choose the game difficulty"),et()(),jt(6,BLt,14,8,"div",60),q(7,"div",61),zt("click",function(){return Gt(t),Ht(Ct(2).backToMenu())}),ut(8," Back "),et()()}if(2&e){const t=Ct(2);ot(2),xt("@popIn",void 0),ot(4),xt("ngForOf",t.difficultyLevels),ot(),xt("@scrollUp",void 0)}}function ULt(e,i){if(1&e){const t=ye();q(0,"div",50),Te(1,"img",51)(2,"img",68),q(3,"ul",69)(4,"li",70)(5,"mat-icon"),ut(6,"check"),et(),ut(7,"Click the keys on the screen to guess the letters of the term "),q(8,"mat-icon",71),ut(9,"keyboard"),et()(),q(10,"li",70)(11,"mat-icon"),ut(12,"check"),et(),ut(13,"You have three to five lives, depending on your difficulty level "),q(14,"span",72)(15,"mat-icon"),ut(16,"favorite"),et(),q(17,"mat-icon"),ut(18,"favorite"),et(),q(19,"mat-icon"),ut(20,"favorite"),et()()(),q(21,"li",70)(22,"mat-icon"),ut(23,"check"),et(),ut(24,"There is also a maxmimum time to guess each term "),q(25,"mat-icon",73),ut(26,"timer"),et()(),q(27,"li",70)(28,"mat-icon"),ut(29,"check"),et(),ut(30,"You will loose one life with each wrong guess "),q(31,"mat-icon",72),ut(32,"favorite_border"),et()(),q(33,"li",70)(34,"mat-icon"),ut(35,"check"),et(),ut(36,"The game ends when you run out of lives or time"),q(37,"mat-icon",72),ut(38,"close"),et()(),q(39,"li",70)(40,"mat-icon"),ut(41,"check"),et(),ut(42,"You earn points for each correct guess "),q(43,"mat-icon",71),ut(44,"plus_one"),et()(),q(45,"li",70)(46,"mat-icon"),ut(47,"check"),et(),ut(48,"In Easy mode you get 2 hints for free, and in Medium mode you get one \u{1f4a1} "),et(),q(49,"li",70)(50,"mat-icon"),ut(51,"check"),et(),ut(52,"You can reveal more hints, but each hint it will cost one life "),q(53,"mat-icon",72),ut(54,"favorite_border"),et()(),q(55,"li",70)(56,"mat-icon"),ut(57,"check"),et(),ut(58,"If you guess the whole term you can recover one life"),q(59,"mat-icon",72),ut(60,"favorite"),et()(),q(61,"li",70)(62,"mat-icon"),ut(63,"check"),et(),ut(64,"Keep guessing terms to increase your score and earn trophies "),q(65,"mat-icon",74),ut(66,"emoji_events"),et()(),q(67,"li",70)(68,"mat-icon"),ut(69,"check"),et(),ut(70,"Endless mode will not finish when you reach the Diamond Trophy "),q(71,"mat-icon",75),ut(72,"emoji_events"),et()()(),q(73,"div",76),zt("click",function(){return Gt(t),Ht(Ct(2).hideInstructionsPanel())}),ut(74," Back "),et()()}2&e&&(ot(2),xt("@popIn",void 0),ot(71),xt("@scrollUp",void 0))}function zLt(e,i){1&e&&(q(0,"div",77),Te(1,"img",78),et()),2&e&&(ot(),xt("@popIn",void 0))}function GLt(e,i){if(1&e&&(q(0,"div"),ut(1),et()),2&e){const t=Ct(2).ngIf,n=Ct();ot(),Ke(" Trophy: ",n.getMaxTrophyObtained(t.score)," ")}}function HLt(e,i){if(1&e&&(q(0,"div")(1,"mat-icon",88),ut(2,"grade"),et(),ut(3," \xa0\xa0 "),q(4,"mat-icon",88),ut(5,"emoji_events"),et(),ut(6," \xa0 "),q(7,"mat-icon",88),ut(8,"grade"),et()()),2&e){const t=Ct(2).ngIf,n=Ct();ot(),xt("ngClass",_l(3,wK,n.getMaxTrophyObtained(t.score).toLocaleLowerCase())),ot(3),xt("ngClass",_l(5,yLt,n.getMaxTrophyObtained(t.score).toLocaleLowerCase())),ot(3),xt("ngClass",_l(7,wK,n.getMaxTrophyObtained(t.score).toLocaleLowerCase()))}}function WLt(e,i){1&e&&(q(0,"p",89),ut(1,"Checking high scores..."),et())}function jLt(e,i){if(1&e){const t=ye();q(0,"div",90)(1,"p",91),ut(2," This is a High Score! Save a message to the public leaderboard! "),et(),q(3,"input",92),Sa("ngModelChange",function(r){Gt(t);const s=Ct(3);return Ga(s.messageForLeaderboard,r)||(s.messageForLeaderboard=r),Ht(r)}),et(),q(4,"div",93),zt("click",function(){Gt(t);const r=Ct(2).ngIf;return Ht(Ct().saveScore(r))}),ut(5," Save "),et(),q(6,"p",94),ut(7,"No personal information is recorded"),et()()}if(2&e){const t=Ct(3);ot(3),Ca("ngModel",t.messageForLeaderboard)}}function XLt(e,i){if(1&e){const t=ye();q(0,"div",50),Te(1,"img",51)(2,"img",79),q(3,"div",80)(4,"div"),ut(5," The term was: "),et(),q(6,"div",81),ut(7),et(),q(8,"div",82),ut(9),et(),q(10,"div",83),ut(11),gs(12,"elapsedTime"),et(),jt(13,GLt,2,1,"div",5),et(),jt(14,HLt,9,9,"div",5)(15,WLt,2,0,"p",84)(16,jLt,8,1,"div",85),q(17,"div",86),zt("click",function(){Gt(t);const r=Ct(2);return r.loadMenu(),Ht(r.chooseDifficultyLevel())}),ut(18," New game "),et(),q(19,"div",86),zt("click",function(){return Gt(t),Ht(Ct(2).openScoreboard())}),ut(20," High Scores "),et(),q(21,"div",87),zt("click",function(){return Gt(t),Ht(Ct(2).loadMenu())}),ut(22," Main menu "),et()()}if(2&e){const t=Ct().ngIf,n=Ct();ot(2),xt("@popIn",void 0),ot(5),Ke(" ",t.term,""),ot(2),qo("",t.round," ",1==t.round?"round":"rounds",""),ot(2),Ux(" Final Score: ",t.score," points - Difficulty: ",t.difficultyLevel," - Total time: ",jl(12,14,t.endTimestamp-t.startTimestamp)," "),ot(2),xt("ngIf",n.getMaxTrophyObtained(t.score)),ot(),xt("ngIf",n.getMaxTrophyObtained(t.score)),ot(),xt("ngIf",n.highScoresLoading),ot(),xt("ngIf",n.highScore),ot(),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0)}}function YLt(e,i){if(1&e&&(q(0,"span"),ut(1),et()),2&e){const t=Ct(2).ngIf;ot(),Ke("\u2192 Bonus: ",t.livesBonus,"")}}function $Lt(e,i){if(1&e&&(q(0,"span"),ut(1),et()),2&e){const t=Ct(2).ngIf;ot(),Ke("\u2192 Bonus: ",t.difficultyBonus,"")}}function QLt(e,i){if(1&e&&(q(0,"span"),ut(1),et()),2&e){const t=Ct(2).ngIf;ot(),Ke("\u2192 Bonus: ",t.timeBonus,"")}}function KLt(e,i){if(1&e){const t=ye();q(0,"div",90)(1,"p",91),ut(2," This is a High Score! Save a message to the public leaderboard! "),et(),q(3,"input",100),Sa("ngModelChange",function(r){Gt(t);const s=Ct(3);return Ga(s.messageForLeaderboard,r)||(s.messageForLeaderboard=r),Ht(r)}),et(),q(4,"div",101),zt("click",function(){Gt(t);const r=Ct(2).ngIf;return Ht(Ct().saveScore(r))}),ut(5," Save "),et(),q(6,"p",94),ut(7,"No personal information is recorded"),et()()}if(2&e){const t=Ct(3);ot(3),Ca("ngModel",t.messageForLeaderboard)}}function ZLt(e,i){if(1&e){const t=ye();q(0,"div",50),Te(1,"img",51)(2,"img",95),q(3,"div",96)(4,"mat-icon",97),ut(5,"grade"),et(),q(6,"mat-icon",97),ut(7,"emoji_events"),et(),q(8,"mat-icon",97),ut(9,"grade"),et()(),q(10,"div",98),ut(11),jt(12,YLt,2,1,"span",5),et(),q(13,"div",98),ut(14),jt(15,$Lt,2,1,"span",5),et(),q(16,"div",98),ut(17),gs(18,"elapsedTime"),jt(19,QLt,2,1,"span",5),et(),q(20,"div",99),ut(21),et(),jt(22,KLt,8,1,"div",85),q(23,"div",86),zt("click",function(){Gt(t);const r=Ct(2);return r.loadMenu(),Ht(r.chooseDifficultyLevel())}),ut(24," New game "),et(),q(25,"div",86),zt("click",function(){return Gt(t),Ht(Ct(2).openScoreboard())}),ut(26," High Scores "),et(),q(27,"div",87),zt("click",function(){return Gt(t),Ht(Ct(2).loadMenu())}),ut(28," Main menu "),et()()}if(2&e){const t=Ct().ngIf,n=Ct();ot(2),xt("@popIn",void 0),ot(9),Ke("Lives left: ",t.hitPoints," "),ot(),xt("ngIf",t.livesBonus>0),ot(2),Ke("Difficulty: ",t.difficultyLevel," "),ot(),xt("ngIf",t.difficultyBonus>0),ot(2),Ke("Time: ",jl(18,12,t.endTimestamp-t.startTimestamp)," "),ot(2),xt("ngIf",t.timeBonus>0),ot(2),Ke("Final score: ",t.score,""),ot(),xt("ngIf",n.highScore),ot(),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0),ot(2),xt("@scrollUp",void 0)}}function JLt(e,i){if(1&e&&(q(0,"div",3),jt(1,bLt,5,1,"div",4)(2,OLt,32,18,"div",5)(3,LLt,40,5,"div",6)(4,VLt,9,3,"div",6)(5,ULt,75,2,"div",6)(6,zLt,2,1,"div",7)(7,XLt,23,16,"div",6)(8,ZLt,29,14,"div",6),et()),2&e){const t=i.ngIf,n=Ct();ot(),xt("ngIf",n.loadingAssets),ot(),xt("ngIf",("playing"==t.state||"choosingTerm"==t.state)&&!n.loadingAssets),ot(),xt("ngIf","menu"===t.state&&!n.chooseDifficulty&&!n.showInstructions&&!n.loadingAssets),ot(),xt("ngIf","menu"===t.state&&n.chooseDifficulty&&!n.showInstructions&&!n.loadingAssets),ot(),xt("ngIf",n.showInstructions),ot(),xt("ngIf",n.termGuessed),ot(),xt("ngIf","gameOver"===t.state),ot(),xt("ngIf","won"==t.state)}}let qLt=(()=>{class e{constructor(t,n,r,s,o){this.snoguessMainService=t,this.preloadService=n,this.terminologyService=r,this.firebaseService=s,this.router=o,this.shakeState="normal",this.termGuessed="",this.goals=[],this.loadingAssetsProgress=0,this.loadingAssets=!0,this.highScoresLoading=!1,this.showInstructions=!1,this.chooseDifficulty=!1,this.currentYear=new Date,this.difficultyLevels=[],this.elapsedTime=0,this.gameInProgress=!1,this.messageForLeaderboard="",this.highScore=!1}ngOnInit(){this.game=this.snoguessMainService.getGameState(),this.difficultyLevels=this.snoguessMainService.getDifficultyLevels(),this.game.subscribe(n=>{"playing"===n.state&&(this.goals=n.rules.goals),("gameOver"===n.state||"won"===n.state)&&(this.stopTimer(),this.highScoresLoading=!0,this.firebaseService.getScores(n.difficultyLevel).then(r=>{this.highScoresLoading=!1,(!r||r.length<20||n.score>r[r.length-1].score)&&(this.highScore=!0)}))}),this.snoguessMainService.guessResult.subscribe(n=>{!1===n.result?(this.keyboard?.addGuessedLetter(n.letter,!1),this.shakeState="shake",setTimeout(()=>this.shakeState="normal",200)):this.keyboard?.addGuessedLetter(n.letter,!0)}),this.snoguessMainService.termResult.subscribe(n=>{n&&(this.keyboard?.reset(),this.termGuessed=n,setTimeout(()=>{this.termGuessed=""},2e3))}),this.preloadService.preloadImages(["assets/img/SI_CT_w_tagline.png","assets/img/snoguess-logo.png","assets/img/congratulations.png","assets/img/correct.png","assets/img/game-over.png","assets/img/instructions.png","assets/img/difficulty.png","assets/img/scoreboard.png"]).then(()=>{setTimeout(()=>{this.loadingAssets=!1,this.loadMenu()},500)}),this.preloadService.loadingProgress.subscribe(n=>{this.loadingAssetsProgress=n}),this.terminologyService.fhirUrlParam$.subscribe(n=>{n&&this.terminologyService.getCodeSystem(n).subscribe(r=>{this.selectedEdition=r?.entry[0]?.resource?.title})}),this.terminologyService.lang$.subscribe(n=>{this.selectedLanguage=n})}loadMenu(){this.snoguessMainService.loadMenu()}backToMenu(){this.chooseDifficulty=!1}showInstructionsPanel(){this.showInstructions=!0}hideInstructionsPanel(){this.showInstructions=!1}chooseDifficultyLevel(){this.chooseDifficulty=!0}startGame(t){this.chooseDifficulty=!1,this.keyboard&&this.keyboard.reset(),this.stopTimer(),this.snoguessMainService.startGame(t),this.startTimer(),this.highScore=!1}guessLetter(t){var n=this;return Mt(function*(){"playing"===(yield function YIt(e,i){const t="object"==typeof i;return new Promise((n,r)=>{const s=new Xo({next:o=>{n(o),s.unsubscribe()},error:r,complete:()=>{t?n(i.defaultValue):r(new Eg)}});e.subscribe(s)})}(n.game))?.state&&n.snoguessMainService.guessLetter(t)})()}revealHint(){this.snoguessMainService.revealHint()}calculateProgress(t){return Math.min(t/this.goals[this.goals.length-1].score*100,100)}calculateGoalPosition(t){return t/this.goals[this.goals.length-1].score*100}findCurrentGoal(t){if(!t||t<this.goals[0].score)return{...this.goals[0],previousGoalScore:0};for(let n=0;n<this.goals.length;n++)if(n===this.goals.length-1||t<this.goals[n+1].score)return{...this.goals[n],previousGoalScore:0===n?0:this.goals[n-1].score};return{...this.goals[this.goals.length-1],previousGoalScore:this.goals[this.goals.length-2].score}}getMaxTrophyObtained(t){let n="";return this.goals.forEach(r=>{t>=r.score&&(n=r.name)}),n}startTimer(){this.elapsedTime=0,this.gameInProgress=!0;const t=Iy(0,1e3).pipe(Ri(n=>this.elapsedTime=n),YH(()=>this.gameInProgress));this.gameTimerSubscription=t.subscribe()}stopTimer(){this.gameInProgress=!1,this.gameTimerSubscription&&this.gameTimerSubscription.unsubscribe()}openScoreboard(t){t||(t=this.difficultyLevels[0].name),this.router.navigate(["/snoguess/scoreboard"],{queryParams:{level:t}})}saveScore(t){let n={score:t.score,numberOfRounds:t.round,difficulty:t.difficultyLevel,elapsed:t.endTimestamp-t.startTimestamp,date:ls.now(),message:this.messageForLeaderboard};this.firebaseService.addScore(t.difficultyLevel,n).then(()=>{this.messageForLeaderboard="",this.openScoreboard(t.difficultyLevel)}).catch(r=>{this.messageForLeaderboard="",console.error("Error saving score: ",r),this.loadMenu()})}getLanguageName(t){return{en:"English",es:"Spanish",fr:"French",de:"German",da:"Danish",nl:"Dutch",et:"Estonian",fi:"Finnish",no:"Norwegian",sv:"Swedish"}[t]||t}setLanguage(t){this.terminologyService.setLang(t),this.terminologyService.setFhirUrlParam({en:{lang:"en",fhirUrl:"http://snomed.info/sct/900000000000207008"},es:{lang:"es",fhirUrl:"http://snomed.info/sct/449081005"},fr:{lang:"fr",fhirUrl:"http://snomed.info/sct/11000241103"},de:{lang:"de",fhirUrl:"http://snomed.info/sct/11000274103"},da:{lang:"da",fhirUrl:"http://snomed.info/sct/554471000005108"},nl:{lang:"nl",fhirUrl:"http://snomed.info/sct/11000146104"},et:{lang:"et",fhirUrl:"http://snomed.info/sct/11000181102"},fi:{lang:"fi",fhirUrl:"http://snomed.info/sct/11000229106"},no:{lang:"no",fhirUrl:"http://snomed.info/sct/51000202101"},sv:{lang:"sv",fhirUrl:"http://snomed.info/sct/45991000052106"}}[t].fhirUrl)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(vK),mt(dLt),mt(fa),mt(xK),mt(No))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-snoguess-main"]],viewQuery:function(n,r){if(1&n&&Pi(vLt,5),2&n){let s;Ge(s=He())&&(r.keyboard=s.first)}},decls:6,vars:7,consts:[["keyboard",""],["class","snoguess-game",4,"ngIf"],[1,"text-center","mt-8","mb-4"],[1,"snoguess-game"],["class","assets-loading-container",4,"ngIf"],[4,"ngIf"],["class","flex flex-col items-center gap-4",4,"ngIf"],["class","overlay overlay-transparent",4,"ngIf"],[1,"assets-loading-container"],[1,"mt-48","mb-48"],[1,"progress-bar-message","text-center"],["mode","determinate",1,"game-progress-bar",3,"value"],[1,"flex","justify-center","mt-8","mb-8"],[1,"relative","w-1/4"],["src","assets/img/snoguess-logo.png","alt","Game Logo"],[1,"diff-label","absolute","-bottom-3","right-5","italic","text-gray-500"],[1,"hit-points"],[1,"score"],[4,"ngFor","ngForOf"],["class","term-display flex flex-row flex-wrap justify-center gap-8",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"guess-message"],[3,"letterGuessed"],[1,"game-buttons","mt-4"],["class","bg-gradient-to-b from-blue-500 to-gray-500 hover:from-black hover:to-blue-500 border-solid border-2 border-black \n      rounded-3xl pt-1 pb-1 pl-6 pr-6 w-fit text-center cursor-pointer font-bold text-white",3,"click",4,"ngIf"],["class","bg-gradient-to-b from-blue-500 to-gray-500 hover:from-black hover:to-blue-500 border-solid border-2 border-black \n        rounded-3xl pt-1 pb-1 pl-6 pr-6 w-fit text-center cursor-pointer font-bold text-white",3,"click",4,"ngIf"],["class","hints-container",4,"ngIf"],[1,"note"],[1,"score-progression-panel"],[1,"progress-bar-container"],["mode","determinate",3,"value"],[1,"term-display","flex","flex-row","flex-wrap","justify-center","gap-8"],["class","whitespace-nowrap",4,"ngFor","ngForOf"],[1,"whitespace-nowrap"],[1,"loading-container"],[1,"progress-bar-message"],["mode","indeterminate"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-2","border-black","rounded-3xl","pt-1","pb-1","pl-6","pr-6","w-fit","text-center","cursor-pointer","font-bold","text-white",3,"click"],[1,"hints-container"],[1,"hints-callout","text-center"],["class","hint-item",3,"innerHTML",4,"ngFor","ngForOf"],[1,"hint-item",3,"innerHTML"],[1,"goal-indicator"],["class","star-icon left-star",3,"ngClass","left",4,"ngIf"],[1,"trophy-icon",3,"ngClass"],["class","star-icon right-star",3,"ngClass","left",4,"ngIf"],["class","goal-name",3,"left","ngClass",4,"ngIf"],[1,"star-icon","left-star",3,"ngClass"],[1,"star-icon","right-star",3,"ngClass"],[1,"goal-name",3,"ngClass"],[1,"flex","flex-col","items-center","gap-4"],["src","assets/img/SI_CT_w_tagline.png","alt","SNOMED CT Logo",1,"w-1/6"],["src","assets/img/snoguess-logo.png","alt","Game Logo",1,"w-1/3","mt-8"],[1,"text-center","font-light","text-lg"],[1,"menu-buttons","bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-4","pr-4","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-12","text-3xl",3,"click"],[1,"menu-buttons","bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-4","pr-4","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-12","text-3xl",3,"click"],[1,"text-center","font-light","italic","text-lg"],[1,"text-center","font-light","italic","text-sm"],["mat-button","",3,"click"],["src","assets/img/difficulty.png","alt","Game Logo",1,"w-1/4","mt-8"],["class","level-container w-full flex flex-col justify-center items-center",4,"ngFor","ngForOf"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-12","pr-12","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-2","mb-8","text-3xl",3,"click"],[1,"level-container","w-full","flex","flex-col","justify-center","items-center"],[1,"menu-buttons","bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-4","pr-4","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-2","text-3xl",3,"click"],[1,"level-details","text-center","mt-3","flex","flex-row","items-center"],[1,"text-red-500","text-sm"],[1,"text-yellow-500","text-sm"],[1,"text-green-500","text-sm"],["src","assets/img/instructions.png","alt","Game Logo",1,"w-1/4","mt-8","mb-12"],[1,"text-left","instructions-text"],[1,"flex","flex-row","items-center","gap-2"],[1,"text-blue-900"],[1,"text-red-500"],[1,"text-green-500"],[1,"text-yellow-500"],[1,"text-blue-500"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pl-12","pr-12","pt-4","pb-4","w-1/5","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-24","text-3xl",3,"click"],[1,"overlay","overlay-transparent"],["src","assets/img/correct.png","alt","Correct",1,"w-1/5","mt-8"],["src","assets/img/game-over.png","alt","Game Logo",1,"w-1/4","mt-8"],[1,"text-xl","text-pretty","text-center"],[1,"font-bold"],[1,"mt-12"],[1,"mt-4"],["class","text-center italic text-gray-500",4,"ngIf"],["class","flex flex-col items-center gap-4 w-full",4,"ngIf"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pt-4","pb-4","w-1/6","text-center","cursor-pointer","font-bold","text-white","mt-12","text-2xl",3,"click"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pt-4","pb-4","w-1/6","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-24","text-2xl",3,"click"],[3,"ngClass"],[1,"text-center","italic","text-gray-500"],[1,"flex","flex-col","items-center","gap-4","w-full"],[1,"font-bold","text-lg","md:text-xl","text-blue-900"],["type","text","placeholder","Type your message here",1,"w-full","md:w-1/2","text-base","md:text-2xl","text-center","bg-blue-50","border-solid","border-2",3,"ngModelChange","ngModel"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-2","border-black","rounded-3xl","pl-4","pr-4","pt-1","pb-1","w-fit","text-center","cursor-pointer","font-bold","text-white","ml-4","md:text-2xl",3,"click"],[1,"text-sm","text-gray-400"],["src","assets/img/congratulations.png","alt","Game Logo",1,"w-1/3","mt-8"],[1,""],[1,"large-icon","diamond","shadow-local"],[1,"text-lg"],[1,"reveal","won"],["type","text","placeholder","Your message here",1,"w-full","md:w-1/2","text-base","md:text-lg",3,"ngModelChange","ngModel"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-2","border-black","rounded-3xl","pl-4","pr-4","pt-1","pb-1","w-fit","text-center","cursor-pointer","font-bold","text-white","ml-4",3,"click"]],template:function(n,r){1&n&&(jt(0,JLt,9,8,"div",1),gs(1,"async"),q(2,"div",2),ut(3),gs(4,"date"),et(),Te(5,"app-add-to-home")),2&n&&(xt("ngIf",jl(1,2,r.game)),ot(3),Ke(" Copyright \xa9 ",Sc(4,4,r.currentYear,"yyyy")," SNOMED International\n"))},dependencies:[Ac,ws,Fs,Ma,ma,uP,Al,Uo,ql,fLt,gLt,wI,Zd,yK],styles:[".snoguess-game[_ngcontent-%COMP%]{padding:20px;border-radius:8px;max-width:80%;margin:auto;box-shadow:0 4px 8px #0000001a;min-height:85vh!important}.term-display[_ngcontent-%COMP%]{font-size:24px;letter-spacing:4px;word-break:break-all;margin-bottom:20px;text-align:center;font-family:monospace}.term-display[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0}.hit-points[_ngcontent-%COMP%]{font-weight:700;color:#d9534f;text-align:center;margin-bottom:2rem}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}button[_ngcontent-%COMP%]{margin-right:8px}.guess-field[_ngcontent-%COMP%]{display:flex;align-items:center;vertical-align:middle;justify-content:center;gap:10px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1000}.overlay-dark[_ngcontent-%COMP%]{background-color:#00000080}.overlay-transparent[_ngcontent-%COMP%]{background-color:#0000}.message[_ngcontent-%COMP%]{font-size:4rem;text-align:center;margin-bottom:20px;font-weight:bolder}.reveal[_ngcontent-%COMP%]{font-size:2rem;text-align:center;margin-bottom:20px;font-weight:bolder}.won[_ngcontent-%COMP%]{color:#4caf50;text-shadow:black 2px 2px 2px}.lost[_ngcontent-%COMP%]{color:#f44336;text-shadow:rgb(0,0,0) 2px 2px 2px}.overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5rem;padding:10px 20px}.loading-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;margin-bottom:1rem}.progress-bar-message[_ngcontent-%COMP%]{color:#000;font-size:larger;margin-bottom:10px;font-style:italic;font-weight:lighter}.score[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700}.score-progression-panel[_ngcontent-%COMP%]{margin-top:2rem}.progress-bar-container[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:5rem;position:relative;background-color:#e0e0e0;border-radius:5px}.goal-indicator[_ngcontent-%COMP%]{position:absolute;bottom:0;width:2px;height:10px;background-color:#000}.goal-indicator.bronze[_ngcontent-%COMP%]{background-color:#cd7f32}.goal-indicator.silver[_ngcontent-%COMP%]{background-color:silver}.goal-indicator.gold[_ngcontent-%COMP%]{background-color:gold}.goal-indicator.platinum[_ngcontent-%COMP%]{background-color:#e5e4e2}.goal-indicator.diamond[_ngcontent-%COMP%]{background-color:#3b49c4}.trophy-icon[_ngcontent-%COMP%]{position:absolute;bottom:-35px;font-size:24px;width:24px;transition:transform .3s ease}.trophy-large[_ngcontent-%COMP%]{transform:scale(2.5) translate(-2px,3px)}.bronze[_ngcontent-%COMP%]{color:#cd7f32}.silver[_ngcontent-%COMP%]{color:silver}.gold[_ngcontent-%COMP%]{color:gold}.platinum[_ngcontent-%COMP%]{color:#e5e4e2}.diamond[_ngcontent-%COMP%]{color:#3b49c4}.shadow-local[_ngcontent-%COMP%]{text-shadow:black 2px 2px 2px}.star-icon[_ngcontent-%COMP%]{position:absolute;bottom:-40px;font-size:30px;width:30px;transition:transform .3s ease}.left-star[_ngcontent-%COMP%]{transform:translate(-50px)}.right-star[_ngcontent-%COMP%]{transform:translate(30px)}.goal-name[_ngcontent-%COMP%]{position:absolute;bottom:-75px;width:100px;margin-left:-50px;text-align:center;font-size:12px;font-weight:700;color:#000}.large-icon[_ngcontent-%COMP%]{font-size:5rem;width:5rem;height:5rem}.note[_ngcontent-%COMP%]{font-size:.8rem;font-weight:lighter;margin-top:1rem;text-align:center}.hints-container[_ngcontent-%COMP%]{margin-top:1rem}.hints-callout[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem}.hint-item[_ngcontent-%COMP%]{color:#555;font-size:1em;list-style-type:none;position:relative;padding:5px 0 5px 30px}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}li[_ngcontent-%COMP%]{margin-bottom:10px;color:#666;font-size:1.2rem}.guess-message[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-size:1.2rem}.assests-loading-container[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:#fff}.game-progress-bar[_ngcontent-%COMP%]{border-radius:22px;overflow:hidden;background-color:#e0e0e0;box-shadow:0 4px 8px #0003}.game-progress-bar[_ngcontent-%COMP%]   .mat-progress-bar-fill[_ngcontent-%COMP%]:after{background-color:#4caf50;border-radius:22px}.game-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;vertical-align:middle;justify-content:center;gap:10px}.level-details[_ngcontent-%COMP%]{visibility:hidden}.level-container[_ngcontent-%COMP%]:hover   .level-details[_ngcontent-%COMP%]{visibility:visible}@media (max-width: 1300px){.menu-buttons[_ngcontent-%COMP%]{font-size:large}}@media (max-width: 876px){.snoguess-game[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .bg-gradient-to-b[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .hints-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .score-progression-panel[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .guess-field[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important;margin:0 auto;box-sizing:border-box;box-shadow:none}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]{flex-direction:column;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin-bottom:1rem}.snoguess-game[_ngcontent-%COMP%]   .goal-indicator[_ngcontent-%COMP%]{display:none}.snoguess-game[_ngcontent-%COMP%]   .hit-points[_ngcontent-%COMP%]{margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .term-display[_ngcontent-%COMP%]{font-size:20px;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .guess-message[_ngcontent-%COMP%]{font-size:12px}.snoguess-game[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:11px!important}.snoguess-game[_ngcontent-%COMP%]   .pt-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pt-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-12[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-12[_ngcontent-%COMP%]{padding:10px}.snoguess-game[_ngcontent-%COMP%]   .font-bold[_ngcontent-%COMP%]{font-size:16px}.snoguess-game[_ngcontent-%COMP%]   .diff-label[_ngcontent-%COMP%]{text-align:right}}"],data:{animation:[yr("shake",[gn("normal => shake",mn(200,Kg([ai({transform:"translateX(0)"}),ai({transform:"translateX(-10px)"}),ai({transform:"translateX(10px)"}),ai({transform:"translateX(0)"})])))]),yr("popIn",[gn(":enter",[ai({transform:"scale(0.8)",opacity:0}),mn("0.5s cubic-bezier(.8, -0.6, 0.2, 1.5)",ai({transform:"scale(1.3)",opacity:1})),mn("0.2s cubic-bezier(.8, -0.6, 0.2, 1.5)",ai({transform:"scale(1)",opacity:1}))])]),yr("scrollUp",[gn(":enter",[ai({transform:"translateY(100%)",opacity:0}),mn("0.5s ease-out",ai({transform:"translateY(0)",opacity:1}))])]),yr("fadeInDelayed",[gn(":enter",[ai({opacity:0}),mn("1s 0.5s ease-out",ai({opacity:1}))])])]}})}return e})();const tNt=()=>({});function eNt(e,i){if(1&e){const t=ye();q(0,"li")(1,"a",11),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct().findingWithExplicitContextSelected(r))}),ut(2),et()()}if(2&e){const t=i.$implicit;ot(2),qe(t.display)}}function iNt(e,i){1&e&&(q(0,"th",20),ut(1," Type "),et())}function nNt(e,i){if(1&e&&(q(0,"td",21),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.type.display," ")}}function rNt(e,i){1&e&&(q(0,"th",20),ut(1," Target "),et())}function sNt(e,i){if(1&e&&(q(0,"td",21),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.target.code," ")}}function aNt(e,i){1&e&&(q(0,"th",20),ut(1," Target "),et())}function oNt(e,i){if(1&e&&(q(0,"td",21),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.target.display," ")}}function lNt(e,i){1&e&&Te(0,"tr",22)}function cNt(e,i){1&e&&Te(0,"tr",23)}function dNt(e,i){if(1&e&&(q(0,"div",4)(1,"h3"),ut(2),et(),q(3,"table",12),$i(4,13),jt(5,iNt,2,0,"th",14)(6,nNt,2,1,"td",15),Qi(),$i(7,16),jt(8,rNt,2,0,"th",14)(9,sNt,2,1,"td",15),Qi(),$i(10,17),jt(11,aNt,2,0,"th",14)(12,oNt,2,1,"td",15),Qi(),jt(13,lNt,1,0,"tr",18)(14,cNt,1,0,"tr",19),et()()),2&e){const t=Ct();ot(2),Ke("Relevant attributes (",t.selectedSituation.display,")"),ot(),xt("dataSource",t.dataSource),ot(10),xt("matHeaderRowDef",t.displayedColumns),ot(),xt("matRowDefColumns",t.displayedColumns)}}function uNt(e,i){if(1&e&&(q(0,"div",4)(1,"h3"),ut(2,"Resource Type"),et(),q(3,"a",24)(4,"span"),ut(5),et(),q(6,"mat-icon"),ut(7,"open_in_new"),et()()()),2&e){const t=Ct();ot(3),xt("href","https://hl7.org/fhir/R4/"+t.resourceType+".html",lx),ot(2),Ke("FHIR R4 ",t.resourceType,"")}}function hNt(e,i){if(1&e){const t=ye();q(0,"div",25)(1,"button",26),zt("click",function(){Gt(t);const r=Ct();return Ht(r.saveOutput(r.fhirRepresentationString))}),Te(2,"mat-icon",27),et(),q(3,"button",28),zt("click",function(){Gt(t);const r=Ct();return Ht(r.copyOutputToClipboard(r.fhirRepresentationString))}),Te(4,"mat-icon",29),et()()}}let fNt=(()=>{class e{constructor(t,n){this.terminologyService=t,this.clipboard=n,this.fhirRepresentationString="{}",this.situationsBinding={title:"Finding with explicit context",type:"Autocomplete",ecl:"<< 413350009 |Finding with explicit context (situation)|",value:"",note:"Select a finding with explicit context"},this.SituationConstants={KnownPresent:{code:"410515003",display:"Known present",selfAndDescendants:[]},KnownAbsent:{code:"410516002",display:"Known absent",selfAndDescendants:[]},SubjectOfRecord:{code:"410604004",display:"Subject of record",selfAndDescendants:[]},PersonInTheFamily:{code:"303071001",display:"Person in the family",selfAndDescendants:[]},InThePast:{code:"410513005",display:"In the past",selfAndDescendants:[]},CurrentOrSpecifiedTime:{code:"410512000",display:"Current or specified time",selfAndDescendants:[]},KnownPossible:{code:"410590009",display:"Known possible",selfAndDescendants:[]}},this.examples=[{code:"160377001",display:"Family history of asthma"},{code:"12147341000119108",display:"History of burn"},{code:"428942009",display:"History of fall"},{code:"300890009",display:"Swelling absent"},{code:"162057007",display:"Nausea present"},{code:"401204006",display:"Suspected autism"}],this.displayedColumns=["type","targetCode","targetDisplay"],this.dataSource=[]}ngOnInit(){this.loadOrUpdateConstants()}loadOrUpdateConstants(){var t=this;return Mt(function*(){let n=localStorage.getItem("SituationConstants");n?(t.SituationConstants=JSON.parse(n),console.log("Loaded constants from cache.")):(yield t.updateConstantDescendants(),localStorage.setItem("SituationConstants",JSON.stringify(t.SituationConstants)),console.log("Updated constants and cached them."))})()}updateConstantDescendants(){var t=this;return Mt(function*(){for(const n in t.SituationConstants)if(Object.prototype.hasOwnProperty.call(t.SituationConstants,n)){const r=t.SituationConstants[n];let s=yield Da(t.terminologyService.expandValueSet("<< "+r.code,"",0,1e3));r.selfAndDescendants=s.expansion.contains.map(o=>o.code)}})()}convertSituationToFhir(t){var n=this;return Mt(function*(){n.selectedSituation=t,n.fhirRepresentation=null,n.fhirRepresentationString="Loading...",n.dataSource=[],n.resourceType=void 0;let l,w,S,M,r=yield Da(n.terminologyService.lookupConcept(t.code)),s=n.terminologyService.getNormalForm(r);if(n.terminologyService.parseNormmalForm(s).groups.forEach(P=>{const O=P.find(W=>"408732007"===W.type.code);O&&(n.dataSource=[...n.dataSource,O],w=O.target);const N=P.find(W=>"408729009"===W.type.code);N&&(n.dataSource=[...n.dataSource,N],l=N.target);const U=P.find(W=>"408731000"===W.type.code);U&&(n.dataSource=[...n.dataSource,U],S=U.target);const j=P.find(W=>"246090004"===W.type.code);j&&(n.dataSource=[...n.dataSource,j],M=j.target)}),M){const P=n.SituationConstants.KnownPresent.selfAndDescendants.includes(l?.code),O=n.SituationConstants.SubjectOfRecord.selfAndDescendants.includes(w?.code),N=n.SituationConstants.InThePast.selfAndDescendants.includes(S?.code),U=n.SituationConstants.KnownAbsent.selfAndDescendants.includes(l?.code),j=n.SituationConstants.KnownPossible.selfAndDescendants.includes(l?.code),W=n.SituationConstants.CurrentOrSpecifiedTime.selfAndDescendants.includes(S?.code),Z=n.SituationConstants.PersonInTheFamily.selfAndDescendants.includes(w?.code);P&&O&&N?n.updateFhirRepresentation(n.createFhirCondition(M,"inactive")):P&&O&&W?n.updateFhirRepresentation(n.createFhirCondition(M,"active")):j&&O&&W?n.updateFhirRepresentation(n.createFhirCondition(M,"unconfirmed")):P&&Z?n.updateFhirRepresentation(n.createFamilyMemberHistoryForFinding(M,w)):U&&O&&W?n.updateFhirRepresentation(n.createFhirObservationForAbsentFinding(M)):n.fhirRepresentationString="No FHIR representation for this situation"}else n.fhirRepresentationString="No FHIR representation for this situation"})()}updateFhirRepresentation(t){this.fhirRepresentation=t,this.fhirRepresentationString=JSON.stringify(t,null,2)}findingWithExplicitContextSelected(t){t&&t.code&&this.convertSituationToFhir(t)}createFhirCondition(t,n){return this.resourceType="Condition",{resourceType:"Condition",subject:{reference:"Patient/1234"},clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:n}]},code:{coding:[{system:"http://snomed.info/sct",code:t.code,display:t.display}]}}}createFhirObservationForAbsentFinding(t){return this.resourceType="Observation",{resourceType:"Observation",subject:{reference:"Patient/1234"},status:"registered",code:{coding:[{system:"http://snomed.info/sct",code:t.code,display:t.display}]},valueCodeableConcept:{coding:[{system:"http://snomed.info/sct",code:"410516002",display:"Known absent"}]}}}createFamilyMemberHistoryForFinding(t,n){return this.resourceType="FamilyMemberHistory",{resourceType:"FamilyMemberHistory",status:"completed",patient:{reference:"Patient/1234"},relationship:{coding:[{system:"http://snomed.info/sct",code:n.code,display:n.display}]},condition:[{code:{coding:[{system:"http://snomed.info/sct",code:t.code,display:t.display}]}}]}}saveOutput(t){var n=new Blob([t],{type:"text/plain;charset=utf-8"});(0,gd.saveAs)(n,`${this.selectedSituation.display}-fhir.json`)}copyOutputToClipboard(t){this.clipboard.copy(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fa),mt(GR))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-situation-map"]],decls:17,vars:9,consts:[[1,"p-8"],[1,"flex","flex-wrap","gap-4"],[1,"w-1/3"],[1,"w-auto",3,"selectionChange","binding"],[1,"mt-8"],[4,"ngFor","ngForOf"],["class","mt-8",4,"ngIf"],[1,"flex-grow"],[1,"output"],["id","save",4,"ngIf"],["highlight-js","","id","output","wrap","soft",3,"options","lang","innerHTML"],["href","javascript:void(0);",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","targetCode"],["matColumnDef","targetDisplay"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["target","_blank",1,"flex","flex-row","items-center","gap-2",3,"href"],["id","save"],["mat-icon-button","","matTooltip","Download",3,"click"],["fontIcon","cloud_download"],["mat-icon-button","","matTooltip","Copy",3,"click"],["fontIcon","content_copy"]],template:function(n,r){1&n&&(q(0,"div",0)(1,"h2"),ut(2,"Consistent Context Representation for Situations with Explicit Context"),et(),q(3,"div",1)(4,"div",2)(5,"app-autocomplete-binding",3),zt("selectionChange",function(o){return r.findingWithExplicitContextSelected(o)}),et(),q(6,"h3",4),ut(7,"Examples"),et(),q(8,"ul"),jt(9,eNt,3,1,"li",5),et(),jt(10,dNt,15,4,"div",6)(11,uNt,8,2,"div",6),et(),q(12,"div",7)(13,"div",8),jt(14,hNt,5,0,"div",9),q(15,"textarea",10),ut(16,"                "),et()()()()()),2&n&&(ot(5),xt("binding",r.situationsBinding),ot(4),xt("ngForOf",r.examples),ot(),xt("ngIf",null==r.selectedSituation?null:r.selectedSituation.display),ot(),xt("ngIf",r.resourceType),ot(3),xt("ngIf",r.fhirRepresentationString.length>15),ot(),xt("options",tl(8,tNt))("lang","json")("innerHTML",r.fhirRepresentationString,Ff))},dependencies:[ws,Fs,HC,Bo,ma,Dh,pu,Mh,gu,mu,Ih,vu,xu,kh,Rh,bu,av],styles:[".output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative;margin:2rem;min-height:45rem}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}"]})}return e})(),mNt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-context-main"]],decls:1,vars:0,template:function(n,r){1&n&&Te(0,"app-situation-map")},dependencies:[fNt]})}return e})();var pNt=It(1867),gNt=It.n(pNt);let vNt=(()=>{class e{constructor(){this.filter=new(gNt())}transform(t){return t&&this.filter.clean(t)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275pipe=Ja({name:"safeText",type:e,pure:!0})}return e})();function xNt(e,i){if(1&e){const t=ye();q(0,"a",13),zt("click",function(){Gt(t);const r=Ct().$implicit;return Ht(Ct().setLevel(r.name))}),ut(1),et()}if(2&e){const t=Ct().$implicit;ot(),Ke(" ",t.name," ")}}function yNt(e,i){if(1&e&&(q(0,"span",14),ut(1),et()),2&e){const t=Ct().$implicit;ot(),qe(t.name)}}function bNt(e,i){if(1&e&&(q(0,"span"),jt(1,xNt,2,1,"a",7)(2,yNt,2,1,"span",8),et()),2&e){const t=i.$implicit,n=Ct();ot(),xt("ngIf",n.selectedLevel!=t.name),ot(),xt("ngIf",n.selectedLevel==t.name)}}function wNt(e,i){if(1&e){const t=ye();q(0,"a",13),zt("click",function(){return Gt(t),Ht(Ct().setLevel("scoreboard"))}),ut(1," Legacy "),et()}}function _Nt(e,i){1&e&&(q(0,"span",14),ut(1,"Legacy"),et())}function TNt(e,i){1&e&&Te(0,"mat-spinner",15)}function CNt(e,i){1&e&&(q(0,"th",28),ut(1," Position "),et())}function SNt(e,i){if(1&e&&(q(0,"td",29),ut(1),et()),2&e){const t=i.index;ot(),Ke(" ",t+1," ")}}function ENt(e,i){1&e&&(q(0,"th",28),ut(1," Message "),et())}function ANt(e,i){if(1&e&&(q(0,"span"),ut(1),gs(2,"safeText"),et()),2&e){const t=Ct().$implicit;ot(),qe(jl(2,1,t.message))}}function DNt(e,i){1&e&&(q(0,"span",31)(1,"i"),ut(2,"No information available (qualifier value)"),et()())}function MNt(e,i){if(1&e&&(q(0,"td",29),jt(1,ANt,3,3,"span",11)(2,DNt,3,0,"span",30),et()),2&e){const t=i.$implicit;ot(),xt("ngIf",t.message),ot(),xt("ngIf",!t.message)}}function INt(e,i){1&e&&(q(0,"th",28),ut(1," Score "),et())}function kNt(e,i){if(1&e&&(q(0,"td",29),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.score," ")}}function RNt(e,i){1&e&&(q(0,"th",28),ut(1," Rounds "),et())}function PNt(e,i){if(1&e&&(q(0,"td",29),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.numberOfRounds," ")}}function FNt(e,i){1&e&&(q(0,"th",28),ut(1," Difficulty "),et())}function ONt(e,i){if(1&e&&(q(0,"td",29),ut(1),et()),2&e){const t=i.$implicit;ot(),Ke(" ",t.difficulty," ")}}function LNt(e,i){1&e&&(q(0,"th",28),ut(1," Time Played "),et())}function NNt(e,i){if(1&e&&(q(0,"td",29),ut(1),gs(2,"elapsedTime"),et()),2&e){const t=i.$implicit;ot(),Ke(" ",jl(2,1,t.elapsed)," ")}}function BNt(e,i){1&e&&(q(0,"th",28),ut(1," Date "),et())}function VNt(e,i){if(1&e&&(q(0,"td",29),ut(1),gs(2,"date"),et()),2&e){const t=i.$implicit;ot(),Ke(" ",Sc(2,1,t.date,"short")," ")}}function UNt(e,i){1&e&&Te(0,"tr",32)}function zNt(e,i){1&e&&Te(0,"tr",33)}function GNt(e,i){if(1&e&&(q(0,"div")(1,"table",16),$i(2,17),jt(3,CNt,2,0,"th",18)(4,SNt,2,1,"td",19),Qi(),$i(5,20),jt(6,ENt,2,0,"th",18)(7,MNt,3,2,"td",19),Qi(),$i(8,21),jt(9,INt,2,0,"th",18)(10,kNt,2,1,"td",19),Qi(),$i(11,22),jt(12,RNt,2,0,"th",18)(13,PNt,2,1,"td",19),Qi(),$i(14,23),jt(15,FNt,2,0,"th",18)(16,ONt,2,1,"td",19),Qi(),$i(17,24),jt(18,LNt,2,0,"th",18)(19,NNt,3,3,"td",19),Qi(),$i(20,25),jt(21,BNt,2,0,"th",18)(22,VNt,3,4,"td",19),Qi(),jt(23,UNt,1,0,"tr",26)(24,zNt,1,0,"tr",27),et()()),2&e){const t=Ct();ot(),xt("dataSource",t.dataSource),ot(22),xt("matHeaderRowDef",t.displayedColumns),ot(),xt("matRowDefColumns",t.displayedColumns)}}let HNt=(()=>{class e{constructor(t,n,r,s){this.firebaseService=t,this.router=n,this.snoguessMainService=r,this.route=s,this.displayedColumns=["position","message","difficulty","score","numberOfRounds","secondsPlayed","date"],this.dataSource=[],this.loadingScores=!1,this.difficultyLevels=[],this.selectedLevel=""}ngOnInit(){this.difficultyLevels=this.snoguessMainService.getDifficultyLevels(),this.route.queryParams.subscribe(t=>{const n=t.level;this.selectedLevel=n&&this.difficultyLevels.some(s=>s.name===n)?n:this.difficultyLevels[0].name,this.loadScores(this.selectedLevel),t.refresh&&this.startAutoRefresh()})}ngOnDestroy(){this.stopAutoRefresh()}startAutoRefresh(){this.stopAutoRefresh(),this.intervalId=setInterval(()=>{this.loadScores(this.selectedLevel)},6e4)}stopAutoRefresh(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}setLevel(t){this.selectedLevel=t,this.loadScores(t)}loadScores(t){this.loadingScores=!0,this.firebaseService.getScores(t).then(n=>{this.dataSource=n.map(r=>({...r,date:r.date?r.date.toDate():new Date})),this.loadingScores=!1})}backToGame(){this.router.navigate(["/snoguess"])}static#t=this.\u0275fac=function(n){return new(n||e)(mt(xK),mt(No),mt(vK),mt(Ic))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-scoreboard"]],decls:19,vars:8,consts:[[1,"flex","flex-col","items-center","gap-4","pt-6","snoguess-game"],["src","assets/img/SI_CT_w_tagline.png","alt","SNOMED CT Logo",1,"w-1/6"],["src","assets/img/scoreboard.png","alt","High Scores",1,"w-1/4","mt-8"],[1,"mb-2","flex","flex-row","items-center","gap-1"],[1,"diamond"],[1,"mb-3","flex","flex-row","items-center","gap-3"],[4,"ngFor","ngForOf"],["href","javascript:void(0)","class","text-blue-500 underline",3,"click",4,"ngIf"],["class","selected-level",4,"ngIf"],[1,"flex","flex-row","items-center","gap-3"],["diameter","50",4,"ngIf"],[4,"ngIf"],[1,"bg-gradient-to-b","from-blue-500","to-gray-500","hover:from-black","hover:to-blue-500","border-solid","border-4","border-black","rounded-3xl","pt-4","pb-4","w-1/6","text-center","cursor-pointer","font-bold","text-white","mt-12","mb-24","text-2xl",3,"click"],["href","javascript:void(0)",1,"text-blue-500","underline",3,"click"],[1,"selected-level"],["diameter","50"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","message"],["matColumnDef","score"],["matColumnDef","numberOfRounds"],["matColumnDef","difficulty"],["matColumnDef","secondsPlayed"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["class","text-gray-400",4,"ngIf"],[1,"text-gray-400"],["mat-header-row",""],["mat-row",""]],template:function(n,r){1&n&&(q(0,"div",0),Te(1,"img",1)(2,"img",2),q(3,"div",3)(4,"span"),ut(5,"Messages posted by players!\xa0"),et(),q(6,"mat-icon",4),ut(7,"emoji_events"),et()(),q(8,"div",5),jt(9,bNt,3,2,"span",6)(10,wNt,2,0,"a",7)(11,_Nt,2,0,"span",8),et(),q(12,"div",9)(13,"h3"),ut(14),et()(),jt(15,TNt,1,0,"mat-spinner",10)(16,GNt,25,3,"div",11),q(17,"div",12),zt("click",function(){return r.backToGame()}),ut(18," Back to game "),et()()),2&n&&(ot(2),xt("@popIn",void 0),ot(7),xt("ngForOf",r.difficultyLevels),ot(),xt("ngIf","scoreboard"!=r.selectedLevel),ot(),xt("ngIf","scoreboard"==r.selectedLevel),ot(3),Ke("Top 20 ",r.selectedLevel," level scores"),ot(),xt("ngIf",r.loadingScores),ot(),xt("ngIf",!r.loadingScores),ot(),xt("@scrollUp",void 0))},dependencies:[ws,Fs,ma,Ah,Dh,pu,Mh,gu,mu,Ih,vu,xu,kh,Rh,Zd,yK,vNt],styles:[".diamond[_ngcontent-%COMP%]{color:#3b49c4}.snoguess-game[_ngcontent-%COMP%]{padding:20px;border-radius:8px;max-width:80%;margin:auto;box-shadow:0 4px 8px #0000001a}@media (max-width: 1300px){.menu-buttons[_ngcontent-%COMP%]{font-size:large}}@media (max-width: 876px){.snoguess-game[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .bg-gradient-to-b[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .hints-container[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .score-progression-panel[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .guess-field[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important;margin:0 auto;box-sizing:border-box;box-shadow:none}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]{flex-direction:column;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;margin-bottom:1rem}.snoguess-game[_ngcontent-%COMP%]   .goal-indicator[_ngcontent-%COMP%]{display:none}.snoguess-game[_ngcontent-%COMP%]   .hit-points[_ngcontent-%COMP%]{margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .term-display[_ngcontent-%COMP%]{font-size:20px;margin-top:1rem}.snoguess-game[_ngcontent-%COMP%]   .guess-message[_ngcontent-%COMP%]{font-size:12px}.snoguess-game[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:11px!important}.snoguess-game[_ngcontent-%COMP%]   .pt-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-1[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-6[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pt-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pb-4[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pl-12[_ngcontent-%COMP%], .snoguess-game[_ngcontent-%COMP%]   .pr-12[_ngcontent-%COMP%]{padding:10px}.snoguess-game[_ngcontent-%COMP%]   .font-bold[_ngcontent-%COMP%]{font-size:16px}.snoguess-game[_ngcontent-%COMP%]   .diff-label[_ngcontent-%COMP%]{text-align:right}}.selected-level[_ngcontent-%COMP%]{font-weight:700}"],data:{animation:[yr("shake",[gn("normal => shake",mn(200,Kg([ai({transform:"translateX(0)"}),ai({transform:"translateX(-10px)"}),ai({transform:"translateX(10px)"}),ai({transform:"translateX(0)"})])))]),yr("popIn",[gn(":enter",[ai({transform:"scale(0.8)",opacity:0}),mn("0.5s cubic-bezier(.8, -0.6, 0.2, 1.5)",ai({transform:"scale(1.3)",opacity:1})),mn("0.2s cubic-bezier(.8, -0.6, 0.2, 1.5)",ai({transform:"scale(1)",opacity:1}))])]),yr("scrollUp",[gn(":enter",[ai({transform:"translateY(100%)",opacity:0}),mn("0.5s ease-out",ai({transform:"translateY(0)",opacity:1}))])]),yr("fadeInDelayed",[gn(":enter",[ai({opacity:0}),mn("1s 0.5s ease-out",ai({opacity:1}))])])]}})}return e})();var WNt=It(4418),jNt=It.n(WNt);function qv(e){return e+.5|0}const Mu=(e,i,t)=>Math.max(Math.min(e,t),i);function Vb(e){return Mu(qv(2.55*e),0,255)}function rf(e){return Mu(qv(255*e),0,255)}function Iu(e){return Mu(qv(e/2.55)/100,0,1)}function _K(e){return Mu(qv(100*e),0,100)}const ic={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},XO=[..."0123456789ABCDEF"],XNt=e=>XO[15&e],YNt=e=>XO[(240&e)>>4]+XO[15&e],rE=e=>(240&e)>>4==(15&e);const JNt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function TK(e,i,t){const n=i*Math.min(t,1-t),r=(s,o=(s+e/30)%12)=>t-n*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function qNt(e,i,t){const n=(r,s=(r+e/60)%6)=>t-t*i*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function t4t(e,i,t){const n=TK(e,1,.5);let r;for(i+t>1&&(r=1/(i+t),i*=r,t*=r),r=0;r<3;r++)n[r]*=1-i-t,n[r]+=i;return n}function YO(e){const t=e.r/255,n=e.g/255,r=e.b/255,s=Math.max(t,n,r),o=Math.min(t,n,r),l=(s+o)/2;let w,S,M;return s!==o&&(M=s-o,S=l>.5?M/(2-s-o):M/(s+o),w=function e4t(e,i,t,n,r){return e===r?(i-t)/n+(i<t?6:0):i===r?(t-e)/n+2:(e-i)/n+4}(t,n,r,M,s),w=60*w+.5),[0|w,S||0,l]}function $O(e,i,t,n){return(Array.isArray(i)?e(i[0],i[1],i[2]):e(i,t,n)).map(rf)}function QO(e,i,t){return $O(TK,e,i,t)}function CK(e){return(e%360+360)%360}const SK={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},EK={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let sE;const c4t=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,KO=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,t0=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function aE(e,i,t){if(e){let n=YO(e);n[i]=Math.max(0,Math.min(n[i]+n[i]*t,0===i?360:1)),n=QO(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function AK(e,i){return e&&Object.assign(i||{},e)}function DK(e){var i={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(i={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(i.a=rf(e[3]))):(i=AK(e,{r:0,g:0,b:0,a:1})).a=rf(i.a),i}function f4t(e){return"r"===e.charAt(0)?function d4t(e){const i=c4t.exec(e);let n,r,s,t=255;if(i){if(i[7]!==n){const o=+i[7];t=i[8]?Vb(o):Mu(255*o,0,255)}return n=+i[1],r=+i[3],s=+i[5],n=255&(i[2]?Vb(n):Mu(n,0,255)),r=255&(i[4]?Vb(r):Mu(r,0,255)),s=255&(i[6]?Vb(s):Mu(s,0,255)),{r:n,g:r,b:s,a:t}}}(e):function r4t(e){const i=JNt.exec(e);let n,t=255;if(!i)return;i[5]!==n&&(t=i[6]?Vb(+i[5]):rf(+i[5]));const r=CK(+i[2]),s=+i[3]/100,o=+i[4]/100;return n="hwb"===i[1]?function i4t(e,i,t){return $O(t4t,e,i,t)}(r,s,o):"hsv"===i[1]?function n4t(e,i,t){return $O(qNt,e,i,t)}(r,s,o):QO(r,s,o),{r:n[0],g:n[1],b:n[2],a:t}}(e)}class e0{constructor(i){if(i instanceof e0)return i;const t=typeof i;let n;"object"===t?n=DK(i):"string"===t&&(n=function QNt(e){var t,i=e.length;return"#"===e[0]&&(4===i||5===i?t={r:255&17*ic[e[1]],g:255&17*ic[e[2]],b:255&17*ic[e[3]],a:5===i?17*ic[e[4]]:255}:(7===i||9===i)&&(t={r:ic[e[1]]<<4|ic[e[2]],g:ic[e[3]]<<4|ic[e[4]],b:ic[e[5]]<<4|ic[e[6]],a:9===i?ic[e[7]]<<4|ic[e[8]]:255})),t}(i)||function l4t(e){sE||(sE=function o4t(){const e={},i=Object.keys(EK),t=Object.keys(SK);let n,r,s,o,l;for(n=0;n<i.length;n++){for(o=l=i[n],r=0;r<t.length;r++)s=t[r],l=l.replace(s,SK[s]);s=parseInt(EK[o],16),e[l]=[s>>16&255,s>>8&255,255&s]}return e}(),sE.transparent=[0,0,0,0]);const i=sE[e.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:4===i.length?i[3]:255}}(i)||f4t(i)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var i=AK(this._rgb);return i&&(i.a=Iu(i.a)),i}set rgb(i){this._rgb=DK(i)}rgbString(){return this._valid?function u4t(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Iu(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?function ZNt(e){var i=(e=>rE(e.r)&&rE(e.g)&&rE(e.b)&&rE(e.a))(e)?XNt:YNt;return e?"#"+i(e.r)+i(e.g)+i(e.b)+((e,i)=>e<255?i(e):"")(e.a,i):void 0}(this._rgb):void 0}hslString(){return this._valid?function a4t(e){if(!e)return;const i=YO(e),t=i[0],n=_K(i[1]),r=_K(i[2]);return e.a<255?`hsla(${t}, ${n}%, ${r}%, ${Iu(e.a)})`:`hsl(${t}, ${n}%, ${r}%)`}(this._rgb):void 0}mix(i,t){if(i){const n=this.rgb,r=i.rgb;let s;const o=t===s?.5:t,l=2*o-1,w=n.a-r.a,S=((l*w==-1?l:(l+w)/(1+l*w))+1)/2;s=1-S,n.r=255&S*n.r+s*r.r+.5,n.g=255&S*n.g+s*r.g+.5,n.b=255&S*n.b+s*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(i,t){return i&&(this._rgb=function h4t(e,i,t){const n=t0(Iu(e.r)),r=t0(Iu(e.g)),s=t0(Iu(e.b));return{r:rf(KO(n+t*(t0(Iu(i.r))-n))),g:rf(KO(r+t*(t0(Iu(i.g))-r))),b:rf(KO(s+t*(t0(Iu(i.b))-s))),a:e.a+t*(i.a-e.a)}}(this._rgb,i._rgb,t)),this}clone(){return new e0(this.rgb)}alpha(i){return this._rgb.a=rf(i),this}clearer(i){return this._rgb.a*=1-i,this}greyscale(){const i=this._rgb,t=qv(.3*i.r+.59*i.g+.11*i.b);return i.r=i.g=i.b=t,this}opaquer(i){return this._rgb.a*=1+i,this}negate(){const i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return aE(this._rgb,2,i),this}darken(i){return aE(this._rgb,2,-i),this}saturate(i){return aE(this._rgb,1,i),this}desaturate(i){return aE(this._rgb,1,-i),this}rotate(i){return function s4t(e,i){var t=YO(e);t[0]=CK(t[0]+i),t=QO(t),e.r=t[0],e.g=t[1],e.b=t[2]}(this._rgb,i),this}}function ku(){}const m4t=(()=>{let e=0;return()=>e++})();function ir(e){return null==e}function es(e){if(Array.isArray&&Array.isArray(e))return!0;const i=Object.prototype.toString.call(e);return"[object"===i.slice(0,7)&&"Array]"===i.slice(-6)}function jn(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Ss(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function Rl(e,i){return Ss(e)?e:i}function Tn(e,i){return typeof e>"u"?i:e}const MK=(e,i)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*i:+e;function $r(e,i,t){if(e&&"function"==typeof e.call)return e.apply(t,i)}function Er(e,i,t,n){let r,s,o;if(es(e))if(s=e.length,n)for(r=s-1;r>=0;r--)i.call(t,e[r],r);else for(r=0;r<s;r++)i.call(t,e[r],r);else if(jn(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)i.call(t,e[o[r]],o[r])}function oE(e,i){let t,n,r,s;if(!e||!i||e.length!==i.length)return!1;for(t=0,n=e.length;t<n;++t)if(r=e[t],s=i[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function lE(e){if(es(e))return e.map(lE);if(jn(e)){const i=Object.create(null),t=Object.keys(e),n=t.length;let r=0;for(;r<n;++r)i[t[r]]=lE(e[t[r]]);return i}return e}function IK(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function g4t(e,i,t,n){if(!IK(e))return;const r=i[e],s=t[e];jn(r)&&jn(s)?Ub(r,s,n):i[e]=lE(s)}function Ub(e,i,t){const n=es(i)?i:[i],r=n.length;if(!jn(e))return e;const s=(t=t||{}).merger||g4t;let o;for(let l=0;l<r;++l){if(o=n[l],!jn(o))continue;const w=Object.keys(o);for(let S=0,M=w.length;S<M;++S)s(w[S],e,o,t)}return e}function zb(e,i){return Ub(e,i,{merger:v4t})}function v4t(e,i,t){if(!IK(e))return;const n=i[e],r=t[e];jn(n)&&jn(r)?zb(n,r):Object.prototype.hasOwnProperty.call(i,e)||(i[e]=lE(r))}const kK={"":e=>e,x:e=>e.x,y:e=>e.y};function sf(e,i){return(kK[i]||(kK[i]=function y4t(e){const i=function x4t(e){const i=e.split("."),t=[];let n="";for(const r of i)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}(e);return t=>{for(const n of i){if(""===n)break;t=t&&t[n]}return t}}(i)))(e)}function ZO(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Gb=e=>typeof e<"u",af=e=>"function"==typeof e,RK=(e,i)=>{if(e.size!==i.size)return!1;for(const t of e)if(!i.has(t))return!1;return!0},is=Math.PI,ns=2*is,w4t=ns+is,cE=Number.POSITIVE_INFINITY,_4t=is/180,zs=is/2,Fm=is/4,PK=2*is/3,lf=Math.log10,Td=Math.sign;function Hb(e,i,t){return Math.abs(e-i)<t}function FK(e){const i=Math.round(e);e=Hb(e,i,e/1e3)?i:e;const t=Math.pow(10,Math.floor(lf(e))),n=e/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function n0(e){return!isNaN(parseFloat(e))&&isFinite(e)}function OK(e,i,t){let n,r,s;for(n=0,r=e.length;n<r;n++)s=e[n][t],isNaN(s)||(i.min=Math.min(i.min,s),i.max=Math.max(i.max,s))}function Fc(e){return e*(is/180)}function JO(e){return e*(180/is)}function LK(e){if(!Ss(e))return;let i=1,t=0;for(;Math.round(e*i)/i!==e;)i*=10,t++;return t}function NK(e,i){const t=i.x-e.x,n=i.y-e.y,r=Math.sqrt(t*t+n*n);let s=Math.atan2(n,t);return s<-.5*is&&(s+=ns),{angle:s,distance:r}}function qO(e,i){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function S4t(e,i){return(e-i+w4t)%ns-is}function Pl(e){return(e%ns+ns)%ns}function Wb(e,i,t,n){const r=Pl(e),s=Pl(i),o=Pl(t),l=Pl(s-r),w=Pl(o-r),S=Pl(r-s),M=Pl(r-o);return r===s||r===o||n&&s===o||l>w&&S<M}function Pa(e,i,t){return Math.max(i,Math.min(t,e))}function Ru(e,i,t,n=1e-6){return e>=Math.min(i,t)-n&&e<=Math.max(i,t)+n}function tL(e,i,t){t=t||(o=>e[o]<i);let s,n=e.length-1,r=0;for(;n-r>1;)s=r+n>>1,t(s)?r=s:n=s;return{lo:r,hi:n}}const Pu=(e,i,t,n)=>tL(e,t,n?r=>{const s=e[r][i];return s<t||s===t&&e[r+1][i]===t}:r=>e[r][i]<t),A4t=(e,i,t)=>tL(e,t,n=>e[n][i]>=t),BK=["push","pop","shift","splice","unshift"];function VK(e,i){const t=e._chartjs;if(!t)return;const n=t.listeners,r=n.indexOf(i);-1!==r&&n.splice(r,1),!(n.length>0)&&(BK.forEach(s=>{delete e[s]}),delete e._chartjs)}function UK(e){const i=new Set(e);return i.size===e.length?e:Array.from(i)}const zK=typeof window>"u"?function(e){return e()}:window.requestAnimationFrame;function GK(e,i){let t=[],n=!1;return function(...r){t=r,n||(n=!0,zK.call(window,()=>{n=!1,e.apply(i,t)}))}}const eL=e=>"start"===e?"left":"end"===e?"right":"center",fo=(e,i,t)=>"start"===e?i:"end"===e?t:(i+t)/2;function HK(e,i,t){const n=i.length;let r=0,s=n;if(e._sorted){const{iScale:o,_parsed:l}=e,w=o.axis,{min:S,max:M,minDefined:P,maxDefined:O}=o.getUserBounds();P&&(r=Pa(Math.min(Pu(l,w,S).lo,t?n:Pu(i,w,o.getPixelForValue(S)).lo),0,n-1)),s=O?Pa(Math.max(Pu(l,o.axis,M,!0).hi+1,t?0:Pu(i,w,o.getPixelForValue(M),!0).hi+1),r,n)-r:n-r}return{start:r,count:s}}function WK(e){const{xScale:i,yScale:t,_scaleRanges:n}=e,r={xmin:i.min,xmax:i.max,ymin:t.min,ymax:t.max};if(!n)return e._scaleRanges=r,!0;const s=n.xmin!==i.min||n.xmax!==i.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,r),s}const dE=e=>0===e||1===e,jK=(e,i,t)=>-Math.pow(2,10*(e-=1))*Math.sin((e-i)*ns/t),XK=(e,i,t)=>Math.pow(2,-10*e)*Math.sin((e-i)*ns/t)+1,jb={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*zs),easeOutSine:e=>Math.sin(e*zs),easeInOutSine:e=>-.5*(Math.cos(is*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>dE(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>dE(e)?e:jK(e,.075,.3),easeOutElastic:e=>dE(e)?e:XK(e,.075,.3),easeInOutElastic:e=>dE(e)?e:e<.5?.5*jK(2*e,.1125,.45):.5+.5*XK(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let i=1.70158;return(e/=.5)<1?e*e*((1+(i*=1.525))*e-i)*.5:.5*((e-=2)*e*((1+(i*=1.525))*e+i)+2)},easeInBounce:e=>1-jb.easeOutBounce(1-e),easeOutBounce:e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,easeInOutBounce:e=>e<.5?.5*jb.easeInBounce(2*e):.5*jb.easeOutBounce(2*e-1)+.5};function iL(e){if(e&&"object"==typeof e){const i=e.toString();return"[object CanvasPattern]"===i||"[object CanvasGradient]"===i}return!1}function YK(e){return iL(e)?e:new e0(e)}function nL(e){return iL(e)?e:new e0(e).saturate(.5).darken(.1).hexString()}const R4t=["x","y","borderWidth","radius","tension"],P4t=["color","borderColor","backgroundColor"],$K=new Map;function Xb(e,i,t){return function L4t(e,i){i=i||{};const t=e+JSON.stringify(i);let n=$K.get(t);return n||(n=new Intl.NumberFormat(e,i),$K.set(t,n)),n}(i,t).format(e)}const QK={values:e=>es(e)?e:""+e,numeric(e,i,t){if(0===e)return"0";const n=this.chart.options.locale;let r,s=e;if(t.length>1){const S=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(S<1e-4||S>1e15)&&(r="scientific"),s=function N4t(e,i){let t=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(t)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),t}(e,t)}const o=lf(Math.abs(s)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),w={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(w,this.options.ticks.format),Xb(e,n,w)},logarithmic(e,i,t){if(0===e)return"0";const n=t[i].significand||e/Math.pow(10,Math.floor(lf(e)));return[1,2,3,5,10,15].includes(n)||i>.8*t.length?QK.numeric.call(this,e,i,t):""}};var uE={formatters:QK};const Om=Object.create(null),rL=Object.create(null);function Yb(e,i){if(!i)return e;const t=i.split(".");for(let n=0,r=t.length;n<r;++n){const s=t[n];e=e[s]||(e[s]=Object.create(null))}return e}function sL(e,i,t){return"string"==typeof i?Ub(Yb(e,i),t):Ub(Yb(e,""),i)}class V4t{constructor(i,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>nL(r.backgroundColor),this.hoverBorderColor=(n,r)=>nL(r.borderColor),this.hoverColor=(n,r)=>nL(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i),this.apply(t)}set(i,t){return sL(this,i,t)}get(i){return Yb(this,i)}describe(i,t){return sL(rL,i,t)}override(i,t){return sL(Om,i,t)}route(i,t,n,r){const s=Yb(this,i),o=Yb(this,n),l="_"+t;Object.defineProperties(s,{[l]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const w=this[l],S=o[r];return jn(w)?Object.assign({},S,w):Tn(w,S)},set(w){this[l]=w}}})}apply(i){i.forEach(t=>t(this))}}var us=new V4t({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function F4t(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:i=>"onProgress"!==i&&"onComplete"!==i&&"fn"!==i}),e.set("animations",{colors:{type:"color",properties:P4t},numbers:{type:"number",properties:R4t}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:i=>0|i}}}})},function O4t(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function B4t(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(i,t)=>t.lineWidth,tickColor:(i,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:uE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:i=>!i.startsWith("before")&&!i.startsWith("after")&&"callback"!==i&&"parser"!==i,_indexable:i=>"borderDash"!==i&&"tickBorderDash"!==i&&"dash"!==i}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:i=>"backdropPadding"!==i&&"callback"!==i,_indexable:i=>"backdropPadding"!==i})}]);function hE(e,i,t,n,r){let s=i[r];return s||(s=i[r]=e.measureText(r).width,t.push(r)),s>n&&(n=s),n}function z4t(e,i,t,n){let r=(n=n||{}).data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==i&&(r=n.data={},s=n.garbageCollect=[],n.font=i),e.save(),e.font=i;let o=0;const l=t.length;let w,S,M,P,O;for(w=0;w<l;w++)if(P=t[w],null==P||es(P)){if(es(P))for(S=0,M=P.length;S<M;S++)O=P[S],null!=O&&!es(O)&&(o=hE(e,r,s,o,O))}else o=hE(e,r,s,o,P);e.restore();const N=s.length/2;if(N>t.length){for(w=0;w<N;w++)delete r[s[w]];s.splice(0,N)}return o}function Lm(e,i,t){const n=e.currentDevicePixelRatio,r=0!==t?Math.max(t/2,.5):0;return Math.round((i-r)*n)/n+r}function KK(e,i){!i&&!e||((i=i||e.getContext("2d")).save(),i.resetTransform(),i.clearRect(0,0,e.width,e.height),i.restore())}function aL(e,i,t,n){ZK(e,i,t,n,null)}function ZK(e,i,t,n,r){let s,o,l,w,S,M,P,O;const N=i.pointStyle,U=i.rotation,j=i.radius;let W=(U||0)*_4t;if(N&&"object"==typeof N&&(s=N.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(t,n),e.rotate(W),e.drawImage(N,-N.width/2,-N.height/2,N.width,N.height),void e.restore();if(!(isNaN(j)||j<=0)){switch(e.beginPath(),N){default:r?e.ellipse(t,n,r/2,j,0,0,ns):e.arc(t,n,j,0,ns),e.closePath();break;case"triangle":M=r?r/2:j,e.moveTo(t+Math.sin(W)*M,n-Math.cos(W)*j),W+=PK,e.lineTo(t+Math.sin(W)*M,n-Math.cos(W)*j),W+=PK,e.lineTo(t+Math.sin(W)*M,n-Math.cos(W)*j),e.closePath();break;case"rectRounded":S=.516*j,w=j-S,o=Math.cos(W+Fm)*w,P=Math.cos(W+Fm)*(r?r/2-S:w),l=Math.sin(W+Fm)*w,O=Math.sin(W+Fm)*(r?r/2-S:w),e.arc(t-P,n-l,S,W-is,W-zs),e.arc(t+O,n-o,S,W-zs,W),e.arc(t+P,n+l,S,W,W+zs),e.arc(t-O,n+o,S,W+zs,W+is),e.closePath();break;case"rect":if(!U){w=Math.SQRT1_2*j,M=r?r/2:w,e.rect(t-M,n-w,2*M,2*w);break}W+=Fm;case"rectRot":P=Math.cos(W)*(r?r/2:j),o=Math.cos(W)*j,l=Math.sin(W)*j,O=Math.sin(W)*(r?r/2:j),e.moveTo(t-P,n-l),e.lineTo(t+O,n-o),e.lineTo(t+P,n+l),e.lineTo(t-O,n+o),e.closePath();break;case"crossRot":W+=Fm;case"cross":P=Math.cos(W)*(r?r/2:j),o=Math.cos(W)*j,l=Math.sin(W)*j,O=Math.sin(W)*(r?r/2:j),e.moveTo(t-P,n-l),e.lineTo(t+P,n+l),e.moveTo(t+O,n-o),e.lineTo(t-O,n+o);break;case"star":P=Math.cos(W)*(r?r/2:j),o=Math.cos(W)*j,l=Math.sin(W)*j,O=Math.sin(W)*(r?r/2:j),e.moveTo(t-P,n-l),e.lineTo(t+P,n+l),e.moveTo(t+O,n-o),e.lineTo(t-O,n+o),W+=Fm,P=Math.cos(W)*(r?r/2:j),o=Math.cos(W)*j,l=Math.sin(W)*j,O=Math.sin(W)*(r?r/2:j),e.moveTo(t-P,n-l),e.lineTo(t+P,n+l),e.moveTo(t+O,n-o),e.lineTo(t-O,n+o);break;case"line":o=r?r/2:Math.cos(W)*j,l=Math.sin(W)*j,e.moveTo(t-o,n-l),e.lineTo(t+o,n+l);break;case"dash":e.moveTo(t,n),e.lineTo(t+Math.cos(W)*(r?r/2:j),n+Math.sin(W)*j);break;case!1:e.closePath()}e.fill(),i.borderWidth>0&&e.stroke()}}function Fu(e,i,t){return t=t||.5,!i||e&&e.x>i.left-t&&e.x<i.right+t&&e.y>i.top-t&&e.y<i.bottom+t}function fE(e,i){e.save(),e.beginPath(),e.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),e.clip()}function mE(e){e.restore()}function G4t(e,i,t,n,r){if(!i)return e.lineTo(t.x,t.y);if("middle"===r){const s=(i.x+t.x)/2;e.lineTo(s,i.y),e.lineTo(s,t.y)}else"after"===r!=!!n?e.lineTo(i.x,t.y):e.lineTo(t.x,i.y);e.lineTo(t.x,t.y)}function H4t(e,i,t,n){if(!i)return e.lineTo(t.x,t.y);e.bezierCurveTo(n?i.cp1x:i.cp2x,n?i.cp1y:i.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function j4t(e,i,t,n,r){if(r.strikethrough||r.underline){const s=e.measureText(n),o=i-s.actualBoundingBoxLeft,l=i+s.actualBoundingBoxRight,S=t+s.actualBoundingBoxDescent,M=r.strikethrough?(t-s.actualBoundingBoxAscent+S)/2:S;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,M),e.lineTo(l,M),e.stroke()}}function X4t(e,i){const t=e.fillStyle;e.fillStyle=i.color,e.fillRect(i.left,i.top,i.width,i.height),e.fillStyle=t}function Nm(e,i,t,n,r,s={}){const o=es(i)?i:[i],l=s.strokeWidth>0&&""!==s.strokeColor;let w,S;for(e.save(),e.font=r.string,function W4t(e,i){i.translation&&e.translate(i.translation[0],i.translation[1]),ir(i.rotation)||e.rotate(i.rotation),i.color&&(e.fillStyle=i.color),i.textAlign&&(e.textAlign=i.textAlign),i.textBaseline&&(e.textBaseline=i.textBaseline)}(e,s),w=0;w<o.length;++w)S=o[w],s.backdrop&&X4t(e,s.backdrop),l&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),ir(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(S,t,n,s.maxWidth)),e.fillText(S,t,n,s.maxWidth),j4t(e,t,n,S,s),n+=Number(r.lineHeight);e.restore()}function $b(e,i){const{x:t,y:n,w:r,h:s,radius:o}=i;e.arc(t+o.topLeft,n+o.topLeft,o.topLeft,1.5*is,is,!0),e.lineTo(t,n+s-o.bottomLeft),e.arc(t+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,is,zs,!0),e.lineTo(t+r-o.bottomRight,n+s),e.arc(t+r-o.bottomRight,n+s-o.bottomRight,o.bottomRight,zs,0,!0),e.lineTo(t+r,n+o.topRight),e.arc(t+r-o.topRight,n+o.topRight,o.topRight,0,-zs,!0),e.lineTo(t+o.topLeft,n)}const Y4t=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$4t=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Q4t(e,i){const t=(""+e).match(Y4t);if(!t||"normal"===t[1])return 1.2*i;switch(e=+t[2],t[3]){case"px":return e;case"%":e/=100}return i*e}const K4t=e=>+e||0;function oL(e,i){const t={},n=jn(i),r=n?Object.keys(i):i,s=jn(e)?n?o=>Tn(e[o],e[i[o]]):o=>e[o]:()=>e;for(const o of r)t[o]=K4t(s(o));return t}function JK(e){return oL(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Bm(e){return oL(e,["topLeft","topRight","bottomLeft","bottomRight"])}function mo(e){const i=JK(e);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function xa(e,i){let t=Tn((e=e||{}).size,(i=i||us.font).size);"string"==typeof t&&(t=parseInt(t,10));let n=Tn(e.style,i.style);n&&!(""+n).match($4t)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:Tn(e.family,i.family),lineHeight:Q4t(Tn(e.lineHeight,i.lineHeight),t),size:t,style:n,weight:Tn(e.weight,i.weight),string:""};return r.string=function U4t(e){return!e||ir(e.size)||ir(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function Qb(e,i,t,n){let s,o,l,r=!0;for(s=0,o=e.length;s<o;++s)if(l=e[s],void 0!==l&&(void 0!==i&&"function"==typeof l&&(l=l(i),r=!1),void 0!==t&&es(l)&&(l=l[t%l.length],r=!1),void 0!==l))return n&&!r&&(n.cacheable=!1),l}function cf(e,i){return Object.assign(Object.create(e),i)}function lL(e,i=[""],t,n,r=(()=>e[0])){const s=t||e;typeof n>"u"&&(n=nZ("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:n,_getTarget:r,override:l=>lL([l,...e],i,s,n)};return new Proxy(o,{deleteProperty:(l,w)=>(delete l[w],delete l._keys,delete e[0][w],!0),get:(l,w)=>tZ(l,w,()=>function s3t(e,i,t,n){let r;for(const s of i)if(r=nZ(J4t(s,e),t),typeof r<"u")return cL(e,r)?dL(t,n,e,r):r}(w,i,e,l)),getOwnPropertyDescriptor:(l,w)=>Reflect.getOwnPropertyDescriptor(l._scopes[0],w),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(l,w)=>rZ(l).includes(w),ownKeys:l=>rZ(l),set(l,w,S){const M=l._storage||(l._storage=r());return l[w]=M[w]=S,delete l._keys,!0}})}function r0(e,i,t,n){const r={_cacheable:!1,_proxy:e,_context:i,_subProxy:t,_stack:new Set,_descriptors:qK(e,n),setContext:s=>r0(e,s,t,n),override:s=>r0(e.override(s),i,t,n)};return new Proxy(r,{deleteProperty:(s,o)=>(delete s[o],delete e[o],!0),get:(s,o,l)=>tZ(s,o,()=>function q4t(e,i,t){const{_proxy:n,_context:r,_subProxy:s,_descriptors:o}=e;let l=n[i];return af(l)&&o.isScriptable(i)&&(l=function t3t(e,i,t,n){const{_proxy:r,_context:s,_subProxy:o,_stack:l}=t;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let w=i(s,o||n);return l.delete(e),cL(e,w)&&(w=dL(r._scopes,r,e,w)),w}(i,l,e,t)),es(l)&&l.length&&(l=function e3t(e,i,t,n){const{_proxy:r,_context:s,_subProxy:o,_descriptors:l}=t;if(typeof s.index<"u"&&n(e))return i[s.index%i.length];if(jn(i[0])){const w=i,S=r._scopes.filter(M=>M!==w);i=[];for(const M of w){const P=dL(S,r,e,M);i.push(r0(P,s,o&&o[e],l))}}return i}(i,l,e,o.isIndexable)),cL(i,l)&&(l=r0(l,r,s&&s[i],o)),l}(s,o,l)),getOwnPropertyDescriptor:(s,o)=>s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(s,o)=>Reflect.has(e,o),ownKeys:()=>Reflect.ownKeys(e),set:(s,o,l)=>(e[o]=l,delete s[o],!0)})}function qK(e,i={scriptable:!0,indexable:!0}){const{_scriptable:t=i.scriptable,_indexable:n=i.indexable,_allKeys:r=i.allKeys}=e;return{allKeys:r,scriptable:t,indexable:n,isScriptable:af(t)?t:()=>t,isIndexable:af(n)?n:()=>n}}const J4t=(e,i)=>e?e+ZO(i):i,cL=(e,i)=>jn(i)&&"adapters"!==e&&(null===Object.getPrototypeOf(i)||i.constructor===Object);function tZ(e,i,t){if(Object.prototype.hasOwnProperty.call(e,i)||"constructor"===i)return e[i];const n=t();return e[i]=n,n}function eZ(e,i,t){return af(e)?e(i,t):e}const i3t=(e,i)=>!0===e?i:"string"==typeof e?sf(i,e):void 0;function n3t(e,i,t,n,r){for(const s of i){const o=i3t(t,s);if(o){e.add(o);const l=eZ(o._fallback,t,r);if(typeof l<"u"&&l!==t&&l!==n)return l}else if(!1===o&&typeof n<"u"&&t!==n)return null}return!1}function dL(e,i,t,n){const r=i._rootScopes,s=eZ(i._fallback,t,n),o=[...e,...r],l=new Set;l.add(n);let w=iZ(l,o,t,s||t,n);return!(null===w||typeof s<"u"&&s!==t&&(w=iZ(l,o,s,w,n),null===w))&&lL(Array.from(l),[""],r,s,()=>function r3t(e,i,t){const n=e._getTarget();i in n||(n[i]={});const r=n[i];return es(r)&&jn(t)?t:r||{}}(i,t,n))}function iZ(e,i,t,n,r){for(;t;)t=n3t(e,i,t,n,r);return t}function nZ(e,i){for(const t of i){if(!t)continue;const n=t[e];if(typeof n<"u")return n}}function rZ(e){let i=e._keys;return i||(i=e._keys=function a3t(e){const i=new Set;for(const t of e)for(const n of Object.keys(t).filter(r=>!r.startsWith("_")))i.add(n);return Array.from(i)}(e._scopes)),i}function sZ(e,i,t,n){const{iScale:r}=e,{key:s="r"}=this._parsing,o=new Array(n);let l,w,S,M;for(l=0,w=n;l<w;++l)S=l+t,M=i[S],o[l]={r:r.parse(sf(M,s),S)};return o}const o3t=Number.EPSILON||1e-14,s0=(e,i)=>i<e.length&&!e[i].skip&&e[i],aZ=e=>"x"===e?"y":"x";function l3t(e,i,t,n){const r=e.skip?i:e,s=i,o=t.skip?i:t,l=qO(s,r),w=qO(o,s);let S=l/(l+w),M=w/(l+w);S=isNaN(S)?0:S,M=isNaN(M)?0:M;const P=n*S,O=n*M;return{previous:{x:s.x-P*(o.x-r.x),y:s.y-P*(o.y-r.y)},next:{x:s.x+O*(o.x-r.x),y:s.y+O*(o.y-r.y)}}}function pE(e,i,t){return Math.max(Math.min(e,t),i)}function f3t(e,i,t,n,r){let s,o,l,w;if(i.spanGaps&&(e=e.filter(S=>!S.skip)),"monotone"===i.cubicInterpolationMode)!function u3t(e,i="x"){const t=aZ(i),n=e.length,r=Array(n).fill(0),s=Array(n);let o,l,w,S=s0(e,0);for(o=0;o<n;++o)if(l=w,w=S,S=s0(e,o+1),w){if(S){const M=S[i]-w[i];r[o]=0!==M?(S[t]-w[t])/M:0}s[o]=l?S?Td(r[o-1])!==Td(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}(function c3t(e,i,t){const n=e.length;let r,s,o,l,w,S=s0(e,0);for(let M=0;M<n-1;++M)if(w=S,S=s0(e,M+1),w&&S){if(Hb(i[M],0,o3t)){t[M]=t[M+1]=0;continue}r=t[M]/i[M],s=t[M+1]/i[M],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(o=3/Math.sqrt(l),t[M]=r*o*i[M],t[M+1]=s*o*i[M])}})(e,r,s),function d3t(e,i,t="x"){const n=aZ(t),r=e.length;let s,o,l,w=s0(e,0);for(let S=0;S<r;++S){if(o=l,l=w,w=s0(e,S+1),!l)continue;const M=l[t],P=l[n];o&&(s=(M-o[t])/3,l[`cp1${t}`]=M-s,l[`cp1${n}`]=P-s*i[S]),w&&(s=(w[t]-M)/3,l[`cp2${t}`]=M+s,l[`cp2${n}`]=P+s*i[S])}}(e,s,i)}(e,r);else{let S=n?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)l=e[s],w=l3t(S,l,e[Math.min(s+1,o-(n?0:1))%o],i.tension),l.cp1x=w.previous.x,l.cp1y=w.previous.y,l.cp2x=w.next.x,l.cp2y=w.next.y,S=l}i.capBezierPoints&&function h3t(e,i){let t,n,r,s,o,l=Fu(e[0],i);for(t=0,n=e.length;t<n;++t)o=s,s=l,l=t<n-1&&Fu(e[t+1],i),s&&(r=e[t],o&&(r.cp1x=pE(r.cp1x,i.left,i.right),r.cp1y=pE(r.cp1y,i.top,i.bottom)),l&&(r.cp2x=pE(r.cp2x,i.left,i.right),r.cp2y=pE(r.cp2y,i.top,i.bottom)))}(e,t)}function uL(){return typeof window<"u"&&typeof document<"u"}function hL(e){let i=e.parentNode;return i&&"[object ShadowRoot]"===i.toString()&&(i=i.host),i}function gE(e,i,t){let n;return"string"==typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*i.parentNode[t])):n=e,n}const vE=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),p3t=["top","right","bottom","left"];function Vm(e,i,t){const n={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=p3t[r];n[s]=parseFloat(e[i+"-"+s+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const g3t=(e,i,t)=>(e>0||i>0)&&(!t||!t.shadowRoot);function Um(e,i){if("native"in e)return e;const{canvas:t,currentDevicePixelRatio:n}=i,r=vE(t),s="border-box"===r.boxSizing,o=Vm(r,"padding"),l=Vm(r,"border","width"),{x:w,y:S,box:M}=function v3t(e,i){const t=e.touches,n=t&&t.length?t[0]:e,{offsetX:r,offsetY:s}=n;let l,w,o=!1;if(g3t(r,s,e.target))l=r,w=s;else{const S=i.getBoundingClientRect();l=n.clientX-S.left,w=n.clientY-S.top,o=!0}return{x:l,y:w,box:o}}(e,t),P=o.left+(M&&l.left),O=o.top+(M&&l.top);let{width:N,height:U}=i;return s&&(N-=o.width+l.width,U-=o.height+l.height),{x:Math.round((w-P)/N*t.width/n),y:Math.round((S-O)/U*t.height/n)}}const xE=e=>Math.round(10*e)/10;function oZ(e,i,t){const n=i||1,r=Math.floor(e.height*n),s=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||o.height!==r||o.width!==s)&&(e.currentDevicePixelRatio=n,o.height=r,o.width=s,e.ctx.setTransform(n,0,0,n,0,0),!0)}const b3t=function(){let e=!1;try{const i={get passive(){return e=!0,!1}};uL()&&(window.addEventListener("test",null,i),window.removeEventListener("test",null,i))}catch{}return e}();function lZ(e,i){const t=function m3t(e,i){return vE(e).getPropertyValue(i)}(e,i),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function zm(e,i,t,n){return{x:e.x+t*(i.x-e.x),y:e.y+t*(i.y-e.y)}}function w3t(e,i,t,n){return{x:e.x+t*(i.x-e.x),y:"middle"===n?t<.5?e.y:i.y:"after"===n?t<1?e.y:i.y:t>0?i.y:e.y}}function _3t(e,i,t,n){const r={x:e.cp2x,y:e.cp2y},s={x:i.cp1x,y:i.cp1y},o=zm(e,r,t),l=zm(r,s,t),w=zm(s,i,t),S=zm(o,l,t),M=zm(l,w,t);return zm(S,M,t)}function a0(e,i,t){return e?function(e,i){return{x:t=>e+e+i-t,setWidth(t){i=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,n)=>t-n,leftForLtr:(t,n)=>t-n}}(i,t):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,i)=>e+i,leftForLtr:(e,i)=>e}}function cZ(e,i){let t,n;("ltr"===i||"rtl"===i)&&(t=e.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",i,"important"),e.prevTextDirection=n)}function dZ(e,i){void 0!==i&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",i[0],i[1]))}function uZ(e){return"angle"===e?{between:Wb,compare:S4t,normalize:Pl}:{between:Ru,compare:(i,t)=>i-t,normalize:i=>i}}function hZ({start:e,end:i,count:t,loop:n,style:r}){return{start:e%t,end:i%t,loop:n&&(i-e+1)%t==0,style:r}}function fZ(e,i,t){if(!t)return[e];const{property:n,start:r,end:s}=t,o=i.length,{compare:l,between:w,normalize:S}=uZ(n),{start:M,end:P,loop:O,style:N}=function S3t(e,i,t){const{property:n,start:r,end:s}=t,{between:o,normalize:l}=uZ(n),w=i.length;let O,N,{start:S,end:M,loop:P}=e;if(P){for(S+=w,M+=w,O=0,N=w;O<N&&o(l(i[S%w][n]),r,s);++O)S--,M--;S%=w,M%=w}return M<S&&(M+=w),{start:S,end:M,loop:P,style:e.style}}(e,i,t),U=[];let Z,rt,st,j=!1,W=null;for(let dt=M,pt=M;dt<=P;++dt)rt=i[dt%o],!rt.skip&&(Z=S(rt[n]),Z!==st&&(j=w(Z,r,s),null===W&&(j||w(r,st,Z)&&0!==l(r,st))&&(W=0===l(Z,r)?dt:pt),null!==W&&(!j||0===l(s,Z)||w(s,st,Z))&&(U.push(hZ({start:W,end:dt,loop:O,count:o,style:N})),W=null),pt=dt,st=Z));return null!==W&&U.push(hZ({start:W,end:P,loop:O,count:o,style:N})),U}function mZ(e,i){const t=[],n=e.segments;for(let r=0;r<n.length;r++){const s=fZ(n[r],e.points,i);s.length&&t.push(...s)}return t}function gZ(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function I3t(e,i){if(!i)return!1;const t=[],n=function(r,s){return iL(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(e,n)!==JSON.stringify(i,n)}class k3t{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,t,n,r){const o=t.duration;t.listeners[r].forEach(l=>l({chart:i,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=zK.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const s=n.items;let w,o=s.length-1,l=!1;for(;o>=0;--o)w=s[o],w._active?(w._total>n.duration&&(n.duration=w._total),w.tick(i),l=!0):(s[o]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,n,i,"progress")),s.length||(n.running=!1,this._notify(r,n,i,"complete"),n.initial=!1),t+=s.length}),this._lastDate=i,0===t&&(this._running=!1)}_getAnims(i){const t=this._charts;let n=t.get(i);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(i,n)),n}listen(i,t,n){this._getAnims(i).listeners[t].push(n)}add(i,t){!t||!t.length||this._getAnims(i).items.push(...t)}has(i){return this._getAnims(i).items.length>0}start(i){const t=this._charts.get(i);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(i){if(!this._running)return!1;const t=this._charts.get(i);return!(!t||!t.running||!t.items.length)}stop(i){const t=this._charts.get(i);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(i,t,Date.now(),"complete")}remove(i){return this._charts.delete(i)}}var Ou=new k3t;const vZ="transparent",R3t={boolean:(e,i,t)=>t>.5?i:e,color(e,i,t){const n=YK(e||vZ),r=n.valid&&YK(i||vZ);return r&&r.valid?r.mix(n,t).hexString():i},number:(e,i,t)=>e+(i-e)*t};class P3t{constructor(i,t,n,r){const s=t[n];r=Qb([i.to,r,s,i.from]);const o=Qb([i.from,s,r]);this._active=!0,this._fn=i.fn||R3t[i.type||typeof o],this._easing=jb[i.easing]||jb.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=t,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(i,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,i.duration)),this._total+=s,this._loop=!!i.loop,this._to=Qb([i.to,t,r,i.from]),this._from=Qb([i.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){const t=i-this._start,n=this._duration,r=this._prop,s=this._from,o=this._loop,l=this._to;let w;if(this._active=s!==l&&(o||t<n),!this._active)return this._target[r]=l,void this._notify(!0);t<0?this._target[r]=s:(w=t/n%2,w=o&&w>1?2-w:w,w=this._easing(Math.min(1,Math.max(0,w))),this._target[r]=this._fn(s,l,w))}wait(){const i=this._promises||(this._promises=[]);return new Promise((t,n)=>{i.push({res:t,rej:n})})}_notify(i){const t=i?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class xZ{constructor(i,t){this._chart=i,this._properties=new Map,this.configure(t)}configure(i){if(!jn(i))return;const t=Object.keys(us.animation),n=this._properties;Object.getOwnPropertyNames(i).forEach(r=>{const s=i[r];if(!jn(s))return;const o={};for(const l of t)o[l]=s[l];(es(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!n.has(l))&&n.set(l,o)})})}_animateOptions(i,t){const n=t.options,r=function O3t(e,i){if(!i)return;let t=e.options;if(t)return t.$shared&&(e.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;e.options=i}(i,n);if(!r)return[];const s=this._createAnimations(r,n);return n.$shared&&function F3t(e,i){const t=[],n=Object.keys(i);for(let r=0;r<n.length;r++){const s=e[n[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}(i.options.$animations,n).then(()=>{i.options=n},()=>{}),s}_createAnimations(i,t){const n=this._properties,r=[],s=i.$animations||(i.$animations={}),o=Object.keys(t),l=Date.now();let w;for(w=o.length-1;w>=0;--w){const S=o[w];if("$"===S.charAt(0))continue;if("options"===S){r.push(...this._animateOptions(i,t));continue}const M=t[S];let P=s[S];const O=n.get(S);if(P){if(O&&P.active()){P.update(O,M,l);continue}P.cancel()}O&&O.duration?(s[S]=P=new P3t(O,i,S,M),r.push(P)):i[S]=M}return r}update(i,t){if(0===this._properties.size)return void Object.assign(i,t);const n=this._createAnimations(i,t);return n.length?(Ou.add(this._chart,n),!0):void 0}}function yZ(e,i){const t=e&&e.options||{},n=t.reverse,r=void 0===t.min?i:0,s=void 0===t.max?i:0;return{start:n?s:r,end:n?r:s}}function bZ(e,i){const t=[],n=e._getSortedDatasetMetas(i);let r,s;for(r=0,s=n.length;r<s;++r)t.push(n[r].index);return t}function wZ(e,i,t,n={}){const r=e.keys,s="single"===n.mode;let o,l,w,S;if(null===i)return;let M=!1;for(o=0,l=r.length;o<l;++o){if(w=+r[o],w===t){if(M=!0,n.all)continue;break}S=e.values[w],Ss(S)&&(s||0===i||Td(i)===Td(S))&&(i+=S)}return M||n.all?i:0}function fL(e,i){const t=e&&e.options.stacked;return t||void 0===t&&void 0!==i.stack}function z3t(e,i,t){const n=e[i]||(e[i]={});return n[t]||(n[t]={})}function _Z(e,i,t,n){for(const r of i.getMatchingVisibleMetas(n).reverse()){const s=e[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function TZ(e,i){const{chart:t,_cachedMeta:n}=e,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:l}=n,w=s.axis,S=o.axis,M=function V3t(e,i,t){return`${e.id}.${i.id}.${t.stack||t.type}`}(s,o,n),P=i.length;let O;for(let N=0;N<P;++N){const U=i[N],{[w]:j,[S]:W}=U;O=(U._stacks||(U._stacks={}))[S]=z3t(r,M,j),O[l]=W,O._top=_Z(O,o,!0,n.type),O._bottom=_Z(O,o,!1,n.type),(O._visualValues||(O._visualValues={}))[l]=W}}function mL(e,i){const t=e.scales;return Object.keys(t).filter(n=>t[n].axis===i).shift()}function Kb(e,i){const t=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){i=i||e._parsed;for(const r of i){const s=r._stacks;if(!s||void 0===s[n]||void 0===s[n][t])return;delete s[n][t],void 0!==s[n]._visualValues&&void 0!==s[n]._visualValues[t]&&delete s[n]._visualValues[t]}}}const pL=e=>"reset"===e||"none"===e,CZ=(e,i)=>i?e:Object.assign({},e);let df=(()=>class e{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=fL(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Kb(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(O,N,U,j)=>"x"===O?N:"r"===O?j:U,o=n.xAxisID=Tn(r.xAxisID,mL(t,"x")),l=n.yAxisID=Tn(r.yAxisID,mL(t,"y")),w=n.rAxisID=Tn(r.rAxisID,mL(t,"r")),S=n.indexAxis,M=n.iAxisID=s(S,o,l,w),P=n.vAxisID=s(S,l,o,w);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(w),n.iScale=this.getScaleForId(M),n.vScale=this.getScaleForId(P)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&VK(this._data,this),t._stacked&&Kb(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(jn(n))this._data=function B3t(e,i){const{iScale:t,vScale:n}=i,r="x"===t.axis?"x":"y",s="x"===n.axis?"x":"y",o=Object.keys(e),l=new Array(o.length);let w,S,M;for(w=0,S=o.length;w<S;++w)M=o[w],l[w]={[r]:M,[s]:e[M]};return l}(n,this._cachedMeta);else if(r!==n){if(r){VK(r,this);const s=this._cachedMeta;Kb(s),s._parsed=[]}n&&Object.isExtensible(n)&&function M4t(e,i){e._chartjs?e._chartjs.listeners.push(i):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),BK.forEach(t=>{const n="_onData"+ZO(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return e._chartjs.listeners.forEach(l=>{"function"==typeof l[n]&&l[n](...s)}),o}})}))}(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const o=n._stacked;n._stacked=fL(n.vScale,n),n.stack!==r.stack&&(s=!0,Kb(n),n.stack=r.stack),this._resyncElements(t),(s||o!==n._stacked)&&(TZ(this,n._parsed),n._stacked=fL(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:l}=r,w=o.axis;let P,O,N,S=0===t&&n===s.length||r._sorted,M=t>0&&r._parsed[t-1];if(!1===this._parsing)r._parsed=s,r._sorted=!0,N=s;else{N=es(s[t])?this.parseArrayData(r,s,t,n):jn(s[t])?this.parseObjectData(r,s,t,n):this.parsePrimitiveData(r,s,t,n);const U=()=>null===O[w]||M&&O[w]<M[w];for(P=0;P<n;++P)r._parsed[P+t]=O=N[P],S&&(U()&&(S=!1),M=O);r._sorted=S}l&&TZ(this,N)}parsePrimitiveData(t,n,r,s){const{iScale:o,vScale:l}=t,w=o.axis,S=l.axis,M=o.getLabels(),P=o===l,O=new Array(s);let N,U,j;for(N=0,U=s;N<U;++N)j=N+r,O[N]={[w]:P||o.parse(M[j],j),[S]:l.parse(n[j],j)};return O}parseArrayData(t,n,r,s){const{xScale:o,yScale:l}=t,w=new Array(s);let S,M,P,O;for(S=0,M=s;S<M;++S)P=S+r,O=n[P],w[S]={x:o.parse(O[0],P),y:l.parse(O[1],P)};return w}parseObjectData(t,n,r,s){const{xScale:o,yScale:l}=t,{xAxisKey:w="x",yAxisKey:S="y"}=this._parsing,M=new Array(s);let P,O,N,U;for(P=0,O=s;P<O;++P)N=P+r,U=n[N],M[P]={x:o.parse(sf(U,w),N),y:l.parse(sf(U,S),N)};return M}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const o=this._cachedMeta,l=n[t.axis];return wZ({keys:bZ(this.chart,!0),values:n._stacks[t.axis]._visualValues},l,o.index,{mode:r})}updateRangeFromParsed(t,n,r,s){const o=r[n.axis];let l=null===o?NaN:o;const w=s&&r._stacks[n.axis];s&&w&&(s.values=w,l=wZ(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const r=this._cachedMeta,s=r._parsed,o=r._sorted&&t===r.iScale,l=s.length,w=this._getOtherScale(t),S=((e,i,t)=>e&&!i.hidden&&i._stacked&&{keys:bZ(this.chart,!0),values:null})(n,r),M={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:P,max:O}=function U3t(e){const{min:i,max:t,minDefined:n,maxDefined:r}=e.getUserBounds();return{min:n?i:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}(w);let N,U;function j(){U=s[N];const W=U[w.axis];return!Ss(U[t.axis])||P>W||O<W}for(N=0;N<l&&(j()||(this.updateRangeFromParsed(M,t,U,S),!o));++N);if(o)for(N=l-1;N>=0;--N)if(!j()){this.updateRangeFromParsed(M,t,U,S);break}return M}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let s,o,l;for(s=0,o=n.length;s<o;++s)l=n[s][t.axis],Ss(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,s=n.vScale,o=this.getParsed(t);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=function N3t(e){let i,t,n,r;return jn(e)?(i=e.top,t=e.right,n=e.bottom,r=e.left):i=t=n=r=e,{top:i,right:t,bottom:n,left:r,disabled:!1===e}}(Tn(this.options.clip,function L3t(e,i,t){if(!1===t)return!1;const n=yZ(e,t),r=yZ(i,t);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this._cachedMeta,s=r.data||[],o=this.chart.chartArea,l=[],w=this._drawStart||0,S=this._drawCount||s.length-w,M=this.options.drawActiveElementsOnTop;let P;for(r.dataset&&r.dataset.draw(t,o,w,S),P=w;P<w+S;++P){const O=s[P];O.hidden||(O.active&&M?l.push(O):O.draw(t,o))}for(P=0;P<l.length;++P)l[P].draw(t,o)}getStyle(t,n){const r=n?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=function H3t(e,i,t){return cf(e,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:t,index:i,mode:"default",type:"data"})}(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=function G3t(e,i){return cf(e,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=r,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const s="active"===n,o=this._cachedDataOpts,l=t+"-"+n,w=o[l],S=this.enableOptionSharing&&Gb(r);if(w)return CZ(w,S);const M=this.chart.config,P=M.datasetElementScopeKeys(this._type,t),O=s?[`${t}Hover`,"hover",t,""]:[t,""],N=M.getOptionScopes(this.getDataset(),P),U=Object.keys(us.elements[t]),W=M.resolveNamedOptions(N,U,()=>this.getContext(r,s,n),O);return W.$shared&&(W.$shared=S,o[l]=Object.freeze(CZ(W,S))),W}_resolveAnimations(t,n,r){const s=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,w=o[l];if(w)return w;let S;if(!1!==s.options.animation){const P=this.chart.config,O=P.datasetAnimationScopeKeys(this._type,n),N=P.getOptionScopes(this.getDataset(),O);S=P.createResolver(N,this.getContext(t,r,n))}const M=new xZ(s,S&&S.animations);return S&&S._cacheable&&(o[l]=Object.freeze(M)),M}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||pL(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),s=this._sharedOptions,o=this.getSharedOptions(r),l=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,r),{sharedOptions:o,includeOptions:l}}updateElement(t,n,r,s){pL(s)?Object.assign(t,r):this._resolveAnimations(n,s).update(t,r)}updateSharedOptions(t,n,r){t&&!pL(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,s){t.active=s;const o=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[w,S,M]of this._syncList)this[w](S,M);this._syncList=[];const s=r.length,o=n.length,l=Math.min(o,s);l&&this.parse(0,l),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,n,r=!0){const s=this._cachedMeta,o=s.data,l=t+n;let w;const S=M=>{for(M.length+=n,w=M.length-1;w>=l;w--)M[w]=M[w-n]};for(S(o),w=t;w<l;++w)o[w]=new this.dataElementType;this._parsing&&S(s._parsed),this.parse(t,n),r&&this.updateElements(o,t,n,"reset")}updateElements(t,n,r,s){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,n);r._stacked&&Kb(r,s)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,s]=t;this[n](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function X3t(e){const i=e.iScale,t=function j3t(e,i){if(!e._cache.$bar){const t=e.getMatchingVisibleMetas(i);let n=[];for(let r=0,s=t.length;r<s;r++)n=n.concat(t[r].controller.getAllParsedValues(e));e._cache.$bar=UK(n.sort((r,s)=>r-s))}return e._cache.$bar}(i,e.type);let r,s,o,l,n=i._length;const w=()=>{32767===o||-32768===o||(Gb(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(r=0,s=t.length;r<s;++r)o=i.getPixelForValue(t[r]),w();for(l=void 0,r=0,s=i.ticks.length;r<s;++r)o=i.getPixelForTick(r),w();return n}function SZ(e,i,t,n){return es(e)?function Q3t(e,i,t,n){const r=t.parse(e[0],n),s=t.parse(e[1],n),o=Math.min(r,s),l=Math.max(r,s);let w=o,S=l;Math.abs(o)>Math.abs(l)&&(w=l,S=o),i[t.axis]=S,i._custom={barStart:w,barEnd:S,start:r,end:s,min:o,max:l}}(e,i,t,n):i[t.axis]=t.parse(e,n),i}function EZ(e,i,t,n){const r=e.iScale,s=e.vScale,o=r.getLabels(),l=r===s,w=[];let S,M,P,O;for(S=t,M=t+n;S<M;++S)O=i[S],P={},P[r.axis]=l||r.parse(o[S],S),w.push(SZ(O,P,s,S));return w}function gL(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function J3t(e,i,t,n){let r=i.borderSkipped;const s={};if(!r)return void(e.borderSkipped=s);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:l,reverse:w,top:S,bottom:M}=function Z3t(e){let i,t,n,r,s;return e.horizontal?(i=e.base>e.x,t="left",n="right"):(i=e.base<e.y,t="bottom",n="top"),i?(r="end",s="start"):(r="start",s="end"),{start:t,end:n,reverse:i,top:r,bottom:s}}(e);"middle"===r&&t&&(e.enableBorderRadius=!0,(t._top||0)===n?r=S:(t._bottom||0)===n?r=M:(s[AZ(M,o,l,w)]=!0,r=S)),s[AZ(r,o,l,w)]=!0,e.borderSkipped=s}function AZ(e,i,t,n){return n?(e=function q3t(e,i,t){return e===i?t:e===t?i:e}(e,i,t),e=DZ(e,t,i)):e=DZ(e,i,t),e}function DZ(e,i,t){return"start"===e?i:"end"===e?t:e}function tBt(e,{inflateAmount:i},t){e.inflateAmount="auto"===i?1===t?.33:0:i}let eBt=(()=>class e extends df{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,s){return EZ(t,n,r,s)}parseArrayData(t,n,r,s){return EZ(t,n,r,s)}parseObjectData(t,n,r,s){const{iScale:o,vScale:l}=t,{xAxisKey:w="x",yAxisKey:S="y"}=this._parsing,M="x"===o.axis?w:S,P="x"===l.axis?w:S,O=[];let N,U,j,W;for(N=r,U=r+s;N<U;++N)W=n[N],j={},j[o.axis]=o.parse(sf(W,M),N),O.push(SZ(sf(W,P),j,l,N));return O}updateRangeFromParsed(t,n,r,s){super.updateRangeFromParsed(t,n,r,s);const o=r._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:s}=n,o=this.getParsed(t),l=o._custom,w=gL(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:w}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,s){const o="reset"===s,{index:l,_cachedMeta:{vScale:w}}=this,S=w.getBasePixel(),M=w.isHorizontal(),P=this._getRuler(),{sharedOptions:O,includeOptions:N}=this._getSharedOptions(n,s);for(let U=n;U<n+r;U++){const j=this.getParsed(U),W=o||ir(j[w.axis])?{base:S,head:S}:this._calculateBarValuePixels(U),Z=this._calculateBarIndexPixels(U,P),rt=(j._stacks||{})[w.axis],st={horizontal:M,base:W.base,enableBorderRadius:!rt||gL(j._custom)||l===rt._top||l===rt._bottom,x:M?W.head:Z.center,y:M?Z.center:W.head,height:M?Z.size:Math.abs(W.size),width:M?Math.abs(W.size):Z.size};N&&(st.options=O||this.resolveDataElementOptions(U,t[U].active?"active":s));const vt=st.options||t[U].options;J3t(st,vt,rt,l),tBt(st,vt,P.ratio),this.updateElement(t[U],U,st,s)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(P=>P.controller.options.grouped),o=r.options.stacked,l=[],w=this._cachedMeta.controller.getParsed(n),S=w&&w[r.axis],M=P=>{const O=P._parsed.find(U=>U[r.axis]===S),N=O&&O[P.vScale.axis];if(ir(N)||isNaN(N))return!0};for(const P of s)if((void 0===n||!M(P))&&((!1===o||-1===l.indexOf(P.stack)||void 0===o&&void 0===P.stack)&&l.push(P.stack),P.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,r){const s=this._getStacks(t,r),o=void 0!==n?s.indexOf(n):-1;return-1===o?s.length-1:o}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,s=[];let o,l;for(o=0,l=n.data.length;o<l;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const w=t.barThickness;return{min:w||X3t(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:w?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:o,minBarLength:l}}=this,w=o||0,S=this.getParsed(t),M=S._custom,P=gL(M);let j,W,O=S[n.axis],N=0,U=r?this.applyStack(n,S,r):O;U!==O&&(N=U-O,U=O),P&&(O=M.barStart,U=M.barEnd-M.barStart,0!==O&&Td(O)!==Td(M.barEnd)&&(N=0),N+=O);const Z=ir(o)||P?N:o;let rt=n.getPixelForValue(Z);if(j=this.chart.getDataVisibility(t)?n.getPixelForValue(N+U):rt,W=j-rt,Math.abs(W)<l){W=function K3t(e,i,t){return 0!==e?Td(e):(i.isHorizontal()?1:-1)*(i.min>=t?1:-1)}(W,n,w)*l,O===w&&(rt-=W/2);const st=n.getPixelForDecimal(0),vt=n.getPixelForDecimal(1),_t=Math.min(st,vt),kt=Math.max(st,vt);rt=Math.max(Math.min(rt,kt),_t),j=rt+W,r&&!P&&(S._stacks[n.axis]._visualValues[s]=n.getValueForPixel(j)-n.getValueForPixel(rt))}if(rt===n.getPixelForValue(w)){const st=Td(W)*n.getLineWidthForValue(w)/2;rt+=st,W-=st}return{size:W,base:rt,head:j,center:j+W/2}}_calculateBarIndexPixels(t,n){const r=n.scale,s=this.options,o=s.skipNull,l=Tn(s.maxBarThickness,1/0);let w,S;if(n.grouped){const M=o?this._getStackCount(t):n.stackCount,P="flex"===s.barThickness?function $3t(e,i,t,n){const r=i.pixels,s=r[e];let o=e>0?r[e-1]:null,l=e<r.length-1?r[e+1]:null;const w=t.categoryPercentage;null===o&&(o=s-(null===l?i.end-i.start:l-s)),null===l&&(l=s+s-o);const S=s-(s-Math.min(o,l))/2*w;return{chunk:Math.abs(l-o)/2*w/n,ratio:t.barPercentage,start:S}}(t,n,s,M):function Y3t(e,i,t,n){const r=t.barThickness;let s,o;return ir(r)?(s=i.min*t.categoryPercentage,o=t.barPercentage):(s=r*n,o=1),{chunk:s/n,ratio:o,start:i.pixels[e]-s/2}}(t,n,s,M),O=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);w=P.start+P.chunk*O+P.chunk/2,S=Math.min(l,P.chunk*P.ratio)}else w=r.getPixelForValue(this.getParsed(t)[r.axis],t),S=Math.min(l,n.min*n.ratio);return{base:w-S/2,head:w+S/2,center:w,size:S}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,s=r.length;let o=0;for(;o<s;++o)null!==this.getParsed(o)[n.axis]&&!r[o].hidden&&r[o].draw(this._ctx)}})(),iBt=(()=>class e extends df{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,s){const o=super.parsePrimitiveData(t,n,r,s);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+r).radius;return o}parseArrayData(t,n,r,s){const o=super.parseArrayData(t,n,r,s);for(let l=0;l<o.length;l++)o[l]._custom=Tn(n[r+l][2],this.resolveDataElementOptions(l+r).radius);return o}parseObjectData(t,n,r,s){const o=super.parseObjectData(t,n,r,s);for(let l=0;l<o.length;l++){const w=n[r+l];o[l]._custom=Tn(w&&w.r&&+w.r,this.resolveDataElementOptions(l+r).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=n,l=this.getParsed(t),w=s.getLabelForValue(l.x),S=o.getLabelForValue(l.y),M=l._custom;return{label:r[t]||"",value:"("+w+", "+S+(M?", "+M:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,s){const o="reset"===s,{iScale:l,vScale:w}=this._cachedMeta,{sharedOptions:S,includeOptions:M}=this._getSharedOptions(n,s),P=l.axis,O=w.axis;for(let N=n;N<n+r;N++){const U=t[N],j=!o&&this.getParsed(N),W={},Z=W[P]=o?l.getPixelForDecimal(.5):l.getPixelForValue(j[P]),rt=W[O]=o?w.getBasePixel():w.getPixelForValue(j[O]);W.skip=isNaN(Z)||isNaN(rt),M&&(W.options=S||this.resolveDataElementOptions(N,U.active?"active":s),o&&(W.options.radius=0)),this.updateElement(U,N,W,s)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return"active"!==n&&(s.radius=0),s.radius+=Tn(r&&r._custom,o),s}})(),vL=(()=>class e extends df{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=t.legend.options;return n.labels.map((o,l)=>{const S=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:S.backgroundColor,strokeStyle:S.borderColor,fontColor:s,lineWidth:S.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=r;else{let l,w,o=S=>+r[S];if(jn(r[t])){const{key:S="value"}=this._parsing;o=M=>+sf(r[M],S)}for(l=t,w=t+n;l<w;++l)s._parsed[l]=o(l)}}_getRotation(){return Fc(this.options.rotation-90)}_getCircumference(){return Fc(this.options.circumference)}_getRotationExtents(){let t=ns,n=-ns;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),l=s._getCircumference();t=Math.min(t,o),n=Math.max(n,o+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,o=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,w=Math.max((Math.min(r.width,r.height)-l)/2,0),S=Math.min(((e,i)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/i)(this.options.cutout,w),1),M=this._getRingWeight(this.index),{circumference:P,rotation:O}=this._getRotationExtents(),{ratioX:N,ratioY:U,offsetX:j,offsetY:W}=function nBt(e,i,t){let n=1,r=1,s=0,o=0;if(i<ns){const l=e,w=l+i,S=Math.cos(l),M=Math.sin(l),P=Math.cos(w),O=Math.sin(w),N=(st,vt,_t)=>Wb(st,l,w,!0)?1:Math.max(vt,vt*t,_t,_t*t),U=(st,vt,_t)=>Wb(st,l,w,!0)?-1:Math.min(vt,vt*t,_t,_t*t),j=N(0,S,P),W=N(zs,M,O),Z=U(is,S,P),rt=U(is+zs,M,O);n=(j-Z)/2,r=(W-rt)/2,s=-(j+Z)/2,o=-(W+rt)/2}return{ratioX:n,ratioY:r,offsetX:s,offsetY:o}}(O,P,S),st=Math.max(Math.min((r.width-l)/N,(r.height-l)/U)/2,0),vt=MK(this.options.radius,st),kt=(vt-Math.max(vt*S,0))/this._getVisibleDatasetWeightTotal();this.offsetX=j*vt,this.offsetY=W*vt,s.total=this.calculateTotal(),this.outerRadius=vt-kt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-kt*M,0),this.updateElements(o,0,o.length,t)}_circumference(t,n){const r=this.options,s=this._cachedMeta,o=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s._parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/ns)}updateElements(t,n,r,s){const o="reset"===s,l=this.chart,w=l.chartArea,P=(w.left+w.right)/2,O=(w.top+w.bottom)/2,N=o&&l.options.animation.animateScale,U=N?0:this.innerRadius,j=N?0:this.outerRadius,{sharedOptions:W,includeOptions:Z}=this._getSharedOptions(n,s);let st,rt=this._getRotation();for(st=0;st<n;++st)rt+=this._circumference(st,o);for(st=n;st<n+r;++st){const vt=this._circumference(st,o),_t=t[st],kt={x:P+this.offsetX,y:O+this.offsetY,startAngle:rt,endAngle:rt+vt,circumference:vt,outerRadius:j,innerRadius:U};Z&&(kt.options=W||this.resolveDataElementOptions(st,_t.active?"active":s)),rt+=vt,this.updateElement(_t,st,kt,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s,r=0;for(s=0;s<n.length;s++){const o=t._parsed[s];null!==o&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?ns*(Math.abs(t)/n):0}getLabelAndValue(t){const r=this.chart,s=r.data.labels||[],o=Xb(this._cachedMeta._parsed[t],r.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let n=0;const r=this.chart;let s,o,l,w,S;if(!t)for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){l=r.getDatasetMeta(s),t=l.data,w=l.controller;break}if(!t)return 0;for(s=0,o=t.length;s<o;++s)S=w.resolveDataElementOptions(s),"inner"!==S.borderAlign&&(n=Math.max(n,S.borderWidth||0,S.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,s=t.length;r<s;++r){const o=this.resolveDataElementOptions(r);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(Tn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),rBt=(()=>class e extends df{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=n,l=this.chart._animationsDisabled;let{start:w,count:S}=HK(n,s,l);this._drawStart=w,this._drawCount=S,WK(n)&&(w=0,S=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;const M=this.resolveDatasetElementOptions(t);this.options.showLine||(M.borderWidth=0),M.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:M},t),this.updateElements(s,w,S,t)}updateElements(t,n,r,s){const o="reset"===s,{iScale:l,vScale:w,_stacked:S,_dataset:M}=this._cachedMeta,{sharedOptions:P,includeOptions:O}=this._getSharedOptions(n,s),N=l.axis,U=w.axis,{spanGaps:j,segment:W}=this.options,Z=n0(j)?j:Number.POSITIVE_INFINITY,rt=this.chart._animationsDisabled||o||"none"===s,st=n+r,vt=t.length;let _t=n>0&&this.getParsed(n-1);for(let kt=0;kt<vt;++kt){const ft=t[kt],dt=rt?ft:{};if(kt<n||kt>=st){dt.skip=!0;continue}const pt=this.getParsed(kt),bt=ir(pt[U]),Tt=dt[N]=l.getPixelForValue(pt[N],kt),Et=dt[U]=o||bt?w.getBasePixel():w.getPixelForValue(S?this.applyStack(w,pt,S):pt[U],kt);dt.skip=isNaN(Tt)||isNaN(Et)||bt,dt.stop=kt>0&&Math.abs(pt[N]-_t[N])>Z,W&&(dt.parsed=pt,dt.raw=M.data[kt]),O&&(dt.options=P||this.resolveDataElementOptions(kt,ft.active?"active":s)),rt||this.updateElement(ft,kt,dt,s),_t=pt}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return r;const o=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}})(),MZ=(()=>class e extends df{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=t.legend.options;return n.labels.map((o,l)=>{const S=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:S.backgroundColor,strokeStyle:S.borderColor,fontColor:s,lineWidth:S.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this.chart,s=r.data.labels||[],o=Xb(this._cachedMeta._parsed[t].r,r.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,n,r,s){return sZ.bind(this)(t,n,r,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(s/2,0),w=(o-Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=o-w*this.index,this.innerRadius=this.outerRadius-w}updateElements(t,n,r,s){const o="reset"===s,l=this.chart,S=l.options.animation,M=this._cachedMeta.rScale,P=M.xCenter,O=M.yCenter,N=M.getIndexAngle(0)-.5*is;let j,U=N;const W=360/this.countVisibleElements();for(j=0;j<n;++j)U+=this._computeAngle(j,s,W);for(j=n;j<n+r;j++){const Z=t[j];let rt=U,st=U+this._computeAngle(j,s,W),vt=l.getDataVisibility(j)?M.getDistanceFromCenterForValue(this.getParsed(j).r):0;U=st,o&&(S.animateScale&&(vt=0),S.animateRotate&&(rt=st=N));const _t={x:P,y:O,innerRadius:0,outerRadius:vt,startAngle:rt,endAngle:st,options:this.resolveDataElementOptions(j,Z.active?"active":s)};this.updateElement(Z,j,_t,s)}}countVisibleElements(){let n=0;return this._cachedMeta.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?Fc(this.resolveDataElementOptions(t,n).angle||r):0}})();var sBt=Object.freeze({__proto__:null,BarController:eBt,BubbleController:iBt,DoughnutController:vL,LineController:rBt,PieController:(()=>class e extends vL{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:MZ,RadarController:(()=>class e extends df{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,s){return sZ.bind(this)(t,n,r,s)}update(t){const n=this._cachedMeta,r=n.dataset,s=n.data||[],o=n.iScale.getLabels();if(r.points=s,"resize"!==t){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:o.length===s.length,options:l},t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,r,s){const o=this._cachedMeta.rScale,l="reset"===s;for(let w=n;w<n+r;w++){const S=t[w],M=this.resolveDataElementOptions(w,S.active?"active":s),P=o.getPointPositionForValue(w,this.getParsed(w).r),O=l?o.xCenter:P.x,N=l?o.yCenter:P.y,U={x:O,y:N,angle:P.angle,skip:isNaN(O)||isNaN(N),options:M};this.updateElement(S,w,U,s)}}})(),ScatterController:(()=>class e extends df{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=n,l=this.getParsed(t),w=s.getLabelForValue(l.x),S=o.getLabelForValue(l.y);return{label:r[t]||"",value:"("+w+", "+S+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,s=this.chart._animationsDisabled;let{start:o,count:l}=HK(n,r,s);if(this._drawStart=o,this._drawCount=l,WK(n)&&(o=0,l=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:w,_dataset:S}=n;w._chart=this.chart,w._datasetIndex=this.index,w._decimated=!!S._decimated,w.points=r;const M=this.resolveDatasetElementOptions(t);M.segment=this.options.segment,this.updateElement(w,void 0,{animated:!s,options:M},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,o,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,s){const o="reset"===s,{iScale:l,vScale:w,_stacked:S,_dataset:M}=this._cachedMeta,P=this.resolveDataElementOptions(n,s),O=this.getSharedOptions(P),N=this.includeOptions(s,O),U=l.axis,j=w.axis,{spanGaps:W,segment:Z}=this.options,rt=n0(W)?W:Number.POSITIVE_INFINITY,st=this.chart._animationsDisabled||o||"none"===s;let vt=n>0&&this.getParsed(n-1);for(let _t=n;_t<n+r;++_t){const kt=t[_t],ft=this.getParsed(_t),dt=st?kt:{},pt=ir(ft[j]),bt=dt[U]=l.getPixelForValue(ft[U],_t),Tt=dt[j]=o||pt?w.getBasePixel():w.getPixelForValue(S?this.applyStack(w,ft,S):ft[j],_t);dt.skip=isNaN(bt)||isNaN(Tt)||pt,dt.stop=_t>0&&Math.abs(ft[U]-vt[U])>rt,Z&&(dt.parsed=ft,dt.raw=M.data[_t]),N&&(dt.options=O||this.resolveDataElementOptions(_t,kt.active?"active":s)),st||this.updateElement(kt,_t,dt,s),vt=ft}this.updateSharedOptions(O,s,P)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let w=0;for(let S=n.length-1;S>=0;--S)w=Math.max(w,n[S].size(this.resolveDataElementOptions(S))/2);return w>0&&w}const r=t.dataset,s=r.options&&r.options.borderWidth||0;if(!n.length)return s;const o=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,o,l)/2}})()});function Gm(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class xL{static override(i){Object.assign(xL.prototype,i)}options;constructor(i){this.options=i||{}}init(){}formats(){return Gm()}parse(){return Gm()}format(){return Gm()}add(){return Gm()}diff(){return Gm()}startOf(){return Gm()}endOf(){return Gm()}}var aBt__date=xL;function oBt(e,i,t,n){const{controller:r,data:s,_sorted:o}=e,l=r._cachedMeta.iScale;if(l&&i===l.axis&&"r"!==i&&o&&s.length){const w=l._reversePixels?A4t:Pu;if(!n)return w(s,i,t);if(r._sharedOptions){const S=s[0],M="function"==typeof S.getRange&&S.getRange(i);if(M){const P=w(s,i,t-M),O=w(s,i,t+M);return{lo:P.lo,hi:O.hi}}}}return{lo:0,hi:s.length-1}}function Zb(e,i,t,n,r){const s=e.getSortedVisibleDatasetMetas(),o=t[i];for(let l=0,w=s.length;l<w;++l){const{index:S,data:M}=s[l],{lo:P,hi:O}=oBt(s[l],i,o,r);for(let N=P;N<=O;++N){const U=M[N];U.skip||n(U,S,N)}}}function yL(e,i,t,n,r){const s=[];return!r&&!e.isPointInArea(i)||Zb(e,t,i,function(l,w,S){!r&&!Fu(l,e.chartArea,0)||l.inRange(i.x,i.y,n)&&s.push({element:l,datasetIndex:w,index:S})},!0),s}function bL(e,i,t,n,r,s){return s||e.isPointInArea(i)?"r"!==t||n?function dBt(e,i,t,n,r,s){let o=[];const l=function lBt(e){const i=-1!==e.indexOf("x"),t=-1!==e.indexOf("y");return function(n,r){const s=i?Math.abs(n.x-r.x):0,o=t?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}(t);let w=Number.POSITIVE_INFINITY;return Zb(e,t,i,function S(M,P,O){const N=M.inRange(i.x,i.y,r);if(n&&!N)return;const U=M.getCenterPoint(r);if(!s&&!e.isPointInArea(U)&&!N)return;const W=l(i,U);W<w?(o=[{element:M,datasetIndex:P,index:O}],w=W):W===w&&o.push({element:M,datasetIndex:P,index:O})}),o}(e,i,t,n,r,s):function cBt(e,i,t,n){let r=[];return Zb(e,t,i,function s(o,l,w){const{startAngle:S,endAngle:M}=o.getProps(["startAngle","endAngle"],n),{angle:P}=NK(o,{x:i.x,y:i.y});Wb(P,S,M)&&r.push({element:o,datasetIndex:l,index:w})}),r}(e,i,t,r):[]}function IZ(e,i,t,n,r){const s=[],o="x"===t?"inXRange":"inYRange";let l=!1;return Zb(e,t,i,(w,S,M)=>{w[o]&&w[o](i[t],r)&&(s.push({element:w,datasetIndex:S,index:M}),l=l||w.inRange(i.x,i.y,r))}),n&&!l?[]:s}var uBt={evaluateInteractionItems:Zb,modes:{index(e,i,t,n){const r=Um(i,e),s=t.axis||"x",o=t.includeInvisible||!1,l=t.intersect?yL(e,r,s,n,o):bL(e,r,s,!1,n,o),w=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(S=>{const M=l[0].index,P=S.data[M];P&&!P.skip&&w.push({element:P,datasetIndex:S.index,index:M})}),w):[]},dataset(e,i,t,n){const r=Um(i,e),s=t.axis||"xy",o=t.includeInvisible||!1;let l=t.intersect?yL(e,r,s,n,o):bL(e,r,s,!1,n,o);if(l.length>0){const w=l[0].datasetIndex,S=e.getDatasetMeta(w).data;l=[];for(let M=0;M<S.length;++M)l.push({element:S[M],datasetIndex:w,index:M})}return l},point:(e,i,t,n)=>yL(e,Um(i,e),t.axis||"xy",n,t.includeInvisible||!1),nearest:(e,i,t,n)=>bL(e,Um(i,e),t.axis||"xy",t.intersect,n,t.includeInvisible||!1),x:(e,i,t,n)=>IZ(e,Um(i,e),"x",t.intersect,n),y:(e,i,t,n)=>IZ(e,Um(i,e),"y",t.intersect,n)}};const kZ=["left","top","right","bottom"];function Jb(e,i){return e.filter(t=>t.pos===i)}function RZ(e,i){return e.filter(t=>-1===kZ.indexOf(t.pos)&&t.box.axis===i)}function qb(e,i){return e.sort((t,n)=>{const r=i?n:t,s=i?t:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function PZ(e,i,t,n){return Math.max(e[t],i[t])+Math.max(e[n],i[n])}function FZ(e,i){e.top=Math.max(e.top,i.top),e.left=Math.max(e.left,i.left),e.bottom=Math.max(e.bottom,i.bottom),e.right=Math.max(e.right,i.right)}function gBt(e,i,t,n){const{pos:r,box:s}=t,o=e.maxPadding;if(!jn(r)){t.size&&(e[r]-=t.size);const P=n[t.stack]||{size:0,count:1};P.size=Math.max(P.size,t.horizontal?s.height:s.width),t.size=P.size/P.count,e[r]+=t.size}s.getPadding&&FZ(o,s.getPadding());const l=Math.max(0,i.outerWidth-PZ(o,e,"left","right")),w=Math.max(0,i.outerHeight-PZ(o,e,"top","bottom")),S=l!==e.w,M=w!==e.h;return e.w=l,e.h=w,t.horizontal?{same:S,other:M}:{same:M,other:S}}function xBt(e,i){const t=i.maxPadding;return function n(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(i[o],t[o])}),s}(e?["left","right"]:["top","bottom"])}function t1(e,i,t,n){const r=[];let s,o,l,w,S,M;for(s=0,o=e.length,S=0;s<o;++s){l=e[s],w=l.box,w.update(l.width||i.w,l.height||i.h,xBt(l.horizontal,i));const{same:P,other:O}=gBt(i,t,l,n);S|=P&&r.length,M=M||O,w.fullSize||r.push(l)}return S&&t1(r,i,t,n)||M}function yE(e,i,t,n,r){e.top=t,e.left=i,e.right=i+n,e.bottom=t+r,e.width=n,e.height=r}function OZ(e,i,t,n){const r=t.padding;let{x:s,y:o}=i;for(const l of e){const w=l.box,S=n[l.stack]||{count:1,placed:0,weight:1},M=l.stackWeight/S.weight||1;if(l.horizontal){const P=i.w*M,O=S.size||w.height;Gb(S.start)&&(o=S.start),w.fullSize?yE(w,r.left,o,t.outerWidth-r.right-r.left,O):yE(w,i.left+S.placed,o,P,O),S.start=o,S.placed+=P,o=w.bottom}else{const P=i.h*M,O=S.size||w.width;Gb(S.start)&&(s=S.start),w.fullSize?yE(w,s,r.top,O,t.outerHeight-r.bottom-r.top):yE(w,s,i.top+S.placed,O,P),S.start=s,S.placed+=P,s=w.right}}i.x=s,i.y=o}var po={addBox(e,i){e.boxes||(e.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(t){i.draw(t)}}]},e.boxes.push(i)},removeBox(e,i){const t=e.boxes?e.boxes.indexOf(i):-1;-1!==t&&e.boxes.splice(t,1)},configure(e,i,t){i.fullSize=t.fullSize,i.position=t.position,i.weight=t.weight},update(e,i,t,n){if(!e)return;const r=mo(e.options.layout.padding),s=Math.max(i-r.width,0),o=Math.max(t-r.height,0),l=function pBt(e){const i=function hBt(e){const i=[];let t,n,r,s,o,l;for(t=0,n=(e||[]).length;t<n;++t)r=e[t],({position:s,options:{stack:o,stackWeight:l=1}}=r),i.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:l});return i}(e),t=qb(i.filter(S=>S.box.fullSize),!0),n=qb(Jb(i,"left"),!0),r=qb(Jb(i,"right")),s=qb(Jb(i,"top"),!0),o=qb(Jb(i,"bottom")),l=RZ(i,"x"),w=RZ(i,"y");return{fullSize:t,leftAndTop:n.concat(s),rightAndBottom:r.concat(w).concat(o).concat(l),chartArea:Jb(i,"chartArea"),vertical:n.concat(r).concat(w),horizontal:s.concat(o).concat(l)}}(e.boxes),w=l.vertical,S=l.horizontal;Er(e.boxes,j=>{"function"==typeof j.beforeLayout&&j.beforeLayout()});const M=w.reduce((j,W)=>W.box.options&&!1===W.box.options.display?j:j+1,0)||1,P=Object.freeze({outerWidth:i,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/M,hBoxMaxHeight:o/2}),O=Object.assign({},r);FZ(O,mo(n));const N=Object.assign({maxPadding:O,w:s,h:o,x:r.left,y:r.top},r),U=function mBt(e,i){const t=function fBt(e){const i={};for(const t of e){const{stack:n,pos:r,stackWeight:s}=t;if(!n||!kZ.includes(r))continue;const o=i[n]||(i[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return i}(e),{vBoxMaxWidth:n,hBoxMaxHeight:r}=i;let s,o,l;for(s=0,o=e.length;s<o;++s){l=e[s];const{fullSize:w}=l.box,S=t[l.stack],M=S&&l.stackWeight/S.weight;l.horizontal?(l.width=M?M*n:w&&i.availableWidth,l.height=r):(l.width=n,l.height=M?M*r:w&&i.availableHeight)}return t}(w.concat(S),P);t1(l.fullSize,N,P,U),t1(w,N,P,U),t1(S,N,P,U)&&t1(w,N,P,U),function vBt(e){const i=e.maxPadding;function t(n){const r=Math.max(i[n]-e[n],0);return e[n]+=r,r}e.y+=t("top"),e.x+=t("left"),t("right"),t("bottom")}(N),OZ(l.leftAndTop,N,P,U),N.x+=N.w,N.y+=N.h,OZ(l.rightAndBottom,N,P,U),e.chartArea={left:N.left,top:N.top,right:N.left+N.w,bottom:N.top+N.h,height:N.h,width:N.w},Er(l.chartArea,j=>{const W=j.box;Object.assign(W,e.chartArea),W.update(N.w,N.h,{left:0,top:0,right:0,bottom:0})})}};class LZ{acquireContext(i,t){}releaseContext(i){return!1}addEventListener(i,t,n){}removeEventListener(i,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(i,t,n,r){return t=Math.max(0,t||i.width),n=n||i.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(i){return!0}updateConfig(i){}}class yBt extends LZ{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}}const bE="$chartjs",bBt={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},NZ=e=>null===e||""===e,BZ=!!b3t&&{passive:!0};function TBt(e,i,t){e&&e.canvas&&e.canvas.removeEventListener(i,t,BZ)}function wE(e,i){for(const t of e)if(t===i||t.contains(i))return!0}function SBt(e,i,t){const n=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||wE(l.addedNodes,n),o=o&&!wE(l.removedNodes,n);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function EBt(e,i,t){const n=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||wE(l.removedNodes,n),o=o&&!wE(l.addedNodes,n);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const e1=new Map;let VZ=0;function UZ(){const e=window.devicePixelRatio;e!==VZ&&(VZ=e,e1.forEach((i,t)=>{t.currentDevicePixelRatio!==e&&i()}))}function MBt(e,i,t){const n=e.canvas,r=n&&hL(n);if(!r)return;const s=GK((l,w)=>{const S=r.clientWidth;t(l,w),S<r.clientWidth&&t()},window),o=new ResizeObserver(l=>{const w=l[0],S=w.contentRect.width,M=w.contentRect.height;0===S&&0===M||s(S,M)});return o.observe(r),function ABt(e,i){e1.size||window.addEventListener("resize",UZ),e1.set(e,i)}(e,s),o}function wL(e,i,t){t&&t.disconnect(),"resize"===i&&function DBt(e){e1.delete(e),e1.size||window.removeEventListener("resize",UZ)}(e)}function IBt(e,i,t){const n=e.canvas,r=GK(s=>{null!==e.ctx&&t(function CBt(e,i){const t=bBt[e.type]||e.type,{x:n,y:r}=Um(e,i);return{type:t,chart:i,native:e,x:void 0!==n?n:null,y:void 0!==r?r:null}}(s,e))},e);return function _Bt(e,i,t){e&&e.addEventListener(i,t,BZ)}(n,i,r),r}class kBt extends LZ{acquireContext(i,t){const n=i&&i.getContext&&i.getContext("2d");return n&&n.canvas===i?(function wBt(e,i){const t=e.style,n=e.getAttribute("height"),r=e.getAttribute("width");if(e[bE]={initial:{height:n,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",NZ(r)){const s=lZ(e,"width");void 0!==s&&(e.width=s)}if(NZ(n))if(""===e.style.height)e.height=e.width/(i||2);else{const s=lZ(e,"height");void 0!==s&&(e.height=s)}}(i,t),n):null}releaseContext(i){const t=i.canvas;if(!t[bE])return!1;const n=t[bE].initial;["height","width"].forEach(s=>{const o=n[s];ir(o)?t.removeAttribute(s):t.setAttribute(s,o)});const r=n.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[bE],!0}addEventListener(i,t,n){this.removeEventListener(i,t),(i.$proxies||(i.$proxies={}))[t]=({attach:SBt,detach:EBt,resize:MBt}[t]||IBt)(i,t,n)}removeEventListener(i,t){const n=i.$proxies||(i.$proxies={}),r=n[t];r&&(({attach:wL,detach:wL,resize:wL}[t]||TBt)(i,t,r),n[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,t,n,r){return function y3t(e,i,t,n){const r=vE(e),s=Vm(r,"margin"),o=gE(r.maxWidth,e,"clientWidth")||cE,l=gE(r.maxHeight,e,"clientHeight")||cE,w=function x3t(e,i,t){let n,r;if(void 0===i||void 0===t){const s=e&&hL(e);if(s){const o=s.getBoundingClientRect(),l=vE(s),w=Vm(l,"border","width"),S=Vm(l,"padding");i=o.width-S.width-w.width,t=o.height-S.height-w.height,n=gE(l.maxWidth,s,"clientWidth"),r=gE(l.maxHeight,s,"clientHeight")}else i=e.clientWidth,t=e.clientHeight}return{width:i,height:t,maxWidth:n||cE,maxHeight:r||cE}}(e,i,t);let{width:S,height:M}=w;if("content-box"===r.boxSizing){const O=Vm(r,"border","width"),N=Vm(r,"padding");S-=N.width+O.width,M-=N.height+O.height}return S=Math.max(0,S-s.width),M=Math.max(0,n?S/n:M-s.height),S=xE(Math.min(S,o,w.maxWidth)),M=xE(Math.min(M,l,w.maxHeight)),S&&!M&&(M=xE(S/2)),(void 0!==i||void 0!==t)&&n&&w.height&&M>w.height&&(M=w.height,S=xE(Math.floor(M*n))),{width:S,height:M}}(i,t,n,r)}isAttached(i){const t=i&&hL(i);return!(!t||!t.isConnected)}}class Lu{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(i){const{x:t,y:n}=this.getProps(["x","y"],i);return{x:t,y:n}}hasValue(){return n0(this.x)&&n0(this.y)}getProps(i,t){const n=this.$animations;if(!t||!n)return this;const r={};return i.forEach(s=>{r[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),r}}function _E(e,i,t,n,r){const s=Tn(n,0),o=Math.min(Tn(r,e.length),e.length);let w,S,M,l=0;for(t=Math.ceil(t),r&&(w=r-n,t=w/Math.floor(w/t)),M=s;M<0;)l++,M=Math.round(s+l*t);for(S=Math.max(s,0);S<o;S++)S===M&&(i.push(e[S]),l++,M=Math.round(s+l*t))}const zZ=(e,i,t)=>"top"===i||"left"===i?e[i]+t:e[i]-t,GZ=(e,i)=>Math.min(i||e,e);function HZ(e,i){const t=[],n=e.length/i,r=e.length;let s=0;for(;s<r;s+=n)t.push(e[Math.floor(s)]);return t}function UBt(e,i,t){const n=e.ticks.length,r=Math.min(i,n-1),s=e._startPixel,o=e._endPixel,l=1e-6;let S,w=e.getPixelForTick(r);if(!(t&&(S=1===n?Math.max(w-s,o-w):0===i?(e.getPixelForTick(1)-w)/2:(w-e.getPixelForTick(r-1))/2,w+=r<i?S:-S,w<s-l||w>o+l)))return w}function n1(e){return e.drawTicks?e.tickLength:0}function WZ(e,i){if(!e.display)return 0;const t=xa(e.font,i),n=mo(e.padding);return(es(e.text)?e.text.length:1)*t.lineHeight+n.height}function WBt(e,i,t){let n=eL(e);return(t&&"right"!==i||!t&&"right"===i)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class Hm extends Lu{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,t){return i}getUserBounds(){let{_userMin:i,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return i=Rl(i,Number.POSITIVE_INFINITY),t=Rl(t,Number.NEGATIVE_INFINITY),n=Rl(n,Number.POSITIVE_INFINITY),r=Rl(r,Number.NEGATIVE_INFINITY),{min:Rl(i,n),max:Rl(t,r),minDefined:Ss(i),maxDefined:Ss(t)}}getMinMax(i){let o,{min:t,max:n,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:t,max:n};const l=this.getMatchingVisibleMetas();for(let w=0,S=l.length;w<S;++w)o=l[w].controller.getMinMax(this,i),r||(t=Math.min(t,o.min)),s||(n=Math.max(n,o.max));return t=s&&t>n?n:t,n=r&&t>n?t:n,{min:Rl(t,Rl(n,t)),max:Rl(n,Rl(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}getLabelItems(i=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(i))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){$r(this.options.beforeUpdate,[this])}update(i,t,n){const{beginAtZero:r,grace:s,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Z4t(e,i,t){const{min:n,max:r}=e,s=MK(i,(r-n)/2),o=(l,w)=>t&&0===l?0:l+w;return{min:o(n,-Math.abs(s)),max:o(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const w=l<this.ticks.length;this._convertTicksToLabels(w?HZ(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function PBt(e,i){const t=e.options.ticks,n=function FBt(e){const i=e.options.offset,t=e._tickSize();return Math.floor(Math.min(e._length/t+(i?0:1),e._maxLength/t))}(e),r=Math.min(t.maxTicksLimit||n,n),s=t.major.enabled?function LBt(e){const i=[];let t,n;for(t=0,n=e.length;t<n;t++)e[t].major&&i.push(t);return i}(i):[],o=s.length,l=s[0],w=s[o-1],S=[];if(o>r)return function NBt(e,i,t,n){let o,r=0,s=t[0];for(n=Math.ceil(n),o=0;o<e.length;o++)o===s&&(i.push(e[o]),r++,s=t[r*n])}(i,S,s,o/r),S;const M=function OBt(e,i,t){const n=function BBt(e){const i=e.length;let t,n;if(i<2)return!1;for(n=e[0],t=1;t<i;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),r=i.length/t;if(!n)return Math.max(r,1);const s=function T4t(e){const i=[],t=Math.sqrt(e);let n;for(n=1;n<t;n++)e%n==0&&(i.push(n),i.push(e/n));return t===(0|t)&&i.push(t),i.sort((r,s)=>r-s).pop(),i}(n);for(let o=0,l=s.length-1;o<l;o++){const w=s[o];if(w>r)return w}return Math.max(r,1)}(s,i,r);if(o>0){let P,O;const N=o>1?Math.round((w-l)/(o-1)):null;for(_E(i,S,M,ir(N)?0:l-N,l),P=0,O=o-1;P<O;P++)_E(i,S,M,s[P],s[P+1]);return _E(i,S,M,w,ir(N)?i.length:w+N),S}return _E(i,S,M),S}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),w&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,n,i=this.options.reverse;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,i=!i),this._startPixel=t,this._endPixel=n,this._reversePixels=i,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){$r(this.options.afterUpdate,[this])}beforeSetDimensions(){$r(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){$r(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),$r(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){$r(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){const t=this.options.ticks;let n,r,s;for(n=0,r=i.length;n<r;n++)s=i[n],s.label=$r(t.callback,[s.value,n,i],this)}afterTickToLabelConversion(){$r(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){$r(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const i=this.options,t=i.ticks,n=GZ(this.ticks.length,i.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let l,w,S,o=r;if(!this._isVisible()||!t.display||r>=s||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const M=this._getLabelSizes(),P=M.widest.width,O=M.highest.height,N=Pa(this.chart.width-P,0,this.maxWidth);l=i.offset?this.maxWidth/n:N/(n-1),P+6>l&&(l=N/(n-(i.offset?.5:1)),w=this.maxHeight-n1(i.grid)-t.padding-WZ(i.title,this.chart.options.font),S=Math.sqrt(P*P+O*O),o=JO(Math.min(Math.asin(Pa((M.highest.height+6)/l,-1,1)),Math.asin(Pa(w/S,-1,1))-Math.asin(Pa(O/S,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){$r(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){$r(this.options.beforeFit,[this])}fit(){const i={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:s}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const w=WZ(r,t.options.font);if(l?(i.width=this.maxWidth,i.height=n1(s)+w):(i.height=this.maxHeight,i.width=n1(s)+w),n.display&&this.ticks.length){const{first:S,last:M,widest:P,highest:O}=this._getLabelSizes(),N=2*n.padding,U=Fc(this.labelRotation),j=Math.cos(U),W=Math.sin(U);l?i.height=Math.min(this.maxHeight,i.height+(n.mirror?0:W*P.width+j*O.height)+N):i.width=Math.min(this.maxWidth,i.width+(n.mirror?0:j*P.width+W*O.height)+N),this._calculatePadding(S,M,W,j)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,t,n,r){const{ticks:{align:s,padding:o},position:l}=this.options,w=0!==this.labelRotation,S="top"!==l&&"x"===this.axis;if(this.isHorizontal()){const M=this.getPixelForTick(0)-this.left,P=this.right-this.getPixelForTick(this.ticks.length-1);let O=0,N=0;w?S?(O=r*i.width,N=n*t.height):(O=n*i.height,N=r*t.width):"start"===s?N=t.width:"end"===s?O=i.width:"inner"!==s&&(O=i.width/2,N=t.width/2),this.paddingLeft=Math.max((O-M+o)*this.width/(this.width-M),0),this.paddingRight=Math.max((N-P+o)*this.width/(this.width-P),0)}else{let M=t.height/2,P=i.height/2;"start"===s?(M=0,P=i.height):"end"===s&&(M=t.height,P=0),this.paddingTop=M+o,this.paddingBottom=P+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){$r(this.options.afterFit,[this])}isHorizontal(){const{axis:i,position:t}=this.options;return"top"===t||"bottom"===t||"x"===i}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(i),t=0,n=i.length;t<n;t++)ir(i[t].label)&&(i.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=HZ(n,t)),this._labelSizes=i=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return i}_computeLabelSizes(i,t,n){const{ctx:r,_longestTextCache:s}=this,o=[],l=[],w=Math.floor(t/GZ(t,n));let P,O,N,U,j,W,Z,rt,st,vt,_t,S=0,M=0;for(P=0;P<t;P+=w){if(U=i[P].label,j=this._resolveTickFontOptions(P),r.font=W=j.string,Z=s[W]=s[W]||{data:{},gc:[]},rt=j.lineHeight,st=vt=0,ir(U)||es(U)){if(es(U))for(O=0,N=U.length;O<N;++O)_t=U[O],!ir(_t)&&!es(_t)&&(st=hE(r,Z.data,Z.gc,st,_t),vt+=rt)}else st=hE(r,Z.data,Z.gc,st,U),vt=rt;o.push(st),l.push(vt),S=Math.max(st,S),M=Math.max(vt,M)}!function zBt(e,i){Er(e,t=>{const n=t.gc,r=n.length/2;let s;if(r>i){for(s=0;s<r;++s)delete t.data[n[s]];n.splice(0,r)}})}(s,t);const kt=o.indexOf(S),ft=l.indexOf(M),dt=pt=>({width:o[pt]||0,height:l[pt]||0});return{first:dt(0),last:dt(t-1),widest:dt(kt),highest:dt(ft),widths:o,heights:l}}getLabelForValue(i){return i}getPixelForValue(i,t){return NaN}getValueForPixel(i){}getPixelForTick(i){const t=this.ticks;return i<0||i>t.length-1?null:this.getPixelForValue(t[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);const t=this._startPixel+i*this._length;return function E4t(e){return Pa(e,-32768,32767)}(this._alignToPixels?Lm(this.chart,t,0):t)}getDecimalForPixel(i){const t=(i-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:i,max:t}=this;return i<0&&t<0?t:i>0&&t>0?i:0}getContext(i){const t=this.ticks||[];if(i>=0&&i<t.length){const n=t[i];return n.$context||(n.$context=function HBt(e,i,t){return cf(e,{tick:t,index:i,type:"tick"})}(this.getContext(),i,n))}return this.$context||(this.$context=function GBt(e,i){return cf(e,{scale:i,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const i=this.options.ticks,t=Fc(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=i.autoSkipPadding||0,l=s?s.widest.width+o:0,w=s?s.highest.height+o:0;return this.isHorizontal()?w*n>l*r?l/n:w/r:w*r<l*n?w/n:l/r}_isVisible(){const i=this.options.display;return"auto"!==i?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){const t=this.axis,n=this.chart,r=this.options,{grid:s,position:o,border:l}=r,w=s.offset,S=this.isHorizontal(),P=this.ticks.length+(w?1:0),O=n1(s),N=[],U=l.setContext(this.getContext()),j=U.display?U.width:0,W=j/2,Z=function(ve){return Lm(n,ve,j)};let rt,st,vt,_t,kt,ft,dt,pt,bt,Tt,Et,Dt;if("top"===o)rt=Z(this.bottom),ft=this.bottom-O,pt=rt-W,Tt=Z(i.top)+W,Dt=i.bottom;else if("bottom"===o)rt=Z(this.top),Tt=i.top,Dt=Z(i.bottom)-W,ft=rt+W,pt=this.top+O;else if("left"===o)rt=Z(this.right),kt=this.right-O,dt=rt-W,bt=Z(i.left)+W,Et=i.right;else if("right"===o)rt=Z(this.left),bt=i.left,Et=Z(i.right)-W,kt=rt+W,dt=this.left+O;else if("x"===t){if("center"===o)rt=Z((i.top+i.bottom)/2+.5);else if(jn(o)){const ve=Object.keys(o)[0];rt=Z(this.chart.scales[ve].getPixelForValue(o[ve]))}Tt=i.top,Dt=i.bottom,ft=rt+W,pt=ft+O}else if("y"===t){if("center"===o)rt=Z((i.left+i.right)/2);else if(jn(o)){const ve=Object.keys(o)[0];rt=Z(this.chart.scales[ve].getPixelForValue(o[ve]))}kt=rt-W,dt=kt-O,bt=i.left,Et=i.right}const Ue=Tn(r.ticks.maxTicksLimit,P),we=Math.max(1,Math.ceil(P/Ue));for(st=0;st<P;st+=we){const ve=this.getContext(st),qt=s.setContext(ve),Ee=l.setContext(ve),ze=qt.lineWidth,Me=qt.color,Ii=Ee.dash||[],te=Ee.dashOffset,Le=qt.tickWidth,De=qt.tickColor,fi=qt.tickBorderDash||[],vi=qt.tickBorderDashOffset;vt=UBt(this,st,w),void 0!==vt&&(_t=Lm(n,vt,ze),S?kt=dt=bt=Et=_t:ft=pt=Tt=Dt=_t,N.push({tx1:kt,ty1:ft,tx2:dt,ty2:pt,x1:bt,y1:Tt,x2:Et,y2:Dt,width:ze,color:Me,borderDash:Ii,borderDashOffset:te,tickWidth:Le,tickColor:De,tickBorderDash:fi,tickBorderDashOffset:vi}))}return this._ticksLength=P,this._borderValue=rt,N}_computeLabelItems(i){const t=this.axis,n=this.options,{position:r,ticks:s}=n,o=this.isHorizontal(),l=this.ticks,{align:w,crossAlign:S,padding:M,mirror:P}=s,O=n1(n.grid),N=O+M,U=P?-M:N,j=-Fc(this.labelRotation),W=[];let Z,rt,st,vt,_t,kt,ft,dt,pt,bt,Tt,Et,Dt="middle";if("top"===r)kt=this.bottom-U,ft=this._getXAxisLabelAlignment();else if("bottom"===r)kt=this.top+U,ft=this._getXAxisLabelAlignment();else if("left"===r){const we=this._getYAxisLabelAlignment(O);ft=we.textAlign,_t=we.x}else if("right"===r){const we=this._getYAxisLabelAlignment(O);ft=we.textAlign,_t=we.x}else if("x"===t){if("center"===r)kt=(i.top+i.bottom)/2+N;else if(jn(r)){const we=Object.keys(r)[0];kt=this.chart.scales[we].getPixelForValue(r[we])+N}ft=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)_t=(i.left+i.right)/2-N;else if(jn(r)){const we=Object.keys(r)[0];_t=this.chart.scales[we].getPixelForValue(r[we])}ft=this._getYAxisLabelAlignment(O).textAlign}"y"===t&&("start"===w?Dt="top":"end"===w&&(Dt="bottom"));const Ue=this._getLabelSizes();for(Z=0,rt=l.length;Z<rt;++Z){st=l[Z],vt=st.label;const we=s.setContext(this.getContext(Z));dt=this.getPixelForTick(Z)+s.labelOffset,pt=this._resolveTickFontOptions(Z),bt=pt.lineHeight,Tt=es(vt)?vt.length:1;const ve=Tt/2,qt=we.color,Ee=we.textStrokeColor,ze=we.textStrokeWidth;let Ii,Me=ft;if(o?(_t=dt,"inner"===ft&&(Me=Z===rt-1?this.options.reverse?"left":"right":0===Z?this.options.reverse?"right":"left":"center"),Et="top"===r?"near"===S||0!==j?-Tt*bt+bt/2:"center"===S?-Ue.highest.height/2-ve*bt+bt:bt/2-Ue.highest.height:"near"===S||0!==j?bt/2:"center"===S?Ue.highest.height/2-ve*bt:Ue.highest.height-Tt*bt,P&&(Et*=-1),0!==j&&!we.showLabelBackdrop&&(_t+=bt/2*Math.sin(j))):(kt=dt,Et=(1-Tt)*bt/2),we.showLabelBackdrop){const te=mo(we.backdropPadding),Le=Ue.heights[Z],De=Ue.widths[Z];let fi=Et-te.top,vi=0-te.left;switch(Dt){case"middle":fi-=Le/2;break;case"bottom":fi-=Le}switch(ft){case"center":vi-=De/2;break;case"right":vi-=De;break;case"inner":Z===rt-1?vi-=De:Z>0&&(vi-=De/2)}Ii={left:vi,top:fi,width:De+te.width,height:Le+te.height,color:we.backdropColor}}W.push({label:vt,font:pt,textOffset:Et,options:{rotation:j,color:qt,strokeColor:Ee,strokeWidth:ze,textAlign:Me,textBaseline:Dt,translation:[_t,kt],backdrop:Ii}})}return W}_getXAxisLabelAlignment(){const{position:i,ticks:t}=this.options;if(-Fc(this.labelRotation))return"top"===i?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(i){const{position:t,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,l=i+s,w=this._getLabelSizes().widest.width;let S,M;return"left"===t?r?(M=this.right+s,"near"===n?S="left":"center"===n?(S="center",M+=w/2):(S="right",M+=w)):(M=this.right-l,"near"===n?S="right":"center"===n?(S="center",M-=w/2):(S="left",M=this.left)):"right"===t?r?(M=this.left+s,"near"===n?S="right":"center"===n?(S="center",M-=w/2):(S="left",M-=w)):(M=this.left+l,"near"===n?S="left":"center"===n?(S="center",M+=w/2):(S="right",M=this.right)):S="right",{textAlign:S,x:M}}_computeLabelArea(){if(this.options.ticks.mirror)return;const i=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:i.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:i.width}:void 0}drawBackground(){const{ctx:i,options:{backgroundColor:t},left:n,top:r,width:s,height:o}=this;t&&(i.save(),i.fillStyle=t,i.fillRect(n,r,s,o),i.restore())}getLineWidthForValue(i){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===i);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(i){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i));let s,o;const l=(w,S,M)=>{!M.width||!M.color||(n.save(),n.lineWidth=M.width,n.strokeStyle=M.color,n.setLineDash(M.borderDash||[]),n.lineDashOffset=M.borderDashOffset,n.beginPath(),n.moveTo(w.x,w.y),n.lineTo(S.x,S.y),n.stroke(),n.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){const w=r[s];t.drawOnChartArea&&l({x:w.x1,y:w.y1},{x:w.x2,y:w.y2},w),t.drawTicks&&l({x:w.tx1,y:w.ty1},{x:w.tx2,y:w.ty2},{color:w.tickColor,width:w.tickWidth,borderDash:w.tickBorderDash,borderDashOffset:w.tickBorderDashOffset})}}drawBorder(){const{chart:i,ctx:t,options:{border:n,grid:r}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;const l=r.setContext(this.getContext(0)).lineWidth,w=this._borderValue;let S,M,P,O;this.isHorizontal()?(S=Lm(i,this.left,o)-o/2,M=Lm(i,this.right,l)+l/2,P=O=w):(P=Lm(i,this.top,o)-o/2,O=Lm(i,this.bottom,l)+l/2,S=M=w),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(S,P),t.lineTo(M,O),t.stroke(),t.restore()}drawLabels(i){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&fE(n,r);const s=this.getLabelItems(i);for(const o of s)Nm(n,o.label,0,o.textOffset,o.font,o.options);r&&mE(n)}drawTitle(){const{ctx:i,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const s=xa(n.font),o=mo(n.padding),l=n.align;let w=s.lineHeight/2;"bottom"===t||"center"===t||jn(t)?(w+=o.bottom,es(n.text)&&(w+=s.lineHeight*(n.text.length-1))):w+=o.top;const{titleX:S,titleY:M,maxWidth:P,rotation:O}=function jBt(e,i,t,n){const{top:r,left:s,bottom:o,right:l,chart:w}=e,{chartArea:S,scales:M}=w;let O,N,U,P=0;const j=o-r,W=l-s;if(e.isHorizontal()){if(N=fo(n,s,l),jn(t)){const Z=Object.keys(t)[0];U=M[Z].getPixelForValue(t[Z])+j-i}else U="center"===t?(S.bottom+S.top)/2+j-i:zZ(e,t,i);O=l-s}else{if(jn(t)){const Z=Object.keys(t)[0];N=M[Z].getPixelForValue(t[Z])-W+i}else N="center"===t?(S.left+S.right)/2-W+i:zZ(e,t,i);U=fo(n,o,r),P="left"===t?-zs:zs}return{titleX:N,titleY:U,maxWidth:O,rotation:P}}(this,w,t,l);Nm(i,n.text,0,0,s,{color:n.color,maxWidth:P,rotation:O,textAlign:WBt(l,t,r),textBaseline:"middle",translation:[S,M]})}draw(i){this._isVisible()&&(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){const i=this.options,t=i.ticks&&i.ticks.z||0,n=Tn(i.grid&&i.grid.z,-1),r=Tn(i.border&&i.border.z,0);return this._isVisible()&&this.draw===Hm.prototype.draw?[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]:[{z:t,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(i){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let s,o;for(s=0,o=t.length;s<o;++s){const l=t[s];l[n]===this.id&&(!i||l.type===i)&&r.push(l)}return r}_resolveTickFontOptions(i){return xa(this.options.ticks.setContext(this.getContext(i)).font)}_maxDigits(){const i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}}class TE{constructor(i,t,n){this.type=i,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){const t=Object.getPrototypeOf(i);let n;(function $Bt(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,s=i.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+i);return s in r||(r[s]=i,function XBt(e,i,t){const n=Ub(Object.create(null),[t?us.get(t):{},us.get(i),e.defaults]);us.set(i,n),e.defaultRoutes&&function YBt(e,i){Object.keys(i).forEach(t=>{const n=t.split("."),r=n.pop(),s=[e].concat(n).join("."),o=i[t].split("."),l=o.pop(),w=o.join(".");us.route(s,r,w,l)})}(i,e.defaultRoutes),e.descriptors&&us.describe(i,e.descriptors)}(i,o,n),this.override&&us.override(i.id,i.overrides)),o}get(i){return this.items[i]}unregister(i){const t=this.items,n=i.id,r=this.scope;n in t&&delete t[n],r&&n in us[r]&&(delete us[r][n],this.override&&delete Om[n])}}class QBt{constructor(){this.controllers=new TE(df,"datasets",!0),this.elements=new TE(Lu,"elements"),this.plugins=new TE(Object,"plugins"),this.scales=new TE(Hm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,t,n){[...t].forEach(r=>{const s=n||this._getRegistryForType(r);n||s.isForType(r)||s===this.plugins&&r.id?this._exec(i,s,r):Er(r,o=>{const l=n||this._getRegistryForType(o);this._exec(i,l,o)})})}_exec(i,t,n){const r=ZO(i);$r(n["before"+r],[],n),t[i](n),$r(n["after"+r],[],n)}_getRegistryForType(i){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(i))return n}return this.plugins}_get(i,t,n){const r=t.get(i);if(void 0===r)throw new Error('"'+i+'" is not a registered '+n+".");return r}}var Cd=new QBt;class KBt{constructor(){this._init=[]}notify(i,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));const s=r?this._descriptors(i).filter(r):this._descriptors(i),o=this._notify(s,i,t,n);return"afterDestroy"===t&&(this._notify(s,i,"stop"),this._notify(this._init,i,"uninstall")),o}_notify(i,t,n,r){r=r||{};for(const s of i){const o=s.plugin;if(!1===$r(o[n],[t,r,s.options],o)&&r.cancelable)return!1}return!0}invalidate(){ir(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),t}_createDescriptors(i,t){const n=i&&i.config,r=Tn(n.options&&n.options.plugins,{}),s=function ZBt(e){const i={},t=[],n=Object.keys(Cd.plugins.items);for(let s=0;s<n.length;s++)t.push(Cd.getPlugin(n[s]));const r=e.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];-1===t.indexOf(o)&&(t.push(o),i[o.id]=!0)}return{plugins:t,localIds:i}}(n);return!1!==r||t?function qBt(e,{plugins:i,localIds:t},n,r){const s=[],o=e.getContext();for(const l of i){const w=l.id,S=JBt(n[w],r);null!==S&&s.push({plugin:l,options:t5t(e.config,{plugin:l,local:t[w]},S,o)})}return s}(i,s,r,t):[]}_notifyStateChanges(i){const t=this._oldCache||[],n=this._cache,r=(s,o)=>s.filter(l=>!o.some(w=>l.plugin.id===w.plugin.id));this._notify(r(t,n),i,"stop"),this._notify(r(n,t),i,"start")}}function JBt(e,i){return i||!1!==e?!0===e?{}:e:null}function t5t(e,{plugin:i,local:t},n,r){const s=e.pluginScopeKeys(i),o=e.getOptionScopes(n,s);return t&&i.defaults&&o.push(i.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function _L(e,i){return((i.datasets||{})[e]||{}).indexAxis||i.indexAxis||(us.datasets[e]||{}).indexAxis||"x"}function jZ(e){if("x"===e||"y"===e||"r"===e)return e}function n5t(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function TL(e,...i){if(jZ(e))return e;for(const t of i){const n=t.axis||n5t(t.position)||e.length>1&&jZ(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function XZ(e,i,t){if(t[i+"AxisID"]===e)return{axis:i}}function YZ(e){const i=e.options||(e.options={});i.plugins=Tn(i.plugins,{}),i.scales=function s5t(e,i){const t=Om[e.type]||{scales:{}},n=i.scales||{},r=_L(e.type,i),s=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!jn(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const w=TL(o,l,function r5t(e,i){if(i.data&&i.data.datasets){const t=i.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(t.length)return XZ(e,"x",t[0])||XZ(e,"y",t[0])}return{}}(o,e),us.scales[l.type]),S=function i5t(e,i){return e===i?"_index_":"_value_"}(w,r),M=t.scales||{};s[o]=zb(Object.create(null),[{axis:w},l,M[w],M[S]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,w=o.indexAxis||_L(l,i),M=(Om[l]||{}).scales||{};Object.keys(M).forEach(P=>{const O=function e5t(e,i){let t=e;return"_index_"===e?t=i:"_value_"===e&&(t="x"===i?"y":"x"),t}(P,w),N=o[O+"AxisID"]||O;s[N]=s[N]||Object.create(null),zb(s[N],[{axis:O},n[N],M[P]])})}),Object.keys(s).forEach(o=>{const l=s[o];zb(l,[us.scales[l.type],us.scale])}),s}(e,i)}function $Z(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const QZ=new Map,KZ=new Set;function CE(e,i){let t=QZ.get(e);return t||(t=i(),QZ.set(e,t),KZ.add(t)),t}const r1=(e,i,t)=>{const n=sf(i,t);void 0!==n&&e.add(n)};class o5t{constructor(i){this._config=function a5t(e){return(e=e||{}).data=$Z(e.data),YZ(e),e}(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=$Z(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){const i=this._config;this.clearCache(),YZ(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return CE(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,t){return CE(`${i}.transition.${t}`,()=>[[`datasets.${i}.transitions.${t}`,`transitions.${t}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,t){return CE(`${i}-${t}`,()=>[[`datasets.${i}.elements.${t}`,`datasets.${i}`,`elements.${t}`,""]])}pluginScopeKeys(i){const t=i.id;return CE(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,t){const n=this._scopeCache;let r=n.get(i);return(!r||t)&&(r=new Map,n.set(i,r)),r}getOptionScopes(i,t,n){const{options:r,type:s}=this,o=this._cachedScopes(i,n),l=o.get(t);if(l)return l;const w=new Set;t.forEach(M=>{i&&(w.add(i),M.forEach(P=>r1(w,i,P))),M.forEach(P=>r1(w,r,P)),M.forEach(P=>r1(w,Om[s]||{},P)),M.forEach(P=>r1(w,us,P)),M.forEach(P=>r1(w,rL,P))});const S=Array.from(w);return 0===S.length&&S.push(Object.create(null)),KZ.has(t)&&o.set(t,S),S}chartOptionScopes(){const{options:i,type:t}=this;return[i,Om[t]||{},us.datasets[t]||{},{type:t},us,rL]}resolveNamedOptions(i,t,n,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:l}=ZZ(this._resolverCache,i,r);let w=o;(function c5t(e,i){const{isScriptable:t,isIndexable:n}=qK(e);for(const r of i){const s=t(r),o=n(r),l=(o||s)&&e[r];if(s&&(af(l)||l5t(l))||o&&es(l))return!0}return!1})(o,t)&&(s.$shared=!1,w=r0(o,n=af(n)?n():n,this.createResolver(i,n,l)));for(const S of t)s[S]=w[S];return s}createResolver(i,t,n=[""],r){const{resolver:s}=ZZ(this._resolverCache,i,n);return jn(t)?r0(s,t,void 0,r):s}}function ZZ(e,i,t){let n=e.get(i);n||(n=new Map,e.set(i,n));const r=t.join();let s=n.get(r);return s||(s={resolver:lL(i,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},n.set(r,s)),s}const l5t=e=>jn(e)&&Object.getOwnPropertyNames(e).some(i=>af(e[i])),u5t=["top","bottom","left","right","chartArea"];function JZ(e,i){return"top"===e||"bottom"===e||-1===u5t.indexOf(e)&&"x"===i}function qZ(e,i){return function(t,n){return t[e]===n[e]?t[i]-n[i]:t[e]-n[e]}}function tJ(e){const i=e.chart,t=i.options.animation;i.notifyPlugins("afterRender"),$r(t&&t.onComplete,[e],i)}function h5t(e){const i=e.chart,t=i.options.animation;$r(t&&t.onProgress,[e],i)}function eJ(e){return uL()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const SE={},iJ=e=>{const i=eJ(e);return Object.values(SE).filter(t=>t.canvas===i).pop()};function f5t(e,i,t){const n=Object.keys(e);for(const r of n){const s=+r;if(s>=i){const o=e[r];delete e[r],(t>0||s>i)&&(e[s+t]=o)}}}function EE(e,i,t){return e.options.clip?e[t]:i[t]}let CL=(()=>class e{static defaults=us;static instances=SE;static overrides=Om;static registry=Cd;static version="4.4.7";static getChart=iJ;static register(...t){Cd.add(...t),nJ()}static unregister(...t){Cd.remove(...t),nJ()}constructor(t,n){const r=this.config=new o5t(n),s=eJ(t),o=iJ(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function RBt(e){return!uL()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?yBt:kBt}(s)),this.platform.updateConfig(r);const w=this.platform.acquireContext(s,l.aspectRatio),S=w&&w.canvas,M=S&&S.height,P=S&&S.width;this.id=m4t(),this.ctx=w,this.canvas=S,this.width=P,this.height=M,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new KBt,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function I4t(e,i){let t;return function(...n){return i?(clearTimeout(t),t=setTimeout(e,i,n)):e.apply(this,n),i}}(O=>this.update(O),l.resizeDelay||0),this._dataChanges=[],SE[this.id]=this,w&&S?(Ou.listen(this,"complete",tJ),Ou.listen(this,"progress",h5t),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:s,_aspectRatio:o}=this;return ir(t)?n&&o?o:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Cd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():oZ(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return KK(this.canvas,this.ctx),this}stop(){return Ou.stop(this),this}resize(t,n){Ou.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,l=this.platform.getMaximumSize(this.canvas,t,n,r.maintainAspectRatio&&this.aspectRatio),w=r.devicePixelRatio||this.platform.getDevicePixelRatio(),S=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,oZ(this,w,!0)&&(this.notifyPlugins("resize",{size:l}),$r(r.onResize,[this,l],this),this.attached&&this._doResize(S)&&this.render())}ensureScalesHaveIDs(){Er(this.options.scales||{},(r,s)=>{r.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,s=Object.keys(r).reduce((l,w)=>(l[w]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const w=n[l],S=TL(l,w),M="r"===S,P="x"===S;return{options:w,dposition:M?"chartArea":P?"bottom":"left",dtype:M?"radialLinear":P?"category":"linear"}}))),Er(o,l=>{const w=l.options,S=w.id,M=TL(S,w),P=Tn(w.type,l.dtype);(void 0===w.position||JZ(w.position,M)!==JZ(l.dposition))&&(w.position=l.dposition),s[S]=!0;let O=null;S in r&&r[S].type===P?O=r[S]:(O=new(Cd.getScale(P))({id:S,type:P,ctx:this.ctx,chart:this}),r[O.id]=O),O.init(w,t)}),Er(s,(l,w)=>{l||delete r[w]}),Er(r,l=>{po.configure(this,l,l.options),po.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((s,o)=>s.index-o.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(qZ("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,s)=>{0===n.filter(o=>o===r._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const o=n[r];let l=this.getDatasetMeta(r);const w=o.type||this.config.type;if(l.type&&l.type!==w&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=w,l.indexAxis=o.indexAxis||_L(w,this.options),l.order=o.order||0,l.index=r,l.label=""+o.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const S=Cd.getController(w),{datasetElementType:M,dataElementType:P}=us.datasets[w];Object.assign(S,{dataElementType:Cd.getElement(P),datasetElementType:M&&Cd.getElement(M)}),l.controller=new S(this,r),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Er(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let M=0,P=this.data.datasets.length;M<P;M++){const{controller:O}=this.getDatasetMeta(M),N=!s&&-1===o.indexOf(O);O.buildOrUpdateElements(N),l=Math.max(+O.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),s||Er(o,M=>{M.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(qZ("z","_idx"));const{_active:w,_lastEvent:S}=this;S?this._eventHandler(S,!0):w.length&&this._updateHoverStyles(w,w,!0),this.render()}_updateScales(){Er(this.scales,t=>{po.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!RK(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:o}of n)f5t(t,s,"_removeElements"===r?-o:o)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=o=>new Set(t.filter(l=>l[0]===o).map((l,w)=>w+","+l.splice(1).join(","))),s=r(0);for(let o=1;o<n;o++)if(!RK(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;po.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Er(this.boxes,s=>{r&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,af(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),s={meta:r,index:t,mode:n,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Ou.has(this)?this.attached&&!Ou.running(this)&&Ou.start(this):(this.draw(),tJ({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let s,o;for(s=0,o=n.length;s<o;++s){const l=n[s];(!t||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r=t._clip,s=!r.disabled,o=function p5t(e,i){const{xScale:t,yScale:n}=e;return t&&n?{left:EE(t,i,"left"),right:EE(t,i,"right"),top:EE(n,i,"top"),bottom:EE(n,i,"bottom")}:i}(t,this.chartArea),l={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",l)&&(s&&fE(n,{left:!1===r.left?0:o.left-r.left,right:!1===r.right?this.width:o.right+r.right,top:!1===r.top?0:o.top-r.top,bottom:!1===r.bottom?this.height:o.bottom+r.bottom}),t.controller.draw(),s&&mE(n),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(t){return Fu(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,s){const o=uBt.modes[n];return"function"==typeof o?o(this,t,r,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let s=r.filter(o=>o&&o._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=cf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return"boolean"==typeof r.hidden?!r.hidden:!n.hidden}setDatasetVisibility(t,n){this.getDatasetMeta(t).hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const s=r?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,s);Gb(n)?(o.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),l.update(o,{visible:r}),this.update(w=>w.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ou.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),KK(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete SE[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(o,l)=>{n.addEventListener(this,o,l),t[o]=l},s=(o,l,w)=>{o.offsetX=l,o.offsetY=w,this._eventHandler(o)};Er(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(S,M)=>{n.addEventListener(this,S,M),t[S]=M},s=(S,M)=>{t[S]&&(n.removeEventListener(this,S,M),delete t[S])},o=(S,M)=>{this.canvas&&this.resize(S,M)};let l;const w=()=>{s("attach",w),this.attached=!0,this.resize(),r("resize",o),r("detach",l)};l=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",w)},n.isAttached(this.canvas)?w():l()}unbindEvents(){Er(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Er(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const s=r?"set":"remove";let o,l,w,S;for("dataset"===n&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),w=0,S=t.length;w<S;++w){l=t[w];const M=l&&this.getDatasetMeta(l.datasetIndex).controller;M&&M[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:o,index:l})=>{const w=this.getDatasetMeta(o);if(!w)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:w.data[l],index:l}});!oE(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return 1===this._plugins._cache.filter(n=>n.plugin.id===t).length}_updateHoverStyles(t,n,r){const s=this.options.hover,o=(S,M)=>S.filter(P=>!M.some(O=>P.datasetIndex===O.datasetIndex&&P.index===O.index)),l=o(n,t),w=r?t:o(t,n);l.length&&this.updateHoverStyle(l,s.mode,!1),w.length&&s.mode&&this.updateHoverStyle(w,s.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",r,s))return;const o=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:s=[],options:o}=this,w=this._getActiveElements(t,s,r,n),S=function b4t(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(t),M=function m5t(e,i,t,n){return t&&"mouseout"!==e.type?n?i:e:null}(t,this._lastEvent,r,S);r&&(this._lastEvent=null,$r(o.onHover,[t,w,this],this),S&&$r(o.onClick,[t,w,this],this));const P=!oE(w,s);return(P||n)&&(this._active=w,this._updateHoverStyles(w,s,n)),this._lastEvent=M,P}_getActiveElements(t,n,r,s){if("mouseout"===t.type)return[];if(!r)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}})();function nJ(){return Er(CL.instances,e=>e._plugins.invalidate())}function o0(e,i,t,n){return{x:t+e*Math.cos(i),y:n+e*Math.sin(i)}}function AE(e,i,t,n,r,s){const{x:o,y:l,startAngle:w,pixelMargin:S,innerRadius:M}=i,P=Math.max(i.outerRadius+n+t-S,0),O=M>0?M+n+t+S:0;let N=0;const U=r-w;if(n){const qt=((M>0?M-n:0)+(P>0?P-n:0))/2;N=(U-(0!==qt?U*qt/(qt+n):U))/2}const W=(U-Math.max(.001,U*P-t/is)/P)/2,Z=w+W+N,rt=r-W-N,{outerStart:st,outerEnd:vt,innerStart:_t,innerEnd:kt}=function x5t(e,i,t,n){const r=function v5t(e){return oL(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),s=(t-i)/2,o=Math.min(s,n*i/2),l=w=>{const S=(t-Math.min(s,w))*n/2;return Pa(w,0,Math.min(s,S))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:Pa(r.innerStart,0,o),innerEnd:Pa(r.innerEnd,0,o)}}(i,O,P,rt-Z),ft=P-st,dt=P-vt,pt=Z+st/ft,bt=rt-vt/dt,Tt=O+_t,Et=O+kt,Dt=Z+_t/Tt,Ue=rt-kt/Et;if(e.beginPath(),s){const we=(pt+bt)/2;if(e.arc(o,l,P,pt,we),e.arc(o,l,P,we,bt),vt>0){const ze=o0(dt,bt,o,l);e.arc(ze.x,ze.y,vt,bt,rt+zs)}const ve=o0(Et,rt,o,l);if(e.lineTo(ve.x,ve.y),kt>0){const ze=o0(Et,Ue,o,l);e.arc(ze.x,ze.y,kt,rt+zs,Ue+Math.PI)}const qt=(rt-kt/O+(Z+_t/O))/2;if(e.arc(o,l,O,rt-kt/O,qt,!0),e.arc(o,l,O,qt,Z+_t/O,!0),_t>0){const ze=o0(Tt,Dt,o,l);e.arc(ze.x,ze.y,_t,Dt+Math.PI,Z-zs)}const Ee=o0(ft,Z,o,l);if(e.lineTo(Ee.x,Ee.y),st>0){const ze=o0(ft,pt,o,l);e.arc(ze.x,ze.y,st,Z-zs,pt)}}else{e.moveTo(o,l);const we=Math.cos(pt)*P+o,ve=Math.sin(pt)*P+l;e.lineTo(we,ve);const qt=Math.cos(bt)*P+o,Ee=Math.sin(bt)*P+l;e.lineTo(qt,Ee)}e.closePath()}function rJ(e,i,t=i){e.lineCap=Tn(t.borderCapStyle,i.borderCapStyle),e.setLineDash(Tn(t.borderDash,i.borderDash)),e.lineDashOffset=Tn(t.borderDashOffset,i.borderDashOffset),e.lineJoin=Tn(t.borderJoinStyle,i.borderJoinStyle),e.lineWidth=Tn(t.borderWidth,i.borderWidth),e.strokeStyle=Tn(t.borderColor,i.borderColor)}function _5t(e,i,t){e.lineTo(t.x,t.y)}function sJ(e,i,t={}){const n=e.length,{start:r=0,end:s=n-1}=t,{start:o,end:l}=i,w=Math.max(r,o),S=Math.min(s,l);return{count:n,start:w,loop:i.loop,ilen:S<w&&!(r<o&&s<o||r>l&&s>l)?n+S-w:S-w}}function C5t(e,i,t,n){const{points:r,options:s}=i,{count:o,start:l,loop:w,ilen:S}=sJ(r,t,n),M=function T5t(e){return e.stepped?G4t:e.tension||"monotone"===e.cubicInterpolationMode?H4t:_5t}(s);let N,U,j,{move:P=!0,reverse:O}=n||{};for(N=0;N<=S;++N)U=r[(l+(O?S-N:N))%o],!U.skip&&(P?(e.moveTo(U.x,U.y),P=!1):M(e,j,U,O,s.stepped),j=U);return w&&(U=r[(l+(O?S:0))%o],M(e,j,U,O,s.stepped)),!!w}function S5t(e,i,t,n){const r=i.points,{count:s,start:o,ilen:l}=sJ(r,t,n),{move:w=!0,reverse:S}=n||{};let O,N,U,j,W,Z,M=0,P=0;const rt=vt=>(o+(S?l-vt:vt))%s,st=()=>{j!==W&&(e.lineTo(M,W),e.lineTo(M,j),e.lineTo(M,Z))};for(w&&(N=r[rt(0)],e.moveTo(N.x,N.y)),O=0;O<=l;++O){if(N=r[rt(O)],N.skip)continue;const vt=N.x,_t=N.y,kt=0|vt;kt===U?(_t<j?j=_t:_t>W&&(W=_t),M=(P*M+vt)/++P):(st(),e.lineTo(vt,_t),U=kt,P=0,j=W=_t),Z=_t}st()}function SL(e){const i=e.options;return e._decimated||e._loop||i.tension||"monotone"===i.cubicInterpolationMode||i.stepped||i.borderDash&&i.borderDash.length?C5t:S5t}const M5t="function"==typeof Path2D;let DE=(()=>class e extends Lu{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(f3t(this._points,r,t,r.spanGaps?this._loop:this._fullLoop,n),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function D3t(e,i){const t=e.points,n=e.options.spanGaps,r=t.length;if(!r)return[];const s=!!e._loop,{start:o,end:l}=function E3t(e,i,t,n){let r=0,s=i-1;if(t&&!n)for(;r<i&&!e[r].skip;)r++;for(;r<i&&e[r].skip;)r++;for(r%=i,t&&(s+=r);s>r&&e[s%i].skip;)s--;return s%=i,{start:r,end:s}}(t,r,s,n);return function pZ(e,i,t,n){return n&&n.setContext&&t?function M3t(e,i,t,n){const r=e._chart.getContext(),s=gZ(e.options),{_datasetIndex:o,options:{spanGaps:l}}=e,w=t.length,S=[];let M=s,P=i[0].start,O=P;function N(U,j,W,Z){const rt=l?-1:1;if(U!==j){for(U+=w;t[U%w].skip;)U-=rt;for(;t[j%w].skip;)j+=rt;U%w!=j%w&&(S.push({start:U%w,end:j%w,loop:W,style:Z}),M=Z,P=j%w)}}for(const U of i){P=l?P:U.start;let W,j=t[P%w];for(O=P+1;O<=U.end;O++){const Z=t[O%w];W=gZ(n.setContext(cf(r,{type:"segment",p0:j,p1:Z,p0DataIndex:(O-1)%w,p1DataIndex:O%w,datasetIndex:o}))),I3t(W,M)&&N(P,O-1,U.loop,M),j=Z,M=W}P<O-1&&N(P,O-1,U.loop,M)}return S}(e,i,t,n):i}(e,!0===n?[{start:o,end:l,loop:s}]:function A3t(e,i,t,n){const r=e.length,s=[];let w,o=i,l=e[i];for(w=i+1;w<=t;++w){const S=e[w%r];S.skip||S.stop?l.skip||(s.push({start:i%r,end:(w-1)%r,loop:n=!1}),i=o=S.stop?w:null):(o=w,l.skip&&(i=w)),l=S}return null!==o&&s.push({start:i%r,end:o%r,loop:n}),s}(t,o,l<o?l+r:l,!!e._fullLoop&&0===o&&l===r-1),t,i)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,r=t.length;return r&&this.points[t[r-1].end]}interpolate(t,n){const r=this.options,s=t[n],o=this.points,l=mZ(this,{property:n,start:s,end:s});if(!l.length)return;const w=[],S=function E5t(e){return e.stepped?w3t:e.tension||"monotone"===e.cubicInterpolationMode?_3t:zm}(r);let M,P;for(M=0,P=l.length;M<P;++M){const{start:O,end:N}=l[M],U=o[O],j=o[N];if(U===j){w.push(U);continue}const Z=S(U,j,Math.abs((s-U[n])/(j[n]-U[n])),r.stepped);Z[n]=t[n],w.push(Z)}return 1===w.length?w[0]:w}pathSegment(t,n,r){return SL(this)(t,this,n,r)}path(t,n,r){const s=this.segments,o=SL(this);let l=this._loop;n=n||0,r=r||this.points.length-n;for(const w of s)l&=o(t,this,w,{start:n,end:n+r-1});return!!l}draw(t,n,r,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function I5t(e,i,t,n){M5t&&!i.options.segment?function A5t(e,i,t,n){let r=i._path;r||(r=i._path=new Path2D,i.path(r,t,n)&&r.closePath()),rJ(e,i.options),e.stroke(r)}(e,i,t,n):function D5t(e,i,t,n){const{segments:r,options:s}=i,o=SL(i);for(const l of r)rJ(e,s,l.style),e.beginPath(),o(e,i,l,{start:t,end:t+n-1})&&e.closePath(),e.stroke()}(e,i,t,n)}(t,this,r,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function aJ(e,i,t,n){const r=e.options,{[t]:s}=e.getProps([t],n);return Math.abs(i-s)<r.radius+r.hitRadius}let k5t=(()=>class e extends Lu{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const s=this.options,{x:o,y:l}=this.getProps(["x","y"],r);return Math.pow(t-o,2)+Math.pow(n-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,n){return aJ(this,t,"x",n)}inYRange(t,n){return aJ(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){let n=(t=t||this.options||{}).radius||0;return n=Math.max(n,n&&t.hoverRadius||0),2*(n+(n&&t.borderWidth||0))}draw(t,n){const r=this.options;this.skip||r.radius<.1||!Fu(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,aL(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}})();function oJ(e,i){const{x:t,y:n,base:r,width:s,height:o}=e.getProps(["x","y","base","width","height"],i);let l,w,S,M,P;return e.horizontal?(P=o/2,l=Math.min(t,r),w=Math.max(t,r),S=n-P,M=n+P):(P=s/2,l=t-P,w=t+P,S=Math.min(n,r),M=Math.max(n,r)),{left:l,top:S,right:w,bottom:M}}function uf(e,i,t,n){return e?0:Pa(i,t,n)}function EL(e,i,t,n){const r=null===i,s=null===t,l=e&&!(r&&s)&&oJ(e,n);return l&&(r||Ru(i,l.left,l.right))&&(s||Ru(t,l.top,l.bottom))}function L5t(e,i){e.rect(i.x,i.y,i.w,i.h)}function AL(e,i,t={}){const n=e.x!==t.x?-i:0,r=e.y!==t.y?-i:0;return{x:e.x+n,y:e.y+r,w:e.w+((e.x+e.w!==t.x+t.w?i:0)-n),h:e.h+((e.y+e.h!==t.y+t.h?i:0)-r),radius:e.radius}}var B5t=Object.freeze({__proto__:null,ArcElement:class w5t extends Lu{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:i=>"borderDash"!==i};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(i){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,t,n){const r=this.getProps(["x","y"],n),{angle:s,distance:o}=NK(r,{x:i,y:t}),{startAngle:l,endAngle:w,innerRadius:S,outerRadius:M,circumference:P}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),O=(this.options.spacing+this.options.borderWidth)/2,N=Tn(P,w-l),U=Wb(s,l,w)&&l!==w,j=N>=ns||U,W=Ru(o,S+O,M+O);return j&&W}getCenterPoint(i){const{x:t,y:n,startAngle:r,endAngle:s,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:w,spacing:S}=this.options,M=(r+s)/2,P=(o+l+S+w)/2;return{x:t+Math.cos(M)*P,y:n+Math.sin(M)*P}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:t,circumference:n}=this,r=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>ns?Math.floor(n/ns):0,0===n||this.innerRadius<0||this.outerRadius<0)return;i.save();const l=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(l)*r,Math.sin(l)*r);const S=r*(1-Math.sin(Math.min(is,n||0)));i.fillStyle=t.backgroundColor,i.strokeStyle=t.borderColor,function y5t(e,i,t,n,r){const{fullCircles:s,startAngle:o,circumference:l}=i;let w=i.endAngle;if(s){AE(e,i,t,n,w,r);for(let S=0;S<s;++S)e.fill();isNaN(l)||(w=o+(l%ns||ns))}AE(e,i,t,n,w,r),e.fill()}(i,this,S,s,o),function b5t(e,i,t,n,r){const{fullCircles:s,startAngle:o,circumference:l,options:w}=i,{borderWidth:S,borderJoinStyle:M,borderDash:P,borderDashOffset:O}=w,N="inner"===w.borderAlign;if(!S)return;e.setLineDash(P||[]),e.lineDashOffset=O,N?(e.lineWidth=2*S,e.lineJoin=M||"round"):(e.lineWidth=S,e.lineJoin=M||"bevel");let U=i.endAngle;if(s){AE(e,i,t,n,U,r);for(let j=0;j<s;++j)e.stroke();isNaN(l)||(U=o+(l%ns||ns))}N&&function g5t(e,i,t){const{startAngle:n,pixelMargin:r,x:s,y:o,outerRadius:l,innerRadius:w}=i;let S=r/l;e.beginPath(),e.arc(s,o,l,n-S,t+S),w>r?(S=r/w,e.arc(s,o,w,t+S,n-S,!0)):e.arc(s,o,r,t+zs,n-zs),e.closePath(),e.clip()}(e,i,U),s||(AE(e,i,t,n,U,r),e.stroke())}(i,this,S,s,o),i.restore()}},BarElement:class N5t extends Lu{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:o}=function F5t(e){const i=oJ(e),t=i.right-i.left,n=i.bottom-i.top,r=function R5t(e,i,t){const r=e.borderSkipped,s=JK(e.options.borderWidth);return{t:uf(r.top,s.top,0,t),r:uf(r.right,s.right,0,i),b:uf(r.bottom,s.bottom,0,t),l:uf(r.left,s.left,0,i)}}(e,t/2,n/2),s=function P5t(e,i,t){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,s=Bm(r),o=Math.min(i,t),l=e.borderSkipped,w=n||jn(r);return{topLeft:uf(!w||l.top||l.left,s.topLeft,0,o),topRight:uf(!w||l.top||l.right,s.topRight,0,o),bottomLeft:uf(!w||l.bottom||l.left,s.bottomLeft,0,o),bottomRight:uf(!w||l.bottom||l.right,s.bottomRight,0,o)}}(e,t/2,n/2);return{outer:{x:i.left,y:i.top,w:t,h:n,radius:s},inner:{x:i.left+r.l,y:i.top+r.t,w:t-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),l=function O5t(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}(o.radius)?$b:L5t;i.save(),(o.w!==s.w||o.h!==s.h)&&(i.beginPath(),l(i,AL(o,t,s)),i.clip(),l(i,AL(s,-t,o)),i.fillStyle=n,i.fill("evenodd")),i.beginPath(),l(i,AL(s,t)),i.fillStyle=r,i.fill(),i.restore()}inRange(i,t,n){return EL(this,i,t,n)}inXRange(i,t){return EL(this,i,null,t)}inYRange(i,t){return EL(this,null,i,t)}getCenterPoint(i){const{x:t,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],i);return{x:s?(t+r)/2:t,y:s?n:(n+r)/2}}getRange(i){return"x"===i?this.width/2:this.height/2}},LineElement:DE,PointElement:k5t});const DL=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],lJ=DL.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function cJ(e){return DL[e%DL.length]}function dJ(e){return lJ[e%lJ.length]}function uJ(e){let i;for(i in e)if(e[i].borderColor||e[i].backgroundColor)return!0;return!1}var j5t={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,i,t){if(!t.enabled)return;const{data:{datasets:n},options:r}=e.config,{elements:s}=r,o=uJ(n)||function H5t(e){return e&&(e.borderColor||e.backgroundColor)}(r)||s&&uJ(s)||function W5t(){return"rgba(0,0,0,0.1)"!==us.borderColor||"rgba(0,0,0,0.1)"!==us.backgroundColor}();if(!t.forceOverride&&o)return;const l=function G5t(e){let i=0;return(t,n)=>{const r=e.getDatasetMeta(n).controller;r instanceof vL?i=function U5t(e,i){return e.backgroundColor=e.data.map(()=>cJ(i++)),i}(t,i):r instanceof MZ?i=function z5t(e,i){return e.backgroundColor=e.data.map(()=>dJ(i++)),i}(t,i):r&&(i=function V5t(e,i){return e.borderColor=cJ(i),e.backgroundColor=dJ(i),++i}(t,i))}}(e);n.forEach(l)}};function hJ(e){if(e._decimated){const i=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:i})}}function fJ(e){e.data.datasets.forEach(i=>{hJ(i)})}var Q5t={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,i,t)=>{if(!t.enabled)return void fJ(e);const n=e.width;e.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:l}=r,w=e.getDatasetMeta(s),S=o||r.data;if("y"===Qb([l,e.options.indexAxis])||!w.controller.supportsDecimation)return;const M=e.scales[w.xAxisID];if("linear"!==M.type&&"time"!==M.type||e.options.parsing)return;let U,{start:P,count:O}=function $5t(e,i){const t=i.length;let r,n=0;const{iScale:s}=e,{min:o,max:l,minDefined:w,maxDefined:S}=s.getUserBounds();return w&&(n=Pa(Pu(i,s.axis,o).lo,0,t-1)),r=S?Pa(Pu(i,s.axis,l).hi+1,n,t)-n:t-n,{start:n,count:r}}(w,S);if(O<=(t.threshold||4*n))hJ(r);else{switch(ir(o)&&(r._data=S,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(j){this._data=j}})),t.algorithm){case"lttb":U=function X5t(e,i,t,n,r){const s=r.samples||n;if(s>=t)return e.slice(i,i+t);const o=[],l=(t-2)/(s-2);let w=0;const S=i+t-1;let P,O,N,U,j,M=i;for(o[w++]=e[M],P=0;P<s-2;P++){let rt,W=0,Z=0;const st=Math.floor((P+1)*l)+1+i,vt=Math.min(Math.floor((P+2)*l)+1,t)+i,_t=vt-st;for(rt=st;rt<vt;rt++)W+=e[rt].x,Z+=e[rt].y;W/=_t,Z/=_t;const kt=Math.floor(P*l)+1+i,ft=Math.min(Math.floor((P+1)*l)+1,t)+i,{x:dt,y:pt}=e[M];for(N=U=-1,rt=kt;rt<ft;rt++)U=.5*Math.abs((dt-W)*(e[rt].y-pt)-(dt-e[rt].x)*(Z-pt)),U>N&&(N=U,O=e[rt],j=rt);o[w++]=O,M=j}return o[w++]=e[S],o}(S,P,O,n,t);break;case"min-max":U=function Y5t(e,i,t,n){let o,l,w,S,M,P,O,N,U,j,r=0,s=0;const W=[],rt=e[i].x,vt=e[i+t-1].x-rt;for(o=i;o<i+t;++o){l=e[o],w=(l.x-rt)/vt*n,S=l.y;const _t=0|w;if(_t===M)S<U?(U=S,P=o):S>j&&(j=S,O=o),r=(s*r+l.x)/++s;else{const kt=o-1;if(!ir(P)&&!ir(O)){const ft=Math.min(P,O),dt=Math.max(P,O);ft!==N&&ft!==kt&&W.push({...e[ft],x:r}),dt!==N&&dt!==kt&&W.push({...e[dt],x:r})}o>0&&kt!==N&&W.push(e[kt]),W.push(l),M=_t,s=0,U=j=S,P=O=N=o}}return W}(S,P,O,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=U}})},destroy(e){fJ(e)}};function ML(e,i,t,n){if(n)return;let r=i[e],s=t[e];return"angle"===e&&(r=Pl(r),s=Pl(s)),{property:e,start:r,end:s}}function IL(e,i,t){for(;i>e;i--){const n=t[i];if(!isNaN(n.x)&&!isNaN(n.y))break}return i}function mJ(e,i,t,n){return e&&i?n(e[t],i[t]):e?e[t]:i?i[t]:0}function pJ(e,i){let t=[],n=!1;return es(e)?(n=!0,t=e):t=function Z5t(e,i){const{x:t=null,y:n=null}=e||{},r=i.points,s=[];return i.segments.forEach(({start:o,end:l})=>{l=IL(o,l,r);const w=r[o],S=r[l];null!==n?(s.push({x:w.x,y:n}),s.push({x:S.x,y:n})):null!==t&&(s.push({x:t,y:w.y}),s.push({x:t,y:S.y}))}),s}(e,i),t.length?new DE({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function gJ(e){return e&&!1!==e.fill}function J5t(e,i,t){let r=e[i].fill;const s=[i];let o;if(!t)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!Ss(r))return r;if(o=e[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function q5t(e,i,t){const n=function nVt(e){const i=e.options,t=i.fill;let n=Tn(t&&t.target,t);return void 0===n&&(n=!!i.backgroundColor),!1!==n&&null!==n&&(!0===n?"origin":n)}(e);if(jn(n))return!isNaN(n.value)&&n;let r=parseFloat(n);return Ss(r)&&Math.floor(r)===r?function tVt(e,i,t,n){return("-"===e||"+"===e)&&(t=i+t),!(t===i||t<0||t>=n)&&t}(n[0],i,r,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function aVt(e,i,t){const n=[];for(let r=0;r<t.length;r++){const s=t[r],{first:o,last:l,point:w}=oVt(s,i,"x");if(!(!w||o&&l))if(o)n.unshift(w);else if(e.push(w),!l)break}e.push(...n)}function oVt(e,i,t){const n=e.interpolate(i,t);if(!n)return{};const r=n[t],s=e.segments,o=e.points;let l=!1,w=!1;for(let S=0;S<s.length;S++){const M=s[S],P=o[M.start][t],O=o[M.end][t];if(Ru(r,P,O)){l=r===P,w=r===O;break}}return{first:l,last:w,point:n}}class vJ{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,t,n){const{x:r,y:s,radius:o}=this;return i.arc(r,s,o,(t=t||{start:0,end:ns}).end,t.start,!0),!n.bounds}interpolate(i){const{x:t,y:n,radius:r}=this,s=i.angle;return{x:t+Math.cos(s)*r,y:n+Math.sin(s)*r,angle:s}}}function kL(e,i,t){const n=function lVt(e){const{chart:i,fill:t,line:n}=e;if(Ss(t))return function cVt(e,i){const t=e.getDatasetMeta(i);return t&&e.isDatasetVisible(i)?t.dataset:null}(i,t);if("stack"===t)return function rVt(e){const{scale:i,index:t,line:n}=e,r=[],s=n.segments,o=n.points,l=function sVt(e,i){const t=[],n=e.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const s=n[r];if(s.index===i)break;s.hidden||t.unshift(s.dataset)}return t}(i,t);l.push(pJ({x:null,y:i.bottom},n));for(let w=0;w<s.length;w++){const S=s[w];for(let M=S.start;M<=S.end;M++)aVt(r,o[M],l)}return new DE({points:r,options:{}})}(e);if("shape"===t)return!0;const r=function dVt(e){return(e.scale||{}).getPointPositionForValue?function hVt(e){const{scale:i,fill:t}=e,n=i.options,r=i.getLabels().length,s=n.reverse?i.max:i.min,o=function iVt(e,i,t){let n;return n="start"===e?t:"end"===e?i.options.reverse?i.min:i.max:jn(e)?e.value:i.getBaseValue(),n}(t,i,s),l=[];if(n.grid.circular){const w=i.getPointPositionForValue(0,s);return new vJ({x:w.x,y:w.y,radius:i.getDistanceFromCenterForValue(o)})}for(let w=0;w<r;++w)l.push(i.getPointPositionForValue(w,o));return l}(e):function uVt(e){const{scale:i={},fill:t}=e,n=function eVt(e,i){let t=null;return"start"===e?t=i.bottom:"end"===e?t=i.top:jn(e)?t=i.getPixelForValue(e.value):i.getBasePixel&&(t=i.getBasePixel()),t}(t,i);if(Ss(n)){const r=i.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}(e)}(e);return r instanceof vJ?r:pJ(r,n)}(i),{line:r,scale:s,axis:o}=i,l=r.options,w=l.fill,S=l.backgroundColor,{above:M=S,below:P=S}=w||{};n&&r.points.length&&(fE(e,t),function fVt(e,i){const{line:t,target:n,above:r,below:s,area:o,scale:l}=i,w=t._loop?"angle":i.axis;e.save(),"x"===w&&s!==r&&(xJ(e,n,o.top),yJ(e,{line:t,target:n,color:r,scale:l,property:w}),e.restore(),e.save(),xJ(e,n,o.bottom)),yJ(e,{line:t,target:n,color:s,scale:l,property:w}),e.restore()}(e,{line:r,target:n,above:M,below:P,area:t,scale:s,axis:o}),mE(e))}function xJ(e,i,t){const{segments:n,points:r}=i;let s=!0,o=!1;e.beginPath();for(const l of n){const{start:w,end:S}=l,M=r[w],P=r[IL(w,S,r)];s?(e.moveTo(M.x,M.y),s=!1):(e.lineTo(M.x,t),e.lineTo(M.x,M.y)),o=!!i.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(P.x,t)}e.lineTo(i.first().x,t),e.closePath(),e.clip()}function yJ(e,i){const{line:t,target:n,property:r,color:s,scale:o}=i,l=function K5t(e,i,t){const n=e.segments,r=e.points,s=i.points,o=[];for(const l of n){let{start:w,end:S}=l;S=IL(w,S,r);const M=ML(t,r[w],r[S],l.loop);if(!i.segments){o.push({source:l,target:M,start:r[w],end:r[S]});continue}const P=mZ(i,M);for(const O of P){const N=ML(t,s[O.start],s[O.end],O.loop),U=fZ(l,r,N);for(const j of U)o.push({source:j,target:O,start:{[t]:mJ(M,N,"start",Math.max)},end:{[t]:mJ(M,N,"end",Math.min)}})}}return o}(t,n,r);for(const{source:w,target:S,start:M,end:P}of l){const{style:{backgroundColor:O=s}={}}=w,N=!0!==n;e.save(),e.fillStyle=O,mVt(e,o,N&&ML(r,M,P)),e.beginPath();const U=!!t.pathSegment(e,w);let j;if(N){U?e.closePath():bJ(e,n,P,r);const W=!!n.pathSegment(e,S,{move:U,reverse:!0});j=U&&W,j||bJ(e,n,M,r)}e.closePath(),e.fill(j?"evenodd":"nonzero"),e.restore()}}function mVt(e,i,t){const{top:n,bottom:r}=i.chart.chartArea,{property:s,start:o,end:l}=t||{};"x"===s&&(e.beginPath(),e.rect(o,n,l-o,r-n),e.clip())}function bJ(e,i,t,n){const r=i.interpolate(t,n);r&&e.lineTo(r.x,r.y)}var pVt={id:"filler",afterDatasetsUpdate(e,i,t){const n=(e.data.datasets||[]).length,r=[];let s,o,l,w;for(o=0;o<n;++o)s=e.getDatasetMeta(o),l=s.dataset,w=null,l&&l.options&&l instanceof DE&&(w={visible:e.isDatasetVisible(o),index:o,fill:q5t(l,o,n),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=w,r.push(w);for(o=0;o<n;++o)w=r[o],w&&!1!==w.fill&&(w.fill=J5t(r,o,t.propagate))},beforeDraw(e,i,t){const n="beforeDraw"===t.drawTime,r=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=r.length-1;o>=0;--o){const l=r[o].$filler;l&&(l.line.updateControlPoints(s,l.axis),n&&l.fill&&kL(e.ctx,l,s))}},beforeDatasetsDraw(e,i,t){if("beforeDatasetsDraw"!==t.drawTime)return;const n=e.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const s=n[r].$filler;gJ(s)&&kL(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,i,t){const n=i.meta.$filler;!gJ(n)||"beforeDatasetDraw"!==t.drawTime||kL(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const wJ=(e,i)=>{let{boxHeight:t=i,boxWidth:n=i}=e;return e.usePointStyle&&(t=Math.min(t,i),n=e.pointStyleWidth||Math.min(n,i)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(i,t)}};class _J extends Lu{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,t,n){this.maxWidth=i,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const i=this.options.labels||{};let t=$r(i.generateLabels,[this.chart],this)||[];i.filter&&(t=t.filter(n=>i.filter(n,this.chart.data))),i.sort&&(t=t.sort((n,r)=>i.sort(n,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:i,ctx:t}=this;if(!i.display)return void(this.width=this.height=0);const n=i.labels,r=xa(n.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:w}=wJ(n,s);let S,M;t.font=r.string,this.isHorizontal()?(S=this.maxWidth,M=this._fitRows(o,s,l,w)+10):(M=this.maxHeight,S=this._fitCols(o,r,l,w)+10),this.width=Math.min(S,i.maxWidth||this.maxWidth),this.height=Math.min(M,i.maxHeight||this.maxHeight)}_fitRows(i,t,n,r){const{ctx:s,maxWidth:o,options:{labels:{padding:l}}}=this,w=this.legendHitBoxes=[],S=this.lineWidths=[0],M=r+l;let P=i;s.textAlign="left",s.textBaseline="middle";let O=-1,N=-M;return this.legendItems.forEach((U,j)=>{const W=n+t/2+s.measureText(U.text).width;(0===j||S[S.length-1]+W+2*l>o)&&(P+=M,S[S.length-(j>0?0:1)]=0,N+=M,O++),w[j]={left:0,top:N,row:O,width:W,height:r},S[S.length-1]+=W+l}),P}_fitCols(i,t,n,r){const{ctx:s,maxHeight:o,options:{labels:{padding:l}}}=this,w=this.legendHitBoxes=[],S=this.columnSizes=[],M=o-i;let P=l,O=0,N=0,U=0,j=0;return this.legendItems.forEach((W,Z)=>{const{itemWidth:rt,itemHeight:st}=function vVt(e,i,t,n,r){const s=function xVt(e,i,t,n){let r=e.text;return r&&"string"!=typeof r&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),i+t.size/2+n.measureText(r).width}(n,e,i,t),o=function yVt(e,i,t){let n=e;return"string"!=typeof i.text&&(n=TJ(i,t)),n}(r,n,i.lineHeight);return{itemWidth:s,itemHeight:o}}(n,t,s,W,r);Z>0&&N+st+2*l>M&&(P+=O+l,S.push({width:O,height:N}),U+=O+l,j++,O=N=0),w[Z]={left:U,top:N,col:j,width:rt,height:st},O=Math.max(O,rt),N+=st+l}),P+=O,S.push({width:O,height:N}),P}adjustHitBoxes(){if(!this.options.display)return;const i=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:s}}=this,o=a0(s,this.left,this.width);if(this.isHorizontal()){let l=0,w=fo(n,this.left+r,this.right-this.lineWidths[l]);for(const S of t)l!==S.row&&(l=S.row,w=fo(n,this.left+r,this.right-this.lineWidths[l])),S.top+=this.top+i+r,S.left=o.leftForLtr(o.x(w),S.width),w+=S.width+r}else{let l=0,w=fo(n,this.top+i+r,this.bottom-this.columnSizes[l].height);for(const S of t)S.col!==l&&(l=S.col,w=fo(n,this.top+i+r,this.bottom-this.columnSizes[l].height)),S.top=w,S.left+=this.left+r,S.left=o.leftForLtr(o.x(S.left),S.width),w+=S.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const i=this.ctx;fE(i,this),this._draw(),mE(i)}}_draw(){const{options:i,columnSizes:t,lineWidths:n,ctx:r}=this,{align:s,labels:o}=i,l=us.color,w=a0(i.rtl,this.left,this.width),S=xa(o.font),{padding:M}=o,P=S.size,O=P/2;let N;this.drawTitle(),r.textAlign=w.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=S.string;const{boxWidth:U,boxHeight:j,itemHeight:W}=wJ(o,P),st=this.isHorizontal(),vt=this._computeTitleHeight();N=st?{x:fo(s,this.left+M,this.right-n[0]),y:this.top+M+vt,line:0}:{x:this.left+M,y:fo(s,this.top+vt+M,this.bottom-t[0].height),line:0},cZ(this.ctx,i.textDirection);const _t=W+M;this.legendItems.forEach((kt,ft)=>{r.strokeStyle=kt.fontColor,r.fillStyle=kt.fontColor;const dt=r.measureText(kt.text).width,pt=w.textAlign(kt.textAlign||(kt.textAlign=o.textAlign)),bt=U+O+dt;let Tt=N.x,Et=N.y;w.setWidth(this.width),st?ft>0&&Tt+bt+M>this.right&&(Et=N.y+=_t,N.line++,Tt=N.x=fo(s,this.left+M,this.right-n[N.line])):ft>0&&Et+_t>this.bottom&&(Tt=N.x=Tt+t[N.line].width+M,N.line++,Et=N.y=fo(s,this.top+vt+M,this.bottom-t[N.line].height)),function(kt,ft,dt){if(isNaN(U)||U<=0||isNaN(j)||j<0)return;r.save();const pt=Tn(dt.lineWidth,1);if(r.fillStyle=Tn(dt.fillStyle,l),r.lineCap=Tn(dt.lineCap,"butt"),r.lineDashOffset=Tn(dt.lineDashOffset,0),r.lineJoin=Tn(dt.lineJoin,"miter"),r.lineWidth=pt,r.strokeStyle=Tn(dt.strokeStyle,l),r.setLineDash(Tn(dt.lineDash,[])),o.usePointStyle){const bt={radius:j*Math.SQRT2/2,pointStyle:dt.pointStyle,rotation:dt.rotation,borderWidth:pt},Tt=w.xPlus(kt,U/2);ZK(r,bt,Tt,ft+O,o.pointStyleWidth&&U)}else{const bt=ft+Math.max((P-j)/2,0),Tt=w.leftForLtr(kt,U),Et=Bm(dt.borderRadius);r.beginPath(),Object.values(Et).some(Dt=>0!==Dt)?$b(r,{x:Tt,y:bt,w:U,h:j,radius:Et}):r.rect(Tt,bt,U,j),r.fill(),0!==pt&&r.stroke()}r.restore()}(w.x(Tt),Et,kt),Tt=((e,i,t,n)=>e===(n?"left":"right")?t:"center"===e?(i+t)/2:i)(pt,Tt+U+O,st?Tt+bt:this.right,i.rtl),function(kt,ft,dt){Nm(r,dt.text,kt,ft+W/2,S,{strikethrough:dt.hidden,textAlign:w.textAlign(dt.textAlign)})}(w.x(Tt),Et,kt),st?N.x+=bt+M:N.y+="string"!=typeof kt.text?TJ(kt,S.lineHeight)+M:_t}),dZ(this.ctx,i.textDirection)}drawTitle(){const i=this.options,t=i.title,n=xa(t.font),r=mo(t.padding);if(!t.display)return;const s=a0(i.rtl,this.left,this.width),o=this.ctx,l=t.position,S=r.top+n.size/2;let M,P=this.left,O=this.width;if(this.isHorizontal())O=Math.max(...this.lineWidths),M=this.top+S,P=fo(i.align,P,this.right-O);else{const U=this.columnSizes.reduce((j,W)=>Math.max(j,W.height),0);M=S+fo(i.align,this.top,this.bottom-U-i.labels.padding-this._computeTitleHeight())}const N=fo(l,P,P+O);o.textAlign=s.textAlign(eL(l)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,Nm(o,t.text,N,M,n)}_computeTitleHeight(){const i=this.options.title,t=xa(i.font),n=mo(i.padding);return i.display?t.lineHeight+n.height:0}_getLegendItemAt(i,t){let n,r,s;if(Ru(i,this.left,this.right)&&Ru(t,this.top,this.bottom))for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],Ru(i,r.left,r.left+r.width)&&Ru(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(i){const t=this.options;if(!function bVt(e,i){return!(("mousemove"!==e&&"mouseout"!==e||!i.onHover&&!i.onLeave)&&(!i.onClick||"click"!==e&&"mouseup"!==e))}(i.type,t))return;const n=this._getLegendItemAt(i.x,i.y);if("mousemove"===i.type||"mouseout"===i.type){const r=this._hoveredItem,s=((e,i)=>null!==e&&null!==i&&e.datasetIndex===i.datasetIndex&&e.index===i.index)(r,n);r&&!s&&$r(t.onLeave,[i,r,this],this),this._hoveredItem=n,n&&!s&&$r(t.onHover,[i,n,this],this)}else n&&$r(t.onClick,[i,n,this],this)}}function TJ(e,i){return i*(e.text?e.text.length:0)}var wVt={id:"legend",_element:_J,start(e,i,t){const n=e.legend=new _J({ctx:e.ctx,options:t,chart:e});po.configure(e,n,t),po.addBox(e,n)},stop(e){po.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,i,t){const n=e.legend;po.configure(e,n,t),n.options=t},afterUpdate(e){const i=e.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(e,i){i.replay||e.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,i,t){const n=i.datasetIndex,r=t.chart;r.isDatasetVisible(n)?(r.hide(n),i.hidden=!0):(r.show(n),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const i=e.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:r,color:s,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(w=>{const S=w.controller.getStyle(t?0:void 0),M=mo(S.borderWidth);return{text:i[w.index].label,fillStyle:S.backgroundColor,fontColor:s,hidden:!w.visible,lineCap:S.borderCapStyle,lineDash:S.borderDash,lineDashOffset:S.borderDashOffset,lineJoin:S.borderJoinStyle,lineWidth:(M.width+M.height)/4,strokeStyle:S.borderColor,pointStyle:n||S.pointStyle,rotation:S.rotation,textAlign:r||S.textAlign,borderRadius:o&&(l||S.borderRadius),datasetIndex:w.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class RL extends Lu{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=i,this.height=this.bottom=t;const r=es(n.text)?n.text.length:1;this._padding=mo(n.padding);const s=r*xa(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const i=this.options.position;return"top"===i||"bottom"===i}_drawArgs(i){const{top:t,left:n,bottom:r,right:s,options:o}=this,l=o.align;let S,M,P,w=0;return this.isHorizontal()?(M=fo(l,n,s),P=t+i,S=s-n):("left"===o.position?(M=n+i,P=fo(l,r,t),w=-.5*is):(M=s-i,P=fo(l,t,r),w=.5*is),S=r-t),{titleX:M,titleY:P,maxWidth:S,rotation:w}}draw(){const i=this.ctx,t=this.options;if(!t.display)return;const n=xa(t.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:w,rotation:S}=this._drawArgs(s);Nm(i,t.text,0,0,n,{color:t.color,maxWidth:w,rotation:S,textAlign:eL(t.align),textBaseline:"middle",translation:[o,l]})}}var TVt={id:"title",_element:RL,start(e,i,t){!function _Vt(e,i){const t=new RL({ctx:e.ctx,options:i,chart:e});po.configure(e,t,i),po.addBox(e,t),e.titleBlock=t}(e,t)},stop(e){po.removeBox(e,e.titleBlock),delete e.titleBlock},beforeUpdate(e,i,t){const n=e.titleBlock;po.configure(e,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ME=new WeakMap;var CVt={id:"subtitle",start(e,i,t){const n=new RL({ctx:e.ctx,options:t,chart:e});po.configure(e,n,t),po.addBox(e,n),ME.set(e,n)},stop(e){po.removeBox(e,ME.get(e)),ME.delete(e)},beforeUpdate(e,i,t){const n=ME.get(e);po.configure(e,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const s1={average(e){if(!e.length)return!1;let i,t,n=new Set,r=0,s=0;for(i=0,t=e.length;i<t;++i){const l=e[i].element;if(l&&l.hasValue()){const w=l.tooltipPosition();n.add(w.x),r+=w.y,++s}}return 0!==s&&0!==n.size&&{x:[...n].reduce((l,w)=>l+w)/n.size,y:r/s}},nearest(e,i){if(!e.length)return!1;let s,o,l,t=i.x,n=i.y,r=Number.POSITIVE_INFINITY;for(s=0,o=e.length;s<o;++s){const w=e[s].element;if(w&&w.hasValue()){const M=qO(i,w.getCenterPoint());M<r&&(r=M,l=w)}}if(l){const w=l.tooltipPosition();t=w.x,n=w.y}return{x:t,y:n}}};function Sd(e,i){return i&&(es(i)?Array.prototype.push.apply(e,i):e.push(i)),e}function Nu(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function SVt(e,i){const{element:t,datasetIndex:n,index:r}=i,s=e.getDatasetMeta(n).controller,{label:o,value:l}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[n].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:n,element:t}}function CJ(e,i){const t=e.chart.ctx,{body:n,footer:r,title:s}=e,{boxWidth:o,boxHeight:l}=i,w=xa(i.bodyFont),S=xa(i.titleFont),M=xa(i.footerFont),P=s.length,O=r.length,N=n.length,U=mo(i.padding);let j=U.height,W=0,Z=n.reduce((vt,_t)=>vt+_t.before.length+_t.lines.length+_t.after.length,0);Z+=e.beforeBody.length+e.afterBody.length,P&&(j+=P*S.lineHeight+(P-1)*i.titleSpacing+i.titleMarginBottom),Z&&(j+=N*(i.displayColors?Math.max(l,w.lineHeight):w.lineHeight)+(Z-N)*w.lineHeight+(Z-1)*i.bodySpacing),O&&(j+=i.footerMarginTop+O*M.lineHeight+(O-1)*i.footerSpacing);let rt=0;const st=function(vt){W=Math.max(W,t.measureText(vt).width+rt)};return t.save(),t.font=S.string,Er(e.title,st),t.font=w.string,Er(e.beforeBody.concat(e.afterBody),st),rt=i.displayColors?o+2+i.boxPadding:0,Er(n,vt=>{Er(vt.before,st),Er(vt.lines,st),Er(vt.after,st)}),rt=0,t.font=M.string,Er(e.footer,st),t.restore(),W+=U.width,{width:W,height:j}}function DVt(e,i,t,n){const{x:r,width:s}=t,{width:o,chartArea:{left:l,right:w}}=e;let S="center";return"center"===n?S=r<=(l+w)/2?"left":"right":r<=s/2?S="left":r>=o-s/2&&(S="right"),function AVt(e,i,t,n){const{x:r,width:s}=n,o=t.caretSize+t.caretPadding;if("left"===e&&r+s+o>i.width||"right"===e&&r-s-o<0)return!0}(S,e,i,t)&&(S="center"),S}function SJ(e,i,t){const n=t.yAlign||i.yAlign||function EVt(e,i){const{y:t,height:n}=i;return t<n/2?"top":t>e.height-n/2?"bottom":"center"}(e,t);return{xAlign:t.xAlign||i.xAlign||DVt(e,i,t,n),yAlign:n}}function EJ(e,i,t,n){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:l,yAlign:w}=t,S=r+s,{topLeft:M,topRight:P,bottomLeft:O,bottomRight:N}=Bm(o);let U=function MVt(e,i){let{x:t,width:n}=e;return"right"===i?t-=n:"center"===i&&(t-=n/2),t}(i,l);const j=function IVt(e,i,t){let{y:n,height:r}=e;return"top"===i?n+=t:n-="bottom"===i?r+t:r/2,n}(i,w,S);return"center"===w?"left"===l?U+=S:"right"===l&&(U-=S):"left"===l?U-=Math.max(M,O)+r:"right"===l&&(U+=Math.max(P,N)+r),{x:Pa(U,0,n.width-i.width),y:Pa(j,0,n.height-i.height)}}function IE(e,i,t){const n=mo(t.padding);return"center"===i?e.x+e.width/2:"right"===i?e.x+e.width-n.right:e.x+n.left}function AJ(e){return Sd([],Nu(e))}function DJ(e,i){const t=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return t?e.override(t):e}const MJ={beforeTitle:ku,title(e){if(e.length>0){const i=e[0],t=i.chart.data.labels,n=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return i.dataset.label||"";if(i.label)return i.label;if(n>0&&i.dataIndex<n)return t[i.dataIndex]}return""},afterTitle:ku,beforeBody:ku,beforeLabel:ku,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let i=e.dataset.label||"";i&&(i+=": ");const t=e.formattedValue;return ir(t)||(i+=t),i},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ku,afterBody:ku,beforeFooter:ku,footer:ku,afterFooter:ku};function al(e,i,t,n){const r=e[i].call(t,n);return typeof r>"u"?MJ[i].call(t,n):r}let IJ=(()=>class e extends Lu{static positioners=s1;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,o=new xZ(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=function kVt(e,i,t){return cf(e,{tooltip:i,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,s=al(r,"beforeTitle",this,t),o=al(r,"title",this,t),l=al(r,"afterTitle",this,t);let w=[];return w=Sd(w,Nu(s)),w=Sd(w,Nu(o)),w=Sd(w,Nu(l)),w}getBeforeBody(t,n){return AJ(al(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,s=[];return Er(t,o=>{const l={before:[],lines:[],after:[]},w=DJ(r,o);Sd(l.before,Nu(al(w,"beforeLabel",this,o))),Sd(l.lines,al(w,"label",this,o)),Sd(l.after,Nu(al(w,"afterLabel",this,o))),s.push(l)}),s}getAfterBody(t,n){return AJ(al(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,s=al(r,"beforeFooter",this,t),o=al(r,"footer",this,t),l=al(r,"afterFooter",this,t);let w=[];return w=Sd(w,Nu(s)),w=Sd(w,Nu(o)),w=Sd(w,Nu(l)),w}_createItems(t){const n=this._active,r=this.chart.data,s=[],o=[],l=[];let S,M,w=[];for(S=0,M=n.length;S<M;++S)w.push(SVt(this.chart,n[S]));return t.filter&&(w=w.filter((P,O,N)=>t.filter(P,O,N,r))),t.itemSort&&(w=w.sort((P,O)=>t.itemSort(P,O,r))),Er(w,P=>{const O=DJ(t.callbacks,P);s.push(al(O,"labelColor",this,P)),o.push(al(O,"labelPointStyle",this,P)),l.push(al(O,"labelTextColor",this,P))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=w,w}update(t,n){const r=this.options.setContext(this.getContext()),s=this._active;let o,l=[];if(s.length){const w=s1[r.position].call(this,s,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const S=this._size=CJ(this,r),M=Object.assign({},w,S),P=SJ(this.chart,r,M),O=EJ(r,M,P,this.chart);this.xAlign=P.xAlign,this.yAlign=P.yAlign,o={opacity:1,x:O.x,y:O.y,width:S.width,height:S.height,caretX:w.x,caretY:w.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,s){const o=this.getCaretPosition(t,r,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,r){const{xAlign:s,yAlign:o}=this,{caretSize:l,cornerRadius:w}=r,{topLeft:S,topRight:M,bottomLeft:P,bottomRight:O}=Bm(w),{x:N,y:U}=t,{width:j,height:W}=n;let Z,rt,st,vt,_t,kt;return"center"===o?(_t=U+W/2,"left"===s?(Z=N,rt=Z-l,vt=_t+l,kt=_t-l):(Z=N+j,rt=Z+l,vt=_t-l,kt=_t+l),st=Z):(rt="left"===s?N+Math.max(S,P)+l:"right"===s?N+j-Math.max(M,O)-l:this.caretX,"top"===o?(vt=U,_t=vt-l,Z=rt-l,st=rt+l):(vt=U+W,_t=vt+l,Z=rt+l,st=rt-l),kt=vt),{x1:Z,x2:rt,x3:st,y1:vt,y2:_t,y3:kt}}drawTitle(t,n,r){const s=this.title,o=s.length;let l,w,S;if(o){const M=a0(r.rtl,this.x,this.width);for(t.x=IE(this,r.titleAlign,r),n.textAlign=M.textAlign(r.titleAlign),n.textBaseline="middle",l=xa(r.titleFont),w=r.titleSpacing,n.fillStyle=r.titleColor,n.font=l.string,S=0;S<o;++S)n.fillText(s[S],M.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+w,S+1===o&&(t.y+=r.titleMarginBottom-w)}}_drawColorBox(t,n,r,s,o){const l=this.labelColors[r],w=this.labelPointStyles[r],{boxHeight:S,boxWidth:M}=o,P=xa(o.bodyFont),O=IE(this,"left",o),N=s.x(O),j=n.y+(S<P.lineHeight?(P.lineHeight-S)/2:0);if(o.usePointStyle){const W={radius:Math.min(M,S)/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:1},Z=s.leftForLtr(N,M)+M/2,rt=j+S/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,aL(t,W,Z,rt),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,aL(t,W,Z,rt)}else{t.lineWidth=jn(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const W=s.leftForLtr(N,M),Z=s.leftForLtr(s.xPlus(N,1),M-2),rt=Bm(l.borderRadius);Object.values(rt).some(st=>0!==st)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,$b(t,{x:W,y:j,w:M,h:S,radius:rt}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),$b(t,{x:Z,y:j+1,w:M-2,h:S-2,radius:rt}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(W,j,M,S),t.strokeRect(W,j,M,S),t.fillStyle=l.backgroundColor,t.fillRect(Z,j+1,M-2,S-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:s}=this,{bodySpacing:o,bodyAlign:l,displayColors:w,boxHeight:S,boxWidth:M,boxPadding:P}=r,O=xa(r.bodyFont);let N=O.lineHeight,U=0;const j=a0(r.rtl,this.x,this.width),W=function(pt){n.fillText(pt,j.x(t.x+U),t.y+N/2),t.y+=N+o},Z=j.textAlign(l);let rt,st,vt,_t,kt,ft,dt;for(n.textAlign=l,n.textBaseline="middle",n.font=O.string,t.x=IE(this,Z,r),n.fillStyle=r.bodyColor,Er(this.beforeBody,W),U=w&&"right"!==Z?"center"===l?M/2+P:M+2+P:0,_t=0,ft=s.length;_t<ft;++_t){for(rt=s[_t],st=this.labelTextColors[_t],n.fillStyle=st,Er(rt.before,W),vt=rt.lines,w&&vt.length&&(this._drawColorBox(n,t,_t,j,r),N=Math.max(O.lineHeight,S)),kt=0,dt=vt.length;kt<dt;++kt)W(vt[kt]),N=O.lineHeight;Er(rt.after,W)}U=0,N=O.lineHeight,Er(this.afterBody,W),t.y-=o}drawFooter(t,n,r){const s=this.footer,o=s.length;let l,w;if(o){const S=a0(r.rtl,this.x,this.width);for(t.x=IE(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=S.textAlign(r.footerAlign),n.textBaseline="middle",l=xa(r.footerFont),n.fillStyle=r.footerColor,n.font=l.string,w=0;w<o;++w)n.fillText(s[w],S.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+r.footerSpacing}}drawBackground(t,n,r,s){const{xAlign:o,yAlign:l}=this,{x:w,y:S}=t,{width:M,height:P}=r,{topLeft:O,topRight:N,bottomLeft:U,bottomRight:j}=Bm(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(w+O,S),"top"===l&&this.drawCaret(t,n,r,s),n.lineTo(w+M-N,S),n.quadraticCurveTo(w+M,S,w+M,S+N),"center"===l&&"right"===o&&this.drawCaret(t,n,r,s),n.lineTo(w+M,S+P-j),n.quadraticCurveTo(w+M,S+P,w+M-j,S+P),"bottom"===l&&this.drawCaret(t,n,r,s),n.lineTo(w+U,S+P),n.quadraticCurveTo(w,S+P,w,S+P-U),"center"===l&&"left"===o&&this.drawCaret(t,n,r,s),n.lineTo(w,S+O),n.quadraticCurveTo(w,S,w+O,S),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){const l=s1[t.position].call(this,this._active,this._eventPosition);if(!l)return;const w=this._size=CJ(this,t),S=Object.assign({},l,this._size),M=SJ(n,t,S),P=EJ(t,S,M,n);(s._to!==P.x||o._to!==P.y)&&(this.xAlign=M.xAlign,this.yAlign=M.yAlign,this.width=w.width,this.height=w.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,P))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=mo(n.padding);n.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=r,this.drawBackground(o,t,s,n),cZ(t,n.textDirection),o.y+=l.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),dZ(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,s=t.map(({datasetIndex:w,index:S})=>{const M=this.chart.getDatasetMeta(w);if(!M)throw new Error("Cannot find a dataset at index "+w);return{datasetIndex:w,element:M.data[S],index:S}}),o=!oE(r,s),l=this._positionChanged(s,n);(o||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],l=this._getActiveElements(t,o,n,r),w=this._positionChanged(l,t),S=n||!oE(l,o)||w;return S&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),S}_getActiveElements(t,n,r,s){const o=this.options;if("mouseout"===t.type)return[];if(!s)return n.filter(w=>this.chart.data.datasets[w.datasetIndex]&&void 0!==this.chart.getDatasetMeta(w.datasetIndex).controller.getParsed(w.index));const l=this.chart.getElementsAtEventForMode(t,o.mode,o,r);return o.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:r,caretY:s,options:o}=this,l=s1[o.position].call(this,t,n);return!1!==l&&(r!==l.x||s!==l.y)}})();var PVt=Object.freeze({__proto__:null,Colors:j5t,Decimation:Q5t,Filler:pVt,Legend:wVt,SubTitle:CVt,Title:TVt,Tooltip:{id:"tooltip",_element:IJ,positioners:s1,afterInit(e,i,t){t&&(e.tooltip=new IJ({chart:e,options:t}))},beforeUpdate(e,i,t){e.tooltip&&e.tooltip.initialize(t)},reset(e,i,t){e.tooltip&&e.tooltip.initialize(t)},afterDraw(e){const i=e.tooltip;if(i&&i._willRender()){const t={tooltip:i};if(!1===e.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0}))return;i.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",t)}},afterEvent(e,i){e.tooltip&&e.tooltip.handleEvent(i.event,i.replay,i.inChartArea)&&(i.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,i)=>i.bodyFont.size,boxWidth:(e,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:MJ},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function kJ(e){const i=this.getLabels();return e>=0&&e<i.length?i[e]:e}let NVt=(()=>class e extends Hm{static id="category";static defaults={ticks:{callback:kJ}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:o}of n)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ir(t))return null;const r=this.getLabels();return((e,i)=>null===e?null:Pa(Math.round(e),0,i))(n=isFinite(n)&&r[n]===t?n:function OVt(e,i,t,n){const r=e.indexOf(i);return-1===r?((e,i,t,n)=>("string"==typeof i?(t=e.push(i)-1,n.unshift({index:t,label:i})):isNaN(i)&&(t=null),t))(e,i,t,n):r!==e.lastIndexOf(i)?t:r}(r,t,Tn(n,t),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,s=[];let o=this.getLabels();o=0===t&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=t;l<=n;l++)s.push({value:l});return s}getLabelForValue(t){return kJ.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}})();function RJ(e,i,{horizontal:t,minRotation:n}){const r=Fc(n),s=(t?Math.sin(r):Math.cos(r))||.001;return Math.min(i/s,.75*i*(""+e).length)}class kE extends Hm{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,t){return ir(i)||("number"==typeof i||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){const{beginAtZero:i}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this;const o=w=>r=t?r:w,l=w=>s=n?s:w;if(i){const w=Td(r),S=Td(s);w<0&&S<0?l(0):w>0&&S>0&&o(0)}if(r===s){let w=0===s?1:Math.abs(.05*s);l(s+w),i||o(r-w)}this.min=r,this.max=s}getTickLimit(){const i=this.options.ticks;let r,{maxTicksLimit:t,stepSize:n}=i;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const i=this.options,t=i.ticks;let n=this.getTickLimit();n=Math.max(2,n);const o=function BVt(e,i){const t=[],{bounds:r,step:s,min:o,max:l,precision:w,count:S,maxTicks:M,maxDigits:P,includeBounds:O}=e,N=s||1,U=M-1,{min:j,max:W}=i,Z=!ir(o),rt=!ir(l),st=!ir(S),vt=(W-j)/(P+1);let kt,ft,dt,pt,_t=FK((W-j)/U/N)*N;if(_t<1e-14&&!Z&&!rt)return[{value:j},{value:W}];pt=Math.ceil(W/_t)-Math.floor(j/_t),pt>U&&(_t=FK(pt*_t/U/N)*N),ir(w)||(kt=Math.pow(10,w),_t=Math.ceil(_t*kt)/kt),"ticks"===r?(ft=Math.floor(j/_t)*_t,dt=Math.ceil(W/_t)*_t):(ft=j,dt=W),Z&&rt&&s&&function C4t(e,i){const t=Math.round(e);return t-i<=e&&t+i>=e}((l-o)/s,_t/1e3)?(pt=Math.round(Math.min((l-o)/_t,M)),_t=(l-o)/pt,ft=o,dt=l):st?(ft=Z?o:ft,dt=rt?l:dt,pt=S-1,_t=(dt-ft)/pt):(pt=(dt-ft)/_t,pt=Hb(pt,Math.round(pt),_t/1e3)?Math.round(pt):Math.ceil(pt));const bt=Math.max(LK(_t),LK(ft));kt=Math.pow(10,ir(w)?bt:w),ft=Math.round(ft*kt)/kt,dt=Math.round(dt*kt)/kt;let Tt=0;for(Z&&(O&&ft!==o?(t.push({value:o}),ft<o&&Tt++,Hb(Math.round((ft+Tt*_t)*kt)/kt,o,RJ(o,vt,e))&&Tt++):ft<o&&Tt++);Tt<pt;++Tt){const Et=Math.round((ft+Tt*_t)*kt)/kt;if(rt&&Et>l)break;t.push({value:Et})}return rt&&O&&dt!==l?t.length&&Hb(t[t.length-1].value,l,RJ(l,vt,e))?t[t.length-1].value=l:t.push({value:l}):(!rt||dt===l)&&t.push({value:dt}),t}({maxTicks:n,bounds:i.bounds,min:i.min,max:i.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===i.bounds&&OK(o,this,"value"),i.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const i=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&i.length){const r=(n-t)/Math.max(i.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(i){return Xb(i,this.chart.options.locale,this.options.ticks.format)}}const a1=e=>Math.floor(lf(e)),Wm=(e,i)=>Math.pow(10,a1(e)+i);function PJ(e){return e/Math.pow(10,a1(e))==1}function FJ(e,i,t){const n=Math.pow(10,t),r=Math.floor(e/n);return Math.ceil(i/n)-r}function PL(e){const i=e.ticks;if(i.display&&e.display){const t=mo(i.backdropPadding);return Tn(i.font&&i.font.size,us.font.size)+t.height}return 0}function HVt(e,i,t){return t=es(t)?t:[t],{w:z4t(e,i.string,t),h:t.length*i.lineHeight}}function OJ(e,i,t,n,r){return e===n||e===r?{start:i-t/2,end:i+t/2}:e<n||e>r?{start:i-t,end:i}:{start:i,end:i+t}}function jVt(e,i,t,n,r){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let l=0,w=0;n.start<i.l?(l=(i.l-n.start)/s,e.l=Math.min(e.l,i.l-l)):n.end>i.r&&(l=(n.end-i.r)/s,e.r=Math.max(e.r,i.r+l)),r.start<i.t?(w=(i.t-r.start)/o,e.t=Math.min(e.t,i.t-w)):r.end>i.b&&(w=(r.end-i.b)/o,e.b=Math.max(e.b,i.b+w))}function XVt(e,i,t){const n=e.drawingArea,{extra:r,additionalAngle:s,padding:o,size:l}=t,w=e.getPointPosition(i,n+r+o,s),S=Math.round(JO(Pl(w.angle+zs))),M=function ZVt(e,i,t){return 90===t||270===t?e-=i/2:(t>270||t<90)&&(e-=i),e}(w.y,l.h,S),P=function QVt(e){return 0===e||180===e?"center":e<180?"left":"right"}(S),O=function KVt(e,i,t){return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(w.x,l.w,P);return{visible:!0,x:w.x,y:M,textAlign:P,left:O,top:M,right:O+l.w,bottom:M+l.h}}function YVt(e,i){if(!i)return!0;const{left:t,top:n,right:r,bottom:s}=e;return!(Fu({x:t,y:n},i)||Fu({x:t,y:s},i)||Fu({x:r,y:n},i)||Fu({x:r,y:s},i))}function JVt(e,i,t){const{left:n,top:r,right:s,bottom:o}=t,{backdropColor:l}=i;if(!ir(l)){const w=Bm(i.borderRadius),S=mo(i.backdropPadding);e.fillStyle=l;const M=n-S.left,P=r-S.top,O=s-n+S.width,N=o-r+S.height;Object.values(w).some(U=>0!==U)?(e.beginPath(),$b(e,{x:M,y:P,w:O,h:N,radius:w}),e.fill()):e.fillRect(M,P,O,N)}}function LJ(e,i,t,n){const{ctx:r}=e;if(t)r.arc(e.xCenter,e.yCenter,i,0,ns);else{let s=e.getPointPosition(0,i);r.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=e.getPointPosition(o,i),r.lineTo(s.x,s.y)}}const RE={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ol=Object.keys(RE);function NJ(e,i){return e-i}function BJ(e,i){if(ir(i))return null;const t=e._adapter,{parser:n,round:r,isoWeekday:s}=e._parseOpts;let o=i;return"function"==typeof n&&(o=n(o)),Ss(o)||(o="string"==typeof n?t.parse(o,n):t.parse(o)),null===o?null:(r&&(o="week"!==r||!n0(s)&&!0!==s?t.startOf(o,r):t.startOf(o,"isoWeek",s)),+o)}function VJ(e,i,t,n){const r=ol.length;for(let s=ol.indexOf(e);s<r-1;++s){const o=RE[ol[s]];if(o.common&&Math.ceil((t-i)/((o.steps?o.steps:Number.MAX_SAFE_INTEGER)*o.size))<=n)return ol[s]}return ol[r-1]}function UJ(e,i,t){if(t){if(t.length){const{lo:n,hi:r}=tL(t,i);e[t[n]>=i?t[n]:t[r]]=!0}}else e[i]=!0}function zJ(e,i,t){const n=[],r={},s=i.length;let o,l;for(o=0;o<s;++o)l=i[o],r[l]=o,n.push({value:l,major:!1});return 0!==s&&t?function s8t(e,i,t,n){const r=e._adapter,s=+r.startOf(i[0].value,n),o=i[i.length-1].value;let l,w;for(l=s;l<=o;l=+r.add(l,1,n))w=t[l],w>=0&&(i[w].major=!0);return i}(e,n,r,t):n}let FL=(()=>class e extends Hm{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),s=this._adapter=new aBt__date(t.adapters.date);s.init(n),zb(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return void 0===t?null:BJ(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:s,max:o,minDefined:l,maxDefined:w}=this.getUserBounds();function S(M){!l&&!isNaN(M.min)&&(s=Math.min(s,M.min)),!w&&!isNaN(M.max)&&(o=Math.max(o,M.max))}(!l||!w)&&(S(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&S(this.getMinMax(!1))),s=Ss(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),o=Ss(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,s="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,w=function D4t(e,i,t){let n=0,r=e.length;for(;n<r&&e[n]<i;)n++;for(;r>n&&e[r-1]>t;)r--;return n>0||r<e.length?e.slice(n,r):e}(s,o,this.max);return this._unit=n.unit||(r.autoSkip?VJ(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):function n8t(e,i,t,n,r){for(let s=ol.length-1;s>=ol.indexOf(t);s--){const o=ol[s];if(RE[o].common&&e._adapter.diff(r,n,o)>=i-1)return o}return ol[t?ol.indexOf(t):0]}(this,w.length,n.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function r8t(e){for(let i=ol.indexOf(e)+1,t=ol.length;i<t;++i)if(RE[ol[i]].common)return ol[i]}(this._unit):void 0,this.initOffsets(s),t.reverse&&w.reverse(),zJ(this,w,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s,o,n=0,r=0;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),n=1===t.length?1-s:(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),r=1===t.length?o:(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=Pa(n,0,l),r=Pa(r,0,l),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,s=this.options,o=s.time,l=o.unit||VJ(o.minUnit,n,r,this._getLabelCapacity(n)),w=Tn(s.ticks.stepSize,1),S="week"===l&&o.isoWeekday,M=n0(S)||!0===S,P={};let N,U,O=n;if(M&&(O=+t.startOf(O,"isoWeek",S)),O=+t.startOf(O,M?"day":l),t.diff(r,n,l)>1e5*w)throw new Error(n+" and "+r+" are too far apart with stepSize of "+w+" "+l);const j="data"===s.ticks.source&&this.getDataTimestamps();for(N=O,U=0;N<r;N=+t.add(N,w,l),U++)UJ(P,N,j);return(N===r||"ticks"===s.bounds||1===U)&&UJ(P,N,j),Object.keys(P).sort(NJ).map(W=>+W)}getLabelForValue(t){const r=this.options.time;return this._adapter.format(t,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(t,n){return this._adapter.format(t,n||this.options.time.displayFormats[this._unit])}_tickFormatFunction(t,n,r,s){const o=this.options,l=o.ticks.callback;if(l)return $r(l,[t,n,r],this);const w=o.time.displayFormats,S=this._unit,M=this._majorUnit,O=M&&w[M],N=r[n];return this._adapter.format(t,s||(M&&O&&N&&N.major?O:S&&w[S]))}generateTickLabels(t){let n,r,s;for(n=0,r=t.length;n<r;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,s=Fc(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),l=Math.sin(s),w=this._resolveTickFontOptions(0).size;return{w:r*o+w*l,h:r*l+w*o}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,o=this._tickFormatFunction(t,0,zJ(this,[t],this._majorUnit),s),l=this._getLabelSize(o),w=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return w>0?w:1}getDataTimestamps(){let n,r,t=this._cache.data||[];if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)t.push(BJ(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return UK(t.sort(NJ))}})();function PE(e,i,t){let s,o,l,w,n=0,r=e.length-1;t?(i>=e[n].pos&&i<=e[r].pos&&({lo:n,hi:r}=Pu(e,"pos",i)),({pos:s,time:l}=e[n]),({pos:o,time:w}=e[r])):(i>=e[n].time&&i<=e[r].time&&({lo:n,hi:r}=Pu(e,"time",i)),({time:s,pos:l}=e[n]),({time:o,pos:w}=e[r]));const S=o-s;return S?l+(w-l)*(i-s)/S:l}const c8t=["radarCanvas"],GJ=e=>({left:e});function d8t(e,i){if(1&e&&(q(0,"div",11)(1,"div",12),ut(2),et()()),2&e){const t=i.$implicit,n=Ct();xt("ngStyle",_l(2,GJ,n.getMarkerPosition(t.value)+"%")),ot(2),qe(t.value)}}function u8t(e,i){if(1&e&&(q(0,"span",13),ut(1),et()),2&e){const t=i.$implicit;ot(),qe(t.label)}}function h8t(e,i){if(1&e&&(q(0,"td"),ut(1),gs(2,"titlecase"),et()),2&e){const t=Ct(2).$implicit,n=Ct(2).$implicit,r=Ct();Ai("rowspan",r.getKpaRowSpan(r.maturityResponse,n,t)),ot(),Ke(" ",jl(2,2,r.getKpaName(t))," ")}}function f8t(e,i){if(1&e&&(q(0,"td"),ut(1),gs(2,"number"),et()),2&e){const t=Ct(2).$implicit,n=Ct(2).$implicit,r=Ct();Ai("rowspan",r.getKpaRowSpan(r.maturityResponse,n,t)),ot(),Ke(" ",Sc(2,2,r.calculateAverage(r.getQuestions(r.maturityResponse,n,t)),"1.2-2")," ")}}function m8t(e,i){if(1&e&&($i(0),q(1,"tr"),jt(2,h8t,3,4,"td",14)(3,f8t,3,5,"td",14),et(),Qi()),2&e){const t=i.index,n=Ct(4);ot(2),xt("ngIf",n.isFirstRowInKpa(t)),ot(),xt("ngIf",n.isFirstRowInKpa(t))}}function p8t(e,i){if(1&e&&($i(0),jt(1,m8t,4,2,"ng-container",9),gs(2,"keyvalue"),Qi()),2&e){const t=i.$implicit,n=Ct(2).$implicit,r=Ct();ot(),xt("ngForOf",jl(2,1,r.getQuestions(r.maturityResponse,n,t)))}}function g8t(e,i){if(1&e&&($i(0),jt(1,p8t,3,3,"ng-container",9),Qi()),2&e){const t=Ct().$implicit,n=Ct();ot(),xt("ngForOf",n.getKpas(n.maturityResponse,t))}}function v8t(e,i){if(1&e&&($i(0),jt(1,g8t,2,1,"ng-container",14),Qi()),2&e){const t=i.$implicit,n=Ct();ot(),xt("ngIf",t==n.maturityResponse.selectedStakeholder)}}CL.register(sBt,B5t,PVt,Object.freeze({__proto__:null,CategoryScale:NVt,LinearScale:class VVt extends kE{static id="linear";static defaults={ticks:{callback:uE.formatters.numeric}};determineDataLimits(){const{min:i,max:t}=this.getMinMax(!0);this.min=Ss(i)?i:0,this.max=Ss(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const i=this.isHorizontal(),t=i?this.width:this.height,n=Fc(this.options.ticks.minRotation),r=(i?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(i){return null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}},LogarithmicScale:class GVt extends Hm{static id="logarithmic";static defaults={ticks:{callback:uE.formatters.logarithmic,major:{enabled:!0}}};constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,t){const n=kE.prototype.parse.apply(this,[i,t]);if(0!==n)return Ss(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:i,max:t}=this.getMinMax(!0);this.min=Ss(i)?Math.max(0,i):null,this.max=Ss(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ss(this._userMin)&&(this.min=i===Wm(this.min,0)?Wm(this.min,-1):Wm(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:i,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const s=l=>n=i?n:l,o=l=>r=t?r:l;n===r&&(n<=0?(s(1),o(10)):(s(Wm(n,-1)),o(Wm(r,1)))),n<=0&&s(Wm(r,-1)),r<=0&&o(Wm(n,1)),this.min=n,this.max=r}buildTicks(){const i=this.options,n=function zVt(e,{min:i,max:t}){i=Rl(e.min,i);const n=[],r=a1(i);let s=function UVt(e,i){let n=a1(i-e);for(;FJ(e,i,n)>10;)n++;for(;FJ(e,i,n)<10;)n--;return Math.min(n,a1(e))}(i,t),o=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),w=r>s?Math.pow(10,r):0,S=Math.round((i-w)*o)/o,M=Math.floor((i-w)/l/10)*l*10;let P=Math.floor((S-M)/Math.pow(10,s)),O=Rl(e.min,Math.round((w+M+P*Math.pow(10,s))*o)/o);for(;O<t;)n.push({value:O,major:PJ(O),significand:P}),P>=10?P=P<15?15:20:P++,P>=20&&(s++,P=2,o=s>=0?1:o),O=Math.round((w+M+P*Math.pow(10,s))*o)/o;const N=Rl(e.max,O);return n.push({value:N,major:PJ(N),significand:P}),n}({min:this._userMin,max:this._userMax},this);return"ticks"===i.bounds&&OK(n,this,"value"),i.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(i){return void 0===i?"0":Xb(i,this.chart.options.locale,this.options.ticks.format)}configure(){const i=this.min;super.configure(),this._startValue=lf(i),this._valueRange=lf(this.max)-lf(i)}getPixelForValue(i){return(void 0===i||0===i)&&(i=this.min),null===i||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(lf(i)-this._startValue)/this._valueRange)}getValueForPixel(i){const t=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+t*this._valueRange)}},RadialLinearScale:class i8t extends kE{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:uE.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:i=>i,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const i=this._padding=mo(PL(this.options)/2),t=this.width=this.maxWidth-i.width,n=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+t/2+i.left),this.yCenter=Math.floor(this.top+n/2+i.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:i,max:t}=this.getMinMax(!1);this.min=Ss(i)&&!isNaN(i)?i:0,this.max=Ss(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/PL(this.options))}generateTickLabels(i){kE.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((t,n)=>{const r=$r(this.options.pointLabels.callback,[t,n],this);return r||0===r?r:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const i=this.options;i.display&&i.pointLabels.display?function WVt(e){const i={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},t=Object.assign({},i),n=[],r=[],s=e._pointLabels.length,o=e.options.pointLabels,l=o.centerPointLabels?is/s:0;for(let w=0;w<s;w++){const S=o.setContext(e.getPointLabelContext(w));r[w]=S.padding;const M=e.getPointPosition(w,e.drawingArea+r[w],l),P=xa(S.font),O=HVt(e.ctx,P,e._pointLabels[w]);n[w]=O;const N=Pl(e.getIndexAngle(w)+l),U=Math.round(JO(N));jVt(t,i,N,OJ(U,M.x,O.w,0,180),OJ(U,M.y,O.h,90,270))}e.setCenterPoint(i.l-t.l,t.r-i.r,i.t-t.t,t.b-i.b),e._pointLabelItems=function $Vt(e,i,t){const n=[],r=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:l}=s.pointLabels,w={extra:PL(s)/2,additionalAngle:o?is/r:0};let S;for(let M=0;M<r;M++){w.padding=t[M],w.size=i[M];const P=XVt(e,M,w);n.push(P),"auto"===l&&(P.visible=YVt(P,S),P.visible&&(S=P))}return n}(e,n,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,t,n,r){this.xCenter+=Math.floor((i-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,t,n,r))}getIndexAngle(i){return Pl(i*(ns/(this._pointLabels.length||1))+Fc(this.options.startAngle||0))}getDistanceFromCenterForValue(i){if(ir(i))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*t:(i-this.min)*t}getValueForDistanceFromCenter(i){if(ir(i))return NaN;const t=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(i){const t=this._pointLabels||[];if(i>=0&&i<t.length){const n=t[i];return function e8t(e,i,t){return cf(e,{label:t,index:i,type:"pointLabel"})}(this.getContext(),i,n)}}getPointPosition(i,t,n=0){const r=this.getIndexAngle(i)-zs+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(i,t){return this.getPointPosition(i,this.getDistanceFromCenterForValue(t))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){const{left:t,top:n,right:r,bottom:s}=this._pointLabelItems[i];return{left:t,top:n,right:r,bottom:s}}drawBackground(){const{backgroundColor:i,grid:{circular:t}}=this.options;if(i){const n=this.ctx;n.save(),n.beginPath(),LJ(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=i,n.fill(),n.restore()}}drawGrid(){const i=this.ctx,t=this.options,{angleLines:n,grid:r,border:s}=t,o=this._pointLabels.length;let l,w,S;if(t.pointLabels.display&&function qVt(e,i){const{ctx:t,options:{pointLabels:n}}=e;for(let r=i-1;r>=0;r--){const s=e._pointLabelItems[r];if(!s.visible)continue;const o=n.setContext(e.getPointLabelContext(r));JVt(t,o,s);const l=xa(o.font),{x:w,y:S,textAlign:M}=s;Nm(t,e._pointLabels[r],w,S+l.lineHeight/2,l,{color:o.color,textAlign:M,textBaseline:"middle"})}}(this,o),r.display&&this.ticks.forEach((M,P)=>{if(0!==P||0===P&&this.min<0){w=this.getDistanceFromCenterForValue(M.value);const O=this.getContext(P),N=r.setContext(O),U=s.setContext(O);!function t8t(e,i,t,n,r){const s=e.ctx,o=i.circular,{color:l,lineWidth:w}=i;!o&&!n||!l||!w||t<0||(s.save(),s.strokeStyle=l,s.lineWidth=w,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),LJ(e,t,o,n),s.closePath(),s.stroke(),s.restore())}(this,N,w,o,U)}}),n.display){for(i.save(),l=o-1;l>=0;l--){const M=n.setContext(this.getPointLabelContext(l)),{color:P,lineWidth:O}=M;!O||!P||(i.lineWidth=O,i.strokeStyle=P,i.setLineDash(M.borderDash),i.lineDashOffset=M.borderDashOffset,w=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),S=this.getPointPosition(l,w),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(S.x,S.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){const i=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let s,o;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(r),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((l,w)=>{if(0===w&&this.min>=0&&!t.reverse)return;const S=n.setContext(this.getContext(w)),M=xa(S.font);if(s=this.getDistanceFromCenterForValue(this.ticks[w].value),S.showLabelBackdrop){i.font=M.string,o=i.measureText(l.label).width,i.fillStyle=S.backdropColor;const P=mo(S.backdropPadding);i.fillRect(-o/2-P.left,-s-M.size/2-P.top,o+P.width,M.size+P.height)}Nm(i,l.label,0,-s,M,{color:S.color,strokeColor:S.textStrokeColor,strokeWidth:S.textStrokeWidth})}),i.restore()}drawTitle(){}},TimeScale:FL,TimeSeriesScale:class a8t extends FL{static id="timeseries";static defaults=FL.defaults;constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const i=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(i);this._minPos=PE(t,this.min),this._tableRange=PE(t,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){const{min:t,max:n}=this,r=[],s=[];let o,l,w,S,M;for(o=0,l=i.length;o<l;++o)S=i[o],S>=t&&S<=n&&r.push(S);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,l=r.length;o<l;++o)M=r[o+1],w=r[o-1],S=r[o],Math.round((M+w)/2)!==S&&s.push({time:S,pos:o/(l-1)});return s}_generate(){const i=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(i)||!n.length)&&n.splice(0,0,i),(!n.includes(t)||1===n.length)&&n.push(t),n.sort((r,s)=>r-s)}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return i=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,i=this._cache.all=i,i}getDecimalForValue(i){return(PE(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){const t=this._offsets,n=this.getDecimalForPixel(i)/t.factor-t.end;return PE(this._table,n*this._tableRange+this._minPos,!0)}}}));let x8t=(()=>{class e{constructor(){this.allQuestions=[],this.resultsScale=[{value:1,label:"Basic"},{value:2,label:"Limited"},{value:3,label:"Advanced"},{value:4,label:"Integrated"},{value:5,label:"Optimizing"}]}ngAfterViewInit(){this.maturityResponse&&this.generateChart()}ngOnChanges(t){this.radarCanvas&&t.maturityResponse&&this.maturityResponse&&this.generateChart()}generateChart(){this.chart&&this.chart.destroy();const t={};Object.entries(this.maturityResponse).forEach(([o,l])=>{const[w,S,M]=o.split(".");w&&S&&M&&w===this.maturityResponse.selectedStakeholder&&(t[S]=t[S]||{sum:0,count:0},t[S].sum+=l||0,t[S].count+=1)});const n=Array.from(new Set(Object.keys(this.maturityResponse).filter(o=>o.startsWith(this.maturityResponse.selectedStakeholder)).map(o=>o.split(".")[1]))),r=n.map(o=>this.getKpaName(o)||o),s=[{label:this.getStakeholderName(),data:n.map(o=>t[o]?t[o].sum/t[o].count:0),backgroundColor:"rgba(54, 162, 235, 0.3)",borderColor:"rgba(54, 162, 235, 1)",pointBackgroundColor:"rgba(54, 162, 235, 1)",pointBorderColor:"#fff"}];this.chart=new CL(this.radarCanvas.nativeElement,{type:"radar",data:{labels:r,datasets:s},options:{aspectRatio:2,responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Maturity Results by Stakeholder and KPA"}},scales:{r:{pointLabels:{padding:5},suggestedMin:0,suggestedMax:5,ticks:{stepSize:1}}}}})}getStakeholders(t){return Array.from(new Set(Object.keys(t).map(n=>n.split(".")[0])))}getKpas(t,n){return Array.from(new Set(Object.keys(t).filter(r=>r.startsWith(n)).map(r=>r.split(".")[1])))}getStakeholderName(){return this.allQuestions[0].stakeholderName}getKpaName(t){const n=this.allQuestions.find(r=>r.kpaId===t);return n?n.kpaName:null}getQuestions(t,n,r){return Object.keys(t).filter(s=>s.startsWith(`${n}.${r}`)).reduce((s,o)=>(s[o.split(".").slice(2).join(".")]=t[o],s),{})}getStakeholderRowSpan(t,n){return this.getKpas(t,n).reduce((s,o)=>s+this.getKpaRowSpan(t,n,o),0)}getKpaRowSpan(t,n,r){return Object.keys(t).filter(s=>s.startsWith(`${n}.${r}`)).length}isFirstRowInStakeholder(t,n,r){const s=this.getKpas(this.maturityResponse,n).indexOf(r);return 0===t&&0===s}isFirstRowInKpa(t){return 0===t}calculateAverage(t){const n=Object.values(t).filter(s=>null!==s),r=n.reduce((s,o)=>s+o,0);return n.length>0?r/n.length:0}calculateOverallAverage(t){const n={},r=["selectedStakeholder","name","author","timestamp","selectedKpas"];for(const l in t)if(t.hasOwnProperty(l)&&null!==t[l]&&!r.includes(l)){const w=l.split(".")[1];n[w]||(n[w]=[]),n[w].push(t[l])}const s=Object.keys(n).filter(l=>n[l].length>0).map(l=>{const w=n[l];return w.reduce((S,M)=>S+M,0)/w.length});return s.length>0?s.reduce((l,w)=>l+w,0)/s.length:0}getScaleLabel(t){return t=Math.floor(t),this.resultsScale.find(n=>n.value===t)?.label||""}getMarkerPosition(t){return t<1&&(t=1),t>5&&(t=5),(t-1)/4*100}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-maturity-results"]],viewQuery:function(n,r){if(1&n&&Pi(c8t,5),2&n){let s;Ge(s=He())&&(r.radarCanvas=s.first)}},inputs:{maturityResponse:"maturityResponse",allQuestions:"allQuestions"},features:[ar],decls:24,vars:15,consts:[["radarCanvas",""],[1,"centered-box"],[1,"score-scale-container"],[1,"score-scale"],[1,"score-marker",3,"ngStyle"],["class","score-tick",3,"ngStyle",4,"ngFor","ngForOf"],[1,"score-scale-labels"],["class","level-label",4,"ngFor","ngForOf"],[1,"bordered-table"],[4,"ngFor","ngForOf"],[1,"chart-container"],[1,"score-tick",3,"ngStyle"],[1,"score-tick-label"],[1,"level-label"],[4,"ngIf"]],template:function(n,r){1&n&&(q(0,"h3",1),ut(1),gs(2,"number"),et(),Te(3,"br"),q(4,"div",2)(5,"div",3),Te(6,"div",4),jt(7,d8t,3,4,"div",5),et(),q(8,"div",6),jt(9,u8t,2,1,"span",7),gs(10,"slice"),et()(),q(11,"table",8)(12,"thead")(13,"tr")(14,"th"),ut(15,"KPA"),et(),q(16,"th"),ut(17,"Maturity score"),et()()(),q(18,"tbody"),jt(19,v8t,2,1,"ng-container",9),et()(),q(20,"div",10),Te(21,"canvas",null,0),et(),Te(23,"br")),2&n&&(ot(),qo(" ",Sc(2,6,r.calculateOverallAverage(r.maturityResponse),"1.2-2")," - ",r.getScaleLabel(r.calculateOverallAverage(r.maturityResponse)),"\n"),ot(5),xt("ngStyle",_l(13,GJ,"calc("+r.getMarkerPosition(r.calculateOverallAverage(r.maturityResponse))+"% - 3px)")),ot(),xt("ngForOf",r.resultsScale),ot(2),xt("ngForOf",$6(10,9,r.resultsScale,0,r.resultsScale.length-1)),ot(10),xt("ngForOf",r.getStakeholders(r.maturityResponse)))},dependencies:[ws,Fs,AU,kU,IU,_I,DU],styles:[".bordered-table[_ngcontent-%COMP%]{border:1px solid #000;border-collapse:collapse;width:100%}.bordered-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .bordered-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #000;padding:4px}.chart-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.centered-box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:2px solid #000;padding:10px;margin:20px auto;width:-moz-fit-content;width:fit-content;box-shadow:0 0 10px #0000001a}.score-scale-container[_ngcontent-%COMP%]{position:relative;width:100%;margin:1rem 0}.score-scale[_ngcontent-%COMP%]{position:relative;height:20px;width:100%;border-radius:4px;background:linear-gradient(to right,#c03700,#d47f00,#dfc500 66%,#417505)}.score-marker[_ngcontent-%COMP%]{position:absolute;top:-5px;width:6px;height:30px;background-color:#2821eb;transition:left .3s ease;border-radius:2px}.score-tick[_ngcontent-%COMP%]{position:absolute;top:0;width:1px;height:8px;background-color:#000;transform:translateY(-8px)}.score-tick-label[_ngcontent-%COMP%]{position:absolute;top:-20px;left:-4px;font-weight:700;font-size:small}.score-scale-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem;width:100%}.level-label[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:small;flex:1}"]})}return e})();function y8t(e,i){if(1&e&&(q(0,"mat-radio-button",17),ut(1),q(2,"p",18),ut(3),et()()),2&e){const t=i.$implicit;xt("value",t.id),ot(),Ke(" ",t.name," "),ot(2),Ke(" ",t.description,"")}}function b8t(e,i){1&e&&(q(0,"div",19),ut(1," Please select a stakeholder. "),et())}function w8t(e,i){if(1&e&&(q(0,"div")(1,"h2"),ut(2,"Stakeholder Description"),et(),q(3,"mat-form-field",20)(4,"mat-label"),ut(5),gs(6,"titlecase"),et(),Te(7,"input",21),q(8,"mat-hint"),ut(9,"Stakeholder name to be included in the final assessment report. This information is not stored."),et()(),q(10,"mat-form-field",22)(11,"mat-label"),ut(12,"User name "),et(),Te(13,"input",23),q(14,"mat-hint"),ut(15,"User name to be included in the final assessment report. This information is not stored."),et()()()),2&e){let t;const n=Ct(2);ot(5),Ke("",jl(6,3,null==(t=n.getStakeHolder(n.responseForm.controls.selectedStakeholder.value))?null:t.name)," name "),ot(2),xt("formControl",n.nameControl),ot(6),xt("formControl",n.authorControl)}}function _8t(e,i){if(1&e){const t=ye();q(0,"div",6)(1,"div",7)(2,"h2"),ut(3,"Select Stakeholder"),et(),q(4,"div",2)(5,"div",8)(6,"mat-radio-group",9),jt(7,y8t,4,3,"mat-radio-button",10),et(),jt(8,b8t,2,0,"div",11),et(),q(9,"div",12),jt(10,w8t,16,5,"div",13),et()(),q(11,"div",14)(12,"button",15),zt("click",function(){return Gt(t),Ht(Ct().onStakeholderSelected())}),ut(13," Start "),et(),q(14,"input",16,1),zt("change",function(r){return Gt(t),Ht(Ct().loadState(r))}),et(),q(16,"button",3),zt("click",function(){return Gt(t),Ht(en(15).click())}),ut(17,"Upload assessment"),et()()()()}if(2&e){const t=Ct();ot(),xt("formGroup",t.responseForm),ot(5),xt("formControl",t.currentControl)("@questionAnimation",t.animationState),ot(),xt("ngForOf",t.maturityQuestions.stakeHolders),ot(),xt("ngIf",(null==t.responseForm.controls.selectedStakeholder?null:t.responseForm.controls.selectedStakeholder.invalid)&&(null==t.responseForm.controls.selectedStakeholder?null:t.responseForm.controls.selectedStakeholder.touched)),ot(2),xt("ngIf",!t.responseForm.controls.selectedStakeholder.invalid),ot(2),xt("disabled",t.responseForm.controls.selectedStakeholder.invalid)}}function T8t(e,i){if(1&e&&(q(0,"mat-checkbox",30),ut(1),Te(2,"br"),q(3,"span",31),ut(4),et()()),2&e){const t=Ct().$implicit;xt("formControl",Ct(3).getKpaControl(t.id)),ot(),Ke(" ",t.name,""),ot(3),qe(t.description)}}function C8t(e,i){if(1&e&&(q(0,"div",28),jt(1,T8t,5,3,"mat-checkbox",29),et()),2&e){const t=i.$implicit,n=Ct(3);ot(),xt("ngIf",n.getKpaControl(t.id))}}function S8t(e,i){if(1&e){const t=ye();q(0,"button",15),zt("click",function(){return Gt(t),Ht(Ct(3).filterKpasAndGoNext())}),ut(1," Next "),et()}2&e&&xt("disabled",Ct(3).currentControl.invalid)}function E8t(e,i){if(1&e){const t=ye();q(0,"div",7)(1,"h2"),ut(2),et(),q(3,"section",25)(4,"h4"),ut(5,"Select Relevant Key Process Areas:"),et(),jt(6,C8t,2,1,"div",26),et(),q(7,"div",14),jt(8,S8t,2,1,"button",27),et(),q(9,"div",14)(10,"button",3),zt("click",function(){return Gt(t),Ht(Ct(2).startOver())}),ut(11," Restart assessment "),et()()()}if(2&e){const t=Ct(2);xt("formGroup",t.responseForm),ot(2),qo("Stakeholder: ",t.nameControl.value," (",t.allQuestions[t.currentQuestionIndex+1].stakeholderName,")"),ot(4),xt("ngForOf",t.currentKpas),ot(2),xt("ngIf",t.currentQuestionIndex<t.allQuestions.length-1)}}function A8t(e,i){if(1&e&&(q(0,"div",6),jt(1,E8t,12,5,"div",24),et()),2&e){const t=Ct();ot(),xt("ngIf",t.currentQuestionIndex<t.allQuestions.length)}}function D8t(e,i){1&e&&(q(0,"mat-icon",40),ut(1," help_outline "),et()),2&e&&xt("matTooltip",Ct().$implicit.example)}function M8t(e,i){if(1&e&&(q(0,"mat-radio-button",37)(1,"div",38),ut(2),jt(3,D8t,2,1,"mat-icon",39),et()()),2&e){const t=i.$implicit;xt("value",t.score),ot(2),Ke(" ",t.text," "),ot(),xt("ngIf",t.example)}}function I8t(e,i){1&e&&(q(0,"div",19),ut(1," Please select an option for this question. "),et())}function k8t(e,i){if(1&e){const t=ye();q(0,"button",15),zt("click",function(){return Gt(t),Ht(Ct(3).goToPreviousQuestion())}),ut(1," Back "),et()}2&e&&xt("disabled",Ct(3).currentQuestionIndex<1)}function R8t(e,i){if(1&e){const t=ye();q(0,"button",15),zt("click",function(){return Gt(t),Ht(Ct(3).goToNextQuestion())}),ut(1," Next "),et()}2&e&&xt("disabled",Ct(3).currentControl.invalid)}function P8t(e,i){if(1&e){const t=ye();q(0,"button",41),zt("click",function(){return Gt(t),Ht(Ct(3).submitStakeholderResponses())}),ut(1," Submit "),et()}2&e&&xt("disabled",Ct(3).currentControl.invalid)}function F8t(e,i){if(1&e){const t=ye();q(0,"div",7)(1,"h2"),ut(2),et(),Te(3,"mat-progress-bar",32),q(4,"div",33),ut(5),et(),q(6,"h3"),ut(7),et(),q(8,"p",34),ut(9),et(),q(10,"mat-radio-group",9),jt(11,M8t,4,3,"mat-radio-button",35),et(),jt(12,I8t,2,0,"div",11),q(13,"div",14),jt(14,k8t,2,1,"button",27)(15,R8t,2,1,"button",27)(16,P8t,2,1,"button",36),et(),q(17,"div",14)(18,"button",3),zt("click",function(){return Gt(t),Ht(Ct(2).startOver())}),ut(19," Restart assessment "),et()()()}if(2&e){const t=Ct(2);xt("formGroup",t.responseForm),ot(2),qo("Stakeholder: ",t.nameControl.value," (",t.allQuestions[t.currentQuestionIndex].stakeholderName,")"),ot(),xt("value",(t.currentQuestionIndex+1)/(t.allQuestions.length+1)*100),ot(2),qo("Question ",t.currentQuestionIndex+1," of ",t.allQuestions.length,""),ot(2),Ke("Key Process Area: ",t.allQuestions[t.currentQuestionIndex].kpaName,""),ot(),xt("@questionAnimation",t.animationState),ot(),qe(t.allQuestions[t.currentQuestionIndex].question.question),ot(),xt("formControl",t.currentControl)("@questionAnimation",t.animationState),ot(),xt("ngForOf",t.allQuestions[t.currentQuestionIndex].question.options),ot(),xt("ngIf",(null==t.currentControl?null:t.currentControl.invalid)&&(null==t.currentControl?null:t.currentControl.touched)),ot(2),xt("ngIf",t.currentQuestionIndex>0),ot(),xt("ngIf",t.currentQuestionIndex<t.allQuestions.length-1),ot(),xt("ngIf",t.currentQuestionIndex===t.allQuestions.length-1)}}function O8t(e,i){if(1&e&&(q(0,"div",6),jt(1,F8t,20,16,"div",24),et()),2&e){const t=Ct();ot(),xt("ngIf",t.currentQuestionIndex<t.allQuestions.length)}}function L8t(e,i){if(1&e&&(q(0,"span"),ut(1),et()),2&e){const t=Ct(2);ot(),Ke("by ",t.authorControl.value,", ")}}function N8t(e,i){if(1&e){const t=ye();q(0,"div",6)(1,"div",42)(2,"h2"),ut(3),et(),q(4,"h3"),ut(5,"Maturity assessment results"),et(),q(6,"p",43),ut(7,"Assessment conducted "),jt(8,L8t,2,1,"span",13),ut(9),gs(10,"date"),et(),q(11,"p",44),ut(12,"Based on your responses, the maturity level of the stakeholder is:"),et(),Te(13,"app-maturity-results",45),q(14,"div",14)(15,"button",15),zt("click",function(){return Gt(t),Ht(Ct().goToPreviousQuestion())}),ut(16," Back "),et(),q(17,"button",3),zt("click",function(){return Gt(t),Ht(Ct().startOver())}),ut(18," Start over "),et()(),q(19,"div",14)(20,"button",3),zt("click",function(){return Gt(t),Ht(Ct().saveState())}),ut(21,"Save results"),et()()()()}if(2&e){const t=Ct();ot(),xt("@questionAnimation",t.animationState),ot(2),qo("Stakeholder: ",t.nameControl.value," (",t.allQuestions[t.currentQuestionIndex-1].stakeholderName,")"),ot(5),xt("ngIf",t.authorControl.value),ot(),Ke(" on ",Sc(10,8,t.timestampControl.value,"medium")," "),ot(4),xt("maturityResponse",t.responseForm.value)("allQuestions",t.allQuestions),ot(2),xt("disabled",t.currentQuestionIndex<1)}}let B8t=(()=>{class e{constructor(t,n,r){this.http=t,this.fb=n,this.dialog=r,this.baseMaturityQuestions={},this.maturityQuestions={},this.allQuestions=[],this.currentQuestionIndex=-2,this.selectedStakeholder=null,this.animationState="enter",this.currentKpas=[],this.responseForm=this.fb.group({selectedStakeholder:new Ns(null,fd.required)}),this.currentControl=this.responseForm.controls.selectedStakeholder}ngOnInit(){var t=this;return Mt(function*(){t.baseMaturityQuestions=yield Da(t.http.get("assets/maturity/maturityLevels.json")),t.initializeForm()})()}initializeForm(){var t=this;return Mt(function*(){t.maturityQuestions=jNt()(t.baseMaturityQuestions),t.nameControl=new Ns(null),t.authorControl=new Ns(null),t.timestampControl=new Ns((new Date).toISOString()),t.responseForm=t.fb.group({selectedStakeholder:new Ns(null,fd.required),name:t.nameControl,author:t.authorControl,timestamp:t.timestampControl}),t.currentControl=t.responseForm.controls.selectedStakeholder,t.maturityQuestions.stakeHolders.forEach(n=>{n.kpas.forEach(r=>{r.questions.forEach(s=>{const o=[n.id,r.id,s.id].join(".");t.responseForm.addControl(o,new Ns(null,fd.required))})})})})()}onStakeholderSelected(){this.animationState="leave",setTimeout(()=>{const t=this.responseForm.get("selectedStakeholder")?.value;this.selectedStakeholder=this.getStakeHolder(t);const n=this.fb.group({});this.selectedStakeholder.kpas.forEach(r=>{n.addControl(r.id,this.fb.control(!0))}),this.responseForm.addControl("selectedKpas",n),this.currentKpas=this.selectedStakeholder.kpas,this.flattenQuestions(),this.currentQuestionIndex++,this.animationState="enter"},200)}getKpaControl(t){return this.responseForm.get("selectedKpas")?.get(t)}getStakeHolder(t){return this.maturityQuestions.stakeHolders.find(r=>r.id===t)}flattenQuestions(){this.allQuestions=[],this.selectedStakeholder&&this.selectedStakeholder.kpas.forEach(t=>{t.questions.forEach(n=>{const r=[this.selectedStakeholder.id,t.id,n.id].join(".");this.allQuestions.push({stakeholderName:this.selectedStakeholder.name,kpaName:t.name,kpaId:t.id,question:n,questionFullPath:r})})})}filterKpasAndGoNext(){this.animationState="leave";const t=this.responseForm.get("selectedKpas"),n=Object.keys(t.controls).filter(r=>t.get(r)?.value);this.selectedStakeholder.kpas.forEach(r=>{n.includes(r.id)||r.questions.forEach(s=>{const o=[this.selectedStakeholder.id,r.id,s.id].join(".");this.responseForm.contains(o)&&this.responseForm.removeControl(o)})}),this.allQuestions=this.allQuestions.filter(r=>n.includes(r.kpaId)),setTimeout(()=>{this.currentQuestionIndex++,this.allQuestions.length>0&&(this.currentControl=this.responseForm.controls[this.allQuestions[this.currentQuestionIndex].questionFullPath]),this.animationState="enter"},200)}goToNextQuestion(){this.animationState="leave",setTimeout(()=>{this.currentQuestionIndex++,this.currentControl=this.responseForm.controls[this.allQuestions[this.currentQuestionIndex].questionFullPath],this.animationState="enter"},200)}goToPreviousQuestion(){this.animationState="leave",setTimeout(()=>{this.currentQuestionIndex--,this.currentControl=this.responseForm.controls[this.allQuestions[this.currentQuestionIndex].questionFullPath],this.animationState="enter"},200)}startOver(){this.currentQuestionIndex=-2,this.responseForm.reset(),this.currentKpas=[],this.selectedStakeholder=null,this.allQuestions=[],this.initializeForm()}uploadSpecification(t){if(1!==t.target.files.length)console.error("No file selected");else{const n=new FileReader;n.onloadend=r=>{if(n.result){const s=JSON.parse(n.result?.toString());this.maturityQuestions=s}},n.readAsText(t.target.files[0])}}downloadSpecification(){const t=JSON.stringify(this.maturityQuestions,null,2),n="data:application/json;charset=utf-8,"+encodeURIComponent(t),s=document.createElement("a");s.setAttribute("href",n),s.setAttribute("download","maturity_specification.json"),s.click()}submitStakeholderResponses(){this.timestampControl.setValue((new Date).toISOString()),this.animationState="leave",setTimeout(()=>{this.currentQuestionIndex++,this.animationState="enter"},200)}getStakeholderFormGroup(t){return this.responseForm.get(t)}getKpas(t){return this.getStakeHolder(t).kpas}getUnansweredCount(t){let n=0;const r=this.responseForm.get(t);return r&&Object.keys(r.controls).forEach(s=>{const o=r.get(s);o&&Object.keys(o.controls).forEach(l=>{const w=o.get(l);w&&w.invalid&&n++})}),n}saveState(){const t={selectedStakeholder:this.responseForm.get("selectedStakeholder")?.value,selectedKpas:this.responseForm.get("selectedKpas")?.value,responses:this.responseForm.value,currentQuestionIndex:this.currentQuestionIndex,currentControl:this.currentControl?.value,animationState:this.animationState,name:this.nameControl.value,author:this.authorControl.value,timestamp:this.timestampControl.value,allQuestions:this.allQuestions},n=new Blob([JSON.stringify(t)],{type:"application/json"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download="maturity-assessment-results.json",r.click()}loadState(t){if(1!==t.target.files.length)return void console.error("No file selected");const n=new FileReader;n.onloadend=()=>{if(!n.result)return void console.error("FileReader result is empty");const r=JSON.parse(n.result.toString());this.responseForm.reset(),this.currentQuestionIndex=-2,this.allQuestions=[],this.selectedStakeholder=null,this.currentKpas=[],this.initializeForm().then(()=>{this.nameControl.setValue(r.name),this.authorControl.setValue(r.author),this.timestampControl.setValue(r.timestamp);const s=r.selectedStakeholder,o=r.selectedKpas||{};this.responseForm.get("selectedStakeholder")?.setValue(s);const l=this.fb.group({}),w=this.getStakeHolder(s);this.selectedStakeholder=w,w?.kpas&&w.kpas.forEach(P=>{l.addControl(P.id,this.fb.control(!!o[P.id]))}),this.responseForm.setControl("selectedKpas",l),this.selectedStakeholder?.kpas&&this.selectedStakeholder.kpas.forEach(P=>{P.questions.forEach(O=>{const N=[this.selectedStakeholder.id,P.id,O.id].join(".");this.responseForm.contains(N)||this.responseForm.addControl(N,new Ns(null,fd.required))})});const S=Object.keys(o).filter(P=>o[P]);this.selectedStakeholder?.kpas&&this.selectedStakeholder.kpas.forEach(P=>{S.includes(P.id)||P.questions.forEach(O=>{const N=[this.selectedStakeholder.id,P.id,O.id].join(".");this.responseForm.contains(N)&&this.responseForm.removeControl(N)})}),this.flattenQuestions(),this.allQuestions=this.allQuestions.filter(P=>S.includes(P.kpaId));const M=r.responses||{};Object.keys(M).forEach(P=>{this.responseForm.contains(P)&&this.responseForm.controls[P].setValue(M[P])}),this.currentQuestionIndex=r.currentQuestionIndex||-2,this.animationState=r.animationState||"enter"})},n.readAsText(t.target.files[0])}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ql),mt(BC),mt(lm))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-maturity-main"]],decls:11,vars:4,consts:[["fileInput",""],["fileInputState",""],[1,"flex","flex-row","gap-4","justify-end","flex-wrap","p-2"],["mat-flat-button","","color","primary",3,"click"],["hidden","","type","file","id","file",3,"change"],["class","question-flow-container",4,"ngIf"],[1,"question-flow-container"],[1,"question-container",3,"formGroup"],[1,"flex-1"],[1,"options-container",3,"formControl"],["class","mb-5",3,"value",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],[1,"flex-1","mb-10"],[4,"ngIf"],[1,"button-container"],["mat-flat-button","","color","primary",3,"click","disabled"],["hidden","","type","file","id","fileState",3,"change"],[1,"mb-5",3,"value"],[1,"stakeholder-description"],[1,"error-message"],[1,"w-full"],["matInput","","placeholder","Enter stakeholder name...",3,"formControl"],[1,"w-full","mt-10"],["matInput","","placeholder","Enter the name of the user conducting the assessment...",3,"formControl"],["class","question-container",3,"formGroup",4,"ngIf"],[1,"example-section","mt-10"],["class","kpa-checkbox",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"kpa-checkbox"],[3,"formControl",4,"ngIf"],[3,"formControl"],[1,"kpa-description"],["mode","determinate",1,"progress-bar",3,"value"],[1,"progress-message"],[1,"question-text"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",3,"disabled","click",4,"ngIf"],[3,"value"],[1,"mat-radio-label-content"],["matTooltipPosition","right",3,"matTooltip",4,"ngIf"],["matTooltipPosition","right",3,"matTooltip"],["mat-flat-button","","color","accent",3,"click","disabled"],[1,"question-container"],[1,"text-center"],[1,"text-center","mt-10","text-lg"],[3,"maturityResponse","allQuestions"]],template:function(n,r){if(1&n){const s=ye();q(0,"div",2)(1,"button",3),zt("click",function(){return Gt(s),Ht(r.downloadSpecification())}),ut(2,"Download Maturiry Spec"),et(),q(3,"input",4,0),zt("change",function(l){return Gt(s),Ht(r.uploadSpecification(l))}),et(),q(5,"button",3),zt("click",function(){return Gt(s),Ht(en(4).click())}),ut(6,"Upload Maturity Spec"),et()(),jt(7,_8t,18,7,"div",5)(8,A8t,2,1,"div",5)(9,O8t,2,1,"div",5)(10,N8t,22,11,"div",5)}2&n&&(ot(7),xt("ngIf",-2===r.currentQuestionIndex),ot(),xt("ngIf",-1===r.currentQuestionIndex),ot(),xt("ngIf",r.currentQuestionIndex>=0&&r.currentQuestionIndex<r.allQuestions.length),ot(),xt("ngIf",r.currentQuestionIndex==r.allQuestions.length))},dependencies:[ws,Fs,Ma,ma,uP,Dl,nl,Oh,yu,Al,Uo,rm,Uy,pd,bu,sP,ZC,$y,x8t,_I,Zd],styles:[".question-flow-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:16px;margin:16px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 4px #0000001a}.question-container[_ngcontent-%COMP%]{width:100%;max-width:75%;padding:24px;background-color:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 6px #0000001a;margin-bottom:16px}.question-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.5rem;color:#333;text-align:center}.question-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1.2rem;color:#555;text-align:center}.question-text[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:16px;color:#333;text-align:justify}.kpa-description[_ngcontent-%COMP%]{font-size:.9rem;color:#757272}.kpa-checkbox[_ngcontent-%COMP%]{margin-bottom:10px}.options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.mat-radio-button[_ngcontent-%COMP%]{font-size:.9rem;color:#555}.error-message[_ngcontent-%COMP%]{margin-top:8px;font-size:.85rem;color:#d32f2f;text-align:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px;margin-bottom:16px}.progress-bar[_ngcontent-%COMP%]{margin-top:20px;height:8px}.progress-message[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:.9rem;font-style:italic;margin-bottom:20px}.mat-radio-button[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.mat-radio-label-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:8px}.example-text[_ngcontent-%COMP%]{font-size:.9rem;color:gray}.mat-icon[_ngcontent-%COMP%]{font-size:16px;margin-left:10px}.stakeholder-description[_ngcontent-%COMP%]{font-size:.9rem;color:#757272}button[mat-raised-button][_ngcontent-%COMP%]{margin-top:16px;font-size:.9rem;text-transform:uppercase}button[mat-raised-button][color=primary][_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}button[mat-raised-button][color=primary][_ngcontent-%COMP%]:disabled{background-color:#9e9e9e;color:#fff;cursor:not-allowed}button[mat-raised-button][color=accent][_ngcontent-%COMP%]{background-color:#ff4081;color:#fff}button[mat-raised-button][color=accent][_ngcontent-%COMP%]:hover{background-color:#f50057}@media (max-width: 768px){.question-container[_ngcontent-%COMP%]{padding:16px}.question-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}.question-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.question-text[_ngcontent-%COMP%]{font-size:.9rem}}"],data:{animation:[yr("questionAnimation",[Ln("enter",ai({opacity:1})),Ln("leave",ai({opacity:0})),gn("enter => leave",[mn("200ms ease-in-out",ai({opacity:0}))]),gn("leave => enter",[ai({opacity:0}),mn("200ms ease-in-out",ai({opacity:1}))])])]}})}return e})(),HJ=(()=>{class e{constructor(){this.demos=[{name:"Clinical User Interface Demo",subtitle:"Clinical demo",type:"external",url:"http://snomed.org/ui",description:"A simulation of clinical data entry on an EHR using SNOMED FHIR Terminology services"},{name:"Allergies",subtitle:"Clinical demo",type:"internal",url:"/allergies",description:"A SNOMED / FHIR implementation demo of recording Allergy / Intollerance details, from Allergies Clinical Reference Group"},{name:"Terminology Bindings Sandbox",subtitle:"Learning demo",type:"internal",url:"/sandbox",description:"A sandbox for learning and testing terminology bindings"},{name:"SNOMED Maps Demonstrator",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/iid-icd-maps",description:"A SNOMED / ICD-10 maps demonstration, including complex map rules execution"},{name:"Post-coordination Demonstrator",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/iid-postcoordination",description:"A SNOMED post-coordination demonstration, with new prototype Postcoordination Terminology server SNOWSTORM X"},{name:"IPS Terminology Demonstrator",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/iid-ips/",description:"A demonstration of the International Patient Summary (IPS) terminology, including the IPS SNOMED CT refset"},{name:"SNOMED & FHIR Questionnaires Manager Application",subtitle:"Application",type:"internal",url:"/questionnaires",description:"An application to manage a FHIR Questionnaires repository, with SNOMED CT bindings"},{name:"SNOMED & FHIR Questionnaires Utilities",subtitle:"Utilities",type:"internal",url:"/questionnaires",queryParams:{utility:!0},description:"Utilities for working with FHIR Questionnaires, including SNOMED CT bindings"},{name:"Context Representation Transformations",subtitle:"Learning demo",type:"internal",url:"/context",description:"A demonstration of the transformation of context representations from SNOMED to FHIR Resources"},{name:"SNOMED and LLMs (AI Demo)",subtitle:"Learning demo",type:"external",url:"https://ihtsdo.github.io/openai-demo/",description:"This demo uses OpenAI ChatGPT API to demonstrate the use of SNOMED CT with Language Model Models (LLMs). A developer key for the OpenAI API is required."},{name:"Snoguess (A SNOMED game)",subtitle:"Game",type:"internal",url:"/snoguess",description:"A SNOMED term guessing game, learn about SNOMED content while having fun and competing to achieve the highest score"},{name:"SNOMED Implementation Roadmap Generator",subtitle:"Tool",type:"external",url:"https://ihtsdo.github.io/roadmap-generator",description:"A tool designed to promote and support the creation of implementation roadmaps for the adoption of SNOMED CT in countries, regions or organizations."}]}getDemos(){return this.demos}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function V8t(e,i){if(1&e){const t=ye();q(0,"div",8)(1,"mat-card",9)(2,"mat-card-header")(3,"mat-card-subtitle"),ut(4),et(),q(5,"mat-card-title"),ut(6),et()(),q(7,"mat-card-content")(8,"p"),ut(9),et()(),q(10,"mat-card-actions")(11,"button",10),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct().navigate(r))}),ut(12,"OPEN"),et()()()()}if(2&e){const t=i.$implicit;ot(4),qe(t.subtitle),ot(2),qe(t.name),ot(3),qe(t.description)}}let WJ=(()=>{class e{constructor(t,n,r){this.router=t,this.route=n,this.menuService=r,this.demos=[]}ngOnInit(){this.demos=this.menuService.getDemos()}navigate(t){if("internal"===t.type){let n=t.queryParams,r=this.route.snapshot.queryParams;n=n?{...r,...n}:r,this.router.navigate([t.url],{queryParams:n})}else this.openInNewTab(t.url)}openInNewTab(t){window.open(t,"_blank")}static#t=this.\u0275fac=function(n){return new(n||e)(mt(No),mt(Ic),mt(HJ))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-home"]],decls:17,vars:1,consts:[[1,"main-panel"],[1,"intro"],["href","https://github.com/IHTSDO/sct-implementation-demonstrator","target","_blank"],["href","https://confluence.ihtsdotools.org/display/CP/Clinical+Engagement","target","_blank"],[1,"demos-panel"],["class","demo-card-wrapper",4,"ngFor","ngForOf"],[1,"center-image"],["src","assets/img/SI_CT_Logo_Delivered_By.png","alt","SNOMED Logo",1,"transparent-image"],[1,"demo-card-wrapper"],[1,"demo-card"],["mat-button","","color","accent",3,"click"]],template:function(n,r){1&n&&(q(0,"div",0)(1,"h1"),ut(2,"SNOMED CT Implementation Demonstrators"),et(),q(3,"p",1),ut(4,"Welcome to our collection of SNOMED CT Implementation Demonstrators! This curated selection of demos showcases the diverse ways SNOMED CT can be implemented across different use cases. Each demonstration is "),q(5,"a",2),ut(6,"open source"),et(),ut(7,", free to explore, and easy to replicate, providing a hands-on learning experience for developers, implementers, and healthcare professionals."),et(),q(8,"p",1),ut(9,"These implementation demos have been created through the collaboration and expertise of the "),q(10,"a",3),ut(11,"global SNOMED CT community of clinical experts"),et(),ut(12,", reflecting best practices and innovative use cases. Whether you\u2019re just getting started with SNOMED CT or looking to deepen your understanding, you\u2019ll find valuable insights here. Explore, learn, and join us in advancing healthcare interoperability."),et(),q(13,"div",4),jt(14,V8t,13,3,"div",5),et(),q(15,"div",6),Te(16,"img",7),et()()),2&n&&(ot(14),xt("ngForOf",r.demos))},dependencies:[ws,Ma,xC,T7,w7,C7,_7,b7],styles:[".main-panel[_ngcontent-%COMP%]{padding:2rem;height:calc(100vh - 70px)}.intro[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem}.demos-panel[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;justify-content:center;margin-top:3rem}.demo-card-wrapper[_ngcontent-%COMP%]{width:300px}.demo-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%}mat-card-title[_ngcontent-%COMP%]{word-wrap:break-word;font-size:large;font-weight:700}mat-card-content[_ngcontent-%COMP%]{padding:1rem;margin-bottom:2rem}mat-card-actions[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0;padding-top:10px;margin-top:auto}.center-image[_ngcontent-%COMP%]{text-align:center;margin-top:4rem;margin-left:20%;margin-right:20%}.transparent-image[_ngcontent-%COMP%]{opacity:.5}"]})}return e})();function U8t(e,i){if(1&e){const t=ye();q(0,"app-autocomplete-binding",9),zt("selectionChange",function(r){Gt(t);const s=Ct().$implicit;return Ht(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function z8t(e,i){if(1&e){const t=ye();q(0,"app-dropdown-binding",9),zt("selectionChange",function(r){Gt(t);const s=Ct().$implicit;return Ht(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function G8t(e,i){if(1&e){const t=ye();q(0,"app-radios-binding",9),zt("selectionChange",function(r){Gt(t);const s=Ct().$implicit;return Ht(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function H8t(e,i){if(1&e&&(q(0,"span",10),ut(1),et()),2&e){const t=Ct().$implicit;ot(),qe(t.title)}}function W8t(e,i){if(1&e){const t=ye();q(0,"app-textbox-binding",11),zt("textChange",function(r){Gt(t);const s=Ct().$implicit;return Ht(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function j8t(e,i){if(1&e){const t=ye();q(0,"app-integer-binding",11),zt("textChange",function(r){Gt(t);const s=Ct().$implicit;return Ht(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function X8t(e,i){if(1&e){const t=ye();q(0,"app-decimal-binding",11),zt("textChange",function(r){Gt(t);const s=Ct().$implicit;return Ht(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function Y8t(e,i){if(1&e){const t=ye();q(0,"app-checkbox-binding",9),zt("selectionChange",function(r){Gt(t);const s=Ct().$implicit;return Ht(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function $8t(e,i){if(1&e){const t=ye();q(0,"app-checkbox-multiple-binding",9),zt("selectionChange",function(r){Gt(t);const s=Ct().$implicit;return Ht(Ct().optionSelected(s.title,s.code,r))}),et()}2&e&&xt("binding",Ct().$implicit)}function Q8t(e,i){if(1&e&&(q(0,"button",12)(1,"mat-icon"),ut(2,"info"),et()()),2&e){const t=Ct().$implicit;xt("matMenuTriggerFor",en(13))("disabled",!t.code&&!t.ecl)}}function K8t(e,i){if(1&e){const t=ye();q(0,"span",13),zt("click",function(r){return Gt(t),Ht(r.stopPropagation())}),q(1,"h4"),ut(2,"Question terminology binding"),et(),q(3,"pre"),ut(4),et()()}if(2&e){const t=Ct().$implicit;xt("disableRipple",!0),ot(4),qo("",null==t.code?null:t.code.code," |",null==t.code?null:t.code.display,"|")}}function Z8t(e,i){if(1&e){const t=ye();q(0,"span",13),zt("click",function(r){return Gt(t),Ht(r.stopPropagation())}),q(1,"h4"),ut(2,"Answer terminology binding"),et(),q(3,"pre"),ut(4),et()()}if(2&e){const t=Ct().$implicit;xt("disableRipple",!0),ot(4),qe(t.ecl)}}function J8t(e,i){if(1&e&&(q(0,"div",2)(1,"div",3),jt(2,U8t,1,1,"app-autocomplete-binding",4)(3,z8t,1,1,"app-dropdown-binding",4)(4,G8t,1,1,"app-radios-binding",4)(5,H8t,2,1,"span",5)(6,W8t,1,1,"app-textbox-binding",6)(7,j8t,1,1,"app-integer-binding",6)(8,X8t,1,1,"app-decimal-binding",6)(9,Y8t,1,1,"app-checkbox-binding",4)(10,$8t,1,1,"app-checkbox-multiple-binding",4)(11,Q8t,3,2,"button",7),q(12,"mat-menu",null,0),jt(14,K8t,5,3,"span",8)(15,Z8t,5,2,"span",8),et()()()),2&e){const t=i.$implicit;ot(2),xt("ngIf","Autocomplete"==t.type),ot(),xt("ngIf","Select (Single)"==t.type||"Select (Multiple)"==t.type),ot(),xt("ngIf","Options"==t.type),ot(),xt("ngIf","Section header"==t.type),ot(),xt("ngIf","Text box"==t.type),ot(),xt("ngIf","Integer"==t.type),ot(),xt("ngIf","Decimal"==t.type),ot(),xt("ngIf","Checkbox"==t.type),ot(),xt("ngIf","Checkbox multiple"==t.type),ot(),xt("ngIf","Section header"!=t.type),ot(3),xt("ngIf",t.code),ot(),xt("ngIf",t.ecl)}}let q8t=(()=>{class e{constructor(){this.output={},this.outputStr="{}",this.response={},this.responseStr="{}",this.responseBundle={},this.responseBundleStr="{}"}optionSelected(t,n,r){this.output[t]={code:n,value:r},n||delete this.output[t].code,this.outputStr=JSON.stringify(this.output,null,2),this.refreshResponse()}refreshResponse(){this.response={};for(let t of this.spec.bindings)this.response[t.title]={},t.code&&(this.response[t.title].code=t.code);for(let[t,n]of Object.entries(this.output))this.output[t].code&&(this.response[t].code=this.output[t].code),this.output[t].value&&(this.response[t].value=this.output[t].value);this.responseStr=JSON.stringify(this.response,null,2),this.refreshResponseBundle()}refreshResponseBundle(){this.responseBundle={resourceType:"Bundle",type:"collection",entry:[]};for(let[t,n]of Object.entries(this.response)){let r=n;const s=r.code?{coding:[{system:"http://snomed.info/sct",code:r.code.code,display:r.code.display}]}:void 0,o=r.value?.code?{coding:[{system:"http://snomed.info/sct",code:r.value.code,display:r.value.display}]}:void 0;let l={resourceType:"Observation",status:"final",category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"survey",display:"Survey"}]}],subject:{reference:"Patient/123"}};l.code=s||{coding:[{system:"http://snomed.info/sct",code:"363788007",display:"Clinical history/examination observable (observable entity)"}]},o&&(l.valueCodeableConcept=o),r.value&&"string"==typeof r.value&&(l.valueString=r.value),(l.valueCodeableConcept||l.valueString)&&this.responseBundle.entry.push(l)}this.responseBundleStr=JSON.stringify(this.responseBundle,null,2)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-bindings-viewer"]],inputs:{spec:"spec"},decls:3,vars:2,consts:[["substancePopoverMenu","matMenu"],["class","output-panel",4,"ngFor","ngForOf"],[1,"output-panel"],[1,"row","control"],["class","grow",3,"binding","selectionChange",4,"ngIf"],["class","title grow",4,"ngIf"],["class","grow",3,"binding","textChange",4,"ngIf"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled",4,"ngIf"],["mat-menu-item","",3,"disableRipple","click",4,"ngIf"],[1,"grow",3,"selectionChange","binding"],[1,"title","grow"],[1,"grow",3,"textChange","binding"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor","disabled"],["mat-menu-item","",3,"click","disableRipple"]],template:function(n,r){1&n&&(q(0,"h2"),ut(1),et(),jt(2,J8t,16,12,"div",1)),2&n&&(ot(),qe(r.spec.title),ot(),xt("ngForOf",r.spec.bindings))},dependencies:[ws,Fs,Bo,ma,El,Jl,uu,av,Yj,Zj,Jj,eX,iX,nX,rX],styles:["#main-panel[_ngcontent-%COMP%]{padding:10px}h3[_ngcontent-%COMP%]{margin-top:0}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-5px;align-items:center;gap:10px}.grow[_ngcontent-%COMP%]{flex-grow:4}mat-hint[_ngcontent-%COMP%], mat-error[_ngcontent-%COMP%]{font-size:12px}.editPanel[_ngcontent-%COMP%]{border:1px solid #cccccc00;border-radius:5px;background-color:#a0c8e5}.control[_ngcontent-%COMP%]{margin-bottom:30px}.output-panel[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]   .tool[_ngcontent-%COMP%]{opacity:0;transition:opacity .5s}.row[_ngcontent-%COMP%]:hover   .tool[_ngcontent-%COMP%]{opacity:1}.drag-handle[_ngcontent-%COMP%]{cursor:move;color:#616161}.title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px;margin-left:2rem}.action-button[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:20px}.action-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}.row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.compact-row-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:1rem}.row-container-item[_ngcontent-%COMP%]{width:100%;padding:10px}.output[_ngcontent-%COMP%]{border-radius:10px;background-color:#282c34;padding:10px;position:relative;margin:2rem}#save[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#e88c15}.top-right-link[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;font-size:smaller}.form-title[_ngcontent-%COMP%]{margin-left:1rem}.mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:0!important}.bottom-right-link[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:0;font-size:smaller}.form-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-10px;margin-left:-10px;width:100%}.form-column[_ngcontent-%COMP%]{flex:1 1 0px;padding-right:10px;padding-left:10px;display:flex;flex-direction:column;width:100%}.input-field.full-width[_ngcontent-%COMP%]{width:calc(100% - 20px);margin-bottom:20px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}"]})}return e})();function t6t(e,i){if(1&e&&(q(0,"mat-tab",7)(1,"div",8),Te(2,"app-bindings-viewer",9),et()()),2&e){const t=i.$implicit;mh("label",t.spec.title),ot(2),xt("spec",t.spec)}}let e6t=(()=>{class e{constructor(t){this.http=t,this.emptySpec={},this.specs=[{specFile:"Example-spec.json",spec:this.emptySpec},{specFile:"Example-spec-2.json",spec:this.emptySpec}]}ngOnInit(){var t=this;this.specs.forEach(function(){var n=Mt(function*(r){const s=yield Da(t.http.get("assets/specs/ncpt/"+r.specFile));console.log(s),r.spec=s});return function(r){return n.apply(this,arguments)}}())}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ql))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-ncpt"]],decls:20,vars:3,consts:[["substancePopoverMenu","matMenu"],[1,"outer-container"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",1,"long-tooltip",3,"click","disableRipple"],["href","https://confluence.ihtsdotools.org/display/WIPnutsig/SNOMED+CT+Implementation+Guide+for+the+Nutrition+Care+Process+Terminology","target","_blank"],["mat-stretch-tabs","false","mat-align-tabs","start"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[1,"container"],[3,"spec"]],template:function(n,r){if(1&n){const s=ye();q(0,"div",1)(1,"h3"),ut(2,"SNOMED CT - NCPT Implementation Demonstrator "),q(3,"button",2)(4,"mat-icon"),ut(5,"info"),et()(),q(6,"mat-menu",null,0)(8,"span",3),zt("click",function(l){return Gt(s),Ht(l.stopPropagation())}),q(9,"h4"),ut(10,"SNOMED CT - NCPT Implementation Demonstrator"),et(),q(11,"p"),ut(12,"This is a demonstration of the use of SNOMED CT for coding clinical information related to the Nutrition Care Process."),et(),q(13,"p"),ut(14,"For more information check the "),q(15,"a",4),ut(16," Implementation Guide"),et(),ut(17,"."),et()()()(),q(18,"mat-tab-group",5),jt(19,t6t,3,2,"mat-tab",6),et()()}if(2&n){const s=en(7);ot(3),xt("matMenuTriggerFor",s),ot(5),xt("disableRipple",!0),ot(11),xt("ngForOf",r.specs)}},dependencies:[ws,Bo,ma,El,Jl,uu,zy,ov,q8t],styles:[".outer-container[_ngcontent-%COMP%]{margin:1rem;width:calc(100% - 2rem)}.container[_ngcontent-%COMP%]{margin:2rem;width:calc(100% - 4rem)}"]})}return e})();var i6t=It(3945),nc=It.n(i6t);const n6t=["gameContainer"];let r6t=(()=>{class e{constructor(t){this.terminologyService=t}ngOnInit(){const t=new s6t,n=new a6t(this.terminologyService),r={type:nc().AUTO,width:800,height:600,parent:this.gameContainer.nativeElement,scene:[n,t],physics:{default:"arcade",arcade:{debug:!1}}};this.game=new(nc().Game)(r)}ngOnDestroy(){this.game&&this.game.destroy(!0)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(fa))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-phaser-game"]],viewQuery:function(n,r){if(1&n&&Pi(n6t,7),2&n){let s;Ge(s=He())&&(r.gameContainer=s.first)}},decls:2,vars:0,consts:[["gameContainer",""]],template:function(n,r){1&n&&Te(0,"div",null,0)}})}return e})();class s6t extends nc().Scene{constructor(){super({key:"UIScene",active:!0}),this.gamePaused=!1,this.speedButtons=[],this.speedLevels=[1,2,4,16],this.activeSpeedIndex=0}preload(){this.load.image("pauseButton","assets/cdstd/Objects/Buttons/button_pause.png"),this.load.image("unpauseButton","assets/cdstd/Objects/Buttons/button_unpause.png")}create(){this.pauseButton=this.add.image(75,50,"pauseButton").setInteractive(),this.pauseButton.on("pointerdown",()=>{const i=this.scene.get("CdstdScene");this.gamePaused?i&&(i.scene.resume(),this.gamePaused=!1,this.pauseButton.setTexture("pauseButton")):i&&(i.scene.pause(),this.gamePaused=!0,this.pauseButton.setTexture("unpauseButton"))}),this.speedLevels.forEach((i,t)=>{const n=this.add.text(150+60*t,35,`${i}x`,{fontSize:"18px",color:t===this.activeSpeedIndex?"#ff0":"#fff",backgroundColor:"#000",padding:{x:10,y:5}}).setInteractive().on("pointerdown",()=>{this.setSpeed(t)});this.speedButtons.push(n)})}setSpeed(i){this.activeSpeedIndex=i,this.speedButtons.forEach((n,r)=>{n.setStyle({color:r===this.activeSpeedIndex?"#ff0":"#fff"})});const t=this.scene.get("CdstdScene");t&&(t.time.timeScale=this.speedLevels[this.activeSpeedIndex],t.setSpeedMultiplier(this.speedLevels[this.activeSpeedIndex]))}}class a6t extends nc().Scene{constructor(i){super({key:"CdstdScene"}),this.terminologyService=i,this.maxPatients=10,this.spawnedPatients=0,this.patientsInQueue=0,this.outsideQueue=[],this.insideQueue=[],this.goodTriage=0,this.badTriage=0,this.diagnosisData=[],this.admitting=!1,this.lastTriageTime=0,this.speedMultiplier=1,this.admissionEcl="( << 386661006 |Fever| OR << 22253000 |Pain (finding)| )",this.internalTriageRules=[{ecl:"<< 386661006",doctorIndex:1},{ecl:"<< 22253000",doctorIndex:0}],this.attendingDoctors=[{x:130,y:207,title:"Cardiologist",ecl:"(<< 106063007 |Cardiovascular finding (finding)| OR << 29857009 |Chest pain (finding)|)"},{x:130,y:140,title:"Infectologist",ecl:"<< 386661006 |Fever (finding)|"}],this.characterAnimations=[{name:"patient",variants:[{id:1,animations:{idle:{start:0,end:5,frameRate:6,repeat:-1},walk:{start:0,end:9,frameRate:10,repeat:-1},dead:{start:0,end:3,frameRate:4,repeat:0},hurt:{start:0,end:2,frameRate:3,repeat:0}}},{id:2,animations:{idle:{start:0,end:5,frameRate:6,repeat:-1},walk:{start:0,end:9,frameRate:10,repeat:-1},dead:{start:0,end:3,frameRate:4,repeat:0},hurt:{start:0,end:2,frameRate:3,repeat:0}}},{id:3,animations:{idle:{start:0,end:4,frameRate:6,repeat:-1},walk:{start:0,end:9,frameRate:9,repeat:-1},dead:{start:0,end:4,frameRate:5,repeat:0},hurt:{start:0,end:2,frameRate:3,repeat:0}}}]},{name:"gatekeeper",variants:[{id:2,animations:{idle:{start:0,end:5,frameRate:6,repeat:-1},walk:{start:0,end:9,frameRate:10,repeat:-1},dead:{start:0,end:4,frameRate:5,repeat:0},hurt:{start:0,end:2,frameRate:3,repeat:0}}}]}],this.terminologyService.setSnowstormFhirBase("https://snowstorm-lite.nw.r.appspot.com/fhir")}setSpeedMultiplier(i){this.speedMultiplier=i}getSelectedSpeed(){return this.speedMultiplier}preload(){this.load.json("diagnosisData","assets/cdstd/Data/dx_1.json"),this.load.image("hospitalFloor","assets/cdstd/Backgrounds/hospital-floor-day.png");const i=["idle","walk","dead","hurt"];for(let t=1;t<=3;t++)i.forEach(n=>{this.load.spritesheet(`patient_${n}_${t}`,`assets/cdstd/Characters/City_men_${t}/${n.charAt(0).toUpperCase()+n.slice(1)}.png`,{frameWidth:128,frameHeight:128})});for(let t=2;t<=2;t++)i.forEach(n=>{this.load.spritesheet(`gatekeeper_${n}_${t}`,`assets/cdstd/Characters/Gangsters_${t}/${n.charAt(0).toUpperCase()+n.slice(1)}.png`,{frameWidth:128,frameHeight:128})})}create(){this.diagnosisData=this.cache.json.get("diagnosisData"),this.defineAnimations(),this.background=this.add.image(400,300,"hospitalFloor"),this.background.setScale(1),this.scoreText=this.add.text(750,10,`Patients: ${this.spawnedPatients}`,{fontSize:"20px",color:"#ffffff",fontStyle:"bold"}).setOrigin(1,0),this.input.enabled=!0,this.outsideQueue=[],this.goodTriage=0,this.spawnedPatients=0,this.patients=this.physics.add.group(),this.spawnPatient(),this.scheduleRandomPatientSpawn(),this.addDoctors()}update(){this.patients.getChildren().forEach(t=>{const n=t;if(!n.active)return;const r=n.x,s=n.previousX;r<s?n.flipX=!0:r>s&&(n.flipX=!1),n.previousX=r}),this.scoreText.setText(`Patients: ${this.spawnedPatients} Effectiveness: ${(this.spawnedPatients-this.badTriage)/this.spawnedPatients*100}%`),this.admitting&&this.testNextPatientForAdmission();const i=Date.now();this.insideQueue.length>0&&this.attendingDoctors.every(t=>!t.character.info.busy)&&i-this.lastTriageTime>=2e3&&(this.lastTriageTime=Date.now(),this.time.delayedCall(1e3,()=>{this.internalTriage()}))}defineAnimations(){this.characterAnimations.forEach(({name:i,variants:t})=>{t.forEach(({id:n,animations:r})=>{Object.entries(r).forEach(([s,{start:o,end:l,frameRate:w,repeat:S}])=>{const M=`${i}_${s}_${n}`;this.anims.exists(M)||this.anims.create({key:M,frames:this.anims.generateFrameNumbers(`${i}_${s}_${n}`,{start:o,end:l}),frameRate:w,repeat:S})})})})}scheduleRandomPatientSpawn(){if(this.spawnedPatients<this.maxPatients){const i=nc().Math.Between(2,5);this.time.addEvent({delay:i,callback:()=>{this.spawnPatient(),this.scheduleRandomPatientSpawn()},callbackScope:this})}}addDoctors(){this.internalTriageDoctor=new FE(this,270,350,"gatekeeper",2),this.internalTriageDoctor.flipX=!1,this.internalTriageDoctor.idle(),this.attendingDoctors.forEach(i=>{const t=new FE(this,i.x,i.y,"gatekeeper",2);t.info.ecl=i.ecl,t.info.title=i.title,t.info.busy=!1,t.idle(),i.character=t})}spawnPatient(){const i=new FE(this,80,10,"patient",nc().Math.Between(1,3));this.outsideQueue.push(i),i.queuePosition=this.outsideQueue.length,i.setScale(.5),this.walkTo(i,[{x:80,y:533,duration:500},{x:330+20*i.queuePosition,y:533,duration:500}],()=>{this.patientsInQueue++,this.time.delayedCall(100,()=>{i.flipX=!0}),this.patientsInQueue===this.maxPatients&&this.queueComplete()}),i.setActive(!0).setVisible(!0),this.patients.add(i),this.spawnedPatients++}queueComplete(){this.gatekeeper=new FE(this,315,190,"gatekeeper",2),this.gatekeeper.setScale(.5),this.walkTo(this.gatekeeper,[{x:315,y:350,duration:200},{x:240,y:350,duration:200},{x:240,y:533,duration:200},{x:310,y:533,duration:200}],()=>{this.gatekeeper.say("We will start soon",1e3),this.time.delayedCall(1e3,()=>{this.admitting=!0})})}patientDied(i){}testNextPatientForAdmission(){if(0===this.outsideQueue.length)return;const i=this.outsideQueue.shift();i&&(this.admitting=!1,this.gatekeeper.say("How do you feel?",1500),this.time.delayedCall(1500,()=>{let t="I have been feeling with:\n";t+=i.clinicalData.diagnosis.map(n=>n.display).join("\n"),i.say(t,1800),this.time.delayedCall(2e3,()=>{this.checkPatientDiagnosisVsEcl(i,this.admissionEcl).then(n=>{n.length>0?(this.gatekeeper.say("Go in...",1500),i.clinicalData.diagnosis.forEach(r=>{n.find(s=>s.code===r.code)&&(r.status="admitted")}),this.time.delayedCall(1500,()=>{this.enterHospital(i),this.advanceQueue(this.outsideQueue),this.time.delayedCall(1e3,()=>{this.admitting=!0})})):(this.gatekeeper.say("Go home...",1500),this.time.delayedCall(500,()=>{this.walkAway(i),this.advanceQueue(this.outsideQueue),this.time.delayedCall(1e3,()=>{this.admitting=!0})}))})})}))}enterHospital(i){this.insideQueue.push(i),i.queuePosition=this.insideQueue.length,i.walk(),this.walkTo(i,[{x:240,y:i.y,duration:500},{x:240,y:350,duration:500},{x:280+20*i.queuePosition,y:350,duration:500}],()=>{this.time.delayedCall(100,()=>{i.flipX=!0})})}walkAway(i){i.flipX=!1,i.walk();let t=[];i.y<500&&(t.push({x:240,y:i.y,duration:500}),t.push({x:240,y:533,duration:500}));let n=nc().Math.Between(0,1);t.push({x:800*n,y:533,duration:1e3}),this.walkTo(i,t,()=>{this.time.delayedCall(100,()=>{i.destroy()})})}advanceQueue(i){if(0===i.length)return;console.log(i);const t=i[0].x-40;i.forEach((n,r)=>{n.walk(),n.queuePosition=r+1,this.walkTo(n,[{x:t+20*n.queuePosition,y:n.y,duration:500}],()=>{})})}internalTriage(){var i=this;return Mt(function*(){if(0===i.insideQueue.length)return;const t=i.insideQueue.shift();if(t){for(let n of i.internalTriageRules){const r=i.attendingDoctors[n.doctorIndex].character;if(!r.info.busy&&(yield i.checkPatientDiagnosisVsEcl(t,n.ecl)).length>0){console.log(`${r.info.title} is available and will attend to the patient.`),i.internalTriageDoctor.say(`Go to the ${r?.info?.title}`,1e3),i.time.delayedCall(1e3,()=>{t.flipX=!0;const o=[{x:240,y:t.y,duration:200},{x:240,y:r.y,duration:300},{x:r.x+30,y:r.y,duration:300}];r.info.busy=!0,i.walkTo(t,o,()=>{t.idle(),i.attendPatient(t,r)})});break}}t.active||i.addToInsideQueue(t)}})()}addToInsideQueue(i){this.insideQueue.push(i),i.queuePosition=this.insideQueue.length,this.walkTo(i,[{x:280+20*i.queuePosition,y:350,duration:500/this.speedMultiplier}],()=>{i.idle()}),console.log(`Patient re-added to insideQueue at position ${i.queuePosition}`)}attendPatient(i,t){t.info.busy=!0,this.time.delayedCall(1e3,()=>{this.checkPatientDiagnosisVsEcl(i,t.info.ecl).then(n=>{n.length>0?(i.clinicalData.diagnosis.forEach(r=>{n.find(s=>s.code===r.code)&&(r.status="treated")}),i.clinicalData.diagnosis.find(r=>"admitted"===r.status)?(t.say(`${t.info.title}\nGo to the next doctor`,1e3),this.time.delayedCall(1e3,()=>{this.enterHospital(i),t.info.busy=!1})):(t.say(`${t.info.title}\nHave a nice day`,1e3),this.time.delayedCall(1e3,()=>{this.goodTriage++,this.walkAway(i),t.info.busy=!1}))):i.clinicalData.diagnosis.find(r=>"admitted"===r.status)?(t.say(`${t.info.title}\nI can't help with this, but go to the next doctor`,1e3),this.time.delayedCall(1e3,()=>{this.enterHospital(i),t.info.busy=!1})):(t.say(`${t.info.title}\nI can't help you...`,1e3),this.time.delayedCall(1e3,()=>{this.badTriage++,this.walkAway(i),t.info.busy=!1}))})})}gameOver(){this.add.text(400,350,"Game Over",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.add.text(400,400,"Press R to Restart",{fontSize:"24px",color:"#ffffff"}).setOrigin(.5),this.physics.pause();const i=this.input?.keyboard?.addKey("R");i?i.once("down",()=>{this.time.removeAllEvents(),this.tweens.killAll(),this.scene.restart()}):console.error("Keyboard input is not available.")}walkTo(i,t,n){if(0===t.length)return void n();i.walk();const r=s=>{if(s>=t.length)return i.idle(),void n();const o=t[s];this.tweens.add({targets:i,x:o.x,y:o.y,duration:o.duration/this.speedMultiplier,ease:"Linear",onComplete:()=>{r(s+1)}})};r(0)}checkPatientDiagnosisVsEcl(i,t){return new Promise((n,r)=>{let s=0,o="";i?.clinicalData.diagnosis.forEach((l,w)=>{"treated"!==l.status&&(s++,o+=s>1?` OR ${l.code}`:` ${l.code}`)}),0!==s?this.terminologyService.expandValueSet(t=t+" AND ("+o+" )","").subscribe(l=>{n(l.expansion?.total>0?l.expansion.contains:[])},l=>{r(l)}):n([])})}}class FE extends nc().Physics.Arcade.Sprite{constructor(i,t,n,r,s=1,o=[]){if(super(i,t,n,`${r}_idle_${s}`),this.inQueue=!1,this.queuePosition=0,this.queueStartTime=0,this.hitPoints=5,this.previousX=0,this.clinicalData={},this.info={},i.add.existing(this),i.physics.add.existing(this),this.setCollideWorldBounds(!0),this.sceneRef=i,this.spriteType=s,this.role=r,i.add.existing(this),this.setScale(.5),"patient"===r)if(this.walk(),this.clinicalData.age=nc().Math.Between(18,100),this.clinicalData.diagnosis=[],o&&o.length>0)this.clinicalData.diagnosis=o;else{const l=nc().Math.Between(1,5);for(let w=0;w<l;w++){const S=nc().Utils.Array.GetRandom(i.diagnosisData);S.status="none",this.clinicalData.diagnosis.includes(S)||this.clinicalData.diagnosis.push(S)}}else this.idle()}walk(){this.anims.play(`${this.role}_walk_${this.spriteType}`)}idle(){this.anims.play(`${this.role}_idle_${this.spriteType}`)}dead(){this.anims.play(`patient_dead_${this.spriteType}`),this.sceneRef.patientDied(this)}hurt(){this.anims.play(`patient_hurt_${this.spriteType}`),this.hitPoints--;const i=this.scene.add.text(this.x,this.y-10,"-1",{fontSize:"20px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5);this.scene.tweens.add({targets:i,y:this.y-100,alpha:0,duration:3500/this.sceneRef.getSelectedSpeed(),ease:"Power2",onComplete:()=>i.destroy()}),this.once(nc().Animations.Events.ANIMATION_COMPLETE,()=>{this.hitPoints>0?this.idle():this.dead()})}startWaiting(){"patient"===this.role&&(this.inQueue=!0,this.queueStartTime=this.scene.time.now)}say(i,t=2e3){this.calloutText&&this.calloutText.destroy(),this.calloutLine&&this.calloutLine.destroy(),this.calloutText=this.sceneRef.add.text(this.x,this.y-50,i,{fontSize:"16px",color:"#ffffff",backgroundColor:"#000000",padding:{x:5,y:2},align:"center"}).setOrigin(.5).setDepth(10),this.calloutLine=this.sceneRef.add.line(this.x+5,this.y+10,0,0,10,-35,0).setLineWidth(1.5).setDepth(9),this.sceneRef.tweens.add({targets:[this.calloutText,this.calloutLine],alpha:0,duration:500/this.sceneRef.getSelectedSpeed(),delay:t,onComplete:()=>{this.calloutText?.destroy(),this.calloutText=void 0,this.calloutLine?.destroy()}})}}let jJ=(()=>{class e{constructor(t,n,r){this.http=t,this.renderer=n,this.elementRef=r}ngOnInit(){this.http.get("assets/reports/fsn_changes_with_details.html",{responseType:"text"}).subscribe(t=>{const n=this.elementRef.nativeElement.querySelector("#chart-container");n.innerHTML=t,n.querySelectorAll("script").forEach(s=>{const o=this.renderer.createElement("script");o.type=s.type||"text/javascript",s.src?o.src=s.src:o.text=s.textContent||"",this.renderer.appendChild(n,o)})})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ql),mt(_c),mt(oi))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-fsn-changes"]],decls:1,vars:0,consts:[["id","chart-container"]],template:function(n,r){1&n&&Te(0,"div",0)},styles:["#chart-container[_ngcontent-%COMP%]{padding:10px}"]})}return e})();const o6t=[{path:"",component:WJ},{path:"home",component:WJ},{path:"allergies",component:$Et},{path:"sandbox",component:Q2t},{path:"prescription",component:K2t},{path:"questionnaires",component:bIt},{path:"implementation-course/subset-validator",component:XIt},{path:"snoguess",component:qLt},{path:"snoguess/scoreboard",component:HNt},{path:"context",component:mNt},{path:"maturity",component:B8t},{path:"ncpt",component:e6t},{path:"phaser",component:r6t},{path:"fsn",component:jJ},{path:"reports/fsn",component:jJ},{path:"reports/inactivations",component:(()=>{class e{constructor(t,n,r){this.http=t,this.renderer=n,this.elementRef=r}ngOnInit(){this.http.get("assets/reports/detect_inactivations_by_reason.html",{responseType:"text"}).subscribe(t=>{const n=this.elementRef.nativeElement.querySelector("#chart-container");n.innerHTML=t,n.querySelectorAll("script").forEach(s=>{const o=this.renderer.createElement("script");o.type=s.type||"text/javascript",s.src?o.src=s.src:o.text=s.textContent||"",this.renderer.appendChild(n,o)})})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ql),mt(_c),mt(oi))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-inactivations-report"]],decls:1,vars:0,consts:[["id","chart-container"]],template:function(n,r){1&n&&Te(0,"div",0)},styles:["#chart-container[_ngcontent-%COMP%]{padding:10px}"]})}return e})()},{path:"**",redirectTo:""}];let l6t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[EG.forRoot(o6t,{useHash:!0}),EG]})}return e})();const c6t=[{title:"GROUP 1",description:"The first group of bindings in the coding demonstration",bindings:[{title:"Medicinal product + groupers",type:"autocomplete",ecl:"<< 763158003 |Medicinal product| :\n                        [0..0] 1142139005 |Count of base of active ingredient| = *,\n                        [0..0] 411116001 |Has manufactured dose form| = *,\n                        [0..0] 774158006 |Has product name| = *",value:"",note:"Medicinal products, contain at least provided ingredientes (open world assuption), no information on form."},{title:"Gender",type:"dropdown",ecl:"< 365873007 |Gender finding (finding)|",value:"",note:"Patient gender."},{title:"Medicinal product form + groupers",type:"autocomplete",ecl:"<< 763158003 |Medicinal product| :\n                    [0..0] 1142139005 |Count of base of active ingredient| = *,\n                    411116001 |Has manufactured dose form| = *,\n                    [0..0] 774158006 |Has product name| = *",value:"",note:"Medicinal products, with form details."}]},{title:"GROUP 2",description:"The second group of bindings in the coding demonstration",bindings:[{title:"Medicinal product only",type:"autocomplete",ecl:"<< 763158003 |Medicinal product| :\n                    1142139005 |Count of base of active ingredient| = *,\n                    [0..0] 411116001 |Has manufactured dose form| = *,\n                    [0..0] 774158006 |Has product name| = *",value:"",note:"Medicinal products, containing only the provided ingredientes (close world assuption), with no information on form."},{title:"Medicinal product form only",type:"autocomplete",ecl:"<< 763158003 |Medicinal product| :\n                    1142139005 |Count of base of active ingredient| = *,\n                    411116001 |Has manufactured dose form| = *,\n                    [0..0] 732943007 |Has basis of strength substance (attribute)| = *,\n                    [0..0] 774158006 |Has product name| = *",value:"",note:"Medicinal products, with form details, containing only the provided ingredientes (close world assuption)."}]}];let d6t=(()=>{class e{constructor(){}getCodingSpec(){return c6t}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Cn,o1={version:"0.20.2"},ya=1200,jm=1252,u6t=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],OL={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},OE=function(e){-1!=u6t.indexOf(e)&&(jm=OL[0]=e)},rc=function(e){ya=e,OE(e)};var l1=function(i){return String.fromCharCode(i)},LL=function(i){return String.fromCharCode(i)},Gs=null,go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function BE(e){for(var i="",t=0,n=0,r=0,s=0,o=0,l=0,w=0,S=0;S<e.length;)s=(t=e.charCodeAt(S++))>>2,o=(3&t)<<4|(n=e.charCodeAt(S++))>>4,l=(15&n)<<2|(r=e.charCodeAt(S++))>>6,w=63&r,isNaN(n)?l=w=64:isNaN(r)&&(w=64),i+=go.charAt(s)+go.charAt(o)+go.charAt(l)+go.charAt(w);return i}function Fl(e){var i="",s=0,o=0,l=0,w=0;"data:"==e.slice(0,5)&&(S=e.slice(0,1024).indexOf(";base64,"))>-1&&(e=e.slice(S+8)),e=e.replace(/[^\w\+\/\=]/g,"");for(var S=0;S<e.length;)s=go.indexOf(e.charAt(S++)),o=go.indexOf(e.charAt(S++)),i+=String.fromCharCode(s<<2|o>>4),64!==(l=go.indexOf(e.charAt(S++)))&&(i+=String.fromCharCode((15&o)<<4|l>>2)),64!==(w=go.indexOf(e.charAt(S++)))&&(i+=String.fromCharCode((3&l)<<6|w));return i}var Mn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ed=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(i,t){return t?new Buffer(i,t):new Buffer(i)}:Buffer.from.bind(Buffer)}return function(){}}(),c1=function(){if(typeof Buffer>"u")return!1;var e=Ed([65,0]);return!!e&&1==e.toString("utf16le").length}();function hf(e){return Mn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function QJ(e){return Mn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Go=function(i){return Mn?Ed(i,"binary"):i.split("").map(function(t){return 255&t.charCodeAt(0)})};function d1(e){if(typeof ArrayBuffer>"u")return Go(e);for(var i=new ArrayBuffer(e.length),t=new Uint8Array(i),n=0;n!=e.length;++n)t[n]=255&e.charCodeAt(n);return i}function Ad(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var i=[],t=0;t<e.length;++t)i[t]=String.fromCharCode(e[t]);return i.join("")}var Hs=Mn?function(e){return Buffer.concat(e.map(function(i){return Buffer.isBuffer(i)?i:Ed(i)}))}:function(e){if(typeof Uint8Array<"u"){var i=0,t=0;for(i=0;i<e.length;++i)t+=e[i].length;var n=new Uint8Array(t),r=0;for(i=0,t=0;i<e.length;t+=r,++i)r=e[i].length,e[i]instanceof Uint8Array?n.set(e[i],t):n.set("string"==typeof e[i]?new Uint8Array(Go(e[i])):new Uint8Array(e[i]),t);return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))},vo=/\u0000/g,u1=/[\u0001-\u0006]/g;function c0(e){for(var i="",t=e.length-1;t>=0;)i+=e.charAt(t--);return i}function Oc(e,i){var t=""+e;return t.length>=i?t:Kn("0",i-t.length)+t}function BL(e,i){var t=""+e;return t.length>=i?t:Kn(" ",i-t.length)+t}function VE(e,i){var t=""+e;return t.length>=i?t:t+Kn(" ",i-t.length)}var KJ=Math.pow(2,32);function d0(e,i){return e>KJ||e<-KJ?function y6t(e,i){var t=""+Math.round(e);return t.length>=i?t:Kn("0",i-t.length)+t}(e,i):function b6t(e,i){var t=""+e;return t.length>=i?t:Kn("0",i-t.length)+t}(Math.round(e),i)}function UE(e,i){return e.length>=7+(i=i||0)&&103==(32|e.charCodeAt(i))&&101==(32|e.charCodeAt(i+1))&&110==(32|e.charCodeAt(i+2))&&101==(32|e.charCodeAt(i+3))&&114==(32|e.charCodeAt(i+4))&&97==(32|e.charCodeAt(i+5))&&108==(32|e.charCodeAt(i+6))}var ZJ=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],VL=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],Li={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},JJ={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},_6t={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function zE(e,i,t){for(var n=e<0?-1:1,r=e*n,s=0,o=1,l=0,w=1,S=0,M=0,P=Math.floor(r);S<i&&(l=(P=Math.floor(r))*o+s,M=P*S+w,!(r-P<5e-8));)r=1/(r-P),s=o,o=l,w=S,S=M;if(M>i&&(S>i?(M=w,l=s):(M=S,l=o)),!t)return[0,n*l,M];var O=Math.floor(n*l/M);return[O,n*l-O*M,M]}function Dd(e,i,t){if(e>2958465||e<0)return null;e=function T6t(e){var i=e.toPrecision(16);if(i.indexOf("e")>-1){var t=i.slice(0,i.indexOf("e"));return(t=t.indexOf(".")>-1?t.slice(0,"0."==t.slice(0,2)?17:16):t.slice(0,15)+Kn("0",t.length-15))+i.slice(i.indexOf("e"))}var n=i.indexOf(".")>-1?i.slice(0,"0."==i.slice(0,2)?17:16):i.slice(0,15)+Kn("0",i.length-15);return Number(n)}(e);var n=0|e,r=Math.floor(86400*(e-n)),s=0,o=[],l={D:n,T:r,u:86400*(e-n)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),i&&i.date1904&&(n+=1462),l.u>.9999&&(l.u=0,86400==++r&&(l.T=r=0,++n,++l.D)),60===n)o=t?[1317,10,29]:[1900,2,29],s=3;else if(0===n)o=t?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var w=new Date(1900,0,1);w.setDate(w.getDate()+n-1),o=[w.getFullYear(),w.getMonth()+1,w.getDate()],s=w.getDay(),n<60&&(s=(s+6)%7),t&&(s=function A6t(e,i){i[0]-=581;var t=e.getDay();return e<60&&(t=(t+6)%7),t}(w,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=r%60,r=Math.floor(r/60),l.M=r%60,r=Math.floor(r/60),l.H=r,l.q=s,l}function UL(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Xm(e,i){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):function h1(e){var t,i=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=i>=-4&&i<=-1?e.toPrecision(10+i):Math.abs(i)<=9?function S6t(e){var i=e<0?12:11,t=UL(e.toFixed(12));return t.length<=i||(t=e.toPrecision(10)).length<=i?t:e.toExponential(5)}(e):10===i?e.toFixed(10).substr(0,12):function E6t(e){var i=UL(e.toFixed(11));return i.length>(e<0?12:11)||"0"===i||"-0"===i?e.toPrecision(6):i}(e),UL(function C6t(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return ll(14,ys(e,i&&i.date1904),i)}throw new Error("unsupported value in General format: "+e)}function D6t(e,i,t,n){var w,r="",s=0,o=0,l=t.y,S=0;switch(e){case 98:l=t.y+543;case 121:switch(i.length){case 1:case 2:w=l%100,S=2;break;default:w=l%1e4,S=4}break;case 109:switch(i.length){case 1:case 2:w=t.m,S=i.length;break;case 3:return VL[t.m-1][1];case 5:return VL[t.m-1][0];default:return VL[t.m-1][2]}break;case 100:switch(i.length){case 1:case 2:w=t.d,S=i.length;break;case 3:return ZJ[t.q][0];default:return ZJ[t.q][1]}break;case 104:switch(i.length){case 1:case 2:w=1+(t.H+11)%12,S=i.length;break;default:throw"bad hour format: "+i}break;case 72:switch(i.length){case 1:case 2:w=t.H,S=i.length;break;default:throw"bad hour format: "+i}break;case 77:switch(i.length){case 1:case 2:w=t.M,S=i.length;break;default:throw"bad minute format: "+i}break;case 115:if("s"!=i&&"ss"!=i&&".0"!=i&&".00"!=i&&".000"!=i)throw"bad second format: "+i;return 0!==t.u||"s"!=i&&"ss"!=i?(o=n>=2?3===n?1e3:100:1===n?10:1,(s=Math.round(o*(t.S+t.u)))>=60*o&&(s=0),"s"===i?0===s?"0":""+s/o:(r=Oc(s,2+n),"ss"===i?r.substr(0,2):"."+r.substr(2,i.length-1))):Oc(t.S,i.length);case 90:switch(i){case"[h]":case"[hh]":w=24*t.D+t.H;break;case"[m]":case"[mm]":w=60*(24*t.D+t.H)+t.M;break;case"[s]":case"[ss]":w=60*(60*(24*t.D+t.H)+t.M)+(0==n?Math.round(t.S+t.u):t.S);break;default:throw"bad abstime format: "+i}S=3===i.length?1:2;break;case 101:w=l,S=1}return S>0?Oc(w,S):""}function Bu(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var qJ=/%/g;function tq(e,i){var t,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==i)return"0.0E+0";if(i<0)return"-"+tq(e,-i);var r=e.indexOf(".");-1===r&&(r=e.indexOf("E"));var s=Math.floor(Math.log(i)*Math.LOG10E)%r;if(s<0&&(s+=r),-1===(t=(i/Math.pow(10,s)).toPrecision(n+1+(r+s)%r)).indexOf("e")){var o=Math.floor(Math.log(i)*Math.LOG10E);for(-1===t.indexOf(".")?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s);"0."===t.substr(0,2);)t=(t=t.charAt(0)+t.substr(2,r)+"."+t.substr(2+r)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,w,S,M){return w+S+M.substr(0,(r+s)%r)+"."+M.substr(s)+"E"})}else t=i.toExponential(n);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var eq=/# (\?+)( ?)\/( ?)(\d+)/,iq=/^#*0*\.([0#]+)/,nq=/\)[^)]*[0#]/,rq=/\(###\) ###\\?-####/;function Ho(e){for(var t,i="",n=0;n!=e.length;++n)switch(t=e.charCodeAt(n)){case 35:break;case 63:i+=" ";break;case 48:i+="0";break;default:i+=String.fromCharCode(t)}return i}function sq(e,i){var t=Math.pow(10,i);return""+Math.round(e*t)/t}function aq(e,i){var t=e-Math.floor(e),n=Math.pow(10,i);return i<(""+Math.round(t*n)).length?0:Math.round(t*n)}function sc(e,i,t){if(40===e.charCodeAt(0)&&!i.match(nq)){var n=i.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?sc("n",n,t):"("+sc("n",n,-t)+")"}if(44===i.charCodeAt(i.length-1))return function I6t(e,i,t){for(var n=i.length-1;44===i.charCodeAt(n-1);)--n;return Vu(e,i.substr(0,n),t/Math.pow(10,3*(i.length-n)))}(e,i,t);if(-1!==i.indexOf("%"))return function M6t(e,i,t){var n=i.replace(qJ,""),r=i.length-n.length;return Vu(e,n,t*Math.pow(10,2*r))+Kn("%",r)}(e,i,t);if(-1!==i.indexOf("E"))return tq(i,t);if(36===i.charCodeAt(0))return"$"+sc(e,i.substr(" "==i.charAt(1)?2:1),t);var r,s,o,l,w=Math.abs(t),S=t<0?"-":"";if(i.match(/^00+$/))return S+d0(w,i.length);if(i.match(/^[#?]+$/))return"0"===(r=d0(t,0))&&(r=""),r.length>i.length?r:Ho(i.substr(0,i.length-r.length))+r;if(s=i.match(eq))return function k6t(e,i,t){var n=parseInt(e[4],10),r=Math.round(i*n),s=Math.floor(r/n),o=r-s*n,l=n;return t+(0===s?"":""+s)+" "+(0===o?Kn(" ",e[1].length+1+e[4].length):BL(o,e[1].length)+e[2]+"/"+e[3]+Oc(l,e[4].length))}(s,w,S);if(i.match(/^#+0+$/))return S+d0(w,i.length-i.indexOf("0"));if(s=i.match(iq))return r=sq(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Ho(s[1])).replace(/\.$/,"."+Ho(s[1])).replace(/\.(\d*)$/,function(U,j){return"."+j+Kn("0",Ho(s[1]).length-j.length)}),-1!==i.indexOf("0.")?r:r.replace(/^0\./,".");if(i=i.replace(/^#+([0.])/,"$1"),s=i.match(/^(0*)\.(#*)$/))return S+sq(w,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=i.match(/^#{1,3},##0(\.?)$/))return S+Bu(d0(w,0));if(s=i.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+sc(e,i,-t):Bu(""+(Math.floor(t)+function P6t(e,i){return i<(""+Math.round((e-Math.floor(e))*Math.pow(10,i))).length?1:0}(t,s[1].length)))+"."+Oc(aq(t,s[1].length),s[1].length);if(s=i.match(/^#,#*,#0/))return sc(e,i.replace(/^#,#*,/,""),t);if(s=i.match(/^([0#]+)(\\?-([0#]+))+$/))return r=c0(sc(e,i.replace(/[\\-]/g,""),t)),o=0,c0(c0(i.replace(/\\/g,"")).replace(/[0#]/g,function(U){return o<r.length?r.charAt(o++):"0"===U?"0":""}));if(i.match(rq))return"("+(r=sc(e,"##########",t)).substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var M="";if(s=i.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=zE(w,Math.pow(10,o)-1,!1),r=""+S," "==(M=Vu("n",s[1],l[1])).charAt(M.length-1)&&(M=M.substr(0,M.length-1)+"0"),r+=M+s[2]+"/"+s[3],(M=VE(l[2],o)).length<s[4].length&&(M=Ho(s[4].substr(s[4].length-M.length))+M),r+=M;if(s=i.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),S+((l=zE(w,Math.pow(10,o)-1,!0))[0]||(l[1]?"":"0"))+" "+(l[1]?BL(l[1],o)+s[2]+"/"+s[3]+VE(l[2],o):Kn(" ",2*o+1+s[2].length+s[3].length));if(s=i.match(/^[#0?]+$/))return r=d0(t,0),i.length<=r.length?r:Ho(i.substr(0,i.length-r.length))+r;if(s=i.match(/^([#0?]+)\.([#0]+)$/)){r=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var P=i.indexOf(".")-o,O=i.length-r.length-P;return Ho(i.substr(0,P)+r+i.substr(i.length-O))}if(s=i.match(/^00,000\.([#0]*0)$/))return o=aq(t,s[1].length),t<0?"-"+sc(e,i,-t):Bu(function F6t(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(U){return"00,"+(U.length<3?Oc(0,3-U.length):"")+U})+"."+Oc(o,s[1].length);switch(i){case"###,##0.00":return sc(e,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var N=Bu(d0(w,0));return"0"!==N?S+N:"";case"###,###.00":return sc(e,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return sc(e,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+i+"|")}function oq(e,i){var t,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==i)return"0.0E+0";if(i<0)return"-"+oq(e,-i);var r=e.indexOf(".");-1===r&&(r=e.indexOf("E"));var s=Math.floor(Math.log(i)*Math.LOG10E)%r;if(s<0&&(s+=r),!(t=(i/Math.pow(10,s)).toPrecision(n+1+(r+s)%r)).match(/[Ee]/)){var o=Math.floor(Math.log(i)*Math.LOG10E);-1===t.indexOf(".")?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,w,S,M){return w+S+M.substr(0,(r+s)%r)+"."+M.substr(s)+"E"})}else t=i.toExponential(n);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Md(e,i,t){if(40===e.charCodeAt(0)&&!i.match(nq)){var n=i.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Md("n",n,t):"("+Md("n",n,-t)+")"}if(44===i.charCodeAt(i.length-1))return function O6t(e,i,t){for(var n=i.length-1;44===i.charCodeAt(n-1);)--n;return Vu(e,i.substr(0,n),t/Math.pow(10,3*(i.length-n)))}(e,i,t);if(-1!==i.indexOf("%"))return function L6t(e,i,t){var n=i.replace(qJ,""),r=i.length-n.length;return Vu(e,n,t*Math.pow(10,2*r))+Kn("%",r)}(e,i,t);if(-1!==i.indexOf("E"))return oq(i,t);if(36===i.charCodeAt(0))return"$"+Md(e,i.substr(" "==i.charAt(1)?2:1),t);var r,s,o,l,w=Math.abs(t),S=t<0?"-":"";if(i.match(/^00+$/))return S+Oc(w,i.length);if(i.match(/^[#?]+$/))return r=""+t,0===t&&(r=""),r.length>i.length?r:Ho(i.substr(0,i.length-r.length))+r;if(s=i.match(eq))return function R6t(e,i,t){return t+(0===i?"":""+i)+Kn(" ",e[1].length+2+e[4].length)}(s,w,S);if(i.match(/^#+0+$/))return S+Oc(w,i.length-i.indexOf("0"));if(s=i.match(iq))return r=(r=(""+t).replace(/^([^\.]+)$/,"$1."+Ho(s[1])).replace(/\.$/,"."+Ho(s[1]))).replace(/\.(\d*)$/,function(U,j){return"."+j+Kn("0",Ho(s[1]).length-j.length)}),-1!==i.indexOf("0.")?r:r.replace(/^0\./,".");if(i=i.replace(/^#+([0.])/,"$1"),s=i.match(/^(0*)\.(#*)$/))return S+(""+w).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=i.match(/^#{1,3},##0(\.?)$/))return S+Bu(""+w);if(s=i.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Md(e,i,-t):Bu(""+t)+"."+Kn("0",s[1].length);if(s=i.match(/^#,#*,#0/))return Md(e,i.replace(/^#,#*,/,""),t);if(s=i.match(/^([0#]+)(\\?-([0#]+))+$/))return r=c0(Md(e,i.replace(/[\\-]/g,""),t)),o=0,c0(c0(i.replace(/\\/g,"")).replace(/[0#]/g,function(U){return o<r.length?r.charAt(o++):"0"===U?"0":""}));if(i.match(rq))return"("+(r=Md(e,"##########",t)).substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var M="";if(s=i.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=zE(w,Math.pow(10,o)-1,!1),r=""+S," "==(M=Vu("n",s[1],l[1])).charAt(M.length-1)&&(M=M.substr(0,M.length-1)+"0"),r+=M+s[2]+"/"+s[3],(M=VE(l[2],o)).length<s[4].length&&(M=Ho(s[4].substr(s[4].length-M.length))+M),r+=M;if(s=i.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),S+((l=zE(w,Math.pow(10,o)-1,!0))[0]||(l[1]?"":"0"))+" "+(l[1]?BL(l[1],o)+s[2]+"/"+s[3]+VE(l[2],o):Kn(" ",2*o+1+s[2].length+s[3].length));if(s=i.match(/^[#0?]+$/))return i.length<=(r=""+t).length?r:Ho(i.substr(0,i.length-r.length))+r;if(s=i.match(/^([#0]+)\.([#0]+)$/)){r=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var P=i.indexOf(".")-o,O=i.length-r.length-P;return Ho(i.substr(0,P)+r+i.substr(i.length-O))}if(s=i.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Md(e,i,-t):Bu(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(U){return"00,"+(U.length<3?Oc(0,3-U.length):"")+U})+"."+Oc(0,s[1].length);switch(i){case"###,###":case"##,###":case"#,###":var N=Bu(""+w);return"0"!==N?S+N:"";default:if(i.match(/\.[0#?]*$/))return Md(e,i.slice(0,i.lastIndexOf(".")),t)+Ho(i.slice(i.lastIndexOf(".")))}throw new Error("unsupported format |"+i+"|")}function Vu(e,i,t){return(0|t)===t?Md(e,i,t):sc(e,i,t)}var lq=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ol(e){for(var i=0,t="",n="";i<e.length;)switch(t=e.charAt(i)){case"G":UE(e,i)&&(i+=6),i++;break;case'"':for(;34!==e.charCodeAt(++i)&&i<e.length;);++i;break;case"\\":case"_":i+=2;break;case"@":++i;break;case"B":case"b":if("1"===e.charAt(i+1)||"2"===e.charAt(i+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(i,3).toUpperCase()||"AM/PM"===e.substr(i,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===e.substr(i,5).toUpperCase())return!0;++i;break;case"[":for(n=t;"]"!==e.charAt(i++)&&i<e.length;)n+=e.charAt(i);if(n.match(lq))return!0;break;case".":case"0":case"#":for(;i<e.length&&("0#?.,E+-%".indexOf(t=e.charAt(++i))>-1||"\\"==t&&"-"==e.charAt(i+1)&&"0#".indexOf(e.charAt(i+2))>-1););break;case"?":for(;e.charAt(++i)===t;);break;case"*":++i,(" "==e.charAt(i)||"*"==e.charAt(i))&&++i;break;case"(":case")":++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;);break;default:++i}return!1}var cq=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function dq(e,i){if(null==i)return!1;var t=parseFloat(i[2]);switch(i[1]){case"=":if(e==t)return!0;break;case">":if(e>t)return!0;break;case"<":if(e<t)return!0;break;case"<>":if(e!=t)return!0;break;case">=":if(e>=t)return!0;break;case"<=":if(e<=t)return!0}return!1}function ll(e,i,t){null==t&&(t={});var n="";switch(typeof e){case"string":n="m/d/yy"==e&&t.dateNF?t.dateNF:e;break;case"number":null==(n=14==e&&t.dateNF?t.dateNF:(null!=t.table?t.table:Li)[e])&&(n=t.table&&t.table[JJ[e]]||Li[JJ[e]]),null==n&&(n=_6t[e]||"General")}if(UE(n,0))return Xm(i,t);i instanceof Date&&(i=ys(i,t.date1904));var r=function V6t(e,i){var t=function N6t(e){for(var i=[],t=!1,n=0,r=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:i[i.length]=e.substr(r,n-r),r=n+1}if(i[i.length]=e.substr(r),!0===t)throw new Error("Format |"+e+"| unterminated string ");return i}(e),n=t.length,r=t[n-1].indexOf("@");if(n<4&&r>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if("number"!=typeof i)return[4,4===t.length||r>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=r>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=r>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=r>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"]}var s=i>0?t[0]:i<0?t[1]:t[2];if(-1===t[0].indexOf("[")&&-1===t[1].indexOf("["))return[n,s];if(null!=t[0].match(/\[[=<>]/)||null!=t[1].match(/\[[=<>]/)){var o=t[0].match(cq),l=t[1].match(cq);return dq(i,o)?[n,t[0]]:dq(i,l)?[n,t[1]]:[n,t[null!=o&&null!=l?2:1]]}return[n,s]}(n,i);if(UE(r[1]))return Xm(i,t);if(!0===i)i="TRUE";else if(!1===i)i="FALSE";else if(""===i||null==i)return"";return function B6t(e,i,t,n){for(var S,M,P,r=[],s="",o=0,l="",w="t",O="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!UE(e,o))throw new Error("unrecognized character "+l+" in "+e);r[r.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";34!==(P=e.charCodeAt(++o))&&o<e.length;)s+=String.fromCharCode(P);r[r.length]={t:"t",v:s},++o;break;case"\\":var N=e.charAt(++o);r[r.length]={t:"("===N||")"===N?N:"t",v:N},++o;break;case"_":r[r.length]={t:"t",v:" "},o+=2;break;case"@":r[r.length]={t:"T",v:i},++o;break;case"B":case"b":if("1"===e.charAt(o+1)||"2"===e.charAt(o+1)){if(null==S&&null==(S=Dd(i,t,"2"===e.charAt(o+1))))return"";r[r.length]={t:"X",v:e.substr(o,2)},w=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(i<0||null==S&&null==(S=Dd(i,t)))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;"m"===l&&"h"===w.toLowerCase()&&(l="M"),"h"===l&&(l=O),r[r.length]={t:l,v:s},w=l;break;case"A":case"a":case"\u4e0a":var j={t:l,v:l};if(null==S&&(S=Dd(i,t)),"A/P"===e.substr(o,3).toUpperCase()?(null!=S&&(j.v=S.H>=12?e.charAt(o+2):l),j.t="T",O="h",o+=3):"AM/PM"===e.substr(o,5).toUpperCase()?(null!=S&&(j.v=S.H>=12?"PM":"AM"),j.t="T",o+=5,O="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(o,5).toUpperCase()?(null!=S&&(j.v=S.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),j.t="T",o+=5,O="h"):(j.t="t",++o),null==S&&"T"===j.t)return"";r[r.length]=j,w=l;break;case"[":for(s=l;"]"!==e.charAt(o++)&&o<e.length;)s+=e.charAt(o);if("]"!==s.slice(-1))throw'unterminated "[" block: |'+s+"|";if(s.match(lq)){if(null==S&&null==(S=Dd(i,t)))return"";r[r.length]={t:"Z",v:s.toLowerCase()},w=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ol(e)||(r[r.length]={t:"t",v:s}));break;case".":if(null!=S){for(s=l;++o<e.length&&"0"===(l=e.charAt(o));)s+=l;r[r.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;r[r.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;r[r.length]={t:l,v:s},w=l;break;case"*":++o,(" "==e.charAt(o)||"*"==e.charAt(o))&&++o;break;case"(":case")":r[r.length]={t:1===n?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);r[r.length]={t:"D",v:s};break;case" ":r[r.length]={t:l,v:l},++o;break;case"$":r[r.length]={t:"t",v:"$"},++o;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(l))throw new Error("unrecognized character "+l+" in "+e);r[r.length]={t:"t",v:l},++o}var rt,st,W=0,Z=0;for(o=r.length-1,w="t";o>=0;--o)switch(r[o].t){case"h":case"H":r[o].t=O,w="h",W<1&&(W=1);break;case"s":(rt=r[o].v.match(/\.0+$/))&&(Z=Math.max(Z,rt[0].length-1),W=4),W<3&&(W=3);case"d":case"y":case"e":w=r[o].t;break;case"M":w=r[o].t,W<2&&(W=2);break;case"m":"s"===w&&(r[o].t="M",W<2&&(W=2));break;case"X":break;case"Z":W<1&&r[o].v.match(/[Hh]/)&&(W=1),W<2&&r[o].v.match(/[Mm]/)&&(W=2),W<3&&r[o].v.match(/[Ss]/)&&(W=3)}switch(W){case 0:break;case 1:case 2:case 3:S.u>=.5&&(S.u=0,++S.S),S.S>=60&&(S.S=0,++S.M),S.M>=60&&(S.M=0,++S.H),S.H>=24&&(S.H=0,++S.D,(st=Dd(S.D)).u=S.u,st.S=S.S,st.M=S.M,st.H=S.H,S=st);break;case 4:switch(Z){case 1:S.u=Math.round(10*S.u)/10;break;case 2:S.u=Math.round(100*S.u)/100;break;case 3:S.u=Math.round(1e3*S.u)/1e3}S.u>=1&&(S.u=0,++S.S),S.S>=60&&(S.S=0,++S.M),S.M>=60&&(S.M=0,++S.H),S.H>=24&&(S.H=0,++S.D,(st=Dd(S.D)).u=S.u,st.S=S.S,st.M=S.M,st.H=S.H,S=st)}var _t,vt="";for(o=0;o<r.length;++o)switch(r[o].t){case"t":case"T":case" ":case"D":break;case"X":r[o].v="",r[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[o].v=D6t(r[o].t.charCodeAt(0),r[o].v,S,Z),r[o].t="t";break;case"n":case"?":for(_t=o+1;null!=r[_t]&&("?"===(l=r[_t].t)||"D"===l||(" "===l||"t"===l)&&null!=r[_t+1]&&("?"===r[_t+1].t||"t"===r[_t+1].t&&"/"===r[_t+1].v)||"("===r[o].t&&(" "===l||"n"===l||")"===l)||"t"===l&&("/"===r[_t].v||" "===r[_t].v&&null!=r[_t+1]&&"?"==r[_t+1].t));)r[o].v+=r[_t].v,r[_t]={v:"",t:";"},++_t;vt+=r[o].v,o=_t-1;break;case"G":r[o].t="t",r[o].v=Xm(i,t)}var ft,dt,kt="";if(vt.length>0){40==vt.charCodeAt(0)?(ft=i<0&&45===vt.charCodeAt(0)?-i:i,dt=Vu("n",vt,ft)):(dt=Vu("n",vt,ft=i<0&&n>1?-i:i),ft<0&&r[0]&&"t"==r[0].t&&(dt=dt.substr(1),r[0].v="-"+r[0].v)),_t=dt.length-1;var pt=r.length;for(o=0;o<r.length;++o)if(null!=r[o]&&"t"!=r[o].t&&r[o].v.indexOf(".")>-1){pt=o;break}var bt=r.length;if(pt===r.length&&-1===dt.indexOf("E")){for(o=r.length-1;o>=0;--o)null==r[o]||-1==="n?".indexOf(r[o].t)||(_t>=r[o].v.length-1?r[o].v=dt.substr(1+(_t-=r[o].v.length),r[o].v.length):_t<0?r[o].v="":(r[o].v=dt.substr(0,_t+1),_t=-1),r[o].t="t",bt=o);_t>=0&&bt<r.length&&(r[bt].v=dt.substr(0,_t+1)+r[bt].v)}else if(pt!==r.length&&-1===dt.indexOf("E")){for(_t=dt.indexOf(".")-1,o=pt;o>=0;--o)if(null!=r[o]&&-1!=="n?".indexOf(r[o].t)){for(M=r[o].v.indexOf(".")>-1&&o===pt?r[o].v.indexOf(".")-1:r[o].v.length-1,kt=r[o].v.substr(M+1);M>=0;--M)_t>=0&&("0"===r[o].v.charAt(M)||"#"===r[o].v.charAt(M))&&(kt=dt.charAt(_t--)+kt);r[o].v=kt,r[o].t="t",bt=o}for(_t>=0&&bt<r.length&&(r[bt].v=dt.substr(0,_t+1)+r[bt].v),_t=dt.indexOf(".")+1,o=pt;o<r.length;++o)if(null!=r[o]&&(-1!=="n?(".indexOf(r[o].t)||o===pt)){for(M=r[o].v.indexOf(".")>-1&&o===pt?r[o].v.indexOf(".")+1:0,kt=r[o].v.substr(0,M);M<r[o].v.length;++M)_t<dt.length&&(kt+=dt.charAt(_t++));r[o].v=kt,r[o].t="t",bt=o}}}for(o=0;o<r.length;++o)null!=r[o]&&"n?".indexOf(r[o].t)>-1&&(r[o].v=Vu(r[o].t,r[o].v,ft=n>1&&i<0&&o>0&&"-"===r[o-1].v?-i:i),r[o].t="t");var Tt="";for(o=0;o!==r.length;++o)null!=r[o]&&(Tt+=r[o].v);return Tt}(r[1],i,t,r[0])}function zL(e,i){if("number"!=typeof i){i=+i||-1;for(var t=0;t<392;++t)if(null!=Li[t]){if(Li[t]==e){i=t;break}}else i<0&&(i=t);i<0&&(i=391)}return Li[i]=e,i}function f1(e){for(var i=0;392!=i;++i)void 0!==e[i]&&zL(e[i],i)}function u0(){Li=function w6t(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',e}()}var GE=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,H6t={"d.m":"d\\.m"};function ff(e,i){return zL(H6t[e]||e,i)}var Uu,hq=function(){var e={version:"1.2.0"},t=function i(){for(var ft=0,dt=new Array(256),pt=0;256!=pt;++pt)dt[pt]=ft=1&(ft=1&(ft=1&(ft=1&(ft=1&(ft=1&(ft=1&(ft=1&(ft=pt)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1)?-306674912^ft>>>1:ft>>>1;return typeof Int32Array<"u"?new Int32Array(dt):dt}(),r=function n(ft){var dt=0,pt=0,bt=0,Tt=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(bt=0;256!=bt;++bt)Tt[bt]=ft[bt];for(bt=0;256!=bt;++bt)for(pt=ft[bt],dt=256+bt;dt<4096;dt+=256)pt=Tt[dt]=pt>>>8^ft[255&pt];var Et=[];for(bt=1;16!=bt;++bt)Et[bt-1]=typeof Int32Array<"u"&&"function"==typeof Tt.subarray?Tt.subarray(256*bt,256*bt+256):Tt.slice(256*bt,256*bt+256);return Et}(t),s=r[0],o=r[1],l=r[2],w=r[3],S=r[4],M=r[5],P=r[6],O=r[7],N=r[8],U=r[9],j=r[10],W=r[11],Z=r[12],rt=r[13],st=r[14];return e.table=t,e.bstr=function vt(ft,dt){for(var pt=~dt,bt=0,Tt=ft.length;bt<Tt;)pt=pt>>>8^t[255&(pt^ft.charCodeAt(bt++))];return~pt},e.buf=function _t(ft,dt){for(var pt=~dt,bt=ft.length-15,Tt=0;Tt<bt;)pt=st[ft[Tt++]^255&pt]^rt[ft[Tt++]^pt>>8&255]^Z[ft[Tt++]^pt>>16&255]^W[ft[Tt++]^pt>>>24]^j[ft[Tt++]]^U[ft[Tt++]]^N[ft[Tt++]]^O[ft[Tt++]]^P[ft[Tt++]]^M[ft[Tt++]]^S[ft[Tt++]]^w[ft[Tt++]]^l[ft[Tt++]]^o[ft[Tt++]]^s[ft[Tt++]]^t[ft[Tt++]];for(bt+=15;Tt<bt;)pt=pt>>>8^t[255&(pt^ft[Tt++])];return~pt},e.str=function kt(ft,dt){for(var pt=~dt,bt=0,Tt=ft.length,Et=0,Dt=0;bt<Tt;)(Et=ft.charCodeAt(bt++))<128?pt=pt>>>8^t[255&(pt^Et)]:Et<2048?pt=(pt=pt>>>8^t[255&(pt^(192|Et>>6&31))])>>>8^t[255&(pt^(128|63&Et))]:Et>=55296&&Et<57344?(Et=64+(1023&Et),Dt=1023&ft.charCodeAt(bt++),pt=(pt=(pt=(pt=pt>>>8^t[255&(pt^(240|Et>>8&7))])>>>8^t[255&(pt^(128|Et>>2&63))])>>>8^t[255&(pt^(128|Dt>>6&15|(3&Et)<<4))])>>>8^t[255&(pt^(128|63&Dt))]):pt=(pt=(pt=pt>>>8^t[255&(pt^(224|Et>>12&15))])>>>8^t[255&(pt^(128|Et>>6&63))])>>>8^t[255&(pt^(128|63&Et))];return~pt},e}(),Ui=function(){var w,i={};function n(At){if("/"==At.charAt(At.length-1))return-1===At.slice(0,-1).indexOf("/")?At:n(At.slice(0,-1));var Nt=At.lastIndexOf("/");return-1===Nt?At:At.slice(0,Nt+1)}function r(At){if("/"==At.charAt(At.length-1))return r(At.slice(0,-1));var Nt=At.lastIndexOf("/");return-1===Nt?At:At.slice(Nt+1)}function s(At,Nt){"string"==typeof Nt&&(Nt=new Date(Nt));var Pt=Nt.getHours();Pt=(Pt=Pt<<6|Nt.getMinutes())<<5|Nt.getSeconds()>>>1,At.write_shift(2,Pt);var Ft=Nt.getFullYear()-1980;Ft=(Ft=Ft<<4|Nt.getMonth()+1)<<5|Nt.getDate(),At.write_shift(2,Ft)}function l(At){wa(At,0);for(var Nt={},Pt=0;At.l<=At.length-4;){var Ft=At.read_shift(2),Bt=At.read_shift(2),Ut=At.l+Bt,ce={};switch(Ft){case 21589:1&(Pt=At.read_shift(1))&&(ce.mtime=At.read_shift(4)),Bt>5&&(2&Pt&&(ce.atime=At.read_shift(4)),4&Pt&&(ce.ctime=At.read_shift(4))),ce.mtime&&(ce.mt=new Date(1e3*ce.mtime));break;case 1:var _e=At.read_shift(4),oe=At.read_shift(4);ce.usz=oe*Math.pow(2,32)+_e,_e=At.read_shift(4),oe=At.read_shift(4),ce.csz=oe*Math.pow(2,32)+_e}At.l=Ut,Nt[Ft]=ce}return Nt}function S(){return w||(w=Uu)}function M(At,Nt){if(80==At[0]&&75==At[1])return ew(At,Nt);if(109==(32|At[0])&&105==(32|At[1]))return function bp(At,Nt){if("mime-version:"!=ze(At.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var Pt=Nt&&Nt.root||"",Ft=(Mn&&Buffer.isBuffer(At)?At.toString("binary"):ze(At)).split("\r\n"),Bt=0,Ut="";for(Bt=0;Bt<Ft.length;++Bt)if(/^Content-Location:/i.test(Ut=Ft[Bt])&&(Ut=Ut.slice(Ut.indexOf("file")),Pt||(Pt=Ut.slice(0,Ut.lastIndexOf("/")+1)),Ut.slice(0,Pt.length)!=Pt))for(;Pt.length>0&&(Pt=(Pt=Pt.slice(0,Pt.length-1)).slice(0,Pt.lastIndexOf("/")+1),Ut.slice(0,Pt.length)!=Pt););var ce=(Ft[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var _e="--"+(ce[1]||""),ue={FileIndex:[],FullPaths:[]};ft(ue);var je,Ze=0;for(Bt=0;Bt<Ft.length;++Bt){var Ci=Ft[Bt];Ci!==_e&&Ci!==_e+"--"||(Ze++&&OA(ue,Ft.slice(je,Bt),Pt),je=Bt)}return ue}(At,Nt);if(At.length<512)throw new Error("CFB file size "+At.length+" < 512");var Pt,Bt,Ut,ce,_e,oe,Ft=512,de=[],ue=At.slice(0,512);wa(ue,0);var je=function P(At){if(80==At[At.l]&&75==At[At.l+1])return[0,0];At.chk(Ue,"Header Signature: "),At.l+=16;var Nt=At.read_shift(2,"u");return[At.read_shift(2,"u"),Nt]}(ue);switch(Pt=je[0]){case 3:Ft=512;break;case 4:Ft=4096;break;case 0:if(0==je[1])return ew(At,Nt);default:throw new Error("Major Version: Expected 3 or 4 saw "+Pt)}512!==Ft&&wa(ue=At.slice(0,Ft),28);var Ze=At.slice(0,Ft);!function O(At,Nt){var Pt;switch(At.l+=2,Pt=At.read_shift(2)){case 9:if(3!=Nt)throw new Error("Sector Shift: Expected 9 saw "+Pt);break;case 12:if(4!=Nt)throw new Error("Sector Shift: Expected 12 saw "+Pt);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Pt)}At.chk("0600","Mini Sector Shift: "),At.chk("000000000000","Reserved: ")}(ue,Pt);var Ci=ue.read_shift(4,"i");if(3===Pt&&0!==Ci)throw new Error("# Directory Sectors: Expected 0 saw "+Ci);ue.l+=4,ce=ue.read_shift(4,"i"),ue.l+=4,ue.chk("00100000","Mini Stream Cutoff Size: "),_e=ue.read_shift(4,"i"),Bt=ue.read_shift(4,"i"),oe=ue.read_shift(4,"i"),Ut=ue.read_shift(4,"i");for(var ci=-1,Ye=0;Ye<109&&!((ci=ue.read_shift(4,"i"))<0);++Ye)de[Ye]=ci;var Zi=function N(At,Nt){for(var Pt=Math.ceil(At.length/Nt)-1,Ft=[],Bt=1;Bt<Pt;++Bt)Ft[Bt-1]=At.slice(Bt*Nt,(Bt+1)*Nt);return Ft[Pt-1]=At.slice(Pt*Nt),Ft}(At,Ft);W(oe,Ut,Zi,Ft,de);var Dr=function rt(At,Nt,Pt,Ft){var Bt=At.length,Ut=[],ce=[],_e=[],oe=[],de=Ft-1,ue=0,je=0,Ze=0,Ci=0;for(ue=0;ue<Bt;++ue)if(_e=[],(Ze=ue+Nt)>=Bt&&(Ze-=Bt),!ce[Ze]){oe=[];var ci=[];for(je=Ze;je>=0;){ci[je]=!0,ce[je]=!0,_e[_e.length]=je,oe.push(At[je]);var Ye=Pt[Math.floor(4*je/Ft)];if(Ft<4+(Ci=4*je&de))throw new Error("FAT boundary crossed: "+je+" 4 "+Ft);if(!At[Ye]||ci[je=Zm(At[Ye],Ci)])break}Ut[Ze]={nodes:_e,data:Fq([oe])}}return Ut}(Zi,ce,de,Ft);ce<Dr.length&&(Dr[ce].name="!Directory"),Bt>0&&_e!==Dt&&(Dr[_e].name="!MiniFAT"),Dr[de[0]].name="!FAT",Dr.fat_addrs=de,Dr.ssz=Ft;var Qr=[],Ys=[],Zu=[];(function st(At,Nt,Pt,Ft,Bt,Ut,ce,_e){for(var Ci,oe=0,de=Ft.length?2:0,ue=Nt[At].data,je=0,Ze=0;je<ue.length;je+=128){var ci=ue.slice(je,je+128);wa(ci,64),Ze=ci.read_shift(2),Ci=$E(ci,0,Ze-de),Ft.push(Ci);var Ye={name:Ci,type:ci.read_shift(1),color:ci.read_shift(1),L:ci.read_shift(4,"i"),R:ci.read_shift(4,"i"),C:ci.read_shift(4,"i"),clsid:ci.read_shift(16),state:ci.read_shift(4,"i"),start:0,size:0};0!==ci.read_shift(2)+ci.read_shift(2)+ci.read_shift(2)+ci.read_shift(2)&&(Ye.ct=vt(ci,ci.l-8)),0!==ci.read_shift(2)+ci.read_shift(2)+ci.read_shift(2)+ci.read_shift(2)&&(Ye.mt=vt(ci,ci.l-8)),Ye.start=ci.read_shift(4,"i"),Ye.size=ci.read_shift(4,"i"),Ye.size<0&&Ye.start<0&&(Ye.size=Ye.type=0,Ye.start=Dt,Ye.name=""),5===Ye.type?(oe=Ye.start,Bt>0&&oe!==Dt&&(Nt[oe].name="!StreamData")):Ye.size>=4096?(Ye.storage="fat",void 0===Nt[Ye.start]&&(Nt[Ye.start]=Z(Pt,Ye.start,Nt.fat_addrs,Nt.ssz)),Nt[Ye.start].name=Ye.name,Ye.content=Nt[Ye.start].data.slice(0,Ye.size)):(Ye.storage="minifat",Ye.size<0?Ye.size=0:oe!==Dt&&Ye.start!==Dt&&Nt[oe]&&(Ye.content=j(Ye,Nt[oe].data,(Nt[_e]||{}).data))),Ye.content&&wa(Ye.content,0),Ut[Ci]=Ye,ce.push(Ye)}})(ce,Dr,Zi,Qr,Bt,{},Ys,_e),function U(At,Nt,Pt){for(var Ft=0,Bt=0,Ut=0,ce=0,_e=0,oe=Pt.length,de=[],ue=[];Ft<oe;++Ft)de[Ft]=ue[Ft]=Ft,Nt[Ft]=Pt[Ft];for(;_e<ue.length;++_e)Bt=At[Ft=ue[_e]].L,Ut=At[Ft].R,ce=At[Ft].C,de[Ft]===Ft&&(-1!==Bt&&de[Bt]!==Bt&&(de[Ft]=de[Bt]),-1!==Ut&&de[Ut]!==Ut&&(de[Ft]=de[Ut])),-1!==ce&&(de[ce]=Ft),-1!==Bt&&Ft!=de[Ft]&&(de[Bt]=de[Ft],ue.lastIndexOf(Bt)<_e&&ue.push(Bt)),-1!==Ut&&Ft!=de[Ft]&&(de[Ut]=de[Ft],ue.lastIndexOf(Ut)<_e&&ue.push(Ut));for(Ft=1;Ft<oe;++Ft)de[Ft]===Ft&&(-1!==Ut&&de[Ut]!==Ut?de[Ft]=de[Ut]:-1!==Bt&&de[Bt]!==Bt&&(de[Ft]=de[Bt]));for(Ft=1;Ft<oe;++Ft)if(0!==At[Ft].type){if((_e=Ft)!=de[_e])do{Nt[Ft]=Nt[_e=de[_e]]+"/"+Nt[Ft]}while(0!==_e&&-1!==de[_e]&&_e!=de[_e]);de[Ft]=-1}for(Nt[0]+="/",Ft=1;Ft<oe;++Ft)2!==At[Ft].type&&(Nt[Ft]+="/")}(Ys,Zu,Qr),Qr.shift();var Tp={FileIndex:Ys,FullPaths:Zu};return Nt&&Nt.raw&&(Tp.raw={header:Ze,sectors:Zi}),Tp}function j(At,Nt,Pt){for(var Bt=At.size,Ut=[],ce=At.start;Pt&&Bt>0&&ce>=0;)Ut.push(Nt.slice(ce*Et,ce*Et+Et)),Bt-=Et,ce=Zm(Pt,4*ce);return 0===Ut.length?le(0):Hs(Ut).slice(0,At.size)}function W(At,Nt,Pt,Ft,Bt){var Ut=Dt;if(At===Dt){if(0!==Nt)throw new Error("DIFAT chain shorter than expected")}else if(-1!==At){var ce=Pt[At],_e=(Ft>>>2)-1;if(!ce)return;for(var oe=0;oe<_e&&(Ut=Zm(ce,4*oe))!==Dt;++oe)Bt.push(Ut);Nt>=1&&W(Zm(ce,Ft-4),Nt-1,Pt,Ft,Bt)}}function Z(At,Nt,Pt,Ft,Bt){var Ut=[],ce=[];Bt||(Bt=[]);var _e=Ft-1,oe=0,de=0;for(oe=Nt;oe>=0;){Bt[oe]=!0,Ut[Ut.length]=oe,ce.push(At[oe]);var ue=Pt[Math.floor(4*oe/Ft)];if(Ft<4+(de=4*oe&_e))throw new Error("FAT boundary crossed: "+oe+" 4 "+Ft);if(!At[ue])break;oe=Zm(At[ue],de)}return{nodes:Ut,data:Fq([ce])}}function vt(At,Nt){return new Date(1e3*(Oa(At,Nt+4)/1e7*Math.pow(2,32)+Oa(At,Nt)/1e7-11644473600))}function ft(At,Nt){var Pt=Nt||{},Ft=Pt.root||"Root Entry";if(At.FullPaths||(At.FullPaths=[]),At.FileIndex||(At.FileIndex=[]),At.FullPaths.length!==At.FileIndex.length)throw new Error("inconsistent CFB structure");0===At.FullPaths.length&&(At.FullPaths[0]=Ft+"/",At.FileIndex[0]={name:Ft,type:5}),Pt.CLSID&&(At.FileIndex[0].clsid=Pt.CLSID),function dt(At){var Nt="\x01Sh33tJ5";if(!Ui.find(At,"/"+Nt)){var Pt=le(4);Pt[0]=55,Pt[1]=Pt[3]=50,Pt[2]=54,At.FileIndex.push({name:Nt,type:2,content:Pt,size:4,L:69,R:69,C:69}),At.FullPaths.push(At.FullPaths[0]+Nt),pt(At)}}(At)}function pt(At,Nt){ft(At);for(var Pt=!1,Ft=!1,Bt=At.FullPaths.length-1;Bt>=0;--Bt){var Ut=At.FileIndex[Bt];switch(Ut.type){case 0:Ft?Pt=!0:(At.FileIndex.pop(),At.FullPaths.pop());break;case 1:case 2:case 5:Ft=!0,isNaN(Ut.R*Ut.L*Ut.C)&&(Pt=!0),Ut.R>-1&&Ut.L>-1&&Ut.R==Ut.L&&(Pt=!0);break;default:Pt=!0}}if(Pt||Nt){var ce=new Date(1987,1,19),_e=0,oe=Object.create?Object.create(null):{},de=[];for(Bt=0;Bt<At.FullPaths.length;++Bt)oe[At.FullPaths[Bt]]=!0,0!==At.FileIndex[Bt].type&&de.push([At.FullPaths[Bt],At.FileIndex[Bt]]);for(Bt=0;Bt<de.length;++Bt){var ue=n(de[Bt][0]);for(Ft=oe[ue];!Ft;){for(;n(ue)&&!oe[n(ue)];)ue=n(ue);de.push([ue,{name:r(ue).replace("/",""),type:1,clsid:ve,ct:ce,mt:ce,content:null}]),oe[ue]=!0,Ft=oe[ue=n(de[Bt][0])]}}for(de.sort(function(Ci,ci){return function t(At,Nt){for(var Pt=At.split("/"),Ft=Nt.split("/"),Bt=0,Ut=0,ce=Math.min(Pt.length,Ft.length);Bt<ce;++Bt){if(Ut=Pt[Bt].length-Ft[Bt].length)return Ut;if(Pt[Bt]!=Ft[Bt])return Pt[Bt]<Ft[Bt]?-1:1}return Pt.length-Ft.length}(Ci[0],ci[0])}),At.FullPaths=[],At.FileIndex=[],Bt=0;Bt<de.length;++Bt)At.FullPaths[Bt]=de[Bt][0],At.FileIndex[Bt]=de[Bt][1];for(Bt=0;Bt<de.length;++Bt){var je=At.FileIndex[Bt],Ze=At.FullPaths[Bt];if(je.name=r(Ze).replace("/",""),je.L=je.R=je.C=-(je.color=1),je.size=je.content?je.content.length:0,je.start=0,je.clsid=je.clsid||ve,0===Bt)je.C=de.length>1?1:-1,je.size=0,je.type=5;else if("/"==Ze.slice(-1)){for(_e=Bt+1;_e<de.length&&n(At.FullPaths[_e])!=Ze;++_e);for(je.C=_e>=de.length?-1:_e,_e=Bt+1;_e<de.length&&n(At.FullPaths[_e])!=n(Ze);++_e);je.R=_e>=de.length?-1:_e,je.type=1}else n(At.FullPaths[Bt+1]||"")==n(Ze)&&(je.R=Bt+1),je.type=2}}}function bt(At,Nt){var Pt=Nt||{};if("mad"==Pt.fileType)return function LA(At,Nt){for(var Pt=Nt||{},Ft=Pt.boundary||"SheetJS",Bt=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(Ft="------="+Ft).slice(2)+'"',"","",""],Ut=At.FullPaths[0],ce=Ut,_e=At.FileIndex[0],oe=1;oe<At.FullPaths.length;++oe)if(ce=At.FullPaths[oe].slice(Ut.length),(_e=At.FileIndex[oe]).size&&_e.content&&"\x01Sh33tJ5"!=ce){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Zi){return"_x"+Zi.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Zi){return"_u"+Zi.charCodeAt(0).toString(16)+"_"});for(var de=_e.content,ue=Mn&&Buffer.isBuffer(de)?de.toString("binary"):ze(de),je=0,Ze=Math.min(1024,ue.length),Ci=0,ci=0;ci<=Ze;++ci)(Ci=ue.charCodeAt(ci))>=32&&Ci<128&&++je;var Ye=je>=4*Ze/5;Bt.push(Ft),Bt.push("Content-Location: "+(Pt.root||"file:///C:/SheetJS/")+ce),Bt.push("Content-Transfer-Encoding: "+(Ye?"quoted-printable":"base64")),Bt.push("Content-Type: "+iw(_e,ce)),Bt.push(""),Bt.push(Ye?FA(ue):Ku(ue))}return Bt.push(Ft+"--\r\n"),Bt.join("\r\n")}(At,Pt);if("zip"===(pt(At),Pt.fileType))return function yp(At,Nt){var Pt=Nt||{},Ft=[],Bt=[],Ut=le(1),ce=Pt.compression?8:0,_e=0,de=0,ue=0,je=0,Ze=0,Ci=At.FullPaths[0],ci=Ci,Ye=At.FileIndex[0],Zi=[],Dr=0;for(de=1;de<At.FullPaths.length;++de)if(ci=At.FullPaths[de].slice(Ci.length),(Ye=At.FileIndex[de]).size&&Ye.content&&"\x01Sh33tJ5"!=ci){var Na=je,Qr=le(ci.length);for(ue=0;ue<ci.length;++ue)Qr.write_shift(1,127&ci.charCodeAt(ue));Qr=Qr.slice(0,Qr.l),Zi[Ze]="string"==typeof Ye.content?hq.bstr(Ye.content,0):hq.buf(Ye.content,0);var Ys="string"==typeof Ye.content?Go(Ye.content):Ye.content;8==ce&&(Ys=De(Ys)),(Ut=le(30)).write_shift(4,67324752),Ut.write_shift(2,20),Ut.write_shift(2,_e),Ut.write_shift(2,ce),Ye.mt?s(Ut,Ye.mt):Ut.write_shift(4,0),Ut.write_shift(-4,8&_e?0:Zi[Ze]),Ut.write_shift(4,8&_e?0:Ys.length),Ut.write_shift(4,8&_e?0:Ye.content.length),Ut.write_shift(2,Qr.length),Ut.write_shift(2,0),je+=Ut.length,Ft.push(Ut),je+=Qr.length,Ft.push(Qr),je+=Ys.length,Ft.push(Ys),8&_e&&((Ut=le(12)).write_shift(-4,Zi[Ze]),Ut.write_shift(4,Ys.length),Ut.write_shift(4,Ye.content.length),je+=Ut.l,Ft.push(Ut)),(Ut=le(46)).write_shift(4,33639248),Ut.write_shift(2,0),Ut.write_shift(2,20),Ut.write_shift(2,_e),Ut.write_shift(2,ce),Ut.write_shift(4,0),Ut.write_shift(-4,Zi[Ze]),Ut.write_shift(4,Ys.length),Ut.write_shift(4,Ye.content.length),Ut.write_shift(2,Qr.length),Ut.write_shift(2,0),Ut.write_shift(2,0),Ut.write_shift(2,0),Ut.write_shift(2,0),Ut.write_shift(4,0),Ut.write_shift(4,Na),Dr+=Ut.l,Bt.push(Ut),Dr+=Qr.length,Bt.push(Qr),++Ze}return(Ut=le(22)).write_shift(4,101010256),Ut.write_shift(2,0),Ut.write_shift(2,0),Ut.write_shift(2,Ze),Ut.write_shift(2,Ze),Ut.write_shift(4,Dr),Ut.write_shift(4,je),Ut.write_shift(2,0),Hs([Hs(Ft),Hs(Bt),Ut])}(At,Pt);var Ft=function(Ci){for(var ci=0,Ye=0,Zi=0;Zi<Ci.FileIndex.length;++Zi){var Dr=Ci.FileIndex[Zi];if(Dr.content){var Na=Dr.content.length;Na>0&&(Na<4096?ci+=Na+63>>6:Ye+=Na+511>>9)}}for(var Qr=Ci.FullPaths.length+3>>2,Zu=ci+127>>7,Tp=(ci+7>>3)+Ye+Qr+Zu,Nd=Tp+127>>7,I0=Nd<=109?0:Math.ceil((Nd-109)/127);Tp+Nd+I0+127>>7>Nd;)I0=++Nd<=109?0:Math.ceil((Nd-109)/127);var pc=[1,I0,Nd,Zu,Qr,Ye,ci,0];return Ci.FileIndex[0].size=ci<<6,pc[7]=(Ci.FileIndex[0].start=pc[0]+pc[1]+pc[2]+pc[3]+pc[4]+pc[5])+(pc[6]+7>>3),pc}(At),Bt=le(Ft[7]<<9),Ut=0,ce=0;for(Ut=0;Ut<8;++Ut)Bt.write_shift(1,we[Ut]);for(Ut=0;Ut<8;++Ut)Bt.write_shift(2,0);for(Bt.write_shift(2,62),Bt.write_shift(2,3),Bt.write_shift(2,65534),Bt.write_shift(2,9),Bt.write_shift(2,6),Ut=0;Ut<3;++Ut)Bt.write_shift(2,0);for(Bt.write_shift(4,0),Bt.write_shift(4,Ft[2]),Bt.write_shift(4,Ft[0]+Ft[1]+Ft[2]+Ft[3]-1),Bt.write_shift(4,0),Bt.write_shift(4,4096),Bt.write_shift(4,Ft[3]?Ft[0]+Ft[1]+Ft[2]-1:Dt),Bt.write_shift(4,Ft[3]),Bt.write_shift(-4,Ft[1]?Ft[0]-1:Dt),Bt.write_shift(4,Ft[1]),Ut=0;Ut<109;++Ut)Bt.write_shift(-4,Ut<Ft[2]?Ft[1]+Ut:-1);if(Ft[1])for(ce=0;ce<Ft[1];++ce){for(;Ut<236+127*ce;++Ut)Bt.write_shift(-4,Ut<Ft[2]?Ft[1]+Ut:-1);Bt.write_shift(-4,ce===Ft[1]-1?Dt:ce+1)}var _e=function(Ci){for(ce+=Ci;Ut<ce-1;++Ut)Bt.write_shift(-4,Ut+1);Ci&&(++Ut,Bt.write_shift(-4,Dt))};for(ce=Ut=0,ce+=Ft[1];Ut<ce;++Ut)Bt.write_shift(-4,qt.DIFSECT);for(ce+=Ft[2];Ut<ce;++Ut)Bt.write_shift(-4,qt.FATSECT);_e(Ft[3]),_e(Ft[4]);for(var oe=0,de=0,ue=At.FileIndex[0];oe<At.FileIndex.length;++oe)(ue=At.FileIndex[oe]).content&&!((de=ue.content.length)<4096)&&(ue.start=ce,_e(de+511>>9));for(_e(Ft[6]+7>>3);511&Bt.l;)Bt.write_shift(-4,qt.ENDOFCHAIN);for(ce=Ut=0,oe=0;oe<At.FileIndex.length;++oe)(ue=At.FileIndex[oe]).content&&(de=ue.content.length)&&!(de>=4096)&&(ue.start=ce,_e(de+63>>6));for(;511&Bt.l;)Bt.write_shift(-4,qt.ENDOFCHAIN);for(Ut=0;Ut<Ft[4]<<2;++Ut){var je=At.FullPaths[Ut];if(je&&0!==je.length){ue=At.FileIndex[Ut],0===Ut&&(ue.start=ue.size?ue.start-1:Dt);var Ze=0===Ut&&Pt.root||ue.name;if(Ze.length>31&&(console.error("Name "+Ze+" will be truncated to "+Ze.slice(0,31)),Ze=Ze.slice(0,31)),de=2*(Ze.length+1),Bt.write_shift(64,Ze,"utf16le"),Bt.write_shift(2,de),Bt.write_shift(1,ue.type),Bt.write_shift(1,ue.color),Bt.write_shift(-4,ue.L),Bt.write_shift(-4,ue.R),Bt.write_shift(-4,ue.C),ue.clsid)Bt.write_shift(16,ue.clsid,"hex");else for(oe=0;oe<4;++oe)Bt.write_shift(4,0);Bt.write_shift(4,ue.state||0),Bt.write_shift(4,0),Bt.write_shift(4,0),Bt.write_shift(4,0),Bt.write_shift(4,0),Bt.write_shift(4,ue.start),Bt.write_shift(4,ue.size),Bt.write_shift(4,0)}else{for(oe=0;oe<17;++oe)Bt.write_shift(4,0);for(oe=0;oe<3;++oe)Bt.write_shift(4,-1);for(oe=0;oe<12;++oe)Bt.write_shift(4,0)}}for(Ut=1;Ut<At.FileIndex.length;++Ut)if((ue=At.FileIndex[Ut]).size>=4096)if(Bt.l=ue.start+1<<9,Mn&&Buffer.isBuffer(ue.content))ue.content.copy(Bt,Bt.l,0,ue.size),Bt.l+=ue.size+511&-512;else{for(oe=0;oe<ue.size;++oe)Bt.write_shift(1,ue.content[oe]);for(;511&oe;++oe)Bt.write_shift(1,0)}for(Ut=1;Ut<At.FileIndex.length;++Ut)if((ue=At.FileIndex[Ut]).size>0&&ue.size<4096)if(Mn&&Buffer.isBuffer(ue.content))ue.content.copy(Bt,Bt.l,0,ue.size),Bt.l+=ue.size+63&-64;else{for(oe=0;oe<ue.size;++oe)Bt.write_shift(1,ue.content[oe]);for(;63&oe;++oe)Bt.write_shift(1,0)}if(Mn)Bt.l=Bt.length;else for(;Bt.l<Bt.length;)Bt.write_shift(1,0);return Bt}i.version="1.2.2";var Ii,Et=64,Dt=-2,Ue="d0cf11e0a1b11ae1",we=[208,207,17,224,161,177,26,225],ve="00000000000000000000000000000000",qt={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Dt,FREESECT:-1,HEADER_SIGNATURE:Ue,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ve,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ze(At){for(var Nt=new Array(At.length),Pt=0;Pt<At.length;++Pt)Nt[Pt]=String.fromCharCode(At[Pt]);return Nt.join("")}function De(At){return Ii?Ii.deflateRawSync(At):Mo(At)}for(var At,Nt,fi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],vi=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ui=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Kt=typeof Uint8Array<"u",Qt=Kt?new Uint8Array(256):[],Yt=0;Yt<256;++Yt)Qt[Yt]=(void 0,255&((Nt=139536&((At=Yt)<<1|At<<11)|558144&(At<<5|At<<15))>>16|Nt>>8|Nt));function Ae(At,Nt){var Pt=Qt[255&At];return Nt<=8?Pt>>>8-Nt:(Pt=Pt<<8|Qt[At>>8&255],Nt<=16?Pt>>>16-Nt:(Pt=Pt<<8|Qt[At>>16&255])>>>24-Nt)}function Ot(At,Nt){var Pt=7&Nt,Ft=Nt>>>3;return(At[Ft]|(Pt<=6?0:At[Ft+1]<<8))>>>Pt&3}function Di(At,Nt){var Pt=7&Nt,Ft=Nt>>>3;return(At[Ft]|(Pt<=5?0:At[Ft+1]<<8))>>>Pt&7}function We(At,Nt){var Pt=7&Nt,Ft=Nt>>>3;return(At[Ft]|(Pt<=3?0:At[Ft+1]<<8))>>>Pt&31}function Hi(At,Nt){var Pt=7&Nt,Ft=Nt>>>3;return(At[Ft]|(Pt<=1?0:At[Ft+1]<<8))>>>Pt&127}function cn(At,Nt,Pt){var Ft=7&Nt,Bt=Nt>>>3,ce=At[Bt]>>>Ft;return Pt<8-Ft||(ce|=At[Bt+1]<<8-Ft,Pt<16-Ft)||(ce|=At[Bt+2]<<16-Ft,Pt<24-Ft)||(ce|=At[Bt+3]<<24-Ft),ce&(1<<Pt)-1}function bi(At,Nt,Pt){var Ft=7&Nt,Bt=Nt>>>3;return Ft<=5?At[Bt]|=(7&Pt)<<Ft:(At[Bt]|=Pt<<Ft&255,At[Bt+1]=(7&Pt)>>8-Ft),Nt+3}function cr(At,Nt,Pt){return At[Nt>>>3]|=Pt=(1&Pt)<<(7&Nt),Nt+1}function nr(At,Nt,Pt){var Bt=Nt>>>3;return At[Bt]|=255&(Pt<<=7&Nt),At[Bt+1]=Pt>>>=8,Nt+8}function fs(At,Nt,Pt){var Bt=Nt>>>3;return At[Bt]|=255&(Pt<<=7&Nt),At[Bt+1]=255&(Pt>>>=8),At[Bt+2]=Pt>>>8,Nt+16}function Qa(At,Nt){var Pt=At.length,Ft=2*Pt>Nt?2*Pt:Nt+5,Bt=0;if(Pt>=Nt)return At;if(Mn){var Ut=QJ(Ft);if(At.copy)At.copy(Ut);else for(;Bt<At.length;++Bt)Ut[Bt]=At[Bt];return Ut}if(Kt){var ce=new Uint8Array(Ft);if(ce.set)ce.set(At);else for(;Bt<Pt;++Bt)ce[Bt]=At[Bt];return ce}return At.length=Ft,At}function ri(At){for(var Nt=new Array(At),Pt=0;Pt<At;++Pt)Nt[Pt]=0;return Nt}function li(At,Nt,Pt){var Ft=1,Bt=0,Ut=0,ce=0,_e=0,oe=At.length,de=Kt?new Uint16Array(32):ri(32);for(Ut=0;Ut<32;++Ut)de[Ut]=0;for(Ut=oe;Ut<Pt;++Ut)At[Ut]=0;oe=At.length;var ue=Kt?new Uint16Array(oe):ri(oe);for(Ut=0;Ut<oe;++Ut)de[Bt=At[Ut]]++,Ft<Bt&&(Ft=Bt),ue[Ut]=0;for(de[0]=0,Ut=1;Ut<=Ft;++Ut)de[Ut+16]=_e=_e+de[Ut-1]<<1;for(Ut=0;Ut<oe;++Ut)0!=(_e=At[Ut])&&(ue[Ut]=de[_e+16]++);var je=0;for(Ut=0;Ut<oe;++Ut)if(0!=(je=At[Ut]))for(_e=Ae(ue[Ut],Ft)>>Ft-je,ce=(1<<Ft+4-je)-1;ce>=0;--ce)Nt[_e|ce<<je]=15&je|Ut<<4;return Ft}var Do=Kt?new Uint16Array(512):ri(512),rr=Kt?new Uint16Array(32):ri(32);if(!Kt){for(var $n=0;$n<512;++$n)Do[$n]=0;for($n=0;$n<32;++$n)rr[$n]=0}!function(){for(var At=[],Nt=0;Nt<32;Nt++)At.push(5);li(At,rr,32);var Pt=[];for(Nt=0;Nt<=143;Nt++)Pt.push(8);for(;Nt<=255;Nt++)Pt.push(9);for(;Nt<=279;Nt++)Pt.push(7);for(;Nt<=287;Nt++)Pt.push(8);li(Pt,Do,288)}();var na=function(){for(var Nt=Kt?new Uint8Array(32768):[],Pt=0,Ft=0;Pt<ui.length-1;++Pt)for(;Ft<ui[Pt+1];++Ft)Nt[Ft]=Pt;for(;Ft<32768;++Ft)Nt[Ft]=29;var Bt=Kt?new Uint8Array(259):[];for(Pt=0,Ft=0;Pt<vi.length-1;++Pt)for(;Ft<vi[Pt+1];++Ft)Bt[Ft]=Pt;return function(oe,de){return oe.length<8?function Ut(_e,oe){for(var de=0;de<_e.length;){var ue=Math.min(65535,_e.length-de);for(oe.write_shift(1,+(de+ue==_e.length)),oe.write_shift(2,ue),oe.write_shift(2,65535&~ue);ue-- >0;)oe[oe.l++]=_e[de++]}return oe.l}(oe,de):function ce(_e,oe){for(var de=0,ue=0,je=Kt?new Uint16Array(32768):[];ue<_e.length;){var Ze=Math.min(65535,_e.length-ue);if(Ze<10){for(7&(de=bi(oe,de,+(ue+Ze==_e.length)))&&(de+=8-(7&de)),oe.l=de/8|0,oe.write_shift(2,Ze),oe.write_shift(2,65535&~Ze);Ze-- >0;)oe[oe.l++]=_e[ue++];de=8*oe.l}else{de=bi(oe,de,+(ue+Ze==_e.length)+2);for(var Ci=0;Ze-- >0;){var ci=_e[ue],Ye=-1,Zi=0;if((Ye=je[Ci=32767&(Ci<<5^ci)])&&((Ye|=-32768&ue)>ue&&(Ye-=32768),Ye<ue))for(;_e[Ye+Zi]==_e[ue+Zi]&&Zi<250;)++Zi;if(Zi>2){(ci=Bt[Zi])<=22?de=nr(oe,de,Qt[ci+1]>>1)-1:(nr(oe,de,3),nr(oe,de+=5,Qt[ci-23]>>5),de+=3);var Dr=ci<8?0:ci-4>>2;Dr>0&&(fs(oe,de,Zi-vi[ci]),de+=Dr),de=nr(oe,de,Qt[ci=Nt[ue-Ye]]>>3),de-=3;var Na=ci<4?0:ci-2>>1;Na>0&&(fs(oe,de,ue-Ye-ui[ci]),de+=Na);for(var Qr=0;Qr<Zi;++Qr)je[Ci]=32767&ue,Ci=32767&(Ci<<5^_e[ue]),++ue;Ze-=Zi-1}else ci<=143?ci+=48:de=cr(oe,de,1),de=nr(oe,de,Qt[ci]),je[Ci]=32767&ue,++ue}de=nr(oe,de,0)-1}}return oe.l=(de+7)/8|0,oe.l}(oe,de)}}();function Mo(At){var Nt=le(50+Math.floor(1.1*At.length)),Pt=na(At,Nt);return Nt.slice(0,Pt)}var sn=Kt?new Uint16Array(32768):ri(32768),Ki=Kt?new Uint16Array(32768):ri(32768),qn=Kt?new Uint16Array(128):ri(128),Br=1,vp=1;function mc(At,Nt){var Pt=We(At,Nt)+257,Ft=We(At,Nt+=5)+1,Bt=function ei(At,Nt){var Pt=7&Nt,Ft=Nt>>>3;return(At[Ft]|(Pt<=4?0:At[Ft+1]<<8))>>>Pt&15}(At,Nt+=5)+4;Nt+=4;for(var Ut=0,ce=Kt?new Uint8Array(19):ri(19),_e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],oe=1,de=Kt?new Uint8Array(8):ri(8),ue=Kt?new Uint8Array(8):ri(8),je=ce.length,Ze=0;Ze<Bt;++Ze)ce[fi[Ze]]=Ut=Di(At,Nt),oe<Ut&&(oe=Ut),de[Ut]++,Nt+=3;var Ci=0;for(de[0]=0,Ze=1;Ze<=oe;++Ze)ue[Ze]=Ci=Ci+de[Ze-1]<<1;for(Ze=0;Ze<je;++Ze)0!=(Ci=ce[Ze])&&(_e[Ze]=ue[Ci]++);var ci=0;for(Ze=0;Ze<je;++Ze)if(0!=(ci=ce[Ze])){Ci=Qt[_e[Ze]]>>8-ci;for(var Ye=(1<<7-ci)-1;Ye>=0;--Ye)qn[Ci|Ye<<ci]=7&ci|Ze<<3}var Zi=[];for(oe=1;Zi.length<Pt+Ft;)switch(Ci=qn[Hi(At,Nt)],Nt+=7&Ci,Ci>>>=3){case 16:for(Ut=3+Ot(At,Nt),Nt+=2,Ci=Zi[Zi.length-1];Ut-- >0;)Zi.push(Ci);break;case 17:for(Ut=3+Di(At,Nt),Nt+=3;Ut-- >0;)Zi.push(0);break;case 18:for(Ut=11+Hi(At,Nt),Nt+=7;Ut-- >0;)Zi.push(0);break;default:Zi.push(Ci),oe<Ci&&(oe=Ci)}var Dr=Zi.slice(0,Pt),Na=Zi.slice(Pt);for(Ze=Pt;Ze<286;++Ze)Dr[Ze]=0;for(Ze=Ft;Ze<30;++Ze)Na[Ze]=0;return Br=li(Dr,sn,286),vp=li(Na,Ki,30),Nt}function xp(At,Nt){var Ft=function Qu(At,Nt){if(3==At[0]&&!(3&At[1]))return[hf(Nt),2];for(var Pt=0,Ft=0,Bt=QJ(Nt||1<<18),Ut=0,ce=Bt.length>>>0,_e=0,oe=0;!(1&Ft);)if(Ft=Di(At,Pt),Pt+=3,Ft>>>1)for(Ft>>1==1?(_e=9,oe=5):(Pt=mc(At,Pt),_e=Br,oe=vp);;){!Nt&&ce<Ut+32767&&(ce=(Bt=Qa(Bt,Ut+32767)).length);var ue=cn(At,Pt,_e),je=Ft>>>1==1?Do[ue]:sn[ue];if(Pt+=15&je,(je>>>=4)>>>8&255){if(256==je)break;var Ze=(je-=257)<8?0:je-4>>2;Ze>5&&(Ze=0);var Ci=Ut+vi[je];Ze>0&&(Ci+=cn(At,Pt,Ze),Pt+=Ze),ue=cn(At,Pt,oe),Pt+=15&(je=Ft>>>1==1?rr[ue]:Ki[ue]);var ci=(je>>>=4)<4?0:je-2>>1,Ye=ui[je];for(ci>0&&(Ye+=cn(At,Pt,ci),Pt+=ci),!Nt&&ce<Ci&&(ce=(Bt=Qa(Bt,Ci+100)).length);Ut<Ci;)Bt[Ut]=Bt[Ut-Ye],++Ut}else Bt[Ut++]=je}else{7&Pt&&(Pt+=8-(7&Pt));var de=At[Pt>>>3]|At[1+(Pt>>>3)]<<8;if(Pt+=32,de>0)for(!Nt&&ce<Ut+de&&(ce=(Bt=Qa(Bt,Ut+de)).length);de-- >0;)Bt[Ut++]=At[Pt>>>3],Pt+=8}return Nt?[Bt,Pt+7>>>3]:[Bt.slice(0,Ut),Pt+7>>>3]}(At.slice(At.l||0),Nt);return At.l+=Ft[1],Ft[0]}function A0(At,Nt){if(!At)throw new Error(Nt);typeof console<"u"&&console.error(Nt)}function ew(At,Nt){var Pt=At;wa(Pt,0);var Ut={FileIndex:[],FullPaths:[]};ft(Ut,{root:Nt.root});for(var ce=Pt.length-4;(80!=Pt[ce]||75!=Pt[ce+1]||5!=Pt[ce+2]||6!=Pt[ce+3])&&ce>=0;)--ce;Pt.l=ce+4,Pt.l+=4;var _e=Pt.read_shift(2);Pt.l+=6;var oe=Pt.read_shift(4);for(Pt.l=oe,ce=0;ce<_e;++ce){Pt.l+=20;var de=Pt.read_shift(4),ue=Pt.read_shift(4),je=Pt.read_shift(2),Ze=Pt.read_shift(2),Ci=Pt.read_shift(2);Pt.l+=8;var ci=Pt.read_shift(4),Ye=l(Pt.slice(Pt.l+je,Pt.l+je+Ze));Pt.l+=je+Ze+Ci;var Zi=Pt.l;Pt.l=ci+4,Ye&&Ye[1]&&((Ye[1]||{}).usz&&(ue=Ye[1].usz),(Ye[1]||{}).csz&&(de=Ye[1].csz)),PA(Pt,de,ue,Ut,Ye),Pt.l=Zi}return Ut}function PA(At,Nt,Pt,Ft,Bt){At.l+=2;var Ut=At.read_shift(2),ce=At.read_shift(2),_e=function o(At){var Nt=65535&At.read_shift(2),Pt=65535&At.read_shift(2),Ft=new Date,Bt=31&Pt,Ut=15&(Pt>>>=5);Pt>>>=4,Ft.setMilliseconds(0),Ft.setFullYear(Pt+1980),Ft.setMonth(Ut-1),Ft.setDate(Bt);var ce=31&Nt,_e=63&(Nt>>>=5);return Ft.setHours(Nt>>>=6),Ft.setMinutes(_e),Ft.setSeconds(ce<<1),Ft}(At);if(8257&Ut)throw new Error("Unsupported ZIP encryption");At.read_shift(4);for(var de=At.read_shift(4),ue=At.read_shift(4),je=At.read_shift(2),Ze=At.read_shift(2),Ci="",ci=0;ci<je;++ci)Ci+=String.fromCharCode(At[At.l++]);if(Ze){var Ye=l(At.slice(At.l,At.l+Ze));(Ye[21589]||{}).mt&&(_e=Ye[21589].mt),(Ye[1]||{}).usz&&(ue=Ye[1].usz),(Ye[1]||{}).csz&&(de=Ye[1].csz),Bt&&((Bt[21589]||{}).mt&&(_e=Bt[21589].mt),(Bt[1]||{}).usz&&(ue=Ye[1].usz),(Bt[1]||{}).csz&&(de=Ye[1].csz))}At.l+=Ze;var Zi=At.slice(At.l,At.l+de);switch(ce){case 8:Zi=function Le(At,Nt){if(!Ii)return xp(At,Nt);var Ft=new(0,Ii.InflateRaw),Bt=Ft._processChunk(At.slice(At.l),Ft._finishFlushFlag);return At.l+=Ft.bytesRead,Bt}(At,ue);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var Dr=!1;8&Ut&&(134695760==At.read_shift(4)&&(At.read_shift(4),Dr=!0),de=At.read_shift(4),ue=At.read_shift(4)),de!=Nt&&A0(Dr,"Bad compressed size: "+Nt+" != "+de),ue!=Pt&&A0(Dr,"Bad uncompressed size: "+Pt+" != "+ue),M0(Ft,Ci,Zi,{unsafe:!0,mt:_e})}var wf={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function iw(At,Nt){if(At.ctype)return At.ctype;var Pt=At.name||"",Ft=Pt.match(/\.([^\.]+)$/);return Ft&&wf[Ft[1]]||Nt&&(Ft=(Pt=Nt).match(/[\.\\]([^\.\\])+$/))&&wf[Ft[1]]?wf[Ft[1]]:"application/octet-stream"}function Ku(At){for(var Nt=BE(At),Pt=[],Ft=0;Ft<Nt.length;Ft+=76)Pt.push(Nt.slice(Ft,Ft+76));return Pt.join("\r\n")+"\r\n"}function FA(At){var Nt=At.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(de){var ue=de.charCodeAt(0).toString(16).toUpperCase();return"="+(1==ue.length?"0"+ue:ue)});"\n"==(Nt=Nt.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(Nt="=0D"+Nt.slice(1));for(var Pt=[],Ft=(Nt=Nt.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),Bt=0;Bt<Ft.length;++Bt){var Ut=Ft[Bt];if(0!=Ut.length)for(var ce=0;ce<Ut.length;){var _e=76,oe=Ut.slice(ce,ce+_e);"="==oe.charAt(_e-1)?_e--:"="==oe.charAt(_e-2)?_e-=2:"="==oe.charAt(_e-3)&&(_e-=3),oe=Ut.slice(ce,ce+_e),(ce+=_e)<Ut.length&&(oe+="="),Pt.push(oe)}else Pt.push("")}return Pt.join("\r\n")}function OA(At,Nt,Pt){for(var ce,Ft="",Bt="",Ut="",_e=0;_e<10;++_e){var oe=Nt[_e];if(!oe||oe.match(/^\s*$/))break;var de=oe.match(/^([^:]*?):\s*([^\s].*)$/);if(de)switch(de[1].toLowerCase()){case"content-location":Ft=de[2].trim();break;case"content-type":Ut=de[2].trim();break;case"content-transfer-encoding":Bt=de[2].trim()}}switch(++_e,Bt.toLowerCase()){case"base64":ce=Go(Fl(Nt.slice(_e).join("")));break;case"quoted-printable":ce=function D0(At){for(var Nt=[],Pt=0;Pt<At.length;++Pt){for(var Ft=At[Pt];Pt<=At.length&&"="==Ft.charAt(Ft.length-1);)Ft=Ft.slice(0,Ft.length-1)+At[++Pt];Nt.push(Ft)}for(var Bt=0;Bt<Nt.length;++Bt)Nt[Bt]=Nt[Bt].replace(/[=][0-9A-Fa-f]{2}/g,function(Ut){return String.fromCharCode(parseInt(Ut.slice(1),16))});return Go(Nt.join("\r\n"))}(Nt.slice(_e));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Bt)}var ue=M0(At,Ft.slice(Pt.length),ce,{unsafe:!0});Ut&&(ue.ctype=Ut)}function M0(At,Nt,Pt,Ft){var Bt=Ft&&Ft.unsafe;Bt||ft(At);var Ut=!Bt&&Ui.find(At,Nt);if(!Ut){var ce=At.FullPaths[0];Nt.slice(0,ce.length)==ce?ce=Nt:("/"!=ce.slice(-1)&&(ce+="/"),ce=(ce+Nt).replace("//","/")),Ut={name:r(Nt),type:2},At.FileIndex.push(Ut),At.FullPaths.push(ce),Bt||Ui.utils.cfb_gc(At)}return Ut.content=Pt,Ut.size=Pt?Pt.length:0,Ft&&(Ft.CLSID&&(Ut.clsid=Ft.CLSID),Ft.mt&&(Ut.mt=Ft.mt),Ft.ct&&(Ut.ct=Ft.ct)),Ut}return i.find=function Tt(At,Nt){var Pt=At.FullPaths.map(function(oe){return oe.toUpperCase()}),Ft=Pt.map(function(oe){var de=oe.split("/");return de[de.length-("/"==oe.slice(-1)?2:1)]}),Bt=!1;47===Nt.charCodeAt(0)?(Bt=!0,Nt=Pt[0].slice(0,-1)+Nt):Bt=-1!==Nt.indexOf("/");var Ut=Nt.toUpperCase(),ce=!0===Bt?Pt.indexOf(Ut):Ft.indexOf(Ut);if(-1!==ce)return At.FileIndex[ce];var _e=!Ut.match(u1);for(Ut=Ut.replace(vo,""),_e&&(Ut=Ut.replace(u1,"!")),ce=0;ce<Pt.length;++ce)if((_e?Pt[ce].replace(u1,"!"):Pt[ce]).replace(vo,"")==Ut||(_e?Ft[ce].replace(u1,"!"):Ft[ce]).replace(vo,"")==Ut)return At.FileIndex[ce];return null},i.read=function kt(At,Nt){var Pt=Nt&&Nt.type;switch(Pt||Mn&&Buffer.isBuffer(At)&&(Pt="buffer"),Pt||"base64"){case"file":return function _t(At,Nt){return S(),M(w.readFileSync(At),Nt)}(At,Nt);case"base64":return M(Go(Fl(At)),Nt);case"binary":return M(Go(At),Nt)}return M(At,Nt)},i.parse=M,i.write=function Me(At,Nt){var Pt=bt(At,Nt);switch(Nt&&Nt.type||"buffer"){case"file":return S(),w.writeFileSync(Nt.filename,Pt),Pt;case"binary":return"string"==typeof Pt?Pt:ze(Pt);case"base64":return BE("string"==typeof Pt?Pt:ze(Pt));case"buffer":if(Mn)return Buffer.isBuffer(Pt)?Pt:Ed(Pt);case"array":return"string"==typeof Pt?Go(Pt):Pt}return Pt},i.writeFile=function Ee(At,Nt,Pt){S();var Ft=bt(At,Pt);w.writeFileSync(Nt,Ft)},i.utils={cfb_new:function Ka(At){var Nt={};return ft(Nt,At),Nt},cfb_add:M0,cfb_del:function wp(At,Nt){ft(At);var Pt=Ui.find(At,Nt);if(Pt)for(var Ft=0;Ft<At.FileIndex.length;++Ft)if(At.FileIndex[Ft]==Pt)return At.FileIndex.splice(Ft,1),At.FullPaths.splice(Ft,1),!0;return!1},cfb_mov:function _p(At,Nt,Pt){ft(At);var Ft=Ui.find(At,Nt);if(Ft)for(var Bt=0;Bt<At.FileIndex.length;++Bt)if(At.FileIndex[Bt]==Ft)return At.FileIndex[Bt].name=r(Pt),At.FullPaths[Bt]=Pt,!0;return!1},cfb_gc:function I4(At){pt(At,!0)},ReadShift:y1,CheckField:Xq,prep_blob:wa,bconcat:Hs,use_zlib:function te(At){try{var Pt=new(0,At.InflateRaw);if(Pt._processChunk(new Uint8Array([3,0]),Pt._finishFlushFlag),!Pt.bytesRead)throw new Error("zlib does not expose bytesRead");Ii=At}catch(Ft){console.error("cannot use native zlib: "+(Ft.message||Ft))}},_deflateRaw:Mo,_inflateRaw:xp,consts:qt},i}();function fq(e){return"string"==typeof e?d1(e):Array.isArray(e)?function v6t(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function m1(e,i,t){if(typeof Uu<"u"&&Uu.writeFileSync)return t?Uu.writeFileSync(e,i,t):Uu.writeFileSync(e,i);if(typeof Deno<"u"){if(t&&"string"==typeof i)switch(t){case"utf8":i=new TextEncoder(t).encode(i);break;case"binary":i=d1(i);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(e,i)}var n="utf8"==t?Id(i):i;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var r=new Blob([fq(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,e);if(typeof saveAs<"u")return saveAs(r,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(r);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(null!=o.download)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}else if(typeof URL<"u"&&!URL.createObjectURL&&"object"==typeof chrome){var l="data:application/octet-stream;base64,"+function g6t(e){for(var i="",t=0,n=0,r=0,s=0,o=0,l=0,w=0,S=0;S<e.length;)s=(t=e[S++])>>2,o=(3&t)<<4|(n=e[S++])>>4,l=(15&n)<<2|(r=e[S++])>>6,w=63&r,isNaN(n)?l=w=64:isNaN(r)&&(w=64),i+=go.charAt(s)+go.charAt(o)+go.charAt(l)+go.charAt(w);return i}(new Uint8Array(fq(n)));return chrome.downloads.download({url:l,filename:e,saveAs:!0})}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var w=File(e);return w.open("w"),w.encoding="binary",Array.isArray(i)&&(i=Ad(i)),w.write(i),w.close(),i}catch(S){if(!S.message||-1==S.message.indexOf("onstruct"))throw S}throw new Error("cannot save file "+e)}function rs(e){for(var i=Object.keys(e),t=[],n=0;n<i.length;++n)Object.prototype.hasOwnProperty.call(e,i[n])&&t.push(i[n]);return t}function mq(e,i){for(var t=[],n=rs(e),r=0;r!==n.length;++r)null==t[e[n[r]][i]]&&(t[e[n[r]][i]]=n[r]);return t}function HE(e){for(var i=[],t=rs(e),n=0;n!==t.length;++n)i[e[t[n]]]=t[n];return i}function WE(e){for(var i=[],t=rs(e),n=0;n!==t.length;++n)i[e[t[n]]]=parseInt(t[n],10);return i}var pq=Date.UTC(1899,11,30,0,0,0),Y6t=Date.UTC(1899,11,31,0,0,0),$6t=Date.UTC(1904,0,1,0,0,0);function ys(e,i){var n=(e.getTime()-pq)/864e5;return i?(n-=1462)<-1402?n-1:n:n<60?n-1:n}function zu(e){if(e>=60&&e<61)return e;var i=new Date;return i.setTime(24*(e>60?e:e+1)*60*60*1e3+pq),i}var K6t=/^(\d+):(\d+)(:\d+)?(\.\d+)?$/,Z6t=/^(\d+)-(\d+)-(\d+)$/,gq=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)?(\.\d+)?$/;function hs(e,i){if(e instanceof Date)return e;var t=e.match(K6t);return t?new Date((i?$6t:Y6t)+1e3*(60*(60*parseInt(t[1],10)+parseInt(t[2],10))+(t[3]?parseInt(t[3].slice(1),10):0))+(t[4]?parseInt((t[4]+"000").slice(1,4),10):0)):(t=e.match(Z6t))?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],0,0,0,0)):(t=e.match(gq))?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4],+t[5],t[6]&&parseInt(t[6].slice(1),10)||0,t[7]&&parseInt((t[7]+"0000").slice(1,4),10)||0)):new Date(e)}function Ym(e,i){if(Mn&&Buffer.isBuffer(e)){if(i&&c1){if(255==e[0]&&254==e[1])return Id(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return Id(function YJ(e){for(var i=[],t=0;t<e.length>>1;++t)i[t]=String.fromCharCode(e.charCodeAt(2*t+1)+(e.charCodeAt(2*t)<<8));return i.join("")}(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(i){if(255==e[0]&&254==e[1])return Id(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return Id(new TextDecoder("utf-16be").decode(e.slice(2)))}var t={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(s){return t[s]||s})}catch{}var n=[],r=0;try{for(r=0;r<e.length-65536;r+=65536)n.push(String.fromCharCode.apply(0,e.slice(r,r+65536)));n.push(String.fromCharCode.apply(0,e.slice(r)))}catch{try{for(;r<e.length-16384;r+=16384)n.push(String.fromCharCode.apply(0,e.slice(r,r+16384)));n.push(String.fromCharCode.apply(0,e.slice(r)))}catch{for(;r!=e.length;++r)n.push(String.fromCharCode(e[r]))}}return n.join("")}function br(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=br(e[t]));return i}function Kn(e,i){for(var t="";t.length<i;)t+=e;return t}function Ll(e){var i=Number(e);if(!isNaN(i))return isFinite(i)?i:NaN;if(!/\d/.test(e))return i;var t=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return isNaN(i=Number(n))&&(n=n.replace(/[(]([^()]*)[)]/,function(r,s){return t=-t,s}),isNaN(i=Number(n)))?i:i/t}var J6t=/^(0?\d|1[0-2])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))\s+([ap])m?$/,q6t=/^([01]?\d|2[0-3])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))$/,t9t=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)(\.\d+)?[Z]?$/,e9t=-177984e5==new Date("6/9/69 00:00 UTC").valueOf(),r9t=["january","february","march","april","may","june","july","august","september","october","november","december"];function p1(e){if(t9t.test(e))return-1==e.indexOf("Z")?jE(new Date(e)):new Date(e);var i=e.toLowerCase(),t=i.replace(/\s+/g," ").trim(),n=t.match(J6t);if(n)return function i9t(e){return e[2]?e[3]?e[4]?new Date(Date.UTC(1899,11,31,+e[1]%12+("p"==e[7]?12:0),+e[2],+e[4],1e3*parseFloat(e[3]))):new Date(Date.UTC(1899,11,31,"p"==e[7]?12:0,+e[1],+e[2],1e3*parseFloat(e[3]))):e[5]?new Date(Date.UTC(1899,11,31,+e[1]%12+("p"==e[7]?12:0),+e[2],+e[5],e[6]?1e3*parseFloat(e[6]):0)):new Date(Date.UTC(1899,11,31,+e[1]%12+("p"==e[7]?12:0),+e[2],0,0)):new Date(Date.UTC(1899,11,31,+e[1]%12+("p"==e[7]?12:0),0,0,0))}(n);if(n=t.match(q6t))return function n9t(e){return e[2]?e[3]?e[4]?new Date(Date.UTC(1899,11,31,+e[1],+e[2],+e[4],1e3*parseFloat(e[3]))):new Date(Date.UTC(1899,11,31,0,+e[1],+e[2],1e3*parseFloat(e[3]))):e[5]?new Date(Date.UTC(1899,11,31,+e[1],+e[2],+e[5],e[6]?1e3*parseFloat(e[6]):0)):new Date(Date.UTC(1899,11,31,+e[1],+e[2],0,0)):new Date(Date.UTC(1899,11,31,+e[1],0,0,0))}(n);if(n=t.match(gq))return new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],n[6]&&parseInt(n[6].slice(1),10)||0,n[7]&&parseInt((n[7]+"0000").slice(1,4),10)||0));var r=new Date(e9t&&-1==e.indexOf("UTC")?e+" UTC":e),s=new Date(NaN),o=r.getYear(),w=(r.getMonth(),r.getDate());if(isNaN(w))return s;if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==r9t.indexOf(i))return s}else if(i.replace(/[ap]m?/,"").match(/[a-z]/))return s;return o<0||o>8099||e.match(/[^-0-9:,\/\\\ ]/)?s:r}function $m(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function jE(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))}function xn(e,i,t){if(e.FullPaths){var n;if("string"==typeof t)return n=Mn?Ed(t):function x6t(e){for(var i=[],t=0,n=e.length+250,r=hf(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)r[t++]=o;else if(o<2048)r[t++]=192|o>>6&31,r[t++]=128|63&o;else if(o>=55296&&o<57344){o=64+(1023&o);var l=1023&e.charCodeAt(++s);r[t++]=240|o>>8&7,r[t++]=128|o>>2&63,r[t++]=128|l>>6&15|(3&o)<<4,r[t++]=128|63&l}else r[t++]=224|o>>12&15,r[t++]=128|o>>6&63,r[t++]=128|63&o;t>n&&(i.push(r.slice(0,t)),t=0,r=hf(65535),n=65530)}return i.push(r.slice(0,t)),Hs(i)}(t),Ui.utils.cfb_add(e,i,n);Ui.utils.cfb_add(e,i,t)}else e.file(i,t)}function jL(){return Ui.utils.cfb_new()}var Ws='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',XL=HE({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),YL=/[&<>'"]/g,m9t=/[\u0000-\u0008\u000b-\u001f\uFFFE-\uFFFF]/g;function Sn(e){return(e+"").replace(YL,function(t){return XL[t]}).replace(m9t,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Sq(e){return Sn(e).replace(/ /g,"_x0020_")}var Eq=/[\u0000-\u001f]/g;function v1(e){return(e+"").replace(YL,function(t){return XL[t]}).replace(/\n/g,"<br/>").replace(Eq,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function $L(e){for(var i="",t=0,n=0,r=0,s=0,o=0,l=0;t<e.length;)(n=e.charCodeAt(t++))<128?i+=String.fromCharCode(n):(r=e.charCodeAt(t++),n>191&&n<224?(o=(31&n)<<6,o|=63&r,i+=String.fromCharCode(o)):(s=e.charCodeAt(t++),n<240?i+=String.fromCharCode((15&n)<<12|(63&r)<<6|63&s):(l=((7&n)<<18|(63&r)<<12|(63&s)<<6|63&(o=e.charCodeAt(t++)))-65536,i+=String.fromCharCode(55296+(l>>>10&1023)),i+=String.fromCharCode(56320+(1023&l)))));return i}function Dq(e){var t,n,l,i=hf(2*e.length),r=1,s=0,o=0;for(n=0;n<e.length;n+=r)r=1,(l=e.charCodeAt(n))<128?t=l:l<224?(t=64*(31&l)+(63&e.charCodeAt(n+1)),r=2):l<240?(t=4096*(15&l)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),r=3):(r=4,t=262144*(7&l)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(i[s++]=255&o,i[s++]=o>>>8,o=0),i[s++]=t%256,i[s++]=t>>>8;return i.slice(0,s).toString("ucs2")}function Mq(e){return Ed(e,"binary").toString("utf8")}var XE="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",wr=Mn&&(Mq(XE)==$L(XE)&&Mq||Dq(XE)==$L(XE)&&Dq)||$L,Id=Mn?function(e){return Ed(e,"utf8").toString("binary")}:function(e){for(var i=[],t=0,n=0,r=0;t<e.length;)switch(n=e.charCodeAt(t++),!0){case n<128:i.push(String.fromCharCode(n));break;case n<2048:i.push(String.fromCharCode(192+(n>>6))),i.push(String.fromCharCode(128+(63&n)));break;case n>=55296&&n<57344:n-=55296,r=e.charCodeAt(t++)-56320+(n<<10),i.push(String.fromCharCode(240+(r>>18&7))),i.push(String.fromCharCode(144+(r>>12&63))),i.push(String.fromCharCode(128+(r>>6&63))),i.push(String.fromCharCode(128+(63&r)));break;default:i.push(String.fromCharCode(224+(n>>12))),i.push(String.fromCharCode(128+(n>>6&63))),i.push(String.fromCharCode(128+(63&n)))}return i.join("")},Rq=/(^\s|\s$|\n)/;function $a(e,i){return"<"+e+(i.match(Rq)?' xml:space="preserve"':"")+">"+i+"</"+e+">"}function x1(e){return rs(e).map(function(i){return" "+i+'="'+e[i]+'"'}).join("")}function ti(e,i,t){return"<"+e+(null!=t?x1(t):"")+(null!=i?(i.match(Rq)?' xml:space="preserve"':"")+">"+i+"</"+e:"/")+">"}function QL(e,i){try{return e.toISOString().replace(/\.\d*/,"")}catch(t){if(i)throw t}return""}var ba={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Km=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Nl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"},Pq=function(e){for(var i=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,s=e[0][n].length;r<s;r+=10240)i.push.apply(i,e[0][n].slice(r,r+10240));return i},Fq=Mn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(i){return Buffer.isBuffer(i)?i:Ed(i)})):Pq(e)}:Pq,Oq=function(e,i,t){for(var n=[],r=i;r<t;r+=2)n.push(String.fromCharCode(Gu(e,r)));return n.join("").replace(vo,"")},$E=Mn?function(e,i,t){return Buffer.isBuffer(e)&&c1?e.toString("utf16le",i,t).replace(vo,""):Oq(e,i,t)}:Oq,Lq=function(e,i,t){for(var n=[],r=i;r<i+t;++r)n.push(("0"+e[r].toString(16)).slice(-2));return n.join("")},Nq=Mn?function(e,i,t){return Buffer.isBuffer(e)?e.toString("hex",i,i+t):Lq(e,i,t)}:Lq,Bq=function(e,i,t){for(var n=[],r=i;r<t;r++)n.push(String.fromCharCode(m0(e,r)));return n.join("")},f0=Mn?function(i,t,n){return Buffer.isBuffer(i)?i.toString("utf8",t,n):Bq(i,t,n)}:Bq,Vq=function(e,i){var t=Oa(e,i);return t>0?f0(e,i+4,i+4+t-1):""},KL=Vq,Uq=function(e,i){var t=Oa(e,i);return t>0?f0(e,i+4,i+4+t-1):""},ZL=Uq,zq=function(e,i){var t=2*Oa(e,i);return t>0?f0(e,i+4,i+4+t-1):""},JL=zq,Gq=function(i,t){var n=Oa(i,t);return n>0?$E(i,t+4,t+4+n):""},qL=Gq,Hq=function(e,i){var t=Oa(e,i);return t>0?f0(e,i+4,i+4+t):""},tN=Hq,Wq=function(e,i){return function b9t(e,i){for(var t=1-2*(e[i+7]>>>7),n=((127&e[i+7])<<4)+(e[i+6]>>>4&15),r=15&e[i+6],s=5;s>=0;--s)r=256*r+e[i+s];return 2047==n?0==r?t*(1/0):NaN:(0==n?n=-1022:(n-=1023,r+=Math.pow(2,52)),t*Math.pow(2,n-52)*r)}(e,i)},QE=Wq,eN=function(i){return Array.isArray(i)||typeof Uint8Array<"u"&&i instanceof Uint8Array};Mn&&(KL=function(i,t){if(!Buffer.isBuffer(i))return Vq(i,t);var n=i.readUInt32LE(t);return n>0?i.toString("utf8",t+4,t+4+n-1):""},ZL=function(i,t){if(!Buffer.isBuffer(i))return Uq(i,t);var n=i.readUInt32LE(t);return n>0?i.toString("utf8",t+4,t+4+n-1):""},JL=function(i,t){if(!Buffer.isBuffer(i)||!c1)return zq(i,t);var n=2*i.readUInt32LE(t);return i.toString("utf16le",t+4,t+4+n-1)},qL=function(i,t){if(!Buffer.isBuffer(i)||!c1)return Gq(i,t);var n=i.readUInt32LE(t);return i.toString("utf16le",t+4,t+4+n)},tN=function(i,t){if(!Buffer.isBuffer(i))return Hq(i,t);var n=i.readUInt32LE(t);return i.toString("utf8",t+4,t+4+n)},QE=function(i,t){return Buffer.isBuffer(i)?i.readDoubleLE(t):Wq(i,t)},eN=function(i){return Buffer.isBuffer(i)||Array.isArray(i)||typeof Uint8Array<"u"&&i instanceof Uint8Array}),typeof Cn<"u"&&function jq(){$E=function(e,i,t){return Cn.utils.decode(1200,e.slice(i,t)).replace(vo,"")},f0=function(e,i,t){return Cn.utils.decode(65001,e.slice(i,t))},KL=function(e,i){var t=Oa(e,i);return t>0?Cn.utils.decode(jm,e.slice(i+4,i+4+t-1)):""},ZL=function(e,i){var t=Oa(e,i);return t>0?Cn.utils.decode(ya,e.slice(i+4,i+4+t-1)):""},JL=function(e,i){var t=2*Oa(e,i);return t>0?Cn.utils.decode(1200,e.slice(i+4,i+4+t-1)):""},qL=function(e,i){var t=Oa(e,i);return t>0?Cn.utils.decode(1200,e.slice(i+4,i+4+t)):""},tN=function(e,i){var t=Oa(e,i);return t>0?Cn.utils.decode(65001,e.slice(i+4,i+4+t)):""}}();var m0=function(e,i){return e[i]},Gu=function(e,i){return 256*e[i+1]+e[i]},_9t=function(e,i){var t=256*e[i+1]+e[i];return t<32768?t:-1*(65535-t+1)},Oa=function(e,i){return e[i+3]*(1<<24)+(e[i+2]<<16)+(e[i+1]<<8)+e[i]},Zm=function(e,i){return e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]},T9t=function(e,i){return e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]};function y1(e,i){var n,r,o,l,w,S,t="",s=[];switch(i){case"dbcs":if(S=this.l,Mn&&Buffer.isBuffer(this)&&c1)t=this.slice(this.l,this.l+2*e).toString("utf16le");else for(w=0;w<e;++w)t+=String.fromCharCode(Gu(this,S)),S+=2;e*=2;break;case"utf8":t=f0(this,this.l,this.l+e);break;case"utf16le":t=$E(this,this.l,this.l+(e*=2));break;case"wstr":if(!(typeof Cn<"u"))return y1.call(this,e,"dbcs");t=Cn.utils.decode(ya,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":t=KL(this,this.l),e=4+Oa(this,this.l);break;case"lpstr-cp":t=ZL(this,this.l),e=4+Oa(this,this.l);break;case"lpwstr":t=JL(this,this.l),e=4+2*Oa(this,this.l);break;case"lpp4":e=4+Oa(this,this.l),t=qL(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+Oa(this,this.l),t=tN(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,t="";0!==(o=m0(this,this.l+e++));)s.push(l1(o));t=s.join("");break;case"_wstr":for(e=0,t="";0!==(o=Gu(this,this.l+e));)s.push(l1(o)),e+=2;e+=2,t=s.join("");break;case"dbcs-cont":for(t="",S=this.l,w=0;w<e;++w){if(this.lens&&-1!==this.lens.indexOf(S))return o=m0(this,S),this.l=S+1,l=y1.call(this,e-w,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(l1(Gu(this,S))),S+=2}t=s.join(""),e*=2;break;case"cpstr":if(typeof Cn<"u"){t=Cn.utils.decode(ya,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(t="",S=this.l,w=0;w!=e;++w){if(this.lens&&-1!==this.lens.indexOf(S))return o=m0(this,S),this.l=S+1,l=y1.call(this,e-w,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(l1(m0(this,S))),S+=1}t=s.join("");break;default:switch(e){case 1:return n=m0(this,this.l),this.l++,n;case 2:return n=("i"===i?_9t:Gu)(this,this.l),this.l+=2,n;case 4:case-4:return"i"!==i&&128&this[this.l+3]?(r=Oa(this,this.l),this.l+=4,r):(n=(e>0?Zm:T9t)(this,this.l),this.l+=4,n);case 8:case-8:if("f"===i)return r=8==e?QE(this,this.l):QE([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:t=Nq(this,this.l,e)}}return this.l+=e,t}var C9t=function(e,i,t){e[t]=255&i,e[t+1]=i>>>8&255,e[t+2]=i>>>16&255,e[t+3]=i>>>24&255},S9t=function(e,i,t){e[t]=255&i,e[t+1]=i>>8&255,e[t+2]=i>>16&255,e[t+3]=i>>24&255},E9t=function(e,i,t){e[t]=255&i,e[t+1]=i>>>8&255};function A9t(e,i,t){var n=0,r=0;if("dbcs"===t){for(r=0;r!=i.length;++r)E9t(this,i.charCodeAt(r),this.l+2*r);n=2*i.length}else if("sbcs"===t||"cpstr"==t)if(typeof Cn<"u"&&874==jm){for(r=0;r!=i.length;++r){var s=Cn.utils.encode(jm,i.charAt(r));this[this.l+r]=s[0]}n=i.length}else if(typeof Cn<"u"&&"cpstr"==t){if((s=Cn.utils.encode(ya,i)).length==i.length)for(r=0;r<i.length;++r)0==s[r]&&0!=i.charCodeAt(r)&&(s[r]=95);if(s.length==2*i.length)for(r=0;r<i.length;++r)0==s[2*r]&&0==s[2*r+1]&&0!=i.charCodeAt(r)&&(s[2*r]=95);for(r=0;r<s.length;++r)this[this.l+r]=s[r];n=s.length}else{for(i=i.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=i.length;++r)this[this.l+r]=255&i.charCodeAt(r);n=i.length}else{if("hex"===t){for(;r<e;++r)this[this.l++]=parseInt(i.slice(2*r,2*r+2),16)||0;return this}if("utf16le"===t){var o=Math.min(this.l+e,this.length);for(r=0;r<Math.min(i.length,e);++r){var l=i.charCodeAt(r);this[this.l++]=255&l,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}switch(e){case 1:n=1,this[this.l]=255&i;break;case 2:n=2,this[this.l]=255&i,this[this.l+1]=255&(i>>>=8);break;case 3:n=3,this[this.l]=255&i,this[this.l+1]=255&(i>>>=8),this[this.l+2]=255&(i>>>=8);break;case 4:n=4,C9t(this,i,this.l);break;case 8:if(n=8,"f"===t){!function w9t(e,i,t){var n=(i<0||1/i==-1/0?1:0)<<7,r=0,s=0,o=n?-i:i;isFinite(o)?0==o?r=s=0:(r=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-r),r<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?r=-1022:(s-=Math.pow(2,52),r+=1023)):(r=2047,s=isNaN(i)?26985:0);for(var l=0;l<=5;++l,s/=256)e[t+l]=255&s;e[t+6]=(15&r)<<4|15&s,e[t+7]=r>>4|n}(this,i,this.l);break}case 16:break;case-4:n=4,S9t(this,i,this.l)}}return this.l+=n,this}function Xq(e,i){var t=Nq(this,this.l,e.length>>1);if(t!==e)throw new Error(i+"Expected "+e+" saw "+t);this.l+=e.length>>1}function wa(e,i){e.l=i,e.read_shift=y1,e.chk=Xq,e.write_shift=A9t}function xo(e,i){e.l+=i}function le(e){var i=hf(e);return wa(i,0),i}function yo(){var e=[],i=Mn?256:2048,t=function(S){var M=le(S);return wa(M,0),M},n=t(i),r=function(){n&&(n.l&&(n.length>n.l&&((n=n.slice(0,n.l)).l=n.length),n.length>0&&e.push(n)),n=null)},s=function(S){return n&&S<n.length-n.l?n:(r(),n=t(Math.max(S+1,i)))};return{next:s,push:function(S){r(),null==(n=S).l&&(n.l=n.length),s(i)},end:function(){return r(),Hs(e)},_bufs:e}}function Ie(e,i,t,n){var s,r=+i;if(!isNaN(r)){n||(n=G1[r].p||(t||[]).length||0),s=1+(r>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var o=e.next(s);r<=127?o.write_shift(1,r):(o.write_shift(1,128+(127&r)),o.write_shift(1,r>>7));for(var l=0;4!=l;++l){if(!(n>=128)){o.write_shift(1,n);break}o.write_shift(1,128+(127&n)),n>>=7}n>0&&eN(t)&&e.push(t)}}function b1(e,i,t){var n=br(e);if(i.s?(n.cRel&&(n.c+=i.s.c),n.rRel&&(n.r+=i.s.r)):(n.cRel&&(n.c+=i.c),n.rRel&&(n.r+=i.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Yq(e,i,t){var n=br(e);return n.s=b1(n.s,i.s,t),n.e=b1(n.e,i.s,t),n}function w1(e,i){if(e.cRel&&e.c<0)for(e=br(e);e.c<0;)e.c+=i>8?16384:256;if(e.rRel&&e.r<0)for(e=br(e);e.r<0;)e.r+=i>8?1048576:i>5?65536:16384;var t=In(e);return!e.cRel&&null!=e.cRel&&(t=function I9t(e){return e.replace(/^([A-Z])/,"$$$1")}(t)),!e.rRel&&null!=e.rRel&&(t=function D9t(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(t)),t}function iN(e,i){return 0!=e.s.r||e.s.rRel||e.e.r!=(i.biff>=12?1048575:i.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(i.biff>=12?16383:255)||e.e.cRel?w1(e.s,i.biff)+":"+w1(e.e,i.biff):(e.s.rRel?"":"$")+Bn(e.s.r)+":"+(e.e.rRel?"":"$")+Bn(e.e.r):(e.s.cRel?"":"$")+yn(e.s.c)+":"+(e.e.cRel?"":"$")+yn(e.e.c)}function nN(e){return parseInt(function M9t(e){return e.replace(/\$(\d+)$/,"$1")}(e),10)-1}function Bn(e){return""+(e+1)}function rN(e){for(var i=function k9t(e){return e.replace(/^\$([A-Z])/,"$1")}(e),t=0,n=0;n!==i.length;++n)t=26*t+i.charCodeAt(n)-64;return t-1}function yn(e){if(e<0)throw new Error("invalid column "+e);var i="";for(++e;e;e=Math.floor((e-1)/26))i=String.fromCharCode((e-1)%26+65)+i;return i}function _r(e){for(var i=0,t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=48&&r<=57?i=10*i+(r-48):r>=65&&r<=90&&(t=26*t+(r-64))}return{c:t-1,r:i-1}}function In(e){for(var i=e.c+1,t="";i;i=(i-1)/26|0)t=String.fromCharCode((i-1)%26+65)+t;return t+(e.r+1)}function _a(e){var i=e.indexOf(":");return-1==i?{s:_r(e),e:_r(e)}:{s:_r(e.slice(0,i)),e:_r(e.slice(i+1))}}function bn(e,i){return typeof i>"u"||"number"==typeof i?bn(e.s,e.e):("string"!=typeof e&&(e=In(e)),"string"!=typeof i&&(i=In(i)),e==i?e:e+":"+i)}function _1(e){var i=_a(e);return"$"+yn(i.s.c)+"$"+Bn(i.s.r)+":$"+yn(i.e.c)+"$"+Bn(i.e.r)}function T1(e,i){if(!(e||i&&i.biff<=5&&i.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e.replace(/'/g,"''")+"'":e}function Yn(e){var i={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,r=0,s=e.length;for(t=0;n<s&&!((r=e.charCodeAt(n)-64)<1||r>26);++n)t=26*t+r;for(i.s.c=--t,t=0;n<s&&!((r=e.charCodeAt(n)-48)<0||r>9);++n)t=10*t+r;if(i.s.r=--t,n===s||10!=r)return i.e.c=i.s.c,i.e.r=i.s.r,i;for(++n,t=0;n!=s&&!((r=e.charCodeAt(n)-64)<1||r>26);++n)t=26*t+r;for(i.e.c=--t,t=0;n!=s&&!((r=e.charCodeAt(n)-48)<0||r>9);++n)t=10*t+r;return i.e.r=--t,i}function kd(e,i,t){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&t&&t.dateNF&&(e.z=t.dateNF),"e"==e.t?cc[e.v]||e.v:function $q(e,i){var t="d"==e.t&&i instanceof Date;if(null!=e.z)try{return e.w=ll(e.z,t?ys(i):i)}catch{}try{return e.w=ll((e.XF||{}).numFmtId||(t?14:0),t?ys(i):i)}catch{return""+i}}(e,null==i?e.v:i))}function mf(e,i){var t=i&&i.sheet?i.sheet:"Sheet1",n={};return n[t]=e,{SheetNames:[t],Sheets:n}}function Qq(e,i,t){var n=t||{},r=e?null!=e["!data"]:n.dense;null!=Gs&&null==r&&(r=Gs);var s=e||{};r&&!s["!data"]&&(s["!data"]=[]);var o=0,l=0;if(s&&null!=n.origin)if("number"==typeof n.origin)o=n.origin;else{var w="string"==typeof n.origin?_r(n.origin):n.origin;o=w.r,l=w.c}var S={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var M=Yn(s["!ref"]);S.s.c=M.s.c,S.s.r=M.s.r,S.e.c=Math.max(S.e.c,M.e.c),S.e.r=Math.max(S.e.r,M.e.r),-1==o&&(S.e.r=o=s["!ref"]?M.e.r+1:0)}else S.s.c=S.e.c=S.s.r=S.e.r=0;for(var P=[],O=!1,N=0;N!=i.length;++N)if(i[N]){if(!Array.isArray(i[N]))throw new Error("aoa_to_sheet expects an array of arrays");var U=o+N,j=""+(U+1);r&&(s["!data"][U]||(s["!data"][U]=[]),P=s["!data"][U]);for(var W=0;W!=i[N].length;++W)if(!(typeof i[N][W]>"u")){var Z={v:i[N][W]},rt=l+W;if(S.s.r>U&&(S.s.r=U),S.s.c>rt&&(S.s.c=rt),S.e.r<U&&(S.e.r=U),S.e.c<rt&&(S.e.c=rt),O=!0,!i[N][W]||"object"!=typeof i[N][W]||Array.isArray(i[N][W])||i[N][W]instanceof Date)if(Array.isArray(Z.v)&&(Z.f=i[N][W][1],Z.v=Z.v[0]),null===Z.v)if(Z.f)Z.t="n";else if(n.nullError)Z.t="e",Z.v=0;else{if(!n.sheetStubs)continue;Z.t="z"}else"number"==typeof Z.v?Z.t="n":"boolean"==typeof Z.v?Z.t="b":Z.v instanceof Date?(Z.z=n.dateNF||Li[14],n.UTC||(Z.v=jE(Z.v)),n.cellDates?(Z.t="d",Z.w=ll(Z.z,ys(Z.v,n.date1904))):(Z.t="n",Z.v=ys(Z.v,n.date1904),Z.w=ll(Z.z,Z.v))):Z.t="s";else Z=i[N][W];if(r)P[rt]&&P[rt].z&&(Z.z=P[rt].z),P[rt]=Z;else{var st=yn(rt)+j;s[st]&&s[st].z&&(Z.z=s[st].z),s[st]=Z}}}return O&&S.s.c<104e5&&(s["!ref"]=bn(S)),s}function p0(e,i){return Qq(null,e,i)}function Lc(e,i){return i||(i=le(4)),i.write_shift(4,e),i}function bo(e){var i=e.read_shift(4);return 0===i?"":e.read_shift(i,"dbcs")}function Ta(e,i){var t=!1;return null==i&&(t=!0,i=le(4+2*e.length)),i.write_shift(4,e.length),e.length>0&&i.write_shift(0,e,"dbcs"),t?i.slice(0,i.l):i}function O9t(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function sN(e,i){var t=e.l,n=e.read_shift(1),r=bo(e),s=[],o={t:r,h:r};if(1&n){for(var l=e.read_shift(4),w=0;w!=l;++w)s.push(O9t(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=t+i,o}var B9t=sN;function lc(e){var i=e.read_shift(4),t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:i,iStyleRef:t}}function Jm(e,i){return null==i&&(i=le(8)),i.write_shift(-4,e.c),i.write_shift(3,e.iStyleRef||e.s),i.write_shift(1,0),i}function qm(e){var i=e.read_shift(2);return i+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:i}}function tp(e,i){return null==i&&(i=le(4)),i.write_shift(3,e.iStyleRef||e.s),i.write_shift(1,0),i}var U9t=bo,Kq=Ta;function KE(e){var i=e.read_shift(4);return 0===i||4294967295===i?"":e.read_shift(i,"dbcs")}function C1(e,i){var t=!1;return null==i&&(t=!0,i=le(127)),i.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&i.write_shift(0,e,"dbcs"),t?i.slice(0,i.l):i}var z9t=bo,aN=KE,oN=C1;function ZE(e){var i=e.slice(e.l,e.l+4),t=1&i[0],n=2&i[0];e.l+=4;var r=0===n?QE([0,0,0,0,252&i[0],i[1],i[2],i[3]],0):Zm(i,0)>>2;return t?r/100:r}function Zq(e,i){null==i&&(i=le(4));var t=0,n=0,r=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?n=1:r==(0|r)&&r>=-(1<<29)&&r<1<<29&&(n=1,t=1),!n)throw new Error("unsupported RkNumber "+e);i.write_shift(-4,((t?r:e)<<2)+(t+2))}function Jq(e){var i={s:{},e:{}};return i.s.r=e.read_shift(4),i.e.r=e.read_shift(4),i.s.c=e.read_shift(4),i.e.c=e.read_shift(4),i}var ep=Jq,g0=function G9t(e,i){return i||(i=le(16)),i.write_shift(4,e.s.r),i.write_shift(4,e.e.r),i.write_shift(4,e.s.c),i.write_shift(4,e.e.c),i};function wo(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function ip(e,i){return(i||le(8)).write_shift(8,e,"f")}function JE(e,i){if(i||(i=le(8)),!e||e.auto)return i.write_shift(4,0),i.write_shift(4,0),i;null!=e.index?(i.write_shift(1,2),i.write_shift(1,e.index)):null!=e.theme?(i.write_shift(1,6),i.write_shift(1,e.theme)):(i.write_shift(1,5),i.write_shift(1,0));var t=e.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),i.write_shift(2,t),e.rgb&&null==e.theme){var n=e.rgb||"FFFFFF";"number"==typeof n&&(n=("000000"+n.toString(16)).slice(-6)),i.write_shift(1,parseInt(n.slice(0,2),16)),i.write_shift(1,parseInt(n.slice(2,4),16)),i.write_shift(1,parseInt(n.slice(4,6),16)),i.write_shift(1,255)}else i.write_shift(2,0),i.write_shift(1,0),i.write_shift(1,0);return i}var cN={1:{n:"CodePage",t:2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},dN={1:{n:"CodePage",t:2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function tUt(e){return e.map(function(i){return[i>>16&255,i>>8&255,255&i]})}var np=br(tUt([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,0,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),cc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},S1={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},uN=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"],hN={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},iA={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function ntt(e,i,t){var s,n=function X6t(e){for(var i=[],t=rs(e),n=0;n!==t.length;++n)null==i[e[t[n]]]&&(i[e[t[n]]]=[]),i[e[t[n]]].push(t[n]);return i}(hN),r=[];t||(r[r.length]=Ws,r[r.length]=ti("Types",null,{xmlns:ba.CT,"xmlns:xsd":ba.xsd,"xmlns:xsi":ba.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(S){return ti("Default",null,{Extension:S[0],ContentType:S[1]})})));var o=function(S){e[S]&&e[S].length>0&&(r[r.length]=ti("Override",null,{PartName:("/"==(s=e[S][0])[0]?"":"/")+s,ContentType:iA[S][i.bookType]||iA[S].xlsx}))},l=function(S){(e[S]||[]).forEach(function(M){r[r.length]=ti("Override",null,{PartName:("/"==M[0]?"":"/")+M,ContentType:iA[S][i.bookType]||iA[S].xlsx})})},w=function(S){(e[S]||[]).forEach(function(M){r[r.length]=ti("Override",null,{PartName:("/"==M[0]?"":"/")+M,ContentType:n[S][0]})})};return o("workbooks"),l("sheets"),l("charts"),w("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(w),w("vba"),w("comments"),w("threadedcomments"),w("drawings"),l("metadata"),w("people"),!t&&r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var wn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",CONN:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/connections",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function E1(e){var i=e.lastIndexOf("/");return e.slice(0,i+1)+"_rels/"+e.slice(i+1)+".rels"}function v0(e){var i=[Ws,ti("Relationships",null,{xmlns:ba.RELS})];return rs(e["!id"]).forEach(function(t){i[i.length]=ti("Relationship",null,e["!id"][t])}),i.length>2&&(i[i.length]="</Relationships>",i[1]=i[1].replace("/>",">")),i.join("")}function pr(e,i,t,n,r,s){if(r||(r={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),i<0)for(i=e["!idx"];e["!id"]["rId"+i];++i);if(e["!idx"]=i+1,r.Id="rId"+i,r.Type=n,r.Target=t,s?r.TargetMode=s:[wn.HLINK,wn.XPATH,wn.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),e["!id"][r.Id])throw new Error("Cannot rewrite rId "+i);return e["!id"][r.Id]=r,e[("/"+r.Target).replace("//","/")]=r,i}function rtt(e,i,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+i+'"/>\n',"  </rdf:Description>\n"].join("")}function aUt(e,i){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+i+'"/>\n',"  </rdf:Description>\n"].join("")}function stt(e,i){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+o1.version+"</meta:generator></office:meta></office:document-meta>"}var Wu=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function mN(e,i,t,n,r){null!=r[e]||null==i||""===i||(r[e]=i,i=Sn(i),n[n.length]=t?ti(e,i,t):$a(e,i))}function ott(e,i){var t=i||{},n=[Ws,ti("cp:coreProperties",null,{"xmlns:cp":ba.CORE_PROPS,"xmlns:dc":ba.dc,"xmlns:dcterms":ba.dcterms,"xmlns:dcmitype":ba.dcmitype,"xmlns:xsi":ba.xsi})],r={};if(!e&&!t.Props)return n.join("");e&&(null!=e.CreatedDate&&mN("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:QL(e.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,r),null!=e.ModifiedDate&&mN("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:QL(e.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,r));for(var s=0;s!=Wu.length;++s){var o=Wu[s],l=t.Props&&null!=t.Props[o[1]]?t.Props[o[1]]:e?e[o[1]]:null;!0===l?l="1":!1===l?l="0":"number"==typeof l&&(l=String(l)),null!=l&&mN(o[0],l,null,n,r)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var rp=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],ltt=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function dtt(e){var i=[],t=ti;return e||(e={}),e.Application="SheetJS",i[i.length]=Ws,i[i.length]=ti("Properties",null,{xmlns:ba.EXT_PROPS,"xmlns:vt":ba.vt}),rp.forEach(function(n){if(void 0!==e[n[1]]){var r;switch(n[2]){case"string":r=Sn(String(e[n[1]]));break;case"bool":r=e[n[1]]?"true":"false"}void 0!==r&&(i[i.length]=t(n[0],r))}}),i[i.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),i[i.length]=t("TitlesOfParts",t("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Sn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),i.length>2&&(i[i.length]="</Properties>",i[1]=i[1].replace("/>",">")),i.join("")}function utt(e){var i=[Ws,ti("Properties",null,{xmlns:ba.CUST_PROPS,"xmlns:vt":ba.vt})];if(!e)return i.join("");var t=1;return rs(e).forEach(function(r){++t,i[i.length]=ti("property",function y9t(e,i){switch(typeof e){case"string":var t=ti("vt:lpwstr",Sn(e));return i&&(t=t.replace(/&quot;/g,"_x0022_")),t;case"number":return ti((0|e)==e?"vt:i4":"vt:r8",Sn(String(e)));case"boolean":return ti("vt:bool",e?"true":"false")}if(e instanceof Date)return ti("vt:filetime",QL(e));throw new Error("Unable to serialize "+e)}(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Sn(r)})}),i.length>2&&(i[i.length]="</Properties>",i[1]=i[1].replace("/>",">")),i.join("")}var pN={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function vtt(e,i){var t=le(4),n=le(4);switch(t.write_shift(4,80==e?31:e),e){case 3:n.write_shift(-4,i);break;case 5:(n=le(8)).write_shift(8,i,"f");break;case 11:n.write_shift(4,i?1:0);break;case 64:n=function mUt(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,n=t%Math.pow(2,32),r=(t-n)/Math.pow(2,32);r*=1e7;var s=(n*=1e7)/Math.pow(2,32)|0;s>0&&(n%=Math.pow(2,32),r+=s);var o=le(8);return o.write_shift(4,n),o.write_shift(4,r),o}(i);break;case 31:case 80:for((n=le(4+2*(i.length+1)+(i.length%2?0:2))).write_shift(4,i.length+1),n.write_shift(0,i,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+i)}return Hs([t,n])}var ytt=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function wUt(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function btt(e,i,t){var n=le(8),r=[],s=[],o=8,l=0,w=le(8),S=le(8);if(w.write_shift(4,2),w.write_shift(4,1200),S.write_shift(4,1),s.push(w),r.push(S),o+=8+w.length,!i){(S=le(8)).write_shift(4,0),r.unshift(S);var M=[le(4)];for(M[0].write_shift(4,e.length),l=0;l<e.length;++l){var P=e[l][0];for((w=le(8+2*(P.length+1)+(P.length%2?0:2))).write_shift(4,l+2),w.write_shift(4,P.length+1),w.write_shift(0,P,"dbcs");w.l!=w.length;)w.write_shift(1,0);M.push(w)}w=Hs(M),s.unshift(w),o+=8+w.length}for(l=0;l<e.length;++l)if((!i||i[e[l][0]])&&!(ytt.indexOf(e[l][0])>-1||ltt.indexOf(e[l][0])>-1)&&null!=e[l][1]){var O=e[l][1],N=0;if(i){var U=t[N=+i[e[l][0]]];if("version"==U.p&&"string"==typeof O){var j=O.split(".");O=(+j[0]<<16)+(+j[1]||0)}w=vtt(U.t,O)}else{var W=wUt(O);-1==W&&(W=31,O=String(O)),w=vtt(W,O)}s.push(w),(S=le(8)).write_shift(4,i?N:2+l),r.push(S),o+=8+w.length}var Z=8*(s.length+1);for(l=0;l<s.length;++l)r[l].write_shift(4,Z),Z+=s[l].length;return n.write_shift(4,o),n.write_shift(4,s.length),Hs([n].concat(r).concat(s))}function _tt(e,i,t,n,r,s){var o=le(r?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Ui.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,r?2:1),o.write_shift(16,i,"hex"),o.write_shift(4,r?68:48);var w=btt(e,t,n);if(l.push(w),r){var S=btt(r,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+w.length),l.push(S)}return Hs(l)}function _o(e,i){return i||(i=le(2)),i.write_shift(2,+!!e),i}function Es(e){return e.read_shift(2,"u")}function dc(e,i){return i||(i=le(2)),i.write_shift(2,e),i}function Stt(e,i,t){return t||(t=le(2)),t.write_shift(1,"e"==i?+e:+!!e),t.write_shift(1,"e"==i?1:0),t}function x0(e,i,t){var n=e.read_shift(t&&t.biff>=12?2:1),r="sbcs-cont",s=ya;t&&t.biff>=8&&(ya=1200),t&&8!=t.biff?12==t.biff&&(r="wstr"):e.read_shift(1)&&(r="dbcs-cont"),t.biff>=2&&t.biff<=5&&(r="cpstr");var l=n?e.read_shift(n,r):"";return ya=s,l}function SUt(e){var i=e.t||"",n=le(3);n.write_shift(2,i.length),n.write_shift(1,1);var r=le(2*i.length);return r.write_shift(2*i.length,i,"utf16le"),Hs([n,r])}function Ett(e,i,t){return t||(t=le(3+2*e.length)),t.write_shift(2,e.length),t.write_shift(1,1),t.write_shift(31,e,"utf16le"),t}function Att(e,i){i||(i=le(6+2*e.length)),i.write_shift(4,1+e.length);for(var t=0;t<e.length;++t)i.write_shift(2,e.charCodeAt(t));return i.write_shift(2,0),i}function kUt(e){var i=le(512),t=0,n=e.Target;"file://"==n.slice(0,7)&&(n=n.slice(7));var r=n.indexOf("#"),s=r>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3}i.write_shift(4,2),i.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(t=0;t<o.length;++t)i.write_shift(4,o[t]);if(28==s)Att(n=n.slice(1),i);else if(2&s){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<o.length;++t)i.write_shift(1,parseInt(o[t],16));var l=r>-1?n.slice(0,r):n;for(i.write_shift(4,2*(l.length+1)),t=0;t<l.length;++t)i.write_shift(2,l.charCodeAt(t));i.write_shift(2,0),8&s&&Att(r>-1?n.slice(r+1):"",i)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<o.length;++t)i.write_shift(1,parseInt(o[t],16));for(var w=0;"../"==n.slice(3*w,3*w+3)||"..\\"==n.slice(3*w,3*w+3);)++w;for(i.write_shift(2,w),i.write_shift(4,n.length-3*w+1),t=0;t<n.length-3*w;++t)i.write_shift(1,255&n.charCodeAt(t+3*w));for(i.write_shift(1,0),i.write_shift(2,65535),i.write_shift(2,57005),t=0;t<6;++t)i.write_shift(4,0)}return i.slice(0,i.l)}function op(e,i,t,n){return n||(n=le(6)),n.write_shift(2,e),n.write_shift(2,i),n.write_shift(2,t||0),n}function FUt(e,i,t){var n=t.biff>8?4:2;return[e.read_shift(n),e.read_shift(n,"i"),e.read_shift(n,"i")]}function sA(e){var i=e.read_shift(2),t=e.read_shift(2);return{s:{c:e.read_shift(2),r:i},e:{c:e.read_shift(2),r:t}}}function ktt(e,i){return i||(i=le(8)),i.write_shift(2,e.s.r),i.write_shift(2,e.e.r),i.write_shift(2,e.s.c),i.write_shift(2,e.e.c),i}function yN(e,i,t){var n=1536,r=16;switch(t.bookType){case"biff8":case"xla":break;case"biff5":n=1280,r=8;break;case"biff4":n=4,r=6;break;case"biff3":n=3,r=6;break;case"biff2":n=2,r=4;break;default:throw new Error("unsupported BIFF version")}var s=le(r);return s.write_shift(2,n),s.write_shift(2,i),r>4&&s.write_shift(2,29282),r>6&&s.write_shift(2,1997),r>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function XUt(e,i){var t=!i||i.biff>=8?2:1,n=le(8+t*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),i.biff>=8&&n.write_shift(1,1),n.write_shift(t*e.name.length,e.name,i.biff<8?"sbcs":"utf16le");var r=n.slice(0,n.l);return r.l=n.l,r}function uzt(e,i,t,n){var r=t&&5==t.biff;n||(n=le(r?3+i.length:5+2*i.length)),n.write_shift(2,e),n.write_shift(r?1:2,i.length),r||n.write_shift(1,1),n.write_shift((r?1:2)*i.length,i,r?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return null==s.l&&(s.l=s.length),s}function Ltt(e,i,t,n){var r=t&&5==t.biff;n||(n=le(r?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,i<<4));var s=0;return e.numFmtId>0&&r&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),r||n.write_shift(4,0),n.write_shift(2,0),n}function Ntt(e){var i=le(12);return i.l++,i.write_shift(1,e.numFmtId),i.l+=10,i}var Tzt=Ntt;function bN(e,i,t,n,r,s){var o=le(8);return op(e,i,n,o),Stt(t,s,o),o}function wN(e,i,t,n){var r=le(6+(n||e.length));return r.write_shift(2,i),r.write_shift(2,t),r.write_shift(2,n||e.length),r.write_shift(e.length,e,"sbcs"),r}function Wzt(e){var i=le(24),t=_r(e[0]);i.write_shift(2,t.r),i.write_shift(2,t.r),i.write_shift(2,t.c),i.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)i.write_shift(1,parseInt(n[r],16));return Hs([i,kUt(e[1])])}function Xzt(e){var i=e[1].Tooltip,t=le(10+2*(i.length+1));t.write_shift(2,2048);var n=_r(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r=0;r<i.length;++r)t.write_shift(2,i.charCodeAt(r));return t.write_shift(2,0),t}function M1(e,i,t,n,r){return e||(e=le(7)),e.write_shift(2,i),e.write_shift(2,t),e.write_shift(1,n||0),e.write_shift(1,r||0),e.write_shift(1,0),e}var _N=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},i=HE({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(l,w){var S=w||{};S.dateNF||(S.dateNF="yyyymmdd");var M=p0(function t(l,w){var S=[],M=hf(1);switch(w.type){case"base64":M=Go(Fl(l));break;case"binary":M=Go(l);break;case"buffer":case"array":M=l}wa(M,0);var P=M.read_shift(1),O=!!(136&P),N=!1,U=!1;switch(P){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:N=!0,O=!0;break;case 140:U=!0;break;default:throw new Error("DBF Unsupported Version: "+P.toString(16))}var j=0,W=521;2==P&&(j=M.read_shift(2)),M.l+=3,2!=P&&(j=M.read_shift(4)),j>1048576&&(j=1e6),2!=P&&(W=M.read_shift(2));var Z=M.read_shift(2),rt=w.codepage||1252;2!=P&&(M.l+=16,M.read_shift(1),0!==M[M.l]&&(rt=e[M[M.l]]),M.l+=1,M.l+=2),U&&(M.l+=36);for(var st=[],vt={},_t=Math.min(M.length,2==P?521:W-10-(N?264:0)),kt=U?32:11;M.l<_t&&13!=M[M.l];)switch(vt={},vt.name=(typeof Cn<"u"?Cn.utils.decode(rt,M.slice(M.l,M.l+kt)):Ad(M.slice(M.l,M.l+kt))).replace(/[\u0000\r\n][\S\s]*$/g,""),M.l+=kt,vt.type=String.fromCharCode(M.read_shift(1)),2!=P&&!U&&(vt.offset=M.read_shift(4)),vt.len=M.read_shift(1),2==P&&(vt.offset=M.read_shift(2)),vt.dec=M.read_shift(1),vt.name.length&&st.push(vt),2!=P&&(M.l+=U?13:14),vt.type){case"B":(!N||8!=vt.len)&&w.WTF&&console.log("Skipping "+vt.name+":"+vt.type);break;case"G":case"P":w.WTF&&console.log("Skipping "+vt.name+":"+vt.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+vt.type)}if(13!==M[M.l]&&(M.l=W-1),13!==M.read_shift(1))throw new Error("DBF Terminator not found "+M.l+" "+M[M.l]);M.l=W;var ft=0,dt=0;for(S[0]=[],dt=0;dt!=st.length;++dt)S[0][dt]=st[dt].name;for(;j-- >0;)if(42!==M[M.l])for(++M.l,S[++ft]=[],dt=0,dt=0;dt!=st.length;++dt){var pt=M.slice(M.l,M.l+st[dt].len);M.l+=st[dt].len,wa(pt,0);var bt=typeof Cn<"u"?Cn.utils.decode(rt,pt):Ad(pt);switch(st[dt].type){case"C":bt.trim().length&&(S[ft][dt]=bt.replace(/([^\s])\s+$/,"$1"));break;case"D":8===bt.length?(S[ft][dt]=new Date(Date.UTC(+bt.slice(0,4),+bt.slice(4,6)-1,+bt.slice(6,8),0,0,0,0)),w&&w.UTC||(S[ft][dt]=$m(S[ft][dt]))):S[ft][dt]=bt;break;case"F":S[ft][dt]=parseFloat(bt.trim());break;case"+":case"I":S[ft][dt]=U?2147483648^pt.read_shift(-4,"i"):pt.read_shift(4,"i");break;case"L":switch(bt.trim().toUpperCase()){case"Y":case"T":S[ft][dt]=!0;break;case"N":case"F":S[ft][dt]=!1;break;case"":case"\0":case"?":break;default:throw new Error("DBF Unrecognized L:|"+bt+"|")}break;case"M":if(!O)throw new Error("DBF Unexpected MEMO for type "+P.toString(16));S[ft][dt]="##MEMO##"+(U?parseInt(bt.trim(),10):pt.read_shift(4));break;case"N":(bt=bt.replace(/\u0000/g,"").trim())&&"."!=bt&&(S[ft][dt]=+bt||0);break;case"@":S[ft][dt]=new Date(pt.read_shift(-8,"f")-621356832e5);break;case"T":var Tt=pt.read_shift(4),Et=pt.read_shift(4);if(0==Tt&&0==Et)break;S[ft][dt]=new Date(864e5*(Tt-2440588)+Et),w&&w.UTC||(S[ft][dt]=$m(S[ft][dt]));break;case"Y":S[ft][dt]=pt.read_shift(4,"i")/1e4+pt.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":S[ft][dt]=-pt.read_shift(-8,"f");break;case"B":if(N&&8==st[dt].len){S[ft][dt]=pt.read_shift(8,"f");break}case"G":case"P":pt.l+=st[dt].len;break;case"0":if("_NullFlags"===st[dt].name)break;default:throw new Error("DBF Unsupported data type "+st[dt].type)}}else M.l+=Z;if(2!=P&&M.l<M.length&&26!=M[M.l++])throw new Error("DBF EOF Marker missing "+(M.l-1)+" of "+M.length+" "+M[M.l-1].toString(16));return w&&w.sheetRows&&(S=S.slice(0,w.sheetRows)),w.DBF=st,S}(l,S),S);return M["!cols"]=S.DBF.map(function(P){return{wch:P.len,DBF:P}}),delete S.DBF,M}var s={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function r(l,w){try{var S=mf(n(l,w),w);return S.bookType="dbf",S}catch(M){if(w&&w.WTF)throw M}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function o(l,w){if(!l["!ref"])throw new Error("Cannot export empty sheet to DBF");var S=w||{},M=ya;if(+S.codepage>=0&&rc(+S.codepage),"string"==S.type)throw new Error("Cannot write DBF to JS string");var P=yo(),O=qN(l,{header:1,raw:!0,cellDates:!0}),N=O[0],U=O.slice(1),j=l["!cols"]||[],W=0,Z=0,rt=0,st=1;for(W=0;W<N.length;++W)if(((j[W]||{}).DBF||{}).name)N[W]=j[W].DBF.name,++rt;else if(null!=N[W]){if(++rt,"number"==typeof N[W]&&(N[W]=N[W].toString(10)),"string"!=typeof N[W])throw new Error("DBF Invalid column name "+N[W]+" |"+typeof N[W]+"|");if(N.indexOf(N[W])!==W)for(Z=0;Z<1024;++Z)if(-1==N.indexOf(N[W]+"_"+Z)){N[W]+="_"+Z;break}}var vt=Yn(l["!ref"]),_t=[],kt=[],ft=[];for(W=0;W<=vt.e.c-vt.s.c;++W){var dt="",pt="",bt=0,Tt=[];for(Z=0;Z<U.length;++Z)null!=U[Z][W]&&Tt.push(U[Z][W]);if(0!=Tt.length&&null!=N[W]){for(Z=0;Z<Tt.length;++Z){switch(typeof Tt[Z]){case"number":pt="B";break;case"string":default:pt="C";break;case"boolean":pt="L";break;case"object":pt=Tt[Z]instanceof Date?"D":"C"}bt=Math.max(bt,(typeof Cn<"u"&&"string"==typeof Tt[Z]?Cn.utils.encode(jm,Tt[Z]):String(Tt[Z])).length),dt=dt&&dt!=pt?"C":pt}bt>250&&(bt=250),"C"==(pt=((j[W]||{}).DBF||{}).type)&&j[W].DBF.len>bt&&(bt=j[W].DBF.len),"B"==dt&&"N"==pt&&(dt="N",ft[W]=j[W].DBF.dec,bt=j[W].DBF.len),kt[W]="C"==dt||"N"==pt?bt:s[dt]||0,st+=kt[W],_t[W]=dt}else _t[W]="?"}var Et=P.next(32);for(Et.write_shift(4,318902576),Et.write_shift(4,U.length),Et.write_shift(2,296+32*rt),Et.write_shift(2,st),W=0;W<4;++W)Et.write_shift(4,0);var Dt=+i[ya]||3;for(Et.write_shift(4,Dt<<8),e[Dt]!=+S.codepage&&(S.codepage&&console.error("DBF Unsupported codepage "+ya+", using 1252"),ya=1252),W=0,Z=0;W<N.length;++W)if(null!=N[W]){var Ue=P.next(32),we=(N[W].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Ue.write_shift(1,we,"sbcs"),Ue.write_shift(1,"?"==_t[W]?"C":_t[W],"sbcs"),Ue.write_shift(4,Z),Ue.write_shift(1,kt[W]||s[_t[W]]||0),Ue.write_shift(1,ft[W]||0),Ue.write_shift(1,2),Ue.write_shift(4,0),Ue.write_shift(1,0),Ue.write_shift(4,0),Ue.write_shift(4,0),Z+=kt[W]||s[_t[W]]||0}var ve=P.next(264);for(ve.write_shift(4,13),W=0;W<65;++W)ve.write_shift(4,0);for(W=0;W<U.length;++W){var qt=P.next(st);for(qt.write_shift(1,0),Z=0;Z<N.length;++Z)if(null!=N[Z])switch(_t[Z]){case"L":qt.write_shift(1,null==U[W][Z]?63:U[W][Z]?84:70);break;case"B":qt.write_shift(8,U[W][Z]||0,"f");break;case"N":var Ee="0";for("number"==typeof U[W][Z]&&(Ee=U[W][Z].toFixed(ft[Z]||0)),Ee.length>kt[Z]&&(Ee=Ee.slice(0,kt[Z])),rt=0;rt<kt[Z]-Ee.length;++rt)qt.write_shift(1,32);qt.write_shift(1,Ee,"sbcs");break;case"D":U[W][Z]?(qt.write_shift(4,("0000"+U[W][Z].getFullYear()).slice(-4),"sbcs"),qt.write_shift(2,("00"+(U[W][Z].getMonth()+1)).slice(-2),"sbcs"),qt.write_shift(2,("00"+U[W][Z].getDate()).slice(-2),"sbcs")):qt.write_shift(8,"00000000","sbcs");break;case"C":var ze=qt.l,Me=String(null!=U[W][Z]?U[W][Z]:"").slice(0,kt[Z]);for(qt.write_shift(1,Me,"cpstr"),ze+=kt[Z]-qt.l,rt=0;rt<ze;++rt)qt.write_shift(1,32)}}return ya=M,P.next(1).write_shift(1,26),P.end()}}}(),jtt=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},i=new RegExp("\x1bN("+rs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1").replace("{","\\{")+"|\\|)","gm");try{i=new RegExp("\x1bN("+rs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm")}catch{}var t=function(N,U){var j=e[U];return"number"==typeof j?LL(j):j},n=function(N,U,j){var W=U.charCodeAt(0)-32<<4|j.charCodeAt(0)-48;return 59==W?N:LL(W)};e["|"]=254;function o(N,U){var Et,j=N.split(/[\n\r]+/),W=-1,Z=-1,rt=0,st=0,vt=[],_t=[],kt=null,ft={},dt=[],pt=[],bt=[],Tt=0,Dt={Workbook:{WBProps:{},Names:[]}};for(+U.codepage>=0&&rc(+U.codepage);rt!==j.length;++rt){Tt=0;var qt,Ue=j[rt].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(i,t),we=Ue.replace(/;;/g,"\0").split(";").map(function(Yt){return Yt.replace(/\u0000/g,";")});if(Ue.length>0)switch(we[0]){case"ID":case"E":case"B":case"W":break;case"O":for(st=1;st<we.length;++st)if("V"===we[st].charAt(0)){var Ee=parseInt(we[st].slice(1),10);Ee>=1&&Ee<=4&&(Dt.Workbook.WBProps.date1904=!0)}break;case"P":"P"===we[1].charAt(0)&&_t.push(Ue.slice(3).replace(/;;/g,";"));break;case"NN":var ze={Sheet:0};for(st=1;st<we.length;++st)switch(we[st].charAt(0)){case"N":ze.Name=we[st].slice(1);break;case"E":ze.Ref=(U&&U.sheet||"Sheet1")+"!"+cp(we[st].slice(1))}Dt.Workbook.Names.push(ze);break;case"C":var Me=!1,Ii=!1,te=!1,Le=!1,De=-1,fi=-1,vi="",ui="z",Lt="";for(st=1;st<we.length;++st)switch(we[st].charAt(0)){case"A":Lt=we[st].slice(1);break;case"X":Z=parseInt(we[st].slice(1),10)-1,Ii=!0;break;case"Y":for(W=parseInt(we[st].slice(1),10)-1,Ii||(Z=0),Et=vt.length;Et<=W;++Et)vt[Et]=[];break;case"K":'"'===(qt=we[st].slice(1)).charAt(0)?(qt=qt.slice(1,qt.length-1),ui="s"):"TRUE"===qt||"FALSE"===qt?(qt="TRUE"===qt,ui="b"):"#"==qt.charAt(0)&&null!=S1[qt]?(ui="e",qt=S1[qt]):isNaN(Ll(qt))||(qt=Ll(qt),ui="n",null!==kt&&Ol(kt)&&U.cellDates&&(ui="number"==typeof(qt=zu(Dt.Workbook.WBProps.date1904?qt+1462:qt))?"n":"d")),typeof Cn<"u"&&"string"==typeof qt&&"string"!=(U||{}).type&&(U||{}).codepage&&(qt=Cn.utils.decode(U.codepage,qt)),Me=!0;break;case"E":Le=!0,vi=cp(we[st].slice(1),{r:W,c:Z});break;case"S":te=!0;break;case"G":break;case"R":De=parseInt(we[st].slice(1),10)-1;break;case"C":fi=parseInt(we[st].slice(1),10)-1;break;default:if(U&&U.WTF)throw new Error("SYLK bad record "+Ue)}if(Me&&(vt[W][Z]?(vt[W][Z].t=ui,vt[W][Z].v=qt):vt[W][Z]={t:ui,v:qt},kt&&(vt[W][Z].z=kt),!1!==U.cellText&&kt&&(vt[W][Z].w=ll(vt[W][Z].z,vt[W][Z].v,{date1904:Dt.Workbook.WBProps.date1904})),kt=null),te){if(Le)throw new Error("SYLK shared formula cannot have own formula");var Kt=De>-1&&vt[De][fi];if(!Kt||!Kt[1])throw new Error("SYLK shared formula cannot find base");vi=cet(Kt[1],{r:W-De,c:Z-fi})}vi&&(vt[W][Z]?vt[W][Z].f=vi:vt[W][Z]={t:"n",f:vi}),Lt&&(vt[W][Z]||(vt[W][Z]={t:"z"}),vt[W][Z].c=[{a:"SheetJSYLK",t:Lt}]);break;case"F":var Qt=0;for(st=1;st<we.length;++st)switch(we[st].charAt(0)){case"X":Z=parseInt(we[st].slice(1),10)-1,++Qt;break;case"Y":for(W=parseInt(we[st].slice(1),10)-1,Et=vt.length;Et<=W;++Et)vt[Et]=[];break;case"M":Tt=parseInt(we[st].slice(1),10)/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":kt=_t[parseInt(we[st].slice(1),10)];break;case"W":for(bt=we[st].slice(1).split(" "),Et=parseInt(bt[0],10);Et<=parseInt(bt[1],10);++Et)Tt=parseInt(bt[2],10),pt[Et-1]=0===Tt?{hidden:!0}:{wch:Tt};break;case"C":pt[Z=parseInt(we[st].slice(1),10)-1]||(pt[Z]={});break;case"R":dt[W=parseInt(we[st].slice(1),10)-1]||(dt[W]={}),Tt>0?(dt[W].hpt=Tt,dt[W].hpx=b0(Tt)):0===Tt&&(dt[W].hidden=!0);break;default:if(U&&U.WTF)throw new Error("SYLK bad record "+Ue)}Qt<1&&(kt=null);break;default:if(U&&U.WTF)throw new Error("SYLK bad record "+Ue)}}return dt.length>0&&(ft["!rows"]=dt),pt.length>0&&(ft["!cols"]=pt),pt.forEach(function(Yt){gf(Yt)}),U&&U.sheetRows&&(vt=vt.slice(0,U.sheetRows)),[vt,ft,Dt]}function w(N,U,j,W,Z,rt){var st="C;Y"+(j+1)+";X"+(W+1)+";K";switch(N.t){case"n":st+=N.v||0,N.f&&!N.F&&(st+=";E"+fA(N.f,{r:j,c:W}));break;case"b":st+=N.v?"TRUE":"FALSE";break;case"e":st+=N.w||cc[N.v]||N.v;break;case"d":st+=ys(hs(N.v,rt),rt);break;case"s":st+='"'+(null==N.v?"":String(N.v)).replace(/"/g,"").replace(/;/g,";;")+'"'}return st}function S(N,U,j){return"C;Y"+(U+1)+";X"+(j+1)+";A"+function(N){return N.replace(/\n/g,"\x1b :").replace(/\r/g,"\x1b =")}(N.map(function(Z){return Z.t}).join(""))}return{to_workbook:function l(N,U){var j=function s(N,U){switch(U.type){case"base64":return o(Fl(N),U);case"binary":return o(N,U);case"buffer":return o(Mn&&Buffer.isBuffer(N)?N.toString("binary"):Ad(N),U);case"array":return o(Ym(N),U)}throw new Error("Unrecognized type "+U.type)}(N,U),W=j[0],Z=j[1],rt=j[2],st=br(U);st.date1904=(((rt||{}).Workbook||{}).WBProps||{}).date1904;var vt=p0(W,st);rs(Z).forEach(function(kt){vt[kt]=Z[kt]});var _t=mf(vt,U);return rs(rt).forEach(function(kt){_t[kt]=rt[kt]}),_t.bookType="sylk",_t},from_sheet:function O(N,U,j){U||(U={}),U._formats=["General"];var st,W=["ID;PSheetJS;N;E"],Z=[],rt=Yn(N["!ref"]||"A1"),vt=null!=N["!data"],_t="\r\n",kt=(((j||{}).Workbook||{}).WBProps||{}).date1904;W.push("P;PGeneral");var dt=rt.s.r,pt=rt.s.c,bt=[];if(N["!ref"])for(dt=rt.s.r;dt<=rt.e.r;++dt)if(!vt||N["!data"][dt]){for(bt=[],pt=rt.s.c;pt<=rt.e.c;++pt)(st=vt?N["!data"][dt][pt]:N[yn(pt)+Bn(dt)])&&st.c&&bt.push(S(st.c,dt,pt));bt.length&&Z.push(bt.join(_t))}if(N["!ref"])for(dt=rt.s.r;dt<=rt.e.r;++dt)if(!vt||N["!data"][dt]){for(bt=[],pt=rt.s.c;pt<=rt.e.c;++pt)if((st=vt?N["!data"][dt][pt]:N[yn(pt)+Bn(dt)])&&(null!=st.v||st.f&&!st.F)){if("General"!=(st.z||("d"==st.t?Li[14]:"General"))){var Tt=U._formats.indexOf(st.z);-1==Tt&&(U._formats.push(st.z),Tt=U._formats.length-1,W.push("P;P"+st.z.replace(/;/g,";;"))),bt.push("F;P"+Tt+";Y"+(dt+1)+";X"+(pt+1))}bt.push(w(st,0,dt,pt,0,kt))}Z.push(bt.join(_t))}return W.push("F;P0;DG0G8;M255"),N["!cols"]&&function M(N,U){U.forEach(function(j,W){var Z="F;W"+(W+1)+" "+(W+1)+" ";j.hidden?Z+="0":("number"==typeof j.width&&!j.wpx&&(j.wpx=k1(j.width)),"number"==typeof j.wpx&&!j.wch&&(j.wch=R1(j.wpx)),"number"==typeof j.wch&&(Z+=Math.round(j.wch)))," "!=Z.charAt(Z.length-1)&&N.push(Z)})}(W,N["!cols"]),N["!rows"]&&function P(N,U){U.forEach(function(j,W){var Z="F;";j.hidden?Z+="M0;":j.hpt?Z+="M"+20*j.hpt+";":j.hpx&&(Z+="M"+20*P1(j.hpx)+";"),Z.length>2&&N.push(Z+"R"+(W+1))})}(W,N["!rows"]),N["!ref"]&&W.push("B;Y"+(rt.e.r-rt.s.r+1)+";X"+(rt.e.c-rt.s.c+1)+";D"+[rt.s.c,rt.s.r,rt.e.c,rt.e.r].join(" ")),W.push("O;L;D;B"+(kt?";V4":"")+";K47;G100 0.001"),delete U._formats,W.join(_t)+_t+Z.join(_t)+_t+"E"+_t}}}(),Xtt=function(){function i(l,w){for(var S=l.split("\n"),M=-1,P=-1,O=0,N=[];O!==S.length;++O)if("BOT"!==S[O].trim()){if(!(M<0)){for(var U=S[O].trim().split(","),j=U[0],W=U[1],Z=S[++O]||"";1&(Z.match(/["]/g)||[]).length&&O<S.length-1;)Z+="\n"+S[++O];switch(Z=Z.trim(),+j){case-1:if("BOT"===Z){N[++M]=[],P=0;continue}if("EOD"!==Z)throw new Error("Unrecognized DIF special command "+Z);break;case 0:"TRUE"===Z?N[M][P]=!0:"FALSE"===Z?N[M][P]=!1:isNaN(Ll(W))?isNaN(p1(W).getDate())?N[M][P]=W:(N[M][P]=hs(W),w&&w.UTC||(N[M][P]=$m(N[M][P]))):N[M][P]=Ll(W),++P;break;case 1:(Z=(Z=Z.slice(1,Z.length-1)).replace(/""/g,'"'))&&Z.match(/^=".*"$/)&&(Z=Z.slice(2,-1)),N[M][P++]=""!==Z?Z:null}if("EOD"===Z)break}}else N[++M]=[],P=0;return w&&w.sheetRows&&(N=N.slice(0,w.sheetRows)),N}function t(l,w){return p0(function e(l,w){switch(w.type){case"base64":return i(Fl(l),w);case"binary":return i(l,w);case"buffer":return i(Mn&&Buffer.isBuffer(l)?l.toString("binary"):Ad(l),w);case"array":return i(Ym(l),w)}throw new Error("Unrecognized type "+w.type)}(l,w),w)}function r(l,w){return"0,"+String(l)+"\r\n"+w}function s(l){return'1,0\r\n"'+l.replace(/"/g,'""')+'"'}return{to_workbook:function n(l,w){var S=mf(t(l,w),w);return S.bookType="dif",S},to_sheet:t,from_sheet:function o(l){if(!l["!ref"])throw new Error("Cannot export empty sheet to DIF");for(var S=Yn(l["!ref"]),M=null!=l["!data"],P=['TABLE\r\n0,1\r\n"sheetjs"\r\n',"VECTORS\r\n0,"+(S.e.r-S.s.r+1)+'\r\n""\r\n',"TUPLES\r\n0,"+(S.e.c-S.s.c+1)+'\r\n""\r\n','DATA\r\n0,0\r\n""\r\n'],O=S.s.r;O<=S.e.r;++O){for(var N=M?l["!data"][O]:[],U="-1,0\r\nBOT\r\n",j=S.s.c;j<=S.e.c;++j){var W=M?N&&N[j]:l[In({r:O,c:j})];if(null!=W){switch(W.t){case"n":U+=null!=W.w?"0,"+W.w+"\r\nV":null!=W.v?r(W.v,"V"):null==W.f||W.F?'1,0\r\n""':s("="+W.f);break;case"b":U+=W.v?r(1,"TRUE"):r(0,"FALSE");break;case"s":U+=s(isNaN(+W.v)?W.v:'="'+W.v+'"');break;case"d":W.w||(W.w=ll(W.z||Li[14],ys(hs(W.v)))),U+=r(W.w,"V");break;default:U+='1,0\r\n""'}U+="\r\n"}else U+='1,0\r\n""\r\n'}P.push(U)}return P.join("")+"-1,0\r\nEOD"}}}(),Ytt=function(){function e(P){return P.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function i(P){return P.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(P,O){return p0(function t(P,O){for(var N=P.split("\n"),U=-1,j=-1,W=0,Z=[];W!==N.length;++W){var rt=N[W].trim().split(":");if("cell"===rt[0]){var st=_r(rt[1]);if(Z.length<=st.r)for(U=Z.length;U<=st.r;++U)Z[U]||(Z[U]=[]);switch(U=st.r,j=st.c,rt[2]){case"t":Z[U][j]=e(rt[3]);break;case"v":Z[U][j]=+rt[3];break;case"vtf":var vt=rt[rt.length-1];case"vtc":Z[U][j]="nl"===rt[3]?!!+rt[4]:+rt[4],"vtf"==rt[2]&&(Z[U][j]=[Z[U][j],vt])}}}return O&&O.sheetRows&&(Z=Z.slice(0,O.sheetRows)),Z}(P,O),O)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),w="--SocialCalcSpreadsheetControlSave--";function S(P){if(!P||!P["!ref"])return"";for(var U,O=[],N=[],j="",W=_a(P["!ref"]),Z=null!=P["!data"],rt=W.s.r;rt<=W.e.r;++rt)for(var st=W.s.c;st<=W.e.c;++st)if(j=In({r:rt,c:st}),(U=Z?(P["!data"][rt]||[])[st]:P[j])&&null!=U.v&&"z"!==U.t){switch(N=["cell",j,"t"],U.t){case"s":case"str":N.push(i(U.v));break;case"n":U.f?(N[2]="vtf",N[3]="n",N[4]=U.v,N[5]=i(U.f)):(N[2]="v",N[3]=U.v);break;case"b":N[2]="vt"+(U.f?"f":"c"),N[3]="nl",N[4]=U.v?"1":"0",N[5]=i(U.f||(U.v?"TRUE":"FALSE"));break;case"d":var vt=ys(hs(U.v));N[2]="vtc",N[3]="nd",N[4]=""+vt,N[5]=U.w||ll(U.z||Li[14],vt);break;case"e":continue}O.push(N.join(":"))}return O.push("sheet:c:"+(W.e.c-W.s.c+1)+":r:"+(W.e.r-W.s.r+1)+":tvf:1"),O.push("valueformat:1:text-wiki"),O.join("\n")}return{to_workbook:function r(P,O){return mf(n(P,O),O)},to_sheet:n,from_sheet:function M(P){return[s,o,l,o,S(P),w].join("\n")}}}(),y0=function(){function e(M,P,O,N,U){U.raw?P[O][N]=M:""===M||(P[O][N]="TRUE"===M||"FALSE"!==M&&(isNaN(Ll(M))?isNaN(p1(M).getDate())?M:hs(M):Ll(M)))}var t={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(M){for(var P={},O=!1,N=0,U=0;N<M.length;++N)34==(U=M.charCodeAt(N))?O=!O:!O&&U in t&&(P[U]=(P[U]||0)+1);for(N in U=[],P)Object.prototype.hasOwnProperty.call(P,N)&&U.push([P[N],N]);if(!U.length)for(N in P=n)Object.prototype.hasOwnProperty.call(P,N)&&U.push([P[N],N]);return U.sort(function(j,W){return j[0]-W[0]||n[j[1]]-n[W[1]]}),t[U.pop()[1]]||44}function o(M,P){return!P||!P.PRN||P.FS||"sep="==M.slice(0,4)||M.indexOf("\t")>=0||M.indexOf(",")>=0||M.indexOf(";")>=0?function s(M,P){var O=P||{},N="";null!=Gs&&null==O.dense&&(O.dense=Gs);var U={};O.dense&&(U["!data"]=[]);var j={s:{c:0,r:0},e:{c:0,r:0}};"sep="==M.slice(0,4)?13==M.charCodeAt(5)&&10==M.charCodeAt(6)?(N=M.charAt(4),M=M.slice(7)):13==M.charCodeAt(5)||10==M.charCodeAt(5)?(N=M.charAt(4),M=M.slice(6)):N=r(M.slice(0,1024)):N=O&&O.FS?O.FS:r(M.slice(0,1024));var W=0,Z=0,rt=0,st=0,vt=0,_t=N.charCodeAt(0),kt=!1,ft=0,dt=M.charCodeAt(0),pt=null!=O.dateNF?function z6t(e){var i="number"==typeof e?Li[e]:e;return i=i.replace(GE,"(\\d+)"),GE.lastIndex=0,new RegExp("^"+i+"$")}(O.dateNF):null;function bt(){var Tt=M.slice(st,vt);"\r"==Tt.slice(-1)&&(Tt=Tt.slice(0,-1));var Et={};if('"'==Tt.charAt(0)&&'"'==Tt.charAt(Tt.length-1)&&(Tt=Tt.slice(1,-1).replace(/""/g,'"')),!1!==O.cellText&&(Et.w=Tt),0===Tt.length)Et.t="z";else if(O.raw)Et.t="s",Et.v=Tt;else if(0===Tt.trim().length)Et.t="s",Et.v=Tt;else if(61==Tt.charCodeAt(0))34==Tt.charCodeAt(1)&&34==Tt.charCodeAt(Tt.length-1)?(Et.t="s",Et.v=Tt.slice(2,-1).replace(/""/g,'"')):function M7t(e){return 1!=e.length}(Tt)?(Et.t="s",Et.f=Tt.slice(1),Et.v=Tt):(Et.t="s",Et.v=Tt);else if("TRUE"==Tt)Et.t="b",Et.v=!0;else if("FALSE"==Tt)Et.t="b",Et.v=!1;else if(isNaN(rt=Ll(Tt)))if(!isNaN((rt=p1(Tt)).getDate())||pt&&Tt.match(pt)){if(Et.z=O.dateNF||Li[14],pt&&Tt.match(pt)){var Dt=function G6t(e,i,t){var n=-1,r=-1,s=-1,o=-1,l=-1,w=-1;(i.match(GE)||[]).forEach(function(P,O){var N=parseInt(t[O+1],10);switch(P.toLowerCase().charAt(0)){case"y":n=N;break;case"d":s=N;break;case"h":o=N;break;case"s":w=N;break;case"m":o>=0?l=N:r=N}}),GE.lastIndex=0,w>=0&&-1==l&&r>=0&&(l=r,r=-1);var S=(""+(n>=0?n:(new Date).getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==S.length&&(S="0"+S),8==S.length&&(S="20"+S);var M=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(w>=0?w:0)).slice(-2);return-1==o&&-1==l&&-1==w?S:-1==n&&-1==r&&-1==s?M:S+"T"+M}(0,O.dateNF,Tt.match(pt)||[]);rt=hs(Dt),O&&!1===O.UTC&&(rt=$m(rt))}else O&&!1===O.UTC?rt=$m(rt):!1!==O.cellText&&O.dateNF&&(Et.w=ll(Et.z,rt));O.cellDates?(Et.t="d",Et.v=rt):(Et.t="n",Et.v=ys(rt)),O.cellNF||delete Et.z}else Et.t="s",Et.v=Tt;else Et.t="n",Et.v=rt;if("z"==Et.t||(O.dense?(U["!data"][W]||(U["!data"][W]=[]),U["!data"][W][Z]=Et):U[In({c:Z,r:W})]=Et),dt=M.charCodeAt(st=vt+1),j.e.c<Z&&(j.e.c=Z),j.e.r<W&&(j.e.r=W),ft==_t)++Z;else if(Z=0,++W,O.sheetRows&&O.sheetRows<=W)return!0}t:for(;vt<M.length;++vt)switch(ft=M.charCodeAt(vt)){case 34:34===dt&&(kt=!kt);break;case 13:if(kt)break;10==M.charCodeAt(vt+1)&&++vt;case _t:case 10:if(!kt&&bt())break t}return vt-st>0&&bt(),U["!ref"]=bn(j),U}(M,P):p0(function i(M,P){var O=P||{},N=[];if(!M||0===M.length)return N;for(var U=M.split(/[\r\n]/),j=U.length-1;j>=0&&0===U[j].length;)--j;for(var W=10,Z=0,rt=0;rt<=j;++rt)-1==(Z=U[rt].indexOf(" "))?Z=U[rt].length:Z++,W=Math.max(W,Z);for(rt=0;rt<=j;++rt){N[rt]=[];var st=0;for(e(U[rt].slice(0,W).trim(),N,rt,st,O),st=1;st<=(U[rt].length-W)/10+1;++st)e(U[rt].slice(W+10*(st-1),W+10*st).trim(),N,rt,st,O)}return O.sheetRows&&(N=N.slice(0,O.sheetRows)),N}(M,P),P)}function l(M,P){var O="",N="string"==P.type?[0,0,0,0]:function QN(e,i){var t="";switch((i||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":t=Fl(e.slice(0,12));break;case"binary":t=e;break;default:throw new Error("Unrecognized type "+(i&&i.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}(M,P);switch(P.type){case"base64":O=Fl(M);break;case"binary":case"string":O=M;break;case"buffer":O=65001==P.codepage?M.toString("utf8"):P.codepage&&typeof Cn<"u"?Cn.utils.decode(P.codepage,M):Mn&&Buffer.isBuffer(M)?M.toString("binary"):Ad(M);break;case"array":O=Ym(M);break;default:throw new Error("Unrecognized type "+P.type)}return 239==N[0]&&187==N[1]&&191==N[2]?O=wr(O.slice(3)):"string"!=P.type&&"buffer"!=P.type&&65001==P.codepage?O=wr(O):"binary"==P.type&&typeof Cn<"u"&&P.codepage&&(O=Cn.utils.decode(P.codepage,Cn.utils.encode(28591,O))),"socialcalc:version:"==O.slice(0,19)?Ytt.to_sheet("string"==P.type?O:wr(O),P):o(O,P)}return{to_workbook:function w(M,P){return mf(l(M,P),P)},to_sheet:l,from_sheet:function S(M){var P=[];if(!M["!ref"])return"";for(var N,O=Yn(M["!ref"]),U=null!=M["!data"],j=O.s.r;j<=O.e.r;++j){for(var W=[],Z=O.s.c;Z<=O.e.c;++Z){var rt=In({r:j,c:Z});if((N=U?(M["!data"][j]||[])[Z]:M[rt])&&null!=N.v){for(var st=(N.w||(kd(N),N.w)||"").slice(0,10);st.length<10;)st+=" ";W.push(st+(0===Z?" ":""))}else W.push("          ")}P.push(W.join(""))}return P.join("\n")}}}(),lp=function(){function e(Lt,Kt,Qt){if(Lt){wa(Lt,Lt.l||0);for(var Yt=Qt.Enum||Le;Lt.l<Lt.length;){var Ae=Lt.read_shift(2),Ot=Yt[Ae]||Yt[65535],Di=Lt.read_shift(2),ei=Lt.l+Di,We=Ot.f&&Ot.f(Lt,Di,Qt);if(Lt.l=ei,Kt(We,Ot,Ae))return}}}var t=["mmmm","dd-mmm-yyyy","dd-mmm","mmm-yyyy","@","mm/dd","hh:mm:ss AM/PM","hh:mm AM/PM","mm/dd/yyyy","mm/dd","hh:mm:ss","hh:mm"];function n(Lt,Kt){if(!Lt)return Lt;var Qt=Kt||{};null!=Gs&&null==Qt.dense&&(Qt.dense=Gs);var Yt={},Ae="Sheet1",Ot="",Di=0,ei={},We=[],Hi=[],cn=[];Qt.dense&&(cn=Yt["!data"]=[]);var bi={s:{r:0,c:0},e:{r:0,c:0}},cr=Qt.sheetRows||0,nr={};if(81==Lt[4]&&80==Lt[5]&&87==Lt[6])return function ui(Lt,Kt){wa(Lt,0);var Qt=Kt||{};null!=Gs&&null==Qt.dense&&(Qt.dense=Gs);var Yt={};Qt.dense&&(Yt["!data"]=[]);var Ae=[],Ot="",ei={s:{r:-1,c:-1},e:{r:-1,c:-1}},We=0,Hi=0,cn=0,bi=0,cr={SheetNames:[],Sheets:{}},nr=[];t:for(;Lt.l<Lt.length;){var fs=Lt.read_shift(2),Qa=Lt.read_shift(2),ri=Lt.slice(Lt.l,Lt.l+Qa);switch(wa(ri,0),fs){case 1:if(962023505!=ri.read_shift(4))throw"Bad QPW9 BOF!";break;case 2:break t;case 8:case 1025:case 1026:case 1032:default:break;case 10:for(var li=ri.read_shift(4),Do=(ri.length-ri.l)/li|0,rr=0;rr<li;++rr){var $n=ri.l+Do,na={};ri.l+=2,na.numFmtId=ri.read_shift(2),fi[na.numFmtId]&&(na.z=fi[na.numFmtId]),ri.l=$n,nr.push(na)}break;case 1031:for(ri.l+=12;ri.l<ri.length;)We=ri.read_shift(2),Hi=ri.read_shift(1),Ae.push(ri.read_shift(We,"cstr"));break;case 1537:var Mo=ri.read_shift(2);Yt={},Qt.dense&&(Yt["!data"]=[]),ei.s.c=ri.read_shift(2),ei.e.c=ri.read_shift(2),ei.s.r=ri.read_shift(4),ei.e.r=ri.read_shift(4),ri.l+=4,ri.l+2<ri.length&&(We=ri.read_shift(2),Hi=ri.read_shift(1),Ot=0==We?"":ri.read_shift(We,"cstr")),Ot||(Ot=yn(Mo));break;case 1538:if(ei.s.c>255||ei.s.r>999999)break;ei.e.c<ei.s.c&&(ei.e.c=ei.s.c),ei.e.r<ei.s.r&&(ei.e.r=ei.s.r),Yt["!ref"]=bn(ei),Q1(cr,Yt,Ot);break;case 2561:cn=ri.read_shift(2),ei.e.c<cn&&(ei.e.c=cn),ei.s.c>cn&&(ei.s.c=cn),bi=ri.read_shift(4),ei.s.r>bi&&(ei.s.r=bi),bi=ri.read_shift(4),ei.e.r<bi&&(ei.e.r=bi);break;case 3073:bi=ri.read_shift(4),We=ri.read_shift(4),ei.s.r>bi&&(ei.s.r=bi),ei.e.r<bi+We-1&&(ei.e.r=bi+We-1);for(var sn=yn(cn);ri.l<ri.length;){var Ki={t:"z"},qn=ri.read_shift(1),Br=-1;128&qn&&(Br=ri.read_shift(2));var vp=64&qn?ri.read_shift(2)-1:0;switch(31&qn){case 0:case 1:break;case 2:Ki={t:"n",v:ri.read_shift(2)};break;case 3:Ki={t:"n",v:ri.read_shift(2,"i")};break;case 4:Ki={t:"n",v:ZE(ri)};break;case 5:Ki={t:"n",v:ri.read_shift(8,"f")};break;case 7:Ki={t:"s",v:Ae[Hi=ri.read_shift(4)-1]};break;case 8:Ki={t:"n",v:ri.read_shift(8,"f")},ri.l+=2,ri.l+=4,isNaN(Ki.v)&&(Ki={t:"e",v:15});break;default:throw"Unrecognized QPW cell type "+(31&qn)}-1!=Br&&(nr[Br-1]||{}).z&&(Ki.z=nr[Br-1].z);var mc=0;if(32&qn)switch(31&qn){case 2:case 7:mc=ri.read_shift(2);break;case 3:mc=ri.read_shift(2,"i");break;default:throw"Unsupported delta for QPW cell type "+(31&qn)}if(Qt.sheetStubs||"z"!=Ki.t){var Qu=br(Ki);"n"==Ki.t&&Ki.z&&Ol(Ki.z)&&Qt.cellDates&&(Qu.v=zu(Ki.v),Qu.t="number"==typeof Qu.v?"n":"d"),null!=Yt["!data"]?(Yt["!data"][bi]||(Yt["!data"][bi]=[]),Yt["!data"][bi][cn]=Qu):Yt[sn+Bn(bi)]=Qu}for(++bi,--We;vp-- >0&&We>=0;){if(32&qn)switch(31&qn){case 2:Ki={t:"n",v:Ki.v+mc&65535};break;case 3:(Ki={t:"n",v:Ki.v+mc&65535}).v>32767&&(Ki.v-=65536);break;case 7:Ki={t:"s",v:Ae[Hi=Hi+mc>>>0]};break;default:throw"Cannot apply delta for QPW cell type "+(31&qn)}else switch(31&qn){case 1:Ki={t:"z"};break;case 2:Ki={t:"n",v:ri.read_shift(2)};break;case 7:Ki={t:"s",v:Ae[Hi=ri.read_shift(4)-1]};break;default:throw"Cannot apply repeat for QPW cell type "+(31&qn)}!Qt.sheetStubs&&"z"==Ki.t||(null!=Yt["!data"]?(Yt["!data"][bi]||(Yt["!data"][bi]=[]),Yt["!data"][bi][cn]=Ki):Yt[sn+Bn(bi)]=Ki),++bi,--We}}break;case 3074:cn=ri.read_shift(2),bi=ri.read_shift(4);var xp=vi(ri);null!=Yt["!data"]?(Yt["!data"][bi]||(Yt["!data"][bi]=[]),Yt["!data"][bi][cn]={t:"s",v:xp}):Yt[yn(cn)+Bn(bi)]={t:"s",v:xp}}Lt.l+=Qa}return cr}(Lt,Kt);if(0==Lt[2]&&(8==Lt[3]||9==Lt[3])&&Lt.length>=16&&5==Lt[14]&&108===Lt[15])throw new Error("Unsupported Works 3 for Mac file");if(2==Lt[2])Qt.Enum=Le,e(Lt,function(li,Do,rr){switch(rr){case 0:Qt.vers=li,li>=4096&&(Qt.qpro=!0);break;case 255:Qt.vers=li,Qt.works=!0;break;case 6:bi=li;break;case 204:li&&(Ot=li);break;case 222:Ot=li;break;case 15:case 51:(!Qt.qpro&&!Qt.works||51==rr)&&li[1].v.charCodeAt(0)<48&&(li[1].v=li[1].v.slice(1)),(Qt.works||Qt.works2)&&(li[1].v=li[1].v.replace(/\r\n/g,"\n"));case 13:case 14:case 16:!(112&~li[2])&&(15&li[2])>1&&(15&li[2])<15&&(li[1].z=Qt.dateNF||t[(15&li[2])-1]||Li[14],Qt.cellDates&&(li[1].v=zu(li[1].v),li[1].t="number"==typeof li[1].v?"n":"d")),Qt.qpro&&li[3]>Di&&(Yt["!ref"]=bn(bi),ei[Ae]=Yt,We.push(Ae),Yt={},Qt.dense&&(cn=Yt["!data"]=[]),bi={s:{r:0,c:0},e:{r:0,c:0}},Di=li[3],Ae=Ot||"Sheet"+(Di+1),Ot="");var $n=Qt.dense?(cn[li[0].r]||[])[li[0].c]:Yt[In(li[0])];if($n){$n.t=li[1].t,$n.v=li[1].v,null!=li[1].z&&($n.z=li[1].z),null!=li[1].f&&($n.f=li[1].f),nr=$n;break}Qt.dense?(cn[li[0].r]||(cn[li[0].r]=[]),cn[li[0].r][li[0].c]=li[1]):Yt[In(li[0])]=li[1],nr=li[1];break;case 21509:Qt.works2=!0;break;case 21506:5281==li&&(nr.z="hh:mm:ss",Qt.cellDates&&"n"==nr.t&&(nr.v=zu(nr.v),nr.t="number"==typeof nr.v?"n":"d"))}},Qt);else{if(26!=Lt[2]&&14!=Lt[2])throw new Error("Unrecognized LOTUS BOF "+Lt[2]);Qt.Enum=De,14==Lt[2]&&(Qt.qpro=!0,Lt.l=0),e(Lt,function(li,Do,rr){switch(rr){case 204:Ae=li;break;case 22:li[1].v.charCodeAt(0)<48&&(li[1].v=li[1].v.slice(1)),li[1].v=li[1].v.replace(/\x0F./g,function($n){return String.fromCharCode($n.charCodeAt(1)-32)}).replace(/\r\n/g,"\n");case 23:case 24:case 25:case 37:case 39:case 40:if(li[3]>Di&&(Yt["!ref"]=bn(bi),ei[Ae]=Yt,We.push(Ae),Yt={},Qt.dense&&(cn=Yt["!data"]=[]),bi={s:{r:0,c:0},e:{r:0,c:0}},Ae="Sheet"+((Di=li[3])+1)),cr>0&&li[0].r>=cr)break;Qt.dense?(cn[li[0].r]||(cn[li[0].r]=[]),cn[li[0].r][li[0].c]=li[1]):Yt[In(li[0])]=li[1],bi.e.c<li[0].c&&(bi.e.c=li[0].c),bi.e.r<li[0].r&&(bi.e.r=li[0].r);break;case 27:li[14e3]&&(Hi[li[14e3][0]]=li[14e3][1]);break;case 1537:Hi[li[0]]=li[1],li[0]==Di&&(Ae=li[1])}},Qt)}if(Yt["!ref"]=bn(bi),ei[Ot||Ae]=Yt,We.push(Ot||Ae),!Hi.length)return{SheetNames:We,Sheets:ei};for(var fs={},Qa=[],ri=0;ri<Hi.length;++ri)ei[We[ri]]?(Qa.push(Hi[ri]||We[ri]),fs[Hi[ri]]=ei[Hi[ri]]||ei[We[ri]]):(Qa.push(Hi[ri]),fs[Hi[ri]]={"!ref":"A1"});return{SheetNames:Qa,Sheets:fs}}function M(Lt,Kt,Qt){var Yt=[{c:0,r:0},{t:"n",v:0},0,0];return Qt.qpro&&20768!=Qt.vers?(Yt[0].c=Lt.read_shift(1),Yt[3]=Lt.read_shift(1),Yt[0].r=Lt.read_shift(2),Lt.l+=2):Qt.works?(Yt[0].c=Lt.read_shift(2),Yt[0].r=Lt.read_shift(2),Yt[2]=Lt.read_shift(2)):(Yt[2]=Lt.read_shift(1),Yt[0].c=Lt.read_shift(2),Yt[0].r=Lt.read_shift(2)),Yt}function P(Lt){return Lt.z&&Ol(Lt.z)?240|(t.indexOf(Lt.z)+1||2):255}function N(Lt,Kt,Qt){var Yt=le(7+Qt.length);Yt.write_shift(1,255),Yt.write_shift(2,Kt),Yt.write_shift(2,Lt),Yt.write_shift(1,39);for(var Ae=0;Ae<Yt.length;++Ae){var Ot=Qt.charCodeAt(Ae);Yt.write_shift(1,Ot>=128?95:Ot)}return Yt.write_shift(1,0),Yt}function W(Lt,Kt,Qt){var Yt=le(7);return Yt.write_shift(1,P(Qt)),Yt.write_shift(2,Kt),Yt.write_shift(2,Lt),Yt.write_shift(2,Qt.v,"i"),Yt}function rt(Lt,Kt,Qt){var Yt=le(13);return Yt.write_shift(1,P(Qt)),Yt.write_shift(2,Kt),Yt.write_shift(2,Lt),Yt.write_shift(8,Qt.v,"f"),Yt}function vt(Lt,Kt,Qt){var Yt=32768&Kt;return Kt=(Yt?Lt:0)+((Kt&=-32769)>=8192?Kt-16384:Kt),(Yt?"":"$")+(Qt?yn(Kt):Bn(Kt))}var _t={31:["NA",0],33:["ABS",1],34:["TRUNC",1],35:["SQRT",1],36:["LOG",1],37:["LN",1],38:["PI",0],39:["SIN",1],40:["COS",1],41:["TAN",1],42:["ATAN2",2],43:["ATAN",1],44:["ASIN",1],45:["ACOS",1],46:["EXP",1],47:["MOD",2],49:["ISNA",1],50:["ISERR",1],51:["FALSE",0],52:["TRUE",0],53:["RAND",0],54:["DATE",3],63:["ROUND",2],64:["TIME",3],68:["ISNUMBER",1],69:["ISTEXT",1],70:["LEN",1],71:["VALUE",1],73:["MID",3],74:["CHAR",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],102:["UPPER",1],103:["LOWER",1],107:["PROPER",1],109:["TRIM",1],111:["T",1]},kt=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function dt(Lt){var Kt=[{c:0,r:0},{t:"n",v:0},0];return Kt[0].r=Lt.read_shift(2),Kt[3]=Lt[Lt.l++],Kt[0].c=Lt[Lt.l++],Kt}function bt(Lt,Kt,Qt,Yt){var Ae=le(6+Yt.length);Ae.write_shift(2,Lt),Ae.write_shift(1,Qt),Ae.write_shift(1,Kt),Ae.write_shift(1,39);for(var Ot=0;Ot<Yt.length;++Ot){var Di=Yt.charCodeAt(Ot);Ae.write_shift(1,Di>=128?95:Di)}return Ae.write_shift(1,0),Ae}function Et(Lt,Kt){var Qt=dt(Lt),Yt=Lt.read_shift(4),Ae=Lt.read_shift(4),Ot=Lt.read_shift(2);if(65535==Ot)return 0===Yt&&3221225472===Ae?(Qt[1].t="e",Qt[1].v=15):0===Yt&&3489660928===Ae?(Qt[1].t="e",Qt[1].v=42):Qt[1].v=0,Qt;var Di=32768&Ot;return Ot=(32767&Ot)-16446,Qt[1].v=(1-2*Di)*(Ae*Math.pow(2,Ot+32)+Yt*Math.pow(2,Ot)),Qt}function Dt(Lt,Kt,Qt,Yt){var Ae=le(14);if(Ae.write_shift(2,Lt),Ae.write_shift(1,Qt),Ae.write_shift(1,Kt),0==Yt)return Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(2,65535),Ae;var Ot=0,Di=0,We=0;return Yt<0&&(Ot=1,Yt=-Yt),Di=0|Math.log2(Yt),2147483648&(We=(Yt/=Math.pow(2,Di-31))>>>0)||(++Di,We=(Yt/=2)>>>0),Yt-=We,We|=2147483648,We>>>=0,Yt*=Math.pow(2,32),Ae.write_shift(4,Yt>>>0),Ae.write_shift(4,We),Ae.write_shift(2,Di+=16383+(Ot?32768:0)),Ae}function ve(Lt,Kt){var Qt=dt(Lt),Yt=Lt.read_shift(8,"f");return Qt[1].v=Yt,Qt}function Ee(Lt,Kt){return 0==Lt[Lt.l+Kt-1]?Lt.read_shift(Kt,"cstr"):""}function te(Lt,Kt){var Qt=le(5+Lt.length);Qt.write_shift(2,14e3),Qt.write_shift(2,Kt);for(var Yt=0;Yt<Lt.length;++Yt){var Ae=Lt.charCodeAt(Yt);Qt[Qt.l++]=Ae>127?95:Ae}return Qt[Qt.l++]=0,Qt}var Le={0:{n:"BOF",f:Es},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function w(Lt,Kt,Qt){var Yt={s:{c:0,r:0},e:{c:0,r:0}};return 8==Kt&&Qt.qpro?(Yt.s.c=Lt.read_shift(1),Lt.l++,Yt.s.r=Lt.read_shift(2),Yt.e.c=Lt.read_shift(1),Lt.l++,Yt.e.r=Lt.read_shift(2),Yt):(Yt.s.c=Lt.read_shift(2),Yt.s.r=Lt.read_shift(2),12==Kt&&Qt.qpro&&(Lt.l+=2),Yt.e.c=Lt.read_shift(2),Yt.e.r=Lt.read_shift(2),12==Kt&&Qt.qpro&&(Lt.l+=2),65535==Yt.s.c&&(Yt.s.c=Yt.e.c=Yt.s.r=Yt.e.r=0),Yt)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function j(Lt,Kt,Qt){var Yt=M(Lt,0,Qt);return Yt[1].v=Lt.read_shift(2,"i"),Yt}},14:{n:"NUMBER",f:function Z(Lt,Kt,Qt){var Yt=M(Lt,0,Qt);return Yt[1].v=Lt.read_shift(8,"f"),Yt}},15:{n:"LABEL",f:function O(Lt,Kt,Qt){var Yt=Lt.l+Kt,Ae=M(Lt,0,Qt);if(Ae[1].t="s",20768==(65534&Qt.vers)){Lt.l++;var Ot=Lt.read_shift(1);return Ae[1].v=Lt.read_shift(Ot,"utf8"),Ae}return Qt.qpro&&Lt.l++,Ae[1].v=Lt.read_shift(Yt-Lt.l,"cstr"),Ae}},16:{n:"FORMULA",f:function st(Lt,Kt,Qt){var Yt=Lt.l+Kt,Ae=M(Lt,0,Qt);if(Ae[1].v=Lt.read_shift(8,"f"),Qt.qpro)Lt.l=Yt;else{var Ot=Lt.read_shift(2);(function ft(Lt,Kt){wa(Lt,0);for(var Qt=[],Yt=0,Ae="",Ot="",Di="",ei="";Lt.l<Lt.length;){var We=Lt[Lt.l++];switch(We){case 0:Qt.push(Lt.read_shift(8,"f"));break;case 1:Ot=vt(Kt[0].c,Lt.read_shift(2),!0),Ae=vt(Kt[0].r,Lt.read_shift(2),!1),Qt.push(Ot+Ae);break;case 2:var Hi=vt(Kt[0].c,Lt.read_shift(2),!0),cn=vt(Kt[0].r,Lt.read_shift(2),!1);Ot=vt(Kt[0].c,Lt.read_shift(2),!0),Ae=vt(Kt[0].r,Lt.read_shift(2),!1),Qt.push(Hi+cn+":"+Ot+Ae);break;case 3:if(Lt.l<Lt.length)return void console.error("WK1 premature formula end");break;case 4:Qt.push("("+Qt.pop()+")");break;case 5:Qt.push(Lt.read_shift(2));break;case 6:for(var bi="";We=Lt[Lt.l++];)bi+=String.fromCharCode(We);Qt.push('"'+bi.replace(/"/g,'""')+'"');break;case 8:Qt.push("-"+Qt.pop());break;case 23:Qt.push("+"+Qt.pop());break;case 22:Qt.push("NOT("+Qt.pop()+")");break;case 20:case 21:ei=Qt.pop(),Di=Qt.pop(),Qt.push(["AND","OR"][We-20]+"("+Di+","+ei+")");break;default:if(We<32&&kt[We])ei=Qt.pop(),Di=Qt.pop(),Qt.push(Di+kt[We]+ei);else{if(!_t[We])return We<=7?console.error("WK1 invalid opcode "+We.toString(16)):We<=24?console.error("WK1 unsupported op "+We.toString(16)):We<=30?console.error("WK1 invalid opcode "+We.toString(16)):We<=115?console.error("WK1 unsupported function opcode "+We.toString(16)):console.error("WK1 unrecognized opcode "+We.toString(16));if(69==(Yt=_t[We][1])&&(Yt=Lt[Lt.l++]),Yt>Qt.length)return void console.error("WK1 bad formula parse 0x"+We.toString(16)+":|"+Qt.join("|")+"|");var cr=Qt.slice(-Yt);Qt.length-=Yt,Qt.push(_t[We][0]+"("+cr.join(",")+")")}}}1==Qt.length?Kt[1].f=""+Qt[0]:console.error("WK1 bad formula parse |"+Qt.join("|")+"|")})(Lt.slice(Lt.l,Lt.l+Ot),Ae),Lt.l+=Ot}return Ae}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:function U(Lt,Kt,Qt){var Yt=Lt.l+Kt,Ae=M(Lt,0,Qt);if(Ae[1].t="s",20768==Qt.vers){var Ot=Lt.read_shift(1);return Ae[1].v=Lt.read_shift(Ot,"utf8"),Ae}return Ae[1].v=Lt.read_shift(Yt-Lt.l,"cstr"),Ae}},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ee},222:{n:"SHEETNAMELP",f:function ze(Lt,Kt){var Qt=Lt[Lt.l++];Qt>Kt-1&&(Qt=Kt-1);for(var Yt="";Yt.length<Qt;)Yt+=String.fromCharCode(Lt[Lt.l++]);return Yt}},255:{n:"BOF",f:Es},21506:{n:"WKSNF",f:Es},65535:{n:""}},De={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function pt(Lt,Kt){var Qt=dt(Lt);return Qt[1].t="s",Qt[1].v=Lt.read_shift(Kt-4,"cstr"),Qt}},23:{n:"NUMBER17",f:Et},24:{n:"NUMBER18",f:function Tt(Lt,Kt){var Qt=dt(Lt);Qt[1].v=Lt.read_shift(2);var Yt=Qt[1].v>>1;if(1&Qt[1].v)switch(7&Yt){case 0:Yt=5e3*(Yt>>3);break;case 1:Yt=500*(Yt>>3);break;case 2:Yt=(Yt>>3)/20;break;case 3:Yt=(Yt>>3)/200;break;case 4:Yt=(Yt>>3)/2e3;break;case 5:Yt=(Yt>>3)/2e4;break;case 6:Yt=(Yt>>3)/16;break;case 7:Yt=(Yt>>3)/64}return Qt[1].v=Yt,Qt}},25:{n:"FORMULA19",f:function Ue(Lt,Kt){var Qt=Et(Lt);return Lt.l+=Kt-14,Qt}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function Ii(Lt,Kt){for(var Qt={},Yt=Lt.l+Kt;Lt.l<Yt;){var Ae=Lt.read_shift(2);if(14e3==Ae){for(Qt[Ae]=[0,""],Qt[Ae][0]=Lt.read_shift(2);Lt[Lt.l];)Qt[Ae][1]+=String.fromCharCode(Lt[Lt.l]),Lt.l++;Lt.l++}}return Qt}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function we(Lt,Kt){var Qt=dt(Lt),Yt=Lt.read_shift(4);return Qt[1].v=Yt>>6,Qt}},38:{n:"??"},39:{n:"NUMBER27",f:ve},40:{n:"FORMULA28",f:function qt(Lt,Kt){var Qt=ve(Lt);return Lt.l+=Kt-12,Qt}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function Me(Lt,Kt,Qt){if(Qt.qpro&&!(Kt<21)){var Yt=Lt.read_shift(1);return Lt.l+=17,Lt.l+=1,Lt.l+=2,[Yt,Lt.read_shift(Kt-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}},fi={5:"dd-mmm-yy",6:"dd-mmm",7:"mmm-yy",8:"mm/dd/yy",10:"hh:mm:ss AM/PM",11:"hh:mm AM/PM",14:"dd-mmm-yyyy",15:"mmm-yyyy",34:"0.00",50:"0.00;[Red]0.00",66:"0.00;(0.00)",82:"0.00;[Red](0.00)",162:'"$"#,##0.00;\\("$"#,##0.00\\)',288:"0%",304:"0E+00",320:"# ?/?"};function vi(Lt){var Kt=Lt.read_shift(2),Qt=Lt.read_shift(1);if(0!=Qt)throw"unsupported QPW string type "+Qt.toString(16);return Lt.read_shift(Kt,"sbcs-cont")}return{sheet_to_wk1:function r(Lt,Kt){var Qt=Kt||{};if(+Qt.codepage>=0&&rc(+Qt.codepage),"string"==Qt.type)throw new Error("Cannot write WK1 to JS string");var Yt=yo();if(!Lt["!ref"])throw new Error("Cannot export empty sheet to WK1");var Ae=Yn(Lt["!ref"]),Ot=null!=Lt["!data"],Di=[];Oe(Yt,0,function o(Lt){var Kt=le(2);return Kt.write_shift(2,Lt),Kt}(1030)),Oe(Yt,6,function S(Lt){var Kt=le(8);return Kt.write_shift(2,Lt.s.c),Kt.write_shift(2,Lt.s.r),Kt.write_shift(2,Lt.e.c),Kt.write_shift(2,Lt.e.r),Kt}(Ae));for(var ei=Math.min(Ae.e.r,8191),We=Ae.s.c;We<=Ae.e.c;++We)Di[We]=yn(We);for(var Hi=Ae.s.r;Hi<=ei;++Hi){var cn=Bn(Hi);for(We=Ae.s.c;We<=Ae.e.c;++We){var bi=Ot?(Lt["!data"][Hi]||[])[We]:Lt[Di[We]+cn];if(bi&&"z"!=bi.t)switch(bi.t){case"n":(0|bi.v)==bi.v&&bi.v>=-32768&&bi.v<=32767?Oe(Yt,13,W(Hi,We,bi)):Oe(Yt,14,rt(Hi,We,bi));break;case"d":var cr=ys(bi.v);(0|cr)==cr&&cr>=-32768&&cr<=32767?Oe(Yt,13,W(Hi,We,{t:"n",v:cr,z:bi.z||Li[14]})):Oe(Yt,14,rt(Hi,We,{t:"n",v:cr,z:bi.z||Li[14]}));break;default:Oe(Yt,15,N(Hi,We,kd(bi).slice(0,239)))}}}return Oe(Yt,1),Yt.end()},book_to_wk3:function s(Lt,Kt){var Qt=Kt||{};if(+Qt.codepage>=0&&rc(+Qt.codepage),"string"==Qt.type)throw new Error("Cannot write WK3 to JS string");var Yt=yo();Oe(Yt,0,function l(Lt){var Kt=le(26);Kt.write_shift(2,4096),Kt.write_shift(2,4),Kt.write_shift(4,0);for(var Qt=0,Yt=0,Ae=0,Ot=0;Ot<Lt.SheetNames.length;++Ot){var ei=Lt.Sheets[Lt.SheetNames[Ot]];if(ei&&ei["!ref"]){++Ae;var We=_a(ei["!ref"]);Qt<We.e.r&&(Qt=We.e.r),Yt<We.e.c&&(Yt=We.e.c)}}return Qt>8191&&(Qt=8191),Kt.write_shift(2,Qt),Kt.write_shift(1,Ae),Kt.write_shift(1,Yt),Kt.write_shift(2,0),Kt.write_shift(2,0),Kt.write_shift(1,1),Kt.write_shift(1,2),Kt.write_shift(4,0),Kt.write_shift(4,0),Kt}(Lt));for(var Ae=0,Ot=0;Ae<Lt.SheetNames.length;++Ae)(Lt.Sheets[Lt.SheetNames[Ae]]||{})["!ref"]&&Oe(Yt,27,te(Lt.SheetNames[Ae],Ot++));var Di=0;for(Ae=0;Ae<Lt.SheetNames.length;++Ae){var ei=Lt.Sheets[Lt.SheetNames[Ae]];if(ei&&ei["!ref"]){for(var We=Yn(ei["!ref"]),Hi=null!=ei["!data"],cn=[],bi=Math.min(We.e.r,8191),cr=We.s.r;cr<=bi;++cr)for(var nr=Bn(cr),fs=We.s.c;fs<=We.e.c;++fs){cr===We.s.r&&(cn[fs]=yn(fs));var ri=Hi?(ei["!data"][cr]||[])[fs]:ei[cn[fs]+nr];ri&&"z"!=ri.t&&("n"==ri.t?Oe(Yt,23,Dt(cr,fs,Di,ri.v)):Oe(Yt,22,bt(cr,fs,Di,kd(ri).slice(0,239))))}++Di}}return Oe(Yt,1),Yt.end()},to_workbook:function i(Lt,Kt){switch(Kt.type){case"base64":return n(Go(Fl(Lt)),Kt);case"binary":return n(Go(Lt),Kt);case"buffer":case"array":return n(Lt,Kt)}throw"Unsupported type "+Kt.type}}}(),EGt=/^\s|\s$|[\t\n\r]/,kGt=function N9t(e,i){var t=!1;return null==i&&(t=!0,i=le(15+4*e.t.length)),i.write_shift(1,0),Ta(e.t,i),t?i.slice(0,i.l):i};function CN(e){var t,s,i=0,n=function $tt(e){if(typeof Cn<"u")return Cn.utils.encode(jm,e);for(var i=[],t=e.split(""),n=0;n<t.length;++n)i[n]=t[n].charCodeAt(0);return i}(e),r=n.length+1;for((t=hf(r))[0]=n.length,s=1;s!=r;++s)t[s]=n[s-1];for(s=r-1;s>=0;--s)i=((16384&i?1:0)|i<<1&32767)^t[s];return 52811^i}function I1(e){for(var i=0,t=1;3!=i;++i)t=256*t+(e[i]>255?255:e[i]<0?0:e[i]);return t.toString(16).toUpperCase().slice(1)}var Co=6;function k1(e){return Math.floor((e+Math.round(128/Co)/256)*Co)}function R1(e){return Math.floor((e-5)/Co*100+.5)/100}function cA(e){return Math.round((e*Co+5)/Co*256)/256}function gf(e){e.width?(e.wpx=k1(e.width),e.wch=R1(e.wpx),e.MDW=Co):e.wpx?(e.wch=R1(e.wpx),e.width=cA(e.wch),e.MDW=Co):"number"==typeof e.wch&&(e.width=cA(e.wch),e.wpx=k1(e.width),e.MDW=Co),e.customWidth&&delete e.customWidth}var qtt=96;function P1(e){return 96*e/qtt}function b0(e){return e*qtt/96}function gHt(e,i,t){t||(t=le(6+4*i.length)),t.write_shift(2,e),Ta(i,t);var n=t.length>t.l?t.slice(0,t.l):t;return null==t.l&&(t.l=t.length),n}var AN,yHt=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],bHt=xo;function tet(e,i){i||(i=le(84)),AN||(AN=HE(yHt));var t=AN[e.patternType];null==t&&(t=40),i.write_shift(4,t);var n=0;if(40!=t)for(JE({auto:1},i),JE({auto:1},i);n<12;++n)i.write_shift(4,0);else{for(;n<4;++n)i.write_shift(4,0);for(;n<12;++n)i.write_shift(4,0)}return i.length>i.l?i.slice(0,i.l):i}function eet(e,i,t){return t||(t=le(16)),t.write_shift(2,i||0),t.write_shift(2,e.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function F1(e,i){return i||(i=le(10)),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(4,0),i.write_shift(4,0),i}var _Ht=xo;function LHt(e,i){var t=yo();return Ie(t,278),function AHt(e,i){if(i){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=i[r]&&++t}),0!=t&&(Ie(e,615,Lc(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=i[r]&&Ie(e,44,gHt(r,i[r]))}),Ie(e,616))}}(t,e.SSF),function DHt(e){Ie(e,611,Lc(1)),Ie(e,43,function xHt(e,i){i||(i=le(153)),i.write_shift(2,20*e.sz),function j9t(e,i){i||(i=le(2)),i.write_shift(1,(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0)),i.write_shift(1,0)}(e,i),i.write_shift(2,e.bold?700:400);var t=0;"superscript"==e.vertAlign?t=1:"subscript"==e.vertAlign&&(t=2),i.write_shift(2,t),i.write_shift(1,e.underline||0),i.write_shift(1,e.family||0),i.write_shift(1,e.charset||0),i.write_shift(1,0),JE(e.color,i);var n=0;return"major"==e.scheme&&(n=1),"minor"==e.scheme&&(n=2),i.write_shift(1,n),Ta(e.name,i),i.length>i.l?i.slice(0,i.l):i}({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Ie(e,612)}(t),function MHt(e){Ie(e,603,Lc(2)),Ie(e,45,tet({patternType:"none"})),Ie(e,45,tet({patternType:"gray125"})),Ie(e,604)}(t),function IHt(e){Ie(e,613,Lc(1)),Ie(e,46,function THt(e,i){return i||(i=le(51)),i.write_shift(1,0),F1(0,i),F1(0,i),F1(0,i),F1(0,i),F1(0,i),i.length>i.l?i.slice(0,i.l):i}()),Ie(e,614)}(t),function kHt(e){Ie(e,626,Lc(1)),Ie(e,47,eet({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Ie(e,627)}(t),function RHt(e,i){Ie(e,617,Lc(i.length)),i.forEach(function(t){Ie(e,47,eet(t,0))}),Ie(e,618)}(t,i.cellXfs),function PHt(e){Ie(e,619,Lc(1)),Ie(e,48,function CHt(e,i){return i||(i=le(52)),i.write_shift(4,e.xfId),i.write_shift(2,1),i.write_shift(1,+e.builtinId),i.write_shift(1,0),C1(e.name||"",i),i.length>i.l?i.slice(0,i.l):i}({xfId:0,builtinId:0,name:"Normal"})),Ie(e,620)}(t),function FHt(e){Ie(e,505,Lc(0)),Ie(e,506)}(t),function OHt(e){Ie(e,508,function SHt(e,i,t){var n=le(2052);return n.write_shift(4,e),C1(i,n),C1(t,n),n.length>n.l?n.slice(0,n.l):n}(0,"TableStyleMedium9","PivotStyleMedium4")),Ie(e,509)}(t),Ie(t,279),t.end()}function DN(e,i){if(i&&i.themeXLSX)return i.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var t=[Ws];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',t[t.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',t[t.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',t[t.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',t[t.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',t[t.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',t[t.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function net(e,i,t){var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),s=[ti("xml",null,{"xmlns:v":Nl.v,"xmlns:o":Nl.o,"xmlns:x":Nl.x,"xmlns:mv":Nl.mv}).replace(/\/>/,">"),ti("o:shapelayout",ti("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"})],o=65536*e,l=i||[];return l.length>0&&s.push(ti("v:shapetype",[ti("v:stroke",null,{joinstyle:"miter"}),ti("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202",coordsize:n.join(","),"o:spt":202,path:r})),l.forEach(function(w){++o,s.push(function u7t(e,i,t){var n=_r(e[0]),r={color2:"#BEFF82",type:"gradient"};"gradient"==r.type&&(r.angle="-180");var s="gradient"==r.type?ti("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,o=ti("v:fill",s,r);return["<v:shape"+x1({id:"_x0000_s"+i,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",o,ti("v:shadow",null,{on:"t",obscured:"t"}),ti("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",$a("x:Anchor",[n.c+1,0,n.r+1,0,n.c+3,20,n.r+5,20].join(",")),$a("x:AutoFill","False"),$a("x:Row",String(n.r)),$a("x:Column",String(n.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"].join("")}(w,o))}),s.push("</xml>"),s.join("")}function f7t(e){var i=[Ws,ti("comments",null,{xmlns:Km[0]})],t=[];return i.push("<authors>"),e.forEach(function(n){n[1].forEach(function(r){var s=Sn(r.a);-1==t.indexOf(s)&&(t.push(s),i.push("<author>"+s+"</author>")),r.T&&r.ID&&-1==t.indexOf("tc="+r.ID)&&(t.push("tc="+r.ID),i.push("<author>tc="+r.ID+"</author>"))})}),0==t.length&&(t.push("SheetJ5"),i.push("<author>SheetJ5</author>")),i.push("</authors>"),i.push("<commentList>"),e.forEach(function(n){var r=0,s=[],o=0;if(n[1][0]&&n[1][0].T&&n[1][0].ID&&(r=t.indexOf("tc="+n[1][0].ID)),n[1].forEach(function(S){S.a&&(r=t.indexOf(Sn(S.a))),S.T&&++o,s.push(null==S.t?"":Sn(S.t))}),0===o)n[1].forEach(function(S){i.push('<comment ref="'+n[0]+'" authorId="'+t.indexOf(Sn(S.a))+'"><text>'),i.push($a("t",null==S.t?"":Sn(S.t))),i.push("</text></comment>")});else{n[1][0]&&n[1][0].T&&n[1][0].ID&&(r=t.indexOf("tc="+n[1][0].ID)),i.push('<comment ref="'+n[0]+'" authorId="'+r+'"><text>');for(var l="Comment:\n    "+s[0]+"\n",w=1;w<s.length;++w)l+="Reply:\n    "+s[w]+"\n";i.push($a("t",Sn(l))),i.push("</text></comment>")}}),i.push("</commentList>"),i.length>2&&(i[i.length]="</comments>",i[1]=i[1].replace("/>",">")),i.join("")}function set(e,i,t){var n=[Ws,ti("ThreadedComments",null,{xmlns:ba.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(r){var s="";(r[1]||[]).forEach(function(o,l){if(o.T){o.a&&-1==i.indexOf(o.a)&&i.push(o.a);var w={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};0==l?s=w.id:w.parentId=s,o.ID=w.id,o.a&&(w.personId="{54EE7950-7262-4200-6969-"+("000000000000"+i.indexOf(o.a)).slice(-12)+"}"),n.push(ti("threadedComment",$a("text",o.t||""),w))}else delete o.ID})}),n.push("</ThreadedComments>"),n.join("")}function aet(e){var i=[Ws,ti("personList",null,{xmlns:ba.TCMNT,"xmlns:x":Km[0]}).replace(/[\/]>/,">")];return e.forEach(function(t,n){i.push(ti("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),i.push("</personList>"),i.join("")}var x7t=bo;function oet(e){return Ta(e.slice(0,54))}function b7t(e){var i=yo(),t=[];return Ie(i,628),Ie(i,630),e.forEach(function(n){n[1].forEach(function(r){t.indexOf(r.a)>-1||(t.push(r.a.slice(0,54)),Ie(i,632,oet(r.a)),r.T&&r.ID&&-1==t.indexOf("tc="+r.ID)&&(t.push("tc="+r.ID),Ie(i,632,oet("tc="+r.ID))))})}),Ie(i,631),Ie(i,633),e.forEach(function(n){n[1].forEach(function(r){var s=-1;r.ID&&(s=t.indexOf("tc="+r.ID)),-1==s&&n[1][0].T&&n[1][0].ID&&(s=t.indexOf("tc="+n[1][0].ID)),-1==s&&(s=t.indexOf(r.a)),r.iauthor=s;var o={s:_r(n[0]),e:_r(n[0])};Ie(i,635,function v7t(e,i){return null==i&&(i=le(36)),i.write_shift(4,e[1].iauthor),g0(e[0],i),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i}([o,r])),r.t&&r.t.length>0&&Ie(i,637,function V9t(e,i){var t=!1;return null==i&&(t=!0,i=le(23+4*e.t.length)),i.write_shift(1,1),Ta(e.t,i),i.write_shift(4,1),function L9t(e,i){i||(i=le(4)),i.write_shift(2,e.ich||0),i.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},i),t?i.slice(0,i.l):i}(r)),Ie(i,636),delete r.iauthor})}),Ie(i,634),Ie(i,629),i.end()}var C7t=["xlsb","xlsm","xlam","biff8","xla"],cp=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,i={r:0,c:0};function t(n,r,s,o){var l=!1,w=!1;0==s.length?w=!0:"["==s.charAt(0)&&(w=!0,s=s.slice(1,-1)),0==o.length?l=!0:"["==o.charAt(0)&&(l=!0,o=o.slice(1,-1));var S=s.length>0?0|parseInt(s,10):0,M=o.length>0?0|parseInt(o,10):0;return l?M+=i.c:--M,w?S+=i.r:--S,r+(l?"":"$")+yn(M)+(w?"":"$")+Bn(S)}return function(r,s){return i=s,r.replace(e,t)}}(),hA=/(^|[^._A-Z0-9])(\$?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])(\$?)(\d{1,7})(?![_.\(A-Za-z0-9])/g;try{hA=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g}catch{}var fA=function(){return function(i,t){return i.replace(hA,function(n,r,s,o,l,w){var S=rN(o)-(s?0:t.c),M=nN(w)-(l?0:t.r);return r+"R"+("$"==l?M+1:0==M?"":"["+M+"]")+"C"+("$"==s?S+1:0==S?"":"["+S+"]")})}}();function cet(e,i){return e.replace(hA,function(t,n,r,s,o,l){return n+("$"==r?r+s:yn(rN(s)+i.c))+("$"==o?o+l:Bn(nN(l)+i.r))})}function ia(e){e.l+=1}function vf(e,i){var t=e.read_shift(1==i?1:2);return[16383&t,t>>14&1,t>>15&1]}function het(e,i,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return fet(e);12==t.biff&&(n=4)}var r=e.read_shift(n),s=e.read_shift(n),o=vf(e,2),l=vf(e,2);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function fet(e){var i=vf(e,2),t=vf(e,2),n=e.read_shift(1),r=e.read_shift(1);return{s:{r:i[0],c:n,cRel:i[1],rRel:i[2]},e:{r:t[0],c:r,cRel:t[1],rRel:t[2]}}}function met(e,i,t){if(t&&t.biff>=2&&t.biff<=5)return function k7t(e){var i=vf(e,2),t=e.read_shift(1);return{r:i[0],c:t,cRel:i[1],rRel:i[2]}}(e);var n=e.read_shift(t&&12==t.biff?4:2),r=vf(e,2);return{r:n,c:r[0],cRel:r[1],rRel:r[2]}}function R7t(e){var i=e.read_shift(2),t=e.read_shift(2);return{r:i,c:255&t,fQuoted:!!(16384&t),cRel:t>>15,rRel:t>>15}}function pet(e){var i=1&e[e.l+1];return e.l+=4,[i,1]}function get(e){return[e.read_shift(1),e.read_shift(1)]}function oWt(e,i){var t=[e.read_shift(1)];if(12==i)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2}switch(t[0]){case 4:t[1]=function js(e,i){return 1===e.read_shift(i)}(e,1)?"TRUE":"FALSE",12!=i&&(e.l+=7);break;case 37:case 16:t[1]=cc[e[e.l]],e.l+=12==i?4:8;break;case 0:e.l+=8;break;case 1:t[1]=wo(e);break;case 2:t[1]=function ap(e,i,t){if(t.biff>5)return function D1(e,i,t){var n=e.read_shift(t&&2==t.biff?1:2);return 0===n?(e.l++,""):function sp(e,i,t){if(t){if(t.biff>=2&&t.biff<=5)return e.read_shift(i,"cpstr");if(t.biff>=12)return e.read_shift(i,"dbcs-cont")}var r=e.read_shift(1);return e.read_shift(i,0===r?"sbcs-cont":"dbcs-cont")}(e,n,t)}(e,0,t);var n=e.read_shift(1);return 0===n?(e.l++,""):e.read_shift(n,t.biff<=4||!e.lens?"cpstr":"sbcs-cont")}(e,0,{biff:i>0&&i<8?2:i});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function lWt(e,i,t){for(var n=e.read_shift(12==t.biff?4:2),r=[],s=0;s!=n;++s)r.push((12==t.biff?ep:sA)(e,8));return r}function cWt(e,i,t){var n=0,r=0;12==t.biff?(n=e.read_shift(4),r=e.read_shift(4)):(r=1+e.read_shift(1),n=1+e.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,0==--r&&(r=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var l=0;l!=r;++l)o[s][l]=oWt(e,t.biff);return o}function O1(e,i,t){return e.l+=2,[R7t(e)]}function MN(e){return e.l+=6,[]}function vet(e){return e.l+=2,[Es(e),1&e.read_shift(2)]}var MWt=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],xet={1:{n:"PtgExp",f:function eWt(e,i,t){return e.l++,t&&12==t.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(t&&2==t.biff?1:2)]}},2:{n:"PtgTbl",f:xo},3:{n:"PtgAdd",f:ia},4:{n:"PtgSub",f:ia},5:{n:"PtgMul",f:ia},6:{n:"PtgDiv",f:ia},7:{n:"PtgPower",f:ia},8:{n:"PtgConcat",f:ia},9:{n:"PtgLt",f:ia},10:{n:"PtgLe",f:ia},11:{n:"PtgEq",f:ia},12:{n:"PtgGe",f:ia},13:{n:"PtgGt",f:ia},14:{n:"PtgNe",f:ia},15:{n:"PtgIsect",f:ia},16:{n:"PtgUnion",f:ia},17:{n:"PtgRange",f:ia},18:{n:"PtgUplus",f:ia},19:{n:"PtgUminus",f:ia},20:{n:"PtgPercent",f:ia},21:{n:"PtgParen",f:ia},22:{n:"PtgMissArg",f:ia},23:{n:"PtgStr",f:function aWt(e,i,t){return e.l++,x0(e,0,t)}},26:{n:"PtgSheet",f:function RWt(e,i,t){return e.l+=5,e.l+=2,e.l+=2==t.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function PWt(e,i,t){return e.l+=2==t.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function iWt(e){return e.l++,cc[e.read_shift(1)]}},29:{n:"PtgBool",f:function rWt(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function nWt(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function sWt(e){return e.l++,wo(e)}},32:{n:"PtgArray",f:function U7t(e,i,t){var n=(96&e[e.l++])>>5;return e.l+=2==t.biff?6:12==t.biff?14:7,[n]}},33:{n:"PtgFunc",f:function Z7t(e,i,t){var n=(96&e[e.l])>>5;e.l+=1;var r=e.read_shift(t&&t.biff<=3?1:2);return[ujt[r],_et[r],n]}},34:{n:"PtgFuncVar",f:function J7t(e,i,t){var n=e[e.l++],r=e.read_shift(1),s=t&&t.biff<=3?[88==n?-1:0,e.read_shift(1)]:function q7t(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[r,(0===s[0]?_et:djt)[s[1]]]}},35:{n:"PtgName",f:function dWt(e,i,t){var n=e.read_shift(1)>>>5&3,s=e.read_shift(!t||t.biff>=8?4:2);switch(t.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[n,0,s]}},36:{n:"PtgRef",f:function $7t(e,i,t){var n=(96&e[e.l])>>5;return e.l+=1,[n,met(e,0,t)]}},37:{n:"PtgArea",f:function O7t(e,i,t){return[(96&e[e.l++])>>5,het(e,0,t)]}},38:{n:"PtgMemArea",f:function fWt(e,i,t){var n=e.read_shift(1)>>>5&3;return e.l+=t&&2==t.biff?3:4,[n,e.read_shift(t&&2==t.biff?1:2)]}},39:{n:"PtgMemErr",f:xo},40:{n:"PtgMemNoMem",f:xo},41:{n:"PtgMemFunc",f:function mWt(e,i,t){return[e.read_shift(1)>>>5&3,e.read_shift(t&&2==t.biff?1:2)]}},42:{n:"PtgRefErr",f:function pWt(e,i,t){var n=e.read_shift(1)>>>5&3;return e.l+=4,t.biff<8&&e.l--,12==t.biff&&(e.l+=2),[n]}},43:{n:"PtgAreaErr",f:function N7t(e,i,t){var n=(96&e[e.l++])>>5;return e.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}},44:{n:"PtgRefN",f:function Q7t(e,i,t){var n=(96&e[e.l])>>5;e.l+=1;var r=function P7t(e,i,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return function F7t(e){var i=e.read_shift(2),t=e.read_shift(1),n=(32768&i)>>15,r=(16384&i)>>14;return i&=16383,1==n&&i>=8192&&(i-=16384),1==r&&t>=128&&(t-=256),{r:i,c:t,cRel:r,rRel:n}}(e);var r=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(16384&s)>>14,l=(32768&s)>>15;if(s&=16383,1==l)for(;r>524287;)r-=1048576;if(1==o)for(;s>8191;)s-=16384;return{r,c:s,cRel:o,rRel:l}}(e,0,t);return[n,r]}},45:{n:"PtgAreaN",f:function V7t(e,i,t){var n=(96&e[e.l++])>>5,r=function I7t(e,i,t){if(t.biff<8)return fet(e);var n=e.read_shift(12==t.biff?4:2),r=e.read_shift(12==t.biff?4:2),s=vf(e,2),o=vf(e,2);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r,c:o[0],cRel:o[1],rRel:o[2]}}}(e,0,t);return[n,r]}},46:{n:"PtgMemAreaN",f:function FWt(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function OWt(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function uWt(e,i,t){return 5==t.biff?function hWt(e){var i=e.read_shift(1)>>>5&3,t=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[i,t,n]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function K7t(e,i,t){var n=(96&e[e.l])>>5;e.l+=1;var r=e.read_shift(2);return t&&5==t.biff&&(e.l+=12),[n,r,met(e,0,t)]}},59:{n:"PtgArea3d",f:function L7t(e,i,t){var n=(96&e[e.l++])>>5,r=e.read_shift(2,"i");if(t&&5===t.biff)e.l+=12;return[n,r,het(e,0,t)]}},60:{n:"PtgRefErr3d",f:function gWt(e,i,t){var n=(96&e[e.l++])>>5,r=e.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6}return e.l+=s,[n,r]}},61:{n:"PtgAreaErr3d",f:function B7t(e,i,t){var n=(96&e[e.l++])>>5,r=e.read_shift(2),s=8;if(t)switch(t.biff){case 5:e.l+=12,s=6;break;case 12:s=12}return e.l+=s,[n,r]}},255:{}},NWt={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},BWt={1:{n:"PtgElfLel",f:vet},2:{n:"PtgElfRw",f:O1},3:{n:"PtgElfCol",f:O1},6:{n:"PtgElfRwV",f:O1},7:{n:"PtgElfColV",f:O1},10:{n:"PtgElfRadical",f:O1},11:{n:"PtgElfRadicalS",f:MN},13:{n:"PtgElfColS",f:MN},15:{n:"PtgElfColSV",f:MN},16:{n:"PtgElfRadicalLel",f:vet},25:{n:"PtgList",f:function IWt(e){e.l+=2;var i=e.read_shift(2),t=e.read_shift(2),n=e.read_shift(4),r=e.read_shift(2),s=e.read_shift(2);return{ixti:i,coltype:3&t,rt:MWt[t>>2&31],idx:n,c:r,C:s}}},29:{n:"PtgSxName",f:function kWt(e){return e.l+=2,[e.read_shift(4)]}},255:{}},VWt={0:{n:"PtgAttrNoop",f:function LWt(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function j7t(e,i,t){var n=255&e[e.l+1]?1:0;return e.l+=t&&2==t.biff?3:4,[n]}},2:{n:"PtgAttrIf",f:function H7t(e,i,t){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(t&&2==t.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function z7t(e,i,t){e.l+=2;for(var n=e.read_shift(t&&2==t.biff?1:2),r=[],s=0;s<=n;++s)r.push(e.read_shift(t&&2==t.biff?1:2));return r}},8:{n:"PtgAttrGoto",f:function G7t(e,i,t){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(t&&2==t.biff?1:2)]}},16:{n:"PtgAttrSum",f:function tWt(e,i,t){e.l+=t&&2==t.biff?3:4}},32:{n:"PtgAttrBaxcel",f:pet},33:{n:"PtgAttrBaxcel",f:pet},64:{n:"PtgAttrSpace",f:function X7t(e){return e.read_shift(2),get(e)}},65:{n:"PtgAttrSpaceSemi",f:function Y7t(e){return e.read_shift(2),get(e)}},128:{n:"PtgAttrIfError",f:function W7t(e){var i=255&e[e.l+1]?1:0;return e.l+=2,[i,e.read_shift(2)]}},255:{}};function L1(e,i,t,n){if(n.biff<8)return xo(e,i);for(var r=e.l+i,s=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=cWt(e,0,n),s.push(t[o][1]);break;case"PtgMemArea":t[o][2]=lWt(e,0,n),s.push(t[o][2]);break;case"PtgExp":n&&12==n.biff&&(t[o][1][1]=e.read_shift(4),s.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0]}return 0!=(i=r-e.l)&&s.push(xo(e,i)),s}function UWt(e){for(var i=[],t=0;t<e.length;++t){for(var n=e[t],r=[],s=0;s<n.length;++s){var o=n[s];r.push(o?2===o[0]?'"'+o[1].replace(/"/g,'""')+'"':o[1]:"")}i.push(r.join(","))}return i.join(";")}var zWt={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function GWt(e,i){var t=e.lastIndexOf("!"),n=i.lastIndexOf("!");return-1==t&&-1==n?e+":"+i:t>0&&n>0&&e.slice(0,t).toLowerCase()==i.slice(0,n).toLowerCase()?e+":"+i.slice(n+1):(console.error("Cannot hydrate range",e,i),e+":"+i)}function yet(e,i,t){if(!e)return"SH33TJSERR0";if(t.biff>8&&(!e.XTI||!e.XTI[i]))return e.SheetNames[i];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[i];if(t.biff<8)return i>1e4&&(i-=65536),i<0&&(i=-i),0==i?"":e.XTI[i-1];if(!n)return"SH33TJSERR1";var r="";if(t.biff>8)switch(e[n[0]][0]){case 357:return r=-1==n[1]?"#REF":e.SheetNames[n[1]],n[1]==n[2]?r:r+":"+e.SheetNames[n[2]];case 358:return null!=t.SID?e.SheetNames[t.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return r=-1==n[1]?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?r:r+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(r=-1==n[1]?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?r:r+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function bet(e,i,t){var n=yet(e,i,t);return"#REF"==n?n:T1(n,t)}function So(e,i,t,n,r){var w,S,M,N,s=r&&r.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],P=0,O=0,U="";if(!e[0]||!e[0][0])return"";for(var j=-1,W="",Z=0,rt=e[0].length;Z<rt;++Z){var st=e[0][Z];switch(st[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(w=l.pop(),S=l.pop(),j>=0){switch(e[0][j][1][0]){case 0:W=Kn(" ",e[0][j][1][1]);break;case 1:W=Kn("\r",e[0][j][1][1]);break;default:if(W="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][j][1][0])}S+=W,j=-1}l.push(S+zWt[st[0]]+w);break;case"PtgIsect":w=l.pop(),S=l.pop(),l.push(S+" "+w);break;case"PtgUnion":w=l.pop(),S=l.pop(),l.push(S+","+w);break;case"PtgRange":w=l.pop(),S=l.pop(),l.push(GWt(S,w));break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":M=b1(st[1][1],o,r),l.push(w1(M,s));break;case"PtgRefN":M=t?b1(st[1][1],t,r):st[1][1],l.push(w1(M,s));break;case"PtgRef3d":P=st[1][1],M=b1(st[1][2],o,r),U=bet(n,P,r),l.push(U+"!"+w1(M,s));break;case"PtgFunc":case"PtgFuncVar":var _t=st[1][0],kt=st[1][1];_t||(_t=0);var ft=0==(_t&=127)?[]:l.slice(-_t);l.length-=_t,"User"===kt&&(kt=ft.shift()),l.push(kt+"("+ft.join(",")+")");break;case"PtgBool":l.push(st[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":l.push(st[1]);break;case"PtgNum":l.push(String(st[1]));break;case"PtgStr":l.push('"'+st[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":N=Yq(st[1][1],t?{s:t}:o,r),l.push(iN(N,r));break;case"PtgArea":N=Yq(st[1][1],o,r),l.push(iN(N,r));break;case"PtgArea3d":N=st[1][2],U=bet(n,P=st[1][1],r),l.push(U+"!"+iN(N,r));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgName":var dt=(n.names||[])[(O=st[1][2])-1]||(n[0]||[])[O],pt=dt?dt.Name:"SH33TJSNAME"+String(O);pt&&"_xlfn."==pt.slice(0,6)&&!r.xlfn&&(pt=pt.slice(6)),l.push(pt);break;case"PtgNameX":var Tt,bt=st[1][1];if(O=st[1][2],!(r.biff<=5)){var Et="";if(14849==((n[bt]||[])[0]||[])[0]||(1025==((n[bt]||[])[0]||[])[0]?n[bt][O]&&n[bt][O].itab>0&&(Et=n.SheetNames[n[bt][O].itab-1]+"!"):Et=n.SheetNames[O-1]+"!"),n[bt]&&n[bt][O])Et+=n[bt][O].Name;else if(n[0]&&n[0][O])Et+=n[0][O].Name;else{var Dt=(yet(n,bt,r)||"").split(";;");Dt[O-1]?Et=Dt[O-1]:Et+="SH33TJSERRX"}l.push(Et);break}bt<0&&(bt=-bt),n[bt]&&(Tt=n[bt][O]),Tt||(Tt={Name:"SH33TJSERRY"}),l.push(Tt.Name);break;case"PtgParen":var Ue="(",we=")";if(j>=0){switch(W="",e[0][j][1][0]){case 2:Ue=Kn(" ",e[0][j][1][1])+Ue;break;case 3:Ue=Kn("\r",e[0][j][1][1])+Ue;break;case 4:we=Kn(" ",e[0][j][1][1])+we;break;case 5:we=Kn("\r",e[0][j][1][1])+we;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][j][1][0])}j=-1}l.push(Ue+l.pop()+we);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":l.push("#REF!");break;case"PtgExp":var ve={c:t.c,r:t.r};if(n.sharedf[In(M={c:st[1][1],r:st[1][0]})]){var qt=n.sharedf[In(M)];l.push(So(qt,0,ve,n,r))}else{var Ee=!1;for(w=0;w!=n.arrayf.length;++w)if(!(M.c<(S=n.arrayf[w])[0].s.c||M.c>S[0].e.c||M.r<S[0].s.r||M.r>S[0].e.r)){l.push(So(S[1],0,ve,n,r)),Ee=!0;break}Ee||l.push(st[1])}break;case"PtgArray":l.push("{"+UWt(st[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":j=Z;break;case"PtgMissArg":l.push("");break;case"PtgList":l.push("Table"+st[1].idx+"[#"+st[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(st))}if(3!=r.biff&&j>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][Z][0])){var Me=!0;switch((st=e[0][j])[1][0]){case 4:Me=!1;case 0:W=Kn(" ",st[1][1]);break;case 5:Me=!1;case 1:W=Kn("\r",st[1][1]);break;default:if(W="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+st[1][0])}l.push((Me?W:"")+l.pop()+(Me?"":W)),j=-1}}if(l.length>1&&r.WTF)throw new Error("bad formula stack");return"TRUE"==l[0]||"FALSE"!=l[0]&&l[0]}function mA(e,i,t){var n=e.read_shift(4),r=function N1(e,i,t){for(var r,s,n=e.l+i,o=[];n!=e.l;)i=n-e.l,r=xet[s=e[e.l]]||xet[NWt[s]],(24===s||25===s)&&(r=(24===s?BWt:VWt)[e[e.l+1]]),r&&r.f?o.push([r.n,r.f(e,i,t)]):xo(e,i);return o}(e,n,t),s=e.read_shift(4);return[r,s>0?L1(e,s,r,t):null]}var KWt=mA,pA=mA,ZWt=mA,JWt=mA;function wet(e){if((0|e)==e&&e<Math.pow(2,16)&&e>=0){var i=le(11);return i.write_shift(4,3),i.write_shift(1,30),i.write_shift(2,e),i.write_shift(4,0),i}var t=le(17);return t.write_shift(4,11),t.write_shift(1,31),t.write_shift(8,e),t.write_shift(4,0),t}var cjt=function ljt(e,i){if("number"==typeof e)return wet(e);if("boolean"==typeof e)return function tjt(e){var i=le(10);return i.write_shift(4,2),i.write_shift(1,29),i.write_shift(1,e?1:0),i.write_shift(4,0),i}(e);if(/^#(DIV\/0!|GETTING_DATA|N\/A|NAME\?|NULL!|NUM!|REF!|VALUE!)$/.test(e))return function qWt(e){var i=le(10);return i.write_shift(4,2),i.write_shift(1,28),i.write_shift(1,e),i.write_shift(4,0),i}(+S1[e]);if(e.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function ijt(e){var i=_r(e),t=le(15);return t.write_shift(4,7),t.write_shift(1,36),t.write_shift(4,i.r),t.write_shift(2,i.c|("$"==e.charAt(0)?0:1)<<14|(e.match(/\$\d/)?0:1)<<15),t.write_shift(4,0),t}(e);if(e.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function sjt(e){var i=e.split(":"),t=i[0],n=le(23);n.write_shift(4,15);var r=_r(t=i[0]);return n.write_shift(1,36),n.write_shift(4,r.r),n.write_shift(2,r.c|("$"==t.charAt(0)?0:1)<<14|(t.match(/\$\d/)?0:1)<<15),n.write_shift(4,0),r=_r(t=i[1]),n.write_shift(1,36),n.write_shift(4,r.r),n.write_shift(2,r.c|("$"==t.charAt(0)?0:1)<<14|(t.match(/\$\d/)?0:1)<<15),n.write_shift(4,0),n.write_shift(1,17),n.write_shift(4,0),n}(e);if(e.match(/^#REF!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function ojt(e,i){var t=e.lastIndexOf("!"),n=e.slice(0,t);e=e.slice(t+1),"'"==n.charAt(0)&&(n=n.slice(1,-1).replace(/''/g,"'"));var r=_a(e),s=le(23);return s.write_shift(4,15),s.write_shift(1,59),s.write_shift(2,2+i.SheetNames.map(function(o){return o.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,r.s.r),s.write_shift(4,r.e.r),s.write_shift(2,r.s.c),s.write_shift(2,r.e.c),s.write_shift(4,0),s}(e,i);if(e.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function njt(e,i){var t=e.lastIndexOf("!"),n=e.slice(0,t),r=_r(e=e.slice(t+1));"'"==n.charAt(0)&&(n=n.slice(1,-1).replace(/''/g,"'"));var s=le(17);return s.write_shift(4,9),s.write_shift(1,58),s.write_shift(2,2+i.SheetNames.map(function(o){return o.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,r.r),s.write_shift(2,r.c|("$"==e.charAt(0)?0:1)<<14|(e.match(/\$\d/)?0:1)<<15),s.write_shift(4,0),s}(e,i);if(e.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return function ajt(e,i){var t=e.lastIndexOf("!"),n=e.slice(0,t);e=e.slice(t+1),"'"==n.charAt(0)&&(n=n.slice(1,-1).replace(/''/g,"'"));var r=e.split(":"),s=le(27);s.write_shift(4,19);var o=r[0],l=_r(o);return s.write_shift(1,58),s.write_shift(2,2+i.SheetNames.map(function(w){return w.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,l.r),s.write_shift(2,l.c|("$"==o.charAt(0)?0:1)<<14|(o.match(/\$\d/)?0:1)<<15),l=_r(o=r[1]),s.write_shift(1,58),s.write_shift(2,2+i.SheetNames.map(function(w){return w.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,l.r),s.write_shift(2,l.c|("$"==o.charAt(0)?0:1)<<14|(o.match(/\$\d/)?0:1)<<15),s.write_shift(1,17),s.write_shift(4,0),s}(e,i);if(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!#REF!$/.test(e))return function rjt(e,i){var t=e.lastIndexOf("!"),n=e.slice(0,t);e=e.slice(t+1),"'"==n.charAt(0)&&(n=n.slice(1,-1).replace(/''/g,"'"));var r=le(17);return r.write_shift(4,9),r.write_shift(1,60),r.write_shift(2,2+i.SheetNames.map(function(s){return s.toLowerCase()}).indexOf(n.toLowerCase())),r.write_shift(4,0),r.write_shift(2,0),r.write_shift(4,0),r}(e,i);if(/^".*"$/.test(e))return function ejt(e){var i=le(7);i.write_shift(4,3+2*e.length),i.write_shift(1,23),i.write_shift(2,e.length);var t=le(2*e.length);t.write_shift(2*e.length,e,"utf16le");var n=le(4);return n.write_shift(4,0),Hs([i,t,n])}(e);if(/^[+-]\d+$/.test(e))return wet(parseInt(e,10));throw"Formula |"+e+"| not supported for XLSB"},djt={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},_et={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ujt={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function hjt(e){return("of:="+e.replace(hA,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function Cet(e){return e.replace(/!/,".").replace(/:/,":.")}var V1=typeof Map<"u";function RN(e,i,t){var n=0,r=e.length;if(t){if(V1?t.has(i):Object.prototype.hasOwnProperty.call(t,i))for(var s=V1?t.get(i):t[i];n<s.length;++n)if(e[s[n]].t===i)return e.Count++,s[n]}else for(;n<r;++n)if(e[n].t===i)return e.Count++,n;return e[r]={t:i},e.Count++,e.Unique++,t&&(V1?(t.has(i)||t.set(i,[]),t.get(i).push(r)):(Object.prototype.hasOwnProperty.call(t,i)||(t[i]=[]),t[i].push(r))),r}function gA(e,i){var t={min:e+1,max:e+1},n=-1;return i.MDW&&(Co=i.MDW),null!=i.width?t.customWidth=1:null!=i.wpx?n=R1(i.wpx):null!=i.wch&&(n=i.wch),n>-1?(t.width=cA(n),t.customWidth=1):null!=i.width&&(t.width=i.width),i.hidden&&(t.hidden=!0),null!=i.level&&(t.outlineLevel=t.level=i.level),t}function dp(e,i){if(e){var t=[.7,.7,.75,.75,.3,.3];"xlml"==i&&(t=[1,1,1,1,.5,.5]),null==e.left&&(e.left=t[0]),null==e.right&&(e.right=t[1]),null==e.top&&(e.top=t[2]),null==e.bottom&&(e.bottom=t[3]),null==e.header&&(e.header=t[4]),null==e.footer&&(e.footer=t[5])}}function xf(e,i,t){var n=t.revssf[null!=i.z?i.z:"General"],r=60,s=e.length;if(null==n&&t.ssf)for(;r<392;++r)if(null==t.ssf[r]){ff(i.z,r),t.ssf[r]=i.z,t.revssf[i.z]=n=r;break}for(r=0;r!=s;++r)if(e[r].numFmtId===n)return r;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function fjt(e,i,t){if(e&&e["!ref"]){var n=Yn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+e["!ref"])}}var Sjt=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Ejt=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Bjt(e,i,t,n,r,s,o){if(e.c&&t["!comments"].push([i,e.c]),(void 0===e.v||"z"===e.t&&!(n||{}).sheetStubs)&&"string"!=typeof e.f&&typeof e.z>"u")return"";var l="",w=e.t,S=e.v;if("z"!==e.t)switch(e.t){case"b":l=e.v?"1":"0";break;case"n":isNaN(e.v)?(e.t="e",l=cc[e.v=36]):isFinite(e.v)?l=""+e.v:(e.t="e",l=cc[e.v=7]);break;case"e":l=cc[e.v];break;case"d":if(n&&n.cellDates){var M=hs(e.v,o);l=M.toISOString(),M.getUTCFullYear()<1900&&(l=l.slice(l.indexOf("T")+1).replace("Z",""))}else(e=br(e)).t="n",l=""+(e.v=ys(hs(e.v,o),o));typeof e.z>"u"&&(e.z=Li[14]);break;default:l=e.v}var P="z"==e.t||null==e.v?"":$a("v",Sn(l)),O={r:i},N=xf(n.cellXfs,e,n);switch(0!==N&&(O.s=N),e.t){case"n":case"z":break;case"d":O.t="d";break;case"b":O.t="b";break;case"e":O.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){P=$a("v",""+RN(n.Strings,e.v,n.revStrings)),O.t="s";break}O.t="str"}if(e.t!=w&&(e.t=w,e.v=S),"string"==typeof e.f&&e.f){var U=e.F&&e.F.slice(0,i.length)==i?{t:"array",ref:e.F}:null;P=ti("f",Sn(e.f),U)+(null!=e.v?P:"")}return e.l&&(e.l.display=Sn(l),t["!links"].push([i,e.l])),e.D&&(O.cm=1),ti("c",P,O)}function zjt(e,i,t,n){var o,r=[Ws,ti("worksheet",null,{xmlns:Km[0],"xmlns:r":ba.r})],l="",w=t.Sheets[t.SheetNames[e]];null==w&&(w={});var S=w["!ref"]||"A1",M=Yn(S);if(M.e.c>16383||M.e.r>1048575){if(i.WTF)throw new Error("Range "+S+" exceeds format limit A1:XFD1048576");M.e.c=Math.min(M.e.c,16383),M.e.r=Math.min(M.e.c,1048575),S=bn(M)}n||(n={}),w["!comments"]=[];var P=[];(function Cjt(e,i,t,n,r){var s=!1,o={},l=null;if("xlsx"!==n.bookType&&i.vbaraw){var w=i.SheetNames[t];try{i.Workbook&&(w=i.Workbook.Sheets[t].CodeName||w)}catch{}s=!0,o.codeName=Id(Sn(w))}if(e&&e["!outline"]){var S={summaryBelow:1,summaryRight:1};e["!outline"].above&&(S.summaryBelow=0),e["!outline"].left&&(S.summaryRight=0),l=(l||"")+ti("outlinePr",null,S)}!s&&!l||(r[r.length]=ti("sheetPr",l,o))})(w,t,e,i,r),r[r.length]=ti("dimension",null,{ref:S}),r[r.length]=function Njt(e,i,t,n){var r={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ti("sheetViews",ti("sheetView",null,r),{})}(0,0,0,t),i.sheetFormat&&(r[r.length]=ti("sheetFormatPr",null,{defaultRowHeight:i.sheetFormat.defaultRowHeight||"16",baseColWidth:i.sheetFormat.baseColWidth||"10",outlineLevelRow:i.sheetFormat.outlineLevelRow||"7"})),null!=w["!cols"]&&w["!cols"].length>0&&(r[r.length]=function Rjt(e,i){for(var n,t=["<cols>"],r=0;r!=i.length;++r)(n=i[r])&&(t[t.length]=ti("col",null,gA(r,n)));return t[t.length]="</cols>",t.join("")}(0,w["!cols"])),r[o=r.length]="<sheetData/>",w["!links"]=[],null!=w["!ref"]&&(l=function Ujt(e,i,t,n){var w,W,r=[],s=[],o=Yn(e["!ref"]),l="",S="",M=[],P=0,O=0,N=e["!rows"],U=null!=e["!data"],j={r:S},Z=-1,rt=(((n||{}).Workbook||{}).WBProps||{}).date1904;for(O=o.s.c;O<=o.e.c;++O)M[O]=yn(O);for(P=o.s.r;P<=o.e.r;++P){for(s=[],S=Bn(P),O=o.s.c;O<=o.e.c;++O){w=M[O]+S;var st=U?(e["!data"][P]||[])[O]:e[w];void 0!==st&&null!=(l=Bjt(st,w,e,i,0,0,rt))&&s.push(l)}(s.length>0||N&&N[P])&&(j={r:S},N&&N[P]&&((W=N[P]).hidden&&(j.hidden=1),Z=-1,W.hpx?Z=P1(W.hpx):W.hpt&&(Z=W.hpt),Z>-1&&(j.ht=Z,j.customHeight=1),W.level&&(j.outlineLevel=W.level)),r[r.length]=ti("row",s.join(""),j))}if(N)for(;P<N.length;++P)N&&N[P]&&(j={r:P+1},(W=N[P]).hidden&&(j.hidden=1),Z=-1,W.hpx?Z=P1(W.hpx):W.hpt&&(Z=W.hpt),Z>-1&&(j.ht=Z,j.customHeight=1),W.level&&(j.outlineLevel=W.level),r[r.length]=ti("row","",j));return r.join("")}(w,i,0,t),l.length>0&&(r[r.length]=l)),r.length>o+1&&(r[r.length]="</sheetData>",r[o]=r[o].replace("/>",">")),w["!protect"]&&(r[r.length]=function Ajt(e){var i={sheet:1};return Sjt.forEach(function(t){null!=e[t]&&e[t]&&(i[t]="1")}),Ejt.forEach(function(t){null!=e[t]&&!e[t]&&(i[t]="0")}),e.password&&(i.password=CN(e.password).toString(16).toUpperCase()),ti("sheetProtection",null,i)}(w["!protect"])),null!=w["!autofilter"]&&(r[r.length]=function Fjt(e,i,t,n){var r="string"==typeof e.ref?e.ref:bn(e.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,o=_a(r);o.s.r==o.e.r&&(o.e.r=_a(i["!ref"]).e.r,r=bn(o));for(var l=0;l<s.length;++l){var w=s[l];if("_xlnm._FilterDatabase"==w.Name&&w.Sheet==n){w.Ref=T1(t.SheetNames[n])+"!"+_1(r);break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+r}),ti("autoFilter",null,{ref:r})}(w["!autofilter"],w,t,e)),null!=w["!merges"]&&w["!merges"].length>0&&(r[r.length]=function _jt(e){if(0===e.length)return"";for(var i='<mergeCells count="'+e.length+'">',t=0;t!=e.length;++t)i+='<mergeCell ref="'+bn(e[t])+'"/>';return i+"</mergeCells>"}(w["!merges"]));var N,O=-1,U=-1;return w["!links"].length>0&&(r[r.length]="<hyperlinks>",w["!links"].forEach(function(j){j[1].Target&&(N={ref:j[0]},"#"!=j[1].Target.charAt(0)&&(U=pr(n,-1,Sn(j[1].Target).replace(/#[\s\S]*$/,""),wn.HLINK),N["r:id"]="rId"+U),(O=j[1].Target.indexOf("#"))>-1&&(N.location=Sn(j[1].Target.slice(O+1))),j[1].Tooltip&&(N.tooltip=Sn(j[1].Tooltip)),N.display=j[1].display,r[r.length]=ti("hyperlink",null,N))}),r[r.length]="</hyperlinks>"),delete w["!links"],null!=w["!margins"]&&(r[r.length]=function Ijt(e){return dp(e),ti("pageMargins",null,e)}(w["!margins"])),(!i||i.ignoreEC||null==i.ignoreEC)&&(r[r.length]=$a("ignoredErrors",ti("ignoredError",null,{numberStoredAsText:1,sqref:S}))),P.length>0&&(U=pr(n,-1,"../drawings/drawing"+(e+1)+".xml",wn.DRAW),r[r.length]=ti("drawing",null,{"r:id":"rId"+U}),w["!drawing"]=P),w["!comments"].length>0&&(U=pr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",wn.VML),r[r.length]=ti("legacyDrawing",null,{"r:id":"rId"+U}),w["!legacy"]=U),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Wjt(e,i,t,n){var r=function Hjt(e,i,t){var n=le(145),r=(t["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;r.hpx?s=20*P1(r.hpx):r.hpt&&(s=20*r.hpt),n.write_shift(2,s),n.write_shift(1,0);var o=0;r.level&&(o|=r.level),r.hidden&&(o|=16),(r.hpx||r.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,w=n.l;n.l+=4;for(var S={r:e,c:0},M=null!=t["!data"],P=0;P<16;++P)if(!(i.s.c>P+1<<10||i.e.c<P<<10)){for(var O=-1,N=-1,U=P<<10;U<P+1<<10;++U)S.c=U,(M?(t["!data"][S.r]||[])[S.c]:t[In(S)])&&(O<0&&(O=U),N=U);O<0||(++l,n.write_shift(4,O),n.write_shift(4,N))}var W=n.l;return n.l=w,n.write_shift(4,l),n.l=W,n.length>n.l?n.slice(0,n.l):n}(n,t,i);(r.length>17||(i["!rows"]||[])[n])&&Ie(e,0,r)}var jjt=ep,Xjt=g0;function FN(e,i,t){return null==t&&(t=le(9)),Jm(i,t),t.write_shift(1,e.v),t}function ON(e,i,t){return null==t&&(t=le(8)),tp(i,t),t.write_shift(1,e.v),t.write_shift(2,0),t.write_shift(1,0),t}var EXt=ep,AXt=g0,Met=["left","right","top","bottom","header","footer"];function WXt(e,i,t,n,r,s,o,l){var w={r:t,c:n};if(i.c&&s["!comments"].push([In(w),i.c]),void 0===i.v)return!1;var S="";switch(i.t){case"b":S=i.v?"1":"0";break;case"d":(i=br(i)).z=i.z||Li[14],i.v=ys(hs(i.v,l),l),i.t="n";break;case"n":case"e":S=""+i.v;break;default:S=i.v}switch(w.s=xf(r.cellXfs,i,r),i.l&&s["!links"].push([In(w),i.l]),i.t){case"s":case"str":return r.bookSST?(S=RN(r.Strings,null==i.v?"":String(i.v),r.revStrings),w.t="s",w.v=S,o?Ie(e,18,function cXt(e,i,t){return null==t&&(t=le(8)),tp(i,t),t.write_shift(4,i.v),t}(0,w)):Ie(e,7,function oXt(e,i,t){return null==t&&(t=le(12)),Jm(i,t),t.write_shift(4,i.v),t}(0,w))):(w.t="str",o?Ie(e,17,function wXt(e,i,t){var n=null==e.v?"":String(e.v);return null==t&&(t=le(8+4*n.length)),tp(i,t),Ta(n,t),t.length>t.l?t.slice(0,t.l):t}(i,w)):Ie(e,6,function yXt(e,i,t){var n=null==e.v?"":String(e.v);return null==t&&(t=le(12+4*e.v.length)),Jm(i,t),Ta(n,t),t.length>t.l?t.slice(0,t.l):t}(i,w))),!0;case"n":return i.v==(0|i.v)&&i.v>-1e3&&i.v<1e3?o?Ie(e,13,function gXt(e,i,t){return null==t&&(t=le(8)),tp(i,t),Zq(e.v,t),t}(i,w)):Ie(e,2,function mXt(e,i,t){return null==t&&(t=le(12)),Jm(i,t),Zq(e.v,t),t}(i,w)):isNaN(i.v)?o?Ie(e,14,ON({t:"e",v:36},w)):Ie(e,3,FN({t:"e",v:36},w)):isFinite(i.v)?o?Ie(e,16,function hXt(e,i,t){return null==t&&(t=le(12)),tp(i,t),ip(e.v,t),t}(i,w)):Ie(e,5,function uXt(e,i,t){return null==t&&(t=le(16)),Jm(i,t),ip(e.v,t),t}(i,w)):o?Ie(e,14,ON({t:"e",v:7},w)):Ie(e,3,FN({t:"e",v:7},w)),!0;case"b":return w.t="b",o?Ie(e,15,function nXt(e,i,t){return null==t&&(t=le(5)),tp(i,t),t.write_shift(1,e.v?1:0),t}(i,w)):Ie(e,4,function eXt(e,i,t){return null==t&&(t=le(9)),Jm(i,t),t.write_shift(1,e.v?1:0),t}(i,w)),!0;case"e":return w.t="e",o?Ie(e,14,ON(i,w)):Ie(e,3,FN(i,w)),!0}return o?Ie(e,12,function qjt(e,i,t){return null==t&&(t=le(4)),tp(i,t)}(0,w)):Ie(e,1,function Zjt(e,i,t){return null==t&&(t=le(8)),Jm(i,t)}(0,w)),!0}function tYt(e,i,t,n){var r=yo(),s=t.SheetNames[e],o=t.Sheets[s]||{},l=s;try{t&&t.Workbook&&(l=t.Workbook.Sheets[e].CodeName||l)}catch{}var w=Yn(o["!ref"]||"A1");if(w.e.c>16383||w.e.r>1048575){if(i.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");w.e.c=Math.min(w.e.c,16383),w.e.r=Math.min(w.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ie(r,129),(t.vbaraw||o["!outline"])&&Ie(r,147,function Qjt(e,i,t){null==t&&(t=le(84+4*e.length));var n=192;i&&(i.above&&(n&=-65),i.left&&(n&=-129)),t.write_shift(1,n);for(var r=1;r<3;++r)t.write_shift(1,0);return JE({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),Kq(e,t),t.slice(0,t.l)}(l,o["!outline"])),Ie(r,148,Xjt(w)),function JXt(e,i,t){Ie(e,133),Ie(e,137,function BXt(e,i,t){null==t&&(t=le(30));var n=924;return(((i||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}(0,t)),Ie(e,138),Ie(e,134)}(r,0,t.Workbook),function YXt(e,i){!i||!i["!cols"]||(Ie(e,390),i["!cols"].forEach(function(t,n){t&&Ie(e,60,function FXt(e,i,t){null==t&&(t=le(18));var n=gA(e,i);t.write_shift(-4,e),t.write_shift(-4,e),t.write_shift(4,256*(n.width||10)),t.write_shift(4,0);var r=0;return i.hidden&&(r|=1),"number"==typeof n.width&&(r|=2),i.level&&(r|=i.level<<8),t.write_shift(2,r),t}(n,t))}),Ie(e,391))}(r,o),function jXt(e,i,t,n,r){var s=Yn(i["!ref"]||"A1"),l="",w=[],S=(((r||{}).Workbook||{}).WBProps||{}).date1904;Ie(e,145);var M=null!=i["!data"],P=s.e.r;i["!rows"]&&(P=Math.max(s.e.r,i["!rows"].length-1));for(var O=s.s.r;O<=P;++O){l=Bn(O),Wjt(e,i,s,O);var N=!1;if(O<=s.e.r)for(var U=s.s.c;U<=s.e.c;++U){O===s.s.r&&(w[U]=yn(U));var j=M?(i["!data"][O]||[])[U]:i[w[U]+l];N=!!j&&WXt(e,j,O,U,n,i,N,S)}}Ie(e,146)}(r,o,0,i,t),function qXt(e,i){i["!protect"]&&Ie(e,535,function UXt(e,i){return null==i&&(i=le(66)),i.write_shift(2,e.password?CN(e.password):0),i.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){i.write_shift(4,t[1]?null==e[t[0]]||e[t[0]]?0:1:null!=e[t[0]]&&e[t[0]]?0:1)}),i}(i["!protect"]))}(r,o),function ZXt(e,i,t,n){if(i["!autofilter"]){var r=i["!autofilter"],s="string"==typeof r.ref?r.ref:bn(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,l=_a(s);l.s.r==l.e.r&&(l.e.r=_a(i["!ref"]).e.r,s=bn(l));for(var w=0;w<o.length;++w){var S=o[w];if("_xlnm._FilterDatabase"==S.Name&&S.Sheet==n){S.Ref=T1(t.SheetNames[n])+"!"+_1(s);break}}w==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:T1(t.SheetNames[n])+"!"+_1(s)}),Ie(e,161,g0(Yn(s))),Ie(e,162)}}(r,o,t,e),function XXt(e,i){!i||!i["!merges"]||(Ie(e,177,function DXt(e,i){return null==i&&(i=le(4)),i.write_shift(4,e),i}(i["!merges"].length)),i["!merges"].forEach(function(t){Ie(e,176,AXt(t))}),Ie(e,178))}(r,o),function QXt(e,i,t){i["!links"].forEach(function(n){if(n[1].Target){var r=pr(t,-1,n[1].Target.replace(/#[\s\S]*$/,""),wn.HLINK);Ie(e,494,function IXt(e,i){var t=le(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));g0({s:_r(e[0]),e:_r(e[0])},t),oN("rId"+i,t);var n=e[1].Target.indexOf("#");return Ta((-1==n?"":e[1].Target.slice(n+1))||"",t),Ta(e[1].Tooltip||"",t),Ta("",t),t.slice(0,t.l)}(n,r))}}),delete i["!links"]}(r,o,n),o["!margins"]&&Ie(r,476,function LXt(e,i){return null==i&&(i=le(48)),dp(e),Met.forEach(function(t){ip(e[t],i)}),i}(o["!margins"])),(!i||i.ignoreEC||null==i.ignoreEC)&&function $Xt(e,i){!i||!i["!ref"]||(Ie(e,648),Ie(e,649,function VXt(e){var i=le(24);return i.write_shift(4,4),i.write_shift(4,1),g0(e,i),i}(Yn(i["!ref"]))),Ie(e,650))}(r,o),function KXt(e,i,t,n){if(i["!comments"].length>0){var r=pr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",wn.VML);Ie(e,551,oN("rId"+r)),i["!legacy"]=r}}(r,o,e,n),Ie(r,130),r.end()}var LN=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],dYt=":][*?/\\".split("");function Pet(e,i){try{if(""==e)throw new Error("Sheet name cannot be blank");if(e.length>31)throw new Error("Sheet name cannot exceed 31 chars");if(39==e.charCodeAt(0)||39==e.charCodeAt(e.length-1))throw new Error("Sheet name cannot start or end with apostrophe (')");if("history"==e.toLowerCase())throw new Error("Sheet name cannot be 'History'");dYt.forEach(function(t){if(-1!=e.indexOf(t))throw new Error("Sheet name cannot contain : \\ / ? * [ ]")})}catch(t){if(i)return!1;throw t}return!0}function gYt(e,i){return i||(i=le(127)),i.write_shift(4,e.Hidden),i.write_shift(4,e.iTabID),oN(e.strRelID,i),Ta(e.name.slice(0,31),i),i.length>i.l?i.slice(0,i.l):i}function IYt(e,i){var t=yo();return Ie(t,131),Ie(t,128,function CYt(e,i){i||(i=le(127));for(var t=0;4!=t;++t)i.write_shift(4,0);return Ta("SheetJS",i),Ta(o1.version,i),Ta(o1.version,i),Ta("7262",i),i.length>i.l?i.slice(0,i.l):i}()),Ie(t,153,function xYt(e,i){i||(i=le(72));var t=0;return e&&(e.date1904&&(t|=1),e.filterPrivacy&&(t|=8)),i.write_shift(4,t),i.write_shift(4,0),Kq(e&&e.CodeName||"ThisWorkbook",i),i.slice(0,i.l)}(e.Workbook&&e.Workbook.WBProps||null)),function EYt(e,i){if(i.Workbook&&i.Workbook.Sheets){for(var t=i.Workbook.Sheets,n=0,r=-1,s=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&-1==r?r=n:1==t[n].Hidden&&-1==s&&(s=n);s>r||(Ie(e,135),Ie(e,158,function SYt(e,i){return i||(i=le(29)),i.write_shift(-4,0),i.write_shift(-4,460),i.write_shift(4,28800),i.write_shift(4,17600),i.write_shift(4,500),i.write_shift(4,e),i.write_shift(4,e),i.write_shift(1,120),i.length>i.l?i.slice(0,i.l):i}(r)),Ie(e,136))}}(t,e),function TYt(e,i){Ie(e,143);for(var t=0;t!=i.SheetNames.length;++t)Ie(e,156,gYt({Hidden:i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[t]&&i.Workbook.Sheets[t].Hidden||0,iTabID:t+1,strRelID:"rId"+(t+1),name:i.SheetNames[t]}));Ie(e,144)}(t,e),function MYt(e,i){Ie(e,353),Ie(e,357),Ie(e,362,function DYt(e){var i=e.SheetNames.length,t=le(12*i+28);t.write_shift(4,i+2),t.write_shift(4,0),t.write_shift(4,-2),t.write_shift(4,-2),t.write_shift(4,0),t.write_shift(4,-1),t.write_shift(4,-1);for(var n=0;n<i;++n)t.write_shift(4,0),t.write_shift(4,n),t.write_shift(4,n);return t}(i)),Ie(e,354)}(t,e),(e.Workbook||{}).Names&&function AYt(e,i){!i.Workbook||!i.Workbook.Names||i.Workbook.Names.forEach(function(t){try{if(14&t.Flags)return;Ie(e,39,function wYt(e,i){var t=le(9),n=0,r=e.Name;uN.indexOf(r)>-1&&(n|=32,r=r.slice(6)),t.write_shift(4,n),t.write_shift(1,0),t.write_shift(4,null==e.Sheet?4294967295:e.Sheet);var s=[t,Ta(r),cjt(e.Ref,i)];if(e.Comment)s.push(C1(e.Comment));else{var o=le(4);o.write_shift(4,4294967295),s.push(o)}return Hs(s)}(t,i))}catch{console.error("Could not serialize defined name "+JSON.stringify(t))}})}(t,e),Ie(t,132),t.end()}function Net(e){return ti("NamedRange",null,{"ss:Name":"_xlnm."==e.Name.slice(0,6)?e.Name.slice(6):e.Name,"ss:RefersTo":"="+fA(e.Ref,{r:0,c:0})})}function n$t(e,i,t,n,r,s,o){if(!e||null==e.v&&null==e.f)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Sn(fA(e.f,o))),e.F&&e.F.slice(0,i.length)==i){var w=_r(e.F.slice(i.length+1));l["ss:ArrayRange"]="RC:R"+(w.r==o.r?"":"["+(w.r-o.r)+"]")+"C"+(w.c==o.c?"":"["+(w.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Sn(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Sn(e.l.Tooltip))),t["!merges"])for(var S=t["!merges"],M=0;M!=S.length;++M)S[M].s.c!=o.c||S[M].s.r!=o.r||(S[M].e.c>S[M].s.c&&(l["ss:MergeAcross"]=S[M].e.c-S[M].s.c),S[M].e.r>S[M].s.r&&(l["ss:MergeDown"]=S[M].e.r-S[M].s.r));var P="",O="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":P="Number",O=String(e.v);break;case"b":P="Boolean",O=e.v?"1":"0";break;case"e":P="Error",O=cc[e.v];break;case"d":P="DateTime",O=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||Li[14]);break;case"s":P="String",O=function p9t(e){return(e+"").replace(YL,function(t){return XL[t]}).replace(Eq,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}(e.v||"")}var N=xf(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+N),l["ss:Index"]=o.c+1;var j="z"==e.t?"":'<Data ss:Type="'+P+'">'+(null!=e.v?O:"")+"</Data>";return(e.c||[]).length>0&&(j+=function i$t(e){return e.map(function(i){var t=function g9t(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}(i.t||""),n=ti("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"}),r={};return i.a&&(r["ss:Author"]=i.a),e.hidden||(r["ss:ShowAlways"]="1"),ti("Comment",n,r)}).join("")}(e.c)),ti("Cell",j,l)}function r$t(e,i){var t='<Row ss:Index="'+(e+1)+'"';return i&&(i.hpt&&!i.hpx&&(i.hpx=b0(i.hpt)),i.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+i.hpx+'"'),i.hidden&&(t+=' ss:Hidden="1"')),t+">"}function a$t(e,i,t){var n=[],s=t.Sheets[t.SheetNames[e]],o=s?function t$t(e,i,t,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var r=n.Workbook.Names,s=[],o=0;o<r.length;++o){var l=r[o];l.Sheet==t&&(l.Name.match(/^_xlfn\./)||s.push(Net(l)))}return s.join("")}(s,0,e,t):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=s?function s$t(e,i,t,n){if(!e["!ref"])return"";var r=Yn(e["!ref"]),s=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(W,Z){gf(W);var rt=!!W.width,st=gA(Z,W),vt={"ss:Index":Z+1};rt&&(vt["ss:Width"]=k1(st.width)),W.hidden&&(vt["ss:Hidden"]="1"),l.push(ti("Column",null,vt))});for(var w=null!=e["!data"],S=r.s.r;S<=r.e.r;++S){for(var M=[r$t(S,(e["!rows"]||[])[S])],P=r.s.c;P<=r.e.c;++P){var O=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>P||s[o].s.r>S||s[o].e.c<P||s[o].e.r<S)){(s[o].s.c!=P||s[o].s.r!=S)&&(O=!0);break}if(!O){var N={r:S,c:P},U=yn(P)+Bn(S);M.push(n$t(w?(e["!data"][S]||[])[P]:e[U],U,e,i,0,0,N))}}M.push("</Row>"),M.length>2&&l.push(M.join(""))}return l.join("")}(s,i):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(function e$t(e,i,t,n){if(!e)return"";var r=[];if(e["!margins"]&&(r.push("<PageSetup>"),e["!margins"].header&&r.push(ti("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&r.push(ti("Footer",null,{"x:Margin":e["!margins"].footer})),r.push(ti("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),r.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)r.push(ti("Visible",1==n.Workbook.Sheets[t].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&(!n.Workbook.Sheets[s]||n.Workbook.Sheets[s].Hidden);++s);s==t&&r.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),e["!protect"]&&(r.push($a("ProtectContents","True")),e["!protect"].objects&&r.push($a("ProtectObjects","True")),e["!protect"].scenarios&&r.push($a("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null!=e["!protect"].selectUnlockedCells&&!e["!protect"].selectUnlockedCells&&r.push($a("EnableSelection","UnlockedCells")):r.push($a("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&r.push("<"+o[1]+"/>")})),0==r.length?"":ti("WorksheetOptions",r.join(""),{xmlns:Nl.x})}(s,0,e,t)),s["!autofilter"]&&n.push('<AutoFilter x:Range="'+fA(_1(s["!autofilter"].ref),{r:0,c:0})+'" xmlns="urn:schemas-microsoft-com:office:excel"></AutoFilter>'),n.join("")}function o$t(e,i){i||(i={}),e.SSF||(e.SSF=br(Li)),e.SSF&&(u0(),f1(e.SSF),i.revssf=WE(e.SSF),i.revssf[e.SSF[65535]]=0,i.ssf=e.SSF,i.cellXfs=[],xf(i.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(function KYt(e,i){var t=[];return e.Props&&t.push(function hUt(e,i){var t=[];return rs(pN).map(function(n){for(var r=0;r<Wu.length;++r)if(Wu[r][1]==n)return Wu[r];for(r=0;r<rp.length;++r)if(rp[r][1]==n)return rp[r];throw n}).forEach(function(n){if(null!=e[n[1]]){var r=i&&i.Props&&null!=i.Props[n[1]]?i.Props[n[1]]:e[n[1]];"date"===n[2]&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof r?r=String(r):!0===r||!1===r?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),t.push($a(pN[n[1]]||n[1],r))}}),ti("DocumentProperties",t.join(""),{xmlns:Nl.o})}(e.Props,i)),e.Custprops&&t.push(function fUt(e,i){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",r=[];return e&&rs(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<Wu.length;++o)if(s==Wu[o][1])return;for(o=0;o<rp.length;++o)if(s==rp[o][1])return;for(o=0;o<t.length;++o)if(s==t[o])return;var l=e[s],w="string";"number"==typeof l?(w="float",l=String(l)):!0===l||!1===l?(w="boolean",l=l?"1":"0"):l=String(l),r.push(ti(Sq(s),l,{"dt:dt":w}))}}),i&&rs(i).forEach(function(s){if(Object.prototype.hasOwnProperty.call(i,s)&&(!e||!Object.prototype.hasOwnProperty.call(e,s))){var o=i[s],l="string";"number"==typeof o?(l="float",o=String(o)):!0===o||!1===o?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),r.push(ti(Sq(s),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Nl.o+'">'+r.join("")+"</"+n+">"}(e.Props,e.Custprops)),t.join("")}(e,i)),t.push(function ZYt(e){return(((e||{}).Workbook||{}).WBProps||{}).date1904?'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"><Date1904/></ExcelWorkbook>':""}(e)),t.push(""),t.push("");for(var n=0;n<e.SheetNames.length;++n)t.push(ti("Worksheet",a$t(n,i,e),{"ss:Name":Sn(e.SheetNames[n])}));return t[2]=function JYt(e,i){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return i.cellXfs.forEach(function(n,r){var s=[];s.push(ti("NumberFormat",null,{"ss:Format":Sn(Li[n.numFmtId])}));var o={"ss:ID":"s"+(21+r)};t.push(ti("Style",s.join(""),o))}),ti("Styles",t.join(""))}(0,i),t[3]=function qYt(e){if(!((e||{}).Workbook||{}).Names)return"";for(var i=e.Workbook.Names,t=[],n=0;n<i.length;++n){var r=i[n];null==r.Sheet&&(r.Name.match(/^_xlfn\./)||t.push(Net(r)))}return ti("Names",t.join(""))}(e),Ws+ti("Workbook",t.join(""),{xmlns:Nl.ss,"xmlns:o":Nl.o,"xmlns:x":Nl.x,"xmlns:ss":Nl.ss,"xmlns:dt":Nl.dt,"xmlns:html":Nl.html})}var z1={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};var G1={0:{f:function Gjt(e,i){var t={},n=e.l+i;t.r=e.read_shift(4),e.l+=4;var r=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,7&s&&(t.level=7&s),16&s&&(t.hidden=!0),32&s&&(t.hpt=r/20),t}},1:{f:function Kjt(e){return[lc(e)]}},2:{f:function fXt(e){return[lc(e),ZE(e),"n"]}},3:{f:function rXt(e){return[lc(e),e.read_shift(1),"e"]}},4:{f:function tXt(e){return[lc(e),e.read_shift(1),"b"]}},5:{f:function dXt(e){return[lc(e),wo(e),"n"]}},6:{f:function xXt(e){return[lc(e),bo(e),"str"]}},7:{f:function aXt(e){return[lc(e),e.read_shift(4),"s"]}},8:{f:function SXt(e,i,t){var n=e.l+i,r=lc(e);r.r=t["!row"];var o=[r,bo(e),"str"];if(t.cellFormula){e.l+=2;var l=pA(e,n-e.l,t);o[3]=So(l,0,r,t.supbooks,t)}else e.l=n;return o}},9:{f:function CXt(e,i,t){var n=e.l+i,r=lc(e);r.r=t["!row"];var o=[r,wo(e),"n"];if(t.cellFormula){e.l+=2;var l=pA(e,n-e.l,t);o[3]=So(l,0,r,t.supbooks,t)}else e.l=n;return o}},10:{f:function _Xt(e,i,t){var n=e.l+i,r=lc(e);r.r=t["!row"];var o=[r,e.read_shift(1),"b"];if(t.cellFormula){e.l+=2;var l=pA(e,n-e.l,t);o[3]=So(l,0,r,t.supbooks,t)}else e.l=n;return o}},11:{f:function TXt(e,i,t){var n=e.l+i,r=lc(e);r.r=t["!row"];var o=[r,e.read_shift(1),"e"];if(t.cellFormula){e.l+=2;var l=pA(e,n-e.l,t);o[3]=So(l,0,r,t.supbooks,t)}else e.l=n;return o}},12:{f:function Jjt(e){return[qm(e)]}},13:{f:function pXt(e){return[qm(e),ZE(e),"n"]}},14:{f:function sXt(e){return[qm(e),e.read_shift(1),"e"]}},15:{f:function iXt(e){return[qm(e),e.read_shift(1),"b"]}},16:{f:function Det(e){return[qm(e),wo(e),"n"]}},17:{f:function bXt(e){return[qm(e),bo(e),"str"]}},18:{f:function lXt(e){return[qm(e),e.read_shift(4),"s"]}},19:{f:sN},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function bYt(e,i,t){var n=e.l+i,r=e.read_shift(4);e.l+=1;var l,s=e.read_shift(4),o=z9t(e),w="";try{l=ZWt(e,0,t);try{w=KE(e)}catch{}}catch{console.error("Could not parse defined name "+o)}32&r&&(o="_xlnm."+o),e.l=n;var S={Name:o,Ptg:l,Flags:r};return s<268435455&&(S.Sheet=s),w&&(S.Comment=w),S}},40:{},42:{},43:{f:function vHt(e,i,t){var n={};n.sz=e.read_shift(2)/20;var r=function W9t(e){var i=e.read_shift(1);return e.l++,{fBold:1&i,fItalic:2&i,fUnderline:4&i,fStrikeout:8&i,fOutline:16&i,fShadow:32&i,fCondense:64&i,fExtend:128&i}}(e);switch(r.fItalic&&(n.italic=1),r.fCondense&&(n.condense=1),r.fExtend&&(n.extend=1),r.fShadow&&(n.shadow=1),r.fOutline&&(n.outline=1),r.fStrikeout&&(n.strike=1),700===e.read_shift(2)&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript"}var o=e.read_shift(1);0!=o&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var w=e.read_shift(1);switch(w>0&&(n.charset=w),e.l++,n.color=function H9t(e){var i={},n=e.read_shift(1)>>>1,r=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),w=e.read_shift(1);switch(e.l++,n){case 0:i.auto=1;break;case 1:i.index=r;var S=np[r];S&&(i.rgb=I1(S));break;case 2:i.rgb=I1([o,l,w]);break;case 3:i.theme=r}return 0!=s&&(i.tint=s>0?s/32767:s/32768),i}(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor"}return n.name=bo(e),n}},44:{f:function pHt(e,i){return[e.read_shift(2),bo(e)]}},45:{f:bHt},46:{f:_Ht},47:{f:function wHt(e,i){var t=e.l+i,n=e.read_shift(2),r=e.read_shift(2);return e.l=t,{ixfe:n,numFmtId:r}}},48:{},49:{f:function F9t(e){return e.read_shift(4,"i")}},50:{},51:{f:function KHt(e){for(var i=[],t=e.read_shift(4);t-- >0;)i.push([e.read_shift(4),e.read_shift(4)]);return i}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function Wtt(e,i,t){if(!t.cellStyles)return xo(e,i);var n=t&&t.biff>=12?4:2,r=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),w=e.read_shift(2);2==n&&(e.l+=2);var S={s:r,e:s,w:o,ixfe:l,flags:w};return(t.biff>=5||!t.biff)&&(S.level=w>>8&7),S}},62:{f:function vXt(e){return[lc(e),sN(e),"is"]}},63:{f:function a7t(e){var i={};i.i=e.read_shift(4);var t={};t.r=e.read_shift(4),t.c=e.read_shift(4),i.r=In(t);var n=e.read_shift(1);return 2&n&&(i.l="1"),8&n&&(i.a="1"),i}},64:{f:function zXt(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:xo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function NXt(e){var i=e.read_shift(2);return e.l+=28,{RTL:32&i}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function $jt(e,i){var t={},n=e[e.l];return++e.l,t.above=!(64&n),t.left=!(128&n),e.l+=18,t.name=U9t(e,i-19),t}},148:{f:jjt,p:16},151:{f:function kXt(){}},152:{},153:{f:function vYt(e,i){var t={},n=e.read_shift(4);t.defaultThemeVersion=e.read_shift(4);var r=i>8?bo(e):"";return r.length>0&&(t.CodeName=r),t.autoCompressPictures=!!(65536&n),t.backupFile=!!(64&n),t.checkCompatibility=!!(4096&n),t.date1904=!!(1&n),t.filterPrivacy=!!(8&n),t.hidePivotFieldList=!!(1024&n),t.promptedSolutions=!!(16&n),t.publishItems=!!(2048&n),t.refreshAllConnections=!!(262144&n),t.saveExternalLinkValues=!!(128&n),t.showBorderUnselectedTables=!!(4&n),t.showInkAnnotation=!!(32&n),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(32768&n),t.updateLinks=["userSet","never","always"][n>>8&3],t}},154:{},155:{},156:{f:function pYt(e,i){var t={};return t.Hidden=e.read_shift(4),t.iTabID=e.read_shift(4),t.strRelID=aN(e,i-8),t.name=bo(e),t}},157:{},158:{},159:{T:1,f:function DGt(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:ep},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:EXt},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function $Ht(e,i){return{flags:e.read_shift(4),version:e.read_shift(4),name:bo(e)}}},336:{T:-1},337:{f:function qHt(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:aN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function ztt(e,i,t){if(t.biff<8||!(t.biff>8)&&i==e[e.l]+(3==e[e.l+1]?1:0)+1)return function Gtt(e,i,t){3==e[e.l+1]&&e[e.l]++;var n=x0(e,0,t);return 3==n.charCodeAt(0)?n.slice(1):n}(e,0,t);for(var n=[],r=e.l+i,s=e.read_shift(t.biff>8?4:2);0!=s--;)n.push(FUt(e,0,t));if(e.l!=r)throw new Error("Bad ExternSheet: "+e.l+" != "+r);return n}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function RXt(e,i,t){var n=e.l+i,r=Jq(e),s=e.read_shift(1),o=[r];if(o[2]=s,t.cellFormula){var l=KWt(e,n-e.l,t);o[1]=l}else e.l=n;return o}},427:{f:function PXt(e,i,t){var n=e.l+i,s=[ep(e,16)];if(t.cellFormula){var o=JWt(e,n-e.l,t);s[1]=o,e.l=n}else e.l=n;return s}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function OXt(e){var i={};return Met.forEach(function(t){i[t]=wo(e)}),i}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function Yjt(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function MXt(e,i){var t=e.l+i,n=ep(e,16),r=KE(e),s=bo(e),o=bo(e),l=bo(e);e.l=t;var w={rfx:n,relId:r,loc:s,display:l};return o&&(w.Tooltip=o),w}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:aN},551:{f:KE},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:x7t},633:{T:1},634:{T:-1},635:{T:1,f:function g7t(e){var i={};i.iauthor=e.read_shift(4);var t=ep(e,16);return i.rfx=t.s,i.ref=In(t.s),e.l+=16,i}},636:{T:-1},637:{f:B9t},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function rYt(e,i){return e.l+=10,{name:bo(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function GXt(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Oe(e,i,t,n){var r=i;if(!isNaN(r)){var s=n||(t||[]).length||0,o=e.next(4);o.write_shift(2,r),o.write_shift(2,s),s>0&&eN(t)&&e.push(t)}}function zN(e,i,t,n){var r=le(9);return M1(r,e,i),Stt(t,n||"b",r),r}function Bet(e,i){i.forEach(function(t){var n=t[0].map(function(s){return s.t}).join("");if(n.length<=2048)return Oe(e,28,wN(n,t[1],t[2]));Oe(e,28,wN(n.slice(0,2048),t[1],t[2],n.length));for(var r=2048;r<n.length;r+=2048)Oe(e,28,wN(n.slice(r,Math.min(r+2048,n.length)),-1,-1,Math.min(2048,n.length-r)))})}function v$t(e,i,t,n,r,s){var o=0;null!=i.z&&-1==(o=r._BIFF2FmtTable.indexOf(i.z))&&(r._BIFF2FmtTable.push(i.z),o=r._BIFF2FmtTable.length-1);var l=0;if(null!=i.z){for(;l<r.cellXfs.length&&r.cellXfs[l].numFmtId!=o;++l);l==r.cellXfs.length&&r.cellXfs.push({numFmtId:o})}if(null!=i.v)switch(i.t){case"d":case"n":var w="d"==i.t?ys(hs(i.v,s),s):i.v;return void(2==r.biff&&w==(0|w)&&w>=0&&w<65536?Oe(e,2,function dGt(e,i,t,n,r){var s=le(9);return M1(s,e,i,n||0,r||0),s.write_shift(2,t),s}(t,n,w,l,o)):isNaN(w)?Oe(e,5,zN(t,n,36,"e")):isFinite(w)?Oe(e,3,function lGt(e,i,t,n,r){var s=le(15);return M1(s,e,i,n||0,r||0),s.write_shift(8,t,"f"),s}(t,n,w,l,o)):Oe(e,5,zN(t,n,7,"e")));case"b":case"e":return void Oe(e,5,zN(t,n,i.v,i.t));case"s":case"str":return void Oe(e,4,function g$t(e,i,t){var n=le(8+2*t.length);return M1(n,e,i),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}(t,n,null==i.v?"":String(i.v).slice(0,255)))}Oe(e,1,M1(null,t,n))}var Vc=1,uc=[];function D$t(e,i,t,n,r,s){var o=16+xf(r.cellXfs,i,r);if(null!=i.v||i.bf)if(i.bf)Oe(e,6,function QWt(e,i,t,n,r){var s=op(i,t,r),o=function $Wt(e){if(null==e){var i=le(8);return i.write_shift(1,3),i.write_shift(1,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,65535),i}return ip("number"==typeof e?e:0)}(e.v),l=le(6);l.write_shift(2,33),l.write_shift(4,0);for(var S=le(e.bf.length),M=0;M<e.bf.length;++M)S[M]=e.bf[M];return Hs([s,o,l,S])}(i,t,n,0,o));else switch(i.t){case"d":case"n":var l="d"==i.t?ys(hs(i.v,s),s):i.v;isNaN(l)?Oe(e,517,bN(t,n,36,o,0,"e")):isFinite(l)?Oe(e,515,function Izt(e,i,t,n){var r=le(14);return op(e,i,n,r),ip(t,r),r}(t,n,l,o)):Oe(e,517,bN(t,n,7,o,0,"e"));break;case"b":case"e":Oe(e,517,bN(t,n,i.v,o,0,i.t));break;case"s":case"str":r.bookSST?Oe(e,253,function ozt(e,i,t,n){var r=le(10);return op(e,i,n,r),r.write_shift(4,t),r}(t,n,RN(r.Strings,null==i.v?"":String(i.v),r.revStrings),o)):Oe(e,516,function czt(e,i,t,n,r){var s=!r||8==r.biff,o=le(+s+8+(1+s)*t.length);return op(e,i,n,o),o.write_shift(2,t.length),s&&o.write_shift(1,1),o.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),o}(t,n,(null==i.v?"":String(i.v)).slice(0,255),o,r));break;default:Oe(e,513,op(t,n,o))}else Oe(e,513,op(t,n,o))}function M$t(e,i,t){var M,n=yo(),r=t.SheetNames[e],s=t.Sheets[r]||{},o=(t||{}).Workbook||{},l=(o.Sheets||[])[e]||{},w=null!=s["!data"],S=8==i.biff,P="",O=[],N=Yn(s["!ref"]||"A1"),U=S?65536:16384;if(N.e.c>255||N.e.r>=U){if(i.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");N.e.c=Math.min(N.e.c,255),N.e.r=Math.min(N.e.c,U-1)}Oe(n,2057,yN(0,16,i)),Oe(n,13,dc(1)),Oe(n,12,dc(100)),Oe(n,15,_o(!0)),Oe(n,17,_o(!1)),Oe(n,16,ip(.001)),Oe(n,95,_o(!0)),Oe(n,42,_o(!1)),Oe(n,43,_o(!1)),Oe(n,130,dc(1)),Oe(n,128,function Azt(e){var i=le(8);return i.write_shift(4,0),i.write_shift(2,e[0]?e[0]+1:0),i.write_shift(2,e[1]?e[1]+1:0),i}([0,0])),Oe(n,131,_o(!1)),Oe(n,132,_o(!1)),S&&function A$t(e,i){if(i){var t=0;i.forEach(function(n,r){++t<=256&&n&&Oe(e,125,function Jzt(e,i){var t=le(12);t.write_shift(2,i),t.write_shift(2,i),t.write_shift(2,256*e.width),t.write_shift(2,0);var n=0;return e.hidden&&(n|=1),t.write_shift(1,n),t.write_shift(1,n=e.level||0),t.write_shift(2,0),t}(gA(r,n),r))})}}(n,s["!cols"]),Oe(n,512,function pzt(e,i){var t=8!=i.biff&&i.biff?2:4,n=le(2*t+6);return n.write_shift(t,e.s.r),n.write_shift(t,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}(N,i));var j=(((t||{}).Workbook||{}).WBProps||{}).date1904;S&&(s["!links"]=[]);for(var W=N.s.c;W<=N.e.c;++W)O[W]=yn(W);for(var Z=[],rt=[],st=N.s.r;st<=N.e.r;++st)for(w&&(rt=s["!data"][st]||[]),P=Bn(st),W=N.s.c;W<=N.e.c;++W){M=O[W]+P;var vt=w?rt[W]:s[M];vt&&(D$t(n,vt,st,W,i,j),S&&vt.l&&s["!links"].push([M,vt.l]),vt.c&&Z.push([vt.c,st,W]))}var _t=l.CodeName||l.name||r;return S?function w$t(e,i){var o,t=[],n=0,r=yo(),s=Vc;i.forEach(function(w,S){var M="",P=w[0].map(function(st){return st.a&&!M&&(M=st.a),st.t}).join("");++Vc;var O=le(150);O.write_shift(2,15),O.write_shift(2,61444),O.write_shift(4,150),O.write_shift(2,3234),O.write_shift(2,61450),O.write_shift(4,8),O.write_shift(4,Vc),O.write_shift(4,2560),O.write_shift(2,227),O.write_shift(2,61451),O.write_shift(4,84),O.write_shift(2,128),O.write_shift(4,0),O.write_shift(2,139),O.write_shift(4,2),O.write_shift(2,191),O.write_shift(4,524296),O.write_shift(2,344),O.l+=4,O.write_shift(2,385),O.write_shift(4,134217808),O.write_shift(2,387),O.write_shift(4,134217808),O.write_shift(2,389),O.write_shift(4,268435700),O.write_shift(2,447),O.write_shift(4,1048592),O.write_shift(2,448),O.write_shift(4,134217809),O.write_shift(2,451),O.write_shift(4,268435700),O.write_shift(2,513),O.write_shift(4,134217809),O.write_shift(2,515),O.write_shift(4,268435700),O.write_shift(2,575),O.write_shift(4,196609),O.write_shift(2,959),O.write_shift(4,131072|(w[0].hidden?2:0)),O.l+=2,O.write_shift(2,61456),O.write_shift(4,18),O.write_shift(2,3),O.write_shift(2,w[2]+2),O.l+=2,O.write_shift(2,w[1]+1),O.l+=2,O.write_shift(2,w[2]+4),O.l+=2,O.write_shift(2,w[1]+5),O.l+=2,O.l+=2,O.write_shift(2,61457),O.l+=4,O.l=150,0==S?o=O:Oe(r,236,O),n+=150;var N=le(52);N.write_shift(2,21),N.write_shift(2,18),N.write_shift(2,25),N.write_shift(2,Vc),N.write_shift(2,0),N.l=22,N.write_shift(2,13),N.write_shift(2,22),N.write_shift(4,1651663474),N.write_shift(4,2503426821),N.write_shift(4,2150634280),N.write_shift(4,1768515844+256*Vc),N.write_shift(2,0),N.write_shift(4,0),N.l+=4,Oe(r,93,N);var U=le(8);U.l+=2,U.write_shift(2,61453),U.l+=4,Oe(r,236,U),n+=8;var j=le(18);j.write_shift(2,18),j.l+=8,j.write_shift(2,P.length),j.write_shift(2,16),j.l+=4,Oe(r,438,j);var W=le(1+P.length);W.write_shift(1,0),W.write_shift(P.length,P,"sbcs"),Oe(r,60,W);var Z=le(16);Z.l+=8,Z.write_shift(2,P.length),Z.l+=6,Oe(r,60,Z);var rt=le(12+M.length);rt.write_shift(2,w[1]),rt.write_shift(2,w[2]),rt.write_shift(2,0|(w[0].hidden?0:2)),rt.write_shift(2,Vc),rt.write_shift(2,M.length),rt.write_shift(1,0),rt.write_shift(M.length,M,"sbcs"),rt.l++,t.push(rt)});var l=le(80);l.write_shift(2,15),l.write_shift(2,61442),l.write_shift(4,n+l.length-8),l.write_shift(2,16),l.write_shift(2,61448),l.write_shift(4,8),l.write_shift(4,i.length+1),l.write_shift(4,Vc),l.write_shift(2,15),l.write_shift(2,61443),l.write_shift(4,n+48),l.write_shift(2,15),l.write_shift(2,61444),l.write_shift(4,40),l.write_shift(2,1),l.write_shift(2,61449),l.write_shift(4,16),l.l+=16,l.write_shift(2,2),l.write_shift(2,61450),l.write_shift(4,8),l.write_shift(4,s),l.write_shift(4,5),Oe(e,236,o?Hs([l,o]):l),e.push(r.end()),t.forEach(function(w){Oe(e,28,w)}),uc.push([s,i.length+1,Vc]),++Vc}(n,Z):Bet(n,Z),S&&Oe(n,574,function izt(e){var i=le(18),t=1718;return e&&e.RTL&&(t|=64),i.write_shift(2,t),i.write_shift(4,0),i.write_shift(4,64),i.write_shift(4,0),i.write_shift(4,0),i}((o.Views||[])[0])),S&&(s["!merges"]||[]).length&&Oe(n,229,function Bzt(e){var i=le(2+8*e.length);i.write_shift(2,e.length);for(var t=0;t<e.length;++t)ktt(e[t],i);return i}(s["!merges"])),S&&function E$t(e,i){for(var t=0;t<i["!links"].length;++t){var n=i["!links"][t];Oe(e,440,Wzt(n)),n[1].Tooltip&&Oe(e,2048,Xzt(n))}delete i["!links"]}(n,s),Oe(n,442,Ett(_t)),S&&function C$t(e,i){var t=le(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Oe(e,2151,t),(t=le(39)).write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),ktt(Yn(i["!ref"]||"A1"),t),t.write_shift(4,4),Oe(e,2152,t)}(n,s),Oe(n,10),n.end()}function I$t(e,i,t){var n=yo(),r=(e||{}).Workbook||{},s=r.Sheets||[],o=r.WBProps||{},l=8==t.biff,w=5==t.biff;Oe(n,2057,yN(0,5,t)),"xla"==t.bookType&&Oe(n,135),Oe(n,225,l?dc(1200):null),Oe(n,193,function _Ut(e,i){i||(i=le(e));for(var t=0;t<e;++t)i.write_shift(1,0);return i}(2)),w&&Oe(n,191),w&&Oe(n,192),Oe(n,226),Oe(n,92,function HUt(e,i){var t=!i||8==i.biff,n=le(t?112:54);for(n.write_shift(8==i.biff?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}(0,t)),Oe(n,66,dc(l?1200:1252)),l&&Oe(n,353,dc(0)),l&&Oe(n,448),Oe(n,317,function eGt(e){for(var i=le(2*e),t=0;t<e;++t)i.write_shift(2,t+1);return i}(e.SheetNames.length)),l&&e.vbaraw&&Oe(n,211),l&&e.vbaraw&&Oe(n,442,Ett(o.CodeName||"ThisWorkbook")),Oe(n,156,dc(17)),Oe(n,25,_o(!1)),Oe(n,18,_o(!1)),Oe(n,19,dc(0)),l&&Oe(n,431,_o(!1)),l&&Oe(n,444,dc(0)),Oe(n,61,function tzt(){var e=le(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),Oe(n,64,_o(!1)),Oe(n,141,dc(0)),Oe(n,34,_o("true"==function cYt(e){return e.Workbook&&e.Workbook.WBProps&&function mr(e){switch(e){case 1:case!0:case"1":case"true":return!0;case 0:case!1:case"0":case"false":return!1}return!1}(e.Workbook.WBProps.date1904)?"true":"false"}(e))),Oe(n,14,_o(!0)),l&&Oe(n,439,_o(!1)),Oe(n,218,dc(0)),function _$t(e,i,t){Oe(e,49,function szt(e,i){var t=e.name||"Arial",n=i&&5==i.biff,s=le(n?15+t.length:16+2*t.length);return s.write_shift(2,20*(e.sz||12)),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),s}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},t))}(n,0,t),function T$t(e,i,t){i&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=i[r]&&Oe(e,1054,uzt(r,i[r],t))})}(n,e.SSF,t),function S$t(e,i){for(var t=0;t<16;++t)Oe(e,224,Ltt({numFmtId:0,style:!0},0,i));i.cellXfs.forEach(function(n){Oe(e,224,Ltt(n,0,i))})}(n,t),l&&Oe(n,352,_o(!1));var M=n.end(),P=yo();l&&Oe(P,140,function $zt(e){return e||(e=le(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),l&&uc.length&&Oe(P,235,function b$t(){var e=le(82+8*uc.length);e.write_shift(2,15),e.write_shift(2,61440),e.write_shift(4,74+8*uc.length),e.write_shift(2,0),e.write_shift(2,61446),e.write_shift(4,16+8*uc.length),e.write_shift(4,Vc),e.write_shift(4,uc.length+1);for(var i=0,t=0;t<uc.length;++t)i+=uc[t]&&uc[t][1]||0;return e.write_shift(4,i),e.write_shift(4,uc.length),uc.forEach(function(n){e.write_shift(4,n[0]),e.write_shift(4,n[2])}),e.write_shift(2,51),e.write_shift(2,61451),e.write_shift(4,18),e.write_shift(2,191),e.write_shift(4,524296),e.write_shift(2,385),e.write_shift(4,134217793),e.write_shift(2,448),e.write_shift(4,134217792),e.write_shift(2,64),e.write_shift(2,61726),e.write_shift(4,16),e.write_shift(4,134217741),e.write_shift(4,134217740),e.write_shift(4,134217751),e.write_shift(4,268435703),e}()),l&&t.Strings&&function p$t(e,i,t,n){var r=n||(t||[]).length||0;if(r<=8224)return Oe(e,i,t,r);var s=i;if(!isNaN(s)){for(var o=t.parts||[],l=0,w=0,S=0;S+(o[l]||8224)<=8224;)S+=o[l]||8224,l++;var M=e.next(4);for(M.write_shift(2,s),M.write_shift(2,S),e.push(t.slice(w,w+S)),w+=S;w<r;){for((M=e.next(4)).write_shift(2,60),S=0;S+(o[l]||8224)<=8224;)S+=o[l]||8224,l++;M.write_shift(2,S),e.push(t.slice(w,w+S)),w+=S}}}(P,252,function $Ut(e,i){var t=le(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var n=[],r=0;r<e.length;++r)n[r]=SUt(e[r]);var s=Hs([t].concat(n));return s.parts=[t.length].concat(n.map(function(o){return o.length})),s}(t.Strings)),Oe(P,10);var O=P.end(),N=yo(),U=0,j=0;for(j=0;j<e.SheetNames.length;++j)U+=(l?12:11)+(l?2:1)*e.SheetNames[j].length;var W=M.length+U+O.length;for(j=0;j<e.SheetNames.length;++j)Oe(N,133,XUt({pos:W,hs:(s[j]||{}).Hidden||0,dt:0,name:e.SheetNames[j]},t)),W+=i[j].length;var rt=N.end();if(U!=rt.length)throw new Error("BS8 "+U+" != "+rt.length);var st=[];return M.length&&st.push(M),rt.length&&st.push(rt),O.length&&st.push(O),Hs(st)}function Vet(e,i){for(var t=0;t<=e.SheetNames.length;++t){var n=e.Sheets[e.SheetNames[t]];n&&n["!ref"]&&_a(n["!ref"]).e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}var s=i||{};switch(s.biff||2){case 8:case 5:return function k$t(e,i){var t=i||{},n=[];e&&!e.SSF&&(e.SSF=br(Li)),e&&e.SSF&&(u0(),f1(e.SSF),t.revssf=WE(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),Vc=1,uc=[],t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,$N(t),t.cellXfs=[],xf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var r=0;r<e.SheetNames.length;++r)n[n.length]=M$t(r,t,e);return n.unshift(I$t(e,n,t)),Hs(n)}(e,i);case 4:case 3:case 2:return function y$t(e,i){for(var t=i||{},n=yo(),r=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==t.sheet&&(r=s);if(0==r&&t.sheet&&e.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);Oe(n,4==t.biff?1033:3==t.biff?521:9,yN(0,16,t)),((e.Workbook||{}).WBProps||{}).date1904&&Oe(n,34,_o(!0)),t.cellXfs=[{numFmtId:0}],t._BIFF2FmtTable=["General"],t._Fonts=[];var o=yo();return function x$t(e,i,t,n,r){var s=null!=i["!data"],o=Yn(i["!ref"]||"A1"),l="",w=[];if(o.e.c>255||o.e.r>16383){if(n.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383)}for(var S=(((r||{}).Workbook||{}).WBProps||{}).date1904,M=[],P=[],O=o.s.c;O<=o.e.c;++O)w[O]=yn(O);for(var N=o.s.r;N<=o.e.r;++N)for(s&&(M=i["!data"][N]||[]),l=Bn(N),O=o.s.c;O<=o.e.c;++O){var U=s?M[O]:i[w[O]+l];U&&(v$t(e,U,N,O,n,S),U.c&&P.push([U.c,N,O]))}Bet(e,P)}(o,e.Sheets[e.SheetNames[r]],0,t,e),t._BIFF2FmtTable.forEach(function(l){t.biff<=3?Oe(n,30,function fzt(e){var i=le(1+e.length);return i.write_shift(1,e.length),i.write_shift(e.length,e,"sbcs"),i}(l)):Oe(n,1054,function mzt(e){var i=le(3+e.length);return i.l+=2,i.write_shift(1,e.length),i.write_shift(e.length,e,"sbcs"),i}(l))}),t.cellXfs.forEach(function(l){switch(t.biff){case 2:Oe(n,67,function _zt(e){var i=le(4);return i.l+=2,i.write_shift(1,e.numFmtId),i.l++,i}(l));break;case 3:Oe(n,579,Ntt(l));break;case 4:Oe(n,1091,Tzt(l))}}),delete t._BIFF2FmtTable,delete t.cellXfs,delete t._Fonts,n.push(o.end()),Oe(n,10),n.end()}(e,i)}throw new Error("invalid type "+s.bookType+" for BIFF")}function zet(e,i,t,n){for(var r=e["!merges"]||[],s=[],o={},l=null!=e["!data"],w=i.s.c;w<=i.e.c;++w){for(var S=0,M=0,P=0;P<r.length;++P)if(!(r[P].s.r>t||r[P].s.c>w||r[P].e.r<t||r[P].e.c<w)){if(r[P].s.r<t||r[P].s.c<w){S=-1;break}S=r[P].e.r-r[P].s.r+1,M=r[P].e.c-r[P].s.c+1;break}if(!(S<0)){var O=yn(w)+Bn(t),N=l?(e["!data"][t]||[])[w]:e[O],U=N&&null!=N.v&&(N.h||v1(N.w||(kd(N),N.w)||""))||"";o={},S>1&&(o.rowspan=S),M>1&&(o.colspan=M),n.editable?U='<span contenteditable="true">'+U+"</span>":N&&(o["data-t"]=N&&N.t||"z",null!=N.v&&(o["data-v"]=v1(N.v instanceof Date?N.v.toISOString():N.v)),null!=N.z&&(o["data-z"]=N.z),N.l&&"#"!=(N.l.Target||"#").charAt(0)&&(U='<a href="'+v1(N.l.Target)+'">'+U+"</a>")),o.id=(n.id||"sjs")+"-"+O,s.push(ti("td",U,o))}}return"<tr>"+s.join("")+"</tr>"}var Get='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Het="</body></html>";function jet(e,i){var t=i||{},r=null!=t.footer?t.footer:Het,s=[null!=t.header?t.header:Get],o=_a(e["!ref"]||"A1");if(s.push(function Wet(e,i,t){return[].join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}(0,0,t)),e["!ref"])for(var l=o.s.r;l<=o.e.r;++l)s.push(zet(e,o,l,t));return s.push("</table>"+r),s.join("")}var L$t=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),i="<office:document-styles "+x1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ws+i}}();function N$t(e,i){var t="number",n="",r={"style:name":i},s="",o=0;t:if((e=e.replace(/"[$]"/g,"$")).indexOf(";")>-1&&(console.error("Unsupported ODS Style Map exported.  Using first branch of "+e),e=e.slice(0,e.indexOf(";"))),"@"!=e){if(e.indexOf(/\$/)>-1&&(t="currency"),'"'==e[o]){for(s="";'"'!=e[++o]||'"'==e[++o];)s+=e[o];"*"==e[1+--o]?(o++,n+="<number:fill-character>"+Sn(s.replace(/""/g,'"'))+"</number:fill-character>"):n+="<number:text>"+Sn(s.replace(/""/g,'"'))+"</number:text>",e=e.slice(o+1),o=0}var l=e.match(/# (\?+)\/(\?+)/);if(l)n+=ti("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":l[1].length,"number:max-denominator-value":Math.max(+l[1].replace(/./g,"9"),+l[2].replace(/./g,"9"))});else if(l=e.match(/# (\?+)\/(\d+)/))n+=ti("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":l[1].length,"number:denominator-value":+l[2]});else if(l=e.match(/\b(\d+)(|\.\d+)%/))t="percentage",n+=ti("number:number",null,{"number:decimal-places":l[2]&&l.length-1||0,"number:min-decimal-places":l[2]&&l.length-1||0,"number:min-integer-digits":l[1].length})+"<number:text>%</number:text>";else{var w=!1;if(["y","m","d"].indexOf(e[0])>-1){t="date";e:for(;o<e.length;++o)switch(s=e[o].toLowerCase()){case"h":case"s":w=!0,--o;break e;case"m":i:for(var S=o+1;S<e.length;++S)switch(e[S]){case"y":case"d":break i;case"h":case"s":w=!0,--o;break e}case"y":case"d":for(;(e[++o]||"").toLowerCase()==s[0];)s+=s[0];switch(--o,s){case"y":case"yy":n+="<number:year/>";break;case"yyy":case"yyyy":n+='<number:year number:style="long"/>';break;case"mmmmm":console.error("ODS has no equivalent of format |mmmmm|");case"m":case"mm":case"mmm":case"mmmm":n+='<number:month number:style="'+(s.length%2?"short":"long")+'" number:textual="'+(s.length>=3?"true":"false")+'"/>';break;case"d":case"dd":n+='<number:day number:style="'+(s.length%2?"short":"long")+'"/>';break;case"ddd":case"dddd":n+='<number:day-of-week number:style="'+(s.length%2?"short":"long")+'"/>'}break;case'"':for(;'"'!=e[++o]||'"'==e[++o];)s+=e[o];--o,n+="<number:text>"+Sn(s.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"\\":n+="<number:text>"+Sn(s=e[++o])+"</number:text>";break;case"/":case":":n+="<number:text>"+Sn(s)+"</number:text>";break;default:console.error("unrecognized character "+s+" in ODF format "+e)}if(!w)break t;e=e.slice(o+1),o=0}if(e.match(/^\[?[hms]/))for("number"==t&&(t="time"),e.match(/\[/)&&(e=e.replace(/[\[\]]/g,""),r["number:truncate-on-overflow"]="false");o<e.length;++o)switch(s=e[o].toLowerCase()){case"h":case"m":case"s":for(;(e[++o]||"").toLowerCase()==s[0];)s+=s[0];switch(--o,s){case"h":case"hh":n+='<number:hours number:style="'+(s.length%2?"short":"long")+'"/>';break;case"m":case"mm":n+='<number:minutes number:style="'+(s.length%2?"short":"long")+'"/>';break;case"s":case"ss":if("."==e[o+1])do{s+=e[o+1],++o}while("0"==e[o+1]);n+='<number:seconds number:style="'+(s.match("ss")?"long":"short")+'"'+(s.match(/\./)?' number:decimal-places="'+(s.match(/0+/)||[""])[0].length+'"':"")+"/>"}break;case'"':for(;'"'!=e[++o]||'"'==e[++o];)s+=e[o];--o,n+="<number:text>"+Sn(s.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"/":case":":n+="<number:text>"+Sn(s)+"</number:text>";break;case"a":if("a/p"==e.slice(o,o+3).toLowerCase()){n+="<number:am-pm/>",o+=2;break}if("am/pm"==e.slice(o,o+5).toLowerCase()){n+="<number:am-pm/>",o+=4;break}default:console.error("unrecognized character "+s+" in ODF format "+e)}else{if(e.indexOf(/\$/)>-1&&(t="currency"),"$"==e[0]&&(n+='<number:currency-symbol number:language="en" number:country="US">$</number:currency-symbol>',e=e.slice(1),o=0),'"'==e[o=0]){for(;'"'!=e[++o]||'"'==e[++o];)s+=e[o];"*"==e[1+--o]?(o++,n+="<number:fill-character>"+Sn(s.replace(/""/g,'"'))+"</number:fill-character>"):n+="<number:text>"+Sn(s.replace(/""/g,'"'))+"</number:text>",e=e.slice(o+1),o=0}var M=e.match(/([#0][0#,]*)(\.[0#]*|)(E[+]?0*|)/i);if(M&&M[0]){var P=M[1].replace(/,/g,"");n+="<number:"+(M[3]?"scientific-":"")+'number number:min-integer-digits="'+(-1==P.indexOf("0")?"0":P.length-P.indexOf("0"))+'"'+(M[0].indexOf(",")>-1?' number:grouping="true"':"")+(M[2]&&' number:decimal-places="'+(M[2].length-1)+'"'||' number:decimal-places="0"')+(M[3]&&M[3].indexOf("+")>-1?' number:forced-exponent-sign="true"':"")+(M[3]?' number:min-exponent-digits="'+M[3].match(/0+/)[0].length+'"':"")+"></number:"+(M[3]?"scientific-":"")+"number>",o=M.index+M[0].length}else console.error("Could not find numeric part of "+e);if('"'==e[o]){for(s="";'"'!=e[++o]||'"'==e[++o];)s+=e[o];--o,n+="<number:text>"+Sn(s.replace(/""/g,'"'))+"</number:text>"}}}}else t="text",n="<number:text-content/>";return n?ti("number:"+t+"-style",n,r):(console.error("Could not generate ODS number format for |"+e+"|"),"")}function qet(e,i,t){for(var n=[],r=0;r<e.length;++r){var s=e[r];s&&s.Sheet==(-1==t?null:t)&&n.push(s)}return n.length?"      <table:named-expressions>\n"+n.map(function(o){var l=(-1==t?"$":"")+Cet(o.Ref);return"        "+ti("table:named-range",null,{"table:name":o.Name,"table:cell-range-address":l,"table:base-cell-address":l.replace(/[\.][^\.]*$/,".$A$1")})}).join("\n")+"\n      </table:named-expressions>\n":""}var tit=function(){var e=function(r,s){return Sn(r).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,s?"<text:line-break/>":"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},i="          <table:table-cell />\n",t=function(r,s,o,l,w,S){var M=[];M.push('      <table:table table:name="'+Sn(s.SheetNames[o])+'" table:style-name="ta1">\n');var P=0,O=0,N=_a(r["!ref"]||"A1"),U=r["!merges"]||[],j=0,W=null!=r["!data"];if(r["!cols"])for(O=0;O<=N.e.c;++O)M.push("        <table:table-column"+(r["!cols"][O]?' table:style-name="co'+r["!cols"][O].ods+'"':"")+"></table:table-column>\n");var rt=r["!rows"]||[];for(P=0;P<N.s.r;++P)M.push("        <table:table-row"+(rt[P]?' table:style-name="ro'+rt[P].ods+'"':"")+"></table:table-row>\n");for(;P<=N.e.r;++P){for(M.push("        <table:table-row"+(rt[P]?' table:style-name="ro'+rt[P].ods+'"':"")+">\n"),O=0;O<N.s.c;++O)M.push(i);for(;O<=N.e.c;++O){var st=!1,vt={},_t="";for(j=0;j!=U.length;++j)if(!(U[j].s.c>O||U[j].s.r>P||U[j].e.c<O||U[j].e.r<P)){(U[j].s.c!=O||U[j].s.r!=P)&&(st=!0),vt["table:number-columns-spanned"]=U[j].e.c-U[j].s.c+1,vt["table:number-rows-spanned"]=U[j].e.r-U[j].s.r+1;break}if(st)M.push("          <table:covered-table-cell/>\n");else{var kt=In({r:P,c:O}),ft=W?(r["!data"][P]||[])[O]:r[kt];if(ft&&ft.f&&(vt["table:formula"]=Sn(hjt(ft.f)),ft.F&&ft.F.slice(0,kt.length)==kt)){var dt=_a(ft.F);vt["table:number-matrix-columns-spanned"]=dt.e.c-dt.s.c+1,vt["table:number-matrix-rows-spanned"]=dt.e.r-dt.s.r+1}if(ft){switch(ft.t){case"b":_t=ft.v?"TRUE":"FALSE",vt["office:value-type"]="boolean",vt["office:boolean-value"]=ft.v?"true":"false";break;case"n":_t=ft.w||String(ft.v||0),vt["office:value-type"]="float",vt["office:value"]=ft.v||0;break;case"s":case"str":_t=null==ft.v?"":ft.v,vt["office:value-type"]="string";break;case"d":_t=ft.w||hs(ft.v,S).toISOString(),vt["office:value-type"]="date",vt["office:date-value"]=hs(ft.v,S).toISOString(),vt["table:style-name"]="ce1";break;default:M.push(i);continue}var pt=e(_t);if(ft.l&&ft.l.Target){var bt=ft.l.Target;"#"!=(bt="#"==bt.charAt(0)?"#"+Cet(bt.slice(1)):bt).charAt(0)&&!bt.match(/^\w+:/)&&(bt="../"+bt),pt=ti("text:a",pt,{"xlink:href":bt.replace(/&/g,"&amp;")})}w[ft.z]&&(vt["table:style-name"]="ce"+w[ft.z].slice(1));var Tt=ti("text:p",pt,{});if(ft.c){for(var Et="",Dt="",Ue={},we=0;we<ft.c.length;++we)!Et&&ft.c[we].a&&(Et=ft.c[we].a),Dt+="<text:p>"+e(ft.c[we].t)+"</text:p>";ft.c.hidden||(Ue["office:display"]=!0),Tt=ti("office:annotation",Dt,Ue)+Tt}M.push("          "+ti("table:table-cell",Tt,vt)+"\n")}else M.push(i)}}M.push("        </table:table-row>\n")}return(s.Workbook||{}).Names&&M.push(qet(s.Workbook.Names,0,o)),M.push("      </table:table>\n"),M.join("")};return function(s,o){var l=[Ws],w=x1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),S=x1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==o.bookType?(l.push("<office:document"+w+S+">\n"),l.push(stt().replace(/<office:document-meta[^<>]*?>/,"").replace(/<\/office:document-meta>/,"")+"\n")):l.push("<office:document-content"+w+">\n");var M=function(r,s){r.push(" <office:automatic-styles>\n");var o=0;s.SheetNames.map(function(M){return s.Sheets[M]}).forEach(function(M){if(M&&M["!cols"])for(var P=0;P<M["!cols"].length;++P)if(M["!cols"][P]){var O=M["!cols"][P];if(null==O.width&&null==O.wpx&&null==O.wch)continue;gf(O),O.ods=o;var N=M["!cols"][P].wpx+"px";r.push('  <style:style style:name="co'+o+'" style:family="table-column">\n'),r.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+N+'"/>\n'),r.push("  </style:style>\n"),++o}});var l=0;s.SheetNames.map(function(M){return s.Sheets[M]}).forEach(function(M){if(M&&M["!rows"])for(var P=0;P<M["!rows"].length;++P)if(M["!rows"][P]){M["!rows"][P].ods=l;var O=M["!rows"][P].hpx+"px";r.push('  <style:style style:name="ro'+l+'" style:family="table-row">\n'),r.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+O+'"/>\n'),r.push("  </style:style>\n"),++l}}),r.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),r.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),r.push("  </style:style>\n"),r.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),r.push('   <number:month number:style="long"/>\n'),r.push("   <number:text>/</number:text>\n"),r.push('   <number:day number:style="long"/>\n'),r.push("   <number:text>/</number:text>\n"),r.push("   <number:year/>\n"),r.push("  </number:date-style>\n");var w={},S=69;return s.SheetNames.map(function(M){return s.Sheets[M]}).forEach(function(M){if(M){var P=null!=M["!data"];if(M["!ref"])for(var O=_a(M["!ref"]),N=0;N<=O.e.r;++N)for(var U=0;U<=O.e.c;++U){var j=P?(M["!data"][N]||[])[U]:M[In({r:N,c:U})];if(j&&j.z&&"general"!=j.z.toLowerCase()&&!w[j.z]){var W=N$t(j.z,"N"+S);W&&(w[j.z]="N"+S,++S,r.push(W+"\n"))}}}}),r.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),rs(w).forEach(function(M){r.push('<style:style style:name="ce'+w[M].slice(1)+'" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="'+w[M]+'"/>\n')}),r.push(" </office:automatic-styles>\n"),w}(l,s);l.push("  <office:body>\n"),l.push("    <office:spreadsheet>\n"),((s.Workbook||{}).WBProps||{}).date1904&&l.push('      <table:calculation-settings table:case-sensitive="false" table:search-criteria-must-apply-to-whole-cell="true" table:use-wildcards="true" table:use-regular-expressions="false" table:automatic-find-labels="false">\n        <table:null-date table:date-value="1904-01-01"/>\n      </table:calculation-settings>\n');for(var P=0;P!=s.SheetNames.length;++P)l.push(t(s.Sheets[s.SheetNames[P]],s,P,0,M,((s.Workbook||{}).WBProps||{}).date1904));return(s.Workbook||{}).Names&&l.push(qet(s.Workbook.Names,0,-1)),l.push("    </office:spreadsheet>\n"),l.push("  </office:body>\n"),l.push("fods"==o.bookType?"</office:document>":"</office:document-content>"),l.join("")}}();function eit(e,i){if("fods"==i.bookType)return tit(e,i);var t=jL(),n="",r=[],s=[];return xn(t,n="mimetype","application/vnd.oasis.opendocument.spreadsheet"),xn(t,n="content.xml",tit(e,i)),r.push([n,"text/xml"]),s.push([n,"ContentFile"]),xn(t,n="styles.xml",L$t(e,i)),r.push([n,"text/xml"]),s.push([n,"StylesFile"]),xn(t,n="meta.xml",Ws+stt()),r.push([n,"text/xml"]),s.push([n,"MetadataFile"]),xn(t,n="manifest.rdf",function oUt(e){var i=[Ws];i.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var t=0;t!=e.length;++t)i.push(rtt(e[t][0],e[t][1])),i.push(aUt("",e[t][0]));return i.push(rtt("","Document","pkg")),i.push("</rdf:RDF>"),i.join("")}(s)),r.push([n,"application/rdf+xml"]),xn(t,n="META-INF/manifest.xml",function sUt(e){var i=[Ws];i.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),i.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var t=0;t<e.length;++t)i.push('  <manifest:file-entry manifest:full-path="'+e[t][0]+'" manifest:media-type="'+e[t][1]+'"/>\n');return i.push("</manifest:manifest>"),i.join("")}(r)),t}var Xs=function(){try{return typeof Uint8Array>"u"||typeof Uint8Array.prototype.subarray>"u"?"slice":typeof Buffer<"u"?typeof Buffer.prototype.subarray>"u"?"slice":("function"==typeof Buffer.from?Buffer.from([72,62]):new Buffer([72,62]))instanceof Uint8Array?"subarray":"slice":"subarray"}catch{return"slice"}}();function Xu(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Uc(e){return typeof TextDecoder<"u"?(new TextDecoder).decode(e):wr(Ad(e))}function jo(e){return typeof TextEncoder<"u"?(new TextEncoder).encode(e):Go(Id(e))}function yf(e){for(var i=0,t=0;t<e.length;++t)i+=e[t].length;var n=new Uint8Array(i),r=0;for(t=0;t<e.length;++t){var s=e[t],o=s.length;if(o<250)for(var l=0;l<o;++l)n[r++]=s[l];else n.set(s,r),r+=o}return n}function W1(e,i){var t=i.l,n=127&e[t];t:if(e[t++]>=128&&(n|=(127&e[t])<<7,e[t++]<128||(n|=(127&e[t])<<14,e[t++]<128)||(n|=(127&e[t])<<21,e[t++]<128)||(n+=(127&e[t])*Math.pow(2,28),++t,e[t++]<128)||(n+=(127&e[t])*Math.pow(2,35),++t,e[t++]<128)||(n+=(127&e[t])*Math.pow(2,42),++t,e[t++]<128)))break t;return i.l=t,n}function Mi(e){var i=new Uint8Array(7);i[0]=127&e;var t=1;t:if(e>127){if(i[t-1]|=128,i[t]=e>>7&127,++t,e<=16383||(i[t-1]|=128,i[t]=e>>14&127,++t,e<=2097151)||(i[t-1]|=128,i[t]=e>>21&127,++t,e<=268435455)||(i[t-1]|=128,i[t]=e/256>>>21&127,++t,e<=34359738367)||(i[t-1]|=128,i[t]=e/65536>>>21&127,++t,e<=4398046511103))break t;i[t-1]|=128,i[t]=e/16777216>>>21&127,++t}return i[Xs](0,t)}function iit(e){for(var i={l:0},t=[];i.l<e.length;)t.push(W1(e,i));return t}function nit(e){return yf(e.map(function(i){return Mi(i)}))}function Vn(e){var i=0,t=127&e[i];return e[i++]<128||(t|=(127&e[i])<<7,e[i++]<128)||(t|=(127&e[i])<<14,e[i++]<128)||(t|=(127&e[i])<<21,e[i++]<128)||(t|=(15&e[i])<<28),t}function pi(e){for(var i=[],t={l:0};t.l<e.length;){var n=t.l,r=W1(e,t),s=7&r;r=r/8|0;var o,l=t.l;switch(s){case 0:for(;e[l++]>=128;);o=e[Xs](t.l,l),t.l=l;break;case 1:o=e[Xs](l,l+8),t.l=l+8;break;case 2:var w=W1(e,t);o=e[Xs](t.l,t.l+w),t.l+=w;break;case 5:o=e[Xs](l,l+4),t.l=l+4;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(r," at offset ").concat(n))}var S={data:o,type:s};null==i[r]&&(i[r]=[]),i[r].push(S)}return i}function Oi(e){var i=[];return e.forEach(function(t,n){0!=n&&t.forEach(function(r){r.data&&(i.push(Mi(8*n+r.type)),2==r.type&&i.push(Mi(r.data.length)),i.push(r.data))})}),yf(i)}function up(e,i){return e?.map(function(t){return i(t.data)})||[]}function j1(e){for(var i,t=[],n={l:0};n.l<e.length;){var r=W1(e,n),s=pi(e[Xs](n.l,n.l+r));n.l+=r;var o={id:Vn(s[1][0].data),messages:[]};s[2].forEach(function(l){var w=pi(l.data),S=Vn(w[3][0].data);o.messages.push({meta:w,data:e[Xs](n.l,n.l+S)}),n.l+=S}),null!=(i=s[3])&&i[0]&&(o.merge=Vn(s[3][0].data)>>>0>0),t.push(o)}return t}function _0(e){var i=[];return e.forEach(function(t){var n=[[],[{data:Mi(t.id),type:0}],[]];null!=t.merge&&(n[3]=[{data:Mi(+!!t.merge),type:0}]);var r=[];t.messages.forEach(function(o){r.push(o.data),o.meta[3]=[{type:0,data:Mi(o.data.length)}],n[2].push({data:Oi(o.meta),type:2})});var s=Oi(n);i.push(Mi(s.length)),i.push(s),r.forEach(function(o){return i.push(o)})}),yf(i)}function U$t(e,i){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var t={l:0},n=W1(i,t),r=[],s=t.l;s<i.length;){var o=3&i[s];if(0!=o){var S=0,M=0;if(1==o?(M=4+(i[s]>>2&7),S=(224&i[s++])<<3,S|=i[s++]):(M=1+(i[s++]>>2),2==o?(S=i[s]|i[s+1]<<8,s+=2):(S=(i[s]|i[s+1]<<8|i[s+2]<<16|i[s+3]<<24)>>>0,s+=4)),0==S)throw new Error("Invalid offset 0");for(var P=r.length-1,O=S;P>=0&&O>=r[P].length;)O-=r[P].length,--P;if(P<0){if(0!=O)throw new Error("Invalid offset beyond length");O=r[P=0].length}if(M<O)r.push(r[P][Xs](r[P].length-O,r[P].length-O+M));else{for(O>0&&(r.push(r[P][Xs](r[P].length-O)),M-=O),++P;M>=r[P].length;)r.push(r[P]),M-=r[P].length,++P;M&&r.push(r[P][Xs](0,M))}r.length>25&&(r=[yf(r)])}else{var l=i[s++]>>2;if(l<60)++l;else{var w=l-59;l=i[s],w>1&&(l|=i[s+1]<<8),w>2&&(l|=i[s+2]<<16),w>3&&(l|=i[s+3]<<24),l>>>=0,l++,s+=w}r.push(i[Xs](s,s+l)),s+=l}}for(var N=0,U=0;U<r.length;++U)N+=r[U].length;if(N!=n)throw new Error("Unexpected length: ".concat(N," != ").concat(n));return r}function X1(e){Array.isArray(e)&&(e=new Uint8Array(e));for(var i=[],t=0;t<e.length;){var n=e[t++],r=e[t]|e[t+1]<<8|e[t+2]<<16;i.push.apply(i,U$t(n,e[Xs](t+=3,t+r))),t+=r}if(t!==e.length)throw new Error("data is not a valid framed stream!");return 1==i.length?i[0]:yf(i)}function T0(e){for(var i=[],t=0;t<e.length;){var n=Math.min(e.length-t,268435455),r=new Uint8Array(4);i.push(r);var s=Mi(n),o=s.length;i.push(s),n<=60?(o++,i.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,i.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,i.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,i.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,i.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),i.push(e[Xs](t,t+n)),o+=n,r[0]=0,r[1]=255&o,r[2]=o>>8&255,r[3]=o>>16&255,t+=n}return yf(i)}function GN(e,i){var t=new Uint8Array(32),n=Xu(t),r=12,s=0;switch(t[0]=5,e.t){case"n":if(e.z&&Ol(e.z)){t[1]=5,n.setFloat64(r,(zu(e.v+1462).getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=4,r+=8;break}t[1]=2,function V$t(e,i,t){var n=Math.floor(0==t?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-16,r=t/Math.pow(10,n-6176);e[i+15]|=n>>7,e[i+14]|=(127&n)<<1;for(var s=0;r>=1;++s,r/=256)e[i+s]=255&r;e[i+15]|=t>=0?0:128}(t,r,e.v),s|=1,r+=16;break;case"b":t[1]=6,n.setFloat64(r,e.v?1:0,!0),s|=2,r+=8;break;case"s":var o=null==e.v?"":String(e.v);if(e.l){var l=i.rsst.findIndex(function(S){var M;return S.v==o&&S.l==(null==(M=e.l)?void 0:M.Target)});-1==l&&(i.rsst[l=i.rsst.length]={v:o,l:e.l.Target}),t[1]=9,n.setUint32(r,l,!0),s|=16,r+=4}else{var w=i.sst.indexOf(o);-1==w&&(i.sst[w=i.sst.length]=o),t[1]=3,n.setUint32(r,w,!0),s|=8,r+=4}break;case"d":t[1]=5,n.setFloat64(r,(e.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=4,r+=8;break;case"z":t[1]=0;break;default:throw"unsupported cell type "+e.t}return e.c&&(i.cmnt.push(function $$t(e){for(var i={a:"",t:"",replies:[]},t=0;t<e.length;++t)0==t?(i.a=e[t].a,i.t=e[t].t):i.replies.push({a:e[t].a,t:e[t].t});return i}(e.c)),n.setUint32(r,i.cmnt.length-1,!0),s|=524288,r+=4),n.setUint32(8,s,!0),t[Xs](0,r)}function HN(e,i){var t=new Uint8Array(32),n=Xu(t),r=12,s=0,o="";switch(t[0]=4,e.t){case"n":case"b":case"d":case"e":case"z":break;case"s":if(o=null==e.v?"":String(e.v),e.l){var l=i.rsst.findIndex(function(S){var M;return S.v==o&&S.l==(null==(M=e.l)?void 0:M.Target)});-1==l&&(i.rsst[l=i.rsst.length]={v:o,l:e.l.Target}),t[1]=9,n.setUint32(r,l,!0),s|=512,r+=4}break;default:throw"unsupported cell type "+e.t}switch(e.c&&(n.setUint32(r,i.cmnt.length-1,!0),s|=4096,r+=4),e.t){case"n":t[1]=2,n.setFloat64(r,e.v,!0),s|=32,r+=8;break;case"b":t[1]=6,n.setFloat64(r,e.v?1:0,!0),s|=32,r+=8;break;case"s":if(o=null==e.v?"":String(e.v),!e.l){var w=i.sst.indexOf(o);-1==w&&(i.sst[w=i.sst.length]=o),t[1]=3,n.setUint32(r,w,!0),s|=16,r+=4}break;case"d":t[1]=5,n.setFloat64(r,(e.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=64,r+=8;break;case"z":t[1]=0;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),t[Xs](0,r)}function Un(e){return Vn(pi(e)[1][0].data)}function Eo(e){return Oi([[],[{type:0,data:Mi(e)}]])}function Ao(e,i){var t,n=null!=(t=e.messages[0].meta[5])&&t[0]?iit(e.messages[0].meta[5][0].data):[];-1==n.indexOf(i)&&(n.push(i),e.messages[0].meta[5]=[{type:2,data:nit(n)}])}function Yu(e,i){var t,n=null!=(t=e.messages[0].meta[5])&&t[0]?iit(e.messages[0].meta[5][0].data):[];e.messages[0].meta[5]=[{type:2,data:nit(n.filter(function(r){return r!=i}))}]}function q$t(e,i,t){var n,r,s,o=[[],[{type:0,data:Mi(0)}],[{type:0,data:Mi(0)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:Mi(5)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:Mi(1)}]];if(null==(n=o[6])||!n[0]||null==(r=o[7])||!r[0])throw"Mutation only works on post-BNC storages!";var l=0;if(o[7][0].data.length<2*e.length){var w=new Uint8Array(2*e.length);w.set(o[7][0].data),o[7][0].data=w}if(o[4][0].data.length<2*e.length){var S=new Uint8Array(2*e.length);S.set(o[4][0].data),o[4][0].data=S}for(var M=Xu(o[7][0].data),P=0,O=[],N=Xu(o[4][0].data),U=0,j=[],W=t?4:1,Z=0;Z<e.length;++Z)if(null!=e[Z]&&("z"!=e[Z].t||null!=(s=e[Z].c)&&s.length)&&"e"!=e[Z].t){var rt,st;switch(M.setUint16(2*Z,P/W,!0),N.setUint16(2*Z,U/W,!0),e[Z].t){case"d":if(e[Z].v instanceof Date){rt=GN(e[Z],i),st=HN(e[Z],i);break}rt=GN(e[Z],i),st=HN(e[Z],i);break;case"s":case"n":case"b":case"z":rt=GN(e[Z],i),st=HN(e[Z],i);break;default:throw new Error("Unsupported value "+e[Z])}O.push(rt),P+=rt.length,j.push(st),U+=st.length,++l}else M.setUint16(2*Z,65535,!0),N.setUint16(2*Z,65535);for(o[2][0].data=Mi(l),o[5][0].data=Mi(5);Z<o[7][0].data.length/2;++Z)M.setUint16(2*Z,65535,!0),N.setUint16(2*Z,65535,!0);return o[6][0].data=yf(O),o[3][0].data=yf(j),o[8]=[{type:0,data:Mi(t?1:0)}],o}function jN(e,i){return{meta:[[],[{type:0,data:Mi(e)}]],data:i}}function Pd(e,i){i.last||(i.last=927262);for(var t=i.last;t<2e6;++t)if(!i[t])return i[i.last=t]=e,t;throw new Error("Too many messages")}function xA(e,i,t){return Oi([[],[{type:0,data:Mi(1)}],[],[{type:5,data:new Uint8Array(Float32Array.from([e/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([i/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([t/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([1]).buffer)}],[],[],[],[],[],[{type:0,data:Mi(1)}]])}function ait(e){switch(e){case 0:return xA(99,222,171);case 1:return xA(162,197,240);case 2:return xA(255,189,189)}return xA(255*Math.random(),255*Math.random(),255*Math.random())}function Ar(e,i,t,n){var r=Ui.find(e,i[t].location);if(!r)throw"Could not find ".concat(i[t].location," in Numbers template");var s=j1(X1(r.content));n(s.find(function(l){return l.id==t}),s),r.content=T0(_0(s)),r.size=r.content.length}function Fd(e,i,t){var n=Ui.find(e,i[t].location);if(!n)throw"Could not find ".concat(i[t].location," in Numbers template");return j1(X1(n.content)).find(function(o){return o.id==t})}function XN(e,i,t){e[3].push({type:2,data:Oi([[],[{type:0,data:Mi(i)}],[{type:2,data:jo(t.replace(/-[\s\S]*$/,""))}],[{type:2,data:jo(t)}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Mi(0)}],[],[{type:0,data:Mi(0)}]])}),e[1]=[{type:0,data:Mi(Math.max(i+1,Vn(e[1][0].data)))}]}function fp(e,i,t,n,r,s){s||(s=Pd({deps:[],location:"",type:i},r));var o="".concat(n,"-").concat(s,".iwa");r[s].location="Root Entry"+o,Ui.utils.cfb_add(e,o,T0(_0([{id:s,messages:[jN(i,Oi(t))]}])));var l=o.replace(/^[\/]/,"").replace(/^Index\//,"").replace(/\.iwa$/,"");return Ar(e,r,2,function(w){var S=pi(w.messages[0].data);XN(S,s||0,l),w.messages[0].data=Oi(S)}),s}function dl(e,i,t,n){var r=i[t].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),s=e[3].findIndex(function(l){var w,S,M=pi(l.data);return null!=(w=M[3])&&w[0]?Uc(M[3][0].data)==r:!(null==(S=M[2])||!S[0]||Uc(M[2][0].data)!=r)}),o=pi(e[3][s].data);o[6]||(o[6]=[]),(Array.isArray(n)?n:[n]).forEach(function(l){o[6].push({type:2,data:Oi([[],[{type:0,data:Mi(l)}]])})}),e[3][s].data=Oi(o)}var oit=!0;function $N(e){!function lit(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function dit(e,i){e&&!e.SSF&&(e.SSF=br(Li)),e&&e.SSF&&(u0(),f1(e.SSF),i.revssf=WE(e.SSF),i.revssf[e.SSF[65535]]=0,i.ssf=e.SSF),i.rels={},i.wbrels={},i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,V1?i.revStrings=new Map:(i.revStrings={},i.revStrings.foo=[],delete i.revStrings.foo);var t="xml",n=C7t.indexOf(i.bookType)>-1,r={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};$N(i=i||{});var s=jL(),o="",l=0;if(i.cellXfs=[],xf(i.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),xn(s,o="docProps/core.xml",ott(e.Props,i)),r.coreprops.push(o),pr(i.rels,2,o,wn.CORE_PROPS),o="docProps/app.xml",!e.Props||!e.Props.SheetNames)if(e.Workbook&&e.Workbook.Sheets){for(var w=[],S=0;S<e.SheetNames.length;++S)2!=(e.Workbook.Sheets[S]||{}).Hidden&&w.push(e.SheetNames[S]);e.Props.SheetNames=w}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,xn(s,o,dtt(e.Props)),r.extprops.push(o),pr(i.rels,3,o,wn.EXT_PROPS),e.Custprops!==e.Props&&rs(e.Custprops||{}).length>0&&(xn(s,o="docProps/custom.xml",utt(e.Custprops)),r.custprops.push(o),pr(i.rels,4,o,wn.CUST_PROPS));var M=["SheetJ5"];for(i.tcid=0,l=1;l<=e.SheetNames.length;++l){var P={"!id":{}},O=e.Sheets[e.SheetNames[l-1]];if(xn(s,o="xl/worksheets/sheet"+l+"."+t,zjt(l-1,i,e,P)),r.sheets.push(o),pr(i.wbrels,-1,"worksheets/sheet"+l+"."+t,wn.WS[0]),O){var U=O["!comments"],j=!1,W="";if(U&&U.length>0){var Z=!1;U.forEach(function(rt){rt[1].forEach(function(st){1==st.T&&(Z=!0)})}),Z&&(xn(s,W="xl/threadedComments/threadedComment"+l+".xml",set(U,M,i)),r.threadedcomments.push(W),pr(P,-1,"../threadedComments/threadedComment"+l+".xml",wn.TCMNT)),xn(s,W="xl/comments"+l+"."+t,f7t(U)),r.comments.push(W),pr(P,-1,"../comments"+l+"."+t,wn.CMNT),j=!0}O["!legacy"]&&j&&xn(s,"xl/drawings/vmlDrawing"+l+".vml",net(l,O["!comments"])),delete O["!comments"],delete O["!legacy"]}P["!id"].rId1&&xn(s,E1(o),v0(P))}return null!=i.Strings&&i.Strings.length>0&&(xn(s,o="xl/sharedStrings."+t,function AGt(e,i){if(!i.bookSST)return"";var t=[Ws];t[t.length]=ti("sst",null,{xmlns:Km[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(null!=e[n]){var r=e[n],s="<si>";r.r?s+=r.r:(s+="<t",r.t||(r.t=""),"string"!=typeof r.t&&(r.t=String(r.t)),r.t.match(EGt)&&(s+=' xml:space="preserve"'),s+=">"+Sn(r.t)+"</t>"),t[t.length]=s+="</si>"}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}(i.Strings,i)),r.strs.push(o),pr(i.wbrels,-1,"sharedStrings."+t,wn.SST)),xn(s,o="xl/workbook."+t,function mYt(e){var i=[Ws];i[i.length]=ti("workbook",null,{xmlns:Km[0],"xmlns:r":ba.r});var t=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(LN.forEach(function(l){null!=e.Workbook.WBProps[l[0]]&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),i[i.length]=ti("workbookPr",null,n);var r=e.Workbook&&e.Workbook.Sheets||[],s=0;if(r&&r[0]&&r[0].Hidden){for(i[i.length]="<bookViews>",s=0;s!=e.SheetNames.length&&r[s]&&r[s].Hidden;++s);s==e.SheetNames.length&&(s=0),i[i.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',i[i.length]="</bookViews>"}for(i[i.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:Sn(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),r[s])switch(r[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden"}i[i.length]=ti("sheet",null,o)}return i[i.length]="</sheets>",t&&(i[i.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var w={name:l.Name};l.Comment&&(w.comment=l.Comment),null!=l.Sheet&&(w.localSheetId=""+l.Sheet),l.Hidden&&(w.hidden="1"),l.Ref&&(i[i.length]=ti("definedName",Sn(l.Ref),w))}),i[i.length]="</definedNames>"),i.length>2&&(i[i.length]="</workbook>",i[1]=i[1].replace("/>",">")),i.join("")}(e)),r.workbooks.push(o),pr(i.rels,1,o,wn.WB),xn(s,o="xl/theme/theme1.xml",DN(e.Themes,i)),r.themes.push(o),pr(i.wbrels,-1,"theme/theme1.xml",wn.THEME),xn(s,o="xl/styles."+t,function mHt(e,i){var n,t=[Ws,ti("styleSheet",null,{xmlns:Km[0],"xmlns:vt":ba.vt})];return e.SSF&&null!=(n=function dHt(e){var i=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)null!=e[n]&&(i[i.length]=ti("numFmt",null,{numFmtId:n,formatCode:Sn(e[n])}))}),1===i.length?"":(i[i.length]="</numFmts>",i[0]=ti("numFmts",null,{count:i.length-2}).replace("/>",">"),i.join(""))}(e.SSF))&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=function hHt(e){var i=[];return i[i.length]=ti("cellXfs",null),e.forEach(function(t){i[i.length]=ti("xf",null,t)}),i[i.length]="</cellXfs>",2===i.length?"":(i[0]=ti("cellXfs",null,{count:i.length-2}).replace("/>",">"),i.join(""))}(i.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}(e,i)),r.styles.push(o),pr(i.wbrels,-1,"styles."+t,wn.STY),e.vbaraw&&n&&(xn(s,o="xl/vbaProject.bin",e.vbaraw),r.vba.push(o),pr(i.wbrels,-1,"vbaProject.bin",wn.VBA)),xn(s,o="xl/metadata."+t,function r7t(){var e=[Ws];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}()),r.metadata.push(o),pr(i.wbrels,-1,"metadata."+t,wn.XLMETA),M.length>1&&(xn(s,o="xl/persons/person.xml",aet(M)),r.people.push(o),pr(i.wbrels,-1,"persons/person.xml",wn.PEOPLE)),xn(s,"[Content_Types].xml",ntt(r,i)),xn(s,"_rels/.rels",v0(i.rels)),xn(s,"xl/_rels/workbook.xml.rels",v0(i.wbrels)),delete i.revssf,delete i.ssf,s}function fit(e,i){switch(i.type){case"base64":case"binary":break;case"buffer":case"array":i.type="";break;case"file":return m1(i.file,Ui.write(e,{type:Mn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+i.bookType+"' files");default:throw new Error("Unrecognized type "+i.type)}return Ui.write(e,i)}function vQt(e,i){switch(i.bookType){case"ods":return eit(e,i);case"numbers":return function eQt(e,i){if(!i||!i.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=Ui.read(i.numbers,{type:"base64"}),n=function tQt(e){var i={},t=[];return e.FileIndex.map(function(n,r){return[n,e.FullPaths[r]]}).forEach(function(n){var r=n[0],s=n[1];2==r.type&&r.name.match(/\.iwa/)&&0==r.content[0]&&j1(X1(r.content)).forEach(function(o){t.push(o.id),i[o.id]={deps:[],location:s,type:Vn(o.messages[0].meta[1][0].data)}})}),e.FileIndex.forEach(function(n){n.name.match(/\.iwa/)&&0==n.content[0]&&j1(X1(n.content)).forEach(function(r){r.messages.forEach(function(s){[5,6].forEach(function(o){s.meta[o]&&s.meta[o].forEach(function(l){i[r.id].deps.push(Vn(l.data))})})})})}),i}(t),r=Fd(t,n,1);if(null==r)throw"Could not find message ".concat(1," in Numbers template");var s=up(pi(r.messages[0].data)[1],Un);if(s.length>1)throw new Error("Template NUMBERS file must have exactly one sheet");return e.SheetNames.forEach(function(o,l){l>=1&&(function nQt(e,i,t){var n=-1,r=-1,s={};Ar(e,i,1,function(w,S){var M=pi(w.messages[0].data);n=Un(pi(w.messages[0].data)[1][0].data),r=Pd({deps:[1],location:i[n].location,type:2},i),s[n]=r,Ao(w,r),M[1].push({type:2,data:Eo(r)});var P=Fd(e,i,n);P.id=r,i[1].location==i[r].location?S.push(P):Ar(e,i,r,function(O,N){return N.push(P)}),w.messages[0].data=Oi(M)});var o=-1;Ar(e,i,r,function(w,S){for(var M=pi(w.messages[0].data),P=3;P<=69;++P)delete M[P];var O=up(M[2],Un);O.forEach(function(U){return Yu(w,U)}),o=Pd({deps:[r],location:i[O[0]].location,type:i[O[0]].type},i),Ao(w,o),s[O[0]]=o,M[2]=[{type:2,data:Eo(o)}];var N=Fd(e,i,O[0]);N.id=o,i[O[0]].location==i[r].location?S.push(N):(Ar(e,i,2,function(U){var j=pi(U.messages[0].data);dl(j,i,r,o),U.messages[0].data=Oi(j)}),Ar(e,i,o,function(U,j){return j.push(N)})),w.messages[0].data=Oi(M)});var l=-1;Ar(e,i,o,function(w,S){for(var M=pi(w.messages[0].data),P=pi(M[1][0].data),O=3;O<=69;++O)delete P[O];var N=Un(P[2][0].data);P[2][0].data=Eo(s[N]),M[1][0].data=Oi(P);var U=Un(M[2][0].data);Yu(w,U),Ao(w,l=Pd({deps:[o],location:i[U].location,type:i[U].type},i)),s[U]=l,M[2][0].data=Eo(l);var j=Fd(e,i,U);j.id=l,i[o].location==i[l].location?S.push(j):Ar(e,i,l,function(W,Z){return Z.push(j)}),w.messages[0].data=Oi(M)}),Ar(e,i,l,function(w,S){var M,P,O=pi(w.messages[0].data),U=Uc(O[1][0].data).replace(/-[A-Z0-9]*/,"-".concat(("0000"+t.toString(16)).slice(-4)));if(O[1][0].data=jo(U),[12,13,29,31,32,33,39,44,47,81,82,84].forEach(function(_t){return delete O[_t]}),O[45]){var W=Un(pi(O[45][0].data)[1][0].data);Yu(w,W),delete O[45]}O[70]&&(null==(M=pi(O[70][0].data)[2])||M.forEach(function(_t){var kt=pi(_t.data);[2,3].map(function(ft){return kt[ft][0]}).forEach(function(ft){var dt=pi(ft.data);if(dt[8]){var pt=Un(dt[8][0].data);Yu(w,pt)}})}),delete O[70]),[46,30,34,35,36,38,48,49,60,61,62,63,64,71,72,73,74,75,85,86,87,88,89].forEach(function(_t){if(O[_t]){var kt=Un(O[_t][0].data);delete O[_t],Yu(w,kt)}});var rt=pi(O[4][0].data);[2,4,5,6,11,12,13,15,16,17,18,19,20,21,22].forEach(function(_t){var kt;if(null!=(kt=rt[_t])&&kt[0]){var ft=Un(rt[_t][0].data),dt=Pd({deps:[l],location:i[ft].location,type:i[ft].type},i);Yu(w,ft),Ao(w,dt),s[ft]=dt;var pt=Fd(e,i,ft);if(pt.id=dt,i[ft].location==i[l].location)S.push(pt);else{i[dt].location=i[ft].location.replace(ft.toString(),dt.toString()),i[dt].location==i[ft].location&&(i[dt].location=i[dt].location.replace(/\.iwa/,"-".concat(dt,".iwa"))),Ui.utils.cfb_add(e,i[dt].location,T0(_0([pt])));var bt=i[dt].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");Ar(e,i,2,function(Tt){var Et=pi(Tt.messages[0].data);XN(Et,dt,bt),dl(Et,i,l,dt),Tt.messages[0].data=Oi(Et)})}rt[_t][0].data=Eo(dt)}});var st=pi(rt[1][0].data);null==(P=st[2])||P.forEach(function(_t){var kt=Un(_t.data),ft=Pd({deps:[l],location:i[kt].location,type:i[kt].type},i);Yu(w,kt),Ao(w,ft),s[kt]=ft;var dt=Fd(e,i,kt);if(dt.id=ft,i[kt].location==i[l].location)S.push(dt);else{i[ft].location=i[kt].location.replace(kt.toString(),ft.toString()),i[ft].location==i[kt].location&&(i[ft].location=i[ft].location.replace(/\.iwa/,"-".concat(ft,".iwa"))),Ui.utils.cfb_add(e,i[ft].location,T0(_0([dt])));var pt=i[ft].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");Ar(e,i,2,function(bt){var Tt=pi(bt.messages[0].data);XN(Tt,ft,pt),dl(Tt,i,l,ft),bt.messages[0].data=Oi(Tt)})}_t.data=Eo(ft)}),rt[1][0].data=Oi(st);var vt=pi(rt[3][0].data);vt[1].forEach(function(_t){var kt=pi(_t.data),ft=Un(kt[2][0].data),dt=s[ft];if(!s[ft]){dt=Pd({deps:[l],location:"",type:i[ft].type},i),i[dt].location="Root Entry/Index/Tables/Tile-".concat(dt,".iwa"),s[ft]=dt;var pt=Fd(e,i,ft);pt.id=dt,Yu(w,ft),Ao(w,dt),Ui.utils.cfb_add(e,"/Index/Tables/Tile-".concat(dt,".iwa"),T0(_0([pt]))),Ar(e,i,2,function(bt){var Tt=pi(bt.messages[0].data);Tt[3].push({type:2,data:Oi([[],[{type:0,data:Mi(dt)}],[{type:2,data:jo("Tables/Tile")}],[{type:2,data:jo("Tables/Tile-".concat(dt))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Mi(0)}],[],[{type:0,data:Mi(0)}]])}),Tt[1]=[{type:0,data:Mi(Math.max(dt+1,Vn(Tt[1][0].data)))}],dl(Tt,i,l,dt),bt.messages[0].data=Oi(Tt)})}kt[2][0].data=Eo(dt),_t.data=Oi(kt)}),rt[3][0].data=Oi(vt),O[4][0].data=Oi(rt),w.messages[0].data=Oi(O)})}(t,n,l+1),r=Fd(t,n,1),s=up(pi(r.messages[0].data)[1],Un)),function rQt(e,i,t,n,r,s){var o=[];Ar(e,i,s,function(S){var M=pi(S.messages[0].data);M[1]=[{type:2,data:jo(n)}],o=up(M[2],Un),S.messages[0].data=Oi(M)});var w=Un(pi(Fd(e,i,o[0]).messages[0].data)[2][0].data);Ar(e,i,w,function(S,M){return function sQt(e,i,t,n,r,s){if(!t["!ref"])throw new Error("Cannot export empty sheet to NUMBERS");var o=_a(t["!ref"]);o.s.r=o.s.c=0;var l=!1;o.e.c>999&&(l=!0,o.e.c=999),o.e.r>999999&&(l=!0,o.e.r=999999),l&&console.error("Truncating to ".concat(bn(o)));var w=[];if(t["!data"])w=t["!data"];else{for(var S=[],M=0;M<=o.e.c;++M)S[M]=yn(M);for(var P=0;P<=o.e.r;++P){w[P]=[];var O=""+(P+1);for(M=0;M<=o.e.c;++M){var N=t[S[M]+O];N&&(w[P][M]=N)}}}var U={cmnt:[{a:"~54ee77S~",t:"... the people who are crazy enough to think they can change the world, are the ones who do."}],ferr:[],fmla:[],nfmt:[],ofmt:[],rsst:[{v:"~54ee77S~",l:"https://sheetjs.com/"}],sst:["~Sh33tJ5~"]},j=pi(n.messages[0].data);j[6][0].data=Mi(o.e.r+1),j[7][0].data=Mi(o.e.c+1),delete j[46];var W=pi(j[4][0].data),Z=Un(pi(W[1][0].data)[2][0].data);Ar(e,i,Z,function(te,Le){var De,fi=pi(te.messages[0].data);if(null!=(De=fi?.[2])&&De[0])for(var vi=0;vi<w.length;++vi){var ui=pi(fi[2][0].data);ui[1][0].data=Mi(vi),ui[4][0].data=Mi(w[vi].length),fi[2][vi]={type:fi[2][0].type,data:Oi(ui)}}te.messages[0].data=Oi(fi)});var rt=Un(W[2][0].data);Ar(e,i,rt,function(te,Le){for(var De=pi(te.messages[0].data),fi=0;fi<=o.e.c;++fi){var vi=pi(De[2][0].data);vi[1][0].data=Mi(fi),vi[4][0].data=Mi(o.e.r+1),De[2][fi]={type:De[2][0].type,data:Oi(vi)}}te.messages[0].data=Oi(De)});var st=pi(W[9][0].data);st[1]=[];var vt=pi(W[3][0].data),_t=256;vt[2]=[{type:0,data:Mi(_t)}];var De,kt=Un(pi(vt[1][0].data)[2][0].data),ft=(De=pi(Fd(e,i,2).messages[0].data)[3].filter(function(fi){return Vn(pi(fi.data)[1][0].data)==kt}),De?.length?Vn(pi(De[0].data)[12][0].data):0);Ui.utils.cfb_del(e,i[kt].location),Ar(e,i,2,function(te){var Le=pi(te.messages[0].data);Le[3]=Le[3].filter(function(De){return Vn(pi(De.data)[1][0].data)!=kt}),function iQt(e,i,t,n){var r=i[t].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),s=e[3].findIndex(function(l){var w,S,M=pi(l.data);return null!=(w=M[3])&&w[0]?Uc(M[3][0].data)==r:!(null==(S=M[2])||!S[0]||Uc(M[2][0].data)!=r)}),o=pi(e[3][s].data);o[6]||(o[6]=[]),o[6]=o[6].filter(function(l){return Vn(pi(l.data)[1][0].data)!=n}),e[3][s].data=Oi(o)}(Le,i,s,kt),te.messages[0].data=Oi(Le)}),Yu(n,kt),vt[1]=[];for(var dt=Math.ceil((o.e.r+1)/_t),pt=0;pt<dt;++pt){var bt=Pd({deps:[],location:"",type:6002},i);i[bt].location="Root Entry/Index/Tables/Tile-".concat(bt,".iwa");for(var Tt=[[],[{type:0,data:Mi(0)}],[{type:0,data:Mi(Math.min(o.e.r+1,(pt+1)*_t))}],[{type:0,data:Mi(0)}],[{type:0,data:Mi(Math.min((pt+1)*_t,o.e.r+1)-pt*_t)}],[],[{type:0,data:Mi(5)}],[{type:0,data:Mi(1)}],[{type:0,data:Mi(oit?1:0)}]],Et=pt*_t;Et<=Math.min(o.e.r,(pt+1)*_t-1);++Et){var Dt=q$t(w[Et],U,oit);Dt[1][0].data=Mi(Et-pt*_t),Tt[5].push({data:Oi(Dt),type:2})}vt[1].push({type:2,data:Oi([[],[{type:0,data:Mi(pt)}],[{type:2,data:Eo(bt)}]])});var we=T0(_0([{id:bt,messages:[jN(6002,Oi(Tt))]}]));Ui.utils.cfb_add(e,"/Index/Tables/Tile-".concat(bt,".iwa"),we),Ar(e,i,2,function(te){var Le=pi(te.messages[0].data);Le[3].push({type:2,data:Oi([[],[{type:0,data:Mi(bt)}],[{type:2,data:jo("Tables/Tile")}],[{type:2,data:jo("Tables/Tile-".concat(bt))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Mi(0)}],[],[{type:0,data:Mi(ft)}]])}),Le[1]=[{type:0,data:Mi(Math.max(bt+1,Vn(Le[1][0].data)))}],dl(Le,i,s,bt),te.messages[0].data=Oi(Le)}),Ao(n,bt),st[1].push({type:2,data:Oi([[],[{type:0,data:Mi(pt*_t)}],[{type:0,data:Mi(pt)}]])})}if(W[3][0].data=Oi(vt),W[9][0].data=Oi(st),W[10]=[{type:2,data:new Uint8Array([])}],t["!merges"]){var ve=Pd({type:6144,deps:[s],location:i[s].location},i);r.push({id:ve,messages:[jN(6144,Oi([[],t["!merges"].map(function(te){return{type:2,data:Oi([[],[{type:2,data:Oi([[],[{type:5,data:new Uint8Array(new Uint16Array([te.s.r,te.s.c]).buffer)}]])}],[{type:2,data:Oi([[],[{type:5,data:new Uint8Array(new Uint16Array([te.e.r-te.s.r+1,te.e.c-te.s.c+1]).buffer)}]])}]])}})]))]}),W[13]=[{type:2,data:Eo(ve)}],Ar(e,i,2,function(te){var Le=pi(te.messages[0].data);dl(Le,i,s,ve),te.messages[0].data=Oi(Le)}),Ao(n,ve)}else delete W[13];var qt=Un(W[4][0].data);Ar(e,i,qt,function(te){var Le=pi(te.messages[0].data);Le[3]=[],U.sst.forEach(function(De,fi){0!=fi&&Le[3].push({type:2,data:Oi([[],[{type:0,data:Mi(fi)}],[{type:0,data:Mi(1)}],[{type:2,data:jo(De)}]])})}),te.messages[0].data=Oi(Le)});var Ee=Un(W[17][0].data);if(Ar(e,i,Ee,function(te){var Le=pi(te.messages[0].data);Le[3]=[];var De=[904980,903835,903815,903845];U.rsst.forEach(function(fi,vi){if(0!=vi){var ui=[[],[{type:0,data:new Uint8Array([5])}],[],[{type:2,data:jo(fi.v)}]];ui[10]=[{type:0,data:new Uint8Array([1])}],ui[19]=[{type:2,data:new Uint8Array([10,6,8,0,18,2,101,110])}],ui[5]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,155,149,55])}],ui[2]=[{type:2,data:new Uint8Array([8,148,158,55])}],ui[6]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],ui[7]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,135,149,55])}],ui[8]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,165,149,55])}],ui[14]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],ui[24]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}];var Lt=Pd({deps:[],location:"",type:2001},i),Kt=[];if(fi.l){var Qt=fp(e,2032,[[],[],[{type:2,data:jo(fi.l)}]],"/Index/Tables/DataList",i);ui[11]=[];var Yt=[[],[]];Yt[1]||(Yt[1]=[]),Yt[1].push({type:2,data:Oi([[],[{type:0,data:Mi(0)}],[{type:2,data:Eo(Qt)}]])}),ui[11][0]={type:2,data:Oi(Yt)},Kt.push(Qt)}fp(e,2001,ui,"/Index/Tables/DataList",i,Lt),Ar(e,i,Lt,function(Ot){De.forEach(function(Di){return Ao(Ot,Di)}),Kt.forEach(function(Di){return Ao(Ot,Di)})});var Ae=fp(e,6218,[[],[{type:2,data:Eo(Lt)}],[],[{type:2,data:new Uint8Array([13,255,255,255,0,18,10,16,255,255,1,24,255,255,255,255,7])}]],"/Index/Tables/DataList",i);Ar(e,i,Ae,function(Ot){return Ao(Ot,Lt)}),Le[3].push({type:2,data:Oi([[],[{type:0,data:Mi(vi)}],[{type:0,data:Mi(1)}],[],[],[],[],[],[],[{type:2,data:Eo(Ae)}]])}),Ao(te,Ae),Ar(e,i,2,function(Ot){var Di=pi(Ot.messages[0].data);dl(Di,i,Ee,Ae),dl(Di,i,Ae,Lt),dl(Di,i,Lt,Kt),dl(Di,i,Lt,De),Ot.messages[0].data=Oi(Di)})}}),te.messages[0].data=Oi(Le)}),U.cmnt.length>1){var ze=Un(W[19][0].data),Me={},Ii=0;Ar(e,i,ze,function(te){var Le=pi(te.messages[0].data);Le[3]=[],U.cmnt.forEach(function(De,fi){if(0!=fi){var vi=[];De.replies&&De.replies.forEach(function(Kt){Me[Kt.a||""]||(Me[Kt.a||""]=fp(e,212,[[],[{type:2,data:jo(Kt.a||"")}],[{type:2,data:ait(++Ii)}],[],[{type:0,data:Mi(0)}]],"/Index/Tables/DataList",i));var Qt=Me[Kt.a||""],Yt=fp(e,3056,[[],[{type:2,data:jo(Kt.t||"")}],[{type:2,data:Oi([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:Eo(Qt)}]],"/Index/Tables/DataList",i);Ar(e,i,Yt,function(Ae){return Ao(Ae,Qt)}),vi.push(Yt),Ar(e,i,2,function(Ae){var Ot=pi(Ae.messages[0].data);dl(Ot,i,Yt,Qt),Ae.messages[0].data=Oi(Ot)})}),Me[De.a||""]||(Me[De.a||""]=fp(e,212,[[],[{type:2,data:jo(De.a||"")}],[{type:2,data:ait(++Ii)}],[],[{type:0,data:Mi(0)}]],"/Index/Tables/DataList",i));var ui=Me[De.a||""],Lt=fp(e,3056,[[],[{type:2,data:jo(De.t||"")}],[{type:2,data:Oi([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:Eo(ui)}],vi.map(function(Kt){return{type:2,data:Eo(Kt)}}),[{type:2,data:Oi([[],[{type:0,data:Mi(fi)}],[{type:0,data:Mi(0)}]])}]],"/Index/Tables/DataList",i);Ar(e,i,Lt,function(Kt){Ao(Kt,ui),vi.forEach(function(Qt){return Ao(Kt,Qt)})}),Le[3].push({type:2,data:Oi([[],[{type:0,data:Mi(fi)}],[{type:0,data:Mi(1)}],[],[],[],[],[],[],[],[{type:2,data:Eo(Lt)}]])}),Ao(te,Lt),Ar(e,i,2,function(Kt){var Qt=pi(Kt.messages[0].data);dl(Qt,i,ze,Lt),dl(Qt,i,Lt,ui),vi.length&&dl(Qt,i,Lt,vi),Kt.messages[0].data=Oi(Qt)})}}),Le[2][0].data=Mi(U.cmnt.length+1),te.messages[0].data=Oi(Le)})}j[4][0].data=Oi(W),n.messages[0].data=Oi(j)}(e,i,t,S,M,w)})}(t,n,e.Sheets[o],o,0,s[l])}),t}(e,i);case"xlsb":return function uQt(e,i){e&&!e.SSF&&(e.SSF=br(Li)),e&&e.SSF&&(u0(),f1(e.SSF),i.revssf=WE(e.SSF),i.revssf[e.SSF[65535]]=0,i.ssf=e.SSF),i.rels={},i.wbrels={},i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,V1?i.revStrings=new Map:(i.revStrings={},i.revStrings.foo=[],delete i.revStrings.foo);var t="bin",r={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};$N(i=i||{});var s=jL(),o="",l=0;if(i.cellXfs=[],xf(i.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),xn(s,o="docProps/core.xml",ott(e.Props,i)),r.coreprops.push(o),pr(i.rels,2,o,wn.CORE_PROPS),o="docProps/app.xml",!e.Props||!e.Props.SheetNames)if(e.Workbook&&e.Workbook.Sheets){for(var w=[],S=0;S<e.SheetNames.length;++S)2!=(e.Workbook.Sheets[S]||{}).Hidden&&w.push(e.SheetNames[S]);e.Props.SheetNames=w}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,xn(s,o,dtt(e.Props)),r.extprops.push(o),pr(i.rels,3,o,wn.EXT_PROPS),e.Custprops!==e.Props&&rs(e.Custprops||{}).length>0&&(xn(s,o="docProps/custom.xml",utt(e.Custprops)),r.custprops.push(o),pr(i.rels,4,o,wn.CUST_PROPS));var M=["SheetJ5"];for(i.tcid=0,l=1;l<=e.SheetNames.length;++l){var P={"!id":{}},O=e.Sheets[e.SheetNames[l-1]];if(xn(s,o="xl/worksheets/sheet"+l+"."+t,tYt(l-1,i,e,P)),r.sheets.push(o),pr(i.wbrels,-1,"worksheets/sheet"+l+"."+t,wn.WS[0]),O){var U=O["!comments"],j=!1,W="";if(U&&U.length>0){var Z=!1;U.forEach(function(st){st[1].forEach(function(vt){1==vt.T&&(Z=!0)})}),Z&&(xn(s,W="xl/threadedComments/threadedComment"+l+".xml",set(U,M,i)),r.threadedcomments.push(W),pr(P,-1,"../threadedComments/threadedComment"+l+".xml",wn.TCMNT)),xn(s,W="xl/comments"+l+"."+t,b7t(U)),r.comments.push(W),pr(P,-1,"../comments"+l+"."+t,wn.CMNT),j=!0}O["!legacy"]&&j&&xn(s,"xl/drawings/vmlDrawing"+l+".vml",net(l,O["!comments"])),delete O["!comments"],delete O["!legacy"]}P["!id"].rId1&&xn(s,E1(o),v0(P))}return null!=i.Strings&&i.Strings.length>0&&(xn(s,o="xl/sharedStrings."+t,function RGt(e){var i=yo();Ie(i,159,function IGt(e,i){return i||(i=le(8)),i.write_shift(4,e.Count),i.write_shift(4,e.Unique),i}(e));for(var t=0;t<e.length;++t)Ie(i,19,kGt(e[t]));return Ie(i,160),i.end()}(i.Strings)),r.strs.push(o),pr(i.wbrels,-1,"sharedStrings."+t,wn.SST)),xn(s,o="xl/workbook."+t,IYt(e)),r.workbooks.push(o),pr(i.rels,1,o,wn.WB),xn(s,o="xl/theme/theme1.xml",DN(e.Themes,i)),r.themes.push(o),pr(i.wbrels,-1,"theme/theme1.xml",wn.THEME),xn(s,o="xl/styles."+t,LHt(e,i)),r.styles.push(o),pr(i.wbrels,-1,"styles."+t,wn.STY),e.vbaraw&&(xn(s,o="xl/vbaProject.bin",e.vbaraw),r.vba.push(o),pr(i.wbrels,-1,"vbaProject.bin",wn.VBA)),xn(s,o="xl/metadata."+t,function i7t(){var e=yo();return Ie(e,332),Ie(e,334,Lc(1)),Ie(e,335,function QHt(e){var i=le(12+2*e.name.length);return i.write_shift(4,e.flags),i.write_shift(4,e.version),Ta(e.name,i),i.slice(0,i.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),Ie(e,336),Ie(e,339,function JHt(e,i){var t=le(8+2*i.length);return t.write_shift(4,e),Ta(i,t),t.slice(0,t.l)}(1,"XLDAPR")),Ie(e,52),Ie(e,35,Lc(514)),Ie(e,4096,Lc(0)),Ie(e,4097,dc(1)),Ie(e,36),Ie(e,53),Ie(e,340),Ie(e,337,function t7t(e,i){var t=le(8);return t.write_shift(4,e),t.write_shift(4,i?1:0),t}(1,!0)),Ie(e,51,function ZHt(e){var i=le(4+8*e.length);i.write_shift(4,e.length);for(var t=0;t<e.length;++t)i.write_shift(4,e[t][0]),i.write_shift(4,e[t][1]);return i}([[1,0]])),Ie(e,338),Ie(e,333),e.end()}()),r.metadata.push(o),pr(i.wbrels,-1,"metadata."+t,wn.XLMETA),M.length>1&&(xn(s,o="xl/persons/person.xml",aet(M)),r.people.push(o),pr(i.wbrels,-1,"persons/person.xml",wn.PEOPLE)),xn(s,"[Content_Types].xml",ntt(r,i)),xn(s,"_rels/.rels",v0(i.rels)),xn(s,"xl/_rels/workbook.bin.rels",v0(i.wbrels)),delete i.revssf,delete i.ssf,s}(e,i);default:return dit(e,i)}}function Od(e,i,t){t||(t="");var n=t+e;switch(i.type){case"base64":return BE(Id(n));case"binary":return Id(n);case"string":return e;case"file":return m1(i.file,n,"utf8");case"buffer":return Mn?Ed(n,"utf8"):typeof TextEncoder<"u"?(new TextEncoder).encode(n):Od(n,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+i.type)}function yA(e,i){switch(i.type){case"string":case"base64":case"binary":for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return"base64"==i.type?BE(t):"string"==i.type?wr(t):t;case"file":return m1(i.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+i.type)}}function Y1(e,i){(function LE(){rc(1200),function h6t(){OE(1252)}()})(),function Fet(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");!function uYt(e,i,t){e.forEach(function(n,r){Pet(n);for(var s=0;s<r;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(t){var o=i&&i[r]&&i[r].CodeName||n;if(95==o.charCodeAt(0)&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}(e.SheetNames,e.Workbook&&e.Workbook.Sheets||[],!!e.vbaraw);for(var t=0;t<e.SheetNames.length;++t)fjt(e.Sheets[e.SheetNames[t]],0,t);e.SheetNames.forEach(function(n,r){var s=e.Sheets[n];if(s&&s["!autofilter"]){var o;e.Workbook||(e.Workbook={}),e.Workbook.Names||(e.Workbook.Names=[]),e.Workbook.Names.forEach(function(w){"_xlnm._FilterDatabase"==w.Name&&w.Sheet==r&&(o=w)});var l=T1(n)+"!"+_1(s["!autofilter"].ref);o?o.Ref=l:e.Workbook.Names.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:l})}})}(e);var t=br(i||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),"array"==t.type){t.type="binary";var n=Y1(e,t);return t.type="array",d1(n)}var r=0;if(t.sheet&&(r="number"==typeof t.sheet?t.sheet:e.SheetNames.indexOf(t.sheet),!e.SheetNames[r]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Od(o$t(e,t),t);case"slk":case"sylk":return Od(jtt.from_sheet(e.Sheets[e.SheetNames[r]],t,e),t);case"htm":case"html":return Od(jet(e.Sheets[e.SheetNames[r]],t),t);case"txt":return function wQt(e,i){switch(i.type){case"base64":return function p6t(e){for(var i="",t=0,n=0,r=0,s=0,o=0,l=0,w=0,S=0;S<e.length;)(t=e.charCodeAt(S++))>255&&(t=95),s=t>>2,(n=e.charCodeAt(S++))>255&&(n=95),o=(3&t)<<4|n>>4,(r=e.charCodeAt(S++))>255&&(r=95),l=(15&n)<<2|r>>6,w=63&r,isNaN(n)?l=w=64:isNaN(r)&&(w=64),i+=go.charAt(s)+go.charAt(o)+go.charAt(l)+go.charAt(w);return i}(e);case"binary":case"string":return e;case"file":return m1(i.file,e,"binary");case"buffer":return Mn?Ed(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+i.type)}(yit(e.Sheets[e.SheetNames[r]],t),t);case"csv":return Od(t4(e.Sheets[e.SheetNames[r]],t),t,"\ufeff");case"dif":return Od(Xtt.from_sheet(e.Sheets[e.SheetNames[r]],t),t);case"dbf":return yA(_N.from_sheet(e.Sheets[e.SheetNames[r]],t),t);case"prn":return Od(y0.from_sheet(e.Sheets[e.SheetNames[r]],t),t);case"rtf":return Od(function JGt(e,i){var t=["{\\rtf1\\ansi"];if(!e["!ref"])return t[0]+"}";for(var r,n=Yn(e["!ref"]),s=null!=e["!data"],o=[],l=n.s.r;l<=n.e.r;++l){t.push("\\trowd\\trautofit1");for(var w=n.s.c;w<=n.e.c;++w)t.push("\\cellx"+(w+1));for(t.push("\\pard\\intbl"),s&&(o=e["!data"][l]||[]),w=n.s.c;w<=n.e.c;++w){var S=In({r:l,c:w});(r=s?o[w]:e[S])&&(null!=r.v||r.f&&!r.F)?(t.push(" "+(r.w||(kd(r),r.w)||"").replace(/[\r\n]/g,"\\par ")),t.push("\\cell")):t.push(" \\cell")}t.push("\\pard\\intbl\\row")}return t.join("")+"}"}(e.Sheets[e.SheetNames[r]]),t);case"eth":return Od(Ytt.from_sheet(e.Sheets[e.SheetNames[r]],t),t);case"fods":return Od(eit(e,t),t);case"wk1":return yA(lp.sheet_to_wk1(e.Sheets[e.SheetNames[r]],t),t);case"wk3":return yA(lp.book_to_wk3(e,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),yA(Vet(e,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),function bQt(e,i){var t=i||{};return fit(function m$t(e,i){var t=i||{},n=Ui.utils.cfb_new({root:"R"}),r="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":r="/Workbook",t.biff=8;break;case"biff5":r="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Ui.utils.cfb_add(n,r,Vet(e,t)),8==t.biff&&(e.Props||e.Custprops)&&function f$t(e,i){var o,t=[],n=[],r=[],s=0,l=mq(cN,"n"),w=mq(dN,"n");if(e.Props)for(o=rs(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(l,o[s])?t:Object.prototype.hasOwnProperty.call(w,o[s])?n:r).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=rs(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(l,o[s])?t:Object.prototype.hasOwnProperty.call(w,o[s])?n:r).push([o[s],e.Custprops[o[s]]]);var S=[];for(s=0;s<r.length;++s)ytt.indexOf(r[s][0])>-1||ltt.indexOf(r[s][0])>-1||null!=r[s][1]&&S.push(r[s]);n.length&&Ui.utils.cfb_add(i,"/\x05SummaryInformation",_tt(n,z1.SI,w,dN)),(t.length||S.length)&&Ui.utils.cfb_add(i,"/\x05DocumentSummaryInformation",_tt(t,z1.DSI,l,cN,S.length?S:null,z1.UDI))}(e,n),8==t.biff&&e.vbaraw&&function T7t(e,i){i.FullPaths.forEach(function(t,n){if(0!=n){var r=t.replace(/^[\/]*[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==r.slice(-1)&&Ui.utils.cfb_add(e,r,i.FileIndex[n].content)}})}(n,Ui.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),n}(e,t),t)}(e,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function xQt(e,i){var t=br(i||{});return function mit(e,i){var t={},n=Mn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(i.compression&&(t.compression="DEFLATE"),i.password)t.type=n;else switch(i.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+i.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+i.type)}var r=e.FullPaths?Ui.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!i.compression}):e.generate(t);if(typeof Deno<"u"&&"string"==typeof r){if("binary"==i.type||"base64"==i.type)return r;r=new Uint8Array(d1(r))}return i.password&&typeof encrypt_agile<"u"?fit(encrypt_agile(r,i.password),i):"file"===i.type?m1(i.file,r):"string"==i.type?wr(r):r}(vQt(e,t),t)}(e,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function git(e,i,t,n,r,s,o){var l=Bn(t),w=o.defval,S=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),M=!0,P=null!=e["!data"],O=1===r?[]:{};if(1!==r)if(Object.defineProperty)try{Object.defineProperty(O,"__rowNum__",{value:t,enumerable:!1})}catch{O.__rowNum__=t}else O.__rowNum__=t;if(!P||e["!data"][t])for(var N=i.s.c;N<=i.e.c;++N){var U=P?(e["!data"][t]||[])[N]:e[n[N]+l];if(null!=U&&void 0!==U.t){var j=U.v;switch(U.t){case"z":if(null==j)break;continue;case"e":j=0==j?null:void 0;break;case"s":case"b":case"n":if(!U.z||!Ol(U.z)||"number"==typeof(j=zu(j)))break;case"d":o&&(o.UTC||!1===o.raw)||(j=$m(new Date(j)));break;default:throw new Error("unrecognized type "+U.t)}if(null!=s[N]){if(null==j)if("e"==U.t&&null===j)O[s[N]]=null;else if(void 0!==w)O[s[N]]=w;else{if(!S||null!==j)continue;O[s[N]]=null}else O[s[N]]=("n"===U.t&&"boolean"==typeof o.rawNumbers?o.rawNumbers:S)?j:kd(U,j,o);null!=j&&(M=!1)}}else{if(void 0===w)continue;null!=s[N]&&(O[s[N]]=w)}}return{row:O,isempty:M}}function qN(e,i){if(null==e||null==e["!ref"])return[];var t={t:"n",v:0},n=0,r=1,s=[],o=0,l="",w={s:{r:0,c:0},e:{r:0,c:0}},S=i||{},M=null!=S.range?S.range:e["!ref"];switch(1===S.header?n=1:"A"===S.header?n=2:Array.isArray(S.header)?n=3:null==S.header&&(n=0),typeof M){case"string":w=Yn(M);break;case"number":(w=Yn(e["!ref"])).s.r=M;break;default:w=M}n>0&&(r=0);var P=Bn(w.s.r),O=[],N=[],U=0,j=0,W=null!=e["!data"],Z=w.s.r,rt=0,st={};W&&!e["!data"][Z]&&(e["!data"][Z]=[]);var vt=S.skipHidden&&e["!cols"]||[],_t=S.skipHidden&&e["!rows"]||[];for(rt=w.s.c;rt<=w.e.c;++rt)if(!(vt[rt]||{}).hidden)switch(O[rt]=yn(rt),t=W?e["!data"][Z][rt]:e[O[rt]+P],n){case 1:s[rt]=rt-w.s.c;break;case 2:s[rt]=O[rt];break;case 3:s[rt]=S.header[rt-w.s.c];break;default:if(null==t&&(t={w:"__EMPTY",t:"s"}),l=o=kd(t,null,S),j=st[o]||0){do{l=o+"_"+j++}while(st[l]);st[o]=j,st[l]=1}else st[o]=1;s[rt]=l}for(Z=w.s.r+r;Z<=w.e.r;++Z)if(!(_t[Z]||{}).hidden){var kt=git(e,w,Z,O,n,s,S);(!1===kt.isempty||(1===n?!1!==S.blankrows:S.blankrows))&&(N[U++]=kt.row)}return N.length=U,N}var vit=/"/g;function xit(e,i,t,n,r,s,o,l){for(var w=!0,S=[],M="",P=Bn(t),O=null!=e["!data"],N=O&&e["!data"][t]||[],U=i.s.c;U<=i.e.c;++U)if(n[U]){var j=O?N[U]:e[n[U]+P];if(null==j)M="";else if(null!=j.v){w=!1,M=""+(l.rawNumbers&&"n"==j.t?j.v:kd(j,null,l));for(var W=0,Z=0;W!==M.length;++W)if((Z=M.charCodeAt(W))===r||Z===s||34===Z||l.forceQuotes){M='"'+M.replace(vit,'""')+'"';break}"ID"==M&&(M='"ID"')}else null==j.f||j.F?M="":(w=!1,(M="="+j.f).indexOf(",")>=0&&(M='"'+M.replace(vit,'""')+'"'));S.push(M)}if(l.strip)for(;""===S[S.length-1];)--S.length;return!1===l.blankrows&&w?null:S.join(o)}function t4(e,i){var t=[],n=i??{};if(null==e||null==e["!ref"])return"";for(var r=Yn(e["!ref"]),s=void 0!==n.FS?n.FS:",",o=s.charCodeAt(0),l=void 0!==n.RS?n.RS:"\n",w=l.charCodeAt(0),S="",M=[],P=n.skipHidden&&e["!cols"]||[],O=n.skipHidden&&e["!rows"]||[],N=r.s.c;N<=r.e.c;++N)(P[N]||{}).hidden||(M[N]=yn(N));for(var U=0,j=r.s.r;j<=r.e.r;++j)(O[j]||{}).hidden||null!=(S=xit(e,r,j,M,o,w,s,n))&&(S||!1!==n.blankrows)&&t.push((U++?l:"")+S);return t.join("")}function yit(e,i){i||(i={}),i.FS="\t",i.RS="\n";var t=t4(e,i);return typeof Cn>"u"||"string"==i.type?t:"\xff\xfe"+Cn.utils.encode(1200,t,"str")}function bit(e,i,t){var n=t||{},r=e?null!=e["!data"]:n.dense;null!=Gs&&null==r&&(r=Gs);var s=+!n.skipHeader,o=e||{};!e&&r&&(o["!data"]=[]);var l=0,w=0;if(o&&null!=n.origin)if("number"==typeof n.origin)l=n.origin;else{var S="string"==typeof n.origin?_r(n.origin):n.origin;l=S.r,w=S.c}var M={s:{c:0,r:0},e:{c:w,r:l+i.length-1+s}};if(o["!ref"]){var P=Yn(o["!ref"]);M.e.c=Math.max(M.e.c,P.e.c),M.e.r=Math.max(M.e.r,P.e.r),-1==l&&(M.e.r=(l=P.e.r+1)+i.length-1+s)}else-1==l&&(l=0,M.e.r=i.length-1+s);var O=n.header||[],N=0,U=[];i.forEach(function(W,Z){r&&!o["!data"][l+Z+s]&&(o["!data"][l+Z+s]=[]),r&&(U=o["!data"][l+Z+s]),rs(W).forEach(function(rt){-1==(N=O.indexOf(rt))&&(O[N=O.length]=rt);var st=W[rt],vt="z",_t="",kt=r?"":yn(w+N)+Bn(l+Z+s),ft=r?U[w+N]:o[kt];!st||"object"!=typeof st||st instanceof Date?("number"==typeof st?vt="n":"boolean"==typeof st?vt="b":"string"==typeof st?vt="s":st instanceof Date?(vt="d",n.UTC||(st=jE(st)),n.cellDates||(vt="n",st=ys(st)),_t=null!=ft&&ft.z&&Ol(ft.z)?ft.z:n.dateNF||Li[14]):null===st&&n.nullError&&(vt="e",st=0),ft?(ft.t=vt,ft.v=st,delete ft.w,delete ft.R,_t&&(ft.z=_t)):r?U[w+N]=ft={t:vt,v:st}:o[kt]=ft={t:vt,v:st},_t&&(ft.z=_t)):r?U[w+N]=st:o[kt]=st})}),M.e.c=Math.max(M.e.c,w+O.length-1);var j=Bn(l);if(r&&!o["!data"][l]&&(o["!data"][l]=[]),s)for(N=0;N<O.length;++N)r?o["!data"][l][N+w]={t:"s",v:O[N]}:o[yn(N+w)+j]={t:"s",v:O[N]};return o["!ref"]=bn(M),o}function Q1(e,i,t,n){var r=1;if(!t)for(;r<=65535&&-1!=e.SheetNames.indexOf(t="Sheet"+r);++r,t=void 0);if(!t||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(t)>=0&&t.length<32){var s=t.match(/\d+$/);r=s&&+s[0]||0;var o=s&&t.slice(0,s.index)||t;for(++r;r<=65535&&-1!=e.SheetNames.indexOf(t=o+r);++r);}if(Pet(t),e.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return e.SheetNames.push(t),e.Sheets[t]=i,t}var _it_json_to_sheet=function SQt(e,i){return bit(null,e,i)};let VQt=(()=>{class e{constructor(){}exportAsExcelFile(t,n){const o=Y1({Sheets:{data:_it_json_to_sheet(t)},SheetNames:["data"]},{bookType:"xlsx",type:"array"});this.saveAsExcelFile(o,n)}saveAsExcelFile(t,n){const r=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});gd.saveAs(r,n+"_export_"+(new Date).getTime()+".xlsx")}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const UQt=["*",[["mat-toolbar-row"]]],zQt=["*","mat-toolbar-row"];let GQt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275dir=me({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return e})(),HQt=(()=>{class e{constructor(t,n,r){this._elementRef=t,this._platform=n,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(lr),mt(Gi))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-toolbar"]],contentQueries:function(n,r,s){if(1&n&&Pn(s,GQt,5),2&n){let o;Ge(o=He())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(n,r){2&n&&(Wl(r.color?"mat-"+r.color:""),Si("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[Wi],ngContentSelectors:zQt,decls:2,vars:0,template:function(n,r){1&n&&(er(UQt),Ti(0),Ti(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return e})(),WQt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[nn,nn]})}return e})();const Tit=["*"],jQt=["content"],XQt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],YQt=["mat-drawer","mat-drawer-content","*"];function $Qt(e,i){if(1&e){const t=ye();q(0,"div",1),zt("click",function(){return Gt(t),Ht(Ct()._onBackdropClicked())}),et()}2&e&&Si("mat-drawer-shown",Ct()._isShowingBackdrop())}function QQt(e,i){1&e&&(q(0,"mat-drawer-content"),Ti(1,2),et())}const KQt={transformDrawer:yr("transform",[Ln("open, open-instant",ai({transform:"none",visibility:"visible"})),Ln("void",ai({"box-shadow":"none",visibility:"hidden"})),gn("void => open-instant",mn("0ms")),gn("void <=> open, open-instant => void",mn("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},ZQt=new se("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function JQt(){return!1}}),Cit=new se("MAT_DRAWER_CONTAINER");let n4=(()=>{class e extends cC{constructor(t,n,r,s,o){super(r,s,o),this._changeDetectorRef=t,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Fn),mt(kn(()=>Eit)),mt(oi),mt(ky),mt(di))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(n,r){2&n&&Ps("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},standalone:!0,features:[yi([{provide:cC,useExisting:e}]),xi,Wi],ngContentSelectors:Tit,decls:1,vars:0,template:function(n,r){1&n&&(er(),Ti(0))},encapsulation:2,changeDetection:0})}return e})(),Sit=(()=>{class e{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=ha(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=ha(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(ha(t))}constructor(t,n,r,s,o,l,w,S){this._elementRef=t,this._focusTrapFactory=n,this._focusMonitor=r,this._platform=s,this._ngZone=o,this._interactivityChecker=l,this._doc=w,this._container=S,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ne,this._animationEnd=new Ne,this._animationState="void",this.openedChange=new Fe(!0),this._openedStream=this.openedChange.pipe(On(M=>M),Ri(()=>{})),this.openedStart=this._animationStarted.pipe(On(M=>M.fromState!==M.toState&&0===M.toState.indexOf("open")),wT(void 0)),this._closedStream=this.openedChange.pipe(On(M=>!M),Ri(()=>{})),this.closedStart=this._animationStarted.pipe(On(M=>M.fromState!==M.toState&&"void"===M.toState),wT(void 0)),this._destroyed=new Ne,this.onPositionChanged=new Fe,this._modeChanged=new Ne,this.openedChange.subscribe(M=>{M?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Rc(this._elementRef.nativeElement,"keydown").pipe(On(M=>27===M.keyCode&&!this.disableClose&&!ao(M)),ji(this._destroyed)).subscribe(M=>this._ngZone.run(()=>{this.close(),M.stopPropagation(),M.preventDefault()}))}),this._animationEnd.pipe(nu((M,P)=>M.fromState===P.fromState&&M.toState===P.toState)).subscribe(M=>{const{fromState:P,toState:O}=M;(0===O.indexOf("open")&&"void"===P||"void"===O&&0===P.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(n)}_focusByCssSelector(t,n){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,n)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,n){t&&n&&(this._openedVia=n);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,n,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(or(1)).subscribe(o=>s(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(t){if(!this._platform.isBrowser)return;const n=this._elementRef.nativeElement,r=n.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,n)),r.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(oi),mt(zk),mt(Kl),mt(lr),mt(di),mt(KT),mt(Gi,8),mt(Cit,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-drawer"]],viewQuery:function(n,r){if(1&n&&Pi(jQt,5),2&n){let s;Ge(s=He())&&(r._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(n,r){1&n&&H_("@transform.start",function(o){return r._animationStarted.next(o)})("@transform.done",function(o){return r._animationEnd.next(o)}),2&n&&(B_("@transform",r._animationState),Ai("align",null),Si("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[Wi],ngContentSelectors:Tit,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,r){1&n&&(er(),q(0,"div",1,0),Ti(2),et())},dependencies:[cC],encapsulation:2,data:{animation:[KQt.transformDrawer]},changeDetection:0})}return e})(),Eit=(()=>{class e{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=ha(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:ha(t)}get scrollable(){return this._userContent||this._content}constructor(t,n,r,s,o,l=!1,w){this._dir=t,this._element=n,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=w,this._drawers=new sh,this.backdropClick=new Fe,this._destroyed=new Ne,this._doCheckSubject=new Ne,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ne,t&&t.change.pipe(ji(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(ji(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=l}ngAfterContentInit(){this._allDrawers.changes.pipe(Aa(this._allDrawers),ji(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Aa(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(iu(10),ji(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,n-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();n+=r,t-=r}t=t||null,n=n||null,(t!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:t,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(On(n=>n.fromState!==n.toState),ji(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(ji(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(ji(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(or(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(ji(qr(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const n=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?n.add(r):n.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}static#t=this.\u0275fac=function(n){return new(n||e)(mt(Ha,8),mt(oi),mt(di),mt(Fn),mt(cu),mt(ZQt),mt(Hr,8))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(n,r,s){if(1&n&&(Pn(s,n4,5),Pn(s,Sit,5)),2&n){let o;Ge(o=He())&&(r._content=o.first),Ge(o=He())&&(r._allDrawers=o)}},viewQuery:function(n,r){if(1&n&&Pi(n4,5),2&n){let s;Ge(s=He())&&(r._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,r){2&n&&Si("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[yi([{provide:Cit,useExisting:e}]),Wi],ngContentSelectors:YQt,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,r){1&n&&(er(XQt),jt(0,$Qt,1,2,"div",0),Ti(1),Ti(2,1),jt(3,QQt,2,0,"mat-drawer-content")),2&n&&(En(0,r.hasBackdrop?0:-1),ot(3),En(3,r._content?-1:3))},dependencies:[n4],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return e})(),qQt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[nn,du,du,nn]})}return e})();function tKt(e,i){if(1&e){const t=ye();q(0,"button",19),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct().navigate(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),qe(t.name)}}function eKt(e,i){if(1&e){const t=ye();q(0,"button",19),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct().setFhirServer(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),qe(t.name)}}function iKt(e,i){if(1&e){const t=ye();q(0,"button",19),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct(2).setEdition(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),qe(t.resource.version)}}function nKt(e,i){if(1&e&&($i(0),q(1,"button",20),ut(2),et(),q(3,"mat-menu",null,5)(5,"span",16),ut(6,"Versions / Releases"),et(),jt(7,iKt,2,1,"button",15),et(),Qi()),2&e){const t=i.$implicit,n=en(4);ot(),xt("matMenuTriggerFor",n),ot(),qe(t.editionName),ot(5),xt("ngForOf",t.editions)}}function rKt(e,i){if(1&e){const t=ye();q(0,"button",19),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct().setLanguage(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),qe(t)}}function sKt(e,i){if(1&e){const t=ye();q(0,"button",19),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct(2).navigate(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),qe(t.name)}}function aKt(e,i){if(1&e){const t=ye();q(0,"button",19),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct(2).setFhirServer(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),qe(t.name)}}function oKt(e,i){if(1&e){const t=ye();q(0,"button",19),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct(3).setEdition(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),qe(t.resource.version)}}function lKt(e,i){if(1&e&&($i(0),q(1,"button",20),ut(2),et(),q(3,"mat-menu",null,5)(5,"span",16),ut(6,"Versions / Releases"),et(),jt(7,oKt,2,1,"button",15),et(),Qi()),2&e){const t=i.$implicit,n=en(4);ot(),xt("matMenuTriggerFor",n),ot(),qe(t.editionName),ot(5),xt("ngForOf",t.editions)}}function cKt(e,i){if(1&e){const t=ye();q(0,"button",19),zt("click",function(){const r=Gt(t).$implicit;return Ht(Ct(2).setLanguage(r))}),ut(1),et()}if(2&e){const t=i.$implicit;ot(),qe(t)}}function dKt(e,i){if(1&e){const t=ye();q(0,"mat-toolbar")(1,"button",21),zt("click",function(){return Gt(t),Ct(),Ht(en(2).toggle())}),q(2,"mat-icon"),ut(3,"menu"),et()(),q(4,"a",22),zt("click",function(){return Gt(t),Ht(Ct().navigate({url:"home",type:"internal"}))}),Te(5,"img",23),et(),q(6,"span",24),ut(7,"SNOMED CT Implementation Demos"),et(),q(8,"span",25),ut(9,"Implementation Demos"),et(),Te(10,"span",26),q(11,"button",27),ut(12,"Select Demonstrator"),et(),q(13,"mat-menu",14,6),jt(15,sKt,2,1,"button",15),et(),q(16,"button",28),ut(17),et(),q(18,"mat-menu",null,7),jt(20,aKt,2,1,"button",15),et(),q(21,"button",28),ut(22),et(),q(23,"mat-menu",14,8)(25,"span",16),ut(26,"Editions"),et(),jt(27,lKt,8,3,"ng-container",17),et(),q(28,"button",28),ut(29),et(),q(30,"mat-menu",null,9),jt(32,cKt,2,1,"button",15),et(),q(33,"a",29)(34,"mat-icon"),ut(35,"info"),et()()()}if(2&e){const t=en(14),n=en(19),r=en(24),s=en(31),o=Ct();ot(11),xt("matMenuTriggerFor",t),ot(4),xt("ngForOf",o.demos),ot(),xt("matMenuTriggerFor",n),ot(),Ke("FHIR Server: ",o.selectedServer.name,""),ot(3),xt("ngForOf",o.fhirServers),ot(),xt("matMenuTriggerFor",r),ot(),qe(o.selectedEdition),ot(5),xt("ngForOf",o.editionsDetails),ot(),xt("matMenuTriggerFor",s),ot(),qe(o.selectedLanguage),ot(3),xt("ngForOf",o.languages)}}let uKt=(()=>{class e{constructor(t,n,r,s,o,l){this.codingSpecService=t,this.excelService=n,this.terminologyService=r,this.router=s,this.menuService=o,this.activatedRoute=l,this.title="sct-implementation-demonstrator",this.bindingsForExport=[],this.editions=[],this.editionsDetails=[],this.languages=["da","de","en","es","et","fi","fr","nl","no","sv"],this.selectedEdition="Edition",this.selectedLanguage="en",this.fhirServers=[{name:"SNOMED Dev IS",url:"https://dev-is-browser.ihtsdotools.org/fhir"},{name:"SNOMED Public",url:"https://snowstorm.ihtsdotools.org/fhir"},{name:"SNOMED Dev 2",url:"https://snowstorm-temp.kaicode.io/fhir"},{name:"SNOMED Lite Demo",url:"https://snowstorm-lite.nw.r.appspot.com/fhir"}],this.selectedServer=this.fhirServers[1],this.embeddedMode=!1,this.demos=[],this.router.events.subscribe(w=>{w instanceof ld&&gtag("config","G-7SK998GPMX",{page_path:w.urlAfterRedirects})})}ngOnInit(){this.demos=this.menuService.getDemos(),this.setFhirServer(this.selectedServer),this.bindingsForExport=[];let t=this.codingSpecService.getCodingSpec();for(const n of t)for(const r of n.bindings)this.bindingsForExport.push({section:n.title,title:r.title,ecl:r.ecl.replace(/\s\s+/g," ")});this.activatedRoute.queryParams.subscribe(n=>{this.embeddedMode="true"===n.embedded,n.edition?this.updateCodeSystemOptions(n.edition):this.updateCodeSystemOptions()}),this.terminologyService.lang$.subscribe(n=>{this.selectedLanguage=n}),this.terminologyService.fhirUrlParam$.subscribe(n=>{this.editions?.length>0&&this.editions.forEach(r=>{r.resource.version===n&&(this.selectedEdition=r.resource.title?.replace("SNOMED CT release ",""))})})}navigate(t){"internal"===t.type?this.router.navigate([t.url],{queryParams:t.queryParams}):this.openInNewTab(t.url)}openInNewTab(t){window.open(t,"_blank")}updateCodeSystemOptions(t){this.terminologyService.getCodeSystems().subscribe(n=>{this.editionsDetails=[],this.editions=n.entry;let r=new Set;this.editions.forEach(o=>{r.add(o.resource.title)}),r.forEach(o=>{this.editionsDetails.push({editionName:o,editions:this.editions.filter(l=>l.resource.title.includes(o)).sort(this.compare)})});let s=this.editionsDetails.findIndex(o=>"International Edition"===o.editionName);t?this.editions.forEach(o=>{o.resource.version===t&&this.setEdition(o)}):this.setEdition(s>=0?this.editionsDetails[s].editions[0]:this.editions[0])})}compare(t,n){return t.resource.date<n.resource.date?1:t.resource.date>n.resource.date?-1:0}setFhirServer(t){this.selectedServer=t,this.terminologyService.setSnowstormFhirBase(t.url),this.selectedEdition="Edition",this.editions=[],this.editionsDetails=[],this.updateCodeSystemOptions()}setEdition(t){this.selectedEdition=t.resource.title?.replace("SNOMED CT release ",""),this.terminologyService.setFhirUrlParam(t.resource.version)}setLanguage(t){this.selectedLanguage=t,this.terminologyService.setLang(t)}static#t=this.\u0275fac=function(n){return new(n||e)(mt(d6t),mt(VQt),mt(fa),mt(No),mt(HJ),mt(Ic))};static#e=this.\u0275cmp=Qe({type:e,selectors:[["app-root"]],decls:28,vars:12,consts:[["drawer",""],["demosMenuN","matMenu"],["serverMenuN","matMenu"],["editionsMenuN","matMenu"],["menuN","matMenu"],["sub_menu","matMenu"],["demosMenu","matMenu"],["serverMenu","matMenu"],["editionsMenu","matMenu"],["menu","matMenu"],["autosize","",1,"example-container"],["mode","over",1,"example-sidenav"],[1,"flex","flex-col","justify-center"],["mat-button","",3,"matMenuTriggerFor"],[1,"wide-menu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"ml-4"],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-icon-button","","id","menu-button",3,"click"],["href","javascript:void(0)",3,"click"],["src","assets/img/small_logo.png","id","logo"],["id","title"],["id","short-title"],[1,"example-spacer"],["mat-flat-button","","color","accent",1,"bar-button",3,"matMenuTriggerFor"],["mat-flat-button","","color","primary",1,"bar-button",3,"matMenuTriggerFor"],["mat-flat-button","","href","https://github.com/IHTSDO/sct-implementation-demonstrator","target","_blank","color","primary","id","info-button"]],template:function(n,r){if(1&n&&(q(0,"mat-drawer-container",10)(1,"mat-drawer",11,0)(3,"div",12)(4,"button",13),ut(5,"Select Demonstrator"),et(),q(6,"mat-menu",14,1),jt(8,tKt,2,1,"button",15),et(),q(9,"button",13),ut(10),et(),q(11,"mat-menu",null,2),jt(13,eKt,2,1,"button",15),et(),q(14,"button",13),ut(15),et(),q(16,"mat-menu",14,3)(18,"span",16),ut(19,"Editions"),et(),jt(20,nKt,8,3,"ng-container",17),et(),q(21,"button",13),ut(22),et(),q(23,"mat-menu",null,4),jt(25,rKt,2,1,"button",15),et()()(),jt(26,dKt,36,11,"mat-toolbar",18),Te(27,"router-outlet"),et()),2&n){const s=en(7),o=en(12),l=en(17),w=en(24);ot(4),xt("matMenuTriggerFor",s),ot(4),xt("ngForOf",r.demos),ot(),xt("matMenuTriggerFor",o),ot(),Ke("FHIR Server: ",r.selectedServer.name,""),ot(3),xt("ngForOf",r.fhirServers),ot(),xt("matMenuTriggerFor",l),ot(),Ke("Edition: ",r.selectedEdition,""),ot(5),xt("ngForOf",r.editionsDetails),ot(),xt("matMenuTriggerFor",w),ot(),Ke("Language: ",r.selectedLanguage,""),ot(3),xt("ngForOf",r.languages),ot(),xt("ngIf",!r.embeddedMode)}},dependencies:[ws,Fs,lk,HQt,G1t,Ma,Bo,ma,El,Jl,uu,Sit,Eit],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:#434a55;color:#fff;font-size:1.8rem;font-weight:700}button[_ngcontent-%COMP%]{font-weight:700;font-size:medium}.bar-button[_ngcontent-%COMP%]{margin-left:15px}#title[_ngcontent-%COMP%]{margin-left:15px;font-size:1.4rem}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}a[_ngcontent-%COMP%]{margin-left:15px}  .mat-mdc-menu-panel{max-width:-moz-fit-content!important;max-width:fit-content!important;overflow-x:hidden!important}.mat-mdc-unelevated-button[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%], .mat-mdc-raised-button[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%], .mat-mdc-outlined-button[_ngcontent-%COMP%] > .mat-icon[_ngcontent-%COMP%]{margin:0!important}#demo-selector[_ngcontent-%COMP%]{margin:5px 15px;padding:10px}#menu-button[_ngcontent-%COMP%], #short-title[_ngcontent-%COMP%]{display:none}#logo[_ngcontent-%COMP%]{height:4rem}@media (max-width: 768px){#title[_ngcontent-%COMP%]{display:none}#short-title[_ngcontent-%COMP%]{display:block;margin-left:15px;font-size:.9rem}#logo[_ngcontent-%COMP%]{height:3.5rem}#info-button[_ngcontent-%COMP%]{display:none}}@media (max-width: 1200px){.bar-button[_ngcontent-%COMP%]{display:none}#menu-button[_ngcontent-%COMP%]{display:block}}"]})}return e})();function Ait(e){return new pe(3e3,!1)}function bf(e){switch(e.length){case 0:return new Dy;case 1:return e[0];default:return new GH(e)}}function Dit(e,i,t=new Map,n=new Map){const r=[],s=[];let o=-1,l=null;if(i.forEach(w=>{const S=w.get("offset"),M=S==o,P=M&&l||new Map;w.forEach((O,N)=>{let U=N,j=O;if("offset"!==N)switch(U=e.normalizePropertyName(U,r),j){case"!":j=t.get(N);break;case au:j=n.get(N);break;default:j=e.normalizeStyleValue(N,U,j,r)}P.set(U,j)}),M||s.push(P),l=P,o=S}),r.length)throw function FKt(e){return new pe(3502,!1)}();return s}function r4(e,i,t,n){switch(i){case"start":e.onStart(()=>n(t&&s4(t,"start",e)));break;case"done":e.onDone(()=>n(t&&s4(t,"done",e)));break;case"destroy":e.onDestroy(()=>n(t&&s4(t,"destroy",e)))}}function s4(e,i,t){const s=a4(e.element,e.triggerName,e.fromState,e.toState,i||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),o=e._data;return null!=o&&(s._data=o),s}function a4(e,i,t,n,r="",s=0,o){return{element:e,triggerName:i,fromState:t,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function Bl(e,i,t){let n=e.get(i);return n||e.set(i,n=t),n}function Mit(e){const i=e.indexOf(":");return[e.substring(1,i),e.slice(i+1)]}const XKt=typeof document>"u"?null:document.documentElement;function o4(e){const i=e.parentNode||e.host||null;return i===XKt?null:i}let mp=null,Iit=!1;function kit(e,i){for(;i;){if(i===e)return!0;i=o4(i)}return!1}function Rit(e,i,t){if(t)return Array.from(e.querySelectorAll(i));const n=e.querySelector(i);return n?[n]:[]}let l4=(()=>{class e{validateStyleProperty(t){return function $Kt(e){mp||(mp=function QKt(){return typeof document<"u"?document.body:null}()||{},Iit=!!mp.style&&"WebkitAppearance"in mp.style);let i=!0;return mp.style&&!function YKt(e){return"ebkit"==e.substring(1,6)}(e)&&(i=e in mp.style,!i&&Iit&&(i="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in mp.style)),i}(t)}matchesElement(t,n){return!1}containsElement(t,n){return kit(t,n)}getParentElement(t){return o4(t)}query(t,n,r){return Rit(t,n,r)}computeStyle(t,n,r){return r||""}animate(t,n,r,s,o,l=[],w){return new Dy(r,s)}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();class c4{static#t=this.NOOP=new l4}class d4{}const ZKt=1e3,u4="ng-enter",wA="ng-leave",_A="ng-trigger",TA=".ng-trigger",Fit="ng-animating",h4=".ng-animating";function $u(e){if("number"==typeof e)return e;const i=e.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:f4(parseFloat(i[1]),i[2])}function f4(e,i){return"s"===i?e*ZKt:e}function CA(e,i,t){return e.hasOwnProperty("duration")?e:function qKt(e,i,t){let r,s=0,o="";if("string"==typeof e){const l=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return i.push(Ait()),{duration:0,delay:0,easing:""};r=f4(parseFloat(l[1]),l[2]);const w=l[3];null!=w&&(s=f4(parseFloat(w),l[4]));const S=l[5];S&&(o=S)}else r=e;if(!t){let l=!1,w=i.length;r<0&&(i.push(function hKt(){return new pe(3100,!1)}()),l=!0),s<0&&(i.push(function fKt(){return new pe(3101,!1)}()),l=!0),l&&i.splice(w,0,Ait())}return{duration:r,delay:s,easing:o}}(e,i,t)}function Ld(e,i,t){i.forEach((n,r)=>{const s=p4(r);t&&!t.has(r)&&t.set(r,e.style[s]),e.style[s]=n})}function pp(e,i){i.forEach((t,n)=>{const r=p4(n);e.style[r]=""})}function K1(e){return Array.isArray(e)?1==e.length?e[0]:function W1t(e,i=null){return{type:rn.Sequence,steps:e,options:i}}(e):e}const m4=new RegExp("{{\\s*(.+?)\\s*}}","g");function Lit(e){let i=[];if("string"==typeof e){let t;for(;t=m4.exec(e);)i.push(t[1]);m4.lastIndex=0}return i}function Z1(e,i,t){const n=`${e}`,r=n.replace(m4,(s,o)=>{let l=i[o];return null==l&&(t.push(function pKt(e){return new pe(3003,!1)}()),l=""),l.toString()});return r==n?e:r}const iZt=/-+([a-z0-9])/g;function p4(e){return e.replace(iZt,(...i)=>i[1].toUpperCase())}function Vl(e,i,t){switch(i.type){case rn.Trigger:return e.visitTrigger(i,t);case rn.State:return e.visitState(i,t);case rn.Transition:return e.visitTransition(i,t);case rn.Sequence:return e.visitSequence(i,t);case rn.Group:return e.visitGroup(i,t);case rn.Animate:return e.visitAnimate(i,t);case rn.Keyframes:return e.visitKeyframes(i,t);case rn.Style:return e.visitStyle(i,t);case rn.Reference:return e.visitReference(i,t);case rn.AnimateChild:return e.visitAnimateChild(i,t);case rn.AnimateRef:return e.visitAnimateRef(i,t);case rn.Query:return e.visitQuery(i,t);case rn.Stagger:return e.visitStagger(i,t);default:throw function gKt(e){return new pe(3004,!1)}()}}function g4(e,i){return window.getComputedStyle(e)[i]}const sZt=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Nit extends d4{normalizePropertyName(i,t){return p4(i)}normalizeStyleValue(i,t,n,r){let s="";const o=n.toString().trim();if(sZt.has(t)&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const l=n.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push(function vKt(e,i){return new pe(3005,!1)}())}return o+s}}const SA="*";const EA=new Set(["true","1"]),AA=new Set(["false","0"]);function Bit(e,i){const t=EA.has(e)||AA.has(e),n=EA.has(i)||AA.has(i);return(r,s)=>{let o=e==SA||e==r,l=i==SA||i==s;return!o&&t&&"boolean"==typeof r&&(o=r?EA.has(e):AA.has(e)),!l&&n&&"boolean"==typeof s&&(l=s?EA.has(i):AA.has(i)),o&&l}}const cZt=new RegExp("s*:selfs*,?","g");function v4(e,i,t,n){return new dZt(e).build(i,t,n)}class dZt{constructor(i){this._driver=i}build(i,t,n){const r=new fZt(t);return this._resetContextStyleTimingState(r),Vl(this,K1(i),r)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,t){let n=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==i.name.charAt(0)&&t.errors.push(function xKt(){return new pe(3006,!1)}()),i.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),l.type==rn.State){const w=l,S=w.name;S.toString().split(/\s*,\s*/).forEach(M=>{w.name=M,s.push(this.visitState(w,t))}),w.name=S}else if(l.type==rn.Transition){const w=this.visitTransition(l,t);n+=w.queryCount,r+=w.depCount,o.push(w)}else t.errors.push(function yKt(){return new pe(3007,!1)}())}),{type:rn.Trigger,name:i.name,states:s,transitions:o,queryCount:n,depCount:r,options:null}}visitState(i,t){const n=this.visitStyle(i.styles,t),r=i.options&&i.options.params||null;if(n.containsDynamicStyles){const s=new Set,o=r||{};n.styles.forEach(l=>{l instanceof Map&&l.forEach(w=>{Lit(w).forEach(S=>{o.hasOwnProperty(S)||s.add(S)})})}),s.size&&t.errors.push(function bKt(e,i){return new pe(3008,!1)}(0,s.values()))}return{type:rn.State,name:i.name,style:n,options:r?{params:r}:null}}visitTransition(i,t){t.queryCount=0,t.depCount=0;const n=Vl(this,K1(i.animation),t),r=function aZt(e,i){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(n=>function oZt(e,i,t){if(":"==e[0]){const w=function lZt(e,i){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return i.push(function IKt(e){return new pe(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof w)return void i.push(w);e=w}const n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(function MKt(e){return new pe(3015,!1)}()),i;const r=n[1],s=n[2],o=n[3];i.push(Bit(r,o)),"<"==s[0]&&(r!=SA||o!=SA)&&i.push(Bit(o,r))}(n,t,i)):t.push(e),t}(i.expr,t.errors);return{type:rn.Transition,matchers:r,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:gp(i.options)}}visitSequence(i,t){return{type:rn.Sequence,steps:i.steps.map(n=>Vl(this,n,t)),options:gp(i.options)}}visitGroup(i,t){const n=t.currentTime;let r=0;const s=i.steps.map(o=>{t.currentTime=n;const l=Vl(this,o,t);return r=Math.max(r,t.currentTime),l});return t.currentTime=r,{type:rn.Group,steps:s,options:gp(i.options)}}visitAnimate(i,t){const n=function pZt(e,i){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return x4(CA(e,i).duration,0,"");const t=e;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=x4(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=CA(t,i);return x4(r.duration,r.delay,r.easing)}(i.timings,t.errors);t.currentAnimateTimings=n;let r,s=i.styles?i.styles:ai({});if(s.type==rn.Keyframes)r=this.visitKeyframes(s,t);else{let o=i.styles,l=!1;if(!o){l=!0;const S={};n.easing&&(S.easing=n.easing),o=ai(S)}t.currentTime+=n.duration+n.delay;const w=this.visitStyle(o,t);w.isEmptyStep=l,r=w}return t.currentAnimateTimings=null,{type:rn.Animate,timings:n,style:r,options:null}}visitStyle(i,t){const n=this._makeStyleAst(i,t);return this._validateStyleAst(n,t),n}_makeStyleAst(i,t){const n=[],r=Array.isArray(i.styles)?i.styles:[i.styles];for(let l of r)"string"==typeof l?l===au?n.push(l):t.errors.push(new pe(3002,!1)):n.push(new Map(Object.entries(l)));let s=!1,o=null;return n.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(o=l.get("easing"),l.delete("easing")),!s))for(let w of l.values())if(w.toString().indexOf("{{")>=0){s=!0;break}}),{type:rn.Style,styles:n,easing:o,offset:i.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(i,t){const n=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;n&&s>0&&(s-=n.duration+n.delay),i.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,w)=>{const S=t.collectedStyles.get(t.currentQuerySelector),M=S.get(w);let P=!0;M&&(s!=r&&s>=M.startTime&&r<=M.endTime&&(t.errors.push(function _Kt(e,i,t,n,r){return new pe(3010,!1)}()),P=!1),s=M.startTime),P&&S.set(w,{startTime:s,endTime:r}),t.options&&function eZt(e,i,t){const n=i.params||{},r=Lit(e);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||t.push(function mKt(e){return new pe(3001,!1)}())})}(l,t.options,t.errors)})})}visitKeyframes(i,t){const n={type:rn.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function TKt(){return new pe(3011,!1)}()),n;let s=0;const o=[];let l=!1,w=!1,S=0;const M=i.steps.map(Z=>{const rt=this._makeStyleAst(Z,t);let st=null!=rt.offset?rt.offset:function mZt(e){if("string"==typeof e)return null;let i=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const n=t;i=parseFloat(n.get("offset")),n.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;i=parseFloat(t.get("offset")),t.delete("offset")}return i}(rt.styles),vt=0;return null!=st&&(s++,vt=rt.offset=st),w=w||vt<0||vt>1,l=l||vt<S,S=vt,o.push(vt),rt});w&&t.errors.push(function CKt(){return new pe(3012,!1)}()),l&&t.errors.push(function SKt(){return new pe(3200,!1)}());const P=i.steps.length;let O=0;s>0&&s<P?t.errors.push(function EKt(){return new pe(3202,!1)}()):0==s&&(O=1/(P-1));const N=P-1,U=t.currentTime,j=t.currentAnimateTimings,W=j.duration;return M.forEach((Z,rt)=>{const st=O>0?rt==N?1:O*rt:o[rt],vt=st*W;t.currentTime=U+j.delay+vt,j.duration=vt,this._validateStyleAst(Z,t),Z.offset=st,n.styles.push(Z)}),n}visitReference(i,t){return{type:rn.Reference,animation:Vl(this,K1(i.animation),t),options:gp(i.options)}}visitAnimateChild(i,t){return t.depCount++,{type:rn.AnimateChild,options:gp(i.options)}}visitAnimateRef(i,t){return{type:rn.AnimateRef,animation:this.visitReference(i.animation,t),options:gp(i.options)}}visitQuery(i,t){const n=t.currentQuerySelector,r=i.options||{};t.queryCount++,t.currentQuery=i;const[s,o]=function uZt(e){const i=!!e.split(/\s*,\s*/).find(t=>":self"==t);return i&&(e=e.replace(cZt,"")),e=e.replace(/@\*/g,TA).replace(/@\w+/g,t=>TA+"-"+t.slice(1)).replace(/:animating/g,h4),[e,i]}(i.selector);t.currentQuerySelector=n.length?n+" "+s:s,Bl(t.collectedStyles,t.currentQuerySelector,new Map);const l=Vl(this,K1(i.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:rn.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:l,originalSelector:i.selector,options:gp(i.options)}}visitStagger(i,t){t.currentQuery||t.errors.push(function AKt(){return new pe(3013,!1)}());const n="full"===i.timings?{duration:0,delay:0,easing:"full"}:CA(i.timings,t.errors,!0);return{type:rn.Stagger,animation:Vl(this,K1(i.animation),t),timings:n,options:null}}}class fZt{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gp(e){return e?(e={...e}).params&&(e.params=function hZt(e){return e?{...e}:null}(e.params)):e={},e}function x4(e,i,t){return{duration:e,delay:i,easing:t}}function y4(e,i,t,n,r,s,o=null,l=!1){return{type:1,element:e,keyframes:i,preStyleProps:t,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:l}}class DA{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,t){let n=this._map.get(i);n||this._map.set(i,n=[]),n.push(...t)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const xZt=new RegExp(":enter","g"),bZt=new RegExp(":leave","g");function b4(e,i,t,n,r,s=new Map,o=new Map,l,w,S=[]){return(new wZt).buildKeyframes(e,i,t,n,r,s,o,l,w,S)}class wZt{buildKeyframes(i,t,n,r,s,o,l,w,S,M=[]){S=S||new DA;const P=new w4(i,t,S,r,s,M,[]);P.options=w;const O=w.delay?$u(w.delay):0;P.currentTimeline.delayNextStep(O),P.currentTimeline.setStyles([o],null,P.errors,w),Vl(this,n,P);const N=P.timelines.filter(U=>U.containsAnimation());if(N.length&&l.size){let U;for(let j=N.length-1;j>=0;j--){const W=N[j];if(W.element===t){U=W;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([l],null,P.errors,w)}return N.length?N.map(U=>U.buildKeyframes()):[y4(t,[],[],[],0,O,"",!1)]}visitTrigger(i,t){}visitState(i,t){}visitTransition(i,t){}visitAnimateChild(i,t){const n=t.subInstructions.get(t.element);if(n){const r=t.createSubContext(i.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=i}visitAnimateRef(i,t){const n=t.createSubContext(i.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],t,n),this.visitReference(i.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=i}_applyAnimationRefDelays(i,t,n){for(const r of i){const s=r?.delay;if(s){const o="number"==typeof s?s:$u(Z1(s,r?.params??{},t.errors));n.delayNextStep(o)}}}_visitSubInstructions(i,t,n){let s=t.currentTimeline.currentTime;const o=null!=n.duration?$u(n.duration):null,l=null!=n.delay?$u(n.delay):null;return 0!==o&&i.forEach(w=>{const S=t.appendInstructionToTimeline(w,o,l);s=Math.max(s,S.duration+S.delay)}),s}visitReference(i,t){t.updateOptions(i.options,!0),Vl(this,i.animation,t),t.previousNode=i}visitSequence(i,t){const n=t.subContextCount;let r=t;const s=i.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){r.previousNode.type==rn.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=MA);const o=$u(s.delay);r.delayNextStep(o)}i.steps.length&&(i.steps.forEach(o=>Vl(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=i}visitGroup(i,t){const n=[];let r=t.currentTimeline.currentTime;const s=i.options&&i.options.delay?$u(i.options.delay):0;i.steps.forEach(o=>{const l=t.createSubContext(i.options);s&&l.delayNextStep(s),Vl(this,o,l),r=Math.max(r,l.currentTimeline.currentTime),n.push(l.currentTimeline)}),n.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=i}_visitTiming(i,t){if(i.dynamic){const n=i.strValue;return CA(t.params?Z1(n,t.params,t.errors):n,t.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,t){const n=t.currentAnimateTimings=this._visitTiming(i.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const s=i.style;s.type==rn.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(n.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=i}visitStyle(i,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const s=r&&r.easing||i.easing;i.isEmptyStep?n.applyEmptyStep(s):n.setStyles(i.styles,s,t.errors,t.options),t.previousNode=i}visitKeyframes(i,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,s=n.duration,l=t.createSubContext().currentTimeline;l.easing=n.easing,i.styles.forEach(w=>{l.forwardTime((w.offset||0)*s),l.setStyles(w.styles,w.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(r+s),t.previousNode=i}visitQuery(i,t){const n=t.currentTimeline.currentTime,r=i.options||{},s=r.delay?$u(r.delay):0;s&&(t.previousNode.type===rn.Style||0==n&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=MA);let o=n;const l=t.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=l.length;let w=null;l.forEach((S,M)=>{t.currentQueryIndex=M;const P=t.createSubContext(i.options,S);s&&P.delayNextStep(s),S===t.element&&(w=P.currentTimeline),Vl(this,i.animation,P),P.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,P.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),w&&(t.currentTimeline.mergeTimelineCollectedStyles(w),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=i}visitStagger(i,t){const n=t.parentContext,r=t.currentTimeline,s=i.timings,o=Math.abs(s.duration),l=o*(t.currentQueryTotal-1);let w=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":w=l-w;break;case"full":w=n.currentStaggerTime}const M=t.currentTimeline;w&&M.delayNextStep(w);const P=M.currentTime;Vl(this,i.animation,t),t.previousNode=i,n.currentStaggerTime=r.currentTime-P+(r.startTime-n.currentTimeline.startTime)}}const MA={};class w4{constructor(i,t,n,r,s,o,l,w){this._driver=i,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=MA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new IA(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,t){if(!i)return;const n=i;let r=this.options;null!=n.duration&&(r.duration=$u(n.duration)),null!=n.delay&&(r.delay=$u(n.delay));const s=n.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(l=>{(!t||!o.hasOwnProperty(l))&&(o[l]=Z1(s[l],o,this.errors))})}}_copyOptions(){const i={};if(this.options){const t=this.options.params;if(t){const n=i.params={};Object.keys(t).forEach(r=>{n[r]=t[r]})}}return i}createSubContext(i=null,t,n){const r=t||this.element,s=new w4(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(i),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(i){return this.previousNode=MA,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,t,n){const r={duration:t??i.duration,delay:this.currentTimeline.currentTime+(n??0)+i.delay,easing:""},s=new _Zt(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,r,i.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,t,n,r,s,o){let l=[];if(r&&l.push(this.element),i.length>0){i=(i=i.replace(xZt,"."+this._enterClassName)).replace(bZt,"."+this._leaveClassName);let S=this._driver.query(this.element,i,1!=n);0!==n&&(S=n<0?S.slice(S.length+n,S.length):S.slice(0,n)),l.push(...S)}return!s&&0==l.length&&o.push(function DKt(e){return new pe(3014,!1)}()),l}}class IA{constructor(i,t,n,r){this._driver=i,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+i),t&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,t){return this.applyStylesToKeyframe(),new IA(this._driver,i,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,t){this._localTimelineStyles.set(i,t),this._globalTimelineStyles.set(i,t),this._styleSummary.set(i,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||au),this._currentKeyframe.set(t,au);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,t,n,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},o=function TZt(e,i){const t=new Map;let n;return e.forEach(r=>{if("*"===r){n??=i.keys();for(let s of n)t.set(s,au)}else for(let[s,o]of r)t.set(s,o)}),t}(i,this._globalTimelineStyles);for(let[l,w]of o){const S=Z1(w,s,n);this._pendingStyles.set(l,S),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??au),this._updateStyle(l,S)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,t)=>{this._currentKeyframe.set(t,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,i)}))}snapshotCurrentStyles(){for(let[i,t]of this._localTimelineStyles)this._pendingStyles.set(i,t),this._updateStyle(i,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let t in this._currentKeyframe)i.push(t);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((t,n)=>{const r=this._styleSummary.get(n);(!r||t.time>r.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((l,w)=>{const S=new Map([...this._backFill,...l]);S.forEach((M,P)=>{"!"===M?i.add(P):M===au&&t.add(P)}),n||S.set("offset",w/this.duration),r.push(S)});const s=[...i.values()],o=[...t.values()];if(n){const l=r[0],w=new Map(l);l.set("offset",0),w.set("offset",1),r=[l,w]}return y4(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class _Zt extends IA{constructor(i,t,n,r,s,o,l=!1){super(i,t,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=n+t,l=t/o,w=new Map(i[0]);w.set("offset",0),s.push(w);const S=new Map(i[0]);S.set("offset",zit(l)),s.push(S);const M=i.length-1;for(let P=1;P<=M;P++){let O=new Map(i[P]);const N=O.get("offset");O.set("offset",zit((t+N*n)/o)),s.push(O)}n=o,t=0,r="",i=s}return y4(this.element,i,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function zit(e,i=3){const t=Math.pow(10,i-1);return Math.round(e*t)/t}function Git(e,i,t,n,r,s,o,l,w,S,M,P,O){return{type:0,element:e,triggerName:i,isRemovalTransition:r,fromState:t,fromStyles:s,toState:n,toStyles:o,timelines:l,queriedElements:w,preStyleProps:S,postStyleProps:M,totalTime:P,errors:O}}const _4={};class Hit{constructor(i,t,n){this._triggerName=i,this.ast=t,this._stateStyles=n}match(i,t,n,r){return function CZt(e,i,t,n,r){return e.some(s=>s(i,t,n,r))}(this.ast.matchers,i,t,n,r)}buildStyles(i,t,n){let r=this._stateStyles.get("*");return void 0!==i&&(r=this._stateStyles.get(i?.toString())||r),r?r.buildStyles(t,n):new Map}build(i,t,n,r,s,o,l,w,S,M){const P=[],O=this.ast.options&&this.ast.options.params||_4,U=this.buildStyles(n,l&&l.params||_4,P),j=w&&w.params||_4,W=this.buildStyles(r,j,P),Z=new Set,rt=new Map,st=new Map,vt="void"===r,_t={params:Wit(j,O),delay:this.ast.options?.delay},kt=M?[]:b4(i,t,this.ast.animation,s,o,U,W,_t,S,P);let ft=0;return kt.forEach(dt=>{ft=Math.max(dt.duration+dt.delay,ft)}),P.length?Git(t,this._triggerName,n,r,vt,U,W,[],[],rt,st,ft,P):(kt.forEach(dt=>{const pt=dt.element,bt=Bl(rt,pt,new Set);dt.preStyleProps.forEach(Et=>bt.add(Et));const Tt=Bl(st,pt,new Set);dt.postStyleProps.forEach(Et=>Tt.add(Et)),pt!==t&&Z.add(pt)}),Git(t,this._triggerName,n,r,vt,U,W,kt,[...Z.values()],rt,st,ft))}}function Wit(e,i){const t={...i};return Object.entries(e).forEach(([n,r])=>{null!=r&&(t[n]=r)}),t}class SZt{constructor(i,t,n){this.styles=i,this.defaultParams=t,this.normalizer=n}buildStyles(i,t){const n=new Map,r=Wit(i,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,l)=>{o&&(o=Z1(o,r,t));const w=this.normalizer.normalizePropertyName(l,t);o=this.normalizer.normalizeStyleValue(l,w,o,t),n.set(l,o)})}),n}}class AZt{constructor(i,t,n){this.name=i,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new SZt(r.style,r.options&&r.options.params||{},n))}),jit(this.states,"true","1"),jit(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Hit(i,r,this.states))}),this.fallbackTransition=function DZt(e,i,t){return new Hit(e,{type:rn.Transition,animation:{type:rn.Sequence,steps:[],options:null},matchers:[(o,l)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,t,n,r){return this.transitionFactories.find(o=>o.match(i,t,n,r))||null}matchStyles(i,t,n){return this.fallbackTransition.buildStyles(i,t,n)}}function jit(e,i,t){e.has(i)?e.has(t)||e.set(t,e.get(i)):e.has(t)&&e.set(i,e.get(t))}const MZt=new DA;class IZt{constructor(i,t,n){this.bodyNode=i,this._driver=t,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,t){const n=[],s=v4(this._driver,t,n,[]);if(n.length)throw function OKt(e){return new pe(3503,!1)}();this._animations.set(i,s)}_buildPlayer(i,t,n){const r=i.element,s=Dit(this._normalizer,i.keyframes,t,n);return this._driver.animate(r,s,i.duration,i.delay,i.easing,[],!0)}create(i,t,n={}){const r=[],s=this._animations.get(i);let o;const l=new Map;if(s?(o=b4(this._driver,t,s,u4,wA,new Map,new Map,n,MZt,r),o.forEach(M=>{const P=Bl(l,M.element,new Map);M.postStyleProps.forEach(O=>P.set(O,null))})):(r.push(function LKt(){return new pe(3300,!1)}()),o=[]),r.length)throw function NKt(e){return new pe(3504,!1)}();l.forEach((M,P)=>{M.forEach((O,N)=>{M.set(N,this._driver.computeStyle(P,N,au))})});const S=bf(o.map(M=>{const P=l.get(M.element);return this._buildPlayer(M,new Map,P)}));return this._playersById.set(i,S),S.onDestroy(()=>this.destroy(i)),this.players.push(S),S}destroy(i){const t=this._getPlayer(i);t.destroy(),this._playersById.delete(i);const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(i){const t=this._playersById.get(i);if(!t)throw function BKt(e){return new pe(3301,!1)}();return t}listen(i,t,n,r){const s=a4(t,"","","");return r4(this._getPlayer(i),n,s,r),()=>{}}command(i,t,n,r){if("register"==n)return void this.register(i,r[0]);if("create"==n)return void this.create(i,t,r[0]||{});const s=this._getPlayer(i);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(i)}}}const Xit="ng-animate-queued",T4="ng-animate-disabled",OZt=[],Yit={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},LZt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zc="__ng_removed";class C4{get params(){return this.options.params}constructor(i,t=""){this.namespaceId=t;const n=i&&i.hasOwnProperty("value");if(this.value=function UZt(e){return e??null}(n?i.value:i),n){const{value:s,...o}=i;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const t=i.params;if(t){const n=this.options.params;Object.keys(t).forEach(r=>{null==n[r]&&(n[r]=t[r])})}}}const J1="void",S4=new C4(J1);class NZt{constructor(i,t,n){this.id=i,this.hostElement=t,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,fc(t,this._hostClassName)}listen(i,t,n,r){if(!this._triggers.has(t))throw function VKt(e,i){return new pe(3302,!1)}();if(null==n||0==n.length)throw function UKt(e){return new pe(3303,!1)}();if(!function zZt(e){return"start"==e||"done"==e}(n))throw function zKt(e,i){return new pe(3400,!1)}();const s=Bl(this._elementListeners,i,[]),o={name:t,phase:n,callback:r};s.push(o);const l=Bl(this._engine.statesByElement,i,new Map);return l.has(t)||(fc(i,_A),fc(i,_A+"-"+t),l.set(t,S4)),()=>{this._engine.afterFlush(()=>{const w=s.indexOf(o);w>=0&&s.splice(w,1),this._triggers.has(t)||l.delete(t)})}}register(i,t){return!this._triggers.has(i)&&(this._triggers.set(i,t),!0)}_getTrigger(i){const t=this._triggers.get(i);if(!t)throw function GKt(e){return new pe(3401,!1)}();return t}trigger(i,t,n,r=!0){const s=this._getTrigger(t),o=new E4(this.id,t,i);let l=this._engine.statesByElement.get(i);l||(fc(i,_A),fc(i,_A+"-"+t),this._engine.statesByElement.set(i,l=new Map));let w=l.get(t);const S=new C4(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&w&&S.absorbOptions(w.options),l.set(t,S),w||(w=S4),S.value!==J1&&w.value===S.value){if(!function WZt(e,i){const t=Object.keys(e),n=Object.keys(i);if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!i.hasOwnProperty(s)||e[s]!==i[s])return!1}return!0}(w.params,S.params)){const j=[],W=s.matchStyles(w.value,w.params,j),Z=s.matchStyles(S.value,S.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{pp(i,W),Ld(i,Z)})}return}const O=Bl(this._engine.playersByElement,i,[]);O.forEach(j=>{j.namespaceId==this.id&&j.triggerName==t&&j.queued&&j.destroy()});let N=s.matchTransition(w.value,S.value,i,S.params),U=!1;if(!N){if(!r)return;N=s.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:t,transition:N,fromState:w,toState:S,player:o,isFallbackTransition:U}),U||(fc(i,Xit),o.onStart(()=>{S0(i,Xit)})),o.onDone(()=>{let j=this.players.indexOf(o);j>=0&&this.players.splice(j,1);const W=this._engine.playersByElement.get(i);if(W){let Z=W.indexOf(o);Z>=0&&W.splice(Z,1)}}),this.players.push(o),O.push(o),o}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(t=>t.delete(i)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(r=>r.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const t=this._engine.playersByElement.get(i);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,t){const n=this._engine.driver.query(i,TA,!0);n.forEach(r=>{if(r[zc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(i,t,n,r){const s=this._engine.statesByElement.get(i),o=new Map;if(s){const l=[];if(s.forEach((w,S)=>{if(o.set(S,w.value),this._triggers.has(S)){const M=this.trigger(i,S,J1,r);M&&l.push(M)}}),l.length)return this._engine.markElementAsRemoved(this.id,i,!0,t,o),n&&bf(l).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const t=this._elementListeners.get(i),n=this._engine.statesByElement.get(i);if(t&&n){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const w=this._triggers.get(o).fallbackTransition,S=n.get(o)||S4,M=new C4(J1),P=new E4(this.id,o,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:o,transition:w,fromState:S,toState:M,player:P,isFallbackTransition:!0})})}}removeNode(i,t){const n=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,t),this.triggerLeaveAnimation(i,t,!0))return;let r=!1;if(n.totalAnimations){const s=n.players.length?n.playersByQueriedElement.get(i):[];if(s&&s.length)r=!0;else{let o=i;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(i),r)n.markElementAsRemoved(this.id,i,!1,t);else{const s=i[zc];(!s||s===Yit)&&(n.afterFlush(()=>this.clearElementCache(i)),n.destroyInnerAnimations(i),n._onRemovalComplete(i,t))}}insertNode(i,t){fc(i,this._hostClassName)}drainQueuedTransitions(i){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const s=n.element,o=this._elementListeners.get(s);o&&o.forEach(l=>{if(l.name==n.triggerName){const w=a4(s,n.triggerName,n.fromState.value,n.toState.value);w._data=i,r4(n.player,l.phase,w,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((n,r)=>{const s=n.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(i){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}}class BZt{_onRemovalComplete(i,t){this.onRemovalComplete(i,t)}constructor(i,t,n,r){this.bodyNode=i,this.driver=t,this._normalizer=n,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&i.push(n)})}),i}createNamespace(i,t){const n=new NZt(i,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[i]=n}_balanceNamespaceList(i,t){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,l=this.driver.getParentElement(t);for(;l;){const w=r.get(l);if(w){const S=n.indexOf(w);n.splice(S+1,0,i),o=!0;break}l=this.driver.getParentElement(l)}o||n.unshift(i)}else n.push(i);return r.set(t,i),i}register(i,t){let n=this._namespaceLookup[i];return n||(n=this.createNamespace(i,t)),n}registerTrigger(i,t,n){let r=this._namespaceLookup[i];r&&r.register(t,n)&&this.totalAnimations++}destroy(i,t){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(i);this.namespacesByHostElement.delete(n.hostElement);const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(t),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const t=new Set,n=this.statesByElement.get(i);if(n)for(let r of n.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(i,t,n,r){if(kA(t)){const s=this._fetchNamespace(i);if(s)return s.trigger(t,n,r),!0}return!1}insertNode(i,t,n,r){if(!kA(t))return;const s=t[zc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(i){const o=this._fetchNamespace(i);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,t){t?this.disabledNodes.has(i)||(this.disabledNodes.add(i),fc(i,T4)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),S0(i,T4))}removeNode(i,t,n){if(kA(t)){this.scheduler?.notify();const r=i?this._fetchNamespace(i):null;r?r.removeNode(t,n):this.markElementAsRemoved(i,t,!1,n);const s=this.namespacesByHostElement.get(t);s&&s.id!==i&&s.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(i,t,n,r,s){this.collectedLeaveElements.push(t),t[zc]={namespaceId:i,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(i,t,n,r,s){return kA(t)?this._fetchNamespace(i).listen(t,n,r,s):()=>{}}_buildInstruction(i,t,n,r,s){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,n,r,i.fromState.options,i.toState.options,t,s)}destroyInnerAnimations(i){let t=this.driver.query(i,TA,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(i,h4,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(i){const t=this.playersByElement.get(i);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(i){const t=this.playersByQueriedElement.get(i);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return bf(this.players).onDone(()=>i());i()})}processLeaveNode(i){const t=i[zc];if(t&&t.setForRemoval){if(i[zc]=Yit,t.namespaceId){this.destroyInnerAnimations(i);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(i)}this._onRemovalComplete(i,t.setForRemoval)}i.classList?.contains(T4)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(i=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)fc(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,i)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?bf(t).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(i){throw function HKt(e){return new pe(3402,!1)}()}_flushAnimations(i,t){const n=new DA,r=[],s=new Map,o=[],l=new Map,w=new Map,S=new Map,M=new Set;this.disabledNodes.forEach(ve=>{M.add(ve);const qt=this.driver.query(ve,".ng-animate-queued",!0);for(let Ee=0;Ee<qt.length;Ee++)M.add(qt[Ee])});const P=this.bodyNode,O=Array.from(this.statesByElement.keys()),N=Kit(O,this.collectedEnterElements),U=new Map;let j=0;N.forEach((ve,qt)=>{const Ee=u4+j++;U.set(qt,Ee),ve.forEach(ze=>fc(ze,Ee))});const W=[],Z=new Set,rt=new Set;for(let ve=0;ve<this.collectedLeaveElements.length;ve++){const qt=this.collectedLeaveElements[ve],Ee=qt[zc];Ee&&Ee.setForRemoval&&(W.push(qt),Z.add(qt),Ee.hasAnimation?this.driver.query(qt,".ng-star-inserted",!0).forEach(ze=>Z.add(ze)):rt.add(qt))}const st=new Map,vt=Kit(O,Array.from(Z));vt.forEach((ve,qt)=>{const Ee=wA+j++;st.set(qt,Ee),ve.forEach(ze=>fc(ze,Ee))}),i.push(()=>{N.forEach((ve,qt)=>{const Ee=U.get(qt);ve.forEach(ze=>S0(ze,Ee))}),vt.forEach((ve,qt)=>{const Ee=st.get(qt);ve.forEach(ze=>S0(ze,Ee))}),W.forEach(ve=>{this.processLeaveNode(ve)})});const _t=[],kt=[];for(let ve=this._namespaceList.length-1;ve>=0;ve--)this._namespaceList[ve].drainQueuedTransitions(t).forEach(Ee=>{const ze=Ee.player,Me=Ee.element;if(_t.push(ze),this.collectedEnterElements.length){const ui=Me[zc];if(ui&&ui.setForMove){if(ui.previousTriggersValues&&ui.previousTriggersValues.has(Ee.triggerName)){const Lt=ui.previousTriggersValues.get(Ee.triggerName),Kt=this.statesByElement.get(Ee.element);if(Kt&&Kt.has(Ee.triggerName)){const Qt=Kt.get(Ee.triggerName);Qt.value=Lt,Kt.set(Ee.triggerName,Qt)}}return void ze.destroy()}}const Ii=!P||!this.driver.containsElement(P,Me),te=st.get(Me),Le=U.get(Me),De=this._buildInstruction(Ee,n,Le,te,Ii);if(De.errors&&De.errors.length)return void kt.push(De);if(Ii)return ze.onStart(()=>pp(Me,De.fromStyles)),ze.onDestroy(()=>Ld(Me,De.toStyles)),void r.push(ze);if(Ee.isFallbackTransition)return ze.onStart(()=>pp(Me,De.fromStyles)),ze.onDestroy(()=>Ld(Me,De.toStyles)),void r.push(ze);const fi=[];De.timelines.forEach(ui=>{ui.stretchStartingKeyframe=!0,this.disabledNodes.has(ui.element)||fi.push(ui)}),De.timelines=fi,n.append(Me,De.timelines),o.push({instruction:De,player:ze,element:Me}),De.queriedElements.forEach(ui=>Bl(l,ui,[]).push(ze)),De.preStyleProps.forEach((ui,Lt)=>{if(ui.size){let Kt=w.get(Lt);Kt||w.set(Lt,Kt=new Set),ui.forEach((Qt,Yt)=>Kt.add(Yt))}}),De.postStyleProps.forEach((ui,Lt)=>{let Kt=S.get(Lt);Kt||S.set(Lt,Kt=new Set),ui.forEach((Qt,Yt)=>Kt.add(Yt))})});if(kt.length){const ve=[];kt.forEach(qt=>{ve.push(function WKt(e,i){return new pe(3505,!1)}())}),_t.forEach(qt=>qt.destroy()),this.reportError(ve)}const ft=new Map,dt=new Map;o.forEach(ve=>{const qt=ve.element;n.has(qt)&&(dt.set(qt,qt),this._beforeAnimationBuild(ve.player.namespaceId,ve.instruction,ft))}),r.forEach(ve=>{const qt=ve.element;this._getPreviousPlayers(qt,!1,ve.namespaceId,ve.triggerName,null).forEach(ze=>{Bl(ft,qt,[]).push(ze),ze.destroy()})});const pt=W.filter(ve=>Jit(ve,w,S)),bt=new Map;Qit(bt,this.driver,rt,S,au).forEach(ve=>{Jit(ve,w,S)&&pt.push(ve)});const Et=new Map;N.forEach((ve,qt)=>{Qit(Et,this.driver,new Set(ve),w,"!")}),pt.forEach(ve=>{const qt=bt.get(ve),Ee=Et.get(ve);bt.set(ve,new Map([...qt?.entries()??[],...Ee?.entries()??[]]))});const Dt=[],Ue=[],we={};o.forEach(ve=>{const{element:qt,player:Ee,instruction:ze}=ve;if(n.has(qt)){if(M.has(qt))return Ee.onDestroy(()=>Ld(qt,ze.toStyles)),Ee.disabled=!0,Ee.overrideTotalTime(ze.totalTime),void r.push(Ee);let Me=we;if(dt.size>1){let te=qt;const Le=[];for(;te=te.parentNode;){const De=dt.get(te);if(De){Me=De;break}Le.push(te)}Le.forEach(De=>dt.set(De,Me))}const Ii=this._buildAnimation(Ee.namespaceId,ze,ft,s,Et,bt);if(Ee.setRealPlayer(Ii),Me===we)Dt.push(Ee);else{const te=this.playersByElement.get(Me);te&&te.length&&(Ee.parentPlayer=bf(te)),r.push(Ee)}}else pp(qt,ze.fromStyles),Ee.onDestroy(()=>Ld(qt,ze.toStyles)),Ue.push(Ee),M.has(qt)&&r.push(Ee)}),Ue.forEach(ve=>{const qt=s.get(ve.element);if(qt&&qt.length){const Ee=bf(qt);ve.setRealPlayer(Ee)}}),r.forEach(ve=>{ve.parentPlayer?ve.syncPlayerEvents(ve.parentPlayer):ve.destroy()});for(let ve=0;ve<W.length;ve++){const qt=W[ve],Ee=qt[zc];if(S0(qt,wA),Ee&&Ee.hasAnimation)continue;let ze=[];if(l.size){let Ii=l.get(qt);Ii&&Ii.length&&ze.push(...Ii);let te=this.driver.query(qt,h4,!0);for(let Le=0;Le<te.length;Le++){let De=l.get(te[Le]);De&&De.length&&ze.push(...De)}}const Me=ze.filter(Ii=>!Ii.destroyed);Me.length?GZt(this,qt,Me):this.processLeaveNode(qt)}return W.length=0,Dt.forEach(ve=>{this.players.push(ve),ve.onDone(()=>{ve.destroy();const qt=this.players.indexOf(ve);this.players.splice(qt,1)}),ve.play()}),Dt}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,t,n,r,s){let o=[];if(t){const l=this.playersByQueriedElement.get(i);l&&(o=l)}else{const l=this.playersByElement.get(i);if(l){const w=!s||s==J1;l.forEach(S=>{S.queued||!w&&S.triggerName!=r||o.push(S)})}}return(n||r)&&(o=o.filter(l=>!(n&&n!=l.namespaceId||r&&r!=l.triggerName))),o}_beforeAnimationBuild(i,t,n){const s=t.element,o=t.isRemovalTransition?void 0:i,l=t.isRemovalTransition?void 0:t.triggerName;for(const w of t.timelines){const S=w.element,M=S!==s,P=Bl(n,S,[]);this._getPreviousPlayers(S,M,o,l,t.toState).forEach(N=>{const U=N.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),N.destroy(),P.push(N)})}pp(s,t.fromStyles)}_buildAnimation(i,t,n,r,s,o){const l=t.triggerName,w=t.element,S=[],M=new Set,P=new Set,O=t.timelines.map(U=>{const j=U.element;M.add(j);const W=j[zc];if(W&&W.removedBeforeQueried)return new Dy(U.duration,U.delay);const Z=j!==w,rt=function HZt(e){const i=[];return Zit(e,i),i}((n.get(j)||OZt).map(ft=>ft.getRealPlayer())).filter(ft=>!!ft.element&&ft.element===j),st=s.get(j),vt=o.get(j),_t=Dit(this._normalizer,U.keyframes,st,vt),kt=this._buildPlayer(U,_t,rt);if(U.subTimeline&&r&&P.add(j),Z){const ft=new E4(i,l,j);ft.setRealPlayer(kt),S.push(ft)}return kt});S.forEach(U=>{Bl(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function VZt(e,i,t){let n=e.get(i);if(n){if(n.length){const r=n.indexOf(t);n.splice(r,1)}0==n.length&&e.delete(i)}return n}(this.playersByQueriedElement,U.element,U))}),M.forEach(U=>fc(U,Fit));const N=bf(O);return N.onDestroy(()=>{M.forEach(U=>S0(U,Fit)),Ld(w,t.toStyles)}),P.forEach(U=>{Bl(r,U,[]).push(N)}),N}_buildPlayer(i,t,n){return t.length>0?this.driver.animate(i.element,t,i.duration,i.delay,i.easing,n):new Dy(i.duration,i.delay)}}class E4{constructor(i,t,n){this.namespaceId=i,this.triggerName=t,this.element=n,this._player=new Dy,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((t,n)=>{t.forEach(r=>r4(i,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const t=this._player;t.triggerCallback&&i.onStart(()=>t.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,t){Bl(this._queuedCallbacks,i,[]).push(t)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const t=this._player;t.triggerCallback&&t.triggerCallback(i)}}function kA(e){return e&&1===e.nodeType}function $it(e,i){const t=e.style.display;return e.style.display=i??"none",t}function Qit(e,i,t,n,r){const s=[];t.forEach(w=>s.push($it(w)));const o=[];n.forEach((w,S)=>{const M=new Map;w.forEach(P=>{const O=i.computeStyle(S,P,r);M.set(P,O),(!O||0==O.length)&&(S[zc]=LZt,o.push(S))}),e.set(S,M)});let l=0;return t.forEach(w=>$it(w,s[l++])),o}function Kit(e,i){const t=new Map;if(e.forEach(l=>t.set(l,[])),0==i.length)return t;const r=new Set(i),s=new Map;function o(l){if(!l)return 1;let w=s.get(l);if(w)return w;const S=l.parentNode;return w=t.has(S)?S:r.has(S)?1:o(S),s.set(l,w),w}return i.forEach(l=>{const w=o(l);1!==w&&t.get(w).push(l)}),t}function fc(e,i){e.classList?.add(i)}function S0(e,i){e.classList?.remove(i)}function GZt(e,i,t){bf(t).onDone(()=>e.processLeaveNode(i))}function Zit(e,i){for(let t=0;t<e.length;t++){const n=e[t];n instanceof GH?Zit(n.players,i):i.push(n)}}function Jit(e,i,t){const n=t.get(e);if(!n)return!1;let r=i.get(e);return r?n.forEach(s=>r.add(s)):i.set(e,n),t.delete(e),!0}class q1{constructor(i,t,n,r){this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new BZt(i.body,t,n,r),this._timelineEngine=new IZt(i.body,t,n),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(i,t,n,r,s){const o=i+"-"+r;let l=this._triggerCache[o];if(!l){const w=[],M=v4(this._driver,s,w,[]);if(w.length)throw function PKt(e,i){return new pe(3404,!1)}();l=function EZt(e,i,t){return new AZt(e,i,t)}(r,M,this._normalizer),this._triggerCache[o]=l}this._transitionEngine.registerTrigger(t,r,l)}register(i,t){this._transitionEngine.register(i,t)}destroy(i,t){this._transitionEngine.destroy(i,t)}onInsert(i,t,n,r){this._transitionEngine.insertNode(i,t,n,r)}onRemove(i,t,n){this._transitionEngine.removeNode(i,t,n)}disableAnimations(i,t){this._transitionEngine.markElementAsDisabled(i,t)}process(i,t,n,r){if("@"==n.charAt(0)){const[s,o]=Mit(n);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(i,t,n,r)}listen(i,t,n,r,s){if("@"==n.charAt(0)){const[o,l]=Mit(n);return this._timelineEngine.listen(o,t,l,s)}return this._transitionEngine.listen(i,t,n,r,s)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}}class tw{static#t=this.initialStylesByElement=new WeakMap;constructor(i,t,n){this._element=i,this._startStyles=t,this._endStyles=n,this._state=0;let r=tw.initialStylesByElement.get(i);r||tw.initialStylesByElement.set(i,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ld(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ld(this._element,this._initialStyles),this._endStyles&&(Ld(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(tw.initialStylesByElement.delete(this._element),this._startStyles&&(pp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pp(this._element,this._endStyles),this._endStyles=null),Ld(this._element,this._initialStyles),this._state=3)}}function A4(e){let i=null;return e.forEach((t,n)=>{(function XZt(e){return"display"===e||"position"===e})(n)&&(i=i||new Map,i.set(n,t))}),i}class qit{constructor(i,t,n,r){this.element=i,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const t=[];return i.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(i,t,n){return i.animate(this._convertKeyframesToObject(t),n)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&i.set(r,this._finished?n:g4(this.element,r))}),this.currentSnapshot=i}triggerCallback(i){const t="start"===i?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class tnt{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,t){return!1}containsElement(i,t){return kit(i,t)}getParentElement(i){return o4(i)}query(i,t,n){return Rit(i,t,n)}computeStyle(i,t,n){return g4(i,t)}animate(i,t,n,r,s,o=[]){const w={duration:n,delay:r,fill:0==r?"both":"forwards"};s&&(w.easing=s);const S=new Map,M=o.filter(N=>N instanceof qit);(function nZt(e,i){return 0===e||0===i})(n,r)&&M.forEach(N=>{N.currentSnapshot.forEach((U,j)=>S.set(j,U))});let P=function tZt(e){return e.length?e[0]instanceof Map?e:e.map(i=>new Map(Object.entries(i))):[]}(t).map(N=>new Map(N));P=function rZt(e,i,t){if(t.size&&i.length){let n=i[0],r=[];if(t.forEach((s,o)=>{n.has(o)||r.push(o),n.set(o,s)}),r.length)for(let s=1;s<i.length;s++){let o=i[s];r.forEach(l=>o.set(l,g4(e,l)))}}return i}(i,P,S);const O=function jZt(e,i){let t=null,n=null;return Array.isArray(i)&&i.length?(t=A4(i[0]),i.length>1&&(n=A4(i[i.length-1]))):i instanceof Map&&(t=A4(i)),t||n?new tw(e,t,n):null}(i,P);return new qit(i,P,w,O)}}const ent="@.disabled";class int{constructor(i,t,n,r){this.namespaceId=i,this.delegate=t,this.engine=n,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,t){return this.delegate.createElement(i,t)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,t){this.delegate.appendChild(i,t),this.engine.onInsert(this.namespaceId,t,i,!1)}insertBefore(i,t,n,r=!0){this.delegate.insertBefore(i,t,n),this.engine.onInsert(this.namespaceId,t,i,r)}removeChild(i,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(i,t){return this.delegate.selectRootElement(i,t)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,t,n,r){this.delegate.setAttribute(i,t,n,r)}removeAttribute(i,t,n){this.delegate.removeAttribute(i,t,n)}addClass(i,t){this.delegate.addClass(i,t)}removeClass(i,t){this.delegate.removeClass(i,t)}setStyle(i,t,n,r){this.delegate.setStyle(i,t,n,r)}removeStyle(i,t,n){this.delegate.removeStyle(i,t,n)}setProperty(i,t,n){"@"==t.charAt(0)&&t==ent?this.disableAnimations(i,!!n):this.delegate.setProperty(i,t,n)}setValue(i,t){this.delegate.setValue(i,t)}listen(i,t,n){return this.delegate.listen(i,t,n)}disableAnimations(i,t){this.engine.disableAnimations(i,t)}}class YZt extends int{constructor(i,t,n,r,s){super(t,n,r,s),this.factory=i,this.namespaceId=t}setProperty(i,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==ent?this.disableAnimations(i,n=void 0===n||!!n):this.engine.process(this.namespaceId,i,t.slice(1),n):this.delegate.setProperty(i,t,n)}listen(i,t,n){if("@"==t.charAt(0)){const r=function $Zt(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(i);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function QZt(e){const i=e.indexOf(".");return[e.substring(0,i),e.slice(i+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,l=>{this.factory.scheduleListenerCallback(l._data||-1,n,l)})}return this.delegate.listen(i,t,n)}}class KZt{constructor(i,t,n){this.delegate=i,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{const o=s?.parentNode(r);o&&s.removeChild(o,r)}}createRenderer(i,t){const r=this.delegate.createRenderer(i,t);if(!i||!t?.data?.animation){const S=this._rendererCache;let M=S.get(r);return M||(M=new int("",r,this.engine,()=>S.delete(r)),S.set(r,M)),M}const s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,i);const l=S=>{Array.isArray(S)?S.forEach(l):this.engine.registerTrigger(s,o,i,S.name,S)};return t.data.animation.forEach(l),new YZt(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,t,n){if(i>=0&&i<this._microtaskId)return void this._zone.run(()=>t(n));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{const[o,l]=s;o(l)}),this._animationCallbacksBuffer=[]})}),r.push([t,n])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const nnt=[{provide:d4,useFactory:function JZt(){return new Nit}},{provide:q1,useClass:(()=>{class e extends q1{constructor(t,n,r){super(t,n,r,xe(v_,{optional:!0}))}ngOnDestroy(){this.flush()}static#t=this.\u0275fac=function(n){return new(n||e)(ne(Gi),ne(c4),ne(d4))};static#e=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})()},{provide:QD,useFactory:function qZt(e,i,t){return new KZt(e,i,t)},deps:[RI,q1,di]}],D4=[{provide:c4,useFactory:()=>new tnt},{provide:Hr,useValue:"BrowserAnimations"},...nnt],rnt=[{provide:c4,useClass:l4},{provide:Hr,useValue:"NoopAnimations"},...nnt];let tJt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?rnt:D4}}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({providers:D4,imports:[iz]})}return e})(),eJt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[nn,nn]})}return e})(),kJt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[Nk,sd,nn,Qg,kH,eJt]})}return e})(),zJt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e});static#i=this.\u0275inj=Bi({imports:[nn,Qg]})}return e})();hm("firebase","10.12.3","app"),IX({apiKey:"AIzaSyAFjiIuMBA1IpTrw__WdkQiK5PKht4_go8",authDomain:"snoguess-e4d1c.firebaseapp.com",projectId:"snoguess-e4d1c",storageBucket:"snoguess-e4d1c.appspot.com",messagingSenderId:"289449411190",appId:"1:289449411190:web:49ff68411f9e5148f11557"});let WJt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=zi({type:e,bootstrap:[uKt]});static#i=this.\u0275inj=Bi({imports:[mbt,iz,JSt,l6t,tJt,uAt,WQt,Kk,Zwt,u_t,Uwt,eMt,GC,BCt,v_t,WCt,WTt,QSt,S_t,Q_t,qW,VR,rj,REt,GAt,KAt,SAt,o2t,kJt,nDt,VR,qQt,zJt,yDt]})}return e})();xvt().bootstrapModule(WJt).catch(e=>console.error(e))},1867:(Wt,he,It)=>{const Xt=It(6293).a,Mt=It(7687).array;Wt.exports=class C{constructor(a={}){Object.assign(this,{list:a.emptyList&&[]||Array.prototype.concat.apply(Xt,[Mt,a.list||[]]),exclude:a.exclude||[],splitRegex:a.splitRegex||/\b/,placeHolder:a.placeHolder||"*",regex:a.regex||/[^a-zA-Z0-9|\$|\@]|\^/g,replaceRegex:a.replaceRegex||/\w/g})}isProfane(a){return this.list.filter(y=>{const T=new RegExp(`\\b${y.replace(/(\W)/g,"\\$1")}\\b`,"gi");return!this.exclude.includes(y.toLowerCase())&&T.test(a)}).length>0||!1}replaceWord(a){return a.replace(this.regex,"").replace(this.replaceRegex,this.placeHolder)}clean(a){return a.split(this.splitRegex).map(y=>this.isProfane(y)?this.replaceWord(y):y).join(this.splitRegex.exec(a)[0])}addWords(){let a=Array.from(arguments);this.list.push(...a),a.map(y=>y.toLowerCase()).forEach(y=>{this.exclude.includes(y)&&this.exclude.splice(this.exclude.indexOf(y),1)})}removeWords(){this.exclude.push(...Array.from(arguments).map(a=>a.toLowerCase()))}}},8402:Wt=>{Wt.exports=["4r5e","5h1t","5hit","a55","anal","anus","ar5e","arrse","arse","ass","ass-fucker","asses","assfucker","assfukka","asshole","assholes","asswhole","a_s_s","b!tch","b00bs","b17ch","b1tch","ballbag","balls","ballsack","bastard","beastial","beastiality","bellend","bestial","bestiality","bi+ch","biatch","bitch","bitcher","bitchers","bitches","bitchin","bitching","bloody","blow job","blowjob","blowjobs","boiolas","bollock","bollok","boner","boob","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bum","bunny fucker","butt","butthole","buttmuch","buttplug","c0ck","c0cksucker","carpet muncher","cawk","chink","cipa","cl1t","clit","clitoris","clits","cnut","cock","cock-sucker","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","coon","cox","crap","cum","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlick","cuntlicker","cuntlicking","cunts","cyalis","cyberfuc","cyberfuck","cyberfucked","cyberfucker","cyberfuckers","cyberfucking","d1ck","damn","dick","dickhead","dildo","dildos","dink","dinks","dirsa","dlck","dog-fucker","doggin","dogging","donkeyribber","doosh","duche","dyke","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","f u c k","f u c k e r","f4nny","fag","fagging","faggitt","faggot","faggs","fagot","fagots","fags","fanny","fannyflaps","fannyfucker","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felching","fellate","fellatio","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","flange","fook","fooker","fuck","fucka","fucked","fucker","fuckers","fuckhead","fuckheads","fuckin","fucking","fuckings","fuckingshitmotherfucker","fuckme","fucks","fuckwhit","fuckwit","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fux","fux0r","f_u_c_k","gangbang","gangbanged","gangbangs","gaylord","gaysex","goatse","God","god-dam","god-damned","goddamn","goddamned","hardcoresex","hell","heshe","hoar","hoare","hoer","homo","hore","horniest","horny","hotsex","jack-off","jackoff","jap","jerk-off","jism","jiz","jizm","jizz","kawk","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lust","lusting","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","masochist","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","masturbate","mo-fo","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","mother fucker","motherfuck","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","muff","mutha","muthafecker","muthafuckker","muther","mutherfucker","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nob jokey","nobhead","nobjocky","nobjokey","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","p0rn","pawn","pecker","penis","penisfucker","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","pigfucker","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","rectum","retard","rimjaw","rimming","s hit","s.o.b.","sadist","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale","shi+","shit","shitdick","shite","shited","shitey","shitfuck","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","skank","slut","sluts","smegma","smut","snatch","son-of-a-bitch","spac","spunk","s_h_i_t","t1tt1e5","t1tties","teets","teez","testical","testicle","tit","titfuck","tits","titt","tittie5","tittiefucker","titties","tittyfuck","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wang","wank","wanker","wanky","whoar","whore","willies","willy","xrated","xxx"]},7687:(Wt,he,It)=>{Wt.exports={object:It(424),array:It(8402),regex:It(6658)}},424:Wt=>{Wt.exports={"4r5e":1,"5h1t":1,"5hit":1,a55:1,anal:1,anus:1,ar5e:1,arrse:1,arse:1,ass:1,"ass-fucker":1,asses:1,assfucker:1,assfukka:1,asshole:1,assholes:1,asswhole:1,a_s_s:1,"b!tch":1,b00bs:1,b17ch:1,b1tch:1,ballbag:1,balls:1,ballsack:1,bastard:1,beastial:1,beastiality:1,bellend:1,bestial:1,bestiality:1,"bi+ch":1,biatch:1,bitch:1,bitcher:1,bitchers:1,bitches:1,bitchin:1,bitching:1,bloody:1,"blow job":1,blowjob:1,blowjobs:1,boiolas:1,bollock:1,bollok:1,boner:1,boob:1,boobs:1,booobs:1,boooobs:1,booooobs:1,booooooobs:1,breasts:1,buceta:1,bugger:1,bum:1,"bunny fucker":1,butt:1,butthole:1,buttmuch:1,buttplug:1,c0ck:1,c0cksucker:1,"carpet muncher":1,cawk:1,chink:1,cipa:1,cl1t:1,clit:1,clitoris:1,clits:1,cnut:1,cock:1,"cock-sucker":1,cockface:1,cockhead:1,cockmunch:1,cockmuncher:1,cocks:1,cocksuck:1,cocksucked:1,cocksucker:1,cocksucking:1,cocksucks:1,cocksuka:1,cocksukka:1,cok:1,cokmuncher:1,coksucka:1,coon:1,cox:1,crap:1,cum:1,cummer:1,cumming:1,cums:1,cumshot:1,cunilingus:1,cunillingus:1,cunnilingus:1,cunt:1,cuntlick:1,cuntlicker:1,cuntlicking:1,cunts:1,cyalis:1,cyberfuc:1,cyberfuck:1,cyberfucked:1,cyberfucker:1,cyberfuckers:1,cyberfucking:1,d1ck:1,damn:1,dick:1,dickhead:1,dildo:1,dildos:1,dink:1,dinks:1,dirsa:1,dlck:1,"dog-fucker":1,doggin:1,dogging:1,donkeyribber:1,doosh:1,duche:1,dyke:1,ejaculate:1,ejaculated:1,ejaculates:1,ejaculating:1,ejaculatings:1,ejaculation:1,ejakulate:1,"f u c k":1,"f u c k e r":1,f4nny:1,fag:1,fagging:1,faggitt:1,faggot:1,faggs:1,fagot:1,fagots:1,fags:1,fanny:1,fannyflaps:1,fannyfucker:1,fanyy:1,fatass:1,fcuk:1,fcuker:1,fcuking:1,feck:1,fecker:1,felching:1,fellate:1,fellatio:1,fingerfuck:1,fingerfucked:1,fingerfucker:1,fingerfuckers:1,fingerfucking:1,fingerfucks:1,fistfuck:1,fistfucked:1,fistfucker:1,fistfuckers:1,fistfucking:1,fistfuckings:1,fistfucks:1,flange:1,fook:1,fooker:1,fuck:1,fucka:1,fucked:1,fucker:1,fuckers:1,fuckhead:1,fuckheads:1,fuckin:1,fucking:1,fuckings:1,fuckingshitmotherfucker:1,fuckme:1,fucks:1,fuckwhit:1,fuckwit:1,"fudge packer":1,fudgepacker:1,fuk:1,fuker:1,fukker:1,fukkin:1,fuks:1,fukwhit:1,fukwit:1,fux:1,fux0r:1,f_u_c_k:1,gangbang:1,gangbanged:1,gangbangs:1,gaylord:1,gaysex:1,goatse:1,God:1,"god-dam":1,"god-damned":1,goddamn:1,goddamned:1,hardcoresex:1,hell:1,heshe:1,hoar:1,hoare:1,hoer:1,homo:1,hore:1,horniest:1,horny:1,hotsex:1,"jack-off":1,jackoff:1,jap:1,"jerk-off":1,jism:1,jiz:1,jizm:1,jizz:1,kawk:1,knob:1,knobead:1,knobed:1,knobend:1,knobhead:1,knobjocky:1,knobjokey:1,kock:1,kondum:1,kondums:1,kum:1,kummer:1,kumming:1,kums:1,kunilingus:1,"l3i+ch":1,l3itch:1,labia:1,lust:1,lusting:1,m0f0:1,m0fo:1,m45terbate:1,ma5terb8:1,ma5terbate:1,masochist:1,"master-bate":1,masterb8:1,"masterbat*":1,masterbat3:1,masterbate:1,masterbation:1,masterbations:1,masturbate:1,"mo-fo":1,mof0:1,mofo:1,mothafuck:1,mothafucka:1,mothafuckas:1,mothafuckaz:1,mothafucked:1,mothafucker:1,mothafuckers:1,mothafuckin:1,mothafucking:1,mothafuckings:1,mothafucks:1,"mother fucker":1,motherfuck:1,motherfucked:1,motherfucker:1,motherfuckers:1,motherfuckin:1,motherfucking:1,motherfuckings:1,motherfuckka:1,motherfucks:1,muff:1,mutha:1,muthafecker:1,muthafuckker:1,muther:1,mutherfucker:1,n1gga:1,n1gger:1,nazi:1,nigg3r:1,nigg4h:1,nigga:1,niggah:1,niggas:1,niggaz:1,nigger:1,niggers:1,nob:1,"nob jokey":1,nobhead:1,nobjocky:1,nobjokey:1,numbnuts:1,nutsack:1,orgasim:1,orgasims:1,orgasm:1,orgasms:1,p0rn:1,pawn:1,pecker:1,penis:1,penisfucker:1,phonesex:1,phuck:1,phuk:1,phuked:1,phuking:1,phukked:1,phukking:1,phuks:1,phuq:1,pigfucker:1,pimpis:1,piss:1,pissed:1,pisser:1,pissers:1,pisses:1,pissflaps:1,pissin:1,pissing:1,pissoff:1,poop:1,porn:1,porno:1,pornography:1,pornos:1,prick:1,pricks:1,pron:1,pube:1,pusse:1,pussi:1,pussies:1,pussy:1,pussys:1,rectum:1,retard:1,rimjaw:1,rimming:1,"s hit":1,"s.o.b.":1,sadist:1,schlong:1,screwing:1,scroat:1,scrote:1,scrotum:1,semen:1,sex:1,"sh!+":1,"sh!t":1,sh1t:1,shag:1,shagger:1,shaggin:1,shagging:1,shemale:1,"shi+":1,shit:1,shitdick:1,shite:1,shited:1,shitey:1,shitfuck:1,shitfull:1,shithead:1,shiting:1,shitings:1,shits:1,shitted:1,shitter:1,shitters:1,shitting:1,shittings:1,shitty:1,skank:1,slut:1,sluts:1,smegma:1,smut:1,snatch:1,"son-of-a-bitch":1,spac:1,spunk:1,s_h_i_t:1,t1tt1e5:1,t1tties:1,teets:1,teez:1,testical:1,testicle:1,tit:1,titfuck:1,tits:1,titt:1,tittie5:1,tittiefucker:1,titties:1,tittyfuck:1,tittywank:1,titwank:1,tosser:1,turd:1,tw4t:1,twat:1,twathead:1,twatty:1,twunt:1,twunter:1,v14gra:1,v1gra:1,vagina:1,viagra:1,vulva:1,w00se:1,wang:1,wank:1,wanker:1,wanky:1,whoar:1,whore:1,willies:1,willy:1,xrated:1,xxx:1}},6658:Wt=>{Wt.exports=/\b(4r5e|5h1t|5hit|a55|anal|anus|ar5e|arrse|arse|ass|ass-fucker|asses|assfucker|assfukka|asshole|assholes|asswhole|a_s_s|b!tch|b00bs|b17ch|b1tch|ballbag|balls|ballsack|bastard|beastial|beastiality|bellend|bestial|bestiality|bi\+ch|biatch|bitch|bitcher|bitchers|bitches|bitchin|bitching|bloody|blow job|blowjob|blowjobs|boiolas|bollock|bollok|boner|boob|boobs|booobs|boooobs|booooobs|booooooobs|breasts|buceta|bugger|bum|bunny fucker|butt|butthole|buttmuch|buttplug|c0ck|c0cksucker|carpet muncher|cawk|chink|cipa|cl1t|clit|clitoris|clits|cnut|cock|cock-sucker|cockface|cockhead|cockmunch|cockmuncher|cocks|cocksuck|cocksucked|cocksucker|cocksucking|cocksucks|cocksuka|cocksukka|cok|cokmuncher|coksucka|coon|cox|crap|cum|cummer|cumming|cums|cumshot|cunilingus|cunillingus|cunnilingus|cunt|cuntlick|cuntlicker|cuntlicking|cunts|cyalis|cyberfuc|cyberfuck|cyberfucked|cyberfucker|cyberfuckers|cyberfucking|d1ck|damn|dick|dickhead|dildo|dildos|dink|dinks|dirsa|dlck|dog-fucker|doggin|dogging|donkeyribber|doosh|duche|dyke|ejaculate|ejaculated|ejaculates|ejaculating|ejaculatings|ejaculation|ejakulate|f u c k|f u c k e r|f4nny|fag|fagging|faggitt|faggot|faggs|fagot|fagots|fags|fanny|fannyflaps|fannyfucker|fanyy|fatass|fcuk|fcuker|fcuking|feck|fecker|felching|fellate|fellatio|fingerfuck|fingerfucked|fingerfucker|fingerfuckers|fingerfucking|fingerfucks|fistfuck|fistfucked|fistfucker|fistfuckers|fistfucking|fistfuckings|fistfucks|flange|fook|fooker|fuck|fucka|fucked|fucker|fuckers|fuckhead|fuckheads|fuckin|fucking|fuckings|fuckingshitmotherfucker|fuckme|fucks|fuckwhit|fuckwit|fudge packer|fudgepacker|fuk|fuker|fukker|fukkin|fuks|fukwhit|fukwit|fux|fux0r|f_u_c_k|gangbang|gangbanged|gangbangs|gaylord|gaysex|goatse|God|god-dam|god-damned|goddamn|goddamned|hardcoresex|hell|heshe|hoar|hoare|hoer|homo|hore|horniest|horny|hotsex|jack-off|jackoff|jap|jerk-off|jism|jiz|jizm|jizz|kawk|knob|knobead|knobed|knobend|knobhead|knobjocky|knobjokey|kock|kondum|kondums|kum|kummer|kumming|kums|kunilingus|l3i\+ch|l3itch|labia|lust|lusting|m0f0|m0fo|m45terbate|ma5terb8|ma5terbate|masochist|master-bate|masterb8|masterbat*|masterbat3|masterbate|masterbation|masterbations|masturbate|mo-fo|mof0|mofo|mothafuck|mothafucka|mothafuckas|mothafuckaz|mothafucked|mothafucker|mothafuckers|mothafuckin|mothafucking|mothafuckings|mothafucks|mother fucker|motherfuck|motherfucked|motherfucker|motherfuckers|motherfuckin|motherfucking|motherfuckings|motherfuckka|motherfucks|muff|mutha|muthafecker|muthafuckker|muther|mutherfucker|n1gga|n1gger|nazi|nigg3r|nigg4h|nigga|niggah|niggas|niggaz|nigger|niggers|nob|nob jokey|nobhead|nobjocky|nobjokey|numbnuts|nutsack|orgasim|orgasims|orgasm|orgasms|p0rn|pawn|pecker|penis|penisfucker|phonesex|phuck|phuk|phuked|phuking|phukked|phukking|phuks|phuq|pigfucker|pimpis|piss|pissed|pisser|pissers|pisses|pissflaps|pissin|pissing|pissoff|poop|porn|porno|pornography|pornos|prick|pricks|pron|pube|pusse|pussi|pussies|pussy|pussys|rectum|retard|rimjaw|rimming|s hit|s.o.b.|sadist|schlong|screwing|scroat|scrote|scrotum|semen|sex|sh!\+|sh!t|sh1t|shag|shagger|shaggin|shagging|shemale|shi\+|shit|shitdick|shite|shited|shitey|shitfuck|shitfull|shithead|shiting|shitings|shits|shitted|shitter|shitters|shitting|shittings|shitty|skank|slut|sluts|smegma|smut|snatch|son-of-a-bitch|spac|spunk|s_h_i_t|t1tt1e5|t1tties|teets|teez|testical|testicle|tit|titfuck|tits|titt|tittie5|tittiefucker|titties|tittyfuck|tittywank|titwank|tosser|turd|tw4t|twat|twathead|twatty|twunt|twunter|v14gra|v1gra|vagina|viagra|vulva|w00se|wang|wank|wanker|wanky|whoar|whore|willies|willy|xrated|xxx)\b/gi},2578:function(Wt,he){var It,Mt;void 0!==(Mt="function"==typeof(It=function(){"use strict";function k(h,c,u){var p=new XMLHttpRequest;p.open("GET",h),p.responseType="blob",p.onload=function(){f(p.response,c,u)},p.onerror=function(){console.error("could not download file")},p.send()}function a(h){var c=new XMLHttpRequest;c.open("HEAD",h,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function y(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(c)}}var T="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,m=T.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=T.saveAs||("object"!=typeof window||window!==T?function(){}:"download"in HTMLAnchorElement.prototype&&!m?function(h,c,u){var p=T.URL||T.webkitURL,d=document.createElement("a");d.download=c=c||h.name||"download",d.rel="noopener","string"==typeof h?(d.href=h,d.origin===location.origin?y(d):a(d.href)?k(h,c,u):y(d,d.target="_blank")):(d.href=p.createObjectURL(h),setTimeout(function(){p.revokeObjectURL(d.href)},4e4),setTimeout(function(){y(d)},0))}:"msSaveOrOpenBlob"in navigator?function(h,c,u){if(c=c||h.name||"download","string"!=typeof h)navigator.msSaveOrOpenBlob(function C(h,c){return typeof c>"u"?c={autoBom:!1}:"object"!=typeof c&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\ufeff",h],{type:h.type}):h}(h,u),c);else if(a(h))k(h,c,u);else{var p=document.createElement("a");p.href=h,p.target="_blank",setTimeout(function(){y(p)})}}:function(h,c,u,p){if((p=p||open("","_blank"))&&(p.document.title=p.document.body.innerText="downloading..."),"string"==typeof h)return k(h,c,u);var d="application/octet-stream"===h.type,g=/constructor/i.test(T.HTMLElement)||T.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||d&&g||m)&&typeof FileReader<"u"){var x=new FileReader;x.onloadend=function(){var E=x.result;E=v?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=E:location=E,p=null},x.readAsDataURL(h)}else{var b=T.URL||T.webkitURL,_=b.createObjectURL(h);p?p.location=_:location.href=_,p=null,setTimeout(function(){b.revokeObjectURL(_)},4e4)}});T.saveAs=f.saveAs=f,Wt.exports=f})?It.apply(he,[]):It)&&(Wt.exports=Mt)},5013:(Wt,he,It)=>{var C=It(4385)(It(1464),"DataView");Wt.exports=C},3028:(Wt,he,It)=>{var Xt=It(6399),Mt=It(1483),C=It(3434),k=It(5230),a=It(3718);function y(T){var m=-1,f=null==T?0:T.length;for(this.clear();++m<f;){var h=T[m];this.set(h[0],h[1])}}y.prototype.clear=Xt,y.prototype.delete=Mt,y.prototype.get=C,y.prototype.has=k,y.prototype.set=a,Wt.exports=y},5752:(Wt,he,It)=>{var Xt=It(3643),Mt=It(7103),C=It(62),k=It(1610),a=It(1090);function y(T){var m=-1,f=null==T?0:T.length;for(this.clear();++m<f;){var h=T[m];this.set(h[0],h[1])}}y.prototype.clear=Xt,y.prototype.delete=Mt,y.prototype.get=C,y.prototype.has=k,y.prototype.set=a,Wt.exports=y},1012:(Wt,he,It)=>{var C=It(4385)(It(1464),"Map");Wt.exports=C},752:(Wt,he,It)=>{var Xt=It(1891),Mt=It(2759),C=It(7766),k=It(322),a=It(7258);function y(T){var m=-1,f=null==T?0:T.length;for(this.clear();++m<f;){var h=T[m];this.set(h[0],h[1])}}y.prototype.clear=Xt,y.prototype.delete=Mt,y.prototype.get=C,y.prototype.has=k,y.prototype.set=a,Wt.exports=y},1339:(Wt,he,It)=>{var C=It(4385)(It(1464),"Promise");Wt.exports=C},7814:(Wt,he,It)=>{var C=It(4385)(It(1464),"Set");Wt.exports=C},6898:(Wt,he,It)=>{var Xt=It(5752),Mt=It(8945),C=It(8425),k=It(5280),a=It(324),y=It(4516);function T(m){var f=this.__data__=new Xt(m);this.size=f.size}T.prototype.clear=Mt,T.prototype.delete=C,T.prototype.get=k,T.prototype.has=a,T.prototype.set=y,Wt.exports=T},8516:(Wt,he,It)=>{var Xt=It(1464);Wt.exports=Xt.Symbol},2737:(Wt,he,It)=>{var Xt=It(1464);Wt.exports=Xt.Uint8Array},2248:(Wt,he,It)=>{var C=It(4385)(It(1464),"WeakMap");Wt.exports=C},5558:Wt=>{Wt.exports=function he(It,Xt){for(var Mt=-1,C=null==It?0:It.length;++Mt<C&&!1!==Xt(It[Mt],Mt,It););return It}},2873:Wt=>{Wt.exports=function he(It,Xt){for(var Mt=-1,C=null==It?0:It.length,k=0,a=[];++Mt<C;){var y=It[Mt];Xt(y,Mt,It)&&(a[k++]=y)}return a}},8548:(Wt,he,It)=>{var Xt=It(9695),Mt=It(6265),C=It(9812),k=It(3151),a=It(8426),y=It(1028),m=Object.prototype.hasOwnProperty;Wt.exports=function f(h,c){var u=C(h),p=!u&&Mt(h),d=!u&&!p&&k(h),g=!u&&!p&&!d&&y(h),v=u||p||d||g,x=v?Xt(h.length,String):[],b=x.length;for(var _ in h)(c||m.call(h,_))&&(!v||!("length"==_||d&&("offset"==_||"parent"==_)||g&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||a(_,b)))&&x.push(_);return x}},6319:Wt=>{Wt.exports=function he(It,Xt){for(var Mt=-1,C=Xt.length,k=It.length;++Mt<C;)It[k+Mt]=Xt[Mt];return It}},9220:(Wt,he,It)=>{var Xt=It(4399),Mt=It(2651),k=Object.prototype.hasOwnProperty;Wt.exports=function a(y,T,m){var f=y[T];(!k.call(y,T)||!Mt(f,m)||void 0===m&&!(T in y))&&Xt(y,T,m)}},6316:(Wt,he,It)=>{var Xt=It(2651);Wt.exports=function Mt(C,k){for(var a=C.length;a--;)if(Xt(C[a][0],k))return a;return-1}},8336:(Wt,he,It)=>{var Xt=It(3190),Mt=It(2561);Wt.exports=function C(k,a){return k&&Xt(a,Mt(a),k)}},6303:(Wt,he,It)=>{var Xt=It(3190),Mt=It(7674);Wt.exports=function C(k,a){return k&&Xt(a,Mt(a),k)}},4399:(Wt,he,It)=>{var Xt=It(4678);Wt.exports=function Mt(C,k,a){"__proto__"==k&&Xt?Xt(C,k,{configurable:!0,enumerable:!0,value:a,writable:!0}):C[k]=a}},5052:(Wt,he,It)=>{var Xt=It(6898),Mt=It(5558),C=It(9220),k=It(8336),a=It(6303),y=It(7697),T=It(5820),m=It(5308),f=It(7491),h=It(3539),c=It(9088),u=It(828),p=It(9900),d=It(9686),g=It(2870),v=It(9812),x=It(3151),b=It(6879),_=It(3278),E=It(4257),A=It(2561),D=It(7674),L="[object Arguments]",H="[object Function]",lt="[object Object]",Xe={};Xe[L]=Xe["[object Array]"]=Xe["[object ArrayBuffer]"]=Xe["[object DataView]"]=Xe["[object Boolean]"]=Xe["[object Date]"]=Xe["[object Float32Array]"]=Xe["[object Float64Array]"]=Xe["[object Int8Array]"]=Xe["[object Int16Array]"]=Xe["[object Int32Array]"]=Xe["[object Map]"]=Xe["[object Number]"]=Xe[lt]=Xe["[object RegExp]"]=Xe["[object Set]"]=Xe["[object String]"]=Xe["[object Symbol]"]=Xe["[object Uint8Array]"]=Xe["[object Uint8ClampedArray]"]=Xe["[object Uint16Array]"]=Xe["[object Uint32Array]"]=!0,Xe["[object Error]"]=Xe[H]=Xe["[object WeakMap]"]=!1,Wt.exports=function Re($e,Ce,Je,ii,Ni,Ji){var an,on=1&Ce,dn=2&Ce,Mr=4&Ce;if(Je&&(an=Ni?Je($e,ii,Ni,Ji):Je($e)),void 0!==an)return an;if(!_($e))return $e;var Ur=v($e);if(Ur){if(an=p($e),!on)return T($e,an)}else{var un=u($e),sr=un==H||"[object GeneratorFunction]"==un;if(x($e))return y($e,on);if(un==lt||un==L||sr&&!Ni){if(an=dn||sr?{}:g($e),!on)return dn?f($e,a(an,$e)):m($e,k(an,$e))}else{if(!Xe[un])return Ni?$e:{};an=d($e,un,on)}}Ji||(Ji=new Xt);var Or=Ji.get($e);if(Or)return Or;Ji.set($e,an),E($e)?$e.forEach(function($s){an.add(Re($s,Ce,Je,$s,$e,Ji))}):b($e)&&$e.forEach(function($s,Ba){an.set(Ba,Re($s,Ce,Je,Ba,$e,Ji))});var zl=Ur?void 0:(Mr?dn?c:h:dn?D:A)($e);return Mt(zl||$e,function($s,Ba){zl&&($s=$e[Ba=$s]),C(an,Ba,Re($s,Ce,Je,Ba,$e,Ji))}),an}},9593:(Wt,he,It)=>{var Xt=It(3278),Mt=Object.create;Wt.exports=function(){function k(){}return function(a){if(!Xt(a))return{};if(Mt)return Mt(a);k.prototype=a;var y=new k;return k.prototype=void 0,y}}()},9926:(Wt,he,It)=>{var Xt=It(6319),Mt=It(9812);Wt.exports=function C(k,a,y){var T=a(k);return Mt(k)?T:Xt(T,y(k))}},1057:(Wt,he,It)=>{var Xt=It(8516),Mt=It(8488),C=It(3327),y=Xt?Xt.toStringTag:void 0;Wt.exports=function T(m){return null==m?void 0===m?"[object Undefined]":"[object Null]":y&&y in Object(m)?Mt(m):C(m)}},8313:(Wt,he,It)=>{var Xt=It(1057),Mt=It(7433);Wt.exports=function k(a){return Mt(a)&&"[object Arguments]"==Xt(a)}},6095:(Wt,he,It)=>{var Xt=It(828),Mt=It(7433);Wt.exports=function k(a){return Mt(a)&&"[object Map]"==Xt(a)}},298:(Wt,he,It)=>{var Xt=It(8653),Mt=It(8401),C=It(3278),k=It(8020),y=/^\[object .+?Constructor\]$/,c=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");Wt.exports=function u(p){return!(!C(p)||Mt(p))&&(Xt(p)?c:y).test(k(p))}},1889:(Wt,he,It)=>{var Xt=It(828),Mt=It(7433);Wt.exports=function k(a){return Mt(a)&&"[object Set]"==Xt(a)}},8068:(Wt,he,It)=>{var Xt=It(1057),Mt=It(8845),C=It(7433),B={};B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B["[object Arguments]"]=B["[object Array]"]=B["[object ArrayBuffer]"]=B["[object Boolean]"]=B["[object DataView]"]=B["[object Date]"]=B["[object Error]"]=B["[object Function]"]=B["[object Map]"]=B["[object Number]"]=B["[object Object]"]=B["[object RegExp]"]=B["[object Set]"]=B["[object String]"]=B["[object WeakMap]"]=!1,Wt.exports=function G(Q){return C(Q)&&Mt(Q.length)&&!!B[Xt(Q)]}},3809:(Wt,he,It)=>{var Xt=It(3164),Mt=It(6199),k=Object.prototype.hasOwnProperty;Wt.exports=function a(y){if(!Xt(y))return Mt(y);var T=[];for(var m in Object(y))k.call(y,m)&&"constructor"!=m&&T.push(m);return T}},1194:(Wt,he,It)=>{var Xt=It(3278),Mt=It(3164),C=It(908),a=Object.prototype.hasOwnProperty;Wt.exports=function y(T){if(!Xt(T))return C(T);var m=Mt(T),f=[];for(var h in T)"constructor"==h&&(m||!a.call(T,h))||f.push(h);return f}},9695:Wt=>{Wt.exports=function he(It,Xt){for(var Mt=-1,C=Array(It);++Mt<It;)C[Mt]=Xt(Mt);return C}},2502:Wt=>{Wt.exports=function he(It){return function(Xt){return It(Xt)}}},6220:(Wt,he,It)=>{var Xt=It(2737);Wt.exports=function Mt(C){var k=new C.constructor(C.byteLength);return new Xt(k).set(new Xt(C)),k}},7697:(Wt,he,It)=>{Wt=It.nmd(Wt);var Xt=It(1464),Mt=he&&!he.nodeType&&he,C=Mt&&Wt&&!Wt.nodeType&&Wt,a=C&&C.exports===Mt?Xt.Buffer:void 0,y=a?a.allocUnsafe:void 0;Wt.exports=function T(m,f){if(f)return m.slice();var h=m.length,c=y?y(h):new m.constructor(h);return m.copy(c),c}},5942:(Wt,he,It)=>{var Xt=It(6220);Wt.exports=function Mt(C,k){var a=k?Xt(C.buffer):C.buffer;return new C.constructor(a,C.byteOffset,C.byteLength)}},8466:Wt=>{var he=/\w*$/;Wt.exports=function It(Xt){var Mt=new Xt.constructor(Xt.source,he.exec(Xt));return Mt.lastIndex=Xt.lastIndex,Mt}},4511:(Wt,he,It)=>{var Xt=It(8516),Mt=Xt?Xt.prototype:void 0,C=Mt?Mt.valueOf:void 0;Wt.exports=function k(a){return C?Object(C.call(a)):{}}},1334:(Wt,he,It)=>{var Xt=It(6220);Wt.exports=function Mt(C,k){var a=k?Xt(C.buffer):C.buffer;return new C.constructor(a,C.byteOffset,C.length)}},5820:Wt=>{Wt.exports=function he(It,Xt){var Mt=-1,C=It.length;for(Xt||(Xt=Array(C));++Mt<C;)Xt[Mt]=It[Mt];return Xt}},3190:(Wt,he,It)=>{var Xt=It(9220),Mt=It(4399);Wt.exports=function C(k,a,y,T){var m=!y;y||(y={});for(var f=-1,h=a.length;++f<h;){var c=a[f],u=T?T(y[c],k[c],c,y,k):void 0;void 0===u&&(u=k[c]),m?Mt(y,c,u):Xt(y,c,u)}return y}},5308:(Wt,he,It)=>{var Xt=It(3190),Mt=It(181);Wt.exports=function C(k,a){return Xt(k,Mt(k),a)}},7491:(Wt,he,It)=>{var Xt=It(3190),Mt=It(5254);Wt.exports=function C(k,a){return Xt(k,Mt(k),a)}},336:(Wt,he,It)=>{var Xt=It(1464);Wt.exports=Xt["__core-js_shared__"]},4678:(Wt,he,It)=>{var Xt=It(4385),Mt=function(){try{var C=Xt(Object,"defineProperty");return C({},"",{}),C}catch{}}();Wt.exports=Mt},8657:Wt=>{var he="object"==typeof global&&global&&global.Object===Object&&global;Wt.exports=he},3539:(Wt,he,It)=>{var Xt=It(9926),Mt=It(181),C=It(2561);Wt.exports=function k(a){return Xt(a,C,Mt)}},9088:(Wt,he,It)=>{var Xt=It(9926),Mt=It(5254),C=It(7674);Wt.exports=function k(a){return Xt(a,C,Mt)}},9038:(Wt,he,It)=>{var Xt=It(3329);Wt.exports=function Mt(C,k){var a=C.__data__;return Xt(k)?a["string"==typeof k?"string":"hash"]:a.map}},4385:(Wt,he,It)=>{var Xt=It(298),Mt=It(8737);Wt.exports=function C(k,a){var y=Mt(k,a);return Xt(y)?y:void 0}},6902:(Wt,he,It)=>{var Mt=It(2852)(Object.getPrototypeOf,Object);Wt.exports=Mt},8488:(Wt,he,It)=>{var Xt=It(8516),Mt=Object.prototype,C=Mt.hasOwnProperty,k=Mt.toString,a=Xt?Xt.toStringTag:void 0;Wt.exports=function y(T){var m=C.call(T,a),f=T[a];try{T[a]=void 0;var h=!0}catch{}var c=k.call(T);return h&&(m?T[a]=f:delete T[a]),c}},181:(Wt,he,It)=>{var Xt=It(2873),Mt=It(2260),k=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;Wt.exports=a?function(T){return null==T?[]:(T=Object(T),Xt(a(T),function(m){return k.call(T,m)}))}:Mt},5254:(Wt,he,It)=>{var Xt=It(6319),Mt=It(6902),C=It(181),k=It(2260);Wt.exports=Object.getOwnPropertySymbols?function(T){for(var m=[];T;)Xt(m,C(T)),T=Mt(T);return m}:k},828:(Wt,he,It)=>{var Xt=It(5013),Mt=It(1012),C=It(1339),k=It(7814),a=It(2248),y=It(1057),T=It(8020),m="[object Map]",h="[object Promise]",c="[object Set]",u="[object WeakMap]",p="[object DataView]",d=T(Xt),g=T(Mt),v=T(C),x=T(k),b=T(a),_=y;(Xt&&_(new Xt(new ArrayBuffer(1)))!=p||Mt&&_(new Mt)!=m||C&&_(C.resolve())!=h||k&&_(new k)!=c||a&&_(new a)!=u)&&(_=function(E){var A=y(E),D="[object Object]"==A?E.constructor:void 0,I=D?T(D):"";if(I)switch(I){case d:return p;case g:return m;case v:return h;case x:return c;case b:return u}return A}),Wt.exports=_},8737:Wt=>{Wt.exports=function he(It,Xt){return It?.[Xt]}},6399:(Wt,he,It)=>{var Xt=It(8247);Wt.exports=function Mt(){this.__data__=Xt?Xt(null):{},this.size=0}},1483:Wt=>{Wt.exports=function he(It){var Xt=this.has(It)&&delete this.__data__[It];return this.size-=Xt?1:0,Xt}},3434:(Wt,he,It)=>{var Xt=It(8247),k=Object.prototype.hasOwnProperty;Wt.exports=function a(y){var T=this.__data__;if(Xt){var m=T[y];return"__lodash_hash_undefined__"===m?void 0:m}return k.call(T,y)?T[y]:void 0}},5230:(Wt,he,It)=>{var Xt=It(8247),C=Object.prototype.hasOwnProperty;Wt.exports=function k(a){var y=this.__data__;return Xt?void 0!==y[a]:C.call(y,a)}},3718:(Wt,he,It)=>{var Xt=It(8247);Wt.exports=function C(k,a){var y=this.__data__;return this.size+=this.has(k)?0:1,y[k]=Xt&&void 0===a?"__lodash_hash_undefined__":a,this}},9900:Wt=>{var It=Object.prototype.hasOwnProperty;Wt.exports=function Xt(Mt){var C=Mt.length,k=new Mt.constructor(C);return C&&"string"==typeof Mt[0]&&It.call(Mt,"index")&&(k.index=Mt.index,k.input=Mt.input),k}},9686:(Wt,he,It)=>{var Xt=It(6220),Mt=It(5942),C=It(8466),k=It(4511),a=It(1334);Wt.exports=function F(L,V,B){var G=L.constructor;switch(V){case"[object ArrayBuffer]":return Xt(L);case"[object Boolean]":case"[object Date]":return new G(+L);case"[object DataView]":return Mt(L,B);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(L,B);case"[object Map]":case"[object Set]":return new G;case"[object Number]":case"[object String]":return new G(L);case"[object RegExp]":return C(L);case"[object Symbol]":return k(L)}}},2870:(Wt,he,It)=>{var Xt=It(9593),Mt=It(6902),C=It(3164);Wt.exports=function k(a){return"function"!=typeof a.constructor||C(a)?{}:Xt(Mt(a))}},8426:Wt=>{var It=/^(?:0|[1-9]\d*)$/;Wt.exports=function Xt(Mt,C){var k=typeof Mt;return!!(C=C??9007199254740991)&&("number"==k||"symbol"!=k&&It.test(Mt))&&Mt>-1&&Mt%1==0&&Mt<C}},3329:Wt=>{Wt.exports=function he(It){var Xt=typeof It;return"string"==Xt||"number"==Xt||"symbol"==Xt||"boolean"==Xt?"__proto__"!==It:null===It}},8401:(Wt,he,It)=>{var k,Xt=It(336),Mt=(k=/[^.]+$/.exec(Xt&&Xt.keys&&Xt.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"";Wt.exports=function C(k){return!!Mt&&Mt in k}},3164:Wt=>{var he=Object.prototype;Wt.exports=function It(Xt){var Mt=Xt&&Xt.constructor;return Xt===("function"==typeof Mt&&Mt.prototype||he)}},3643:Wt=>{Wt.exports=function he(){this.__data__=[],this.size=0}},7103:(Wt,he,It)=>{var Xt=It(6316),C=Array.prototype.splice;Wt.exports=function k(a){var y=this.__data__,T=Xt(y,a);return!(T<0||(T==y.length-1?y.pop():C.call(y,T,1),--this.size,0))}},62:(Wt,he,It)=>{var Xt=It(6316);Wt.exports=function Mt(C){var k=this.__data__,a=Xt(k,C);return a<0?void 0:k[a][1]}},1610:(Wt,he,It)=>{var Xt=It(6316);Wt.exports=function Mt(C){return Xt(this.__data__,C)>-1}},1090:(Wt,he,It)=>{var Xt=It(6316);Wt.exports=function Mt(C,k){var a=this.__data__,y=Xt(a,C);return y<0?(++this.size,a.push([C,k])):a[y][1]=k,this}},1891:(Wt,he,It)=>{var Xt=It(3028),Mt=It(5752),C=It(1012);Wt.exports=function k(){this.size=0,this.__data__={hash:new Xt,map:new(C||Mt),string:new Xt}}},2759:(Wt,he,It)=>{var Xt=It(9038);Wt.exports=function Mt(C){var k=Xt(this,C).delete(C);return this.size-=k?1:0,k}},7766:(Wt,he,It)=>{var Xt=It(9038);Wt.exports=function Mt(C){return Xt(this,C).get(C)}},322:(Wt,he,It)=>{var Xt=It(9038);Wt.exports=function Mt(C){return Xt(this,C).has(C)}},7258:(Wt,he,It)=>{var Xt=It(9038);Wt.exports=function Mt(C,k){var a=Xt(this,C),y=a.size;return a.set(C,k),this.size+=a.size==y?0:1,this}},8247:(Wt,he,It)=>{var Mt=It(4385)(Object,"create");Wt.exports=Mt},6199:(Wt,he,It)=>{var Mt=It(2852)(Object.keys,Object);Wt.exports=Mt},908:Wt=>{Wt.exports=function he(It){var Xt=[];if(null!=It)for(var Mt in Object(It))Xt.push(Mt);return Xt}},512:(Wt,he,It)=>{Wt=It.nmd(Wt);var Xt=It(8657),Mt=he&&!he.nodeType&&he,C=Mt&&Wt&&!Wt.nodeType&&Wt,a=C&&C.exports===Mt&&Xt.process,y=function(){try{return C&&C.require&&C.require("util").types||a&&a.binding&&a.binding("util")}catch{}}();Wt.exports=y},3327:Wt=>{var It=Object.prototype.toString;Wt.exports=function Xt(Mt){return It.call(Mt)}},2852:Wt=>{Wt.exports=function he(It,Xt){return function(Mt){return It(Xt(Mt))}}},1464:(Wt,he,It)=>{var Xt=It(8657),Mt="object"==typeof self&&self&&self.Object===Object&&self,C=Xt||Mt||Function("return this")();Wt.exports=C},8945:(Wt,he,It)=>{var Xt=It(5752);Wt.exports=function Mt(){this.__data__=new Xt,this.size=0}},8425:Wt=>{Wt.exports=function he(It){var Xt=this.__data__,Mt=Xt.delete(It);return this.size=Xt.size,Mt}},5280:Wt=>{Wt.exports=function he(It){return this.__data__.get(It)}},324:Wt=>{Wt.exports=function he(It){return this.__data__.has(It)}},4516:(Wt,he,It)=>{var Xt=It(5752),Mt=It(1012),C=It(752);Wt.exports=function a(y,T){var m=this.__data__;if(m instanceof Xt){var f=m.__data__;if(!Mt||f.length<199)return f.push([y,T]),this.size=++m.size,this;m=this.__data__=new C(f)}return m.set(y,T),this.size=m.size,this}},8020:Wt=>{var It=Function.prototype.toString;Wt.exports=function Xt(Mt){if(null!=Mt){try{return It.call(Mt)}catch{}try{return Mt+""}catch{}}return""}},4418:(Wt,he,It)=>{var Xt=It(5052);Wt.exports=function k(a){return Xt(a,5)}},2651:Wt=>{Wt.exports=function he(It,Xt){return It===Xt||It!=It&&Xt!=Xt}},6265:(Wt,he,It)=>{var Xt=It(8313),Mt=It(7433),C=Object.prototype,k=C.hasOwnProperty,a=C.propertyIsEnumerable,y=Xt(function(){return arguments}())?Xt:function(T){return Mt(T)&&k.call(T,"callee")&&!a.call(T,"callee")};Wt.exports=y},9812:Wt=>{Wt.exports=Array.isArray},7291:(Wt,he,It)=>{var Xt=It(8653),Mt=It(8845);Wt.exports=function C(k){return null!=k&&Mt(k.length)&&!Xt(k)}},3151:(Wt,he,It)=>{Wt=It.nmd(Wt);var Xt=It(1464),Mt=It(5710),C=he&&!he.nodeType&&he,k=C&&Wt&&!Wt.nodeType&&Wt,y=k&&k.exports===C?Xt.Buffer:void 0;Wt.exports=(y?y.isBuffer:void 0)||Mt},8653:(Wt,he,It)=>{var Xt=It(1057),Mt=It(3278);Wt.exports=function T(m){if(!Mt(m))return!1;var f=Xt(m);return"[object Function]"==f||"[object GeneratorFunction]"==f||"[object AsyncFunction]"==f||"[object Proxy]"==f}},8845:Wt=>{Wt.exports=function It(Xt){return"number"==typeof Xt&&Xt>-1&&Xt%1==0&&Xt<=9007199254740991}},6879:(Wt,he,It)=>{var Xt=It(6095),Mt=It(2502),C=It(512),k=C&&C.isMap,a=k?Mt(k):Xt;Wt.exports=a},3278:Wt=>{Wt.exports=function he(It){var Xt=typeof It;return null!=It&&("object"==Xt||"function"==Xt)}},7433:Wt=>{Wt.exports=function he(It){return null!=It&&"object"==typeof It}},4257:(Wt,he,It)=>{var Xt=It(1889),Mt=It(2502),C=It(512),k=C&&C.isSet,a=k?Mt(k):Xt;Wt.exports=a},1028:(Wt,he,It)=>{var Xt=It(8068),Mt=It(2502),C=It(512),k=C&&C.isTypedArray,a=k?Mt(k):Xt;Wt.exports=a},2561:(Wt,he,It)=>{var Xt=It(8548),Mt=It(3809),C=It(7291);Wt.exports=function k(a){return C(a)?Xt(a):Mt(a)}},7674:(Wt,he,It)=>{var Xt=It(8548),Mt=It(1194),C=It(7291);Wt.exports=function k(a){return C(a)?Xt(a,!0):Mt(a)}},2260:Wt=>{Wt.exports=function he(){return[]}},5710:Wt=>{Wt.exports=function he(){return!1}},3945:function(Wt){var Xt;Xt=()=>(()=>{var he={50792:C=>{"use strict";var k=Object.prototype.hasOwnProperty,a="~";function y(){}function T(c,u,p){this.fn=c,this.context=u,this.once=p||!1}function m(c,u,p,d,g){if("function"!=typeof p)throw new TypeError("The listener must be a function");var v=new T(p,d||c,g),x=a?a+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],v]:c._events[x].push(v):(c._events[x]=v,c._eventsCount++),c}function f(c,u){0==--c._eventsCount?c._events=new y:delete c._events[u]}function h(){this._events=new y,this._eventsCount=0}Object.create&&(y.prototype=Object.create(null),(new y).__proto__||(a=!1)),h.prototype.eventNames=function(){var p,d,u=[];if(0===this._eventsCount)return u;for(d in p=this._events)k.call(p,d)&&u.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(p)):u},h.prototype.listeners=function(u){var d=this._events[a?a+u:u];if(!d)return[];if(d.fn)return[d.fn];for(var g=0,v=d.length,x=new Array(v);g<v;g++)x[g]=d[g].fn;return x},h.prototype.listenerCount=function(u){var d=this._events[a?a+u:u];return d?d.fn?1:d.length:0},h.prototype.emit=function(u,p,d,g,v,x){var b=a?a+u:u;if(!this._events[b])return!1;var A,D,_=this._events[b],E=arguments.length;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),E){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,d),!0;case 4:return _.fn.call(_.context,p,d,g),!0;case 5:return _.fn.call(_.context,p,d,g,v),!0;case 6:return _.fn.call(_.context,p,d,g,v,x),!0}for(D=1,A=new Array(E-1);D<E;D++)A[D-1]=arguments[D];_.fn.apply(_.context,A)}else{var R,I=_.length;for(D=0;D<I;D++)switch(_[D].once&&this.removeListener(u,_[D].fn,void 0,!0),E){case 1:_[D].fn.call(_[D].context);break;case 2:_[D].fn.call(_[D].context,p);break;case 3:_[D].fn.call(_[D].context,p,d);break;case 4:_[D].fn.call(_[D].context,p,d,g);break;default:if(!A)for(R=1,A=new Array(E-1);R<E;R++)A[R-1]=arguments[R];_[D].fn.apply(_[D].context,A)}}return!0},h.prototype.on=function(u,p,d){return m(this,u,p,d,!1)},h.prototype.once=function(u,p,d){return m(this,u,p,d,!0)},h.prototype.removeListener=function(u,p,d,g){var v=a?a+u:u;if(!this._events[v])return this;if(!p)return f(this,v),this;var x=this._events[v];if(x.fn)x.fn===p&&(!g||x.once)&&(!d||x.context===d)&&f(this,v);else{for(var b=0,_=[],E=x.length;b<E;b++)(x[b].fn!==p||g&&!x[b].once||d&&x[b].context!==d)&&_.push(x[b]);_.length?this._events[v]=1===_.length?_[0]:_:f(this,v)}return this},h.prototype.removeAllListeners=function(u){var p;return u?this._events[p=a?a+u:u]&&f(this,p):(this._events=new y,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=a,h.EventEmitter=h,C.exports=h},11517:(C,k,a)=>{var y=a(38829);C.exports=function(m,f,h,c){for(var u=m[0],p=1;p<m.length;p++){var d=m[p];y(d,u,f,h,c),u=d}return m}},80318:(C,k,a)=>{var y=a(66979);C.exports=function(m,f,h,c,u){return y(m,"angle",f,h,c,u)}},60757:C=>{C.exports=function(a,y,T){for(var m=0;m<a.length;m++)y.call(T,a[m]);return a}},69927:C=>{C.exports=function(a,y,T){void 0===T&&(T=0);for(var m=T;m<a.length;m++){var f=a[m],h=!0;for(var c in y)f[c]!==y[c]&&(h=!1);if(h)return f}return null}},32265:C=>{C.exports=function(a,y,T){void 0===T&&(T=0);for(var m=a.length-1;m>=T;m--){var f=a[m],h=!0;for(var c in y)f[c]!==y[c]&&(h=!1);if(h)return f}return null}},94420:(C,k,a)=>{var y=a(11879),T=a(60461),m=a(95540),f=a(29747),c=new(a(41481))({sys:{queueDepthSort:f,events:{once:f}}},0,0,1,1).setOrigin(0,0);C.exports=function(p,d){void 0===d&&(d={});var g=d.hasOwnProperty("width"),v=d.hasOwnProperty("height"),x=m(d,"width",-1),b=m(d,"height",-1),_=m(d,"cellWidth",1),E=m(d,"cellHeight",_),A=m(d,"position",T.TOP_LEFT),D=m(d,"x",0),I=m(d,"y",0),R=0,F=0,L=x*_,V=b*E;c.setPosition(D,I),c.setSize(_,E);for(var B=0;B<p.length;B++)if(y(p[B],c,A),g&&-1===x)c.x+=_;else if(v&&-1===b)c.y+=E;else if(v&&!g){if(F+=E,c.y+=E,F===V&&(F=0,R+=_,c.y=I,c.x+=_,R===L))break}else if(R+=_,c.x+=_,R===L&&(R=0,F+=E,c.x=D,c.y+=E,F===V))break;return p}},41721:(C,k,a)=>{var y=a(66979);C.exports=function(m,f,h,c,u){return y(m,"alpha",f,h,c,u)}},67285:(C,k,a)=>{var y=a(66979);C.exports=function(m,f,h,c,u){return y(m,"x",f,h,c,u)}},9074:(C,k,a)=>{var y=a(66979);C.exports=function(m,f,h,c,u,p,d){return null==h&&(h=f),y(m,"x",f,c,p,d),y(m,"y",h,u,p,d)}},75222:(C,k,a)=>{var y=a(66979);C.exports=function(m,f,h,c,u){return y(m,"y",f,h,c,u)}},22983:C=>{C.exports=function(a,y,T,m){void 0===T&&(T=0),void 0===m&&(m=6.28);for(var f=T,h=(m-T)/a.length,c=y.x,u=y.y,p=y.radius,d=0;d<a.length;d++)a[d].x=c+p*Math.cos(f),a[d].y=u+p*Math.sin(f),f+=h;return a}},95253:C=>{C.exports=function(a,y,T,m){void 0===T&&(T=0),void 0===m&&(m=6.28);for(var f=T,h=(m-T)/a.length,c=y.width/2,u=y.height/2,p=0;p<a.length;p++)a[p].x=y.x+c*Math.cos(f),a[p].y=y.y+u*Math.sin(f),f+=h;return a}},88505:(C,k,a)=>{var y=a(15258),T=a(26708);C.exports=function(f,h,c){var u;u=c?T(h,c,f.length):y(h,f.length);for(var p=0;p<f.length;p++){var d=f[p],g=u[p];d.x=g.x,d.y=g.y}return f}},41346:(C,k,a)=>{var y=a(14649),T=a(86003),m=a(49498);C.exports=function(h,c,u){void 0===u&&(u=0);var p=y(c,!1,h.length);u>0?T(p,u):u<0&&m(p,Math.abs(u));for(var d=0;d<h.length;d++)h[d].x=p[d].x,h[d].y=p[d].y;return h}},11575:(C,k,a)=>{var y=a(84993);C.exports=function(m,f,h){var c=y({x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2},h),u=y({x1:f.x2,y1:f.y2,x2:f.x3,y2:f.y3},h),p=y({x1:f.x3,y1:f.y3,x2:f.x1,y2:f.y1},h);c.pop(),u.pop(),p.pop();for(var d=(c=c.concat(u,p)).length/m.length,g=0,v=0;v<m.length;v++){var x=m[v],b=c[Math.floor(g)];x.x=b.x,x.y=b.y,g+=d}return m}},29953:C=>{C.exports=function(a,y,T){for(var m=0;m<a.length;m++){var f=a[m];f.anims&&f.anims.play(y,T)}return a}},66979:C=>{C.exports=function(a,y,T,m,f,h){void 0===m&&(m=0),void 0===f&&(f=0),void 0===h&&(h=1);var c,u=0,p=a.length;if(1===h)for(c=f;c<p;c++)a[c][y]+=T+u*m,u++;else for(c=f;c>=0;c--)a[c][y]+=T+u*m,u++;return a}},43967:C=>{C.exports=function(a,y,T,m,f,h){void 0===m&&(m=0),void 0===f&&(f=0),void 0===h&&(h=1);var c,u=0,p=a.length;if(1===h)for(c=f;c<p;c++)a[c][y]=T+u*m,u++;else for(c=f;c>=0;c--)a[c][y]=T+u*m,u++;return a}},88926:(C,k,a)=>{var y=a(28176);C.exports=function(m,f){for(var h=0;h<m.length;h++)y(f,m[h]);return m}},33286:(C,k,a)=>{var y=a(24820);C.exports=function(m,f){for(var h=0;h<m.length;h++)y(f,m[h]);return m}},96e3:(C,k,a)=>{var y=a(65822);C.exports=function(m,f){for(var h=0;h<m.length;h++)y(f,m[h]);return m}},28789:(C,k,a)=>{var y=a(26597);C.exports=function(m,f){for(var h=0;h<m.length;h++)y(f,m[h]);return m}},97154:(C,k,a)=>{var y=a(90260);C.exports=function(m,f){for(var h=0;h<m.length;h++)y(f,m[h]);return m}},20510:(C,k,a)=>{var y=a(66979);C.exports=function(m,f,h,c,u){return y(m,"rotation",f,h,c,u)}},91051:(C,k,a)=>{var y=a(1163),T=a(20339);C.exports=function(f,h,c){for(var u=h.x,p=h.y,d=0;d<f.length;d++){var g=f[d];y(g,u,p,c,Math.max(1,T(g.x,g.y,u,p)))}return f}},76332:(C,k,a)=>{var y=a(1163);C.exports=function(m,f,h,c){var u=f.x,p=f.y;if(0===c)return m;for(var d=0;d<m.length;d++)y(m[d],u,p,h,c);return m}},61619:(C,k,a)=>{var y=a(66979);C.exports=function(m,f,h,c,u){return y(m,"scaleX",f,h,c,u)}},94868:(C,k,a)=>{var y=a(66979);C.exports=function(m,f,h,c,u,p,d){return null==h&&(h=f),y(m,"scaleX",f,c,p,d),y(m,"scaleY",h,u,p,d)}},95532:(C,k,a)=>{var y=a(66979);C.exports=function(m,f,h,c,u){return y(m,"scaleY",f,h,c,u)}},8689:(C,k,a)=>{var y=a(43967);C.exports=function(m,f,h,c,u){return y(m,"alpha",f,h,c,u)}},2645:(C,k,a)=>{var y=a(43967);C.exports=function(m,f,h,c){return y(m,"blendMode",f,0,h,c)}},32372:(C,k,a)=>{var y=a(43967);C.exports=function(m,f,h,c,u){return y(m,"depth",f,h,c,u)}},85373:C=>{C.exports=function(a,y,T){for(var m=0;m<a.length;m++)a[m].setInteractive(y,T);return a}},81583:(C,k,a)=>{var y=a(43967);C.exports=function(m,f,h,c,u,p,d){return null==h&&(h=f),y(m,"originX",f,c,p,d),y(m,"originY",h,u,p,d),m.forEach(function(g){g.updateDisplayOrigin()}),m}},79939:(C,k,a)=>{var y=a(43967);C.exports=function(m,f,h,c,u){return y(m,"rotation",f,h,c,u)}},2699:(C,k,a)=>{var y=a(43967);C.exports=function(m,f,h,c,u,p,d){return null==h&&(h=f),y(m,"scaleX",f,c,p,d),y(m,"scaleY",h,u,p,d)}},98739:(C,k,a)=>{var y=a(43967);C.exports=function(m,f,h,c,u){return y(m,"scaleX",f,h,c,u)}},98476:(C,k,a)=>{var y=a(43967);C.exports=function(m,f,h,c,u){return y(m,"scaleY",f,h,c,u)}},6207:(C,k,a)=>{var y=a(43967);C.exports=function(m,f,h,c,u,p,d){return null==h&&(h=f),y(m,"scrollFactorX",f,c,p,d),y(m,"scrollFactorY",h,u,p,d)}},6607:(C,k,a)=>{var y=a(43967);C.exports=function(m,f,h,c,u){return y(m,"scrollFactorX",f,h,c,u)}},72248:(C,k,a)=>{var y=a(43967);C.exports=function(m,f,h,c,u){return y(m,"scrollFactorY",f,h,c,u)}},14036:C=>{C.exports=function(a,y,T,m,f){for(var h=0;h<a.length;h++)a[h].setTint(y,T,m,f);return a}},50159:(C,k,a)=>{var y=a(43967);C.exports=function(m,f,h,c){return y(m,"visible",f,0,h,c)}},77597:(C,k,a)=>{var y=a(43967);C.exports=function(m,f,h,c,u){return y(m,"x",f,h,c,u)}},83194:(C,k,a)=>{var y=a(43967);C.exports=function(m,f,h,c,u,p,d){return null==h&&(h=f),y(m,"x",f,c,p,d),y(m,"y",h,u,p,d)}},67678:(C,k,a)=>{var y=a(43967);C.exports=function(m,f,h,c,u){return y(m,"y",f,h,c,u)}},35850:(C,k,a)=>{var y=a(26099);C.exports=function(m,f,h,c,u){void 0===c&&(c=0),void 0===u&&(u=new y);var p,d,g=m.length;if(1===g)p=m[0].x,d=m[0].y,m[0].x=f,m[0].y=h;else{var v=1,x=0;0===c&&(x=g-1,v=g-2),p=m[x].x,d=m[x].y,m[x].x=f,m[x].y=h;for(var b=0;b<g;b++)if(!(v>=g||-1===v)){var _=m[v],E=_.x,A=_.y;_.x=p,_.y=d,p=E,d=A,0===c?v--:v++}}return u.x=p,u.y=d,u}},8628:(C,k,a)=>{var y=a(33680);C.exports=function(m){return y(m)}},21837:(C,k,a)=>{var y=a(7602);C.exports=function(m,f,h,c,u){void 0===u&&(u=!1);var d,p=Math.abs(c-h)/m.length;if(u)for(d=0;d<m.length;d++)m[d][f]+=y(d*p,h,c);else for(d=0;d<m.length;d++)m[d][f]=y(d*p,h,c);return m}},21910:(C,k,a)=>{var y=a(54261);C.exports=function(m,f,h,c,u){void 0===u&&(u=!1);var d,p=Math.abs(c-h)/m.length;if(u)for(d=0;d<m.length;d++)m[d][f]+=y(d*p,h,c);else for(d=0;d<m.length;d++)m[d][f]=y(d*p,h,c);return m}},62054:C=>{C.exports=function(a,y,T,m,f){if(void 0===f&&(f=!1),0===a.length)return a;if(1===a.length)return f?a[0][y]+=(m+T)/2:a[0][y]=(m+T)/2,a;var c,h=Math.abs(m-T)/(a.length-1);if(f)for(c=0;c<a.length;c++)a[c][y]+=c*h+T;else for(c=0;c<a.length;c++)a[c][y]=c*h+T;return a}},79815:C=>{C.exports=function(a){for(var y=0;y<a.length;y++)a[y].visible=!a[y].visible;return a}},39665:(C,k,a)=>{var y=a(15994);C.exports=function(m,f,h){void 0===h&&(h=0);for(var c=0;c<m.length;c++){var u=m[c];u.x=y(u.x,f.left-h,f.right+h),u.y=y(u.y,f.top-h,f.bottom+h)}return m}},61061:(C,k,a)=>{C.exports={AlignTo:a(11517),Angle:a(80318),Call:a(60757),GetFirst:a(69927),GetLast:a(32265),GridAlign:a(94420),IncAlpha:a(41721),IncX:a(67285),IncXY:a(9074),IncY:a(75222),PlaceOnCircle:a(22983),PlaceOnEllipse:a(95253),PlaceOnLine:a(88505),PlaceOnRectangle:a(41346),PlaceOnTriangle:a(11575),PlayAnimation:a(29953),PropertyValueInc:a(66979),PropertyValueSet:a(43967),RandomCircle:a(88926),RandomEllipse:a(33286),RandomLine:a(96e3),RandomRectangle:a(28789),RandomTriangle:a(97154),Rotate:a(20510),RotateAround:a(91051),RotateAroundDistance:a(76332),ScaleX:a(61619),ScaleXY:a(94868),ScaleY:a(95532),SetAlpha:a(8689),SetBlendMode:a(2645),SetDepth:a(32372),SetHitArea:a(85373),SetOrigin:a(81583),SetRotation:a(79939),SetScale:a(2699),SetScaleX:a(98739),SetScaleY:a(98476),SetScrollFactor:a(6207),SetScrollFactorX:a(6607),SetScrollFactorY:a(72248),SetTint:a(14036),SetVisible:a(50159),SetX:a(77597),SetXY:a(83194),SetY:a(67678),ShiftPosition:a(35850),Shuffle:a(8628),SmootherStep:a(21910),SmoothStep:a(21837),Spread:a(62054),ToggleVisible:a(79815),WrapInRectangle:a(39665)}},42099:(C,k,a)=>{var y=a(45319),T=a(83419),m=a(74943),f=a(81957),h=a(41138),c=a(35154),u=a(90126),p=new T({initialize:function(g,v,x){this.manager=g,this.key=v,this.type="frame",this.frames=this.getFrames(g.textureManager,c(x,"frames",[]),c(x,"defaultTextureKey",null),c(x,"sortFrames",!0)),this.frameRate=c(x,"frameRate",null),this.duration=c(x,"duration",null),this.skipMissedFrames=c(x,"skipMissedFrames",!0),this.delay=c(x,"delay",0),this.repeat=c(x,"repeat",0),this.repeatDelay=c(x,"repeatDelay",0),this.yoyo=c(x,"yoyo",!1),this.showBeforeDelay=c(x,"showBeforeDelay",!1),this.showOnStart=c(x,"showOnStart",!1),this.hideOnComplete=c(x,"hideOnComplete",!1),this.randomFrame=c(x,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(m.PAUSE_ALL,this.pause,this),this.manager.on(m.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(d,g,v,x){null===v&&null===x?(d.frameRate=24,d.duration=24/g*1e3):v&&null===x?(d.duration=v,d.frameRate=g/(v/1e3)):(d.frameRate=x,d.duration=g/x*1e3),d.msPerFrame=1e3/d.frameRate},addFrame:function(d){return this.addFrameAt(this.frames.length,d)},addFrameAt:function(d,g){var v=this.getFrames(this.manager.textureManager,g);if(v.length>0){if(0===d)this.frames=v.concat(this.frames);else if(d===this.frames.length)this.frames=this.frames.concat(v);else{var x=this.frames.slice(0,d),b=this.frames.slice(d);this.frames=x.concat(v,b)}this.updateFrameSequence()}return this},checkFrame:function(d){return d>=0&&d<this.frames.length},getFirstTick:function(d){d.accumulator=0,d.nextTick=d.currentFrame.duration?d.currentFrame.duration:d.msPerFrame},getFrameAt:function(d){return this.frames[d]},getFrames:function(d,g,v,x){void 0===x&&(x=!0);var _,E,D,I,b=[],A=1;if("string"==typeof g){if(!d.exists(I=g))return console.warn('Texture "%s" not found',I),b;var F=d.get(I).getFrameNames();x&&u(F),g=[],F.forEach(function(H){g.push({key:I,frame:H})})}if(!Array.isArray(g)||0===g.length)return b;for(D=0;D<g.length;D++){var L=g[D],V=c(L,"key",v);if(V){var B=c(L,"frame",0),G=d.getFrame(V,B);if(!G){console.warn('Texture "%s" not found',V);continue}(E=new h(V,B,A,G)).duration=c(L,"duration",0),E.isFirst=!_,_&&(_.nextFrame=E,E.prevFrame=_),b.push(E),_=E,A++}}if(b.length>0){E.isLast=!0,E.nextFrame=b[0],b[0].prevFrame=E;var Q=1/(b.length-1);for(D=0;D<b.length;D++)b[D].progress=D*Q}return b},getNextTick:function(d){d.accumulator-=d.nextTick,d.nextTick=d.currentFrame.duration?d.currentFrame.duration:d.msPerFrame},getFrameByProgress:function(d){return d=y(d,0,1),f(d,this.frames,"progress")},nextFrame:function(d){var g=d.currentFrame;g.isLast?d.yoyo?this.handleYoyoFrame(d,!1):d.repeatCounter>0?d.inReverse&&d.forward?d.forward=!1:this.repeatAnimation(d):d.complete():this.updateAndGetNextTick(d,g.nextFrame)},handleYoyoFrame:function(d,g){if(g||(g=!1),d.inReverse===!g&&d.repeatCounter>0)return(0===d.repeatDelay||d.pendingRepeat)&&(d.forward=g),void this.repeatAnimation(d);d.inReverse===g||0!==d.repeatCounter?(d.forward=g,this.updateAndGetNextTick(d,g?d.currentFrame.nextFrame:d.currentFrame.prevFrame)):d.complete()},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(d){var g=d.currentFrame;g.isFirst?d.yoyo?this.handleYoyoFrame(d,!0):d.repeatCounter>0?(d.inReverse&&!d.forward||(d.forward=!0),this.repeatAnimation(d)):d.complete():this.updateAndGetNextTick(d,g.prevFrame)},updateAndGetNextTick:function(d,g){d.setCurrentFrame(g),this.getNextTick(d)},removeFrame:function(d){var g=this.frames.indexOf(d);return-1!==g&&this.removeFrameAt(g),this},removeFrameAt:function(d){return this.frames.splice(d,1),this.updateFrameSequence(),this},repeatAnimation:function(d){if(2===d._pendingStop){if(0===d._pendingStopValue)return d.stop();d._pendingStopValue--}d.repeatDelay>0&&!d.pendingRepeat?(d.pendingRepeat=!0,d.accumulator-=d.nextTick,d.nextTick+=d.repeatDelay):(d.repeatCounter--,d.setCurrentFrame(d.forward?d.currentFrame.nextFrame:d.currentFrame.prevFrame),d.isPlaying&&(this.getNextTick(d),d.handleRepeat()))},toJSON:function(){var d={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(g){d.frames.push(g.toJSON())}),d},updateFrameSequence:function(){for(var v,d=this.frames.length,g=1/(d-1),x=0;x<d;x++)(v=this.frames[x]).index=x+1,v.isFirst=!1,v.isLast=!1,v.progress=x*g,0===x?(v.isFirst=!0,1===d?(v.isLast=!0,v.nextFrame=v,v.prevFrame=v):(v.isLast=!1,v.prevFrame=this.frames[d-1],v.nextFrame=this.frames[x+1])):x===d-1&&d>1?(v.isLast=!0,v.prevFrame=this.frames[d-2],v.nextFrame=this.frames[0]):d>1&&(v.prevFrame=this.frames[x-1],v.nextFrame=this.frames[x+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(m.PAUSE_ALL,this.pause,this),this.manager.off(m.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var d=0;d<this.frames.length;d++)this.frames[d].destroy();this.frames=[],this.manager=null}});C.exports=p},41138:(C,k,a)=>{var T=new(a(83419))({initialize:function(f,h,c,u,p){void 0===p&&(p=!1),this.textureKey=f,this.textureFrame=h,this.index=c,this.frame=u,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=p},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});C.exports=T},60848:(C,k,a)=>{var y=a(42099),T=a(83419),m=a(90330),f=a(50792),h=a(74943),c=a(8443),u=a(95540),p=a(35154),d=a(36383),g=a(20283),v=a(41836),x=new T({Extends:f,initialize:function(_){f.call(this),this.game=_,this.textureManager=null,this.globalTimeScale=1,this.anims=new m,this.mixes=new m,this.paused=!1,this.name="AnimationManager",_.events.once(c.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(c.DESTROY,this.destroy,this)},addMix:function(b,_,E){var A=this.anims,D=this.mixes,I="string"==typeof b?b:b.key,R="string"==typeof _?_:_.key;if(A.has(I)&&A.has(R)){var F=D.get(I);F||(F={}),F[R]=E,D.set(I,F)}return this},removeMix:function(b,_){var E=this.mixes,A="string"==typeof b?b:b.key,D=E.get(A);if(D)if(_){var I="string"==typeof _?_:_.key;D.hasOwnProperty(I)&&delete D[I]}else _||E.delete(A);return this},getMix:function(b,_){var D="string"==typeof _?_:_.key,I=this.mixes.get("string"==typeof b?b:b.key);return I&&I.hasOwnProperty(D)?I[D]:0},add:function(b,_){return this.anims.has(b)?(console.warn("Animation key exists: "+b),this):(_.key=b,this.anims.set(b,_),this.emit(h.ADD_ANIMATION,b,_),this)},exists:function(b){return this.anims.has(b)},createFromAseprite:function(b,_,E){var A=[],D=this.game.cache.json.get(b);if(!D)return console.warn("No Aseprite data found for: "+b),A;var I=this,R=p(D,"meta",null),F=p(D,"frames",null);return R&&F&&p(R,"frameTags",[]).forEach(function(V){var B=[],G=u(V,"name",null),Q=u(V,"from",0),H=u(V,"to",0),K=u(V,"direction","forward");if(G&&(!_||_&&_.indexOf(G)>-1)){for(var tt=0,at=Q;at<=H;at++){var lt=at.toString(),J=F[lt];if(J){var it=u(J,"duration",d.MAX_SAFE_INTEGER);B.push({key:b,frame:lt,duration:it}),tt+=it}}"reverse"===K&&(B=B.reverse());var X,Y={key:G,frames:B,duration:tt,yoyo:"pingpong"===K};E?E.anims&&(X=E.anims.create(Y)):X=I.create(Y),X&&A.push(X)}}),A},create:function(b){var _=b.key,E=!1;return _&&((E=this.get(_))?console.warn("AnimationManager key already exists: "+_):(E=new y(this,_,b),this.anims.set(_,E),this.emit(h.ADD_ANIMATION,_,E))),E},fromJSON:function(b,_){void 0===_&&(_=!1),_&&this.anims.clear(),"string"==typeof b&&(b=JSON.parse(b));var E=[];if(b.hasOwnProperty("anims")&&Array.isArray(b.anims)){for(var A=0;A<b.anims.length;A++)E.push(this.create(b.anims[A]));b.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=b.globalTimeScale)}else b.hasOwnProperty("key")&&"frame"===b.type&&E.push(this.create(b));return E},generateFrameNames:function(b,_){var E=p(_,"prefix",""),A=p(_,"start",0),D=p(_,"end",0),I=p(_,"suffix",""),R=p(_,"zeroPad",0),F=p(_,"outputArray",[]),L=p(_,"frames",!1);if(!this.textureManager.exists(b))return console.warn('Texture "%s" not found',b),F;var B,V=this.textureManager.get(b);if(!V)return F;if(_)for(L||(L=g(A,D)),B=0;B<L.length;B++){var G=E+v(L[B],R,"0",1)+I;V.has(G)?F.push({key:b,frame:G}):console.warn('Frame "%s" not found in texture "%s"',G,b)}else for(L=V.getFrameNames(),B=0;B<L.length;B++)F.push({key:b,frame:L[B]});return F},generateFrameNumbers:function(b,_){var E=p(_,"start",0),A=p(_,"end",-1),D=p(_,"first",!1),I=p(_,"outputArray",[]),R=p(_,"frames",!1);if(!this.textureManager.exists(b))return console.warn('Texture "%s" not found',b),I;var F=this.textureManager.get(b);if(!F)return I;D&&F.has(D)&&I.push({key:b,frame:D}),R||(-1===A&&(A=F.frameTotal-2),R=g(E,A));for(var L=0;L<R.length;L++){var V=R[L];F.has(V)?I.push({key:b,frame:V}):console.warn('Frame "%s" not found in texture "%s"',V,b)}return I},get:function(b){return this.anims.get(b)},getAnimsFromTexture:function(b){for(var E=this.textureManager.get(b).key,A=this.anims.getArray(),D=[],I=0;I<A.length;I++)for(var R=A[I],F=R.frames,L=0;L<F.length;L++)if(F[L].textureKey===E){D.push(R.key);break}return D},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(h.PAUSE_ALL)),this},play:function(b,_){Array.isArray(_)||(_=[_]);for(var E=0;E<_.length;E++)_[E].anims.play(b);return this},staggerPlay:function(b,_,E,A){void 0===E&&(E=0),void 0===A&&(A=!0),Array.isArray(_)||(_=[_]);var D=_.length;A||D--;for(var I=0;I<_.length;I++){var R=E<0?Math.abs(E)*(D-I):E*I;_[I].anims.playAfterDelay(b,R)}return this},remove:function(b){var _=this.get(b);return _&&(this.emit(h.REMOVE_ANIMATION,b,_),this.anims.delete(b),this.removeMix(b)),_},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(h.RESUME_ALL)),this},toJSON:function(b){var _={anims:[],globalTimeScale:this.globalTimeScale};return void 0!==b&&""!==b?_.anims.push(this.anims.get(b).toJSON()):this.anims.each(function(E,A){_.anims.push(A.toJSON())}),_},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});C.exports=x},9674:(C,k,a)=>{var y=a(42099),T=a(30976),m=a(83419),f=a(90330),h=a(74943),c=a(95540),u=new m({initialize:function(d){this.parent=d,this.animationManager=d.scene.sys.anims,this.animationManager.on(h.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0},chain:function(p){var d=this.parent;if(void 0===p)return this.nextAnimsQueue.length=0,this.nextAnim=null,d;Array.isArray(p)||(p=[p]);for(var g=0;g<p.length;g++){var v=p[g];this.nextAnim?this.nextAnimsQueue.push(v):this.nextAnim=v}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(p){this.isPlaying&&this.stop();var d=this.animationManager,g="string"==typeof p?p:c(p,"key",null),v=this.exists(g)?this.get(g):d.get(g);if(v){this.currentAnim=v;var x=v.getTotalFrames(),b=c(p,"frameRate",v.frameRate),_=c(p,"duration",v.duration);v.calculateDuration(this,x,_,b),this.delay=c(p,"delay",v.delay),this.repeat=c(p,"repeat",v.repeat),this.repeatDelay=c(p,"repeatDelay",v.repeatDelay),this.yoyo=c(p,"yoyo",v.yoyo),this.showBeforeDelay=c(p,"showBeforeDelay",v.showBeforeDelay),this.showOnStart=c(p,"showOnStart",v.showOnStart),this.hideOnComplete=c(p,"hideOnComplete",v.hideOnComplete),this.skipMissedFrames=c(p,"skipMissedFrames",v.skipMissedFrames),this.randomFrame=c(p,"randomFrame",v.randomFrame),this.timeScale=c(p,"timeScale",this.timeScale);var E=c(p,"startFrame",0);E>x&&(E=0),this.randomFrame&&(E=T(0,x-1));var A=v.frames[E];0===E&&!this.forward&&(A=v.getLastFrame()),this.currentFrame=A}else console.warn("Missing animation: "+g);return this.parent},pause:function(p){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==p&&this.setCurrentFrame(p),this.parent},resume:function(p){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==p&&this.setCurrentFrame(p),this.parent},playAfterDelay:function(p,d){if(this.isPlaying){var g=this.nextAnim;g&&this.nextAnimsQueue.unshift(g),this.nextAnim=p,this._pendingStop=1,this._pendingStopValue=d}else this.delayCounter=d,this.play(p,!0);return this.parent},playAfterRepeat:function(p,d){if(void 0===d&&(d=1),this.isPlaying){var g=this.nextAnim;g&&this.nextAnimsQueue.unshift(g),-1!==this.repeatCounter&&d>this.repeatCounter&&(d=this.repeatCounter),this.nextAnim=p,this._pendingStop=2,this._pendingStopValue=d}else this.play(p);return this.parent},play:function(p,d){void 0===d&&(d=!1);var g=this.currentAnim;if(d&&this.isPlaying&&g.key===("string"==typeof p?p:p.key))return this.parent;if(g&&this.isPlaying){var b=this.animationManager.getMix(g.key,p);if(b>0)return this.playAfterDelay(p,b)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(p)},playReverse:function(p,d){return void 0===d&&(d=!1),d&&this.isPlaying&&this.currentAnim.key===("string"==typeof p?p:p.key)?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(p))},startAnimation:function(p){this.load(p);var d=this.currentAnim,g=this.parent;return d&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat,d.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,0===this.delayCounter?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),g},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(h.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(h.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(h.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(h.ANIMATION_COMPLETE,h.ANIMATION_COMPLETE_KEY)},emitEvents:function(p,d){var g=this.currentAnim;if(g){var v=this.currentFrame,x=this.parent,b=v.textureFrame;x.emit(p,g,v,x,b),d&&x.emit(d+g.key,g,v,x,b)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var p=this.currentFrame;if(!p)return 0;var d=p.progress;return this.inReverse&&(d*=-1),d},setProgress:function(p){return this.forward||(p=1-p),this.setCurrentFrame(this.currentAnim.getFrameByProgress(p)),this.parent},setRepeat:function(p){return this.repeatCounter=-1===p?Number.MAX_VALUE:p,this.parent},globalRemove:function(p,d){void 0===d&&(d=this.currentAnim),this.isPlaying&&d.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(p,d){void 0===p&&(p=!1),void 0===d&&(d=!1);var g=this.currentAnim,v=this.parent;return g?(d&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat),g.getFirstTick(this),this.emitEvents(h.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!p,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(g.frames[0]),this.parent):v},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var p=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(p)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var p=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(p)}return this.parent},stopAfterDelay:function(p){return this._pendingStop=1,this._pendingStopValue=p,this.parent},stopAfterRepeat:function(p){return void 0===p&&(p=1),-1!==this.repeatCounter&&p>this.repeatCounter&&(p=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=p,this.parent},stopOnFrame:function(p){return this._pendingStop=3,this._pendingStopValue=p,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(p,d){var g=this.currentAnim;if(this.isPlaying&&g&&!g.paused){if(this.accumulator+=d*this.timeScale*this.animationManager.globalTimeScale,1===this._pendingStop&&(this._pendingStopValue-=d,this._pendingStopValue<=0))return this.stop();if(this.hasStarted){if(this.accumulator>=this.nextTick&&(this.forward?g.nextFrame(this):g.previousFrame(this),this.isPlaying&&0===this._pendingStop&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var v=0;do{this.forward?g.nextFrame(this):g.previousFrame(this),v++}while(this.isPlaying&&this.accumulator>this.nextTick&&v<60)}}else this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart())}},setCurrentFrame:function(p){var d=this.parent;return this.currentFrame=p,d.texture=p.frame.texture,d.frame=p.frame,d.isCropped&&d.frame.updateCropUVs(d._crop,d.flipX,d.flipY),p.setAlpha&&(d.alpha=p.alpha),d.setSizeToFrame(),d._originComponent&&(p.frame.customPivot?d.setOrigin(p.frame.pivotX,p.frame.pivotY):d.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(h.ANIMATION_UPDATE),3===this._pendingStop&&this._pendingStopValue===p&&this.stop()),d},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(p){return this.anims?this.anims.get(p):null},exists:function(p){return!!this.anims&&this.anims.has(p)},create:function(p){var d=p.key,g=!1;return d&&((g=this.get(d))?console.warn("Animation key already exists: "+d):(g=new y(this,d,p),this.anims||(this.anims=new f),this.anims.set(d,g))),g},createFromAseprite:function(p,d){return this.animationManager.createFromAseprite(p,d,this.parent)},generateFrameNames:function(p,d){return this.animationManager.generateFrameNames(p,d)},generateFrameNumbers:function(p,d){return this.animationManager.generateFrameNumbers(p,d)},remove:function(p){var d=this.get(p);return d&&(this.currentAnim===d&&this.stop(),this.anims.delete(p)),d},destroy:function(){this.animationManager.off(h.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});C.exports=u},57090:C=>{C.exports="add"},25312:C=>{C.exports="animationcomplete"},89580:C=>{C.exports="animationcomplete-"},52860:C=>{C.exports="animationrepeat"},63850:C=>{C.exports="animationrestart"},99085:C=>{C.exports="animationstart"},28087:C=>{C.exports="animationstop"},1794:C=>{C.exports="animationupdate"},52562:C=>{C.exports="pauseall"},57953:C=>{C.exports="remove"},68339:C=>{C.exports="resumeall"},74943:(C,k,a)=>{C.exports={ADD_ANIMATION:a(57090),ANIMATION_COMPLETE:a(25312),ANIMATION_COMPLETE_KEY:a(89580),ANIMATION_REPEAT:a(52860),ANIMATION_RESTART:a(63850),ANIMATION_START:a(99085),ANIMATION_STOP:a(28087),ANIMATION_UPDATE:a(1794),PAUSE_ALL:a(52562),REMOVE_ANIMATION:a(57953),RESUME_ALL:a(68339)}},60421:(C,k,a)=>{C.exports={Animation:a(42099),AnimationFrame:a(41138),AnimationManager:a(60848),AnimationState:a(9674),Events:a(74943)}},2161:(C,k,a)=>{var y=a(83419),T=a(90330),m=a(50792),f=a(24736),h=new y({initialize:function(){this.entries=new T,this.events=new m},add:function(c,u){return this.entries.set(c,u),this.events.emit(f.ADD,this,c,u),this},has:function(c){return this.entries.has(c)},exists:function(c){return this.entries.has(c)},get:function(c){return this.entries.get(c)},remove:function(c){var u=this.get(c);return u&&(this.entries.delete(c),this.events.emit(f.REMOVE,this,c,u.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});C.exports=h},24047:(C,k,a)=>{var y=a(2161),T=a(83419),m=a(8443),f=new T({initialize:function(c){this.game=c,this.binary=new y,this.bitmapFont=new y,this.json=new y,this.physics=new y,this.shader=new y,this.audio=new y,this.video=new y,this.text=new y,this.html=new y,this.obj=new y,this.tilemap=new y,this.xml=new y,this.custom={},this.game.events.once(m.DESTROY,this.destroy,this)},addCustom:function(h){return this.custom.hasOwnProperty(h)||(this.custom[h]=new y),this.custom[h]},destroy:function(){for(var h=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],c=0;c<h.length;c++)this[h[c]].destroy(),this[h[c]]=null;for(var u in this.custom)this.custom[u].destroy();this.custom=null,this.game=null}});C.exports=f},51464:C=>{C.exports="add"},59261:C=>{C.exports="remove"},24736:(C,k,a)=>{C.exports={ADD:a(51464),REMOVE:a(59261)}},83388:(C,k,a)=>{C.exports={BaseCache:a(2161),CacheManager:a(24047),Events:a(24736)}},71911:(C,k,a)=>{var y=a(83419),T=a(31401),m=a(39506),f=a(50792),h=a(19715),c=a(87841),u=a(61340),p=a(80333),d=a(26099),g=new y({Extends:f,Mixins:[T.AlphaSingle,T.Visible],initialize:function(x,b,_,E){void 0===x&&(x=0),void 0===b&&(b=0),void 0===_&&(_=0),void 0===E&&(E=0),f.call(this),this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new c,this.dirty=!0,this._x=x,this._y=b,this._width=_,this._height=E,this._bounds=new c,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new u,this.transparent=!0,this.backgroundColor=p("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new d(_/2,E/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(v){this.renderList.push(v)},setOrigin:function(v,x){return void 0===v&&(v=.5),void 0===x&&(x=v),this.originX=v,this.originY=x,this},getScroll:function(v,x,b){void 0===b&&(b=new d);var E=.5*this.height;return b.x=v-.5*this.width,b.y=x-E,this.useBounds&&(b.x=this.clampX(b.x),b.y=this.clampY(b.y)),b},centerOnX:function(v){var x=.5*this.width;return this.midPoint.x=v,this.scrollX=v-x,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(v){var x=.5*this.height;return this.midPoint.y=v,this.scrollY=v-x,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(v,x){return this.centerOnX(v),this.centerOnY(x),this},centerToBounds:function(){if(this.useBounds){var v=this._bounds,x=.5*this.width,b=.5*this.height;this.midPoint.set(v.centerX,v.centerY),this.scrollX=v.centerX-x,this.scrollY=v.centerY-b}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(v){if(this.disableCull)return v;var x=this.matrix.matrix,b=x[0],_=x[1],E=x[2],A=x[3],D=b*A-_*E;if(!D)return v;var I=x[4],R=x[5],F=this.scrollX,L=this.scrollY,G=this.y,Q=G+this.height,H=this.x,K=H+this.width,tt=this.culledObjects,at=v.length;D=1/D,tt.length=0;for(var lt=0;lt<at;++lt){var J=v[lt];if(J.hasOwnProperty("width")&&!J.parentContainer){var it=J.width,Y=J.height,X=J.x-F*J.scrollFactorX-it*J.originX,nt=J.y-L*J.scrollFactorY-Y*J.originY;(X+it)*b+(nt+Y)*E+I>H&&X*b+nt*E+I<K&&(X+it)*_+(nt+Y)*A+R>G&&X*_+nt*A+R<Q&&tt.push(J)}else tt.push(J)}return tt},getWorldPoint:function(v,x,b){void 0===b&&(b=new d);var _=this.matrix.matrix,E=_[0],A=_[1],D=_[2],I=_[3],R=_[4],F=_[5],L=E*I-A*D;if(!L)return b.x=v,b.y=x,b;var V=I*(L=1/L),B=-A*L,G=-D*L,Q=E*L,H=(D*F-I*R)*L,K=(A*R-E*F)*L,tt=Math.cos(this.rotation),at=Math.sin(this.rotation),it=this.scrollX,Y=this.scrollY,X=v+(it*tt-Y*at)*this.zoomX,nt=x+(it*at+Y*tt)*this.zoomY;return b.x=X*V+nt*G+H,b.y=X*B+nt*Q+K,b},ignore:function(v){var x=this.id;Array.isArray(v)||(v=[v]);for(var b=0;b<v.length;b++){var _=v[b];Array.isArray(_)?this.ignore(_):_.isParent?this.ignore(_.getChildren()):_.cameraFilter|=x}return this},clampX:function(v){var x=this._bounds,b=this.displayWidth,_=x.x+(b-this.width)/2,E=Math.max(_,_+x.width-b);return v<_?v=_:v>E&&(v=E),v},clampY:function(v){var x=this._bounds,b=this.displayHeight,_=x.y+(b-this.height)/2,E=Math.max(_,_+x.height-b);return v<_?v=_:v>E&&(v=E),v},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(v){return void 0===v&&(v=0),this.rotation=m(v),this},setBackgroundColor:function(v){return void 0===v&&(v="rgba(0,0,0,0)"),this.backgroundColor=p(v),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(v,x,b,_,E){return void 0===E&&(E=!1),this._bounds.setTo(v,x,b,_),this.dirty=!0,this.useBounds=!0,E?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(v){void 0===v&&(v=new c);var x=this._bounds;return v.setTo(x.x,x.y,x.width,x.height),v},setName:function(v){return void 0===v&&(v=""),this.name=v,this},setPosition:function(v,x){return void 0===x&&(x=v),this.x=v,this.y=x,this},setRotation:function(v){return void 0===v&&(v=0),this.rotation=v,this},setRoundPixels:function(v){return this.roundPixels=v,this},setScene:function(v,x){void 0===x&&(x=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=v,this.isSceneCamera=x;var b=v.sys;return this.sceneManager=b.game.scene,this.scaleManager=b.scale,this.cameraManager=b.cameras,this.updateSystem(),this},setScroll:function(v,x){return void 0===x&&(x=v),this.scrollX=v,this.scrollY=x,this},setSize:function(v,x){return void 0===x&&(x=v),this.width=v,this.height=x,this},setViewport:function(v,x,b,_){return this.x=v,this.y=x,this.width=b,this.height=_,this},setZoom:function(v,x){return void 0===v&&(v=1),void 0===x&&(x=v),0===v&&(v=.001),0===x&&(x=.001),this.zoomX=v,this.zoomY=x,this},setMask:function(v,x){return void 0===x&&(x=!0),this.mask=v,this._maskCamera=x?this.cameraManager.default:this,this},clearMask:function(v){return void 0===v&&(v=!1),v&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var v={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(v.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),v},update:function(){},setIsSceneCamera:function(v){return this.isSceneCamera=v,this},updateSystem:function(){if(this.scaleManager&&this.isSceneCamera){var v=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,x=this.sceneManager;v&&!this._customViewport?x.customViewports++:!v&&this._customViewport&&x.customViewports--,this.dirty=!0,this._customViewport=v}},destroy:function(){this.emit(h.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(v){this._x=v,this.updateSystem()}},y:{get:function(){return this._y},set:function(v){this._y=v,this.updateSystem()}},width:{get:function(){return this._width},set:function(v){this._width=v,this.updateSystem()}},height:{get:function(){return this._height},set:function(v){this._height=v,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(v){v!==this._scrollX&&(this._scrollX=v,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(v){v!==this._scrollY&&(this._scrollY=v,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(v){this._zoomX=v,this._zoomY=v,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(v){this._zoomX=v,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(v){this._zoomY=v,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(v){this._rotation=v,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});C.exports=g},38058:(C,k,a)=>{var y=a(71911),T=a(67502),m=a(45319),f=a(83419),h=a(31401),c=a(20052),u=a(19715),p=a(28915),d=a(87841),g=a(26099),v=new f({Extends:y,Mixins:[h.PostPipeline],initialize:function(b,_,E,A){y.call(this,b,_,E,A),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new c.Fade(this),this.flashEffect=new c.Flash(this),this.shakeEffect=new c.Shake(this),this.panEffect=new c.Pan(this),this.rotateToEffect=new c.RotateTo(this),this.zoomEffect=new c.Zoom(this),this.lerp=new g(1,1),this.followOffset=new g,this.deadzone=null,this._follow=null},setDeadzone:function(x,b){if(void 0===x)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=x,this.deadzone.height=b):this.deadzone=new d(0,0,x,b),this._follow){var _=this.width/2,E=this.height/2,A=this._follow.x-this.followOffset.x,D=this._follow.y-this.followOffset.y;this.midPoint.set(A,D),this.scrollX=A-_,this.scrollY=D-E}T(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(x,b,_,E,A,D){return this.fadeEffect.start(!1,x,b,_,E,!0,A,D)},fadeOut:function(x,b,_,E,A,D){return this.fadeEffect.start(!0,x,b,_,E,!0,A,D)},fadeFrom:function(x,b,_,E,A,D,I){return this.fadeEffect.start(!1,x,b,_,E,A,D,I)},fade:function(x,b,_,E,A,D,I){return this.fadeEffect.start(!0,x,b,_,E,A,D,I)},flash:function(x,b,_,E,A,D,I){return this.flashEffect.start(x,b,_,E,A,D,I)},shake:function(x,b,_,E,A){return this.shakeEffect.start(x,b,_,E,A)},pan:function(x,b,_,E,A,D,I){return this.panEffect.start(x,b,_,E,A,D,I)},rotateTo:function(x,b,_,E,A,D,I){return this.rotateToEffect.start(x,b,_,E,A,D,I)},zoomTo:function(x,b,_,E,A,D){return this.zoomEffect.start(x,b,_,E,A,D)},preRender:function(){this.renderList.length=0;var x=this.width,b=this.height,_=.5*x,E=.5*b,A=this.zoomX,D=this.zoomY,I=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(A)&&Number.isInteger(D);var R=x*this.originX,F=b*this.originY,L=this._follow,V=this.deadzone,B=this.scrollX,G=this.scrollY;V&&T(V,this.midPoint.x,this.midPoint.y);var Q=!1;if(L&&!this.panEffect.isRunning){var H=this.lerp,K=L.x-this.followOffset.x,tt=L.y-this.followOffset.y;V?(K<V.x?B=p(B,B-(V.x-K),H.x):K>V.right&&(B=p(B,B+(K-V.right),H.x)),tt<V.y?G=p(G,G-(V.y-tt),H.y):tt>V.bottom&&(G=p(G,G+(tt-V.bottom),H.y))):(B=p(B,K-R,H.x),G=p(G,tt-F,H.y)),Q=!0}this.roundPixels&&(B=Math.floor(B),G=Math.floor(G)),this.useBounds&&(B=this.clampX(B),G=this.clampY(G)),this.scrollX=B,this.scrollY=G;var at=B+_,lt=G+E;this.midPoint.set(at,lt);var J=Math.floor(x/A+.5),it=Math.floor(b/D+.5),Y=Math.floor(at-J/2+.5),X=Math.floor(lt-it/2+.5);this.worldView.setTo(Y,X,J,it),I.applyITRS(Math.floor(this.x+R+.5),Math.floor(this.y+F+.5),this.rotation,A,D),I.translate(-R,-F),this.shakeEffect.preRender(),Q&&this.emit(u.FOLLOW_UPDATE,this,L)},setLerp:function(x,b){return void 0===x&&(x=1),void 0===b&&(b=x),this.lerp.set(x,b),this},setFollowOffset:function(x,b){return void 0===x&&(x=0),void 0===b&&(b=0),this.followOffset.set(x,b),this},startFollow:function(x,b,_,E,A,D){void 0===b&&(b=!1),void 0===_&&(_=1),void 0===E&&(E=_),void 0===A&&(A=0),void 0===D&&(D=A),this._follow=x,this.roundPixels=b,_=m(_,0,1),E=m(E,0,1),this.lerp.set(_,E),this.followOffset.set(A,D);var I=this.width/2,R=this.height/2,F=x.x-A,L=x.y-D;return this.midPoint.set(F,L),this.scrollX=F-I,this.scrollY=L-R,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(x,b){this.visible&&(this.rotateToEffect.update(x,b),this.panEffect.update(x,b),this.zoomEffect.update(x,b),this.shakeEffect.update(x,b),this.flashEffect.update(x,b),this.fadeEffect.update(x,b))},destroy:function(){this.resetFX(),y.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});C.exports=v},32743:(C,k,a)=>{var y=a(38058),T=a(83419),m=a(95540),f=a(37277),h=a(37303),c=a(97480),u=a(44594),p=new T({initialize:function(g){this.scene=g,this.systems=g.sys,this.roundPixels=g.sys.game.config.roundPixels,this.cameras=[],g.sys.events.once(u.BOOT,this.boot,this),g.sys.events.on(u.START,this.start,this)},boot:function(){var d=this.systems;d.settings.cameras?this.fromJSON(d.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new y(0,0,d.scale.width,d.scale.height).setScene(this.scene),d.game.scale.on(c.RESIZE,this.onResize,this),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){if(!this.main){var d=this.systems;d.settings.cameras?this.fromJSON(d.settings.cameras):this.add(),this.main=this.cameras[0]}var g=this.systems.events;g.on(u.UPDATE,this.update,this),g.once(u.SHUTDOWN,this.shutdown,this)},add:function(d,g,v,x,b,_){void 0===d&&(d=0),void 0===g&&(g=0),void 0===v&&(v=this.scene.sys.scale.width),void 0===x&&(x=this.scene.sys.scale.height),void 0===b&&(b=!1),void 0===_&&(_="");var E=new y(d,g,v,x);return E.setName(_),E.setScene(this.scene),E.setRoundPixels(this.roundPixels),E.id=this.getNextID(),this.cameras.push(E),b&&(this.main=E),E},addExisting:function(d,g){return void 0===g&&(g=!1),-1===this.cameras.indexOf(d)?(d.id=this.getNextID(),d.setRoundPixels(this.roundPixels),this.cameras.push(d),g&&(this.main=d),d):null},getNextID:function(){for(var d=this.cameras,g=1,v=0;v<32;v++){for(var x=!1,b=0;b<d.length;b++){var _=d[b];_&&_.id===g&&(x=!0)}if(!x)return g;g<<=1}return 0},getTotal:function(d){void 0===d&&(d=!1);for(var g=0,v=this.cameras,x=0;x<v.length;x++)(!d||d&&v[x].visible)&&g++;return g},fromJSON:function(d){Array.isArray(d)||(d=[d]);for(var g=this.scene.sys.scale.width,v=this.scene.sys.scale.height,x=0;x<d.length;x++){var b=d[x],_=m(b,"x",0),E=m(b,"y",0),A=m(b,"width",g),D=m(b,"height",v),I=this.add(_,E,A,D);I.name=m(b,"name",""),I.zoom=m(b,"zoom",1),I.rotation=m(b,"rotation",0),I.scrollX=m(b,"scrollX",0),I.scrollY=m(b,"scrollY",0),I.roundPixels=m(b,"roundPixels",!1),I.visible=m(b,"visible",!0);var R=m(b,"backgroundColor",!1);R&&I.setBackgroundColor(R);var F=m(b,"bounds",null);if(F){var L=m(F,"x",0),V=m(F,"y",0),B=m(F,"width",g),G=m(F,"height",v);I.setBounds(L,V,B,G)}}return this},getCamera:function(d){for(var g=this.cameras,v=0;v<g.length;v++)if(g[v].name===d)return g[v];return null},getCamerasBelowPointer:function(d){for(var g=this.cameras,v=d.x,x=d.y,b=[],_=0;_<g.length;_++){var E=g[_];E.visible&&E.inputEnabled&&h(E,v,x)&&b.unshift(E)}return b},remove:function(d,g){void 0===g&&(g=!0),Array.isArray(d)||(d=[d]);for(var v=0,x=this.cameras,b=0;b<d.length;b++){var _=x.indexOf(d[b]);-1!==_&&(g?x[_].destroy():x[_].renderList=[],x.splice(_,1),v++)}return!this.main&&x[0]&&(this.main=x[0]),v},render:function(d,g){for(var v=this.scene,x=this.cameras,b=0;b<x.length;b++){var _=x[b];if(_.visible&&_.alpha>0){_.preRender();var E=this.getVisibleChildren(g.getChildren(),_);d.render(v,E,_)}}},getVisibleChildren:function(d,g){return d.filter(function(v){return v.willRender(g)})},resetAll:function(){for(var d=0;d<this.cameras.length;d++)this.cameras[d].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(d,g){for(var v=0;v<this.cameras.length;v++)this.cameras[v].update(d,g)},onResize:function(d,g,v,x,b){for(var _=0;_<this.cameras.length;_++){var E=this.cameras[_];0===E._x&&0===E._y&&E._width===x&&E._height===b&&E.setSize(g.width,g.height)}},resize:function(d,g){for(var v=0;v<this.cameras.length;v++)this.cameras[v].setSize(d,g)},shutdown:function(){this.main=void 0;for(var d=0;d<this.cameras.length;d++)this.cameras[d].destroy();this.cameras=[];var g=this.systems.events;g.off(u.UPDATE,this.update,this),g.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(u.START,this.start,this),this.systems.events.off(u.DESTROY,this.destroy,this),this.systems.game.scale.off(c.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});f.register("CameraManager",p,"cameras"),C.exports=p},5020:(C,k,a)=>{var y=a(45319),T=a(83419),m=a(19715),f=new T({initialize:function(c){this.camera=c,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0},start:function(h,c,u,p,d,g,v,x){return void 0===h&&(h=!0),void 0===c&&(c=1e3),void 0===u&&(u=0),void 0===p&&(p=0),void 0===d&&(d=0),void 0===g&&(g=!1),void 0===v&&(v=null),void 0===x&&(x=this.camera.scene),!g&&this.isRunning||(this.isRunning=!0,this.isComplete=!1,this.duration=c,this.direction=h,this.progress=0,this.red=u,this.green=p,this.blue=d,this.alpha=h?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=v,this._onUpdateScope=x,this.camera.emit(h?m.FADE_OUT_START:m.FADE_IN_START,this.camera,this,c,u,p,d)),this.camera},update:function(h,c){this.isRunning&&(this._elapsed+=c,this.progress=y(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(h){if(!this.isRunning&&!this.isComplete)return!1;var c=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(c.x,c.y,c.width,c.height),!0},postRenderWebGL:function(h,c){if(!this.isRunning&&!this.isComplete)return!1;var u=this.camera;return h.drawFillRect(u.x,u.y,u.width,u.height,c(this.blue/255,this.green/255,this.red/255,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0,this.camera.emit(this.direction?m.FADE_OUT_COMPLETE:m.FADE_IN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});C.exports=f},10662:(C,k,a)=>{var y=a(45319),T=a(83419),m=a(19715),f=new T({initialize:function(c){this.camera=c,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0},start:function(h,c,u,p,d,g,v){return void 0===h&&(h=250),void 0===c&&(c=255),void 0===u&&(u=255),void 0===p&&(p=255),void 0===d&&(d=!1),void 0===g&&(g=null),void 0===v&&(v=this.camera.scene),!d&&this.isRunning||(this.isRunning=!0,this.duration=h,this.progress=0,this.red=c,this.green=u,this.blue=p,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=g,this._onUpdateScope=v,this.camera.emit(m.FLASH_START,this.camera,this,h,c,u,p)),this.camera},update:function(h,c){this.isRunning&&(this._elapsed+=c,this.progress=y(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(h){if(!this.isRunning)return!1;var c=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(c.x,c.y,c.width,c.height),!0},postRenderWebGL:function(h,c){if(!this.isRunning)return!1;var u=this.camera;return h.drawFillRect(u.x,u.y,u.width,u.height,c(this.blue/255,this.green/255,this.red/255,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(m.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});C.exports=f},20359:(C,k,a)=>{var y=a(45319),T=a(83419),m=a(62640),f=a(19715),h=a(26099),c=new T({initialize:function(p){this.camera=p,this.isRunning=!1,this.duration=0,this.source=new h,this.current=new h,this.destination=new h,this.progress=0,this._elapsed=0},start:function(u,p,d,g,v,x,b){void 0===d&&(d=1e3),void 0===g&&(g=m.Linear),void 0===v&&(v=!1),void 0===x&&(x=null),void 0===b&&(b=this.camera.scene);var _=this.camera;return!v&&this.isRunning||(this.isRunning=!0,this.duration=d,this.progress=0,this.source.set(_.scrollX,_.scrollY),this.destination.set(u,p),_.getScroll(u,p,this.current),"string"==typeof g&&m.hasOwnProperty(g)?this.ease=m[g]:"function"==typeof g&&(this.ease=g),this._elapsed=0,this._onUpdate=x,this._onUpdateScope=b,this.camera.emit(f.PAN_START,this.camera,this,d,u,p)),_},update:function(u,p){if(this.isRunning){this._elapsed+=p;var d=y(this._elapsed/this.duration,0,1);this.progress=d;var g=this.camera;if(this._elapsed<this.duration){var v=this.ease(d);g.getScroll(this.destination.x,this.destination.y,this.current);var x=this.source.x+(this.current.x-this.source.x)*v,b=this.source.y+(this.current.y-this.source.y)*v;g.setScroll(x,b),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,g,d,x,b)}else g.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,g,d,g.scrollX,g.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});C.exports=c},34208:(C,k,a)=>{var y=a(45319),T=a(83419),m=a(19715),f=a(62640),h=new T({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.progress=0,this._elapsed=0,this.clockwise=!0,this.shortestPath=!1},start:function(c,u,p,d,g,v,x){void 0===p&&(p=1e3),void 0===d&&(d=f.Linear),void 0===g&&(g=!1),void 0===v&&(v=null),void 0===x&&(x=this.camera.scene),void 0===u&&(u=!1),this.shortestPath=u;var b=c;c<0?(b=-1*c,this.clockwise=!1):this.clockwise=!0;var _=360*Math.PI/180;b-=Math.floor(b/_)*_;var E=this.camera;if(!g&&this.isRunning)return E;if(this.isRunning=!0,this.duration=p,this.progress=0,this.source=E.rotation,this.destination=b,"string"==typeof d&&f.hasOwnProperty(d)?this.ease=f[d]:"function"==typeof d&&(this.ease=d),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=x,this.shortestPath){var A,D;(A=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+_)-this.source)<(D=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+_)-this.destination)?this.clockwise=!0:A>D&&(this.clockwise=!1)}return this.camera.emit(m.ROTATE_START,this.camera,this,p,b),E},update:function(c,u){if(this.isRunning){this._elapsed+=u;var p=y(this._elapsed/this.duration,0,1);this.progress=p;var d=this.camera;if(this._elapsed<this.duration){var g=this.ease(p);this.current=d.rotation;var v,x=360*Math.PI/180,b=this.destination,_=this.current;!1===this.clockwise&&(b=this.current,_=this.destination),v=b>=_?Math.abs(b-_):Math.abs(b+x)-_;var E;d.rotation=E=this.clockwise?d.rotation+v*g:d.rotation-v*g,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,p,E)}else d.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,p,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(m.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});C.exports=h},30330:(C,k,a)=>{var y=a(45319),T=a(83419),m=a(19715),f=a(26099),h=new T({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.intensity=new f,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0},start:function(c,u,p,d,g){return void 0===c&&(c=100),void 0===u&&(u=.05),void 0===p&&(p=!1),void 0===d&&(d=null),void 0===g&&(g=this.camera.scene),!p&&this.isRunning||(this.isRunning=!0,this.duration=c,this.progress=0,"number"==typeof u?this.intensity.set(u):this.intensity.set(u.x,u.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=d,this._onUpdateScope=g,this.camera.emit(m.SHAKE_START,this.camera,this,c,u)),this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(c,u){if(this.isRunning)if(this._elapsed+=u,this.progress=y(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var p=this.intensity,d=this.camera.width,g=this.camera.height,v=this.camera.zoom;this._offsetX=(Math.random()*p.x*d*2-p.x*d)*v,this._offsetY=(Math.random()*p.y*g*2-p.y*g)*v,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(m.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});C.exports=h},45641:(C,k,a)=>{var y=a(45319),T=a(83419),m=a(62640),f=a(19715),h=new T({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.progress=0,this._elapsed=0},start:function(c,u,p,d,g,v){void 0===u&&(u=1e3),void 0===p&&(p=m.Linear),void 0===d&&(d=!1),void 0===g&&(g=null),void 0===v&&(v=this.camera.scene);var x=this.camera;return!d&&this.isRunning||(this.isRunning=!0,this.duration=u,this.progress=0,this.source=x.zoom,this.destination=c,"string"==typeof p&&m.hasOwnProperty(p)?this.ease=m[p]:"function"==typeof p&&(this.ease=p),this._elapsed=0,this._onUpdate=g,this._onUpdateScope=v,this.camera.emit(f.ZOOM_START,this.camera,this,u,c)),x},update:function(c,u){this.isRunning&&(this._elapsed+=u,this.progress=y(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});C.exports=h},20052:(C,k,a)=>{C.exports={Fade:a(5020),Flash:a(10662),Pan:a(20359),Shake:a(30330),RotateTo:a(34208),Zoom:a(45641)}},16438:C=>{C.exports="cameradestroy"},32726:C=>{C.exports="camerafadeincomplete"},87807:C=>{C.exports="camerafadeinstart"},45917:C=>{C.exports="camerafadeoutcomplete"},95666:C=>{C.exports="camerafadeoutstart"},47056:C=>{C.exports="cameraflashcomplete"},91261:C=>{C.exports="cameraflashstart"},45047:C=>{C.exports="followupdate"},81927:C=>{C.exports="camerapancomplete"},74264:C=>{C.exports="camerapanstart"},54419:C=>{C.exports="postrender"},79330:C=>{C.exports="prerender"},93183:C=>{C.exports="camerarotatecomplete"},80112:C=>{C.exports="camerarotatestart"},62252:C=>{C.exports="camerashakecomplete"},86017:C=>{C.exports="camerashakestart"},539:C=>{C.exports="camerazoomcomplete"},51892:C=>{C.exports="camerazoomstart"},19715:(C,k,a)=>{C.exports={DESTROY:a(16438),FADE_IN_COMPLETE:a(32726),FADE_IN_START:a(87807),FADE_OUT_COMPLETE:a(45917),FADE_OUT_START:a(95666),FLASH_COMPLETE:a(47056),FLASH_START:a(91261),FOLLOW_UPDATE:a(45047),PAN_COMPLETE:a(81927),PAN_START:a(74264),POST_RENDER:a(54419),PRE_RENDER:a(79330),ROTATE_COMPLETE:a(93183),ROTATE_START:a(80112),SHAKE_COMPLETE:a(62252),SHAKE_START:a(86017),ZOOM_COMPLETE:a(539),ZOOM_START:a(51892)}},87969:(C,k,a)=>{C.exports={Camera:a(38058),BaseCamera:a(71911),CameraManager:a(32743),Effects:a(20052),Events:a(19715)}},63091:(C,k,a)=>{var y=a(83419),T=a(35154),m=new y({initialize:function(h){this.camera=T(h,"camera",null),this.left=T(h,"left",null),this.right=T(h,"right",null),this.up=T(h,"up",null),this.down=T(h,"down",null),this.zoomIn=T(h,"zoomIn",null),this.zoomOut=T(h,"zoomOut",null),this.zoomSpeed=T(h,"zoomSpeed",.01),this.minZoom=T(h,"minZoom",.001),this.maxZoom=T(h,"maxZoom",1e3),this.speedX=0,this.speedY=0;var c=T(h,"speed",null);"number"==typeof c?(this.speedX=c,this.speedY=c):(this.speedX=T(h,"speed.x",0),this.speedY=T(h,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(f){return this.camera=f,this},update:function(f){if(this.active){void 0===f&&(f=1);var h=this.camera;this.up&&this.up.isDown?h.scrollY-=this.speedY*f|0:this.down&&this.down.isDown&&(h.scrollY+=this.speedY*f|0),this.left&&this.left.isDown?h.scrollX-=this.speedX*f|0:this.right&&this.right.isDown&&(h.scrollX+=this.speedX*f|0),this.zoomIn&&this.zoomIn.isDown?(h.zoom-=this.zoomSpeed,h.zoom<this.minZoom&&(h.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(h.zoom+=this.zoomSpeed,h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});C.exports=m},58818:(C,k,a)=>{var y=a(83419),T=a(35154),m=new y({initialize:function(h){this.camera=T(h,"camera",null),this.left=T(h,"left",null),this.right=T(h,"right",null),this.up=T(h,"up",null),this.down=T(h,"down",null),this.zoomIn=T(h,"zoomIn",null),this.zoomOut=T(h,"zoomOut",null),this.zoomSpeed=T(h,"zoomSpeed",.01),this.minZoom=T(h,"minZoom",.001),this.maxZoom=T(h,"maxZoom",1e3),this.accelX=0,this.accelY=0;var c=T(h,"acceleration",null);"number"==typeof c?(this.accelX=c,this.accelY=c):(this.accelX=T(h,"acceleration.x",0),this.accelY=T(h,"acceleration.y",0)),this.dragX=0,this.dragY=0;var u=T(h,"drag",null);"number"==typeof u?(this.dragX=u,this.dragY=u):(this.dragX=T(h,"drag.x",0),this.dragY=T(h,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var p=T(h,"maxSpeed",null);"number"==typeof p?(this.maxSpeedX=p,this.maxSpeedY=p):(this.maxSpeedX=T(h,"maxSpeed.x",0),this.maxSpeedY=T(h,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(f){return this.camera=f,this},update:function(f){if(this.active){void 0===f&&(f=1);var h=this.camera;this._speedX>0?(this._speedX-=this.dragX*f,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*f,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*f,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*f,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this._zoom=this.zoomIn&&this.zoomIn.isDown?-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this.zoomSpeed:0,0!==this._speedX&&(h.scrollX-=this._speedX*f|0),0!==this._speedY&&(h.scrollY-=this._speedY*f|0),0!==this._zoom&&(h.zoom+=this._zoom,h.zoom<this.minZoom?h.zoom=this.minZoom:h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});C.exports=m},38865:(C,k,a)=>{C.exports={FixedKeyControl:a(63091),SmoothedKeyControl:a(58818)}},26638:(C,k,a)=>{C.exports={Controls:a(38865),Scene2D:a(87969)}},8054:(C,k,a)=>{var y={VERSION:"3.87",LOG_VERSION:"v387",BlendModes:a(10312),ScaleModes:a(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};C.exports=y},69547:(C,k,a)=>{var y=a(83419),T=a(8054),m=a(42363),f=a(82264),h=a(95540),c=a(35154),u=a(41212),p=a(29747),d=a(75508),g=a(36060),v=a(80333),x=new y({initialize:function(_){void 0===_&&(_={});var D=c(_,"scale",null);this.width=c(D,"width",1024,_),this.height=c(D,"height",768,_),this.zoom=c(D,"zoom",1,_),this.parent=c(D,"parent",void 0,_),this.scaleMode=c(D,D?"mode":"scaleMode",0,_),this.expandParent=c(D,"expandParent",!0,_),this.autoRound=c(D,"autoRound",!1,_),this.autoCenter=c(D,"autoCenter",0,_),this.resizeInterval=c(D,"resizeInterval",500,_),this.fullscreenTarget=c(D,"fullscreenTarget",null,_),this.minWidth=c(D,"min.width",0,_),this.maxWidth=c(D,"max.width",0,_),this.minHeight=c(D,"min.height",0,_),this.maxHeight=c(D,"max.height",0,_),this.snapWidth=c(D,"snap.width",0,_),this.snapHeight=c(D,"snap.height",0,_),this.renderType=c(_,"type",T.AUTO),this.canvas=c(_,"canvas",null),this.context=c(_,"context",null),this.canvasStyle=c(_,"canvasStyle",null),this.customEnvironment=c(_,"customEnvironment",!1),this.sceneConfig=c(_,"scene",null),this.seed=c(_,"seed",[(Date.now()*Math.random()).toString()]),d.RND=new d.RandomDataGenerator(this.seed),this.gameTitle=c(_,"title",""),this.gameURL=c(_,"url","https://phaser.io/"+T.LOG_VERSION),this.gameVersion=c(_,"version",""),this.autoFocus=c(_,"autoFocus",!0),this.stableSort=c(_,"stableSort",-1),-1===this.stableSort&&(this.stableSort=f.browser.es2019?1:0),f.features.stableSort=this.stableSort,this.domCreateContainer=c(_,"dom.createContainer",!1),this.domPointerEvents=c(_,"dom.pointerEvents","none"),this.inputKeyboard=c(_,"input.keyboard",!0),this.inputKeyboardEventTarget=c(_,"input.keyboard.target",window),this.inputKeyboardCapture=c(_,"input.keyboard.capture",[]),this.inputMouse=c(_,"input.mouse",!0),this.inputMouseEventTarget=c(_,"input.mouse.target",null),this.inputMousePreventDefaultDown=c(_,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=c(_,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=c(_,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=c(_,"input.mouse.preventDefaultWheel",!0),this.inputTouch=c(_,"input.touch",f.input.touch),this.inputTouchEventTarget=c(_,"input.touch.target",null),this.inputTouchCapture=c(_,"input.touch.capture",!0),this.inputActivePointers=c(_,"input.activePointers",1),this.inputSmoothFactor=c(_,"input.smoothFactor",0),this.inputWindowEvents=c(_,"input.windowEvents",!0),this.inputGamepad=c(_,"input.gamepad",!1),this.inputGamepadEventTarget=c(_,"input.gamepad.target",window),this.disableContextMenu=c(_,"disableContextMenu",!1),this.audio=c(_,"audio",{}),this.hideBanner=!1===c(_,"banner",null),this.hidePhaser=c(_,"banner.hidePhaser",!1),this.bannerTextColor=c(_,"banner.text","#ffffff"),this.bannerBackgroundColor=c(_,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=c(_,"fps",null),this.disablePreFX=c(_,"disablePreFX",!1),this.disablePostFX=c(_,"disablePostFX",!1);var I=c(_,"render",null);this.pipeline=c(I,"pipeline",null,_),this.autoMobilePipeline=c(I,"autoMobilePipeline",!0,_),this.defaultPipeline=c(I,"defaultPipeline",g.MULTI_PIPELINE,_),this.antialias=c(I,"antialias",!0,_),this.antialiasGL=c(I,"antialiasGL",!0,_),this.mipmapFilter=c(I,"mipmapFilter","",_),this.desynchronized=c(I,"desynchronized",!1,_),this.roundPixels=c(I,"roundPixels",!1,_),this.pixelArt=c(I,"pixelArt",1!==this.zoom,_),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=c(I,"transparent",!1,_),this.clearBeforeRender=c(I,"clearBeforeRender",!0,_),this.preserveDrawingBuffer=c(I,"preserveDrawingBuffer",!1,_),this.premultipliedAlpha=c(I,"premultipliedAlpha",!0,_),this.failIfMajorPerformanceCaveat=c(I,"failIfMajorPerformanceCaveat",!1,_),this.powerPreference=c(I,"powerPreference","default",_),this.batchSize=c(I,"batchSize",4096,_),this.maxTextures=c(I,"maxTextures",-1,_),this.maxLights=c(I,"maxLights",10,_);var R=c(_,"backgroundColor",0);this.backgroundColor=v(R),this.transparent&&(this.backgroundColor=v(0),this.backgroundColor.alpha=0),this.preBoot=c(_,"callbacks.preBoot",p),this.postBoot=c(_,"callbacks.postBoot",p),this.physics=c(_,"physics",{}),this.defaultPhysicsSystem=c(this.physics,"default",!1),this.loaderBaseURL=c(_,"loader.baseURL",""),this.loaderPath=c(_,"loader.path",""),this.loaderMaxParallelDownloads=c(_,"loader.maxParallelDownloads",f.os.android?6:32),this.loaderCrossOrigin=c(_,"loader.crossOrigin",void 0),this.loaderResponseType=c(_,"loader.responseType",""),this.loaderAsync=c(_,"loader.async",!0),this.loaderUser=c(_,"loader.user",""),this.loaderPassword=c(_,"loader.password",""),this.loaderTimeout=c(_,"loader.timeout",0),this.loaderMaxRetries=c(_,"loader.maxRetries",2),this.loaderWithCredentials=c(_,"loader.withCredentials",!1),this.loaderImageLoadType=c(_,"loader.imageLoadType","XHR"),this.loaderLocalScheme=c(_,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=c(_,"fx.glow.quality",.1),this.glowFXDistance=c(_,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var F=c(_,"plugins",null),L=m.DefaultScene;F&&(Array.isArray(F)?this.defaultPlugins=F:u(F)&&(this.installGlobalPlugins=h(F,"global",[]),this.installScenePlugins=h(F,"scene",[]),Array.isArray(F.default)?L=F.default:Array.isArray(F.defaultMerge)&&(L=L.concat(F.defaultMerge)))),this.defaultPlugins=L;var V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=c(_,"images.default",V+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=c(_,"images.missing",V+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=c(_,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=T.WEBGL:window.FORCE_CANVAS&&(this.renderType=T.CANVAS))}});C.exports=x},86054:(C,k,a)=>{var y=a(20623),T=a(27919),m=a(8054),f=a(89357);C.exports=function(c){var u=c.config;if((u.customEnvironment||u.canvas)&&u.renderType===m.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!u.customEnvironment&&!u.canvas&&u.renderType!==m.HEADLESS)if(u.renderType===m.AUTO&&(u.renderType=f.webGL?m.WEBGL:m.CANVAS),u.renderType===m.WEBGL){if(!f.webGL)throw new Error("Cannot create WebGL context, aborting.")}else{if(u.renderType!==m.CANVAS)throw new Error("Unknown value for renderer type: "+u.renderType);if(!f.canvas)throw new Error("Cannot create Canvas context, aborting.")}u.antialias||T.disableSmoothing();var v,x,p=c.scale.baseSize,d=p.width,g=p.height;u.canvas?(c.canvas=u.canvas,c.canvas.width=d,c.canvas.height=g):c.canvas=T.create(c,d,g,u.renderType),u.canvasStyle&&(c.canvas.style=u.canvasStyle),u.antialias||y.setCrisp(c.canvas),u.renderType!==m.HEADLESS&&(v=a(68627),x=a(74797),u.renderType===m.WEBGL?c.renderer=new x(c):(c.renderer=new v(c),c.context=c.renderer.gameContext))}},96391:(C,k,a)=>{var y=a(8054);C.exports=function(m){var f=m.config;if(!f.hideBanner){var h="WebGL";f.renderType===y.CANVAS?h="Canvas":f.renderType===y.HEADLESS&&(h="Headless");var p,c=f.audio,u=m.device.audio;if(p=u.webAudio&&!c.disableWebAudio?"Web Audio":c.noAudio||!u.webAudio&&!u.audioData?"No Audio":"HTML5 Audio",m.device.browser.ie)window.console&&console.log("Phaser v"+y.VERSION+" / https://phaser.io");else{var v,d="",g=[d];Array.isArray(f.bannerBackgroundColor)?(f.bannerBackgroundColor.forEach(function(b){d=d.concat("%c "),g.push("background: "+b),v=b}),g[g.length-1]="color: "+f.bannerTextColor+"; background: "+v):(d=d.concat("%c "),g.push("color: "+f.bannerTextColor+"; background: "+f.bannerBackgroundColor)),g.push("background: transparent"),f.gameTitle&&(d=d.concat(f.gameTitle),f.gameVersion&&(d=d.concat(" v"+f.gameVersion)),f.hidePhaser||(d=d.concat(" / "))),f.hidePhaser||(d=d.concat("Phaser v"+y.VERSION+" ("+h+" | "+p+")")),d=d.concat(" %c "+f.gameURL),g[0]=d,console.log.apply(console,g)}}}},50127:(C,k,a)=>{var y=a(40366),T=a(60848),m=a(24047),f=a(27919),h=a(83419),c=a(69547),u=a(83719),p=a(86054),d=a(45893),g=a(96391),v=a(82264),x=a(57264),b=a(50792),_=a(8443),E=a(7003),A=a(37277),D=a(77332),I=a(76531),R=a(60903),F=a(69442),L=a(17130),V=a(65898),B=a(51085),G=a(14747),H=new h({initialize:function(tt){this.config=new c(tt),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new b,this.anims=new T(this),this.textures=new L(this),this.cache=new m(this),this.registry=new d(this,new b),this.input=new E(this,this.config),this.scene=new R(this,this.config.sceneConfig),this.device=v,this.scale=new I(this,this.config),this.sound=null,this.sound=G.create(this),this.loop=new V(this,this.config.fps),this.plugins=new D(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,x(this.boot.bind(this))},boot:function(){A.hasCore("EventEmitter")?(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),p(this),u(this),g(this),y(this.canvas,this.config.parent),this.textures.once(F.READY,this.texturesReady,this),this.events.emit(_.BOOT)):console.warn("Aborting. Core Plugins missing.")},texturesReady:function(){this.events.emit(_.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.loop.start(this.renderer?this.step.bind(this):this.headlessStep.bind(this)),B(this);var K=this.events;K.on(_.HIDDEN,this.onHidden,this),K.on(_.VISIBLE,this.onVisible,this),K.on(_.BLUR,this.onBlur,this),K.on(_.FOCUS,this.onFocus,this)},step:function(K,tt){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var at=this.events;at.emit(_.PRE_STEP,K,tt),at.emit(_.STEP,K,tt),this.scene.update(K,tt),at.emit(_.POST_STEP,K,tt);var lt=this.renderer;lt.preRender(),at.emit(_.PRE_RENDER,lt,K,tt),this.scene.render(lt),lt.postRender(),at.emit(_.POST_RENDER,lt,K,tt)}},headlessStep:function(K,tt){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var at=this.events;at.emit(_.PRE_STEP,K,tt),at.emit(_.STEP,K,tt),this.scene.update(K,tt),at.emit(_.POST_STEP,K,tt),this.scene.isProcessing=!1,at.emit(_.PRE_RENDER,null,K,tt),at.emit(_.POST_RENDER,null,K,tt)}},onHidden:function(){this.loop.pause(),this.events.emit(_.PAUSE)},pause:function(){var K=this.isPaused;this.isPaused=!0,K||this.events.emit(_.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(_.RESUME,this.loop.pauseDuration)},resume:function(){var K=this.isPaused;this.isPaused=!1,K&&this.events.emit(_.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(K,tt){void 0===tt&&(tt=!1),this.pendingDestroy=!0,this.removeCanvas=K,this.noReturn=tt},runDestroy:function(){this.scene.destroy(),this.events.emit(_.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(f.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});C.exports=H},65898:(C,k,a)=>{var y=a(83419),T=a(35154),m=a(29747),f=a(43092),h=new y({initialize:function(u,p){this.game=u,this.raf=new f,this.started=!1,this.running=!1,this.minFps=T(p,"min",5),this.targetFps=T(p,"target",60),this.fpsLimit=T(p,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=m,this.forceSetTimeOut=T(p,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=T(p,"deltaHistory",10),this.panicMax=T(p,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=T(p,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var c=window.performance.now();this.time=c,this.lastTime=c,this.nextFpsUpdate=c+1e3,this.framesThisSecond=0;for(var u=0;u<this.deltaSmoothingMax;u++)this.deltaHistory[u]=Math.min(this._target,this.deltaHistory[u]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(c){if(this.started)return this;this.started=!0,this.running=!0;for(var u=0;u<this.deltaSmoothingMax;u++)this.deltaHistory[u]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=c;var p=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(p,this.forceSetTimeOut,this._target)},smoothDelta:function(c){var u=this.deltaIndex,p=this.deltaHistory,d=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,c=Math.min(c,this._target)),c>this._min&&(c=p[u],c=Math.min(c,this._min)),p[u]=c,this.deltaIndex++,this.deltaIndex>=d&&(this.deltaIndex=0);for(var g=0,v=0;v<d;v++)g+=p[v];return g/d},updateFPS:function(c){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=c+1e3,this.framesThisSecond=0},stepLimitFPS:function(c){this.now=c;var u=Math.max(0,c-this.lastTime);this.rawDelta=u,this.time+=this.rawDelta,this.smoothStep&&(u=this.smoothDelta(u)),this.delta+=u,c>=this.nextFpsUpdate&&this.updateFPS(c),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(c,this.delta),this.delta=0),this.lastTime=c,this.frame++},step:function(c){this.now=c;var u=Math.max(0,c-this.lastTime);this.rawDelta=u,this.time+=this.rawDelta,this.smoothStep&&(u=this.smoothDelta(u)),this.delta=u,c>=this.nextFpsUpdate&&this.updateFPS(c),this.framesThisSecond++,this.callback(c,u),this.lastTime=c,this.frame++},tick:function(){var c=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(c):this.step(c)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(c){void 0===c&&(c=!1);var u=window.performance.now();if(!this.running){c&&(this.startTime+=-this.lastTime+(this.lastTime+u));var p=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(p,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=u+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});C.exports=h},51085:(C,k,a)=>{var y=a(8443);C.exports=function(m){var f,h=m.events;void 0!==document.hidden?f="visibilitychange":["webkit","moz","ms"].forEach(function(p){void 0!==document[p+"Hidden"]&&(document.hidden=function(){return document[p+"Hidden"]},f=p+"visibilitychange")}),f&&document.addEventListener(f,function(p){document.hidden||"pause"===p.type?h.emit(y.HIDDEN):h.emit(y.VISIBLE)},!1),window.onblur=function(){h.emit(y.BLUR)},window.onfocus=function(){h.emit(y.FOCUS)},window.focus&&m.config.autoFocus&&window.focus()}},97217:C=>{C.exports="blur"},47548:C=>{C.exports="boot"},19814:C=>{C.exports="contextlost"},68446:C=>{C.exports="destroy"},41700:C=>{C.exports="focus"},25432:C=>{C.exports="hidden"},65942:C=>{C.exports="pause"},59211:C=>{C.exports="postrender"},47789:C=>{C.exports="poststep"},39066:C=>{C.exports="prerender"},460:C=>{C.exports="prestep"},16175:C=>{C.exports="ready"},42331:C=>{C.exports="resume"},11966:C=>{C.exports="step"},32969:C=>{C.exports="systemready"},94830:C=>{C.exports="visible"},8443:(C,k,a)=>{C.exports={BLUR:a(97217),BOOT:a(47548),CONTEXT_LOST:a(19814),DESTROY:a(68446),FOCUS:a(41700),HIDDEN:a(25432),PAUSE:a(65942),POST_RENDER:a(59211),POST_STEP:a(47789),PRE_RENDER:a(39066),PRE_STEP:a(460),READY:a(16175),RESUME:a(42331),STEP:a(11966),SYSTEM_READY:a(32969),VISIBLE:a(94830)}},42857:(C,k,a)=>{C.exports={Config:a(69547),CreateRenderer:a(86054),DebugHeader:a(96391),Events:a(8443),TimeStep:a(65898),VisibilityHandler:a(51085)}},99584:(C,k,a)=>{var y=a(5290),T=a(27919),m=a(35154);C.exports=function(h){var c=m(h,"data",[]),u=m(h,"canvas",null),p=m(h,"palette",y),d=m(h,"pixelWidth",1),g=m(h,"pixelHeight",d),v=m(h,"resizeCanvas",!0),x=m(h,"clearCanvas",!0),b=m(h,"preRender",null),_=m(h,"postRender",null),E=Math.floor(Math.abs(c[0].length*d)),A=Math.floor(Math.abs(c.length*g));u||(u=T.create2D(this,E,A),v=!1,x=!1),v&&(u.width=E,u.height=A);var D=u.getContext("2d",{willReadFrequently:!0});x&&D.clearRect(0,0,E,A),b&&b(u,D);for(var I=0;I<c.length;I++)for(var R=c[I],F=0;F<R.length;F++){var L=R[F];"."!==L&&" "!==L&&(D.fillStyle=p[L],D.fillRect(F*d,I*g,d,g))}return _&&_(u,D),u}},15822:(C,k,a)=>{C.exports={GenerateTexture:a(99584),Palettes:a(57763)}},5290:C=>{C.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:C=>{C.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:C=>{C.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:C=>{C.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:C=>{C.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(C,k,a)=>{C.exports={ARNE16:a(5290),C64:a(23816),CGA:a(9866),JMP:a(77552),MSX:a(92259)}},46728:(C,k,a)=>{var y=a(83419),T=a(36316),m=a(80021),f=a(26099),h=new y({Extends:m,initialize:function(u,p,d,g){m.call(this,"CubicBezierCurve"),Array.isArray(u)&&(g=new f(u[6],u[7]),d=new f(u[4],u[5]),p=new f(u[2],u[3]),u=new f(u[0],u[1])),this.p0=u,this.p1=p,this.p2=d,this.p3=g},getStartPoint:function(c){return void 0===c&&(c=new f),c.copy(this.p0)},getResolution:function(c){return c},getPoint:function(c,u){void 0===u&&(u=new f);var p=this.p0,d=this.p1,g=this.p2,v=this.p3;return u.set(T(c,p.x,d.x,g.x,v.x),T(c,p.y,d.y,g.y,v.y))},draw:function(c,u){void 0===u&&(u=32);var p=this.getPoints(u);c.beginPath(),c.moveTo(this.p0.x,this.p0.y);for(var d=1;d<p.length;d++)c.lineTo(p[d].x,p[d].y);return c.strokePath(),c},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});h.fromJSON=function(c){var u=c.points,p=new f(u[0],u[1]),d=new f(u[2],u[3]),g=new f(u[4],u[5]),v=new f(u[6],u[7]);return new h(p,d,g,v)},C.exports=h},80021:(C,k,a)=>{var y=a(83419),T=a(19217),m=a(87841),f=a(26099),h=new y({initialize:function(u){this.type=u,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new f,this._tmpVec2B=new f},draw:function(c,u){return void 0===u&&(u=32),c.strokePoints(this.getPoints(u))},getBounds:function(c,u){c||(c=new m),void 0===u&&(u=16);var p=this.getLength();u>p&&(u=p/2);var d=Math.max(1,Math.round(p/u));return T(this.getSpacedPoints(d),c)},getDistancePoints:function(c){var u=this.getLength(),p=Math.max(1,u/c);return this.getSpacedPoints(p)},getEndPoint:function(c){return void 0===c&&(c=new f),this.getPointAt(1,c)},getLength:function(){var c=this.getLengths();return c[c.length-1]},getLengths:function(c){if(void 0===c&&(c=this.arcLengthDivisions),this.cacheArcLengths.length===c+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var p,u=[],d=this.getPoint(0,this._tmpVec2A),g=0;u.push(0);for(var v=1;v<=c;v++)g+=(p=this.getPoint(v/c,this._tmpVec2B)).distance(d),u.push(g),d.copy(p);return this.cacheArcLengths=u,u},getPointAt:function(c,u){var p=this.getUtoTmapping(c);return this.getPoint(p,u)},getPoints:function(c,u,p){void 0===p&&(p=[]),c||(c=u?this.getLength()/u:this.defaultDivisions);for(var d=0;d<=c;d++)p.push(this.getPoint(d/c));return p},getRandomPoint:function(c){return void 0===c&&(c=new f),this.getPoint(Math.random(),c)},getSpacedPoints:function(c,u,p){void 0===p&&(p=[]),c||(c=u?this.getLength()/u:this.defaultDivisions);for(var d=0;d<=c;d++){var g=this.getUtoTmapping(d/c,null,c);p.push(this.getPoint(g))}return p},getStartPoint:function(c){return void 0===c&&(c=new f),this.getPointAt(0,c)},getTangent:function(c,u){void 0===u&&(u=new f);var p=1e-4,d=c-p,g=c+p;return d<0&&(d=0),g>1&&(g=1),this.getPoint(d,this._tmpVec2A),this.getPoint(g,u),u.subtract(this._tmpVec2A).normalize()},getTangentAt:function(c,u){var p=this.getUtoTmapping(c);return this.getTangent(p,u)},getTFromDistance:function(c,u){return c<=0?0:this.getUtoTmapping(0,c,u)},getUtoTmapping:function(c,u,p){var x,d=this.getLengths(p),g=0,v=d.length;x=u?Math.min(u,d[v-1]):c*d[v-1];for(var E,b=0,_=v-1;b<=_;)if((E=d[g=Math.floor(b+(_-b)/2)]-x)<0)b=g+1;else{if(!(E>0)){_=g;break}_=g-1}if(d[g=_]===x)return g/(v-1);var A=d[g];return(g+(x-A)/(d[g+1]-A))/(v-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});C.exports=h},73825:(C,k,a)=>{var y=a(83419),T=a(80021),m=a(39506),f=a(35154),h=a(43396),c=a(26099),u=new y({Extends:T,initialize:function(d,g,v,x,b,_,E,A){if("object"==typeof d){var D=d;d=f(D,"x",0),g=f(D,"y",0),v=f(D,"xRadius",0),x=f(D,"yRadius",v),b=f(D,"startAngle",0),_=f(D,"endAngle",360),E=f(D,"clockwise",!1),A=f(D,"rotation",0)}else void 0===x&&(x=v),void 0===b&&(b=0),void 0===_&&(_=360),void 0===E&&(E=!1),void 0===A&&(A=0);T.call(this,"EllipseCurve"),this.p0=new c(d,g),this._xRadius=v,this._yRadius=x,this._startAngle=m(b),this._endAngle=m(_),this._clockwise=E,this._rotation=m(A)},getStartPoint:function(p){return void 0===p&&(p=new c),this.getPoint(0,p)},getResolution:function(p){return 2*p},getPoint:function(p,d){void 0===d&&(d=new c);for(var g=2*Math.PI,v=this._endAngle-this._startAngle,x=Math.abs(v)<Number.EPSILON;v<0;)v+=g;for(;v>g;)v-=g;v<Number.EPSILON&&(v=x?0:g),this._clockwise&&!x&&(v===g?v=-g:v-=g);var b=this._startAngle+p*v,_=this.p0.x+this._xRadius*Math.cos(b),E=this.p0.y+this._yRadius*Math.sin(b);if(0!==this._rotation){var A=Math.cos(this._rotation),D=Math.sin(this._rotation),I=_-this.p0.x,R=E-this.p0.y;_=I*A-R*D+this.p0.x,E=I*D+R*A+this.p0.y}return d.set(_,E)},setXRadius:function(p){return this.xRadius=p,this},setYRadius:function(p){return this.yRadius=p,this},setWidth:function(p){return this.xRadius=p/2,this},setHeight:function(p){return this.yRadius=p/2,this},setStartAngle:function(p){return this.startAngle=p,this},setEndAngle:function(p){return this.endAngle=p,this},setClockwise:function(p){return this.clockwise=p,this},setRotation:function(p){return this.rotation=p,this},x:{get:function(){return this.p0.x},set:function(p){this.p0.x=p}},y:{get:function(){return this.p0.y},set:function(p){this.p0.y=p}},xRadius:{get:function(){return this._xRadius},set:function(p){this._xRadius=p}},yRadius:{get:function(){return this._yRadius},set:function(p){this._yRadius=p}},startAngle:{get:function(){return h(this._startAngle)},set:function(p){this._startAngle=m(p)}},endAngle:{get:function(){return h(this._endAngle)},set:function(p){this._endAngle=m(p)}},clockwise:{get:function(){return this._clockwise},set:function(p){this._clockwise=p}},angle:{get:function(){return h(this._rotation)},set:function(p){this._rotation=m(p)}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:h(this._startAngle),endAngle:h(this._endAngle),clockwise:this._clockwise,rotation:h(this._rotation)}}});u.fromJSON=function(p){return new u(p)},C.exports=u},33951:(C,k,a)=>{var y=a(83419),T=a(80021),m=a(19217),f=a(87841),h=a(26099),c=new y({Extends:T,initialize:function(p,d){T.call(this,"LineCurve"),Array.isArray(p)&&(d=new h(p[2],p[3]),p=new h(p[0],p[1])),this.p0=p,this.p1=d,this.arcLengthDivisions=1},getBounds:function(u){return void 0===u&&(u=new f),m([this.p0,this.p1],u)},getStartPoint:function(u){return void 0===u&&(u=new h),u.copy(this.p0)},getResolution:function(u){return void 0===u&&(u=1),u},getPoint:function(u,p){return void 0===p&&(p=new h),1===u?p.copy(this.p1):(p.copy(this.p1).subtract(this.p0).scale(u).add(this.p0),p)},getPointAt:function(u,p){return this.getPoint(u,p)},getTangent:function(u,p){return void 0===p&&(p=new h),p.copy(this.p1).subtract(this.p0).normalize(),p},getUtoTmapping:function(u,p,d){var g;if(p){var v=this.getLengths(d),x=v[v.length-1];g=Math.min(p,x)/x}else g=u;return g},draw:function(u){return u.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),u},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});c.fromJSON=function(u){var p=u.points,d=new h(p[0],p[1]),g=new h(p[2],p[3]);return new c(d,g)},C.exports=c},14744:(C,k,a)=>{var y=a(83419),T=a(80021),m=a(32112),f=a(26099),h=new y({Extends:T,initialize:function(u,p,d){T.call(this,"QuadraticBezierCurve"),Array.isArray(u)&&(d=new f(u[4],u[5]),p=new f(u[2],u[3]),u=new f(u[0],u[1])),this.p0=u,this.p1=p,this.p2=d},getStartPoint:function(c){return void 0===c&&(c=new f),c.copy(this.p0)},getResolution:function(c){return c},getPoint:function(c,u){void 0===u&&(u=new f);var p=this.p0,d=this.p1,g=this.p2;return u.set(m(c,p.x,d.x,g.x),m(c,p.y,d.y,g.y))},draw:function(c,u){void 0===u&&(u=32);var p=this.getPoints(u);c.beginPath(),c.moveTo(this.p0.x,this.p0.y);for(var d=1;d<p.length;d++)c.lineTo(p[d].x,p[d].y);return c.strokePath(),c},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});h.fromJSON=function(c){var u=c.points,p=new f(u[0],u[1]),d=new f(u[2],u[3]),g=new f(u[4],u[5]);return new h(p,d,g)},C.exports=h},42534:(C,k,a)=>{var y=a(87842),T=a(83419),m=a(80021),f=a(26099),h=new T({Extends:m,initialize:function(u){void 0===u&&(u=[]),m.call(this,"SplineCurve"),this.points=[],this.addPoints(u)},addPoints:function(c){for(var u=0;u<c.length;u++){var p=new f;"number"==typeof c[u]?(p.x=c[u],p.y=c[u+1],u++):Array.isArray(c[u])?(p.x=c[u][0],p.y=c[u][1]):(p.x=c[u].x,p.y=c[u].y),this.points.push(p)}return this},addPoint:function(c,u){var p=new f(c,u);return this.points.push(p),p},getStartPoint:function(c){return void 0===c&&(c=new f),c.copy(this.points[0])},getResolution:function(c){return c*this.points.length},getPoint:function(c,u){void 0===u&&(u=new f);var p=this.points,d=(p.length-1)*c,g=Math.floor(d),v=d-g,x=p[0===g?g:g-1],b=p[g],_=p[g>p.length-2?p.length-1:g+1],E=p[g>p.length-3?p.length-1:g+2];return u.set(y(v,x.x,b.x,_.x,E.x),y(v,x.y,b.y,_.y,E.y))},toJSON:function(){for(var c=[],u=0;u<this.points.length;u++)c.push(this.points[u].x),c.push(this.points[u].y);return{type:this.type,points:c}}});h.fromJSON=function(c){return new h(c.points)},C.exports=h},25410:(C,k,a)=>{C.exports={Path:a(46669),MoveTo:a(68618),CubicBezier:a(46728),Curve:a(80021),Ellipse:a(73825),Line:a(33951),QuadraticBezier:a(14744),Spline:a(42534)}},68618:(C,k,a)=>{var y=a(83419),T=a(26099),m=new y({initialize:function(h,c){this.active=!1,this.p0=new T(h,c)},getPoint:function(f,h){return void 0===h&&(h=new T),h.copy(this.p0)},getPointAt:function(f,h){return this.getPoint(f,h)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});C.exports=m},46669:(C,k,a)=>{var y=a(83419),T=a(46728),m=a(73825),f=a(39429),h=a(33951),c=a(68618),u=a(14744),p=a(87841),d=a(42534),g=a(26099),v=a(36383),x=new y({initialize:function(_,E){void 0===_&&(_=0),void 0===E&&(E=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new g,this._tmpVec2A=new g,this._tmpVec2B=new g,"object"==typeof _?this.fromJSON(_):this.startPoint.set(_,E)},add:function(b){return this.curves.push(b),this},circleTo:function(b,_,E){return void 0===_&&(_=!1),this.ellipseTo(b,b,0,360,_,E)},closePath:function(){var b=this.curves[0].getPoint(0),_=this.curves[this.curves.length-1].getPoint(1);return b.equals(_)||this.curves.push(new h(_,b)),this},cubicBezierTo:function(b,_,E,A,D,I){var F,L,V,R=this.getEndPoint();return b instanceof g?(F=b,L=_,V=E):(F=new g(E,A),L=new g(D,I),V=new g(b,_)),this.add(new T(R,F,L,V))},quadraticBezierTo:function(b,_,E,A){var I,R,D=this.getEndPoint();return b instanceof g?(I=b,R=_):(I=new g(E,A),R=new g(b,_)),this.add(new u(D,I,R))},draw:function(b,_){for(var E=0;E<this.curves.length;E++){var A=this.curves[E];A.active&&A.draw(b,_)}return b},ellipseTo:function(b,_,E,A,D,I){var R=new m(0,0,b,_,E,A,D,I),F=this.getEndPoint(this._tmpVec2A),L=R.getStartPoint(this._tmpVec2B);return F.subtract(L),R.x=F.x,R.y=F.y,this.add(R)},fromJSON:function(b){this.curves=[],this.cacheLengths=[],this.startPoint.set(b.x,b.y),this.autoClose=b.autoClose;for(var _=0;_<b.curves.length;_++){var E=b.curves[_];switch(E.type){case"LineCurve":this.add(h.fromJSON(E));break;case"EllipseCurve":this.add(m.fromJSON(E));break;case"SplineCurve":this.add(d.fromJSON(E));break;case"CubicBezierCurve":this.add(T.fromJSON(E));break;case"QuadraticBezierCurve":this.add(u.fromJSON(E))}}return this},getBounds:function(b,_){void 0===b&&(b=new p),void 0===_&&(_=16),b.x=Number.MAX_VALUE,b.y=Number.MAX_VALUE;for(var E=new p,A=v.MIN_SAFE_INTEGER,D=v.MIN_SAFE_INTEGER,I=0;I<this.curves.length;I++){var R=this.curves[I];R.active&&(R.getBounds(E,_),b.x=Math.min(b.x,E.x),b.y=Math.min(b.y,E.y),A=Math.max(A,E.right),D=Math.max(D,E.bottom))}return b.right=A,b.bottom=D,b},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var b=[],_=0,E=0;E<this.curves.length;E++)_+=this.curves[E].getLength(),b.push(_);return this.cacheLengths=b,b},getCurveAt:function(b){for(var _=b*this.getLength(),E=this.getCurveLengths(),A=0;A<E.length;){if(E[A]>=_)return this.curves[A];A++}return null},getEndPoint:function(b){return void 0===b&&(b=new g),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,b):b.copy(this.startPoint),b},getLength:function(){var b=this.getCurveLengths();return b[b.length-1]},getPoint:function(b,_){void 0===_&&(_=new g);for(var E=b*this.getLength(),A=this.getCurveLengths(),D=0;D<A.length;){if(A[D]>=E){var I=A[D]-E,R=this.curves[D],F=R.getLength();return R.getPointAt(0===F?0:1-I/F,_)}D++}return null},getPoints:function(b,_){!b&&!_&&(b=this.defaultDivisions);for(var A,E=[],D=0;D<this.curves.length;D++){var I=this.curves[D];if(I.active)for(var R=I.getResolution(b),F=I.getPoints(R,_),L=0;L<F.length;L++){var V=F[L];A&&A.equals(V)||(E.push(V),A=V)}}return this.autoClose&&E.length>1&&!E[E.length-1].equals(E[0])&&E.push(E[0]),E},getRandomPoint:function(b){return void 0===b&&(b=new g),this.getPoint(Math.random(),b)},getSpacedPoints:function(b){void 0===b&&(b=40);for(var _=[],E=0;E<=b;E++)_.push(this.getPoint(E/b));return this.autoClose&&_.push(_[0]),_},getStartPoint:function(b){return void 0===b&&(b=new g),b.copy(this.startPoint)},getTangent:function(b,_){void 0===_&&(_=new g);for(var E=b*this.getLength(),A=this.getCurveLengths(),D=0;D<A.length;){if(A[D]>=E){var I=A[D]-E,R=this.curves[D],F=R.getLength();return R.getTangentAt(0===F?0:1-I/F,_)}D++}return null},lineTo:function(b,_){b instanceof g?this._tmpVec2B.copy(b):"object"==typeof b?this._tmpVec2B.setFromObject(b):this._tmpVec2B.set(b,_);var E=this.getEndPoint(this._tmpVec2A);return this.add(new h([E.x,E.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(b){return b.unshift(this.getEndPoint()),this.add(new d(b))},moveTo:function(b,_){return this.add(b instanceof g?new c(b.x,b.y):new c(b,_))},toJSON:function(){for(var b=[],_=0;_<this.curves.length;_++)b.push(this.curves[_].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:b}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});f.register("path",function(b,_){return new x(b,_)}),C.exports=x},45893:(C,k,a)=>{var y=a(83419),T=a(24882),m=new y({initialize:function(h,c){this.parent=h,this.events=c,c||(this.events=h.events?h.events:h),this.list={},this.values={},this._frozen=!1,!h.hasOwnProperty("sys")&&this.events&&this.events.once(T.DESTROY,this.destroy,this)},get:function(f){var h=this.list;if(Array.isArray(f)){for(var c=[],u=0;u<f.length;u++)c.push(h[f[u]]);return c}return h[f]},getAll:function(){var f={};for(var h in this.list)this.list.hasOwnProperty(h)&&(f[h]=this.list[h]);return f},query:function(f){var h={};for(var c in this.list)this.list.hasOwnProperty(c)&&c.match(f)&&(h[c]=this.list[c]);return h},set:function(f,h){if(this._frozen)return this;if("string"==typeof f)return this.setValue(f,h);for(var c in f)this.setValue(c,f[c]);return this},inc:function(f,h){if(this._frozen)return this;void 0===h&&(h=1);var c=this.get(f);return void 0===c&&(c=0),this.set(f,c+h),this},toggle:function(f){return this._frozen||this.set(f,!this.get(f)),this},setValue:function(f,h){if(this._frozen)return this;if(this.has(f))this.values[f]=h;else{var c=this,u=this.list,p=this.events,d=this.parent;Object.defineProperty(this.values,f,{enumerable:!0,configurable:!0,get:function(){return u[f]},set:function(g){if(!c._frozen){var v=u[f];u[f]=g,p.emit(T.CHANGE_DATA,d,f,g,v),p.emit(T.CHANGE_DATA_KEY+f,d,g,v)}}}),u[f]=h,p.emit(T.SET_DATA,d,f,h)}return this},each:function(f,h){for(var c=[this.parent,null,void 0],u=1;u<arguments.length;u++)c.push(arguments[u]);for(var p in this.list)c[1]=p,c[2]=this.list[p],f.apply(h,c);return this},merge:function(f,h){for(var c in void 0===h&&(h=!0),f)f.hasOwnProperty(c)&&(h||!h&&!this.has(c))&&this.setValue(c,f[c]);return this},remove:function(f){if(this._frozen)return this;if(!Array.isArray(f))return this.removeValue(f);for(var h=0;h<f.length;h++)this.removeValue(f[h]);return this},removeValue:function(f){if(this.has(f)){var h=this.list[f];delete this.list[f],delete this.values[f],this.events.emit(T.REMOVE_DATA,this.parent,f,h)}return this},pop:function(f){var h=void 0;return!this._frozen&&this.has(f)&&(h=this.list[f],delete this.list[f],delete this.values[f],this.events.emit(T.REMOVE_DATA,this.parent,f,h)),h},has:function(f){return this.list.hasOwnProperty(f)},setFreeze:function(f){return this._frozen=f,this},reset:function(){for(var f in this.list)delete this.list[f],delete this.values[f];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(T.CHANGE_DATA),this.events.off(T.SET_DATA),this.events.off(T.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(f){this._frozen=!!f}},count:{get:function(){var f=0;for(var h in this.list)void 0!==this.list[h]&&f++;return f}}});C.exports=m},63646:(C,k,a)=>{var y=a(83419),T=a(45893),m=a(37277),f=a(44594),h=new y({Extends:T,initialize:function(u){T.call(this,u,u.sys.events),this.scene=u,this.systems=u.sys,u.sys.events.once(f.BOOT,this.boot,this),u.sys.events.on(f.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){T.prototype.destroy.call(this),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});m.register("DataManagerPlugin",h,"data"),C.exports=h},10700:C=>{C.exports="changedata"},93608:C=>{C.exports="changedata-"},60883:C=>{C.exports="destroy"},69780:C=>{C.exports="removedata"},22166:C=>{C.exports="setdata"},24882:(C,k,a)=>{C.exports={CHANGE_DATA:a(10700),CHANGE_DATA_KEY:a(93608),DESTROY:a(60883),REMOVE_DATA:a(69780),SET_DATA:a(22166)}},44965:(C,k,a)=>{C.exports={DataManager:a(45893),DataManagerPlugin:a(63646),Events:a(24882)}},7098:(C,k,a)=>{var y=a(84148),T={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};C.exports=function m(){if("function"==typeof importScripts)return T;T.audioData=!!window.Audio,T.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var f=document.createElement("audio"),h=!!f.canPlayType;try{if(h){var c=function(d,g){var v=f.canPlayType("audio/"+d).replace(/^no$/,"");return g?!(!v&&!f.canPlayType("audio/"+g).replace(/^no$/,"")):!!v};if(T.ogg=c('ogg; codecs="vorbis"'),T.opus=c('ogg; codecs="opus"',"opus"),T.mp3=c("mpeg"),T.wav=c("wav"),T.m4a=c("x-m4a"),T.aac=c("aac"),T.flac=c("flac","x-flac"),T.webm=c('webm; codecs="vorbis"'),""!==f.canPlayType('audio/mp4; codecs="ec-3"'))if(y.edge)T.dolby=!0;else if(y.safari&&y.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var u=parseInt(RegExp.$1,10),p=parseInt(RegExp.$2,10);(10===u&&p>=11||u>10)&&(T.dolby=!0)}}}catch{}return T}()},84148:(C,k,a)=>{var y=a(25892),T={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};C.exports=function m(){var f=navigator.userAgent;return/Edg\/\d+/.test(f)?(T.edge=!0,T.es2019=!0):/OPR/.test(f)?(T.opera=!0,T.es2019=!0):/Chrome\/(\d+)/.test(f)&&!y.windowsPhone?(T.chrome=!0,T.chromeVersion=parseInt(RegExp.$1,10),T.es2019=T.chromeVersion>69):/Firefox\D+(\d+)/.test(f)?(T.firefox=!0,T.firefoxVersion=parseInt(RegExp.$1,10),T.es2019=T.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(f)&&y.iOS?(T.mobileSafari=!0,T.es2019=!0):/MSIE (\d+\.\d+);/.test(f)?(T.ie=!0,T.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(f)&&!y.windowsPhone?(T.safari=!0,T.safariVersion=parseInt(RegExp.$1,10),T.es2019=T.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(f)&&(T.ie=!0,T.trident=!0,T.tridentVersion=parseInt(RegExp.$1,10),T.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(f)&&(T.silk=!0),T}()},89289:(C,k,a)=>{var y=a(27919),T={supportInverseAlpha:!1,supportNewBlendModes:!1};C.exports=function h(){return"function"!=typeof importScripts&&void 0!==document&&(T.supportNewBlendModes=function m(){var c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",u="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",p=new Image;return p.onload=function(){var d=new Image;d.onload=function(){var v=y.create2D(d,6).getContext("2d",{willReadFrequently:!0});if(v.globalCompositeOperation="multiply",v.drawImage(p,0,0),v.drawImage(d,2,0),!v.getImageData(2,0,1,1))return!1;var x=v.getImageData(2,0,1,1).data;y.remove(d),T.supportNewBlendModes=255===x[0]&&0===x[1]&&0===x[2]},d.src=c+"/wCKxvRF"+u},p.src=c+"AP804Oa6"+u,!1}(),T.supportInverseAlpha=function f(){var u=y.create2D(this,2).getContext("2d",{willReadFrequently:!0});u.fillStyle="rgba(10, 20, 30, 0.5)",u.fillRect(0,0,1,1);var p=u.getImageData(0,0,1,1);if(null===p)return!1;u.putImageData(p,1,0);var d=u.getImageData(1,0,1,1),g=d.data[0]===p.data[0]&&d.data[1]===p.data[1]&&d.data[2]===p.data[2]&&d.data[3]===p.data[3];return y.remove(this),g}()),T}()},89357:(C,k,a)=>{var y=a(25892),T=a(84148),m=a(27919),f={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};C.exports=function c(){if("function"==typeof importScripts)return f;f.canvas=!!window.CanvasRenderingContext2D;try{f.localStorage=!!localStorage.getItem}catch{f.localStorage=!1}f.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),f.fileSystem=!!window.requestFileSystem;var u=!1;return f.webGL=function(){if(window.WebGLRenderingContext)try{var d=m.createWebGL(this),g=d.getContext("webgl")||d.getContext("experimental-webgl"),v=m.create2D(this),b=v.getContext("2d",{willReadFrequently:!0}).createImageData(1,1);return u=b.data instanceof Uint8ClampedArray,m.remove(d),m.remove(v),!!g}catch{return!1}return!1}(),f.worker=!!window.Worker,f.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,f.getUserMedia=f.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,T.firefox&&T.firefoxVersion<21&&(f.getUserMedia=!1),!y.iOS&&(T.ie||T.firefox||T.chrome)&&(f.canvasBitBltShift=!0),(T.safari||T.mobileSafari)&&(f.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(f.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(f.littleEndian=function h(){var u=new ArrayBuffer(4),p=new Uint8Array(u),d=new Uint32Array(u);return p[0]=161,p[1]=178,p[2]=195,p[3]=212,3569595041===d[0]||2712847316!==d[0]&&null}()),f.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&null!==f.littleEndian&&u,f}()},91639:C=>{var k={available:!1,cancel:"",keyboard:!1,request:""};C.exports=function a(){if("function"==typeof importScripts)return k;var y,T="Fullscreen",m="FullScreen",f=["request"+T,"request"+m,"webkitRequest"+T,"webkitRequest"+m,"msRequest"+T,"msRequest"+m,"mozRequest"+m,"mozRequest"+T];for(y=0;y<f.length;y++)if(document.documentElement[f[y]]){k.available=!0,k.request=f[y];break}var h=["cancel"+m,"exit"+T,"webkitCancel"+m,"webkitExit"+T,"msCancel"+m,"msExit"+T,"mozCancel"+m,"mozExit"+T];if(k.available)for(y=0;y<h.length;y++)if(document[h[y]]){k.cancel=h[y];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(k.keyboard=!0),Object.defineProperty(k,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),k}()},31784:(C,k,a)=>{var y=a(84148),T={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};C.exports=function m(){return"function"==typeof importScripts||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(T.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(T.mspointer=!0),navigator.getGamepads&&(T.gamepads=!0),"onwheel"in window||y.ie&&"WheelEvent"in window?T.wheelEvent="wheel":"onmousewheel"in window?T.wheelEvent="mousewheel":y.firefox&&"MouseScrollEvent"in window&&(T.wheelEvent="DOMMouseScroll")),T}()},25892:C=>{var k={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};C.exports=function a(){if("function"==typeof importScripts)return k;var y=navigator.userAgent;/Windows/.test(y)?k.windows=!0:/Mac OS/.test(y)&&!/like Mac OS/.test(y)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(k.iOS=!0,k.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),k.iOSVersion=parseInt(RegExp.$1,10)):k.macOS=!0:/Android/.test(y)?k.android=!0:/Linux/.test(y)?k.linux=!0:/iP[ao]d|iPhone/i.test(y)?(k.iOS=!0,navigator.appVersion.match(/OS (\d+)/),k.iOSVersion=parseInt(RegExp.$1,10),k.iPhone=-1!==y.toLowerCase().indexOf("iphone"),k.iPad=-1!==y.toLowerCase().indexOf("ipad")):/Kindle/.test(y)||/\bKF[A-Z][A-Z]+/.test(y)||/Silk.*Mobile Safari/.test(y)?k.kindle=!0:/CrOS/.test(y)&&(k.chromeOS=!0),(/Windows Phone/i.test(y)||/IEMobile/i.test(y))&&(k.android=!1,k.iOS=!1,k.macOS=!1,k.windows=!0,k.windowsPhone=!0);var T=/Silk/.test(y);return(k.windows||k.macOS||k.linux&&!T||k.chromeOS)&&(k.desktop=!0),(k.windowsPhone||/Windows NT/i.test(y)&&/Touch/i.test(y))&&(k.desktop=!1),navigator.standalone&&(k.webApp=!0),"function"!=typeof importScripts&&(void 0!==window.cordova&&(k.cordova=!0),void 0!==window.ejecta&&(k.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(k.node=!0),k.node&&"object"==typeof process.versions&&(k.nodeWebkit=!!process.versions["node-webkit"],k.electron=!!process.versions.electron),/Crosswalk/.test(y)&&(k.crosswalk=!0),k.pixelRatio=window.devicePixelRatio||1,k}()},43267:(C,k,a)=>{var y=a(95540),T={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};C.exports=function m(){if("function"==typeof importScripts)return T;var f=document.createElement("video"),h=!!f.canPlayType,c=/^no$/;try{h&&(f.canPlayType('video/ogg; codecs="theora"').replace(c,"")&&(T.ogg=!0),f.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(c,"")&&(T.h264=!0,T.mp4=!0),f.canPlayType("video/x-m4v").replace(c,"")&&(T.m4v=!0),f.canPlayType('video/webm; codecs="vp8, vorbis"').replace(c,"")&&(T.webm=!0),f.canPlayType('video/webm; codecs="vp9"').replace(c,"")&&(T.vp9=!0),f.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(c,"")&&(T.hls=!0))}catch{}return f.parentNode&&f.parentNode.removeChild(f),T.getVideoURL=function(u){Array.isArray(u)||(u=[u]);for(var p=0;p<u.length;p++){var g,d=y(u[p],"url",u[p]);if(0===d.indexOf("blob:"))return{url:d,type:""};if(g=0===d.indexOf("data:")?d.split(",")[0].match(/\/(.*?);/):d.match(/\.([a-zA-Z0-9]+)($|\?)/),g=y(u[p],"type",g?g[1]:"").toLowerCase(),T[g])return{url:d,type:g}}return null},T}()},82264:(C,k,a)=>{C.exports={os:a(25892),browser:a(84148),features:a(89357),input:a(31784),audio:a(7098),video:a(43267),fullscreen:a(91639),canvasFeatures:a(89289)}},89422:(C,k,a)=>{var y=a(83419),T=new Float32Array(20),m=new y({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(f){return this._matrix.set(f),this._dirty=!0,this},reset:function(){var f=this._matrix;return f.fill(0),f[0]=1,f[6]=1,f[12]=1,f[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var f=this._data;return this._dirty&&(f.set(this._matrix),f[4]/=255,f[9]/=255,f[14]/=255,f[19]/=255,this._dirty=!1),f},brightness:function(f,h){return void 0===f&&(f=0),void 0===h&&(h=!1),this.multiply([f,0,0,0,0,0,f,0,0,0,0,0,f,0,0,0,0,0,1,0],h)},saturate:function(f,h){void 0===f&&(f=0),void 0===h&&(h=!1);var c=2*f/3+1,u=-.5*(c-1);return this.multiply([c,u,u,0,0,u,c,u,0,0,u,u,c,0,0,0,0,0,1,0],h)},desaturate:function(f){return void 0===f&&(f=!1),this.saturate(-1,f)},hue:function(f,h){void 0===f&&(f=0),void 0===h&&(h=!1),f=f/180*Math.PI;var c=Math.cos(f),u=Math.sin(f),p=.213,d=.715,g=.072;return this.multiply([p+c*(1-p)+u*-p,d+c*-d+u*-d,g+c*-g+u*(1-g),0,0,p+c*-p+.143*u,d+c*(1-d)+.14*u,g+c*-g+-.283*u,0,0,p+c*-p+-.787*u,d+c*-d+u*d,g+c*(1-g)+u*g,0,0,0,0,0,1,0],h)},grayscale:function(f,h){return void 0===f&&(f=1),void 0===h&&(h=!1),this.saturate(-f,h)},blackWhite:function(f){return void 0===f&&(f=!1),this.multiply(m.BLACK_WHITE,f)},contrast:function(f,h){void 0===f&&(f=0),void 0===h&&(h=!1);var c=f+1,u=-.5*(c-1);return this.multiply([c,0,0,0,u,0,c,0,0,u,0,0,c,0,u,0,0,0,1,0],h)},negative:function(f){return void 0===f&&(f=!1),this.multiply(m.NEGATIVE,f)},desaturateLuminance:function(f){return void 0===f&&(f=!1),this.multiply(m.DESATURATE_LUMINANCE,f)},sepia:function(f){return void 0===f&&(f=!1),this.multiply(m.SEPIA,f)},night:function(f,h){return void 0===f&&(f=.1),void 0===h&&(h=!1),this.multiply([-2*f,-f,0,0,0,-f,0,f,0,0,0,f,2*f,0,0,0,0,0,1,0],h)},lsd:function(f){return void 0===f&&(f=!1),this.multiply(m.LSD,f)},brown:function(f){return void 0===f&&(f=!1),this.multiply(m.BROWN,f)},vintagePinhole:function(f){return void 0===f&&(f=!1),this.multiply(m.VINTAGE,f)},kodachrome:function(f){return void 0===f&&(f=!1),this.multiply(m.KODACHROME,f)},technicolor:function(f){return void 0===f&&(f=!1),this.multiply(m.TECHNICOLOR,f)},polaroid:function(f){return void 0===f&&(f=!1),this.multiply(m.POLAROID,f)},shiftToBGR:function(f){return void 0===f&&(f=!1),this.multiply(m.SHIFT_BGR,f)},multiply:function(f,h){void 0===h&&(h=!1),h||this.reset();var c=this._matrix,u=T;return u.set(c),c.set([u[0]*f[0]+u[1]*f[5]+u[2]*f[10]+u[3]*f[15],u[0]*f[1]+u[1]*f[6]+u[2]*f[11]+u[3]*f[16],u[0]*f[2]+u[1]*f[7]+u[2]*f[12]+u[3]*f[17],u[0]*f[3]+u[1]*f[8]+u[2]*f[13]+u[3]*f[18],u[0]*f[4]+u[1]*f[9]+u[2]*f[14]+u[3]*f[19]+u[4],u[5]*f[0]+u[6]*f[5]+u[7]*f[10]+u[8]*f[15],u[5]*f[1]+u[6]*f[6]+u[7]*f[11]+u[8]*f[16],u[5]*f[2]+u[6]*f[7]+u[7]*f[12]+u[8]*f[17],u[5]*f[3]+u[6]*f[8]+u[7]*f[13]+u[8]*f[18],u[5]*f[4]+u[6]*f[9]+u[7]*f[14]+u[8]*f[19]+u[9],u[10]*f[0]+u[11]*f[5]+u[12]*f[10]+u[13]*f[15],u[10]*f[1]+u[11]*f[6]+u[12]*f[11]+u[13]*f[16],u[10]*f[2]+u[11]*f[7]+u[12]*f[12]+u[13]*f[17],u[10]*f[3]+u[11]*f[8]+u[12]*f[13]+u[13]*f[18],u[10]*f[4]+u[11]*f[9]+u[12]*f[14]+u[13]*f[19]+u[14],u[15]*f[0]+u[16]*f[5]+u[17]*f[10]+u[18]*f[15],u[15]*f[1]+u[16]*f[6]+u[17]*f[11]+u[18]*f[16],u[15]*f[2]+u[16]*f[7]+u[17]*f[12]+u[18]*f[17],u[15]*f[3]+u[16]*f[8]+u[17]*f[13]+u[18]*f[18],u[15]*f[4]+u[16]*f[9]+u[17]*f[14]+u[18]*f[19]+u[19]]),this._dirty=!0,this}});m.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],m.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],m.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],m.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],m.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],m.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],m.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],m.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],m.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],m.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],m.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],C.exports=m},51767:(C,k,a)=>{var y=a(83419),T=a(29747),m=new y({initialize:function(h,c,u){this._rgb=[0,0,0],this.onChangeCallback=T,this.dirty=!1,this.set(h,c,u)},set:function(f,h,c){return void 0===f&&(f=0),void 0===h&&(h=0),void 0===c&&(c=0),this._rgb=[f,h,c],this.onChange(),this},equals:function(f,h,c){var u=this._rgb;return u[0]===f&&u[1]===h&&u[2]===c},onChange:function(){this.dirty=!0;var f=this._rgb;this.onChangeCallback.call(this,f[0],f[1],f[2])},r:{get:function(){return this._rgb[0]},set:function(f){this._rgb[0]=f,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(f){this._rgb[1]=f,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(f){this._rgb[2]=f,this.onChange()}},destroy:function(){this.onChangeCallback=null}});C.exports=m},60461:C=>{C.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},54312:(C,k,a)=>{var y=a(62235),T=a(35893),m=a(86327),f=a(88417);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),f(c,T(u)+p),m(c,y(u)+d),c}},46768:(C,k,a)=>{var y=a(62235),T=a(26541),m=a(86327),f=a(385);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),f(c,T(u)-p),m(c,y(u)+d),c}},35827:(C,k,a)=>{var y=a(62235),T=a(54380),m=a(86327),f=a(40136);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),f(c,T(u)+p),m(c,y(u)+d),c}},46871:(C,k,a)=>{var y=a(66786),T=a(35893),m=a(7702);C.exports=function(h,c,u,p){return void 0===u&&(u=0),void 0===p&&(p=0),y(h,T(c)+u,m(c)+p),h}},5198:(C,k,a)=>{var y=a(7702),T=a(26541),m=a(20786),f=a(385);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),f(c,T(u)-p),m(c,y(u)+d),c}},11879:(C,k,a)=>{var y=a(60461),T=[];T[y.BOTTOM_CENTER]=a(54312),T[y.BOTTOM_LEFT]=a(46768),T[y.BOTTOM_RIGHT]=a(35827),T[y.CENTER]=a(46871),T[y.LEFT_CENTER]=a(5198),T[y.RIGHT_CENTER]=a(80503),T[y.TOP_CENTER]=a(89698),T[y.TOP_LEFT]=a(922),T[y.TOP_RIGHT]=a(21373),T[y.LEFT_BOTTOM]=T[y.BOTTOM_LEFT],T[y.LEFT_TOP]=T[y.TOP_LEFT],T[y.RIGHT_BOTTOM]=T[y.BOTTOM_RIGHT],T[y.RIGHT_TOP]=T[y.TOP_RIGHT],C.exports=function(f,h,c,u,p){return T[c](f,h,u,p)}},80503:(C,k,a)=>{var y=a(7702),T=a(54380),m=a(20786),f=a(40136);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),f(c,T(u)+p),m(c,y(u)+d),c}},89698:(C,k,a)=>{var y=a(35893),T=a(17717),m=a(88417),f=a(66737);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),m(c,y(u)+p),f(c,T(u)-d),c}},922:(C,k,a)=>{var y=a(26541),T=a(17717),m=a(385),f=a(66737);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),m(c,y(u)-p),f(c,T(u)-d),c}},21373:(C,k,a)=>{var y=a(54380),T=a(17717),m=a(40136),f=a(66737);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),m(c,y(u)+p),f(c,T(u)-d),c}},91660:(C,k,a)=>{C.exports={BottomCenter:a(54312),BottomLeft:a(46768),BottomRight:a(35827),Center:a(46871),LeftCenter:a(5198),QuickSet:a(11879),RightCenter:a(80503),TopCenter:a(89698),TopLeft:a(922),TopRight:a(21373)}},71926:(C,k,a)=>{var y=a(60461),T=a(79291),m={In:a(91660),To:a(16694)};m=T(!1,m,y),C.exports=m},21578:(C,k,a)=>{var y=a(62235),T=a(35893),m=a(88417),f=a(66737);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),m(c,T(u)+p),f(c,y(u)+d),c}},10210:(C,k,a)=>{var y=a(62235),T=a(26541),m=a(385),f=a(66737);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),m(c,T(u)-p),f(c,y(u)+d),c}},82341:(C,k,a)=>{var y=a(62235),T=a(54380),m=a(40136),f=a(66737);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),m(c,T(u)+p),f(c,y(u)+d),c}},87958:(C,k,a)=>{var y=a(62235),T=a(26541),m=a(86327),f=a(40136);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),f(c,T(u)-p),m(c,y(u)+d),c}},40080:(C,k,a)=>{var y=a(7702),T=a(26541),m=a(20786),f=a(40136);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),f(c,T(u)-p),m(c,y(u)+d),c}},88466:(C,k,a)=>{var y=a(26541),T=a(17717),m=a(40136),f=a(66737);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),m(c,y(u)-p),f(c,T(u)-d),c}},38829:(C,k,a)=>{var y=a(60461),T=[];T[y.BOTTOM_CENTER]=a(21578),T[y.BOTTOM_LEFT]=a(10210),T[y.BOTTOM_RIGHT]=a(82341),T[y.LEFT_BOTTOM]=a(87958),T[y.LEFT_CENTER]=a(40080),T[y.LEFT_TOP]=a(88466),T[y.RIGHT_BOTTOM]=a(19211),T[y.RIGHT_CENTER]=a(34609),T[y.RIGHT_TOP]=a(48741),T[y.TOP_CENTER]=a(49440),T[y.TOP_LEFT]=a(81288),T[y.TOP_RIGHT]=a(61323),C.exports=function(f,h,c,u,p){return T[c](f,h,u,p)}},19211:(C,k,a)=>{var y=a(62235),T=a(54380),m=a(86327),f=a(385);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),f(c,T(u)+p),m(c,y(u)+d),c}},34609:(C,k,a)=>{var y=a(7702),T=a(54380),m=a(20786),f=a(385);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),f(c,T(u)+p),m(c,y(u)+d),c}},48741:(C,k,a)=>{var y=a(54380),T=a(17717),m=a(385),f=a(66737);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),m(c,y(u)+p),f(c,T(u)-d),c}},49440:(C,k,a)=>{var y=a(35893),T=a(17717),m=a(86327),f=a(88417);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),f(c,y(u)+p),m(c,T(u)-d),c}},81288:(C,k,a)=>{var y=a(26541),T=a(17717),m=a(86327),f=a(385);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),f(c,y(u)-p),m(c,T(u)-d),c}},61323:(C,k,a)=>{var y=a(54380),T=a(17717),m=a(86327),f=a(40136);C.exports=function(c,u,p,d){return void 0===p&&(p=0),void 0===d&&(d=0),f(c,y(u)+p),m(c,T(u)-d),c}},16694:(C,k,a)=>{C.exports={BottomCenter:a(21578),BottomLeft:a(10210),BottomRight:a(82341),LeftBottom:a(87958),LeftCenter:a(40080),LeftTop:a(88466),QuickSet:a(38829),RightBottom:a(19211),RightCenter:a(34609),RightTop:a(48741),TopCenter:a(49440),TopLeft:a(81288),TopRight:a(61323)}},66786:(C,k,a)=>{var y=a(88417),T=a(20786);C.exports=function(f,h,c){return y(f,h),T(f,c)}},62235:C=>{C.exports=function(a){return a.y+a.height-a.height*a.originY}},72873:(C,k,a)=>{var y=a(62235),T=a(26541),m=a(54380),f=a(17717),h=a(87841);C.exports=function(u,p){void 0===p&&(p=new h);var d=T(u),g=f(u);return p.x=d,p.y=g,p.width=m(u)-d,p.height=y(u)-g,p}},35893:C=>{C.exports=function(a){return a.x-a.width*a.originX+.5*a.width}},7702:C=>{C.exports=function(a){return a.y-a.height*a.originY+.5*a.height}},26541:C=>{C.exports=function(a){return a.x-a.width*a.originX}},87431:C=>{C.exports=function(a){return a.width*a.originX}},46928:C=>{C.exports=function(a){return a.height*a.originY}},54380:C=>{C.exports=function(a){return a.x+a.width-a.width*a.originX}},17717:C=>{C.exports=function(a){return a.y-a.height*a.originY}},86327:C=>{C.exports=function(a,y){return a.y=y-a.height+a.height*a.originY,a}},88417:C=>{C.exports=function(a,y){return a.x=y+a.width*a.originX-.5*a.width,a}},20786:C=>{C.exports=function(a,y){return a.y=y+a.height*a.originY-.5*a.height,a}},385:C=>{C.exports=function(a,y){return a.x=y+a.width*a.originX,a}},40136:C=>{C.exports=function(a,y){return a.x=y-a.width+a.width*a.originX,a}},66737:C=>{C.exports=function(a,y){return a.y=y+a.height*a.originY,a}},58724:(C,k,a)=>{C.exports={CenterOn:a(66786),GetBottom:a(62235),GetBounds:a(72873),GetCenterX:a(35893),GetCenterY:a(7702),GetLeft:a(26541),GetOffsetX:a(87431),GetOffsetY:a(46928),GetRight:a(54380),GetTop:a(17717),SetBottom:a(86327),SetCenterX:a(88417),SetCenterY:a(20786),SetLeft:a(385),SetRight:a(40136),SetTop:a(66737)}},20623:C=>{C.exports={setCrisp:function(a){return["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"].forEach(function(T){a.style["image-rendering"]=T}),a.style.msInterpolationMode="nearest-neighbor",a},setBicubic:function(a){return a.style["image-rendering"]="auto",a.style.msInterpolationMode="bicubic",a}}},27919:(C,k,a)=>{var c,d,v,y=a(8054),T=a(68703),m=[],f=!1;C.exports=(v=function(){var E=0;return m.forEach(function(A){A.parent&&E++}),E},{create2D:function(E,A,D){return c(E,A,D,y.CANVAS)},create:c=function(E,A,D,I,R){void 0===A&&(A=1),void 0===D&&(D=1),void 0===I&&(I=y.CANVAS),void 0===R&&(R=!1);var F,L=d(I);return null===L?(L={parent:E,canvas:document.createElement("canvas"),type:I},I===y.CANVAS&&m.push(L),F=L.canvas):(L.parent=E,F=L.canvas),R&&(L.parent=F),F.width=A,F.height=D,f&&I===y.CANVAS&&T.disable(F.getContext("2d",{willReadFrequently:!1})),F},createWebGL:function(E,A,D){return c(E,A,D,y.WEBGL)},disableSmoothing:function(){f=!0},enableSmoothing:function(){f=!1},first:d=function(E){if(void 0===E&&(E=y.CANVAS),E===y.WEBGL)return null;for(var A=0;A<m.length;A++){var D=m[A];if(!D.parent&&D.type===E)return D}return null},free:function(){return m.length-v()},pool:m,remove:function(E){var A=E instanceof HTMLCanvasElement;m.forEach(function(D){(A&&D.canvas===E||!A&&D.parent===E)&&(D.parent=null,D.canvas.width=1,D.canvas.height=1)})},total:v})},68703:C=>{var y,k="";C.exports={disable:function(h){return""===k&&(k=y(h)),k&&(h[k]=!1),h},enable:function(h){return""===k&&(k=y(h)),k&&(h[k]=!0),h},getPrefix:y=function(h){for(var c=["i","webkitI","msI","mozI","oI"],u=0;u<c.length;u++){var p=c[u]+"mageSmoothingEnabled";if(p in h)return p}return null},isEnabled:function(h){return null!==k?h[k]:null}}},65208:C=>{C.exports=function(a,y){return void 0===y&&(y="none"),a.style.msTouchAction=y,a.style["ms-touch-action"]=y,a.style["touch-action"]=y,a}},91610:C=>{C.exports=function(a,y){return void 0===y&&(y="none"),["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(m){a.style[m+"user-select"]=y}),a.style["-webkit-touch-callout"]=y,a.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",a}},26253:(C,k,a)=>{C.exports={CanvasInterpolation:a(20623),CanvasPool:a(27919),Smoothing:a(68703),TouchAction:a(65208),UserSelect:a(91610)}},40987:(C,k,a)=>{var y=a(83419),T=a(37589),m=a(1e3),f=a(7537),h=a(87837),c=new y({initialize:function(p,d,g,v){void 0===p&&(p=0),void 0===d&&(d=0),void 0===g&&(g=0),void 0===v&&(v=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(p,d,g,v)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(u,p,d,g,v){return void 0===g&&(g=255),void 0===v&&(v=!0),this._locked=!0,this.red=u,this.green=p,this.blue=d,this.alpha=g,this._locked=!1,this.update(v)},setGLTo:function(u,p,d,g){return void 0===g&&(g=1),this._locked=!0,this.redGL=u,this.greenGL=p,this.blueGL=d,this.alphaGL=g,this._locked=!1,this.update(!0)},setFromRGB:function(u){return this._locked=!0,this.red=u.r,this.green=u.g,this.blue=u.b,u.hasOwnProperty("a")&&(this.alpha=u.a),this._locked=!1,this.update(!0)},setFromHSV:function(u,p,d){return f(u,p,d,this)},update:function(u){if(void 0===u&&(u=!1),this._locked)return this;var p=this.r,d=this.g,g=this.b,v=this.a;return this._color=T(p,d,g),this._color32=m(p,d,g,v),this._rgba="rgba("+p+","+d+","+g+","+v/255+")",u&&h(p,d,g,this),this},updateHSV:function(){return h(this.r,this.g,this.b,this),this},clone:function(){return new c(this.r,this.g,this.b,this.a)},gray:function(u){return this.setTo(u,u,u)},random:function(u,p){void 0===u&&(u=0),void 0===p&&(p=255);var d=Math.floor(u+Math.random()*(p-u)),g=Math.floor(u+Math.random()*(p-u)),v=Math.floor(u+Math.random()*(p-u));return this.setTo(d,g,v)},randomGray:function(u,p){void 0===u&&(u=0),void 0===p&&(p=255);var d=Math.floor(u+Math.random()*(p-u));return this.setTo(d,d,d)},saturate:function(u){return this.s+=u/100,this},desaturate:function(u){return this.s-=u/100,this},lighten:function(u){return this.v+=u/100,this},darken:function(u){return this.v-=u/100,this},brighten:function(u){var p=this.r,d=this.g,g=this.b;return p=Math.max(0,Math.min(255,p-Math.round(-u/100*255))),d=Math.max(0,Math.min(255,d-Math.round(-u/100*255))),g=Math.max(0,Math.min(255,g-Math.round(-u/100*255))),this.setTo(p,d,g)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(u){this.gl[0]=Math.min(Math.abs(u),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(u){this.gl[1]=Math.min(Math.abs(u),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(u){this.gl[2]=Math.min(Math.abs(u),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(u){this.gl[3]=Math.min(Math.abs(u),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(u){u=Math.floor(Math.abs(u)),this.r=Math.min(u,255),this.gl[0]=u/255,this.update(!0)}},green:{get:function(){return this.g},set:function(u){u=Math.floor(Math.abs(u)),this.g=Math.min(u,255),this.gl[1]=u/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(u){u=Math.floor(Math.abs(u)),this.b=Math.min(u,255),this.gl[2]=u/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(u){u=Math.floor(Math.abs(u)),this.a=Math.min(u,255),this.gl[3]=u/255,this.update()}},h:{get:function(){return this._h},set:function(u){this._h=u,f(u,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(u){this._s=u,f(this._h,u,this._v,this)}},v:{get:function(){return this._v},set:function(u){this._v=u,f(this._h,this._s,u,this)}}});C.exports=c},92728:(C,k,a)=>{var y=a(37589);C.exports=function(m){void 0===m&&(m=1024);var c,f=[],h=255,u=255,p=0,d=0;for(c=0;c<=h;c++)f.push({r:u,g:c,b:d,color:y(u,c,d)});for(p=255,c=h;c>=0;c--)f.push({r:c,g:p,b:d,color:y(c,p,d)});for(u=0,c=0;c<=h;c++,p--)f.push({r:u,g:p,b:c,color:y(u,p,c)});for(p=0,d=255,c=0;c<=h;c++,d--,u++)f.push({r:u,g:p,b:d,color:y(u,p,d)});if(1024===m)return f;var g=[],v=0,x=1024/m;for(c=0;c<m;c++)g.push(f[Math.floor(v)]),v+=x;return g}},91588:C=>{C.exports=function(a){var y={r:a>>16&255,g:a>>8&255,b:255&a,a:255};return a>16777215&&(y.a=a>>>24),y}},62957:C=>{C.exports=function(a){var y=a.toString(16);return 1===y.length?"0"+y:y}},37589:C=>{C.exports=function(a,y,T){return a<<16|y<<8|T}},1e3:C=>{C.exports=function(a,y,T,m){return m<<24|a<<16|y<<8|T}},62183:(C,k,a)=>{var y=a(40987),T=a(89528);C.exports=function(f,h,c){var u=c,p=c,d=c;if(0!==h){var g=c<.5?c*(1+h):c+h-c*h,v=2*c-g;u=T(v,g,f+1/3),p=T(v,g,f),d=T(v,g,f-1/3)}return(new y).setGLTo(u,p,d,1)}},27939:(C,k,a)=>{var y=a(7537);C.exports=function(m,f){void 0===m&&(m=1),void 0===f&&(f=1);for(var h=[],c=0;c<=359;c++)h.push(y(c/359,m,f));return h}},7537:(C,k,a)=>{var y=a(37589);function T(f,h,c,u){var p=(f+6*h)%6,d=Math.min(p,4-p,1);return Math.round(255*(u-u*c*Math.max(0,d)))}C.exports=function(f,h,c,u){void 0===h&&(h=1),void 0===c&&(c=1);var p=T(5,f,h,c),d=T(3,f,h,c),g=T(1,f,h,c);return u?u.setTo?u.setTo(p,d,g,u.alpha,!0):(u.r=p,u.g=d,u.b=g,u.color=y(p,d,g),u):{r:p,g:d,b:g,color:y(p,d,g)}}},70238:(C,k,a)=>{var y=a(40987);C.exports=function(m){var f=new y;m=m.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(d,g,v,x){return g+g+v+v+x+x});var h=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(m);if(h){var c=parseInt(h[1],16),u=parseInt(h[2],16),p=parseInt(h[3],16);f.setTo(c,u,p)}return f}},89528:C=>{C.exports=function(a,y,T){return T<0&&(T+=1),T>1&&(T-=1),T<.16666666666666666?a+6*(y-a)*T:T<.5?y:T<.6666666666666666?a+(y-a)*(.6666666666666666-T)*6:a}},30100:(C,k,a)=>{var y=a(40987),T=a(90664);C.exports=function(f){var h=T(f);return new y(h.r,h.g,h.b,h.a)}},90664:C=>{C.exports=function(a){return a>16777215?{a:a>>>24,r:a>>16&255,g:a>>8&255,b:255&a}:{a:255,r:a>>16&255,g:a>>8&255,b:255&a}}},13699:(C,k,a)=>{var y=a(28915),T=function(h,c,u,p,d,g,v,x){void 0===v&&(v=100),void 0===x&&(x=0);var b=x/v;return{r:y(h,p,b),g:y(c,d,b),b:y(u,g,b)}};C.exports={RGBWithRGB:T,ColorWithRGB:function(h,c,u,p,d,g){return void 0===d&&(d=100),void 0===g&&(g=0),T(h.r,h.g,h.b,c,u,p,d,g)},ColorWithColor:function(h,c,u,p){return void 0===u&&(u=100),void 0===p&&(p=0),T(h.r,h.g,h.b,c.r,c.g,c.b,u,p)}}},68957:(C,k,a)=>{var y=a(40987);C.exports=function(m){return new y(m.r,m.g,m.b,m.a)}},87388:(C,k,a)=>{var y=a(40987);C.exports=function(m){var f=new y,h=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(m.toLowerCase());if(h){var c=parseInt(h[1],10),u=parseInt(h[2],10),p=parseInt(h[3],10),d=void 0!==h[4]?parseFloat(h[4]):1;f.setTo(c,u,p,255*d)}return f}},87837:C=>{C.exports=function(a,y,T,m){void 0===m&&(m={h:0,s:0,v:0}),a/=255,y/=255,T/=255;var f=Math.min(a,y,T),h=Math.max(a,y,T),c=h-f,u=0,p=0===h?0:c/h,d=h;return h!==f&&(h===a?u=(y-T)/c+(y<T?6:0):h===y?u=(T-a)/c+2:h===T&&(u=(a-y)/c+4),u/=6),m.hasOwnProperty("_h")?(m._h=u,m._s=p,m._v=d):(m.h=u,m.s=p,m.v=d),m}},75723:(C,k,a)=>{var y=a(62957);C.exports=function(m,f,h,c,u){return void 0===c&&(c=255),void 0===u&&(u="#"),"#"===u?"#"+((1<<24)+(m<<16)+(f<<8)+h).toString(16).slice(1,7):"0x"+y(c)+y(m)+y(f)+y(h)}},85386:(C,k,a)=>{var y=a(30976),T=a(40987);C.exports=function(f,h){return void 0===f&&(f=0),void 0===h&&(h=255),new T(y(f,h),y(f,h),y(f,h))}},80333:(C,k,a)=>{var y=a(70238),T=a(30100),m=a(68957),f=a(87388);C.exports=function(c){switch(typeof c){case"string":return"rgb"===c.substr(0,3).toLowerCase()?f(c):y(c);case"number":return T(c);case"object":return m(c)}}},3956:(C,k,a)=>{var y=a(40987);y.ColorSpectrum=a(92728),y.ColorToRGBA=a(91588),y.ComponentToHex=a(62957),y.GetColor=a(37589),y.GetColor32=a(1e3),y.HexStringToColor=a(70238),y.HSLToColor=a(62183),y.HSVColorWheel=a(27939),y.HSVToRGB=a(7537),y.HueToComponent=a(89528),y.IntegerToColor=a(30100),y.IntegerToRGB=a(90664),y.Interpolate=a(13699),y.ObjectToColor=a(68957),y.RandomRGB=a(85386),y.RGBStringToColor=a(87388),y.RGBToHSV=a(87837),y.RGBToString=a(75723),y.ValueToColor=a(80333),C.exports=y},27460:(C,k,a)=>{C.exports={Align:a(71926),BaseShader:a(73894),Bounds:a(58724),Canvas:a(26253),Color:a(3956),ColorMatrix:a(89422),Masks:a(69781),RGB:a(51767)}},6858:(C,k,a)=>{var y=a(83419),T=a(39429),m=new y({initialize:function(h,c,u,p,d,g){c||(c=h.sys.make.image({x:u,y:p,key:d,frame:g,add:!1})),this.bitmapMask=c,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(f){this.bitmapMask=f},preRenderWebGL:function(f,h,c){f.pipelines.BITMAPMASK_PIPELINE.beginMask(this,h,c)},postRenderWebGL:function(f,h,c){f.pipelines.BITMAPMASK_PIPELINE.endMask(this,h,c)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});T.register("bitmapMask",function(f,h,c,u,p){return new m(this.scene,f,h,c,u,p)}),C.exports=m},80661:(C,k,a)=>{var T=new(a(83419))({initialize:function(f,h){this.geometryMask=h,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(m){return this.geometryMask=m,this},setInvertAlpha:function(m){return void 0===m&&(m=!0),this.invertAlpha=m,this},preRenderWebGL:function(m,f,h){var c=m.gl;m.flush(),0===m.maskStack.length&&(c.enable(c.STENCIL_TEST),c.clear(c.STENCIL_BUFFER_BIT),m.maskCount=0),m.currentCameraMask.mask!==this&&(m.currentMask.mask=this),m.maskStack.push({mask:this,camera:h}),this.applyStencil(m,h,!0),m.maskCount++},applyStencil:function(m,f,h){var c=m.gl,u=this.geometryMask,p=m.maskCount;c.colorMask(!1,!1,!1,!1),h?(c.stencilFunc(c.EQUAL,p,255),c.stencilOp(c.KEEP,c.KEEP,c.INCR),p++):(c.stencilFunc(c.EQUAL,p+1,255),c.stencilOp(c.KEEP,c.KEEP,c.DECR)),this.level=p,u.renderWebGL(m,u,f),m.flush(),c.colorMask(!0,!0,!0,!0),c.stencilOp(c.KEEP,c.KEEP,c.KEEP),c.stencilFunc(this.invertAlpha?c.NOTEQUAL:c.EQUAL,p,255)},postRenderWebGL:function(m){var f=m.gl;m.maskStack.pop(),m.maskCount--,m.flush();var h=m.currentMask;if(0===m.maskStack.length)h.mask=null,f.disable(f.STENCIL_TEST);else{var c=m.maskStack[m.maskStack.length-1];c.mask.applyStencil(m,c.camera,!1),m.currentCameraMask.mask!==c.mask?(h.mask=c.mask,h.camera=c.camera):h.mask=null}},preRenderCanvas:function(m,f,h){var c=this.geometryMask;m.currentContext.save(),c.renderCanvas(m,c,h,null,null,!0),m.currentContext.clip()},postRenderCanvas:function(m){m.currentContext.restore()},destroy:function(){this.geometryMask=null}});C.exports=T},69781:(C,k,a)=>{C.exports={BitmapMask:a(6858),GeometryMask:a(80661)}},73894:(C,k,a)=>{var T=new(a(83419))({initialize:function(f,h,c,u){(!h||""===h)&&(h=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join("\n")),(!c||""===c)&&(c=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join("\n")),void 0===u&&(u=null),this.key=f,this.fragmentSrc=h,this.vertexSrc=c,this.uniforms=u}});C.exports=T},40366:C=>{C.exports=function(a,y){var T;if(y)"string"==typeof y?T=document.getElementById(y):"object"==typeof y&&1===y.nodeType&&(T=y);else if(a.parentElement||null===y)return a;return T||(T=document.body),T.appendChild(a),a}},83719:(C,k,a)=>{var y=a(40366);C.exports=function(m){var f=m.config;if(f.parent&&f.domCreateContainer){var h=document.createElement("div");h.style.cssText=["display: block;","width: "+m.scale.width+"px;","height: "+m.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+f.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),m.domContainer=h,y(h,f.parent)}}},57264:(C,k,a)=>{var y=a(25892);C.exports=function(m){if("complete"!==document.readyState&&"interactive"!==document.readyState){var f=function(){document.removeEventListener("deviceready",f,!0),document.removeEventListener("DOMContentLoaded",f,!0),window.removeEventListener("load",f,!0),m()};document.body?y.cordova?document.addEventListener("deviceready",f,!1):(document.addEventListener("DOMContentLoaded",f,!0),window.addEventListener("load",f,!0)):window.setTimeout(f,20)}else m()}},57811:C=>{C.exports=function(a){if(!a)return window.innerHeight;var y=Math.abs(window.orientation),T={w:0,h:0},m=document.createElement("div");return m.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(m),T.w=90===y?m.offsetHeight:window.innerWidth,T.h=90===y?window.innerWidth:m.offsetHeight,document.documentElement.removeChild(m),m=null,90!==Math.abs(window.orientation)?T.h:T.w}},45818:(C,k,a)=>{var y=a(13560);C.exports=function(m,f){var h=window.screen,c=!!h&&(h.orientation||h.mozOrientation||h.msOrientation);return c&&"string"==typeof c.type?c.type:"string"==typeof c?c:"number"==typeof window.orientation?0===window.orientation||180===window.orientation?y.ORIENTATION.PORTRAIT:y.ORIENTATION.LANDSCAPE:window.matchMedia?window.matchMedia("(orientation: portrait)").matches?y.ORIENTATION.PORTRAIT:window.matchMedia("(orientation: landscape)").matches?y.ORIENTATION.LANDSCAPE:void 0:f>m?y.ORIENTATION.PORTRAIT:y.ORIENTATION.LANDSCAPE}},74403:C=>{C.exports=function(a){var y;return""!==a&&("string"==typeof a?y=document.getElementById(a):a&&1===a.nodeType&&(y=a)),y||(y=document.body),y}},56836:C=>{C.exports=function(a){var y="";try{window.DOMParser?y=(new DOMParser).parseFromString(a,"text/xml"):(y=new ActiveXObject("Microsoft.XMLDOM")).loadXML(a)}catch{y=null}return y&&y.documentElement&&!y.getElementsByTagName("parsererror").length?y:null}},35846:C=>{C.exports=function(a){a.parentNode&&a.parentNode.removeChild(a)}},43092:(C,k,a)=>{var y=a(83419),T=a(29747),m=new y({initialize:function(){this.isRunning=!1,this.callback=T,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var h=this;this.step=function c(u){h.callback(u),h.isRunning&&(h.timeOutID=window.requestAnimationFrame(c))},this.stepTimeout=function c(){h.isRunning&&(h.timeOutID=window.setTimeout(c,h.delay)),h.callback(window.performance.now())}},start:function(f,h,c){this.isRunning||(this.callback=f,this.isSetTimeOut=h,this.delay=c,this.isRunning=!0,this.timeOutID=h?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=T}});C.exports=m},84902:(C,k,a)=>{var y={AddToDOM:a(40366),DOMContentLoaded:a(57264),GetInnerHeight:a(57811),GetScreenOrientation:a(45818),GetTarget:a(74403),ParseXML:a(56836),RemoveFromDOM:a(35846),RequestAnimationFrame:a(43092)};C.exports=y},47565:(C,k,a)=>{var y=a(83419),T=a(50792),m=a(37277),f=new y({Extends:T,initialize:function(){T.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});m.register("EventEmitter",f,"events"),C.exports=f},93055:(C,k,a)=>{C.exports={EventEmitter:a(47565)}},20122:(C,k,a)=>{var y=a(83419),T=a(72898),m=a(14811),f=new y({Extends:T,initialize:function(c,u){void 0===u&&(u=1),T.call(this,m.BARREL,c),this.amount=u}});C.exports=f},32251:(C,k,a)=>{var y=a(83419),T=a(72898),m=a(14811),f=new y({Extends:T,initialize:function(c,u,p,d,g,v,x){void 0===p&&(p=1),void 0===d&&(d=1),void 0===g&&(g=1),void 0===v&&(v=1),void 0===x&&(x=4),T.call(this,m.BLOOM,c),this.steps=x,this.offsetX=p,this.offsetY=d,this.blurStrength=g,this.strength=v,this.glcolor=[1,1,1],null!=u&&(this.color=u)},color:{get:function(){var h=this.glcolor;return(255*h[0]<<16)+(255*h[1]<<8)+(255*h[2]|0)},set:function(h){var c=this.glcolor;c[0]=(h>>16&255)/255,c[1]=(h>>8&255)/255,c[2]=(255&h)/255}}});C.exports=f},9047:(C,k,a)=>{var y=a(83419),T=a(72898),m=a(14811),f=new y({Extends:T,initialize:function(c,u,p,d,g,v,x){void 0===u&&(u=0),void 0===p&&(p=2),void 0===d&&(d=2),void 0===g&&(g=1),void 0===x&&(x=4),T.call(this,m.BLUR,c),this.quality=u,this.x=p,this.y=d,this.steps=x,this.strength=g,this.glcolor=[1,1,1],null!=v&&(this.color=v)},color:{get:function(){var h=this.glcolor;return(255*h[0]<<16)+(255*h[1]<<8)+(255*h[2]|0)},set:function(h){var c=this.glcolor;c[0]=(h>>16&255)/255,c[1]=(h>>8&255)/255,c[2]=(255&h)/255}}});C.exports=f},27885:(C,k,a)=>{var y=a(83419),T=a(72898),m=a(14811),f=new y({Extends:T,initialize:function(c,u,p,d,g,v,x,b){void 0===u&&(u=.5),void 0===p&&(p=1),void 0===d&&(d=.2),void 0===g&&(g=!1),void 0===v&&(v=1),void 0===x&&(x=1),void 0===b&&(b=1),T.call(this,m.BOKEH,c),this.radius=u,this.amount=p,this.contrast=d,this.isTiltShift=g,this.strength=b,this.blurX=v,this.blurY=x}});C.exports=f},12578:(C,k,a)=>{var y=a(83419),T=a(72898),m=a(14811),f=new y({Extends:T,initialize:function(c,u,p,d,g,v){void 0===u&&(u=8),void 0===g&&(g=1),void 0===v&&(v=.005),T.call(this,m.CIRCLE,c),this.scale=g,this.feather=v,this.thickness=u,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],null!=p&&(this.color=p),null!=d&&(this.backgroundColor=d)},color:{get:function(){var h=this.glcolor;return(255*h[0]<<16)+(255*h[1]<<8)+(255*h[2]|0)},set:function(h){var c=this.glcolor;c[0]=(h>>16&255)/255,c[1]=(h>>8&255)/255,c[2]=(255&h)/255}},backgroundColor:{get:function(){var h=this.glcolor2;return(255*h[0]<<16)+(255*h[1]<<8)+(255*h[2]|0)},set:function(h){var c=this.glcolor2;c[0]=(h>>16&255)/255,c[1]=(h>>8&255)/255,c[2]=(255&h)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(h){this.glcolor2[3]=h}}});C.exports=f},15802:(C,k,a)=>{var y=a(83419),T=a(89422),m=a(14811),f=new y({Extends:T,initialize:function(c){T.call(this),this.type=m.COLOR_MATRIX,this.gameObject=c,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});C.exports=f},72898:(C,k,a)=>{var T=new(a(83419))({initialize:function(f,h){this.type=f,this.gameObject=h,this.active=!0},setActive:function(m){return this.active=m,this},destroy:function(){this.gameObject=null,this.active=!1}});C.exports=T},44553:(C,k,a)=>{var y=a(83419),T=a(72898),m=a(14811),f=new y({Extends:T,initialize:function(c,u,p,d){void 0===u&&(u="__WHITE"),void 0===p&&(p=.005),void 0===d&&(d=.005),T.call(this,m.DISPLACEMENT,c),this.x=p,this.y=d,this.setTexture(u)},setTexture:function(h){var c=this.gameObject.scene.sys.textures.getFrame(h);return c&&(this.glTexture=c.glTexture),this}});C.exports=f},68531:(C,k,a)=>{var y=a(83419),T=a(72898),m=a(14811),f=new y({Extends:T,initialize:function(c,u,p,d,g){void 0===p&&(p=4),void 0===d&&(d=0),void 0===g&&(g=!1),T.call(this,m.GLOW,c),this.outerStrength=p,this.innerStrength=d,this.knockout=g,this.glcolor=[1,1,1,1],void 0!==u&&(this.color=u)},color:{get:function(){var h=this.glcolor;return(255*h[0]<<16)+(255*h[1]<<8)+(255*h[2]|0)},set:function(h){var c=this.glcolor;c[0]=(h>>16&255)/255,c[1]=(h>>8&255)/255,c[2]=(255&h)/255}}});C.exports=f},37102:(C,k,a)=>{var y=a(83419),T=a(72898),m=a(14811),f=new y({Extends:T,initialize:function(c,u,p,d,g,v,x,b,_){void 0===d&&(d=.2),void 0===g&&(g=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=1),void 0===_&&(_=0),T.call(this,m.GRADIENT,c),this.alpha=d,this.size=_,this.fromX=g,this.fromY=v,this.toX=x,this.toY=b,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],null!=u&&(this.color1=u),null!=p&&(this.color2=p)},color1:{get:function(){var h=this.glcolor1;return(h[0]<<16)+(h[1]<<8)+(0|h[2])},set:function(h){var c=this.glcolor1;c[0]=h>>16&255,c[1]=h>>8&255,c[2]=255&h}},color2:{get:function(){var h=this.glcolor2;return(h[0]<<16)+(h[1]<<8)+(0|h[2])},set:function(h){var c=this.glcolor2;c[0]=h>>16&255,c[1]=h>>8&255,c[2]=255&h}}});C.exports=f},86886:(C,k,a)=>{var y=a(83419),T=a(72898),m=a(14811),f=new y({Extends:T,initialize:function(c,u){void 0===u&&(u=1),T.call(this,m.PIXELATE,c),this.amount=u}});C.exports=f},92322:(C,k,a)=>{var y=a(83419),T=a(72898),m=a(14811),f=new y({Extends:T,initialize:function(c,u,p,d,g,v,x,b){void 0===u&&(u=0),void 0===p&&(p=0),void 0===d&&(d=.1),void 0===g&&(g=1),void 0===x&&(x=6),void 0===b&&(b=1),T.call(this,m.SHADOW,c),this.x=u,this.y=p,this.decay=d,this.power=g,this.glcolor=[0,0,0,1],this.samples=x,this.intensity=b,void 0!==v&&(this.color=v)},color:{get:function(){var h=this.glcolor;return(255*h[0]<<16)+(255*h[1]<<8)+(255*h[2]|0)},set:function(h){var c=this.glcolor;c[0]=(h>>16&255)/255,c[1]=(h>>8&255)/255,c[2]=(255&h)/255}}});C.exports=f},39563:(C,k,a)=>{var y=a(83419),T=a(72898),m=a(14811),f=new y({Extends:T,initialize:function(c,u,p,d,g){void 0===u&&(u=.5),void 0===p&&(p=.5),void 0===d&&(d=3),void 0===g&&(g=!1),T.call(this,m.SHINE,c),this.speed=u,this.lineWidth=p,this.gradient=d,this.reveal=g}});C.exports=f},56448:(C,k,a)=>{var y=a(83419),T=a(72898),m=a(14811),f=new y({Extends:T,initialize:function(c,u,p,d,g){void 0===u&&(u=.5),void 0===p&&(p=.5),void 0===d&&(d=.5),void 0===g&&(g=.5),T.call(this,m.VIGNETTE,c),this.x=u,this.y=p,this.radius=d,this.strength=g}});C.exports=f},38433:(C,k,a)=>{var y=a(83419),T=a(72898),m=a(14811),f=new y({Extends:T,initialize:function(c,u,p,d,g){void 0===u&&(u=.1),void 0===p&&(p=0),void 0===d&&(d=0),void 0===g&&(g=!1),T.call(this,m.WIPE,c),this.progress=0,this.wipeWidth=u,this.direction=p,this.axis=d,this.reveal=g}});C.exports=f},14811:C=>{C.exports={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19}},66064:(C,k,a)=>{var y=a(79291),T=a(14811),m={Barrel:a(20122),Controller:a(72898),Bloom:a(32251),Blur:a(9047),Bokeh:a(27885),Circle:a(12578),ColorMatrix:a(15802),Displacement:a(44553),Glow:a(68531),Gradient:a(37102),Pixelate:a(86886),Shadow:a(92322),Shine:a(39563),Vignette:a(56448),Wipe:a(38433)};m=y(!1,m,T),C.exports=m},25305:(C,k,a)=>{var y=a(10312),T=a(23568);C.exports=function(f,h,c){h.x=T(c,"x",0),h.y=T(c,"y",0),h.depth=T(c,"depth",0),h.flipX=T(c,"flipX",!1),h.flipY=T(c,"flipY",!1);var u=T(c,"scale",null);"number"==typeof u?h.setScale(u):null!==u&&(h.scaleX=T(u,"x",1),h.scaleY=T(u,"y",1));var p=T(c,"scrollFactor",null);"number"==typeof p?h.setScrollFactor(p):null!==p&&(h.scrollFactorX=T(p,"x",1),h.scrollFactorY=T(p,"y",1)),h.rotation=T(c,"rotation",0);var d=T(c,"angle",null);null!==d&&(h.angle=d),h.alpha=T(c,"alpha",1);var g=T(c,"origin",null);if("number"==typeof g)h.setOrigin(g);else if(null!==g){var v=T(g,"x",.5),x=T(g,"y",.5);h.setOrigin(v,x)}return h.blendMode=T(c,"blendMode",y.NORMAL),h.visible=T(c,"visible",!0),T(c,"add",!0)&&f.sys.displayList.add(h),h.preUpdate&&f.sys.updateList.add(h),h}},13059:(C,k,a)=>{var y=a(23568);C.exports=function(m,f){var h=y(f,"anims",null);if(null===h)return m;if("string"==typeof h)m.anims.play(h);else if("object"==typeof h){var c=m.anims,u=y(h,"key",void 0);if(u){var p=y(h,"startFrame",void 0),d=y(h,"delay",0),g=y(h,"repeat",0),v=y(h,"repeatDelay",0),x=y(h,"yoyo",!1),b=y(h,"play",!1),_=y(h,"delayedPlay",0),E={key:u,delay:d,repeat:g,repeatDelay:v,yoyo:x,startFrame:p};b?c.play(E):_>0?c.playAfterDelay(E,_):c.load(E)}}return m}},8050:(C,k,a)=>{var y=a(83419),T=a(73162),m=a(37277),f=a(51708),h=a(44594),c=a(19186),u=new y({Extends:T,initialize:function(d){T.call(this,d),this.sortChildrenFlag=!1,this.scene=d,this.systems=d.sys,this.events=d.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.events.once(h.DESTROY,this.destroy,this)},addChildCallback:function(p){p.displayList&&p.displayList!==this&&p.removeFromDisplayList(),p.parentContainer&&p.parentContainer.remove(p),p.displayList||(this.queueDepthSort(),p.displayList=this,p.emit(f.ADDED_TO_SCENE,p,this.scene),this.events.emit(h.ADDED_TO_SCENE,p,this.scene))},removeChildCallback:function(p){this.queueDepthSort(),p.displayList=null,p.emit(f.REMOVED_FROM_SCENE,p,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,p,this.scene)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(c(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(p,d){return p._depth-d._depth},getChildren:function(){return this.list},shutdown:function(){for(var p=this.list;p.length;)p[0].destroy(!0);this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});m.register("DisplayList",u,"displayList"),C.exports=u},95643:(C,k,a)=>{var y=a(83419),T=a(53774),m=a(45893),f=a(50792),h=a(51708),c=a(44594),u=new y({Extends:f,initialize:function(d,g){f.call(this),this.scene=d,this.displayList=null,this.type=g,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(h.ADDED_TO_SCENE,this.addedToScene,this),this.on(h.REMOVED_FROM_SCENE,this.removedFromScene,this),d.sys.queueDepthSort()},setActive:function(p){return this.active=p,this},setName:function(p){return this.name=p,this},setState:function(p){return this.state=p,this},setDataEnabled:function(){return this.data||(this.data=new m(this)),this},setData:function(p,d){return this.data||(this.data=new m(this)),this.data.set(p,d),this},incData:function(p,d){return this.data||(this.data=new m(this)),this.data.inc(p,d),this},toggleData:function(p){return this.data||(this.data=new m(this)),this.data.toggle(p),this},getData:function(p){return this.data||(this.data=new m(this)),this.data.get(p)},setInteractive:function(p,d,g){return this.scene.sys.input.enable(this,p,d,g),this},disableInteractive:function(p){return void 0===p&&(p=!1),this.scene.sys.input.disable(this,p),this},removeInteractive:function(p){return void 0===p&&(p=!1),this.scene.sys.input.clear(this),p&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return T(this)},willRender:function(p){return!(this.displayList&&this.displayList.active&&!this.displayList.willRender(p)||u.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&p.id)},getIndexList:function(){for(var p=this,d=this.parentContainer,g=[];d&&(g.unshift(d.getIndex(p)),p=d,d.parentContainer);)d=d.parentContainer;return g.unshift(this.displayList?this.displayList.getIndex(p):this.scene.sys.displayList.getIndex(p)),g},addToDisplayList:function(p){return void 0===p&&(p=this.scene.sys.displayList),this.displayList&&this.displayList!==p&&this.removeFromDisplayList(),p.exists(this)||(this.displayList=p,p.add(this,!0),p.queueDepthSort(),this.emit(h.ADDED_TO_SCENE,this,this.scene),p.events.emit(c.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var p=this.displayList||this.scene.sys.displayList;return p&&p.exists(this)&&(p.remove(this,!0),p.queueDepthSort(),this.displayList=null,this.emit(h.REMOVED_FROM_SCENE,this,this.scene),p.events.emit(c.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var p=null;return this.parentContainer?p=this.parentContainer.list:this.displayList&&(p=this.displayList.list),p},destroy:function(p){!this.scene||this.ignoreDestroy||(void 0===p&&(p=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(h.DESTROY,this,p),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});u.RENDER_MASK=15,C.exports=u},44603:(C,k,a)=>{var y=a(83419),T=a(37277),m=a(44594),f=new y({initialize:function(c){this.scene=c,this.systems=c.sys,this.events=c.sys.events,this.events.once(m.BOOT,this.boot,this),this.events.on(m.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(m.DESTROY,this.destroy,this)},start:function(){this.events.once(m.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(m.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(m.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});f.register=function(h,c){f.prototype.hasOwnProperty(h)||(f.prototype[h]=c)},f.remove=function(h){f.prototype.hasOwnProperty(h)&&delete f.prototype[h]},T.register("GameObjectCreator",f,"make"),C.exports=f},39429:(C,k,a)=>{var y=a(83419),T=a(37277),m=a(44594),f=new y({initialize:function(c){this.scene=c,this.systems=c.sys,this.events=c.sys.events,this.events.once(m.BOOT,this.boot,this),this.events.on(m.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(m.DESTROY,this.destroy,this)},start:function(){this.events.once(m.SHUTDOWN,this.shutdown,this)},existing:function(h){return(h.renderCanvas||h.renderWebGL)&&this.displayList.add(h),h.preUpdate&&this.updateList.add(h),h},shutdown:function(){this.events.off(m.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(m.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});f.register=function(h,c){f.prototype.hasOwnProperty(h)||(f.prototype[h]=c)},f.remove=function(h){f.prototype.hasOwnProperty(h)&&delete f.prototype[h]},T.register("GameObjectFactory",f,"add"),C.exports=f},91296:(C,k,a)=>{var y=a(61340),T=new y,m=new y,f=new y,h={camera:T,sprite:m,calc:f};C.exports=function(u,p,d){var g=T,v=m,x=f;return v.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),g.copyFrom(p.matrix),d?(g.multiplyWithOffset(d,-p.scrollX*u.scrollFactorX,-p.scrollY*u.scrollFactorY),v.e=u.x,v.f=u.y):(v.e-=p.scrollX*u.scrollFactorX,v.f-=p.scrollY*u.scrollFactorY),g.multiply(v,x),h}},45027:(C,k,a)=>{var y=a(83419),T=a(25774),m=a(37277),f=a(44594),h=new y({Extends:T,initialize:function(u){T.call(this),this.checkQueue=!0,this.scene=u,this.systems=u.sys,u.sys.events.once(f.BOOT,this.boot,this),u.sys.events.on(f.START,this.start,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){var c=this.systems.events;c.on(f.PRE_UPDATE,this.update,this),c.on(f.UPDATE,this.sceneUpdate,this),c.once(f.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(c,u){for(var p=this._active,d=p.length,g=0;g<d;g++){var v=p[g];v.active&&v.preUpdate.call(v,c,u)}},shutdown:function(){for(var c=this._active.length;c--;)this._active[c].destroy(!0);for(c=this._pending.length;c--;)this._pending[c].destroy(!0);for(c=this._destroy.length;c--;)this._destroy[c].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var u=this.systems.events;u.off(f.PRE_UPDATE,this.update,this),u.off(f.UPDATE,this.sceneUpdate,this),u.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});m.register("UpdateList",h,"updateList"),C.exports=h},3217:C=>{C.exports=function(a,y,T,m,f,h,c,u,p,d,g,v,x,b,_){var E=T.x-y.displayOriginX+f,A=T.y-y.displayOriginY+h,D=E+T.w,I=A+T.h,R=c.a,F=c.b,L=c.c,V=c.d,B=c.e,G=c.f,Q=E*R+A*L+B,H=E*F+A*V+G,K=E*R+I*L+B,tt=E*F+I*V+G,at=D*R+I*L+B,lt=D*F+I*V+G,J=D*R+A*L+B,it=D*F+A*V+G;u&&(Q=Math.round(Q),H=Math.round(H),K=Math.round(K),tt=Math.round(tt),at=Math.round(at),lt=Math.round(lt),J=Math.round(J),it=Math.round(it)),a.batchQuad(y,Q,H,K,tt,at,lt,J,it,m.u0,m.v0,m.u1,m.v1,p,d,g,v,x,b,_)}},53048:C=>{C.exports=function(a,y,T,m){if(void 0===T&&(T=!1),void 0===m)return{local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0};var Y,X,nt,f=a.text,h=f.length,c=a.maxWidth,u=a.wordWrapCharCode,p=Number.MAX_VALUE,d=Number.MAX_VALUE,g=0,v=0,x=a.fontData.chars,b=a.fontData.lineHeight,_=a.letterSpacing,E=a.lineSpacing,A=0,D=0,I=0,R=null,F=a._align,L=0,V=0,B=a.fontSize/a.fontData.size,G=B*a.scaleX,Q=B*a.scaleY,H=null,K=0,tt=[],at=Number.MAX_VALUE,lt=0,J=0,it=0,ht=[],gt=[],wt=null,St=function(Mr,Ur){for(var un=0,sr=0;sr<Mr.length;sr++){var Or=Mr.charCodeAt(sr),bs=Ur.chars[Or];bs&&(un+=bs.xAdvance)}return un*G};if(c>0){nt=f.split("\n");var Vt=[];for(Y=0;Y<nt.length;Y++){var Zt=nt[Y],Jt="",ie="",ae="",fe="";for(X=0;X<Zt.length;X++)I=Zt.charCodeAt(X),Jt+=Zt[X],(I===u||X===Zt.length-1)&&(St(fe=ae+Jt,a.fontData)<=c?ae=fe:(ie=ie.slice(0,-1),ie+=(ie?"\n":"")+ae,ae=Jt),Jt="");ie=ie.slice(0,-1),Vt.push(ie+=(ie?"\n":"")+ae)}f=Vt.join("\n"),m.wrappedText=f,h=f.length}var Xe=0;for(Y=0;Y<h;Y++)if(10!==(I=f.charCodeAt(Y))){if(R=x[I]){if(L=A,null!==H){var Re=R.kerning[K];L+=void 0!==Re?Re:0}p>L&&(p=L),d>(V=D)&&(d=V);var $e=L+R.xAdvance,Ce=V+b;g<$e&&(g=$e),v<Ce&&(v=Ce);var Je=R.xOffset+R.xAdvance+(void 0!==Re?Re:0);I===u?null!==wt&&(ht.push({word:wt.word,i:wt.i,x:wt.x*G,y:wt.y*Q,w:wt.w*G,h:wt.h*Q}),wt=null):(null===wt&&(wt={word:"",i:Xe,x:A,y:D,w:0,h:b}),wt.word=wt.word.concat(f[Y]),wt.w+=Je),gt.push({i:Xe,idx:Y,char:f[Y],code:I,x:(R.xOffset+L)*B,y:(R.yOffset+D)*B,w:R.width*B,h:R.height*B,t:D*B,r:$e*B,b:b*B,line:J,glyph:R}),A+=R.xAdvance+_+(void 0!==Re?Re:0),H=R,K=I,it=$e*B,Xe++}}else null!==wt&&(ht.push({word:wt.word,i:wt.i,x:wt.x*G,y:wt.y*Q,w:wt.w*G,h:wt.h*Q}),wt=null),H=null,tt[J]=it,it>lt&&(lt=it),it<at&&(at=it),it=0,A=0,D=(b+E)*++J;if(null!==wt&&ht.push({word:wt.word,i:wt.i,x:wt.x*G,y:wt.y*Q,w:wt.w*G,h:wt.h*Q}),tt[J]=it,it>lt&&(lt=it),it<at&&(at=it),F>0)for(var ii=0;ii<gt.length;ii++){var Ni=gt[ii];if(1===F){var Ji=(lt-tt[Ni.line])/2;Ni.x+=Ji,Ni.r+=Ji}else if(2===F){var an=lt-tt[Ni.line];Ni.x+=an,Ni.r+=an}}var on=m.local,dn=m.global;return nt=m.lines,on.x=p*B,on.y=d*B,on.width=g*B,on.height=v*B,dn.x=a.x-a._displayOriginX+p*G,dn.y=a.y-a._displayOriginY+d*Q,dn.width=g*G,dn.height=v*Q,nt.shortest=at,nt.longest=lt,nt.lengths=tt,y&&(on.x=Math.ceil(on.x),on.y=Math.ceil(on.y),on.width=Math.ceil(on.width),on.height=Math.ceil(on.height),dn.x=Math.ceil(dn.x),dn.y=Math.ceil(dn.y),dn.width=Math.ceil(dn.width),dn.height=Math.ceil(dn.height),nt.shortest=Math.ceil(at),nt.longest=Math.ceil(lt)),T&&(a._displayOriginX=a.originX*on.width,a._displayOriginY=a.originY*on.height,dn.x=a.x-a._displayOriginX*a.scaleX,dn.y=a.y-a._displayOriginY*a.scaleY,y&&(dn.x=Math.ceil(dn.x),dn.y=Math.ceil(dn.y))),m.words=ht,m.characters=gt,m.lines.height=b,m.scale=B,m.scaleX=a.scaleX,m.scaleY=a.scaleY,m}},61327:(C,k,a)=>{var y=a(21859);C.exports=function(m,f,h,c,u,p,d){var g=m.sys.textures.get(h),v=g.get(c),x=m.sys.cache.xml.get(u);if(v&&x){var b=y(x,v,p,d,g);return m.sys.cache.bitmapFont.add(f,{data:b,texture:h,frame:c,fromAtlas:!0}),!0}return!1}},6925:(C,k,a)=>{var y=a(35154);C.exports=function(m,f){var h=f.width,c=f.height,u=Math.floor(h/2),p=Math.floor(c/2),d=y(f,"chars","");if(""!==d){var g=y(f,"image",""),v=m.sys.textures.getFrame(g),x=v.cutX,b=v.cutY,_=v.source.width,E=v.source.height,A=y(f,"offset.x",0),D=y(f,"offset.y",0),I=y(f,"spacing.x",0),R=y(f,"spacing.y",0),F=y(f,"lineSpacing",0),L=y(f,"charsPerRow",null);null===L&&(L=_/h)>d.length&&(L=d.length);for(var V=A,B=D,G={retroFont:!0,font:g,size:h,lineHeight:c+F,chars:{}},Q=0,H=0;H<d.length;H++){var K=d.charCodeAt(H);G.chars[K]={x:V,y:B,width:h,height:c,centerX:u,centerY:p,xOffset:0,yOffset:0,xAdvance:h,data:{},kerning:{},u0:(x+V)/_,v0:(b+B)/E,u1:(x+V+h)/_,v1:(b+B+c)/E},++Q===L?(Q=0,V=A,B+=c+R):V+=h+I}return{data:G,frame:null,texture:g}}}},21859:C=>{function k(y,T){return parseInt(y.getAttribute(T),10)}C.exports=function(y,T,m,f,h){void 0===m&&(m=0),void 0===f&&(f=0);var c=T.cutX,u=T.cutY,p=T.source.width,d=T.source.height,g=T.sourceIndex,v={},x=y.getElementsByTagName("info")[0],b=y.getElementsByTagName("common")[0];v.font=x.getAttribute("face"),v.size=k(x,"size"),v.lineHeight=k(b,"lineHeight")+f,v.chars={};var _=y.getElementsByTagName("char"),E=void 0!==T&&T.trimmed;if(E)var A=T.height,D=T.width;for(var I=0;I<_.length;I++){var R=_[I],F=k(R,"id"),L=String.fromCharCode(F),V=k(R,"x"),B=k(R,"y"),G=k(R,"width"),Q=k(R,"height");E&&(V<D&&(D=V),B<A&&(A=B)),E&&0!==A&&0!==D&&(V-=T.x,B-=T.y);var H=(c+V)/p,K=(u+B)/d,tt=(c+V+G)/p,at=(u+B+Q)/d;if(v.chars[F]={x:V,y:B,width:G,height:Q,centerX:Math.floor(G/2),centerY:Math.floor(Q/2),xOffset:k(R,"xoffset"),yOffset:k(R,"yoffset"),xAdvance:k(R,"xadvance")+m,data:{},kerning:{},u0:H,v0:K,u1:tt,v1:at},h&&0!==G&&0!==Q){var lt=h.add(L,g,V,B,G,Q);lt&&lt.setUVs(G,Q,H,K,tt,at)}}var J=y.getElementsByTagName("kerning");for(I=0;I<J.length;I++){var it=J[I],Y=k(it,"first"),X=k(it,"second"),nt=k(it,"amount");v.chars[X].kerning[Y]=nt}return v}},196:(C,k,a)=>{var y=a(87662),T=a(79291),m={Parse:a(6925)};m=T(!1,m,y),C.exports=m},87662:C=>{C.exports={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"}},2638:(C,k,a)=>{var y=a(22186),T=a(83419),m=a(12310),f=new T({Extends:y,Mixins:[m],initialize:function(c,u,p,d,g,v,x){y.call(this,c,u,p,d,g,v,x),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(h,c){return this.cropWidth=h,this.cropHeight=c,this},setDisplayCallback:function(h){return this.displayCallback=h,this},setScrollX:function(h){return this.scrollX=h,this},setScrollY:function(h){return this.scrollY=h,this}});C.exports=f},86741:(C,k,a)=>{var y=a(20926);C.exports=function(m,f,h,c){var u=f._text,p=u.length,d=m.currentContext;if(0!==p&&y(m,d,f,h,c)){h.addToRenderList(f);var g=f.fromAtlas?f.frame:f.texture.frames.__BASE,v=f.displayCallback,x=f.callbackData,b=f.fontData.chars,_=f.fontData.lineHeight,E=f._letterSpacing,A=0,D=0,I=0,R=null,F=0,L=0,V=0,B=0,G=0,Q=0,H=null,K=0,tt=f.frame.source.image,at=g.cutX,lt=g.cutY,J=0,it=0,Y=f._fontSize/f.fontData.size,X=f._align,nt=0,ht=0;f.getTextBounds(!1);var gt=f._bounds.lines;1===X?ht=(gt.longest-gt.lengths[0])/2:2===X&&(ht=gt.longest-gt.lengths[0]),d.translate(-f.displayOriginX,-f.displayOriginY);var wt=h.roundPixels;f.cropWidth>0&&f.cropHeight>0&&(d.beginPath(),d.rect(0,0,f.cropWidth,f.cropHeight),d.clip());for(var St=0;St<p;St++)if(it=Y,J=0,10!==(I=u.charCodeAt(St))){if(R=b[I]){if(F=at+R.x,L=lt+R.y,V=R.width,B=R.height,G=R.xOffset+A-f.scrollX,Q=R.yOffset+D-f.scrollY,null!==H){var Vt=R.kerning[K];G+=void 0!==Vt?Vt:0}if(v){x.index=St,x.charCode=I,x.x=G,x.y=Q,x.scale=it,x.rotation=J,x.data=R.data;var Zt=v(x);G=Zt.x,Q=Zt.y,it=Zt.scale,J=Zt.rotation}G*=it,Q*=it,G+=ht,A+=R.xAdvance+E+(void 0!==Vt?Vt:0),H=R,K=I,0!==V&&0!==B&&32!==I&&(wt&&(G=Math.round(G),Q=Math.round(Q)),d.save(),d.translate(G,Q),d.rotate(J),d.scale(it,it),d.drawImage(tt,F,L,V,B,0,0,V,B),d.restore())}}else nt++,1===X?ht=(gt.longest-gt.lengths[nt])/2:2===X&&(ht=gt.longest-gt.lengths[nt]),A=0,D+=_,H=null;d.restore()}}},11164:(C,k,a)=>{var y=a(2638),T=a(25305),m=a(44603),f=a(23568);m.register("dynamicBitmapText",function(h,c){void 0===h&&(h={});var u=f(h,"font",""),p=f(h,"text",""),d=f(h,"size",!1),g=new y(this.scene,0,0,u,p,d);return void 0!==c&&(h.add=c),T(this.scene,g,h),g})},72566:(C,k,a)=>{var y=a(2638);a(39429).register("dynamicBitmapText",function(m,f,h,c,u){return this.displayList.add(new y(this.scene,m,f,h,c,u))})},12310:(C,k,a)=>{var T,m;a(29747),T=a(73482),m=a(86741),C.exports={renderWebGL:T,renderCanvas:m}},73482:(C,k,a)=>{var y=a(91296),T=a(61340),m=a(70554),f=new T;C.exports=function(c,u,p,d){var g=u.text,v=g.length;if(0!==v){p.addToRenderList(u);var x=c.pipelines.set(u.pipeline,u),b=y(u,p,d);c.pipelines.preBatch(u);var _=b.sprite,E=b.calc,A=f,D=u.cropWidth>0||u.cropHeight>0;D&&(x.flush(),c.pushScissor(E.tx,E.ty,u.cropWidth*E.scaleX,u.cropHeight*E.scaleY));var J,X,R=u.frame.glTexture,F=u.tintFill,L=m.getTintAppendFloatAlpha(u.tintTopLeft,p.alpha*u._alphaTL),V=m.getTintAppendFloatAlpha(u.tintTopRight,p.alpha*u._alphaTR),B=m.getTintAppendFloatAlpha(u.tintBottomLeft,p.alpha*u._alphaBL),G=m.getTintAppendFloatAlpha(u.tintBottomRight,p.alpha*u._alphaBR),Q=x.setGameObject(u),H=0,K=0,tt=0,at=0,lt=u.letterSpacing,it=0,Y=0,nt=u.scrollX,ht=u.scrollY,gt=u.fontData,wt=gt.chars,St=gt.lineHeight,Vt=u.fontSize/gt.size,Zt=0,Jt=u._align,ie=0,ae=0,fe=u.getTextBounds(!1);u.maxWidth>0&&(v=(g=fe.wrappedText).length);var Pe=u._bounds.lines;1===Jt?ae=(Pe.longest-Pe.lengths[0])/2:2===Jt&&(ae=Pe.longest-Pe.lengths[0]);for(var Xe=p.roundPixels,Re=u.displayCallback,$e=u.callbackData,Ce=0;Ce<v;Ce++)if(10!==(tt=g.charCodeAt(Ce))){if(J=wt[tt]){Y=J.height;var Je=J.xOffset+H-nt,ii=J.yOffset+K-ht;if(null!==X){var Ni=J.kerning[at]||0;Je+=Ni,H+=Ni}if(H+=J.xAdvance+lt,X=J,at=tt,0!==(it=J.width)&&0!==Y&&32!==tt){if(Vt=u.fontSize/u.fontData.size,Zt=0,Re){$e.color=0,$e.tint.topLeft=L,$e.tint.topRight=V,$e.tint.bottomLeft=B,$e.tint.bottomRight=G,$e.index=Ce,$e.charCode=tt,$e.x=Je,$e.y=ii,$e.scale=Vt,$e.rotation=Zt,$e.data=J.data;var Ji=Re($e);Je=Ji.x,ii=Ji.y,Vt=Ji.scale,Zt=Ji.rotation,Ji.color?(L=Ji.color,V=Ji.color,B=Ji.color,G=Ji.color):(L=Ji.tint.topLeft,V=Ji.tint.topRight,B=Ji.tint.bottomLeft,G=Ji.tint.bottomRight),L=m.getTintAppendFloatAlpha(L,p.alpha*u._alphaTL),V=m.getTintAppendFloatAlpha(V,p.alpha*u._alphaTR),B=m.getTintAppendFloatAlpha(B,p.alpha*u._alphaBL),G=m.getTintAppendFloatAlpha(G,p.alpha*u._alphaBR)}Je*=Vt,ii*=Vt,Je-=u.displayOriginX,A.applyITRS(Je+=ae,ii-=u.displayOriginY,Zt,Vt,Vt),E.multiply(A,_);var an=J.u0,on=J.v0,dn=J.u1,Mr=J.v1,sr=_.e,Or=_.f,bs=Y*_.c+_.e,zl=Y*_.d+_.f,$s=it*_.a+Y*_.c+_.e,Ba=it*_.b+Y*_.d+_.f,Xo=it*_.a+_.e,Gl=it*_.b+_.f;Xe&&(sr=Math.round(sr),Or=Math.round(Or),bs=Math.round(bs),zl=Math.round(zl),$s=Math.round($s),Ba=Math.round(Ba),Xo=Math.round(Xo),Gl=Math.round(Gl)),x.shouldFlush(6)&&(x.flush(),Q=x.setGameObject(u)),x.batchQuad(u,sr,Or,bs,zl,$s,Ba,Xo,Gl,an,on,dn,Mr,L,V,B,G,F,R,Q)}}}else ie++,1===Jt?ae=(Pe.longest-Pe.lengths[ie])/2:2===Jt&&(ae=Pe.longest-Pe.lengths[ie]),H=0,K+=St,X=null;D&&(x.flush(),c.popScissor()),c.pipelines.postBatch(u)}}},22186:(C,k,a)=>{var y=a(83419),T=a(45319),m=a(31401),f=a(95643),h=a(53048),c=a(61327),u=a(21859),p=a(87841),d=a(18658),g=new y({Extends:f,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Tint,m.Transform,m.Visible,d],initialize:function(x,b,_,E,A,D,I){void 0===A&&(A=""),void 0===I&&(I=0),f.call(this,x,"BitmapText"),this.font=E;var R=this.scene.sys.cache.bitmapFont.get(E);if(!R)throw new Error("Invalid BitmapText key: "+E);this.fontData=R.data,this._text="",this._fontSize=D||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=I,this._bounds=h(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=R.fromAtlas,this.setTexture(R.texture,R.frame),this.setPosition(b,_),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(A)},setLeftAlign:function(){return this._align=g.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=g.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=g.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(v){return this._fontSize=v,this._dirty=!0,this},setLetterSpacing:function(v){return void 0===v&&(v=0),this._letterSpacing=v,this._dirty=!0,this},setLineSpacing:function(v){return void 0===v&&(v=0),this.lineSpacing=v,this},setText:function(v){return!v&&0!==v&&(v=""),Array.isArray(v)&&(v=v.join("\n")),v!==this.text&&(this._text=v.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(v,x,b,_){return void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=0),void 0===_&&(_=.5),this.dropShadowX=v,this.dropShadowY=x,this.dropShadowColor=b,this.dropShadowAlpha=_,this},setCharacterTint:function(v,x,b,_,E,A,D){void 0===v&&(v=0),void 0===x&&(x=1),void 0===b&&(b=!1),void 0===_&&(_=-1),void 0===E&&(E=_,A=_,D=_);var I=this.text.length;-1===x&&(x=I),v<0&&(v=I+v),v=T(v,0,I-1);for(var R=T(v+x,v,I),F=this.charColors,L=v;L<R;L++){var V=F[L];if(-1===_)F[L]=null;else{var B=b?1:0;V?(V.tintEffect=B,V.tintTL=_,V.tintTR=E,V.tintBL=A,V.tintBR=D):F[L]={tintEffect:B,tintTL:_,tintTR:E,tintBL:A,tintBR:D}}}return this},setWordTint:function(v,x,b,_,E,A,D){void 0===x&&(x=1);for(var R=this.getTextBounds().words,F="number"==typeof v,L=0,V=0;V<R.length;V++){var B=R[V];if((F&&V===v||!F&&B.word===v)&&(this.setCharacterTint(B.i,B.word.length,b,_,E,A,D),++L===x))return this}return this},getTextBounds:function(v){var x=this._bounds;return(this._dirty||v||this.scaleX!==x.scaleX||this.scaleY!==x.scaleY)&&(h(this,v,!0,x),this._dirty=!1),x},getCharacterAt:function(v,x,b){for(var _=this.getLocalPoint(v,x,null,b),A=this.getTextBounds().characters,D=new p,I=0;I<A.length;I++){var R=A[I];if(D.setTo(R.x,R.t,R.r-R.x,R.b),D.contains(_.x,_.y))return R}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(v,x,b){void 0===x&&(x=this._fontSize),void 0===b&&(b=this._align);var _=this.scene.sys.cache.bitmapFont.get(v);return _&&(this.font=v,this.fontData=_.data,this._fontSize=x,this._align=b,this.fromAtlas=!0===_.fromAtlas,this.setTexture(_.texture,_.frame),h(this,!1,!0,this._bounds)),this},setMaxWidth:function(v,x){return this._maxWidth=v,this._dirty=!0,void 0!==x&&(this.wordWrapCharCode=x),this},align:{set:function(v){this._align=v,this._dirty=!0},get:function(){return this._align}},text:{set:function(v){this.setText(v)},get:function(){return this._text}},fontSize:{set:function(v){this._fontSize=v,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(v){this._letterSpacing=v,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(v){this._lineSpacing=v,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(v){this._maxWidth=v,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var v=m.ToJSON(this);return v.data={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align},v},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});g.ALIGN_LEFT=0,g.ALIGN_CENTER=1,g.ALIGN_RIGHT=2,g.ParseFromAtlas=c,g.ParseXMLBitmapFont=u,C.exports=g},37289:(C,k,a)=>{var y=a(20926);C.exports=function(m,f,h,c){var u=f._text,p=u.length,d=m.currentContext;if(0!==p&&y(m,d,f,h,c)){h.addToRenderList(f);var g=f.fromAtlas?f.frame:f.texture.frames.__BASE,v=f.fontData.chars,x=f.fontData.lineHeight,b=f._letterSpacing,_=f._lineSpacing,E=0,A=0,D=0,I=null,R=0,F=0,L=0,V=0,B=0,G=0,Q=null,H=0,K=g.source.image,tt=g.cutX,at=g.cutY,lt=f._fontSize/f.fontData.size,J=f._align,it=0,Y=0,X=f.getTextBounds(!1);f.maxWidth>0&&(p=(u=X.wrappedText).length);var nt=f._bounds.lines;1===J?Y=(nt.longest-nt.lengths[0])/2:2===J&&(Y=nt.longest-nt.lengths[0]),d.translate(-f.displayOriginX,-f.displayOriginY);for(var ht=h.roundPixels,gt=0;gt<p;gt++)if(10!==(D=u.charCodeAt(gt))){if(I=v[D]){if(R=tt+I.x,F=at+I.y,V=I.height,B=I.xOffset+E,G=I.yOffset+A,null!==Q){var wt=I.kerning[H];B+=void 0!==wt?wt:0}B*=lt,G*=lt,B+=Y,E+=I.xAdvance+b+(void 0!==wt?wt:0),Q=I,H=D,0!==(L=I.width)&&0!==V&&32!==D&&(ht&&(B=Math.round(B),G=Math.round(G)),d.save(),d.translate(B,G),d.scale(lt,lt),d.drawImage(K,R,F,L,V,0,0,L,V),d.restore())}}else it++,1===J?Y=(nt.longest-nt.lengths[it])/2:2===J&&(Y=nt.longest-nt.lengths[it]),E=0,A+=x+_,Q=null;d.restore()}}},57336:(C,k,a)=>{var y=a(22186),T=a(25305),m=a(44603),f=a(23568),h=a(35154);m.register("bitmapText",function(c,u){void 0===c&&(c={});var p=h(c,"font",""),d=f(c,"text",""),g=f(c,"size",!1),v=h(c,"align",0),x=new y(this.scene,0,0,p,d,g,v);return void 0!==u&&(c.add=u),T(this.scene,x,c),x})},34914:(C,k,a)=>{var y=a(22186);a(39429).register("bitmapText",function(m,f,h,c,u,p){return this.displayList.add(new y(this.scene,m,f,h,c,u,p))})},18658:(C,k,a)=>{var T,m;a(29747),T=a(33590),m=a(37289),C.exports={renderWebGL:T,renderCanvas:m}},33590:(C,k,a)=>{var y=a(3217),T=a(91296),m=a(70554);C.exports=function(h,c,u,p){if(0!==c._text.length){u.addToRenderList(c);var v=h.pipelines.set(c.pipeline,c),x=T(c,u,p).calc;h.pipelines.preBatch(c);var Q,H,K,b=u.roundPixels,_=u.alpha,E=c.charColors,A=c.tintFill,D=m.getTintAppendFloatAlpha,I=D(c.tintTopLeft,_*c._alphaTL),R=D(c.tintTopRight,_*c._alphaTR),F=D(c.tintBottomLeft,_*c._alphaBL),L=D(c.tintBottomRight,_*c._alphaBR),V=c.frame.glTexture,B=v.setGameObject(c),tt=c.getTextBounds(!1).characters,at=c.dropShadowX,lt=c.dropShadowY;if(0!==at||0!==lt){var it=c.dropShadowColor,Y=c.dropShadowAlpha,X=D(it,_*Y*c._alphaTL),nt=D(it,_*Y*c._alphaTR),ht=D(it,_*Y*c._alphaBL),gt=D(it,_*Y*c._alphaBR);for(Q=0;Q<tt.length;Q++)K=(H=tt[Q]).glyph,32!==H.code&&0!==K.width&&0!==K.height&&y(v,c,H,K,at,lt,x,b,X,nt,ht,gt,1,V,B)}for(Q=0;Q<tt.length;Q++)if(K=(H=tt[Q]).glyph,32!==H.code&&0!==K.width&&0!==K.height)if(v.shouldFlush(6)&&(v.flush(),B=v.setGameObject(c)),E[H.i]){var wt=E[H.i],St=wt.tintEffect,Vt=D(wt.tintTL,_*c._alphaTL),Zt=D(wt.tintTR,_*c._alphaTR),Jt=D(wt.tintBL,_*c._alphaBL),ie=D(wt.tintBR,_*c._alphaBR);y(v,c,H,K,0,0,x,b,Vt,Zt,Jt,ie,St,V,B)}else y(v,c,H,K,0,0,x,b,I,R,F,L,A,V,B);h.pipelines.postBatch(c)}}},6107:(C,k,a)=>{var y=a(48011),T=a(46590),m=a(83419),f=a(31401),h=a(4327),c=a(95643),u=a(73162),p=new m({Extends:c,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Mask,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Size,f.Texture,f.Transform,f.Visible,y],initialize:function(g,v,x,b,_){c.call(this,g,"Blitter"),this.setTexture(b,_),this.setPosition(v,x),this.initPipeline(),this.initPostPipeline(),this.children=new u,this.renderList=[],this.dirty=!1},create:function(d,g,v,x,b){void 0===x&&(x=!0),void 0===b&&(b=this.children.length),void 0===v?v=this.frame:v instanceof h||(v=this.texture.get(v));var _=new T(this,d,g,v,x);return this.children.addAt(_,b,!1),this.dirty=!0,_},createFromCallback:function(d,g,v,x){for(var b=this.createMultiple(g,v,x),_=0;_<b.length;_++)d.call(this,b[_],_);return b},createMultiple:function(d,g,v){void 0===g&&(g=this.frame.name),void 0===v&&(v=!0),Array.isArray(g)||(g=[g]);var x=[],b=this;return g.forEach(function(_){for(var E=0;E<d;E++)x.push(b.create(0,0,_,v))}),x},childCanRender:function(d){return d.visible&&d.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});C.exports=p},72396:C=>{C.exports=function(a,y,T,m){var f=y.getRenderList();if(0!==f.length){var h=a.currentContext,c=T.alpha*y.alpha;if(0!==c){T.addToRenderList(y),h.globalCompositeOperation=a.blendModes[y.blendMode],h.imageSmoothingEnabled=!y.frame.source.scaleMode;var u=y.x-T.scrollX*y.scrollFactorX,p=y.y-T.scrollY*y.scrollFactorY;h.save(),m&&m.copyToContext(h);for(var d=T.roundPixels,g=0;g<f.length;g++){var v=f[g],x=v.flipX||v.flipY,b=v.frame,_=b.canvasData,E=b.x,A=b.y,D=1,I=1,R=v.alpha*c;0!==R&&(h.globalAlpha=R,x?(v.flipX&&(D=-1,E-=_.width),v.flipY&&(I=-1,A-=_.height),_.width>0&&_.height>0&&(h.save(),h.translate(v.x+u,v.y+p),h.scale(D,I),h.drawImage(b.source.image,_.x,_.y,_.width,_.height,E,A,_.width,_.height),h.restore())):(d&&(E=Math.round(E),A=Math.round(A)),_.width>0&&_.height>0&&h.drawImage(b.source.image,_.x,_.y,_.width,_.height,E+v.x+u,A+v.y+p,_.width,_.height)))}h.restore()}}}},9403:(C,k,a)=>{var y=a(6107),T=a(25305),m=a(44603),f=a(23568);m.register("blitter",function(h,c){void 0===h&&(h={});var u=f(h,"key",null),p=f(h,"frame",null),d=new y(this.scene,0,0,u,p);return void 0!==c&&(h.add=c),T(this.scene,d,h),d})},12709:(C,k,a)=>{var y=a(6107);a(39429).register("blitter",function(m,f,h,c){return this.displayList.add(new y(this.scene,m,f,h,c))})},48011:(C,k,a)=>{var T,m;a(29747),T=a(99485),m=a(72396),C.exports={renderWebGL:T,renderCanvas:m}},99485:(C,k,a)=>{var y=a(61340),T=a(70554),m=new y;C.exports=function(h,c,u,p){var d=c.getRenderList(),g=u.alpha*c.alpha;if(0!==d.length&&0!==g){u.addToRenderList(c);var v=h.pipelines.set(this.pipeline,c),x=u.scrollX*c.scrollFactorX,b=u.scrollY*c.scrollFactorY,_=m.copyFrom(u.matrix);p&&(_.multiplyWithOffset(p,-x,-b),x=0,b=0);var E=c.x-x,A=c.y-b,D=-1,R=u.roundPixels;h.pipelines.preBatch(c);for(var F=0;F<d.length;F++){var L=d[F],V=L.frame,B=L.alpha*g;if(0!==B){var G=V.width,Q=V.height,H=E+L.x+V.x,K=A+L.y+V.y;L.flipX&&(G*=-1,H+=V.width),L.flipY&&(Q*=-1,K+=V.height);var tt=_.setQuad(H,K,H+G,K+Q,R),at=T.getTintAppendFloatAlpha(L.tint,B);if(V.sourceIndex!==D){var lt=v.setGameObject(c,V);D=V.sourceIndex}v.batchQuad(c,tt[0],tt[1],tt[2],tt[3],tt[4],tt[5],tt[6],tt[7],V.u0,V.v0,V.u1,V.v1,at,at,at,at,!1,V.glTexture,lt)&&(D=-1)}}h.pipelines.postBatch(c)}}},46590:(C,k,a)=>{var y=a(83419),T=a(4327),m=new y({initialize:function(h,c,u,p,d){this.parent=h,this.x=c,this.y=u,this.frame=p,this.data={},this.tint=16777215,this._visible=d,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(f){return this.frame=void 0===f?this.parent.frame:f instanceof T&&f.texture===this.parent.texture?f:this.parent.texture.get(f),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(f,h,c){return this.x=f,this.y=h,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,c&&this.setFrame(c),this},setPosition:function(f,h){return this.x=f,this.y=h,this},setFlipX:function(f){return this.flipX=f,this},setFlipY:function(f){return this.flipY=f,this},setFlip:function(f,h){return this.flipX=f,this.flipY=h,this},setVisible:function(f){return this.visible=f,this},setAlpha:function(f){return this.alpha=f,this},setTint:function(f){return this.tint=f,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(f){this.parent.dirty|=this._visible!==f,this._visible=f}},alpha:{get:function(){return this._alpha},set:function(f){this.parent.dirty|=this._alpha>0!=f>0,this._alpha=f}}});C.exports=m},16005:(C,k,a)=>{var y=a(45319);C.exports={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(f,h,c,u){return void 0===f&&(f=1),void 0===h?this.alpha=f:(this._alphaTL=y(f,0,1),this._alphaTR=y(h,0,1),this._alphaBL=y(c,0,1),this._alphaBR=y(u,0,1)),this},alpha:{get:function(){return this._alpha},set:function(f){var h=y(f,0,1);this._alpha=h,this._alphaTL=h,this._alphaTR=h,this._alphaBL=h,this._alphaBR=h,0===h?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(f){var h=y(f,0,1);this._alphaTL=h,0!==h&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(f){var h=y(f,0,1);this._alphaTR=h,0!==h&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(f){var h=y(f,0,1);this._alphaBL=h,0!==h&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(f){var h=y(f,0,1);this._alphaBR=h,0!==h&&(this.renderFlags|=2)}}}},88509:(C,k,a)=>{var y=a(45319);C.exports={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(f){return void 0===f&&(f=1),this.alpha=f,this},alpha:{get:function(){return this._alpha},set:function(f){var h=y(f,0,1);this._alpha=h,0===h?this.renderFlags&=-3:this.renderFlags|=2}}}},90065:(C,k,a)=>{var y=a(10312);C.exports={_blendMode:y.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(m){"string"==typeof m&&(m=y[m]),(m|=0)>=-1&&(this._blendMode=m)}},setBlendMode:function(m){return this.blendMode=m,this}}},94215:C=>{C.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}},setSize:function(a,y){return this.width=a,this.height=y,this},setDisplaySize:function(a,y){return this.displayWidth=a,this.displayHeight=y,this}}},61683:C=>{C.exports={texture:null,frame:null,isCropped:!1,setCrop:function(a,y,T,m){return void 0===a?this.isCropped=!1:this.frame&&("number"==typeof a?this.frame.setCropUVs(this._crop,a,y,T,m,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY),this.isCropped=!0),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},89272:(C,k,a)=>{var y=a(37105);C.exports={_depth:0,depth:{get:function(){return this._depth},set:function(m){this.displayList&&this.displayList.queueDepthSort(),this._depth=m}},setDepth:function(m){return void 0===m&&(m=0),this.depth=m,this},setToTop:function(){var m=this.getDisplayList();return m&&y.BringToTop(m,this),this},setToBack:function(){var m=this.getDisplayList();return m&&y.SendToBack(m,this),this},setAbove:function(m){var f=this.getDisplayList();return f&&m&&y.MoveAbove(f,this,m),this},setBelow:function(m){var f=this.getDisplayList();return f&&m&&y.MoveBelow(f,this,m),this}}},47059:(C,k,a)=>{var y=a(83419),T=a(66064),m=a(19133),f=new y({initialize:function(c,u){this.gameObject=c,this.isPost=u,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(h){return void 0===h&&(h=0),this.padding=h,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(h){if(!this.isPost){var c=this.gameObject.scene.sys.renderer;c&&c.pipelines?(this.gameObject.pipeline=c.pipelines.FX_PIPELINE,void 0!==h&&(this.padding=h),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var h=this.list,c=0;c<h.length;c++)h[c].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(h){var c;if(this.isPost){var u=this.gameObject.getPostPipeline(String(h.type));for(Array.isArray(u)||(u=[u]),c=0;c<u.length;c++){var p=u[c];if(p.controller===h){this.gameObject.removePostPipeline(p),h.destroy();break}}}else{var d=this.list;for(c=0;c<d.length;c++)d[c]===h&&(m(d,c),h.destroy())}return this.gameObject},disable:function(h){return void 0===h&&(h=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,h&&this.clear(),this.gameObject},add:function(h,c){if(!this.isPost)return this.enabled||this.enable(),this.list.push(h),h;var u=String(h.type);this.gameObject.setPostPipeline(u,c);var p=this.gameObject.getPostPipeline(u);return p?(Array.isArray(p)&&(p=p.pop()),p&&(p.controller=h),h):void 0},addGlow:function(h,c,u,p,d,g){return this.add(new T.Glow(this.gameObject,h,c,u,p),{quality:d,distance:g})},addShadow:function(h,c,u,p,d,g,v){return this.add(new T.Shadow(this.gameObject,h,c,u,p,d,g,v))},addPixelate:function(h){return this.add(new T.Pixelate(this.gameObject,h))},addVignette:function(h,c,u,p){return this.add(new T.Vignette(this.gameObject,h,c,u,p))},addShine:function(h,c,u,p){return this.add(new T.Shine(this.gameObject,h,c,u,p))},addBlur:function(h,c,u,p,d,g){return this.add(new T.Blur(this.gameObject,h,c,u,p,d,g))},addGradient:function(h,c,u,p,d,g,v,x){return this.add(new T.Gradient(this.gameObject,h,c,u,p,d,g,v,x))},addBloom:function(h,c,u,p,d,g){return this.add(new T.Bloom(this.gameObject,h,c,u,p,d,g))},addColorMatrix:function(){return this.add(new T.ColorMatrix(this.gameObject))},addCircle:function(h,c,u,p,d){return this.add(new T.Circle(this.gameObject,h,c,u,p,d))},addBarrel:function(h){return this.add(new T.Barrel(this.gameObject,h))},addDisplacement:function(h,c,u){return this.add(new T.Displacement(this.gameObject,h,c,u))},addWipe:function(h,c,u){return this.add(new T.Wipe(this.gameObject,h,c,u))},addReveal:function(h,c,u){return this.add(new T.Wipe(this.gameObject,h,c,u,!0))},addBokeh:function(h,c,u){return this.add(new T.Bokeh(this.gameObject,h,c,u))},addTiltShift:function(h,c,u,p,d,g){return this.add(new T.Bokeh(this.gameObject,h,c,u,!0,p,d,g))},destroy:function(){this.clear(),this.gameObject=null}});C.exports=f},54434:C=>{C.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(a){return this.flipX=a,this},setFlipY:function(a){return this.flipY=a,this},setFlip:function(a,y){return this.flipX=a,this.flipY=y,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},8004:(C,k,a)=>{var y=a(87841),T=a(11520),m=a(26099);C.exports={prepareBoundsOutput:function(h,c){return void 0===c&&(c=!1),0!==this.rotation&&T(h,this.x,this.y,this.rotation),c&&this.parentContainer&&this.parentContainer.getBoundsTransformMatrix().transformPoint(h.x,h.y,h),h},getCenter:function(h,c){return void 0===h&&(h=new m),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,c)},getTopLeft:function(h,c){return h||(h=new m),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,c)},getTopCenter:function(h,c){return h||(h=new m),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,c)},getTopRight:function(h,c){return h||(h=new m),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,c)},getLeftCenter:function(h,c){return h||(h=new m),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,c)},getRightCenter:function(h,c){return h||(h=new m),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,c)},getBottomLeft:function(h,c){return h||(h=new m),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,c)},getBottomCenter:function(h,c){return h||(h=new m),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,c)},getBottomRight:function(h,c){return h||(h=new m),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,c)},getBounds:function(h){var c,u,p,d,g,v,x,b;if(void 0===h&&(h=new y),this.parentContainer){var _=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(h),_.transformPoint(h.x,h.y,h),c=h.x,u=h.y,this.getTopRight(h),_.transformPoint(h.x,h.y,h),p=h.x,d=h.y,this.getBottomLeft(h),_.transformPoint(h.x,h.y,h),g=h.x,v=h.y,this.getBottomRight(h),_.transformPoint(h.x,h.y,h),x=h.x,b=h.y}else this.getTopLeft(h),c=h.x,u=h.y,this.getTopRight(h),p=h.x,d=h.y,this.getBottomLeft(h),g=h.x,v=h.y,this.getBottomRight(h),x=h.x,b=h.y;return h.x=Math.min(c,p,g,x),h.y=Math.min(u,d,v,b),h.width=Math.max(c,p,g,x)-h.x,h.height=Math.max(u,d,v,b)-h.y,h}}},8573:(C,k,a)=>{var y=a(6858),T=a(80661);C.exports={mask:null,setMask:function(f){return this.mask=f,this},clearMask:function(f){return void 0===f&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(f,h,c,u,p){return void 0===f&&(this.texture||this.shader||this.geom)&&(f=this),new y(this.scene,f,h,c,u,p)},createGeometryMask:function(f){return void 0===f&&("Graphics"===this.type||this.geom)&&(f=this),new T(this.scene,f)}}},27387:C=>{C.exports={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(a){this._displayOriginX=a,this.originX=a/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(a){this._displayOriginY=a,this.originY=a/this.height}},setOrigin:function(a,y){return void 0===a&&(a=.5),void 0===y&&(y=a),this.originX=a,this.originY=y,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(a,y){return void 0===a&&(a=0),void 0===y&&(y=a),this.displayOriginX=a,this.displayOriginY=y,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}}},37640:(C,k,a)=>{var y=a(39506),T=a(57355),m=a(35154),f=a(86353),h=a(26099);C.exports={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:f.PLAYING_FORWARD,setPath:function(u,p){void 0===p&&(p=this.pathConfig);var d=this.pathTween;return d&&d.isPlaying()&&d.stop(),this.path=u,p&&this.startFollow(p),this},setRotateToPath:function(u,p){return void 0===p&&(p=0),this.rotateToPath=u,this.pathRotationOffset=p,this},isFollowing:function(){var u=this.pathTween;return u&&u.isPlaying()},startFollow:function(u,p){void 0===u&&(u={}),void 0===p&&(p=0);var d=this.pathTween;d&&d.isPlaying()&&d.stop(),"number"==typeof u&&(u={duration:u}),u.from=m(u,"from",0),u.to=m(u,"to",1);var g=T(u,"positionOnPath",!1);this.rotateToPath=T(u,"rotateToPath",!1),this.pathRotationOffset=m(u,"rotationOffset",0);var v=m(u,"startAt",p);if(v&&(u.onStart=function(b){var _=b.data[0];_.progress=v,_.elapsed=_.duration*v;var E=_.ease(_.progress);_.current=_.start+(_.end-_.start)*E,_.setTargetValue()}),this.pathOffset||(this.pathOffset=new h(this.x,this.y)),this.pathVector||(this.pathVector=new h),this.pathDelta||(this.pathDelta=new h),this.pathDelta.reset(),u.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(u),this.path.getStartPoint(this.pathOffset),g&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=f.PLAYING_FORWARD,this.rotateToPath){var x=this.path.getPoint(.1);this.rotation=Math.atan2(x.y-this.y,x.x-this.x)+y(this.pathRotationOffset)}return this.pathConfig=u,this},pauseFollow:function(){var u=this.pathTween;return u&&u.isPlaying()&&u.pause(),this},resumeFollow:function(){var u=this.pathTween;return u&&u.isPaused()&&u.resume(),this},stopFollow:function(){var u=this.pathTween;return u&&u.isPlaying()&&u.stop(),this},pathUpdate:function(){var u=this.pathTween;if(u&&u.data){var p=u.data[0],d=this.pathDelta,g=this.pathVector;if(d.copy(g).negate(),p.state===f.COMPLETE)return this.path.getPoint(p.end,g),d.add(g),g.add(this.pathOffset),void this.setPosition(g.x,g.y);if(p.state!==f.PLAYING_FORWARD&&p.state!==f.PLAYING_BACKWARD)return;this.path.getPoint(u.getValue(),g),d.add(g),g.add(this.pathOffset);var v=this.x,x=this.y;this.setPosition(g.x,g.y);var b=this.x-v,_=this.y-x;if(0===b&&0===_)return;if(p.state!==this._prevDirection)return void(this._prevDirection=p.state);this.rotateToPath&&(this.rotation=Math.atan2(_,b)+y(this.pathRotationOffset))}}}},72699:(C,k,a)=>{var y=a(62644);C.exports={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(m){this.pipelineData={};var f=this.scene.sys.renderer;if(!f)return!1;var h=f.pipelines;if(h){void 0===m&&(m=h.default);var c=h.get(m);if(c)return this.defaultPipeline=c,this.pipeline=c,!0}return!1},setPipeline:function(m,f,h){var c=this.scene.sys.renderer;if(!c)return this;var u=c.pipelines;if(u){var p=u.get(m);p&&(this.pipeline=p),f&&(this.pipelineData=h?y(f):f)}return this},setPipelineData:function(m,f){var h=this.pipelineData;return void 0===f?delete h[m]:h[m]=f,this},resetPipeline:function(m){return void 0===m&&(m=!1),this.pipeline=this.defaultPipeline,m&&(this.pipelineData={}),null!==this.pipeline},getPipelineName:function(){return null===this.pipeline?null:this.pipeline.name}}},17581:(C,k,a)=>{var y=a(62644),T=a(47059),m=a(19133);C.exports={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(h){this.postPipelines=[],this.postPipelineData={},this.postFX=new T(this,!0),h&&(this.preFX=new T(this,!1))},setPostPipeline:function(h,c,u){var p=this.scene.sys.renderer;if(!p)return this;var d=p.pipelines;if(d){Array.isArray(h)||(h=[h]);for(var g=0;g<h.length;g++){var v=d.getPostPipeline(h[g],this,c);v&&this.postPipelines.push(v)}c&&(this.postPipelineData=u?y(c):c)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(h,c){var u=this.postPipelineData;return void 0===c?delete u[h]:u[h]=c,this},getPostPipeline:function(h){for(var c="string"==typeof h,u=this.postPipelines,p=[],d=0;d<u.length;d++){var g=u[d];(c&&g.name===h||!c&&g instanceof h)&&p.push(g)}return 1===p.length?p[0]:p},resetPostPipeline:function(h){void 0===h&&(h=!1);for(var c=this.postPipelines,u=0;u<c.length;u++)c[u].destroy();this.postPipelines=[],this.hasPostPipeline=!1,h&&(this.postPipelineData={})},removePostPipeline:function(h){for(var c="string"==typeof h,u=this.postPipelines,p=u.length-1;p>=0;p--){var d=u[p];(c&&d.name===h||!c&&d===h)&&(d.destroy(),m(u,p))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}}},80227:C=>{C.exports={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(a,y){return void 0===y&&(y=a),this.scrollFactorX=a,this.scrollFactorY=y,this}}},16736:C=>{C.exports={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(a){this.scaleX=a/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(a){this.scaleY=a/this.frame.realHeight}},setSizeToFrame:function(a){a||(a=this.frame),this.width=a.realWidth,this.height=a.realHeight;var y=this.input;return y&&!y.customHitArea&&(y.hitArea.width=this.width,y.hitArea.height=this.height),this},setSize:function(a,y){return this.width=a,this.height=y,this},setDisplaySize:function(a,y){return this.displayWidth=a,this.displayHeight=y,this}}},37726:(C,k,a)=>{var y=a(4327);C.exports={texture:null,frame:null,isCropped:!1,setTexture:function(f,h,c,u){return this.texture=this.scene.sys.textures.get(f),this.setFrame(h,c,u)},setFrame:function(f,h,c){return void 0===h&&(h=!0),void 0===c&&(c=!0),f instanceof y?(this.texture=this.scene.sys.textures.get(f.texture.key),this.frame=f):this.frame=this.texture.get(f),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&c&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}}},79812:(C,k,a)=>{var y=a(4327);C.exports={texture:null,frame:null,isCropped:!1,setCrop:function(f,h,c,u){return void 0===f?this.isCropped=!1:this.frame&&("number"==typeof f?this.frame.setCropUVs(this._crop,f,h,c,u,this.flipX,this.flipY):this.frame.setCropUVs(this._crop,f.x,f.y,f.width,f.height,this.flipX,this.flipY),this.isCropped=!0),this},setTexture:function(f,h){return this.texture=this.scene.sys.textures.get(f),this.setFrame(h)},setFrame:function(f,h,c){return void 0===h&&(h=!0),void 0===c&&(c=!0),f instanceof y?(this.texture=this.scene.sys.textures.get(f.texture.key),this.frame=f):this.frame=this.texture.get(f),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&c&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}}},27472:C=>{C.exports={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(a,y,T,m){return void 0===a&&(a=16777215),void 0===y&&(y=a,T=a,m=a),this.tintTopLeft=a,this.tintTopRight=y,this.tintBottomLeft=T,this.tintBottomRight=m,this.tintFill=!1,this},setTintFill:function(a,y,T,m){return this.setTint(a,y,T,m),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(a){this.setTint(a,a,a,a)}},isTinted:{get:function(){var a=16777215;return this.tintFill||this.tintTopLeft!==a||this.tintTopRight!==a||this.tintBottomLeft!==a||this.tintBottomRight!==a}}}},53774:C=>{C.exports=function(a){var y={name:a.name,type:a.type,x:a.x,y:a.y,depth:a.depth,scale:{x:a.scaleX,y:a.scaleY},origin:{x:a.originX,y:a.originY},flipX:a.flipX,flipY:a.flipY,rotation:a.rotation,alpha:a.alpha,visible:a.visible,blendMode:a.blendMode,textureKey:"",frameKey:"",data:{}};return a.texture&&(y.textureKey=a.texture.key,y.frameKey=a.frame.name),y}},16901:(C,k,a)=>{var y=a(36383),T=a(61340),m=a(85955),f=a(86554),h=a(30954),c=a(26099);C.exports={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(d){this._scaleX=d,this._scaleY=d,0===d?this.renderFlags&=-5:this.renderFlags|=4}},scaleX:{get:function(){return this._scaleX},set:function(d){this._scaleX=d,0===d?this.renderFlags&=-5:0!==this._scaleY&&(this.renderFlags|=4)}},scaleY:{get:function(){return this._scaleY},set:function(d){this._scaleY=d,0===d?this.renderFlags&=-5:0!==this._scaleX&&(this.renderFlags|=4)}},angle:{get:function(){return h(this._rotation*y.RAD_TO_DEG)},set:function(d){this.rotation=h(d)*y.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(d){this._rotation=f(d)}},setPosition:function(d,g,v,x){return void 0===d&&(d=0),void 0===g&&(g=d),void 0===v&&(v=0),void 0===x&&(x=0),this.x=d,this.y=g,this.z=v,this.w=x,this},copyPosition:function(d){return void 0!==d.x&&(this.x=d.x),void 0!==d.y&&(this.y=d.y),void 0!==d.z&&(this.z=d.z),void 0!==d.w&&(this.w=d.w),this},setRandomPosition:function(d,g,v,x){return void 0===d&&(d=0),void 0===g&&(g=0),void 0===v&&(v=this.scene.sys.scale.width),void 0===x&&(x=this.scene.sys.scale.height),this.x=d+Math.random()*v,this.y=g+Math.random()*x,this},setRotation:function(d){return void 0===d&&(d=0),this.rotation=d,this},setAngle:function(d){return void 0===d&&(d=0),this.angle=d,this},setScale:function(d,g){return void 0===d&&(d=1),void 0===g&&(g=d),this.scaleX=d,this.scaleY=g,this},setX:function(d){return void 0===d&&(d=0),this.x=d,this},setY:function(d){return void 0===d&&(d=0),this.y=d,this},setZ:function(d){return void 0===d&&(d=0),this.z=d,this},setW:function(d){return void 0===d&&(d=0),this.w=d,this},getLocalTransformMatrix:function(d){return void 0===d&&(d=new T),d.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(d,g){void 0===d&&(d=new T);var v=this.parentContainer;if(!v)return this.getLocalTransformMatrix(d);for(g||(g=new T),d.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);v;)g.applyITRS(v.x,v.y,v._rotation,v._scaleX,v._scaleY),g.multiply(d,d),v=v.parentContainer;return d},getLocalPoint:function(d,g,v,x){v||(v=new c),x||(x=this.scene.sys.cameras.main);var b=x.scrollX,_=x.scrollY,E=d+b*this.scrollFactorX-b,A=g+_*this.scrollFactorY-_;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(E,A,v):m(E,A,this.x,this.y,this.rotation,this.scaleX,this.scaleY,v),this._originComponent&&(v.x+=this._displayOriginX,v.y+=this._displayOriginY),v},getParentRotation:function(){for(var d=0,g=this.parentContainer;g;)d+=g.rotation,g=g.parentContainer;return d}}},61340:(C,k,a)=>{var y=a(83419),T=a(36383),m=a(26099),f=new y({initialize:function(c,u,p,d,g,v){void 0===c&&(c=1),void 0===u&&(u=0),void 0===p&&(p=0),void 0===d&&(d=1),void 0===g&&(g=0),void 0===v&&(v=0),this.matrix=new Float32Array([c,u,p,d,g,v,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(h){this.matrix[0]=h}},b:{get:function(){return this.matrix[1]},set:function(h){this.matrix[1]=h}},c:{get:function(){return this.matrix[2]},set:function(h){this.matrix[2]=h}},d:{get:function(){return this.matrix[3]},set:function(h){this.matrix[3]=h}},e:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},f:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},tx:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},ty:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var h=this.matrix,c=h[0],u=h[1],p=h[2],d=h[3];return c||u?u>0?Math.acos(c/this.scaleX):-Math.acos(c/this.scaleX):p||d?T.TAU-(d>0?Math.acos(-p/this.scaleY):-Math.acos(p/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var h=this.matrix;return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,this},translate:function(h,c){var u=this.matrix;return u[4]=u[0]*h+u[2]*c+u[4],u[5]=u[1]*h+u[3]*c+u[5],this},scale:function(h,c){var u=this.matrix;return u[0]*=h,u[1]*=h,u[2]*=c,u[3]*=c,this},rotate:function(h){var c=Math.sin(h),u=Math.cos(h),p=this.matrix,d=p[0],g=p[1],v=p[2],x=p[3];return p[0]=d*u+v*c,p[1]=g*u+x*c,p[2]=d*-c+v*u,p[3]=g*-c+x*u,this},multiply:function(h,c){var u=this.matrix,p=h.matrix,d=u[0],g=u[1],v=u[2],x=u[3],b=u[4],_=u[5],E=p[0],A=p[1],D=p[2],I=p[3],R=p[4],F=p[5],L=void 0===c?u:c.matrix;return L[0]=E*d+A*v,L[1]=E*g+A*x,L[2]=D*d+I*v,L[3]=D*g+I*x,L[4]=R*d+F*v+b,L[5]=R*g+F*x+_,L},multiplyWithOffset:function(h,c,u){var p=this.matrix,d=h.matrix,g=p[0],v=p[1],x=p[2],b=p[3],A=c*g+u*x+p[4],D=c*v+u*b+p[5],I=d[0],R=d[1],F=d[2],L=d[3],V=d[4],B=d[5];return p[0]=I*g+R*x,p[1]=I*v+R*b,p[2]=F*g+L*x,p[3]=F*v+L*b,p[4]=V*g+B*x+A,p[5]=V*v+B*b+D,this},transform:function(h,c,u,p,d,g){var v=this.matrix,x=v[0],b=v[1],_=v[2],E=v[3],A=v[4],D=v[5];return v[0]=h*x+c*_,v[1]=h*b+c*E,v[2]=u*x+p*_,v[3]=u*b+p*E,v[4]=d*x+g*_+A,v[5]=d*b+g*E+D,this},transformPoint:function(h,c,u){void 0===u&&(u={x:0,y:0});var p=this.matrix,g=p[1],x=p[3],_=p[5];return u.x=h*p[0]+c*p[2]+p[4],u.y=h*g+c*x+_,u},invert:function(){var h=this.matrix,c=h[0],u=h[1],p=h[2],d=h[3],g=h[4],v=h[5],x=c*d-u*p;return h[0]=d/x,h[1]=-u/x,h[2]=-p/x,h[3]=c/x,h[4]=(p*v-d*g)/x,h[5]=-(c*v-u*g)/x,this},copyFrom:function(h){var c=this.matrix;return c[0]=h.a,c[1]=h.b,c[2]=h.c,c[3]=h.d,c[4]=h.e,c[5]=h.f,this},copyFromArray:function(h){var c=this.matrix;return c[0]=h[0],c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],this},copyToContext:function(h){var c=this.matrix;return h.transform(c[0],c[1],c[2],c[3],c[4],c[5]),h},setToContext:function(h){return h.setTransform(this),h},copyToArray:function(h){var c=this.matrix;return void 0===h?h=[c[0],c[1],c[2],c[3],c[4],c[5]]:(h[0]=c[0],h[1]=c[1],h[2]=c[2],h[3]=c[3],h[4]=c[4],h[5]=c[5]),h},setTransform:function(h,c,u,p,d,g){var v=this.matrix;return v[0]=h,v[1]=c,v[2]=u,v[3]=p,v[4]=d,v[5]=g,this},decomposeMatrix:function(){var h=this.decomposedMatrix,c=this.matrix,u=c[0],p=c[1],d=c[2],g=c[3],v=u*g-p*d;if(h.translateX=c[4],h.translateY=c[5],u||p){var x=Math.sqrt(u*u+p*p);h.rotation=p>0?Math.acos(u/x):-Math.acos(u/x),h.scaleX=x,h.scaleY=v/x}else if(d||g){var b=Math.sqrt(d*d+g*g);h.rotation=.5*Math.PI-(g>0?Math.acos(-d/b):-Math.acos(d/b)),h.scaleX=v/b,h.scaleY=b}else h.rotation=0,h.scaleX=0,h.scaleY=0;return h},applyITRS:function(h,c,u,p,d){var g=this.matrix,v=Math.sin(u),x=Math.cos(u);return g[4]=h,g[5]=c,g[0]=x*p,g[1]=v*p,g[2]=-v*d,g[3]=x*d,this},applyInverse:function(h,c,u){void 0===u&&(u=new m);var p=this.matrix,d=p[0],g=p[1],v=p[2],x=p[3],b=p[4],_=p[5],E=1/(d*x+v*-g);return u.x=x*E*h+-v*E*c+(_*v-b*x)*E,u.y=d*E*c+-g*E*h+(-_*d+b*g)*E,u},setQuad:function(h,c,u,p,d,g){void 0===d&&(d=!1),void 0===g&&(g=this.quad);var v=this.matrix,x=v[0],b=v[1],_=v[2],E=v[3],A=v[4],D=v[5],I=h*x+c*_+A,R=h*b+c*E+D,F=h*x+p*_+A,L=h*b+p*E+D,V=u*x+p*_+A,B=u*b+p*E+D,G=u*x+c*_+A,Q=u*b+c*E+D;if(d){var H=Math.floor(I+.5),K=Math.floor(R+.5),tt=H-I,at=K-R;g[0]=H,g[1]=K,g[2]=F+tt,g[3]=L+at,g[4]=V+tt,g[5]=B+at,g[6]=G+tt,g[7]=Q+at}else g[0]=I,g[1]=R,g[2]=F,g[3]=L,g[4]=V,g[5]=B,g[6]=G,g[7]=Q;return g},getX:function(h,c){return h*this.a+c*this.c+this.e},getY:function(h,c){return h*this.b+c*this.d+this.f},getXRound:function(h,c,u){var p=this.getX(h,c);return u&&(p=Math.floor(p+.5)),p},getYRound:function(h,c,u){var p=this.getY(h,c);return u&&(p=Math.floor(p+.5)),p},getCSSMatrix:function(){var h=this.matrix;return"matrix("+h[0]+","+h[1]+","+h[2]+","+h[3]+","+h[4]+","+h[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});C.exports=f},59715:C=>{C.exports={_visible:!0,visible:{get:function(){return this._visible},set:function(y){y?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(y){return this.visible=y,this}}},31401:(C,k,a)=>{C.exports={Alpha:a(16005),AlphaSingle:a(88509),BlendMode:a(90065),ComputedSize:a(94215),Crop:a(61683),Depth:a(89272),Flip:a(54434),FX:a(47059),GetBounds:a(8004),Mask:a(8573),Origin:a(27387),PathFollower:a(37640),Pipeline:a(72699),PostPipeline:a(17581),ScrollFactor:a(80227),Size:a(16736),Texture:a(37726),TextureCrop:a(79812),Tint:a(27472),ToJSON:a(53774),Transform:a(16901),TransformMatrix:a(61340),Visible:a(59715)}},31559:(C,k,a)=>{var y=a(37105),T=a(10312),m=a(83419),f=a(31401),h=a(51708),c=a(95643),u=a(87841),p=a(29959),d=a(36899),g=a(26099),v=new f.TransformMatrix,x=new m({Extends:c,Mixins:[f.AlphaSingle,f.BlendMode,f.ComputedSize,f.Depth,f.Mask,f.PostPipeline,f.Transform,f.Visible,p],initialize:function(_,E,A,D){c.call(this,_,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new f.TransformMatrix,this._sortKey="",this._sysEvents=_.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(E,A),this.setBlendMode(T.SKIP_CHECK),D&&this.add(D)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(b){return void 0===b&&(b=!0),this.exclusive=b,this},getBounds:function(b){if(void 0===b&&(b=new u),b.setTo(this.x,this.y,0,0),this.parentContainer){var E=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);b.setTo(E.x,E.y,0,0)}if(this.list.length>0){var A=this.list,D=new u,I=!1;b.setEmpty();for(var R=0;R<A.length;R++){var F=A[R];F.getBounds&&(F.getBounds(D),I?d(D,b,b):(b.setTo(D.x,D.y,D.width,D.height),I=!0))}}return b},addHandler:function(b){b.once(h.DESTROY,this.onChildDestroyed,this),this.exclusive&&(b.parentContainer&&b.parentContainer.remove(b),b.parentContainer=this,b.removeFromDisplayList(),b.addedToScene())},removeHandler:function(b){b.off(h.DESTROY,this.remove,this),this.exclusive&&(b.parentContainer=null,b.removedFromScene(),b.addToDisplayList())},pointToContainer:function(b,_){void 0===_&&(_=new g),this.parentContainer?this.parentContainer.pointToContainer(b,_):(_.x=b.x,_.y=b.y);var E=v;return E.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),E.invert(),E.transformPoint(b.x,b.y,_),_},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(v,this.localTransform)},add:function(b){return y.Add(this.list,b,this.maxSize,this.addHandler,this),this},addAt:function(b,_){return y.AddAt(this.list,b,_,this.maxSize,this.addHandler,this),this},getAt:function(b){return this.list[b]},getIndex:function(b){return this.list.indexOf(b)},sort:function(b,_){return b?(void 0===_&&(_=function(E,A){return E[b]-A[b]}),y.StableSort(this.list,_),this):this},getByName:function(b){return y.GetFirst(this.list,"name",b)},getRandom:function(b,_){return y.GetRandom(this.list,b,_)},getFirst:function(b,_,E,A){return y.GetFirst(this.list,b,_,E,A)},getAll:function(b,_,E,A){return y.GetAll(this.list,b,_,E,A)},count:function(b,_,E,A){return y.CountAllMatching(this.list,b,_,E,A)},swap:function(b,_){return y.Swap(this.list,b,_),this},moveTo:function(b,_){return y.MoveTo(this.list,b,_),this},moveAbove:function(b,_){return y.MoveAbove(this.list,b,_),this},moveBelow:function(b,_){return y.MoveBelow(this.list,b,_),this},remove:function(b,_){var E=y.Remove(this.list,b,this.removeHandler,this);if(_&&E){Array.isArray(E)||(E=[E]);for(var A=0;A<E.length;A++)E[A].destroy()}return this},removeAt:function(b,_){var E=y.RemoveAt(this.list,b,this.removeHandler,this);return _&&E&&E.destroy(),this},removeBetween:function(b,_,E){var A=y.RemoveBetween(this.list,b,_,this.removeHandler,this);if(E)for(var D=0;D<A.length;D++)A[D].destroy();return this},removeAll:function(b){var _=this.list;if(b){for(var E=0;E<_.length;E++)_[E]&&_[E].scene&&(_[E].off(h.DESTROY,this.onChildDestroyed,this),_[E].destroy());this.list=[]}else y.RemoveBetween(_,0,_.length,this.removeHandler,this);return this},bringToTop:function(b){return y.BringToTop(this.list,b),this},sendToBack:function(b){return y.SendToBack(this.list,b),this},moveUp:function(b){return y.MoveUp(this.list,b),this},moveDown:function(b){return y.MoveDown(this.list,b),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return y.Shuffle(this.list),this},replace:function(b,_,E){return y.Replace(this.list,b,_)&&(this.addHandler(_),this.removeHandler(b),E&&b.destroy()),this},exists:function(b){return this.list.indexOf(b)>-1},setAll:function(b,_,E,A){return y.SetAll(this.list,b,_,E,A),this},each:function(b,_){var A,E=[null],D=this.list.slice(),I=D.length;for(A=2;A<arguments.length;A++)E.push(arguments[A]);for(A=0;A<I;A++)E[0]=D[A],b.apply(_,E);return this},iterate:function(b,_){var A,E=[null];for(A=2;A<arguments.length;A++)E.push(arguments[A]);for(A=0;A<this.list.length;A++)E[0]=this.list[A],b.apply(_,E);return this},setScrollFactor:function(b,_,E){return void 0===_&&(_=b),void 0===E&&(E=!1),this.scrollFactorX=b,this.scrollFactorY=_,E&&(y.SetAll(this.list,"scrollFactorX",b),y.SetAll(this.list,"scrollFactorY",_)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(b){y.Remove(this.list,b),this.exclusive&&(b.parentContainer=null,b.removedFromScene())}});C.exports=x},53584:C=>{C.exports=function(a,y,T,m){T.addToRenderList(y);var f=y.list;if(0!==f.length){var h=y.localTransform;m?(h.loadIdentity(),h.multiply(m),h.translate(y.x,y.y),h.rotate(y.rotation),h.scale(y.scaleX,y.scaleY)):h.applyITRS(y.x,y.y,y.rotation,y.scaleX,y.scaleY);var c=-1!==y.blendMode;c||a.setBlendMode(0);var u=y._alpha,p=y.scrollFactorX,d=y.scrollFactorY;y.mask&&y.mask.preRenderCanvas(a,null,T);for(var g=0;g<f.length;g++){var v=f[g];if(v.willRender(T)){var x=v.alpha,b=v.scrollFactorX,_=v.scrollFactorY;!c&&v.blendMode!==a.currentBlendMode&&a.setBlendMode(v.blendMode),v.setScrollFactor(b*p,_*d),v.setAlpha(x*u),v.renderCanvas(a,v,T,h),v.setAlpha(x),v.setScrollFactor(b,_)}}y.mask&&y.mask.postRenderCanvas(a)}}},77143:(C,k,a)=>{var y=a(25305),T=a(31559),m=a(44603),f=a(23568),h=a(95540);m.register("container",function(c,u){void 0===c&&(c={});var p=f(c,"x",0),d=f(c,"y",0),g=h(c,"children",null),v=new T(this.scene,p,d,g);return void 0!==u&&(c.add=u),y(this.scene,v,c),v})},24961:(C,k,a)=>{var y=a(31559);a(39429).register("container",function(m,f,h){return this.displayList.add(new y(this.scene,m,f,h))})},29959:(C,k,a)=>{var T,m;a(29747),T=a(72249),m=a(53584),C.exports={renderWebGL:T,renderCanvas:m}},72249:C=>{C.exports=function(a,y,T,m){T.addToRenderList(y);var f=y.list,h=f.length;if(0!==h){var c=y.localTransform;m?(c.loadIdentity(),c.multiply(m),c.translate(y.x,y.y),c.rotate(y.rotation),c.scale(y.scaleX,y.scaleY)):c.applyITRS(y.x,y.y,y.rotation,y.scaleX,y.scaleY),a.pipelines.preBatch(y);var u=-1!==y.blendMode;u||a.setBlendMode(0);for(var p=y.alpha,d=y.scrollFactorX,g=y.scrollFactorY,v=0;v<h;v++){var x=f[v];if(x.willRender(T)){var b,_,E,A;if(void 0!==x.alphaTopLeft)b=x.alphaTopLeft,_=x.alphaTopRight,E=x.alphaBottomLeft,A=x.alphaBottomRight;else{var D=x.alpha;b=D,_=D,E=D,A=D}var I=x.scrollFactorX,R=x.scrollFactorY;!u&&x.blendMode!==a.currentBlendMode&&a.setBlendMode(x.blendMode);var F=x.mask;F&&F.preRenderWebGL(a,x,T);var L=x.type;L!==a.currentType&&(a.newType=!0,a.currentType=L),a.nextTypeMatch=v<h-1&&f[v+1].type===a.currentType,x.setScrollFactor(I*d,R*g),x.setAlpha(b*p,_*p,E*p,A*p),x.renderWebGL(a,x,T,c,y),x.setAlpha(b,_,E,A),x.setScrollFactor(I,R),F&&F.postRenderWebGL(a,T),a.newType=!1}}a.pipelines.postBatch(y)}}},47407:C=>{C.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(C,k,a)=>{var y=a(83419),T=a(31401),m=a(441),f=a(95643),h=a(41212),c=a(35846),u=a(44594),p=a(61369),d=new y({Extends:f,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.Origin,T.ScrollFactor,T.Transform,T.Visible,m],initialize:function(v,x,b,_,E,A){f.call(this,v,"DOMElement"),this.parent=v.sys.game.domContainer,this.cache=v.sys.cache.html,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new p,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(x,b),"string"==typeof _?"#"===_[0]?this.setElement(_.substr(1),E,A):this.createElement(_,E,A):_&&this.setElement(_,E,A),v.sys.events.on(u.SLEEP,this.handleSceneEvent,this),v.sys.events.on(u.WAKE,this.handleSceneEvent,this),v.sys.events.on(u.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(g){var v=this.node;v&&(v.style.display=g.settings.visible?"block":"none")},setSkew:function(g,v){return void 0===g&&(g=0),void 0===v&&(v=g),this.skewX=g,this.skewY=v,this},setPerspective:function(g){return this.parent.style.perspective=g+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(g){this.parent.style.perspective=g+"px"}},addListener:function(g){if(this.node){g=g.split(" ");for(var v=0;v<g.length;v++)this.node.addEventListener(g[v],this.handler,!1)}return this},removeListener:function(g){if(this.node){g=g.split(" ");for(var v=0;v<g.length;v++)this.node.removeEventListener(g[v],this.handler)}return this},dispatchNativeEvent:function(g){this.emit(g.type,g)},createElement:function(g,v,x){return this.setElement(document.createElement(g),v,x)},setElement:function(g,v,x){var b;if(this.removeElement(),"string"==typeof g?("#"===g[0]&&(g=g.substr(1)),b=document.getElementById(g)):"object"==typeof g&&1===g.nodeType&&(b=g),!b)return this;if(this.node=b,v&&h(v))for(var _ in v)b.style[_]=v[_];else"string"==typeof v&&(b.style=v);return b.style.zIndex="0",b.style.display="inline",b.style.position="absolute",b.phaser=this,this.parent&&this.parent.appendChild(b),x&&(b.innerText=x),this.updateSize()},createFromCache:function(g,v){var x=this.cache.get(g);return x&&this.createFromHTML(x,v),this},createFromHTML:function(g,v){void 0===v&&(v="div"),this.removeElement();var x=document.createElement(v);return this.node=x,x.style.zIndex="0",x.style.display="inline",x.style.position="absolute",x.phaser=this,this.parent&&this.parent.appendChild(x),x.innerHTML=g,this.updateSize()},removeElement:function(){return this.node&&(c(this.node),this.node=null),this},updateSize:function(){var g=this.node,v=g.getBoundingClientRect();return this.width=g.clientWidth,this.height=g.clientHeight,this.displayWidth=v.width||0,this.displayHeight=v.height||0,this},getChildByProperty:function(g,v){if(this.node)for(var x=this.node.querySelectorAll("*"),b=0;b<x.length;b++)if(x[b][g]===v)return x[b];return null},getChildByID:function(g){return this.getChildByProperty("id",g)},getChildByName:function(g){return this.getChildByProperty("name",g)},setClassName:function(g){return this.node&&(this.node.className=g,this.updateSize()),this},setText:function(g){return this.node&&(this.node.innerText=g,this.updateSize()),this},setHTML:function(g){return this.node&&(this.node.innerHTML=g,this.updateSize()),this},preRender:function(){var g=this.parentContainer,v=this.node;v&&g&&!g.willRender()&&(v.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(u.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(u.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(u.PRE_RENDER,this.preRender,this)}});C.exports=d},49381:(C,k,a)=>{var y=a(47407),T=a(95643),m=a(61340),f=new m,h=new m,c=new m;C.exports=function(p,d,g,v){if(d.node){var x=d.node.style;if(!x||!d.scene.sys.settings.visible||T.RENDER_MASK!==d.renderFlags||0!==d.cameraFilter&&d.cameraFilter&g.id||d.parentContainer&&!d.parentContainer.willRender())return void(x.display="none");var _=d.parentContainer,E=g.alpha*d.alpha;_&&(E*=_.alpha);var A=f,D=h,I=c,R=0,F=0,L="0%",V="0%";v?(D.applyITRS(d.x-(R=d.width*d.scaleX*d.originX),d.y-(F=d.height*d.scaleY*d.originY),d.rotation,d.scaleX,d.scaleY),A.copyFrom(g.matrix),A.multiplyWithOffset(v,-g.scrollX*d.scrollFactorX,-g.scrollY*d.scrollFactorY),D.e=d.x-R,D.f=d.y-F,A.multiply(D,I)):(R=d.width*d.originX,F=d.height*d.originY,D.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),A.copyFrom(g.matrix),L=100*d.originX+"%",V=100*d.originY+"%",D.e-=g.scrollX*d.scrollFactorX,D.f-=g.scrollY*d.scrollFactorY,A.multiply(D,I),I.e-=R,I.f-=F),d.transformOnly||(x.display="block",x.opacity=E,x.zIndex=d._depth,x.pointerEvents=d.pointerEvents,x.mixBlendMode=y[d._blendMode]),x.transform=I.getCSSMatrix()+" skew("+d.skewX+"rad, "+d.skewY+"rad) rotate3d("+d.rotate3d.x+","+d.rotate3d.y+","+d.rotate3d.z+","+d.rotate3d.w+d.rotate3dAngle+")",x.transformOrigin=L+" "+V}}},2611:(C,k,a)=>{var y=a(3069);a(39429).register("dom",function(m,f,h,c,u){var p=new y(this.scene,m,f,h,c,u);return this.displayList.add(p),p})},441:(C,k,a)=>{var T,m;a(29747),T=a(49381),m=a(49381),C.exports={renderWebGL:T,renderCanvas:m}},62980:C=>{C.exports="addedtoscene"},41337:C=>{C.exports="destroy"},44947:C=>{C.exports="removedfromscene"},49358:C=>{C.exports="complete"},35163:C=>{C.exports="created"},97249:C=>{C.exports="error"},19483:C=>{C.exports="locked"},56059:C=>{C.exports="loop"},26772:C=>{C.exports="metadata"},64437:C=>{C.exports="playing"},83411:C=>{C.exports="play"},75780:C=>{C.exports="seeked"},67799:C=>{C.exports="seeking"},63500:C=>{C.exports="stalled"},55541:C=>{C.exports="stop"},53208:C=>{C.exports="textureready"},4992:C=>{C.exports="unlocked"},12:C=>{C.exports="unsupported"},51708:(C,k,a)=>{C.exports={ADDED_TO_SCENE:a(62980),DESTROY:a(41337),REMOVED_FROM_SCENE:a(44947),VIDEO_COMPLETE:a(49358),VIDEO_CREATED:a(35163),VIDEO_ERROR:a(97249),VIDEO_LOCKED:a(19483),VIDEO_LOOP:a(56059),VIDEO_METADATA:a(26772),VIDEO_PLAY:a(83411),VIDEO_PLAYING:a(64437),VIDEO_SEEKED:a(75780),VIDEO_SEEKING:a(67799),VIDEO_STALLED:a(63500),VIDEO_STOP:a(55541),VIDEO_TEXTURE:a(53208),VIDEO_UNLOCKED:a(4992),VIDEO_UNSUPPORTED:a(12)}},42421:(C,k,a)=>{var y=a(83419),T=a(31401),m=a(95643),f=a(64993),h=new y({Extends:m,Mixins:[T.Alpha,T.BlendMode,T.Depth,T.Flip,T.Origin,T.ScrollFactor,T.Size,T.Texture,T.Tint,T.Transform,T.Visible,f],initialize:function(u){m.call(this,u,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});C.exports=h},70217:()=>{},56315:(C,k,a)=>{var y=a(42421);a(39429).register("extern",function(){var m=new y(this.scene);return this.displayList.add(m),m})},64993:(C,k,a)=>{var T,m;a(29747),T=a(80287),m=a(70217),C.exports={renderWebGL:T,renderCanvas:m}},80287:(C,k,a)=>{var y=a(91296);C.exports=function(m,f,h,c){m.pipelines.clear();var u=y(f,h,c).calc;f.render.call(f,m,h,u),m.pipelines.rebind()}},85592:C=>{C.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(C,k,a)=>{var y=a(71911),T=a(83419),m=a(85592),f=a(31401),h=a(8497),c=a(95643),u=a(95540),p=a(35154),d=a(36383),g=a(84503),v=new T({Extends:c,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Mask,f.Pipeline,f.PostPipeline,f.Transform,f.Visible,f.ScrollFactor,g],initialize:function(b,_){var E=p(_,"x",0),A=p(_,"y",0);c.call(this,b,"Graphics"),this.setPosition(E,A),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(_)},setDefaultStyles:function(x){return p(x,"lineStyle",null)&&(this.defaultStrokeWidth=p(x,"lineStyle.width",1),this.defaultStrokeColor=p(x,"lineStyle.color",16777215),this.defaultStrokeAlpha=p(x,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),p(x,"fillStyle",null)&&(this.defaultFillColor=p(x,"fillStyle.color",16777215),this.defaultFillAlpha=p(x,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(x,b,_){return void 0===_&&(_=1),this.commandBuffer.push(m.LINE_STYLE,x,b,_),this._lineWidth=x,this},fillStyle:function(x,b){return void 0===b&&(b=1),this.commandBuffer.push(m.FILL_STYLE,x,b),this},fillGradientStyle:function(x,b,_,E,A,D,I,R){return void 0===A&&(A=1),void 0===D&&(D=A),void 0===I&&(I=A),void 0===R&&(R=A),this.commandBuffer.push(m.GRADIENT_FILL_STYLE,A,D,I,R,x,b,_,E),this},lineGradientStyle:function(x,b,_,E,A,D){return void 0===D&&(D=1),this.commandBuffer.push(m.GRADIENT_LINE_STYLE,x,D,b,_,E,A),this},beginPath:function(){return this.commandBuffer.push(m.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(m.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(m.FILL_PATH),this},fill:function(){return this.commandBuffer.push(m.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(m.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(m.STROKE_PATH),this},fillCircleShape:function(x){return this.fillCircle(x.x,x.y,x.radius)},strokeCircleShape:function(x){return this.strokeCircle(x.x,x.y,x.radius)},fillCircle:function(x,b,_){return this.beginPath(),this.arc(x,b,_,0,d.PI2),this.fillPath(),this},strokeCircle:function(x,b,_){return this.beginPath(),this.arc(x,b,_,0,d.PI2),this.strokePath(),this},fillRectShape:function(x){return this.fillRect(x.x,x.y,x.width,x.height)},strokeRectShape:function(x){return this.strokeRect(x.x,x.y,x.width,x.height)},fillRect:function(x,b,_,E){return this.commandBuffer.push(m.FILL_RECT,x,b,_,E),this},strokeRect:function(x,b,_,E){var A=this._lineWidth/2,D=x-A,I=x+A;return this.beginPath(),this.moveTo(x,b),this.lineTo(x,b+E),this.strokePath(),this.beginPath(),this.moveTo(x+_,b),this.lineTo(x+_,b+E),this.strokePath(),this.beginPath(),this.moveTo(D,b),this.lineTo(I+_,b),this.strokePath(),this.beginPath(),this.moveTo(D,b+E),this.lineTo(I+_,b+E),this.strokePath(),this},fillRoundedRect:function(x,b,_,E,A){void 0===A&&(A=20);var D=A,I=A,R=A,F=A;"number"!=typeof A&&(D=u(A,"tl",20),I=u(A,"tr",20),R=u(A,"bl",20),F=u(A,"br",20));var L=D>=0,V=I>=0,B=R>=0,G=F>=0;return D=Math.abs(D),I=Math.abs(I),R=Math.abs(R),F=Math.abs(F),this.beginPath(),this.moveTo(x+D,b),this.lineTo(x+_-I,b),V?this.arc(x+_-I,b+I,I,-d.TAU,0):this.arc(x+_,b,I,Math.PI,d.TAU,!0),this.lineTo(x+_,b+E-F),G?this.arc(x+_-F,b+E-F,F,0,d.TAU):this.arc(x+_,b+E,F,-d.TAU,Math.PI,!0),this.lineTo(x+R,b+E),B?this.arc(x+R,b+E-R,R,d.TAU,Math.PI):this.arc(x,b+E,R,0,-d.TAU,!0),this.lineTo(x,b+D),L?this.arc(x+D,b+D,D,-Math.PI,-d.TAU):this.arc(x,b,D,d.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(x,b,_,E,A){void 0===A&&(A=20);var D=A,I=A,R=A,F=A,L=Math.min(_,E)/2;"number"!=typeof A&&(D=u(A,"tl",20),I=u(A,"tr",20),R=u(A,"bl",20),F=u(A,"br",20));var V=D>=0,B=I>=0,G=R>=0,Q=F>=0;return D=Math.min(Math.abs(D),L),I=Math.min(Math.abs(I),L),R=Math.min(Math.abs(R),L),F=Math.min(Math.abs(F),L),this.beginPath(),this.moveTo(x+D,b),this.lineTo(x+_-I,b),this.moveTo(x+_-I,b),B?this.arc(x+_-I,b+I,I,-d.TAU,0):this.arc(x+_,b,I,Math.PI,d.TAU,!0),this.lineTo(x+_,b+E-F),this.moveTo(x+_,b+E-F),Q?this.arc(x+_-F,b+E-F,F,0,d.TAU):this.arc(x+_,b+E,F,-d.TAU,Math.PI,!0),this.lineTo(x+R,b+E),this.moveTo(x+R,b+E),G?this.arc(x+R,b+E-R,R,d.TAU,Math.PI):this.arc(x,b+E,R,0,-d.TAU,!0),this.lineTo(x,b+D),this.moveTo(x,b+D),V?this.arc(x+D,b+D,D,-Math.PI,-d.TAU):this.arc(x,b,D,d.TAU,0,!0),this.strokePath(),this},fillPointShape:function(x,b){return this.fillPoint(x.x,x.y,b)},fillPoint:function(x,b,_){return!_||_<1?_=1:(x-=_/2,b-=_/2),this.commandBuffer.push(m.FILL_RECT,x,b,_,_),this},fillTriangleShape:function(x){return this.fillTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},strokeTriangleShape:function(x){return this.strokeTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},fillTriangle:function(x,b,_,E,A,D){return this.commandBuffer.push(m.FILL_TRIANGLE,x,b,_,E,A,D),this},strokeTriangle:function(x,b,_,E,A,D){return this.commandBuffer.push(m.STROKE_TRIANGLE,x,b,_,E,A,D),this},strokeLineShape:function(x){return this.lineBetween(x.x1,x.y1,x.x2,x.y2)},lineBetween:function(x,b,_,E){return this.beginPath(),this.moveTo(x,b),this.lineTo(_,E),this.strokePath(),this},lineTo:function(x,b){return this.commandBuffer.push(m.LINE_TO,x,b),this},moveTo:function(x,b){return this.commandBuffer.push(m.MOVE_TO,x,b),this},strokePoints:function(x,b,_,E){void 0===b&&(b=!1),void 0===_&&(_=!1),void 0===E&&(E=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var A=1;A<E;A++)this.lineTo(x[A].x,x[A].y);return b&&this.lineTo(x[0].x,x[0].y),_&&this.closePath(),this.strokePath(),this},fillPoints:function(x,b,_,E){void 0===b&&(b=!1),void 0===_&&(_=!1),void 0===E&&(E=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var A=1;A<E;A++)this.lineTo(x[A].x,x[A].y);return b&&this.lineTo(x[0].x,x[0].y),_&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(x,b){void 0===b&&(b=32);var _=x.getPoints(b);return this.strokePoints(_,!0)},strokeEllipse:function(x,b,_,E,A){void 0===A&&(A=32);var I=new h(x,b,_,E).getPoints(A);return this.strokePoints(I,!0)},fillEllipseShape:function(x,b){void 0===b&&(b=32);var _=x.getPoints(b);return this.fillPoints(_,!0)},fillEllipse:function(x,b,_,E,A){void 0===A&&(A=32);var I=new h(x,b,_,E).getPoints(A);return this.fillPoints(I,!0)},arc:function(x,b,_,E,A,D,I){return void 0===D&&(D=!1),void 0===I&&(I=0),this.commandBuffer.push(m.ARC,x,b,_,E,A,D,I),this},slice:function(x,b,_,E,A,D,I){return void 0===D&&(D=!1),void 0===I&&(I=0),this.commandBuffer.push(m.BEGIN_PATH),this.commandBuffer.push(m.MOVE_TO,x,b),this.commandBuffer.push(m.ARC,x,b,_,E,A,D,I),this.commandBuffer.push(m.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(m.SAVE),this},restore:function(){return this.commandBuffer.push(m.RESTORE),this},translateCanvas:function(x,b){return this.commandBuffer.push(m.TRANSLATE,x,b),this},scaleCanvas:function(x,b){return this.commandBuffer.push(m.SCALE,x,b),this},rotateCanvas:function(x){return this.commandBuffer.push(m.ROTATE,x),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(x,b,_){var E=this.scene.sys,A=E.game.renderer;void 0===b&&(b=E.scale.width),void 0===_&&(_=E.scale.height),v.TargetCamera.setScene(this.scene),v.TargetCamera.setViewport(0,0,b,_),v.TargetCamera.scrollX=this.x,v.TargetCamera.scrollY=this.y;var D,I,R={willReadFrequently:!0};if("string"==typeof x)if(E.textures.exists(x)){var F=(D=E.textures.get(x)).getSourceImage();F instanceof HTMLCanvasElement&&(I=F.getContext("2d",R))}else I=(D=E.textures.createCanvas(x,b,_)).getSourceImage().getContext("2d",R);else x instanceof HTMLCanvasElement&&(I=x.getContext("2d",R));return I&&(this.renderCanvas(A,this,v.TargetCamera,null,I,!1),D&&D.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});v.TargetCamera=new y,C.exports=v},32768:(C,k,a)=>{var y=a(85592),T=a(20926);C.exports=function(f,h,c,u,p,d){var g=h.commandBuffer,v=g.length,x=p||f.currentContext;if(0!==v&&T(f,x,h,c,u)){c.addToRenderList(h);var E=0,A=0,D=1;x.beginPath();for(var L=0;L<v;++L)switch(g[L]){case y.ARC:x.arc(g[L+1],g[L+2],g[L+3],g[L+4],g[L+5],g[L+6]),L+=7;break;case y.LINE_STYLE:D=g[L+1],x.strokeStyle="rgba("+((16711680&(E=g[L+2]))>>>16)+","+((65280&E)>>>8)+","+(255&E)+","+g[L+3]+")",x.lineWidth=D,L+=3;break;case y.FILL_STYLE:x.fillStyle="rgba("+((16711680&(A=g[L+1]))>>>16)+","+((65280&A)>>>8)+","+(255&A)+","+g[L+2]+")",L+=2;break;case y.BEGIN_PATH:x.beginPath();break;case y.CLOSE_PATH:x.closePath();break;case y.FILL_PATH:d||x.fill();break;case y.STROKE_PATH:d||x.stroke();break;case y.FILL_RECT:d?x.rect(g[L+1],g[L+2],g[L+3],g[L+4]):x.fillRect(g[L+1],g[L+2],g[L+3],g[L+4]),L+=4;break;case y.FILL_TRIANGLE:x.beginPath(),x.moveTo(g[L+1],g[L+2]),x.lineTo(g[L+3],g[L+4]),x.lineTo(g[L+5],g[L+6]),x.closePath(),d||x.fill(),L+=6;break;case y.STROKE_TRIANGLE:x.beginPath(),x.moveTo(g[L+1],g[L+2]),x.lineTo(g[L+3],g[L+4]),x.lineTo(g[L+5],g[L+6]),x.closePath(),d||x.stroke(),L+=6;break;case y.LINE_TO:x.lineTo(g[L+1],g[L+2]),L+=2;break;case y.MOVE_TO:x.moveTo(g[L+1],g[L+2]),L+=2;break;case y.LINE_FX_TO:x.lineTo(g[L+1],g[L+2]),L+=5;break;case y.MOVE_FX_TO:x.moveTo(g[L+1],g[L+2]),L+=5;break;case y.SAVE:x.save();break;case y.RESTORE:x.restore();break;case y.TRANSLATE:x.translate(g[L+1],g[L+2]),L+=2;break;case y.SCALE:x.scale(g[L+1],g[L+2]),L+=2;break;case y.ROTATE:x.rotate(g[L+1]),L+=1;break;case y.GRADIENT_FILL_STYLE:L+=5;break;case y.GRADIENT_LINE_STYLE:L+=6}x.restore()}}},87079:(C,k,a)=>{var y=a(44603),T=a(43831);y.register("graphics",function(m,f){void 0===m&&(m={}),void 0!==f&&(m.add=f);var h=new T(this.scene,m);return m.add&&this.scene.sys.displayList.add(h),h})},1201:(C,k,a)=>{var y=a(43831);a(39429).register("graphics",function(m){return this.displayList.add(new y(this.scene,m))})},84503:(C,k,a)=>{var T,m;a(29747),T=a(77545),a(32768),m=a(32768),C.exports={renderWebGL:T,renderCanvas:m}},77545:(C,k,a)=>{var y=a(85592),T=a(91296),m=a(61340),f=a(70554),h=function(g,v,x){this.x=g,this.y=v,this.width=x},c=function(g,v,x){this.points=[],this.pointsLength=1,this.points[0]=new h(g,v,x)},u=[],p=new m;C.exports=function(g,v,x,b){if(0!==v.commandBuffer.length){x.addToRenderList(v);var _=g.pipelines.set(v.pipeline,v);g.pipelines.preBatch(v);for(var K,E=T(v,x,b).calc,A=p.loadIdentity(),D=v.commandBuffer,I=x.alpha*v.alpha,R=1,F=_.fillTint,L=_.strokeTint,V=0,B=0,G=0,H=2*Math.PI,tt=[],at=0,lt=!0,J=null,it=f.getTintAppendFloatAlpha,Y=0;Y<D.length;Y++)switch(K=D[Y],K){case y.BEGIN_PATH:tt.length=0,J=null,lt=!0;break;case y.CLOSE_PATH:lt=!1,J&&J.points.length&&J.points.push(J.points[0]);break;case y.FILL_PATH:for(at=0;at<tt.length;at++)_.batchFillPath(tt[at].points,A,E);break;case y.STROKE_PATH:for(at=0;at<tt.length;at++)_.batchStrokePath(tt[at].points,R,lt,A,E);break;case y.LINE_STYLE:R=D[++Y];var ht=it(D[++Y],D[++Y]*I);L.TL=ht,L.TR=ht,L.BL=ht,L.BR=ht;break;case y.FILL_STYLE:var St=it(D[++Y],D[++Y]*I);F.TL=St,F.TR=St,F.BL=St,F.BR=St;break;case y.GRADIENT_FILL_STYLE:var Vt=D[++Y]*I,Zt=D[++Y]*I,Jt=D[++Y]*I,ie=D[++Y]*I;F.TL=it(D[++Y],Vt),F.TR=it(D[++Y],Zt),F.BL=it(D[++Y],Jt),F.BR=it(D[++Y],ie);break;case y.GRADIENT_LINE_STYLE:R=D[++Y];var ae=D[++Y]*I;L.TL=it(D[++Y],ae),L.TR=it(D[++Y],ae),L.BL=it(D[++Y],ae),L.BR=it(D[++Y],ae);break;case y.ARC:var fe=0,Pe=D[++Y],Xe=D[++Y],Re=D[++Y],$e=D[++Y],Ce=D[++Y],Je=D[++Y],ii=D[++Y];for(Ce-=$e,Je?Ce<-H?Ce=-H:Ce>0&&(Ce=Ce%H-H):Ce>H?Ce=H:Ce<0&&(Ce=H+Ce%H),null===J&&(J=new c(Pe+Math.cos($e)*Re,Xe+Math.sin($e)*Re,R),tt.push(J),fe+=.01);fe<1+ii;)G=Ce*fe+$e,V=Pe+Math.cos(G)*Re,B=Xe+Math.sin(G)*Re,J.points.push(new h(V,B,R)),fe+=.01;G=Ce+$e,V=Pe+Math.cos(G)*Re,B=Xe+Math.sin(G)*Re,J.points.push(new h(V,B,R));break;case y.FILL_RECT:_.batchFillRect(D[++Y],D[++Y],D[++Y],D[++Y],A,E);break;case y.FILL_TRIANGLE:_.batchFillTriangle(D[++Y],D[++Y],D[++Y],D[++Y],D[++Y],D[++Y],A,E);break;case y.STROKE_TRIANGLE:_.batchStrokeTriangle(D[++Y],D[++Y],D[++Y],D[++Y],D[++Y],D[++Y],R,A,E);break;case y.LINE_TO:null!==J?J.points.push(new h(D[++Y],D[++Y],R)):(J=new c(D[++Y],D[++Y],R),tt.push(J));break;case y.MOVE_TO:J=new c(D[++Y],D[++Y],R),tt.push(J);break;case y.SAVE:u.push(A.copyToArray());break;case y.RESTORE:A.copyFromArray(u.pop());break;case y.TRANSLATE:Pe=D[++Y],Xe=D[++Y],A.translate(Pe,Xe);break;case y.SCALE:Pe=D[++Y],Xe=D[++Y],A.scale(Pe,Xe);break;case y.ROTATE:A.rotate(D[++Y])}g.pipelines.postBatch(v)}}},26479:(C,k,a)=>{var y=a(61061),T=a(83419),m=a(51708),f=a(50792),h=a(46710),c=a(95540),u=a(35154),p=a(97022),d=a(41212),g=a(88492),v=a(35072),x=a(68287),b=new T({Extends:f,initialize:function(E,A,D){f.call(this),D?A&&!Array.isArray(A)&&(A=[A]):Array.isArray(A)?d(A[0])&&(D=A,A=null):d(A)&&(D=A,A=null),this.scene=E,this.children=new v,this.isParent=!0,this.type="Group",this.classType=c(D,"classType",x),this.name=c(D,"name",""),this.active=c(D,"active",!0),this.maxSize=c(D,"maxSize",-1),this.defaultKey=c(D,"defaultKey",null),this.defaultFrame=c(D,"defaultFrame",null),this.runChildUpdate=c(D,"runChildUpdate",!1),this.createCallback=c(D,"createCallback",null),this.removeCallback=c(D,"removeCallback",null),this.createMultipleCallback=c(D,"createMultipleCallback",null),this.internalCreateCallback=c(D,"internalCreateCallback",null),this.internalRemoveCallback=c(D,"internalRemoveCallback",null),A&&this.addMultiple(A),D&&this.createMultiple(D),this.on(m.ADDED_TO_SCENE,this.addedToScene,this),this.on(m.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(_,E,A,D,I,R){if(void 0===_&&(_=0),void 0===E&&(E=0),void 0===A&&(A=this.defaultKey),void 0===D&&(D=this.defaultFrame),void 0===I&&(I=!0),void 0===R&&(R=!0),this.isFull())return null;var F=new this.classType(this.scene,_,E,A,D);return F.addToDisplayList(this.scene.sys.displayList),F.addToUpdateList(),F.visible=I,F.setActive(R),this.add(F),F},createMultiple:function(_){if(this.isFull())return[];Array.isArray(_)||(_=[_]);var E=[];if(_[0].key)for(var A=0;A<_.length;A++){var D=this.createFromConfig(_[A]);E=E.concat(D)}return E},createFromConfig:function(_){if(this.isFull())return[];this.classType=c(_,"classType",this.classType);var E=c(_,"key",void 0),A=c(_,"frame",null),D=c(_,"visible",!0),I=c(_,"active",!0),R=[];if(void 0===E)return R;Array.isArray(E)||(E=[E]),Array.isArray(A)||(A=[A]);var F=c(_,"repeat",0),L=c(_,"randomKey",!1),V=c(_,"randomFrame",!1),B=c(_,"yoyo",!1),G=c(_,"quantity",!1),Q=c(_,"frameQuantity",1),H=c(_,"max",0),K=g(E,A,{max:H,qty:G||Q,random:L,randomB:V,repeat:F,yoyo:B});_.createCallback&&(this.createCallback=_.createCallback),_.removeCallback&&(this.removeCallback=_.removeCallback),_.internalCreateCallback&&(this.internalCreateCallback=_.internalCreateCallback),_.internalRemoveCallback&&(this.internalRemoveCallback=_.internalRemoveCallback);for(var tt=0;tt<K.length;tt++){var at=this.create(0,0,K[tt].a,K[tt].b,D,I);if(!at)break;R.push(at)}if(p(_,"setXY")){var lt=u(_,"setXY.x",0),J=u(_,"setXY.y",0),it=u(_,"setXY.stepX",0),Y=u(_,"setXY.stepY",0);y.SetXY(R,lt,J,it,Y)}if(p(_,"setRotation")){var X=u(_,"setRotation.value",0),nt=u(_,"setRotation.step",0);y.SetRotation(R,X,nt)}if(p(_,"setScale")){var ht=u(_,"setScale.x",1),gt=u(_,"setScale.y",ht),wt=u(_,"setScale.stepX",0),St=u(_,"setScale.stepY",0);y.SetScale(R,ht,gt,wt,St)}if(p(_,"setOrigin")){var Vt=u(_,"setOrigin.x",.5),Zt=u(_,"setOrigin.y",Vt),Jt=u(_,"setOrigin.stepX",0),ie=u(_,"setOrigin.stepY",0);y.SetOrigin(R,Vt,Zt,Jt,ie)}if(p(_,"setAlpha")){var ae=u(_,"setAlpha.value",1),fe=u(_,"setAlpha.step",0);y.SetAlpha(R,ae,fe)}if(p(_,"setDepth")){var Pe=u(_,"setDepth.value",0),Xe=u(_,"setDepth.step",0);y.SetDepth(R,Pe,Xe)}if(p(_,"setScrollFactor")){var Re=u(_,"setScrollFactor.x",1),$e=u(_,"setScrollFactor.y",Re),Ce=u(_,"setScrollFactor.stepX",0),Je=u(_,"setScrollFactor.stepY",0);y.SetScrollFactor(R,Re,$e,Ce,Je)}var ii=c(_,"hitArea",null),Ni=c(_,"hitAreaCallback",null);ii&&y.SetHitArea(R,ii,Ni);var Ji=c(_,"gridAlign",!1);return Ji&&y.GridAlign(R,Ji),this.createMultipleCallback&&this.createMultipleCallback.call(this,R),R},preUpdate:function(_,E){if(this.runChildUpdate&&0!==this.children.size)for(var A=this.children.entries.slice(),D=0;D<A.length;D++){var I=A[D];I.active&&I.update(_,E)}},add:function(_,E){return void 0===E&&(E=!1),this.isFull()||(this.children.set(_),this.internalCreateCallback&&this.internalCreateCallback.call(this,_),this.createCallback&&this.createCallback.call(this,_),E&&(_.addToDisplayList(this.scene.sys.displayList),_.addToUpdateList()),_.on(m.DESTROY,this.remove,this)),this},addMultiple:function(_,E){if(void 0===E&&(E=!1),Array.isArray(_))for(var A=0;A<_.length;A++)this.add(_[A],E);return this},remove:function(_,E,A){return void 0===E&&(E=!1),void 0===A&&(A=!1),this.children.contains(_)?(this.children.delete(_),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,_),this.removeCallback&&this.removeCallback.call(this,_),_.off(m.DESTROY,this.remove,this),A?_.destroy():E&&(_.removeFromDisplayList(),_.removeFromUpdateList()),this):this},clear:function(_,E){void 0===_&&(_=!1),void 0===E&&(E=!1);for(var A=this.children,D=0;D<A.size;D++){var I=A.entries[D];I.off(m.DESTROY,this.remove,this),E?I.destroy():_&&(I.removeFromDisplayList(),I.removeFromUpdateList())}return this.children.clear(),this},contains:function(_){return this.children.contains(_)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(_,E,A,D){return h(this.children.entries,_,E,A,D)},getFirst:function(_,E,A,D,I,R,F){return this.getHandler(!0,1,_,E,A,D,I,R,F)},getFirstNth:function(_,E,A,D,I,R,F,L){return this.getHandler(!0,_,E,A,D,I,R,F,L)},getLast:function(_,E,A,D,I,R,F){return this.getHandler(!1,1,_,E,A,D,I,R,F)},getLastNth:function(_,E,A,D,I,R,F,L){return this.getHandler(!1,_,E,A,D,I,R,F,L)},getHandler:function(_,E,A,D,I,R,F,L,V){void 0===A&&(A=!1),void 0===D&&(D=!1);var B,G,Q=0,H=this.children.entries;if(_)for(G=0;G<H.length;G++)if((B=H[G]).active===A){if(++Q===E)break}else B=null;else for(G=H.length-1;G>=0;G--)if((B=H[G]).active===A){if(++Q===E)break}else B=null;return B?("number"==typeof I&&(B.x=I),"number"==typeof R&&(B.y=R),B):D?this.create(I,R,F,L,V):null},get:function(_,E,A,D,I){return this.getFirst(!1,!0,_,E,A,D,I)},getFirstAlive:function(_,E,A,D,I,R){return this.getFirst(!0,_,E,A,D,I,R)},getFirstDead:function(_,E,A,D,I,R){return this.getFirst(!1,_,E,A,D,I,R)},playAnimation:function(_,E){return y.PlayAnimation(this.children.entries,_,E),this},isFull:function(){return-1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(_){void 0===_&&(_=!0);for(var E=0,A=0;A<this.children.size;A++)this.children.entries[A].active===_&&E++;return E},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var _=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-_},setActive:function(_){return this.active=_,this},setName:function(_){return this.name=_,this},propertyValueSet:function(_,E,A,D,I){return y.PropertyValueSet(this.children.entries,_,E,A,D,I),this},propertyValueInc:function(_,E,A,D,I){return y.PropertyValueInc(this.children.entries,_,E,A,D,I),this},setX:function(_,E){return y.SetX(this.children.entries,_,E),this},setY:function(_,E){return y.SetY(this.children.entries,_,E),this},setXY:function(_,E,A,D){return y.SetXY(this.children.entries,_,E,A,D),this},incX:function(_,E){return y.IncX(this.children.entries,_,E),this},incY:function(_,E){return y.IncY(this.children.entries,_,E),this},incXY:function(_,E,A,D){return y.IncXY(this.children.entries,_,E,A,D),this},shiftPosition:function(_,E,A){return y.ShiftPosition(this.children.entries,_,E,A),this},angle:function(_,E){return y.Angle(this.children.entries,_,E),this},rotate:function(_,E){return y.Rotate(this.children.entries,_,E),this},rotateAround:function(_,E){return y.RotateAround(this.children.entries,_,E),this},rotateAroundDistance:function(_,E,A){return y.RotateAroundDistance(this.children.entries,_,E,A),this},setAlpha:function(_,E){return y.SetAlpha(this.children.entries,_,E),this},setTint:function(_,E,A,D){return y.SetTint(this.children.entries,_,E,A,D),this},setOrigin:function(_,E,A,D){return y.SetOrigin(this.children.entries,_,E,A,D),this},scaleX:function(_,E){return y.ScaleX(this.children.entries,_,E),this},scaleY:function(_,E){return y.ScaleY(this.children.entries,_,E),this},scaleXY:function(_,E,A,D){return y.ScaleXY(this.children.entries,_,E,A,D),this},setDepth:function(_,E){return y.SetDepth(this.children.entries,_,E),this},setBlendMode:function(_){return y.SetBlendMode(this.children.entries,_),this},setHitArea:function(_,E){return y.SetHitArea(this.children.entries,_,E),this},shuffle:function(){return y.Shuffle(this.children.entries),this},kill:function(_){this.children.contains(_)&&_.setActive(!1)},killAndHide:function(_){this.children.contains(_)&&(_.setActive(!1),_.setVisible(!1))},setVisible:function(_,E,A){return y.SetVisible(this.children.entries,_,E,A),this},toggleVisible:function(){return y.ToggleVisible(this.children.entries),this},destroy:function(_,E){void 0===_&&(_=!1),void 0===E&&(E=!1),this.scene&&!this.ignoreDestroy&&(this.emit(m.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(E,_),this.scene=void 0,this.children=void 0)}});C.exports=b},94975:(C,k,a)=>{var y=a(44603),T=a(26479);y.register("group",function(m){return new T(this.scene,null,m)})},3385:(C,k,a)=>{var y=a(26479);a(39429).register("group",function(m,f){return this.updateList.add(new y(this.scene,m,f))})},88571:(C,k,a)=>{var y=a(83419),T=a(31401),m=a(95643),f=a(59819),h=new y({Extends:m,Mixins:[T.Alpha,T.BlendMode,T.Depth,T.Flip,T.GetBounds,T.Mask,T.Origin,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Size,T.TextureCrop,T.Tint,T.Transform,T.Visible,f],initialize:function(u,p,d,g,v){m.call(this,u,"Image"),this._crop=this.resetCropObject(),this.setTexture(g,v),this.setPosition(p,d),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});C.exports=h},40652:C=>{C.exports=function(a,y,T,m){T.addToRenderList(y),a.batchSprite(y,y.frame,T,m)}},82459:(C,k,a)=>{var y=a(25305),T=a(44603),m=a(23568),f=a(88571);T.register("image",function(h,c){void 0===h&&(h={});var u=m(h,"key",null),p=m(h,"frame",null),d=new f(this.scene,0,0,u,p);return void 0!==c&&(h.add=c),y(this.scene,d,h),d})},2117:(C,k,a)=>{var y=a(88571);a(39429).register("image",function(m,f,h,c){return this.displayList.add(new y(this.scene,m,f,h,c))})},59819:(C,k,a)=>{var T,m;a(29747),T=a(99517),m=a(40652),C.exports={renderWebGL:T,renderCanvas:m}},99517:C=>{C.exports=function(a,y,T,m){T.addToRenderList(y),this.pipeline.batchSprite(y,T,m)}},77856:(C,k,a)=>{var y={Events:a(51708),DisplayList:a(8050),GameObjectCreator:a(44603),GameObjectFactory:a(39429),UpdateList:a(45027),Components:a(31401),GetCalcMatrix:a(91296),BuildGameObject:a(25305),BuildGameObjectAnimation:a(13059),GameObject:a(95643),BitmapText:a(22186),Blitter:a(6107),Bob:a(46590),Container:a(31559),DOMElement:a(3069),DynamicBitmapText:a(2638),Extern:a(42421),Graphics:a(43831),Group:a(26479),Image:a(88571),Layer:a(93595),Particles:a(18404),PathFollower:a(1159),RenderTexture:a(591),RetroFont:a(196),Rope:a(77757),Sprite:a(68287),Text:a(50171),GetTextSize:a(14220),MeasureText:a(79557),TextStyle:a(35762),TileSprite:a(20839),Zone:a(41481),Video:a(18471),Shape:a(17803),Arc:a(23629),Curve:a(89),Ellipse:a(19921),Grid:a(30479),IsoBox:a(61475),IsoTriangle:a(16933),Line:a(57847),Polygon:a(24949),Rectangle:a(74561),Star:a(55911),Triangle:a(36931),Factories:{Blitter:a(12709),Container:a(24961),DOMElement:a(2611),DynamicBitmapText:a(72566),Extern:a(56315),Graphics:a(1201),Group:a(3385),Image:a(2117),Layer:a(20005),Particles:a(676),PathFollower:a(90145),RenderTexture:a(60505),Rope:a(96819),Sprite:a(46409),StaticBitmapText:a(34914),Text:a(68005),TileSprite:a(91681),Zone:a(84175),Video:a(89025),Arc:a(42563),Curve:a(40511),Ellipse:a(1543),Grid:a(34137),IsoBox:a(3933),IsoTriangle:a(49803),Line:a(2481),Polygon:a(64827),Rectangle:a(87959),Star:a(93697),Triangle:a(45245)},Creators:{Blitter:a(9403),Container:a(77143),DynamicBitmapText:a(11164),Graphics:a(87079),Group:a(94975),Image:a(82459),Layer:a(25179),Particles:a(92730),RenderTexture:a(34495),Rope:a(26209),Sprite:a(15567),StaticBitmapText:a(57336),Text:a(71259),TileSprite:a(14167),Zone:a(95261),Video:a(11511)}};y.Shader=a(20071),y.Mesh=a(4703),y.NineSlice=a(28103),y.PointLight=a(80321),y.Plane=a(33663),y.Factories.Shader=a(74177),y.Factories.Mesh=a(9225),y.Factories.NineSlice=a(47521),y.Factories.PointLight=a(71255),y.Factories.Plane=a(30985),y.Creators.Shader=a(54935),y.Creators.Mesh=a(20527),y.Creators.NineSlice=a(28279),y.Creators.PointLight=a(39829),y.Creators.Plane=a(56015),y.Light=a(41432),y.LightsManager=a(61356),y.LightsPlugin=a(88992),C.exports=y},93595:(C,k,a)=>{var y=a(10312),T=a(83419),m=a(31401),f=a(53774),h=a(45893),c=a(50792),u=a(51708),p=a(73162),d=a(33963),g=a(44594),v=a(19186),x=new T({Extends:p,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.PostPipeline,m.Visible,c,d],initialize:function(_,E){p.call(this,_),c.call(this),this.scene=_,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=_.sys,this.events=_.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(y.SKIP_CHECK),E&&this.add(E),_.sys.queueDepthSort()},setActive:function(b){return this.active=b,this},setName:function(b){return this.name=b,this},setState:function(b){return this.state=b,this},setDataEnabled:function(){return this.data||(this.data=new h(this)),this},setData:function(b,_){return this.data||(this.data=new h(this)),this.data.set(b,_),this},incData:function(b,_){return this.data||(this.data=new h(this)),this.data.inc(b,_),this},toggleData:function(b){return this.data||(this.data=new h(this)),this.data.toggle(b),this},getData:function(b){return this.data||(this.data=new h(this)),this.data.get(b)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return f(this)},willRender:function(b){return!(15!==this.renderFlags||0===this.list.length||0!==this.cameraFilter&&this.cameraFilter&b.id)},getIndexList:function(){for(var b=this,_=this.parentContainer,E=[];_&&(E.unshift(_.getIndex(b)),b=_,_.parentContainer);)_=_.parentContainer;return E.unshift(this.displayList.getIndex(b)),E},addChildCallback:function(b){var _=b.displayList;_&&_!==this&&b.removeFromDisplayList(),b.displayList||(this.queueDepthSort(),b.displayList=this,b.emit(u.ADDED_TO_SCENE,b,this.scene),this.events.emit(g.ADDED_TO_SCENE,b,this.scene))},removeChildCallback:function(b){this.queueDepthSort(),b.displayList=null,b.emit(u.REMOVED_FROM_SCENE,b,this.scene),this.events.emit(g.REMOVED_FROM_SCENE,b,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(v(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(b,_){return b._depth-_._depth},getChildren:function(){return this.list},addToDisplayList:function(b){return void 0===b&&(b=this.scene.sys.displayList),this.displayList&&this.displayList!==b&&this.removeFromDisplayList(),b.exists(this)||(this.displayList=b,b.add(this,!0),b.queueDepthSort(),this.emit(u.ADDED_TO_SCENE,this,this.scene),b.events.emit(g.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var b=this.displayList||this.scene.sys.displayList;return b.exists(this)&&(b.remove(this,!0),b.queueDepthSort(),this.displayList=null,this.emit(u.REMOVED_FROM_SCENE,this,this.scene),b.events.emit(g.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(b){if(this.scene&&!this.ignoreDestroy){this.emit(u.DESTROY,this);for(var _=this.list;_.length;)_[0].destroy(b);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});C.exports=x},2956:C=>{C.exports=function(a,y,T){var m=y.list;if(0!==m.length){y.depthSort();var f=-1!==y.blendMode;f||a.setBlendMode(0);var h=y._alpha;y.mask&&y.mask.preRenderCanvas(a,null,T);for(var c=0;c<m.length;c++){var u=m[c];if(u.willRender(T)){var p=u.alpha;!f&&u.blendMode!==a.currentBlendMode&&a.setBlendMode(u.blendMode),u.setAlpha(p*h),u.renderCanvas(a,u,T),u.setAlpha(p)}}y.mask&&y.mask.postRenderCanvas(a)}}},25179:(C,k,a)=>{var y=a(25305),T=a(93595),m=a(44603),f=a(23568);m.register("layer",function(h,c){void 0===h&&(h={});var u=f(h,"children",null),p=new T(this.scene,u);return void 0!==c&&(h.add=c),y(this.scene,p,h),p})},20005:(C,k,a)=>{var y=a(93595);a(39429).register("layer",function(m){return this.displayList.add(new y(this.scene,m))})},33963:(C,k,a)=>{var T,m;a(29747),T=a(15869),m=a(2956),C.exports={renderWebGL:T,renderCanvas:m}},15869:C=>{C.exports=function(a,y,T){var m=y.list,f=m.length;if(0!==f){y.depthSort(),a.pipelines.preBatch(y);var h=-1!==y.blendMode;h||a.setBlendMode(0);for(var c=y.alpha,u=0;u<f;u++){var p=m[u];if(p.willRender(T)){var d,g,v,x;if(void 0!==p.alphaTopLeft)d=p.alphaTopLeft,g=p.alphaTopRight,v=p.alphaBottomLeft,x=p.alphaBottomRight;else{var b=p.alpha;d=b,g=b,v=b,x=b}!h&&p.blendMode!==a.currentBlendMode&&a.setBlendMode(p.blendMode);var _=p.mask;_&&_.preRenderWebGL(a,p,T);var E=p.type;E!==a.currentType&&(a.newType=!0,a.currentType=E),a.nextTypeMatch=u<f-1&&m[u+1].type===a.currentType,p.setAlpha(d*c,g*c,v*c,x*c),p.renderWebGL(a,p,T),p.setAlpha(d,g,v,x),_&&_.postRenderWebGL(a,T),a.newType=!1}}a.pipelines.postBatch(y)}}},41432:(C,k,a)=>{var y=a(96503),T=a(83419),m=a(31401),f=a(51767),h=a(70554),c=new T({Extends:y,Mixins:[m.Origin,m.ScrollFactor,m.Visible],initialize:function(p,d,g,v,x,b,_){y.call(this,p,d,g),this.color=new f(v,x,b),this.intensity=_,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(g)},displayWidth:{get:function(){return this.diameter},set:function(u){this.diameter=u}},displayHeight:{get:function(){return this.diameter},set:function(u){this.diameter=u}},width:{get:function(){return this.diameter},set:function(u){this.diameter=u}},height:{get:function(){return this.diameter},set:function(u){this.diameter=u}},willRender:function(u){return!(c.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&u.id)},setColor:function(u){var p=h.getFloatsFromUintRGB(u);return this.color.set(p[0],p[1],p[2]),this},setIntensity:function(u){return this.intensity=u,this},setRadius:function(u){return this.radius=u,this}});c.RENDER_MASK=15,C.exports=c},61356:(C,k,a)=>{var y=a(81491),T=a(83419),m=a(20339),f=a(41432),h=a(80321),c=a(51767),u=a(19133),p=a(19186),d=a(70554),g=new T({initialize:function(){this.lights=[],this.ambientColor=new c(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(v,x,b,_,E,A){return this.systems.displayList.add(new h(this.scene,v,x,b,_,E,A))},enable:function(){return-1===this.maxLights&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(v){for(var x=this.lights,b=v.worldView,_=[],E=0;E<x.length;E++){var A=x[E];A.willRender(v)&&y(A,b)&&_.push({light:A,distance:m(A.x,A.y,b.centerX,b.centerY)})}return _.length>this.maxLights&&(p(_,this.sortByDistance),_=_.slice(0,this.maxLights)),this.visibleLights=_.length,_},sortByDistance:function(v,x){return v.distance>=x.distance},setAmbientColor:function(v){var x=d.getFloatsFromUintRGB(v);return this.ambientColor.set(x[0],x[1],x[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(v,x,b,_,E){void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=128),void 0===_&&(_=16777215),void 0===E&&(E=1);var A=d.getFloatsFromUintRGB(_),D=new f(v,x,b,A[0],A[1],A[2],E);return this.lights.push(D),D},removeLight:function(v){var x=this.lights.indexOf(v);return x>=0&&u(this.lights,x),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});C.exports=g},88992:(C,k,a)=>{var y=a(83419),T=a(61356),m=a(37277),f=a(44594),h=new y({Extends:T,initialize:function(u){this.scene=u,this.systems=u.sys,u.sys.settings.isBooted||u.sys.events.once(f.BOOT,this.boot,this),T.call(this)},boot:function(){var c=this.systems.events;c.on(f.SHUTDOWN,this.shutdown,this),c.on(f.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});m.register("LightsPlugin",h,"lights"),C.exports=h},4703:(C,k,a)=>{var y=a(83419),T=a(31401),m=a(39506),f=a(83997),h=a(95643),c=a(34684),u=a(92515),p=a(91296),d=a(37867),g=a(29807),v=a(43396),x=a(19186),b=a(25836),_=a(39318),E=new y({Extends:h,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.Mask,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Size,T.Texture,T.Transform,T.Visible,g],initialize:function(D,I,R,F,L,V,B,G,Q,H,K,tt){void 0===I&&(I=0),void 0===R&&(R=0),void 0===F&&(F="__WHITE"),h.call(this,D,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new b,this.modelScale=new b(1,1,1),this.modelRotation=new b,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new d,this.viewPosition=new b,this.viewMatrix=new d,this.projectionMatrix=new d,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.displayOriginX=0,this.displayOriginY=0;var at=D.sys.renderer;this.setPosition(I,R),this.setTexture(F,L),this.setSize(at.width,at.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(at.width,at.height),V&&this.addVertices(V,B,G,Q,H,K,tt)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(A){return this.viewPosition.addScale(b.LEFT,A),this.dirtyCache[10]=1,this},panY:function(A){return this.viewPosition.y+=b.DOWN.y*A,this.dirtyCache[10]=1,this},panZ:function(A){return this.viewPosition.z+=A,this.dirtyCache[10]=1,this},setPerspective:function(A,D,I,R,F){return void 0===I&&(I=45),void 0===R&&(R=.01),void 0===F&&(F=1e3),this.fov=I,this.projectionMatrix.perspective(m(I),A/D,R,F),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(A,D,I,R){return void 0===A&&(A=this.scene.sys.renderer.getAspectRatio()),void 0===D&&(D=1),void 0===I&&(I=-1e3),void 0===R&&(R=1e3),this.fov=0,this.projectionMatrix.ortho(-A,A,-D,D,I,R),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(A){A.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(A,D,I,R,F,L,V,B,G){var H,Q=this.scene.sys.cache.obj.get(A);return Q&&(H=c(Q,this,D,I,R,F,L,V,B,G)),(!H||0===H.verts.length)&&console.warn("Mesh.addVerticesFromObj data empty:",A),this},sortByDepth:function(A,D){return A.depth-D.depth},depthSort:function(){return x(this.faces,this.sortByDepth),this},addVertex:function(A,D,I,R,F,L,V){var B=new _(A,D,I,R,F,L,V);return this.vertices.push(B),B},addFace:function(A,D,I){var R=new f(A,D,I);return this.faces.push(R),this.dirtyCache[9]=-1,R},addVertices:function(A,D,I,R,F,L,V){var B=u(A,D,I,R,F,L,V);return B?(this.faces=this.faces.concat(B.faces),this.vertices=this.vertices.concat(B.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(A){return this.faces[A]},hasFaceAt:function(A,D,I){void 0===I&&(I=this.scene.sys.cameras.main);for(var R=p(this,I).calc,F=this.faces,L=0;L<F.length;L++)if(F[L].contains(A,D,R))return!0;return!1},getFaceAt:function(A,D,I){void 0===I&&(I=this.scene.sys.cameras.main);for(var R=p(this,I).calc,F=this.faces,L=[],V=0;V<F.length;V++){var B=F[V];B.contains(A,D,R)&&L.push(B)}return x(L,this.sortByDepth)},setDebug:function(A,D){return this.debugGraphic=A,this.debugCallback=A||D?D||this.renderDebug:null,this},isDirty:function(){var A=this.modelPosition,D=this.modelRotation,I=this.modelScale,R=this.dirtyCache,F=A.x,L=A.y,V=A.z,B=D.x,G=D.y,Q=D.z,H=I.x,K=I.y,tt=I.z,at=this.getFaceCount(),lt=R[0],J=R[1],it=R[2],Y=R[3],X=R[4],nt=R[5],ht=R[6],gt=R[7],wt=R[8],St=R[9];return R[0]=F,R[1]=L,R[2]=V,R[3]=B,R[4]=G,R[5]=Q,R[6]=H,R[7]=K,R[8]=tt,R[9]=at,lt!==F||J!==L||it!==V||Y!==B||X!==G||nt!==Q||ht!==H||gt!==K||wt!==tt||St!==at},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var A=this.dirtyCache;if(this.ignoreDirtyCache||A[10]||this.isDirty()){var D=this.width,I=this.height,R=this.viewMatrix,F=this.viewPosition;A[10]&&(R.identity(),R.translate(F),R.invert(),A[10]=0);var L=this.transformMatrix;L.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var V=F.z,B=this.faces,G=0;G<B.length;G++)B[G].transformCoordinatesLocal(L,D,I,V);this.depthSort()}},renderDebug:function(A,D){for(var I=A.debugGraphic,R=0;R<D.length;R++){var F=D[R];I.strokeTriangle(F.vertex1.tx,F.vertex1.ty,F.vertex2.tx,F.vertex2.ty,F.vertex3.tx,F.vertex3.ty)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(A){void 0===A&&(A={});var D=function(I,R,F){for(var L=this.faces,V=0;V<L.length;V++)if(L[V].contains(R,F))return!0;return!1}.bind(this);return this.scene.sys.input.enable(this,A,D),this},setTint:function(A){void 0===A&&(A=16777215);for(var D=this.vertices,I=0;I<D.length;I++)D[I].color=A;return this},uvScroll:function(A,D){for(var I=this.faces,R=0;R<I.length;R++)I[R].scrollUV(A,D);return this},uvScale:function(A,D){for(var I=this.faces,R=0;R<I.length;R++)I[R].scaleUV(A,D);return this},tint:{set:function(A){this.setTint(A)}},rotateX:{get:function(){return v(this.modelRotation.x)},set:function(A){this.modelRotation.x=m(A)}},rotateY:{get:function(){return v(this.modelRotation.y)},set:function(A){this.modelRotation.y=m(A)}},rotateZ:{get:function(){return v(this.modelRotation.z)},set:function(A){this.modelRotation.z=m(A)}}});C.exports=E},36488:C=>{C.exports=function(){}},20527:(C,k,a)=>{var y=a(25305),T=a(44603),m=a(23568),f=a(35154),h=a(4703);T.register("mesh",function(c,u){void 0===c&&(c={});var p=m(c,"key",null),d=m(c,"frame",null),g=f(c,"vertices",[]),v=f(c,"uvs",[]),x=f(c,"indicies",[]),b=f(c,"containsZ",!1),_=f(c,"normals",[]),E=f(c,"colors",16777215),A=f(c,"alphas",1),D=new h(this.scene,0,0,p,d,g,v,x,b,_,E,A);return void 0!==u&&(c.add=u),y(this.scene,D,c),D})},9225:(C,k,a)=>{var y=a(4703);a(39429).register("mesh",function(m,f,h,c,u,p,d,g,v,x,b){return this.displayList.add(new y(this.scene,m,f,h,c,u,p,d,g,v,x,b))})},29807:(C,k,a)=>{var T,m;a(29747),T=a(48833),m=a(36488),C.exports={renderWebGL:T,renderCanvas:m}},48833:(C,k,a)=>{var y=a(91296);C.exports=function(m,f,h,c){var u=f.faces,p=u.length;if(0!==p){h.addToRenderList(f);var d=m.pipelines.set(f.pipeline,f),g=y(f,h,c).calc;m.pipelines.preBatch(f);for(var v=d.setGameObject(f),x=d.vertexViewF32,b=d.vertexViewU32,_=d.vertexCount*d.currentShader.vertexComponentCount-1,E=f.tintFill,A=[],D=f.debugCallback,I=g.a,R=g.b,F=g.c,L=g.d,V=g.e,B=g.f,G=f.viewPosition.z,Q=f.hideCCW,H=h.roundPixels,K=h.alpha*f.alpha,tt=0,at=0;at<p;at++){var lt=u[at];lt.isInView(h,Q,G,K,I,R,F,L,V,B,H)&&(d.shouldFlush(3)&&(d.flush(),v=d.setGameObject(f),_=d.vertexCount*d.currentShader.vertexComponentCount-1),_=lt.load(x,b,_,v,E),tt++,d.vertexCount+=3,d.currentBatch.count=d.vertexCount-d.currentBatch.start,D&&A.push(lt))}f.totalFrame+=tt,D&&D.call(f,f,A),m.pipelines.postBatch(f)}}},28103:(C,k,a)=>{var y=a(83419),T=a(31401),m=a(95643),f=a(78023),h=a(39318),c=new y({Extends:m,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.GetBounds,T.Mask,T.Origin,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Texture,T.Transform,T.Visible,f],initialize:function(p,d,g,v,x,b,_,E,A,D,I){m.call(this,p,"NineSlice"),this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.tint=16777215,this.tintFill=!1;var R=p.textures.getFrame(v,x);this.is3Slice=!D&&!I,R&&R.scale9&&(this.is3Slice=R.is3Slice);for(var F=this.is3Slice?18:54,L=0;L<F;L++)this.vertices.push(new h);this.setPosition(d,g),this.setTexture(v,x),this.setSlices(b,_,E,A,D,I,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(u,p,d,g,v,x,b){void 0===d&&(d=10),void 0===g&&(g=10),void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=!1);var _=this.frame,E=!1;if(this.is3Slice&&b&&0!==v&&0!==x&&(E=!0),E)console.warn("Cannot change 9 slice to 3 slice");else{if(_&&_.scale9&&!b){var A=_.data.scale9Borders,D=A.x,I=A.y;d=D,g=_.width-A.w-D,v=I,x=_.height-A.h-I,void 0===u&&(u=_.width),void 0===p&&(p=_.height)}else void 0===u&&(u=256),void 0===p&&(p=256);this._width=u,this._height=p,this.leftWidth=d,this.rightWidth=g,this.topHeight=v,this.bottomHeight=x,this.is3Slice&&(this._height=p=_.height,this.topHeight=p,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var u=this.leftWidth,p=this.rightWidth,d=this.topHeight,g=this.bottomHeight,v=this.frame.width,x=this.frame.height;this.updateQuadUVs(0,0,0,u/v,d/x),this.updateQuadUVs(6,u/v,0,1-p/v,d/x),this.updateQuadUVs(12,1-p/v,0,1,d/x),this.is3Slice||(this.updateQuadUVs(18,0,d/x,u/v,1-g/x),this.updateQuadUVs(24,u/v,d/x,1-p/v,1-g/x),this.updateQuadUVs(30,1-p/v,d/x,1,1-g/x),this.updateQuadUVs(36,0,1-g/x,u/v,1),this.updateQuadUVs(42,u/v,1-g/x,1-p/v,1),this.updateQuadUVs(48,1-p/v,1-g/x,1,1))},updateVertices:function(){var u=this.leftWidth,p=this.rightWidth,d=this.topHeight,g=this.bottomHeight,v=this.width,x=this.height;this.updateQuad(0,-.5,.5,u/v-.5,.5-d/x),this.updateQuad(6,u/v-.5,.5,.5-p/v,.5-d/x),this.updateQuad(12,.5-p/v,.5,.5,.5-d/x),this.is3Slice||(this.updateQuad(18,-.5,.5-d/x,u/v-.5,g/x-.5),this.updateQuad(24,u/v-.5,.5-d/x,.5-p/v,g/x-.5),this.updateQuad(30,.5-p/v,.5-d/x,.5,g/x-.5),this.updateQuad(36,-.5,g/x-.5,u/v-.5,-.5),this.updateQuad(42,u/v-.5,g/x-.5,.5-p/v,-.5),this.updateQuad(48,.5-p/v,g/x-.5,.5,-.5))},updateQuad:function(u,p,d,g,v){var x=this.width,b=this.height,_=this.originX,E=this.originY,A=this.vertices;A[u+0].resize(p,d,x,b,_,E),A[u+1].resize(p,v,x,b,_,E),A[u+2].resize(g,d,x,b,_,E),A[u+3].resize(p,v,x,b,_,E),A[u+4].resize(g,v,x,b,_,E),A[u+5].resize(g,d,x,b,_,E)},updateQuadUVs:function(u,p,d,g,v){var x=this.vertices,b=this.frame,_=b.u0,E=b.v0,A=b.u1,D=b.v1;if(0!==_||1!==A){var I=A-_;p=_+p*I,g=_+g*I}if(0!==E||1!==D){var R=D-E;d=E+d*R,v=E+v*R}x[u+0].setUVs(p,d),x[u+1].setUVs(p,v),x[u+2].setUVs(g,d),x[u+3].setUVs(p,v),x[u+4].setUVs(g,v),x[u+5].setUVs(g,d)},clearTint:function(){return this.setTint(16777215),this},setTint:function(u){return void 0===u&&(u=16777215),this.tint=u,this.tintFill=!1,this},setTintFill:function(u){return this.setTint(u),this.tintFill=!0,this},isTinted:{get:function(){return 16777215!==this.tint}},width:{get:function(){return this._width},set:function(u){this._width=Math.max(u,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(u){this.is3Slice||(this._height=Math.max(u,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(u){this.scaleX=u/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(u){this.scaleY=u/this.height}},setSize:function(u,p){this.width=u,this.height=p,this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},setDisplaySize:function(u,p){return this.displayWidth=u,this.displayHeight=p,this},originX:{get:function(){return this._originX},set:function(u){this._originX=u,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(u){this._originY=u,this.updateVertices()}},setOrigin:function(u,p){return void 0===u&&(u=.5),void 0===p&&(p=u),this._originX=u,this._originY=p,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var u=this.frame.height;this._height=u,this.topHeight=u,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});C.exports=c},28279:(C,k,a)=>{var y=a(25305),T=a(44603),m=a(23568),f=a(35154),h=a(28103);T.register("nineslice",function(c,u){void 0===c&&(c={});var p=m(c,"key",null),d=m(c,"frame",null),g=f(c,"width",256),v=f(c,"height",256),x=f(c,"leftWidth",10),b=f(c,"rightWidth",10),_=f(c,"topHeight",0),E=f(c,"bottomHeight",0),A=new h(this.scene,0,0,p,d,g,v,x,b,_,E);return void 0!==u&&(c.add=u),y(this.scene,A,c),A})},47521:(C,k,a)=>{var y=a(28103);a(39429).register("nineslice",function(m,f,h,c,u,p,d,g,v,x){return this.displayList.add(new y(this.scene,m,f,h,c,u,p,d,g,v,x))})},78023:(C,k,a)=>{var T,m=a(29747);T=a(52230),C.exports={renderWebGL:T,renderCanvas:m}},52230:(C,k,a)=>{var y=a(91296),T=a(70554);C.exports=function(f,h,c,u){var p=h.vertices,d=p.length;if(0!==d){c.addToRenderList(h);var g=f.pipelines.set(h.pipeline,h),v=y(h,c,u,!1).calc;f.pipelines.preBatch(h);var x=g.setGameObject(h),b=g.vertexViewF32,_=g.vertexViewU32,E=g.vertexCount*g.currentShader.vertexComponentCount-1,A=c.roundPixels,D=h.tintFill,R=T.getTintAppendFloatAlpha(h.tint,c.alpha*h.alpha),F=g.vertexAvailable(),L=-1;F<d&&(L=F);for(var V=0;V<d;V++){var B=p[V];V===L&&(g.flush(),x=g.setGameObject(h),E=0),b[++E]=v.getXRound(B.vx,B.vy,A),b[++E]=v.getYRound(B.vx,B.vy,A),b[++E]=B.u,b[++E]=B.v,b[++E]=x,b[++E]=D,_[++E]=R,g.vertexCount++,g.currentBatch.count=g.vertexCount-g.currentBatch.start}f.pipelines.postBatch(h)}}},76472:(C,k,a)=>{var y=a(83419),T=a(44777),m=a(37589),f=a(6113),h=a(91389),c=a(90664),u=new y({Extends:T,initialize:function(d){T.call(this,d,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return null===this.propertyValue?0:9},setMethods:function(){var p=this.propertyValue,d=p,g=this.defaultEmit,v=this.defaultUpdate;if(9===this.method){this.start=p[0],this.ease=f("Linear"),this.interpolation=h("linear"),g=this.easedValueEmit,v=this.easeValueUpdate,d=p[0],this.active=!0;for(var x=0;x<p.length;x++){var b=c(p[x]);this.r.push(b.r),this.g.push(b.g),this.b.push(b.b)}}return this.onEmit=g,this.onUpdate=v,this.current=d,this},setEase:function(p){this.easeName=p,this.ease=f(p)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(p,d,g){var v=this.ease(g),x=this.interpolation(this.r,v),b=this.interpolation(this.g,v),_=this.interpolation(this.b,v),E=m(x,b,_);return this.current=E,E}});C.exports=u},44777:(C,k,a)=>{var y=a(30976),T=a(45319),m=a(83419),f=a(99472),h=a(6113),c=a(95540),u=a(91389),p=a(77720),d=a(15994),g=new m({initialize:function(x,b,_){void 0===_&&(_=!1),this.propertyKey=x,this.propertyValue=b,this.defaultValue=b,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=_,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0},loadConfig:function(v,x){void 0===v&&(v={}),x&&(this.propertyKey=x),this.propertyValue=c(v,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(v){var x;switch(this.method){case 1:case 3:case 8:x=v;break;case 2:this.propertyValue.indexOf(v)>=0&&(x=v);break;case 4:x=p(v,(this.end-this.start)/this.steps),this.counter=x;break;case 5:case 6:case 7:x=T(v,this.start,this.end);break;case 9:x=this.start[0]}return this.current=x,this},getMethod:function(){var v=this.propertyValue;if(null===v)return 0;var x=typeof v;if("number"===x)return 1;if(Array.isArray(v))return 2;if("function"===x)return 3;if("object"===x){if(this.hasBoth(v,"start","end"))return this.has(v,"steps")?4:5;if(this.hasBoth(v,"min","max"))return 6;if(this.has(v,"random"))return 7;if(this.hasEither(v,"onEmit","onUpdate"))return 8;if(this.hasEither(v,"values","interpolation"))return 9}return 0},setMethods:function(){var v=this.propertyValue,x=v,b=this.defaultEmit,_=this.defaultUpdate;switch(this.method){case 1:b=this.staticValueEmit;break;case 2:b=this.randomStaticValueEmit,x=v[0];break;case 3:this._onEmit=v,b=this.proxyEmit;break;case 4:this.start=v.start,this.end=v.end,this.steps=v.steps,this.counter=this.start,this.yoyo=!!this.has(v,"yoyo")&&v.yoyo,this.direction=0,b=this.steppedEmit,x=this.start;break;case 5:this.start=v.start,this.end=v.end;var E=this.has(v,"ease")?v.ease:"Linear";this.ease=h(E,v.easeParams),b=this.has(v,"random")&&v.random?this.randomRangedValueEmit:this.easedValueEmit,_=this.easeValueUpdate,x=this.start;break;case 6:this.start=v.min,this.end=v.max,b=this.has(v,"int")&&v.int?this.randomRangedIntEmit:this.randomRangedValueEmit,x=this.start;break;case 7:var A=v.random;Array.isArray(A)&&(this.start=A[0],this.end=A[1]),b=this.randomRangedIntEmit,x=this.start;break;case 8:this._onEmit=this.has(v,"onEmit")?v.onEmit:this.defaultEmit,this._onUpdate=this.has(v,"onUpdate")?v.onUpdate:this.defaultUpdate,b=this.proxyEmit,_=this.proxyUpdate;break;case 9:this.start=v.values;var D=this.has(v,"ease")?v.ease:"Linear";this.ease=h(D,v.easeParams),this.interpolation=u(v.interpolation),b=this.easedValueEmit,_=this.easeValueUpdate,x=this.start[0]}return this.onEmit=b,this.onUpdate=_,this.current=x,this},has:function(v,x){return v.hasOwnProperty(x)},hasBoth:function(v,x,b){return v.hasOwnProperty(x)&&v.hasOwnProperty(b)},hasEither:function(v,x,b){return v.hasOwnProperty(x)||v.hasOwnProperty(b)},defaultEmit:function(v,x,b){return b},defaultUpdate:function(v,x,b,_){return _},proxyEmit:function(v,x,b){var _=this._onEmit(v,x,b);return this.current=_,_},proxyUpdate:function(v,x,b,_){var E=this._onUpdate(v,x,b,_);return this.current=E,E},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var v=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[v],this.current},randomRangedValueEmit:function(v,x){var b=f(this.start,this.end);return v&&v.data[x]&&(v.data[x].min=b,v.data[x].max=this.end),this.current=b,b},randomRangedIntEmit:function(v,x){var b=y(this.start,this.end);return v&&v.data[x]&&(v.data[x].min=b,v.data[x].max=this.end),this.current=b,b},steppedEmit:function(){var v=this.counter,x=v,b=(this.end-this.start)/this.steps;return this.yoyo?(0===this.direction?(x+=b)>=this.end&&(x=this.end-(x-this.end),this.direction=1):(x-=b)<=this.start&&(x=this.start+(this.start-x),this.direction=0),this.counter=x):this.counter=d(x+b,this.start,this.end),this.current=v,v},easedValueEmit:function(v,x){if(v&&v.data[x]){var b=v.data[x];b.min=this.start,b.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(v,x,b){var E,_=v.data[x],A=this.ease(b);return E=this.interpolation?this.interpolation(this.start,A):(_.max-_.min)*A+_.min,this.current=E,E},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});C.exports=g},24502:(C,k,a)=>{var y=a(83419),T=a(95540),m=a(20286),f=new y({Extends:m,initialize:function(c,u,p,d,g){if("object"==typeof c){var v=c;c=T(v,"x",0),u=T(v,"y",0),p=T(v,"power",0),d=T(v,"epsilon",100),g=T(v,"gravity",50)}else void 0===c&&(c=0),void 0===u&&(u=0),void 0===p&&(p=0),void 0===d&&(d=100),void 0===g&&(g=50);m.call(this,c,u,!0),this._gravity=g,this._power=p*g,this._epsilon=d*d},update:function(h,c){var u=this.x-h.x,p=this.y-h.y,d=u*u+p*p;if(0!==d){var g=Math.sqrt(d);d<this._epsilon&&(d=this._epsilon);var v=this._power*c/(d*g)*100;h.velocityX+=u*v,h.velocityY+=p*v}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(h){this._epsilon=h*h}},power:{get:function(){return this._power/this._gravity},set:function(h){this._power=h*this._gravity}},gravity:{get:function(){return this._gravity},set:function(h){var c=this.power;this._gravity=h,this.power=c}}});C.exports=f},56480:(C,k,a)=>{var y=a(9674),T=a(45319),m=a(83419),f=a(39506),h=a(87841),c=a(11520),u=a(26099),p=new m({initialize:function(g){this.emitter=g,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new u,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=g.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new y(this)),this.bounds=new h},emit:function(d,g,v,x,b,_){return this.emitter.emit(d,g,v,x,b,_)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(d,g){void 0===d&&(d=0),void 0===g&&(g=0),this.x=d,this.y=g},fire:function(d,g){var v=this.emitter,x=v.ops,b=v.getAnim();if(b?this.anims.play(b):(this.frame=v.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(v.getEmitZone(this),this.x+=void 0===d?x.x.onEmit(this,"x"):x.x.steps>0?d+x.x.onEmit(this,"x"):d,this.y+=void 0===g?x.y.onEmit(this,"y"):x.y.steps>0?g+x.y.onEmit(this,"y"):g,this.life=x.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=x.delay.onEmit(this,"delay"),this.holdCurrent=x.hold.onEmit(this,"hold"),this.scaleX=x.scaleX.onEmit(this,"scaleX"),this.scaleY=x.scaleY.active?x.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=x.rotate.onEmit(this,"rotate"),this.rotation=f(this.angle),v.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),0===this.delayCurrent&&v.getDeathZone(this))return this.lifeCurrent=0,!1;var _=x.speedX.onEmit(this,"speedX"),E=x.speedY.active?x.speedY.onEmit(this,"speedY"):_;if(v.radial){var A=f(x.angle.onEmit(this,"angle"));this.velocityX=Math.cos(A)*Math.abs(_),this.velocityY=Math.sin(A)*Math.abs(E)}else if(v.moveTo){var D=x.moveToX.onEmit(this,"moveToX"),I=x.moveToY.onEmit(this,"moveToY"),R=this.life/1e3;this.velocityX=(D-this.x)/R,this.velocityY=(I-this.y)/R}else this.velocityX=_,this.velocityY=E;return v.acceleration&&(this.accelerationX=x.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=x.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=x.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=x.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=x.bounce.onEmit(this,"bounce"),this.alpha=x.alpha.onEmit(this,"alpha"),this.tint=x.color.active?x.color.onEmit(this,"tint"):x.tint.onEmit(this,"tint"),!0},update:function(d,g,v){if(this.lifeCurrent<=0)return!(this.holdCurrent>0)||(this.holdCurrent-=d,this.holdCurrent<=0);if(this.delayCurrent>0)return this.delayCurrent-=d,!1;this.anims&&this.anims.update(0,d);var x=this.emitter,b=x.ops,_=1-this.lifeCurrent/this.life;if(this.lifeT=_,this.x=b.x.onUpdate(this,"x",_,this.x),this.y=b.y.onUpdate(this,"y",_,this.y),x.moveTo){var E=b.moveToX.onUpdate(this,"moveToX",_,x.moveToX),A=b.moveToY.onUpdate(this,"moveToY",_,x.moveToY),D=this.lifeCurrent/1e3;this.velocityX=(E-this.x)/D,this.velocityY=(A-this.y)/D}return this.computeVelocity(x,d,g,v,_),this.scaleX=b.scaleX.onUpdate(this,"scaleX",_,this.scaleX),this.scaleY=b.scaleY.active?b.scaleY.onUpdate(this,"scaleY",_,this.scaleY):this.scaleX,this.angle=b.rotate.onUpdate(this,"rotate",_,this.angle),this.rotation=f(this.angle),x.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=T(b.alpha.onUpdate(this,"alpha",_,this.alpha),0,1),this.tint=b.color.active?b.color.onUpdate(this,"color",_,this.tint):b.tint.onUpdate(this,"tint",_,this.tint),this.lifeCurrent-=d,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(d,g,v,x,b){var _=d.ops,E=this.velocityX,A=this.velocityY,D=_.accelerationX.onUpdate(this,"accelerationX",b,this.accelerationX),I=_.accelerationY.onUpdate(this,"accelerationY",b,this.accelerationY),R=_.maxVelocityX.onUpdate(this,"maxVelocityX",b,this.maxVelocityX),F=_.maxVelocityY.onUpdate(this,"maxVelocityY",b,this.maxVelocityY);this.bounce=_.bounce.onUpdate(this,"bounce",b,this.bounce),A+=d.gravityY*v+I*v,E=T(E+=d.gravityX*v+D*v,-R,R),A=T(A,-F,F),this.velocityX=E,this.velocityY=A,this.x+=E*v,this.y+=A*v,d.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var L=0;L<x.length;L++){var V=x[L];V.active&&V.update(this,g,v,b)}},setSizeToFrame:function(){},getBounds:function(d){void 0===d&&(d=this.emitter.getWorldTransformMatrix());var g=Math.abs(d.scaleX)*this.scaleX,v=Math.abs(d.scaleY)*this.scaleY,x=this.x,b=this.y,_=this.rotation,E=this.frame.width*g/2,A=this.frame.height*v/2,D=this.bounds,I=new u(x-E,b-A),R=new u(x+E,b-A),F=new u(x-E,b+A),L=new u(x+E,b+A);return 0!==_&&(c(I,x,b,_),c(R,x,b,_),c(F,x,b,_),c(L,x,b,_)),d.transformPoint(I.x,I.y,I),d.transformPoint(R.x,R.y,R),d.transformPoint(F.x,F.y,F),d.transformPoint(L.x,L.y,L),D.x=Math.min(I.x,R.x,F.x,L.x),D.y=Math.min(I.y,R.y,F.y,L.y),D.width=Math.max(I.x,R.x,F.x,L.x)-D.x,D.height=Math.max(I.y,R.y,F.y,L.y)-D.y,D},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});C.exports=p},69601:(C,k,a)=>{var y=a(83419),T=a(20286),m=a(87841),f=new y({Extends:T,initialize:function(c,u,p,d,g,v,x,b){void 0===g&&(g=!0),void 0===v&&(v=!0),void 0===x&&(x=!0),void 0===b&&(b=!0),T.call(this,c,u,!0),this.bounds=new m(c,u,p,d),this.collideLeft=g,this.collideRight=v,this.collideTop=x,this.collideBottom=b},update:function(h){var c=this.bounds,u=-h.bounce,p=h.worldPosition;p.x<c.x&&this.collideLeft?(h.x+=c.x-p.x,h.velocityX*=u):p.x>c.right&&this.collideRight&&(h.x-=p.x-c.right,h.velocityX*=u),p.y<c.y&&this.collideTop?(h.y+=c.y-p.y,h.velocityY*=u):p.y>c.bottom&&this.collideBottom&&(h.y-=p.y-c.bottom,h.velocityY*=u)}});C.exports=f},31600:(C,k,a)=>{var y=a(83419),T=a(31401),m=a(53774),f=a(43459),h=a(26388),c=a(19909),u=a(76472),p=a(44777),d=a(20696),g=a(95643),v=a(95540),x=a(26546),b=a(24502),_=a(1985),E=a(97022),A=a(86091),D=a(73162),I=a(20074),R=a(269),F=a(56480),L=a(69601),V=a(68875),B=a(87841),G=a(59996),Q=a(72905),H=a(90668),K=a(19186),tt=a(61340),at=a(26099),lt=a(15994),J=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],it=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],Y=new y({Extends:g,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.Mask,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Texture,T.Transform,T.Visible,H],initialize:function(nt,ht,gt,wt,St){g.call(this,nt,"ParticleEmitter"),this.particleClass=F,this.config=null,this.ops={accelerationX:new p("accelerationX",0),accelerationY:new p("accelerationY",0),alpha:new p("alpha",1),angle:new p("angle",{min:0,max:360},!0),bounce:new p("bounce",0),color:new u("color"),delay:new p("delay",0,!0),hold:new p("hold",0,!0),lifespan:new p("lifespan",1e3,!0),maxVelocityX:new p("maxVelocityX",1e4),maxVelocityY:new p("maxVelocityY",1e4),moveToX:new p("moveToX",0),moveToY:new p("moveToY",0),quantity:new p("quantity",1,!0),rotate:new p("rotate",0),scaleX:new p("scaleX",1),scaleY:new p("scaleY",1),speedX:new p("speedX",0,!0),speedY:new p("speedY",0,!0),tint:new p("tint",16777215),x:new p("x",0),y:new p("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new at,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new tt,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new D(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(ht,gt),this.setTexture(wt),St&&this.setConfig(St)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(X){if(!X)return this;this.config=X;var nt=0,ht="",gt=this.ops;for(nt=0;nt<it.length;nt++)gt[ht=it[nt]].loadConfig(X);for(nt=0;nt<J.length;nt++)E(X,ht=J[nt])&&(this[ht]=v(X,ht));if(this.acceleration=0!==this.accelerationX||0!==this.accelerationY,this.moveTo=0!==this.moveToX&&0!==this.moveToY,E(X,"speed")&&(gt.speedX.loadConfig(X,"speed"),gt.speedY.active=!1),(_(X,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),E(X,"scale")&&(gt.scaleX.loadConfig(X,"scale"),gt.scaleY.active=!1),E(X,"callbackScope")){var wt=v(X,"callbackScope",null);this.emitCallbackScope=wt,this.deathCallbackScope=wt}if(E(X,"emitZone")&&this.addEmitZone(X.emitZone),E(X,"deathZone")&&this.addDeathZone(X.deathZone),E(X,"bounds")){var St=this.addParticleBounds(X.bounds);St.collideLeft=v(X,"collideLeft",!0),St.collideRight=v(X,"collideRight",!0),St.collideTop=v(X,"collideTop",!0),St.collideBottom=v(X,"collideBottom",!0)}return E(X,"followOffset")&&this.followOffset.setFromObject(v(X,"followOffset",0)),E(X,"texture")&&this.setTexture(X.texture),E(X,"frame")?this.setEmitterFrame(X.frame):E(X,"anim")&&this.setAnim(X.anim),E(X,"reserve")&&this.reserve(X.reserve),E(X,"advance")&&this.fastForward(X.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(d.START,this),this},updateConfig:function(X){return X&&this.setConfig(this.config?R(this.config,X):X),this},toJSON:function(){var X=m(this),nt=0,ht="";for(nt=0;nt<J.length;nt++)X[ht=J[nt]]=this[ht];var gt=this.ops;for(nt=0;nt<it.length;nt++)gt[ht=it[nt]]&&(X[ht]=gt[ht].toJSON());return gt.speedY.active||(delete X.speedX,X.speed=gt.speedX.toJSON()),this.scaleX===this.scaleY&&(delete X.scaleX,delete X.scaleY,X.scale=gt.scaleX.toJSON()),X},resetCounters:function(X,nt){var ht=this.counters;ht.fill(0),ht[0]=X,nt&&(ht[5]=1)},startFollow:function(X,nt,ht,gt){return void 0===nt&&(nt=0),void 0===ht&&(ht=0),void 0===gt&&(gt=!1),this.follow=X,this.followOffset.set(nt,ht),this.trackVisible=gt,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var ht,X=this.frames,nt=X.length;return 1===nt?ht=X[0]:this.randomFrame?ht=x(X):(ht=X[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===nt&&(this.currentFrame=0))),this.texture.get(ht)},setEmitterFrame:function(X,nt,ht){void 0===nt&&(nt=!0),void 0===ht&&(ht=1),this.randomFrame=nt,this.frameQuantity=ht,this.currentFrame=0;var gt=typeof X;if(this.frames.length=0,Array.isArray(X))this.frames=this.frames.concat(X);else if("string"===gt||"number"===gt)this.frames.push(X);else if("object"===gt){var wt=X;(X=v(wt,"frames",null))&&(this.frames=this.frames.concat(X));var St=v(wt,"cycle",!1);this.randomFrame=!St,this.frameQuantity=v(wt,"quantity",ht)}return 1===this.frames.length&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var X=this.anims,nt=X.length;if(0===nt)return null;if(1===nt)return X[0];if(this.randomAnim)return x(X);var ht=X[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=lt(this.currentAnim+1,0,nt)),ht},setAnim:function(X,nt,ht){void 0===nt&&(nt=!0),void 0===ht&&(ht=1),this.randomAnim=nt,this.animQuantity=ht,this.currentAnim=0;var gt=typeof X;if(this.anims.length=0,Array.isArray(X))this.anims=this.anims.concat(X);else if("string"===gt)this.anims.push(X);else if("object"===gt){var wt=X;(X=v(wt,"anims",null))&&(this.anims=this.anims.concat(X));var St=v(wt,"cycle",!1);this.randomAnim=!St,this.animQuantity=v(wt,"quantity",ht)}return 1===this.anims.length&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(X){return void 0===X&&(X=!0),this.radial=X,this},addParticleBounds:function(X,nt,ht,gt,wt,St,Vt,Zt){if("object"==typeof X){var Jt=X;X=Jt.x,nt=Jt.y,ht=E(Jt,"w")?Jt.w:Jt.width,gt=E(Jt,"h")?Jt.h:Jt.height}return this.addParticleProcessor(new L(X,nt,ht,gt,wt,St,Vt,Zt))},setParticleSpeed:function(X,nt){return void 0===nt&&(nt=X),this.ops.speedX.onChange(X),X===nt?this.ops.speedY.active=!1:this.ops.speedY.onChange(nt),this.radial=!0,this},setParticleScale:function(X,nt){return void 0===X&&(X=1),void 0===nt&&(nt=X),this.ops.scaleX.onChange(X),this.ops.scaleY.onChange(nt),this},setParticleGravity:function(X,nt){return this.gravityX=X,this.gravityY=nt,this},setParticleAlpha:function(X){return this.ops.alpha.onChange(X),this},setParticleTint:function(X){return this.ops.tint.onChange(X),this},setEmitterAngle:function(X){return this.ops.angle.onChange(X),this},setParticleLifespan:function(X){return this.ops.lifespan.onChange(X),this},setQuantity:function(X){return this.quantity=X,this},setFrequency:function(X,nt){return this.frequency=X,this.flowCounter=X>0?X:0,nt&&(this.quantity=nt),this},addDeathZone:function(X){Array.isArray(X)||(X=[X]);for(var nt,ht=[],gt=0;gt<X.length;gt++)if((nt=X[gt])instanceof h)ht.push(nt);else if("function"==typeof nt.contains)nt=new h(nt,!0),ht.push(nt);else{var wt=v(nt,"type","onEnter"),St=v(nt,"source",null);St&&"function"==typeof St.contains&&(nt=new h(St,"onEnter"===wt),ht.push(nt))}return this.deathZones=this.deathZones.concat(ht),ht},removeDeathZone:function(X){return Q(this.deathZones,X),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(X){Array.isArray(X)||(X=[X]);for(var nt,ht=[],gt=0;gt<X.length;gt++)if((nt=X[gt])instanceof V||nt instanceof c)ht.push(nt);else{var wt=v(nt,"source",null);if(wt){var St=v(nt,"type","random");if("random"===St&&"function"==typeof wt.getRandomPoint)nt=new V(wt),ht.push(nt);else if("edge"===St&&"function"==typeof wt.getPoints){var Vt=v(nt,"quantity",1),Zt=v(nt,"stepRate",0),Jt=v(nt,"yoyo",!1),ie=v(nt,"seamless",!0),ae=v(nt,"total",-1);nt=new c(wt,Vt,Zt,Jt,ie,ae),ht.push(nt)}}}return this.emitZones=this.emitZones.concat(ht),ht},removeEmitZone:function(X){return Q(this.emitZones,X),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(X){var nt=this.emitZones,ht=nt.length;if(0!==ht){var gt=nt[this.zoneIndex];gt.getPoint(X),gt.total>-1&&(this.zoneTotal++,this.zoneTotal===gt.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===ht&&(this.zoneIndex=0)))}},getDeathZone:function(X){for(var nt=this.deathZones,ht=0;ht<nt.length;ht++){var gt=nt[ht];if(gt.willKill(X))return this.emit(d.DEATH_ZONE,this,X,gt),!0}return!1},setEmitZone:function(X){var nt;return(nt=isFinite(X)?X:this.emitZones.indexOf(X))>=0&&(this.zoneIndex=nt),this},addParticleProcessor:function(X){return this.processors.exists(X)||(X.emitter&&X.emitter.removeParticleProcessor(X),this.processors.add(X),X.emitter=this),X},removeParticleProcessor:function(X){return this.processors.exists(X)&&(this.processors.remove(X,!0),X.emitter=null),X},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(X){return this.addParticleProcessor(new b(X))},reserve:function(X){var nt=this.dead;if(this.maxParticles>0){var ht=this.getParticleCount();ht+X>this.maxParticles&&(X=this.maxParticles-(ht+X))}for(var gt=0;gt<X;gt++)nt.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles||this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(X,nt){return void 0===X?(this.emitCallback=null,this.emitCallbackScope=null):"function"==typeof X&&(this.emitCallback=X,nt&&(this.emitCallbackScope=nt)),this},onParticleDeath:function(X,nt){return void 0===X?(this.deathCallback=null,this.deathCallbackScope=null):"function"==typeof X&&(this.deathCallback=X,nt&&(this.deathCallbackScope=nt)),this},killAll:function(){for(var X=this.dead,nt=this.alive;nt.length>0;)X.push(nt.pop());return this},forEachAlive:function(X,nt){for(var ht=this.alive,gt=ht.length,wt=0;wt<gt;wt++)X.call(nt,ht[wt],this);return this},forEachDead:function(X,nt){for(var ht=this.dead,gt=ht.length,wt=0;wt<gt;wt++)X.call(nt,ht[wt],this);return this},start:function(X,nt){return void 0===X&&(X=0),this.emitting||(X>0&&this.fastForward(X),this.emitting=!0,this.resetCounters(this.frequency,!0),void 0!==nt&&(this.duration=Math.abs(nt)),this.emit(d.START,this)),this},stop:function(X){return void 0===X&&(X=!1),this.emitting&&(this.emitting=!1,X&&this.killAll(),this.emit(d.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(X,nt){return void 0===X&&(X=""),void 0===nt&&(nt=this.true),this.sortProperty=X,this.sortOrderAsc=nt,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(X){return this.sortCallback=""!==this.sortProperty?this.depthSortCallback:null,this},depthSort:function(){return K(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(X,nt){var ht=this.sortProperty;return this.sortOrderAsc?X[ht]-nt[ht]:nt[ht]-X[ht]},flow:function(X,nt,ht){return void 0===nt&&(nt=1),this.emitting=!1,this.frequency=X,this.quantity=nt,void 0!==ht&&(this.stopAfter=ht),this.start()},explode:function(X,nt,ht){this.frequency=-1,this.resetCounters(-1,!0);var gt=this.emitParticle(X,nt,ht);return this.emit(d.EXPLODE,this,gt),gt},emitParticleAt:function(X,nt,ht){return this.emitParticle(ht,X,nt)},emitParticle:function(X,nt,ht){if(!this.atLimit()){void 0===X&&(X=this.ops.quantity.onEmit());for(var gt=this.dead,wt=this.stopAfter,St=this.follow?this.follow.x+this.followOffset.x:nt,Vt=this.follow?this.follow.y+this.followOffset.y:ht,Zt=0;Zt<X;Zt++){var Jt=gt.pop();if(Jt||(Jt=new this.particleClass(this)),Jt.fire(St,Vt)?(this.particleBringToTop?this.alive.push(Jt):this.alive.unshift(Jt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Jt,this)):this.dead.push(Jt),wt>0&&(this.stopCounter++,this.stopCounter>=wt)||this.atLimit())break}return Jt}},fastForward:function(X,nt){void 0===nt&&(nt=1e3/60);var ht=0;for(this.skipping=!0;ht<Math.abs(X);)this.preUpdate(0,nt),ht+=nt;return this.skipping=!1,this},preUpdate:function(X,nt){var ht=(nt*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var gt=this.getProcessors(),wt=this.alive,St=this.dead,Vt=0,Zt=[],Jt=wt.length;for(Vt=0;Vt<Jt;Vt++){var ie=wt[Vt];ie.update(nt,ht,gt)&&Zt.push({index:Vt,particle:ie})}if((Jt=Zt.length)>0){var ae=this.deathCallback,fe=this.deathCallbackScope;for(Vt=Jt-1;Vt>=0;Vt--){var Pe=Zt[Vt];wt.splice(Pe.index,1),St.push(Pe.particle),ae&&ae.call(fe,Pe.particle),Pe.particle.setPosition()}}if(this.emitting||this.skipping){if(0===this.frequency)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=nt;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=nt,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())}else 1===this.completeFlag&&0===wt.length&&(this.completeFlag=0,this.emit(d.COMPLETE,this))},overlap:function(X){for(var nt=this.getWorldTransformMatrix(),ht=this.alive,gt=ht.length,wt=[],St=0;St<gt;St++){var Vt=ht[St];G(X,Vt.getBounds(nt))&&wt.push(Vt)}return wt},getBounds:function(X,nt,ht,gt){void 0===X&&(X=0),void 0===nt&&(nt=0),void 0===ht&&(ht=1e3/60),void 0===gt&&(gt=new B);var St,Vt,wt=this.getWorldTransformMatrix(),Zt=this.alive,Jt=!1;if(gt.setTo(0,0,0,0),nt>0){var ie=0;for(this.skipping=!0;ie<Math.abs(nt);){for(this.preUpdate(0,ht),St=0;St<Zt.length;St++)Vt=Zt[St].getBounds(wt),Jt?I(gt,Vt):(Jt=!0,f(Vt,gt));ie+=ht}this.skipping=!1}else for(St=0;St<Zt.length;St++)Vt=Zt[St].getBounds(wt),Jt?I(gt,Vt):(Jt=!0,f(Vt,gt));return X>0&&A(gt,X,X),gt},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(X){this.ops.x.onChange(X)}},particleY:{get:function(){return this.ops.y.current},set:function(X){this.ops.y.onChange(X)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(X){this.ops.accelerationX.onChange(X)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(X){this.ops.accelerationY.onChange(X)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(X){this.ops.maxVelocityX.onChange(X)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(X){this.ops.maxVelocityY.onChange(X)}},speed:{get:function(){return this.ops.speedX.current},set:function(X){this.ops.speedX.onChange(X),this.ops.speedY.onChange(X)}},speedX:{get:function(){return this.ops.speedX.current},set:function(X){this.ops.speedX.onChange(X)}},speedY:{get:function(){return this.ops.speedY.current},set:function(X){this.ops.speedY.onChange(X)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(X){this.ops.moveToX.onChange(X)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(X){this.ops.moveToY.onChange(X)}},bounce:{get:function(){return this.ops.bounce.current},set:function(X){this.ops.bounce.onChange(X)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(X){this.ops.scaleX.onChange(X)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(X){this.ops.scaleY.onChange(X)}},particleColor:{get:function(){return this.ops.color.current},set:function(X){this.ops.color.onChange(X)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(X){this.ops.color.setEase(X)}},particleTint:{get:function(){return this.ops.tint.current},set:function(X){this.ops.tint.onChange(X)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(X){this.ops.alpha.onChange(X)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(X){this.ops.lifespan.onChange(X)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(X){this.ops.angle.onChange(X)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(X){this.ops.rotate.onChange(X)}},quantity:{get:function(){return this.ops.quantity.current},set:function(X){this.ops.quantity.onChange(X)}},delay:{get:function(){return this.ops.delay.current},set:function(X){this.ops.delay.onChange(X)}},hold:{get:function(){return this.ops.hold.current},set:function(X){this.ops.hold.onChange(X)}},flowCounter:{get:function(){return this.counters[0]},set:function(X){this.counters[0]=X}},frameCounter:{get:function(){return this.counters[1]},set:function(X){this.counters[1]=X}},animCounter:{get:function(){return this.counters[2]},set:function(X){this.counters[2]=X}},elapsed:{get:function(){return this.counters[3]},set:function(X){this.counters[3]=X}},stopCounter:{get:function(){return this.counters[4]},set:function(X){this.counters[4]=X}},completeFlag:{get:function(){return this.counters[5]},set:function(X){this.counters[5]=X}},zoneIndex:{get:function(){return this.counters[6]},set:function(X){this.counters[6]=X}},zoneTotal:{get:function(){return this.counters[7]},set:function(X){this.counters[7]=X}},currentFrame:{get:function(){return this.counters[8]},set:function(X){this.counters[8]=X}},currentAnim:{get:function(){return this.counters[9]},set:function(X){this.counters[9]=X}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var X,nt=this.ops;for(X=0;X<it.length;X++)nt[it[X]].destroy();for(X=0;X<this.alive.length;X++)this.alive[X].destroy();for(X=0;X<this.dead.length;X++)this.dead[X].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});C.exports=Y},9871:(C,k,a)=>{var y=a(59996),T=a(61340),m=new T,f=new T,h=new T,c=new T;C.exports=function(p,d,g,v){var x=m,b=f,_=h,E=c;v?(E.loadIdentity(),E.multiply(v),E.translate(d.x,d.y),E.rotate(d.rotation),E.scale(d.scaleX,d.scaleY)):E.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY);var A=p.currentContext,D=g.roundPixels,I=g.alpha,R=d.alpha,F=d.alive,L=F.length,V=d.viewBounds;if(d.visible&&0!==L&&(!V||y(V,g.worldView))){d.sortCallback&&d.depthSort(),g.addToRenderList(d);var B=d.scrollFactorX,G=d.scrollFactorY;A.save(),A.globalCompositeOperation=p.blendModes[d.blendMode];for(var Q=0;Q<L;Q++){var H=F[Q],K=H.alpha*R*I;if(!(K<=0||0===H.scaleX||0===H.scaleY)){_.applyITRS(H.x,H.y,H.rotation,H.scaleX,H.scaleY),x.copyFrom(g.matrix),x.multiplyWithOffset(E,-g.scrollX*B,-g.scrollY*G),_.e=H.x,_.f=H.y,x.multiply(_,b);var tt=H.frame,at=tt.canvasData;if(at.width>0&&at.height>0){var lt=-tt.halfWidth,J=-tt.halfHeight;A.globalAlpha=K,A.save(),b.setToContext(A),D&&(lt=Math.round(lt),J=Math.round(J)),A.imageSmoothingEnabled=!tt.source.scaleMode,A.drawImage(tt.source.image,at.x,at.y,at.width,at.height,lt,J,at.width,at.height),A.restore()}}}A.restore()}}},92730:(C,k,a)=>{var y=a(25305),T=a(44603),m=a(23568),f=a(95540),h=a(31600);T.register("particles",function(c,u){void 0===c&&(c={});var p=m(c,"key",null),d=f(c,"config",null),g=new h(this.scene,0,0,p);return void 0!==u&&(c.add=u),y(this.scene,g,c),d&&g.setConfig(d),g})},676:(C,k,a)=>{var y=a(39429),T=a(31600);y.register("particles",function(m,f,h,c){return void 0!==m&&"string"==typeof m&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new T(this.scene,m,f,h,c))})},90668:(C,k,a)=>{var T,m;a(29747),T=a(21188),m=a(9871),C.exports={renderWebGL:T,renderCanvas:m}},21188:(C,k,a)=>{var y=a(59996),T=a(61340),m=a(70554),f=new T,h=new T,c=new T,u=new T;C.exports=function(d,g,v,x){var b=d.pipelines.set(g.pipeline),_=f,E=h,A=c,D=u;x?(D.loadIdentity(),D.multiply(x),D.translate(g.x,g.y),D.rotate(g.rotation),D.scale(g.scaleX,g.scaleY)):D.applyITRS(g.x,g.y,g.rotation,g.scaleX,g.scaleY);var I=m.getTintAppendFloatAlpha,R=v.alpha,F=g.alpha;d.pipelines.preBatch(g);var L=g.alive,V=L.length,B=g.viewBounds;if(0!==V&&(!B||y(B,v.worldView))){g.sortCallback&&g.depthSort(),v.addToRenderList(g),_.copyFrom(v.matrix),_.multiplyWithOffset(D,-v.scrollX*g.scrollFactorX,-v.scrollY*g.scrollFactorY),d.setBlendMode(g.blendMode),g.mask&&(g.mask.preRenderWebGL(d,g,v),d.pipelines.set(g.pipeline));for(var Q,H,G=g.tintFill,K=0;K<V;K++){var tt=L[K],at=tt.alpha*F*R;if(!(at<=0||0===tt.scaleX||0===tt.scaleY)){A.applyITRS(tt.x,tt.y,tt.rotation,tt.scaleX,tt.scaleY),A.e=tt.x,A.f=tt.y,_.multiply(A,E);var lt=tt.frame;lt.glTexture!==H&&(H=lt.glTexture,Q=b.setGameObject(g,lt));var J=-lt.halfWidth,it=-lt.halfHeight,Y=E.setQuad(J,it,J+lt.width,it+lt.height),X=I(tt.tint,at);b.shouldFlush(6)&&(b.flush(),Q=b.setGameObject(g,lt)),b.batchQuad(g,Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],lt.u0,lt.v0,lt.u1,lt.v1,X,X,X,X,G,H,Q)}}g.mask&&g.mask.postRenderWebGL(d,v),d.pipelines.postBatch(g)}}},20286:(C,k,a)=>{var T=new(a(83419))({initialize:function(f,h,c){void 0===f&&(f=0),void 0===h&&(h=0),void 0===c&&(c=!0),this.x=f,this.y=h,this.active=c},update:function(){},destroy:function(){this.emitter=null}});C.exports=T},9774:C=>{C.exports="complete"},812:C=>{C.exports="deathzone"},30522:C=>{C.exports="explode"},96695:C=>{C.exports="start"},18677:C=>{C.exports="stop"},20696:(C,k,a)=>{C.exports={COMPLETE:a(9774),DEATH_ZONE:a(812),EXPLODE:a(30522),START:a(96695),STOP:a(18677)}},18404:(C,k,a)=>{C.exports={EmitterColorOp:a(76472),EmitterOp:a(44777),Events:a(20696),GravityWell:a(24502),Particle:a(56480),ParticleBounds:a(69601),ParticleEmitter:a(31600),ParticleProcessor:a(20286),Zones:a(21024)}},26388:(C,k,a)=>{var T=new(a(83419))({initialize:function(f,h){this.source=f,this.killOnEnter=h},willKill:function(m){var f=this.source.contains(m.x,m.y);return f&&this.killOnEnter||!f&&!this.killOnEnter}});C.exports=T},19909:(C,k,a)=>{var T=new(a(83419))({initialize:function(f,h,c,u,p,d){void 0===u&&(u=!1),void 0===p&&(p=!0),void 0===d&&(d=-1),this.source=f,this.points=[],this.quantity=h,this.stepRate=c,this.yoyo=u,this.counter=-1,this.seamless=p,this._length=0,this._direction=0,this.total=d,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var m=this.points[0],f=this.points[this.points.length-1];m.x===f.x&&m.y===f.y&&this.points.pop()}var h=this._length;return this._length=this.points.length,this._length<h&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(m){return this.source=m,this.updateSource()},getPoint:function(m){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var f=this.points[this.counter];f&&(m.x=f.x,m.y=f.y)}});C.exports=T},68875:(C,k,a)=>{var y=a(83419),T=a(26099),m=new y({initialize:function(h){this.source=h,this._tempVec=new T,this.total=-1},getPoint:function(f){var h=this._tempVec;this.source.getRandomPoint(h),f.x=h.x,f.y=h.y}});C.exports=m},21024:(C,k,a)=>{C.exports={DeathZone:a(26388),EdgeZone:a(19909),RandomZone:a(68875)}},1159:(C,k,a)=>{var y=a(83419),T=a(31401),m=a(68287),f=new y({Extends:m,Mixins:[T.PathFollower],initialize:function(c,u,p,d,g,v){m.call(this,c,p,d,g,v),this.path=u},preUpdate:function(h,c){this.anims.update(h,c),this.pathUpdate(h)}});C.exports=f},90145:(C,k,a)=>{var y=a(39429),T=a(1159);y.register("follower",function(m,f,h,c,u){var p=new T(this.scene,m,f,h,c,u);return this.displayList.add(p),this.updateList.add(p),p})},33663:(C,k,a)=>{var y=a(9674),T=a(83419),m=a(48803),f=a(90664),h=a(4703),c=a(45650),u=new T({Extends:h,initialize:function(d,g,v,x,b,_,E,A){x||(x="__DEFAULT"),h.call(this,d,g,v,x,b),this.type="Plane",this.anims=new y(this),this._checkerboard=null,this.hideCCW=!1,this.setGridSize(_,E,A),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return.5}},originY:{get:function(){return.5}},setGridSize:function(p,d,g){void 0===p&&(p=8),void 0===d&&(d=8),void 0===g&&(g=!1);var v=!1;return g&&(v=!0),this.gridWidth=p,this.gridHeight=d,this.isTiled=g,this.clear(),m({mesh:this,widthSegments:p,heightSegments:d,isOrtho:!1,tile:g,flipY:v}),this},setSizeToFrame:function(p){void 0===p&&(p=!0);var d=this.frame;if(this.setPerspective(this.width/d.width,this.height/d.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!p)return this;var D,I,g=this.gridWidth,v=this.gridHeight,x=this.vertices,b=d.u0,_=d.u1,E=d.v0,A=d.v1,R=0;if(this.isTiled)for(E=d.v1,A=d.v0,I=0;I<v;I++)for(D=0;D<g;D++)x[R++].setUVs(b,A),x[R++].setUVs(b,E),x[R++].setUVs(_,A),x[R++].setUVs(b,E),x[R++].setUVs(_,E),x[R++].setUVs(_,A);else{var F=g+1,L=v+1,V=_-b,B=A-E,G=[];for(I=0;I<L;I++)for(D=0;D<F;D++)G.push(b+V*(D/g),E+B*(I/v));for(I=0;I<v;I++)for(D=0;D<g;D++){var K=2*(D+F*I),tt=2*(D+F*(I+1)),at=2*(D+1+F*(I+1)),lt=2*(D+1+F*I);x[R++].setUVs(G[K],G[K+1]),x[R++].setUVs(G[tt],G[tt+1]),x[R++].setUVs(G[lt],G[lt+1]),x[R++].setUVs(G[tt],G[tt+1]),x[R++].setUVs(G[at],G[at+1]),x[R++].setUVs(G[lt],G[lt+1])}}return this},setViewHeight:function(p){void 0===p&&(p=this.frame.height);var d=this.fov*(Math.PI/180);this.viewPosition.z=this.height/p/Math.tan(d/2),this.dirtyCache[10]=1},createCheckerboard:function(p,d,g,v,x){void 0===p&&(p=16777215),void 0===d&&(d=255),void 0===g&&(g=255),void 0===v&&(v=255),void 0===x&&(x=128);for(var b=f(p),_=f(d),E=[],A=0;A<16;A++)for(var D=0;D<16;D++)A<8&&D<8||A>7&&D>7?E.push(b.r,b.g,b.b,g):E.push(_.r,_.g,_.b,v);var I=this.scene.sys.textures.addUint8Array(c(),new Uint8Array(E),16,16);return this.removeCheckerboard(),this.setTexture(I),this.setSizeToFrame(),this.setViewHeight(x),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(p,d){return this.anims.play(p,d)},playReverse:function(p,d){return this.anims.playReverse(p,d)},playAfterDelay:function(p,d){return this.anims.playAfterDelay(p,d)},playAfterRepeat:function(p,d){return this.anims.playAfterRepeat(p,d)},stop:function(){return this.anims.stop()},stopAfterDelay:function(p){return this.anims.stopAfterDelay(p)},stopAfterRepeat:function(p){return this.anims.stopAfterRepeat(p)},stopOnFrame:function(p){return this.anims.stopOnFrame(p)},preUpdate:function(p,d){h.prototype.preUpdate.call(this,p,d),this.anims.update(p,d)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});C.exports=u},56015:(C,k,a)=>{var y=a(25305),T=a(13059),m=a(44603),f=a(23568),h=a(35154),c=a(33663);m.register("plane",function(u,p){void 0===u&&(u={});var d=f(u,"key",null),g=f(u,"frame",null),v=h(u,"width",8),x=h(u,"height",8),b=h(u,"tile",!1),_=new c(this.scene,0,0,d,g,v,x,b);void 0!==p&&(u.add=p);var E=h(u,"checkerboard",null);if(E){var A=h(E,"color1",16777215),D=h(E,"color2",255),I=h(E,"alpha1",255),R=h(E,"alpha2",255),F=h(E,"height",128);_.createCheckerboard(A,D,I,R,F)}return y(this.scene,_,u),T(_,u),_})},30985:(C,k,a)=>{var y=a(33663);a(39429).register("plane",function(m,f,h,c,u,p,d){return this.displayList.add(new y(this.scene,m,f,h,c,u,p,d))})},80321:(C,k,a)=>{var y=a(83419),T=a(31401),m=a(95643),f=a(30100),h=a(36060),c=a(67277),u=new y({Extends:m,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.Mask,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Transform,T.Visible,c],initialize:function(d,g,v,x,b,_,E){void 0===x&&(x=16777215),void 0===b&&(b=128),void 0===_&&(_=1),void 0===E&&(E=.1),m.call(this,d,"PointLight"),this.initPipeline(h.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(g,v),this.color=f(x),this.intensity=_,this.attenuation=E,this.width=2*b,this.height=2*b,this._radius=b},radius:{get:function(){return this._radius},set:function(p){this._radius=p,this.width=2*p,this.height=2*p}},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});C.exports=u},39829:(C,k,a)=>{var y=a(25305),T=a(44603),m=a(23568),f=a(80321);T.register("pointlight",function(h,c){void 0===h&&(h={});var u=m(h,"color",16777215),p=m(h,"radius",128),d=m(h,"intensity",1),g=m(h,"attenuation",.1),v=new f(this.scene,0,0,u,p,d,g);return void 0!==c&&(h.add=c),y(this.scene,v,h),v})},71255:(C,k,a)=>{var y=a(39429),T=a(80321);y.register("pointlight",function(m,f,h,c,u,p){return this.displayList.add(new T(this.scene,m,f,h,c,u,p))})},67277:(C,k,a)=>{var T,m=a(29747);T=a(57787),C.exports={renderWebGL:T,renderCanvas:m}},57787:(C,k,a)=>{var y=a(91296);C.exports=function(m,f,h,c){h.addToRenderList(f);var u=m.pipelines.set(f.pipeline),p=y(f,h,c).calc,v=-f._radius,x=-f._radius,b=v+f.width,_=x+f.height,E=p.getX(0,0),A=p.getY(0,0),D=p.getX(v,x),I=p.getY(v,x),R=p.getX(v,_),F=p.getY(v,_),L=p.getX(b,_),V=p.getY(b,_),B=p.getX(b,x),G=p.getY(b,x);m.pipelines.preBatch(f),u.batchPointLight(f,h,D,I,R,F,L,V,B,G,E,A),m.pipelines.postBatch(f)}},591:(C,k,a)=>{var y=a(83419),T=a(81320),m=a(88571),f=new y({Extends:m,initialize:function(c,u,p,d,g){void 0===u&&(u=0),void 0===p&&(p=0),void 0===d&&(d=32),void 0===g&&(g=32);var v=new T(c.sys.textures,"",d,g);m.call(this,c,u,p,v),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(h,c){this.width=h,this.height=c,this.texture.setSize(h,c),this.updateDisplayOrigin();var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=h,u.hitArea.height=c),this},resize:function(h,c){return this.setSize(h,c),this},saveTexture:function(h){var c=this.texture;return c.key=h,c.manager.addDynamicTexture(c)&&(this._saved=!0),c},fill:function(h,c,u,p,d,g){return this.texture.fill(h,c,u,p,d,g),this},clear:function(){return this.texture.clear(),this},stamp:function(h,c,u,p,d){return this.texture.stamp(h,c,u,p,d),this},erase:function(h,c,u){return this.texture.erase(h,c,u),this},draw:function(h,c,u,p,d){return this.texture.draw(h,c,u,p,d),this},drawFrame:function(h,c,u,p,d,g){return this.texture.drawFrame(h,c,u,p,d,g),this},repeat:function(h,c,u,p,d,g,v,x,b){return this.texture.repeat(h,c,u,p,d,g,v,x,b),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(h,c,u,p,d){return this.texture.batchDraw(h,c,u,p,d),this},batchDrawFrame:function(h,c,u,p,d,g){return this.texture.batchDrawFrame(h,c,u,p,d,g),this},endDraw:function(h){return this.texture.endDraw(h),this},snapshotArea:function(h,c,u,p,d,g,v){return this.texture.snapshotArea(h,c,u,p,d,g,v),this},snapshot:function(h,c,u){return this.snapshotArea(0,0,this.width,this.height,h,c,u)},snapshotPixel:function(h,c,u){return this.snapshotArea(h,c,1,1,u,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});C.exports=f},34495:(C,k,a)=>{var y=a(25305),T=a(44603),m=a(23568),f=a(591);T.register("renderTexture",function(h,c){void 0===h&&(h={});var u=m(h,"x",0),p=m(h,"y",0),d=m(h,"width",32),g=m(h,"height",32),v=new f(this.scene,u,p,d,g);return void 0!==c&&(h.add=c),y(this.scene,v,h),v})},60505:(C,k,a)=>{var y=a(39429),T=a(591);y.register("renderTexture",function(m,f,h,c){return this.displayList.add(new T(this.scene,m,f,h,c))})},77757:(C,k,a)=>{var y=a(9674),T=a(83419),m=a(31401),f=a(95643),h=a(36060),c=a(38745),u=a(26099),p=new T({Extends:f,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Flip,m.Mask,m.Pipeline,m.PostPipeline,m.Size,m.Texture,m.Transform,m.Visible,m.ScrollFactor,c],initialize:function(g,v,x,b,_,E,A,D,I){void 0===b&&(b="__DEFAULT"),void 0===E&&(E=2),void 0===A&&(A=!0),f.call(this,g,"Rope"),this.anims=new y(this),this.points=E,this.tintFill="__DEFAULT"===b,this.dirty=!1,this.horizontal=A,this._flipX=!1,this._flipY=!1,this._perp=new u,this.debugCallback=null,this.debugGraphic=null,this.setTexture(b,_),this.setPosition(v,x),this.setSizeToFrame(),this.initPipeline(h.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(E)&&this.resizeArrays(E.length),this.setPoints(E,D,I),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(d,g){var v=this.anims.currentFrame;this.anims.update(d,g),this.anims.currentFrame!==v&&(this.updateUVs(),this.updateVertices())},play:function(d,g,v){return this.anims.play(d,g,v),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(d,g,v){return void 0===d&&(d=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(d,g,v))},setVertical:function(d,g,v){return void 0===d&&(d=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(d,g,v)):this},setTintFill:function(d){return void 0===d&&(d=!1),this.tintFill=d,this},setAlphas:function(d,g){var v=this.points.length;if(v<1)return this;var x=this.alphas;void 0===d?d=[1]:!Array.isArray(d)&&void 0===g&&(d=[d]);var b,_=0;if(void 0!==g)for(b=0;b<v;b++)x[_=2*b]=d,x[_+1]=g;else if(d.length===v)for(b=0;b<v;b++)x[_=2*b]=d[b],x[_+1]=d[b];else{var E=d[0];for(b=0;b<v;b++)d.length>(_=2*b)&&(E=d[_]),x[_]=E,d.length>_+1&&(E=d[_+1]),x[_+1]=E}return this},setColors:function(d){var g=this.points.length;if(g<1)return this;var v=this.colors;void 0===d?d=[16777215]:Array.isArray(d)||(d=[d]);var x,b=0;if(d.length===g)for(x=0;x<g;x++)v[b=2*x]=d[x],v[b+1]=d[x];else{var _=d[0];for(x=0;x<g;x++)d.length>(b=2*x)&&(_=d[b]),v[b]=_,d.length>b+1&&(_=d[b+1]),v[b+1]=_}return this},setPoints:function(d,g,v){if(void 0===d&&(d=2),"number"==typeof d){var b,_,E,x=d;if(x<2&&(x=2),d=[],this.horizontal)for(E=-this.frame.halfWidth,_=this.frame.width/(x-1),b=0;b<x;b++)d.push({x:E+b*_,y:0});else for(E=-this.frame.halfHeight,_=this.frame.height/(x-1),b=0;b<x;b++)d.push({x:0,y:E+b*_})}var A=d.length,D=this.points.length;return A<1?(console.warn("Rope: Not enough points given"),this):(1===A&&(d.unshift({x:0,y:0}),A++),D!==A&&this.resizeArrays(A),this.dirty=!0,this.points=d,this.updateUVs(),null!=g&&this.setColors(g),null!=v&&this.setAlphas(v),this)},updateUVs:function(){for(var d=this.uv,g=this.points.length,v=this.frame.u0,x=this.frame.v0,b=this.frame.u1,_=this.frame.v1,E=(b-v)/(g-1),A=(_-x)/(g-1),D=0;D<g;D++){var R,F,L,V,I=4*D;this.horizontal?(this._flipX?(R=b-D*E,L=b-D*E):(R=v+D*E,L=v+D*E),this._flipY?(F=_,V=x):(F=x,V=_)):(this._flipX?(R=v,L=b):(R=b,L=v),this._flipY?(F=_-D*A,V=_-D*A):(F=x+D*A,V=x+D*A)),d[I+0]=R,d[I+1]=F,d[I+2]=L,d[I+3]=V}return this},resizeArrays:function(d){var g=this.colors,v=this.alphas;this.vertices=new Float32Array(4*d),this.uv=new Float32Array(4*d),g=new Uint32Array(2*d),v=new Float32Array(2*d);for(var x=0;x<2*d;x++)g[x]=16777215,v[x]=1;return this.colors=g,this.alphas=v,this.dirty=!0,this},updateVertices:function(){var d=this._perp,g=this.points,v=this.vertices,x=g.length;if(this.dirty=!1,!(x<1)){for(var b,_=g[0],E=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,A=0;A<x;A++){var D=g[A],I=4*A;d.x=(b=A<x-1?g[A+1]:D).y-_.y,d.y=-(b.x-_.x);var R=d.length();d.x/=R,d.y/=R,d.x*=E,d.y*=E,v[I]=D.x+d.x,v[I+1]=D.y+d.y,v[I+2]=D.x-d.x,v[I+3]=D.y-d.y,_=D}return this}},setDebug:function(d,g){return this.debugGraphic=d,this.debugCallback=d||g?g||this.renderDebugVerts:null,this},renderDebugVerts:function(d,g,v){var x=d.debugGraphic,b=v[0],_=v[1],E=v[2],A=v[3];x.lineBetween(b,_,E,A);for(var D=4;D<g;D+=4){var I=v[D+0],R=v[D+1],F=v[D+2],L=v[D+3];x.lineBetween(b,_,I,R),x.lineBetween(E,A,F,L),x.lineBetween(E,A,I,R),x.lineBetween(I,R,F,L),b=I,_=R,E=F,A=L}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(d){return this._flipX=d,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(d){return this._flipY=d,this.updateUVs()}}});C.exports=p},95262:C=>{C.exports=function(){}},26209:(C,k,a)=>{var y=a(25305),T=a(44603),m=a(23568),f=a(35154),h=a(77757);T.register("rope",function(c,u){void 0===c&&(c={});var p=m(c,"key",null),d=m(c,"frame",null),g=m(c,"horizontal",!0),v=f(c,"points",void 0),x=f(c,"colors",void 0),b=f(c,"alphas",void 0),_=new h(this.scene,0,0,p,d,v,g,x,b);return void 0!==u&&(c.add=u),y(this.scene,_,c),_})},96819:(C,k,a)=>{var y=a(77757);a(39429).register("rope",function(m,f,h,c,u,p,d,g){return this.displayList.add(new y(this.scene,m,f,h,c,u,p,d,g))})},38745:(C,k,a)=>{var T,m;a(29747),T=a(20439),m=a(95262),C.exports={renderWebGL:T,renderCanvas:m}},20439:(C,k,a)=>{var y=a(91296),T=a(70554);C.exports=function(f,h,c,u){c.addToRenderList(h);var p=f.pipelines.set(h.pipeline,h),d=y(h,c,u).calc,g=h.vertices,v=h.uv,x=h.colors,b=h.alphas,_=h.alpha,E=T.getTintAppendFloatAlpha,A=c.roundPixels,D=g.length,I=Math.floor(.5*D);p.flush(),f.pipelines.preBatch(h);var R=p.setGameObject(h),F=p.vertexViewF32,L=p.vertexViewU32,V=p.vertexCount*p.currentShader.vertexComponentCount-1,B=0,G=h.tintFill;h.dirty&&h.updateVertices();for(var Q=h.debugCallback,H=[],K=0;K<D;K+=2){var tt=g[K+0],at=g[K+1],lt=tt*d.a+at*d.c+d.e,J=tt*d.b+at*d.d+d.f;A&&(lt=Math.round(lt),J=Math.round(J)),F[++V]=lt,F[++V]=J,F[++V]=v[K+0],F[++V]=v[K+1],F[++V]=R,F[++V]=G,L[++V]=E(x[B],c.alpha*(b[B]*_)),B++,Q&&(H[K+0]=lt,H[K+1]=J)}Q&&Q.call(h,h,D,H),p.vertexCount+=I,p.currentBatch.count=p.vertexCount-p.currentBatch.start,f.pipelines.postBatch(h)}},20071:(C,k,a)=>{var y=a(83419),T=a(31401),m=a(95643),f=a(95540),h=a(79291),c=a(61622),u=a(25479),p=a(61340),d=a(95428),g=a(92503),v=new y({Extends:m,Mixins:[T.ComputedSize,T.Depth,T.GetBounds,T.Mask,T.Origin,T.ScrollFactor,T.Transform,T.Visible,u],initialize:function(b,_,E,A,D,I,R,F){void 0===E&&(E=0),void 0===A&&(A=0),void 0===D&&(D=128),void 0===I&&(I=128),m.call(this,b,"Shader"),this.blendMode=-1;var L=b.sys.renderer;this.renderer=L,this.gl=L.gl,this.vertexData=new ArrayBuffer(2*Float32Array.BYTES_PER_ELEMENT*6),this.vertexBuffer=L.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new p,this._tempMatrix2=new p,this._tempMatrix3=new p,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=L.width,this._rendererHeight=L.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(E,A),this.setSize(D,I),this.setOrigin(.5,.5),this.setShader(_,R,F),this.renderer.on(g.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(x){return!!this.renderToTexture||!(m.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&x.id)},setRenderToTexture:function(x,b){if(void 0===b&&(b=!1),!this.renderToTexture){var _=this.width,E=this.height,A=this.renderer;this.glTexture=A.createTextureFromSource(null,_,E,0),this.framebuffer=A.createFramebuffer(_,E,this.glTexture,!1),this._rendererWidth=_,this._rendererHeight=E,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),x&&(this.texture=this.scene.sys.textures.addGLTexture(x,this.glTexture))}return this.shader&&(A.pipelines.clear(),this.load(),this.flush(),A.pipelines.rebind()),this},setShader:function(x,b,_){if(this.renderer.contextLost)return this._deferSetShader={key:x,textures:b,textureData:_},this;if(void 0===b&&(b=[]),"string"==typeof x){var E=this.scene.sys.cache.shader;if(!E.has(x))return console.warn("Shader missing: "+x),this;this.shader=E.get(x)}else this.shader=x;var A=this.gl,D=this.renderer;this.program&&D.deleteProgram(this.program);var I=D.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);A.uniformMatrix4fv(A.getUniformLocation(I.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),A.uniformMatrix4fv(A.getUniformLocation(I.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),A.uniform2f(A.getUniformLocation(I.webGLProgram,"uResolution"),this.width,this.height),this.program=I;var R=new Date,F={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[R.getFullYear(),R.getMonth(),R.getDate(),60*R.getHours()*60+60*R.getMinutes()+R.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.uniforms=this.shader.uniforms?h(!0,{},this.shader.uniforms,F):F;for(var L=0;L<4;L++)b[L]&&this.setSampler2D("iChannel"+L,b[L],L,_);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(x){return this.pointer=x,this},projOrtho:function(x,b,_,E){if(this.renderer.contextLost)this._deferProjOrtho={left:x,right:b,bottom:_,top:E};else{var I=1/(x-b),R=1/(_-E),L=this.projectionMatrix;L[0]=-2*I,L[5]=-2*R,L[10]=-.001,L[12]=(x+b)*I,L[13]=(E+_)*R,L[14]=-0;var V=this.program,B=this.gl;this.renderer.setProgram(V),B.uniformMatrix4fv(B.getUniformLocation(V.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=b,this._rendererHeight=_}},initUniforms:function(){var x=this.renderer.glFuncMap,b=this.program;for(var _ in this._textureCount=0,this.uniforms){var E=this.uniforms[_],A=E.type,D=x[A];E.uniformLocation=this.renderer.createUniformLocation(b,_),"sampler2D"!==A&&(E.glMatrix=D.matrix,E.glValueLength=D.length,E.glFunc=D.func)}},setSampler2DBuffer:function(x,b,_,E,A,D){void 0===A&&(A=0),void 0===D&&(D={});var I=this.uniforms[x];return I.value=b,D.width=_,D.height=E,I.textureData=D,this._textureCount=A,this.initSampler2D(I),this},setSampler2D:function(x,b,_,E){void 0===_&&(_=0);var A=this.scene.sys.textures;if(A.exists(b)){var D=A.getFrame(b);if(D.glTexture&&D.glTexture.isRenderTexture)return this.setSampler2DBuffer(x,D.glTexture,D.width,D.height,_,E);var I=this.uniforms[x],R=D.source;I.textureKey=b,I.source=R.image,I.value=D.glTexture,R.isGLTexture&&(E||(E={}),E.width=R.width,E.height=R.height),E&&(I.textureData=E),this._textureCount=_,this.initSampler2D(I)}return this},setUniform:function(x,b){return c(this.uniforms,x,b),this},getUniform:function(x){return f(this.uniforms,x,null)},setChannel0:function(x,b){return this.setSampler2D("iChannel0",x,0,b)},setChannel1:function(x,b){return this.setSampler2D("iChannel1",x,1,b)},setChannel2:function(x,b){return this.setSampler2D("iChannel2",x,2,b)},setChannel3:function(x,b){return this.setSampler2D("iChannel3",x,3,b)},initSampler2D:function(x){if(x.value){var b=x.textureData;if(b&&!x.value.isRenderTexture){var _=this.gl,E=x.value,A=_[f(b,"magFilter","linear").toUpperCase()],D=_[f(b,"minFilter","linear").toUpperCase()],I=_[f(b,"wrapS","repeat").toUpperCase()],R=_[f(b,"wrapT","repeat").toUpperCase()],F=_[f(b,"format","rgba").toUpperCase()],L=f(b,"flipY",!1),V=f(b,"width",E.width),B=f(b,"height",E.height),G=f(b,"source",E.pixels);b.repeat&&(I=_.REPEAT,R=_.REPEAT),b.width&&(G=null),E.update(G,V,B,L,I,R,D,A,F)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var _,E,A,D,I,x=this.gl,b=this.uniforms,R=0;for(var F in b)A=(_=b[F]).glFunc,E=_.glValueLength,D=_.uniformLocation,null!==(I=_.value)&&(1===E?_.glMatrix?A.call(x,D.webGLUniformLocation,_.transpose,I):A.call(x,D.webGLUniformLocation,I):2===E?A.call(x,D.webGLUniformLocation,I.x,I.y):3===E?A.call(x,D.webGLUniformLocation,I.x,I.y,I.z):4===E?A.call(x,D.webGLUniformLocation,I.x,I.y,I.z,I.w):"sampler2D"===_.type&&(x.activeTexture(x.TEXTURE0+R),x.bindTexture(x.TEXTURE_2D,I.webGLTexture),x.uniform1i(D.webGLUniformLocation,R),R++))},load:function(x){var b=this.gl,_=this.width,E=this.height,A=this.renderer,D=this.program,I=this.viewMatrix;if(!this.renderToTexture){var R=-this._displayOriginX,F=-this._displayOriginY;I[0]=x[0],I[1]=x[1],I[4]=x[2],I[5]=x[3],I[8]=x[4],I[9]=x[5],I[12]=I[0]*R+I[4]*F,I[13]=I[1]*R+I[5]*F}b.useProgram(D.webGLProgram),b.uniformMatrix4fv(b.getUniformLocation(D.webGLProgram,"uViewMatrix"),!1,I),b.uniformMatrix4fv(b.getUniformLocation(D.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),b.uniform2f(b.getUniformLocation(D.webGLProgram,"uResolution"),this.width,this.height);var L=this.uniforms,V=L.resolution;V.value.x=_,V.value.y=E,L.time.value=A.game.loop.getDuration();var B=this.pointer;if(B){var G=L.mouse,H=1-B.y/E;G.value.x=(B.x/_).toFixed(2),G.value.y=H.toFixed(2)}this.syncUniforms()},flush:function(){var x=this.width,b=this.height,_=this.program,E=this.gl,A=this.vertexBuffer,D=this.renderer,I=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(D.setFramebuffer(this.framebuffer),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT)),E.bindBuffer(E.ARRAY_BUFFER,A.webGLBuffer);var R=E.getAttribLocation(_.webGLProgram,"inPosition");-1!==R&&(E.enableVertexAttribArray(R),E.vertexAttribPointer(R,2,E.FLOAT,!1,I,0));var F=this.vertexViewF32;F[3]=b,F[4]=x,F[5]=b,F[8]=x,F[9]=b,F[10]=x,E.bufferSubData(E.ARRAY_BUFFER,0,this.bytes.subarray(0,6*I)),E.drawArrays(E.TRIANGLES,0,6),this.renderToTexture&&D.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(null!==this._deferSetShader){var x=this._deferSetShader.key,b=this._deferSetShader.textures,_=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(x,b,_)}if(null!==this._deferProjOrtho){var E=this._deferProjOrtho.left,A=this._deferProjOrtho.right,D=this._deferProjOrtho.bottom,I=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(E,A,D,I)}},preDestroy:function(){var x=this.renderer;x.off(g.RESTORE_WEBGL,this.onContextRestored,this),x.deleteProgram(this.program),x.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(x.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),d(this.uniforms,function(b){x.deleteUniformLocation(b.uniformLocation),b.uniformLocation=null})}});C.exports=v},80464:C=>{C.exports=function(){}},54935:(C,k,a)=>{var y=a(25305),T=a(44603),m=a(23568),f=a(20071);T.register("shader",function(h,c){void 0===h&&(h={});var u=m(h,"key",null),p=m(h,"x",0),d=m(h,"y",0),g=m(h,"width",128),v=m(h,"height",128),x=new f(this.scene,u,p,d,g,v);return void 0!==c&&(h.add=c),y(this.scene,x,h),x})},74177:(C,k,a)=>{var y=a(20071);a(39429).register("shader",function(m,f,h,c,u,p,d){return this.displayList.add(new y(this.scene,m,f,h,c,u,p,d))})},25479:(C,k,a)=>{var T,m;a(29747),T=a(19257),m=a(80464),C.exports={renderWebGL:T,renderCanvas:m}},19257:(C,k,a)=>{var y=a(91296);C.exports=function(m,f,h,c){if(f.shader){if(h.addToRenderList(f),m.pipelines.clear(),f.renderToTexture)f.load(),f.flush();else{var u=y(f,h,c).calc;(m.width!==f._rendererWidth||m.height!==f._rendererHeight)&&f.projOrtho(0,m.width,m.height,0),f.load(u.matrix),f.flush()}m.pipelines.rebind()}}},10441:(C,k,a)=>{var y=a(70554);C.exports=function(m,f,h,c,u,p){for(var d=y.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*c),g=h.pathData,v=h.pathIndexes,x=0;x<v.length;x+=3){var b=2*v[x],_=2*v[x+1],E=2*v[x+2],A=g[b+0]-u,D=g[b+1]-p,I=g[_+0]-u,R=g[_+1]-p,F=g[E+0]-u,L=g[E+1]-p,V=f.getX(A,D),B=f.getY(A,D),G=f.getX(I,R),Q=f.getY(I,R),H=f.getX(F,L),K=f.getY(F,L);m.batchTri(h,V,B,G,Q,H,K,0,0,1,1,d,d,d,2)}}},65960:C=>{C.exports=function(a,y,T,m){var f=T||y.fillColor;a.fillStyle="rgba("+((16711680&f)>>>16)+","+((65280&f)>>>8)+","+(255&f)+","+(m||y.fillAlpha)+")"}},75177:C=>{C.exports=function(a,y,T,m){var f=T||y.strokeColor;a.strokeStyle="rgba("+((16711680&f)>>>16)+","+((65280&f)>>>8)+","+(255&f)+","+(m||y.strokeAlpha)+")",a.lineWidth=y.lineWidth}},17803:(C,k,a)=>{var y=a(83419),T=a(31401),m=a(95643),f=a(23031),h=new y({Extends:m,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.GetBounds,T.Mask,T.Origin,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Transform,T.Visible],initialize:function(u,p,d){void 0===p&&(p="Shape"),m.call(this,u,p),this.geom=d,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new f,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(c,u){return void 0===u&&(u=1),void 0===c?this.isFilled=!1:(this.fillColor=c,this.fillAlpha=u,this.isFilled=!0),this},setStrokeStyle:function(c,u,p){return void 0===p&&(p=1),void 0===c?this.isStroked=!1:(this.lineWidth=c,this.strokeColor=u,this.strokeAlpha=p,this.isStroked=!0),this},setClosePath:function(c){return this.closePath=c,this},setSize:function(c,u){return this.width=c,this.height=u,this},setDisplaySize:function(c,u){return this.displayWidth=c,this.displayHeight=u,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(c){this.scaleX=c/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(c){this.scaleY=c/this.height}}});C.exports=h},34682:(C,k,a)=>{var y=a(70554);C.exports=function(m,f,h,c,u){var p=m.strokeTint,d=y.getTintAppendFloatAlpha(f.strokeColor,f.strokeAlpha*h);p.TL=d,p.TR=d,p.BL=d,p.BR=d;var g=f.pathData,v=g.length-1,x=f.lineWidth,b=x/2,_=g[0]-c,E=g[1]-u;f.closePath||(v-=2);for(var A=2;A<v;A+=2){var D=g[A]-c,I=g[A+1]-u;m.batchLine(_,E,D,I,b,b,x,A-2,!!f.closePath&&A===v-1),_=D,E=I}}},23629:(C,k,a)=>{var y=a(13609),T=a(83419),m=a(39506),f=a(94811),h=a(96503),c=a(36383),u=a(17803),p=new T({Extends:u,Mixins:[y],initialize:function(g,v,x,b,_,E,A,D,I){void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=128),void 0===_&&(_=0),void 0===E&&(E=360),void 0===A&&(A=!1),u.call(this,g,"Arc",new h(0,0,b)),this._startAngle=_,this._endAngle=E,this._anticlockwise=A,this._iterations=.01,this.setPosition(v,x);var R=2*this.geom.radius;this.setSize(R,R),void 0!==D&&this.setFillStyle(D,I),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(d){this._iterations=d,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(d){this.geom.radius=d;var g=2*d;this.setSize(g,g),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(d){this._startAngle=d,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(d){this._endAngle=d,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(d){this._anticlockwise=d,this.updateData()}},setRadius:function(d){return this.radius=d,this},setIterations:function(d){return void 0===d&&(d=.01),this.iterations=d,this},setStartAngle:function(d,g){return this._startAngle=d,void 0!==g&&(this._anticlockwise=g),this.updateData()},setEndAngle:function(d,g){return this._endAngle=d,void 0!==g&&(this._anticlockwise=g),this.updateData()},updateData:function(){var d=this._iterations,g=d,v=this.geom.radius,x=m(this._startAngle),b=m(this._endAngle),E=v,A=v;b-=x,this._anticlockwise?b<-c.PI2?b=-c.PI2:b>0&&(b=b%c.PI2-c.PI2):b>c.PI2?b=c.PI2:b<0&&(b=c.PI2+b%c.PI2);for(var I,D=[E+Math.cos(x)*v,A+Math.sin(x)*v];g<1;)I=b*g+x,D.push(E+Math.cos(I)*v,A+Math.sin(I)*v),g+=d;return I=b+x,D.push(E+Math.cos(I)*v,A+Math.sin(I)*v),D.push(E+Math.cos(x)*v,A+Math.sin(x)*v),this.pathIndexes=f(D),this.pathData=D,this}});C.exports=p},42542:(C,k,a)=>{var y=a(39506),T=a(65960),m=a(75177),f=a(20926);C.exports=function(c,u,p,d){p.addToRenderList(u);var g=c.currentContext;if(f(c,g,u,p,d)){var v=u.radius;g.beginPath(),g.arc(v-u.originX*(2*v),v-u.originY*(2*v),v,y(u._startAngle),y(u._endAngle),u.anticlockwise),u.closePath&&g.closePath(),u.isFilled&&(T(g,u),g.fill()),u.isStroked&&(m(g,u),g.stroke()),g.restore()}}},42563:(C,k,a)=>{var y=a(23629),T=a(39429);T.register("arc",function(m,f,h,c,u,p,d,g){return this.displayList.add(new y(this.scene,m,f,h,c,u,p,d,g))}),T.register("circle",function(m,f,h,c,u){return this.displayList.add(new y(this.scene,m,f,h,0,360,!1,c,u))})},13609:(C,k,a)=>{var T,m;a(29747),T=a(41447),m=a(42542),C.exports={renderWebGL:T,renderCanvas:m}},41447:(C,k,a)=>{var y=a(91296),T=a(10441),m=a(34682);C.exports=function(h,c,u,p){u.addToRenderList(c);var d=h.pipelines.set(c.pipeline),g=y(c,u,p),v=d.calcMatrix.copyFrom(g.calc),x=c._displayOriginX,b=c._displayOriginY,_=u.alpha*c.alpha;h.pipelines.preBatch(c),c.isFilled&&T(d,v,c,_,x,b),c.isStroked&&m(d,c,_,x,b),h.pipelines.postBatch(c)}},89:(C,k,a)=>{var y=a(83419),T=a(33141),m=a(94811),f=a(87841),h=a(17803),c=new y({Extends:h,Mixins:[T],initialize:function(p,d,g,v,x,b){void 0===d&&(d=0),void 0===g&&(g=0),h.call(this,p,"Curve",v),this._smoothness=32,this._curveBounds=new f,this.closePath=!1,this.setPosition(d,g),void 0!==x&&this.setFillStyle(x,b),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(u){this._smoothness=u,this.updateData()}},setSmoothness:function(u){return this._smoothness=u,this.updateData()},updateData:function(){var u=this._curveBounds,p=this._smoothness;this.geom.getBounds(u,p),this.setSize(u.width,u.height),this.updateDisplayOrigin();for(var d=[],g=this.geom.getPoints(p),v=0;v<g.length;v++)d.push(g[v].x,g[v].y);return d.push(g[0].x,g[0].y),this.pathIndexes=m(d),this.pathData=d,this}});C.exports=c},3170:(C,k,a)=>{var y=a(65960),T=a(75177),m=a(20926);C.exports=function(h,c,u,p){u.addToRenderList(c);var d=h.currentContext;if(m(h,d,c,u,p)){var g=c._displayOriginX+c._curveBounds.x,v=c._displayOriginY+c._curveBounds.y,x=c.pathData,b=x.length-1,_=x[0]-g,E=x[1]-v;d.beginPath(),d.moveTo(_,E),c.closePath||(b-=2);for(var A=2;A<b;A+=2)d.lineTo(x[A]-g,x[A+1]-v);c.closePath&&d.closePath(),c.isFilled&&(y(d,c),d.fill()),c.isStroked&&(T(d,c),d.stroke()),d.restore()}}},40511:(C,k,a)=>{var y=a(39429),T=a(89);y.register("curve",function(m,f,h,c,u){return this.displayList.add(new T(this.scene,m,f,h,c,u))})},33141:(C,k,a)=>{var T,m;a(29747),T=a(53987),m=a(3170),C.exports={renderWebGL:T,renderCanvas:m}},53987:(C,k,a)=>{var y=a(10441),T=a(91296),m=a(34682);C.exports=function(h,c,u,p){u.addToRenderList(c);var d=h.pipelines.set(c.pipeline),g=T(c,u,p),v=d.calcMatrix.copyFrom(g.calc),x=c._displayOriginX+c._curveBounds.x,b=c._displayOriginY+c._curveBounds.y,_=u.alpha*c.alpha;h.pipelines.preBatch(c),c.isFilled&&y(d,v,c,_,x,b),c.isStroked&&m(d,c,_,x,b),h.pipelines.postBatch(c)}},19921:(C,k,a)=>{var y=a(83419),T=a(94811),m=a(54205),f=a(8497),h=a(17803),c=new y({Extends:h,Mixins:[m],initialize:function(p,d,g,v,x,b,_){void 0===d&&(d=0),void 0===g&&(g=0),void 0===v&&(v=128),void 0===x&&(x=128),h.call(this,p,"Ellipse",new f(v/2,x/2,v,x)),this._smoothness=64,this.setPosition(d,g),this.width=v,this.height=x,void 0!==b&&this.setFillStyle(b,_),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(u){this._smoothness=u,this.updateData()}},setSize:function(u,p){return this.width=u,this.height=p,this.geom.setPosition(u/2,p/2),this.geom.setSize(u,p),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(u){return this._smoothness=u,this.updateData()},updateData:function(){for(var u=[],p=this.geom.getPoints(this._smoothness),d=0;d<p.length;d++)u.push(p[d].x,p[d].y);return u.push(p[0].x,p[0].y),this.pathIndexes=T(u),this.pathData=u,this}});C.exports=c},7930:(C,k,a)=>{var y=a(65960),T=a(75177),m=a(20926);C.exports=function(h,c,u,p){u.addToRenderList(c);var d=h.currentContext;if(m(h,d,c,u,p)){var g=c._displayOriginX,v=c._displayOriginY,x=c.pathData,b=x.length-1,_=x[0]-g,E=x[1]-v;d.beginPath(),d.moveTo(_,E),c.closePath||(b-=2);for(var A=2;A<b;A+=2)d.lineTo(x[A]-g,x[A+1]-v);d.closePath(),c.isFilled&&(y(d,c),d.fill()),c.isStroked&&(T(d,c),d.stroke()),d.restore()}}},1543:(C,k,a)=>{var y=a(19921);a(39429).register("ellipse",function(m,f,h,c,u,p){return this.displayList.add(new y(this.scene,m,f,h,c,u,p))})},54205:(C,k,a)=>{var T,m;a(29747),T=a(19467),m=a(7930),C.exports={renderWebGL:T,renderCanvas:m}},19467:(C,k,a)=>{var y=a(10441),T=a(91296),m=a(34682);C.exports=function(h,c,u,p){u.addToRenderList(c);var d=h.pipelines.set(c.pipeline),g=T(c,u,p),v=d.calcMatrix.copyFrom(g.calc),x=c._displayOriginX,b=c._displayOriginY,_=u.alpha*c.alpha;h.pipelines.preBatch(c),c.isFilled&&y(d,v,c,_,x,b),c.isStroked&&m(d,c,_,x,b),h.pipelines.postBatch(c)}},30479:(C,k,a)=>{var y=a(83419),T=a(17803),m=a(26015),f=new y({Extends:T,Mixins:[m],initialize:function(c,u,p,d,g,v,x,b,_,E,A){void 0===u&&(u=0),void 0===p&&(p=0),void 0===d&&(d=128),void 0===g&&(g=128),void 0===v&&(v=32),void 0===x&&(x=32),T.call(this,c,"Grid",null),this.cellWidth=v,this.cellHeight=x,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.setPosition(u,p),this.setSize(d,g),this.setFillStyle(b,_),void 0!==E&&this.setOutlineStyle(E,A),this.updateDisplayOrigin()},setFillStyle:function(h,c){return void 0===c&&(c=1),void 0===h?this.showCells=!1:(this.fillColor=h,this.fillAlpha=c,this.showCells=!0),this},setAltFillStyle:function(h,c){return void 0===c&&(c=1),void 0===h?this.showAltCells=!1:(this.altFillColor=h,this.altFillAlpha=c,this.showAltCells=!0),this},setOutlineStyle:function(h,c){return void 0===c&&(c=1),void 0===h?this.showOutline=!1:(this.outlineFillColor=h,this.outlineFillAlpha=c,this.showOutline=!0),this}});C.exports=f},49912:(C,k,a)=>{var y=a(65960),T=a(75177),m=a(20926);C.exports=function(h,c,u,p){u.addToRenderList(c);var d=h.currentContext;if(m(h,d,c,u,p)){var g=-c._displayOriginX,v=-c._displayOriginY,x=u.alpha*c.alpha,b=c.width,_=c.height,E=c.cellWidth,A=c.cellHeight,D=Math.ceil(b/E),I=Math.ceil(_/A),R=E,F=A,L=E-(D*E-b),V=A-(I*A-_),G=c.showAltCells,Q=c.showOutline,H=0,K=0,tt=0;if(Q&&(R--,F--,L===E&&L--,V===A&&V--),c.showCells&&c.fillAlpha>0)for(y(d,c),K=0;K<I;K++)for(G&&(tt=K%2),H=0;H<D;H++)G&&tt?tt=0:(tt++,d.fillRect(g+H*E,v+K*A,H<D-1?R:L,K<I-1?F:V));if(G&&c.altFillAlpha>0)for(y(d,c,c.altFillColor,c.altFillAlpha*x),K=0;K<I;K++)for(G&&(tt=K%2),H=0;H<D;H++)!G||tt?(tt=0,d.fillRect(g+H*E,v+K*A,H<D-1?R:L,K<I-1?F:V)):tt=1;if(Q&&c.outlineFillAlpha>0){for(T(d,c,c.outlineFillColor,c.outlineFillAlpha*x),H=1;H<D;H++){var J=H*E;d.beginPath(),d.moveTo(J+g,v),d.lineTo(J+g,_+v),d.stroke()}for(K=1;K<I;K++){var it=K*A;d.beginPath(),d.moveTo(g,it+v),d.lineTo(g+b,it+v),d.stroke()}}d.restore()}}},34137:(C,k,a)=>{var y=a(39429),T=a(30479);y.register("grid",function(m,f,h,c,u,p,d,g,v,x){return this.displayList.add(new T(this.scene,m,f,h,c,u,p,d,g,v,x))})},26015:(C,k,a)=>{var T,m;a(29747),T=a(46161),m=a(49912),C.exports={renderWebGL:T,renderCanvas:m}},46161:(C,k,a)=>{var y=a(91296),T=a(70554);C.exports=function(f,h,c,u){c.addToRenderList(h);var p=f.pipelines.set(h.pipeline),d=y(h,c,u);p.calcMatrix.copyFrom(d.calc).translate(-h._displayOriginX,-h._displayOriginY);var V,B,v=c.alpha*h.alpha,x=h.width,b=h.height,_=h.cellWidth,E=h.cellHeight,A=Math.ceil(x/_),D=Math.ceil(b/E),I=_,R=E,F=_-(A*_-x),L=E-(D*E-b),G=h.showCells,Q=h.showAltCells,H=h.showOutline,K=0,tt=0,at=0;if(H&&(I--,R--,F===_&&F--,L===E&&L--),f.pipelines.preBatch(h),G&&h.fillAlpha>0)for(V=p.fillTint,B=T.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*v),V.TL=B,V.TR=B,V.BL=B,V.BR=B,tt=0;tt<D;tt++)for(Q&&(at=tt%2),K=0;K<A;K++)Q&&at?at=0:(at++,p.batchFillRect(K*_,tt*E,K<A-1?I:F,tt<D-1?R:L));if(Q&&h.altFillAlpha>0)for(V=p.fillTint,B=T.getTintAppendFloatAlpha(h.altFillColor,h.altFillAlpha*v),V.TL=B,V.TR=B,V.BL=B,V.BR=B,tt=0;tt<D;tt++)for(Q&&(at=tt%2),K=0;K<A;K++)!Q||at?(at=0,p.batchFillRect(K*_,tt*E,K<A-1?I:F,tt<D-1?R:L)):at=1;if(H&&h.outlineFillAlpha>0){var it=p.strokeTint,Y=T.getTintAppendFloatAlpha(h.outlineFillColor,h.outlineFillAlpha*v);for(it.TL=Y,it.TR=Y,it.BL=Y,it.BR=Y,K=1;K<A;K++){var X=K*_;p.batchLine(X,0,X,b,1,1,1,0,!1)}for(tt=1;tt<D;tt++){var nt=tt*E;p.batchLine(0,nt,x,nt,1,1,1,0,!1)}}f.pipelines.postBatch(h)}},61475:(C,k,a)=>{var y=a(99651),T=a(83419),m=a(17803),f=new T({Extends:m,Mixins:[y],initialize:function(c,u,p,d,g,v,x,b){void 0===u&&(u=0),void 0===p&&(p=0),void 0===d&&(d=48),void 0===g&&(g=32),void 0===v&&(v=15658734),void 0===x&&(x=10066329),void 0===b&&(b=13421772),m.call(this,c,"IsoBox",null),this.projection=4,this.fillTop=v,this.fillLeft=x,this.fillRight=b,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(u,p),this.setSize(d,g),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setFaces:function(h,c,u){return void 0===h&&(h=!0),void 0===c&&(c=!0),void 0===u&&(u=!0),this.showTop=h,this.showLeft=c,this.showRight=u,this},setFillStyle:function(h,c,u){return this.fillTop=h,this.fillLeft=c,this.fillRight=u,this.isFilled=!0,this}});C.exports=f},11508:(C,k,a)=>{var y=a(65960),T=a(20926);C.exports=function(f,h,c,u){c.addToRenderList(h);var p=f.currentContext;if(T(f,p,h,c,u)&&h.isFilled){var d=h.width,g=h.height,v=d/2,x=d/h.projection;h.showTop&&(y(p,h,h.fillTop),p.beginPath(),p.moveTo(-v,-g),p.lineTo(0,-x-g),p.lineTo(v,-g),p.lineTo(v,-1),p.lineTo(0,x-1),p.lineTo(-v,-1),p.lineTo(-v,-g),p.fill()),h.showLeft&&(y(p,h,h.fillLeft),p.beginPath(),p.moveTo(-v,0),p.lineTo(0,x),p.lineTo(0,x-g),p.lineTo(-v,-g),p.lineTo(-v,0),p.fill()),h.showRight&&(y(p,h,h.fillRight),p.beginPath(),p.moveTo(v,0),p.lineTo(0,x),p.lineTo(0,x-g),p.lineTo(v,-g),p.lineTo(v,0),p.fill()),p.restore()}}},3933:(C,k,a)=>{var y=a(39429),T=a(61475);y.register("isobox",function(m,f,h,c,u,p,d){return this.displayList.add(new T(this.scene,m,f,h,c,u,p,d))})},99651:(C,k,a)=>{var T,m;a(29747),T=a(68149),m=a(11508),C.exports={renderWebGL:T,renderCanvas:m}},68149:(C,k,a)=>{var y=a(91296),T=a(70554);C.exports=function(f,h,c,u){c.addToRenderList(h);var A,D,I,R,F,L,V,B,G,p=f.pipelines.set(h.pipeline),d=y(h,c,u),g=p.calcMatrix.copyFrom(d.calc),v=h.width,x=h.height,b=v/2,_=v/h.projection,E=c.alpha*h.alpha;h.isFilled&&(f.pipelines.preBatch(h),h.showTop&&(A=T.getTintAppendFloatAlpha(h.fillTop,E),D=g.getX(-b,-x),I=g.getY(-b,-x),R=g.getX(0,-_-x),F=g.getY(0,-_-x),L=g.getX(b,-x),V=g.getY(b,-x),B=g.getX(0,_-x),G=g.getY(0,_-x),p.batchQuad(h,D,I,R,F,L,V,B,G,0,0,1,1,A,A,A,A,2)),h.showLeft&&(A=T.getTintAppendFloatAlpha(h.fillLeft,E),D=g.getX(-b,0),I=g.getY(-b,0),R=g.getX(0,_),F=g.getY(0,_),L=g.getX(0,_-x),V=g.getY(0,_-x),B=g.getX(-b,-x),G=g.getY(-b,-x),p.batchQuad(h,D,I,R,F,L,V,B,G,0,0,1,1,A,A,A,A,2)),h.showRight&&(A=T.getTintAppendFloatAlpha(h.fillRight,E),D=g.getX(b,0),I=g.getY(b,0),R=g.getX(0,_),F=g.getY(0,_),L=g.getX(0,_-x),V=g.getY(0,_-x),B=g.getX(b,-x),G=g.getY(b,-x),p.batchQuad(h,D,I,R,F,L,V,B,G,0,0,1,1,A,A,A,A,2)),f.pipelines.postBatch(h))}},16933:(C,k,a)=>{var y=a(83419),T=a(60561),m=a(17803),f=new y({Extends:m,Mixins:[T],initialize:function(c,u,p,d,g,v,x,b,_){void 0===u&&(u=0),void 0===p&&(p=0),void 0===d&&(d=48),void 0===g&&(g=32),void 0===v&&(v=!1),void 0===x&&(x=15658734),void 0===b&&(b=10066329),void 0===_&&(_=13421772),m.call(this,c,"IsoTriangle",null),this.projection=4,this.fillTop=x,this.fillLeft=b,this.fillRight=_,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=v,this.isFilled=!0,this.setPosition(u,p),this.setSize(d,g),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setReversed:function(h){return this.isReversed=h,this},setFaces:function(h,c,u){return void 0===h&&(h=!0),void 0===c&&(c=!0),void 0===u&&(u=!0),this.showTop=h,this.showLeft=c,this.showRight=u,this},setFillStyle:function(h,c,u){return this.fillTop=h,this.fillLeft=c,this.fillRight=u,this.isFilled=!0,this}});C.exports=f},79590:(C,k,a)=>{var y=a(65960),T=a(20926);C.exports=function(f,h,c,u){c.addToRenderList(h);var p=f.currentContext;if(T(f,p,h,c,u)&&h.isFilled){var d=h.width,g=h.height,v=d/2,x=d/h.projection,b=h.isReversed;h.showTop&&b&&(y(p,h,h.fillTop),p.beginPath(),p.moveTo(-v,-g),p.lineTo(0,-x-g),p.lineTo(v,-g),p.lineTo(0,x-g),p.fill()),h.showLeft&&(y(p,h,h.fillLeft),p.beginPath(),b?(p.moveTo(-v,-g),p.lineTo(0,x),p.lineTo(0,x-g)):(p.moveTo(-v,0),p.lineTo(0,x),p.lineTo(0,x-g)),p.fill()),h.showRight&&(y(p,h,h.fillRight),p.beginPath(),b?(p.moveTo(v,-g),p.lineTo(0,x),p.lineTo(0,x-g)):(p.moveTo(v,0),p.lineTo(0,x),p.lineTo(0,x-g)),p.fill()),p.restore()}}},49803:(C,k,a)=>{var y=a(39429),T=a(16933);y.register("isotriangle",function(m,f,h,c,u,p,d,g){return this.displayList.add(new T(this.scene,m,f,h,c,u,p,d,g))})},60561:(C,k,a)=>{var T,m;a(29747),T=a(51503),m=a(79590),C.exports={renderWebGL:T,renderCanvas:m}},51503:(C,k,a)=>{var y=a(91296),T=a(70554);C.exports=function(f,h,c,u){c.addToRenderList(h);var p=f.pipelines.set(h.pipeline),d=y(h,c,u),g=p.calcMatrix.copyFrom(d.calc),v=h.width,x=h.height,b=v/2,_=v/h.projection,E=h.isReversed,A=c.alpha*h.alpha;if(h.isFilled){var D,I,R,F,L,V,B;if(f.pipelines.preBatch(h),h.showTop&&E){D=T.getTintAppendFloatAlpha(h.fillTop,A),I=g.getX(-b,-x),R=g.getY(-b,-x),F=g.getX(0,-_-x),L=g.getY(0,-_-x),V=g.getX(b,-x),B=g.getY(b,-x);var G=g.getX(0,_-x),Q=g.getY(0,_-x);p.batchQuad(h,I,R,F,L,V,B,G,Q,0,0,1,1,D,D,D,D,2)}h.showLeft&&(D=T.getTintAppendFloatAlpha(h.fillLeft,A),E?(I=g.getX(-b,-x),R=g.getY(-b,-x),F=g.getX(0,_),L=g.getY(0,_),V=g.getX(0,_-x),B=g.getY(0,_-x)):(I=g.getX(-b,0),R=g.getY(-b,0),F=g.getX(0,_),L=g.getY(0,_),V=g.getX(0,_-x),B=g.getY(0,_-x)),p.batchTri(h,I,R,F,L,V,B,0,0,1,1,D,D,D,2)),h.showRight&&(D=T.getTintAppendFloatAlpha(h.fillRight,A),E?(I=g.getX(b,-x),R=g.getY(b,-x),F=g.getX(0,_),L=g.getY(0,_),V=g.getX(0,_-x),B=g.getY(0,_-x)):(I=g.getX(b,0),R=g.getY(b,0),F=g.getX(0,_),L=g.getY(0,_),V=g.getX(0,_-x),B=g.getY(0,_-x)),p.batchTri(h,I,R,F,L,V,B,0,0,1,1,D,D,D,2)),f.pipelines.postBatch(h)}}},57847:(C,k,a)=>{var y=a(83419),T=a(17803),m=a(23031),f=a(36823),h=new y({Extends:T,Mixins:[f],initialize:function(u,p,d,g,v,x,b,_,E){void 0===p&&(p=0),void 0===d&&(d=0),void 0===g&&(g=0),void 0===v&&(v=0),void 0===x&&(x=128),void 0===b&&(b=0),T.call(this,u,"Line",new m(g,v,x,b));var A=Math.max(1,this.geom.right-this.geom.left),D=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(p,d),this.setSize(A,D),void 0!==_&&this.setStrokeStyle(1,_,E),this.updateDisplayOrigin()},setLineWidth:function(c,u){return void 0===u&&(u=c),this._startWidth=c,this._endWidth=u,this.lineWidth=c,this},setTo:function(c,u,p,d){return this.geom.setTo(c,u,p,d),this}});C.exports=h},17440:(C,k,a)=>{var y=a(75177),T=a(20926);C.exports=function(f,h,c,u){c.addToRenderList(h);var p=f.currentContext;if(T(f,p,h,c,u)){var d=h._displayOriginX,g=h._displayOriginY;h.isStroked&&(y(p,h),p.beginPath(),p.moveTo(h.geom.x1-d,h.geom.y1-g),p.lineTo(h.geom.x2-d,h.geom.y2-g),p.stroke()),p.restore()}}},2481:(C,k,a)=>{var y=a(39429),T=a(57847);y.register("line",function(m,f,h,c,u,p,d,g){return this.displayList.add(new T(this.scene,m,f,h,c,u,p,d,g))})},36823:(C,k,a)=>{var T,m;a(29747),T=a(77385),m=a(17440),C.exports={renderWebGL:T,renderCanvas:m}},77385:(C,k,a)=>{var y=a(91296),T=a(70554);C.exports=function(f,h,c,u){c.addToRenderList(h);var p=f.pipelines.set(h.pipeline),d=y(h,c,u);p.calcMatrix.copyFrom(d.calc);var g=h._displayOriginX,v=h._displayOriginY,x=c.alpha*h.alpha;if(f.pipelines.preBatch(h),h.isStroked){var b=p.strokeTint,_=T.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*x);b.TL=_,b.TR=_,b.BL=_,b.BR=_,p.batchLine(h.geom.x1-g,h.geom.y1-v,h.geom.x2-g,h.geom.y2-v,h._startWidth/2,h._endWidth/2,1,0,!1,d.sprite,d.camera)}f.pipelines.postBatch(h)}},24949:(C,k,a)=>{var y=a(90273),T=a(83419),m=a(94811),f=a(13829),h=a(25717),c=a(17803),u=a(5469),p=new T({Extends:c,Mixins:[y],initialize:function(g,v,x,b,_,E){void 0===v&&(v=0),void 0===x&&(x=0),c.call(this,g,"Polygon",new h(b));var A=f(this.geom);this.setPosition(v,x),this.setSize(A.width,A.height),void 0!==_&&this.setFillStyle(_,E),this.updateDisplayOrigin(),this.updateData()},smooth:function(d){void 0===d&&(d=1);for(var g=0;g<d;g++)u(this.geom);return this.updateData()},setTo:function(d){this.geom.setTo(d);var g=f(this.geom);return this.setSize(g.width,g.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var d=[],g=this.geom.points,v=0;v<g.length;v++)d.push(g[v].x,g[v].y);return d.push(g[0].x,g[0].y),this.pathIndexes=m(d),this.pathData=d,this}});C.exports=p},38710:(C,k,a)=>{var y=a(65960),T=a(75177),m=a(20926);C.exports=function(h,c,u,p){u.addToRenderList(c);var d=h.currentContext;if(m(h,d,c,u,p)){var g=c._displayOriginX,v=c._displayOriginY,x=c.pathData,b=x.length-1,_=x[0]-g,E=x[1]-v;d.beginPath(),d.moveTo(_,E),c.closePath||(b-=2);for(var A=2;A<b;A+=2)d.lineTo(x[A]-g,x[A+1]-v);c.closePath&&d.closePath(),c.isFilled&&(y(d,c),d.fill()),c.isStroked&&(T(d,c),d.stroke()),d.restore()}}},64827:(C,k,a)=>{var y=a(39429),T=a(24949);y.register("polygon",function(m,f,h,c,u){return this.displayList.add(new T(this.scene,m,f,h,c,u))})},90273:(C,k,a)=>{var T,m;a(29747),T=a(73695),m=a(38710),C.exports={renderWebGL:T,renderCanvas:m}},73695:(C,k,a)=>{var y=a(10441),T=a(91296),m=a(34682);C.exports=function(h,c,u,p){u.addToRenderList(c);var d=h.pipelines.set(c.pipeline),g=T(c,u,p),v=d.calcMatrix.copyFrom(g.calc),x=c._displayOriginX,b=c._displayOriginY,_=u.alpha*c.alpha;h.pipelines.preBatch(c),c.isFilled&&y(d,v,c,_,x,b),c.isStroked&&m(d,c,_,x,b),h.pipelines.postBatch(c)}},74561:(C,k,a)=>{var y=a(83419),T=a(87841),m=a(17803),f=a(95597),h=new y({Extends:m,Mixins:[f],initialize:function(u,p,d,g,v,x,b){void 0===p&&(p=0),void 0===d&&(d=0),void 0===g&&(g=128),void 0===v&&(v=128),m.call(this,u,"Rectangle",new T(0,0,g,v)),this.setPosition(p,d),this.setSize(g,v),void 0!==x&&this.setFillStyle(x,b),this.updateDisplayOrigin(),this.updateData()},setSize:function(c,u){this.width=c,this.height=u,this.geom.setSize(c,u),this.updateData(),this.updateDisplayOrigin();var p=this.input;return p&&!p.customHitArea&&(p.hitArea.width=c,p.hitArea.height=u),this},updateData:function(){var c=[],u=this.geom,p=this._tempLine;return u.getLineA(p),c.push(p.x1,p.y1,p.x2,p.y2),u.getLineB(p),c.push(p.x2,p.y2),u.getLineC(p),c.push(p.x2,p.y2),u.getLineD(p),c.push(p.x2,p.y2),this.pathData=c,this}});C.exports=h},48682:(C,k,a)=>{var y=a(65960),T=a(75177),m=a(20926);C.exports=function(h,c,u,p){u.addToRenderList(c);var d=h.currentContext;if(m(h,d,c,u,p)){var g=c._displayOriginX,v=c._displayOriginY;c.isFilled&&(y(d,c),d.fillRect(-g,-v,c.width,c.height)),c.isStroked&&(T(d,c),d.beginPath(),d.rect(-g,-v,c.width,c.height),d.stroke()),d.restore()}}},87959:(C,k,a)=>{var y=a(39429),T=a(74561);y.register("rectangle",function(m,f,h,c,u,p){return this.displayList.add(new T(this.scene,m,f,h,c,u,p))})},95597:(C,k,a)=>{var T,m;a(29747),T=a(52059),m=a(48682),C.exports={renderWebGL:T,renderCanvas:m}},52059:(C,k,a)=>{var y=a(91296),T=a(34682),m=a(70554);C.exports=function(h,c,u,p){u.addToRenderList(c);var d=h.pipelines.set(c.pipeline),g=y(c,u,p);d.calcMatrix.copyFrom(g.calc);var v=c._displayOriginX,x=c._displayOriginY,b=u.alpha*c.alpha;if(h.pipelines.preBatch(c),c.isFilled){var _=d.fillTint,E=m.getTintAppendFloatAlpha(c.fillColor,c.fillAlpha*b);_.TL=E,_.TR=E,_.BL=E,_.BR=E,d.batchFillRect(-v,-x,c.width,c.height)}c.isStroked&&T(d,c,b,v,x),h.pipelines.postBatch(c)}},55911:(C,k,a)=>{var y=a(81991),T=a(83419),m=a(94811),f=a(17803),h=new T({Extends:f,Mixins:[y],initialize:function(u,p,d,g,v,x,b,_){void 0===p&&(p=0),void 0===d&&(d=0),void 0===g&&(g=5),void 0===v&&(v=32),void 0===x&&(x=64),f.call(this,u,"Star",null),this._points=g,this._innerRadius=v,this._outerRadius=x,this.setPosition(p,d),this.setSize(2*x,2*x),void 0!==b&&this.setFillStyle(b,_),this.updateDisplayOrigin(),this.updateData()},setPoints:function(c){return this._points=c,this.updateData()},setInnerRadius:function(c){return this._innerRadius=c,this.updateData()},setOuterRadius:function(c){return this._outerRadius=c,this.updateData()},points:{get:function(){return this._points},set:function(c){this._points=c,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(c){this._innerRadius=c,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(c){this._outerRadius=c,this.updateData()}},updateData:function(){var c=[],u=this._points,p=this._innerRadius,d=this._outerRadius,g=Math.PI/2*3,v=Math.PI/u,x=d,b=d;c.push(x,b+-d);for(var _=0;_<u;_++)c.push(x+Math.cos(g)*d,b+Math.sin(g)*d),g+=v,c.push(x+Math.cos(g)*p,b+Math.sin(g)*p),g+=v;return c.push(x,b+-d),this.pathIndexes=m(c),this.pathData=c,this}});C.exports=h},64272:(C,k,a)=>{var y=a(65960),T=a(75177),m=a(20926);C.exports=function(h,c,u,p){u.addToRenderList(c);var d=h.currentContext;if(m(h,d,c,u,p)){var g=c._displayOriginX,v=c._displayOriginY,x=c.pathData,b=x.length-1,_=x[0]-g,E=x[1]-v;d.beginPath(),d.moveTo(_,E),c.closePath||(b-=2);for(var A=2;A<b;A+=2)d.lineTo(x[A]-g,x[A+1]-v);d.closePath(),c.isFilled&&(y(d,c),d.fill()),c.isStroked&&(T(d,c),d.stroke()),d.restore()}}},93697:(C,k,a)=>{var y=a(55911);a(39429).register("star",function(m,f,h,c,u,p,d){return this.displayList.add(new y(this.scene,m,f,h,c,u,p,d))})},81991:(C,k,a)=>{var T,m;a(29747),T=a(57017),m=a(64272),C.exports={renderWebGL:T,renderCanvas:m}},57017:(C,k,a)=>{var y=a(10441),T=a(91296),m=a(34682);C.exports=function(h,c,u,p){u.addToRenderList(c);var d=h.pipelines.set(c.pipeline),g=T(c,u,p),v=d.calcMatrix.copyFrom(g.calc),x=c._displayOriginX,b=c._displayOriginY,_=u.alpha*c.alpha;h.pipelines.preBatch(c),c.isFilled&&y(d,v,c,_,x,b),c.isStroked&&m(d,c,_,x,b),h.pipelines.postBatch(c)}},36931:(C,k,a)=>{var y=a(83419),T=a(17803),m=a(16483),f=a(96195),h=new y({Extends:T,Mixins:[f],initialize:function(u,p,d,g,v,x,b,_,E,A,D){void 0===p&&(p=0),void 0===d&&(d=0),void 0===g&&(g=0),void 0===v&&(v=128),void 0===x&&(x=64),void 0===b&&(b=0),void 0===_&&(_=128),void 0===E&&(E=128),T.call(this,u,"Triangle",new m(g,v,x,b,_,E));var I=this.geom.right-this.geom.left,R=this.geom.bottom-this.geom.top;this.setPosition(p,d),this.setSize(I,R),void 0!==A&&this.setFillStyle(A,D),this.updateDisplayOrigin(),this.updateData()},setTo:function(c,u,p,d,g,v){return this.geom.setTo(c,u,p,d,g,v),this.updateData()},updateData:function(){var c=[],u=this.geom,p=this._tempLine;return u.getLineA(p),c.push(p.x1,p.y1,p.x2,p.y2),u.getLineB(p),c.push(p.x2,p.y2),u.getLineC(p),c.push(p.x2,p.y2),this.pathData=c,this}});C.exports=h},85172:(C,k,a)=>{var y=a(65960),T=a(75177),m=a(20926);C.exports=function(h,c,u,p){u.addToRenderList(c);var d=h.currentContext;if(m(h,d,c,u,p)){var g=c._displayOriginX,v=c._displayOriginY,x=c.geom.x1-g,b=c.geom.y1-v,_=c.geom.x2-g,E=c.geom.y2-v,A=c.geom.x3-g,D=c.geom.y3-v;d.beginPath(),d.moveTo(x,b),d.lineTo(_,E),d.lineTo(A,D),d.closePath(),c.isFilled&&(y(d,c),d.fill()),c.isStroked&&(T(d,c),d.stroke()),d.restore()}}},45245:(C,k,a)=>{var y=a(39429),T=a(36931);y.register("triangle",function(m,f,h,c,u,p,d,g,v,x){return this.displayList.add(new T(this.scene,m,f,h,c,u,p,d,g,v,x))})},96195:(C,k,a)=>{var T,m;a(29747),T=a(83253),m=a(85172),C.exports={renderWebGL:T,renderCanvas:m}},83253:(C,k,a)=>{var y=a(91296),T=a(34682),m=a(70554);C.exports=function(h,c,u,p){u.addToRenderList(c);var d=h.pipelines.set(c.pipeline),g=y(c,u,p);d.calcMatrix.copyFrom(g.calc);var v=c._displayOriginX,x=c._displayOriginY,b=u.alpha*c.alpha;if(h.pipelines.preBatch(c),c.isFilled){var _=d.fillTint,E=m.getTintAppendFloatAlpha(c.fillColor,c.fillAlpha*b);_.TL=E,_.TR=E,_.BL=E,_.BR=E,d.batchFillTriangle(c.geom.x1-v,c.geom.y1-x,c.geom.x2-v,c.geom.y2-x,c.geom.x3-v,c.geom.y3-x,g.sprite,g.camera)}c.isStroked&&T(d,c,b,v,x),h.pipelines.postBatch(c)}},68287:(C,k,a)=>{var y=a(9674),T=a(83419),m=a(31401),f=a(95643),h=a(92751),c=new T({Extends:f,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.TextureCrop,m.Tint,m.Transform,m.Visible,h],initialize:function(p,d,g,v,x){f.call(this,p,"Sprite"),this._crop=this.resetCropObject(),this.anims=new y(this),this.setTexture(v,x),this.setPosition(d,g),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(u,p){this.anims.update(u,p)},play:function(u,p){return this.anims.play(u,p)},playReverse:function(u,p){return this.anims.playReverse(u,p)},playAfterDelay:function(u,p){return this.anims.playAfterDelay(u,p)},playAfterRepeat:function(u,p){return this.anims.playAfterRepeat(u,p)},chain:function(u){return this.anims.chain(u)},stop:function(){return this.anims.stop()},stopAfterDelay:function(u){return this.anims.stopAfterDelay(u)},stopAfterRepeat:function(u){return this.anims.stopAfterRepeat(u)},stopOnFrame:function(u){return this.anims.stopOnFrame(u)},toJSON:function(){return m.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});C.exports=c},76552:C=>{C.exports=function(a,y,T,m){T.addToRenderList(y),a.batchSprite(y,y.frame,T,m)}},15567:(C,k,a)=>{var y=a(25305),T=a(13059),m=a(44603),f=a(23568),h=a(68287);m.register("sprite",function(c,u){void 0===c&&(c={});var p=f(c,"key",null),d=f(c,"frame",null),g=new h(this.scene,0,0,p,d);return void 0!==u&&(c.add=u),y(this.scene,g,c),T(g,c),g})},46409:(C,k,a)=>{var y=a(39429),T=a(68287);y.register("sprite",function(m,f,h,c){return this.displayList.add(new T(this.scene,m,f,h,c))})},92751:(C,k,a)=>{var T,m;a(29747),T=a(9409),m=a(76552),C.exports={renderWebGL:T,renderCanvas:m}},9409:C=>{C.exports=function(a,y,T,m){T.addToRenderList(y),y.pipeline.batchSprite(y,T,m)}},14220:C=>{C.exports=function(a,y,T){var f=a.context,h=a.style,c=[],u=0,p=T.length;h.maxLines>0&&h.maxLines<T.length&&(p=h.maxLines),h.syncFont(a.canvas,f);for(var d=a.letterSpacing,g=0;g<p;g++){var v=h.strokeThickness;if(0===d)v+=f.measureText(T[g]).width;else{for(var x=T[g],b=0;b<x.length;b++)v+=f.measureText(x[b]).width;x.length>1&&(v+=d*(x.length-1))}h.wordWrap&&(v-=f.measureText(" ").width),c[g]=Math.ceil(v),u=Math.max(u,c[g])}var _=y.fontSize+h.strokeThickness,E=_*p,A=a.lineSpacing;return p>1&&(E+=A*(p-1)),{width:u,height:E,lines:p,lineWidths:c,lineSpacing:A,lineHeight:_}}},79557:(C,k,a)=>{var y=a(27919);C.exports=function(m){var f=y.create(this),h=f.getContext("2d",{willReadFrequently:!0});m.syncFont(f,h);var c=h.measureText(m.testString);if("actualBoundingBoxAscent"in c){var u=c.actualBoundingBoxAscent,p=c.actualBoundingBoxDescent;return y.remove(f),{ascent:u,descent:p,fontSize:u+p}}var d=Math.ceil(c.width*m.baselineX),g=d,v=2*g;g=g*m.baselineY|0,f.width=d,f.height=v,h.fillStyle="#f00",h.fillRect(0,0,d,v),h.font=m._font,h.textBaseline="alphabetic",h.fillStyle="#000",h.fillText(m.testString,0,g);var x={ascent:0,descent:0,fontSize:0},b=h.getImageData(0,0,d,v);if(!b)return x.ascent=g,x.descent=g+6,x.fontSize=x.ascent+x.descent,y.remove(f),x;var D,I,_=b.data,E=_.length,A=4*d,R=0,F=!1;for(D=0;D<g;D++){for(I=0;I<A;I+=4)if(255!==_[R+I]){F=!0;break}if(F)break;R+=A}for(x.ascent=g-D,R=E-A,F=!1,D=v;D>g;D--){for(I=0;I<A;I+=4)if(255!==_[R+I]){F=!0;break}if(F)break;R-=A}return x.descent=D-g,x.fontSize=x.ascent+x.descent,y.remove(f),x}},50171:(C,k,a)=>{var y=a(40366),T=a(27919),m=a(83419),f=a(31401),h=a(95643),c=a(14220),u=a(35154),p=a(35846),d=a(61771),g=a(35762),v=a(45650),x=new m({Extends:h,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Crop,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Tint,f.Transform,f.Visible,d],initialize:function(_,E,A,D,I){void 0===E&&(E=0),void 0===A&&(A=0),h.call(this,_,"Text"),this.renderer=_.sys.renderer,this.setPosition(E,A),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=T.create(this),this.style=new g(this,I),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,0===this.style.resolution&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=v(),this.texture=_.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(D),I&&I.padding&&this.setPadding(I.padding),I&&I.lineSpacing&&this.setLineSpacing(I.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",y(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(b){var _=this.style;if(_.wordWrapCallback){var E=_.wordWrapCallback.call(_.wordWrapCallbackScope,b,this);return Array.isArray(E)&&(E=E.join("\n")),E}return _.wordWrapWidth?_.wordWrapUseAdvanced?this.advancedWordWrap(b,this.context,this.style.wordWrapWidth):this.basicWordWrap(b,this.context,this.style.wordWrapWidth):b},advancedWordWrap:function(b,_,E){for(var A="",D=b.replace(/ +/gi," ").split(this.splitRegExp),I=D.length,R=0;R<I;R++){var F=D[R],L="";if(F=F.replace(/^ *|\s*$/gi,""),_.measureText(F).width<E)A+=F+"\n";else{for(var B=E,G=F.split(" "),Q=0;Q<G.length;Q++){var H=G[Q],K=H+" ",tt=_.measureText(K).width;if(tt>B){if(0===Q){for(var at=K;at.length&&(at=at.slice(0,-1),!((tt=_.measureText(at).width)<=B)););if(!at.length)throw new Error("wordWrapWidth < a single character");var lt=H.substr(at.length);G[Q]=lt,L+=at}var it=G.slice(G[Q].length?Q:Q+1).join(" ").replace(/[ \n]*$/gi,"");D.splice(R+1,0,it),I=D.length;break}L+=K,B-=tt}A+=L.replace(/[ \n]*$/gi,"")+"\n"}}return A.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(b,_,E){for(var A="",D=b.split(this.splitRegExp),I=D.length-1,R=_.measureText(" ").width,F=0;F<=I;F++){for(var L=E,V=D[F].split(" "),B=V.length-1,G=0;G<=B;G++){var Q=V[G],H=_.measureText(Q).width,K=H;G<B&&(K+=R),K>L&&G>0&&(A+="\n",L=E),A+=Q,G<B?(A+=" ",L-=K):L-=H}F<I&&(A+="\n")}return A},getWrappedText:function(b){return void 0===b&&(b=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(b).split(this.splitRegExp)},setText:function(b){return!b&&0!==b&&(b=""),Array.isArray(b)&&(b=b.join("\n")),b!==this._text&&(this._text=b.toString(),this.updateText()),this},appendText:function(b,_){void 0===_&&(_=!0),!b&&0!==b&&(b=""),Array.isArray(b)&&(b=b.join("\n")),b=b.toString();var E=this._text.concat(_?"\n"+b:b);return E!==this._text&&(this._text=E,this.updateText()),this},setStyle:function(b){return this.style.setStyle(b)},setFont:function(b){return this.style.setFont(b)},setFontFamily:function(b){return this.style.setFontFamily(b)},setFontSize:function(b){return this.style.setFontSize(b)},setFontStyle:function(b){return this.style.setFontStyle(b)},setFixedSize:function(b,_){return this.style.setFixedSize(b,_)},setBackgroundColor:function(b){return this.style.setBackgroundColor(b)},setFill:function(b){return this.style.setFill(b)},setColor:function(b){return this.style.setColor(b)},setStroke:function(b,_){return this.style.setStroke(b,_)},setShadow:function(b,_,E,A,D,I){return this.style.setShadow(b,_,E,A,D,I)},setShadowOffset:function(b,_){return this.style.setShadowOffset(b,_)},setShadowColor:function(b){return this.style.setShadowColor(b)},setShadowBlur:function(b){return this.style.setShadowBlur(b)},setShadowStroke:function(b){return this.style.setShadowStroke(b)},setShadowFill:function(b){return this.style.setShadowFill(b)},setWordWrapWidth:function(b,_){return this.style.setWordWrapWidth(b,_)},setWordWrapCallback:function(b,_){return this.style.setWordWrapCallback(b,_)},setAlign:function(b){return this.style.setAlign(b)},setResolution:function(b){return this.style.setResolution(b)},setLineSpacing:function(b){return this.lineSpacing=b,this.updateText()},setLetterSpacing:function(b){return this.letterSpacing=b,this.updateText()},setPadding:function(b,_,E,A){if("object"==typeof b){var D=b,I=u(D,"x",null);null!==I?(b=I,E=I):(b=u(D,"left",0),E=u(D,"right",b));var R=u(D,"y",null);null!==R?(_=R,A=R):(_=u(D,"top",0),A=u(D,"bottom",_))}else void 0===b&&(b=0),void 0===_&&(_=b),void 0===E&&(E=b),void 0===A&&(A=_);return this.padding.left=b,this.padding.top=_,this.padding.right=E,this.padding.bottom=A,this.updateText()},setMaxLines:function(b){return this.style.setMaxLines(b)},setRTL:function(b){void 0===b&&(b=!0);var _=this.style;return _.rtl===b||(_.rtl=b,b?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",y(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),"left"===_.align?_.align="right":"right"===_.align&&(_.align="left")),this},updateText:function(){var b=this.canvas,_=this.context,E=this.style,A=E.resolution,D=E.metrics;E.syncFont(b,_);var I=this._text;(E.wordWrapWidth||E.wordWrapCallback)&&(I=this.runWordWrap(this._text));var V,R=I.split(this.splitRegExp),F=c(this,D,R),L=this.padding;0===E.fixedWidth?(this.width=F.width+L.left+L.right,V=F.width):(this.width=E.fixedWidth,(V=this.width-L.left-L.right)<F.width&&(V=F.width)),this.height=0===E.fixedHeight?F.height+L.top+L.bottom:E.fixedHeight;var B=this.width,G=this.height;this.updateDisplayOrigin(),B*=A,G*=A,B=Math.max(B,1),G=Math.max(G,1),b.width!==B||b.height!==G?(b.width=B,b.height=G,this.frame.setSize(B,G),E.syncFont(b,_),E.rtl&&(_.direction="rtl")):_.clearRect(0,0,B,G),_.save(),_.scale(A,A),E.backgroundColor&&(_.fillStyle=E.backgroundColor,_.fillRect(0,0,B,G)),E.syncStyle(b,_),_.translate(L.left,L.top);for(var Q,H,K=0;K<F.lines;K++){if(Q=E.strokeThickness/2,H=E.strokeThickness/2+K*F.lineHeight+D.ascent,K>0&&(H+=F.lineSpacing*K),E.rtl)Q=B-Q-L.left-L.right;else if("right"===E.align)Q+=V-F.lineWidths[K];else if("center"===E.align)Q+=(V-F.lineWidths[K])/2;else if("justify"===E.align&&F.lineWidths[K]/F.width>=.85){for(var at=F.width-F.lineWidths[K],lt=_.measureText(" ").width,J=R[K].trim(),it=J.split(" "),Y=Math.floor((at+=(R[K].length-J.length)*lt)/lt),X=0;Y>0;)it[X]+=" ",X=(X+1)%(it.length-1||1),--Y;R[K]=it.join(" ")}this.autoRound&&(Q=Math.round(Q),H=Math.round(H));var nt=this.letterSpacing;if(E.strokeThickness&&0===nt&&(E.syncShadow(_,E.shadowStroke),_.strokeText(R[K],Q,H)),E.color)if(E.syncShadow(_,E.shadowFill),0!==nt)for(var ht=0,gt=R[K].split(""),wt=0;wt<gt.length;wt++)E.strokeThickness&&(E.syncShadow(_,E.shadowStroke),_.strokeText(gt[wt],Q+ht,H),E.syncShadow(_,E.shadowFill)),_.fillText(gt[wt],Q+ht,H),ht+=_.measureText(gt[wt]).width+nt;else _.fillText(R[K],Q,H)}_.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(b,this.frame.source.glTexture,!0));var St=this.input;return St&&!St.customHitArea&&(St.hitArea.width=this.width,St.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(b){this.setText(b)}},toJSON:function(){var b=f.ToJSON(this),_={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return b.data=_,b},preDestroy:function(){p(this.canvas),T.remove(this.canvas);var b=this.texture;b&&b.destroy()}});C.exports=x},79724:C=>{C.exports=function(a,y,T,m){0===y.width||0===y.height||(T.addToRenderList(y),a.batchSprite(y,y.frame,T,m))}},71259:(C,k,a)=>{var y=a(25305),T=a(44603),m=a(23568),f=a(50171);T.register("text",function(h,c){void 0===h&&(h={});var u=m(h,"text",""),p=m(h,"style",null),d=m(h,"padding",null);null!==d&&(p.padding=d);var g=new f(this.scene,0,0,u,p);return void 0!==c&&(h.add=c),y(this.scene,g,h),g.autoRound=m(h,"autoRound",!0),g.resolution=m(h,"resolution",1),g})},68005:(C,k,a)=>{var y=a(50171);a(39429).register("text",function(m,f,h,c){return this.displayList.add(new y(this.scene,m,f,h,c))})},61771:(C,k,a)=>{var T,m;a(29747),T=a(34397),m=a(79724),C.exports={renderWebGL:T,renderCanvas:m}},35762:(C,k,a)=>{var y=a(83419),T=a(23568),m=a(35154),f=a(79557),h={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xc3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},c=new y({initialize:function(p,d){this.parent=p,this.setStyle(d,!1,!0)},setStyle:function(u,p,d){for(var g in void 0===p&&(p=!0),void 0===d&&(d=!1),h){var v=d?h[g][1]:this[g];this[g]="wordWrapCallback"===g||"wordWrapCallbackScope"===g?m(u,h[g][0],v):u&&"fontSize"===g&&"number"==typeof u.fontSize?u.fontSize.toString()+"px":T(u,h[g][0],v)}var x=m(u,"font",null);null!==x&&this.setFont(x,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var b=m(u,"fill",null);null!==b&&(this.color=b);var _=m(u,"metrics",!1);return _?this.metrics={ascent:m(_,"ascent",0),descent:m(_,"descent",0),fontSize:m(_,"fontSize",0)}:(p||!this.metrics)&&(this.metrics=f(this)),p?this.parent.updateText():this.parent},syncFont:function(u,p){p.font=this._font},syncStyle:function(u,p){p.textBaseline="alphabetic",p.fillStyle=this.color,p.strokeStyle=this.stroke,p.lineWidth=this.strokeThickness,p.lineCap="round",p.lineJoin="round"},syncShadow:function(u,p){p?(u.shadowOffsetX=this.shadowOffsetX,u.shadowOffsetY=this.shadowOffsetY,u.shadowColor=this.shadowColor,u.shadowBlur=this.shadowBlur):(u.shadowOffsetX=0,u.shadowOffsetY=0,u.shadowColor=0,u.shadowBlur=0)},update:function(u){return u&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=f(this)),this.parent.updateText()},setFont:function(u,p){void 0===p&&(p=!0);var d=u,g="",v="";if("string"!=typeof u)d=m(u,"fontFamily","Courier"),g=m(u,"fontSize","16px"),v=m(u,"fontStyle","");else{var x=u.split(" "),b=0;v=x.length>2?x[b++]:"",g=x[b++]||"16px",d=x[b++]||"Courier"}return(d!==this.fontFamily||g!==this.fontSize||v!==this.fontStyle)&&(this.fontFamily=d,this.fontSize=g,this.fontStyle=v,p&&this.update(!0)),this.parent},setFontFamily:function(u){return this.fontFamily!==u&&(this.fontFamily=u,this.update(!0)),this.parent},setFontStyle:function(u){return this.fontStyle!==u&&(this.fontStyle=u,this.update(!0)),this.parent},setFontSize:function(u){return"number"==typeof u&&(u=u.toString()+"px"),this.fontSize!==u&&(this.fontSize=u,this.update(!0)),this.parent},setTestString:function(u){return this.testString=u,this.update(!0)},setFixedSize:function(u,p){return this.fixedWidth=u,this.fixedHeight=p,u&&(this.parent.width=u),p&&(this.parent.height=p),this.update(!1)},setBackgroundColor:function(u){return this.backgroundColor=u,this.update(!1)},setFill:function(u){return this.color=u,this.update(!1)},setColor:function(u){return this.color=u,this.update(!1)},setResolution:function(u){return this.resolution=u,this.update(!1)},setStroke:function(u,p){return void 0===p&&(p=this.strokeThickness),void 0===u&&0!==this.strokeThickness?(this.strokeThickness=0,this.update(!0)):(this.stroke!==u||this.strokeThickness!==p)&&(this.stroke=u,this.strokeThickness=p,this.update(!0)),this.parent},setShadow:function(u,p,d,g,v,x){return void 0===u&&(u=0),void 0===p&&(p=0),void 0===d&&(d="#000"),void 0===g&&(g=0),void 0===v&&(v=!1),void 0===x&&(x=!0),this.shadowOffsetX=u,this.shadowOffsetY=p,this.shadowColor=d,this.shadowBlur=g,this.shadowStroke=v,this.shadowFill=x,this.update(!1)},setShadowOffset:function(u,p){return void 0===u&&(u=0),void 0===p&&(p=u),this.shadowOffsetX=u,this.shadowOffsetY=p,this.update(!1)},setShadowColor:function(u){return void 0===u&&(u="#000"),this.shadowColor=u,this.update(!1)},setShadowBlur:function(u){return void 0===u&&(u=0),this.shadowBlur=u,this.update(!1)},setShadowStroke:function(u){return this.shadowStroke=u,this.update(!1)},setShadowFill:function(u){return this.shadowFill=u,this.update(!1)},setWordWrapWidth:function(u,p){return void 0===p&&(p=!1),this.wordWrapWidth=u,this.wordWrapUseAdvanced=p,this.update(!1)},setWordWrapCallback:function(u,p){return void 0===p&&(p=null),this.wordWrapCallback=u,this.wordWrapCallbackScope=p,this.update(!1)},setAlign:function(u){return void 0===u&&(u="left"),this.align=u,this.update(!1)},setMaxLines:function(u){return void 0===u&&(u=0),this.maxLines=u,this.update(!1)},getTextMetrics:function(){var u=this.metrics;return{ascent:u.ascent,descent:u.descent,fontSize:u.fontSize}},toJSON:function(){var u={};for(var p in h)u[p]=this[p];return u.metrics=this.getTextMetrics(),u},destroy:function(){this.parent=void 0}});C.exports=c},34397:(C,k,a)=>{var y=a(70554);C.exports=function(m,f,h,c){if(0!==f.width&&0!==f.height){h.addToRenderList(f);var u=f.frame,p=u.width,d=u.height,g=y.getTintAppendFloatAlpha,v=m.pipelines.set(f.pipeline,f),x=v.setTexture2D(u.glTexture,f);v.batchTexture(f,u.glTexture,p,d,f.x,f.y,p/f.style.resolution,d/f.style.resolution,f.scaleX,f.scaleY,f.rotation,f.flipX,f.flipY,f.scrollFactorX,f.scrollFactorY,f.displayOriginX,f.displayOriginY,0,0,p,d,g(f.tintTopLeft,h.alpha*f._alphaTL),g(f.tintTopRight,h.alpha*f._alphaTR),g(f.tintBottomLeft,h.alpha*f._alphaBL),g(f.tintBottomRight,h.alpha*f._alphaBR),f.tintFill,0,0,h,c,!1,x)}}},20839:(C,k,a)=>{var y=a(27919),T=a(83419),m=a(31401),f=a(95643),h=a(98439),c=a(68703),u=a(56295),p=a(45650),d=a(26099),v=new T({Extends:f,Mixins:[m.Alpha,m.BlendMode,m.ComputedSize,m.Crop,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Tint,m.Transform,m.Visible,u],initialize:function(b,_,E,A,D,I,R){var F=b.sys.renderer;f.call(this,b,"TileSprite");var L=b.sys.textures.get(I),V=L.get(R);V.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),V=(L=b.sys.textures.get("__MISSING")).get()),"DynamicTexture"===L.type&&(console.warn("TileSprite cannot use Dynamic Texture"),V=(L=b.sys.textures.get("__MISSING")).get()),A&&D?(A=Math.floor(A),D=Math.floor(D)):(A=A||V.width,D=D||V.height),this._tilePosition=new d,this._tileScale=new d(1,1),this.dirty=!1,this.renderer=F,this.canvas=y.create(this,A,D),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=L,this.displayFrame=V,this._crop=this.resetCropObject(),this._textureKey=p(),this.texture=b.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=h(V.width),this.potHeight=h(V.height),this.fillCanvas=y.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(_,E),this.setSize(A,D),this.setFrame(R),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(x,b){return this.displayTexture=this.scene.sys.textures.get(x),this.setFrame(b)},setFrame:function(x){var b=this.displayTexture.get(x);return this.potWidth=h(b.width),this.potHeight=h(b.height),this.canvas.width=0,b.cutWidth&&b.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this.displayFrame=b,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(x,b){return void 0!==x&&(this.tilePositionX=x),void 0!==b&&(this.tilePositionY=b),this},setTileScale:function(x,b){return void 0===x&&(x=this.tileScaleX),void 0===b&&(b=x),this.tileScaleX=x,this.tileScaleY=b,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var x=this.displayFrame;if(x.source.isRenderTexture||x.source.isGLTexture)return console.warn("TileSprites can only use Image or Canvas based textures"),void(this.dirty=!1);var b=this.fillContext,_=this.fillCanvas,E=this.potWidth,A=this.potHeight;(!this.renderer||!this.renderer.gl)&&(E=x.cutWidth,A=x.cutHeight),b.clearRect(0,0,E,A),_.width=E,_.height=A,b.drawImage(x.source.image,x.cutX,x.cutY,x.cutWidth,x.cutHeight,0,0,E,A),this.fillPattern=this.renderer&&this.renderer.gl?this.renderer.canvasToTexture(_,this.fillPattern):b.createPattern(_,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var x=this.canvas;if((x.width!==this.width||x.height!==this.height)&&(x.width=this.width,x.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl)this.dirty=!1;else{var b=this.context;this.scene.sys.game.config.antialias||c.disable(b);var _=this._tileScale.x,E=this._tileScale.y,A=this._tilePosition.x,D=this._tilePosition.y;b.clearRect(0,0,this.width,this.height),b.save(),b.scale(_,E),b.translate(-A,-D),b.fillStyle=this.fillPattern,b.fillRect(A,D,this.width/_,this.height/E),b.restore(),this.dirty=!1}},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),y.remove(this.canvas),y.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var x=this.texture;x&&x.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(x){this._tilePosition.x=x,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(x){this._tilePosition.y=x,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(x){this._tileScale.x=x,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(x){this._tileScale.y=x,this.dirty=!0}}});C.exports=v},46992:C=>{C.exports=function(a,y,T,m){y.updateCanvas(),T.addToRenderList(y),a.batchSprite(y,y.frame,T,m)}},14167:(C,k,a)=>{var y=a(25305),T=a(44603),m=a(23568),f=a(20839);T.register("tileSprite",function(h,c){void 0===h&&(h={});var u=m(h,"x",0),p=m(h,"y",0),d=m(h,"width",512),g=m(h,"height",512),v=m(h,"key",""),x=m(h,"frame",""),b=new f(this.scene,u,p,d,g,v,x);return void 0!==c&&(h.add=c),y(this.scene,b,h),b})},91681:(C,k,a)=>{var y=a(20839);a(39429).register("tileSprite",function(m,f,h,c,u,p){return this.displayList.add(new y(this.scene,m,f,h,c,u,p))})},56295:(C,k,a)=>{var T,m;a(29747),T=a(18553),m=a(46992),C.exports={renderWebGL:T,renderCanvas:m}},18553:(C,k,a)=>{var y=a(70554);C.exports=function(m,f,h,c){f.updateCanvas();var u=f.width,p=f.height;if(0!==u&&0!==p){h.addToRenderList(f);var d=y.getTintAppendFloatAlpha,g=m.pipelines.set(f.pipeline,f),v=g.setTexture2D(f.fillPattern,f);g.batchTexture(f,f.fillPattern,f.displayFrame.width*f.tileScaleX,f.displayFrame.height*f.tileScaleY,f.x,f.y,u,p,f.scaleX,f.scaleY,f.rotation,f.flipX,f.flipY,f.scrollFactorX,f.scrollFactorY,f.originX*u,f.originY*p,0,0,u,p,d(f.tintTopLeft,h.alpha*f._alphaTL),d(f.tintTopRight,h.alpha*f._alphaTR),d(f.tintBottomLeft,h.alpha*f._alphaBL),d(f.tintBottomRight,h.alpha*f._alphaBR),f.tintFill,f.tilePositionX%f.displayFrame.width/f.displayFrame.width,f.tilePositionY%f.displayFrame.height/f.displayFrame.height,h,c,!1,v)}}},18471:(C,k,a)=>{var y=a(45319),T=a(83419),m=a(31401),f=a(51708),h=a(8443),c=a(95643),u=a(36383),p=a(14463),d=a(45650),g=a(10247),v=new T({Extends:c,Mixins:[m.Alpha,m.BlendMode,m.ComputedSize,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.TextureCrop,m.Tint,m.Transform,m.Visible,g],initialize:function(b,_,E,A){c.call(this,b,"Video"),this.flipY=!1,this._key=d(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var D=b.sys.game;this._device=D.device.video,this.setPosition(_,E),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),D.events.on(h.PAUSE,this.globalPause,this),D.events.on(h.RESUME,this.globalResume,this);var I=b.sys.sound;I&&I.on(p.GLOBAL_MUTE,this.globalMute,this),A&&this.load(A)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(x){var b=this.scene.sys.cache.video.get(x);return b?(this.cacheKey=x,this.loadHandler(b.url,b.noAudio,b.crossOrigin)):console.warn("No video in cache for key: "+x),this},changeSource:function(x,b,_,E,A){void 0===b&&(b=!0),void 0===_&&(_=!1),this.cacheKey!==x&&(this.load(x),b&&this.play(_,E,A))},getVideoKey:function(){return this.cacheKey},loadURL:function(x,b,_){void 0===b&&(b=!1);var E=this._device.getVideoURL(x);return E?(this.cacheKey="",this.loadHandler(E.url,b,_)):console.warn("No supported video format found for "+x),this},loadMediaStream:function(x,b,_){return this.loadHandler(null,b,_,x)},loadHandler:function(x,b,_,E){b||(b=!1);var A=this.video;if(A?(this.removeLoadEventHandlers(),this.stop()):((A=document.createElement("video")).controls=!1,A.setAttribute("playsinline","playsinline"),A.setAttribute("preload","auto"),A.setAttribute("disablePictureInPicture","true")),b?(A.muted=!0,A.defaultMuted=!0,A.setAttribute("autoplay","autoplay")):(A.muted=!1,A.defaultMuted=!1,A.removeAttribute("autoplay")),_?A.setAttribute("crossorigin",_):A.removeAttribute("crossorigin"),E)if("srcObject"in A)try{A.srcObject=E}catch(I){if("TypeError"!==I.name)throw I;A.src=URL.createObjectURL(E)}else A.src=URL.createObjectURL(E);else A.src=x;this.retry=0,this.video=A,this._playCalled=!1,A.load(),this.addLoadEventHandlers();var D=this.scene.sys.textures.get(this._key);return this.setTexture(D),this},requestVideoFrame:function(x,b){var _=this.video;if(_){var E=b.width,A=b.height,D=this.videoTexture,I=this.videoTextureSource,R=!D||I.source!==_;R?(this._codePaused=_.paused,this._codeMuted=_.muted,D?(I.source=_,I.width=E,I.height=A,D.get().setSize(E,A)):((D=this.scene.sys.textures.create(this._key,_,E,A)).add("__BASE",0,0,0,E,A),this.setTexture(D),this.videoTexture=D,this.videoTextureSource=D.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(f.VIDEO_TEXTURE,this,D)),this.setSizeToFrame(),this.updateDisplayOrigin()):I.update(),this.isStalled=!1,this.metadata=b;var F=b.mediaTime;R&&(this._lastUpdate=F,this.emit(f.VIDEO_CREATED,this,E,A),this.frameReady||(this.frameReady=!0,this.emit(f.VIDEO_PLAY,this))),this._playingMarker?F>=this._markerOut&&(_.loop?(_.currentTime=this._markerIn,this.emit(f.VIDEO_LOOP,this)):(this.stop(!1),this.emit(f.VIDEO_COMPLETE,this))):F<this._lastUpdate&&this.emit(f.VIDEO_LOOP,this),this._lastUpdate=F,this._getFrame?(this.removeEventHandlers(),_.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(x,b,_){void 0===b&&(b=-1),void 0===_&&(_=u.MAX_SAFE_INTEGER);var E=this.video;return!E||this.isPlaying()?(E||console.warn("Video not loaded"),this):(void 0===x&&(x=E.loop),E.loop=x,this._markerIn=b,this._markerOut=_,this._playingMarker=b>-1&&_>b&&_<u.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=E.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var x=this.video;return!x||this.isPlaying()?(x||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=x.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var x=this.video;x&&(x.addEventListener("error",this._loadCallbackHandler),x.addEventListener("abort",this._loadCallbackHandler),x.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var x=this.video;x&&(x.removeEventListener("error",this._loadCallbackHandler),x.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var x=this.video;if(x){var b=this._callbacks;for(var _ in b)x.addEventListener(_,b[_])}},removeEventHandlers:function(){var x=this.video;if(x){var b=this._callbacks;for(var _ in b)x.removeEventListener(_,b[_])}},createPlayPromise:function(x){void 0===x&&(x=!0);var b=this.video,_=b.play();if(void 0!==_){var E=this.playSuccess.bind(this),A=this.playError.bind(this);if(!x){var D=this;A=function(){D.failedPlayAttempts++}}_.then(E).catch(A)}else b.addEventListener("playing",this._callbacks.legacy),x||this.failedPlayAttempts++},addMarker:function(x,b,_){return!isNaN(b)&&b>=0&&!isNaN(_)&&_>b&&(this.markers[x]=[b,_]),this},playMarker:function(x,b){var _=this.markers[x];return _&&this.play(b,_[0],_[1]),this},removeMarker:function(x){return delete this.markers[x],this},snapshot:function(x,b){return void 0===x&&(x=this.width),void 0===b&&(b=this.height),this.snapshotArea(0,0,this.width,this.height,x,b)},snapshotArea:function(x,b,_,E,A,D){void 0===x&&(x=0),void 0===b&&(b=0),void 0===_&&(_=this.width),void 0===E&&(E=this.height),void 0===A&&(A=_),void 0===D&&(D=E);var I=this.video,R=this.snapshotTexture;return R?(R.setSize(A,D),I&&R.context.drawImage(I,x,b,_,E,0,0,A,D)):(R=this.scene.sys.textures.createCanvas(d(),A,D),this.snapshotTexture=R,I&&R.context.drawImage(I,x,b,_,E,0,0,A,D)),R.update()},saveSnapshotTexture:function(x){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,x):this.snapshotTexture=this.scene.sys.textures.createCanvas(x,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(f.VIDEO_UNLOCKED,this));var x=this.scene.sys.sound;x&&x.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(x){var b=x.name;"NotAllowedError"===b?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(f.VIDEO_LOCKED,this)):"NotSupportedError"===b?(this.stop(!1),this.emit(f.VIDEO_UNSUPPORTED,this,x)):(this.stop(!1),this.emit(f.VIDEO_ERROR,this,x))},legacyPlayHandler:function(){var x=this.video;x&&(this.playSuccess(),x.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(f.VIDEO_PLAYING,this)},loadErrorHandler:function(x){this.stop(!1),this.emit(f.VIDEO_ERROR,this,x)},metadataHandler:function(x){this.emit(f.VIDEO_METADATA,this,x)},setSizeToFrame:function(x){x||(x=this.frame),this.width=x.realWidth,this.height=x.realHeight,1!==this.scaleX&&(this.scaleX=this.displayWidth/this.width),1!==this.scaleY&&(this.scaleY=this.displayHeight/this.height);var b=this.input;return b&&!b.customHitArea&&(b.hitArea.width=this.width,b.hitArea.height=this.height),this},stalledHandler:function(x){this.isStalled=!0,this.emit(f.VIDEO_STALLED,this,x)},completeHandler:function(){this._playCalled=!1,this.emit(f.VIDEO_COMPLETE,this)},preUpdate:function(x,b){!this.video||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=b,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(x){var b=this.video;if(b){var _=b.duration;_===1/0||isNaN(_)||this.setCurrentTime(_*x)}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(x){var b=this.video;if(b){if("string"==typeof x){var _=x[0],E=parseFloat(x.substr(1));"+"===_?x=b.currentTime+E:"-"===_&&(x=b.currentTime-E)}b.currentTime=x}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(f.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(f.VIDEO_SEEKED,this)},getProgress:function(){var x=this.video;if(x){var b=x.duration;if(b!==1/0&&!isNaN(b))return x.currentTime/b}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(x){void 0===x&&(x=!0),this._codeMuted=x;var b=this.video;return b&&(b.muted=!!this._systemMuted||x),this},isMuted:function(){return this._codeMuted},globalMute:function(x,b){this._systemMuted=b;var _=this.video;_&&(_.muted=!!this._codeMuted||b)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(x){void 0===x&&(x=!0);var b=this.video;return this._codePaused=x,b&&!b.ended&&(x?b.paused||(this.removeEventHandlers(),b.pause()):x||(this._playCalled?b.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(x){return void 0===x&&(x=1),this.video&&(this.video.volume=y(x,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(x){return this.video&&(this.video.playbackRate=x),this},getLoop:function(){return!!this.video&&this.video.loop},setLoop:function(x){return void 0===x&&(x=!0),this.video&&(this.video.loop=x),this},isPlaying:function(){return!!this.video&&!(this.video.paused||this.video.ended)},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(x,b){return void 0===b&&(b=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,x),this.videoTextureSource.setFlipY(b)),this._key=x,this.flipY=b,!!this.videoTexture},stop:function(x){void 0===x&&(x=!0);var b=this.video;return b&&(this.removeEventHandlers(),b.cancelVideoFrameCallback(this._rfvCallbackId),b.pause()),this.retry=0,this._playCalled=!1,x&&this.emit(f.VIDEO_STOP,this),this},removeVideoElement:function(){var x=this.video;if(x){for(x.parentNode&&x.parentNode.removeChild(x);x.hasChildNodes();)x.removeChild(x.firstChild);x.removeAttribute("autoplay"),x.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var x=this.scene.sys.game.events;x.off(h.PAUSE,this.globalPause,this),x.off(h.RESUME,this.globalResume,this);var b=this.scene.sys.sound;b&&b.off(p.GLOBAL_MUTE,this.globalMute,this)}});C.exports=v},58352:C=>{C.exports=function(a,y,T,m){y.videoTexture&&(T.addToRenderList(y),a.batchSprite(y,y.frame,T,m))}},11511:(C,k,a)=>{var y=a(25305),T=a(44603),m=a(23568),f=a(18471);T.register("video",function(h,c){void 0===h&&(h={});var u=m(h,"key",null),p=new f(this.scene,0,0,u);return void 0!==c&&(h.add=c),y(this.scene,p,h),p})},89025:(C,k,a)=>{var y=a(18471);a(39429).register("video",function(m,f,h){return this.displayList.add(new y(this.scene,m,f,h))})},10247:(C,k,a)=>{var T,m;a(29747),T=a(29849),m=a(58352),C.exports={renderWebGL:T,renderCanvas:m}},29849:C=>{C.exports=function(a,y,T,m){y.videoTexture&&(T.addToRenderList(y),y.pipeline.batchSprite(y,T,m))}},41481:(C,k,a)=>{var y=a(10312),T=a(96503),m=a(87902),f=a(83419),h=a(31401),c=a(95643),u=a(87841),p=a(37303),d=new f({Extends:c,Mixins:[h.Depth,h.GetBounds,h.Origin,h.Transform,h.ScrollFactor,h.Visible],initialize:function(v,x,b,_,E){void 0===_&&(_=1),void 0===E&&(E=_),c.call(this,v,"Zone"),this.setPosition(x,b),this.width=_,this.height=E,this.blendMode=y.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(g){this.scaleX=g/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(g){this.scaleY=g/this.height}},setSize:function(g,v,x){void 0===x&&(x=!0),this.width=g,this.height=v,this.updateDisplayOrigin();var b=this.input;return x&&b&&!b.customHitArea&&(b.hitArea.width=g,b.hitArea.height=v),this},setDisplaySize:function(g,v){return this.displayWidth=g,this.displayHeight=v,this},setCircleDropZone:function(g){return this.setDropZone(new T(0,0,g),m)},setRectangleDropZone:function(g,v){return this.setDropZone(new u(0,0,g,v),p)},setDropZone:function(g,v){return this.input||this.setInteractive(g,v,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(g,v,x){x.addToRenderList(v)},renderWebGL:function(g,v,x){x.addToRenderList(v)}});C.exports=d},95261:(C,k,a)=>{var y=a(44603),T=a(23568),m=a(41481);y.register("zone",function(f){var h=T(f,"x",0),c=T(f,"y",0),u=T(f,"width",1),p=T(f,"height",u);return new m(this.scene,h,c,u,p)})},84175:(C,k,a)=>{var y=a(41481);a(39429).register("zone",function(m,f,h,c){return this.displayList.add(new y(this.scene,m,f,h,c))})},95166:C=>{C.exports=function(a){return a.radius>0?Math.PI*a.radius*a.radius:0}},96503:(C,k,a)=>{var y=a(83419),T=a(87902),m=a(26241),f=a(79124),h=a(23777),c=a(28176),u=new y({initialize:function(d,g,v){void 0===d&&(d=0),void 0===g&&(g=0),void 0===v&&(v=0),this.type=h.CIRCLE,this.x=d,this.y=g,this._radius=v,this._diameter=2*v},contains:function(p,d){return T(this,p,d)},getPoint:function(p,d){return m(this,p,d)},getPoints:function(p,d,g){return f(this,p,d,g)},getRandomPoint:function(p){return c(this,p)},setTo:function(p,d,g){return this.x=p,this.y=d,this._radius=g,this._diameter=2*g,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(p,d){return void 0===d&&(d=p),this.x=p,this.y=d,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(p){this._radius=p,this._diameter=2*p}},diameter:{get:function(){return this._diameter},set:function(p){this._diameter=p,this._radius=.5*p}},left:{get:function(){return this.x-this._radius},set:function(p){this.x=p+this._radius}},right:{get:function(){return this.x+this._radius},set:function(p){this.x=p-this._radius}},top:{get:function(){return this.y-this._radius},set:function(p){this.y=p+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(p){this.y=p-this._radius}}});C.exports=u},71562:C=>{C.exports=function(a){return Math.PI*a.radius*2}},92110:(C,k,a)=>{var y=a(2141);C.exports=function(m,f,h){return void 0===h&&(h=new y),h.x=m.x+m.radius*Math.cos(f),h.y=m.y+m.radius*Math.sin(f),h}},42250:(C,k,a)=>{var y=a(96503);C.exports=function(m){return new y(m.x,m.y,m.radius)}},87902:C=>{C.exports=function(a,y,T){return a.radius>0&&y>=a.left&&y<=a.right&&T>=a.top&&T<=a.bottom&&(a.x-y)*(a.x-y)+(a.y-T)*(a.y-T)<=a.radius*a.radius}},5698:(C,k,a)=>{var y=a(87902);C.exports=function(m,f){return y(m,f.x,f.y)}},70588:(C,k,a)=>{var y=a(87902);C.exports=function(m,f){return y(m,f.x,f.y)&&y(m,f.right,f.y)&&y(m,f.x,f.bottom)&&y(m,f.right,f.bottom)}},26394:C=>{C.exports=function(a,y){return y.setTo(a.x,a.y,a.radius)}},76278:C=>{C.exports=function(a,y){return a.x===y.x&&a.y===y.y&&a.radius===y.radius}},2074:(C,k,a)=>{var y=a(87841);C.exports=function(m,f){return void 0===f&&(f=new y),f.x=m.left,f.y=m.top,f.width=m.diameter,f.height=m.diameter,f}},26241:(C,k,a)=>{var y=a(92110),T=a(62945),m=a(36383),f=a(2141);C.exports=function(c,u,p){void 0===p&&(p=new f);var d=T(u,0,m.PI2);return y(c,d,p)}},79124:(C,k,a)=>{var y=a(71562),T=a(92110),m=a(62945),f=a(36383);C.exports=function(c,u,p,d){void 0===d&&(d=[]),!u&&p>0&&(u=y(c)/p);for(var g=0;g<u;g++){var v=m(g/u,0,f.PI2);d.push(T(c,v))}return d}},50884:C=>{C.exports=function(a,y,T){return a.x+=y,a.y+=T,a}},39212:C=>{C.exports=function(a,y){return a.x+=y.x,a.y+=y.y,a}},28176:(C,k,a)=>{var y=a(2141);C.exports=function(m,f){void 0===f&&(f=new y);var h=2*Math.PI*Math.random(),c=Math.random()+Math.random(),u=c>1?2-c:c,p=u*Math.cos(h),d=u*Math.sin(h);return f.x=m.x+p*m.radius,f.y=m.y+d*m.radius,f}},88911:(C,k,a)=>{var y=a(96503);y.Area=a(95166),y.Circumference=a(71562),y.CircumferencePoint=a(92110),y.Clone=a(42250),y.Contains=a(87902),y.ContainsPoint=a(5698),y.ContainsRect=a(70588),y.CopyFrom=a(26394),y.Equals=a(76278),y.GetBounds=a(2074),y.GetPoint=a(26241),y.GetPoints=a(79124),y.Offset=a(50884),y.OffsetPoint=a(39212),y.Random=a(28176),C.exports=y},23777:C=>{C.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},78874:C=>{C.exports=function(a){return a.isEmpty()?0:a.getMajorRadius()*a.getMinorRadius()*Math.PI}},92990:C=>{C.exports=function(a){var y=a.width/2,T=a.height/2,m=Math.pow(y-T,2)/Math.pow(y+T,2);return Math.PI*(y+T)*(1+3*m/(10+Math.sqrt(4-3*m)))}},79522:(C,k,a)=>{var y=a(2141);C.exports=function(m,f,h){void 0===h&&(h=new y);var u=m.height/2;return h.x=m.x+m.width/2*Math.cos(f),h.y=m.y+u*Math.sin(f),h}},58102:(C,k,a)=>{var y=a(8497);C.exports=function(m){return new y(m.x,m.y,m.width,m.height)}},81154:C=>{C.exports=function(a,y,T){if(a.width<=0||a.height<=0)return!1;var m=(y-a.x)/a.width,f=(T-a.y)/a.height;return(m*=m)+(f*=f)<.25}},46662:(C,k,a)=>{var y=a(81154);C.exports=function(m,f){return y(m,f.x,f.y)}},1632:(C,k,a)=>{var y=a(81154);C.exports=function(m,f){return y(m,f.x,f.y)&&y(m,f.right,f.y)&&y(m,f.x,f.bottom)&&y(m,f.right,f.bottom)}},65534:C=>{C.exports=function(a,y){return y.setTo(a.x,a.y,a.width,a.height)}},8497:(C,k,a)=>{var y=a(83419),T=a(81154),m=a(90549),f=a(48320),h=a(23777),c=a(24820),u=new y({initialize:function(d,g,v,x){void 0===d&&(d=0),void 0===g&&(g=0),void 0===v&&(v=0),void 0===x&&(x=0),this.type=h.ELLIPSE,this.x=d,this.y=g,this.width=v,this.height=x},contains:function(p,d){return T(this,p,d)},getPoint:function(p,d){return m(this,p,d)},getPoints:function(p,d,g){return f(this,p,d,g)},getRandomPoint:function(p){return c(this,p)},setTo:function(p,d,g,v){return this.x=p,this.y=d,this.width=g,this.height=v,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(p,d){return void 0===d&&(d=p),this.x=p,this.y=d,this},setSize:function(p,d){return void 0===d&&(d=p),this.width=p,this.height=d,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(p){this.x=p+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(p){this.x=p-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(p){this.y=p+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(p){this.y=p-this.height/2}}});C.exports=u},36146:C=>{C.exports=function(a,y){return a.x===y.x&&a.y===y.y&&a.width===y.width&&a.height===y.height}},23694:(C,k,a)=>{var y=a(87841);C.exports=function(m,f){return void 0===f&&(f=new y),f.x=m.left,f.y=m.top,f.width=m.width,f.height=m.height,f}},90549:(C,k,a)=>{var y=a(79522),T=a(62945),m=a(36383),f=a(2141);C.exports=function(c,u,p){void 0===p&&(p=new f);var d=T(u,0,m.PI2);return y(c,d,p)}},48320:(C,k,a)=>{var y=a(92990),T=a(79522),m=a(62945),f=a(36383);C.exports=function(c,u,p,d){void 0===d&&(d=[]),!u&&p>0&&(u=y(c)/p);for(var g=0;g<u;g++){var v=m(g/u,0,f.PI2);d.push(T(c,v))}return d}},73424:C=>{C.exports=function(a,y,T){return a.x+=y,a.y+=T,a}},44808:C=>{C.exports=function(a,y){return a.x+=y.x,a.y+=y.y,a}},24820:(C,k,a)=>{var y=a(2141);C.exports=function(m,f){void 0===f&&(f=new y);var h=Math.random()*Math.PI*2,c=Math.sqrt(Math.random());return f.x=m.x+c*Math.cos(h)*m.width/2,f.y=m.y+c*Math.sin(h)*m.height/2,f}},49203:(C,k,a)=>{var y=a(8497);y.Area=a(78874),y.Circumference=a(92990),y.CircumferencePoint=a(79522),y.Clone=a(58102),y.Contains=a(81154),y.ContainsPoint=a(46662),y.ContainsRect=a(1632),y.CopyFrom=a(65534),y.Equals=a(36146),y.GetBounds=a(23694),y.GetPoint=a(90549),y.GetPoints=a(48320),y.Offset=a(73424),y.OffsetPoint=a(44808),y.Random=a(24820),C.exports=y},55738:(C,k,a)=>{var y=a(23777),T=a(79291),m={Circle:a(88911),Ellipse:a(49203),Intersects:a(91865),Line:a(2529),Mesh:a(73090),Point:a(43711),Polygon:a(58423),Rectangle:a(93232),Triangle:a(84435)};m=T(!1,m,y),C.exports=m},2044:(C,k,a)=>{var y=a(20339);C.exports=function(m,f){return y(m.x,m.y,f.x,f.y)<=m.radius+f.radius}},81491:C=>{C.exports=function(a,y){var T=y.width/2,m=y.height/2,f=Math.abs(a.x-y.x-T),h=Math.abs(a.y-y.y-m);if(f>T+a.radius||h>m+a.radius)return!1;if(f<=T||h<=m)return!0;var p=f-T,d=h-m;return p*p+d*d<=a.radius*a.radius}},63376:(C,k,a)=>{var y=a(2141),T=a(2044);C.exports=function(f,h,c){if(void 0===c&&(c=[]),T(f,h)){var b,_,A,D,u=f.x,p=f.y,d=f.radius,g=h.x,v=h.y,x=h.radius;if(p===v)0==(A=(_=-2*v)*_-4*(b=1)*(g*g+(D=(x*x-d*d-g*g+u*u)/(2*(u-g)))*D-2*g*D+v*v-x*x))?c.push(new y(D,-_/(2*b))):A>0&&(c.push(new y(D,(-_+Math.sqrt(A))/(2*b))),c.push(new y(D,(-_-Math.sqrt(A))/(2*b))));else{var I=(u-g)/(p-v),R=(x*x-d*d-g*g+u*u-v*v+p*p)/(2*(p-v));0==(A=(_=2*p*I-2*R*I-2*u)*_-4*(b=I*I+1)*(u*u+p*p+R*R-d*d-2*p*R))?c.push(new y(D=-_/(2*b),R-D*I)):A>0&&(D=(-_+Math.sqrt(A))/(2*b),c.push(new y(D,R-D*I)),D=(-_-Math.sqrt(A))/(2*b),c.push(new y(D,R-D*I)))}}return c}},97439:(C,k,a)=>{var y=a(4042),T=a(81491);C.exports=function(f,h,c){if(void 0===c&&(c=[]),T(f,h)){var u=h.getLineA(),p=h.getLineB(),d=h.getLineC(),g=h.getLineD();y(u,f,c),y(p,f,c),y(d,f,c),y(g,f,c)}return c}},4042:(C,k,a)=>{var y=a(2141),T=a(80462);C.exports=function(f,h,c){if(void 0===c&&(c=[]),T(f,h)){var V,B,u=f.x1,p=f.y1,b=h.radius,_=f.x2-u,E=f.y2-p,A=u-h.x,D=p-h.y,I=_*_+E*E,R=2*(_*A+E*D),L=R*R-4*I*(A*A+D*D-b*b);if(0===L){var G=-R/(2*I);V=u+G*_,B=p+G*E,G>=0&&G<=1&&c.push(new y(V,B))}else if(L>0){var Q=(-R-Math.sqrt(L))/(2*I);V=u+Q*_,B=p+Q*E,Q>=0&&Q<=1&&c.push(new y(V,B));var H=(-R+Math.sqrt(L))/(2*I);V=u+H*_,B=p+H*E,H>=0&&H<=1&&c.push(new y(V,B))}}return c}},36100:(C,k,a)=>{var y=a(25836);C.exports=function(m,f,h,c){void 0===h&&(h=!1);var F,L,V,u=m.x1,p=m.y1,v=f.x1,x=f.y1,E=m.x2-u,A=m.y2-p,D=f.x2-v,I=f.y2-x,R=E*I-A*D;if(0===R)return null;if(h){if(F=(E*(x-p)+A*(u-v))/(D*A-I*E),0!==E)L=(v+D*F-u)/E;else{if(0===A)return null;L=(x+I*F-p)/A}if(L<0||F<0||F>1)return null;V=L}else{if(L=((p-x)*E-(u-v)*A)/R,(F=((v-u)*I-(x-p)*D)/R)<0||F>1||L<0||L>1)return null;V=F}return void 0===c&&(c=new y),c.set(u+E*V,p+A*V,V)}},3073:(C,k,a)=>{var y=a(36100),T=a(23031),m=a(25836),f=new T,h=new m;C.exports=function(u,p,d,g){void 0===d&&(d=!1),void 0===g&&(g=new m);var v=!1;g.set(),h.set();for(var x=p[p.length-1],b=0;b<p.length;b++){var _=p[b];f.setTo(x.x,x.y,_.x,_.y),x=_,y(u,f,d,h)&&(!v||h.z<g.z)&&(g.copy(h),v=!0)}return v?g:null}},56362:(C,k,a)=>{var y=a(25836),T=a(61369),m=a(3073),f=new y;C.exports=function(c,u,p,d){void 0===d&&(d=new T),Array.isArray(u)||(u=[u]);var g=!1;d.set(),f.set();for(var v=0;v<u.length;v++)m(c,u[v].points,p,f)&&(!g||f.z<d.z)&&(d.set(f.x,f.y,f.z,v),g=!0);return g?d:null}},60646:(C,k,a)=>{var y=a(2141),T=a(76112),m=a(92773);C.exports=function(h,c,u){if(void 0===u&&(u=[]),m(h,c))for(var p=c.getLineA(),d=c.getLineB(),g=c.getLineC(),v=c.getLineD(),x=[new y,new y,new y,new y],b=[T(p,h,x[0]),T(d,h,x[1]),T(g,h,x[2]),T(v,h,x[3])],_=0;_<4;_++)b[_]&&u.push(x[_]);return u}},71147:(C,k,a)=>{var y=a(61369),T=a(56362),f=new(a(23031));function h(p,d,g,v,x){var b=Math.cos(p),_=Math.sin(p);f.setTo(d,g,d+b,g+_);var E=T(f,v,!0);E&&x.push(new y(E.x,E.y,p,E.w))}function c(p,d){return p.z-d.z}C.exports=function(p,d,g){Array.isArray(g)||(g=[g]);for(var v=[],x=[],b=0;b<g.length;b++)for(var _=g[b].points,E=0;E<_.length;E++){var A=Math.atan2(_[E].y-d,_[E].x-p);-1===x.indexOf(A)&&(h(A,p,d,g,v),h(A-1e-5,p,d,g,v),h(A+1e-5,p,d,g,v),x.push(A))}return v.sort(c)}},68389:(C,k,a)=>{var y=a(87841),T=a(59996);C.exports=function(f,h,c){return void 0===c&&(c=new y),T(f,h)&&(c.x=Math.max(f.x,h.x),c.y=Math.max(f.y,h.y),c.width=Math.min(f.right,h.right)-c.x,c.height=Math.min(f.bottom,h.bottom)-c.y),c}},52784:(C,k,a)=>{var y=a(60646),T=a(59996);C.exports=function(f,h,c){if(void 0===c&&(c=[]),T(f,h)){var u=f.getLineA(),p=f.getLineB(),d=f.getLineC(),g=f.getLineD();y(u,h,c),y(p,h,c),y(d,h,c),y(g,h,c)}return c}},26341:(C,k,a)=>{var y=a(89265),T=a(60646);C.exports=function(f,h,c){if(void 0===c&&(c=[]),y(f,h)){var u=h.getLineA(),p=h.getLineB(),d=h.getLineC();T(u,f,c),T(p,f,c),T(d,f,c)}return c}},38720:(C,k,a)=>{var y=a(4042),T=a(67636);C.exports=function(f,h,c){if(void 0===c&&(c=[]),T(f,h)){var u=f.getLineA(),p=f.getLineB(),d=f.getLineC();y(u,h,c),y(p,h,c),y(d,h,c)}return c}},13882:(C,k,a)=>{var y=a(2141),T=a(2822),m=a(76112);C.exports=function(h,c,u){if(void 0===u&&(u=[]),T(h,c))for(var p=h.getLineA(),d=h.getLineB(),g=h.getLineC(),v=[new y,new y,new y],x=[m(p,c,v[0]),m(d,c,v[1]),m(g,c,v[2])],b=0;b<3;b++)x[b]&&u.push(v[b]);return u}},75636:(C,k,a)=>{var y=a(82944),T=a(13882);C.exports=function(f,h,c){if(void 0===c&&(c=[]),y(f,h)){var u=h.getLineA(),p=h.getLineB(),d=h.getLineC();T(f,u,c),T(f,p,c),T(f,d,c)}return c}},80462:(C,k,a)=>{var y=a(87902),m=new(a(2141));C.exports=function(h,c,u){if(void 0===u&&(u=m),y(c,h.x1,h.y1))return u.x=h.x1,u.y=h.y1,!0;if(y(c,h.x2,h.y2))return u.x=h.x2,u.y=h.y2,!0;var p=h.x2-h.x1,d=h.y2-h.y1,x=p*p+d*d,b=p,_=d;if(x>0){var E=((c.x-h.x1)*p+(c.y-h.y1)*d)/x;b*=E,_*=E}return u.x=h.x1+b,u.y=h.y1+_,b*b+_*_<=x&&b*p+_*d>=0&&y(c,u.x,u.y)}},76112:C=>{C.exports=function(a,y,T){var m=a.x1,f=a.y1,h=a.x2,c=a.y2,u=y.x1,p=y.y1,d=y.x2,g=y.y2;if(m===h&&f===c||u===d&&p===g)return!1;var v=(g-p)*(h-m)-(d-u)*(c-f);if(0===v)return!1;var x=((d-u)*(f-p)-(g-p)*(m-u))/v,b=((h-m)*(f-p)-(c-f)*(m-u))/v;return!(x<0||x>1||b<0||b>1||(T&&(T.x=m+x*(h-m),T.y=f+x*(c-f)),0))}},92773:C=>{C.exports=function(a,y){var T=a.x1,m=a.y1,f=a.x2,h=a.y2,c=y.x,u=y.y,p=y.right,d=y.bottom,g=0;if(T>=c&&T<=p&&m>=u&&m<=d||f>=c&&f<=p&&h>=u&&h<=d)return!0;if(T<c&&f>=c){if((g=m+(h-m)*(c-T)/(f-T))>u&&g<=d)return!0}else if(T>p&&f<=p&&(g=m+(h-m)*(p-T)/(f-T))>=u&&g<=d)return!0;if(m<u&&h>=u){if((g=T+(f-T)*(u-m)/(h-m))>=c&&g<=p)return!0}else if(m>d&&h<=d&&(g=T+(f-T)*(d-m)/(h-m))>=c&&g<=p)return!0;return!1}},16204:C=>{C.exports=function(a,y,T){void 0===T&&(T=1);var m=y.x1,f=y.y1,h=y.x2,c=y.y2,u=a.x,p=a.y,d=(h-m)*(h-m)+(c-f)*(c-f);if(0===d)return!1;var g=((u-m)*(h-m)+(p-f)*(c-f))/d;return g<0?Math.sqrt((m-u)*(m-u)+(f-p)*(f-p))<=T:g>=0&&g<=1?Math.abs(((f-p)*(h-m)-(m-u)*(c-f))/d)*Math.sqrt(d)<=T:Math.sqrt((h-u)*(h-u)+(c-p)*(c-p))<=T}},14199:(C,k,a)=>{var y=a(16204);C.exports=function(m,f){if(!y(m,f))return!1;var h=Math.min(f.x1,f.x2),c=Math.max(f.x1,f.x2),u=Math.min(f.y1,f.y2),p=Math.max(f.y1,f.y2);return m.x>=h&&m.x<=c&&m.y>=u&&m.y<=p}},59996:C=>{C.exports=function(a,y){return!(a.width<=0||a.height<=0||y.width<=0||y.height<=0||a.right<y.x||a.bottom<y.y||a.x>y.right||a.y>y.bottom)}},89265:(C,k,a)=>{var y=a(76112),T=a(37303),m=a(48653),f=a(77493);C.exports=function(c,u){if(u.left>c.right||u.right<c.left||u.top>c.bottom||u.bottom<c.top)return!1;var p=u.getLineA(),d=u.getLineB(),g=u.getLineC();if(T(c,p.x1,p.y1)||T(c,p.x2,p.y2)||T(c,d.x1,d.y1)||T(c,d.x2,d.y2)||T(c,g.x1,g.y1)||T(c,g.x2,g.y2))return!0;var v=c.getLineA(),x=c.getLineB(),b=c.getLineC(),_=c.getLineD();if(y(p,v)||y(p,x)||y(p,b)||y(p,_)||y(d,v)||y(d,x)||y(d,b)||y(d,_)||y(g,v)||y(g,x)||y(g,b)||y(g,_))return!0;var E=f(c);return m(u,E,!0).length>0}},84411:C=>{C.exports=function(a,y,T,m,f,h){return void 0===h&&(h=0),!(y>a.right+h||T<a.left-h||m>a.bottom+h||f<a.top-h)}},67636:(C,k,a)=>{var y=a(80462),T=a(10690);C.exports=function(f,h){return!(f.left>h.right||f.right<h.left||f.top>h.bottom||f.bottom<h.top||!(T(f,h.x,h.y)||y(f.getLineA(),h)||y(f.getLineB(),h)||y(f.getLineC(),h)))}},2822:(C,k,a)=>{var y=a(76112);C.exports=function(m,f){return!!(m.contains(f.x1,f.y1)||m.contains(f.x2,f.y2)||y(m.getLineA(),f)||y(m.getLineB(),f)||y(m.getLineC(),f))}},82944:(C,k,a)=>{var y=a(48653),T=a(71694),m=a(76112);C.exports=function(h,c){if(h.left>c.right||h.right<c.left||h.top>c.bottom||h.bottom<c.top)return!1;var u=h.getLineA(),p=h.getLineB(),d=h.getLineC(),g=c.getLineA(),v=c.getLineB(),x=c.getLineC();if(m(u,g)||m(u,v)||m(u,x)||m(p,g)||m(p,v)||m(p,x)||m(d,g)||m(d,v)||m(d,x))return!0;var b=T(h),_=y(c,b,!0);return _.length>0||(b=T(c),(_=y(h,b,!0)).length>0)}},91865:(C,k,a)=>{C.exports={CircleToCircle:a(2044),CircleToRectangle:a(81491),GetCircleToCircle:a(63376),GetCircleToRectangle:a(97439),GetLineToCircle:a(4042),GetLineToLine:a(36100),GetLineToPoints:a(3073),GetLineToPolygon:a(56362),GetLineToRectangle:a(60646),GetRaysFromPointToPolygon:a(71147),GetRectangleIntersection:a(68389),GetRectangleToRectangle:a(52784),GetRectangleToTriangle:a(26341),GetTriangleToCircle:a(38720),GetTriangleToLine:a(13882),GetTriangleToTriangle:a(75636),LineToCircle:a(80462),LineToLine:a(76112),LineToRectangle:a(92773),PointToLine:a(16204),PointToLineSegment:a(14199),RectangleToRectangle:a(59996),RectangleToTriangle:a(89265),RectangleToValues:a(84411),TriangleToCircle:a(67636),TriangleToLine:a(2822),TriangleToTriangle:a(82944)}},91938:C=>{C.exports=function(a){return Math.atan2(a.y2-a.y1,a.x2-a.x1)}},84993:C=>{C.exports=function(a,y,T){void 0===y&&(y=1),void 0===T&&(T=[]);var m=Math.round(a.x1),f=Math.round(a.y1),h=Math.round(a.x2),c=Math.round(a.y2),u=Math.abs(h-m),p=Math.abs(c-f),d=m<h?1:-1,g=f<c?1:-1,v=u-p;T.push({x:m,y:f});for(var x=1;m!==h||f!==c;){var b=v<<1;b>-p&&(v-=p,m+=d),b<u&&(v+=u,f+=g),x%y==0&&T.push({x:m,y:f}),x++}return T}},36469:C=>{C.exports=function(a,y,T){var m=y-(a.x1+a.x2)/2,f=T-(a.y1+a.y2)/2;return a.x1+=m,a.y1+=f,a.x2+=m,a.y2+=f,a}},31116:(C,k,a)=>{var y=a(23031);C.exports=function(m){return new y(m.x1,m.y1,m.x2,m.y2)}},59944:C=>{C.exports=function(a,y){return y.setTo(a.x1,a.y1,a.x2,a.y2)}},59220:C=>{C.exports=function(a,y){return a.x1===y.x1&&a.y1===y.y1&&a.x2===y.x2&&a.y2===y.y2}},78177:(C,k,a)=>{var y=a(35001);C.exports=function(m,f,h){void 0===h&&(h=f);var c=y(m),u=m.x2-m.x1,p=m.y2-m.y1;return f&&(m.x1=m.x1-u/c*f,m.y1=m.y1-p/c*f),h&&(m.x2=m.x2+u/c*h,m.y2=m.y2+p/c*h),m}},26708:(C,k,a)=>{var y=a(52816),T=a(6113),m=a(2141);C.exports=function(h,c,u,p,d){void 0===p&&(p=0),void 0===d&&(d=[]);var A,D,g=[],v=h.x1,x=h.y1,b=h.x2-v,_=h.y2-x,E=T(c,d),I=u-1;for(A=0;A<I;A++)D=E(A/I),g.push(new m(v+b*D,x+_*D));if(D=E(1),g.push(new m(v+b*D,x+_*D)),p>0){var R=g[0],F=[R];for(A=1;A<g.length-1;A++){var L=g[A];y(R,L)>=p&&(F.push(L),R=L)}var V=g[g.length-1];return y(R,V)<p&&F.pop(),F.push(V),F}return g}},32125:(C,k,a)=>{var y=a(2141);C.exports=function(m,f){return void 0===f&&(f=new y),f.x=(m.x1+m.x2)/2,f.y=(m.y1+m.y2)/2,f}},99569:(C,k,a)=>{var y=a(2141);C.exports=function(m,f,h){void 0===h&&(h=new y);var c=m.x1,u=m.y1,p=m.x2,d=m.y2,g=(p-c)*(p-c)+(d-u)*(d-u);if(0===g)return h;var v=((f.x-c)*(p-c)+(f.y-u)*(d-u))/g;return h.x=c+v*(p-c),h.y=u+v*(d-u),h}},34638:(C,k,a)=>{var y=a(36383),T=a(91938),m=a(2141);C.exports=function(h,c){void 0===c&&(c=new m);var u=T(h)-y.TAU;return c.x=Math.cos(u),c.y=Math.sin(u),c}},13151:(C,k,a)=>{var y=a(2141);C.exports=function(m,f,h){return void 0===h&&(h=new y),h.x=m.x1+(m.x2-m.x1)*f,h.y=m.y1+(m.y2-m.y1)*f,h}},15258:(C,k,a)=>{var y=a(35001),T=a(2141);C.exports=function(f,h,c,u){void 0===u&&(u=[]),!h&&c>0&&(h=y(f)/c);for(var p=f.x1,d=f.y1,g=f.x2,v=f.y2,x=0;x<h;x++){var b=x/h;u.push(new T(p+(g-p)*b,d+(v-d)*b))}return u}},26408:C=>{C.exports=function(a,y){var T=a.x1,m=a.y1,f=a.x2,h=a.y2,c=(f-T)*(f-T)+(h-m)*(h-m);return 0!==c&&Math.abs(((m-y.y)*(f-T)-(T-y.x)*(h-m))/c)*Math.sqrt(c)}},98770:C=>{C.exports=function(a){return Math.abs(a.y1-a.y2)}},35001:C=>{C.exports=function(a){return Math.sqrt((a.x2-a.x1)*(a.x2-a.x1)+(a.y2-a.y1)*(a.y2-a.y1))}},23031:(C,k,a)=>{var y=a(83419),T=a(13151),m=a(15258),f=a(23777),h=a(65822),c=a(26099),u=new y({initialize:function(d,g,v,x){void 0===d&&(d=0),void 0===g&&(g=0),void 0===v&&(v=0),void 0===x&&(x=0),this.type=f.LINE,this.x1=d,this.y1=g,this.x2=v,this.y2=x},getPoint:function(p,d){return T(this,p,d)},getPoints:function(p,d,g){return m(this,p,d,g)},getRandomPoint:function(p){return h(this,p)},setTo:function(p,d,g,v){return void 0===p&&(p=0),void 0===d&&(d=0),void 0===g&&(g=0),void 0===v&&(v=0),this.x1=p,this.y1=d,this.x2=g,this.y2=v,this},setFromObjects:function(p,d){return this.x1=p.x,this.y1=p.y,this.x2=d.x,this.y2=d.y,this},getPointA:function(p){return void 0===p&&(p=new c),p.set(this.x1,this.y1),p},getPointB:function(p){return void 0===p&&(p=new c),p.set(this.x2,this.y2),p},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(p){this.x1<=this.x2?this.x1=p:this.x2=p}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(p){this.x1>this.x2?this.x1=p:this.x2=p}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(p){this.y1<=this.y2?this.y1=p:this.y2=p}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(p){this.y1>this.y2?this.y1=p:this.y2=p}}});C.exports=u},64795:(C,k,a)=>{var y=a(36383),T=a(15994),m=a(91938);C.exports=function(h){var c=m(h)-y.TAU;return T(c,-Math.PI,Math.PI)}},52616:(C,k,a)=>{var y=a(36383),T=a(91938);C.exports=function(f){return Math.cos(T(f)-y.TAU)}},87231:(C,k,a)=>{var y=a(36383),T=a(91938);C.exports=function(f){return Math.sin(T(f)-y.TAU)}},89662:C=>{C.exports=function(a,y,T){return a.x1+=y,a.y1+=T,a.x2+=y,a.y2+=T,a}},71165:C=>{C.exports=function(a){return-(a.x2-a.x1)/(a.y2-a.y1)}},65822:(C,k,a)=>{var y=a(2141);C.exports=function(m,f){void 0===f&&(f=new y);var h=Math.random();return f.x=m.x1+h*(m.x2-m.x1),f.y=m.y1+h*(m.y2-m.y1),f}},69777:(C,k,a)=>{var y=a(91938),T=a(64795);C.exports=function(f,h){return 2*T(h)-Math.PI-y(f)}},39706:(C,k,a)=>{var y=a(64400);C.exports=function(m,f){return y(m,(m.x1+m.x2)/2,(m.y1+m.y2)/2,f)}},82585:(C,k,a)=>{var y=a(64400);C.exports=function(m,f,h){return y(m,f.x,f.y,h)}},64400:C=>{C.exports=function(a,y,T,m){var f=Math.cos(m),h=Math.sin(m),c=a.x1-y,u=a.y1-T;return a.x1=c*f-u*h+y,a.y1=c*h+u*f+T,a.x2=(c=a.x2-y)*f-(u=a.y2-T)*h+y,a.y2=c*h+u*f+T,a}},62377:C=>{C.exports=function(a,y,T,m,f){return a.x1=y,a.y1=T,a.x2=y+Math.cos(m)*f,a.y2=T+Math.sin(m)*f,a}},71366:C=>{C.exports=function(a){return(a.y2-a.y1)/(a.x2-a.x1)}},10809:C=>{C.exports=function(a){return Math.abs(a.x1-a.x2)}},2529:(C,k,a)=>{var y=a(23031);y.Angle=a(91938),y.BresenhamPoints=a(84993),y.CenterOn=a(36469),y.Clone=a(31116),y.CopyFrom=a(59944),y.Equals=a(59220),y.Extend=a(78177),y.GetEasedPoints=a(26708),y.GetMidPoint=a(32125),y.GetNearestPoint=a(99569),y.GetNormal=a(34638),y.GetPoint=a(13151),y.GetPoints=a(15258),y.GetShortestDistance=a(26408),y.Height=a(98770),y.Length=a(35001),y.NormalAngle=a(64795),y.NormalX=a(52616),y.NormalY=a(87231),y.Offset=a(89662),y.PerpSlope=a(71165),y.Random=a(65822),y.ReflectAngle=a(69777),y.Rotate=a(39706),y.RotateAroundPoint=a(82585),y.RotateAroundXY=a(64400),y.SetToAngle=a(62377),y.Slope=a(71366),y.Width=a(10809),C.exports=y},83997:(C,k,a)=>{var y=a(83419),T=a(87841),m=a(26099);function f(c,u,p,d){var g=c-p,v=u-d;return Math.sqrt(g*g+v*v)}var h=new y({initialize:function(u,p,d){this.vertex1=u,this.vertex2=p,this.vertex3=d,this.bounds=new T,this._inCenter=new m},getInCenter:function(c){void 0===c&&(c=!0);var g,v,x,b,_,E,u=this.vertex1,p=this.vertex2,d=this.vertex3;c?(g=u.x,v=u.y,x=p.x,b=p.y,_=d.x,E=d.y):(g=u.vx,v=u.vy,x=p.vx,b=p.vy,_=d.vx,E=d.vy);var A=f(_,E,x,b),D=f(g,v,_,E),I=f(x,b,g,v),R=A+D+I;return this._inCenter.set((g*A+x*D+_*I)/R,(v*A+b*D+E*I)/R)},contains:function(c,u,p){var d=this.vertex1,g=this.vertex2,v=this.vertex3,x=d.vx,b=d.vy,_=g.vx,E=g.vy,A=v.vx,D=v.vy;if(p){var I=p.a,R=p.b,F=p.c,L=p.d,V=p.e,B=p.f;x=d.vx*I+d.vy*F+V,b=d.vx*R+d.vy*L+B,_=g.vx*I+g.vy*F+V,E=g.vx*R+g.vy*L+B,A=v.vx*I+v.vy*F+V,D=v.vx*R+v.vy*L+B}var G=A-x,Q=D-b,H=_-x,K=E-b,tt=c-x,at=u-b,lt=G*G+Q*Q,J=G*H+Q*K,it=G*tt+Q*at,Y=H*H+K*K,X=H*tt+K*at,nt=lt*Y-J*J,ht=0===nt?0:1/nt,gt=(Y*it-J*X)*ht,wt=(lt*X-J*it)*ht;return gt>=0&&wt>=0&&gt+wt<1},isCounterClockwise:function(c){var u=this.vertex1,p=this.vertex2,d=this.vertex3,g=(p.vx-u.vx)*(d.vy-u.vy)-(p.vy-u.vy)*(d.vx-u.vx);return c<=0?g>=0:g<0},load:function(c,u,p,d,g){return p=this.vertex1.load(c,u,p,d,g),p=this.vertex2.load(c,u,p,d,g),this.vertex3.load(c,u,p,d,g)},transformCoordinatesLocal:function(c,u,p,d){return this.vertex1.transformCoordinatesLocal(c,u,p,d),this.vertex2.transformCoordinatesLocal(c,u,p,d),this.vertex3.transformCoordinatesLocal(c,u,p,d),this},updateBounds:function(){var c=this.vertex1,u=this.vertex2,p=this.vertex3,d=this.bounds;return d.x=Math.min(c.vx,u.vx,p.vx),d.y=Math.min(c.vy,u.vy,p.vy),d.width=Math.max(c.vx,u.vx,p.vx)-d.x,d.height=Math.max(c.vy,u.vy,p.vy)-d.y,this},isInView:function(c,u,p,d,g,v,x,b,_,E,A){this.update(d,g,v,x,b,_,E,A);var D=this.vertex1,I=this.vertex2,R=this.vertex3;if(D.ta<=0&&I.ta<=0&&R.ta<=0||u&&!this.isCounterClockwise(p))return!1;var F=this.bounds;return F.x=Math.min(D.tx,I.tx,R.tx),F.y=Math.min(D.ty,I.ty,R.ty),F.width=Math.max(D.tx,I.tx,R.tx)-F.x,F.height=Math.max(D.ty,I.ty,R.ty)-F.y,!(F.width<=0||F.height<=0||c.width<=0||c.height<=0||F.right<c.x||F.bottom<c.y||F.x>c.x+c.width||F.y>c.y+c.height)},scrollUV:function(c,u){return this.vertex1.scrollUV(c,u),this.vertex2.scrollUV(c,u),this.vertex3.scrollUV(c,u),this},scaleUV:function(c,u){return this.vertex1.scaleUV(c,u),this.vertex2.scaleUV(c,u),this.vertex3.scaleUV(c,u),this},setColor:function(c){return this.vertex1.color=c,this.vertex2.color=c,this.vertex3.color=c,this},update:function(c,u,p,d,g,v,x,b){return this.vertex1.update(u,p,d,g,v,x,b,c),this.vertex2.update(u,p,d,g,v,x,b,c),this.vertex3.update(u,p,d,g,v,x,b,c),this},translate:function(c,u){void 0===u&&(u=0);var p=this.vertex1,d=this.vertex2,g=this.vertex3;return p.x+=c,p.y+=u,d.x+=c,d.y+=u,g.x+=c,g.y+=u,this},x:{get:function(){return this.getInCenter().x},set:function(c){var u=this.getInCenter();this.translate(c-u.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(c){var u=this.getInCenter();this.translate(0,c-u.y)}},alpha:{get:function(){return(this.vertex1.alpha+this.vertex2.alpha+this.vertex3.alpha)/3},set:function(c){this.vertex1.alpha=c,this.vertex2.alpha=c,this.vertex3.alpha=c}},depth:{get:function(){return(this.vertex1.vz+this.vertex2.vz+this.vertex3.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});C.exports=h},48803:(C,k,a)=>{var y=a(83997),T=a(95540),m=a(37867),f=a(25836),h=a(39318),c=new f,u=new f,p=new m;C.exports=function(g){var it,v=T(g,"mesh"),x=T(g,"texture",null),b=T(g,"frame"),_=T(g,"width",1),E=T(g,"height",_),A=T(g,"widthSegments",1),D=T(g,"heightSegments",A),I=T(g,"x",0),R=T(g,"y",0),F=T(g,"z",0),L=T(g,"rotateX",0),V=T(g,"rotateY",0),B=T(g,"rotateZ",0),G=T(g,"zIsUp",!0),Q=T(g,"isOrtho",!!v&&v.dirtyCache[11]),H=T(g,"colors",[16777215]),K=T(g,"alphas",[1]),tt=T(g,"tile",!1),at=T(g,"flipY",!1),lt=T(g,"width",null),J={faces:[],verts:[]};if(c.set(I,R,F),u.set(L,V,B),p.fromRotationXYTranslation(u,c,G),!x&&v)x=v.texture,b||(it=v.frame);else if(v&&"string"==typeof x)x=v.scene.sys.textures.get(x);else if(!x)return J;it||(it=x.get(b)),!lt&&Q&&x&&v&&(_=it.width/v.height,E=it.height/v.height);var ie,ae,Y=_/2,X=E/2,nt=Math.floor(A),ht=Math.floor(D),gt=nt+1,wt=ht+1,St=_/nt,Vt=E/ht,Zt=[],Jt=[],fe=0,Pe=1,Xe=0,Re=1;it&&(fe=it.u0,Pe=it.u1,at?(Xe=it.v1,Re=it.v0):(Xe=it.v0,Re=it.v1));var $e=Pe-fe,Ce=Re-Xe;for(ae=0;ae<wt;ae++){var Je=ae*Vt-X;for(ie=0;ie<gt;ie++)Jt.push(ie*St-Y,-Je),Zt.push(fe+$e*(ie/nt),Xe+Ce*(ae/ht))}Array.isArray(H)||(H=[H]),Array.isArray(K)||(K=[K]);var an=0,on=0;for(ae=0;ae<ht;ae++)for(ie=0;ie<nt;ie++){var dn=2*(ie+gt*ae),Mr=2*(ie+gt*(ae+1)),Ur=2*(ie+1+gt*(ae+1)),un=2*(ie+1+gt*ae),sr=H[on],Or=K[an],bs=new h(Jt[dn],Jt[dn+1],0,Zt[dn],Zt[dn+1],sr,Or).transformMat4(p),zl=new h(Jt[Mr],Jt[Mr+1],0,Zt[Mr],Zt[Mr+1],sr,Or).transformMat4(p),$s=new h(Jt[un],Jt[un+1],0,Zt[un],Zt[un+1],sr,Or).transformMat4(p),Ba=new h(Jt[Mr],Jt[Mr+1],0,Zt[Mr],Zt[Mr+1],sr,Or).transformMat4(p),Xo=new h(Jt[Ur],Jt[Ur+1],0,Zt[Ur],Zt[Ur+1],sr,Or).transformMat4(p),Gl=new h(Jt[un],Jt[un+1],0,Zt[un],Zt[un+1],sr,Or).transformMat4(p);tt&&(bs.setUVs(fe,Re),zl.setUVs(fe,Xe),$s.setUVs(Pe,Re),Ba.setUVs(fe,Xe),Xo.setUVs(Pe,Xe),Gl.setUVs(Pe,Re)),++on===H.length&&(on=0),++an===K.length&&(an=0),J.verts.push(bs,zl,$s,Ba,Xo,Gl),J.faces.push(new y(bs,zl,$s),new y(Ba,Xo,Gl))}return v&&(v.faces=v.faces.concat(J.faces),v.vertices=v.vertices.concat(J.verts)),J}},34684:(C,k,a)=>{var y=a(83997),T=a(37867),m=a(25836),f=a(39318),h=new m,c=new m,u=new T;C.exports=function(d,g,v,x,b,_,E,A,D,I){void 0===v&&(v=1),void 0===x&&(x=0),void 0===b&&(b=0),void 0===_&&(_=0),void 0===E&&(E=0),void 0===A&&(A=0),void 0===D&&(D=0),void 0===I&&(I=!0);var R={faces:[],verts:[]},F=d.materials;h.set(x,b,_),c.set(E,A,D),u.fromRotationXYTranslation(c,h,I);for(var L=0;L<d.models.length;L++)for(var V=d.models[L],B=V.vertices,G=V.textureCoords,Q=V.faces,H=0;H<Q.length;H++){var K=Q[H],tt=K.vertices[0],at=K.vertices[1],lt=K.vertices[2],J=B[tt.vertexIndex],it=B[at.vertexIndex],Y=B[lt.vertexIndex],X=tt.textureCoordsIndex,nt=at.textureCoordsIndex,ht=lt.textureCoordsIndex,gt=-1===X?{u:0,v:1}:G[X],wt=-1===nt?{u:0,v:0}:G[nt],St=-1===ht?{u:1,v:1}:G[ht],Vt=16777215;""!==K.material&&F[K.material]&&(Vt=F[K.material]);var Zt=new f(J.x*v,J.y*v,J.z*v,gt.u,gt.v,Vt).transformMat4(u),Jt=new f(it.x*v,it.y*v,it.z*v,wt.u,wt.v,Vt).transformMat4(u),ie=new f(Y.x*v,Y.y*v,Y.z*v,St.u,St.v,Vt).transformMat4(u);R.verts.push(Zt,Jt,ie),R.faces.push(new y(Zt,Jt,ie))}return g&&(g.faces=g.faces.concat(R.faces),g.vertices=g.vertices.concat(R.verts)),R}},92515:(C,k,a)=>{var y=a(83997),T=a(39318);C.exports=function(f,h,c,u,p,d,g,v){if(void 0===u&&(u=!1),void 0===d&&(d=16777215),void 0===g&&(g=1),void 0===v&&(v=!1),f.length===h.length||u){var b,I,L,V,B,x={faces:[],vertices:[]},G=u?3:2,Q=Array.isArray(d),H=Array.isArray(g);if(Array.isArray(c)&&c.length>0)for(b=0;b<c.length;b++){var K=c[b],tt=2*c[b],at=c[b]*G;I=h[tt+1],v&&(I=1-I),L=0,V=0,B=0,p&&(L=p[at],V=p[at+1],B=u?p[at+2]:0),x.vertices.push(new T(f[at],f[at+1],u?f[at+2]:0,h[tt],I,Q?d[K]:d,H?g[K]:g,L,V,B))}else{var lt=0,J=0;for(b=0;b<f.length;b+=G)L=0,V=0,B=0,p&&(L=p[b],V=p[b+1],B=u?p[b+2]:0),x.vertices.push(new T(f[b],f[b+1],u?f[b+2]:0,h[lt],I=h[lt+1],Q?d[J]:d,H?g[J]:g,L,V,B)),lt+=2,J++}for(b=0;b<x.vertices.length;b+=3)x.faces.push(new y(x.vertices[b],x.vertices[b+1],x.vertices[b+2]));return x}console.warn("GenerateVerts: vertices and uvs count not equal")}},85048:C=>{var k=!0,a="untitled",y="",T="";function m(_){var E=_.indexOf("#");return E>-1?_.substring(0,E):_}function f(_){return 0===_.models.length&&_.models.push({faces:[],name:a,textureCoords:[],vertexNormals:[],vertices:[]}),y="",_.models[_.models.length-1]}function h(_,E){E.models.push({faces:[],name:_.length>=2?_[1]:a,textureCoords:[],vertexNormals:[],vertices:[]}),y=""}function c(_){2===_.length&&(y=_[1])}function u(_,E){var A=_.length,D=A>=2?parseFloat(_[1]):0,I=A>=3?parseFloat(_[2]):0,R=A>=4?parseFloat(_[3]):0;f(E).vertices.push({x:D,y:I,z:R})}function p(_,E){var A=_.length,D=A>=2?parseFloat(_[1]):0,I=A>=3?parseFloat(_[2]):0,R=A>=4?parseFloat(_[3]):0;isNaN(D)&&(D=0),isNaN(I)&&(I=0),isNaN(R)&&(R=0),k&&(I=1-I),f(E).textureCoords.push({u:D,v:I,w:R})}function d(_,E){var A=_.length,D=A>=2?parseFloat(_[1]):0,I=A>=3?parseFloat(_[2]):0,R=A>=4?parseFloat(_[3]):0;f(E).vertexNormals.push({x:D,y:I,z:R})}function g(_,E){var A=_.length-1;if(!(A<3)){for(var D={group:y,material:T,vertices:[]},I=0;I<A;I++){var F=_[I+1].split("/"),L=F.length;if(!(L<1||L>3)){var V=0,B=0,G=0;V=parseInt(F[0],10),L>1&&""!==F[1]&&(B=parseInt(F[1],10)),L>2&&(G=parseInt(F[2],10)),0!==V&&(V<0&&(V=f(E).vertices.length+1+V),D.vertices.push({textureCoordsIndex:B-=1,vertexIndex:V-=1,vertexNormalIndex:G-=1}))}}f(E).faces.push(D)}}function v(_,E){_.length>=2&&E.materialLibraries.push(_[1])}function x(_){_.length>=2&&(T=_[1])}C.exports=function(_,E){void 0===E&&(E=!0),k=E;var A={materials:{},materialLibraries:[],models:[]};y="",T="";for(var D=_.split("\n"),I=0;I<D.length;I++){var F=m(D[I]).replace(/\s\s+/g," ").trim().split(" ");switch(F[0].toLowerCase()){case"o":h(F,A);break;case"g":c(F);break;case"v":u(F,A);break;case"vt":p(F,A);break;case"vn":d(F,A);break;case"f":g(F,A);break;case"mtllib":v(F,A);break;case"usemtl":x(F)}}return A}},61485:(C,k,a)=>{var y=a(37589);C.exports=function(m){for(var f={},h=m.split("\n"),c="",u=0;u<h.length;u++){var p=h[u].trim();if(0!==p.indexOf("#")&&""!==p){var d=p.replace(/\s\s+/g," ").trim().split(" ");switch(d[0].toLowerCase()){case"newmtl":c=d[1];break;case"kd":var g=Math.floor(255*d[1]),v=d.length>=2?Math.floor(255*d[2]):g,x=d.length>=3?Math.floor(255*d[3]):g;f[c]=y(g,v,x)}}}return f}},92570:C=>{C.exports=function(a,y,T,m){var f,h;if(void 0===T&&void 0===m){var c=a.getInCenter();f=c.x,h=c.y}var u=Math.cos(y),p=Math.sin(y),d=a.vertex1,g=a.vertex2,v=a.vertex3,x=d.x-f,b=d.y-h;d.set(x*u-b*p+f,x*p+b*u+h),g.set((x=g.x-f)*u-(b=g.y-h)*p+f,x*p+b*u+h),v.set((x=v.x-f)*u-(b=v.y-h)*p+f,x*p+b*u+h)}},39318:(C,k,a)=>{var y=a(83419),T=a(70554),m=a(25836),f=new y({Extends:m,initialize:function(c,u,p,d,g,v,x,b,_,E){void 0===v&&(v=16777215),void 0===x&&(x=1),void 0===b&&(b=0),void 0===_&&(_=0),void 0===E&&(E=0),m.call(this,c,u,p),this.vx=0,this.vy=0,this.vz=0,this.nx=b,this.ny=_,this.nz=E,this.u=d,this.v=g,this.color=v,this.alpha=x,this.tx=0,this.ty=0,this.ta=0,this.tu=d,this.tv=g},setUVs:function(h,c){return this.u=h,this.v=c,this.tu=h,this.tv=c,this},scrollUV:function(h,c){return this.tu+=h,this.tv+=c,this},scaleUV:function(h,c){return this.tu=this.u*h,this.tv=this.v*c,this},transformCoordinatesLocal:function(h,c,u,p){var d=this.x,g=this.y,v=this.z,x=h.val,_=d*x[1]+g*x[5]+v*x[9]+x[13],E=d*x[2]+g*x[6]+v*x[10]+x[14],A=d*x[3]+g*x[7]+v*x[11]+x[15];this.vx=(d*x[0]+g*x[4]+v*x[8]+x[12])/A*c,this.vy=-_/A*u,this.vz=p<=0?E/A:-E/A},resize:function(h,c,u,p,d,g){return this.x=h,this.y=c,this.vx=this.x*u,this.vy=-this.y*p,this.vz=0,d<.5?this.vx+=u*(.5-d):d>.5&&(this.vx-=u*(d-.5)),g<.5?this.vy+=p*(.5-g):g>.5&&(this.vy-=p*(g-.5)),this},update:function(h,c,u,p,d,g,v,x){var b=this.vx*h+this.vy*u+d,_=this.vx*c+this.vy*p+g;return v&&(b=Math.round(b),_=Math.round(_)),this.tx=b,this.ty=_,this.ta=this.alpha*x,this},load:function(h,c,u,p,d){return h[++u]=this.tx,h[++u]=this.ty,h[++u]=this.tu,h[++u]=this.tv,h[++u]=p,h[++u]=d,c[++u]=T.getTintAppendFloatAlpha(this.color,this.ta),u}});C.exports=f},73090:(C,k,a)=>{var y={Face:a(83997),GenerateGridVerts:a(48803),GenerateObjVerts:a(34684),GenerateVerts:a(92515),ParseObj:a(85048),ParseObjMaterial:a(61485),RotateFace:a(92570),Vertex:a(39318)};C.exports=y},96550:C=>{C.exports=function(a){return a.setTo(Math.ceil(a.x),Math.ceil(a.y))}},99706:(C,k,a)=>{var y=a(2141);C.exports=function(m){return new y(m.x,m.y)}},68010:C=>{C.exports=function(a,y){return y.setTo(a.x,a.y)}},27814:C=>{C.exports=function(a,y){return a.x===y.x&&a.y===y.y}},73565:C=>{C.exports=function(a){return a.setTo(Math.floor(a.x),Math.floor(a.y))}},87555:(C,k,a)=>{var y=a(2141);C.exports=function(m,f){if(void 0===f&&(f=new y),!Array.isArray(m))throw new Error("GetCentroid points argument must be an array");var h=m.length;if(h<1)throw new Error("GetCentroid points array must not be empty");if(1===h)f.x=m[0].x,f.y=m[0].y;else{for(var c=0;c<h;c++)f.x+=m[c].x,f.y+=m[c].y;f.x/=h,f.y/=h}return f}},28793:C=>{C.exports=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)}},44405:C=>{C.exports=function(a){return a.x*a.x+a.y*a.y}},20873:(C,k,a)=>{var y=a(87841);C.exports=function(m,f){void 0===f&&(f=new y);for(var h=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,p=Number.POSITIVE_INFINITY,d=0;d<m.length;d++){var g=m[d];g.x>h&&(h=g.x),g.x<c&&(c=g.x),g.y>u&&(u=g.y),g.y<p&&(p=g.y)}return f.x=c,f.y=p,f.width=h-c,f.height=u-p,f}},26152:(C,k,a)=>{var y=a(2141);C.exports=function(m,f,h,c){return void 0===h&&(h=0),void 0===c&&(c=new y),c.x=m.x+(f.x-m.x)*h,c.y=m.y+(f.y-m.y)*h,c}},55767:C=>{C.exports=function(a){return a.setTo(a.y,a.x)}},79432:(C,k,a)=>{var y=a(2141);C.exports=function(m,f){return void 0===f&&(f=new y),f.setTo(-m.x,-m.y)}},2141:(C,k,a)=>{var y=a(83419),T=a(23777),m=new y({initialize:function(h,c){void 0===h&&(h=0),void 0===c&&(c=h),this.type=T.POINT,this.x=h,this.y=c},setTo:function(f,h){return void 0===f&&(f=0),void 0===h&&(h=f),this.x=f,this.y=h,this}});C.exports=m},72930:(C,k,a)=>{var y=a(2141),T=a(44405);C.exports=function(f,h,c){void 0===c&&(c=new y);var p=(f.x*h.x+f.y*h.y)/T(h);return 0!==p&&(c.x=p*h.x,c.y=p*h.y),c}},62880:(C,k,a)=>{var y=a(2141);C.exports=function(m,f,h){void 0===h&&(h=new y);var c=m.x*f.x+m.y*f.y;return 0!==c&&(h.x=c*f.x,h.y=c*f.y),h}},15093:(C,k,a)=>{var y=a(28793);C.exports=function(m,f){if(0!==m.x||0!==m.y){var h=y(m);m.x/=h,m.y/=h}return m.x*=f,m.y*=f,m}},43711:(C,k,a)=>{var y=a(2141);y.Ceil=a(96550),y.Clone=a(99706),y.CopyFrom=a(68010),y.Equals=a(27814),y.Floor=a(73565),y.GetCentroid=a(87555),y.GetMagnitude=a(28793),y.GetMagnitudeSq=a(44405),y.GetRectangleFromPoints=a(20873),y.Interpolate=a(26152),y.Invert=a(55767),y.Negative=a(79432),y.Project=a(72930),y.ProjectUnit=a(62880),y.SetMagnitude=a(15093),C.exports=y},12306:(C,k,a)=>{var y=a(25717);C.exports=function(m){return new y(m.points)}},63814:C=>{C.exports=function(a,y,T){for(var m=!1,f=-1,h=a.points.length-1;++f<a.points.length;h=f){var c=a.points[f].x,u=a.points[f].y,d=a.points[h].y;(u<=T&&T<d||d<=T&&T<u)&&y<(a.points[h].x-c)*(T-u)/(d-u)+c&&(m=!m)}return m}},99338:(C,k,a)=>{var y=a(63814);C.exports=function(m,f){return y(m,f.x,f.y)}},94811:C=>{"use strict";function k(J,it,Y){Y=Y||2;var wt,St,Vt,Zt,Jt,ie,ae,X=it&&it.length,nt=X?it[0]*Y:J.length,ht=a(J,0,nt,Y,!0),gt=[];if(!ht||ht.next===ht.prev)return gt;if(X&&(ht=function u(J,it,Y,X){var ht,gt,Vt,nt=[];for(ht=0,gt=it.length;ht<gt;ht++)(Vt=a(J,it[ht]*X,ht<gt-1?it[ht+1]*X:J.length,X,!1))===Vt.next&&(Vt.steiner=!0),nt.push(E(Vt));for(nt.sort(p),ht=0;ht<nt.length;ht++)Y=d(nt[ht],Y);return Y}(J,it,ht,Y)),J.length>80*Y){wt=Vt=J[0],St=Zt=J[1];for(var fe=Y;fe<nt;fe+=Y)(Jt=J[fe])<wt&&(wt=Jt),(ie=J[fe+1])<St&&(St=ie),Jt>Vt&&(Vt=Jt),ie>Zt&&(Zt=ie);ae=0!==(ae=Math.max(Vt-wt,Zt-St))?32767/ae:0}return T(ht,gt,Y,wt,St,ae,0),gt}function a(J,it,Y,X,nt){var ht,gt;if(nt===lt(J,it,Y,X)>0)for(ht=it;ht<Y;ht+=X)gt=K(ht,J[ht],J[ht+1],gt);else for(ht=Y-X;ht>=it;ht-=X)gt=K(ht,J[ht],J[ht+1],gt);return gt&&R(gt,gt.next)&&(tt(gt),gt=gt.next),gt}function y(J,it){if(!J)return J;it||(it=J);var X,Y=J;do{if(X=!1,Y.steiner||!R(Y,Y.next)&&0!==I(Y.prev,Y,Y.next))Y=Y.next;else{if(tt(Y),(Y=it=Y.prev)===Y.next)break;X=!0}}while(X||Y!==it);return it}function T(J,it,Y,X,nt,ht,gt){if(J){!gt&&ht&&function x(J,it,Y,X){var nt=J;do{0===nt.z&&(nt.z=_(nt.x,nt.y,it,Y,X)),nt.prevZ=nt.prev,nt.nextZ=nt.next,nt=nt.next}while(nt!==J);nt.prevZ.nextZ=null,nt.prevZ=null,function b(J){var it,Y,X,nt,ht,gt,wt,St,Vt=1;do{for(Y=J,J=null,ht=null,gt=0;Y;){for(gt++,X=Y,wt=0,it=0;it<Vt&&(wt++,X=X.nextZ);it++);for(St=Vt;wt>0||St>0&&X;)0!==wt&&(0===St||!X||Y.z<=X.z)?(nt=Y,Y=Y.nextZ,wt--):(nt=X,X=X.nextZ,St--),ht?ht.nextZ=nt:J=nt,nt.prevZ=ht,ht=nt;Y=X}ht.nextZ=null,Vt*=2}while(gt>1)}(nt)}(J,X,nt,ht);for(var St,Vt,wt=J;J.prev!==J.next;)if(St=J.prev,Vt=J.next,ht?f(J,X,nt,ht):m(J))it.push(St.i/Y|0),it.push(J.i/Y|0),it.push(Vt.i/Y|0),tt(J),J=Vt.next,wt=Vt.next;else if((J=Vt)===wt){gt?1===gt?T(J=h(y(J),it,Y),it,Y,X,nt,ht,2):2===gt&&c(J,it,Y,X,nt,ht):T(y(J),it,Y,X,nt,ht,1);break}}}function m(J){var it=J.prev,Y=J,X=J.next;if(I(it,Y,X)>=0)return!1;for(var nt=it.x,ht=Y.x,gt=X.x,wt=it.y,St=Y.y,Vt=X.y,Zt=nt<ht?nt<gt?nt:gt:ht<gt?ht:gt,Jt=wt<St?wt<Vt?wt:Vt:St<Vt?St:Vt,ie=nt>ht?nt>gt?nt:gt:ht>gt?ht:gt,ae=wt>St?wt>Vt?wt:Vt:St>Vt?St:Vt,fe=X.next;fe!==it;){if(fe.x>=Zt&&fe.x<=ie&&fe.y>=Jt&&fe.y<=ae&&A(nt,wt,ht,St,gt,Vt,fe.x,fe.y)&&I(fe.prev,fe,fe.next)>=0)return!1;fe=fe.next}return!0}function f(J,it,Y,X){var nt=J.prev,ht=J,gt=J.next;if(I(nt,ht,gt)>=0)return!1;for(var wt=nt.x,St=ht.x,Vt=gt.x,Zt=nt.y,Jt=ht.y,ie=gt.y,ae=wt<St?wt<Vt?wt:Vt:St<Vt?St:Vt,fe=Zt<Jt?Zt<ie?Zt:ie:Jt<ie?Jt:ie,Pe=wt>St?wt>Vt?wt:Vt:St>Vt?St:Vt,Xe=Zt>Jt?Zt>ie?Zt:ie:Jt>ie?Jt:ie,Re=_(ae,fe,it,Y,X),$e=_(Pe,Xe,it,Y,X),Ce=J.prevZ,Je=J.nextZ;Ce&&Ce.z>=Re&&Je&&Je.z<=$e;){if(Ce.x>=ae&&Ce.x<=Pe&&Ce.y>=fe&&Ce.y<=Xe&&Ce!==nt&&Ce!==gt&&A(wt,Zt,St,Jt,Vt,ie,Ce.x,Ce.y)&&I(Ce.prev,Ce,Ce.next)>=0||(Ce=Ce.prevZ,Je.x>=ae&&Je.x<=Pe&&Je.y>=fe&&Je.y<=Xe&&Je!==nt&&Je!==gt&&A(wt,Zt,St,Jt,Vt,ie,Je.x,Je.y)&&I(Je.prev,Je,Je.next)>=0))return!1;Je=Je.nextZ}for(;Ce&&Ce.z>=Re;){if(Ce.x>=ae&&Ce.x<=Pe&&Ce.y>=fe&&Ce.y<=Xe&&Ce!==nt&&Ce!==gt&&A(wt,Zt,St,Jt,Vt,ie,Ce.x,Ce.y)&&I(Ce.prev,Ce,Ce.next)>=0)return!1;Ce=Ce.prevZ}for(;Je&&Je.z<=$e;){if(Je.x>=ae&&Je.x<=Pe&&Je.y>=fe&&Je.y<=Xe&&Je!==nt&&Je!==gt&&A(wt,Zt,St,Jt,Vt,ie,Je.x,Je.y)&&I(Je.prev,Je,Je.next)>=0)return!1;Je=Je.nextZ}return!0}function h(J,it,Y){var X=J;do{var nt=X.prev,ht=X.next.next;!R(nt,ht)&&F(nt,X,X.next,ht)&&G(nt,ht)&&G(ht,nt)&&(it.push(nt.i/Y|0),it.push(X.i/Y|0),it.push(ht.i/Y|0),tt(X),tt(X.next),X=J=ht),X=X.next}while(X!==J);return y(X)}function c(J,it,Y,X,nt,ht){var gt=J;do{for(var wt=gt.next.next;wt!==gt.prev;){if(gt.i!==wt.i&&D(gt,wt)){var St=H(gt,wt);return gt=y(gt,gt.next),St=y(St,St.next),T(gt,it,Y,X,nt,ht,0),void T(St,it,Y,X,nt,ht,0)}wt=wt.next}gt=gt.next}while(gt!==J)}function p(J,it){return J.x-it.x}function d(J,it){var Y=function g(J,it){var gt,Y=it,X=J.x,nt=J.y,ht=-1/0;do{if(nt<=Y.y&&nt>=Y.next.y&&Y.next.y!==Y.y){var wt=Y.x+(nt-Y.y)*(Y.next.x-Y.x)/(Y.next.y-Y.y);if(wt<=X&&wt>ht&&(ht=wt,gt=Y.x<Y.next.x?Y:Y.next,wt===X))return gt}Y=Y.next}while(Y!==it);if(!gt)return null;var ie,St=gt,Vt=gt.x,Zt=gt.y,Jt=1/0;Y=gt;do{X>=Y.x&&Y.x>=Vt&&X!==Y.x&&A(nt<Zt?X:ht,nt,Vt,Zt,nt<Zt?ht:X,nt,Y.x,Y.y)&&(ie=Math.abs(nt-Y.y)/(X-Y.x),G(Y,J)&&(ie<Jt||ie===Jt&&(Y.x>gt.x||Y.x===gt.x&&v(gt,Y)))&&(gt=Y,Jt=ie)),Y=Y.next}while(Y!==St);return gt}(J,it);if(!Y)return it;var X=H(Y,J);return y(X,X.next),y(Y,Y.next)}function v(J,it){return I(J.prev,J,it.prev)<0&&I(it.next,J,J.next)<0}function _(J,it,Y,X,nt){return(J=1431655765&((J=858993459&((J=252645135&((J=16711935&((J=(J-Y)*nt|0)|J<<8))|J<<4))|J<<2))|J<<1))|(it=1431655765&((it=858993459&((it=252645135&((it=16711935&((it=(it-X)*nt|0)|it<<8))|it<<4))|it<<2))|it<<1))<<1}function E(J){var it=J,Y=J;do{(it.x<Y.x||it.x===Y.x&&it.y<Y.y)&&(Y=it),it=it.next}while(it!==J);return Y}function A(J,it,Y,X,nt,ht,gt,wt){return(nt-gt)*(it-wt)>=(J-gt)*(ht-wt)&&(J-gt)*(X-wt)>=(Y-gt)*(it-wt)&&(Y-gt)*(ht-wt)>=(nt-gt)*(X-wt)}function D(J,it){return J.next.i!==it.i&&J.prev.i!==it.i&&!function B(J,it){var Y=J;do{if(Y.i!==J.i&&Y.next.i!==J.i&&Y.i!==it.i&&Y.next.i!==it.i&&F(Y,Y.next,J,it))return!0;Y=Y.next}while(Y!==J);return!1}(J,it)&&(G(J,it)&&G(it,J)&&function Q(J,it){var Y=J,X=!1,nt=(J.x+it.x)/2,ht=(J.y+it.y)/2;do{Y.y>ht!=Y.next.y>ht&&Y.next.y!==Y.y&&nt<(Y.next.x-Y.x)*(ht-Y.y)/(Y.next.y-Y.y)+Y.x&&(X=!X),Y=Y.next}while(Y!==J);return X}(J,it)&&(I(J.prev,J,it.prev)||I(J,it.prev,it))||R(J,it)&&I(J.prev,J,J.next)>0&&I(it.prev,it,it.next)>0)}function I(J,it,Y){return(it.y-J.y)*(Y.x-it.x)-(it.x-J.x)*(Y.y-it.y)}function R(J,it){return J.x===it.x&&J.y===it.y}function F(J,it,Y,X){var nt=V(I(J,it,Y)),ht=V(I(J,it,X)),gt=V(I(Y,X,J)),wt=V(I(Y,X,it));return!!(nt!==ht&&gt!==wt||0===nt&&L(J,Y,it)||0===ht&&L(J,X,it)||0===gt&&L(Y,J,X)||0===wt&&L(Y,it,X))}function L(J,it,Y){return it.x<=Math.max(J.x,Y.x)&&it.x>=Math.min(J.x,Y.x)&&it.y<=Math.max(J.y,Y.y)&&it.y>=Math.min(J.y,Y.y)}function V(J){return J>0?1:J<0?-1:0}function G(J,it){return I(J.prev,J,J.next)<0?I(J,it,J.next)>=0&&I(J,J.prev,it)>=0:I(J,it,J.prev)<0||I(J,J.next,it)<0}function H(J,it){var Y=new at(J.i,J.x,J.y),X=new at(it.i,it.x,it.y),nt=J.next,ht=it.prev;return J.next=it,it.prev=J,Y.next=nt,nt.prev=Y,X.next=Y,Y.prev=X,ht.next=X,X.prev=ht,X}function K(J,it,Y,X){var nt=new at(J,it,Y);return X?(nt.next=X.next,nt.prev=X,X.next.prev=nt,X.next=nt):(nt.prev=nt,nt.next=nt),nt}function tt(J){J.next.prev=J.prev,J.prev.next=J.next,J.prevZ&&(J.prevZ.nextZ=J.nextZ),J.nextZ&&(J.nextZ.prevZ=J.prevZ)}function at(J,it,Y){this.i=J,this.x=it,this.y=Y,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function lt(J,it,Y,X){for(var nt=0,ht=it,gt=Y-X;ht<Y;ht+=X)nt+=(J[gt]-J[ht])*(J[ht+1]+J[gt+1]),gt=ht;return nt}k.deviation=function(J,it,Y,X){var nt=it&&it.length,gt=Math.abs(lt(J,0,nt?it[0]*Y:J.length,Y));if(nt)for(var wt=0,St=it.length;wt<St;wt++)gt-=Math.abs(lt(J,it[wt]*Y,wt<St-1?it[wt+1]*Y:J.length,Y));var Jt=0;for(wt=0;wt<X.length;wt+=3){var ie=X[wt]*Y,ae=X[wt+1]*Y,fe=X[wt+2]*Y;Jt+=Math.abs((J[ie]-J[fe])*(J[ae+1]-J[ie+1])-(J[ie]-J[ae])*(J[fe+1]-J[ie+1]))}return 0===gt&&0===Jt?0:Math.abs((Jt-gt)/gt)},k.flatten=function(J){for(var it=J[0][0].length,Y={vertices:[],holes:[],dimensions:it},X=0,nt=0;nt<J.length;nt++){for(var ht=0;ht<J[nt].length;ht++)for(var gt=0;gt<it;gt++)Y.vertices.push(J[nt][ht][gt]);nt>0&&Y.holes.push(X+=J[nt-1].length)}return Y},C.exports=k},13829:(C,k,a)=>{var y=a(87841);C.exports=function(m,f){void 0===f&&(f=new y);for(var d,h=1/0,c=1/0,u=-h,p=-c,g=0;g<m.points.length;g++)d=m.points[g],h=Math.min(h,d.x),c=Math.min(c,d.y),u=Math.max(u,d.x),p=Math.max(p,d.y);return f.x=h,f.y=c,f.width=u-h,f.height=p-c,f}},26173:C=>{C.exports=function(a,y){void 0===y&&(y=[]);for(var T=0;T<a.points.length;T++)y.push(a.points[T].x),y.push(a.points[T].y);return y}},9564:(C,k,a)=>{var y=a(35001),T=a(23031),m=a(30052);C.exports=function(h,c,u,p){void 0===p&&(p=[]);var d=h.points,g=m(h);!c&&u>0&&(c=g/u);for(var v=0;v<c;v++)for(var x=g*(v/c),b=0,_=0;_<d.length;_++){var E=d[_],A=d[(_+1)%d.length],D=new T(E.x,E.y,A.x,A.y),I=y(D);if(!(x<b||x>b+I)){var R=D.getPoint((x-b)/I);p.push(R);break}b+=I}return p}},30052:(C,k,a)=>{var y=a(35001),T=a(23031);C.exports=function(f){for(var h=f.points,c=0,u=0;u<h.length;u++){var p=h[u],d=h[(u+1)%h.length],g=new T(p.x,p.y,d.x,d.y);c+=y(g)}return c}},25717:(C,k,a)=>{var y=a(83419),T=a(63814),m=a(9564),f=a(23777),h=new y({initialize:function(u){this.type=f.POLYGON,this.area=0,this.points=[],u&&this.setTo(u)},contains:function(c,u){return T(this,c,u)},setTo:function(c){if(this.area=0,this.points=[],"string"==typeof c&&(c=c.split(" ")),!Array.isArray(c))return this;for(var u,p=0;p<c.length;p++)u={x:0,y:0},"number"==typeof c[p]||"string"==typeof c[p]?(u.x=parseFloat(c[p]),u.y=parseFloat(c[p+1]),p++):Array.isArray(c[p])?(u.x=c[p][0],u.y=c[p][1]):(u.x=c[p].x,u.y=c[p].y),this.points.push(u);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var u,p,c=0,d=0;d<this.points.length-1;d++)c+=((p=this.points[d+1]).x-(u=this.points[d]).x)*(u.y+p.y);return this.area=.5*-(c+=((u=this.points[0]).x-(p=this.points[this.points.length-1]).x)*(p.y+u.y)),this.area},getPoints:function(c,u,p){return m(this,c,u,p)}});C.exports=h},8133:C=>{C.exports=function(a){return a.points.reverse(),a}},29524:C=>{function k(h,c){var u=h.x-c.x,p=h.y-c.y;return u*u+p*p}function a(h,c,u){var p=c.x,d=c.y,g=u.x-p,v=u.y-d;if(0!==g||0!==v){var x=((h.x-p)*g+(h.y-d)*v)/(g*g+v*v);x>1?(p=u.x,d=u.y):x>0&&(p+=g*x,d+=v*x)}return(g=h.x-p)*g+(v=h.y-d)*v}function T(h,c,u,p,d){for(var v,g=p,x=c+1;x<u;x++){var b=a(h[x],h[c],h[u]);b>g&&(v=x,g=b)}g>p&&(v-c>1&&T(h,c,v,p,d),d.push(h[v]),u-v>1&&T(h,v,u,p,d))}function m(h,c){var u=h.length-1,p=[h[0]];return T(h,0,u,c,p),p.push(h[u]),p}C.exports=function(h,c,u){void 0===c&&(c=1),void 0===u&&(u=!1);var p=h.points;if(p.length>2){var d=c*c;u||(p=function y(h,c){for(var d,u=h[0],p=[u],g=1,v=h.length;g<v;g++)k(d=h[g],u)>c&&(p.push(d),u=d);return u!==d&&p.push(d),p}(p,d)),h.setTo(m(p,d))}return h}},5469:C=>{var k=function(y,T){return y[0]=T[0],y[1]=T[1],y};C.exports=function(y){var T,m=[],f=y.points;for(T=0;T<f.length;T++)m.push([f[T].x,f[T].y]);var h=[];for(m.length>0&&h.push(k([0,0],m[0])),T=0;T<m.length-1;T++){var c=m[T],u=m[T+1],p=c[0],d=c[1],g=u[0],v=u[1];h.push([.85*p+.15*g,.85*d+.15*v]),h.push([.15*p+.85*g,.15*d+.85*v])}return m.length>1&&h.push(k([0,0],m[m.length-1])),y.setTo(h)}},24709:C=>{C.exports=function(a,y,T){for(var m=a.points,f=0;f<m.length;f++)m[f].x+=y,m[f].y+=T;return a}},58423:(C,k,a)=>{var y=a(25717);y.Clone=a(12306),y.Contains=a(63814),y.ContainsPoint=a(99338),y.Earcut=a(94811),y.GetAABB=a(13829),y.GetNumberArray=a(26173),y.GetPoints=a(9564),y.Perimeter=a(30052),y.Reverse=a(8133),y.Simplify=a(29524),y.Smooth=a(5469),y.Translate=a(24709),C.exports=y},62224:C=>{C.exports=function(a){return a.width*a.height}},98615:C=>{C.exports=function(a){return a.x=Math.ceil(a.x),a.y=Math.ceil(a.y),a}},31688:C=>{C.exports=function(a){return a.x=Math.ceil(a.x),a.y=Math.ceil(a.y),a.width=Math.ceil(a.width),a.height=Math.ceil(a.height),a}},67502:C=>{C.exports=function(a,y,T){return a.x=y-a.width/2,a.y=T-a.height/2,a}},65085:(C,k,a)=>{var y=a(87841);C.exports=function(m){return new y(m.x,m.y,m.width,m.height)}},37303:C=>{C.exports=function(a,y,T){return!(a.width<=0||a.height<=0)&&a.x<=y&&a.x+a.width>=y&&a.y<=T&&a.y+a.height>=T}},96553:(C,k,a)=>{var y=a(37303);C.exports=function(m,f){return y(m,f.x,f.y)}},70273:C=>{C.exports=function(a,y){return!(y.width*y.height>a.width*a.height)&&y.x>a.x&&y.x<a.right&&y.right>a.x&&y.right<a.right&&y.y>a.y&&y.y<a.bottom&&y.bottom>a.y&&y.bottom<a.bottom}},43459:C=>{C.exports=function(a,y){return y.setTo(a.x,a.y,a.width,a.height)}},77493:C=>{C.exports=function(a,y){return void 0===y&&(y=[]),y.push({x:a.x,y:a.y}),y.push({x:a.right,y:a.y}),y.push({x:a.right,y:a.bottom}),y.push({x:a.x,y:a.bottom}),y}},9219:C=>{C.exports=function(a,y){return a.x===y.x&&a.y===y.y&&a.width===y.width&&a.height===y.height}},53751:(C,k,a)=>{var y=a(8249);C.exports=function(m,f){var h=y(m);return h<y(f)?m.setSize(f.height*h,f.height):m.setSize(f.width,f.width/h),m.setPosition(f.centerX-m.width/2,f.centerY-m.height/2)}},16088:(C,k,a)=>{var y=a(8249);C.exports=function(m,f){var h=y(m);return h>y(f)?m.setSize(f.height*h,f.height):m.setSize(f.width,f.width/h),m.setPosition(f.centerX-m.width/2,f.centerY-m.height/2)}},80774:C=>{C.exports=function(a){return a.x=Math.floor(a.x),a.y=Math.floor(a.y),a}},83859:C=>{C.exports=function(a){return a.x=Math.floor(a.x),a.y=Math.floor(a.y),a.width=Math.floor(a.width),a.height=Math.floor(a.height),a}},19217:(C,k,a)=>{var y=a(87841),T=a(36383);C.exports=function(f,h){if(void 0===h&&(h=new y),0===f.length)return h;for(var g,v,x,c=Number.MAX_VALUE,u=Number.MAX_VALUE,p=T.MIN_SAFE_INTEGER,d=T.MIN_SAFE_INTEGER,b=0;b<f.length;b++)g=f[b],Array.isArray(g)?(v=g[0],x=g[1]):(v=g.x,x=g.y),c=Math.min(c,v),u=Math.min(u,x),p=Math.max(p,v),d=Math.max(d,x);return h.x=c,h.y=u,h.width=p-c,h.height=d-u,h}},9477:(C,k,a)=>{var y=a(87841);C.exports=function(m,f,h,c,u){return void 0===u&&(u=new y),u.setTo(Math.min(m,h),Math.min(f,c),Math.abs(m-h),Math.abs(f-c))}},8249:C=>{C.exports=function(a){return 0===a.height?NaN:a.width/a.height}},27165:(C,k,a)=>{var y=a(2141);C.exports=function(m,f){return void 0===f&&(f=new y),f.x=m.centerX,f.y=m.centerY,f}},20812:(C,k,a)=>{var y=a(13019),T=a(2141);C.exports=function(f,h,c){if(void 0===c&&(c=new T),h<=0||h>=1)return c.x=f.x,c.y=f.y,c;var u=y(f)*h;return h>.5?(u-=f.width+f.height)<=f.width?(c.x=f.right-u,c.y=f.bottom):(c.x=f.x,c.y=f.bottom-(u-f.width)):u<=f.width?(c.x=f.x+u,c.y=f.y):(c.x=f.right,c.y=f.y+(u-f.width)),c}},34819:(C,k,a)=>{var y=a(20812),T=a(13019);C.exports=function(f,h,c,u){void 0===u&&(u=[]),!h&&c>0&&(h=T(f)/c);for(var p=0;p<h;p++)u.push(y(f,p/h));return u}},51313:(C,k,a)=>{var y=a(2141);C.exports=function(m,f){return void 0===f&&(f=new y),f.x=m.width,f.y=m.height,f}},86091:(C,k,a)=>{var y=a(67502);C.exports=function(m,f,h){var c=m.centerX,u=m.centerY;return m.setSize(m.width+2*f,m.height+2*h),y(m,c,u)}},53951:(C,k,a)=>{var y=a(87841),T=a(59996);C.exports=function(f,h,c){return void 0===c&&(c=new y),T(f,h)?(c.x=Math.max(f.x,h.x),c.y=Math.max(f.y,h.y),c.width=Math.min(f.right,h.right)-c.x,c.height=Math.min(f.bottom,h.bottom)-c.y):c.setEmpty(),c}},14649:(C,k,a)=>{var y=a(13019),T=a(2141);C.exports=function(f,h,c,u){if(void 0===u&&(u=[]),!h&&!c)return u;h?c=Math.round(y(f)/h):h=y(f)/c;for(var p=f.x,d=f.y,g=0,v=0;v<c;v++)switch(u.push(new T(p,d)),g){case 0:(p+=h)>=f.right&&(g=1,d+=p-f.right,p=f.right);break;case 1:(d+=h)>=f.bottom&&(g=2,p-=d-f.bottom,d=f.bottom);break;case 2:(p-=h)<=f.left&&(g=3,d-=f.left-p,p=f.left);break;case 3:(d-=h)<=f.top&&(g=0,d=f.top)}return u}},33595:C=>{C.exports=function(a,y){for(var T=a.x,m=a.right,f=a.y,h=a.bottom,c=0;c<y.length;c++)T=Math.min(T,y[c].x),m=Math.max(m,y[c].x),f=Math.min(f,y[c].y),h=Math.max(h,y[c].y);return a.x=T,a.y=f,a.width=m-T,a.height=h-f,a}},20074:C=>{C.exports=function(a,y){var T=Math.min(a.x,y.x),m=Math.max(a.right,y.right);a.x=T,a.width=m-T;var f=Math.min(a.y,y.y),h=Math.max(a.bottom,y.bottom);return a.y=f,a.height=h-f,a}},92171:C=>{C.exports=function(a,y,T){var m=Math.min(a.x,y),f=Math.max(a.right,y);a.x=m,a.width=f-m;var h=Math.min(a.y,T),c=Math.max(a.bottom,T);return a.y=h,a.height=c-h,a}},42981:C=>{C.exports=function(a,y,T){return a.x+=y,a.y+=T,a}},46907:C=>{C.exports=function(a,y){return a.x+=y.x,a.y+=y.y,a}},60170:C=>{C.exports=function(a,y){return a.x<y.right&&a.right>y.x&&a.y<y.bottom&&a.bottom>y.y}},13019:C=>{C.exports=function(a){return 2*(a.width+a.height)}},85133:(C,k,a)=>{var y=a(2141),T=a(39506);C.exports=function(f,h,c){void 0===c&&(c=new y),h=T(h);var u=Math.sin(h),p=Math.cos(h),d=p>0?f.width/2:f.width/-2,g=u>0?f.height/2:f.height/-2;return Math.abs(d*u)<Math.abs(g*p)?g=d*u/p:d=g*p/u,c.x=d+f.centerX,c.y=g+f.centerY,c}},26597:(C,k,a)=>{var y=a(2141);C.exports=function(m,f){return void 0===f&&(f=new y),f.x=m.x+Math.random()*m.width,f.y=m.y+Math.random()*m.height,f}},86470:(C,k,a)=>{var y=a(30976),T=a(70273),m=a(2141);C.exports=function(h,c,u){if(void 0===u&&(u=new m),T(h,c))switch(y(0,3)){case 0:u.x=h.x+Math.random()*(c.right-h.x),u.y=h.y+Math.random()*(c.top-h.y);break;case 1:u.x=c.x+Math.random()*(h.right-c.x),u.y=c.bottom+Math.random()*(h.bottom-c.bottom);break;case 2:u.x=h.x+Math.random()*(c.x-h.x),u.y=c.y+Math.random()*(h.bottom-c.y);break;case 3:u.x=c.right+Math.random()*(h.right-c.right),u.y=h.y+Math.random()*(c.bottom-h.y)}return u}},87841:(C,k,a)=>{var y=a(83419),T=a(37303),m=a(20812),f=a(34819),h=a(23777),c=a(23031),u=a(26597),p=new y({initialize:function(g,v,x,b){void 0===g&&(g=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=0),this.type=h.RECTANGLE,this.x=g,this.y=v,this.width=x,this.height=b},contains:function(d,g){return T(this,d,g)},getPoint:function(d,g){return m(this,d,g)},getPoints:function(d,g,v){return f(this,d,g,v)},getRandomPoint:function(d){return u(this,d)},setTo:function(d,g,v,x){return this.x=d,this.y=g,this.width=v,this.height=x,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(d,g){return void 0===g&&(g=d),this.x=d,this.y=g,this},setSize:function(d,g){return void 0===g&&(g=d),this.width=d,this.height=g,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(d){return void 0===d&&(d=new c),d.setTo(this.x,this.y,this.right,this.y),d},getLineB:function(d){return void 0===d&&(d=new c),d.setTo(this.right,this.y,this.right,this.bottom),d},getLineC:function(d){return void 0===d&&(d=new c),d.setTo(this.right,this.bottom,this.x,this.bottom),d},getLineD:function(d){return void 0===d&&(d=new c),d.setTo(this.x,this.bottom,this.x,this.y),d},left:{get:function(){return this.x},set:function(d){this.width=d>=this.right?0:this.right-d,this.x=d}},right:{get:function(){return this.x+this.width},set:function(d){this.width=d<=this.x?0:d-this.x}},top:{get:function(){return this.y},set:function(d){this.height=d>=this.bottom?0:this.bottom-d,this.y=d}},bottom:{get:function(){return this.y+this.height},set:function(d){this.height=d<=this.y?0:d-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(d){this.x=d-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(d){this.y=d-this.height/2}}});C.exports=p},94845:C=>{C.exports=function(a,y){return a.width===y.width&&a.height===y.height}},31730:C=>{C.exports=function(a,y,T){return void 0===T&&(T=y),a.width*=y,a.height*=T,a}},36899:(C,k,a)=>{var y=a(87841);C.exports=function(m,f,h){void 0===h&&(h=new y);var c=Math.min(m.x,f.x),u=Math.min(m.y,f.y),p=Math.max(m.right,f.right)-c,d=Math.max(m.bottom,f.bottom)-u;return h.setTo(c,u,p,d)}},93232:(C,k,a)=>{var y=a(87841);y.Area=a(62224),y.Ceil=a(98615),y.CeilAll=a(31688),y.CenterOn=a(67502),y.Clone=a(65085),y.Contains=a(37303),y.ContainsPoint=a(96553),y.ContainsRect=a(70273),y.CopyFrom=a(43459),y.Decompose=a(77493),y.Equals=a(9219),y.FitInside=a(53751),y.FitOutside=a(16088),y.Floor=a(80774),y.FloorAll=a(83859),y.FromPoints=a(19217),y.FromXY=a(9477),y.GetAspectRatio=a(8249),y.GetCenter=a(27165),y.GetPoint=a(20812),y.GetPoints=a(34819),y.GetSize=a(51313),y.Inflate=a(86091),y.Intersection=a(53951),y.MarchingAnts=a(14649),y.MergePoints=a(33595),y.MergeRect=a(20074),y.MergeXY=a(92171),y.Offset=a(42981),y.OffsetPoint=a(46907),y.Overlaps=a(60170),y.Perimeter=a(13019),y.PerimeterPoint=a(85133),y.Random=a(26597),y.RandomOutside=a(86470),y.SameDimensions=a(94845),y.Scale=a(31730),y.Union=a(36899),C.exports=y},41658:C=>{C.exports=function(a){var y=a.x1,T=a.y1;return Math.abs(((a.x3-y)*(a.y2-T)-(a.x2-y)*(a.y3-T))/2)}},39208:(C,k,a)=>{var y=a(16483);C.exports=function(m,f,h){var c=h*(Math.sqrt(3)/2);return new y(m,f,m+h/2,f+c,m-h/2,f+c)}},39545:(C,k,a)=>{var y=a(94811),T=a(16483);C.exports=function(f,h,c,u,p){void 0===h&&(h=null),void 0===c&&(c=1),void 0===u&&(u=1),void 0===p&&(p=[]);for(var g,v,x,d=y(f,h),R=0;R<d.length;R+=3)p.push(new T(f[2*(g=d[R])]*c,f[2*g+1]*u,f[2*(v=d[R+1])]*c,f[2*v+1]*u,f[2*(x=d[R+2])]*c,f[2*x+1]*u));return p}},90301:(C,k,a)=>{var y=a(16483);C.exports=function(m,f,h,c){return void 0===c&&(c=h),new y(m,f,m,f-c,m+h,f)}},23707:(C,k,a)=>{var y=a(97523),T=a(13584);C.exports=function(f,h,c,u){void 0===u&&(u=y);var p=u(f);return T(f,h-p.x,c-p.y)}},97523:(C,k,a)=>{var y=a(2141);C.exports=function(m,f){return void 0===f&&(f=new y),f.x=(m.x1+m.x2+m.x3)/3,f.y=(m.y1+m.y2+m.y3)/3,f}},24951:(C,k,a)=>{var y=a(26099);function T(f,h,c,u){return f*u-h*c}C.exports=function(f,h){void 0===h&&(h=new y);var c=f.x3,u=f.y3,p=f.x1-c,d=f.y1-u,g=f.x2-c,v=f.y2-u,x=2*T(p,d,g,v),b=T(d,p*p+d*d,v,g*g+v*v),_=T(p,p*p+d*d,g,g*g+v*v);return h.x=c-b/x,h.y=u+_/x,h}},85614:(C,k,a)=>{var y=a(96503);C.exports=function(m,f){void 0===f&&(f=new y);var I,R,h=m.x1,c=m.y1,u=m.x2,p=m.y2,d=m.x3,g=m.y3,v=u-h,x=p-c,b=d-h,_=g-c,E=v*(h+u)+x*(c+p),A=b*(h+d)+_*(c+g),D=2*(v*(g-p)-x*(d-u));if(Math.abs(D)<1e-6){var F=Math.min(h,u,d),L=Math.min(c,p,g);I=.5*(Math.max(h,u,d)-F),R=.5*(Math.max(c,p,g)-L),f.x=F+I,f.y=L+R,f.radius=Math.sqrt(I*I+R*R)}else f.x=(_*E-x*A)/D,f.y=(v*A-b*E)/D,I=f.x-h,R=f.y-c,f.radius=Math.sqrt(I*I+R*R);return f}},74422:(C,k,a)=>{var y=a(16483);C.exports=function(m){return new y(m.x1,m.y1,m.x2,m.y2,m.x3,m.y3)}},10690:C=>{C.exports=function(a,y,T){var m=a.x3-a.x1,f=a.y3-a.y1,h=a.x2-a.x1,c=a.y2-a.y1,u=y-a.x1,p=T-a.y1,d=m*m+f*f,g=m*h+f*c,v=m*u+f*p,x=h*h+c*c,b=h*u+c*p,_=d*x-g*g,E=0===_?0:1/_,A=(x*v-g*b)*E,D=(d*b-g*v)*E;return A>=0&&D>=0&&A+D<1}},48653:C=>{C.exports=function(a,y,T,m){void 0===T&&(T=!1),void 0===m&&(m=[]);for(var b,_,E,A,D,I,f=a.x3-a.x1,h=a.y3-a.y1,c=a.x2-a.x1,u=a.y2-a.y1,p=f*f+h*h,d=f*c+h*u,g=c*c+u*u,v=p*g-d*d,x=0===v?0:1/v,R=a.x1,F=a.y1,L=0;L<y.length&&(_=(p*(I=c*(E=y[L].x-R)+u*(A=y[L].y-F))-d*(D=f*E+h*A))*x,!((b=(g*D-d*I)*x)>=0&&_>=0&&b+_<1&&(m.push({x:y[L].x,y:y[L].y}),T)));L++);return m}},96006:(C,k,a)=>{var y=a(10690);C.exports=function(m,f){return y(m,f.x,f.y)}},71326:C=>{C.exports=function(a,y){return y.setTo(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)}},71694:C=>{C.exports=function(a,y){return void 0===y&&(y=[]),y.push({x:a.x1,y:a.y1}),y.push({x:a.x2,y:a.y2}),y.push({x:a.x3,y:a.y3}),y}},33522:C=>{C.exports=function(a,y){return a.x1===y.x1&&a.y1===y.y1&&a.x2===y.x2&&a.y2===y.y2&&a.x3===y.x3&&a.y3===y.y3}},20437:(C,k,a)=>{var y=a(2141),T=a(35001);C.exports=function(f,h,c){void 0===c&&(c=new y);var u=f.getLineA(),p=f.getLineB(),d=f.getLineC();if(h<=0||h>=1)return c.x=u.x1,c.y=u.y1,c;var g=T(u),v=T(p),x=T(d),_=(g+v+x)*h,E=0;return _<g?(c.x=u.x1+(u.x2-u.x1)*(E=_/g),c.y=u.y1+(u.y2-u.y1)*E):_>g+v?(c.x=d.x1+(d.x2-d.x1)*(E=(_-=g+v)/x),c.y=d.y1+(d.y2-d.y1)*E):(c.x=p.x1+(p.x2-p.x1)*(E=(_-=g)/v),c.y=p.y1+(p.y2-p.y1)*E),c}},80672:(C,k,a)=>{var y=a(35001),T=a(2141);C.exports=function(f,h,c,u){void 0===u&&(u=[]);var p=f.getLineA(),d=f.getLineB(),g=f.getLineC(),v=y(p),x=y(d),b=y(g),_=v+x+b;!h&&c>0&&(h=_/c);for(var E=0;E<h;E++){var A=_*(E/h),D=0,I=new T;A<v?(I.x=p.x1+(p.x2-p.x1)*(D=A/v),I.y=p.y1+(p.y2-p.y1)*D):A>v+x?(I.x=g.x1+(g.x2-g.x1)*(D=(A-=v+x)/b),I.y=g.y1+(g.y2-g.y1)*D):(I.x=d.x1+(d.x2-d.x1)*(D=(A-=v)/x),I.y=d.y1+(d.y2-d.y1)*D),u.push(I)}return u}},39757:(C,k,a)=>{var y=a(2141);function T(f,h,c,u){var p=f-c,d=h-u;return Math.sqrt(p*p+d*d)}C.exports=function(f,h){void 0===h&&(h=new y);var c=f.x1,u=f.y1,p=f.x2,d=f.y2,g=f.x3,v=f.y3,x=T(g,v,p,d),b=T(c,u,g,v),_=T(p,d,c,u),E=x+b+_;return h.x=(c*x+p*b+g*_)/E,h.y=(u*x+d*b+v*_)/E,h}},13584:C=>{C.exports=function(a,y,T){return a.x1+=y,a.y1+=T,a.x2+=y,a.y2+=T,a.x3+=y,a.y3+=T,a}},1376:(C,k,a)=>{var y=a(35001);C.exports=function(m){var f=m.getLineA(),h=m.getLineB(),c=m.getLineC();return y(f)+y(h)+y(c)}},90260:(C,k,a)=>{var y=a(2141);C.exports=function(m,f){void 0===f&&(f=new y);var h=m.x2-m.x1,c=m.y2-m.y1,u=m.x3-m.x1,p=m.y3-m.y1,d=Math.random(),g=Math.random();return d+g>=1&&(d=1-d,g=1-g),f.x=m.x1+(h*d+u*g),f.y=m.y1+(c*d+p*g),f}},52172:(C,k,a)=>{var y=a(99614),T=a(39757);C.exports=function(f,h){var c=T(f);return y(f,c.x,c.y,h)}},49907:(C,k,a)=>{var y=a(99614);C.exports=function(m,f,h){return y(m,f.x,f.y,h)}},99614:C=>{C.exports=function(a,y,T,m){var f=Math.cos(m),h=Math.sin(m),c=a.x1-y,u=a.y1-T;return a.x1=c*f-u*h+y,a.y1=c*h+u*f+T,a.x2=(c=a.x2-y)*f-(u=a.y2-T)*h+y,a.y2=c*h+u*f+T,a.x3=(c=a.x3-y)*f-(u=a.y3-T)*h+y,a.y3=c*h+u*f+T,a}},16483:(C,k,a)=>{var y=a(83419),T=a(10690),m=a(20437),f=a(80672),h=a(23777),c=a(23031),u=a(90260),p=new y({initialize:function(g,v,x,b,_,E){void 0===g&&(g=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=0),void 0===_&&(_=0),void 0===E&&(E=0),this.type=h.TRIANGLE,this.x1=g,this.y1=v,this.x2=x,this.y2=b,this.x3=_,this.y3=E},contains:function(d,g){return T(this,d,g)},getPoint:function(d,g){return m(this,d,g)},getPoints:function(d,g,v){return f(this,d,g,v)},getRandomPoint:function(d){return u(this,d)},setTo:function(d,g,v,x,b,_){return void 0===d&&(d=0),void 0===g&&(g=0),void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=0),void 0===_&&(_=0),this.x1=d,this.y1=g,this.x2=v,this.y2=x,this.x3=b,this.y3=_,this},getLineA:function(d){return void 0===d&&(d=new c),d.setTo(this.x1,this.y1,this.x2,this.y2),d},getLineB:function(d){return void 0===d&&(d=new c),d.setTo(this.x2,this.y2,this.x3,this.y3),d},getLineC:function(d){return void 0===d&&(d=new c),d.setTo(this.x3,this.y3,this.x1,this.y1),d},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(d){var g;this.x1-=g=this.x1<=this.x2&&this.x1<=this.x3?this.x1-d:this.x2<=this.x1&&this.x2<=this.x3?this.x2-d:this.x3-d,this.x2-=g,this.x3-=g}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(d){var g;this.x1-=g=this.x1>=this.x2&&this.x1>=this.x3?this.x1-d:this.x2>=this.x1&&this.x2>=this.x3?this.x2-d:this.x3-d,this.x2-=g,this.x3-=g}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(d){var g;this.y1-=g=this.y1<=this.y2&&this.y1<=this.y3?this.y1-d:this.y2<=this.y1&&this.y2<=this.y3?this.y2-d:this.y3-d,this.y2-=g,this.y3-=g}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(d){var g;this.y1-=g=this.y1>=this.y2&&this.y1>=this.y3?this.y1-d:this.y2>=this.y1&&this.y2>=this.y3?this.y2-d:this.y3-d,this.y2-=g,this.y3-=g}}});C.exports=p},84435:(C,k,a)=>{var y=a(16483);y.Area=a(41658),y.BuildEquilateral=a(39208),y.BuildFromPolygon=a(39545),y.BuildRight=a(90301),y.CenterOn=a(23707),y.Centroid=a(97523),y.CircumCenter=a(24951),y.CircumCircle=a(85614),y.Clone=a(74422),y.Contains=a(10690),y.ContainsArray=a(48653),y.ContainsPoint=a(96006),y.CopyFrom=a(71326),y.Decompose=a(71694),y.Equals=a(33522),y.GetPoint=a(20437),y.GetPoints=a(80672),y.InCenter=a(39757),y.Perimeter=a(1376),y.Offset=a(13584),y.Random=a(90260),y.Rotate=a(52172),y.RotateAroundPoint=a(49907),y.RotateAroundXY=a(99614),C.exports=y},74457:C=>{C.exports=function(a,y,T){return{gameObject:a,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:y,hitAreaCallback:T,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}}},84409:C=>{C.exports=function(a,y){return function(T,m,f,h){var c=a.getPixelAlpha(m,f,h.texture.key,h.frame.name);return c&&c>=y}}},7003:(C,k,a)=>{var y=a(83419),T=a(93301),m=a(50792),f=a(8214),h=a(8443),c=a(78970),u=a(85098),p=a(42515),d=a(36210),g=a(61340),v=a(85955),x=new y({initialize:function(_,E){this.game=_,this.config=E,this.enabled=!0,this.events=new m,this.isOver=!0,this.defaultCursor="",this.keyboard=E.inputKeyboard?new c(this):null,this.mouse=E.inputMouse?new u(this):null,this.touch=E.inputTouch?new d(this):null,this.pointers=[],this.pointersTotal=E.inputActivePointers;for(var A=0;A<=this.pointersTotal;A++){var D=new p(this,A);D.smoothFactor=E.inputSmoothFactor,this.pointers.push(D)}this.mousePointer=E.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new g,this._tempMatrix2=new g,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],_.events.once(h.BOOT,this.boot,this)},boot:function(){var b=this.game,_=b.events;this.canvas=b.canvas,this.scaleManager=b.scale,this.events.emit(f.MANAGER_BOOT),_.on(h.PRE_RENDER,this.preRender,this),_.once(h.DESTROY,this.destroy,this)},setCanvasOver:function(b){this.isOver=!0,this.events.emit(f.GAME_OVER,b)},setCanvasOut:function(b){this.isOver=!1,this.events.emit(f.GAME_OUT,b)},preRender:function(){var b=this.game.loop.now,_=this.game.loop.delta,E=this.game.scene.getScenes(!0,!0);this.time=b,this.events.emit(f.MANAGER_UPDATE);for(var A=0;A<E.length;A++){var D=E[A];if(D.sys.input&&D.sys.input.updatePoll(b,_)&&this.globalTopOnly)return}},setDefaultCursor:function(b){this.defaultCursor=b,this.canvas.style.cursor!==b&&(this.canvas.style.cursor=b)},setCursor:function(b){b.cursor&&(this.canvas.style.cursor=b.cursor)},resetCursor:function(b,_){(_||b&&b.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(b){void 0===b&&(b=1);var _=[];this.pointersTotal+b>10&&(b=10-this.pointersTotal);for(var E=0;E<b;E++){var D=new p(this,this.pointers.length);D.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(D),this.pointersTotal++,_.push(D)}return _},updateInputPlugins:function(b,_){var E=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var A=0;A<E.length;A++){var D=E[A];if(D.sys.input&&(D.sys.input.update(b,_)&&this.globalTopOnly||this._tempSkip))return}},onTouchStart:function(b){for(var _=this.pointers,E=[],A=0;A<b.changedTouches.length;A++)for(var D=b.changedTouches[A],I=1;I<_.length;I++){var R=_[I];if(!R.active){R.touchstart(D,b),this.activePointer=R,E.push(R);break}}this.updateInputPlugins(T.TOUCH_START,E)},onTouchMove:function(b){for(var _=this.pointers,E=[],A=0;A<b.changedTouches.length;A++)for(var D=b.changedTouches[A],I=1;I<_.length;I++){var R=_[I];if(R.active&&R.identifier===D.identifier){var L=document.elementFromPoint(D.clientX,D.clientY)===this.canvas;!this.isOver&&L?this.setCanvasOver(b):this.isOver&&!L&&this.setCanvasOut(b),this.isOver&&(R.touchmove(D,b),this.activePointer=R,E.push(R));break}}this.updateInputPlugins(T.TOUCH_MOVE,E)},onTouchEnd:function(b){for(var _=this.pointers,E=[],A=0;A<b.changedTouches.length;A++)for(var D=b.changedTouches[A],I=1;I<_.length;I++){var R=_[I];if(R.active&&R.identifier===D.identifier){R.touchend(D,b),E.push(R);break}}this.updateInputPlugins(T.TOUCH_END,E)},onTouchCancel:function(b){for(var _=this.pointers,E=[],A=0;A<b.changedTouches.length;A++)for(var D=b.changedTouches[A],I=1;I<_.length;I++){var R=_[I];if(R.active&&R.identifier===D.identifier){R.touchcancel(D,b),E.push(R);break}}this.updateInputPlugins(T.TOUCH_CANCEL,E)},onMouseDown:function(b){var _=this.mousePointer;_.down(b),_.updateMotion(),this.activePointer=_,this.updateInputPlugins(T.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(b){var _=this.mousePointer;_.move(b),_.updateMotion(),this.activePointer=_,this.updateInputPlugins(T.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(b){var _=this.mousePointer;_.up(b),_.updateMotion(),this.activePointer=_,this.updateInputPlugins(T.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(b){var _=this.mousePointer;_.wheel(b),this.activePointer=_,this.updateInputPlugins(T.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(b){var _=this.mouse.locked;this.mousePointer.locked=_,this.events.emit(f.POINTERLOCK_CHANGE,b,_)},inputCandidate:function(b,_){var E=b.input;if(!E||!E.enabled||!b.willRender(_))return!1;var A=!0,D=b.parentContainer;if(D)do{if(!D.willRender(_)){A=!1;break}D=D.parentContainer}while(D);return A},hitTest:function(b,_,E,A){void 0===A&&(A=this._tempHitTest);var D=this._tempPoint,I=E.scrollX,R=E.scrollY;A.length=0,E.getWorldPoint(b.x,b.y,D),b.worldX=D.x,b.worldY=D.y;for(var V={x:0,y:0},B=this._tempMatrix,G=this._tempMatrix2,Q=0;Q<_.length;Q++){var H=_[Q];if(this.inputCandidate(H,E)){var K=D.x+I*H.scrollFactorX-I,tt=D.y+R*H.scrollFactorY-R;H.parentContainer?(H.getWorldTransformMatrix(B,G),B.applyInverse(K,tt,V)):v(K,tt,H.x,H.y,H.rotation,H.scaleX,H.scaleY,V),this.pointWithinHitArea(H,V.x,V.y)&&A.push(H)}}return A},pointWithinHitArea:function(b,_,E){_+=b.displayOriginX,E+=b.displayOriginY;var A=b.input;return!(!A||!A.hitAreaCallback(A.hitArea,_,E,b)||(A.localX=_,A.localY=E,0))},pointWithinInteractiveObject:function(b,_,E){return!!b.hitArea&&(E+=b.gameObject.displayOriginY,b.localX=_+=b.gameObject.displayOriginX,b.localY=E,b.hitAreaCallback(b.hitArea,_,E,b))},transformPointer:function(b,_,E,A){var D=b.position,I=b.prevPosition;I.x=D.x,I.y=D.y;var R=this.scaleManager.transformX(_),F=this.scaleManager.transformY(E),L=b.smoothFactor;A&&0!==L?(D.x=R*L+I.x*(1-L),D.y=F*L+I.y*(1-L)):(D.x=R,D.y=F)},destroy:function(){this.events.removeAllListeners(),this.game.events.off(h.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var b=0;b<this.pointers.length;b++)this.pointers[b].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});C.exports=x},48205:(C,k,a)=>{var y=a(96503),T=a(87902),m=a(83419),f=a(93301),h=a(74457),c=a(84409),u=a(20339),p=a(8497),d=a(81154),g=a(8214),v=a(50792),x=a(95540),b=a(23777),_=a(89639),E=a(41212),A=a(37277),D=a(87841),I=a(37303),R=a(44594),F=a(16483),L=a(10690),V=new m({Extends:v,initialize:function(G){v.call(this),this.scene=G,this.systems=G.sys,this.settings=G.sys.settings,this.manager=G.sys.game.input,this.pluginEvents=new v,this.enabled=!0,_.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var Q={cancelled:!1};this._eventContainer={stopPropagation:function(){Q.cancelled=!0}},this._eventData=Q,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,G.sys.events.once(R.BOOT,this.boot,this),G.sys.events.on(R.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(R.DESTROY,this.destroy,this),this.pluginEvents.emit(g.BOOT)},start:function(){var B=this.systems.events;B.on(R.TRANSITION_START,this.transitionIn,this),B.on(R.TRANSITION_OUT,this.transitionOut,this),B.on(R.TRANSITION_COMPLETE,this.transitionComplete,this),B.on(R.PRE_UPDATE,this.preUpdate,this),B.once(R.SHUTDOWN,this.shutdown,this),this.manager.events.on(g.GAME_OUT,this.onGameOut,this),this.manager.events.on(g.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(g.START)},onGameOver:function(B){this.isActive()&&this.emit(g.GAME_OVER,B.timeStamp,B)},onGameOut:function(B){this.isActive()&&this.emit(g.GAME_OUT,B.timeStamp,B)},preUpdate:function(){this.pluginEvents.emit(g.PRE_UPDATE);var B=this._pendingRemoval,G=this._pendingInsertion,Q=B.length;if(0!==Q||0!==G.length){for(var K=this._list,tt=0;tt<Q;tt++){var at=B[tt],lt=K.indexOf(at);lt>-1&&(K.splice(lt,1),this.clear(at,!0))}this._pendingRemoval.length=0,this._list=K.concat(G.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(B){this.manager&&this.manager.setCursor(B)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(B,G){if(!this.isActive())return!1;if(this.pluginEvents.emit(g.UPDATE,B,G),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var Q,K=this.manager.pointers;for(Q=0;Q<K.length;Q++)K[Q].updateMotion();if(0===this._list.length)return!1;var tt=this.pollRate;if(-1===tt)return!1;if(tt>0){if(this._pollTimer-=G,!(this._pollTimer<0))return!1;this._pollTimer=this.pollRate}var at=!1;for(Q=0;Q<K.length;Q++){var lt=0,J=K[Q];this._tempZones=[],this._temp=this.hitTestPointer(J),this.sortGameObjects(this._temp,J),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),lt+=this.processOverOutEvents(J),2===this.getDragState(J)&&this.processDragThresholdEvent(J,B),lt>0&&(at=!0)}return at},update:function(B,G){if(!this.isActive())return!1;for(var Q=!1,H=0;H<G.length;H++){var K=0,tt=G[H];switch(this._tempZones=[],this._temp=this.hitTestPointer(tt),this.sortGameObjects(this._temp,tt),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),B){case f.MOUSE_DOWN:K+=this.processDragDownEvent(tt),K+=this.processDownEvents(tt),K+=this.processOverOutEvents(tt);break;case f.MOUSE_UP:K+=this.processDragUpEvent(tt),K+=this.processUpEvents(tt),K+=this.processOverOutEvents(tt);break;case f.TOUCH_START:K+=this.processDragDownEvent(tt),K+=this.processDownEvents(tt),K+=this.processOverEvents(tt);break;case f.TOUCH_END:case f.TOUCH_CANCEL:K+=this.processDragUpEvent(tt),K+=this.processUpEvents(tt),K+=this.processOutEvents(tt);break;case f.MOUSE_MOVE:case f.TOUCH_MOVE:K+=this.processDragMoveEvent(tt),K+=this.processMoveEvents(tt),K+=this.processOverOutEvents(tt);break;case f.MOUSE_WHEEL:K+=this.processWheelEvent(tt)}K>0&&(Q=!0)}return this._updatedThisFrame=!0,Q},clear:function(B,G){void 0===G&&(G=!1),this.disable(B);var Q=B.input;Q&&(this.removeDebug(B),this.manager.resetCursor(Q),Q.gameObject=void 0,Q.target=void 0,Q.hitArea=void 0,Q.hitAreaCallback=void 0,Q.callbackContext=void 0,B.input=null),G||this.queueForRemoval(B);var H=this._draggable.indexOf(B);return H>-1&&this._draggable.splice(H,1),B},disable:function(B,G){void 0===G&&(G=!1);var Q=B.input;Q&&(Q.enabled=!1,Q.dragState=0);for(var lt,H=this._drag,K=this._over,tt=this.manager,at=0;at<tt.pointers.length;at++)(lt=H[at].indexOf(B))>-1&&H[at].splice(lt,1),(lt=K[at].indexOf(B))>-1&&K[at].splice(lt,1);return G&&this.resetCursor(),this},enable:function(B,G,Q,H){return void 0===H&&(H=!1),B.input?B.input.enabled=!0:this.setHitArea(B,G,Q),B.input&&H&&!B.input.dropZone&&(B.input.dropZone=H),this},hitTestPointer:function(B){for(var G=this.cameras.getCamerasBelowPointer(B),Q=0;Q<G.length;Q++){for(var H=G[Q],K=this.manager.hitTest(B,this._list,H),tt=0;tt<K.length;tt++){var at=K[tt];at.input.dropZone&&this._tempZones.push(at)}if(K.length>0)return B.camera=H,K}return B.camera=G[0],[]},processDownEvents:function(B){var G=0,Q=this._temp,H=this._eventData,K=this._eventContainer;H.cancelled=!1;for(var tt=0;tt<Q.length;tt++){var at=Q[tt];if(at.input&&at.input.enabled&&(G++,at.emit(g.GAMEOBJECT_POINTER_DOWN,B,at.input.localX,at.input.localY,K),H.cancelled||!this.isActive()||at.input&&at.input.enabled&&(this.emit(g.GAMEOBJECT_DOWN,B,at,K),H.cancelled||!this.isActive())))break}return!H.cancelled&&this.isActive()&&(B.downElement===this.manager.game.canvas?this.emit(g.POINTER_DOWN,B,Q):this.emit(g.POINTER_DOWN_OUTSIDE,B)),G},getDragState:function(B){return this._dragState[B.id]},setDragState:function(B,G){this._dragState[B.id]=G},processDragThresholdEvent:function(B,G){var Q=!1,H=this.dragTimeThreshold,K=this.dragDistanceThreshold;if((K>0&&u(B.x,B.y,B.downX,B.downY)>=K||H>0&&G>=B.downTime+H)&&(Q=!0),Q)return this.setDragState(B,3),this.processDragStartList(B)},processDragStartList:function(B){if(3!==this.getDragState(B))return 0;var G=this._drag[B.id];G.length>1&&(G=G.slice(0));for(var Q=0;Q<G.length;Q++){var H=G[Q],K=H.input;K.dragState=2,K.dragStartX=H.x,K.dragStartY=H.y,K.dragStartXGlobal=B.worldX,K.dragStartYGlobal=B.worldY,K.dragStartCamera=B.camera,K.dragX=K.dragStartXGlobal-K.dragStartX,K.dragY=K.dragStartYGlobal-K.dragStartY,H.emit(g.GAMEOBJECT_DRAG_START,B,K.dragX,K.dragY),this.emit(g.DRAG_START,B,H)}return this.setDragState(B,4),G.length},processDragDownEvent:function(B){var G=this._temp;if(0===this._draggable.length||0===G.length||!B.primaryDown||0!==this.getDragState(B))return 0;this.setDragState(B,1);for(var Q=[],H=0;H<G.length;H++){var K=G[H];K.input.draggable&&0===K.input.dragState&&Q.push(K)}return 0===Q.length?(this.setDragState(B,0),0):(Q.length>1&&(this.sortGameObjects(Q,B),this.topOnly&&Q.splice(1)),this._drag[B.id]=Q,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?(this.setDragState(B,3),this.processDragStartList(B)):(this.setDragState(B,2),0))},processDragMoveEvent:function(B){if(2===this.getDragState(B)&&this.processDragThresholdEvent(B,this.manager.game.loop.now),4!==this.getDragState(B))return 0;var G=this._tempZones,Q=this._drag[B.id];Q.length>1&&(Q=Q.slice(0));for(var H=0;H<Q.length;H++){var K=Q[H],tt=K.input,at=tt.target;if(at){var lt=G.indexOf(at);0===lt?(K.emit(g.GAMEOBJECT_DRAG_OVER,B,at),this.emit(g.DRAG_OVER,B,K,at)):lt>0?(K.emit(g.GAMEOBJECT_DRAG_LEAVE,B,at),this.emit(g.DRAG_LEAVE,B,K,at),tt.target=G[0],K.emit(g.GAMEOBJECT_DRAG_ENTER,B,at=tt.target),this.emit(g.DRAG_ENTER,B,K,at)):(K.emit(g.GAMEOBJECT_DRAG_LEAVE,B,at),this.emit(g.DRAG_LEAVE,B,K,at),G[0]?(tt.target=G[0],K.emit(g.GAMEOBJECT_DRAG_ENTER,B,at=tt.target),this.emit(g.DRAG_ENTER,B,K,at)):tt.target=null)}else!at&&G[0]&&(tt.target=G[0],K.emit(g.GAMEOBJECT_DRAG_ENTER,B,at=tt.target),this.emit(g.DRAG_ENTER,B,K,at));var J,it,Y=B.positionToCamera(tt.dragStartCamera);if(K.parentContainer){var X=Y.x-tt.dragStartXGlobal,nt=Y.y-tt.dragStartYGlobal,ht=K.getParentRotation(),gt=X*Math.cos(ht)+nt*Math.sin(ht),wt=nt*Math.cos(ht)-X*Math.sin(ht);J=(gt*=1/K.parentContainer.scaleX)+tt.dragStartX,it=(wt*=1/K.parentContainer.scaleY)+tt.dragStartY}else J=Y.x-tt.dragX,it=Y.y-tt.dragY;K.emit(g.GAMEOBJECT_DRAG,B,J,it),this.emit(g.DRAG,B,K,J,it)}return Q.length},processDragUpEvent:function(B){var G=this._drag[B.id];G.length>1&&(G=G.slice(0));for(var Q=0;Q<G.length;Q++){var H=G[Q],K=H.input;if(K&&2===K.dragState){K.dragState=0,K.dragX=K.localX-H.displayOriginX,K.dragY=K.localY-H.displayOriginY,K.dragStartCamera=null;var tt=!1,at=K.target;at&&(H.emit(g.GAMEOBJECT_DROP,B,at),this.emit(g.DROP,B,H,at),K.target=null,tt=!0),H.input&&H.input.enabled&&(H.emit(g.GAMEOBJECT_DRAG_END,B,K.dragX,K.dragY,tt),this.emit(g.DRAG_END,B,H,tt))}}return this.setDragState(B,0),G.splice(0),0},processMoveEvents:function(B){var G=0,Q=this._temp,H=this._eventData,K=this._eventContainer;H.cancelled=!1;for(var tt=0;tt<Q.length;tt++){var at=Q[tt];if(at.input&&at.input.enabled&&(G++,at.emit(g.GAMEOBJECT_POINTER_MOVE,B,at.input.localX,at.input.localY,K),H.cancelled||!this.isActive()||at.input&&at.input.enabled&&(this.emit(g.GAMEOBJECT_MOVE,B,at,K),H.cancelled||!this.isActive()||this.topOnly)))break}return!H.cancelled&&this.isActive()&&this.emit(g.POINTER_MOVE,B,Q),G},processWheelEvent:function(B){var G=0,Q=this._temp,H=this._eventData,K=this._eventContainer;H.cancelled=!1;for(var tt=B.deltaX,at=B.deltaY,lt=B.deltaZ,J=0;J<Q.length;J++){var it=Q[J];if(it.input&&it.input.enabled&&(G++,it.emit(g.GAMEOBJECT_POINTER_WHEEL,B,tt,at,lt,K),H.cancelled||!this.isActive()||it.input&&it.input.enabled&&(this.emit(g.GAMEOBJECT_WHEEL,B,it,tt,at,lt,K),H.cancelled||!this.isActive())))break}return!H.cancelled&&this.isActive()&&this.emit(g.POINTER_WHEEL,B,Q,tt,at,lt),G},processOverEvents:function(B){var G=this._temp,Q=0,H=G.length,K=[];if(H>0){var tt=this.manager,at=this._eventData,lt=this._eventContainer;at.cancelled=!1;for(var J=0;J<H;J++){var it=G[J];if(it.input&&it.input.enabled&&(K.push(it),tt.setCursor(it.input),it.emit(g.GAMEOBJECT_POINTER_OVER,B,it.input.localX,it.input.localY,lt),Q++,at.cancelled||!this.isActive()||it.input&&it.input.enabled&&(this.emit(g.GAMEOBJECT_OVER,B,it,lt),at.cancelled||!this.isActive())))break}!at.cancelled&&this.isActive()&&this.emit(g.POINTER_OVER,B,K)}return this._over[B.id]=K,Q},processOutEvents:function(B){var G=this._over[B.id],Q=0,H=G.length;if(H>0){var K=this.manager,tt=this._eventData,at=this._eventContainer;tt.cancelled=!1,this.sortGameObjects(G,B);for(var lt=0;lt<H;lt++){var J=G[lt];if((J=G[lt]).input&&J.input.enabled&&(K.resetCursor(J.input),J.emit(g.GAMEOBJECT_POINTER_OUT,B,at),Q++,tt.cancelled||!this.isActive()||J.input&&J.input.enabled&&(this.emit(g.GAMEOBJECT_OUT,B,J,at),tt.cancelled||!this.isActive())))break}!tt.cancelled&&this.isActive()&&this.emit(g.POINTER_OUT,B,G),this._over[B.id]=[]}return Q},processOverOutEvents:function(B){var Q,H,G=this._temp,K=[],tt=[],at=[],lt=this._over[B.id],J=this._drag[B.id],it=this.manager;for(Q=0;Q<lt.length;Q++)-1===G.indexOf(H=lt[Q])&&-1===J.indexOf(H)?K.push(H):at.push(H);for(Q=0;Q<G.length;Q++)-1===lt.indexOf(H=G[Q])&&tt.push(H);var Y=K.length,X=0,nt=this._eventData,ht=this._eventContainer;if(nt.cancelled=!1,Y>0){for(this.sortGameObjects(K,B),Q=0;Q<Y&&!((H=K[Q]).input&&H.input.enabled&&(it.resetCursor(H.input),H.emit(g.GAMEOBJECT_POINTER_OUT,B,ht),X++,nt.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(g.GAMEOBJECT_OUT,B,H,ht),nt.cancelled||!this.isActive())));Q++);(!nt.cancelled||this.isActive())&&this.emit(g.POINTER_OUT,B,K)}if(Y=tt.length,nt.cancelled=!1,Y>0){for(this.sortGameObjects(tt,B),Q=0;Q<Y&&!((H=tt[Q]).input&&H.input.enabled&&(it.setCursor(H.input),H.emit(g.GAMEOBJECT_POINTER_OVER,B,H.input.localX,H.input.localY,ht),X++,nt.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(g.GAMEOBJECT_OVER,B,H,ht),nt.cancelled||!this.isActive())));Q++);!nt.cancelled&&this.isActive()&&this.emit(g.POINTER_OVER,B,tt)}return lt=at.concat(tt),this._over[B.id]=this.sortGameObjects(lt,B),X},processUpEvents:function(B){var G=this._temp,Q=this._eventData,H=this._eventContainer;Q.cancelled=!1;for(var K=0;K<G.length;K++){var tt=G[K];if(tt.input&&tt.input.enabled&&(tt.emit(g.GAMEOBJECT_POINTER_UP,B,tt.input.localX,tt.input.localY,H),Q.cancelled||!this.isActive()||tt.input&&tt.input.enabled&&(this.emit(g.GAMEOBJECT_UP,B,tt,H),Q.cancelled||!this.isActive())))break}return!Q.cancelled&&this.isActive()&&(B.upElement===this.manager.game.canvas?this.emit(g.POINTER_UP,B,G):this.emit(g.POINTER_UP_OUTSIDE,B)),G.length},forceDownState:function(B,G){this.forceState(B,G,g.GAMEOBJECT_POINTER_DOWN,g.GAMEOBJECT_DOWN,!1)},forceUpState:function(B,G){this.forceState(B,G,g.GAMEOBJECT_POINTER_UP,g.GAMEOBJECT_UP,!1)},forceOverState:function(B,G){this.forceState(B,G,g.GAMEOBJECT_POINTER_OVER,g.GAMEOBJECT_OVER,!0)},forceOutState:function(B,G){this.forceState(B,G,g.GAMEOBJECT_POINTER_OUT,g.GAMEOBJECT_OUT,!1)},forceState:function(B,G,Q,H,K){var tt=this._eventData,at=this._eventContainer;tt.cancelled=!1,G.input&&G.input.enabled&&(G.emit(Q,B,G.input.localX,G.input.localY,at),K&&this.setCursor(G.input),!tt.cancelled&&this.isActive()&&G.input&&G.input.enabled&&this.emit(H,B,G,at))},queueForInsertion:function(B){return-1===this._pendingInsertion.indexOf(B)&&-1===this._list.indexOf(B)&&this._pendingInsertion.push(B),this},queueForRemoval:function(B){return this._pendingRemoval.push(B),this},setDraggable:function(B,G){void 0===G&&(G=!0),Array.isArray(B)||(B=[B]);for(var Q=0;Q<B.length;Q++){var H=B[Q];H.input.draggable=G;var K=this._draggable.indexOf(H);G&&-1===K?this._draggable.push(H):!G&&K>-1&&this._draggable.splice(K,1)}return this},makePixelPerfect:function(B){return void 0===B&&(B=1),c(this.systems.textures,B)},setHitArea:function(B,G,Q){if(void 0===G)return this.setHitAreaFromTexture(B);Array.isArray(B)||(B=[B]);var H=!1,K=!1,tt=!1,at=!1,lt=!1,J=!0;if(E(G)&&Object.keys(G).length){var it=G;if(!B.some(function(wt){return wt.hasOwnProperty("faces")})){G=x(it,"hitArea",null),Q=x(it,"hitAreaCallback",null),lt=x(it,"pixelPerfect",!1);var X=x(it,"alphaTolerance",1);lt&&(G={},Q=this.makePixelPerfect(X))}H=x(it,"draggable",!1),K=x(it,"dropZone",!1),tt=x(it,"cursor",!1),at=x(it,"useHandCursor",!1),(!G||!Q)&&(this.setHitAreaFromTexture(B),J=!1)}else"function"==typeof G&&!Q&&(Q=G,G={});for(var nt=0;nt<B.length;nt++){var ht=B[nt];if(lt&&"Container"===ht.type)console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");else{var gt=ht.input?ht.input:h(ht,G,Q);gt.customHitArea=J,gt.dropZone=K,gt.cursor=at?"pointer":tt,ht.input=gt,H&&this.setDraggable(ht),this.queueForInsertion(ht)}}return this},setHitAreaCircle:function(B,G,Q,H,K){void 0===K&&(K=T);var tt=new y(G,Q,H);return this.setHitArea(B,tt,K)},setHitAreaEllipse:function(B,G,Q,H,K,tt){void 0===tt&&(tt=d);var at=new p(G,Q,H,K);return this.setHitArea(B,at,tt)},setHitAreaFromTexture:function(B,G){void 0===G&&(G=I),Array.isArray(B)||(B=[B]);for(var Q=0;Q<B.length;Q++){var H=B[Q],K=H.frame,tt=0,at=0;H.width?(tt=H.width,at=H.height):K&&(tt=K.realWidth,at=K.realHeight),"Container"!==H.type||0!==tt&&0!==at?0!==tt&&0!==at&&(H.input=h(H,new D(0,0,tt,at),G),this.queueForInsertion(H)):console.warn("Container.setInteractive must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(B,G,Q,H,K,tt){void 0===tt&&(tt=I);var at=new D(G,Q,H,K);return this.setHitArea(B,at,tt)},setHitAreaTriangle:function(B,G,Q,H,K,tt,at,lt){void 0===lt&&(lt=L);var J=new F(G,Q,H,K,tt,at);return this.setHitArea(B,J,lt)},enableDebug:function(B,G){void 0===G&&(G=65280);var Q=B.input;if(!Q||!Q.hitArea)return this;var H=Q.hitArea,K=H.type,tt=Q.hitAreaDebug,at=this.systems.add,lt=this.systems.updateList;tt&&(lt.remove(tt),tt.destroy(),tt=null);var J=0,it=0;switch(K){case b.CIRCLE:tt=at.arc(0,0,H.radius),J=H.x-H.radius,it=H.y-H.radius;break;case b.ELLIPSE:tt=at.ellipse(0,0,H.width,H.height),J=H.x-H.width/2,it=H.y-H.height/2;break;case b.LINE:tt=at.line(0,0,H.x1,H.y1,H.x2,H.y2);break;case b.POLYGON:tt=at.polygon(0,0,H.points);break;case b.RECTANGLE:tt=at.rectangle(0,0,H.width,H.height),J=H.x,it=H.y;break;case b.TRIANGLE:tt=at.triangle(0,0,H.x1,H.y1,H.x2,H.y2,H.x3,H.y3)}return tt&&(tt.isFilled=!1,tt.strokeColor=G,tt.preUpdate=function(){tt.setVisible(B.visible),tt.setStrokeStyle(1/B.scale,tt.strokeColor),tt.setDisplayOrigin(B.displayOriginX,B.displayOriginY);var Y=B.x,X=B.y,nt=B.rotation,ht=B.scaleX,gt=B.scaleY;if(B.parentContainer){var wt=B.getWorldTransformMatrix();Y=wt.tx,X=wt.ty,nt=wt.rotation,ht=wt.scaleX,gt=wt.scaleY}tt.setRotation(nt),tt.setScale(ht,gt),tt.setPosition(Y+J*ht,X+it*gt),tt.setScrollFactor(B.scrollFactorX,B.scrollFactorY),tt.setDepth(B.depth)},lt.add(tt),Q.hitAreaDebug=tt),this},removeDebug:function(B){var G=B.input;return G&&G.hitAreaDebug&&(G.hitAreaDebug.destroy(),G.hitAreaDebug=null),this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(B){return this.pollRate=B,this._pollTimer=0,this},setGlobalTopOnly:function(B){return this.manager.globalTopOnly=B,this},setTopOnly:function(B){return this.topOnly=B,this},sortGameObjects:function(B,G){if(B.length<2||!G.camera)return B;var Q=G.camera.renderList;return B.sort(function(H,K){var tt=Math.max(Q.indexOf(H),0);return Math.max(Q.indexOf(K),0)-tt})},sortDropZones:function(B){return B.length<2?B:(this.scene.sys.depthSort(),B.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(B,G){if(!B.parentContainer&&!G.parentContainer)return this.displayList.getIndex(G)-this.displayList.getIndex(B);if(B.parentContainer===G.parentContainer)return G.parentContainer.getIndex(G)-B.parentContainer.getIndex(B);if(B.parentContainer===G)return-1;if(G.parentContainer===B)return 1;for(var Q=B.getIndexList(),H=G.getIndexList(),K=Math.min(Q.length,H.length),tt=0;tt<K;tt++){var at=Q[tt],lt=H[tt];if(at!==lt)return lt-at}return H.length-Q.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(B){return this.manager.addPointer(B)},setDefaultCursor:function(B){return this.manager.setDefaultCursor(B),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(g.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var B=0;B<10;B++)this._drag[B]=[],this._over[B]=[];this.removeAllListeners();var G=this.manager;G.canvas.style.cursor=G.defaultCursor;var Q=this.systems.events;Q.off(R.TRANSITION_START,this.transitionIn,this),Q.off(R.TRANSITION_OUT,this.transitionOut,this),Q.off(R.TRANSITION_COMPLETE,this.transitionComplete,this),Q.off(R.PRE_UPDATE,this.preUpdate,this),G.events.off(g.GAME_OUT,this.onGameOut,this),G.events.off(g.GAME_OVER,this.onGameOver,this),Q.off(R.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var B=this.manager.pointers,G=0;G<B.length;G++)B[G].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(g.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(R.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});A.register("InputPlugin",V,"input"),C.exports=V},89639:(C,k,a)=>{var y=a(35154),T={};C.exports={register:function(f,h,c,u,p){T[f]={plugin:h,mapping:c,settingsKey:u,configKey:p}},getPlugin:function(f){return T[f]},install:function(f){var h=f.scene.sys,c=h.settings.input,u=h.game.config;for(var p in T){var d=T[p].plugin,g=T[p].mapping;y(c,T[p].settingsKey,u[T[p].configKey])&&(f[g]=new d(f))}},remove:function(f){T.hasOwnProperty(f)&&delete T[f]}}},42515:(C,k,a)=>{var y=a(31040),T=a(83419),m=a(20339),f=a(43855),h=a(47235),c=a(26099),u=a(25892),p=new T({initialize:function(g,v){this.manager=g,this.id=v,this.camera=null,this.button=0,this.buttons=0,this.position=new c,this.prevPosition=new c,this.midPoint=new c(-1,-1),this.velocity=new c,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===v,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(d){var g=d.getWorldPoint(this.x,this.y);return this.worldX=g.x,this.worldY=g.y,this},positionToCamera:function(d,g){return d.getWorldPoint(this.x,this.y,g)},updateMotion:function(){var d=this.position.x,g=this.position.y,v=this.midPoint.x,x=this.midPoint.y;if(d!==v||g!==x){var b=h(this.motionFactor,v,d),_=h(this.motionFactor,x,g);f(b,d,.1)&&(b=d),f(_,g,.1)&&(_=g),this.midPoint.set(b,_);var E=d-b,A=g-_;this.velocity.set(E,A),this.angle=y(b,_,d,g),this.distance=Math.sqrt(E*E+A*A)}},up:function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.button=d.button,this.upElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),0===d.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),0===this.buttons&&(this.isDown=!1,this.upTime=d.timeStamp,this.wasTouch=!1)},down:function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.button=d.button,this.downElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),0===d.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),u.macOS&&d.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=d.timeStamp),this.wasTouch=!1},move:function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.manager.transformPointer(this,d.pageX,d.pageY,!0),this.locked&&(this.movementX=d.movementX||d.mozMovementX||d.webkitMovementX||0,this.movementY=d.movementY||d.mozMovementY||d.webkitMovementY||0),this.moveTime=d.timeStamp,this.wasTouch=!1},wheel:function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.deltaX=d.deltaX,this.deltaY=d.deltaY,this.deltaZ=d.deltaZ,this.wasTouch=!1},touchstart:function(d,g){d.pointerId&&(this.pointerId=d.pointerId),this.identifier=d.identifier,this.target=d.target,this.active=!0,this.buttons=1,this.event=g,this.downElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=g.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(d,g){this.event=g,this.manager.transformPointer(this,d.pageX,d.pageY,!0),this.moveTime=g.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(d,g){this.buttons=0,this.event=g,this.upElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=g.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(d,g){this.buttons=0,this.event=g,this.upElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=g.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},leftButtonReleased:function(){return 0===this.buttons?0===this.button&&!this.isDown:0===this.button},rightButtonReleased:function(){return 0===this.buttons?2===this.button&&!this.isDown:2===this.button},middleButtonReleased:function(){return 0===this.buttons?1===this.button&&!this.isDown:1===this.button},backButtonReleased:function(){return 0===this.buttons?3===this.button&&!this.isDown:3===this.button},forwardButtonReleased:function(){return 0===this.buttons?4===this.button&&!this.isDown:4===this.button},getDistance:function(){return this.isDown?m(this.downX,this.downY,this.x,this.y):m(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?y(this.downX,this.downY,this.x,this.y):y(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(d,g){void 0===d&&(d=10),void 0===g&&(g=[]);for(var v=this.prevPosition.x,x=this.prevPosition.y,b=this.position.x,_=this.position.y,E=0;E<d;E++){var A=1/d*E;g[E]={x:h(A,v,b),y:h(A,x,_)}}return g},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=0===this.id},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(d){this.position.x=d}},y:{get:function(){return this.position.y},set:function(d){this.position.y=d}},time:{get:function(){return this.event?this.event.timeStamp:0}}});C.exports=p},93301:C=>{C.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},7179:C=>{C.exports="boot"},85375:C=>{C.exports="destroy"},39843:C=>{C.exports="dragend"},23388:C=>{C.exports="dragenter"},16133:C=>{C.exports="drag"},27829:C=>{C.exports="dragleave"},53904:C=>{C.exports="dragover"},56058:C=>{C.exports="dragstart"},2642:C=>{C.exports="drop"},88171:C=>{C.exports="gameobjectdown"},36147:C=>{C.exports="dragend"},71692:C=>{C.exports="dragenter"},96149:C=>{C.exports="drag"},81285:C=>{C.exports="dragleave"},74048:C=>{C.exports="dragover"},21322:C=>{C.exports="dragstart"},49378:C=>{C.exports="drop"},86754:C=>{C.exports="gameobjectmove"},86433:C=>{C.exports="gameobjectout"},60709:C=>{C.exports="gameobjectover"},24081:C=>{C.exports="pointerdown"},11172:C=>{C.exports="pointermove"},18907:C=>{C.exports="pointerout"},95579:C=>{C.exports="pointerover"},35368:C=>{C.exports="pointerup"},26972:C=>{C.exports="wheel"},47078:C=>{C.exports="gameobjectup"},73802:C=>{C.exports="gameobjectwheel"},56718:C=>{C.exports="gameout"},25936:C=>{C.exports="gameover"},27503:C=>{C.exports="boot"},50852:C=>{C.exports="process"},96438:C=>{C.exports="update"},59152:C=>{C.exports="pointerlockchange"},47777:C=>{C.exports="pointerdown"},27957:C=>{C.exports="pointerdownoutside"},19444:C=>{C.exports="pointermove"},54251:C=>{C.exports="pointerout"},18667:C=>{C.exports="pointerover"},27192:C=>{C.exports="pointerup"},24652:C=>{C.exports="pointerupoutside"},45132:C=>{C.exports="wheel"},44512:C=>{C.exports="preupdate"},15757:C=>{C.exports="shutdown"},41637:C=>{C.exports="start"},93802:C=>{C.exports="update"},8214:(C,k,a)=>{C.exports={BOOT:a(7179),DESTROY:a(85375),DRAG_END:a(39843),DRAG_ENTER:a(23388),DRAG:a(16133),DRAG_LEAVE:a(27829),DRAG_OVER:a(53904),DRAG_START:a(56058),DROP:a(2642),GAME_OUT:a(56718),GAME_OVER:a(25936),GAMEOBJECT_DOWN:a(88171),GAMEOBJECT_DRAG_END:a(36147),GAMEOBJECT_DRAG_ENTER:a(71692),GAMEOBJECT_DRAG:a(96149),GAMEOBJECT_DRAG_LEAVE:a(81285),GAMEOBJECT_DRAG_OVER:a(74048),GAMEOBJECT_DRAG_START:a(21322),GAMEOBJECT_DROP:a(49378),GAMEOBJECT_MOVE:a(86754),GAMEOBJECT_OUT:a(86433),GAMEOBJECT_OVER:a(60709),GAMEOBJECT_POINTER_DOWN:a(24081),GAMEOBJECT_POINTER_MOVE:a(11172),GAMEOBJECT_POINTER_OUT:a(18907),GAMEOBJECT_POINTER_OVER:a(95579),GAMEOBJECT_POINTER_UP:a(35368),GAMEOBJECT_POINTER_WHEEL:a(26972),GAMEOBJECT_UP:a(47078),GAMEOBJECT_WHEEL:a(73802),MANAGER_BOOT:a(27503),MANAGER_PROCESS:a(50852),MANAGER_UPDATE:a(96438),POINTER_DOWN:a(47777),POINTER_DOWN_OUTSIDE:a(27957),POINTER_MOVE:a(19444),POINTER_OUT:a(54251),POINTER_OVER:a(18667),POINTER_UP:a(27192),POINTER_UP_OUTSIDE:a(24652),POINTER_WHEEL:a(45132),POINTERLOCK_CHANGE:a(59152),PRE_UPDATE:a(44512),SHUTDOWN:a(15757),START:a(41637),UPDATE:a(93802)}},97421:(C,k,a)=>{var T=new(a(83419))({initialize:function(f,h){this.pad=f,this.events=f.events,this.index=h,this.value=0,this.threshold=.1},update:function(m){this.value=m},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});C.exports=T},28884:(C,k,a)=>{var y=a(83419),T=a(92734),m=new y({initialize:function(h,c){this.pad=h,this.events=h.manager,this.index=c,this.value=0,this.threshold=1,this.pressed=!1},update:function(f){this.value=f;var h=this.pad,c=this.index;f>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(T.BUTTON_DOWN,h,this,f),this.pad.emit(T.GAMEPAD_BUTTON_DOWN,c,f,this)):this.pressed&&(this.pressed=!1,this.events.emit(T.BUTTON_UP,h,this,f),this.pad.emit(T.GAMEPAD_BUTTON_UP,c,f,this))},destroy:function(){this.pad=null,this.events=null}});C.exports=m},99125:(C,k,a)=>{var y=a(97421),T=a(28884),m=a(83419),f=a(50792),h=a(26099),c=new m({Extends:f,initialize:function(p,d){f.call(this),this.manager=p,this.pad=d,this.id=d.id,this.index=d.index;for(var g=[],v=0;v<d.buttons.length;v++)g.push(new T(this,v));this.buttons=g;var x=[];for(v=0;v<d.axes.length;v++)x.push(new y(this,v));this.axes=x,this.vibration=d.vibrationActuator;var b={value:0,pressed:!1};this._LCLeft=g[14]?g[14]:b,this._LCRight=g[15]?g[15]:b,this._LCTop=g[12]?g[12]:b,this._LCBottom=g[13]?g[13]:b,this._RCLeft=g[2]?g[2]:b,this._RCRight=g[1]?g[1]:b,this._RCTop=g[3]?g[3]:b,this._RCBottom=g[0]?g[0]:b,this._FBLeftTop=g[4]?g[4]:b,this._FBLeftBottom=g[6]?g[6]:b,this._FBRightTop=g[5]?g[5]:b,this._FBRightBottom=g[7]?g[7]:b;var _={value:0};this._HAxisLeft=x[0]?x[0]:_,this._VAxisLeft=x[1]?x[1]:_,this._HAxisRight=x[2]?x[2]:_,this._VAxisRight=x[3]?x[3]:_,this.leftStick=new h,this.rightStick=new h,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(u){return this.axes[u].getValue()},setAxisThreshold:function(u){for(var p=0;p<this.axes.length;p++)this.axes[p].threshold=u},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(u){return this.buttons[u].value},isButtonDown:function(u){return this.buttons[u].pressed},update:function(u){if(!(u.timestamp<this._created)){var p,d=this.buttons,g=u.buttons,v=d.length;for(p=0;p<v;p++)d[p].update(g[p].value);var x=this.axes,b=u.axes;for(v=x.length,p=0;p<v;p++)x[p].update(b[p]);v>=2&&(this.leftStick.set(x[0].getValue(),x[1].getValue()),v>=4&&this.rightStick.set(x[2].getValue(),x[3].getValue()))}},destroy:function(){var u;for(this.removeAllListeners(),this.manager=null,this.pad=null,u=0;u<this.buttons.length;u++)this.buttons[u].destroy();for(u=0;u<this.axes.length;u++)this.axes[u].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});C.exports=c},56654:(C,k,a)=>{var y=a(83419),T=a(50792),m=a(92734),f=a(99125),h=a(35154),c=a(89639),u=a(8214),p=new y({Extends:T,initialize:function(g){T.call(this),this.scene=g.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=g,this.enabled=!0,this.gamepads=[],this.queue=[],g.pluginEvents.once(u.BOOT,this.boot,this),g.pluginEvents.on(u.START,this.start,this)},boot:function(){var d=this.scene.sys.game,g=this.settings.input,v=d.config;this.enabled=h(g,"gamepad",v.inputGamepad)&&d.device.input.gamepads,this.target=h(g,"gamepad.target",v.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(u.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(u.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var d=this,g=this.target,v=function(x){x.defaultPrevented||!d.isActive()||(d.refreshPads(),d.queue.push(x))};this.onGamepadHandler=v,g.addEventListener("gamepadconnected",v,!1),g.addEventListener("gamepaddisconnected",v,!1),this.sceneInputPlugin.pluginEvents.on(u.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(u.UPDATE,this.update);for(var d=0;d<this.gamepads.length;d++)this.gamepads[d].removeAllListeners()},disconnectAll:function(){for(var d=0;d<this.gamepads.length;d++)this.gamepads[d].pad.connected=!1},refreshPads:function(){var d=navigator.getGamepads();if(d)for(var g=this.gamepads,v=0;v<d.length;v++){var x=d[v];if(x){var _=x.index,E=g[_];if(E)E.id!==x.id?(E.destroy(),g[_]=new f(this,x)):E.update(x);else{var A=new f(this,x);g[_]=A,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=A):this._pad3=A:this._pad2=A:this._pad1=A}}}else this.disconnectAll()},getAll:function(){for(var d=[],g=this.gamepads,v=0;v<g.length;v++)g[v]&&d.push(g[v]);return d},getPad:function(d){for(var g=this.gamepads,v=0;v<g.length;v++)if(g[v]&&g[v].index===d)return g[v]},update:function(){if(this.enabled){this.refreshPads();var d=this.queue.length;if(0!==d)for(var g=this.queue.splice(0,d),v=0;v<d;v++){var x=g[v],b=this.getPad(x.gamepad.index);"gamepadconnected"===x.type?this.emit(m.CONNECTED,b,x):"gamepaddisconnected"===x.type&&this.emit(m.DISCONNECTED,b,x)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var d=0;d<this.gamepads.length;d++)this.gamepads[d]&&this.gamepads[d].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});c.register("GamepadPlugin",p,"gamepad","gamepad","inputGamepad"),C.exports=p},89651:C=>{C.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:C=>{C.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:C=>{C.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(C,k,a)=>{C.exports={DUALSHOCK_4:a(65294),SNES_USB:a(89651),XBOX_360:a(90089)}},46008:C=>{C.exports="down"},7629:C=>{C.exports="up"},42206:C=>{C.exports="connected"},86544:C=>{C.exports="disconnected"},94784:C=>{C.exports="down"},14325:C=>{C.exports="up"},92734:(C,k,a)=>{C.exports={BUTTON_DOWN:a(46008),BUTTON_UP:a(7629),CONNECTED:a(42206),DISCONNECTED:a(86544),GAMEPAD_BUTTON_DOWN:a(94784),GAMEPAD_BUTTON_UP:a(14325)}},48646:(C,k,a)=>{C.exports={Axis:a(97421),Button:a(28884),Events:a(92734),Gamepad:a(99125),GamepadPlugin:a(56654),Configs:a(64894)}},14350:(C,k,a)=>{var y=a(93301),T=a(79291),m={CreatePixelPerfectHandler:a(84409),CreateInteractiveObject:a(74457),Events:a(8214),Gamepad:a(48646),InputManager:a(7003),InputPlugin:a(48205),InputPluginCache:a(89639),Keyboard:a(51442),Mouse:a(87078),Pointer:a(42515),Touch:a(95618)};m=T(!1,m,y),C.exports=m},78970:(C,k,a)=>{var y=a(72905),T=a(83419),m=a(8443),f=a(8214),h=a(46032),c=a(29747),u=new T({initialize:function(d){this.manager=d,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.onKeyDown=c,this.onKeyUp=c,d.events.once(f.MANAGER_BOOT,this.boot,this)},boot:function(){var p=this.manager.config;this.enabled=p.inputKeyboard,this.target=p.inputKeyboardEventTarget,this.addCapture(p.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(m.POST_STEP,this.postUpdate,this)},startListeners:function(){var p=this;this.onKeyDown=function(g){!g.defaultPrevented&&p.enabled&&p.manager&&(p.queue.push(g),p.manager.events.emit(f.MANAGER_PROCESS),p.preventDefault&&!(g.altKey||g.ctrlKey||g.shiftKey||g.metaKey)&&p.captures.indexOf(g.keyCode)>-1&&g.preventDefault())},this.onKeyUp=function(g){!g.defaultPrevented&&p.enabled&&p.manager&&(p.queue.push(g),p.manager.events.emit(f.MANAGER_PROCESS),p.preventDefault&&!(g.altKey||g.ctrlKey||g.shiftKey||g.metaKey)&&p.captures.indexOf(g.keyCode)>-1&&g.preventDefault())};var d=this.target;d&&(d.addEventListener("keydown",this.onKeyDown,!1),d.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var p=this.target;p.removeEventListener("keydown",this.onKeyDown,!1),p.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(p){"string"==typeof p&&(p=p.split(",")),Array.isArray(p)||(p=[p]);for(var d=this.captures,g=0;g<p.length;g++){var v=p[g];"string"==typeof v&&(v=h[v.trim().toUpperCase()]),-1===d.indexOf(v)&&d.push(v)}this.preventDefault=d.length>0},removeCapture:function(p){"string"==typeof p&&(p=p.split(",")),Array.isArray(p)||(p=[p]);for(var d=this.captures,g=0;g<p.length;g++){var v=p[g];"string"==typeof v&&(v=h[v.toUpperCase()]),y(d,v)}this.preventDefault=d.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(m.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});C.exports=u},28846:(C,k,a)=>{var y=a(83419),T=a(50792),m=a(95922),f=a(8443),h=a(35154),c=a(8214),u=a(89639),p=a(30472),d=a(46032),g=a(87960),v=a(74600),x=a(44594),b=a(56583),_=new y({Extends:T,initialize:function(A){T.call(this),this.game=A.systems.game,this.scene=A.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=A,this.manager=A.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,A.pluginEvents.once(c.BOOT,this.boot,this),A.pluginEvents.on(c.START,this.start,this)},boot:function(){var E=this.settings.input;this.enabled=h(E,"keyboard",!0);var A=h(E,"keyboard.capture",null);A&&this.addCaptures(A),this.sceneInputPlugin.pluginEvents.once(c.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(c.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(c.SHUTDOWN,this.shutdown,this),this.game.events.on(f.BLUR,this.resetKeys,this),this.scene.sys.events.on(x.PAUSE,this.resetKeys,this),this.scene.sys.events.on(x.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(E){return this.manager.addCapture(E),this},removeCapture:function(E){return this.manager.removeCapture(E),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:d.UP,down:d.DOWN,left:d.LEFT,right:d.RIGHT,space:d.SPACE,shift:d.SHIFT})},addKeys:function(E,A,D){void 0===A&&(A=!0),void 0===D&&(D=!1);var I={};if("string"==typeof E){E=E.split(",");for(var R=0;R<E.length;R++){var F=E[R].trim();F&&(I[F]=this.addKey(F,A,D))}}else for(var L in E)I[L]=this.addKey(E[L],A,D);return I},addKey:function(E,A,D){void 0===A&&(A=!0),void 0===D&&(D=!1);var I=this.keys;if(E instanceof p){var R=I.indexOf(E);return R>-1?I[R]=E:I[E.keyCode]=E,A&&this.addCapture(E.keyCode),E.setEmitOnRepeat(D),E}return"string"==typeof E&&(E=d[E.toUpperCase()]),I[E]||(I[E]=new p(this,E),A&&this.addCapture(E),I[E].setEmitOnRepeat(D)),I[E]},removeKey:function(E,A,D){void 0===A&&(A=!1),void 0===D&&(D=!1);var R,I=this.keys;if(E instanceof p){var F=I.indexOf(E);F>-1&&(R=this.keys[F],this.keys[F]=void 0)}else"string"==typeof E&&(E=d[E.toUpperCase()]);return I[E]&&(R=I[E],I[E]=void 0),R&&(R.plugin=null,D&&this.removeCapture(R.keyCode),A&&R.destroy()),this},removeAllKeys:function(E,A){void 0===E&&(E=!1),void 0===A&&(A=!1);for(var D=this.keys,I=0;I<D.length;I++){var R=D[I];R&&(D[I]=void 0,A&&this.removeCapture(R.keyCode),E&&R.destroy())}return this},createCombo:function(E,A){return new g(this,E,A)},checkDown:function(E,A){if(void 0===A&&(A=0),this.enabled&&E.isDown){var D=b(this.time-E.timeDown,A);if(D>E._tick)return E._tick=D,!0}return!1},update:function(){var E=this.manager.queue,A=E.length;if(this.isActive()&&0!==A)for(var D=this.keys,I=0;I<A;I++){var R=E[I],F=R.keyCode,L=D[F],V=!1;void 0===R.cancelled&&(R.cancelled=0,R.stopImmediatePropagation=function(){R.cancelled=1},R.stopPropagation=function(){R.cancelled=-1}),-1!==R.cancelled&&(F===this.prevCode&&R.timeStamp===this.prevTime&&R.type===this.prevType||(this.prevCode=F,this.prevTime=R.timeStamp,this.prevType=R.type,"keydown"===R.type?(L&&(V=L.isDown,L.onDown(R)),!R.cancelled&&(!L||!V)&&(v[F]&&this.emit(m.KEY_DOWN+v[F],R),R.cancelled||this.emit(m.ANY_KEY_DOWN,R))):(L&&L.onUp(R),R.cancelled||(v[F]&&this.emit(m.KEY_UP+v[F],R),R.cancelled||this.emit(m.ANY_KEY_UP,R))),1===R.cancelled&&(R.cancelled=0)))}},resetKeys:function(){for(var E=this.keys,A=0;A<E.length;A++)E[A]&&E[A].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(c.MANAGER_PROCESS,this.update,this),this.game.events.off(f.BLUR,this.resetKeys),this.scene.sys.events.off(x.PAUSE,this.resetKeys,this),this.scene.sys.events.off(x.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var E=this.keys,A=0;A<E.length;A++)E[A]&&E[A].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});u.register("KeyboardPlugin",_,"keyboard","keyboard","inputKeyboard"),C.exports=_},66970:C=>{C.exports=function(a,y){return y.timeLastMatched=a.timeStamp,y.index++,y.index===y.size||(y.current=y.keyCodes[y.index],!1)}},87960:(C,k,a)=>{var y=a(83419),T=a(95922),m=a(95540),f=a(68769),h=a(92803),c=new y({initialize:function(p,d,g){if(void 0===g&&(g={}),d.length<2)return!1;this.manager=p,this.enabled=!0,this.keyCodes=[];for(var v=0;v<d.length;v++){var x=d[v];"string"==typeof x?this.keyCodes.push(x.toUpperCase().charCodeAt(0)):"number"==typeof x?this.keyCodes.push(x):x.hasOwnProperty("keyCode")&&this.keyCodes.push(x.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=m(g,"resetOnWrongKey",!0),this.maxKeyDelay=m(g,"maxKeyDelay",0),this.resetOnMatch=m(g,"resetOnMatch",!1),this.deleteOnMatch=m(g,"deleteOnMatch",!1);var b=this;this.onKeyDown=function(E){!b.matched&&b.enabled&&f(E,b)&&(b.manager.emit(T.COMBO_MATCH,b,E),b.resetOnMatch?h(b):b.deleteOnMatch&&b.destroy())},this.manager.on(T.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(T.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});C.exports=c},68769:(C,k,a)=>{var y=a(66970);C.exports=function(m,f){if(f.matched)return!0;var h=!1,c=!1;return m.keyCode===f.current&&(f.index>0&&f.maxKeyDelay>0?m.timeStamp<=f.timeLastMatched+f.maxKeyDelay&&(c=!0,h=y(m,f)):(c=!0,h=y(m,f))),!c&&f.resetOnWrongKey&&(f.index=0,f.current=f.keyCodes[0]),h&&(f.timeLastMatched=m.timeStamp,f.matched=!0,f.timeMatched=m.timeStamp),h}},92803:C=>{C.exports=function(a){return a.current=a.keyCodes[0],a.index=0,a.timeLastMatched=0,a.matched=!1,a.timeMatched=0,a}},92612:C=>{C.exports="keydown"},23345:C=>{C.exports="keyup"},21957:C=>{C.exports="keycombomatch"},44743:C=>{C.exports="down"},3771:C=>{C.exports="keydown-"},46358:C=>{C.exports="keyup-"},75674:C=>{C.exports="up"},95922:(C,k,a)=>{C.exports={ANY_KEY_DOWN:a(92612),ANY_KEY_UP:a(23345),COMBO_MATCH:a(21957),DOWN:a(44743),KEY_DOWN:a(3771),KEY_UP:a(46358),UP:a(75674)}},51442:(C,k,a)=>{C.exports={Events:a(95922),KeyboardManager:a(78970),KeyboardPlugin:a(28846),Key:a(30472),KeyCodes:a(46032),KeyCombo:a(87960),AdvanceKeyCombo:a(66970),ProcessKeyCombo:a(68769),ResetKeyCombo:a(92803),JustDown:a(90229),JustUp:a(38796),DownDuration:a(37015),UpDuration:a(41170)}},37015:C=>{C.exports=function(a,y){return void 0===y&&(y=50),a.isDown&&a.plugin.game.loop.time-a.timeDown<y}},90229:C=>{C.exports=function(a){return!!a._justDown&&(a._justDown=!1,!0)}},38796:C=>{C.exports=function(a){return!!a._justUp&&(a._justUp=!1,!0)}},30472:(C,k,a)=>{var y=a(83419),T=a(50792),m=a(95922),f=new y({Extends:T,initialize:function(c,u){T.call(this),this.plugin=c,this.keyCode=u,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(h){return this.emitOnRepeat=h,this},onDown:function(h){this.originalEvent=h,this.enabled&&(this.altKey=h.altKey,this.ctrlKey=h.ctrlKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.location=h.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(m.DOWN,this,h):(this.isDown=!0,this.isUp=!1,this.timeDown=h.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(m.DOWN,this,h)))},onUp:function(h){this.originalEvent=h,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=h.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(m.UP,this,h))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});C.exports=f},46032:C=>{C.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},74600:(C,k,a)=>{var y=a(46032),T={};for(var m in y)T[y[m]]=m;C.exports=T},41170:C=>{C.exports=function(a,y){return void 0===y&&(y=50),a.isUp&&a.plugin.game.loop.time-a.timeUp<y}},85098:(C,k,a)=>{var y=a(83419),T=a(89357),m=a(8214),f=a(29747),h=new y({initialize:function(u){this.manager=u,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.locked=!1,this.onMouseMove=f,this.onMouseDown=f,this.onMouseUp=f,this.onMouseDownWindow=f,this.onMouseUpWindow=f,this.onMouseOver=f,this.onMouseOut=f,this.onMouseWheel=f,this.pointerLockChange=f,this.isTop=!0,u.events.once(m.MANAGER_BOOT,this.boot,this)},boot:function(){var c=this.manager.config;this.enabled=c.inputMouse,this.target=c.inputMouseEventTarget,this.passive=c.inputMousePassive,this.preventDefaultDown=c.inputMousePreventDefaultDown,this.preventDefaultUp=c.inputMousePreventDefaultUp,this.preventDefaultMove=c.inputMousePreventDefaultMove,this.preventDefaultWheel=c.inputMousePreventDefaultWheel,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,c.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(c){return c.preventDefault(),!1}),this},requestPointerLock:function(){if(T.pointerLock){var c=this.target;c.requestPointerLock=c.requestPointerLock||c.mozRequestPointerLock||c.webkitRequestPointerLock,c.requestPointerLock()}},releasePointerLock:function(){T.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var c=this.target;if(c){var u=this,p=this.manager,d=p.canvas,g=window&&window.focus&&p.game.config.autoFocus;this.onMouseMove=function(x){!x.defaultPrevented&&u.enabled&&p&&p.enabled&&(p.onMouseMove(x),u.preventDefaultMove&&x.preventDefault())},this.onMouseDown=function(x){g&&window.focus(),!x.defaultPrevented&&u.enabled&&p&&p.enabled&&(p.onMouseDown(x),u.preventDefaultDown&&x.target===d&&x.preventDefault())},this.onMouseDownWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&u.enabled&&p&&p.enabled&&x.target!==d&&p.onMouseDown(x)},this.onMouseUp=function(x){!x.defaultPrevented&&u.enabled&&p&&p.enabled&&(p.onMouseUp(x),u.preventDefaultUp&&x.target===d&&x.preventDefault())},this.onMouseUpWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&u.enabled&&p&&p.enabled&&x.target!==d&&p.onMouseUp(x)},this.onMouseOver=function(x){!x.defaultPrevented&&u.enabled&&p&&p.enabled&&p.setCanvasOver(x)},this.onMouseOut=function(x){!x.defaultPrevented&&u.enabled&&p&&p.enabled&&p.setCanvasOut(x)},this.onMouseWheel=function(x){!x.defaultPrevented&&u.enabled&&p&&p.enabled&&p.onMouseWheel(x),u.preventDefaultWheel&&x.target===d&&x.preventDefault()};var v={passive:!0};if(c.addEventListener("mousemove",this.onMouseMove),c.addEventListener("mousedown",this.onMouseDown),c.addEventListener("mouseup",this.onMouseUp),c.addEventListener("mouseover",this.onMouseOver,v),c.addEventListener("mouseout",this.onMouseOut,v),c.addEventListener("wheel",this.onMouseWheel,this.preventDefaultWheel?{passive:!1}:v),window&&p.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,v),window.top.addEventListener("mouseup",this.onMouseUpWindow,v)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,v),window.addEventListener("mouseup",this.onMouseUpWindow,v),this.isTop=!1}T.pointerLock&&(this.pointerLockChange=function(x){var b=u.target;u.locked=document.pointerLockElement===b||document.mozPointerLockElement===b||document.webkitPointerLockElement===b,p.onPointerLockChange(x)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var c=this.target;c.removeEventListener("mousemove",this.onMouseMove),c.removeEventListener("mousedown",this.onMouseDown),c.removeEventListener("mouseup",this.onMouseUp),c.removeEventListener("mouseover",this.onMouseOver),c.removeEventListener("mouseout",this.onMouseOut),window&&((c=this.isTop?window.top:window).removeEventListener("mousedown",this.onMouseDownWindow),c.removeEventListener("mouseup",this.onMouseUpWindow)),T.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});C.exports=h},87078:(C,k,a)=>{C.exports={MouseManager:a(85098)}},36210:(C,k,a)=>{var y=a(83419),T=a(8214),m=a(29747),f=new y({initialize:function(c){this.manager=c,this.capture=!0,this.enabled=!1,this.onTouchStart=m,this.onTouchStartWindow=m,this.onTouchMove=m,this.onTouchEnd=m,this.onTouchEndWindow=m,this.onTouchCancel=m,this.onTouchCancelWindow=m,this.isTop=!0,c.events.once(T.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputTouch,this.target=h.inputTouchEventTarget,this.capture=h.inputTouchCapture,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,h.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(h){return h.preventDefault(),!1}),this},startListeners:function(){var h=this.target;if(h){var c=this,u=this.manager,p=u.canvas,d=window&&window.focus&&u.game.config.autoFocus;this.onTouchMove=function(b){!b.defaultPrevented&&c.enabled&&u&&u.enabled&&(u.onTouchMove(b),c.capture&&b.cancelable&&b.preventDefault())},this.onTouchStart=function(b){d&&window.focus(),!b.defaultPrevented&&c.enabled&&u&&u.enabled&&(u.onTouchStart(b),c.capture&&b.cancelable&&b.target===p&&b.preventDefault())},this.onTouchStartWindow=function(b){!b.defaultPrevented&&c.enabled&&u&&u.enabled&&b.target!==p&&u.onTouchStart(b)},this.onTouchEnd=function(b){!b.defaultPrevented&&c.enabled&&u&&u.enabled&&(u.onTouchEnd(b),c.capture&&b.cancelable&&b.target===p&&b.preventDefault())},this.onTouchEndWindow=function(b){!b.defaultPrevented&&c.enabled&&u&&u.enabled&&b.target!==p&&u.onTouchEnd(b)},this.onTouchCancel=function(b){!b.defaultPrevented&&c.enabled&&u&&u.enabled&&(u.onTouchCancel(b),c.capture&&b.preventDefault())},this.onTouchCancelWindow=function(b){!b.defaultPrevented&&c.enabled&&u&&u.enabled&&u.onTouchCancel(b)};var g=this.capture,v={passive:!0},x={passive:!1};if(h.addEventListener("touchstart",this.onTouchStart,g?x:v),h.addEventListener("touchmove",this.onTouchMove,g?x:v),h.addEventListener("touchend",this.onTouchEnd,g?x:v),h.addEventListener("touchcancel",this.onTouchCancel,g?x:v),window&&u.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,x),window.top.addEventListener("touchend",this.onTouchEndWindow,x),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,x)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,x),window.addEventListener("touchend",this.onTouchEndWindow,x),window.addEventListener("touchcancel",this.onTouchCancelWindow,x),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var h=this.target;h.removeEventListener("touchstart",this.onTouchStart),h.removeEventListener("touchmove",this.onTouchMove),h.removeEventListener("touchend",this.onTouchEnd),h.removeEventListener("touchcancel",this.onTouchCancel),window&&((h=this.isTop?window.top:window).removeEventListener("touchstart",this.onTouchStartWindow),h.removeEventListener("touchend",this.onTouchEndWindow),h.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});C.exports=f},95618:(C,k,a)=>{C.exports={TouchManager:a(36210)}},41299:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(54899),f=a(95540),h=a(98356),c=a(3374),u=a(84376),p=a(92638),d=new y({initialize:function(v,x){if(this.loader=v,this.cache=f(x,"cache",!1),this.type=f(x,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=f(x,"key",!1);var b=this.key;if(v.prefix&&""!==v.prefix&&(this.key=v.prefix+b),!this.key)throw new Error("Invalid File key: "+this.key);var _=f(x,"url");void 0===_?_=v.path+b+"."+f(x,"extension",""):"string"==typeof _&&!_.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(_=v.path+_),this.url=_,this.src="",this.xhrSettings=p(f(x,"responseType",void 0)),f(x,"xhrSettings",!1)&&(this.xhrSettings=c(this.xhrSettings,f(x,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?T.FILE_POPULATED:T.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=f(x,"config",{}),this.base64="string"==typeof _&&0===_.indexOf("data:"),this.retryAttempts=f(x,"maxRetries",v.maxRetries)},setLink:function(g){this.linkFile=g,g.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===T.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=T.FILE_LOADING,this.src=h(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);0===this.src.indexOf("data:")&&(this.base64=!0),this.xhrLoader=u(this,this.loader.xhr)}},onLoad:function(g,v){var x=g.responseURL&&this.loader.localSchemes.some(function(E){return 0===g.responseURL.indexOf(E)}),_=!(v.target&&200!==v.target.status)||x&&0===v.target.status;4===g.readyState&&g.status>=400&&g.status<=599&&(_=!1),this.state=T.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,_)},onBase64Load:function(g){this.xhrLoader=g,this.state=T.FILE_LOADED,this.percentComplete=1,this.loader.emit(m.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(g){g.lengthComputable&&(this.bytesLoaded=g.loaded,this.bytesTotal=g.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(m.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=T.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=T.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=T.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(g){if(this.state!==T.FILE_PENDING_DESTROY){void 0===g&&(g=this.data);var v=this.key,x=this.type;this.loader.emit(m.FILE_COMPLETE,v,x,g),this.loader.emit(m.FILE_KEY_COMPLETE+x+"-"+v,v,x,g),this.loader.flagForRemoval(this),this.state=T.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});d.createObjectURL=function(g,v,x){if("function"==typeof URL)g.src=URL.createObjectURL(v);else{var b=new FileReader;b.onload=function(){g.removeAttribute("crossOrigin"),g.src="data:"+(v.type||x)+";base64,"+b.result.split(",")[1]},b.onerror=g.onerror,b.readAsDataURL(v)}},d.revokeObjectURL=function(g){"function"==typeof URL&&URL.revokeObjectURL(g.src)},C.exports=d},74099:C=>{var k={};C.exports={install:function(y){for(var T in k)y[T]=k[T]},register:function(y,T){k[y]=T},destroy:function(){k={}}}},98356:C=>{C.exports=function(a,y){return!!a.url&&(a.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?a.url:y+a.url)}},74261:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(35072),f=a(50792),h=a(54899),c=a(74099),u=a(95540),p=a(35154),d=a(41212),g=a(37277),v=a(44594),x=a(92638),b=new y({Extends:f,initialize:function(E){f.call(this);var A=E.sys.game.config,D=E.sys.settings.loader;this.scene=E,this.systems=E.sys,this.cacheManager=E.sys.cache,this.textureManager=E.sys.textures,this.sceneManager=E.sys.game.scene,c.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(u(D,"baseURL",A.loaderBaseURL)),this.setPath(u(D,"path",A.loaderPath)),this.setPrefix(u(D,"prefix",A.loaderPrefix)),this.maxParallelDownloads=u(D,"maxParallelDownloads",A.loaderMaxParallelDownloads),this.xhr=x(u(D,"responseType",A.loaderResponseType),u(D,"async",A.loaderAsync),u(D,"user",A.loaderUser),u(D,"password",A.loaderPassword),u(D,"timeout",A.loaderTimeout),u(D,"withCredentials",A.loaderWithCredentials)),this.crossOrigin=u(D,"crossOrigin",A.loaderCrossOrigin),this.imageLoadType=u(D,"imageLoadType",A.loaderImageLoadType),this.localSchemes=u(D,"localScheme",A.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new m,this.inflight=new m,this.queue=new m,this._deleteQueue=new m,this.totalFailed=0,this.totalComplete=0,this.state=T.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=u(D,"maxRetries",A.loaderMaxRetries),E.sys.events.once(v.BOOT,this.boot,this),E.sys.events.on(v.START,this.pluginStart,this)},boot:function(){this.systems.events.once(v.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(v.SHUTDOWN,this.shutdown,this)},setBaseURL:function(_){return void 0===_&&(_=""),""!==_&&"/"!==_.substr(-1)&&(_=_.concat("/")),this.baseURL=_,this},setPath:function(_){return void 0===_&&(_=""),""!==_&&"/"!==_.substr(-1)&&(_=_.concat("/")),this.path=_,this},setPrefix:function(_){return void 0===_&&(_=""),this.prefix=_,this},setCORS:function(_){return this.crossOrigin=_,this},addFile:function(_){Array.isArray(_)||(_=[_]);for(var E=0;E<_.length;E++){var A=_[E];this.keyExists(A)||(this.list.set(A),this.emit(h.ADD,A.key,A.type,this,A),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(_){var E=_.hasCacheConflict();return E||this.list.iterate(function(A){if(A.type===_.type&&A.key===_.key)return E=!0,!1}),!E&&this.isLoading()&&(this.inflight.iterate(function(A){if(A.type===_.type&&A.key===_.key)return E=!0,!1}),this.queue.iterate(function(A){if(A.type===_.type&&A.key===_.key)return E=!0,!1})),E},addPack:function(_,E){if("string"==typeof E){var A=p(_,E);A&&(_={packKey:A})}var D=0,I=this.baseURL,R=this.path,F=this.prefix;for(var L in _)if(Object.prototype.hasOwnProperty.call(_,L)){var V=_[L],B=u(V,"baseURL",I),G=u(V,"path",R),Q=u(V,"prefix",F),H=u(V,"files",null),K=u(V,"defaultType","void");if(Array.isArray(H)){this.setBaseURL(B),this.setPath(G),this.setPrefix(Q);for(var tt=0;tt<H.length;tt++){var at=H[tt],lt=at.hasOwnProperty("type")?at.type:K;this[lt]&&(this[lt](at),D++)}}}return this.setBaseURL(I),this.setPath(R),this.setPrefix(F),D>0},removePack:function(_,E){var F,A=this.systems.anims,D=this.cacheManager,I=this.textureManager,R={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"};if(d(_))F=_;else if(!(F=D.json.get(_)))return void console.warn("Asset Pack not found in JSON cache:",_);for(var L in E&&(F={_:F[E]}),F){var V=F[L],B=u(V,"prefix",""),G=u(V,"files"),Q=u(V,"defaultType");if(Array.isArray(G))for(var H=0;H<G.length;H++){var K=G[H],tt=K.hasOwnProperty("type")?K.type:Q;if(tt){var at=B+K.key;if("animation"===tt&&A.remove(at),"aseprite"!==tt&&"atlas"!==tt&&"atlasXML"!==tt&&"htmlTexture"!==tt&&"image"!==tt&&"multiatlas"!==tt&&"spritesheet"!==tt&&"svg"!==tt&&"texture"!==tt&&"unityAtlas"!==tt||(I.remove(at),R[tt])){if("pack"===tt){this.removePack(at,K.dataKey);continue}if("spine"===tt){var lt=D.custom.spine.get(at);if(!lt)continue;var J=void 0===lt.prefix?"":lt.prefix;D.custom.spine.remove(at);var it=D.custom.spineTextures.get(at);if(!it)continue;D.custom.spineTextures.remove(at);for(var Y=0;Y<it.pages.length;Y++){var nt=J+it.pages[Y].name,ht=at+":"+nt;I.exists(ht)?I.remove(ht):I.remove(nt)}}var gt=R[tt];if(null!==gt){if(!gt){console.warn("Unknown type:",tt);continue}D[gt].remove(at)}}}else console.warn("No type:",K)}}},isLoading:function(){return this.state===T.LOADER_LOADING||this.state===T.LOADER_PROCESSING},isReady:function(){return this.state===T.LOADER_IDLE||this.state===T.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(h.START,this),0===this.list.size?this.loadComplete():(this.state=T.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(v.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(h.PROGRESS,this.progress)},update:function(){this.state===T.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(_){if((_.state===T.FILE_POPULATED||_.state===T.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(_),this.list.delete(_),_.crossOrigin||(_.crossOrigin=this.crossOrigin),_.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(_,E){this.inflight&&(this.inflight.delete(_),this.updateProgress(),E?(this.totalComplete++,this.queue.set(_),this.emit(h.FILE_LOAD,_),_.onProcess()):(this.totalFailed++,this._deleteQueue.set(_),this.emit(h.FILE_LOAD_ERROR,_),this.fileProcessComplete(_)))},fileProcessComplete:function(_){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(_.state===T.FILE_ERRORED?_.multiFile&&_.multiFile.onFileFailed(_):_.state===T.FILE_COMPLETE&&(_.multiFile?_.multiFile.isReadyToProcess()&&(_.multiFile.addToCache(),_.multiFile.pendingDestroy()):(_.addToCache(),_.pendingDestroy())),this.queue.delete(_),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete())},loadComplete:function(){this.emit(h.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=T.LOADER_COMPLETE,this.systems.events.off(v.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(h.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(_){this._deleteQueue.set(_)},saveJSON:function(_,E){return this.save(JSON.stringify(_),E)},save:function(_,E,A){void 0===E&&(E="file.json"),void 0===A&&(A="application/json");var D=new Blob([_],{type:A}),I=URL.createObjectURL(D),R=document.createElement("a");return R.download=E,R.textContent="Download "+E,R.href=I,R.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var _=this.systems.game.config,E=this.systems.settings.loader;this.setBaseURL(u(E,"baseURL",_.loaderBaseURL)),this.setPath(u(E,"path",_.loaderPath)),this.setPrefix(u(E,"prefix",_.loaderPrefix)),this.state=T.LOADER_IDLE},shutdown:function(){this.reset(),this.state=T.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(v.UPDATE,this.update,this),this.systems.events.off(v.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=T.LOADER_DESTROYED,this.systems.events.off(v.UPDATE,this.update,this),this.systems.events.off(v.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});g.register("Loader",b,"load"),C.exports=b},3374:(C,k,a)=>{var y=a(79291),T=a(92638);C.exports=function(f,h){var c=void 0===f?T():y({},f);if(h)for(var u in h)void 0!==h[u]&&(c[u]=h[u]);return c}},26430:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(54899),f=new y({initialize:function(c,u,p,d){var g=[];d.forEach(function(b){b&&g.push(b)}),this.loader=c,this.type=u,this.key=p,c.prefix&&""!==c.prefix&&(this.key=c.prefix+this.key),this.multiKeyIndex=c.multiKeyIndex++,this.files=g,this.state=T.FILE_PENDING,this.complete=!1,this.pending=g.length,this.failed=0,this.config={},this.baseURL=c.baseURL,this.path=c.path,this.prefix=c.prefix;for(var x=0;x<g.length;x++)g[x].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(h){return this.files.push(h),h.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(h){-1!==this.files.indexOf(h)&&this.pending--},onFileFailed:function(h){-1!==this.files.indexOf(h)&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,h.type,h.key))},pendingDestroy:function(){if(this.state!==T.FILE_PENDING_DESTROY){var h=this.key,c=this.type;this.loader.emit(m.FILE_COMPLETE,h,c),this.loader.emit(m.FILE_KEY_COMPLETE+c+"-"+h,h,c),this.loader.flagForRemoval(this);for(var u=0;u<this.files.length;u++)this.files[u].pendingDestroy();this.state=T.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});C.exports=f},84376:(C,k,a)=>{var y=a(3374);C.exports=function(m,f){var h=y(f,m.xhrSettings);if(!m.base64){var p=new XMLHttpRequest;if(p.open("GET",m.src,h.async,h.user,h.password),p.responseType=m.xhrSettings.responseType,p.timeout=h.timeout,h.headers)for(var d in h.headers)p.setRequestHeader(d,h.headers[d]);return h.header&&h.headerValue&&p.setRequestHeader(h.header,h.headerValue),h.requestedWith&&p.setRequestHeader("X-Requested-With",h.requestedWith),h.overrideMimeType&&p.overrideMimeType(h.overrideMimeType),h.withCredentials&&(p.withCredentials=!0),p.onload=m.onLoad.bind(m,p),p.onerror=m.onError.bind(m,p),p.onprogress=m.onProgress.bind(m),p.ontimeout=m.onError.bind(m,p),p.send(),p}var c=m.url.split(";base64,").pop()||m.url.split(",").pop(),u={responseText:atob(c)};m.onBase64Load(u)}},92638:C=>{C.exports=function(a,y,T,m,f,h){return void 0===a&&(a=""),void 0===y&&(y=!0),void 0===T&&(T=""),void 0===m&&(m=""),void 0===f&&(f=0),void 0===h&&(h=!1),{responseType:a,async:y,user:T,password:m,timeout:f,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:h}}},23906:C=>{C.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20}},42155:C=>{C.exports="addfile"},38991:C=>{C.exports="complete"},27540:C=>{C.exports="filecomplete"},87464:C=>{C.exports="filecomplete-"},94486:C=>{C.exports="loaderror"},13035:C=>{C.exports="load"},38144:C=>{C.exports="fileprogress"},97520:C=>{C.exports="postprocess"},85595:C=>{C.exports="progress"},55680:C=>{C.exports="start"},54899:(C,k,a)=>{C.exports={ADD:a(42155),COMPLETE:a(38991),FILE_COMPLETE:a(27540),FILE_KEY_COMPLETE:a(87464),FILE_LOAD_ERROR:a(94486),FILE_LOAD:a(13035),FILE_PROGRESS:a(38144),POST_PROCESS:a(97520),PROGRESS:a(85595),START:a(55680)}},14135:(C,k,a)=>{var y=a(83419),T=a(74099),m=a(518),f=a(54899),h=new y({Extends:m,initialize:function(u,p,d,g,v){m.call(this,u,p,d,g,v),this.type="animationJSON"},onProcess:function(){this.loader.once(f.POST_PROCESS,this.onLoadComplete,this),m.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});T.register("animation",function(c,u,p,d){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new h(this,c[g]));else this.addFile(new h(this,c,u,d,p));return this}),C.exports=h},76272:(C,k,a)=>{var y=a(83419),T=a(74099),m=a(95540),f=a(19550),h=a(41212),c=a(518),u=a(26430),p=new y({Extends:u,initialize:function(g,v,x,b,_,E){var A,D;if(h(v)){var I=v;v=m(I,"key"),A=new f(g,{key:v,url:m(I,"textureURL"),extension:m(I,"textureExtension","png"),normalMap:m(I,"normalMap"),xhrSettings:m(I,"textureXhrSettings")}),D=new c(g,{key:v,url:m(I,"atlasURL"),extension:m(I,"atlasExtension","json"),xhrSettings:m(I,"atlasXhrSettings")})}else A=new f(g,v,x,_),D=new c(g,v,b,E);u.call(this,g,"atlasjson",v,A.linkFile?[A,D,A.linkFile]:[A,D])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0],g=this.files[1];this.loader.textureManager.addAtlas(d.key,d.data,g.data,this.files[2]?this.files[2].data:null),g.addToCache(),this.complete=!0}}});T.register("aseprite",function(d,g,v,x,b){var _;if(Array.isArray(d))for(var E=0;E<d.length;E++)_=new p(this,d[E]),this.addFile(_.files);else _=new p(this,d,g,v,x,b),this.addFile(_.files);return this}),C.exports=p},38734:(C,k,a)=>{var y=a(83419),T=a(74099),m=a(95540),f=a(19550),h=a(41212),c=a(518),u=a(26430),p=new y({Extends:u,initialize:function(g,v,x,b,_,E){var A,D;if(h(v)){var I=v;v=m(I,"key"),A=new f(g,{key:v,url:m(I,"textureURL"),extension:m(I,"textureExtension","png"),normalMap:m(I,"normalMap"),xhrSettings:m(I,"textureXhrSettings")}),D=new c(g,{key:v,url:m(I,"atlasURL"),extension:m(I,"atlasExtension","json"),xhrSettings:m(I,"atlasXhrSettings")})}else A=new f(g,v,x,_),D=new c(g,v,b,E);u.call(this,g,"atlasjson",v,A.linkFile?[A,D,A.linkFile]:[A,D])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0];this.loader.textureManager.addAtlas(d.key,d.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});T.register("atlas",function(d,g,v,x,b){var _;if(Array.isArray(d))for(var E=0;E<d.length;E++)_=new p(this,d[E]),this.addFile(_.files);else _=new p(this,d,g,v,x,b),this.addFile(_.files);return this}),C.exports=p},74599:(C,k,a)=>{var y=a(83419),T=a(74099),m=a(95540),f=a(19550),h=a(41212),c=a(26430),u=a(57318),p=new y({Extends:c,initialize:function(g,v,x,b,_,E){var A,D;if(h(v)){var I=v;v=m(I,"key"),A=new f(g,{key:v,url:m(I,"textureURL"),extension:m(I,"textureExtension","png"),normalMap:m(I,"normalMap"),xhrSettings:m(I,"textureXhrSettings")}),D=new u(g,{key:v,url:m(I,"atlasURL"),extension:m(I,"atlasExtension","xml"),xhrSettings:m(I,"atlasXhrSettings")})}else A=new f(g,v,x,_),D=new u(g,v,b,E);c.call(this,g,"atlasxml",v,A.linkFile?[A,D,A.linkFile]:[A,D])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0];this.loader.textureManager.addAtlasXML(d.key,d.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});T.register("atlasXML",function(d,g,v,x,b){var _;if(Array.isArray(d))for(var E=0;E<d.length;E++)_=new p(this,d[E]),this.addFile(_.files);else _=new p(this,d,g,v,x,b),this.addFile(_.files);return this}),C.exports=p},21097:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(95540),c=a(89749),u=a(41212),p=new y({Extends:m,initialize:function(g,v,x,b,_){if(u(v)){var E=v;v=h(E,"key"),b=h(E,"xhrSettings"),_=h(E,"context",_)}m.call(this,g,{type:"audio",cache:g.cacheManager.audio,extension:x.type,responseType:"arraybuffer",key:v,url:x.url,xhrSettings:b,config:{context:_}})},onProcess:function(){this.state=T.FILE_PROCESSING;var d=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(g){d.data=g,d.onProcessComplete()},function(g){console.error("Error decoding audio: "+d.key+" - ",g?g.message:null),d.onProcessError()}),this.config.context=null}});p.create=function(d,g,v,x,b){var _=d.systems.game,E=_.config.audio,A=_.device.audio;u(g)&&(v=h(g,"url",[]),x=h(g,"config",{}));var D=p.getAudioURL(_,v);return D?A.webAudio&&!E.disableWebAudio?new p(d,g,D,b,_.sound.context):new c(d,g,D,x):(console.warn('No audio URLs for "%s" can play on this device',g),null)},p.getAudioURL=function(d,g){Array.isArray(g)||(g=[g]);for(var v=0;v<g.length;v++){var x=h(g[v],"url",g[v]);if(0===x.indexOf("blob:")||0===x.indexOf("data:"))return{url:x,type:""};var b=x.match(/\.([a-zA-Z0-9]+)($|\?)/);if(b=h(g[v],"type",b?b[1]:"").toLowerCase(),d.device.audio[b])return{url:x,type:b}}return null},f.register("audio",function(d,g,v,x){var A,b=this.systems.game,E=b.device.audio;if(b.config.audio.noAudio||!E.webAudio&&!E.audioData)return this;if(Array.isArray(d))for(var D=0;D<d.length;D++)(A=p.create(this,d[D]))&&this.addFile(A);else(A=p.create(this,d,g,v,x))&&this.addFile(A);return this}),C.exports=p},89524:(C,k,a)=>{var y=a(21097),T=a(83419),m=a(74099),f=a(95540),h=a(41212),c=a(518),u=a(26430),p=new T({Extends:u,initialize:function(g,v,x,b,_,E,A){if(h(v)){var D=v;v=f(D,"key"),x=f(D,"jsonURL"),b=f(D,"audioURL"),_=f(D,"audioConfig"),E=f(D,"audioXhrSettings"),A=f(D,"jsonXhrSettings")}var I;if(b){var R=y.create(g,v,b,_,E);R&&(I=new c(g,v,x,A),u.call(this,g,"audiosprite",v,[R,I]),this.config.resourceLoad=!1)}else I=new c(g,v,x,A),u.call(this,g,"audiosprite",v,[I]),this.config.resourceLoad=!0,this.config.audioConfig=_,this.config.audioXhrSettings=E},onFileComplete:function(d){if(-1!==this.files.indexOf(d)&&(this.pending--,this.config.resourceLoad&&"json"===d.type&&d.data.hasOwnProperty("resources"))){var v=d.data.resources,x=f(this.config,"audioConfig"),b=f(this.config,"audioXhrSettings"),_=y.create(this.loader,d.key,v,x,b);_&&(this.addToMultiFile(_),this.loader.addFile(_))}},addToCache:function(){if(this.isReadyToProcess()){var g=this.files[1];this.files[0].addToCache(),g.addToCache(),this.complete=!0}}});m.register("audioSprite",function(d,g,v,x,b,_){var I,E=this.systems.game,A=E.config.audio,D=E.device.audio;if(A&&A.noAudio||!D.webAudio&&!D.audioData)return this;if(Array.isArray(d))for(var R=0;R<d.length;R++)(I=new p(this,d[R])).files&&this.addFile(I.files);else(I=new p(this,d,g,v,x,b,_)).files&&this.addFile(I.files);return this})},85722:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new y({Extends:m,initialize:function(d,g,v,x,b){var _="bin";if(c(g)){var E=g;g=h(E,"key"),v=h(E,"url"),x=h(E,"xhrSettings"),_=h(E,"extension",_),b=h(E,"dataType",b)}m.call(this,d,{type:"binary",cache:d.cacheManager.binary,extension:_,responseType:"arraybuffer",key:g,url:v,xhrSettings:x,config:{dataType:b}})},onProcess:function(){this.state=T.FILE_PROCESSING;var p=this.config.dataType;this.data=p?new p(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});f.register("binary",function(p,d,g,v){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new u(this,p[x]));else this.addFile(new u(this,p,d,v,g));return this}),C.exports=u},97025:(C,k,a)=>{var y=a(83419),T=a(74099),m=a(95540),f=a(19550),h=a(41212),c=a(26430),u=a(21859),p=a(57318),d=new y({Extends:c,initialize:function(v,x,b,_,E,A){var D,I;if(h(x)){var R=x;x=m(R,"key"),D=new f(v,{key:x,url:m(R,"textureURL"),extension:m(R,"textureExtension","png"),normalMap:m(R,"normalMap"),xhrSettings:m(R,"textureXhrSettings")}),I=new p(v,{key:x,url:m(R,"fontDataURL"),extension:m(R,"fontDataExtension","xml"),xhrSettings:m(R,"fontDataXhrSettings")})}else D=new f(v,x,b,E),I=new p(v,x,_,A);c.call(this,v,"bitmapfont",x,D.linkFile?[D,I,D.linkFile]:[D,I])},addToCache:function(){if(this.isReadyToProcess()){var g=this.files[0],v=this.files[1];g.addToCache();var x=g.cache.get(g.key),b=u(v.data,g.cache.getFrame(g.key),0,0,x);this.loader.cacheManager.bitmapFont.add(g.key,{data:b,texture:g.key,frame:null}),this.complete=!0}}});T.register("bitmapFont",function(g,v,x,b,_){var E;if(Array.isArray(g))for(var A=0;A<g.length;A++)E=new d(this,g[A]),this.addFile(E.files);else E=new d(this,g,v,x,b,_),this.addFile(E.files);return this}),C.exports=d},16024:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new y({Extends:m,initialize:function(d,g,v,x){var b="css";if(c(g)){var _=g;g=h(_,"key"),v=h(_,"url"),x=h(_,"xhrSettings"),b=h(_,"extension",b)}m.call(this,d,{type:"script",cache:!1,extension:b,responseType:"text",key:g,url:v,xhrSettings:x})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});f.register("css",function(p,d,g){if(Array.isArray(p))for(var v=0;v<p.length;v++)this.addFile(new u(this,p[v]));else this.addFile(new u(this,p,d,g));return this}),C.exports=u},69559:(C,k,a)=>{var y=a(38734),T=a(85722),m=a(83419),f=a(74099),h=a(95540),c=a(19550),u=a(41212),p=a(518),d=a(31403),g=a(46975),v=a(59327),x=a(26430),b=a(82038),_=a(55222),E=new m({Extends:x,initialize:function(D,I,R,F){if(R.multiAtlasURL){var L=new p(D,{key:I,url:R.multiAtlasURL,xhrSettings:F,config:R});x.call(this,D,"texture",I,[L])}else{var V=R.textureURL.substr(R.textureURL.length-3);R.type||(R.type="ktx"===V.toLowerCase()?"KTX":"PVR");var B=new T(D,{key:I,url:R.textureURL,extension:V,xhrSettings:F,config:R});if(R.atlasURL){var G=new p(D,{key:I,url:R.atlasURL,xhrSettings:F,config:R});x.call(this,D,"texture",I,[B,G])}else x.call(this,D,"texture",I,[B])}this.config=R},onFileComplete:function(A){if(-1!==this.files.indexOf(A)){if(this.pending--,!this.config.multiAtlasURL)return;if("json"===A.type&&A.data.hasOwnProperty("textures")){var I=A.data.textures,R=this.config,F=this.loader,L=F.baseURL,V=F.path,B=F.prefix,G=h(R,"multiBaseURL",this.baseURL),Q=h(R,"multiPath",this.path),H=h(R,"prefix",this.prefix),K=h(R,"textureXhrSettings");G&&F.setBaseURL(G),Q&&F.setPath(Q),H&&F.setPrefix(H);for(var tt=0;tt<I.length;tt++){var at=I[tt].image,lt="CMA"+this.multiKeyIndex+"_"+at,J=new T(F,lt,at,K);if(this.addToMultiFile(J),F.addFile(J),I[tt].normalMap){var it=new T(F,lt,I[tt].normalMap,K);it.type="normalMap",J.setLink(it),this.addToMultiFile(it),F.addFile(it)}}F.setBaseURL(L),F.setPath(V),F.setPrefix(B)}}},addToCache:function(){function A(G){console.warn('Compressed Texture Invalid: "'+L.key+'". '+G)}if(this.isReadyToProcess()){var D=this.config;if(D.multiAtlasURL)this.addMultiToCache();else{var F,I=this.loader.systems.renderer,R=this.loader.textureManager,L=this.files[0],V=this.files[1];"PVR"===D.type?F=b(L.data):"KTX"===D.type&&((F=d(L.data))||A("KTX file contains unsupported format.")),F&&!_(F)&&(A("Texture dimensions failed verification. Check the texture format specifications for "+D.format+" 0x"+F.internalFormat.toString(16)+"."),F=null),F&&!I.supportsCompressedTexture(D.format,F.internalFormat)&&(A("Texture format "+D.format+" with internal format "+F.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),F=null),F&&(F.format=I.getCompressedTextureName(D.format,F.internalFormat),R.addCompressedTexture(L.key,F,V&&V.data?V.data:null))}this.complete=!0}},addMultiToCache:function(){for(var B,A=this.config,D=this.files[0],I=[],R=[],F=[],L=this.loader.systems.renderer,V=this.loader.textureManager,G=1;G<this.files.length;G++){var Q=this.files[G];if("normalMap"!==Q.type)for(var H=Q.key.indexOf("_"),K=Q.key.substr(H+1),tt=Q.data,at=0;at<D.data.textures.length;at++){var lt=D.data.textures[at];if(lt.image===K){"PVR"===A.type?B=b(tt):"KTX"===A.type&&(B=d(tt)),B&&L.supportsCompressedTexture(A.format,B.internalFormat)&&(B.format=L.getCompressedTextureName(A.format,B.internalFormat),R.push(B),I.push(lt),Q.linkFile&&F.push(Q.linkFile.data));break}}}0===F.length&&(F=void 0),V.addAtlasJSONArray(this.key,R,I,F),this.complete=!0}});f.register("texture",function(A,D,I){var R=this.systems.renderer,F=function(V,B,G,Q){var H={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(u(B)){var K=B;B=h(K,"key"),G=h(K,"url"),Q=h(K,"xhrSettings")}var tt=!1;for(var at in G)if(R.supportsCompressedTexture(at)){var lt=G[at];"string"==typeof lt?H.textureURL=lt:H=g(lt,H),H.format=at.toUpperCase(),tt=!0;break}if(tt)if("IMG"===H.format){var J;J=H.multiAtlasURL?new v(V,B,H.multiAtlasURL,H.multiPath,H.multiBaseURL,Q).files:H.atlasURL?new y(V,B,H.textureURL,H.atlasURL,Q).files:new c(V,B,H.textureURL,Q),V.addFile(J)}else{var Y=new E(V,B,H,Q);V.addFile(Y.files)}else console.warn("No supported compressed texture format or IMG fallback",B)};if(Array.isArray(A))for(var L=0;L<A.length;L++)F(this,A[L]);else F(this,A,D,I);return this}),C.exports=E},87674:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(95540),c=a(98356),u=a(41212),p=new y({Extends:m,initialize:function(g,v,x,b,_,E){var A="ttf";if(u(v)){var D=v;v=h(D,"key"),x=h(D,"url"),b=h(D,"format","truetype"),_=h(D,"descriptors",null),E=h(D,"xhrSettings"),A=h(D,"extension",A)}else void 0===b&&(b="truetype");m.call(this,g,{type:"font",cache:!1,extension:A,responseType:"text",key:v,url:x,xhrSettings:E}),this.data={format:b,descriptors:_},this.state=T.FILE_POPULATED},onProcess:function(){this.state=T.FILE_PROCESSING,this.src=c(this,this.loader.baseURL);var d,g=this.key,v="url("+this.src+') format("'+this.data.format+'")';d=this.data.descriptors?new FontFace(g,v,this.data.descriptors):new FontFace(g,v);var x=this;d.load().then(function(){document.fonts.add(d),document.body.classList.add("fonts-loaded"),x.onProcessComplete()}).catch(function(){console.warn("Font failed to load",v),x.onProcessComplete()})}});f.register("font",function(d,g,v,x,b){if(Array.isArray(d))for(var _=0;_<d.length;_++)this.addFile(new p(this,d[_]));else this.addFile(new p(this,d,g,v,x,b));return this}),C.exports=p},47931:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(95540),c=a(41212),u=a(73894),p=new y({Extends:m,initialize:function(g,v,x,b,_){var E="glsl";if(c(v)){var A=v;v=h(A,"key"),x=h(A,"url"),b=h(A,"shaderType","fragment"),_=h(A,"xhrSettings"),E=h(A,"extension",E)}else void 0===b&&(b="fragment");m.call(this,g,{type:"glsl",cache:g.cacheManager.shader,extension:E,responseType:"text",key:v,url:x,config:{shaderType:b},xhrSettings:_})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var d=this.data.split("\n"),g=this.extractBlock(d,0);if(g)for(;g;){var v=this.getShaderName(g.header),x=this.getShaderType(g.header),b=this.getShaderUniforms(g.header),_=g.shader;if(this.cache.has(v)){var E=this.cache.get(v);"fragment"===x?E.fragmentSrc=_:E.vertexSrc=_,E.uniforms||(E.uniforms=b)}else this.cache.add(v,"fragment"===x?new u(v,_,"",b):new u(v,"",_,b));g=this.extractBlock(d,g.offset)}else this.cache.add(this.key,"fragment"===this.config.shaderType?new u(this.key,this.data):new u(this.key,"",this.data))},getShaderName:function(d){for(var g=0;g<d.length;g++){var v=d[g].trim();if("name:"===v.substring(0,5))return v.substring(5).trim()}return this.key},getShaderType:function(d){for(var g=0;g<d.length;g++){var v=d[g].trim();if("type:"===v.substring(0,5))return v.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(d){for(var g={},v=0;v<d.length;v++){var x=d[v].trim();if("uniform."===x.substring(0,8)){var b=x.indexOf(":");if(b){var _=x.substring(8,b);try{g[_]=JSON.parse(x.substring(b+1))}catch{console.warn("Invalid uniform JSON: "+_)}}}}return g},extractBlock:function(d,g){for(var v=-1,x=-1,b=-1,_=!1,E=!1,A=[],D=[],I=g;I<d.length;I++){var R=d[I].trim();if("---"===R)if(-1===v)v=I,_=!0;else{if(!_){E=!1;break}x=I,_=!1,E=!0}else _?A.push(R):E&&(D.push(R),b=I)}return _||-1===x?null:{header:A,shader:D.join("\n"),offset:b}}});f.register("glsl",function(d,g,v,x){if(Array.isArray(d))for(var b=0;b<d.length;b++)this.addFile(new p(this,d[b]));else this.addFile(new p(this,d,g,v,x));return this}),C.exports=p},89749:(C,k,a)=>{var y=a(83419),T=a(54899),m=a(41299),f=a(95540),h=a(98356),c=a(41212),u=new y({Extends:m,initialize:function(d,g,v,x){if(c(g)){var b=g;g=f(b,"key"),x=f(b,"config",x)}m.call(this,d,{type:"audio",cache:d.cacheManager.audio,extension:v.type,key:g,url:v.url,config:x}),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var p=0;p<this.data.length;p++){var d=this.data[p];d.oncanplaythrough=null,d.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(p){var d=p.target;d.oncanplaythrough=null,d.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(T.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var p=this.config&&this.config.instances||1;this.filesTotal=p,this.filesLoaded=0,this.percentComplete=0;for(var d=0;d<p;d++){var g=new Audio;g.dataset||(g.dataset={}),g.dataset.name=this.key+("0"+d).slice(-2),g.dataset.used="false",this.locked?g.dataset.locked="true":(g.dataset.locked="false",g.preload="auto",g.oncanplaythrough=this.onProgress.bind(this),g.onerror=this.onError.bind(this)),this.data.push(g)}for(d=0;d<this.data.length;d++)(g=this.data[d]).src=h(this,this.loader.baseURL),this.locked||g.load();this.locked&&setTimeout(this.onLoad.bind(this))}});C.exports=u},88470:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new y({Extends:m,initialize:function(d,g,v,x){var b="html";if(c(g)){var _=g;g=h(_,"key"),v=h(_,"url"),x=h(_,"xhrSettings"),b=h(_,"extension",b)}m.call(this,d,{type:"text",cache:d.cacheManager.html,extension:b,responseType:"text",key:g,url:v,xhrSettings:x})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});f.register("html",function(p,d,g){if(Array.isArray(p))for(var v=0;v<p.length;v++)this.addFile(new u(this,p[v]));else this.addFile(new u(this,p,d,g));return this}),C.exports=u},14643:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new y({Extends:m,initialize:function(d,g,v,x,b,_){void 0===x&&(x=512),void 0===b&&(b=512);var E="html";if(c(g)){var A=g;g=h(A,"key"),v=h(A,"url"),_=h(A,"xhrSettings"),E=h(A,"extension",E),x=h(A,"width",x),b=h(A,"height",b)}m.call(this,d,{type:"html",cache:d.textureManager,extension:E,responseType:"text",key:g,url:v,xhrSettings:_,config:{width:x,height:b}})},onProcess:function(){this.state=T.FILE_PROCESSING;var p=this.config.width,d=this.config.height,g=[];g.push('<svg width="'+p+'px" height="'+d+'px" viewBox="0 0 '+p+" "+d+'" xmlns="http://www.w3.org/2000/svg">'),g.push('<foreignObject width="100%" height="100%">'),g.push('<body xmlns="http://www.w3.org/1999/xhtml">'),g.push(this.xhrLoader.responseText),g.push("</body>"),g.push("</foreignObject>"),g.push("</svg>");var v=[g.join("\n")],x=this;try{var b=new window.Blob(v,{type:"image/svg+xml;charset=utf-8"})}catch{return x.state=T.FILE_ERRORED,void x.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){m.revokeObjectURL(x.data),x.onProcessComplete()},this.data.onerror=function(){m.revokeObjectURL(x.data),x.onProcessError()},m.createObjectURL(this.data,b,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});f.register("htmlTexture",function(p,d,g,v,x){if(Array.isArray(p))for(var b=0;b<p.length;b++)this.addFile(new u(this,p[b]));else this.addFile(new u(this,p,d,g,v,x));return this}),C.exports=u},19550:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(95540),c=a(41212),u=a(98356),p=new y({Extends:m,initialize:function d(g,v,x,b,_){var A,E="png";if(c(v)){var D=v;v=h(D,"key"),x=h(D,"url"),A=h(D,"normalMap"),b=h(D,"xhrSettings"),E=h(D,"extension",E),_=h(D,"frameConfig")}if(Array.isArray(x)&&(A=x[1],x=x[0]),m.call(this,g,{type:"image",cache:g.textureManager,extension:E,responseType:"blob",key:v,url:x,xhrSettings:b,config:_}),A){var R=new d(g,this.key,A,b,_);R.type="normalMap",this.setLink(R),g.addFile(R)}this.useImageElementLoad="HTMLImageElement"===g.imageLoadType||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var d=this;this.data.onload=function(){m.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){m.revokeObjectURL(d.data),d.onProcessError()},m.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var d=this.state;this.state=T.FILE_PROCESSING,d===T.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=T.FILE_LOADING,this.src=u(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var d=this;this.data.onload=function(){d.state=T.FILE_LOADED,d.loader.nextFile(d,!0)},this.data.onerror=function(){d.loader.nextFile(d,!1)},this.data.src=this.src},addToCache:function(){var d=this.linkFile;d?d.state>=T.FILE_COMPLETE&&("spritesheet"===d.type?d.addToCache():"normalMap"===this.type?this.cache.addImage(this.key,d.data,this.data):this.cache.addImage(this.key,this.data,d.data)):this.cache.addImage(this.key,this.data)}});f.register("image",function(d,g,v){if(Array.isArray(d))for(var x=0;x<d.length;x++)this.addFile(new p(this,d[x]));else this.addFile(new p(this,d,g,v));return this}),C.exports=p},518:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(95540),c=a(35154),u=a(41212),p=new y({Extends:m,initialize:function(g,v,x,b,_){var E="json";if(u(v)){var A=v;v=h(A,"key"),x=h(A,"url"),b=h(A,"xhrSettings"),E=h(A,"extension",E),_=h(A,"dataKey",_)}m.call(this,g,{type:"json",cache:g.cacheManager.json,extension:E,responseType:"text",key:v,url:x,xhrSettings:b,config:_}),u(x)&&(this.data=_?c(x,_):x,this.state=T.FILE_POPULATED)},onProcess:function(){if(this.state!==T.FILE_POPULATED){this.state=T.FILE_PROCESSING;try{var d=JSON.parse(this.xhrLoader.responseText)}catch(v){throw this.onProcessError(),v}var g=this.config;this.data="string"==typeof g?c(d,g,d):d}this.onProcessComplete()}});f.register("json",function(d,g,v,x){if(Array.isArray(d))for(var b=0;b<d.length;b++)this.addFile(new p(this,d[b]));else this.addFile(new p(this,d,g,x,v));return this}),C.exports=p},59327:(C,k,a)=>{var y=a(83419),T=a(74099),m=a(95540),f=a(19550),h=a(41212),c=a(518),u=a(26430),p=new y({Extends:u,initialize:function(g,v,x,b,_,E,A){if(h(v)){var D=v;v=m(D,"key"),x=m(D,"url",!1)?m(D,"url"):m(D,"atlasURL"),E=m(D,"xhrSettings"),b=m(D,"path"),_=m(D,"baseURL"),A=m(D,"textureXhrSettings")}var I=new c(g,v,x,E);u.call(this,g,"multiatlas",v,[I]),this.config.path=b,this.config.baseURL=_,this.config.textureXhrSettings=A},onFileComplete:function(d){if(-1!==this.files.indexOf(d)&&(this.pending--,"json"===d.type&&d.data.hasOwnProperty("textures"))){var v=d.data.textures,x=this.config,b=this.loader,_=b.baseURL,E=b.path,A=b.prefix,D=m(x,"baseURL",this.baseURL),I=m(x,"path",this.path),R=m(x,"prefix",this.prefix),F=m(x,"textureXhrSettings");b.setBaseURL(D),b.setPath(I),b.setPrefix(R);for(var L=0;L<v.length;L++){var V=v[L].image,B="MA"+this.multiKeyIndex+"_"+V,G=new f(b,B,V,F);if(this.addToMultiFile(G),b.addFile(G),v[L].normalMap){var Q=new f(b,B,v[L].normalMap,F);Q.type="normalMap",G.setLink(Q),this.addToMultiFile(Q),b.addFile(Q)}}b.setBaseURL(_),b.setPath(E),b.setPrefix(A)}},addToCache:function(){if(this.isReadyToProcess()){for(var d=this.files[0],g=[],v=[],x=[],b=1;b<this.files.length;b++){var _=this.files[b];if("normalMap"!==_.type)for(var E=_.key.indexOf("_"),A=_.key.substr(E+1),D=_.data,I=0;I<d.data.textures.length;I++){var R=d.data.textures[I];if(R.image===A){v.push(D),g.push(R),_.linkFile&&x.push(_.linkFile.data);break}}}0===x.length&&(x=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,v,g,x),this.complete=!0}}});T.register("multiatlas",function(d,g,v,x,b){var _;if(Array.isArray(d))for(var E=0;E<d.length;E++)_=new p(this,d[E]),this.addFile(_.files);else _=new p(this,d,g,v,x,b),this.addFile(_.files);return this}),C.exports=p},99297:(C,k,a)=>{var y=a(83419),T=a(74099),m=a(95540),f=a(41212),h=a(26430),c=a(34328),u=new y({Extends:h,initialize:function(d,g,v,x){var b="js",_=[];if(f(g)){var E=g;g=m(E,"key"),v=m(E,"url"),x=m(E,"xhrSettings"),b=m(E,"extension",b)}Array.isArray(v)||(v=[v]);for(var A=0;A<v.length;A++){var D=new c(d,{key:g+"_"+A.toString(),url:v[A],extension:b,xhrSettings:x});D.onProcess=function(){this.onProcessComplete()},_.push(D)}h.call(this,d,"scripts",g,_)},addToCache:function(){if(this.isReadyToProcess()){for(var p=0;p<this.files.length;p++){var d=this.files[p];d.data=document.createElement("script"),d.data.language="javascript",d.data.type="text/javascript",d.data.defer=!1,d.data.text=d.xhrLoader.responseText,document.head.appendChild(d.data)}this.complete=!0}}});T.register("scripts",function(p,d,g){var v;if(Array.isArray(p))for(var x=0;x<p.length;x++)v=new u(this,p[x]),this.addFile(v.files);else v=new u(this,p,d,g),this.addFile(v.files);return this}),C.exports=u},41846:(C,k,a)=>{var y=a(83419),T=a(74099),m=a(95540),f=a(41212),h=a(26430),c=a(85048),u=a(61485),p=a(78776),d=new y({Extends:h,initialize:function(v,x,b,_,E,A){var D,I,R=v.cacheManager.obj;if(f(x)){var F=x;x=m(F,"key"),D=new p(v,{key:x,type:"obj",cache:R,url:m(F,"url"),extension:m(F,"extension","obj"),xhrSettings:m(F,"xhrSettings"),config:{flipUV:m(F,"flipUV",E)}}),(_=m(F,"matURL"))&&(I=new p(v,{key:x,type:"mat",cache:R,url:_,extension:m(F,"matExtension","mat"),xhrSettings:m(F,"xhrSettings")}))}else D=new p(v,{key:x,url:b,type:"obj",cache:R,extension:"obj",xhrSettings:A,config:{flipUV:E}}),_&&(I=new p(v,{key:x,url:_,type:"mat",cache:R,extension:"mat",xhrSettings:A}));h.call(this,v,"obj",x,[D,I])},addToCache:function(){if(this.isReadyToProcess()){var g=this.files[0],v=this.files[1],x=c(g.data,g.config.flipUV);v&&(x.materials=u(v.data)),g.cache.add(g.key,x),this.complete=!0}}});T.register("obj",function(g,v,x,b,_){var E;if(Array.isArray(g))for(var A=0;A<g.length;A++)E=new d(this,g[A]),this.addFile(E.files);else E=new d(this,g,v,x,b,_),this.addFile(E.files);return this}),C.exports=d},58610:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(74099),f=a(518),h=new y({Extends:f,initialize:function(u,p,d,g,v){f.call(this,u,p,d,g,v),this.type="packfile"},onProcess:function(){if(this.state!==T.FILE_POPULATED&&(this.state=T.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var c={};c[this.config]=this.data,this.data=c}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});m.register("pack",function(c,u,p,d){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new h(this,c[g]));else this.addFile(new h(this,c,u,d,p));return this}),C.exports=h},48988:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new y({Extends:m,initialize:function(d,g,v,x,b,_){var E="js";if(c(g)){var A=g;g=h(A,"key"),v=h(A,"url"),_=h(A,"xhrSettings"),E=h(A,"extension",E),x=h(A,"start"),b=h(A,"mapping")}m.call(this,d,{type:"plugin",cache:!1,extension:E,responseType:"text",key:g,url:v,xhrSettings:_,config:{start:x,mapping:b}}),"function"==typeof v&&(this.data=v,this.state=T.FILE_POPULATED)},onProcess:function(){var p=this.loader.systems.plugins,d=this.config,g=h(d,"start",!1),v=h(d,"mapping",null);if(this.state===T.FILE_POPULATED)p.install(this.key,this.data,g,v);else{this.state=T.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var x=p.install(this.key,window[this.key],g,v);(g||v)&&(this.loader.systems[v]=x,this.loader.scene[v]=x)}this.onProcessComplete()}});f.register("plugin",function(p,d,g,v,x){if(Array.isArray(p))for(var b=0;b<p.length;b++)this.addFile(new u(this,p[b]));else this.addFile(new u(this,p,d,g,v,x));return this}),C.exports=u},67397:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new y({Extends:m,initialize:function(d,g,v,x,b){var _="svg";if(c(g)){var E=g;g=h(E,"key"),v=h(E,"url"),x=h(E,"svgConfig",{}),b=h(E,"xhrSettings"),_=h(E,"extension",_)}var A={type:"svg",cache:d.textureManager,extension:_,responseType:"text",key:g,url:v,xhrSettings:b,config:{width:h(x,"width"),height:h(x,"height"),scale:h(x,"scale")}};m.call(this,d,A)},onProcess:function(){this.state=T.FILE_PROCESSING;var p=this.xhrLoader.responseText,d=[p],g=this.config.width,v=this.config.height,x=this.config.scale;t:if(g&&v||x){var E=(new DOMParser).parseFromString(p,"text/xml").getElementsByTagName("svg")[0],A=E.hasAttribute("viewBox"),D=parseFloat(E.getAttribute("width")),I=parseFloat(E.getAttribute("height"));if(!A&&D&&I)E.setAttribute("viewBox","0  0 "+D+" "+I);else if(A&&!D&&!I){var R=E.getAttribute("viewBox").split(/\s+|,/);D=R[2],I=R[3]}if(x){if(!D||!I)break t;g=D*x,v=I*x}E.setAttribute("width",g.toString()+"px"),E.setAttribute("height",v.toString()+"px"),d=[(new XMLSerializer).serializeToString(E)]}try{var F=new window.Blob(d,{type:"image/svg+xml;charset=utf-8"})}catch{return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var L=this,V=!1;this.data.onload=function(){V||m.revokeObjectURL(L.data),L.onProcessComplete()},this.data.onerror=function(){V?L.onProcessError():(V=!0,m.revokeObjectURL(L.data),L.data.src="data:image/svg+xml,"+encodeURIComponent(d.join("")))},m.createObjectURL(this.data,F,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});f.register("svg",function(p,d,g,v){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new u(this,p[x]));else this.addFile(new u(this,p,d,g,v));return this}),C.exports=u},88423:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new y({Extends:m,initialize:function(d,g,v,x){var b="js";if(c(g)){var _=g;g=h(_,"key"),v=h(_,"url"),x=h(_,"xhrSettings"),b=h(_,"extension",b)}m.call(this,d,{type:"text",extension:b,responseType:"text",key:g,url:v,xhrSettings:x})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var p=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);"),d=eval;this.loader.sceneManager.add(this.key,d(p)),this.complete=!0}});f.register("sceneFile",function(p,d,g){if(Array.isArray(p))for(var v=0;v<p.length;v++)this.addFile(new u(this,p[v]));else this.addFile(new u(this,p,d,g));return this}),C.exports=u},56812:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new y({Extends:m,initialize:function(d,g,v,x,b,_){var E="js";if(c(g)){var A=g;g=h(A,"key"),v=h(A,"url"),_=h(A,"xhrSettings"),E=h(A,"extension",E),x=h(A,"systemKey"),b=h(A,"sceneKey")}m.call(this,d,{type:"scenePlugin",cache:!1,extension:E,responseType:"text",key:g,url:v,xhrSettings:_,config:{systemKey:x,sceneKey:b}}),"function"==typeof v&&(this.data=v,this.state=T.FILE_POPULATED)},onProcess:function(){var p=this.loader.systems.plugins,d=this.config,g=this.key,v=h(d,"systemKey",g),x=h(d,"sceneKey",g);this.state===T.FILE_POPULATED?p.installScenePlugin(v,this.data,x,this.loader.scene,!0):(this.state=T.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),p.installScenePlugin(v,window[this.key],x,this.loader.scene,!0)),this.onProcessComplete()}});f.register("scenePlugin",function(p,d,g,v,x){if(Array.isArray(p))for(var b=0;b<p.length;b++)this.addFile(new u(this,p[b]));else this.addFile(new u(this,p,d,g,v,x));return this}),C.exports=u},34328:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new y({Extends:m,initialize:function(d,g,v,x,b){var _="js";if(c(g)){var E=g;g=h(E,"key"),v=h(E,"url"),x=h(E,"type","script"),b=h(E,"xhrSettings"),_=h(E,"extension",_)}else void 0===x&&(x="script");m.call(this,d,{type:x,cache:!1,extension:_,responseType:"text",key:g,url:v,xhrSettings:b})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});f.register("script",function(p,d,g,v){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new u(this,p[x]));else this.addFile(new u(this,p,d,g,v));return this}),C.exports=u},85035:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(74099),f=a(19550),h=new y({Extends:f,initialize:function(u,p,d,g,v){f.call(this,u,p,d,v,g),this.type="spritesheet"},addToCache:function(){var c=this.linkFile;c?c.state>=T.FILE_COMPLETE&&("normalMap"===this.type?this.cache.addSpriteSheet(this.key,c.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,c.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});m.register("spritesheet",function(c,u,p,d){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new h(this,c[g]));else this.addFile(new h(this,c,u,p,d));return this}),C.exports=h},78776:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(95540),c=a(41212),u=new y({Extends:m,initialize:function(d,g,v,x){var b="text",_="txt",E=d.cacheManager.text;if(c(g)){var A=g;g=h(A,"key"),v=h(A,"url"),x=h(A,"xhrSettings"),_=h(A,"extension",_),b=h(A,"type",b),E=h(A,"cache",E)}m.call(this,d,{type:b,cache:E,extension:_,responseType:"text",key:g,url:v,xhrSettings:x})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});f.register("text",function(p,d,g){if(Array.isArray(p))for(var v=0;v<p.length;v++)this.addFile(new u(this,p[v]));else this.addFile(new u(this,p,d,g));return this}),C.exports=u},49477:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(95540),c=a(41212),u=a(80341),p=new y({Extends:m,initialize:function(g,v,x,b){var _="csv";if(c(v)){var E=v;v=h(E,"key"),x=h(E,"url"),b=h(E,"xhrSettings"),_=h(E,"extension",_)}m.call(this,g,{type:"tilemapCSV",cache:g.cacheManager.tilemap,extension:_,responseType:"text",key:v,url:x,xhrSettings:b}),this.tilemapFormat=u.CSV},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){this.cache.add(this.key,{format:this.tilemapFormat,data:this.data})}});f.register("tilemapCSV",function(d,g,v){if(Array.isArray(d))for(var x=0;x<d.length;x++)this.addFile(new p(this,d[x]));else this.addFile(new p(this,d,g,v));return this}),C.exports=p},40807:(C,k,a)=>{var y=a(83419),T=a(74099),m=a(518),f=a(80341),h=new y({Extends:m,initialize:function(u,p,d,g){m.call(this,u,p,d,g),this.type="tilemapJSON",this.cache=u.cacheManager.tilemap},addToCache:function(){this.cache.add(this.key,{format:f.WELTMEISTER,data:this.data})}});T.register("tilemapImpact",function(c,u,p){if(Array.isArray(c))for(var d=0;d<c.length;d++)this.addFile(new h(this,c[d]));else this.addFile(new h(this,c,u,p));return this}),C.exports=h},56775:(C,k,a)=>{var y=a(83419),T=a(74099),m=a(518),f=a(80341),h=new y({Extends:m,initialize:function(u,p,d,g){m.call(this,u,p,d,g),this.type="tilemapJSON",this.cache=u.cacheManager.tilemap},addToCache:function(){this.cache.add(this.key,{format:f.TILED_JSON,data:this.data})}});T.register("tilemapTiledJSON",function(c,u,p){if(Array.isArray(c))for(var d=0;d<c.length;d++)this.addFile(new h(this,c[d]));else this.addFile(new h(this,c,u,p));return this}),C.exports=h},25771:(C,k,a)=>{var y=a(83419),T=a(74099),m=a(95540),f=a(19550),h=a(41212),c=a(26430),u=a(78776),p=new y({Extends:c,initialize:function(g,v,x,b,_,E){var A,D;if(h(v)){var I=v;v=m(I,"key"),A=new f(g,{key:v,url:m(I,"textureURL"),extension:m(I,"textureExtension","png"),normalMap:m(I,"normalMap"),xhrSettings:m(I,"textureXhrSettings")}),D=new u(g,{key:v,url:m(I,"atlasURL"),extension:m(I,"atlasExtension","txt"),xhrSettings:m(I,"atlasXhrSettings")})}else A=new f(g,v,x,_),D=new u(g,v,b,E);c.call(this,g,"unityatlas",v,A.linkFile?[A,D,A.linkFile]:[A,D])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0];this.loader.textureManager.addUnityAtlas(d.key,d.data,this.files[1].data,this.files[2]?this.files[2].data:null),this.complete=!0}}});T.register("unityAtlas",function(d,g,v,x,b){var _;if(Array.isArray(d))for(var E=0;E<d.length;E++)_=new p(this,d[E]),this.addFile(_.files);else _=new p(this,d,g,v,x,b),this.addFile(_.files);return this}),C.exports=p},33720:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(98356),c=a(95540),u=a(41212),p=new y({Extends:m,initialize:function(g,v,x,b){if(void 0===b&&(b=!1),u(v)){var _=v;v=c(_,"key"),x=c(_,"url",[]),b=c(_,"noAudio",!1)}var E=g.systems.game.device.video.getVideoURL(x);E||console.warn("VideoFile: No supported format for "+v),m.call(this,g,{type:"video",cache:g.cacheManager.video,extension:E.type,key:v,url:E.url,config:{noAudio:b}})},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=h(this,this.loader.baseURL),this.state=T.FILE_LOADED,this.loader.nextFile(this,!0)}});f.register("video",function(d,g,v){if(Array.isArray(d))for(var x=0;x<d.length;x++)this.addFile(new p(this,d[x]));else this.addFile(new p(this,d,g,v));return this}),C.exports=p},57318:(C,k,a)=>{var y=a(83419),T=a(23906),m=a(41299),f=a(74099),h=a(95540),c=a(41212),u=a(56836),p=new y({Extends:m,initialize:function(g,v,x,b){var _="xml";if(c(v)){var E=v;v=h(E,"key"),x=h(E,"url"),b=h(E,"xhrSettings"),_=h(E,"extension",_)}m.call(this,g,{type:"xml",cache:g.cacheManager.xml,extension:_,responseType:"text",key:v,url:x,xhrSettings:b})},onProcess:function(){this.state=T.FILE_PROCESSING,this.data=u(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});f.register("xml",function(d,g,v){if(Array.isArray(d))for(var x=0;x<d.length;x++)this.addFile(new p(this,d[x]));else this.addFile(new p(this,d,g,v));return this}),C.exports=p},64589:(C,k,a)=>{C.exports={AnimationJSONFile:a(14135),AsepriteFile:a(76272),AtlasJSONFile:a(38734),AtlasXMLFile:a(74599),AudioFile:a(21097),AudioSpriteFile:a(89524),BinaryFile:a(85722),BitmapFontFile:a(97025),CompressedTextureFile:a(69559),CSSFile:a(16024),FontFile:a(87674),GLSLFile:a(47931),HTML5AudioFile:a(89749),HTMLFile:a(88470),HTMLTextureFile:a(14643),ImageFile:a(19550),JSONFile:a(518),MultiAtlasFile:a(59327),MultiScriptFile:a(99297),OBJFile:a(41846),PackFile:a(58610),PluginFile:a(48988),SceneFile:a(88423),ScenePluginFile:a(56812),ScriptFile:a(34328),SpriteSheetFile:a(85035),SVGFile:a(67397),TextFile:a(78776),TilemapCSVFile:a(49477),TilemapImpactFile:a(40807),TilemapJSONFile:a(56775),UnityAtlasFile:a(25771),VideoFile:a(33720),XMLFile:a(57318)}},57777:(C,k,a)=>{var y=a(23906),T=a(79291),m={Events:a(54899),FileTypes:a(64589),File:a(41299),FileTypesManager:a(74099),GetURL:a(98356),LoaderPlugin:a(74261),MergeXHRSettings:a(3374),MultiFile:a(26430),XHRLoader:a(84376),XHRSettings:a(92638)};m=T(!1,m,y),C.exports=m},53307:C=>{C.exports=function(a){for(var y=0,T=0;T<a.length;T++)y+=+a[T];return y/a.length}},85710:(C,k,a)=>{var y=a(6411);C.exports=function(m,f){return y(m)/y(f)/y(m-f)}},30976:C=>{C.exports=function(a,y){return Math.floor(Math.random()*(y-a+1)+a)}},87842:C=>{C.exports=function(a,y,T,m,f){var h=.5*(m-y),c=.5*(f-T),u=a*a;return(2*T-2*m+h+c)*(a*u)+(-3*T+3*m-2*h-c)*u+h*a+T}},26302:C=>{C.exports=function(a,y,T){void 0===y&&(y=0),void 0===T&&(T=10);var m=Math.pow(T,-y);return Math.ceil(a*m)/m}},45319:C=>{C.exports=function(a,y,T){return Math.max(y,Math.min(T,a))}},39506:(C,k,a)=>{var y=a(36383);C.exports=function(m){return m*y.DEG_TO_RAD}},61241:C=>{C.exports=function(a,y){return Math.abs(a-y)}},38857:(C,k,a)=>{var y=a(45319),T=a(83419),m=a(37867),f=a(29747),h=new m,c=new T({initialize:function u(p,d,g,v){void 0===p&&(p=0),void 0===d&&(d=0),void 0===g&&(g=0),void 0===v&&(v=u.DefaultOrder),this._x=p,this._y=d,this._z=g,this._order=v,this.onChangeCallback=f},x:{get:function(){return this._x},set:function(u){this._x=u,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(u){this._y=u,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(u){this._z=u,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(u){this._order=u,this.onChangeCallback(this)}},set:function(u,p,d,g){return void 0===g&&(g=this._order),this._x=u,this._y=p,this._z=d,this._order=g,this.onChangeCallback(this),this},copy:function(u){return this.set(u.x,u.y,u.z,u.order)},setFromQuaternion:function(u,p,d){return void 0===p&&(p=this._order),void 0===d&&(d=!1),h.fromQuat(u),this.setFromRotationMatrix(h,p,d)},setFromRotationMatrix:function(u,p,d){void 0===p&&(p=this._order),void 0===d&&(d=!1);var g=u.val,v=g[0],x=g[4],b=g[8],_=g[1],E=g[5],A=g[9],D=g[2],I=g[6],R=g[10],F=0,L=0,V=0,B=.99999;switch(p){case"XYZ":L=Math.asin(y(b,-1,1)),Math.abs(b)<B?(F=Math.atan2(-A,R),V=Math.atan2(-x,v)):F=Math.atan2(I,E);break;case"YXZ":F=Math.asin(-y(A,-1,1)),Math.abs(A)<B?(L=Math.atan2(b,R),V=Math.atan2(_,E)):L=Math.atan2(-D,v);break;case"ZXY":F=Math.asin(y(I,-1,1)),Math.abs(I)<B?(L=Math.atan2(-D,R),V=Math.atan2(-x,E)):V=Math.atan2(_,v);break;case"ZYX":L=Math.asin(-y(D,-1,1)),Math.abs(D)<B?(F=Math.atan2(I,R),V=Math.atan2(_,v)):V=Math.atan2(-x,E);break;case"YZX":V=Math.asin(y(_,-1,1)),Math.abs(_)<B?(F=Math.atan2(-A,E),L=Math.atan2(-D,v)):L=Math.atan2(b,R);break;case"XZY":V=Math.asin(-y(x,-1,1)),Math.abs(x)<B?(F=Math.atan2(I,E),L=Math.atan2(b,v)):F=Math.atan2(-A,R)}return this._x=F,this._y=L,this._z=V,this._order=p,d&&this.onChangeCallback(this),this}});c.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],c.DefaultOrder="XYZ",C.exports=c},6411:C=>{C.exports=function(a){if(0===a)return 1;for(var y=a;--a;)y*=a;return y}},99472:C=>{C.exports=function(a,y){return Math.random()*(y-a)+a}},77623:C=>{C.exports=function(a,y,T){void 0===y&&(y=0),void 0===T&&(T=10);var m=Math.pow(T,-y);return Math.floor(a*m)/m}},62945:(C,k,a)=>{var y=a(45319);C.exports=function(m,f,h){return(h-f)*(m=y(m,0,1))+f}},38265:C=>{C.exports=function(a,y){return a/y/1e3}},78702:C=>{C.exports=function(a){return a==parseFloat(a)?!(a%2):void 0}},94883:C=>{C.exports=function(a){return a===parseFloat(a)?!(a%2):void 0}},28915:C=>{C.exports=function(a,y,T){return(y-a)*T+a}},94908:C=>{C.exports=function(a,y,T){return void 0===T&&(T=0),a.clone().lerp(y,T)}},94434:(C,k,a)=>{var T=new(a(83419))({initialize:function(f){this.val=new Float32Array(9),f?this.copy(f):this.identity()},clone:function(){return new T(this)},set:function(m){return this.copy(m)},copy:function(m){var f=this.val,h=m.val;return f[0]=h[0],f[1]=h[1],f[2]=h[2],f[3]=h[3],f[4]=h[4],f[5]=h[5],f[6]=h[6],f[7]=h[7],f[8]=h[8],this},fromMat4:function(m){var f=m.val,h=this.val;return h[0]=f[0],h[1]=f[1],h[2]=f[2],h[3]=f[4],h[4]=f[5],h[5]=f[6],h[6]=f[8],h[7]=f[9],h[8]=f[10],this},fromArray:function(m){var f=this.val;return f[0]=m[0],f[1]=m[1],f[2]=m[2],f[3]=m[3],f[4]=m[4],f[5]=m[5],f[6]=m[6],f[7]=m[7],f[8]=m[8],this},identity:function(){var m=this.val;return m[0]=1,m[1]=0,m[2]=0,m[3]=0,m[4]=1,m[5]=0,m[6]=0,m[7]=0,m[8]=1,this},transpose:function(){var m=this.val,f=m[1],h=m[2],c=m[5];return m[1]=m[3],m[2]=m[6],m[3]=f,m[5]=m[7],m[6]=h,m[7]=c,this},invert:function(){var m=this.val,f=m[0],h=m[1],c=m[2],u=m[3],p=m[4],d=m[5],g=m[6],v=m[7],x=m[8],b=x*p-d*v,_=-x*u+d*g,E=v*u-p*g,A=f*b+h*_+c*E;return A?(m[0]=b*(A=1/A),m[1]=(-x*h+c*v)*A,m[2]=(d*h-c*p)*A,m[3]=_*A,m[4]=(x*f-c*g)*A,m[5]=(-d*f+c*u)*A,m[6]=E*A,m[7]=(-v*f+h*g)*A,m[8]=(p*f-h*u)*A,this):null},adjoint:function(){var m=this.val,f=m[0],h=m[1],c=m[2],u=m[3],p=m[4],d=m[5],g=m[6],v=m[7],x=m[8];return m[0]=p*x-d*v,m[1]=c*v-h*x,m[2]=h*d-c*p,m[3]=d*g-u*x,m[4]=f*x-c*g,m[5]=c*u-f*d,m[6]=u*v-p*g,m[7]=h*g-f*v,m[8]=f*p-h*u,this},determinant:function(){var m=this.val,u=m[3],p=m[4],d=m[5],g=m[6],v=m[7],x=m[8];return m[0]*(x*p-d*v)+m[1]*(-x*u+d*g)+m[2]*(v*u-p*g)},multiply:function(m){var f=this.val,h=f[0],c=f[1],u=f[2],p=f[3],d=f[4],g=f[5],v=f[6],x=f[7],b=f[8],_=m.val,E=_[0],A=_[1],D=_[2],I=_[3],R=_[4],F=_[5],L=_[6],V=_[7],B=_[8];return f[0]=E*h+A*p+D*v,f[1]=E*c+A*d+D*x,f[2]=E*u+A*g+D*b,f[3]=I*h+R*p+F*v,f[4]=I*c+R*d+F*x,f[5]=I*u+R*g+F*b,f[6]=L*h+V*p+B*v,f[7]=L*c+V*d+B*x,f[8]=L*u+V*g+B*b,this},translate:function(m){var f=this.val,h=m.x,c=m.y;return f[6]=h*f[0]+c*f[3]+f[6],f[7]=h*f[1]+c*f[4]+f[7],f[8]=h*f[2]+c*f[5]+f[8],this},rotate:function(m){var f=this.val,h=f[0],c=f[1],u=f[2],p=f[3],d=f[4],g=f[5],v=Math.sin(m),x=Math.cos(m);return f[0]=x*h+v*p,f[1]=x*c+v*d,f[2]=x*u+v*g,f[3]=x*p-v*h,f[4]=x*d-v*c,f[5]=x*g-v*u,this},scale:function(m){var f=this.val,h=m.x,c=m.y;return f[0]=h*f[0],f[1]=h*f[1],f[2]=h*f[2],f[3]=c*f[3],f[4]=c*f[4],f[5]=c*f[5],this},fromQuat:function(m){var f=m.x,h=m.y,c=m.z,u=m.w,p=f+f,d=h+h,g=c+c,v=f*p,x=f*d,b=f*g,_=h*d,E=h*g,A=c*g,D=u*p,I=u*d,R=u*g,F=this.val;return F[0]=1-(_+A),F[3]=x+R,F[6]=b-I,F[1]=x-R,F[4]=1-(v+A),F[7]=E+D,F[2]=b+I,F[5]=E-D,F[8]=1-(v+_),this},normalFromMat4:function(m){var f=m.val,h=this.val,c=f[0],u=f[1],p=f[2],d=f[3],g=f[4],v=f[5],x=f[6],b=f[7],_=f[8],E=f[9],A=f[10],D=f[11],I=f[12],R=f[13],F=f[14],L=f[15],V=c*v-u*g,B=c*x-p*g,G=c*b-d*g,Q=u*x-p*v,H=u*b-d*v,K=p*b-d*x,tt=_*R-E*I,at=_*F-A*I,lt=_*L-D*I,J=E*F-A*R,it=E*L-D*R,Y=A*L-D*F,X=V*Y-B*it+G*J+Q*lt-H*at+K*tt;return X?(h[0]=(v*Y-x*it+b*J)*(X=1/X),h[1]=(x*lt-g*Y-b*at)*X,h[2]=(g*it-v*lt+b*tt)*X,h[3]=(p*it-u*Y-d*J)*X,h[4]=(c*Y-p*lt+d*at)*X,h[5]=(u*lt-c*it-d*tt)*X,h[6]=(R*K-F*H+L*Q)*X,h[7]=(F*G-I*K-L*B)*X,h[8]=(I*H-R*G+L*V)*X,this):null}});C.exports=T},37867:(C,k,a)=>{var y=a(83419),T=a(25836),m=1e-6,f=new y({initialize:function(v){this.val=new Float32Array(16),v?this.copy(v):this.identity()},clone:function(){return new f(this)},set:function(g){return this.copy(g)},setValues:function(g,v,x,b,_,E,A,D,I,R,F,L,V,B,G,Q){var H=this.val;return H[0]=g,H[1]=v,H[2]=x,H[3]=b,H[4]=_,H[5]=E,H[6]=A,H[7]=D,H[8]=I,H[9]=R,H[10]=F,H[11]=L,H[12]=V,H[13]=B,H[14]=G,H[15]=Q,this},copy:function(g){var v=g.val;return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},fromArray:function(g){return this.setValues(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(g,v,x){var _=h.fromQuat(x).val,E=v.x,A=v.y,D=v.z;return this.setValues(_[0]*E,_[1]*E,_[2]*E,0,_[4]*A,_[5]*A,_[6]*A,0,_[8]*D,_[9]*D,_[10]*D,0,g.x,g.y,g.z,1)},xyz:function(g,v,x){this.identity();var b=this.val;return b[12]=g,b[13]=v,b[14]=x,this},scaling:function(g,v,x){this.zero();var b=this.val;return b[0]=g,b[5]=v,b[10]=x,b[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var g=this.val,v=g[1],x=g[2],b=g[3],_=g[6],E=g[7],A=g[11];return g[1]=g[4],g[2]=g[8],g[3]=g[12],g[4]=v,g[6]=g[9],g[7]=g[13],g[8]=x,g[9]=_,g[11]=g[14],g[12]=b,g[13]=E,g[14]=A,this},getInverse:function(g){return this.copy(g),this.invert()},invert:function(){var g=this.val,v=g[0],x=g[1],b=g[2],_=g[3],E=g[4],A=g[5],D=g[6],I=g[7],R=g[8],F=g[9],L=g[10],V=g[11],B=g[12],G=g[13],Q=g[14],H=g[15],K=v*A-x*E,tt=v*D-b*E,at=v*I-_*E,lt=x*D-b*A,J=x*I-_*A,it=b*I-_*D,Y=R*G-F*B,X=R*Q-L*B,nt=R*H-V*B,ht=F*Q-L*G,gt=F*H-V*G,wt=L*H-V*Q,St=K*wt-tt*gt+at*ht+lt*nt-J*X+it*Y;return St?this.setValues((A*wt-D*gt+I*ht)*(St=1/St),(b*gt-x*wt-_*ht)*St,(G*it-Q*J+H*lt)*St,(L*J-F*it-V*lt)*St,(D*nt-E*wt-I*X)*St,(v*wt-b*nt+_*X)*St,(Q*at-B*it-H*tt)*St,(R*it-L*at+V*tt)*St,(E*gt-A*nt+I*Y)*St,(x*nt-v*gt-_*Y)*St,(B*J-G*at+H*K)*St,(F*at-R*J-V*K)*St,(A*X-E*ht-D*Y)*St,(v*ht-x*X+b*Y)*St,(G*tt-B*lt-Q*K)*St,(R*lt-F*tt+L*K)*St):this},adjoint:function(){var g=this.val,v=g[0],x=g[1],b=g[2],_=g[3],E=g[4],A=g[5],D=g[6],I=g[7],R=g[8],F=g[9],L=g[10],V=g[11],B=g[12],G=g[13],Q=g[14],H=g[15];return this.setValues(A*(L*H-V*Q)-F*(D*H-I*Q)+G*(D*V-I*L),-(x*(L*H-V*Q)-F*(b*H-_*Q)+G*(b*V-_*L)),x*(D*H-I*Q)-A*(b*H-_*Q)+G*(b*I-_*D),-(x*(D*V-I*L)-A*(b*V-_*L)+F*(b*I-_*D)),-(E*(L*H-V*Q)-R*(D*H-I*Q)+B*(D*V-I*L)),v*(L*H-V*Q)-R*(b*H-_*Q)+B*(b*V-_*L),-(v*(D*H-I*Q)-E*(b*H-_*Q)+B*(b*I-_*D)),v*(D*V-I*L)-E*(b*V-_*L)+R*(b*I-_*D),E*(F*H-V*G)-R*(A*H-I*G)+B*(A*V-I*F),-(v*(F*H-V*G)-R*(x*H-_*G)+B*(x*V-_*F)),v*(A*H-I*G)-E*(x*H-_*G)+B*(x*I-_*A),-(v*(A*V-I*F)-E*(x*V-_*F)+R*(x*I-_*A)),-(E*(F*Q-L*G)-R*(A*Q-D*G)+B*(A*L-D*F)),v*(F*Q-L*G)-R*(x*Q-b*G)+B*(x*L-b*F),-(v*(A*Q-D*G)-E*(x*Q-b*G)+B*(x*D-b*A)),v*(A*L-D*F)-E*(x*L-b*F)+R*(x*D-b*A))},determinant:function(){var g=this.val,v=g[0],x=g[1],b=g[2],_=g[3],E=g[4],A=g[5],D=g[6],I=g[7],R=g[8],F=g[9],L=g[10],V=g[11],B=g[12],G=g[13],Q=g[14],H=g[15];return(v*A-x*E)*(L*H-V*Q)-(v*D-b*E)*(F*H-V*G)+(v*I-_*E)*(F*Q-L*G)+(x*D-b*A)*(R*H-V*B)-(x*I-_*A)*(R*Q-L*B)+(b*I-_*D)*(R*G-F*B)},multiply:function(g){var v=this.val,x=v[0],b=v[1],_=v[2],E=v[3],A=v[4],D=v[5],I=v[6],R=v[7],F=v[8],L=v[9],V=v[10],B=v[11],G=v[12],Q=v[13],H=v[14],K=v[15],tt=g.val,at=tt[0],lt=tt[1],J=tt[2],it=tt[3];return v[0]=at*x+lt*A+J*F+it*G,v[1]=at*b+lt*D+J*L+it*Q,v[2]=at*_+lt*I+J*V+it*H,v[3]=at*E+lt*R+J*B+it*K,v[4]=(at=tt[4])*x+(lt=tt[5])*A+(J=tt[6])*F+(it=tt[7])*G,v[5]=at*b+lt*D+J*L+it*Q,v[6]=at*_+lt*I+J*V+it*H,v[7]=at*E+lt*R+J*B+it*K,v[8]=(at=tt[8])*x+(lt=tt[9])*A+(J=tt[10])*F+(it=tt[11])*G,v[9]=at*b+lt*D+J*L+it*Q,v[10]=at*_+lt*I+J*V+it*H,v[11]=at*E+lt*R+J*B+it*K,v[12]=(at=tt[12])*x+(lt=tt[13])*A+(J=tt[14])*F+(it=tt[15])*G,v[13]=at*b+lt*D+J*L+it*Q,v[14]=at*_+lt*I+J*V+it*H,v[15]=at*E+lt*R+J*B+it*K,this},multiplyLocal:function(g){var v=this.val,x=g.val;return this.setValues(v[0]*x[0]+v[1]*x[4]+v[2]*x[8]+v[3]*x[12],v[0]*x[1]+v[1]*x[5]+v[2]*x[9]+v[3]*x[13],v[0]*x[2]+v[1]*x[6]+v[2]*x[10]+v[3]*x[14],v[0]*x[3]+v[1]*x[7]+v[2]*x[11]+v[3]*x[15],v[4]*x[0]+v[5]*x[4]+v[6]*x[8]+v[7]*x[12],v[4]*x[1]+v[5]*x[5]+v[6]*x[9]+v[7]*x[13],v[4]*x[2]+v[5]*x[6]+v[6]*x[10]+v[7]*x[14],v[4]*x[3]+v[5]*x[7]+v[6]*x[11]+v[7]*x[15],v[8]*x[0]+v[9]*x[4]+v[10]*x[8]+v[11]*x[12],v[8]*x[1]+v[9]*x[5]+v[10]*x[9]+v[11]*x[13],v[8]*x[2]+v[9]*x[6]+v[10]*x[10]+v[11]*x[14],v[8]*x[3]+v[9]*x[7]+v[10]*x[11]+v[11]*x[15],v[12]*x[0]+v[13]*x[4]+v[14]*x[8]+v[15]*x[12],v[12]*x[1]+v[13]*x[5]+v[14]*x[9]+v[15]*x[13],v[12]*x[2]+v[13]*x[6]+v[14]*x[10]+v[15]*x[14],v[12]*x[3]+v[13]*x[7]+v[14]*x[11]+v[15]*x[15])},premultiply:function(g){return this.multiplyMatrices(g,this)},multiplyMatrices:function(g,v){var x=g.val,b=v.val,_=x[0],E=x[4],A=x[8],D=x[12],I=x[1],R=x[5],F=x[9],L=x[13],V=x[2],B=x[6],G=x[10],Q=x[14],H=x[3],K=x[7],tt=x[11],at=x[15],lt=b[0],J=b[4],it=b[8],Y=b[12],X=b[1],nt=b[5],ht=b[9],gt=b[13],wt=b[2],St=b[6],Vt=b[10],Zt=b[14],Jt=b[3],ie=b[7],ae=b[11],fe=b[15];return this.setValues(_*lt+E*X+A*wt+D*Jt,I*lt+R*X+F*wt+L*Jt,V*lt+B*X+G*wt+Q*Jt,H*lt+K*X+tt*wt+at*Jt,_*J+E*nt+A*St+D*ie,I*J+R*nt+F*St+L*ie,V*J+B*nt+G*St+Q*ie,H*J+K*nt+tt*St+at*ie,_*it+E*ht+A*Vt+D*ae,I*it+R*ht+F*Vt+L*ae,V*it+B*ht+G*Vt+Q*ae,H*it+K*ht+tt*Vt+at*ae,_*Y+E*gt+A*Zt+D*fe,I*Y+R*gt+F*Zt+L*fe,V*Y+B*gt+G*Zt+Q*fe,H*Y+K*gt+tt*Zt+at*fe)},translate:function(g){return this.translateXYZ(g.x,g.y,g.z)},translateXYZ:function(g,v,x){var b=this.val;return b[12]=b[0]*g+b[4]*v+b[8]*x+b[12],b[13]=b[1]*g+b[5]*v+b[9]*x+b[13],b[14]=b[2]*g+b[6]*v+b[10]*x+b[14],b[15]=b[3]*g+b[7]*v+b[11]*x+b[15],this},scale:function(g){return this.scaleXYZ(g.x,g.y,g.z)},scaleXYZ:function(g,v,x){var b=this.val;return b[0]=b[0]*g,b[1]=b[1]*g,b[2]=b[2]*g,b[3]=b[3]*g,b[4]=b[4]*v,b[5]=b[5]*v,b[6]=b[6]*v,b[7]=b[7]*v,b[8]=b[8]*x,b[9]=b[9]*x,b[10]=b[10]*x,b[11]=b[11]*x,this},makeRotationAxis:function(g,v){var x=Math.cos(v),b=Math.sin(v),_=1-x,E=g.x,A=g.y,D=g.z,I=_*E,R=_*A;return this.setValues(I*E+x,I*A-b*D,I*D+b*A,0,I*A+b*D,R*A+x,R*D-b*E,0,I*D-b*A,R*D+b*E,_*D*D+x,0,0,0,0,1)},rotate:function(g,v){var x=this.val,b=v.x,_=v.y,E=v.z,A=Math.sqrt(b*b+_*_+E*E);if(Math.abs(A)<m)return this;b*=A=1/A,_*=A,E*=A;var D=Math.sin(g),I=Math.cos(g),R=1-I,F=x[0],L=x[1],V=x[2],B=x[3],G=x[4],Q=x[5],H=x[6],K=x[7],tt=x[8],at=x[9],lt=x[10],J=x[11],ht=b*b*R+I,gt=_*b*R+E*D,wt=E*b*R-_*D,St=b*_*R-E*D,Vt=_*_*R+I,Zt=E*_*R+b*D,Jt=b*E*R+_*D,ie=_*E*R-b*D,ae=E*E*R+I;return this.setValues(F*ht+G*gt+tt*wt,L*ht+Q*gt+at*wt,V*ht+H*gt+lt*wt,B*ht+K*gt+J*wt,F*St+G*Vt+tt*Zt,L*St+Q*Vt+at*Zt,V*St+H*Vt+lt*Zt,B*St+K*Vt+J*Zt,F*Jt+G*ie+tt*ae,L*Jt+Q*ie+at*ae,V*Jt+H*ie+lt*ae,B*Jt+K*ie+J*ae,x[12],x[13],x[14],x[15])},rotateX:function(g){var v=this.val,x=Math.sin(g),b=Math.cos(g),_=v[4],E=v[5],A=v[6],D=v[7],I=v[8],R=v[9],F=v[10],L=v[11];return v[4]=_*b+I*x,v[5]=E*b+R*x,v[6]=A*b+F*x,v[7]=D*b+L*x,v[8]=I*b-_*x,v[9]=R*b-E*x,v[10]=F*b-A*x,v[11]=L*b-D*x,this},rotateY:function(g){var v=this.val,x=Math.sin(g),b=Math.cos(g),_=v[0],E=v[1],A=v[2],D=v[3],I=v[8],R=v[9],F=v[10],L=v[11];return v[0]=_*b-I*x,v[1]=E*b-R*x,v[2]=A*b-F*x,v[3]=D*b-L*x,v[8]=_*x+I*b,v[9]=E*x+R*b,v[10]=A*x+F*b,v[11]=D*x+L*b,this},rotateZ:function(g){var v=this.val,x=Math.sin(g),b=Math.cos(g),_=v[0],E=v[1],A=v[2],D=v[3],I=v[4],R=v[5],F=v[6],L=v[7];return v[0]=_*b+I*x,v[1]=E*b+R*x,v[2]=A*b+F*x,v[3]=D*b+L*x,v[4]=I*b-_*x,v[5]=R*b-E*x,v[6]=F*b-A*x,v[7]=L*b-D*x,this},fromRotationTranslation:function(g,v){var x=g.x,b=g.y,_=g.z,E=g.w,A=x+x,D=b+b,I=_+_,R=x*A,F=x*D,L=x*I,V=b*D,B=b*I,G=_*I,Q=E*A,H=E*D,K=E*I;return this.setValues(1-(V+G),F+K,L-H,0,F-K,1-(R+G),B+Q,0,L+H,B-Q,1-(R+V),0,v.x,v.y,v.z,1)},fromQuat:function(g){var v=g.x,x=g.y,b=g.z,_=g.w,E=v+v,A=x+x,D=b+b,I=v*E,R=v*A,F=v*D,L=x*A,V=x*D,B=b*D,G=_*E,Q=_*A,H=_*D;return this.setValues(1-(L+B),R+H,F-Q,0,R-H,1-(I+B),V+G,0,F+Q,V-G,1-(I+L),0,0,0,0,1)},frustum:function(g,v,x,b,_,E){var A=1/(v-g),D=1/(b-x),I=1/(_-E);return this.setValues(2*_*A,0,0,0,0,2*_*D,0,0,(v+g)*A,(b+x)*D,(E+_)*I,-1,0,0,E*_*2*I,0)},perspective:function(g,v,x,b){var _=1/Math.tan(g/2),E=1/(x-b);return this.setValues(_/v,0,0,0,0,_,0,0,0,0,(b+x)*E,-1,0,0,2*b*x*E,0)},perspectiveLH:function(g,v,x,b){return this.setValues(2*x/g,0,0,0,0,2*x/v,0,0,0,0,-b/(x-b),1,0,0,x*b/(x-b),0)},ortho:function(g,v,x,b,_,E){var A=g-v,D=x-b,I=_-E;return this.setValues(-2*(A=0===A?A:1/A),0,0,0,0,-2*(D=0===D?D:1/D),0,0,0,0,2*(I=0===I?I:1/I),0,(g+v)*A,(b+x)*D,(E+_)*I,1)},lookAtRH:function(g,v,x){var b=this.val;return d.subVectors(g,v),0===d.lengthSq()&&(d.z=1),d.normalize(),u.crossVectors(x,d),0===u.lengthSq()&&(1===Math.abs(x.z)?d.x+=1e-4:d.z+=1e-4,d.normalize(),u.crossVectors(x,d)),u.normalize(),p.crossVectors(d,u),b[0]=u.x,b[1]=u.y,b[2]=u.z,b[4]=p.x,b[5]=p.y,b[6]=p.z,b[8]=d.x,b[9]=d.y,b[10]=d.z,this},lookAt:function(g,v,x){var b=g.x,_=g.y,E=g.z,A=x.x,D=x.y,I=x.z,R=v.x,F=v.y,L=v.z;if(Math.abs(b-R)<m&&Math.abs(_-F)<m&&Math.abs(E-L)<m)return this.identity();var V=b-R,B=_-F,G=E-L,Q=1/Math.sqrt(V*V+B*B+G*G),H=D*(G*=Q)-I*(B*=Q),K=I*(V*=Q)-A*G,tt=A*B-D*V;(Q=Math.sqrt(H*H+K*K+tt*tt))?(H*=Q=1/Q,K*=Q,tt*=Q):(H=0,K=0,tt=0);var at=B*tt-G*K,lt=G*H-V*tt,J=V*K-B*H;return(Q=Math.sqrt(at*at+lt*lt+J*J))?(at*=Q=1/Q,lt*=Q,J*=Q):(at=0,lt=0,J=0),this.setValues(H,at,V,0,K,lt,B,0,tt,J,G,0,-(H*b+K*_+tt*E),-(at*b+lt*_+J*E),-(V*b+B*_+G*E),1)},yawPitchRoll:function(g,v,x){this.zero(),h.zero(),c.zero();var b=this.val,_=h.val,E=c.val,A=Math.sin(x),D=Math.cos(x);return b[10]=1,b[15]=1,b[0]=D,b[1]=A,b[4]=-A,b[5]=D,A=Math.sin(v),D=Math.cos(v),_[0]=1,_[15]=1,_[5]=D,_[10]=D,_[9]=-A,_[6]=A,A=Math.sin(g),D=Math.cos(g),E[5]=1,E[15]=1,E[0]=D,E[2]=-A,E[8]=A,E[10]=D,this.multiplyLocal(h),this.multiplyLocal(c),this},setWorldMatrix:function(g,v,x,b,_){return this.yawPitchRoll(g.y,g.x,g.z),h.scaling(x.x,x.y,x.z),c.xyz(v.x,v.y,v.z),this.multiplyLocal(h),this.multiplyLocal(c),b&&this.multiplyLocal(b),_&&this.multiplyLocal(_),this},multiplyToMat4:function(g,v){var x=this.val,b=g.val,_=x[0],E=x[1],A=x[2],D=x[3],I=x[4],R=x[5],F=x[6],L=x[7],V=x[8],B=x[9],G=x[10],Q=x[11],H=x[12],K=x[13],tt=x[14],at=x[15],J=b[1],it=b[2],Y=b[3],X=b[4],nt=b[5],ht=b[6],gt=b[7],wt=b[8],St=b[9],Vt=b[10],Zt=b[11],Jt=b[12],ie=b[13],ae=b[14],fe=b[15];return v.setValues(b[0]*_+J*I+it*V+Y*H,J*E+J*R+it*B+Y*K,it*A+J*F+it*G+Y*tt,Y*D+J*L+it*Q+Y*at,X*_+nt*I+ht*V+gt*H,X*E+nt*R+ht*B+gt*K,X*A+nt*F+ht*G+gt*tt,X*D+nt*L+ht*Q+gt*at,wt*_+St*I+Vt*V+Zt*H,wt*E+St*R+Vt*B+Zt*K,wt*A+St*F+Vt*G+Zt*tt,wt*D+St*L+Vt*Q+Zt*at,Jt*_+ie*I+ae*V+fe*H,Jt*E+ie*R+ae*B+fe*K,Jt*A+ie*F+ae*G+fe*tt,Jt*D+ie*L+ae*Q+fe*at)},fromRotationXYTranslation:function(g,v,x){var b=v.x,_=v.y,E=v.z,A=Math.sin(g.x),D=Math.cos(g.x),I=Math.sin(g.y),R=Math.cos(g.y),F=b,L=_,V=E,B=-A,G=0-B*I,Q=0-D*I,H=B*R,K=D*R;return x||(F=R*b+I*E,L=G*b+D*_+H*E,V=Q*b+A*_+K*E),this.setValues(R,G,Q,0,0,D,A,0,I,H,K,0,F,L,V,1)},getMaxScaleOnAxis:function(){var g=this.val;return Math.sqrt(Math.max(g[0]*g[0]+g[1]*g[1]+g[2]*g[2],g[4]*g[4]+g[5]*g[5]+g[6]*g[6],g[8]*g[8]+g[9]*g[9]+g[10]*g[10]))}}),h=new f,c=new f,u=new T,p=new T,d=new T;C.exports=f},86883:C=>{C.exports=function(a,y,T){return Math.min(a+y,T)}},50040:C=>{C.exports=function(a){var y=a.length;if(0===y)return 0;a.sort(function(m,f){return m-f});var T=Math.floor(y/2);return y%2==0?(a[T]+a[T-1])/2:a[T]}},37204:C=>{C.exports=function(a,y,T){return Math.max(a-y,T)}},65201:C=>{C.exports=function(a,y,T,m){void 0===T&&(T=y+1);var f=(a-y)/(T-y);return f>1?void 0!==m?(f=(m-a)/(m-T))<0&&(f=0):f=1:f<0&&(f=0),f}},15746:(C,k,a)=>{var y=a(83419),T=a(94434),m=a(29747),f=a(25836),h=1e-6,c=new Int8Array([1,2,0]),u=new Float32Array([0,0,0]),p=new f(1,0,0),d=new f(0,1,0),g=new f,v=new T,x=new y({initialize:function(_,E,A,D){this.onChangeCallback=m,this.set(_,E,A,D)},x:{get:function(){return this._x},set:function(b){this._x=b,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(b){this._y=b,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(b){this._z=b,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(b){this._w=b,this.onChangeCallback(this)}},copy:function(b){return this.set(b)},set:function(b,_,E,A,D){return void 0===D&&(D=!0),"object"==typeof b?(this._x=b.x||0,this._y=b.y||0,this._z=b.z||0,this._w=b.w||0):(this._x=b||0,this._y=_||0,this._z=E||0,this._w=A||0),D&&this.onChangeCallback(this),this},add:function(b){return this._x+=b.x,this._y+=b.y,this._z+=b.z,this._w+=b.w,this.onChangeCallback(this),this},subtract:function(b){return this._x-=b.x,this._y-=b.y,this._z-=b.z,this._w-=b.w,this.onChangeCallback(this),this},scale:function(b){return this._x*=b,this._y*=b,this._z*=b,this._w*=b,this.onChangeCallback(this),this},length:function(){var b=this.x,_=this.y,E=this.z,A=this.w;return Math.sqrt(b*b+_*_+E*E+A*A)},lengthSq:function(){var b=this.x,_=this.y,E=this.z,A=this.w;return b*b+_*_+E*E+A*A},normalize:function(){var b=this.x,_=this.y,E=this.z,A=this.w,D=b*b+_*_+E*E+A*A;return D>0&&(D=1/Math.sqrt(D),this._x=b*D,this._y=_*D,this._z=E*D,this._w=A*D),this.onChangeCallback(this),this},dot:function(b){return this.x*b.x+this.y*b.y+this.z*b.z+this.w*b.w},lerp:function(b,_){void 0===_&&(_=0);var E=this.x,A=this.y,D=this.z,I=this.w;return this.set(E+_*(b.x-E),A+_*(b.y-A),D+_*(b.z-D),I+_*(b.w-I))},rotationTo:function(b,_){var E=b.x*_.x+b.y*_.y+b.z*_.z;return E<-.999999?(g.copy(p).cross(b).length()<h&&g.copy(d).cross(b),g.normalize(),this.setAxisAngle(g,Math.PI)):E>.999999?this.set(0,0,0,1):(g.copy(b).cross(_),this._x=g.x,this._y=g.y,this._z=g.z,this._w=1+E,this.normalize())},setAxes:function(b,_,E){var A=v.val;return A[0]=_.x,A[3]=_.y,A[6]=_.z,A[1]=E.x,A[4]=E.y,A[7]=E.z,A[2]=-b.x,A[5]=-b.y,A[8]=-b.z,this.fromMat3(v).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(b,_){_*=.5;var E=Math.sin(_);return this.set(E*b.x,E*b.y,E*b.z,Math.cos(_))},multiply:function(b){var _=this.x,E=this.y,A=this.z,D=this.w,I=b.x,R=b.y,F=b.z,L=b.w;return this.set(_*L+D*I+E*F-A*R,E*L+D*R+A*I-_*F,A*L+D*F+_*R-E*I,D*L-_*I-E*R-A*F)},slerp:function(b,_){var E=this.x,A=this.y,D=this.z,I=this.w,R=b.x,F=b.y,L=b.z,V=b.w,B=E*R+A*F+D*L+I*V;B<0&&(B=-B,R=-R,F=-F,L=-L,V=-V);var G=1-_,Q=_;if(1-B>h){var H=Math.acos(B),K=Math.sin(H);G=Math.sin((1-_)*H)/K,Q=Math.sin(_*H)/K}return this.set(G*E+Q*R,G*A+Q*F,G*D+Q*L,G*I+Q*V)},invert:function(){var b=this.x,_=this.y,E=this.z,A=this.w,D=b*b+_*_+E*E+A*A,I=D?1/D:0;return this.set(-b*I,-_*I,-E*I,A*I)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(b){b*=.5;var _=this.x,E=this.y,A=this.z,D=this.w,I=Math.sin(b),R=Math.cos(b);return this.set(_*R+D*I,E*R+A*I,A*R-E*I,D*R-_*I)},rotateY:function(b){b*=.5;var _=this.x,E=this.y,A=this.z,D=this.w,I=Math.sin(b),R=Math.cos(b);return this.set(_*R-A*I,E*R+D*I,A*R+_*I,D*R-E*I)},rotateZ:function(b){b*=.5;var _=this.x,E=this.y,A=this.z,D=this.w,I=Math.sin(b),R=Math.cos(b);return this.set(_*R+E*I,E*R-_*I,A*R+D*I,D*R-A*I)},calculateW:function(){var b=this.x,_=this.y,E=this.z;return this.w=-Math.sqrt(1-b*b-_*_-E*E),this},setFromEuler:function(b,_){var E=b.x/2,A=b.y/2,D=b.z/2,I=Math.cos(E),R=Math.cos(A),F=Math.cos(D),L=Math.sin(E),V=Math.sin(A),B=Math.sin(D);switch(b.order){case"XYZ":this.set(L*R*F+I*V*B,I*V*F-L*R*B,I*R*B+L*V*F,I*R*F-L*V*B,_);break;case"YXZ":this.set(L*R*F+I*V*B,I*V*F-L*R*B,I*R*B-L*V*F,I*R*F+L*V*B,_);break;case"ZXY":this.set(L*R*F-I*V*B,I*V*F+L*R*B,I*R*B+L*V*F,I*R*F-L*V*B,_);break;case"ZYX":this.set(L*R*F-I*V*B,I*V*F+L*R*B,I*R*B-L*V*F,I*R*F+L*V*B,_);break;case"YZX":this.set(L*R*F+I*V*B,I*V*F+L*R*B,I*R*B-L*V*F,I*R*F-L*V*B,_);break;case"XZY":this.set(L*R*F-I*V*B,I*V*F-L*R*B,I*R*B+L*V*F,I*R*F+L*V*B,_)}return this},setFromRotationMatrix:function(b){var Q,_=b.val,E=_[0],A=_[4],D=_[8],I=_[1],R=_[5],F=_[9],L=_[2],V=_[6],B=_[10],G=E+R+B;return G>0?(Q=.5/Math.sqrt(G+1),this.set((V-F)*Q,(D-L)*Q,(I-A)*Q,.25/Q)):E>R&&E>B?(Q=2*Math.sqrt(1+E-R-B),this.set(.25*Q,(A+I)/Q,(D+L)/Q,(V-F)/Q)):R>B?(Q=2*Math.sqrt(1+R-E-B),this.set((A+I)/Q,.25*Q,(F+V)/Q,(D-L)/Q)):(Q=2*Math.sqrt(1+B-E-R),this.set((D+L)/Q,(F+V)/Q,.25*Q,(I-A)/Q)),this},fromMat3:function(b){var A,_=b.val,E=_[0]+_[4]+_[8];if(E>0)A=Math.sqrt(E+1),this.w=.5*A,this._x=(_[7]-_[5])*(A=.5/A),this._y=(_[2]-_[6])*A,this._z=(_[3]-_[1])*A;else{var D=0;_[4]>_[0]&&(D=1),_[8]>_[3*D+D]&&(D=2);var I=c[D],R=c[I];A=Math.sqrt(_[3*D+D]-_[3*I+I]-_[3*R+R]+1),u[D]=.5*A,u[I]=(_[3*I+D]+_[3*D+I])*(A=.5/A),u[R]=(_[3*R+D]+_[3*D+R])*A,this._x=u[0],this._y=u[1],this._z=u[2],this._w=(_[3*R+I]-_[3*I+R])*A}return this.onChangeCallback(this),this}});C.exports=x},43396:(C,k,a)=>{var y=a(36383);C.exports=function(m){return m*y.RAD_TO_DEG}},74362:C=>{C.exports=function(a,y){void 0===y&&(y=1);var T=2*Math.random()*Math.PI;return a.x=Math.cos(T)*y,a.y=Math.sin(T)*y,a}},60706:C=>{C.exports=function(a,y){void 0===y&&(y=1);var T=2*Math.random()*Math.PI,m=2*Math.random()-1,f=Math.sqrt(1-m*m)*y;return a.x=Math.cos(T)*f,a.y=Math.sin(T)*f,a.z=m*y,a}},67421:C=>{C.exports=function(a,y){return void 0===y&&(y=1),a.x=(2*Math.random()-1)*y,a.y=(2*Math.random()-1)*y,a.z=(2*Math.random()-1)*y,a.w=(2*Math.random()-1)*y,a}},36305:C=>{C.exports=function(a,y){var T=a.x,m=a.y;return a.x=T*Math.cos(y)-m*Math.sin(y),a.y=T*Math.sin(y)+m*Math.cos(y),a}},11520:C=>{C.exports=function(a,y,T,m){var f=Math.cos(m),h=Math.sin(m),c=a.x-y,u=a.y-T;return a.x=c*f-u*h+y,a.y=c*h+u*f+T,a}},1163:C=>{C.exports=function(a,y,T,m,f){var h=m+Math.atan2(a.y-T,a.x-y);return a.x=y+f*Math.cos(h),a.y=T+f*Math.sin(h),a}},70336:C=>{C.exports=function(a,y,T,m,f){return a.x=y+f*Math.cos(m),a.y=T+f*Math.sin(m),a}},72678:(C,k,a)=>{var y=a(25836),T=a(37867),m=a(15746),f=new T,h=new m,c=new y;C.exports=function(p,d,g){return h.setAxisAngle(d,g),f.fromRotationTranslation(h,c.set(0,0,0)),p.transformMat4(f)}},2284:C=>{C.exports=function(a){return a>0?Math.ceil(a):Math.floor(a)}},41013:C=>{C.exports=function(a,y,T){void 0===y&&(y=0),void 0===T&&(T=10);var m=Math.pow(T,-y);return Math.round(a*m)/m}},16922:C=>{C.exports=function(a,y,T,m){void 0===y&&(y=1),void 0===T&&(T=1),void 0===m&&(m=1),m*=Math.PI/a;for(var f=[],h=[],c=0;c<a;c++)y+=(T-=y*m)*m,f[c]=T,h[c]=y;return{sin:h,cos:f,length:a}}},7602:C=>{C.exports=function(a,y,T){return a<=y?0:a>=T?1:(a=(a-y)/(T-y))*a*(3-2*a)}},54261:C=>{C.exports=function(a,y,T){return(a=Math.max(0,Math.min(1,(a-y)/(T-y))))*a*a*(a*(6*a-15)+10)}},44408:(C,k,a)=>{var y=a(26099);C.exports=function(m,f,h,c){void 0===c&&(c=new y);var u=0,p=0;return m>0&&m<=f*h&&(u=m>f-1?m-(p=Math.floor(m/f))*f:m),c.set(u,p)}},85955:(C,k,a)=>{var y=a(26099);C.exports=function(m,f,h,c,u,p,d,g){void 0===g&&(g=new y);var v=Math.sin(u),x=Math.cos(u),b=x*p,_=v*p,E=-v*d,A=x*d,D=1/(b*A+E*-_);return g.x=A*D*m+-E*D*f+(c*E-h*A)*D,g.y=b*D*f+-_*D*m+(-c*b+h*_)*D,g}},26099:(C,k,a)=>{var y=a(83419),T=a(43855),m=new y({initialize:function(h,c){this.x=0,this.y=0,"object"==typeof h?(this.x=h.x||0,this.y=h.y||0):(void 0===c&&(c=h),this.x=h||0,this.y=c||0)},clone:function(){return new m(this.x,this.y)},copy:function(f){return this.x=f.x||0,this.y=f.y||0,this},setFromObject:function(f){return this.x=f.x||0,this.y=f.y||0,this},set:function(f,h){return void 0===h&&(h=f),this.x=f,this.y=h,this},setTo:function(f,h){return this.set(f,h)},setToPolar:function(f,h){return null==h&&(h=1),this.x=Math.cos(f)*h,this.y=Math.sin(f)*h,this},equals:function(f){return this.x===f.x&&this.y===f.y},fuzzyEquals:function(f,h){return T(this.x,f.x,h)&&T(this.y,f.y,h)},angle:function(){var f=Math.atan2(this.y,this.x);return f<0&&(f+=2*Math.PI),f},setAngle:function(f){return this.setToPolar(f,this.length())},add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this},scale:function(f){return isFinite(f)?(this.x*=f,this.y*=f):(this.x=0,this.y=0),this},divide:function(f){return this.x/=f.x,this.y/=f.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(f){var h=f.x-this.x,c=f.y-this.y;return Math.sqrt(h*h+c*c)},distanceSq:function(f){var h=f.x-this.x,c=f.y-this.y;return h*h+c*c},length:function(){var f=this.x,h=this.y;return Math.sqrt(f*f+h*h)},setLength:function(f){return this.normalize().scale(f)},lengthSq:function(){var f=this.x,h=this.y;return f*f+h*h},normalize:function(){var f=this.x,h=this.y,c=f*f+h*h;return c>0&&(c=1/Math.sqrt(c),this.x=f*c,this.y=h*c),this},normalizeRightHand:function(){var f=this.x;return this.x=-1*this.y,this.y=f,this},normalizeLeftHand:function(){var f=this.x;return this.x=this.y,this.y=-1*f,this},dot:function(f){return this.x*f.x+this.y*f.y},cross:function(f){return this.x*f.y-this.y*f.x},lerp:function(f,h){void 0===h&&(h=0);var c=this.x,u=this.y;return this.x=c+h*(f.x-c),this.y=u+h*(f.y-u),this},transformMat3:function(f){var h=this.x,c=this.y,u=f.val;return this.x=u[0]*h+u[3]*c+u[6],this.y=u[1]*h+u[4]*c+u[7],this},transformMat4:function(f){var h=this.x,c=this.y,u=f.val;return this.x=u[0]*h+u[4]*c+u[12],this.y=u[1]*h+u[5]*c+u[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(f){var h=this.length();return h&&h>f&&this.scale(f/h),this},reflect:function(f){return f=f.clone().normalize(),this.subtract(f.scale(2*this.dot(f)))},mirror:function(f){return this.reflect(f).negate()},rotate:function(f){var h=Math.cos(f),c=Math.sin(f);return this.set(h*this.x-c*this.y,c*this.x+h*this.y)},project:function(f){var h=this.dot(f)/f.dot(f);return this.copy(f).scale(h)}});m.ZERO=new m,m.RIGHT=new m(1,0),m.LEFT=new m(-1,0),m.UP=new m(0,-1),m.DOWN=new m(0,1),m.ONE=new m(1,1),C.exports=m},25836:(C,k,a)=>{var T=new(a(83419))({initialize:function(f,h,c){this.x=0,this.y=0,this.z=0,"object"==typeof f?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0):(this.x=f||0,this.y=h||0,this.z=c||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(m){return this.x=Math.min(this.x,m.x),this.y=Math.min(this.y,m.y),this.z=Math.min(this.z,m.z),this},max:function(m){return this.x=Math.max(this.x,m.x),this.y=Math.max(this.y,m.y),this.z=Math.max(this.z,m.z),this},clone:function(){return new T(this.x,this.y,this.z)},addVectors:function(m,f){return this.x=m.x+f.x,this.y=m.y+f.y,this.z=m.z+f.z,this},subVectors:function(m,f){return this.x=m.x-f.x,this.y=m.y-f.y,this.z=m.z-f.z,this},crossVectors:function(m,f){var h=m.x,c=m.y,u=m.z,p=f.x,d=f.y,g=f.z;return this.x=c*g-u*d,this.y=u*p-h*g,this.z=h*d-c*p,this},equals:function(m){return this.x===m.x&&this.y===m.y&&this.z===m.z},copy:function(m){return this.x=m.x,this.y=m.y,this.z=m.z||0,this},set:function(m,f,h){return"object"==typeof m?(this.x=m.x||0,this.y=m.y||0,this.z=m.z||0):(this.x=m||0,this.y=f||0,this.z=h||0),this},setFromMatrixPosition:function(m){return this.fromArray(m.val,12)},setFromMatrixColumn:function(m,f){return this.fromArray(m.val,4*f)},fromArray:function(m,f){return void 0===f&&(f=0),this.x=m[f],this.y=m[f+1],this.z=m[f+2],this},add:function(m){return this.x+=m.x,this.y+=m.y,this.z+=m.z||0,this},addScalar:function(m){return this.x+=m,this.y+=m,this.z+=m,this},addScale:function(m,f){return this.x+=m.x*f,this.y+=m.y*f,this.z+=m.z*f||0,this},subtract:function(m){return this.x-=m.x,this.y-=m.y,this.z-=m.z||0,this},multiply:function(m){return this.x*=m.x,this.y*=m.y,this.z*=m.z||1,this},scale:function(m){return isFinite(m)?(this.x*=m,this.y*=m,this.z*=m):(this.x=0,this.y=0,this.z=0),this},divide:function(m){return this.x/=m.x,this.y/=m.y,this.z/=m.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(m){var f=m.x-this.x,h=m.y-this.y,c=m.z-this.z||0;return Math.sqrt(f*f+h*h+c*c)},distanceSq:function(m){var f=m.x-this.x,h=m.y-this.y,c=m.z-this.z||0;return f*f+h*h+c*c},length:function(){var m=this.x,f=this.y,h=this.z;return Math.sqrt(m*m+f*f+h*h)},lengthSq:function(){var m=this.x,f=this.y,h=this.z;return m*m+f*f+h*h},normalize:function(){var m=this.x,f=this.y,h=this.z,c=m*m+f*f+h*h;return c>0&&(c=1/Math.sqrt(c),this.x=m*c,this.y=f*c,this.z=h*c),this},dot:function(m){return this.x*m.x+this.y*m.y+this.z*m.z},cross:function(m){var f=this.x,h=this.y,c=this.z,u=m.x,p=m.y,d=m.z;return this.x=h*d-c*p,this.y=c*u-f*d,this.z=f*p-h*u,this},lerp:function(m,f){void 0===f&&(f=0);var h=this.x,c=this.y,u=this.z;return this.x=h+f*(m.x-h),this.y=c+f*(m.y-c),this.z=u+f*(m.z-u),this},applyMatrix3:function(m){var f=this.x,h=this.y,c=this.z,u=m.val;return this.x=u[0]*f+u[3]*h+u[6]*c,this.y=u[1]*f+u[4]*h+u[7]*c,this.z=u[2]*f+u[5]*h+u[8]*c,this},applyMatrix4:function(m){var f=this.x,h=this.y,c=this.z,u=m.val,p=1/(u[3]*f+u[7]*h+u[11]*c+u[15]);return this.x=(u[0]*f+u[4]*h+u[8]*c+u[12])*p,this.y=(u[1]*f+u[5]*h+u[9]*c+u[13])*p,this.z=(u[2]*f+u[6]*h+u[10]*c+u[14])*p,this},transformMat3:function(m){var f=this.x,h=this.y,c=this.z,u=m.val;return this.x=f*u[0]+h*u[3]+c*u[6],this.y=f*u[1]+h*u[4]+c*u[7],this.z=f*u[2]+h*u[5]+c*u[8],this},transformMat4:function(m){var f=this.x,h=this.y,c=this.z,u=m.val;return this.x=u[0]*f+u[4]*h+u[8]*c+u[12],this.y=u[1]*f+u[5]*h+u[9]*c+u[13],this.z=u[2]*f+u[6]*h+u[10]*c+u[14],this},transformCoordinates:function(m){var f=this.x,h=this.y,c=this.z,u=m.val,d=f*u[1]+h*u[5]+c*u[9]+u[13],g=f*u[2]+h*u[6]+c*u[10]+u[14],v=f*u[3]+h*u[7]+c*u[11]+u[15];return this.x=(f*u[0]+h*u[4]+c*u[8]+u[12])/v,this.y=d/v,this.z=g/v,this},transformQuat:function(m){var f=this.x,h=this.y,c=this.z,u=m.x,p=m.y,d=m.z,g=m.w,v=g*f+p*c-d*h,x=g*h+d*f-u*c,b=g*c+u*h-p*f,_=-u*f-p*h-d*c;return this.x=v*g+_*-u+x*-d-b*-p,this.y=x*g+_*-p+b*-u-v*-d,this.z=b*g+_*-d+v*-p-x*-u,this},project:function(m){var f=this.x,h=this.y,c=this.z,u=m.val,d=u[1],g=u[2],b=u[5],_=u[6],D=u[9],I=u[10],L=u[13],V=u[14],G=1/(f*u[3]+h*u[7]+c*u[11]+u[15]);return this.x=(f*u[0]+h*u[4]+c*u[8]+u[12])*G,this.y=(f*d+h*b+c*D+L)*G,this.z=(f*g+h*_+c*I+V)*G,this},projectViewMatrix:function(m,f){return this.applyMatrix4(m).applyMatrix4(f)},unprojectViewMatrix:function(m,f){return this.applyMatrix4(m).applyMatrix4(f)},unproject:function(m,f){var p=m.w,g=p-this.y-1-m.y,v=this.z;return this.x=2*(this.x-m.x)/m.z-1,this.y=2*g/p-1,this.z=2*v-1,this.project(f)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});T.ZERO=new T,T.RIGHT=new T(1,0,0),T.LEFT=new T(-1,0,0),T.UP=new T(0,-1,0),T.DOWN=new T(0,1,0),T.FORWARD=new T(0,0,1),T.BACK=new T(0,0,-1),T.ONE=new T(1,1,1),C.exports=T},61369:(C,k,a)=>{var T=new(a(83419))({initialize:function(f,h,c,u){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof f?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0,this.w=f.w||0):(this.x=f||0,this.y=h||0,this.z=c||0,this.w=u||0)},clone:function(){return new T(this.x,this.y,this.z,this.w)},copy:function(m){return this.x=m.x,this.y=m.y,this.z=m.z||0,this.w=m.w||0,this},equals:function(m){return this.x===m.x&&this.y===m.y&&this.z===m.z&&this.w===m.w},set:function(m,f,h,c){return"object"==typeof m?(this.x=m.x||0,this.y=m.y||0,this.z=m.z||0,this.w=m.w||0):(this.x=m||0,this.y=f||0,this.z=h||0,this.w=c||0),this},add:function(m){return this.x+=m.x,this.y+=m.y,this.z+=m.z||0,this.w+=m.w||0,this},subtract:function(m){return this.x-=m.x,this.y-=m.y,this.z-=m.z||0,this.w-=m.w||0,this},scale:function(m){return this.x*=m,this.y*=m,this.z*=m,this.w*=m,this},length:function(){var m=this.x,f=this.y,h=this.z,c=this.w;return Math.sqrt(m*m+f*f+h*h+c*c)},lengthSq:function(){var m=this.x,f=this.y,h=this.z,c=this.w;return m*m+f*f+h*h+c*c},normalize:function(){var m=this.x,f=this.y,h=this.z,c=this.w,u=m*m+f*f+h*h+c*c;return u>0&&(u=1/Math.sqrt(u),this.x=m*u,this.y=f*u,this.z=h*u,this.w=c*u),this},dot:function(m){return this.x*m.x+this.y*m.y+this.z*m.z+this.w*m.w},lerp:function(m,f){void 0===f&&(f=0);var h=this.x,c=this.y,u=this.z,p=this.w;return this.x=h+f*(m.x-h),this.y=c+f*(m.y-c),this.z=u+f*(m.z-u),this.w=p+f*(m.w-p),this},multiply:function(m){return this.x*=m.x,this.y*=m.y,this.z*=m.z||1,this.w*=m.w||1,this},divide:function(m){return this.x/=m.x,this.y/=m.y,this.z/=m.z||1,this.w/=m.w||1,this},distance:function(m){var f=m.x-this.x,h=m.y-this.y,c=m.z-this.z||0,u=m.w-this.w||0;return Math.sqrt(f*f+h*h+c*c+u*u)},distanceSq:function(m){var f=m.x-this.x,h=m.y-this.y,c=m.z-this.z||0,u=m.w-this.w||0;return f*f+h*h+c*c+u*u},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(m){var f=this.x,h=this.y,c=this.z,u=this.w,p=m.val;return this.x=p[0]*f+p[4]*h+p[8]*c+p[12]*u,this.y=p[1]*f+p[5]*h+p[9]*c+p[13]*u,this.z=p[2]*f+p[6]*h+p[10]*c+p[14]*u,this.w=p[3]*f+p[7]*h+p[11]*c+p[15]*u,this},transformQuat:function(m){var f=this.x,h=this.y,c=this.z,u=m.x,p=m.y,d=m.z,g=m.w,v=g*f+p*c-d*h,x=g*h+d*f-u*c,b=g*c+u*h-p*f,_=-u*f-p*h-d*c;return this.x=v*g+_*-u+x*-d-b*-p,this.y=x*g+_*-p+b*-u-v*-d,this.z=b*g+_*-d+v*-p-x*-u,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});T.prototype.sub=T.prototype.subtract,T.prototype.mul=T.prototype.multiply,T.prototype.div=T.prototype.divide,T.prototype.dist=T.prototype.distance,T.prototype.distSq=T.prototype.distanceSq,T.prototype.len=T.prototype.length,T.prototype.lenSq=T.prototype.lengthSq,C.exports=T},60417:C=>{C.exports=function(a,y,T){return Math.abs(a-y)<=T}},15994:C=>{C.exports=function(a,y,T){var m=T-y;return y+((a-y)%m+m)%m}},31040:C=>{C.exports=function(a,y,T,m){return Math.atan2(m-y,T-a)}},55495:C=>{C.exports=function(a,y){return Math.atan2(y.y-a.y,y.x-a.x)}},128:C=>{C.exports=function(a,y){return Math.atan2(y.x-a.x,y.y-a.y)}},41273:C=>{C.exports=function(a,y,T,m){return Math.atan2(T-a,m-y)}},1432:(C,k,a)=>{var y=a(36383);C.exports=function(m){return m>Math.PI&&(m-=y.PI2),Math.abs(((m+y.TAU)%y.PI2-y.PI2)%y.PI2)}},12407:C=>{C.exports=function(a){return(a%=2*Math.PI)>=0?a:a+2*Math.PI}},53993:(C,k,a)=>{var y=a(99472);C.exports=function(){return y(-Math.PI,Math.PI)}},86564:(C,k,a)=>{var y=a(99472);C.exports=function(){return y(-180,180)}},90154:(C,k,a)=>{var y=a(12407);C.exports=function(m){return y(m+Math.PI)}},48736:(C,k,a)=>{var y=a(36383);C.exports=function(m,f,h){return void 0===h&&(h=.05),m===f||(Math.abs(f-m)<=h||Math.abs(f-m)>=y.PI2-h?m=f:(Math.abs(f-m)>Math.PI&&(f<m?f+=y.PI2:f-=y.PI2),f>m?m+=h:f<m&&(m-=h))),m}},61430:C=>{C.exports=function(a,y){var T=y-a;return 0===T?0:T-360*Math.floor((T- -180)/360)}},86554:(C,k,a)=>{var y=a(15994);C.exports=function(m){return y(m,-Math.PI,Math.PI)}},30954:(C,k,a)=>{var y=a(15994);C.exports=function(m){return y(m,-180,180)}},25588:(C,k,a)=>{C.exports={Between:a(31040),BetweenPoints:a(55495),BetweenPointsY:a(128),BetweenY:a(41273),CounterClockwise:a(1432),Normalize:a(12407),Random:a(53993),RandomDegrees:a(86564),Reverse:a(90154),RotateTo:a(48736),ShortestBetween:a(61430),Wrap:a(86554),WrapDegrees:a(30954)}},36383:C=>{var k={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};C.exports=k},20339:C=>{C.exports=function(a,y,T,m){var f=a-T,h=y-m;return Math.sqrt(f*f+h*h)}},52816:C=>{C.exports=function(a,y){var T=a.x-y.x,m=a.y-y.y;return Math.sqrt(T*T+m*m)}},64559:C=>{C.exports=function(a,y){var T=a.x-y.x,m=a.y-y.y;return T*T+m*m}},82340:C=>{C.exports=function(a,y,T,m){return Math.max(Math.abs(a-T),Math.abs(y-m))}},14390:C=>{C.exports=function(a,y,T,m,f){return void 0===f&&(f=2),Math.sqrt(Math.pow(T-a,f)+Math.pow(m-y,f))}},2243:C=>{C.exports=function(a,y,T,m){return Math.abs(a-T)+Math.abs(y-m)}},89774:C=>{C.exports=function(a,y,T,m){var f=a-T,h=y-m;return f*f+h*h}},50994:(C,k,a)=>{C.exports={Between:a(20339),BetweenPoints:a(52816),BetweenPointsSquared:a(64559),Chebyshev:a(82340),Power:a(14390),Snake:a(2243),Squared:a(89774)}},62640:(C,k,a)=>{var y=a(54178),T=a(41521),m=a(79980),f=a(85433),h=a(99140),c=a(48857),u=a(81596),p=a(59133),d=a(98516),g=a(35248),v=a(82500),x=a(49752);C.exports={Power0:u,Power1:p.Out,Power2:f.Out,Power3:d.Out,Power4:g.Out,Linear:u,Quad:p.Out,Cubic:f.Out,Quart:d.Out,Quint:g.Out,Sine:v.Out,Expo:c.Out,Circ:m.Out,Elastic:h.Out,Back:y.Out,Bounce:T.Out,Stepped:x,"Quad.easeIn":p.In,"Cubic.easeIn":f.In,"Quart.easeIn":d.In,"Quint.easeIn":g.In,"Sine.easeIn":v.In,"Expo.easeIn":c.In,"Circ.easeIn":m.In,"Elastic.easeIn":h.In,"Back.easeIn":y.In,"Bounce.easeIn":T.In,"Quad.easeOut":p.Out,"Cubic.easeOut":f.Out,"Quart.easeOut":d.Out,"Quint.easeOut":g.Out,"Sine.easeOut":v.Out,"Expo.easeOut":c.Out,"Circ.easeOut":m.Out,"Elastic.easeOut":h.Out,"Back.easeOut":y.Out,"Bounce.easeOut":T.Out,"Quad.easeInOut":p.InOut,"Cubic.easeInOut":f.InOut,"Quart.easeInOut":d.InOut,"Quint.easeInOut":g.InOut,"Sine.easeInOut":v.InOut,"Expo.easeInOut":c.InOut,"Circ.easeInOut":m.InOut,"Elastic.easeInOut":h.InOut,"Back.easeInOut":y.InOut,"Bounce.easeInOut":T.InOut}},1639:C=>{C.exports=function(a,y){return void 0===y&&(y=1.70158),a*a*((y+1)*a-y)}},50099:C=>{C.exports=function(a,y){void 0===y&&(y=1.70158);var T=1.525*y;return(a*=2)<1?a*a*((T+1)*a-T)*.5:.5*((a-=2)*a*((T+1)*a+T)+2)}},41286:C=>{C.exports=function(a,y){return void 0===y&&(y=1.70158),--a*a*((y+1)*a+y)+1}},54178:(C,k,a)=>{C.exports={In:a(1639),Out:a(41286),InOut:a(50099)}},59590:C=>{C.exports=function(a){return(a=1-a)<.36363636363636365?1-7.5625*a*a:a<.7272727272727273?1-(7.5625*(a-=.5454545454545454)*a+.75):a<.9090909090909091?1-(7.5625*(a-=.8181818181818182)*a+.9375):1-(7.5625*(a-=.9545454545454546)*a+.984375)}},41788:C=>{C.exports=function(a){var y=!1;return a<.5?(a=1-2*a,y=!0):a=2*a-1,a<.36363636363636365?a*=7.5625*a:a=a<.7272727272727273?7.5625*(a-=.5454545454545454)*a+.75:a<.9090909090909091?7.5625*(a-=.8181818181818182)*a+.9375:7.5625*(a-=.9545454545454546)*a+.984375,y?.5*(1-a):.5*a+.5}},69905:C=>{C.exports=function(a){return a<.36363636363636365?7.5625*a*a:a<.7272727272727273?7.5625*(a-=.5454545454545454)*a+.75:a<.9090909090909091?7.5625*(a-=.8181818181818182)*a+.9375:7.5625*(a-=.9545454545454546)*a+.984375}},41521:(C,k,a)=>{C.exports={In:a(59590),Out:a(69905),InOut:a(41788)}},91861:C=>{C.exports=function(a){return 1-Math.sqrt(1-a*a)}},4177:C=>{C.exports=function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)}},57512:C=>{C.exports=function(a){return Math.sqrt(1- --a*a)}},79980:(C,k,a)=>{C.exports={In:a(91861),Out:a(57512),InOut:a(4177)}},51150:C=>{C.exports=function(a){return a*a*a}},82820:C=>{C.exports=function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)}},35033:C=>{C.exports=function(a){return--a*a*a+1}},85433:(C,k,a)=>{C.exports={In:a(51150),Out:a(35033),InOut:a(82820)}},69965:C=>{C.exports=function(a,y,T){if(void 0===y&&(y=.1),void 0===T&&(T=.1),0===a)return 0;if(1===a)return 1;var m=T/4;return y<1?y=1:m=T*Math.asin(1/y)/(2*Math.PI),-y*Math.pow(2,10*(a-=1))*Math.sin((a-m)*(2*Math.PI)/T)}},50665:C=>{C.exports=function(a,y,T){if(void 0===y&&(y=.1),void 0===T&&(T=.1),0===a)return 0;if(1===a)return 1;var m=T/4;return y<1?y=1:m=T*Math.asin(1/y)/(2*Math.PI),(a*=2)<1?y*Math.pow(2,10*(a-=1))*Math.sin((a-m)*(2*Math.PI)/T)*-.5:y*Math.pow(2,-10*(a-=1))*Math.sin((a-m)*(2*Math.PI)/T)*.5+1}},7744:C=>{C.exports=function(a,y,T){if(void 0===y&&(y=.1),void 0===T&&(T=.1),0===a)return 0;if(1===a)return 1;var m=T/4;return y<1?y=1:m=T*Math.asin(1/y)/(2*Math.PI),y*Math.pow(2,-10*a)*Math.sin((a-m)*(2*Math.PI)/T)+1}},99140:(C,k,a)=>{C.exports={In:a(69965),Out:a(7744),InOut:a(50665)}},24590:C=>{C.exports=function(a){return Math.pow(2,10*(a-1))-.001}},87844:C=>{C.exports=function(a){return(a*=2)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))}},89433:C=>{C.exports=function(a){return 1-Math.pow(2,-10*a)}},48857:(C,k,a)=>{C.exports={In:a(24590),Out:a(89433),InOut:a(87844)}},48820:(C,k,a)=>{C.exports={Back:a(54178),Bounce:a(41521),Circular:a(79980),Cubic:a(85433),Elastic:a(99140),Expo:a(48857),Linear:a(81596),Quadratic:a(59133),Quartic:a(98516),Quintic:a(35248),Sine:a(82500),Stepped:a(49752)}},7147:C=>{C.exports=function(a){return a}},81596:(C,k,a)=>{C.exports=a(7147)},34826:C=>{C.exports=function(a){return a*a}},20544:C=>{C.exports=function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)}},92029:C=>{C.exports=function(a){return a*(2-a)}},59133:(C,k,a)=>{C.exports={In:a(34826),Out:a(92029),InOut:a(20544)}},64413:C=>{C.exports=function(a){return a*a*a*a}},78137:C=>{C.exports=function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)}},45840:C=>{C.exports=function(a){return 1- --a*a*a*a}},98516:(C,k,a)=>{C.exports={In:a(64413),Out:a(45840),InOut:a(78137)}},87745:C=>{C.exports=function(a){return a*a*a*a*a}},16509:C=>{C.exports=function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)}},17868:C=>{C.exports=function(a){return--a*a*a*a*a+1}},35248:(C,k,a)=>{C.exports={In:a(87745),Out:a(17868),InOut:a(16509)}},80461:C=>{C.exports=function(a){return 0===a?0:1===a?1:1-Math.cos(a*Math.PI/2)}},34025:C=>{C.exports=function(a){return 0===a?0:1===a?1:.5*(1-Math.cos(Math.PI*a))}},52768:C=>{C.exports=function(a){return 0===a?0:1===a?1:Math.sin(a*Math.PI/2)}},82500:(C,k,a)=>{C.exports={In:a(80461),Out:a(52768),InOut:a(34025)}},72251:C=>{C.exports=function(a,y){return void 0===y&&(y=1),a<=0?0:a>=1?1:1/y*(1+(y*a|0))}},49752:(C,k,a)=>{C.exports=a(72251)},75698:C=>{C.exports=function(a,y){return void 0===y&&(y=1e-4),Math.ceil(a-y)}},43855:C=>{C.exports=function(a,y,T){return void 0===T&&(T=1e-4),Math.abs(a-y)<T}},25777:C=>{C.exports=function(a,y){return void 0===y&&(y=1e-4),Math.floor(a+y)}},5470:C=>{C.exports=function(a,y,T){return void 0===T&&(T=1e-4),a>y-T}},94977:C=>{C.exports=function(a,y,T){return void 0===T&&(T=1e-4),a<y+T}},48379:(C,k,a)=>{C.exports={Ceil:a(75698),Equal:a(43855),Floor:a(25777),GreaterThan:a(5470),LessThan:a(94977)}},75508:(C,k,a)=>{var y=a(36383),T=a(79291),m={Angle:a(25588),Distance:a(50994),Easing:a(48820),Fuzzy:a(48379),Interpolation:a(38289),Pow2:a(49001),Snap:a(73697),RandomDataGenerator:a(28453),Average:a(53307),Bernstein:a(85710),Between:a(30976),CatmullRom:a(87842),CeilTo:a(26302),Clamp:a(45319),DegToRad:a(39506),Difference:a(61241),Euler:a(38857),Factorial:a(6411),FloatBetween:a(99472),FloorTo:a(77623),FromPercent:a(62945),GetSpeed:a(38265),IsEven:a(78702),IsEvenStrict:a(94883),Linear:a(28915),LinearXY:a(94908),MaxAdd:a(86883),Median:a(50040),MinSub:a(37204),Percent:a(65201),RadToDeg:a(43396),RandomXY:a(74362),RandomXYZ:a(60706),RandomXYZW:a(67421),Rotate:a(36305),RotateAround:a(11520),RotateAroundDistance:a(1163),RotateTo:a(70336),RoundAwayFromZero:a(2284),RoundTo:a(41013),SinCosTableGenerator:a(16922),SmootherStep:a(54261),SmoothStep:a(7602),ToXY:a(44408),TransformXY:a(85955),Within:a(60417),Wrap:a(15994),Vector2:a(26099),Vector3:a(25836),Vector4:a(61369),Matrix3:a(94434),Matrix4:a(37867),Quaternion:a(15746),RotateVec3:a(72678)};m=T(!1,m,y),C.exports=m},89318:(C,k,a)=>{var y=a(85710);C.exports=function(m,f){for(var h=0,c=m.length-1,u=0;u<=c;u++)h+=Math.pow(1-f,c-u)*Math.pow(f,u)*m[u]*y(c,u);return h}},77259:(C,k,a)=>{var y=a(87842);C.exports=function(m,f){var h=m.length-1,c=h*f,u=Math.floor(c);return m[0]===m[h]?(f<0&&(u=Math.floor(c=h*(1+f))),y(c-u,m[(u-1+h)%h],m[u],m[(u+1)%h],m[(u+2)%h])):f<0?m[0]-(y(-c,m[0],m[0],m[1],m[1])-m[0]):f>1?m[h]-(y(c-h,m[h],m[h],m[h-1],m[h-1])-m[h]):y(c-u,m[u?u-1:0],m[u],m[h<u+1?h:u+1],m[h<u+2?h:u+2])}},36316:C=>{C.exports=function(f,h,c,u,p){return function k(f,h){var c=1-f;return c*c*c*h}(f,h)+function a(f,h){var c=1-f;return 3*c*c*f*h}(f,c)+function y(f,h){return 3*(1-f)*f*f*h}(f,u)+function T(f,h){return f*f*f*h}(f,p)}},28392:(C,k,a)=>{var y=a(28915);C.exports=function(m,f){var h=m.length-1,c=h*f,u=Math.floor(c);return f<0?y(m[0],m[1],c):f>1?y(m[h],m[h-1],h-c):y(m[u],m[u+1>h?h:u+1],c-u)}},32112:C=>{C.exports=function(m,f,h,c){return function k(m,f){var h=1-m;return h*h*f}(m,f)+function a(m,f){return 2*(1-m)*m*f}(m,h)+function y(m,f){return m*m*f}(m,c)}},47235:(C,k,a)=>{var y=a(7602);C.exports=function(m,f,h){return f+(h-f)*y(m,0,1)}},50178:(C,k,a)=>{var y=a(54261);C.exports=function(m,f,h){return f+(h-f)*y(m,0,1)}},38289:(C,k,a)=>{C.exports={Bezier:a(89318),CatmullRom:a(77259),CubicBezier:a(36316),Linear:a(28392),QuadraticBezier:a(32112),SmoothStep:a(47235),SmootherStep:a(50178)}},98439:C=>{C.exports=function(a){var y=Math.log(a)/.6931471805599453;return 1<<Math.ceil(y)}},50030:C=>{C.exports=function(a,y){return a>0&&!(a&a-1)&&y>0&&!(y&y-1)}},81230:C=>{C.exports=function(a){return a>0&&!(a&a-1)}},49001:(C,k,a)=>{C.exports={GetNext:a(98439),IsSize:a(50030),IsValue:a(81230)}},28453:(C,k,a)=>{var T=new(a(83419))({initialize:function(f){void 0===f&&(f=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],f&&this.init(f)},rnd:function(){var m=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|m,this.s0=this.s1,this.s1=this.s2,this.s2=m-this.c,this.s2},hash:function(m){var f,h=this.n;m=m.toString();for(var c=0;c<m.length;c++)f=.02519603282416938*(h+=m.charCodeAt(c)),f-=h=f>>>0,h=(f*=h)>>>0,h+=4294967296*(f-=h);return this.n=h,2.3283064365386963e-10*(h>>>0)},init:function(m){"string"==typeof m?this.state(m):this.sow(m)},sow:function(m){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,m)for(var f=0;f<m.length&&null!=m[f];f++){var h=m[f];this.s0-=this.hash(h),this.s0+=~~(this.s0<0),this.s1-=this.hash(h),this.s1+=~~(this.s1<0),this.s2-=this.hash(h),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+11102230246251565e-32*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(m,f){return Math.floor(this.realInRange(0,f-m+1)+m)},between:function(m,f){return Math.floor(this.realInRange(0,f-m+1)+m)},realInRange:function(m,f){return this.frac()*(f-m)+m},normal:function(){return 1-2*this.frac()},uuid:function(){var m="",f="";for(f=m="";m++<36;f+=~m%5|3*m&4?(15^m?8^this.frac()*(20^m?16:4):4).toString(16):"-");return f},pick:function(m){return m[this.integerInRange(0,m.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(m){return m[~~(Math.pow(this.frac(),2)*(m.length-.5)+.5)]},timestamp:function(m,f){return this.realInRange(m||9466848e5,f||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(m){return"string"==typeof m&&m.match(/^!rnd/)&&(m=m.split(","),this.c=parseFloat(m[1]),this.s0=parseFloat(m[2]),this.s1=parseFloat(m[3]),this.s2=parseFloat(m[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(m){for(var h=m.length-1;h>0;h--){var c=Math.floor(this.frac()*(h+1)),u=m[c];m[c]=m[h],m[h]=u}return m}});C.exports=T},63448:C=>{C.exports=function(a,y,T,m){return void 0===T&&(T=0),0===y?a:(a-=T,a=y*Math.ceil(a/y),m?(T+a)/y:T+a)}},56583:C=>{C.exports=function(a,y,T,m){return void 0===T&&(T=0),0===y?a:(a-=T,a=y*Math.floor(a/y),m?(T+a)/y:T+a)}},77720:C=>{C.exports=function(a,y,T,m){return void 0===T&&(T=0),0===y?a:(a-=T,a=y*Math.round(a/y),m?(T+a)/y:T+a)}},73697:(C,k,a)=>{C.exports={Ceil:a(63448),Floor:a(56583),To:a(77720)}},85454:(C,k,a)=>{a(63595);var y=a(8054),T=a(79291),m={Actions:a(61061),Animations:a(60421),BlendModes:a(10312),Cache:a(83388),Cameras:a(26638),Core:a(42857),Class:a(83419),Create:a(15822),Curves:a(25410),Data:a(44965),Display:a(27460),DOM:a(84902),Events:a(93055),FX:a(66064),Game:a(50127),GameObjects:a(77856),Geom:a(55738),Input:a(14350),Loader:a(57777),Math:a(75508),Physics:a(44563),Plugins:a(18922),Renderer:a(36909),Scale:a(93364),ScaleModes:a(29795),Scene:a(97482),Scenes:a(62194),Structs:a(41392),Textures:a(27458),Tilemaps:a(62501),Time:a(90291),Tweens:a(43066),Utils:a(91799)};m.Sound=a(23717),m=T(!1,m,y),C.exports=m,a.g.Phaser=m},71289:(C,k,a)=>{var y=a(83419),T=a(92209),m=a(88571),f=new y({Extends:m,Mixins:[T.Acceleration,T.Angular,T.Bounce,T.Collision,T.Debug,T.Drag,T.Enable,T.Friction,T.Gravity,T.Immovable,T.Mass,T.Pushable,T.Size,T.Velocity],initialize:function(c,u,p,d,g){m.call(this,c,u,p,d,g),this.body=null}});C.exports=f},86689:(C,k,a)=>{var y=a(83419),T=a(39506),m=a(20339),f=a(89774),h=a(66022),c=a(95540),u=a(46975),p=a(72441),d=a(47956),g=a(37277),v=a(44594),x=a(26099),b=a(82248),_=new y({initialize:function(A){this.scene=A,this.systems=A.sys,this.config=this.getConfig(),this._category=1,A.sys.events.once(v.BOOT,this.boot,this),A.sys.events.on(v.START,this.start,this)},boot:function(){this.world=new b(this.scene,this.config),this.add=new h(this.world),this.systems.events.once(v.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new b(this.scene,this.config),this.add=new h(this.world));var E=this.systems.events;c(this.config,"customUpdate",!1)||E.on(v.UPDATE,this.world.update,this.world),E.on(v.POST_UPDATE,this.world.postUpdate,this.world),E.once(v.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(v.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(v.UPDATE,this.world.update,this.world)},getConfig:function(){var E=this.systems.game.config.physics;return u(c(this.systems.settings.physics,"arcade",{}),c(E,"arcade",{}))},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(E,A,D,I,R){return void 0===D&&(D=null),void 0===I&&(I=null),void 0===R&&(R=D),this.world.collideObjects(E,A,D,I,R,!0)},collide:function(E,A,D,I,R){return void 0===D&&(D=null),void 0===I&&(I=null),void 0===R&&(R=D),this.world.collideObjects(E,A,D,I,R,!1)},collideTiles:function(E,A,D,I,R){return this.world.collideTiles(E,A,D,I,R)},overlapTiles:function(E,A,D,I,R){return this.world.overlapTiles(E,A,D,I,R)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(E,A,D,I,R,F){void 0===I&&(I=60);var L=Math.atan2(D-E.y,A-E.x);return E.body.acceleration.setToPolar(L,I),void 0!==R&&void 0!==F&&E.body.maxVelocity.set(R,F),L},accelerateToObject:function(E,A,D,I,R){return this.accelerateTo(E,A.x,A.y,D,I,R)},closest:function(E,A){A||(A=this.world.bodies.entries);for(var D=Number.MAX_VALUE,I=null,R=E.x,F=E.y,L=A.length,V=0;V<L;V++){var B=A[V],G=B.body||B;if(E!==B&&E!==G&&E!==G.gameObject&&E!==G.center){var Q=f(R,F,G.center.x,G.center.y);Q<D&&(I=B,D=Q)}}return I},furthest:function(E,A){A||(A=this.world.bodies.entries);for(var D=-1,I=null,R=E.x,F=E.y,L=A.length,V=0;V<L;V++){var B=A[V],G=B.body||B;if(E!==B&&E!==G&&E!==G.gameObject&&E!==G.center){var Q=f(R,F,G.center.x,G.center.y);Q>D&&(I=B,D=Q)}}return I},moveTo:function(E,A,D,I,R){void 0===I&&(I=60),void 0===R&&(R=0);var F=Math.atan2(D-E.y,A-E.x);return R>0&&(I=m(E.x,E.y,A,D)/(R/1e3)),E.body.velocity.setToPolar(F,I),F},moveToObject:function(E,A,D,I){return this.moveTo(E,A.x,A.y,D,I)},velocityFromAngle:function(E,A,D){return void 0===A&&(A=60),void 0===D&&(D=new x),D.setToPolar(T(E),A)},velocityFromRotation:function(E,A,D){return void 0===A&&(A=60),void 0===D&&(D=new x),D.setToPolar(E,A)},overlapRect:function(E,A,D,I,R,F){return d(this.world,E,A,D,I,R,F)},overlapCirc:function(E,A,D,I,R){return p(this.world,E,A,D,I,R)},shutdown:function(){if(this.world){var E=this.systems.events;E.off(v.UPDATE,this.world.update,this.world),E.off(v.POST_UPDATE,this.world.postUpdate,this.world),E.off(v.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(v.START,this.start,this),this.scene=null,this.systems=null}});g.register("ArcadePhysics",_,"arcadePhysics"),C.exports=_},13759:(C,k,a)=>{var y=a(83419),T=a(92209),m=a(68287),f=new y({Extends:m,Mixins:[T.Acceleration,T.Angular,T.Bounce,T.Collision,T.Debug,T.Drag,T.Enable,T.Friction,T.Gravity,T.Immovable,T.Mass,T.Pushable,T.Size,T.Velocity],initialize:function(c,u,p,d,g){m.call(this,c,u,p,d,g),this.body=null}});C.exports=f},37742:(C,k,a)=>{var y=a(83419),T=a(78389),m=a(37747),f=a(63012),h=a(43396),c=a(87841),u=a(37303),p=a(95829),d=a(26099),g=new y({Mixins:[T],initialize:function(x,b){var _=64,E=64,D=void 0!==b;D&&b.displayWidth&&(_=b.displayWidth,E=b.displayHeight),D||(b={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=x,this.gameObject=D?b:void 0,this.isBody=!0,this.transform={x:b.x,y:b.y,rotation:b.angle,scaleX:b.scaleX,scaleY:b.scaleY,displayOriginX:b.displayOriginX,displayOriginY:b.displayOriginY},this.debugShowBody=x.defaults.debugShowBody,this.debugShowVelocity=x.defaults.debugShowVelocity,this.debugBodyColor=x.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new d,this.position=new d(b.x-b.scaleX*b.displayOriginX,b.y-b.scaleY*b.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=b.angle,this.preRotation=b.angle,this.width=_,this.height=E,this.sourceWidth=_,this.sourceHeight=E,b.frame&&(this.sourceWidth=b.frame.realWidth,this.sourceHeight=b.frame.realHeight),this.halfWidth=Math.abs(_/2),this.halfHeight=Math.abs(E/2),this.center=new d(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new d,this.newVelocity=new d,this.deltaMax=new d,this.acceleration=new d,this.allowDrag=!0,this.drag=new d,this.allowGravity=!0,this.gravity=new d,this.bounce=new d,this.worldBounce=null,this.customBoundsRectangle=x.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new d(1e4,1e4),this.maxSpeed=-1,this.friction=new d(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=m.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new d(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=p(!1),this.touching=p(!0),this.wasTouching=p(!0),this.blocked=p(!0),this.syncBounds=!1,this.physicsType=m.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=b.scaleX,this._sy=b.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new c,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var v=this.gameObject,x=this.transform;if(v.parentContainer){var b=v.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);x.x=b.tx,x.y=b.ty,x.rotation=h(b.rotation),x.scaleX=b.scaleX,x.scaleY=b.scaleY,x.displayOriginX=v.displayOriginX,x.displayOriginY=v.displayOriginY}else x.x=v.x,x.y=v.y,x.rotation=v.angle,x.scaleX=v.scaleX,x.scaleY=v.scaleY,x.displayOriginX=v.displayOriginX,x.displayOriginY=v.displayOriginY;var _=!1;if(this.syncBounds){var E=v.getBounds(this._bounds);this.width=E.width,this.height=E.height,_=!0}else{var A=Math.abs(x.scaleX),D=Math.abs(x.scaleY);(this._sx!==A||this._sy!==D)&&(this.width=this.sourceWidth*A,this.height=this.sourceHeight*D,this._sx=A,this._sy=D,_=!0)}_&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var v=this.transform;this.position.x=v.x+v.scaleX*(this.offset.x-v.displayOriginX),this.position.y=v.y+v.scaleY*(this.offset.y-v.displayOriginY),this.updateCenter()},resetFlags:function(v){void 0===v&&(v=!1);var x=this.wasTouching,b=this.touching,_=this.blocked;v?p(!0,x):(x.none=b.none,x.up=b.up,x.down=b.down,x.left=b.left,x.right=b.right),p(!0,b),p(!0,_),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(v,x){if(v&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var b=this.position;this.prev.x=b.x,this.prev.y=b.y,this.prevFrame.x=b.x,this.prevFrame.y=b.y}v&&this.update(x)},update:function(v){var x=this.prev,b=this.position,_=this.velocity;if(x.set(b.x,b.y),!this.moves)return this._dx=b.x-x.x,void(this._dy=b.y-x.y);if(this.directControl){var E=this.autoFrame;_.set((b.x-E.x)/v,(b.y-E.y)/v),this.world.updateMotion(this,v),this._dx=b.x-E.x,this._dy=b.y-E.y}else this.world.updateMotion(this,v),this.newVelocity.set(_.x*v,_.y*v),b.add(this.newVelocity),this._dx=b.x-x.x,this._dy=b.y-x.y;var A=_.x,D=_.y;if(this.updateCenter(),this.angle=Math.atan2(D,A),this.speed=Math.sqrt(A*A+D*D),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var I=this.blocked;this.world.emit(f.WORLD_BOUNDS,this,I.up,I.down,I.left,I.right)}},postUpdate:function(){var v=this.position,x=v.x-this.prevFrame.x,b=v.y-this.prevFrame.y,_=this.gameObject;if(this.moves){var E=this.deltaMax.x,A=this.deltaMax.y;0!==E&&0!==x&&(x<0&&x<-E?x=-E:x>0&&x>E&&(x=E)),0!==A&&0!==b&&(b<0&&b<-A?b=-A:b>0&&b>A&&(b=A)),_&&(_.x+=x,_.y+=b)}x<0?this.facing=m.FACING_LEFT:x>0&&(this.facing=m.FACING_RIGHT),b<0?this.facing=m.FACING_UP:b>0&&(this.facing=m.FACING_DOWN),this.allowRotation&&_&&(_.angle+=this.deltaZ()),this._tx=x,this._ty=b,this.autoFrame.set(v.x,v.y)},setBoundsRectangle:function(v){return this.customBoundsRectangle=v||this.world.bounds,this},checkWorldBounds:function(){var v=this.position,x=this.velocity,b=this.blocked,_=this.customBoundsRectangle,E=this.world.checkCollision,A=this.worldBounce?-this.worldBounce.x:-this.bounce.x,D=this.worldBounce?-this.worldBounce.y:-this.bounce.y,I=!1;return v.x<_.x&&E.left?(v.x=_.x,x.x*=A,b.left=!0,I=!0):this.right>_.right&&E.right&&(v.x=_.right-this.width,x.x*=A,b.right=!0,I=!0),v.y<_.y&&E.up?(v.y=_.y,x.y*=D,b.up=!0,I=!0):this.bottom>_.bottom&&E.down&&(v.y=_.bottom-this.height,x.y*=D,b.down=!0,I=!0),I&&(this.blocked.none=!1,this.updateCenter()),I},setOffset:function(v,x){return void 0===x&&(x=v),this.offset.set(v,x),this},setGameObject:function(v,x){return void 0===x&&(x=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=v,v.body&&(v.body=this),this.setSize(),this.world.add(this),this.enable=x,this},setSize:function(v,x,b){void 0===b&&(b=!0);var _=this.gameObject;return _&&(!v&&_.frame&&(v=_.frame.realWidth),!x&&_.frame&&(x=_.frame.realHeight)),this.sourceWidth=v,this.sourceHeight=x,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),b&&_&&_.getCenter&&this.offset.set((_.width-v)/2,(_.height-x)/2),this.isCircle=!1,this.radius=0,this},setCircle:function(v,x,b){return void 0===x&&(x=this.offset.x),void 0===b&&(b=this.offset.y),v>0?(this.isCircle=!0,this.radius=v,this.sourceWidth=2*v,this.sourceHeight=2*v,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(x,b),this.updateCenter()):this.isCircle=!1,this},reset:function(v,x){this.stop();var b=this.gameObject;b&&(b.setPosition(v,x),this.rotation=b.angle,this.preRotation=b.angle);var _=this.position;b&&b.getTopLeft?b.getTopLeft(_):_.set(v,x),this.prev.copy(_),this.prevFrame.copy(_),this.autoFrame.copy(_),b&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(v){return v.x=this.x,v.y=this.y,v.right=this.right,v.bottom=this.bottom,v},hitTest:function(v,x){return this.isCircle?this.radius>0&&v>=this.left&&v<=this.right&&x>=this.top&&x<=this.bottom&&(this.center.x-v)*(this.center.x-v)+(this.center.y-x)*(this.center.y-x)<=this.radius*this.radius:u(this,v,x)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(v){var x=this.position,b=x.x+this.halfWidth,_=x.y+this.halfHeight;this.debugShowBody&&(v.lineStyle(v.defaultStrokeWidth,this.debugBodyColor),this.isCircle?v.strokeCircle(b,_,this.width/2):(this.checkCollision.up&&v.lineBetween(x.x,x.y,x.x+this.width,x.y),this.checkCollision.right&&v.lineBetween(x.x+this.width,x.y,x.x+this.width,x.y+this.height),this.checkCollision.down&&v.lineBetween(x.x,x.y+this.height,x.x+this.width,x.y+this.height),this.checkCollision.left&&v.lineBetween(x.x,x.y,x.x,x.y+this.height))),this.debugShowVelocity&&(v.lineStyle(v.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),v.lineBetween(b,_,b+this.velocity.x/2,_+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(v){return void 0===v&&(v=!0),this.directControl=v,this},setCollideWorldBounds:function(v,x,b,_){void 0===v&&(v=!0),this.collideWorldBounds=v;var E=void 0!==x,A=void 0!==b;return(E||A)&&(this.worldBounce||(this.worldBounce=new d),E&&(this.worldBounce.x=x),A&&(this.worldBounce.y=b)),void 0!==_&&(this.onWorldBounds=_),this},setVelocity:function(v,x){return this.velocity.set(v,x),v=this.velocity.x,x=this.velocity.y,this.speed=Math.sqrt(v*v+x*x),this},setVelocityX:function(v){return this.setVelocity(v,this.velocity.y)},setVelocityY:function(v){return this.setVelocity(this.velocity.x,v)},setMaxVelocity:function(v,x){return this.maxVelocity.set(v,x),this},setMaxVelocityX:function(v){return this.maxVelocity.x=v,this},setMaxVelocityY:function(v){return this.maxVelocity.y=v,this},setMaxSpeed:function(v){return this.maxSpeed=v,this},setSlideFactor:function(v,x){return this.slideFactor.set(v,x),this},setBounce:function(v,x){return this.bounce.set(v,x),this},setBounceX:function(v){return this.bounce.x=v,this},setBounceY:function(v){return this.bounce.y=v,this},setAcceleration:function(v,x){return this.acceleration.set(v,x),this},setAccelerationX:function(v){return this.acceleration.x=v,this},setAccelerationY:function(v){return this.acceleration.y=v,this},setAllowDrag:function(v){return void 0===v&&(v=!0),this.allowDrag=v,this},setAllowGravity:function(v){return void 0===v&&(v=!0),this.allowGravity=v,this},setAllowRotation:function(v){return void 0===v&&(v=!0),this.allowRotation=v,this},setDrag:function(v,x){return this.drag.set(v,x),this},setDamping:function(v){return this.useDamping=v,this},setDragX:function(v){return this.drag.x=v,this},setDragY:function(v){return this.drag.y=v,this},setGravity:function(v,x){return this.gravity.set(v,x),this},setGravityX:function(v){return this.gravity.x=v,this},setGravityY:function(v){return this.gravity.y=v,this},setFriction:function(v,x){return this.friction.set(v,x),this},setFrictionX:function(v){return this.friction.x=v,this},setFrictionY:function(v){return this.friction.y=v,this},setAngularVelocity:function(v){return this.angularVelocity=v,this},setAngularAcceleration:function(v){return this.angularAcceleration=v,this},setAngularDrag:function(v){return this.angularDrag=v,this},setMass:function(v){return this.mass=v,this},setImmovable:function(v){return void 0===v&&(v=!0),this.immovable=v,this},setEnable:function(v){return void 0===v&&(v=!0),this.enable=v,this},processX:function(v,x,b,_){this.x+=v,this.updateCenter(),null!==x&&(this.velocity.x=x*this.slideFactor.x);var E=this.blocked;b&&(E.left=!0,E.none=!1),_&&(E.right=!0,E.none=!1)},processY:function(v,x,b,_){this.y+=v,this.updateCenter(),null!==x&&(this.velocity.y=x*this.slideFactor.y);var E=this.blocked;b&&(E.up=!0,E.none=!1),_&&(E.down=!0,E.none=!1)},x:{get:function(){return this.position.x},set:function(v){this.position.x=v}},y:{get:function(){return this.position.y},set:function(v){this.position.y=v}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});C.exports=g},79342:(C,k,a)=>{var T=new(a(83419))({initialize:function(f,h,c,u,p,d,g){this.world=f,this.name="",this.active=!0,this.overlapOnly=h,this.object1=c,this.object2=u,this.collideCallback=p,this.processCallback=d,this.callbackContext=g},setName:function(m){return this.name=m,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});C.exports=T},66022:(C,k,a)=>{var y=a(71289),T=a(13759),m=a(37742),f=a(83419),h=a(37747),c=a(60758),u=a(72624),p=a(71464),d=new f({initialize:function(v){this.world=v,this.scene=v.scene,this.sys=v.scene.sys},collider:function(g,v,x,b,_){return this.world.addCollider(g,v,x,b,_)},overlap:function(g,v,x,b,_){return this.world.addOverlap(g,v,x,b,_)},existing:function(g,v){return this.world.enableBody(g,v?h.STATIC_BODY:h.DYNAMIC_BODY),g},staticImage:function(g,v,x,b){var _=new y(this.scene,g,v,x,b);return this.sys.displayList.add(_),this.world.enableBody(_,h.STATIC_BODY),_},image:function(g,v,x,b){var _=new y(this.scene,g,v,x,b);return this.sys.displayList.add(_),this.world.enableBody(_,h.DYNAMIC_BODY),_},staticSprite:function(g,v,x,b){var _=new T(this.scene,g,v,x,b);return this.sys.displayList.add(_),this.sys.updateList.add(_),this.world.enableBody(_,h.STATIC_BODY),_},sprite:function(g,v,x,b){var _=new T(this.scene,g,v,x,b);return this.sys.displayList.add(_),this.sys.updateList.add(_),this.world.enableBody(_,h.DYNAMIC_BODY),_},staticGroup:function(g,v){return this.sys.updateList.add(new p(this.world,this.world.scene,g,v))},group:function(g,v){return this.sys.updateList.add(new c(this.world,this.world.scene,g,v))},body:function(g,v,x,b){var _=new m(this.world);return _.position.set(g,v),x&&b&&_.setSize(x,b),this.world.add(_,h.DYNAMIC_BODY),_},staticBody:function(g,v,x,b){var _=new u(this.world);return _.position.set(g,v),x&&b&&_.setSize(x,b),this.world.add(_,h.STATIC_BODY),_},destroy:function(){this.world=null,this.scene=null,this.sys=null}});C.exports=d},79599:C=>{C.exports=function(a){var y=0;if(Array.isArray(a))for(var T=0;T<a.length;T++)y|=a[T];else y=a;return y}},64897:(C,k,a)=>{var y=a(37747);C.exports=function(m,f,h,c){var u=0,p=m.deltaAbsX()+f.deltaAbsX()+c;return 0===m._dx&&0===f._dx?(m.embedded=!0,f.embedded=!0):m._dx>f._dx?(u=m.right-f.x)>p&&!h||!1===m.checkCollision.right||!1===f.checkCollision.left?u=0:(m.touching.none=!1,m.touching.right=!0,f.touching.none=!1,f.touching.left=!0,f.physicsType===y.STATIC_BODY&&!h&&(m.blocked.none=!1,m.blocked.right=!0),m.physicsType===y.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.left=!0)):m._dx<f._dx&&(-(u=m.x-f.width-f.x)>p&&!h||!1===m.checkCollision.left||!1===f.checkCollision.right?u=0:(m.touching.none=!1,m.touching.left=!0,f.touching.none=!1,f.touching.right=!0,f.physicsType===y.STATIC_BODY&&!h&&(m.blocked.none=!1,m.blocked.left=!0),m.physicsType===y.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.right=!0))),m.overlapX=u,f.overlapX=u,u}},45170:(C,k,a)=>{var y=a(37747);C.exports=function(m,f,h,c){var u=0,p=m.deltaAbsY()+f.deltaAbsY()+c;return 0===m._dy&&0===f._dy?(m.embedded=!0,f.embedded=!0):m._dy>f._dy?(u=m.bottom-f.y)>p&&!h||!1===m.checkCollision.down||!1===f.checkCollision.up?u=0:(m.touching.none=!1,m.touching.down=!0,f.touching.none=!1,f.touching.up=!0,f.physicsType===y.STATIC_BODY&&!h&&(m.blocked.none=!1,m.blocked.down=!0),m.physicsType===y.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.up=!0)):m._dy<f._dy&&(-(u=m.y-f.bottom)>p&&!h||!1===m.checkCollision.up||!1===f.checkCollision.down?u=0:(m.touching.none=!1,m.touching.up=!0,f.touching.none=!1,f.touching.down=!0,f.physicsType===y.STATIC_BODY&&!h&&(m.blocked.none=!1,m.blocked.up=!0),m.physicsType===y.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.down=!0))),m.overlapY=u,f.overlapY=u,u}},60758:(C,k,a)=>{var y=a(13759),T=a(83419),m=a(78389),f=a(37747),h=a(95540),c=a(26479),u=a(41212),p=new T({Extends:c,Mixins:[m],initialize:function(g,v,x,b){if(x||b)if(u(x))b=x,x=null,b.internalCreateCallback=this.createCallbackHandler,b.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(x)&&u(x[0])){var _=this;x.forEach(function(E){E.internalCreateCallback=_.createCallbackHandler,E.internalRemoveCallback=_.removeCallbackHandler,E.classType=h(E,"classType",y)}),b=null}else b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=g,b&&(b.classType=h(b,"classType",y)),this.physicsType=f.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:h(b,"collideWorldBounds",!1),setBoundsRectangle:h(b,"customBoundsRectangle",null),setAccelerationX:h(b,"accelerationX",0),setAccelerationY:h(b,"accelerationY",0),setAllowDrag:h(b,"allowDrag",!0),setAllowGravity:h(b,"allowGravity",!0),setAllowRotation:h(b,"allowRotation",!0),setDamping:h(b,"useDamping",!1),setBounceX:h(b,"bounceX",0),setBounceY:h(b,"bounceY",0),setDragX:h(b,"dragX",0),setDragY:h(b,"dragY",0),setEnable:h(b,"enable",!0),setGravityX:h(b,"gravityX",0),setGravityY:h(b,"gravityY",0),setFrictionX:h(b,"frictionX",0),setFrictionY:h(b,"frictionY",0),setMaxSpeed:h(b,"maxSpeed",-1),setMaxVelocityX:h(b,"maxVelocityX",1e4),setMaxVelocityY:h(b,"maxVelocityY",1e4),setVelocityX:h(b,"velocityX",0),setVelocityY:h(b,"velocityY",0),setAngularVelocity:h(b,"angularVelocity",0),setAngularAcceleration:h(b,"angularAcceleration",0),setAngularDrag:h(b,"angularDrag",0),setMass:h(b,"mass",1),setImmovable:h(b,"immovable",!1)},c.call(this,v,x,b),this.type="PhysicsGroup"},createCallbackHandler:function(d){d.body||this.world.enableBody(d,f.DYNAMIC_BODY);var g=d.body;for(var v in this.defaults)g[v](this.defaults[v])},removeCallbackHandler:function(d){d.body&&this.world.disableBody(d)},setVelocity:function(d,g,v){void 0===v&&(v=0);for(var x=this.getChildren(),b=0;b<x.length;b++)x[b].body.velocity.set(d+b*v,g+b*v);return this},setVelocityX:function(d,g){void 0===g&&(g=0);for(var v=this.getChildren(),x=0;x<v.length;x++)v[x].body.velocity.x=d+x*g;return this},setVelocityY:function(d,g){void 0===g&&(g=0);for(var v=this.getChildren(),x=0;x<v.length;x++)v[x].body.velocity.y=d+x*g;return this}});C.exports=p},3017:C=>{var k,a,y,T,m,f,h,c,u,p,d,g,v,x,b,_,E,D=function(){return p&&b&&a.blocked.right?(k.processX(-E,h,!1,!0),1):u&&_&&a.blocked.left?(k.processX(E,h,!0),1):v&&_&&k.blocked.right?(a.processX(-E,c,!1,!0),2):g&&b&&k.blocked.left?(a.processX(E,c,!0),2):0},R=function(V){if(y&&T)E*=.5,0===V||3===V?(k.processX(E,m),a.processX(-E,f)):(k.processX(-E,m),a.processX(E,f));else if(y&&!T)0===V||3===V?k.processX(E,h,!0):k.processX(-E,h,!1,!0);else if(!y&&T)0===V||3===V?a.processX(-E,c,!1,!0):a.processX(E,c,!0);else{var B=.5*E;0===V?x?(k.processX(E,0,!0),a.processX(0,null,!1,!0)):v?(k.processX(B,0,!0),a.processX(-B,0,!1,!0)):(k.processX(B,a.velocity.x,!0),a.processX(-B,null,!1,!0)):1===V?d?(k.processX(0,null,!1,!0),a.processX(E,0,!0)):p?(k.processX(-B,0,!1,!0),a.processX(B,0,!0)):(k.processX(-B,null,!1,!0),a.processX(B,k.velocity.x,!0)):2===V?x?(k.processX(-E,0,!1,!0),a.processX(0,null,!0)):g?(k.processX(-B,0,!1,!0),a.processX(B,0,!0)):(k.processX(-B,a.velocity.x,!1,!0),a.processX(B,null,!0)):3===V&&(d?(k.processX(0,null,!0),a.processX(-E,0,!1,!0)):u?(k.processX(B,0,!0),a.processX(-B,0,!1,!0)):(k.processX(B,a.velocity.y,!0),a.processX(-B,null,!1,!0)))}return!0};C.exports={BlockCheck:D,Check:function(){var V=k.velocity.x,B=a.velocity.x,G=Math.sqrt(B*B*a.mass/k.mass)*(B>0?1:-1),Q=Math.sqrt(V*V*k.mass/a.mass)*(V>0?1:-1),H=.5*(G+Q);return m=H+(G-=H)*k.bounce.x,f=H+(Q-=H)*a.bounce.x,u&&_?R(0):g&&b?R(1):p&&b?R(2):!(!v||!_)&&R(3)},Set:function(V,B,G){var Q=(k=V).velocity.x,H=(a=B).velocity.x;return y=k.pushable,u=k._dx<0,p=k._dx>0,d=0===k._dx,b=Math.abs(k.right-a.x)<=Math.abs(a.right-k.x),h=H-Q*k.bounce.x,T=a.pushable,g=a._dx<0,v=a._dx>0,x=0===a._dx,_=!b,c=Q-H*a.bounce.x,E=Math.abs(G),D()},Run:R,RunImmovableBody1:function(V){1===V?a.velocity.x=0:b?a.processX(E,c,!0):a.processX(-E,c,!1,!0),k.moves&&(a.y+=(k.directControl?k.y-k.autoFrame.y:k.y-k.prev.y)*k.friction.y,a._dy=a.y-a.prev.y)},RunImmovableBody2:function(V){2===V?k.velocity.x=0:_?k.processX(E,h,!0):k.processX(-E,h,!1,!0),a.moves&&(k.y+=(a.directControl?a.y-a.autoFrame.y:a.y-a.prev.y)*a.friction.y,k._dy=k.y-k.prev.y)}}},47962:C=>{var k,a,y,T,m,f,h,c,u,p,d,g,v,x,b,_,E,D=function(){return p&&b&&a.blocked.down?(k.processY(-E,h,!1,!0),1):u&&_&&a.blocked.up?(k.processY(E,h,!0),1):v&&_&&k.blocked.down?(a.processY(-E,c,!1,!0),2):g&&b&&k.blocked.up?(a.processY(E,c,!0),2):0},R=function(V){if(y&&T)E*=.5,0===V||3===V?(k.processY(E,m),a.processY(-E,f)):(k.processY(-E,m),a.processY(E,f));else if(y&&!T)0===V||3===V?k.processY(E,h,!0):k.processY(-E,h,!1,!0);else if(!y&&T)0===V||3===V?a.processY(-E,c,!1,!0):a.processY(E,c,!0);else{var B=.5*E;0===V?x?(k.processY(E,0,!0),a.processY(0,null,!1,!0)):v?(k.processY(B,0,!0),a.processY(-B,0,!1,!0)):(k.processY(B,a.velocity.y,!0),a.processY(-B,null,!1,!0)):1===V?d?(k.processY(0,null,!1,!0),a.processY(E,0,!0)):p?(k.processY(-B,0,!1,!0),a.processY(B,0,!0)):(k.processY(-B,null,!1,!0),a.processY(B,k.velocity.y,!0)):2===V?x?(k.processY(-E,0,!1,!0),a.processY(0,null,!0)):g?(k.processY(-B,0,!1,!0),a.processY(B,0,!0)):(k.processY(-B,a.velocity.y,!1,!0),a.processY(B,null,!0)):3===V&&(d?(k.processY(0,null,!0),a.processY(-E,0,!1,!0)):u?(k.processY(B,0,!0),a.processY(-B,0,!1,!0)):(k.processY(B,a.velocity.y,!0),a.processY(-B,null,!1,!0)))}return!0};C.exports={BlockCheck:D,Check:function(){var V=k.velocity.y,B=a.velocity.y,G=Math.sqrt(B*B*a.mass/k.mass)*(B>0?1:-1),Q=Math.sqrt(V*V*k.mass/a.mass)*(V>0?1:-1),H=.5*(G+Q);return m=H+(G-=H)*k.bounce.y,f=H+(Q-=H)*a.bounce.y,u&&_?R(0):g&&b?R(1):p&&b?R(2):!(!v||!_)&&R(3)},Set:function(V,B,G){var Q=(k=V).velocity.y,H=(a=B).velocity.y;return y=k.pushable,u=k._dy<0,p=k._dy>0,d=0===k._dy,b=Math.abs(k.bottom-a.y)<=Math.abs(a.bottom-k.y),h=H-Q*k.bounce.y,T=a.pushable,g=a._dy<0,v=a._dy>0,x=0===a._dy,_=!b,c=Q-H*a.bounce.y,E=Math.abs(G),D()},Run:R,RunImmovableBody1:function(V){1===V?a.velocity.y=0:b?a.processY(E,c,!0):a.processY(-E,c,!1,!0),k.moves&&(a.x+=(k.directControl?k.x-k.autoFrame.x:k.x-k.prev.x)*k.friction.x,a._dx=a.x-a.prev.x)},RunImmovableBody2:function(V){2===V?k.velocity.y=0:_?k.processY(E,h,!0):k.processY(-E,h,!1,!0),a.moves&&(k.x+=(a.directControl?a.x-a.autoFrame.x:a.x-a.prev.x)*a.friction.x,k._dx=k.x-k.prev.x)}}},14087:(C,k,a)=>{var y=a(64897),T=a(3017);C.exports=function(f,h,c,u,p){void 0===p&&(p=y(f,h,c,u));var d=f.immovable,g=h.immovable;if(c||0===p||d&&g||f.customSeparateX||h.customSeparateX)return 0!==p||f.embedded&&h.embedded;var v=T.Set(f,h,p);return d||g?(d?T.RunImmovableBody1(v):g&&T.RunImmovableBody2(v),!0):v>0||T.Check()}},89936:(C,k,a)=>{var y=a(45170),T=a(47962);C.exports=function(f,h,c,u,p){void 0===p&&(p=y(f,h,c,u));var d=f.immovable,g=h.immovable;if(c||0===p||d&&g||f.customSeparateY||h.customSeparateY)return 0!==p||f.embedded&&h.embedded;var v=T.Set(f,h,p);return d||g?(d?T.RunImmovableBody1(v):g&&T.RunImmovableBody2(v),!0):v>0||T.Check()}},95829:C=>{C.exports=function(a,y){return void 0===y&&(y={}),y.none=a,y.up=!1,y.down=!1,y.left=!1,y.right=!1,a||(y.up=!0,y.down=!0,y.left=!0,y.right=!0),y}},72624:(C,k,a)=>{var y=a(87902),T=a(83419),m=a(78389),f=a(37747),h=a(37303),c=a(95829),u=a(26099),p=new T({Mixins:[m],initialize:function(g,v){var x=64,b=64,E=void 0!==v;E&&v.displayWidth&&(x=v.displayWidth,b=v.displayHeight),E||(v={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0}),this.world=g,this.gameObject=E?v:void 0,this.isBody=!0,this.debugShowBody=g.defaults.debugShowStaticBody,this.debugBodyColor=g.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new u,this.position=new u(v.x-x*v.originX,v.y-b*v.originY),this.width=x,this.height=b,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new u(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=u.ZERO,this.allowGravity=!1,this.gravity=u.ZERO,this.bounce=u.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=c(!1),this.touching=c(!0),this.wasTouching=c(!0),this.blocked=c(!0),this.physicsType=f.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(d,g){return d&&d!==this.gameObject&&(this.gameObject.body=null,d.body=this,this.gameObject=d),g&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var d=this.gameObject;return d.getTopLeft(this.position),this.width=d.displayWidth,this.height=d.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(d,g){return void 0===g&&(g=d),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d,g),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(d,g,v){void 0===v&&(v=!0);var x=this.gameObject;if(x&&x.frame&&(d||(d=x.frame.realWidth),g||(g=x.frame.realHeight)),this.world.staticTree.remove(this),this.width=d,this.height=g,this.halfWidth=Math.floor(d/2),this.halfHeight=Math.floor(g/2),v&&x&&x.getCenter){var b=x.displayWidth/2,_=x.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(b-this.halfWidth,_-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(d,g,v){return void 0===g&&(g=this.offset.x),void 0===v&&(v=this.offset.y),d>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=d,this.width=2*d,this.height=2*d,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(g,v),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(d,g){var v=this.gameObject;void 0===d&&(d=v.x),void 0===g&&(g=v.y),this.world.staticTree.remove(this),v.setPosition(d,g),v.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(d){return d.x=this.x,d.y=this.y,d.right=this.right,d.bottom=this.bottom,d},hitTest:function(d,g){return this.isCircle?y(this,d,g):h(this,d,g)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(d){var g=this.position,v=g.x+this.halfWidth,x=g.y+this.halfHeight;this.debugShowBody&&(d.lineStyle(d.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?d.strokeCircle(v,x,this.width/2):d.strokeRect(g.x,g.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(d){return d<=0&&(d=.1),this.mass=d,this},x:{get:function(){return this.position.x},set:function(d){this.world.staticTree.remove(this),this.position.x=d,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(d){this.world.staticTree.remove(this),this.position.y=d,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});C.exports=p},71464:(C,k,a)=>{var y=a(13759),T=a(83419),m=a(78389),f=a(37747),h=a(95540),c=a(26479),u=a(41212),p=new T({Extends:c,Mixins:[m],initialize:function(g,v,x,b){x||b?u(x)?(b=x,x=null,b.internalCreateCallback=this.createCallbackHandler,b.internalRemoveCallback=this.removeCallbackHandler,b.createMultipleCallback=this.createMultipleCallbackHandler,b.classType=h(b,"classType",y)):Array.isArray(x)&&u(x[0])?(b=x,x=null,b.forEach(function(_){_.internalCreateCallback=this.createCallbackHandler,_.internalRemoveCallback=this.removeCallbackHandler,_.createMultipleCallback=this.createMultipleCallbackHandler,_.classType=h(_,"classType",y)})):b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:y},this.world=g,this.physicsType=f.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,c.call(this,v,x,b),this.type="StaticPhysicsGroup"},createCallbackHandler:function(d){d.body||this.world.enableBody(d,f.STATIC_BODY)},removeCallbackHandler:function(d){d.body&&this.world.disableBody(d)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var d=this.children.entries,g=0;g<d.length;g++)d[g].body.reset();return this}});C.exports=p},82248:(C,k,a)=>{var y=a(55495),T=a(37742),m=a(45319),f=a(83419),h=a(79342),c=a(37747),u=a(20339),p=a(52816),d=a(50792),g=a(63012),v=a(43855),x=a(5470),b=a(94977),_=a(64897),E=a(45170),A=a(96523),D=a(35154),I=a(36383),R=a(25774),F=a(96602),L=a(87841),V=a(59542),B=a(40012),G=a(14087),Q=a(89936),H=a(35072),K=a(72624),tt=a(2483),at=a(61340),lt=a(26099),J=a(15994),it=new f({Extends:d,initialize:function(X,nt){d.call(this),this.scene=X,this.bodies=new H,this.staticBodies=new H,this.pendingDestroy=new H,this.colliders=new R,this.gravity=new lt(D(nt,"gravity.x",0),D(nt,"gravity.y",0)),this.bounds=new L(D(nt,"x",0),D(nt,"y",0),D(nt,"width",X.sys.scale.width),D(nt,"height",X.sys.scale.height)),this.checkCollision={up:D(nt,"checkCollision.up",!0),down:D(nt,"checkCollision.down",!0),left:D(nt,"checkCollision.left",!0),right:D(nt,"checkCollision.right",!0)},this.fps=D(nt,"fps",60),this.fixedStep=D(nt,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=D(nt,"timeScale",1),this.OVERLAP_BIAS=D(nt,"overlapBias",4),this.TILE_BIAS=D(nt,"tileBias",16),this.forceX=D(nt,"forceX",!1),this.isPaused=D(nt,"isPaused",!1),this._total=0,this.drawDebug=D(nt,"debug",!1),this.defaults={debugShowBody:D(nt,"debugShowBody",!0),debugShowStaticBody:D(nt,"debugShowStaticBody",!0),debugShowVelocity:D(nt,"debugShowVelocity",!0),bodyDebugColor:D(nt,"debugBodyColor",16711935),staticBodyDebugColor:D(nt,"debugStaticBodyColor",255),velocityDebugColor:D(nt,"debugVelocityColor",65280)},this.maxEntries=D(nt,"maxEntries",16),this.useTree=D(nt,"useTree",!0),this.tree=new V(this.maxEntries),this.staticTree=new V(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new at,this._tempMatrix2=new at,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(Y,X){void 0===X&&(X=c.DYNAMIC_BODY),Array.isArray(Y)||(Y=[Y]);for(var nt=0;nt<Y.length;nt++){var ht=Y[nt];if(ht.isParent)for(var gt=ht.getChildren(),wt=0;wt<gt.length;wt++){var St=gt[wt];St.isParent?this.enable(St,X):this.enableBody(St,X)}else this.enableBody(ht,X)}},enableBody:function(Y,X){return void 0===X&&(X=c.DYNAMIC_BODY),Y.hasTransformComponent&&(Y.body||(X===c.DYNAMIC_BODY?Y.body=new T(this,Y):X===c.STATIC_BODY&&(Y.body=new K(this,Y))),this.add(Y.body)),Y},add:function(Y){return Y.physicsType===c.DYNAMIC_BODY?this.bodies.set(Y):Y.physicsType===c.STATIC_BODY&&(this.staticBodies.set(Y),this.staticTree.insert(Y)),Y.enable=!0,Y},disable:function(Y){Array.isArray(Y)||(Y=[Y]);for(var X=0;X<Y.length;X++){var nt=Y[X];if(nt.isParent)for(var ht=nt.getChildren(),gt=0;gt<ht.length;gt++){var wt=ht[gt];wt.isParent?this.disable(wt):this.disableBody(wt.body)}else this.disableBody(nt.body)}},disableBody:function(Y){this.remove(Y),Y.enable=!1},remove:function(Y){Y.physicsType===c.DYNAMIC_BODY?(this.tree.remove(Y),this.bodies.delete(Y)):Y.physicsType===c.STATIC_BODY&&(this.staticBodies.delete(Y),this.staticTree.remove(Y))},createDebugGraphic:function(){var Y=this.scene.sys.add.graphics({x:0,y:0});return Y.setDepth(Number.MAX_VALUE),this.debugGraphic=Y,this.drawDebug=!0,Y},setBounds:function(Y,X,nt,ht,gt,wt,St,Vt){return this.bounds.setTo(Y,X,nt,ht),void 0!==gt&&this.setBoundsCollision(gt,wt,St,Vt),this},setBoundsCollision:function(Y,X,nt,ht){return void 0===Y&&(Y=!0),void 0===X&&(X=!0),void 0===nt&&(nt=!0),void 0===ht&&(ht=!0),this.checkCollision.left=Y,this.checkCollision.right=X,this.checkCollision.up=nt,this.checkCollision.down=ht,this},pause:function(){return this.isPaused=!0,this.emit(g.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(g.RESUME),this},addCollider:function(Y,X,nt,ht,gt){void 0===nt&&(nt=null),void 0===ht&&(ht=null),void 0===gt&&(gt=nt);var wt=new h(this,!1,Y,X,nt,ht,gt);return this.colliders.add(wt),wt},addOverlap:function(Y,X,nt,ht,gt){void 0===nt&&(nt=null),void 0===ht&&(ht=null),void 0===gt&&(gt=nt);var wt=new h(this,!0,Y,X,nt,ht,gt);return this.colliders.add(wt),wt},removeCollider:function(Y){return this.colliders.remove(Y),this},setFPS:function(Y){return this.fps=Y,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(Y,X){if(!this.isPaused&&0!==this.bodies.size){var nt,ht=this._frameTime,gt=this._frameTimeMS*this.timeScale;this._elapsed+=X;var wt,St=this.bodies.entries,Vt=this._elapsed>=gt;for(this.fixedStep||(ht=.001*X,Vt=!0,this._elapsed=0),nt=0;nt<St.length;nt++)(wt=St[nt]).enable&&wt.preUpdate(Vt,ht);if(Vt){this._elapsed-=gt,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(St));var Zt=this.colliders.update();for(nt=0;nt<Zt.length;nt++){var Jt=Zt[nt];Jt.active&&Jt.update()}this.emit(g.WORLD_STEP,ht)}for(;this._elapsed>=gt;)this._elapsed-=gt,this.step(ht)}},step:function(Y){var X,nt,ht=this.bodies.entries,gt=ht.length;for(X=0;X<gt;X++)(nt=ht[X]).enable&&nt.update(Y);this.useTree&&(this.tree.clear(),this.tree.load(ht));var wt=this.colliders.update();for(X=0;X<wt.length;X++){var St=wt[X];St.active&&St.update()}this.emit(g.WORLD_STEP,Y),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var Y,X,nt=this.bodies.entries,ht=nt.length,gt=this.bodies,wt=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,Y=0;Y<ht;Y++)(X=nt[Y]).enable&&X.postUpdate();if(this.drawDebug){var St=this.debugGraphic;for(St.clear(),Y=0;Y<ht;Y++)(X=nt[Y]).willDrawDebug()&&X.drawDebug(St);for(ht=(nt=wt.entries).length,Y=0;Y<ht;Y++)(X=nt[Y]).willDrawDebug()&&X.drawDebug(St)}var Vt=this.pendingDestroy;if(Vt.size>0){var Zt=this.tree,Jt=this.staticTree;for(ht=(nt=Vt.entries).length,Y=0;Y<ht;Y++)(X=nt[Y]).physicsType===c.DYNAMIC_BODY?(Zt.remove(X),gt.delete(X)):X.physicsType===c.STATIC_BODY&&(Jt.remove(X),wt.delete(X)),X.world=void 0,X.gameObject=void 0;Vt.clear()}},updateMotion:function(Y,X){Y.allowRotation&&this.computeAngularVelocity(Y,X),this.computeVelocity(Y,X)},computeAngularVelocity:function(Y,X){var nt=Y.angularVelocity,ht=Y.angularAcceleration,gt=Y.angularDrag,wt=Y.maxAngular;ht?nt+=ht*X:Y.allowDrag&&gt&&(x(nt-(gt*=X),0,.1)?nt-=gt:b(nt+gt,0,.1)?nt+=gt:nt=0),nt=m(nt,-wt,wt),Y.angularVelocity+=nt-Y.angularVelocity,Y.rotation+=Y.angularVelocity*X},computeVelocity:function(Y,X){var nt=Y.velocity.x,ht=Y.acceleration.x,gt=Y.drag.x,wt=Y.maxVelocity.x,St=Y.velocity.y,Vt=Y.acceleration.y,Zt=Y.drag.y,Jt=Y.maxVelocity.y,ie=Y.speed,ae=Y.maxSpeed,fe=Y.allowDrag,Pe=Y.useDamping;Y.allowGravity&&(nt+=(this.gravity.x+Y.gravity.x)*X,St+=(this.gravity.y+Y.gravity.y)*X),ht?nt+=ht*X:fe&&gt&&(Pe?(nt*=gt=Math.pow(gt,X),ie=Math.sqrt(nt*nt+St*St),v(ie,0,.001)&&(nt=0)):x(nt-(gt*=X),0,.01)?nt-=gt:b(nt+gt,0,.01)?nt+=gt:nt=0),Vt?St+=Vt*X:fe&&Zt&&(Pe?(St*=Zt=Math.pow(Zt,X),ie=Math.sqrt(nt*nt+St*St),v(ie,0,.001)&&(St=0)):x(St-(Zt*=X),0,.01)?St-=Zt:b(St+Zt,0,.01)?St+=Zt:St=0),nt=m(nt,-wt,wt),St=m(St,-Jt,Jt),Y.velocity.set(nt,St),ae>-1&&Y.velocity.length()>ae&&(Y.velocity.normalize().scale(ae),ie=ae),Y.speed=ie},separate:function(Y,X,nt,ht,gt){var wt,St,Vt=!1,Zt=!0;if(!Y.enable||!X.enable||Y.checkCollision.none||X.checkCollision.none||!this.intersects(Y,X)||nt&&!1===nt.call(ht,Y.gameObject||Y,X.gameObject||X))return Vt;if(Y.isCircle||X.isCircle){var Jt=this.separateCircle(Y,X,gt);Jt.result?(Vt=!0,Zt=!1):(wt=Jt.x,St=Jt.y,Zt=!0)}if(Zt){var ie=!1,ae=!1,fe=this.OVERLAP_BIAS;gt?(ie=G(Y,X,gt,fe,wt),ae=Q(Y,X,gt,fe,St)):this.forceX||Math.abs(this.gravity.y+Y.gravity.y)<Math.abs(this.gravity.x+Y.gravity.x)?(ie=G(Y,X,gt,fe,wt),this.intersects(Y,X)&&(ae=Q(Y,X,gt,fe,St))):(ae=Q(Y,X,gt,fe,St),this.intersects(Y,X)&&(ie=G(Y,X,gt,fe,wt))),Vt=ie||ae}return Vt&&(gt?(Y.onOverlap||X.onOverlap)&&this.emit(g.OVERLAP,Y.gameObject,X.gameObject,Y,X):(Y.onCollide||X.onCollide)&&this.emit(g.COLLIDE,Y.gameObject,X.gameObject,Y,X)),Vt},separateCircle:function(Y,X,nt){_(Y,X,!1,0),E(Y,X,!1,0);var gt=X.isCircle,wt=Y.center,St=X.center,Vt=Y.immovable,Zt=X.immovable,Jt=Y.velocity,ie=X.velocity,ae=0,fe=!0;if(Y.isCircle!==gt){fe=!1;var Pe=wt.x,Xe=wt.y,Re=Y.halfWidth,$e=X.position.x,Ce=X.position.y,Je=X.right,ii=X.bottom;gt&&(Pe=St.x,Xe=St.y,Re=X.halfWidth,$e=Y.position.x,Ce=Y.position.y,Je=Y.right,ii=Y.bottom),Xe<Ce?Pe<$e?ae=u(Pe,Xe,$e,Ce)-Re:Pe>Je&&(ae=u(Pe,Xe,Je,Ce)-Re):Xe>ii&&(Pe<$e?ae=u(Pe,Xe,$e,ii)-Re:Pe>Je&&(ae=u(Pe,Xe,Je,ii)-Re)),ae*=-1}else ae=Y.halfWidth+X.halfWidth-p(wt,St);Y.overlapR=ae,X.overlapR=ae;var Ni=y(wt,St),Ji=(ae+I.EPSILON)*Math.cos(Ni),an=(ae+I.EPSILON)*Math.sin(Ni),on={overlap:ae,result:!1,x:Ji,y:an};if(nt&&(!fe||fe&&0!==ae))return on.result=!0,on;if(!fe&&0===ae||Vt&&Zt||Y.customSeparateX||X.customSeparateX)return on.x=void 0,on.y=void 0,on;var dn=!Y.pushable&&!X.pushable;if(fe){var Ur=wt.y-St.y,un=Math.sqrt(Math.pow(wt.x-St.x,2)+Math.pow(Ur,2)),sr=(St.x-wt.x)/un||0,Or=(St.y-wt.y)/un||0,bs=2*(Jt.x*sr+Jt.y*Or-ie.x*sr-ie.y*Or)/(Y.mass+X.mass);(Vt||Zt||!Y.pushable||!X.pushable)&&(bs*=2),!Vt&&Y.pushable&&(Jt.x=Jt.x-bs/Y.mass*sr,Jt.y=Jt.y-bs/Y.mass*Or,Jt.multiply(Y.bounce)),!Zt&&X.pushable&&(ie.x=ie.x+bs/X.mass*sr,ie.y=ie.y+bs/X.mass*Or,ie.multiply(X.bounce)),!Vt&&!Zt&&(Ji*=.5,an*=.5),!Vt||Y.pushable||dn?(Y.x-=Ji,Y.y-=an,Y.updateCenter()):(!Zt||X.pushable||dn)&&(X.x+=Ji,X.y+=an,X.updateCenter()),on.result=!0}else!Vt||Y.pushable||dn?(Y.x-=Ji,Y.y-=an,Y.updateCenter()):(!Zt||X.pushable||dn)&&(X.x+=Ji,X.y+=an,X.updateCenter()),on.x=void 0,on.y=void 0;return on},intersects:function(Y,X){return Y!==X&&(Y.isCircle||X.isCircle?Y.isCircle?X.isCircle?p(Y.center,X.center)<=Y.halfWidth+X.halfWidth:this.circleBodyIntersects(Y,X):this.circleBodyIntersects(X,Y):!(Y.right<=X.left||Y.bottom<=X.top||Y.left>=X.right||Y.top>=X.bottom))},circleBodyIntersects:function(Y,X){var nt=m(Y.center.x,X.left,X.right),ht=m(Y.center.y,X.top,X.bottom);return(Y.center.x-nt)*(Y.center.x-nt)+(Y.center.y-ht)*(Y.center.y-ht)<=Y.halfWidth*Y.halfWidth},overlap:function(Y,X,nt,ht,gt){return void 0===nt&&(nt=null),void 0===ht&&(ht=null),void 0===gt&&(gt=nt),this.collideObjects(Y,X,nt,ht,gt,!0)},collide:function(Y,X,nt,ht,gt){return void 0===nt&&(nt=null),void 0===ht&&(ht=null),void 0===gt&&(gt=nt),this.collideObjects(Y,X,nt,ht,gt,!1)},collideObjects:function(Y,X,nt,ht,gt,wt){var St,Vt;Y.isParent&&(void 0===Y.physicsType||void 0===X||Y===X)&&(Y=Y.children.entries),X&&X.isParent&&void 0===X.physicsType&&(X=X.children.entries);var Zt=Array.isArray(Y),Jt=Array.isArray(X);if(this._total=0,Zt||Jt)if(!Zt&&Jt)for(St=0;St<X.length;St++)this.collideHandler(Y,X[St],nt,ht,gt,wt);else if(Zt&&!Jt)if(X)for(St=0;St<Y.length;St++)this.collideHandler(Y[St],X,nt,ht,gt,wt);else for(St=0;St<Y.length;St++){var ie=Y[St];for(Vt=St+1;Vt<Y.length;Vt++)St!==Vt&&this.collideHandler(ie,Y[Vt],nt,ht,gt,wt)}else for(St=0;St<Y.length;St++)for(Vt=0;Vt<X.length;Vt++)this.collideHandler(Y[St],X[Vt],nt,ht,gt,wt);else this.collideHandler(Y,X,nt,ht,gt,wt);return this._total>0},collideHandler:function(Y,X,nt,ht,gt,wt){if(void 0===X&&Y.isParent)return this.collideGroupVsGroup(Y,Y,nt,ht,gt,wt);if(!Y||!X)return!1;if(Y.body||Y.isBody){if(X.body||X.isBody)return this.collideSpriteVsSprite(Y,X,nt,ht,gt,wt);if(X.isParent)return this.collideSpriteVsGroup(Y,X,nt,ht,gt,wt);if(X.isTilemap)return this.collideSpriteVsTilemapLayer(Y,X,nt,ht,gt,wt)}else if(Y.isParent){if(X.body||X.isBody)return this.collideSpriteVsGroup(X,Y,nt,ht,gt,wt);if(X.isParent)return this.collideGroupVsGroup(Y,X,nt,ht,gt,wt);if(X.isTilemap)return this.collideGroupVsTilemapLayer(Y,X,nt,ht,gt,wt)}else if(Y.isTilemap){if(X.body||X.isBody)return this.collideSpriteVsTilemapLayer(X,Y,nt,ht,gt,wt);if(X.isParent)return this.collideGroupVsTilemapLayer(X,Y,nt,ht,gt,wt)}},canCollide:function(Y,X){return Y&&X&&!!(Y.collisionMask&X.collisionCategory)&&!!(X.collisionMask&Y.collisionCategory)},collideSpriteVsSprite:function(Y,X,nt,ht,gt,wt){var St=Y.isBody?Y:Y.body,Vt=X.isBody?X:X.body;return!!this.canCollide(St,Vt)&&(this.separate(St,Vt,ht,gt,wt)&&(nt&&nt.call(gt,Y,X),this._total++),!0)},collideSpriteVsGroup:function(Y,X,nt,ht,gt,wt){var Vt,Zt,Jt,St=Y.isBody?Y:Y.body;if(0!==X.getLength()&&St&&St.enable&&!St.checkCollision.none&&this.canCollide(St,X))if(this.useTree||X.physicsType===c.STATIC_BODY){var ie=this.treeMinMax;ie.minX=St.left,ie.minY=St.top,ie.maxX=St.right,ie.maxY=St.bottom;var ae=X.physicsType===c.DYNAMIC_BODY?this.tree.search(ie):this.staticTree.search(ie);for(Zt=ae.length,Vt=0;Vt<Zt;Vt++)St!==(Jt=ae[Vt])&&Jt.enable&&!Jt.checkCollision.none&&X.contains(Jt.gameObject)&&this.separate(St,Jt,ht,gt,wt)&&(nt&&nt.call(gt,St.gameObject,Jt.gameObject),this._total++)}else{var fe=X.getChildren(),Pe=X.children.entries.indexOf(Y);for(Zt=fe.length,Vt=0;Vt<Zt;Vt++)(Jt=fe[Vt].body)&&Vt!==Pe&&Jt.enable&&this.separate(St,Jt,ht,gt,wt)&&(nt&&nt.call(gt,St.gameObject,Jt.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(Y,X,nt,ht,gt,wt){if(!this.canCollide(Y,X))return!1;var St=Y.getChildren();if(0===St.length)return!1;for(var Vt=!1,Zt=0;Zt<St.length;Zt++)(St[Zt].body||St[Zt].isBody)&&this.collideSpriteVsTilemapLayer(St[Zt],X,nt,ht,gt,wt)&&(Vt=!0);return Vt},collideTiles:function(Y,X,nt,ht,gt){return!(0===X.length||Y.body&&!Y.body.enable||Y.isBody&&!Y.enable)&&this.collideSpriteVsTilesHandler(Y,X,nt,ht,gt,!1,!1)},overlapTiles:function(Y,X,nt,ht,gt){return!(0===X.length||Y.body&&!Y.body.enable||Y.isBody&&!Y.enable)&&this.collideSpriteVsTilesHandler(Y,X,nt,ht,gt,!0,!1)},collideSpriteVsTilemapLayer:function(Y,X,nt,ht,gt,wt){var St=Y.isBody?Y:Y.body;if(!St.enable||St.checkCollision.none||!this.canCollide(St,X))return!1;var Vt=X.layer,Pe=A(St.x-Vt.tileWidth*X.scaleX,St.y-Vt.tileHeight*X.scaleY,St.width+Vt.tileWidth*X.scaleX,St.height+Vt.tileHeight*X.scaleY,wt?null:this.tileFilterOptions,X.scene.cameras.main,X.layer);return 0!==Pe.length&&this.collideSpriteVsTilesHandler(Y,Pe,nt,ht,gt,wt,!0)},collideSpriteVsTilesHandler:function(Y,X,nt,ht,gt,wt,St){for(var Zt,ie,Vt=Y.isBody?Y:Y.body,Jt={left:0,right:0,top:0,bottom:0},ae=!1,fe=0;fe<X.length;fe++){var Pe=(ie=(Zt=X[fe]).tilemapLayer).tileToWorldXY(Zt.x,Zt.y);Jt.left=Pe.x,Jt.top=Pe.y,Jt.right=Jt.left+Zt.width*ie.scaleX,Jt.bottom=Jt.top+Zt.height*ie.scaleY,tt(Jt,Vt)&&(!ht||ht.call(gt,Y,Zt))&&F(Zt,Y)&&(wt||B(fe,Vt,Zt,Jt,ie,this.TILE_BIAS,St))&&(this._total++,ae=!0,nt&&nt.call(gt,Y,Zt),wt&&Vt.onOverlap?this.emit(g.TILE_OVERLAP,Y,Zt,Vt):Vt.onCollide&&this.emit(g.TILE_COLLIDE,Y,Zt,Vt))}return ae},collideGroupVsGroup:function(Y,X,nt,ht,gt,wt){if(0!==Y.getLength()&&0!==X.getLength()&&this.canCollide(Y,X))for(var St=Y.getChildren(),Vt=0;Vt<St.length;Vt++)this.collideSpriteVsGroup(St[Vt],X,nt,ht,gt,wt)},wrap:function(Y,X){Y.body?this.wrapObject(Y,X):Y.getChildren?this.wrapArray(Y.getChildren(),X):Array.isArray(Y)?this.wrapArray(Y,X):this.wrapObject(Y,X)},wrapArray:function(Y,X){for(var nt=0;nt<Y.length;nt++)this.wrapObject(Y[nt],X)},wrapObject:function(Y,X){void 0===X&&(X=0),Y.x=J(Y.x,this.bounds.left-X,this.bounds.right+X),Y.y=J(Y.y,this.bounds.top-X,this.bounds.bottom+X)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});C.exports=it},1093:C=>{C.exports={setAcceleration:function(a,y){return this.body.acceleration.set(a,y),this},setAccelerationX:function(a){return this.body.acceleration.x=a,this},setAccelerationY:function(a){return this.body.acceleration.y=a,this}}},59023:C=>{C.exports={setAngularVelocity:function(a){return this.body.angularVelocity=a,this},setAngularAcceleration:function(a){return this.body.angularAcceleration=a,this},setAngularDrag:function(a){return this.body.angularDrag=a,this}}},62069:C=>{C.exports={setBounce:function(a,y){return this.body.bounce.set(a,y),this},setBounceX:function(a){return this.body.bounce.x=a,this},setBounceY:function(a){return this.body.bounce.y=a,this},setCollideWorldBounds:function(a,y,T,m){return this.body.setCollideWorldBounds(a,y,T,m),this}}},78389:(C,k,a)=>{var y=a(79599);C.exports={setCollisionCategory:function(m){return(this.body?this.body:this).collisionCategory=m,this},willCollideWith:function(m){return!!((this.body?this.body:this).collisionMask&m)},addCollidesWith:function(m){var f=this.body?this.body:this;return f.collisionMask=f.collisionMask|m,this},removeCollidesWith:function(m){var f=this.body?this.body:this;return f.collisionMask=f.collisionMask&~m,this},setCollidesWith:function(m){return(this.body?this.body:this).collisionMask=y(m),this},resetCollisionCategory:function(){var m=this.body?this.body:this;return m.collisionCategory=1,m.collisionMask=2147483647,this}}},87118:C=>{C.exports={setDebug:function(a,y,T){return this.debugShowBody=a,this.debugShowVelocity=y,this.debugBodyColor=T,this},setDebugBodyColor:function(a){return this.body.debugBodyColor=a,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(a){this.body.debugShowBody=a}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(a){this.body.debugShowVelocity=a}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(a){this.body.debugBodyColor=a}}}},52819:C=>{C.exports={setDrag:function(a,y){return this.body.drag.set(a,y),this},setDragX:function(a){return this.body.drag.x=a,this},setDragY:function(a){return this.body.drag.y=a,this},setDamping:function(a){return this.body.useDamping=a,this}}},4074:C=>{C.exports={setDirectControl:function(a){return this.body.setDirectControl(a),this},enableBody:function(a,y,T,m,f){return a&&this.body.reset(y,T),m&&(this.body.gameObject.active=!0),f&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(a,y){return void 0===a&&(a=!1),void 0===y&&(y=!1),this.body.stop(),this.body.enable=!1,a&&(this.body.gameObject.active=!1),y&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}}},40831:C=>{C.exports={setFriction:function(a,y){return this.body.friction.set(a,y),this},setFrictionX:function(a){return this.body.friction.x=a,this},setFrictionY:function(a){return this.body.friction.y=a,this}}},26775:C=>{C.exports={setGravity:function(a,y){return this.body.gravity.set(a,y),this},setGravityX:function(a){return this.body.gravity.x=a,this},setGravityY:function(a){return this.body.gravity.y=a,this}}},9437:C=>{C.exports={setImmovable:function(a){return void 0===a&&(a=!0),this.body.immovable=a,this}}},30621:C=>{C.exports={setMass:function(a){return this.body.mass=a,this}}},72441:(C,k,a)=>{var y=a(47956),T=a(96503),m=a(2044),f=a(81491);C.exports=function(c,u,p,d,g,v){var x=y(c,u-d,p-d,2*d,2*d,g,v);if(0===x.length)return x;for(var b=new T(u,p,d),_=new T,E=[],A=0;A<x.length;A++){var D=x[A];D.isCircle?(_.setTo(D.center.x,D.center.y,D.halfWidth),m(b,_)&&E.push(D)):f(b,D)&&E.push(D)}return E}},47956:C=>{C.exports=function(a,y,T,m,f,h,c){void 0===h&&(h=!0),void 0===c&&(c=!1);var u=[],p=[],d=a.treeMinMax;if(d.minX=y,d.minY=T,d.maxX=y+m,d.maxY=T+f,c&&(p=a.staticTree.search(d)),h&&a.useTree)u=a.tree.search(d);else if(h){var v={position:{x:y,y:T},left:y,top:T,right:y+m,bottom:T+f,isCircle:!1},x=a.intersects;a.bodies.iterate(function(b){x(b,v)&&u.push(b)})}return p.concat(u)}},62121:C=>{C.exports={setPushable:function(a){return void 0===a&&(a=!0),this.body.pushable=a,this}}},29384:C=>{C.exports={setOffset:function(a,y){return this.body.setOffset(a,y),this},setSize:function(a,y,T){return this.body.setSize(a,y,T),this},setBodySize:function(a,y,T){return this.body.setSize(a,y,T),this},setCircle:function(a,y,T){return this.body.setCircle(a,y,T),this}}},15098:C=>{C.exports={setVelocity:function(a,y){return this.body.setVelocity(a,y),this},setVelocityX:function(a){return this.body.setVelocityX(a),this},setVelocityY:function(a){return this.body.setVelocityY(a),this},setMaxVelocity:function(a,y){return this.body.maxVelocity.set(a,y),this}}},92209:(C,k,a)=>{C.exports={Acceleration:a(1093),Angular:a(59023),Bounce:a(62069),Collision:a(78389),Debug:a(87118),Drag:a(52819),Enable:a(4074),Friction:a(40831),Gravity:a(26775),Immovable:a(9437),Mass:a(30621),OverlapCirc:a(72441),OverlapRect:a(47956),Pushable:a(62121),Size:a(29384),Velocity:a(15098)}},37747:C=>{C.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},20009:C=>{C.exports="collide"},36768:C=>{C.exports="overlap"},60473:C=>{C.exports="pause"},89954:C=>{C.exports="resume"},61804:C=>{C.exports="tilecollide"},7161:C=>{C.exports="tileoverlap"},34689:C=>{C.exports="worldbounds"},16006:C=>{C.exports="worldstep"},63012:(C,k,a)=>{C.exports={COLLIDE:a(20009),OVERLAP:a(36768),PAUSE:a(60473),RESUME:a(89954),TILE_COLLIDE:a(61804),TILE_OVERLAP:a(7161),WORLD_BOUNDS:a(34689),WORLD_STEP:a(16006)}},27064:(C,k,a)=>{var y=a(37747),T=a(79291),m={ArcadePhysics:a(86689),Body:a(37742),Collider:a(79342),Components:a(92209),Events:a(63012),Factory:a(66022),GetCollidesWith:a(79599),GetOverlapX:a(64897),GetOverlapY:a(45170),SeparateX:a(14087),SeparateY:a(89936),Group:a(60758),Image:a(71289),Sprite:a(13759),StaticBody:a(72624),StaticGroup:a(71464),Tilemap:a(55173),World:a(82248)};m=T(!1,m,y),C.exports=m},96602:C=>{C.exports=function(a,y){return a.collisionCallback?!a.collisionCallback.call(a.collisionCallbackContext,y,a):!a.layer.callbacks[a.index]||!a.layer.callbacks[a.index].callback.call(a.layer.callbacks[a.index].callbackContext,y,a)}},36294:C=>{C.exports=function(a,y){y<0?(a.blocked.none=!1,a.blocked.left=!0):y>0&&(a.blocked.none=!1,a.blocked.right=!0),a.position.x-=y,a.updateCenter(),a.velocity.x=0===a.bounce.x?0:-a.velocity.x*a.bounce.x}},67013:C=>{C.exports=function(a,y){y<0?(a.blocked.none=!1,a.blocked.up=!0):y>0&&(a.blocked.none=!1,a.blocked.down=!0),a.position.y-=y,a.updateCenter(),a.velocity.y=0===a.bounce.y?0:-a.velocity.y*a.bounce.y}},40012:(C,k,a)=>{var y=a(21329),T=a(53442),m=a(2483);C.exports=function(h,c,u,p,d,g,v){var x=p.left,b=p.top,_=p.right,E=p.bottom,A=u.faceLeft||u.faceRight,D=u.faceTop||u.faceBottom;if(v||(A=!0,D=!0),!A&&!D)return!1;var I=0,R=0,F=0,L=1;if(c.deltaAbsX()>c.deltaAbsY()?F=-1:c.deltaAbsX()<c.deltaAbsY()&&(L=-1),0!==c.deltaX()&&0!==c.deltaY()&&A&&D&&(F=Math.min(Math.abs(c.position.x-_),Math.abs(c.right-x)),L=Math.min(Math.abs(c.position.y-E),Math.abs(c.bottom-b))),F<L){if(A&&0!==(I=y(c,u,x,_,g,v))&&!m(p,c))return!0;D&&(R=T(c,u,b,E,g,v))}else{if(D&&0!==(R=T(c,u,b,E,g,v))&&!m(p,c))return!0;A&&(I=y(c,u,x,_,g,v))}return 0!==I||0!==R}},21329:(C,k,a)=>{var y=a(36294);C.exports=function(m,f,h,c,u,p){var d=0,g=f.faceLeft,v=f.faceRight,x=f.collideLeft,b=f.collideRight;return p||(g=!0,v=!0,x=!0,b=!0),m.deltaX()<0&&b&&m.checkCollision.left?v&&m.x<c&&(d=m.x-c)<-u&&(d=0):m.deltaX()>0&&x&&m.checkCollision.right&&g&&m.right>h&&(d=m.right-h)>u&&(d=0),0!==d&&(m.customSeparateX?m.overlapX=d:y(m,d)),d}},53442:(C,k,a)=>{var y=a(67013);C.exports=function(m,f,h,c,u,p){var d=0,g=f.faceTop,v=f.faceBottom,x=f.collideUp,b=f.collideDown;return p||(g=!0,v=!0,x=!0,b=!0),m.deltaY()<0&&b&&m.checkCollision.up?v&&m.y<c&&(d=m.y-c)<-u&&(d=0):m.deltaY()>0&&x&&m.checkCollision.down&&g&&m.bottom>h&&(d=m.bottom-h)>u&&(d=0),0!==d&&(m.customSeparateY?m.overlapY=d:y(m,d)),d}},2483:C=>{C.exports=function(a,y){return!(y.right<=a.left||y.bottom<=a.top||y.position.x>=a.right||y.position.y>=a.bottom)}},55173:(C,k,a)=>{var y={ProcessTileCallbacks:a(96602),ProcessTileSeparationX:a(36294),ProcessTileSeparationY:a(67013),SeparateTile:a(40012),TileCheckX:a(21329),TileCheckY:a(53442),TileIntersectsBody:a(2483)};C.exports=y},44563:(C,k,a)=>{C.exports={Arcade:a(27064),Matter:a(3875)}},68174:(C,k,a)=>{var y=a(83419),T=a(26099),m=new y({initialize:function(){this.boundsCenter=new T,this.centerDiff=new T},parseBody:function(f){if(!(f=f.hasOwnProperty("body")?f.body:f).hasOwnProperty("bounds")||!f.hasOwnProperty("centerOfMass"))return!1;var h=this.boundsCenter,c=this.centerDiff,u=f.bounds.max.x-f.bounds.min.x,p=f.bounds.max.y-f.bounds.min.y,d=u*f.centerOfMass.x,g=p*f.centerOfMass.y;return h.set(u/2,p/2),c.set(d-h.x,g-h.y),!0},getTopLeft:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var u=this.boundsCenter,p=this.centerDiff;return new T(h+u.x+p.x,c+u.y+p.y)}return!1},getTopCenter:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var p=this.centerDiff;return new T(h+p.x,c+this.boundsCenter.y+p.y)}return!1},getTopRight:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var u=this.boundsCenter,p=this.centerDiff;return new T(h-(u.x-p.x),c+u.y+p.y)}return!1},getLeftCenter:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var p=this.centerDiff;return new T(h+this.boundsCenter.x+p.x,c+p.y)}return!1},getCenter:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var u=this.centerDiff;return new T(h+u.x,c+u.y)}return!1},getRightCenter:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var p=this.centerDiff;return new T(h-(this.boundsCenter.x-p.x),c+p.y)}return!1},getBottomLeft:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var u=this.boundsCenter,p=this.centerDiff;return new T(h+u.x+p.x,c-(u.y-p.y))}return!1},getBottomCenter:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var p=this.centerDiff;return new T(h+p.x,c-(this.boundsCenter.y-p.y))}return!1},getBottomRight:function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),this.parseBody(f)){var u=this.boundsCenter,p=this.centerDiff;return new T(h-(u.x-p.x),c-(u.y-p.y))}return!1}});C.exports=m},19933:(C,k,a)=>{var y=a(6790);y.Body=a(22562),y.Composite=a(69351),y.World=a(4372),y.Collision=a(52284),y.Detector=a(81388),y.Pairs=a(99561),y.Pair=a(4506),y.Query=a(73296),y.Resolver=a(66272),y.Constraint=a(48140),y.Common=a(53402),y.Engine=a(48413),y.Events=a(35810),y.Sleeping=a(53614),y.Plugin=a(73832),y.Bodies=a(66280),y.Composites=a(74116),y.Axes=a(66615),y.Bounds=a(15647),y.Svg=a(74058),y.Vector=a(31725),y.Vertices=a(41598),y.World.add=y.Composite.add,y.World.remove=y.Composite.remove,y.World.addComposite=y.Composite.addComposite,y.World.addBody=y.Composite.addBody,y.World.addConstraint=y.Composite.addConstraint,y.World.clear=y.Composite.clear,C.exports=y},28137:(C,k,a)=>{var y=a(66280),T=a(83419),m=a(74116),f=a(48140),h=a(74058),c=a(75803),u=a(23181),p=a(34803),d=a(73834),g=a(19496),v=a(85791),x=a(98713),b=a(41598),_=new T({initialize:function(A){this.world=A,this.scene=A.scene,this.sys=A.scene.sys},rectangle:function(E,A,D,I,R){var F=y.rectangle(E,A,D,I,R);return this.world.add(F),F},trapezoid:function(E,A,D,I,R,F){var L=y.trapezoid(E,A,D,I,R,F);return this.world.add(L),L},circle:function(E,A,D,I,R){var F=y.circle(E,A,D,I,R);return this.world.add(F),F},polygon:function(E,A,D,I,R){var F=y.polygon(E,A,D,I,R);return this.world.add(F),F},fromVertices:function(E,A,D,I,R,F,L){"string"==typeof D&&(D=b.fromPath(D));var V=y.fromVertices(E,A,D,I,R,F,L);return this.world.add(V),V},fromPhysicsEditor:function(E,A,D,I,R){void 0===R&&(R=!0);var F=g.parseBody(E,A,D,I);return R&&!this.world.has(F)&&this.world.add(F),F},fromSVG:function(E,A,D,I,R,F){void 0===I&&(I=1),void 0===R&&(R={}),void 0===F&&(F=!0);for(var L=D.getElementsByTagName("path"),V=[],B=0;B<L.length;B++){var G=h.pathToVertices(L[B],30);1!==I&&b.scale(G,I,I),V.push(G)}var Q=y.fromVertices(E,A,V,R);return F&&this.world.add(Q),Q},fromJSON:function(E,A,D,I,R){void 0===I&&(I={}),void 0===R&&(R=!0);var F=v.parseBody(E,A,D,I);return F&&R&&this.world.add(F),F},imageStack:function(E,A,D,I,R,F,L,V,B){void 0===L&&(L=0),void 0===V&&(V=0),void 0===B&&(B={});var G=this.world,Q=this.sys.displayList;B.addToWorld=!1;var H=m.stack(D,I,R,F,L,V,function(K,tt){var at=new u(G,K,tt,E,A,B);return Q.add(at),at.body});return G.add(H),H},stack:function(E,A,D,I,R,F,L){var V=m.stack(E,A,D,I,R,F,L);return this.world.add(V),V},pyramid:function(E,A,D,I,R,F,L){var V=m.pyramid(E,A,D,I,R,F,L);return this.world.add(V),V},chain:function(E,A,D,I,R,F){return m.chain(E,A,D,I,R,F)},mesh:function(E,A,D,I,R){return m.mesh(E,A,D,I,R)},newtonsCradle:function(E,A,D,I,R){var F=m.newtonsCradle(E,A,D,I,R);return this.world.add(F),F},car:function(E,A,D,I,R){var F=m.car(E,A,D,I,R);return this.world.add(F),F},softBody:function(E,A,D,I,R,F,L,V,B,G){var Q=m.softBody(E,A,D,I,R,F,L,V,B,G);return this.world.add(Q),Q},joint:function(E,A,D,I,R){return this.constraint(E,A,D,I,R)},spring:function(E,A,D,I,R){return this.constraint(E,A,D,I,R)},constraint:function(E,A,D,I,R){void 0===I&&(I=1),void 0===R&&(R={}),R.bodyA="body"===E.type?E:E.body,R.bodyB="body"===A.type?A:A.body,isNaN(D)||(R.length=D),R.stiffness=I;var F=f.create(R);return this.world.add(F),F},worldConstraint:function(E,A,D,I){void 0===D&&(D=1),void 0===I&&(I={}),I.bodyB="body"===E.type?E:E.body,isNaN(A)||(I.length=A),I.stiffness=D;var R=f.create(I);return this.world.add(R),R},mouseSpring:function(E){return this.pointerConstraint(E)},pointerConstraint:function(E){void 0===E&&(E={}),E.hasOwnProperty("render")||(E.render={visible:!1});var A=new x(this.scene,this.world,E);return this.world.add(A.constraint),A},image:function(E,A,D,I,R){var F=new u(this.world,E,A,D,I,R);return this.sys.displayList.add(F),F},tileBody:function(E,A){return new d(this.world,E,A)},sprite:function(E,A,D,I,R){var F=new p(this.world,E,A,D,I,R);return this.sys.displayList.add(F),this.sys.updateList.add(F),F},gameObject:function(E,A,D){return c(this.world,E,A,D)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});C.exports=_},75803:(C,k,a)=>{var y=a(31884),T=a(95540),m=a(26099);function f(c){return!!c.get&&"function"==typeof c.get||!!c.set&&"function"==typeof c.set}C.exports=function(c,u,p,d){void 0===p&&(p={}),void 0===d&&(d=!0);var g=u.x,v=u.y;if(u.body={temp:!0,position:{x:g,y:v}},[y.Bounce,y.Collision,y.Force,y.Friction,y.Gravity,y.Mass,y.Sensor,y.SetBody,y.Sleep,y.Static,y.Transform,y.Velocity].forEach(function(_){for(var E in _)f(_[E])?Object.defineProperty(u,E,{get:_[E].get,set:_[E].set}):Object.defineProperty(u,E,{value:_[E]})}),u.world=c,u._tempVec2=new m(g,v),p.hasOwnProperty("type")&&"body"===p.type)u.setExistingBody(p,d);else{var b=T(p,"shape",null);b||(b="rectangle"),p.addToWorld=d,u.setBody(b,p)}return u}},23181:(C,k,a)=>{var y=a(83419),T=a(31884),m=a(95643),f=a(95540),h=a(88571),c=a(72699),u=a(26099),p=new y({Extends:h,Mixins:[T.Bounce,T.Collision,T.Force,T.Friction,T.Gravity,T.Mass,T.Sensor,T.SetBody,T.Sleep,T.Static,T.Transform,T.Velocity,c],initialize:function(g,v,x,b,_,E){m.call(this,g.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(b,_),this.setSizeToFrame(),this.setOrigin(),this.world=g,this._tempVec2=new u(v,x);var A=f(E,"shape",null);A?this.setBody(A,E):this.setRectangle(this.width,this.height,E),this.setPosition(v,x),this.initPipeline(),this.initPostPipeline(!0)}});C.exports=p},42045:(C,k,a)=>{var y=a(60461),T=a(66615),m=a(66280),f=a(22562),h=a(68174),c=a(15647),u=a(83419),p=a(52284),d=a(53402),g=a(69351),v=a(74116),x=a(48140),b=a(81388),_=a(20339),E=a(28137),A=a(95540),D=a(35154),I=a(46975),R=a(4506),F=a(99561),L=a(37277),V=a(73296),B=a(66272),G=a(44594),Q=a(74058),H=a(31725),K=a(41598),tt=a(68243);d.setDecomp(a(55973));var at=new u({initialize:function(J){this.scene=J,this.systems=J.sys,this.config=this.getConfig(),this.body=f,this.composite=g,this.collision=p,this.detector=b,this.pair=R,this.pairs=F,this.query=V,this.resolver=B,this.constraint=x,this.bodies=m,this.composites=v,this.axes=T,this.bounds=c,this.svg=Q,this.vector=H,this.vertices=K,this.verts=K,this._tempVec2=H.create(),B._restingThresh=D(this.config,"restingThresh",4),B._restingThreshTangent=D(this.config,"restingThreshTangent",6),B._positionDampen=D(this.config,"positionDampen",.9),B._positionWarming=D(this.config,"positionWarming",.8),B._frictionNormalMultiplier=D(this.config,"frictionNormalMultiplier",5),J.sys.events.once(G.BOOT,this.boot,this),J.sys.events.on(G.START,this.start,this)},boot:function(){this.world=new tt(this.scene,this.config),this.add=new E(this.world),this.bodyBounds=new h,this.systems.events.once(G.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new tt(this.scene,this.config),this.add=new E(this.world));var lt=this.systems.events;lt.on(G.UPDATE,this.world.update,this.world),lt.on(G.POST_UPDATE,this.world.postUpdate,this.world),lt.once(G.SHUTDOWN,this.shutdown,this)},getConfig:function(){var lt=this.systems.game.config.physics;return I(A(this.systems.settings.physics,"matter",{}),A(lt,"matter",{}))},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(lt,J){this.world.step(lt,J)},containsPoint:function(lt,J,it){lt=this.getMatterBodies(lt);var Y=H.create(J,it);return V.point(lt,Y).length>0},intersectPoint:function(lt,J,it){it=this.getMatterBodies(it);var Y=H.create(lt,J),X=[];return V.point(it,Y).forEach(function(ht){-1===X.indexOf(ht)&&X.push(ht)}),X},intersectRect:function(lt,J,it,Y,X,nt){void 0===X&&(X=!1),nt=this.getMatterBodies(nt);var gt=[];return V.region(nt,{min:{x:lt,y:J},max:{x:lt+it,y:J+Y}},X).forEach(function(St){-1===gt.indexOf(St)&&gt.push(St)}),gt},intersectRay:function(lt,J,it,Y,X,nt){void 0===X&&(X=1),nt=this.getMatterBodies(nt);for(var ht=[],gt=V.ray(nt,H.create(lt,J),H.create(it,Y),X),wt=0;wt<gt.length;wt++)ht.push(gt[wt].body);return ht},intersectBody:function(lt,J){J=this.getMatterBodies(J);for(var it=[],Y=V.collides(lt,J),X=0;X<Y.length;X++){var nt=Y[X];it.push(nt.bodyA===lt?nt.bodyB:nt.bodyA)}return it},overlap:function(lt,J,it,Y,X){void 0===it&&(it=null),void 0===Y&&(Y=null),void 0===X&&(X=it),Array.isArray(lt)||(lt=[lt]),lt=this.getMatterBodies(lt),J=this.getMatterBodies(J);for(var nt=!1,ht=0;ht<lt.length;ht++)for(var gt=lt[ht],wt=V.collides(gt,J),St=0;St<wt.length;St++){var Vt=wt[St],Zt=Vt.bodyA.id===gt.id?Vt.bodyB:Vt.bodyA;if(!Y||Y.call(X,gt,Zt,Vt))if(nt=!0,it)it.call(X,gt,Zt,Vt);else if(!Y)return!0}return nt},setCollisionCategory:function(lt,J){return(lt=this.getMatterBodies(lt)).forEach(function(it){it.collisionFilter.category=J}),this},setCollisionGroup:function(lt,J){return(lt=this.getMatterBodies(lt)).forEach(function(it){it.collisionFilter.group=J}),this},setCollidesWith:function(lt,J){lt=this.getMatterBodies(lt);var it=0;if(Array.isArray(J))for(var Y=0;Y<J.length;Y++)it|=J[Y];else it=J;return lt.forEach(function(X){X.collisionFilter.mask=it}),this},getMatterBodies:function(lt){if(!lt)return this.world.getAllBodies();Array.isArray(lt)||(lt=[lt]);for(var J=[],it=0;it<lt.length;it++){var Y=lt[it].hasOwnProperty("body")?lt[it].body:lt[it];J.push(Y)}return J},setVelocity:function(lt,J,it){lt=this.getMatterBodies(lt);var Y=this._tempVec2;return Y.x=J,Y.y=it,lt.forEach(function(X){f.setVelocity(X,Y)}),this},setVelocityX:function(lt,J){lt=this.getMatterBodies(lt);var it=this._tempVec2;return it.x=J,lt.forEach(function(Y){it.y=Y.velocity.y,f.setVelocity(Y,it)}),this},setVelocityY:function(lt,J){lt=this.getMatterBodies(lt);var it=this._tempVec2;return it.y=J,lt.forEach(function(Y){it.x=Y.velocity.x,f.setVelocity(Y,it)}),this},setAngularVelocity:function(lt,J){return(lt=this.getMatterBodies(lt)).forEach(function(it){f.setAngularVelocity(it,J)}),this},applyForce:function(lt,J){lt=this.getMatterBodies(lt);var it=this._tempVec2;return lt.forEach(function(Y){it.x=Y.position.x,it.y=Y.position.y,f.applyForce(Y,it,J)}),this},applyForceFromPosition:function(lt,J,it,Y){lt=this.getMatterBodies(lt);var X=this._tempVec2;return lt.forEach(function(nt){void 0===Y&&(Y=nt.angle),X.x=it*Math.cos(Y),X.y=it*Math.sin(Y),f.applyForce(nt,J,X)}),this},applyForceFromAngle:function(lt,J,it){lt=this.getMatterBodies(lt);var Y=this._tempVec2;return lt.forEach(function(X){void 0===it&&(it=X.angle),Y.x=J*Math.cos(it),Y.y=J*Math.sin(it),f.applyForce(X,{x:X.position.x,y:X.position.y},Y)}),this},getConstraintLength:function(lt){var J=lt.pointA.x,it=lt.pointA.y,Y=lt.pointB.x,X=lt.pointB.y;return lt.bodyA&&(J+=lt.bodyA.position.x,it+=lt.bodyA.position.y),lt.bodyB&&(Y+=lt.bodyB.position.x,X+=lt.bodyB.position.y),_(J,it,Y,X)},alignBody:function(lt,J,it,Y){var X;switch(lt=lt.hasOwnProperty("body")?lt.body:lt,Y){case y.TOP_LEFT:case y.LEFT_TOP:X=this.bodyBounds.getTopLeft(lt,J,it);break;case y.TOP_CENTER:X=this.bodyBounds.getTopCenter(lt,J,it);break;case y.TOP_RIGHT:case y.RIGHT_TOP:X=this.bodyBounds.getTopRight(lt,J,it);break;case y.LEFT_CENTER:X=this.bodyBounds.getLeftCenter(lt,J,it);break;case y.CENTER:X=this.bodyBounds.getCenter(lt,J,it);break;case y.RIGHT_CENTER:X=this.bodyBounds.getRightCenter(lt,J,it);break;case y.LEFT_BOTTOM:case y.BOTTOM_LEFT:X=this.bodyBounds.getBottomLeft(lt,J,it);break;case y.BOTTOM_CENTER:X=this.bodyBounds.getBottomCenter(lt,J,it);break;case y.BOTTOM_RIGHT:case y.RIGHT_BOTTOM:X=this.bodyBounds.getBottomRight(lt,J,it)}return X&&f.setPosition(lt,X),this},shutdown:function(){var lt=this.systems.events;this.world&&(lt.off(G.UPDATE,this.world.update,this.world),lt.off(G.POST_UPDATE,this.world.postUpdate,this.world)),lt.off(G.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(G.START,this.start,this),this.scene=null,this.systems=null}});L.register("MatterPhysics",at,"matterPhysics"),C.exports=at},34803:(C,k,a)=>{var y=a(9674),T=a(83419),m=a(31884),f=a(95643),h=a(95540),c=a(72699),u=a(68287),p=a(26099),d=new T({Extends:u,Mixins:[m.Bounce,m.Collision,m.Force,m.Friction,m.Gravity,m.Mass,m.Sensor,m.SetBody,m.Sleep,m.Static,m.Transform,m.Velocity,c],initialize:function(v,x,b,_,E,A){f.call(this,v.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new y(this),this.setTexture(_,E),this.setSizeToFrame(),this.setOrigin(),this.world=v,this._tempVec2=new p(x,b);var D=h(A,"shape",null);D?this.setBody(D,A):this.setRectangle(this.width,this.height,A),this.setPosition(x,b),this.initPipeline(),this.initPostPipeline(!0)}});C.exports=d},73834:(C,k,a)=>{var y=a(66280),T=a(22562),m=a(83419),f=a(31884),h=a(62644),c=a(50792),u=a(95540),p=a(97022),d=a(41598),g=new m({Extends:c,Mixins:[f.Bounce,f.Collision,f.Friction,f.Gravity,f.Mass,f.Sensor,f.Sleep,f.Static],initialize:function(x,b,_){c.call(this),this.tile=b,this.world=x,b.physics.matterBody&&b.physics.matterBody.destroy(),b.physics.matterBody=this;var E=u(_,"body",null),A=u(_,"addToWorld",!0);if(E)this.setBody(E,A);else{var D=b.getCollisionGroup();u(D,"objects",[]).length>0?this.setFromTileCollision(_):this.setFromTileRectangle(_)}if(b.flipX||b.flipY){var R={x:b.getCenterX(),y:b.getCenterY()};T.scale(E,b.flipX?-1:1,b.flipY?-1:1,R)}},setFromTileRectangle:function(v){void 0===v&&(v={}),p(v,"isStatic")||(v.isStatic=!0),p(v,"addToWorld")||(v.addToWorld=!0);var x=this.tile.getBounds(),E=y.rectangle(x.x+x.width/2,x.y+x.height/2,x.width,x.height,v);return this.setBody(E,v.addToWorld),this},setFromTileCollision:function(v){void 0===v&&(v={}),p(v,"isStatic")||(v.isStatic=!0),p(v,"addToWorld")||(v.addToWorld=!0);for(var x=this.tile.tilemapLayer.scaleX,b=this.tile.tilemapLayer.scaleY,_=this.tile.getLeft(),E=this.tile.getTop(),A=this.tile.getCollisionGroup(),D=u(A,"objects",[]),I=[],R=0;R<D.length;R++){var F=D[R],L=_+F.x*x,V=E+F.y*b,B=F.width*x,G=F.height*b,Q=null;if(F.rectangle)Q=y.rectangle(L+B/2,V+G/2,B,G,v);else if(F.ellipse)Q=y.circle(L+B/2,V+G/2,B/2,v);else if(F.polygon||F.polyline){var K=(F.polygon?F.polygon:F.polyline).map(function(J){return{x:J.x*x,y:J.y*b}}),tt=d.create(K),at=d.centre(tt);Q=y.fromVertices(L+=at.x,V+=at.y,tt,v)}Q&&I.push(Q)}if(1===I.length)this.setBody(I[0],v.addToWorld);else if(I.length>1){var lt=h(v);lt.parts=I,this.setBody(T.create(lt),lt.addToWorld)}return this},setBody:function(v,x){return void 0===x&&(x=!0),this.body&&this.removeBody(),this.body=v,this.body.gameObject=this,x&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});C.exports=g},19496:(C,k,a)=>{var y=a(66280),T=a(22562),m=a(53402),f=a(95540),h=a(41598);C.exports={parseBody:function(u,p,d,g){void 0===g&&(g={});for(var v=f(d,"fixtures",[]),x=[],b=0;b<v.length;b++)for(var _=this.parseFixture(v[b]),E=0;E<_.length;E++)x.push(_[E]);var A=m.clone(d,!0);m.extend(A,g,!0),delete A.fixtures,delete A.type;var D=T.create(A);return T.setParts(D,x),T.setPosition(D,{x:u,y:p}),D},parseFixture:function(u){var d,p=m.extend({},!1,u);if(delete p.circle,delete p.vertices,u.circle){var g=f(u.circle,"x"),v=f(u.circle,"y"),x=f(u.circle,"radius");d=[y.circle(g,v,x,p)]}else u.vertices&&(d=this.parseVertices(u.vertices,p));return d},parseVertices:function(u,p){void 0===p&&(p={});for(var d=[],g=0;g<u.length;g++)h.clockwiseSort(u[g]),d.push(T.create(m.extend({position:h.centre(u[g]),vertices:u[g]},p)));return y.flagCoincidentParts(d)}}},85791:(C,k,a)=>{var y=a(66280),T=a(22562);C.exports={parseBody:function(f,h,c,u){void 0===u&&(u={});var p,d=c.vertices;if(1===d.length)u.vertices=d[0],p=T.create(u),y.flagCoincidentParts(p.parts);else{for(var g=[],v=0;v<d.length;v++){var x=T.create({vertices:d[v]});g.push(x)}y.flagCoincidentParts(g),u.parts=g,p=T.create(u)}return p.label=c.label,T.setPosition(p,{x:f,y:h}),p}}},98713:(C,k,a)=>{var y=a(15647),T=a(83419),m=a(69351),f=a(48140),h=a(81388),c=a(1121),u=a(8214),p=a(46975),d=a(53614),g=a(26099),v=a(41598),x=new T({initialize:function(_,E,A){void 0===A&&(A={}),this.scene=_,this.world=E,this.camera=null,this.pointer=null,this.active=!0,this.position=new g,this.body=null,this.part=null,this.constraint=f.create(p(A,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(c.BEFORE_UPDATE,this.update,this),_.sys.input.on(u.POINTER_DOWN,this.onDown,this),_.sys.input.on(u.POINTER_UP,this.onUp,this)},onDown:function(b){this.pointer||(this.pointer=b,this.camera=b.camera)},onUp:function(b){b===this.pointer&&(this.pointer=null)},getBody:function(b){var _=this.position,E=this.constraint;this.camera.getWorldPoint(b.x,b.y,_);for(var A=m.allBodies(this.world.localWorld),D=0;D<A.length;D++){var I=A[D];if(!I.ignorePointer&&y.contains(I.bounds,_)&&h.canCollide(I.collisionFilter,E.collisionFilter)&&this.hitTestBody(I,_))return this.world.emit(c.DRAG_START,I,this.part,this),!0}return!1},hitTestBody:function(b,_){for(var E=this.constraint,A=b.parts.length,I=A>1?1:0;I<A;I++){var R=b.parts[I];if(v.contains(R.vertices,_))return E.pointA=_,E.pointB={x:_.x-b.position.x,y:_.y-b.position.y},E.bodyB=b,E.angleB=b.angle,d.set(b,!1),this.part=R,this.body=b,!0}return!1},update:function(){var b=this.pointer,_=this.body;if(this.active&&b)if(b.isDown||!_){if(b.isDown){if(!this.camera||!_&&!this.getBody(b))return;_=this.body;var E=this.position,A=this.constraint;this.camera.getWorldPoint(b.x,b.y,E),A.pointA.x=E.x,A.pointA.y=E.y,d.set(_,!1),this.world.emit(c.DRAG,_,this)}}else this.stopDrag();else _&&this.stopDrag()},stopDrag:function(){var b=this.body,_=this.constraint;_.bodyB=null,_.pointB=null,this.pointer=null,this.body=null,this.part=null,b&&this.world.emit(c.DRAG_END,b,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(c.BEFORE_UPDATE,this.update),this.scene.sys.input.off(u.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(u.POINTER_UP,this.onUp,this)}});C.exports=x},68243:(C,k,a)=>{var y=a(66280),T=a(22562),m=a(83419),f=a(53402),h=a(69351),c=a(48413),u=a(50792),p=a(1121),d=a(95540),g=a(35154),v=a(22562),x=a(35810),b=a(73834),_=a(4372),E=a(13037),A=a(31725),D=new m({Extends:u,initialize:function(R,F){u.call(this),this.scene=R,this.engine=c.create(F),this.localWorld=this.engine.world;var L=g(F,"gravity",null);L?this.setGravity(L.x,L.y,L.scale):!1===L&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=g(F,"enabled",!0),this.getDelta=g(F,"getDelta",this.update60Hz);var V=d(F,"runner",{}),B=d(V,"fps",!1),G=d(V,"fps",60),Q=d(V,"delta",1e3/G),H=d(V,"deltaMin",1e3/G),K=d(V,"deltaMax",1e3/(.5*G));B||(G=1e3/Q),this.runner={fps:G,deltaSampleSize:d(V,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,timeBuffer:0,isFixed:d(V,"isFixed",!1),delta:Q,deltaMin:H,deltaMax:K},this.autoUpdate=g(F,"autoUpdate",!0);var tt=g(F,"debug",!1);if(this.drawDebug="object"==typeof tt||tt,this.debugConfig={showAxes:d(tt,"showAxes",!1),showAngleIndicator:d(tt,"showAngleIndicator",!1),angleColor:d(tt,"angleColor",15208787),showBroadphase:d(tt,"showBroadphase",!1),broadphaseColor:d(tt,"broadphaseColor",16757760),showBounds:d(tt,"showBounds",!1),boundsColor:d(tt,"boundsColor",16777215),showVelocity:d(tt,"showVelocity",!1),velocityColor:d(tt,"velocityColor",44783),showCollisions:d(tt,"showCollisions",!1),collisionColor:d(tt,"collisionColor",16094476),showSeparations:d(tt,"showSeparations",!1),separationColor:d(tt,"separationColor",16753920),showBody:d(tt,"showBody",!0),showStaticBody:d(tt,"showStaticBody",!0),showInternalEdges:d(tt,"showInternalEdges",!1),renderFill:d(tt,"renderFill",!1),renderLine:d(tt,"renderLine",!0),fillColor:d(tt,"fillColor",1075465),fillOpacity:d(tt,"fillOpacity",1),lineColor:d(tt,"lineColor",2678297),lineOpacity:d(tt,"lineOpacity",1),lineThickness:d(tt,"lineThickness",1),staticFillColor:d(tt,"staticFillColor",857979),staticLineColor:d(tt,"staticLineColor",1255396),showSleeping:d(tt,"showSleeping",!1),staticBodySleepOpacity:d(tt,"staticBodySleepOpacity",.7),sleepFillColor:d(tt,"sleepFillColor",4605510),sleepLineColor:d(tt,"sleepLineColor",10066585),showSensors:d(tt,"showSensors",!0),sensorFillColor:d(tt,"sensorFillColor",857979),sensorLineColor:d(tt,"sensorLineColor",1255396),showPositions:d(tt,"showPositions",!0),positionSize:d(tt,"positionSize",4),positionColor:d(tt,"positionColor",14697178),showJoint:d(tt,"showJoint",!0),jointColor:d(tt,"jointColor",14737474),jointLineOpacity:d(tt,"jointLineOpacity",1),jointLineThickness:d(tt,"jointLineThickness",2),pinSize:d(tt,"pinSize",4),pinColor:d(tt,"pinColor",4382944),springColor:d(tt,"springColor",14697184),anchorColor:d(tt,"anchorColor",15724527),anchorSize:d(tt,"anchorSize",4),showConvexHulls:d(tt,"showConvexHulls",!1),hullColor:d(tt,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),d(F,"setBounds",!1)){var at=F.setBounds;if("boolean"==typeof at)this.setBounds();else{var lt=d(at,"x",0),J=d(at,"y",0),it=d(at,"width",R.sys.scale.width),Y=d(at,"height",R.sys.scale.height),X=d(at,"thickness",64),nt=d(at,"left",!0),ht=d(at,"right",!0),gt=d(at,"top",!0),wt=d(at,"bottom",!0);this.setBounds(lt,J,it,Y,X,nt,ht,gt,wt)}}},setCompositeRenderStyle:function(I){var V,B,G,R=I.bodies,F=I.constraints,L=I.composites;for(V=0;V<R.length;V++)this.setBodyRenderStyle(B=R[V],(G=B.render).lineColor,G.lineOpacity,G.lineThickness,G.fillColor,G.fillOpacity);for(V=0;V<F.length;V++)this.setConstraintRenderStyle(B=F[V],(G=B.render).lineColor,G.lineOpacity,G.lineThickness,G.pinSize,G.anchorColor,G.anchorSize);for(V=0;V<L.length;V++)this.setCompositeRenderStyle(B=L[V]);return this},setBodyRenderStyle:function(I,R,F,L,V,B){var G=I.render,Q=this.debugConfig;return G?(null==R&&(R=I.isStatic?Q.staticLineColor:Q.lineColor),null==F&&(F=Q.lineOpacity),null==L&&(L=Q.lineThickness),null==V&&(V=I.isStatic?Q.staticFillColor:Q.fillColor),null==B&&(B=Q.fillOpacity),!1!==R&&(G.lineColor=R),!1!==F&&(G.lineOpacity=F),!1!==L&&(G.lineThickness=L),!1!==V&&(G.fillColor=V),!1!==B&&(G.fillOpacity=B),this):this},setConstraintRenderStyle:function(I,R,F,L,V,B,G){var Q=I.render,H=this.debugConfig;if(!Q)return this;if(null==R){var K=Q.type;"line"===K?R=H.jointColor:"pin"===K?R=H.pinColor:"spring"===K&&(R=H.springColor)}return null==F&&(F=H.jointLineOpacity),null==L&&(L=H.jointLineThickness),null==V&&(V=H.pinSize),null==B&&(B=H.anchorColor),null==G&&(G=H.anchorSize),!1!==R&&(Q.lineColor=R),!1!==F&&(Q.lineOpacity=F),!1!==L&&(Q.lineThickness=L),!1!==V&&(Q.pinSize=V),!1!==B&&(Q.anchorColor=B),!1!==G&&(Q.anchorSize=G),this},setEventsProxy:function(){var I=this,R=this.engine,F=this.localWorld;this.drawDebug&&(x.on(F,"compositeModified",function(L){I.setCompositeRenderStyle(L)}),x.on(F,"beforeAdd",function(L){for(var V=[].concat(L.object),B=0;B<V.length;B++){var G=V[B],Q=G.render;"body"===G.type?I.setBodyRenderStyle(G,Q.lineColor,Q.lineOpacity,Q.lineThickness,Q.fillColor,Q.fillOpacity):"composite"===G.type?I.setCompositeRenderStyle(G):"constraint"===G.type&&I.setConstraintRenderStyle(G,Q.lineColor,Q.lineOpacity,Q.lineThickness,Q.pinSize,Q.anchorColor,Q.anchorSize)}})),x.on(F,"beforeAdd",function(L){I.emit(p.BEFORE_ADD,L)}),x.on(F,"afterAdd",function(L){I.emit(p.AFTER_ADD,L)}),x.on(F,"beforeRemove",function(L){I.emit(p.BEFORE_REMOVE,L)}),x.on(F,"afterRemove",function(L){I.emit(p.AFTER_REMOVE,L)}),x.on(R,"beforeUpdate",function(L){I.emit(p.BEFORE_UPDATE,L)}),x.on(R,"afterUpdate",function(L){I.emit(p.AFTER_UPDATE,L)}),x.on(R,"collisionStart",function(L){var B,G,V=L.pairs;V.length>0&&V.map(function(Q){G=Q.bodyB,(B=Q.bodyA).gameObject&&B.gameObject.emit("collide",B,G,Q),G.gameObject&&G.gameObject.emit("collide",G,B,Q),x.trigger(B,"onCollide",{pair:Q}),x.trigger(G,"onCollide",{pair:Q}),B.onCollideCallback&&B.onCollideCallback(Q),G.onCollideCallback&&G.onCollideCallback(Q),B.onCollideWith[G.id]&&B.onCollideWith[G.id](G,Q),G.onCollideWith[B.id]&&G.onCollideWith[B.id](B,Q)}),I.emit(p.COLLISION_START,L,B,G)}),x.on(R,"collisionActive",function(L){var B,G,V=L.pairs;V.length>0&&V.map(function(Q){G=Q.bodyB,(B=Q.bodyA).gameObject&&B.gameObject.emit("collideActive",B,G,Q),G.gameObject&&G.gameObject.emit("collideActive",G,B,Q),x.trigger(B,"onCollideActive",{pair:Q}),x.trigger(G,"onCollideActive",{pair:Q}),B.onCollideActiveCallback&&B.onCollideActiveCallback(Q),G.onCollideActiveCallback&&G.onCollideActiveCallback(Q)}),I.emit(p.COLLISION_ACTIVE,L,B,G)}),x.on(R,"collisionEnd",function(L){var B,G,V=L.pairs;V.length>0&&V.map(function(Q){G=Q.bodyB,(B=Q.bodyA).gameObject&&B.gameObject.emit("collideEnd",B,G,Q),G.gameObject&&G.gameObject.emit("collideEnd",G,B,Q),x.trigger(B,"onCollideEnd",{pair:Q}),x.trigger(G,"onCollideEnd",{pair:Q}),B.onCollideEndCallback&&B.onCollideEndCallback(Q),G.onCollideEndCallback&&G.onCollideEndCallback(Q)}),I.emit(p.COLLISION_END,L,B,G)})},setBounds:function(I,R,F,L,V,B,G,Q,H){return void 0===I&&(I=0),void 0===R&&(R=0),void 0===F&&(F=this.scene.sys.scale.width),void 0===L&&(L=this.scene.sys.scale.height),void 0===V&&(V=64),void 0===B&&(B=!0),void 0===G&&(G=!0),void 0===Q&&(Q=!0),void 0===H&&(H=!0),this.updateWall(B,"left",I-V,R-V,V,L+2*V),this.updateWall(G,"right",I+F,R-V,V,L+2*V),this.updateWall(Q,"top",I,R-V,F,V),this.updateWall(H,"bottom",I,R+L,F,V),this},updateWall:function(I,R,F,L,V,B){var G=this.walls[R];I?(G&&_.remove(this.localWorld,G),this.walls[R]=this.create(F+=V/2,L+=B/2,V,B,{isStatic:!0,friction:0,frictionStatic:0})):(G&&_.remove(this.localWorld,G),this.walls[R]=null)},createDebugGraphic:function(){var I=this.scene.sys.add.graphics({x:0,y:0});return I.setDepth(Number.MAX_VALUE),this.debugGraphic=I,this.drawDebug=!0,I},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(I,R,F){return void 0===I&&(I=0),void 0===R&&(R=1),void 0===F&&(F=.001),this.localWorld.gravity.x=I,this.localWorld.gravity.y=R,this.localWorld.gravity.scale=F,this},create:function(I,R,F,L,V){var B=y.rectangle(I,R,F,L,V);return _.add(this.localWorld,B),B},add:function(I){return _.add(this.localWorld,I),this},remove:function(I,R){Array.isArray(I)||(I=[I]);for(var F=0;F<I.length;F++){var L=I[F];h.remove(this.localWorld,L.body?L.body:L,R)}return this},removeConstraint:function(I,R){return h.remove(this.localWorld,I,R),this},convertTilemapLayer:function(I,R){var F=I.layer,L=I.getTilesWithin(0,0,F.width,F.height,{isColliding:!0});return this.convertTiles(L,R),this},convertTiles:function(I,R){if(0===I.length)return this;for(var F=0;F<I.length;F++)new b(this,I[F],R);return this},nextGroup:function(I){return v.nextGroup(I)},nextCategory:function(){return v.nextCategory()},pause:function(){return this.enabled=!1,this.emit(p.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=f.now(),this.emit(p.RESUME),this},update:function(I){if(this.enabled&&this.autoUpdate){var R=this.engine,F=this.runner,L=f.now(),V=F.delta,B=0,G=I-F.timeLastTick;if((!G||!F.timeLastTick||G>Math.max(E._maxFrameDelta,F.maxFrameTime))&&(G=F.frameDelta||E._frameDeltaFallback),F.frameDeltaSmoothing){F.frameDeltaHistory.push(G),F.frameDeltaHistory=F.frameDeltaHistory.slice(-F.frameDeltaHistorySize);var Q=F.frameDeltaHistory.slice(0).sort(),H=F.frameDeltaHistory.slice(Q.length*E._smoothingLowerBound,Q.length*E._smoothingUpperBound);G=E._mean(H)||G}F.frameDeltaSnapping&&(G=1e3/Math.round(1e3/G)),F.frameDelta=G,F.timeLastTick=I,F.timeBuffer+=F.frameDelta,F.timeBuffer=f.clamp(F.timeBuffer,0,F.frameDelta+V*E._timeBufferMargin),F.lastUpdatesDeferred=0;for(var tt=F.maxUpdates||Math.ceil(F.maxFrameTime/V),at=f.now();V>0&&F.timeBuffer>=V*E._timeBufferMargin;){c.update(R,V),F.timeBuffer-=V,B+=1;var lt=f.now()-L,J=f.now()-at;if(B>=tt||lt+E._elapsedNextEstimate*J/B>F.maxFrameTime){F.lastUpdatesDeferred=Math.round(Math.max(0,F.timeBuffer/V-E._timeBufferMargin));break}}}},step:function(I){c.update(this.engine,I)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(I){var R=I.hasOwnProperty("body")?I.body:I;return null!==h.get(this.localWorld,R.id,R.type)},getAllBodies:function(){return h.allBodies(this.localWorld)},getAllConstraints:function(){return h.allConstraints(this.localWorld)},getAllComposites:function(){return h.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var I=this.debugConfig,R=this.engine,F=this.debugGraphic,L=h.allBodies(this.localWorld);this.debugGraphic.clear(),I.showBroadphase&&R.broadphase.controller&&this.renderGrid(R.broadphase,F,I.broadphaseColor,.5),I.showBounds&&this.renderBodyBounds(L,F,I.boundsColor,.5),(I.showBody||I.showStaticBody)&&this.renderBodies(L),I.showJoint&&this.renderJoints(),(I.showAxes||I.showAngleIndicator)&&this.renderBodyAxes(L,F,I.showAxes,I.angleColor,.5),I.showVelocity&&this.renderBodyVelocity(L,F,I.velocityColor,1,2),I.showSeparations&&this.renderSeparations(R.pairs.list,F,I.separationColor),I.showCollisions&&this.renderCollisions(R.pairs.list,F,I.collisionColor)}},renderGrid:function(I,R,F,L){R.lineStyle(1,F,L);for(var V=f.keys(I.buckets),B=0;B<V.length;B++){var G=V[B];if(!(I.buckets[G].length<2)){var Q=G.split(/C|R/);R.strokeRect(parseInt(Q[1],10)*I.bucketWidth,parseInt(Q[2],10)*I.bucketHeight,I.bucketWidth,I.bucketHeight)}}return this},renderSeparations:function(I,R,F){R.lineStyle(1,F,1);for(var L=0;L<I.length;L++){var V=I[L];if(V.isActive){var B=V.collision,G=B.bodyA,Q=B.bodyB,H=G.position,K=Q.position,tt=B.penetration,at=G.isStatic||Q.isStatic?1:4;Q.isStatic&&(at=0),R.lineBetween(K.x,K.y,K.x-tt.x*at,K.y-tt.y*at),at=G.isStatic||Q.isStatic?1:4,G.isStatic&&(at=0),R.lineBetween(H.x,H.y,H.x-tt.x*at,H.y-tt.y*at)}}return this},renderCollisions:function(I,R,F){var L,V;for(R.lineStyle(1,F,.5),R.fillStyle(F,1),L=0;L<I.length;L++)if((V=I[L]).isActive)for(var B=0;B<V.contactCount;B++){var Q=V.contacts[B].vertex;Q&&R.fillRect(Q.x-2,Q.y-2,5,5)}for(L=0;L<I.length;L++)if((V=I[L]).isActive){var H=V.collision,K=V.contacts;if(V.contactCount>0){var tt=K[0].vertex.x,at=K[0].vertex.y;2===V.contactCount&&(tt=(K[0].vertex.x+K[1].vertex.x)/2,at=(K[0].vertex.y+K[1].vertex.y)/2),H.bodyB===H.supports[0].body||H.bodyA.isStatic?R.lineBetween(tt-8*H.normal.x,at-8*H.normal.y,tt,at):R.lineBetween(tt+8*H.normal.x,at+8*H.normal.y,tt,at)}}return this},renderBodyBounds:function(I,R,F,L){R.lineStyle(1,F,L);for(var V=0;V<I.length;V++){var B=I[V];if(B.render.visible){var G=B.bounds;if(G)R.strokeRect(G.min.x,G.min.y,G.max.x-G.min.x,G.max.y-G.min.y);else for(var Q=B.parts,H=Q.length>1?1:0;H<Q.length;H++){var K=Q[H];R.strokeRect(K.bounds.min.x,K.bounds.min.y,K.bounds.max.x-K.bounds.min.x,K.bounds.max.y-K.bounds.min.y)}}}return this},renderBodyAxes:function(I,R,F,L,V){R.lineStyle(1,L,V);for(var B=0;B<I.length;B++){var H,K,tt,G=I[B],Q=G.parts;if(G.render.visible)if(F)for(K=Q.length>1?1:0;K<Q.length;K++)for(H=Q[K],tt=0;tt<H.axes.length;tt++){var at=H.axes[tt];R.lineBetween(H.position.x,H.position.y,H.position.x+20*at.x,H.position.y+20*at.y)}else for(K=Q.length>1?1:0;K<Q.length;K++)for(H=Q[K],tt=0;tt<H.axes.length;tt++)R.lineBetween(H.position.x,H.position.y,(H.vertices[0].x+H.vertices[H.vertices.length-1].x)/2,(H.vertices[0].y+H.vertices[H.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(I,R,F,L,V){R.lineStyle(V,F,L);for(var B=0;B<I.length;B++){var G=I[B];G.render.visible&&R.lineBetween(G.position.x,G.position.y,G.position.x+2*(G.position.x-G.positionPrev.x),G.position.y+2*(G.position.y-G.positionPrev.y))}return this},renderBodies:function(I){for(var R=this.debugGraphic,F=this.debugConfig,L=F.showBody,V=F.showStaticBody,B=F.showSleeping,G=F.showInternalEdges,Q=F.showConvexHulls,H=F.renderFill,K=F.renderLine,tt=F.staticBodySleepOpacity,at=F.sleepFillColor,lt=F.sleepLineColor,J=F.hullColor,it=0;it<I.length;it++){var Y=I[it];if(Y.render.visible&&(V||!Y.isStatic)&&(L||Y.isStatic)){var X=Y.render.lineColor,nt=Y.render.lineOpacity,ht=Y.render.lineThickness,gt=Y.render.fillColor,wt=Y.render.fillOpacity;B&&Y.isSleeping&&(Y.isStatic?(nt*=tt,wt*=tt):(X=lt,gt=at)),H||(gt=null),K||(X=null),this.renderBody(Y,R,G,X,nt,ht,gt,wt),Q&&Y.parts.length>1&&this.renderConvexHull(Y,R,J,ht)}}},renderBody:function(I,R,F,L,V,B,G,Q){void 0===L&&(L=null),void 0===V&&(V=null),void 0===B&&(B=1),void 0===G&&(G=null),void 0===Q&&(Q=null);for(var H=this.debugConfig,K=H.sensorFillColor,tt=H.sensorLineColor,at=I.parts,lt=at.length,J=lt>1?1:0;J<lt;J++){var it=at[J],Y=it.render,X=Y.opacity;if(Y.visible&&0!==X&&(!it.isSensor||H.showSensors)){var nt=it.circleRadius;if(R.beginPath(),it.isSensor?(null!==G&&R.fillStyle(K,Q*X),null!==L&&R.lineStyle(B,tt,V*X)):(null!==G&&R.fillStyle(G,Q*X),null!==L&&R.lineStyle(B,L,V*X)),nt)R.arc(it.position.x,it.position.y,nt,0,2*Math.PI);else{var ht=it.vertices,gt=ht.length;R.moveTo(ht[0].x,ht[0].y);for(var wt=1;wt<gt;wt++){var St=ht[wt];if(!ht[wt-1].isInternal||F?R.lineTo(St.x,St.y):R.moveTo(St.x,St.y),wt<gt&&St.isInternal&&!F){var Vt=(wt+1)%gt;R.moveTo(ht[Vt].x,ht[Vt].y)}}R.closePath()}null!==G&&R.fillPath(),null!==L&&R.strokePath()}}if(H.showPositions&&!I.isStatic){var Zt=I.position.x,Jt=I.position.y,ie=Math.ceil(H.positionSize/2);R.fillStyle(H.positionColor,1),R.fillRect(Zt-ie,Jt-ie,H.positionSize,H.positionSize)}return this},renderConvexHull:function(I,R,F,L){if(void 0===L&&(L=1),I.parts.length>1){var G=I.vertices;R.lineStyle(L,F),R.beginPath(),R.moveTo(G[0].x,G[0].y);for(var Q=1;Q<G.length;Q++)R.lineTo(G[Q].x,G[Q].y);R.lineTo(G[0].x,G[0].y),R.strokePath()}return this},renderJoints:function(){for(var I=this.debugGraphic,R=h.allConstraints(this.localWorld),F=0;F<R.length;F++){var L=R[F].render;this.renderConstraint(R[F],I,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize)}},renderConstraint:function(I,R,F,L,V,B,G,Q){var H=I.render;if(!H.visible||!I.pointA||!I.pointB)return this;R.lineStyle(V,F,L);var at,lt,K=I.bodyA,tt=I.bodyB;if(at=K?A.add(K.position,I.pointA):I.pointA,"pin"===H.type)R.strokeCircle(at.x,at.y,B);else{if(lt=tt?A.add(tt.position,I.pointB):I.pointB,R.beginPath(),R.moveTo(at.x,at.y),"spring"===H.type)for(var X,J=A.sub(lt,at),it=A.perp(A.normalise(J)),Y=Math.ceil(f.clamp(I.length/5,12,20)),nt=1;nt<Y;nt+=1)R.lineTo(at.x+J.x*(nt/Y)+it.x*(X=nt%2==0?1:-1)*4,at.y+J.y*(nt/Y)+it.y*X*4);R.lineTo(lt.x,lt.y)}return R.strokePath(),H.anchors&&Q>0&&(R.fillStyle(G),R.fillCircle(at.x,at.y,Q),R.fillCircle(lt.x,lt.y,Q)),this},resetCollisionIDs:function(){return T._nextCollidingGroupId=1,T._nextNonCollidingGroupId=-1,T._nextCategory=1,this},shutdown:function(){x.off(this.engine),this.removeAllListeners(),_.clear(this.localWorld,!1),c.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});C.exports=D},70410:C=>{C.exports={setBounce:function(a){return this.body.restitution=a,this}}},66968:C=>{C.exports={setCollisionCategory:function(a){return this.body.collisionFilter.category=a,this},setCollisionGroup:function(a){return this.body.collisionFilter.group=a,this},setCollidesWith:function(a){var y=0;if(Array.isArray(a))for(var T=0;T<a.length;T++)y|=a[T];else y=a;return this.body.collisionFilter.mask=y,this},setOnCollide:function(a){return this.body.onCollideCallback=a,this},setOnCollideEnd:function(a){return this.body.onCollideEndCallback=a,this},setOnCollideActive:function(a){return this.body.onCollideActiveCallback=a,this},setOnCollideWith:function(a,y){Array.isArray(a)||(a=[a]);for(var T=0;T<a.length;T++){var m=a[T].hasOwnProperty("body")?a[T].body:a[T];this.body.setOnCollideWith(m,y)}return this}}},51607:(C,k,a)=>{var y=a(22562);C.exports={applyForce:function(m){return this._tempVec2.set(this.body.position.x,this.body.position.y),y.applyForce(this.body,this._tempVec2,m),this},applyForceFrom:function(m,f){return y.applyForce(this.body,m,f),this},thrust:function(m){var f=this.body.angle;return this._tempVec2.set(m*Math.cos(f),m*Math.sin(f)),y.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(m){var f=this.body.angle-Math.PI/2;return this._tempVec2.set(m*Math.cos(f),m*Math.sin(f)),y.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(m){var f=this.body.angle+Math.PI/2;return this._tempVec2.set(m*Math.cos(f),m*Math.sin(f)),y.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(m){var f=this.body.angle-Math.PI;return this._tempVec2.set(m*Math.cos(f),m*Math.sin(f)),y.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}}},5436:C=>{C.exports={setFriction:function(a,y,T){return this.body.friction=a,void 0!==y&&(this.body.frictionAir=y),void 0!==T&&(this.body.frictionStatic=T),this},setFrictionAir:function(a){return this.body.frictionAir=a,this},setFrictionStatic:function(a){return this.body.frictionStatic=a,this}}},39858:C=>{C.exports={setIgnoreGravity:function(a){return this.body.ignoreGravity=a,this}}},37302:(C,k,a)=>{var y=a(22562),T=a(26099);C.exports={setMass:function(f){return y.setMass(this.body,f),this},setDensity:function(f){return y.setDensity(this.body,f),this},centerOfMass:{get:function(){return new T(this.body.centerOfMass.x,this.body.centerOfMass.y)}}}},39132:C=>{C.exports={setSensor:function(a){return this.body.isSensor=a,this},isSensor:function(){return this.body.isSensor}}},57772:(C,k,a)=>{var y=a(66280),T=a(22562),m=a(43855),f=a(95540),h=a(19496),c=a(85791),u=a(41598);C.exports={setRectangle:function(d,g,v){return this.setBody({type:"rectangle",width:d,height:g},v)},setCircle:function(d,g){return this.setBody({type:"circle",radius:d},g)},setPolygon:function(d,g,v){return this.setBody({type:"polygon",sides:g,radius:d},v)},setTrapezoid:function(d,g,v,x){return this.setBody({type:"trapezoid",width:d,height:g,slope:v},x)},setExistingBody:function(d,g){void 0===g&&(g=!0),this.body&&this.world.remove(this.body,!0),this.body=d;for(var v=0;v<d.parts.length;v++)d.parts[v].gameObject=this;var x=this;if(d.destroy=function(){x.world.remove(x.body,!0),x.body.gameObject=null},g&&(this.world.has(d)&&this.world.remove(d,!0),this.world.add(d)),this._originComponent){var b=d.render.sprite.xOffset,_=d.render.sprite.yOffset,A=d.centerOfMass.y;m(d.centerOfMass.x,.5)&&m(A,.5)?this.setOrigin(b+.5,_+.5):this.setOrigin(b+d.centerOffset.x/this.displayWidth,_+d.centerOffset.y/this.displayHeight)}return this},setBody:function(d,g){if(!d)return this;var v;"string"==typeof d&&(d={type:d});var x=f(d,"type","rectangle"),b=f(d,"x",this._tempVec2.x),_=f(d,"y",this._tempVec2.y),E=f(d,"width",this.width),A=f(d,"height",this.height);switch(x){case"rectangle":v=y.rectangle(b,_,E,A,g);break;case"circle":var D=f(d,"radius",Math.max(E,A)/2),I=f(d,"maxSides",25);v=y.circle(b,_,D,g,I);break;case"trapezoid":var R=f(d,"slope",.5);v=y.trapezoid(b,_,E,A,R,g);break;case"polygon":var F=f(d,"sides",5),L=f(d,"radius",Math.max(E,A)/2);v=y.polygon(b,_,F,L,g);break;case"fromVertices":case"fromVerts":var V=f(d,"verts",null);if(V)if("string"==typeof V&&(V=u.fromPath(V)),this.body&&!this.body.hasOwnProperty("temp"))T.setVertices(this.body,V),v=this.body;else{var B=f(d,"flagInternal",!1),G=f(d,"removeCollinear",.01),Q=f(d,"minimumArea",10);v=y.fromVertices(b,_,V,g,B,G,Q)}break;case"fromPhysicsEditor":v=h.parseBody(b,_,d,g);break;case"fromPhysicsTracer":v=c.parseBody(b,_,d,g)}return v&&this.setExistingBody(v,d.addToWorld),this}}},38083:(C,k,a)=>{var y=a(1121),T=a(53614),m=a(35810);C.exports={setToSleep:function(){return T.set(this.body,!0),this},setAwake:function(){return T.set(this.body,!1),this},setSleepThreshold:function(h){return void 0===h&&(h=60),this.body.sleepThreshold=h,this},setSleepEvents:function(h,c){return this.setSleepStartEvent(h),this.setSleepEndEvent(c),this},setSleepStartEvent:function(h){if(h){var c=this.world;m.on(this.body,"sleepStart",function(u){c.emit(y.SLEEP_START,u,this)})}else m.off(this.body,"sleepStart");return this},setSleepEndEvent:function(h){if(h){var c=this.world;m.on(this.body,"sleepEnd",function(u){c.emit(y.SLEEP_END,u,this)})}else m.off(this.body,"sleepEnd");return this}}},90556:(C,k,a)=>{var y=a(22562);C.exports={setStatic:function(m){return y.setStatic(this.body,m),this},isStatic:function(){return this.body.isStatic}}},85436:(C,k,a)=>{var y=a(22562),T=a(36383),m=a(86554),f=a(30954);C.exports={x:{get:function(){return this.body.position.x},set:function(u){this._tempVec2.set(u,this.y),y.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(u){this._tempVec2.set(this.x,u),y.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(u){var p=1/this._scaleX,d=1/this._scaleY;this._scaleX=u,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,y.scale(this.body,p,d),y.scale(this.body,u,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(u){var p=1/this._scaleX,d=1/this._scaleY;this._scaleY=u,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,y.scale(this.body,p,d),y.scale(this.body,this._scaleX,u)}},angle:{get:function(){return f(this.body.angle*T.RAD_TO_DEG)},set:function(u){this.rotation=f(u)*T.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(u){this._rotation=m(u),y.setAngle(this.body,this._rotation)}},setPosition:function(u,p){return void 0===u&&(u=0),void 0===p&&(p=u),this._tempVec2.set(u,p),y.setPosition(this.body,this._tempVec2),this},setRotation:function(u){return void 0===u&&(u=0),this._rotation=m(u),y.setAngle(this.body,u),this},setFixedRotation:function(){return y.setInertia(this.body,1/0),this},setAngle:function(u){return void 0===u&&(u=0),this.angle=u,y.setAngle(this.body,this.rotation),this},setScale:function(u,p,d){void 0===u&&(u=1),void 0===p&&(p=u);var g=1/this._scaleX,v=1/this._scaleY;return this._scaleX=u,this._scaleY=p,y.scale(this.body,g,v,d),y.scale(this.body,u,p,d),this}}},42081:(C,k,a)=>{var y=a(22562);C.exports={setVelocityX:function(m){return this._tempVec2.set(m,this.body.velocity.y),y.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(m){return this._tempVec2.set(this.body.velocity.x,m),y.setVelocity(this.body,this._tempVec2),this},setVelocity:function(m,f){return this._tempVec2.set(m,f),y.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return y.getVelocity(this.body)},setAngularVelocity:function(m){return y.setAngularVelocity(this.body,m),this},getAngularVelocity:function(){return y.getAngularVelocity(this.body)},setAngularSpeed:function(m){return y.setAngularSpeed(this.body,m),this},getAngularSpeed:function(){return y.getAngularSpeed(this.body)}}},31884:(C,k,a)=>{C.exports={Bounce:a(70410),Collision:a(66968),Force:a(51607),Friction:a(5436),Gravity:a(39858),Mass:a(37302),Sensor:a(39132),SetBody:a(57772),Sleep:a(38083),Static:a(90556),Transform:a(85436),Velocity:a(42081)}},85608:C=>{C.exports="afteradd"},1213:C=>{C.exports="afterremove"},25968:C=>{C.exports="afterupdate"},67205:C=>{C.exports="beforeadd"},39438:C=>{C.exports="beforeremove"},44823:C=>{C.exports="beforeupdate"},92593:C=>{C.exports="collisionactive"},60128:C=>{C.exports="collisionend"},76861:C=>{C.exports="collisionstart"},92362:C=>{C.exports="dragend"},76408:C=>{C.exports="drag"},93971:C=>{C.exports="dragstart"},5656:C=>{C.exports="pause"},47861:C=>{C.exports="resume"},79099:C=>{C.exports="sleepend"},35906:C=>{C.exports="sleepstart"},1121:(C,k,a)=>{C.exports={AFTER_ADD:a(85608),AFTER_REMOVE:a(1213),AFTER_UPDATE:a(25968),BEFORE_ADD:a(67205),BEFORE_REMOVE:a(39438),BEFORE_UPDATE:a(44823),COLLISION_ACTIVE:a(92593),COLLISION_END:a(60128),COLLISION_START:a(76861),DRAG_END:a(92362),DRAG:a(76408),DRAG_START:a(93971),PAUSE:a(5656),RESUME:a(47861),SLEEP_END:a(79099),SLEEP_START:a(35906)}},3875:(C,k,a)=>{C.exports={BodyBounds:a(68174),Components:a(31884),Events:a(1121),Factory:a(28137),MatterGameObject:a(75803),Image:a(23181),Matter:a(19933),MatterPhysics:a(42045),PolyDecomp:a(55973),Sprite:a(34803),TileBody:a(73834),PhysicsEditorParser:a(19496),PhysicsJSONParser:a(85791),PointerConstraint:a(98713),World:a(68243)}},22562:(C,k,a)=>{var y={};C.exports=y;var T=a(41598),m=a(31725),f=a(53614),h=a(53402),c=a(15647),u=a(66615);!function(){y._timeCorrection=!0,y._inertiaScale=4,y._nextCollidingGroupId=1,y._nextNonCollidingGroupId=-1,y._nextCategory=1,y._baseDelta=16.666666666666668,y.create=function(d){var g={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:d.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!d.hasOwnProperty("position")&&d.hasOwnProperty("vertices")?d.position=T.centre(d.vertices):d.hasOwnProperty("vertices")||(g.vertices=T.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var v=h.extend(g,d);return p(v,d),v.setOnCollideWith=function(x,b){return b?this.onCollideWith[x.id]=b:delete this.onCollideWith[x.id],this},v},y.nextGroup=function(d){return d?y._nextNonCollidingGroupId--:y._nextCollidingGroupId++},y.nextCategory=function(){return y._nextCategory=y._nextCategory<<1,y._nextCategory};var p=function(d,g){if(g=g||{},y.set(d,{bounds:d.bounds||c.create(d.vertices),positionPrev:d.positionPrev||m.clone(d.position),anglePrev:d.anglePrev||d.angle,vertices:d.vertices,parts:d.parts||[d],isStatic:d.isStatic,isSleeping:d.isSleeping,parent:d.parent||d}),T.rotate(d.vertices,d.angle,d.position),u.rotate(d.axes,d.angle),c.update(d.bounds,d.vertices,d.velocity),y.set(d,{axes:g.axes||d.axes,area:g.area||d.area,mass:g.mass||d.mass,inertia:g.inertia||d.inertia}),1===d.parts.length){var v=d.bounds,x=d.centerOfMass,b=d.centerOffset,_=v.max.x-v.min.x,E=v.max.y-v.min.y;x.x=-(v.min.x-d.position.x)/_,x.y=-(v.min.y-d.position.y)/E,b.x=_*x.x,b.y=E*x.y}};y.set=function(d,g,v){var x;for(x in"string"==typeof g&&(x=g,(g={})[x]=v),g)if(Object.prototype.hasOwnProperty.call(g,x))switch(v=g[x],x){case"isStatic":y.setStatic(d,v);break;case"isSleeping":f.set(d,v);break;case"mass":y.setMass(d,v);break;case"density":y.setDensity(d,v);break;case"inertia":y.setInertia(d,v);break;case"vertices":y.setVertices(d,v);break;case"position":y.setPosition(d,v);break;case"angle":y.setAngle(d,v);break;case"velocity":y.setVelocity(d,v);break;case"angularVelocity":y.setAngularVelocity(d,v);break;case"speed":y.setSpeed(d,v);break;case"angularSpeed":y.setAngularSpeed(d,v);break;case"parts":y.setParts(d,v);break;case"centre":y.setCentre(d,v);break;default:d[x]=v}},y.setStatic=function(d,g){for(var v=0;v<d.parts.length;v++){var x=d.parts[v];g?(x.isStatic||(x._original={restitution:x.restitution,friction:x.friction,mass:x.mass,inertia:x.inertia,density:x.density,inverseMass:x.inverseMass,inverseInertia:x.inverseInertia}),x.restitution=0,x.friction=1,x.mass=x.inertia=x.density=1/0,x.inverseMass=x.inverseInertia=0,x.positionPrev.x=x.position.x,x.positionPrev.y=x.position.y,x.anglePrev=x.angle,x.angularVelocity=0,x.speed=0,x.angularSpeed=0,x.motion=0):x._original&&(x.restitution=x._original.restitution,x.friction=x._original.friction,x.mass=x._original.mass,x.inertia=x._original.inertia,x.density=x._original.density,x.inverseMass=x._original.inverseMass,x.inverseInertia=x._original.inverseInertia,x._original=null),x.isStatic=g}},y.setMass=function(d,g){d.inertia=d.inertia/(d.mass/6)*(g/6),d.inverseInertia=1/d.inertia,d.mass=g,d.inverseMass=1/d.mass,d.density=d.mass/d.area},y.setDensity=function(d,g){y.setMass(d,g*d.area),d.density=g},y.setInertia=function(d,g){d.inertia=g,d.inverseInertia=1/d.inertia},y.setVertices=function(d,g){d.vertices=g[0].body===d?g:T.create(g,d),d.axes=u.fromVertices(d.vertices),d.area=T.area(d.vertices),y.setMass(d,d.density*d.area);var v=T.centre(d.vertices);T.translate(d.vertices,v,-1),y.setInertia(d,y._inertiaScale*T.inertia(d.vertices,d.mass)),T.translate(d.vertices,d.position),c.update(d.bounds,d.vertices,d.velocity)},y.setParts=function(d,g,v){var x;for(g=g.slice(0),d.parts.length=0,d.parts.push(d),d.parent=d,x=0;x<g.length;x++){var b=g[x];b!==d&&(b.parent=d,d.parts.push(b))}if(1!==d.parts.length){if(v=!(typeof v<"u")||v){var _=[];for(x=0;x<g.length;x++)_=_.concat(g[x].vertices);T.clockwiseSort(_);var E=T.hull(_),A=T.centre(E);y.setVertices(d,E),T.translate(d.vertices,A)}var D=y._totalProperties(d),I=D.centre.x,R=D.centre.y,F=d.bounds,L=d.centerOfMass,V=d.centerOffset;c.update(F,d.vertices,d.velocity),L.x=-(F.min.x-I)/(F.max.x-F.min.x),L.y=-(F.min.y-R)/(F.max.y-F.min.y),V.x=I,V.y=R,d.area=D.area,d.parent=d,d.position.x=I,d.position.y=R,d.positionPrev.x=I,d.positionPrev.y=R,y.setMass(d,D.mass),y.setInertia(d,D.inertia),y.setPosition(d,D.centre)}},y.setCentre=function(d,g,v){v?(d.positionPrev.x+=g.x,d.positionPrev.y+=g.y,d.position.x+=g.x,d.position.y+=g.y):(d.positionPrev.x=g.x-(d.position.x-d.positionPrev.x),d.positionPrev.y=g.y-(d.position.y-d.positionPrev.y),d.position.x=g.x,d.position.y=g.y)},y.setPosition=function(d,g,v){var x=m.sub(g,d.position);v?(d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.velocity.x=x.x,d.velocity.y=x.y,d.speed=m.magnitude(x)):(d.positionPrev.x+=x.x,d.positionPrev.y+=x.y);for(var b=0;b<d.parts.length;b++){var _=d.parts[b];_.position.x+=x.x,_.position.y+=x.y,T.translate(_.vertices,x),c.update(_.bounds,_.vertices,d.velocity)}},y.setAngle=function(d,g,v){var x=g-d.angle;v?(d.anglePrev=d.angle,d.angularVelocity=x,d.angularSpeed=Math.abs(x)):d.anglePrev+=x;for(var b=0;b<d.parts.length;b++){var _=d.parts[b];_.angle+=x,T.rotate(_.vertices,x,d.position),u.rotate(_.axes,x),c.update(_.bounds,_.vertices,d.velocity),b>0&&m.rotateAbout(_.position,x,d.position,_.position)}},y.setVelocity=function(d,g){var v=d.deltaTime/y._baseDelta;d.positionPrev.x=d.position.x-g.x*v,d.positionPrev.y=d.position.y-g.y*v,d.velocity.x=(d.position.x-d.positionPrev.x)/v,d.velocity.y=(d.position.y-d.positionPrev.y)/v,d.speed=m.magnitude(d.velocity)},y.getVelocity=function(d){var g=y._baseDelta/d.deltaTime;return{x:(d.position.x-d.positionPrev.x)*g,y:(d.position.y-d.positionPrev.y)*g}},y.getSpeed=function(d){return m.magnitude(y.getVelocity(d))},y.setSpeed=function(d,g){y.setVelocity(d,m.mult(m.normalise(y.getVelocity(d)),g))},y.setAngularVelocity=function(d,g){var v=d.deltaTime/y._baseDelta;d.anglePrev=d.angle-g*v,d.angularVelocity=(d.angle-d.anglePrev)/v,d.angularSpeed=Math.abs(d.angularVelocity)},y.getAngularVelocity=function(d){return(d.angle-d.anglePrev)*y._baseDelta/d.deltaTime},y.getAngularSpeed=function(d){return Math.abs(y.getAngularVelocity(d))},y.setAngularSpeed=function(d,g){y.setAngularVelocity(d,h.sign(y.getAngularVelocity(d))*g)},y.translate=function(d,g,v){y.setPosition(d,m.add(d.position,g),v)},y.rotate=function(d,g,v,x){if(v){var b=Math.cos(g),_=Math.sin(g),E=d.position.x-v.x,A=d.position.y-v.y;y.setPosition(d,{x:v.x+(E*b-A*_),y:v.y+(E*_+A*b)},x),y.setAngle(d,d.angle+g,x)}else y.setAngle(d,d.angle+g,x)},y.scale=function(d,g,v,x){var b=0,_=0;x=x||d.position;for(var E=d.inertia===1/0,A=0;A<d.parts.length;A++){var D=d.parts[A];D.scale.x=g,D.scale.y=v,T.scale(D.vertices,g,v,x),D.axes=u.fromVertices(D.vertices),D.area=T.area(D.vertices),y.setMass(D,d.density*D.area),T.translate(D.vertices,{x:-D.position.x,y:-D.position.y}),y.setInertia(D,y._inertiaScale*T.inertia(D.vertices,D.mass)),T.translate(D.vertices,{x:D.position.x,y:D.position.y}),A>0&&(b+=D.area,_+=D.inertia),D.position.x=x.x+(D.position.x-x.x)*g,D.position.y=x.y+(D.position.y-x.y)*v,c.update(D.bounds,D.vertices,d.velocity)}d.parts.length>1&&(d.area=b,d.isStatic||(y.setMass(d,d.density*b),y.setInertia(d,_))),d.circleRadius&&(g===v?d.circleRadius*=g:d.circleRadius=null),E&&y.setInertia(d,1/0)},y.update=function(d,g){var v=(g=(typeof g<"u"?g:16.666666666666668)*d.timeScale)*g,x=y._timeCorrection?g/(d.deltaTime||g):1,b=1-d.frictionAir*(g/h._baseDelta),E=(d.position.y-d.positionPrev.y)*x;d.velocity.x=(d.position.x-d.positionPrev.x)*x*b+d.force.x/d.mass*v,d.velocity.y=E*b+d.force.y/d.mass*v,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.position.x+=d.velocity.x,d.position.y+=d.velocity.y,d.deltaTime=g,d.angularVelocity=(d.angle-d.anglePrev)*b*x+d.torque/d.inertia*v,d.anglePrev=d.angle,d.angle+=d.angularVelocity,d.speed=m.magnitude(d.velocity),d.angularSpeed=Math.abs(d.angularVelocity);for(var A=0;A<d.parts.length;A++){var D=d.parts[A];T.translate(D.vertices,d.velocity),A>0&&(D.position.x+=d.velocity.x,D.position.y+=d.velocity.y),0!==d.angularVelocity&&(T.rotate(D.vertices,d.angularVelocity,d.position),u.rotate(D.axes,d.angularVelocity),A>0&&m.rotateAbout(D.position,d.angularVelocity,d.position,D.position)),c.update(D.bounds,D.vertices,d.velocity)}},y.updateVelocities=function(d){var g=y._baseDelta/d.deltaTime,v=d.velocity;v.x=(d.position.x-d.positionPrev.x)*g,v.y=(d.position.y-d.positionPrev.y)*g,d.speed=Math.sqrt(v.x*v.x+v.y*v.y),d.angularVelocity=(d.angle-d.anglePrev)*g,d.angularSpeed=Math.abs(d.angularVelocity)},y.applyForce=function(d,g,v){var x_x=g.x-d.position.x,x_y=g.y-d.position.y;d.force.x+=v.x,d.force.y+=v.y,d.torque+=x_x*v.y-x_y*v.x},y._totalProperties=function(d){for(var g={mass:0,area:0,inertia:0,centre:{x:0,y:0}},v=1===d.parts.length?0:1;v<d.parts.length;v++){var x=d.parts[v],b=x.mass!==1/0?x.mass:1;g.mass+=b,g.area+=x.area,g.inertia+=x.inertia,g.centre=m.add(g.centre,m.mult(x.position,b))}return g.centre=m.div(g.centre,g.mass),g},y.wrap=function(d,g){var v=c.wrap(d.bounds,g);return v&&y.translate(d,v),v}}()},69351:(C,k,a)=>{var y={};C.exports=y;var T=a(35810),m=a(53402),f=a(15647),h=a(22562);y.create=function(c){return m.extend({id:m.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},c)},y.setModified=function(c,u,p,d){if(T.trigger(c,"compositeModified",c),c.isModified=u,u&&c.cache&&(c.cache.allBodies=null,c.cache.allConstraints=null,c.cache.allComposites=null),p&&c.parent&&y.setModified(c.parent,u,p,d),d)for(var g=0;g<c.composites.length;g++)y.setModified(c.composites[g],u,p,d)},y.add=function(c,u){var p=[].concat(u);T.trigger(c,"beforeAdd",{object:u});for(var d=0;d<p.length;d++){var g=p[d];switch(g.type){case"body":if(g.parent!==g){m.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}y.addBody(c,g);break;case"constraint":y.addConstraint(c,g);break;case"composite":y.addComposite(c,g);break;case"mouseConstraint":y.addConstraint(c,g.constraint)}}return T.trigger(c,"afterAdd",{object:u}),c},y.remove=function(c,u,p){var d=[].concat(u);T.trigger(c,"beforeRemove",{object:u});for(var g=0;g<d.length;g++){var v=d[g];switch(v.type){case"body":y.removeBody(c,v,p);break;case"constraint":y.removeConstraint(c,v,p);break;case"composite":y.removeComposite(c,v,p);break;case"mouseConstraint":y.removeConstraint(c,v.constraint)}}return T.trigger(c,"afterRemove",{object:u}),c},y.addComposite=function(c,u){return c.composites.push(u),u.parent=c,y.setModified(c,!0,!0,!1),c},y.removeComposite=function(c,u,p){var d=m.indexOf(c.composites,u);if(-1!==d){var g=y.allBodies(u);y.removeCompositeAt(c,d);for(var v=0;v<g.length;v++)g[v].sleepCounter=0}if(p)for(v=0;v<c.composites.length;v++)y.removeComposite(c.composites[v],u,!0);return c},y.removeCompositeAt=function(c,u){return c.composites.splice(u,1),y.setModified(c,!0,!0,!1),c},y.addBody=function(c,u){return c.bodies.push(u),y.setModified(c,!0,!0,!1),c},y.removeBody=function(c,u,p){var d=m.indexOf(c.bodies,u);if(-1!==d&&(y.removeBodyAt(c,d),u.sleepCounter=0),p)for(var g=0;g<c.composites.length;g++)y.removeBody(c.composites[g],u,!0);return c},y.removeBodyAt=function(c,u){return c.bodies.splice(u,1),y.setModified(c,!0,!0,!1),c},y.addConstraint=function(c,u){return c.constraints.push(u),y.setModified(c,!0,!0,!1),c},y.removeConstraint=function(c,u,p){var d=m.indexOf(c.constraints,u);if(-1!==d&&y.removeConstraintAt(c,d),p)for(var g=0;g<c.composites.length;g++)y.removeConstraint(c.composites[g],u,!0);return c},y.removeConstraintAt=function(c,u){return c.constraints.splice(u,1),y.setModified(c,!0,!0,!1),c},y.clear=function(c,u,p){if(p)for(var d=0;d<c.composites.length;d++)y.clear(c.composites[d],u,!0);return u?c.bodies=c.bodies.filter(function(g){return g.isStatic}):c.bodies.length=0,c.constraints.length=0,c.composites.length=0,y.setModified(c,!0,!0,!1),c},y.allBodies=function(c){if(c.cache&&c.cache.allBodies)return c.cache.allBodies;for(var u=[].concat(c.bodies),p=0;p<c.composites.length;p++)u=u.concat(y.allBodies(c.composites[p]));return c.cache&&(c.cache.allBodies=u),u},y.allConstraints=function(c){if(c.cache&&c.cache.allConstraints)return c.cache.allConstraints;for(var u=[].concat(c.constraints),p=0;p<c.composites.length;p++)u=u.concat(y.allConstraints(c.composites[p]));return c.cache&&(c.cache.allConstraints=u),u},y.allComposites=function(c){if(c.cache&&c.cache.allComposites)return c.cache.allComposites;for(var u=[].concat(c.composites),p=0;p<c.composites.length;p++)u=u.concat(y.allComposites(c.composites[p]));return c.cache&&(c.cache.allComposites=u),u},y.get=function(c,u,p){var d,g;switch(p){case"body":d=y.allBodies(c);break;case"constraint":d=y.allConstraints(c);break;case"composite":d=y.allComposites(c).concat(c)}return d?0===(g=d.filter(function(v){return v.id.toString()===u.toString()})).length?null:g[0]:null},y.move=function(c,u,p){return y.remove(c,u),y.add(p,u),c},y.rebase=function(c){for(var u=y.allBodies(c).concat(y.allConstraints(c)).concat(y.allComposites(c)),p=0;p<u.length;p++)u[p].id=m.nextId();return c},y.translate=function(c,u,p){for(var d=p?y.allBodies(c):c.bodies,g=0;g<d.length;g++)h.translate(d[g],u);return c},y.rotate=function(c,u,p,d){for(var g=Math.cos(u),v=Math.sin(u),x=d?y.allBodies(c):c.bodies,b=0;b<x.length;b++){var _=x[b],E=_.position.x-p.x,A=_.position.y-p.y;h.setPosition(_,{x:p.x+(E*g-A*v),y:p.y+(E*v+A*g)}),h.rotate(_,u)}return c},y.scale=function(c,u,p,d,g){for(var v=g?y.allBodies(c):c.bodies,x=0;x<v.length;x++){var b=v[x];h.setPosition(b,{x:d.x+(b.position.x-d.x)*u,y:d.y+(b.position.y-d.y)*p}),h.scale(b,u,p)}return c},y.bounds=function(c){for(var u=y.allBodies(c),p=[],d=0;d<u.length;d+=1){var g=u[d];p.push(g.bounds.min,g.bounds.max)}return f.create(p)},y.wrap=function(c,u){var p=f.wrap(y.bounds(c),u);return p&&y.translate(c,p),p}},4372:(C,k,a)=>{var y={};C.exports=y;var T=a(69351);y.create=T.create,y.add=T.add,y.remove=T.remove,y.clear=T.clear,y.addComposite=T.addComposite,y.addBody=T.addBody,y.addConstraint=T.addConstraint},52284:(C,k,a)=>{var y={};C.exports=y;var f,h,c,T=a(41598),m=a(4506);f=[],h={overlap:0,axis:null},c={overlap:0,axis:null},y.create=function(u,p){return{pair:null,collided:!1,bodyA:u,bodyB:p,parentA:u.parent,parentB:p.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},y.collides=function(u,p,d){if(y._overlapAxes(h,u.vertices,p.vertices,u.axes),h.overlap<=0||(y._overlapAxes(c,p.vertices,u.vertices,p.axes),c.overlap<=0))return null;var v,x,g=d&&d.table[m.id(u,p)];g?v=g.collision:((v=y.create(u,p)).collided=!0,v.bodyA=u.id<p.id?u:p,v.bodyB=u.id<p.id?p:u,v.parentA=v.bodyA.parent,v.parentB=v.bodyB.parent);var b=v.normal,_=v.tangent,E=v.penetration,A=v.supports,D=(x=h.overlap<c.overlap?h:c).overlap,I=x.axis,R=I.x,F=I.y;R*((p=v.bodyB).position.x-(u=v.bodyA).position.x)+F*(p.position.y-u.position.y)>=0&&(R=-R,F=-F),b.x=R,b.y=F,_.x=-F,_.y=R,E.x=R*D,E.y=F*D,v.depth=D;var B=y._findSupports(u,p,b,1),G=0;if(T.contains(u.vertices,B[0])&&(A[G++]=B[0]),T.contains(u.vertices,B[1])&&(A[G++]=B[1]),G<2){var Q=y._findSupports(p,u,b,-1);T.contains(p.vertices,Q[0])&&(A[G++]=Q[0]),G<2&&T.contains(p.vertices,Q[1])&&(A[G++]=Q[1])}return 0===G&&(A[G++]=B[0]),v.supportCount=G,v},y._overlapAxes=function(u,p,d,g){var F,L,V,B,G,Q,v=p.length,x=d.length,b=p[0].x,_=p[0].y,E=d[0].x,A=d[0].y,D=g.length,I=Number.MAX_VALUE,R=0;for(G=0;G<D;G++){var H=g[G],K=H.x,tt=H.y,at=b*K+_*tt,lt=E*K+A*tt,J=at,it=lt;for(Q=1;Q<v;Q+=1)(B=p[Q].x*K+p[Q].y*tt)>J?J=B:B<at&&(at=B);for(Q=1;Q<x;Q+=1)(B=d[Q].x*K+d[Q].y*tt)>it?it=B:B<lt&&(lt=B);if((F=(L=J-lt)<(V=it-at)?L:V)<I&&(I=F,R=G,F<=0))break}u.axis=g[R],u.overlap=I},y._findSupports=function(u,p,d,g){var F,L,V,v=p.vertices,x=v.length,b=u.position.x,_=u.position.y,E=d.x*g,A=d.y*g,D=v[0],I=D,R=E*(b-I.x)+A*(_-I.y);for(V=1;V<x;V+=1)(L=E*(b-(I=v[V]).x)+A*(_-I.y))<R&&(R=L,D=I);return E*(b-(I=v[(D.index+1)%x]).x)+A*(_-I.y)<(R=E*(b-(F=v[(x+D.index-1)%x]).x)+A*(_-F.y))?(f[0]=D,f[1]=I,f):(f[0]=D,f[1]=F,f)}},43424:C=>{var k={};C.exports=k,k.create=function(a){return{vertex:a,normalImpulse:0,tangentImpulse:0}}},81388:(C,k,a)=>{var y={};C.exports=y;var T=a(53402),m=a(52284);y.create=function(f){return T.extend({bodies:[],collisions:[],pairs:null},f)},y.setBodies=function(f,h){f.bodies=h.slice(0)},y.clear=function(f){f.bodies=[],f.collisions=[]},y.collisions=function(f){var x,b,h=f.pairs,c=f.bodies,u=c.length,p=y.canCollide,d=m.collides,g=f.collisions,v=0;for(c.sort(y._compareBoundsX),x=0;x<u;x++){var _=c[x],E=_.bounds,A=_.bounds.max.x,D=_.bounds.max.y,I=_.bounds.min.y,R=_.isStatic||_.isSleeping,F=_.parts.length,L=1===F;for(b=x+1;b<u;b++){var V=c[b];if((B=V.bounds).min.x>A)break;if(!(D<B.min.y||I>B.max.y)&&(!R||!V.isStatic&&!V.isSleeping)&&p(_.collisionFilter,V.collisionFilter)){var G=V.parts.length;if(L&&1===G)(Q=d(_,V,h))&&(g[v++]=Q);else for(var K=G>1?1:0,tt=F>1?1:0;tt<F;tt++)for(var at=_.parts[tt],lt=(E=at.bounds,K);lt<G;lt++){var B,Q,J=V.parts[lt];E.min.x>(B=J.bounds).max.x||E.max.x<B.min.x||E.max.y<B.min.y||E.min.y>B.max.y||(Q=d(at,J,h))&&(g[v++]=Q)}}}}return g.length!==v&&(g.length=v),g},y.canCollide=function(f,h){return f.group===h.group&&0!==f.group?f.group>0:!!(f.mask&h.category)&&!!(h.mask&f.category)},y._compareBoundsX=function(f,h){return f.bounds.min.x-h.bounds.min.x}},4506:(C,k,a)=>{var y={};C.exports=y;var T=a(43424);y.create=function(m,f){var h=m.bodyA,c=m.bodyB,u={id:y.id(h,c),bodyA:h,bodyB:c,collision:m,contacts:[T.create(),T.create()],contactCount:0,separation:0,isActive:!0,isSensor:h.isSensor||c.isSensor,timeCreated:f,timeUpdated:f,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return y.update(u,m,f),u},y.update=function(m,f,h){var c=f.supports,u=f.supportCount,p=m.contacts,d=f.parentA,g=f.parentB;m.isActive=!0,m.timeUpdated=h,m.collision=f,m.separation=f.depth,m.inverseMass=d.inverseMass+g.inverseMass,m.friction=d.friction<g.friction?d.friction:g.friction,m.frictionStatic=d.frictionStatic>g.frictionStatic?d.frictionStatic:g.frictionStatic,m.restitution=d.restitution>g.restitution?d.restitution:g.restitution,m.slop=d.slop>g.slop?d.slop:g.slop,m.contactCount=u,f.pair=m;var v=c[0],x=p[0],b=c[1],_=p[1];(_.vertex===v||x.vertex===b)&&(p[1]=x,p[0]=x=_,_=p[1]),x.vertex=v,_.vertex=b},y.setActive=function(m,f,h){f?(m.isActive=!0,m.timeUpdated=h):(m.isActive=!1,m.contactCount=0)},y.id=function(m,f){return m.id<f.id?m.id.toString(36)+":"+f.id.toString(36):f.id.toString(36)+":"+m.id.toString(36)}},99561:(C,k,a)=>{var y={};C.exports=y;var T=a(4506),m=a(53402);y.create=function(f){return m.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},f)},y.update=function(f,h,c){var L,V,B,u=T.update,p=T.create,d=T.setActive,g=f.table,v=f.list,x=v.length,b=x,_=f.collisionStart,E=f.collisionEnd,A=f.collisionActive,D=h.length,I=0,R=0,F=0;for(B=0;B<D;B++)(V=(L=h[B]).pair)?(V.isActive&&(A[F++]=V),u(V,L,c)):(g[(V=p(L,c)).id]=V,_[I++]=V,v[b++]=V);for(b=0,x=v.length,B=0;B<x;B++)(V=v[B]).timeUpdated>=c?v[b++]=V:(d(V,!1,c),V.collision.bodyA.sleepCounter>0&&V.collision.bodyB.sleepCounter>0?v[b++]=V:(E[R++]=V,delete g[V.id]));v.length!==b&&(v.length=b),_.length!==I&&(_.length=I),E.length!==R&&(E.length=R),A.length!==F&&(A.length=F)},y.clear=function(f){return f.table={},f.list.length=0,f.collisionStart.length=0,f.collisionActive.length=0,f.collisionEnd.length=0,f}},73296:(C,k,a)=>{var y={};C.exports=y;var T=a(31725),m=a(52284),f=a(15647),h=a(66280),c=a(41598);y.collides=function(u,p){for(var d=[],g=p.length,v=u.bounds,x=m.collides,b=f.overlaps,_=0;_<g;_++){var E=p[_],A=E.parts.length,D=1===A?0:1;if(u!==E&&b(E.bounds,v))for(var I=D;I<A;I++){var R=E.parts[I];if(b(R.bounds,v)){var F=x(R,u);if(F){d.push(F);break}}}}return d},y.ray=function(u,p,d,g){g=g||1e-100;for(var v=T.angle(p,d),x=T.magnitude(T.sub(p,d)),E=h.rectangle(.5*(d.x+p.x),.5*(d.y+p.y),x,g,{angle:v}),A=y.collides(E,u),D=0;D<A.length;D+=1){var I=A[D];I.body=I.bodyB=I.bodyA}return A},y.region=function(u,p,d){for(var g=[],v=0;v<u.length;v++){var x=u[v],b=f.overlaps(x.bounds,p);(b&&!d||!b&&d)&&g.push(x)}return g},y.point=function(u,p){for(var d=[],g=0;g<u.length;g++){var v=u[g];if(f.contains(v.bounds,p))for(var x=1===v.parts.length?0:1;x<v.parts.length;x++){var b=v.parts[x];if(f.contains(b.bounds,p)&&c.contains(b.vertices,p)){d.push(v);break}}}return d}},66272:(C,k,a)=>{var y={};C.exports=y;var T=a(41598),m=a(53402),f=a(15647);y._restingThresh=2,y._restingThreshTangent=Math.sqrt(6),y._positionDampen=.9,y._positionWarming=.8,y._frictionNormalMultiplier=5,y._frictionMaxStatic=Number.MAX_VALUE,y.preSolvePosition=function(h){var c,u,p,d=h.length;for(c=0;c<d;c++)(u=h[c]).isActive&&(u.collision.parentA.totalContacts+=p=u.contactCount,u.collision.parentB.totalContacts+=p)},y.solvePosition=function(h,c,u){var p,d,g,v,x,b,_,E,A=y._positionDampen*(u||1),D=m.clamp(c/m._baseDelta,0,1),I=h.length;for(p=0;p<I;p++)(d=h[p]).isActive&&!d.isSensor&&(d.separation=(g=d.collision).depth+(b=g.normal).x*((x=g.parentB).positionImpulse.x-(v=g.parentA).positionImpulse.x)+b.y*(x.positionImpulse.y-v.positionImpulse.y));for(p=0;p<I;p++)(d=h[p]).isActive&&!d.isSensor&&(x=(g=d.collision).parentB,b=g.normal,E=d.separation-d.slop*D,((v=g.parentA).isStatic||x.isStatic)&&(E*=2),v.isStatic||v.isSleeping||(v.positionImpulse.x+=b.x*E*(_=A/v.totalContacts),v.positionImpulse.y+=b.y*E*_),x.isStatic||x.isSleeping||(x.positionImpulse.x-=b.x*E*(_=A/x.totalContacts),x.positionImpulse.y-=b.y*E*_))},y.postSolvePosition=function(h){for(var c=y._positionWarming,u=h.length,p=T.translate,d=f.update,g=0;g<u;g++){var v=h[g],x=v.positionImpulse,b=x.x,_=x.y,E=v.velocity;if(v.totalContacts=0,0!==b||0!==_){for(var A=0;A<v.parts.length;A++){var D=v.parts[A];p(D.vertices,x),d(D.bounds,D.vertices,E),D.position.x+=b,D.position.y+=_}v.positionPrev.x+=b,v.positionPrev.y+=_,b*E.x+_*E.y<0?(x.x=0,x.y=0):(x.x*=c,x.y*=c)}}},y.preSolveVelocity=function(h){var u,p,c=h.length;for(u=0;u<c;u++){var d=h[u];if(d.isActive&&!d.isSensor){var g=d.contacts,v=d.contactCount,x=d.collision,b=x.parentA,_=x.parentB,E=x.normal,A=x.tangent;for(p=0;p<v;p++){var D=g[p],I=D.vertex,R=D.normalImpulse,F=D.tangentImpulse;if(0!==R||0!==F){var L=E.x*R+A.x*F,V=E.y*R+A.y*F;b.isStatic||b.isSleeping||(b.positionPrev.x+=L*b.inverseMass,b.positionPrev.y+=V*b.inverseMass,b.anglePrev+=b.inverseInertia*((I.x-b.position.x)*V-(I.y-b.position.y)*L)),_.isStatic||_.isSleeping||(_.positionPrev.x-=L*_.inverseMass,_.positionPrev.y-=V*_.inverseMass,_.anglePrev-=_.inverseInertia*((I.x-_.position.x)*V-(I.y-_.position.y)*L))}}}}},y.solveVelocity=function(h,c){var E,A,D,I,u=c/m._baseDelta,d=u*u*u,g=-y._restingThresh*u,v=y._restingThreshTangent,x=y._frictionNormalMultiplier*u,b=y._frictionMaxStatic,_=h.length;for(D=0;D<_;D++){var R=h[D];if(R.isActive&&!R.isSensor){var F=R.collision,L=F.parentA,V=F.parentB,B=F.normal.x,G=F.normal.y,Q=F.tangent.x,H=F.tangent.y,K=R.inverseMass,tt=R.friction*R.frictionStatic*x,at=R.contacts,lt=R.contactCount,J=1/lt,it=L.position.x-L.positionPrev.x,Y=L.position.y-L.positionPrev.y,X=L.angle-L.anglePrev,nt=V.position.x-V.positionPrev.x,ht=V.position.y-V.positionPrev.y,gt=V.angle-V.anglePrev;for(I=0;I<lt;I++){var wt=at[I],St=wt.vertex,Vt=St.x-L.position.x,Zt=St.y-L.position.y,Jt=St.x-V.position.x,ie=St.y-V.position.y,Re=it-Zt*X-(nt-ie*gt),$e=Y+Vt*X-(ht+Jt*gt),Ce=B*Re+G*$e,Je=Q*Re+H*$e,ii=R.separation+Ce,Ni=Math.min(ii,1),Ji=(Ni=ii<0?0:Ni)*tt;Je<-Ji||Je>Ji?(E=R.friction*(Je>0?1:-1)*d)<-(A=Je>0?Je:-Je)?E=-A:E>A&&(E=A):(E=Je,A=b);var an=Vt*G-Zt*B,on=Jt*G-ie*B,dn=J/(K+L.inverseInertia*an*an+V.inverseInertia*on*on),Mr=(1+R.restitution)*Ce*dn;if(E*=dn,Ce<g)wt.normalImpulse=0;else{var Ur=wt.normalImpulse;wt.normalImpulse+=Mr,wt.normalImpulse>0&&(wt.normalImpulse=0),Mr=wt.normalImpulse-Ur}if(Je<-v||Je>v)wt.tangentImpulse=0;else{var un=wt.tangentImpulse;wt.tangentImpulse+=E,wt.tangentImpulse<-A&&(wt.tangentImpulse=-A),wt.tangentImpulse>A&&(wt.tangentImpulse=A),E=wt.tangentImpulse-un}var sr=B*Mr+Q*E,Or=G*Mr+H*E;L.isStatic||L.isSleeping||(L.positionPrev.x+=sr*L.inverseMass,L.positionPrev.y+=Or*L.inverseMass,L.anglePrev+=(Vt*Or-Zt*sr)*L.inverseInertia),V.isStatic||V.isSleeping||(V.positionPrev.x-=sr*V.inverseMass,V.positionPrev.y-=Or*V.inverseMass,V.anglePrev-=(Jt*Or-ie*sr)*V.inverseInertia)}}}}},48140:(C,k,a)=>{var y={};C.exports=y;var T=a(41598),m=a(31725),f=a(53614),h=a(15647),c=a(66615),u=a(53402);y._warming=.4,y._torqueDampen=1,y._minLength=1e-6,y.create=function(p){var d=p;d.bodyA&&!d.pointA&&(d.pointA={x:0,y:0}),d.bodyB&&!d.pointB&&(d.pointB={x:0,y:0});var g=d.bodyA?m.add(d.bodyA.position,d.pointA):d.pointA,v=d.bodyB?m.add(d.bodyB.position,d.pointB):d.pointB,x=m.magnitude(m.sub(g,v));d.length=typeof d.length<"u"?d.length:x,d.id=d.id||u.nextId(),d.label=d.label||"Constraint",d.type="constraint",d.stiffness=d.stiffness||(d.length>0?1:.7),d.damping=d.damping||0,d.angularStiffness=d.angularStiffness||0,d.angleA=d.bodyA?d.bodyA.angle:d.angleA,d.angleB=d.bodyB?d.bodyB.angle:d.angleB,d.plugin={};var b={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===d.length&&d.stiffness>.1?(b.type="pin",b.anchors=!1):d.stiffness<.9&&(b.type="spring"),d.render=u.extend(b,d.render),d},y.preSolveAll=function(p){for(var d=0;d<p.length;d+=1){var g=p[d],v=g.constraintImpulse;g.isStatic||0===v.x&&0===v.y&&0===v.angle||(g.position.x+=v.x,g.position.y+=v.y,g.angle+=v.angle)}},y.solveAll=function(p,d){for(var g=u.clamp(d/u._baseDelta,0,1),v=0;v<p.length;v+=1){var x=p[v],b=!x.bodyA||x.bodyA&&x.bodyA.isStatic,_=!x.bodyB||x.bodyB&&x.bodyB.isStatic;(b||_)&&y.solve(p[v],g)}for(v=0;v<p.length;v+=1)_=!(x=p[v]).bodyB||x.bodyB&&x.bodyB.isStatic,!(b=!x.bodyA||x.bodyA&&x.bodyA.isStatic)&&!_&&y.solve(p[v],g)},y.solve=function(p,d){var g=p.bodyA,v=p.bodyB,x=p.pointA,b=p.pointB;if(g||v){g&&!g.isStatic&&(m.rotate(x,g.angle-p.angleA,x),p.angleA=g.angle),v&&!v.isStatic&&(m.rotate(b,v.angle-p.angleB,b),p.angleB=v.angle);var _=x,E=b;if(g&&(_=m.add(g.position,x)),v&&(E=m.add(v.position,b)),_&&E){var A=m.sub(_,E),D=m.magnitude(A);D<y._minLength&&(D=y._minLength);var H,K,tt,at,lt,L=p.damping*d,V=m.mult(A,(D-p.length)/D*(p.stiffness>=1||0===p.length?p.stiffness*d:p.stiffness*d*d)),B=(g?g.inverseMass:0)+(v?v.inverseMass:0),Q=B+((g?g.inverseInertia:0)+(v?v.inverseInertia:0));if(L>0){var J=m.create();tt=m.div(A,D),lt=m.sub(v&&m.sub(v.position,v.positionPrev)||J,g&&m.sub(g.position,g.positionPrev)||J),at=m.dot(tt,lt)}g&&!g.isStatic&&(g.constraintImpulse.x-=V.x*(K=g.inverseMass/B),g.constraintImpulse.y-=V.y*K,g.position.x-=V.x*K,g.position.y-=V.y*K,L>0&&(g.positionPrev.x-=L*tt.x*at*K,g.positionPrev.y-=L*tt.y*at*K),H=m.cross(x,V)/Q*y._torqueDampen*g.inverseInertia*(1-p.angularStiffness),g.constraintImpulse.angle-=H,g.angle-=H),v&&!v.isStatic&&(v.constraintImpulse.x+=V.x*(K=v.inverseMass/B),v.constraintImpulse.y+=V.y*K,v.position.x+=V.x*K,v.position.y+=V.y*K,L>0&&(v.positionPrev.x+=L*tt.x*at*K,v.positionPrev.y+=L*tt.y*at*K),H=m.cross(b,V)/Q*y._torqueDampen*v.inverseInertia*(1-p.angularStiffness),v.constraintImpulse.angle+=H,v.angle+=H)}}},y.postSolveAll=function(p){for(var d=0;d<p.length;d++){var g=p[d],v=g.constraintImpulse;if(!(g.isStatic||0===v.x&&0===v.y&&0===v.angle)){f.set(g,!1);for(var x=0;x<g.parts.length;x++){var b=g.parts[x];T.translate(b.vertices,v),x>0&&(b.position.x+=v.x,b.position.y+=v.y),0!==v.angle&&(T.rotate(b.vertices,v.angle,g.position),c.rotate(b.axes,v.angle),x>0&&m.rotateAbout(b.position,v.angle,g.position,b.position)),h.update(b.bounds,b.vertices,g.velocity)}v.angle*=y._warming,v.x*=y._warming,v.y*=y._warming}}},y.pointAWorld=function(p){return{x:(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),y:(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0)}},y.pointBWorld=function(p){return{x:(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),y:(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0)}},y.currentLength=function(p){var b=(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0)-((p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0)),_=(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0)-((p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0));return Math.sqrt(b*b+_*_)}},53402:(C,k,a)=>{var y={};C.exports=y,function(){y._baseDelta=16.666666666666668,y._nextId=0,y._seed=0,y._nowStartTime=+new Date,y._warnedOnce={},y._decomp=null,y.extend=function(m,f){var h,u;"boolean"==typeof f?(h=2,u=f):(h=1,u=!0);for(var p=h;p<arguments.length;p++){var d=arguments[p];if(d)for(var g in d)!u||!d[g]||d[g].constructor!==Object||m[g]&&m[g].constructor!==Object?m[g]=d[g]:(m[g]=m[g]||{},y.extend(m[g],u,d[g]))}return m},y.clone=function(m,f){return y.extend({},f,m)},y.keys=function(m){if(Object.keys)return Object.keys(m);var f=[];for(var h in m)f.push(h);return f},y.values=function(m){var f=[];if(Object.keys){for(var h=Object.keys(m),c=0;c<h.length;c++)f.push(m[h[c]]);return f}for(var u in m)f.push(m[u]);return f},y.get=function(m,f,h,c){f=f.split(".").slice(h,c);for(var u=0;u<f.length;u+=1)m=m[f[u]];return m},y.set=function(m,f,h,c,u){var p=f.split(".").slice(c,u);return y.get(m,f,0,-1)[p[p.length-1]]=h,h},y.shuffle=function(m){for(var f=m.length-1;f>0;f--){var h=Math.floor(y.random()*(f+1)),c=m[f];m[f]=m[h],m[h]=c}return m},y.choose=function(m){return m[Math.floor(y.random()*m.length)]},y.isElement=function(m){return typeof HTMLElement<"u"?m instanceof HTMLElement:!!(m&&m.nodeType&&m.nodeName)},y.isArray=function(m){return"[object Array]"===Object.prototype.toString.call(m)},y.isFunction=function(m){return"function"==typeof m},y.isPlainObject=function(m){return"object"==typeof m&&m.constructor===Object},y.isString=function(m){return"[object String]"===toString.call(m)},y.clamp=function(m,f,h){return m<f?f:m>h?h:m},y.sign=function(m){return m<0?-1:1},y.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-y._nowStartTime},y.random=function(m,f){return f=typeof f<"u"?f:1,(m=typeof m<"u"?m:0)+T()*(f-m)};var T=function(){return y._seed=(9301*y._seed+49297)%233280,y._seed/233280};y.colorToNumber=function(m){return 3==(m=m.replace("#","")).length&&(m=m.charAt(0)+m.charAt(0)+m.charAt(1)+m.charAt(1)+m.charAt(2)+m.charAt(2)),parseInt(m,16)},y.logLevel=1,y.log=function(){console&&y.logLevel>0&&y.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},y.info=function(){console&&y.logLevel>0&&y.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},y.warn=function(){console&&y.logLevel>0&&y.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},y.warnOnce=function(){var m=Array.prototype.slice.call(arguments).join(" ");y._warnedOnce[m]||(y.warn(m),y._warnedOnce[m]=!0)},y.deprecated=function(m,f,h){m[f]=y.chain(function(){y.warnOnce("\u{1f505} deprecated \u{1f505}",h)},m[f])},y.nextId=function(){return y._nextId++},y.indexOf=function(m,f){if(m.indexOf)return m.indexOf(f);for(var h=0;h<m.length;h++)if(m[h]===f)return h;return-1},y.map=function(m,f){if(m.map)return m.map(f);for(var h=[],c=0;c<m.length;c+=1)h.push(f(m[c]));return h},y.topologicalSort=function(m){var f=[],h=[],c=[];for(var u in m)!h[u]&&!c[u]&&y._topologicalSort(u,h,c,m,f);return f},y._topologicalSort=function(m,f,h,c,u){var p=c[m]||[];h[m]=!0;for(var d=0;d<p.length;d+=1){var g=p[d];h[g]||f[g]||y._topologicalSort(g,f,h,c,u)}h[m]=!1,f[m]=!0,u.push(m)},y.chain=function(){for(var m=[],f=0;f<arguments.length;f+=1){var h=arguments[f];h._chained?m.push.apply(m,h._chained):m.push(h)}var c=function(){for(var u,p=new Array(arguments.length),d=0,g=arguments.length;d<g;d++)p[d]=arguments[d];for(d=0;d<m.length;d+=1){var v=m[d].apply(u,p);typeof v<"u"&&(u=v)}return u};return c._chained=m,c},y.chainPathBefore=function(m,f,h){return y.set(m,f,y.chain(h,y.get(m,f)))},y.chainPathAfter=function(m,f,h){return y.set(m,f,y.chain(y.get(m,f),h))},y.setDecomp=function(m){y._decomp=m},y.getDecomp=function(){var m=y._decomp;try{!m&&typeof window<"u"&&(m=window.decomp),!m&&typeof a.g<"u"&&(m=a.g.decomp)}catch{m=null}return m}}()},48413:(C,k,a)=>{var y={};C.exports=y;var T=a(53614),m=a(66272),f=a(81388),h=a(99561),c=a(35810),u=a(69351),p=a(48140),d=a(53402),g=a(22562);y._deltaMax=16.666666666666668,y.create=function(v){var b=d.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},v=v||{});return b.world=v.world||u.create({label:"World"}),b.pairs=v.pairs||h.create(),b.detector=v.detector||f.create(),b.detector.pairs=b.pairs,b.grid={buckets:[]},b.world.gravity=b.gravity,b.broadphase=b.grid,b.metrics={},b},y.update=function(v,x){var R,b=d.now(),_=v.world,E=v.detector,A=v.pairs,D=v.timing,I=D.timestamp;x>y._deltaMax&&d.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",y._deltaMax.toFixed(3),"ms."),x=typeof x<"u"?x:d._baseDelta,D.timestamp+=x*=D.timeScale,D.lastDelta=x;var F={timestamp:D.timestamp,delta:x};c.trigger(v,"beforeUpdate",F);var L=u.allBodies(_),V=u.allConstraints(_),B=u.allComposites(_);for(_.isModified&&(f.setBodies(E,L),u.setModified(_,!1,!1,!0)),v.enableSleeping&&T.update(L,x),y._bodiesApplyGravity(L,v.gravity),y.wrap(L,B),y.attractors(L),x>0&&y._bodiesUpdate(L,x),c.trigger(v,"beforeSolve",F),p.preSolveAll(L),R=0;R<v.constraintIterations;R++)p.solveAll(V,x);p.postSolveAll(L);var G=f.collisions(E);h.update(A,G,I),v.enableSleeping&&T.afterCollisions(A.list),A.collisionStart.length>0&&c.trigger(v,"collisionStart",{pairs:A.collisionStart,timestamp:D.timestamp,delta:x});var Q=d.clamp(20/v.positionIterations,0,1);for(m.preSolvePosition(A.list),R=0;R<v.positionIterations;R++)m.solvePosition(A.list,x,Q);for(m.postSolvePosition(L),p.preSolveAll(L),R=0;R<v.constraintIterations;R++)p.solveAll(V,x);for(p.postSolveAll(L),m.preSolveVelocity(A.list),R=0;R<v.velocityIterations;R++)m.solveVelocity(A.list,x);return y._bodiesUpdateVelocities(L),A.collisionActive.length>0&&c.trigger(v,"collisionActive",{pairs:A.collisionActive,timestamp:D.timestamp,delta:x}),A.collisionEnd.length>0&&c.trigger(v,"collisionEnd",{pairs:A.collisionEnd,timestamp:D.timestamp,delta:x}),y._bodiesClearForces(L),c.trigger(v,"afterUpdate",F),v.timing.lastElapsed=d.now()-b,v},y.merge=function(v,x){if(d.extend(v,x),x.world){v.world=x.world,y.clear(v);for(var b=u.allBodies(v.world),_=0;_<b.length;_++){var E=b[_];T.set(E,!1),E.id=d.nextId()}}},y.clear=function(v){h.clear(v.pairs),f.clear(v.detector)},y._bodiesClearForces=function(v){for(var x=v.length,b=0;b<x;b++){var _=v[b];_.force.x=0,_.force.y=0,_.torque=0}},y._bodiesApplyGravity=function(v,x){var b=typeof x.scale<"u"?x.scale:.001,_=v.length;if((0!==x.x||0!==x.y)&&0!==b)for(var E=0;E<_;E++){var A=v[E];A.ignoreGravity||A.isStatic||A.isSleeping||(A.force.y+=A.mass*x.y*b,A.force.x+=A.mass*x.x*b)}},y._bodiesUpdate=function(v,x){for(var b=v.length,_=0;_<b;_++){var E=v[_];E.isStatic||E.isSleeping||g.update(E,x)}},y._bodiesUpdateVelocities=function(v){for(var x=v.length,b=0;b<x;b++)g.updateVelocities(v[b])},y.wrap=function(v,x){for(var b=0;b<v.length;b+=1){var _=v[b];null!==_.wrapBounds&&g.wrap(_,_.wrapBounds)}for(b=0;b<x.length;b+=1){var E=x[b];null!==E.wrapBounds&&u.wrap(E,E.wrapBounds)}},y.attractors=function(v){for(var x=0;x<v.length;x++){var b=v[x],_=b.attractors;if(_&&_.length>0)for(var E=0;E<v.length;E++){var A=v[E];if(x!==E)for(var D=0;D<_.length;D++){var I=_[D],R=I;d.isFunction(I)&&(R=I(b,A)),R&&g.applyForce(A,A.position,R)}}}}},35810:(C,k,a)=>{var y={};C.exports=y;var T=a(53402);y.on=function(m,f,h){for(var u,c=f.split(" "),p=0;p<c.length;p++)u=c[p],m.events=m.events||{},m.events[u]=m.events[u]||[],m.events[u].push(h);return h},y.off=function(m,f,h){if(f){"function"==typeof f&&(h=f,f=T.keys(m.events).join(" "));for(var c=f.split(" "),u=0;u<c.length;u++){var p=m.events[c[u]],d=[];if(h&&p)for(var g=0;g<p.length;g++)p[g]!==h&&d.push(p[g]);m.events[c[u]]=d}}else m.events={}},y.trigger=function(m,f,h){var c,u,p,d,g=m.events;if(g&&T.keys(g).length>0){h||(h={}),c=f.split(" ");for(var v=0;v<c.length;v++)if(p=g[u=c[v]]){(d=T.clone(h,!1)).name=u,d.source=m;for(var x=0;x<p.length;x++)p[x].apply(m,[d])}}}},6790:(C,k,a)=>{var y={};C.exports=y;var T=a(73832),m=a(53402);y.name="matter-js",y.version="0.20.0",y.uses=[],y.used=[],y.use=function(){T.use(y,Array.prototype.slice.call(arguments))},y.before=function(f,h){return f=f.replace(/^Matter./,""),m.chainPathBefore(y,f,h)},y.after=function(f,h){return f=f.replace(/^Matter./,""),m.chainPathAfter(y,f,h)}},73832:(C,k,a)=>{var y={};C.exports=y;var T=a(53402);y._registry={},y.register=function(m){if(y.isPlugin(m)||T.warn("Plugin.register:",y.toString(m),"does not implement all required fields."),m.name in y._registry){var f=y._registry[m.name],h=y.versionParse(m.version).number,c=y.versionParse(f.version).number;h>c?(T.warn("Plugin.register:",y.toString(f),"was upgraded to",y.toString(m)),y._registry[m.name]=m):h<c?T.warn("Plugin.register:",y.toString(f),"can not be downgraded to",y.toString(m)):m!==f&&T.warn("Plugin.register:",y.toString(m),"is already registered to different plugin object")}else y._registry[m.name]=m;return m},y.resolve=function(m){return y._registry[y.dependencyParse(m).name]},y.toString=function(m){return"string"==typeof m?m:(m.name||"anonymous")+"@"+(m.version||m.range||"0.0.0")},y.isPlugin=function(m){return m&&m.name&&m.version&&m.install},y.isUsed=function(m,f){return m.used.indexOf(f)>-1},y.isFor=function(m,f){var h=m.for&&y.dependencyParse(m.for);return!m.for||f.name===h.name&&y.versionSatisfies(f.version,h.range)},y.use=function(m,f){if(m.uses=(m.uses||[]).concat(f||[]),0!==m.uses.length){for(var h=y.dependencies(m),c=T.topologicalSort(h),u=[],p=0;p<c.length;p+=1)if(c[p]!==m.name){var d=y.resolve(c[p]);if(!d){u.push("\u274c "+c[p]);continue}y.isUsed(m,d.name)||(y.isFor(d,m)||(T.warn("Plugin.use:",y.toString(d),"is for",d.for,"but installed on",y.toString(m)+"."),d._warned=!0),d.install?d.install(m):(T.warn("Plugin.use:",y.toString(d),"does not specify an install function."),d._warned=!0),d._warned?(u.push("\u{1f536} "+y.toString(d)),delete d._warned):u.push("\u2705 "+y.toString(d)),m.used.push(d.name))}u.length>0&&!d.silent&&T.info(u.join("  "))}else T.warn("Plugin.use:",y.toString(m),"does not specify any dependencies to install.")},y.dependencies=function(m,f){var h=y.dependencyParse(m),c=h.name;if(!(c in(f=f||{}))){m=y.resolve(m)||m,f[c]=T.map(m.uses||[],function(p){y.isPlugin(p)&&y.register(p);var d=y.dependencyParse(p),g=y.resolve(p);return g&&!y.versionSatisfies(g.version,d.range)?(T.warn("Plugin.dependencies:",y.toString(g),"does not satisfy",y.toString(d),"used by",y.toString(h)+"."),g._warned=!0,m._warned=!0):g||(T.warn("Plugin.dependencies:",y.toString(p),"used by",y.toString(h),"could not be resolved."),m._warned=!0),d.name});for(var u=0;u<f[c].length;u+=1)y.dependencies(f[c][u],f);return f}},y.dependencyParse=function(m){return T.isString(m)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(m)||T.warn("Plugin.dependencyParse:",m,"is not a valid dependency string."),{name:m.split("@")[0],range:m.split("@")[1]||"*"}):{name:m.name,range:m.range||m.version}},y.versionParse=function(m){var f=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;f.test(m)||T.warn("Plugin.versionParse:",m,"is not a valid version or range.");var h=f.exec(m),c=Number(h[4]),u=Number(h[5]),p=Number(h[6]);return{isRange:!(!h[1]&&!h[2]),version:h[3],range:m,operator:h[1]||h[2]||"",major:c,minor:u,patch:p,parts:[c,u,p],prerelease:h[7],number:1e8*c+1e4*u+p}},y.versionSatisfies=function(m,f){var h=y.versionParse(f=f||"*"),c=y.versionParse(m);if(h.isRange){if("*"===h.operator||"*"===m)return!0;if(">"===h.operator)return c.number>h.number;if(">="===h.operator)return c.number>=h.number;if("~"===h.operator)return c.major===h.major&&c.minor===h.minor&&c.patch>=h.patch;if("^"===h.operator)return h.major>0?c.major===h.major&&c.number>=h.number:h.minor>0?c.minor===h.minor&&c.patch>=h.patch:c.patch===h.patch}return m===f||"*"===m}},13037:(C,k,a)=>{var y={};C.exports=y;var T=a(35810),m=a(48413),f=a(53402);!function(){y._maxFrameDelta=66.66666666666667,y._frameDeltaFallback=16.666666666666668,y._timeBufferMargin=1.5,y._elapsedNextEstimate=1,y._smoothingLowerBound=.1,y._smoothingUpperBound=.9,y.create=function(c){var p=f.extend({delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},c);return p.fps=0,p},y.run=function(c,u){return c.timeBuffer=y._frameDeltaFallback,function p(d){c.frameRequestId=y._onNextFrame(c,p),d&&c.enabled&&y.tick(c,u,d)}(),c},y.tick=function(c,u,p){var d=f.now(),g=c.delta,v=0,x=p-c.timeLastTick;if((!x||!c.timeLastTick||x>Math.max(y._maxFrameDelta,c.maxFrameTime))&&(x=c.frameDelta||y._frameDeltaFallback),c.frameDeltaSmoothing){c.frameDeltaHistory.push(x),c.frameDeltaHistory=c.frameDeltaHistory.slice(-c.frameDeltaHistorySize);var b=c.frameDeltaHistory.slice(0).sort(),_=c.frameDeltaHistory.slice(b.length*y._smoothingLowerBound,b.length*y._smoothingUpperBound);x=h(_)||x}c.frameDeltaSnapping&&(x=1e3/Math.round(1e3/x)),c.frameDelta=x,c.timeLastTick=p,c.timeBuffer+=c.frameDelta,c.timeBuffer=f.clamp(c.timeBuffer,0,c.frameDelta+g*y._timeBufferMargin),c.lastUpdatesDeferred=0;var A=c.maxUpdates||Math.ceil(c.maxFrameTime/g),D={timestamp:u.timing.timestamp};T.trigger(c,"beforeTick",D),T.trigger(c,"tick",D);for(var I=f.now();g>0&&c.timeBuffer>=g*y._timeBufferMargin;){T.trigger(c,"beforeUpdate",D),m.update(u,g),T.trigger(c,"afterUpdate",D),c.timeBuffer-=g,v+=1;var R=f.now()-d,F=f.now()-I;if(v>=A||R+y._elapsedNextEstimate*F/v>c.maxFrameTime){c.lastUpdatesDeferred=Math.round(Math.max(0,c.timeBuffer/g-y._timeBufferMargin));break}}u.timing.lastUpdatesPerFrame=v,T.trigger(c,"afterTick",D),c.frameDeltaHistory.length>=100&&(c.lastUpdatesDeferred&&Math.round(c.frameDelta/g)>A?f.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):c.lastUpdatesDeferred&&f.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof c.isFixed<"u"&&f.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(c.deltaMin||c.deltaMax)&&f.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==c.fps&&f.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},y.stop=function(c){y._cancelNextFrame(c)},y._onNextFrame=function(c,u){if(!(typeof window<"u"&&window.requestAnimationFrame))throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return c.frameRequestId=window.requestAnimationFrame(u),c.frameRequestId},y._cancelNextFrame=function(c){if(!(typeof window<"u"&&window.cancelAnimationFrame))throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.");window.cancelAnimationFrame(c.frameRequestId)};var h=function(c){for(var u=0,p=c.length,d=0;d<p;d+=1)u+=c[d];return u/p||0}}()},53614:(C,k,a)=>{var y={};C.exports=y;var T=a(22562),m=a(35810),f=a(53402);y._motionWakeThreshold=.18,y._motionSleepThreshold=.08,y._minBias=.9,y.update=function(h,c){for(var u=c/f._baseDelta,p=y._motionSleepThreshold,d=0;d<h.length;d++){var g=h[d],v=T.getSpeed(g),x=T.getAngularSpeed(g),b=v*v+x*x;if(0===g.force.x&&0===g.force.y){var _=Math.min(g.motion,b),E=Math.max(g.motion,b);g.motion=y._minBias*_+(1-y._minBias)*E,g.sleepThreshold>0&&g.motion<p?(g.sleepCounter+=1,g.sleepCounter>=g.sleepThreshold/u&&y.set(g,!0)):g.sleepCounter>0&&(g.sleepCounter-=1)}else y.set(g,!1)}},y.afterCollisions=function(h){for(var c=y._motionSleepThreshold,u=0;u<h.length;u++){var p=h[u];if(p.isActive){var d=p.collision,g=d.bodyA.parent,v=d.bodyB.parent;if(!(g.isSleeping&&v.isSleeping||g.isStatic||v.isStatic)&&(g.isSleeping||v.isSleeping)){var x=g.isSleeping&&!g.isStatic?g:v;!x.isStatic&&(x===g?v:g).motion>c&&y.set(x,!1)}}}},y.set=function(h,c){var u=h.isSleeping;c?(h.isSleeping=!0,h.sleepCounter=h.sleepThreshold,h.positionImpulse.x=0,h.positionImpulse.y=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.speed=0,h.angularSpeed=0,h.motion=0,u||m.trigger(h,"sleepStart")):(h.isSleeping=!1,h.sleepCounter=0,u&&m.trigger(h,"sleepEnd"))}},66280:(C,k,a)=>{var y={};C.exports=y;var T=a(41598),m=a(53402),f=a(22562),h=a(15647),c=a(31725);y.rectangle=function(u,p,d,g,v){v=v||{};var x={label:"Rectangle Body",position:{x:u,y:p},vertices:T.fromPath("L 0 0 L "+d+" 0 L "+d+" "+g+" L 0 "+g)};if(v.chamfer){var b=v.chamfer;x.vertices=T.chamfer(x.vertices,b.radius,b.quality,b.qualityMin,b.qualityMax),delete v.chamfer}return f.create(m.extend({},x,v))},y.trapezoid=function(u,p,d,g,v,x){x=x||{},v>=1&&m.warn("Bodies.trapezoid: slope parameter must be < 1.");var _=d*(v*=.5),E=_+(1-2*v)*d,A=E+_,I={label:"Trapezoid Body",position:{x:u,y:p},vertices:T.fromPath(v<.5?"L 0 0 L "+_+" "+-g+" L "+E+" "+-g+" L "+A+" 0":"L 0 0 L "+E+" "+-g+" L "+A+" 0")};if(x.chamfer){var R=x.chamfer;I.vertices=T.chamfer(I.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete x.chamfer}return f.create(m.extend({},I,x))},y.circle=function(u,p,d,g,v){g=g||{};var x={label:"Circle Body",circleRadius:d};v=v||25;var b=Math.ceil(Math.max(10,Math.min(v,d)));return b%2==1&&(b+=1),y.polygon(u,p,b,d,m.extend({},x,g))},y.polygon=function(u,p,d,g,v){if(v=v||{},d<3)return y.circle(u,p,g,v);for(var x=2*Math.PI/d,b="",_=.5*x,E=0;E<d;E+=1){var A=_+E*x,D=Math.cos(A)*g,I=Math.sin(A)*g;b+="L "+D.toFixed(3)+" "+I.toFixed(3)+" "}var R={label:"Polygon Body",position:{x:u,y:p},vertices:T.fromPath(b)};if(v.chamfer){var F=v.chamfer;R.vertices=T.chamfer(R.vertices,F.radius,F.quality,F.qualityMin,F.qualityMax),delete v.chamfer}return f.create(m.extend({},R,v))},y.fromVertices=function(u,p,d,g,v,x,b,_){var A,D,I,R,L,V,B,G,Q,H,E=m.getDecomp();for(A=!(!E||!E.quickDecomp),g=g||{},I=[],v=typeof v<"u"&&v,x=typeof x<"u"?x:.01,b=typeof b<"u"?b:10,_=typeof _<"u"?_:.01,m.isArray(d[0])||(d=[d]),Q=0;Q<d.length;Q+=1)if(!(R=T.isConvex(L=d[Q]))&&!A&&m.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),R||!A)L=R?T.clockwiseSort(L):T.hull(L),I.push({position:{x:u,y:p},vertices:L});else{var K=L.map(function(wt){return[wt.x,wt.y]});E.makeCCW(K),!1!==x&&E.removeCollinearPoints(K,x),!1!==_&&E.removeDuplicatePoints&&E.removeDuplicatePoints(K,_);var tt=E.quickDecomp(K);for(V=0;V<tt.length;V++){var lt=tt[V].map(function(wt){return{x:wt[0],y:wt[1]}});b>0&&T.area(lt)<b||I.push({position:T.centre(lt),vertices:lt})}}for(V=0;V<I.length;V++)I[V]=f.create(m.extend(I[V],g));if(v)for(V=0;V<I.length;V++){var it=I[V];for(B=V+1;B<I.length;B++){var Y=I[B];if(h.overlaps(it.bounds,Y.bounds)){var X=it.vertices,nt=Y.vertices;for(G=0;G<it.vertices.length;G++)for(H=0;H<Y.vertices.length;H++){var ht=c.magnitudeSquared(c.sub(X[(G+1)%X.length],nt[H])),gt=c.magnitudeSquared(c.sub(X[G],nt[(H+1)%nt.length]));ht<5&&gt<5&&(X[G].isInternal=!0,nt[H].isInternal=!0)}}}}return I.length>1?(D=f.create(m.extend({parts:I.slice(0)},g)),f.setPosition(D,{x:u,y:p}),D):I[0]},y.flagCoincidentParts=function(u,p){void 0===p&&(p=5);for(var d=0;d<u.length;d++)for(var g=u[d],v=d+1;v<u.length;v++){var x=u[v];if(h.overlaps(g.bounds,x.bounds))for(var b=g.vertices,_=x.vertices,E=0;E<g.vertices.length;E++)for(var A=0;A<x.vertices.length;A++){var D=c.magnitudeSquared(c.sub(b[(E+1)%b.length],_[A])),I=c.magnitudeSquared(c.sub(b[E],_[(A+1)%_.length]));D<p&&I<p&&(b[E].isInternal=!0,_[A].isInternal=!0)}}return u}},74116:(C,k,a)=>{var y={};C.exports=y;var T=a(69351),m=a(48140),f=a(53402),h=a(22562),c=a(66280);y.stack=function(u,p,d,g,v,x,b){for(var D,_=T.create({label:"Stack"}),E=u,A=p,I=0,R=0;R<g;R++){for(var F=0,L=0;L<d;L++){var V=b(E,A,L,R,D,I);if(V){var B=V.bounds.max.y-V.bounds.min.y;B>F&&(F=B),h.translate(V,{x:.5*(V.bounds.max.x-V.bounds.min.x),y:.5*B}),E=V.bounds.max.x+v,T.addBody(_,V),D=V,I+=1}else E+=v}A+=F+x,E=u}return _},y.chain=function(u,p,d,g,v,x){for(var b=u.bodies,_=1;_<b.length;_++){var E=b[_-1],A=b[_],V=f.extend({bodyA:E,pointA:{x:(E.bounds.max.x-E.bounds.min.x)*p,y:(E.bounds.max.y-E.bounds.min.y)*d},bodyB:A,pointB:{x:(A.bounds.max.x-A.bounds.min.x)*g,y:(A.bounds.max.y-A.bounds.min.y)*v}},x);T.addConstraint(u,m.create(V))}return u.label+=" Chain",u},y.mesh=function(u,p,d,g,v){var b,_,A,x=u.bodies;for(b=0;b<d;b++){for(_=1;_<p;_++)T.addConstraint(u,m.create(f.extend({bodyA:x[_-1+b*p],bodyB:A=x[_+b*p]},v)));if(b>0)for(_=0;_<p;_++)T.addConstraint(u,m.create(f.extend({bodyA:x[_+(b-1)*p],bodyB:A=x[_+b*p]},v))),g&&_>0&&T.addConstraint(u,m.create(f.extend({bodyA:x[_-1+(b-1)*p],bodyB:A},v))),g&&_<p-1&&T.addConstraint(u,m.create(f.extend({bodyA:x[_+1+(b-1)*p],bodyB:A},v)))}return u.label+=" Mesh",u},y.pyramid=function(u,p,d,g,v,x,b){return y.stack(u,p,d,g,v,x,function(_,E,A,D,I,R){var F=Math.min(g,Math.ceil(d/2)),L=I?I.bounds.max.x-I.bounds.min.x:0;if(!(D>F||A<(D=F-D)||A>d-1-D))return 1===R&&h.translate(I,{x:(A+(d%2==1?1:-1))*L,y:0}),b(u+(I?A*L:0)+A*v,E,A,D,I,R)})},y.newtonsCradle=function(u,p,d,g,v){for(var x=T.create({label:"Newtons Cradle"}),b=0;b<d;b++){var E=c.circle(u+b*(1.9*g),p+v,g,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),A=m.create({pointA:{x:u+b*(1.9*g),y:p},bodyB:E});T.addBody(x,E),T.addConstraint(x,A)}return x},y.car=function(u,p,d,g,v){var x=h.nextGroup(!0),_=.5*-d+20,E=.5*d-20,D=T.create({label:"Car"}),I=c.rectangle(u,p,d,g,{collisionFilter:{group:x},chamfer:{radius:.5*g},density:2e-4}),R=c.circle(u+_,p+0,v,{collisionFilter:{group:x},friction:.8}),F=c.circle(u+E,p+0,v,{collisionFilter:{group:x},friction:.8}),L=m.create({bodyB:I,pointB:{x:_,y:0},bodyA:R,stiffness:1,length:0}),V=m.create({bodyB:I,pointB:{x:E,y:0},bodyA:F,stiffness:1,length:0});return T.addBody(D,I),T.addBody(D,R),T.addBody(D,F),T.addConstraint(D,L),T.addConstraint(D,V),D},y.softBody=function(u,p,d,g,v,x,b,_,E,A){E=f.extend({inertia:1/0},E),A=f.extend({stiffness:.2,render:{type:"line",anchors:!1}},A);var D=y.stack(u,p,d,g,v,x,function(I,R){return c.circle(I,R,_,E)});return y.mesh(D,d,g,b,A),D.label="Soft Body",D}},66615:(C,k,a)=>{var y={};C.exports=y;var T=a(31725),m=a(53402);y.fromVertices=function(f){for(var h={},c=0;c<f.length;c++){var u=(c+1)%f.length,p=T.normalise({x:f[u].y-f[c].y,y:f[c].x-f[u].x}),d=0===p.y?1/0:p.x/p.y;h[d=d.toFixed(3).toString()]=p}return m.values(h)},y.rotate=function(f,h){if(0!==h)for(var c=Math.cos(h),u=Math.sin(h),p=0;p<f.length;p++){var g,d=f[p];g=d.x*c-d.y*u,d.y=d.x*u+d.y*c,d.x=g}}},15647:C=>{var k={};C.exports=k,k.create=function(a){var y={min:{x:0,y:0},max:{x:0,y:0}};return a&&k.update(y,a),y},k.update=function(a,y,T){a.min.x=1/0,a.max.x=-1/0,a.min.y=1/0,a.max.y=-1/0;for(var m=0;m<y.length;m++){var f=y[m];f.x>a.max.x&&(a.max.x=f.x),f.x<a.min.x&&(a.min.x=f.x),f.y>a.max.y&&(a.max.y=f.y),f.y<a.min.y&&(a.min.y=f.y)}T&&(T.x>0?a.max.x+=T.x:a.min.x+=T.x,T.y>0?a.max.y+=T.y:a.min.y+=T.y)},k.contains=function(a,y){return y.x>=a.min.x&&y.x<=a.max.x&&y.y>=a.min.y&&y.y<=a.max.y},k.overlaps=function(a,y){return a.min.x<=y.max.x&&a.max.x>=y.min.x&&a.max.y>=y.min.y&&a.min.y<=y.max.y},k.translate=function(a,y){a.min.x+=y.x,a.max.x+=y.x,a.min.y+=y.y,a.max.y+=y.y},k.shift=function(a,y){var T=a.max.x-a.min.x,m=a.max.y-a.min.y;a.min.x=y.x,a.max.x=y.x+T,a.min.y=y.y,a.max.y=y.y+m},k.wrap=function(a,y,T){var m=null,f=null;if(typeof y.min.x<"u"&&typeof y.max.x<"u"&&(a.min.x>y.max.x?m=y.min.x-a.max.x:a.max.x<y.min.x&&(m=y.max.x-a.min.x)),typeof y.min.y<"u"&&typeof y.max.y<"u"&&(a.min.y>y.max.y?f=y.min.y-a.max.y:a.max.y<y.min.y&&(f=y.max.y-a.min.y)),null!==m||null!==f)return{x:m||0,y:f||0}}},74058:(C,k,a)=>{var y={};C.exports=y,a(15647);var m=a(53402);y.pathToVertices=function(f,h){typeof window<"u"&&!("SVGPathSeg"in window)&&m.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var c,u,p,d,g,v,x,b,_,D,I,A=[],R=0,F=0,L=0;h=h||15;var V=function(G,Q,H){var K=H%2==1&&H>1;if(!_||G!=_.x||Q!=_.y){_&&K?(D=_.x,I=_.y):(D=0,I=0);var tt={x:D+G,y:I+Q};(K||!_)&&(_=tt),A.push(tt),F=D+G,L=I+Q}},B=function(G){var Q=G.pathSegTypeAsLetter.toUpperCase();if("Z"!==Q){switch(Q){case"M":case"L":case"T":case"C":case"S":case"Q":F=G.x,L=G.y;break;case"H":F=G.x;break;case"V":L=G.y}V(F,L,G.pathSegType)}};for(y._svgPathToAbsolute(f),p=f.getTotalLength(),v=[],c=0;c<f.pathSegList.numberOfItems;c+=1)v.push(f.pathSegList.getItem(c));for(x=v.concat();R<p;){if((g=v[f.getPathSegAtLength(R)])!=b){for(;x.length&&x[0]!=g;)B(x.shift());b=g}switch(g.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":d=f.getPointAtLength(R),V(d.x,d.y,0)}R+=h}for(c=0,u=x.length;c<u;++c)B(x[c]);return A},y._svgPathToAbsolute=function(f){for(var h,c,u,p,d,g,v=f.pathSegList,x=0,b=0,_=v.numberOfItems,E=0;E<_;++E){var A=v.getItem(E),D=A.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(D))"x"in A&&(x=A.x),"y"in A&&(b=A.y);else switch("x1"in A&&(u=x+A.x1),"x2"in A&&(d=x+A.x2),"y1"in A&&(p=b+A.y1),"y2"in A&&(g=b+A.y2),"x"in A&&(x+=A.x),"y"in A&&(b+=A.y),D){case"m":v.replaceItem(f.createSVGPathSegMovetoAbs(x,b),E);break;case"l":v.replaceItem(f.createSVGPathSegLinetoAbs(x,b),E);break;case"h":v.replaceItem(f.createSVGPathSegLinetoHorizontalAbs(x),E);break;case"v":v.replaceItem(f.createSVGPathSegLinetoVerticalAbs(b),E);break;case"c":v.replaceItem(f.createSVGPathSegCurvetoCubicAbs(x,b,u,p,d,g),E);break;case"s":v.replaceItem(f.createSVGPathSegCurvetoCubicSmoothAbs(x,b,d,g),E);break;case"q":v.replaceItem(f.createSVGPathSegCurvetoQuadraticAbs(x,b,u,p),E);break;case"t":v.replaceItem(f.createSVGPathSegCurvetoQuadraticSmoothAbs(x,b),E);break;case"a":v.replaceItem(f.createSVGPathSegArcAbs(x,b,A.r1,A.r2,A.angle,A.largeArcFlag,A.sweepFlag),E);break;case"z":case"Z":x=h,b=c}("M"==D||"m"==D)&&(h=x,c=b)}}},31725:C=>{var k={};C.exports=k,k.create=function(a,y){return{x:a||0,y:y||0}},k.clone=function(a){return{x:a.x,y:a.y}},k.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},k.magnitudeSquared=function(a){return a.x*a.x+a.y*a.y},k.rotate=function(a,y,T){var m=Math.cos(y),f=Math.sin(y);T||(T={});var h=a.x*m-a.y*f;return T.y=a.x*f+a.y*m,T.x=h,T},k.rotateAbout=function(a,y,T,m){var f=Math.cos(y),h=Math.sin(y);m||(m={});var c=T.x+((a.x-T.x)*f-(a.y-T.y)*h);return m.y=T.y+((a.x-T.x)*h+(a.y-T.y)*f),m.x=c,m},k.normalise=function(a){var y=k.magnitude(a);return 0===y?{x:0,y:0}:{x:a.x/y,y:a.y/y}},k.dot=function(a,y){return a.x*y.x+a.y*y.y},k.cross=function(a,y){return a.x*y.y-a.y*y.x},k.cross3=function(a,y,T){return(y.x-a.x)*(T.y-a.y)-(y.y-a.y)*(T.x-a.x)},k.add=function(a,y,T){return T||(T={}),T.x=a.x+y.x,T.y=a.y+y.y,T},k.sub=function(a,y,T){return T||(T={}),T.x=a.x-y.x,T.y=a.y-y.y,T},k.mult=function(a,y){return{x:a.x*y,y:a.y*y}},k.div=function(a,y){return{x:a.x/y,y:a.y/y}},k.perp=function(a,y){return{x:(y=!0===y?-1:1)*-a.y,y:y*a.x}},k.neg=function(a){return{x:-a.x,y:-a.y}},k.angle=function(a,y){return Math.atan2(y.y-a.y,y.x-a.x)},k._temp=[k.create(),k.create(),k.create(),k.create(),k.create(),k.create()]},41598:(C,k,a)=>{var y={};C.exports=y;var T=a(31725),m=a(53402);y.create=function(f,h){for(var c=[],u=0;u<f.length;u++){var p=f[u];c.push({x:p.x,y:p.y,index:u,body:h,isInternal:!1})}return c},y.fromPath=function(f,h){var u=[];return f.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,function(p,d,g){u.push({x:parseFloat(d),y:parseFloat(g)})}),y.create(u,h)},y.centre=function(f){for(var u,p,d,h=y.area(f,!0),c={x:0,y:0},g=0;g<f.length;g++)u=T.cross(f[g],f[d=(g+1)%f.length]),p=T.mult(T.add(f[g],f[d]),u),c=T.add(c,p);return T.div(c,6*h)},y.mean=function(f){for(var h={x:0,y:0},c=0;c<f.length;c++)h.x+=f[c].x,h.y+=f[c].y;return T.div(h,f.length)},y.area=function(f,h){for(var c=0,u=f.length-1,p=0;p<f.length;p++)c+=(f[u].x-f[p].x)*(f[u].y+f[p].y),u=p;return h?c/2:Math.abs(c)/2},y.inertia=function(f,h){for(var d,g,c=0,u=0,p=f,v=0;v<p.length;v++)g=(v+1)%p.length,c+=(d=Math.abs(T.cross(p[g],p[v])))*(T.dot(p[g],p[g])+T.dot(p[g],p[v])+T.dot(p[v],p[v])),u+=d;return h/6*(c/u)},y.translate=function(f,h,c){var g,u=f.length,p=h.x*(c=typeof c<"u"?c:1),d=h.y*c;for(g=0;g<u;g++)f[g].x+=p,f[g].y+=d;return f},y.rotate=function(f,h,c){if(0!==h){var x,b,_,E,u=Math.cos(h),p=Math.sin(h),d=c.x,g=c.y,v=f.length;for(E=0;E<v;E++)(x=f[E]).x=d+((b=x.x-d)*u-(_=x.y-g)*p),x.y=g+(b*p+_*u);return f}},y.contains=function(f,h){for(var g,c=h.x,u=h.y,p=f.length,d=f[p-1],v=0;v<p;v++){if((c-d.x)*((g=f[v]).y-d.y)+(u-d.y)*(d.x-g.x)>0)return!1;d=g}return!0},y.scale=function(f,h,c,u){if(1===h&&1===c)return f;u=u||y.centre(f);for(var d,g=0;g<f.length;g++)d=T.sub(f[g],u),f[g].x=u.x+d.x*h,f[g].y=u.y+d.y*c;return f},y.chamfer=function(f,h,c,u,p){h="number"==typeof h?[h]:h||[8],c=typeof c<"u"?c:-1,u=u||2,p=p||14;for(var d=[],g=0;g<f.length;g++){var v=f[g-1>=0?g-1:f.length-1],x=f[g],b=f[(g+1)%f.length],_=h[g<h.length?g:h.length-1];if(0!==_){var E=T.normalise({x:x.y-v.y,y:v.x-x.x}),A=T.normalise({x:b.y-x.y,y:x.x-b.x}),D=Math.sqrt(2*Math.pow(_,2)),I=T.mult(m.clone(E),_),R=T.normalise(T.mult(T.add(E,A),.5)),F=T.sub(x,T.mult(R,D)),L=c;-1===c&&(L=1.75*Math.pow(_,.32)),(L=m.clamp(L,u,p))%2==1&&(L+=1);for(var B=Math.acos(T.dot(E,A))/L,G=0;G<L;G++)d.push(T.add(T.rotate(I,B*G),F))}else d.push(x)}return d},y.clockwiseSort=function(f){var h=y.mean(f);return f.sort(function(c,u){return T.angle(h,c)-T.angle(h,u)}),f},y.isConvex=function(f){var u,p,d,g,h=0,c=f.length;if(c<3)return null;for(u=0;u<c;u++)if(g=(f[p=(u+1)%c].x-f[u].x)*(f[d=(u+2)%c].y-f[p].y),(g-=(f[p].y-f[u].y)*(f[d].x-f[p].x))<0?h|=1:g>0&&(h|=2),3===h)return!1;return 0!==h||null},y.hull=function(f){var u,p,h=[],c=[];for((f=f.slice(0)).sort(function(d,g){var v=d.x-g.x;return 0!==v?v:d.y-g.y}),p=0;p<f.length;p+=1){for(u=f[p];c.length>=2&&T.cross3(c[c.length-2],c[c.length-1],u)<=0;)c.pop();c.push(u)}for(p=f.length-1;p>=0;p-=1){for(u=f[p];h.length>=2&&T.cross3(h[h.length-2],h[h.length-1],u)<=0;)h.pop();h.push(u)}return h.pop(),c.pop(),h.concat(c)}},55973:C=>{function k(J,it,Y){var nt,ht,gt,wt,St,Vt,Zt,X=[0,0];return gt=(nt=J[1][1]-J[0][1])*J[0][0]+(ht=J[0][0]-J[1][0])*J[0][1],Vt=(wt=it[1][1]-it[0][1])*it[0][0]+(St=it[0][0]-it[1][0])*it[0][1],at(Zt=nt*St-wt*ht,0,Y=Y||0)||(X[0]=(St*gt-ht*Vt)/Zt,X[1]=(nt*Vt-wt*gt)/Zt),X}function a(J,it,Y,X){var nt=it[0]-J[0],ht=it[1]-J[1],gt=X[0]-Y[0],wt=X[1]-Y[1];if(gt*ht-wt*nt==0)return!1;var St=(nt*(Y[1]-J[1])+ht*(J[0]-Y[0]))/(gt*ht-wt*nt),Vt=(gt*(J[1]-Y[1])+wt*(Y[0]-J[0]))/(wt*nt-gt*ht);return St>=0&&St<=1&&Vt>=0&&Vt<=1}function y(J,it,Y){return(it[0]-J[0])*(Y[1]-J[1])-(Y[0]-J[0])*(it[1]-J[1])}function T(J,it,Y){return y(J,it,Y)>0}function m(J,it,Y){return y(J,it,Y)>=0}function f(J,it,Y){return y(J,it,Y)<0}function h(J,it,Y){return y(J,it,Y)<=0}C.exports={decomp:function V(J){var it=L(J);return it.length>0?B(J,it):[J]},quickDecomp:function H(J,it,Y,X,nt,ht,gt){gt=gt||0,nt=nt||25,it=typeof it<"u"?it:[],Y=Y||[],X=X||[];var wt=[0,0],St=[0,0],Vt=[0,0],Zt=0,Jt=0,ie=0,ae=0,fe=0,Pe=0,Xe=0,Re=[],$e=[],Ce=J,Je=J;if(Je.length<3)return it;if(++gt>(ht=ht||100))return console.warn("quickDecomp: max level ("+ht+") reached."),it;for(var ii=0;ii<J.length;++ii)if(E(Ce,ii)){Y.push(Ce[ii]),Zt=Jt=Number.MAX_VALUE;for(var Ni=0;Ni<J.length;++Ni)T(g(Ce,ii-1),g(Ce,ii),g(Ce,Ni))&&h(g(Ce,ii-1),g(Ce,ii),g(Ce,Ni-1))&&(Vt=Q(g(Ce,ii-1),g(Ce,ii),g(Ce,Ni),g(Ce,Ni-1)),f(g(Ce,ii+1),g(Ce,ii),Vt)&&(ie=d(Ce[ii],Vt))<Jt&&(Jt=ie,St=Vt,Pe=Ni)),T(g(Ce,ii+1),g(Ce,ii),g(Ce,Ni+1))&&h(g(Ce,ii+1),g(Ce,ii),g(Ce,Ni))&&(Vt=Q(g(Ce,ii+1),g(Ce,ii),g(Ce,Ni),g(Ce,Ni+1)),T(g(Ce,ii-1),g(Ce,ii),Vt)&&(ie=d(Ce[ii],Vt))<Zt&&(Zt=ie,wt=Vt,fe=Ni));if(Pe===(fe+1)%J.length)Vt[0]=(St[0]+wt[0])/2,Vt[1]=(St[1]+wt[1])/2,X.push(Vt),ii<fe?(x(Re,Ce,ii,fe+1),Re.push(Vt),$e.push(Vt),0!==Pe&&x($e,Ce,Pe,Ce.length),x($e,Ce,0,ii+1)):(0!==ii&&x(Re,Ce,ii,Ce.length),x(Re,Ce,0,fe+1),Re.push(Vt),$e.push(Vt),x($e,Ce,Pe,ii+1));else{if(Pe>fe&&(fe+=J.length),ae=Number.MAX_VALUE,fe<Pe)return it;for(Ni=Pe;Ni<=fe;++Ni)m(g(Ce,ii-1),g(Ce,ii),g(Ce,Ni))&&h(g(Ce,ii+1),g(Ce,ii),g(Ce,Ni))&&(ie=d(g(Ce,ii),g(Ce,Ni)))<ae&&R(Ce,ii,Ni)&&(ae=ie,Xe=Ni%J.length);ii<Xe?(x(Re,Ce,ii,Xe+1),0!==Xe&&x($e,Ce,Xe,Je.length),x($e,Ce,0,ii+1)):(0!==ii&&x(Re,Ce,ii,Je.length),x(Re,Ce,0,Xe+1),x($e,Ce,Xe,ii+1))}return Re.length<$e.length?(H(Re,it,Y,X,nt,ht,gt),H($e,it,Y,X,nt,ht,gt)):(H($e,it,Y,X,nt,ht,gt),H(Re,it,Y,X,nt,ht,gt)),it}return it.push(J),it},isSimple:function G(J){var Y,it=J;for(Y=0;Y<it.length-1;Y++)for(var X=0;X<Y-1;X++)if(a(it[Y],it[Y+1],it[X],it[X+1]))return!1;for(Y=1;Y<it.length-2;Y++)if(a(it[0],it[it.length-1],it[Y],it[Y+1]))return!1;return!0},removeCollinearPoints:function K(J,it){for(var Y=0,X=J.length-1;J.length>3&&X>=0;--X)p(g(J,X-1),g(J,X),g(J,X+1),it)&&(J.splice(X%J.length,1),Y++);return Y},removeDuplicatePoints:function tt(J,it){for(var Y=J.length-1;Y>=1;--Y)for(var X=J[Y],nt=Y-1;nt>=0;--nt)if(lt(X,J[nt],it)){J.splice(Y,1);continue}},makeCCW:function b(J){for(var it=0,Y=J,X=1;X<J.length;++X)(Y[X][1]<Y[it][1]||Y[X][1]===Y[it][1]&&Y[X][0]>Y[it][0])&&(it=X);return!T(g(J,it-1),g(J,it),g(J,it+1))&&(function _(J){for(var it=[],Y=J.length,X=0;X!==Y;X++)it.push(J.pop());for(X=0;X!==Y;X++)J[X]=it[X]}(J),!0)}};var c=[],u=[];function p(J,it,Y,X){if(X){var nt=c,ht=u;nt[0]=it[0]-J[0],nt[1]=it[1]-J[1],ht[0]=Y[0]-it[0],ht[1]=Y[1]-it[1];var gt=nt[0]*ht[0]+nt[1]*ht[1],wt=Math.sqrt(nt[0]*nt[0]+nt[1]*nt[1]),St=Math.sqrt(ht[0]*ht[0]+ht[1]*ht[1]);return Math.acos(gt/(wt*St))<X}return 0===y(J,it,Y)}function d(J,it){var Y=it[0]-J[0],X=it[1]-J[1];return Y*Y+X*X}function g(J,it){var Y=J.length;return J[it<0?it%Y+Y:it%Y]}function x(J,it,Y,X){for(var nt=Y;nt<X;nt++)J.push(it[nt])}function E(J,it){return f(g(J,it-1),g(J,it),g(J,it+1))}var A=[],D=[];function I(J,it,Y){var X,nt,ht=A,gt=D;if(m(g(J,it+1),g(J,it),g(J,Y))&&h(g(J,it-1),g(J,it),g(J,Y)))return!1;nt=d(g(J,it),g(J,Y));for(var wt=0;wt!==J.length;++wt)if((wt+1)%J.length!==it&&wt!==it&&m(g(J,it),g(J,Y),g(J,wt+1))&&h(g(J,it),g(J,Y),g(J,wt))&&(ht[0]=g(J,it),ht[1]=g(J,Y),gt[0]=g(J,wt),gt[1]=g(J,wt+1),X=k(ht,gt),d(g(J,it),X)<nt))return!1;return!0}function R(J,it,Y){for(var X=0;X!==J.length;++X)if(X!==it&&X!==Y&&(X+1)%J.length!==it&&(X+1)%J.length!==Y&&a(g(J,it),g(J,Y),g(J,X),g(J,X+1)))return!1;return!0}function F(J,it,Y,X){var nt=X||[];if(function v(J){J.length=0}(nt),it<Y)for(var ht=it;ht<=Y;ht++)nt.push(J[ht]);else{for(ht=0;ht<=Y;ht++)nt.push(J[ht]);for(ht=it;ht<J.length;ht++)nt.push(J[ht])}return nt}function L(J){for(var it=[],Y=[],X=[],nt=[],ht=Number.MAX_VALUE,gt=0;gt<J.length;++gt)if(E(J,gt))for(var wt=0;wt<J.length;++wt)if(I(J,gt,wt)){Y=L(F(J,gt,wt,nt)),X=L(F(J,wt,gt,nt));for(var St=0;St<X.length;St++)Y.push(X[St]);Y.length<ht&&(ht=Y.length,(it=Y).push([g(J,gt),g(J,wt)]))}return it}function B(J,it){if(0===it.length)return[J];if(it instanceof Array&&it.length&&it[0]instanceof Array&&2===it[0].length&&it[0][0]instanceof Array){for(var Y=[J],X=0;X<it.length;X++)for(var nt=it[X],ht=0;ht<Y.length;ht++){var wt=B(Y[ht],nt);if(wt){Y.splice(ht,1),Y.push(wt[0],wt[1]);break}}return Y}return X=J.indexOf((nt=it)[0]),ht=J.indexOf(nt[1]),-1!==X&&-1!==ht&&[F(J,X,ht),F(J,ht,X)]}function Q(J,it,Y,X,nt){var ht=it[1]-J[1],gt=J[0]-it[0],wt=ht*J[0]+gt*J[1],St=X[1]-Y[1],Vt=Y[0]-X[0],Zt=St*Y[0]+Vt*Y[1],Jt=ht*Vt-St*gt;return at(Jt,0,nt=nt||0)?[0,0]:[(Vt*wt-gt*Zt)/Jt,(ht*Zt-St*wt)/Jt]}function at(J,it,Y){return Y=Y||0,Math.abs(J-it)<=Y}function lt(J,it,Y){return at(J[0],it[0],Y)&&at(J[1],it[1],Y)}},52018:(C,k,a)=>{var T=new(a(83419))({initialize:function(f){this.pluginManager=f,this.game=f.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});C.exports=T},42363:C=>{C.exports={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]}},37277:C=>{var k={},a={};C.exports={register:function(T,m,f,h){void 0===h&&(h=!1),k[T]={plugin:m,mapping:f,custom:h}},registerCustom:function(T,m,f,h){a[T]={plugin:m,mapping:f,data:h}},hasCore:function(T){return k.hasOwnProperty(T)},hasCustom:function(T){return a.hasOwnProperty(T)},getCore:function(T){return k[T]},getCustom:function(T){return a[T]},getCustomClass:function(T){return a.hasOwnProperty(T)?a[T].plugin:null},remove:function(T){k.hasOwnProperty(T)&&delete k[T]},removeCustom:function(T){a.hasOwnProperty(T)&&delete a[T]},destroyCorePlugins:function(){for(var T in k)k.hasOwnProperty(T)&&delete k[T]},destroyCustomPlugins:function(){for(var T in a)a.hasOwnProperty(T)&&delete a[T]}}},77332:(C,k,a)=>{var y=a(83419),T=a(8443),m=a(50792),f=a(74099),h=a(44603),c=a(39429),u=a(95540),p=a(37277),d=a(72905),g=new y({Extends:m,initialize:function(x){m.call(this),this.game=x,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],x.isBooted?this.boot():x.events.once(T.BOOT,this.boot,this)},boot:function(){var v,x,b,_,E,A,D,I=this.game.config,R=I.installGlobalPlugins;for(R=R.concat(this._pendingGlobal),v=0;v<R.length;v++)b=u(x=R[v],"key",null),_=u(x,"plugin",null),E=u(x,"start",!1),A=u(x,"mapping",null),D=u(x,"data",null),b&&(_?this.install(b,_,E,A,D):console.warn("Missing `plugin` for key: "+b));for(R=(R=I.installScenePlugins).concat(this._pendingScene),v=0;v<R.length;v++)b=u(x=R[v],"key",null),_=u(x,"plugin",null),A=u(x,"mapping",null),b&&(_?this.installScenePlugin(b,_,A):console.warn("Missing `plugin` for key: "+b));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(T.DESTROY,this.destroy,this)},addToScene:function(v,x,b){var _,E,A,D=this.game,I=v.scene,R=v.settings.map,F=v.settings.isBooted;for(_=0;_<x.length;_++)D[E=x[_]]?(v[E]=D[E],R.hasOwnProperty(E)&&(I[R[E]]=v[E])):"game"===E&&R.hasOwnProperty(E)&&(I[R[E]]=D);for(var L=0;L<b.length;L++)for(A=b[L],_=0;_<A.length;_++)if(p.hasCore(E=A[_])){var V=p.getCore(E),B=V.mapping,G=new V.plugin(I,this,B);v[B]=G,V.custom?I[B]=G:R.hasOwnProperty(B)&&(I[R[B]]=G),F&&G.boot()}for(A=this.plugins,_=0;_<A.length;_++){var Q=A[_];Q.mapping&&(I[Q.mapping]=Q.plugin)}},getDefaultScenePlugins:function(){var v=this.game.config.defaultPlugins;return v.concat(this.scenePlugins)},installScenePlugin:function(v,x,b,_,E){if(void 0===E&&(E=!1),"function"==typeof x){if(p.hasCore(v)||p.register(v,x,b,!0),-1===this.scenePlugins.indexOf(v))this.scenePlugins.push(v);else if(!E&&p.hasCore(v))return void console.warn("Scene Plugin key in use: "+v);if(_){var A=new x(_,this,v);_.sys[v]=A,b&&""!==b&&(_[b]=A),A.boot()}}else console.warn("Invalid Scene Plugin: "+v)},install:function(v,x,b,_,E){if(void 0===b&&(b=!1),void 0===_&&(_=null),void 0===E&&(E=null),"function"!=typeof x)return console.warn("Invalid Plugin: "+v),null;if(p.hasCustom(v))return console.warn("Plugin key in use: "+v),null;if(null!==_&&(b=!0),this.game.isBooted){if(p.registerCustom(v,x,_,E),b)return this.start(v)}else this._pendingGlobal.push({key:v,plugin:x,start:b,mapping:_,data:E});return null},getIndex:function(v){for(var x=this.plugins,b=0;b<x.length;b++)if(x[b].key===v)return b;return-1},getEntry:function(v){var x=this.getIndex(v);if(-1!==x)return this.plugins[x]},isActive:function(v){var x=this.getEntry(v);return x&&x.active},start:function(v,x){void 0===x&&(x=v);var b=this.getEntry(x);return b&&!b.active?(b.active=!0,b.plugin.start()):b||(b=this.createEntry(v,x)),b?b.plugin:null},createEntry:function(v,x){var b=p.getCustom(v);if(b){var _=new b.plugin(this);this.plugins.push(b={key:x,plugin:_,active:!0,mapping:b.mapping,data:b.data}),_.init(b.data),_.start()}return b},stop:function(v){var x=this.getEntry(v);return x&&x.active&&(x.active=!1,x.plugin.stop()),this},get:function(v,x){void 0===x&&(x=!0);var b=this.getEntry(v);if(b)return b.plugin;var _=this.getClass(v);return _&&x?(b=this.createEntry(v,v))?b.plugin:null:_||null},getClass:function(v){return p.getCustomClass(v)},removeGlobalPlugin:function(v){var x=this.getEntry(v);x&&d(this.plugins,x),p.removeCustom(v)},removeScenePlugin:function(v){d(this.scenePlugins,v),p.remove(v)},registerGameObject:function(v,x,b){return x&&c.register(v,x),b&&h.register(v,b),this},removeGameObject:function(v,x,b){return void 0===x&&(x=!0),void 0===b&&(b=!0),x&&c.remove(v),b&&h.remove(v),this},registerFileType:function(v,x,b){f.register(v,x),b&&b.sys.load&&(b.sys.load[v]=x)},destroy:function(){for(var v=0;v<this.plugins.length;v++)this.plugins[v].plugin.destroy();p.destroyCustomPlugins(),this.game.noReturn&&p.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});C.exports=g},45145:(C,k,a)=>{var y=a(52018),T=a(83419),m=a(44594),f=new T({Extends:y,initialize:function(c,u,p){y.call(this,u),this.scene=c,this.systems=c.sys,this.pluginKey=p,c.sys.events.once(m.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});C.exports=f},18922:(C,k,a)=>{C.exports={BasePlugin:a(52018),DefaultPlugins:a(42363),PluginCache:a(37277),PluginManager:a(77332),ScenePlugin:a(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(C){const k=performance.now(),a=this.getVideoPlaybackQuality(),y=this.mozPresentedFrames||this.mozPaintedFrames||a.totalVideoFrames-a.droppedVideoFrames,T=(m,f)=>{const h=this.getVideoPlaybackQuality(),c=this.mozPresentedFrames||this.mozPaintedFrames||h.totalVideoFrames-h.droppedVideoFrames;if(c>y){const u=this.mozFrameDelay||h.totalFrameDelay-a.totalFrameDelay||0,p=f-m;C(f,{presentationTime:f+1e3*u,expectedDisplayTime:f+p,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+p/1e3,presentedFrames:c,processingDuration:u}),delete this._rvfcpolyfillmap[k]}else this._rvfcpolyfillmap[k]=requestAnimationFrame(u=>T(f,u))};return this._rvfcpolyfillmap[k]=requestAnimationFrame(m=>T(k,m)),k},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(C){cancelAnimationFrame(this._rvfcpolyfillmap[C]),delete this._rvfcpolyfillmap[C]})},10312:C=>{C.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:C=>{C.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},68627:(C,k,a)=>{var y=a(19715),T=a(32880),m=a(83419),f=a(8054),h=a(50792),c=a(92503),u=a(56373),p=a(97480),d=a(69442),g=a(61340),v=new m({Extends:h,initialize:function(b){h.call(this);var _=b.config;this.config={clearBeforeRender:_.clearBeforeRender,backgroundColor:_.backgroundColor,antialias:_.antialias,roundPixels:_.roundPixels},this.game=b,this.type=f.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=b.canvas,this.gameContext=_.context?_.context:this.gameCanvas.getContext("2d",{alpha:b.config.transparent,desynchronized:b.config.desynchronized,willReadFrequently:!1}),this.currentContext=this.gameContext,this.antialias=b.config.antialias,this.blendModes=u(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new g,this._tempMatrix2=new g,this._tempMatrix3=new g,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(d.READY,this.boot,this)},boot:function(){var x=this.game,b=x.scale.baseSize;this.width=b.width,this.height=b.height,this.isBooted=!0,x.scale.on(p.RESIZE,this.onResize,this),this.resize(b.width,b.height)},onResize:function(x,b){(b.width!==this.width||b.height!==this.height)&&this.resize(b.width,b.height)},resize:function(x,b){this.width=x,this.height=b,this.emit(c.RESIZE,x,b)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(x){return this.currentContext.globalCompositeOperation=x,this},setContext:function(x){return this.currentContext=x||this.gameContext,this},setAlpha:function(x){return this.currentContext.globalAlpha=x,this},preRender:function(){var x=this.gameContext,b=this.config,_=this.width,E=this.height;x.globalAlpha=1,x.globalCompositeOperation="source-over",x.setTransform(1,0,0,1,0,0),this.emit(c.PRE_RENDER_CLEAR),b.clearBeforeRender&&(x.clearRect(0,0,_,E),b.transparent||(x.fillStyle=b.backgroundColor.rgba,x.fillRect(0,0,_,E))),x.save(),this.drawCount=0,this.emit(c.PRE_RENDER)},render:function(x,b,_){var E=b.length;this.emit(c.RENDER,x,_);var A=_.x,D=_.y,I=_.width,R=_.height,F=_.renderToTexture?_.context:x.sys.context;F.save(),this.game.scene.customViewports&&(F.beginPath(),F.rect(A,D,I,R),F.clip()),_.emit(y.PRE_RENDER,_),this.currentContext=F;var L=_.mask;L&&L.preRenderCanvas(this,null,_._maskCamera),_.transparent||(F.fillStyle=_.backgroundColor.rgba,F.fillRect(A,D,I,R)),F.globalAlpha=_.alpha,F.globalCompositeOperation="source-over",this.drawCount+=E,_.renderToTexture&&_.emit(y.PRE_RENDER,_),_.matrix.copyToContext(F);for(var V=0;V<E;V++){var B=b[V];B.mask&&B.mask.preRenderCanvas(this,B,_),B.renderCanvas(this,B,_),B.mask&&B.mask.postRenderCanvas(this,B,_)}F.setTransform(1,0,0,1,0,0),F.globalCompositeOperation="source-over",F.globalAlpha=1,_.flashEffect.postRenderCanvas(F),_.fadeEffect.postRenderCanvas(F),_.dirty=!1,L&&L.postRenderCanvas(this),F.restore(),_.renderToTexture&&(_.emit(y.POST_RENDER,_),_.renderToGame&&x.sys.context.drawImage(_.canvas,A,D)),_.emit(y.POST_RENDER,_)},postRender:function(){this.gameContext.restore(),this.emit(c.POST_RENDER);var b=this.snapshotState;b.callback&&(T(this.gameCanvas,b),b.callback=null)},snapshotCanvas:function(x,b,_,E,A,D,I,R,F){void 0===_&&(_=!1),this.snapshotArea(E,A,D,I,b,R,F);var L=this.snapshotState;return L.getPixel=_,T(x,L),L.callback=null,this},snapshot:function(x,b,_){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,x,b,_)},snapshotArea:function(x,b,_,E,A,D,I){var R=this.snapshotState;return R.callback=A,R.type=D,R.encoder=I,R.getPixel=!1,R.x=x,R.y=b,R.width=Math.min(_,this.gameCanvas.width),R.height=Math.min(E,this.gameCanvas.height),this},snapshotPixel:function(x,b,_){return this.snapshotArea(x,b,1,1,_),this.snapshotState.getPixel=!0,this},batchSprite:function(x,b,_,E){var A=_.alpha*x.alpha;if(0!==A){var D=this.currentContext,I=this._tempMatrix1,R=this._tempMatrix2,F=b.canvasData,L=F.x,V=F.y,B=b.cutWidth,G=b.cutHeight,Q=b.customPivot,H=b.source.resolution,K=x.displayOriginX,tt=x.displayOriginY,at=-K+b.x,lt=-tt+b.y;if(x.isCropped){var J=x._crop;(J.flipX!==x.flipX||J.flipY!==x.flipY)&&b.updateCropUVs(J,x.flipX,x.flipY),B=J.cw,G=J.ch,L=J.cx,V=J.cy,at=-K+J.x,lt=-tt+J.y,x.flipX&&(at>=0?at=-(at+B):at<0&&(at=Math.abs(at)-B)),x.flipY&&(lt>=0?lt=-(lt+G):lt<0&&(lt=Math.abs(lt)-G))}var it=1,Y=1;x.flipX&&(Q||(at+=2*K-b.realWidth),it=-1),x.flipY&&(Q||(lt+=2*tt-b.realHeight),Y=-1);var X=x.x,nt=x.y;if(_.roundPixels&&(X=Math.floor(X),nt=Math.floor(nt)),R.applyITRS(X,nt,x.rotation,x.scaleX*it,x.scaleY*Y),I.copyFrom(_.matrix),E?(I.multiplyWithOffset(E,-_.scrollX*x.scrollFactorX,-_.scrollY*x.scrollFactorY),R.e=X,R.f=nt):(R.e-=_.scrollX*x.scrollFactorX,R.f-=_.scrollY*x.scrollFactorY),I.multiply(R),_.renderRoundPixels&&(I.e=Math.floor(I.e+.5),I.f=Math.floor(I.f+.5)),D.save(),I.setToContext(D),D.globalCompositeOperation=this.blendModes[x.blendMode],D.globalAlpha=A,D.imageSmoothingEnabled=!b.source.scaleMode,x.mask&&x.mask.preRenderCanvas(this,x,_),B>0&&G>0){var ht=B/H,gt=G/H;_.roundPixels&&(at=Math.floor(at+.5),lt=Math.floor(lt+.5),ht+=.5,gt+=.5),D.drawImage(b.source.image,L,V,B,G,at,lt,ht,gt)}x.mask&&x.mask.postRenderCanvas(this,x,_),D.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});C.exports=v},55830:(C,k,a)=>{C.exports={CanvasRenderer:a(68627),GetBlendModes:a(56373),SetTransform:a(20926)}},56373:(C,k,a)=>{var y=a(10312),T=a(89289);C.exports=function(){var f=[],h=T.supportNewBlendModes,c="source-over";return f[y.NORMAL]=c,f[y.ADD]="lighter",f[y.MULTIPLY]=h?"multiply":c,f[y.SCREEN]=h?"screen":c,f[y.OVERLAY]=h?"overlay":c,f[y.DARKEN]=h?"darken":c,f[y.LIGHTEN]=h?"lighten":c,f[y.COLOR_DODGE]=h?"color-dodge":c,f[y.COLOR_BURN]=h?"color-burn":c,f[y.HARD_LIGHT]=h?"hard-light":c,f[y.SOFT_LIGHT]=h?"soft-light":c,f[y.DIFFERENCE]=h?"difference":c,f[y.EXCLUSION]=h?"exclusion":c,f[y.HUE]=h?"hue":c,f[y.SATURATION]=h?"saturation":c,f[y.COLOR]=h?"color":c,f[y.LUMINOSITY]=h?"luminosity":c,f[y.ERASE]="destination-out",f[y.SOURCE_IN]="source-in",f[y.SOURCE_OUT]="source-out",f[y.SOURCE_ATOP]="source-atop",f[y.DESTINATION_OVER]="destination-over",f[y.DESTINATION_IN]="destination-in",f[y.DESTINATION_OUT]="destination-out",f[y.DESTINATION_ATOP]="destination-atop",f[y.LIGHTER]="lighter",f[y.COPY]="copy",f[y.XOR]="xor",f}},20926:(C,k,a)=>{var y=a(91296);C.exports=function(m,f,h,c,u){var p=c.alpha*h.alpha;if(p<=0)return!1;var d=y(h,c,u).calc;return f.globalCompositeOperation=m.blendModes[h.blendMode],f.globalAlpha=p,f.save(),d.setToContext(f),f.imageSmoothingEnabled=h.frame?!h.frame.source.scaleMode:m.antialias,!0}},63899:C=>{C.exports="losewebgl"},6119:C=>{C.exports="postrender"},48070:C=>{C.exports="prerender"},15640:C=>{C.exports="render"},8912:C=>{C.exports="resize"},87124:C=>{C.exports="restorewebgl"},92503:(C,k,a)=>{C.exports={LOSE_WEBGL:a(63899),POST_RENDER:a(6119),PRE_RENDER:a(48070),RENDER:a(15640),RESIZE:a(8912),RESTORE_WEBGL:a(87124)}},36909:(C,k,a)=>{C.exports={Events:a(92503),Snapshot:a(89966)},C.exports.Canvas=a(55830),C.exports.WebGL=a(4159)},32880:(C,k,a)=>{var y=a(27919),T=a(40987),m=a(95540);C.exports=function(h,c){var u=m(c,"callback"),p=m(c,"type","image/png"),d=m(c,"encoder",.92),g=Math.abs(Math.round(m(c,"x",0))),v=Math.abs(Math.round(m(c,"y",0))),x=Math.floor(m(c,"width",h.width)),b=Math.floor(m(c,"height",h.height));if(m(c,"getPixel",!1)){var D=h.getContext("2d",{willReadFrequently:!1}).getImageData(g,v,1,1).data;u.call(null,new T(D[0],D[1],D[2],D[3]))}else if(0!==g||0!==v||x!==h.width||b!==h.height){var I=y.createWebGL(this,x,b),R=I.getContext("2d",{willReadFrequently:!0});x>0&&b>0&&R.drawImage(h,g,v,x,b,0,0,x,b);var F=new Image;F.onerror=function(){u.call(null),y.remove(I)},F.onload=function(){u.call(null,F),y.remove(I)},F.src=I.toDataURL(p,d)}else{var L=new Image;L.onerror=function(){u.call(null)},L.onload=function(){u.call(null,L)},L.src=h.toDataURL(p,d)}}},88815:(C,k,a)=>{var y=a(27919),T=a(40987),m=a(95540);C.exports=function(h,c){var u=h,p=m(c,"callback"),d=m(c,"type","image/png"),g=m(c,"encoder",.92),v=Math.abs(Math.round(m(c,"x",0))),x=Math.abs(Math.round(m(c,"y",0))),b=m(c,"getPixel",!1),_=m(c,"isFramebuffer",!1),E=_?m(c,"bufferWidth",1):u.drawingBufferWidth,A=_?m(c,"bufferHeight",1):u.drawingBufferHeight;if(b){var D=new Uint8Array(4);u.readPixels(v,_?x:A-x,1,1,u.RGBA,u.UNSIGNED_BYTE,D),p.call(null,new T(D[0],D[1],D[2],D[3]))}else{var R=Math.floor(m(c,"width",E)),F=Math.floor(m(c,"height",A)),L=R*F*4,V=new Uint8Array(L);u.readPixels(v,A-x-F,R,F,u.RGBA,u.UNSIGNED_BYTE,V);for(var B=y.createWebGL(this,R,F),G=B.getContext("2d",{willReadFrequently:!0}),Q=G.getImageData(0,0,R,F),H=Q.data,K=0;K<F;K++)for(var tt=0;tt<R;tt++){var at=4*((F-K-1)*R+tt),lt=_?L-4*(K*R+(R-tt)):4*(K*R+tt);H[lt+0]=V[at+0],H[lt+1]=V[at+1],H[lt+2]=V[at+2],H[lt+3]=V[at+3]}G.putImageData(Q,0,0);var J=new Image;J.onerror=function(){p.call(null),y.remove(B)},J.onload=function(){p.call(null,J),y.remove(B)},J.src=B.toDataURL(d,g)}}},89966:(C,k,a)=>{C.exports={Canvas:a(32880),WebGL:a(88815)}},7530:(C,k,a)=>{var y=a(83419),T=a(36060),m=a(90330),f=a(82264),h=a(95540),c=a(32302),u=a(63448),p=a(31302),d=a(58918),g=a(14811),v=a(92651),x=a(96569),b=a(56527),_=a(57516),E=a(43439),A=a(81041),D=a(12385),I=a(7589),R=a(95428),F=a(72905),L=new y({initialize:function(B){this.game=B.game,this.renderer=B,this.classes=new m([[T.UTILITY_PIPELINE,I],[T.MULTI_PIPELINE,_],[T.BITMAPMASK_PIPELINE,p],[T.SINGLE_PIPELINE,D],[T.ROPE_PIPELINE,A],[T.LIGHT_PIPELINE,x],[T.POINTLIGHT_PIPELINE,E],[T.MOBILE_PIPELINE,b]]),this.postPipelineClasses=new m,this.pipelines=new m,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(V,B,G){var Q=this.renderer,H=this.renderTargets;this.frameInc=Math.floor(h(V,"frameInc",32));var K=Q.width,tt=Q.height,at=this.game.config.disablePreFX;if(this.game.config.disablePostFX||this.postPipelineClasses.setAll([[String(g.BARREL),d.Barrel],[String(g.BLOOM),d.Bloom],[String(g.BLUR),d.Blur],[String(g.BOKEH),d.Bokeh],[String(g.CIRCLE),d.Circle],[String(g.COLOR_MATRIX),d.ColorMatrix],[String(g.DISPLACEMENT),d.Displacement],[String(g.GLOW),d.Glow],[String(g.GRADIENT),d.Gradient],[String(g.PIXELATE),d.Pixelate],[String(g.SHADOW),d.Shadow],[String(g.SHINE),d.Shine],[String(g.VIGNETTE),d.Vignette],[String(g.WIPE),d.Wipe]]),!at){this.classes.set(T.FX_PIPELINE,v);for(var J=Math.min(K,tt),it=Math.ceil(J/this.frameInc),Y=1;Y<it;Y++){var X=Y*this.frameInc;H.push(new c(Q,X,X)),H.push(new c(Q,X,X)),H.push(new c(Q,X,X)),this.maxDimension=X}H.push(new c(Q,K,tt,1,0,!0,!0)),H.push(new c(Q,K,tt,1,0,!0,!0)),H.push(new c(Q,K,tt,1,0,!0,!0))}var nt,ht,gt=this,wt=this.game;if(this.classes.each(function(Vt,Zt){nt=gt.add(Vt,new Zt({game:wt})),Vt===T.UTILITY_PIPELINE&&(gt.UTILITY_PIPELINE=nt,gt.fullFrame1=nt.fullFrame1,gt.fullFrame2=nt.fullFrame2,gt.halfFrame1=nt.halfFrame1,gt.halfFrame2=nt.halfFrame2)}),this.MULTI_PIPELINE=this.get(T.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(T.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(T.MOBILE_PIPELINE),at||(this.FX_PIPELINE=this.get(T.FX_PIPELINE)),V)for(ht in V){var St=V[ht];(nt=new St(wt)).name=ht,nt.isPostFX?this.postPipelineClasses.set(ht,St):this.has(ht)||(this.classes.set(ht,St),this.add(ht,nt))}this.default=this.get(B),G&&!f.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(V){var B=this.get(V);return B&&(this.default=B),B},add:function(V,B){if(!B.isPostFX){var G=this.pipelines,Q=this.renderer;return G.has(V)?console.warn("Pipeline exists: "+V):(B.name=V,B.manager=this,G.set(V,B)),B.hasBooted||B.boot(),0!==Q.width&&0!==Q.height&&!B.isPreFX&&B.resize(Q.width,Q.height),B}console.warn(V+" is a Post Pipeline. Use `addPostPipeline` instead")},addPostPipeline:function(V,B){this.postPipelineClasses.has(V)||this.postPipelineClasses.set(V,B)},flush:function(){this.current&&this.current.flush()},has:function(V){var B=this.pipelines;return"string"==typeof V?B.has(V):!!B.contains(V)},get:function(V){var B=this.pipelines;return"string"==typeof V?B.get(V):B.contains(V)?V:void 0},getPostPipeline:function(V,B,G){var H,Q=this.postPipelineClasses,K="",tt=typeof V;if("string"===tt||"number"===tt?(H=Q.get(V),K=V):"function"===tt?(Q.contains(V)&&(H=V),K=V.name):"object"===tt&&(H=Q.get(V.name),K=V.name),H){var at=new H(this.game,G);return at.name=K,B&&(at.gameObject=B),this.postPipelineInstances.push(at),at}},removePostPipeline:function(V){F(this.postPipelineInstances,V)},remove:function(V,B,G){void 0===B&&(B=!0),void 0===G&&(G=!0),this.pipelines.delete(V),B&&this.classes.delete(V),G&&this.postPipelineClasses.delete(V)},set:function(V,B,G){if(!V.isPostFX)return this.isCurrent(V,G)||(this.flush(),this.current&&this.current.unbind(),this.current=V,V.bind(G)),V.updateProjectionMatrix(),V.onBind(B),V},preBatch:function(V){if(V.hasPostPipeline){this.flush();for(var B=V.postPipelines,G=B.length-1;G>=0;G--){var Q=B[G];Q.active&&Q.preBatch(V)}}},postBatch:function(V){if(V.hasPostPipeline){this.flush();for(var B=V.postPipelines,G=0;G<B.length;G++){var Q=B[G];Q.active&&Q.postBatch(V)}}},preBatchCamera:function(V){if(V.hasPostPipeline){this.flush();for(var B=V.postPipelines,G=B.length-1;G>=0;G--){var Q=B[G];Q.active&&Q.preBatch(V)}}},postBatchCamera:function(V){if(V.hasPostPipeline){this.flush();for(var B=V.postPipelines,G=0;G<B.length;G++){var Q=B[G];Q.active&&Q.postBatch(V)}}},isCurrent:function(V,B){var Q=this.current;return Q&&!B&&(B=Q.currentShader),!(Q!==V||B.program!==this.renderer.currentProgram)},copyFrame:function(V,B,G,Q,H){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(V,B,G,Q,H),this},copyToGame:function(V){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(V),this},drawFrame:function(V,B,G,Q){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(V,B,G,Q),this},blendFrames:function(V,B,G,Q,H){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(V,B,G,Q,H),this},blendFramesAdditive:function(V,B,G,Q,H){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(V,B,G,Q,H),this},clearFrame:function(V,B){return this.UTILITY_PIPELINE.clearFrame(V,B),this},blitFrame:function(V,B,G,Q,H,K){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(V,B,G,Q,H,K),this},copyFrameRect:function(V,B,G,Q,H,K,tt,at){return this.UTILITY_PIPELINE.copyFrameRect(V,B,G,Q,H,K,tt,at),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(V){return this.UTILITY_PIPELINE.bind(V)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(V,B){B.restoreContext()}),R(this.postPipelineInstances,function(V){V.restoreContext()})},rebind:function(V){void 0===V&&this.previous&&(V=this.previous);var B=this.renderer,G=B.gl;G.disable(G.DEPTH_TEST),G.disable(G.CULL_FACE),B.hasActiveStencilMask()?G.clear(G.DEPTH_BUFFER_BIT):(G.disable(G.STENCIL_TEST),G.clear(G.DEPTH_BUFFER_BIT|G.STENCIL_BUFFER_BIT)),G.viewport(0,0,B.width,B.height),B.currentProgram=null,B.setBlendMode(0,!0);var Q=B.vaoExtension;Q&&Q.bindVertexArrayOES(null);var H=this.pipelines.entries;for(var K in H)H[K].glReset=!0;V&&(this.current=V,V.rebind())},clear:function(){var V=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,V.currentProgram=null,V.setBlendMode(0,!0);var B=V.vaoExtension;B&&B.bindVertexArrayOES(null)},getRenderTarget:function(V){var B=this.renderTargets;if(V>this.maxDimension)return this.targetIndex=B.length-3,B[this.targetIndex];var Q=3*(u(V,this.frameInc,0,!0)-1);return this.targetIndex=Q,B[Q]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});C.exports=L},32302:(C,k,a)=>{var y=a(83419),T=a(92503),m=new y({initialize:function(h,c,u,p,d,g,v,x,b){void 0===p&&(p=1),void 0===d&&(d=0),void 0===g&&(g=!0),void 0===v&&(v=!1),void 0===x&&(x=!0),void 0===b&&(b=!0),this.renderer=h,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=p,this.minFilter=d,this.autoClear=g,this.autoResize=!0,this.hasDepthBuffer=x,this.forceClamp=b,this.init(c,u),v?this.renderer.on(T.RESIZE,this.resize,this):this.autoResize=!1},init:function(f,h){var c=this.renderer;this.texture=c.createTextureFromSource(null,f,h,this.minFilter,this.forceClamp),this.framebuffer=c.createFramebuffer(f,h,this.texture,this.hasDepthBuffer),this.width=f,this.height=h},setAutoResize:function(f){return f&&!this.autoResize?(this.renderer.on(T.RESIZE,this.resize,this),this.autoResize=!0):!f&&this.autoResize&&(this.renderer.off(T.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(f,h){if(this.autoResize&&this.willResize(f,h)){var c=this.renderer;c.deleteFramebuffer(this.framebuffer),c.deleteTexture(this.texture),this.texture=c.createTextureFromSource(null,f,h,this.minFilter,this.forceClamp),this.framebuffer=c.createFramebuffer(f,h,this.texture,this.hasDepthBuffer),this.width=f,this.height=h}return this},willResize:function(f,h){return"number"==typeof f&&"number"==typeof h&&(f=Math.round(f*this.scale),h=Math.round(h*this.scale),f=Math.max(f,1),h=Math.max(h,1),f!==this.width||h!==this.height)},bind:function(f,h,c){void 0===f&&(f=!1);var u=this.renderer;if(f&&u.flush(),h&&c&&this.resize(h,c),u.pushFramebuffer(this.framebuffer,!1,!1),f&&this.adjustViewport(),this.autoClear){var p=this.renderer.gl;p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT)}u.clearStencilMask()},adjustViewport:function(){var f=this.renderer.gl;f.viewport(0,0,this.width,this.height),f.disable(f.SCISSOR_TEST)},clear:function(f,h,c,u){var p=this.renderer,d=p.gl;p.pushFramebuffer(this.framebuffer),void 0!==f&&void 0!==h&&void 0!==c&&void 0!==u?(d.enable(d.SCISSOR_TEST),d.scissor(f,h,c,u)):d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),p.popFramebuffer(),p.resetScissor()},unbind:function(f){void 0===f&&(f=!1);var h=this.renderer;return f&&h.flush(),h.popFramebuffer()},destroy:function(){var f=this.renderer;f.off(T.RESIZE,this.resize,this),f.deleteFramebuffer(this.framebuffer),f.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});C.exports=m},70554:C=>{C.exports={getTintFromFloats:function(k,a,y,T){return((255*T&255)<<24|(255*k&255)<<16|(255*a&255)<<8|255*y&255)>>>0},getTintAppendFloatAlpha:function(k,a){return((255*a&255)<<24|k)>>>0},getTintAppendFloatAlphaAndSwap:function(k,a){return((255*a&255)<<24|(255&k)<<16|(k>>8&255)<<8|k>>16&255)>>>0},getFloatsFromUintRGB:function(k){return[(k>>16&255)/255,(k>>8&255)/255,(255&k)/255]},checkShaderMax:function(k,a){var y=Math.min(16,k.getParameter(k.MAX_TEXTURE_IMAGE_UNITS));return a&&-1!==a?Math.min(y,a):y},parseFragmentShaderMaxTextures:function(k,a){if(!k)return"";for(var y="",T=0;T<a;T++)T>0&&(y+="\n\telse "),T<a-1&&(y+="if (outTexId < "+T+".5)"),y+="\n\t{",y+="\n\t\ttexture = texture2D(uMainSampler["+T+"], outTexCoord);",y+="\n\t}";return(k=k.replace(/%count%/gi,a.toString())).replace(/%forloop%/gi,y)},setGlowQuality:function(k,a,y,T){return void 0===y&&(y=a.config.glowFXQuality),void 0===T&&(T=a.config.glowFXDistance),(k=k.replace(/__SIZE__/gi,(1/y/T).toFixed(7))).replace(/__DIST__/gi,T.toFixed(0)+".0")}}},29100:(C,k,a)=>{var y=a(83419),T=a(62644),m=a(50792),f=a(77085),h=a(95540),c=a(37867),u=a(92503),p=a(32302),d=a(70554),g=a(38683),v=new y({Extends:m,initialize:function(b){m.call(this);var _=b.game,E=_.renderer,A=E.gl;this.name=h(b,"name","WebGLPipeline"),this.game=_,this.renderer=E,this.gl=A,this.view=_.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.topology=h(b,"topology",A.TRIANGLES),this.active=!0,this.forceZero=h(b,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.shaders=[],this.projectionWidth=0,this.projectionHeight=0,this.config=b,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=h(b,"resizeUniform","")},boot:function(){var x,b=this.gl,_=this.config,E=this.renderer;this.isPostFX||(this.projectionMatrix=(new c).identity());var A=this.renderTargets,D=h(_,"renderTarget",!1);"boolean"==typeof D&&D&&(D=1);var I=E.width,R=E.height;if("number"==typeof D)for(x=0;x<D;x++)A.push(new p(E,I,R,1,0,!0));else if(Array.isArray(D))for(x=0;x<D.length;x++){var F=h(D[x],"scale",1),L=h(D[x],"minFilter",0),V=h(D[x],"autoClear",1),B=h(D[x],"autoResize",!1),G=h(D[x],"width",null),Q=h(D[x],"height",G);A.push(G?new p(E,G,Q,1,L,V,B):new p(E,I,R,F,L,V,B))}A.length&&(this.currentRenderTarget=A[0]),this.setShadersFromConfig(_);var H=this.shaders,K=0;for(x=0;x<H.length;x++)H[x].vertexSize>K&&(K=H[x].vertexSize);var tt=h(_,"batchSize",E.config.batchSize);this.vertexCapacity=6*tt;var at=new ArrayBuffer(this.vertexCapacity*K);this.vertexData=at,this.bytes=new Uint8Array(at),this.vertexViewF32=new Float32Array(at),this.vertexViewU32=new Uint32Array(at);var lt=h(_,"vertices",null);for(lt?(this.vertexViewF32.set(lt),this.vertexBuffer=E.createVertexBuffer(at,b.STATIC_DRAW)):this.vertexBuffer=E.createVertexBuffer(at.byteLength,b.DYNAMIC_DRAW),this.setVertexBuffer(),x=H.length-1;x>=0;x--)H[x].rebind();this.hasBooted=!0,E.on(u.RESIZE,this.resize,this),E.on(u.PRE_RENDER,this.onPreRender,this),E.on(u.RENDER,this.onRender,this),E.on(u.POST_RENDER,this.onPostRender,this),this.emit(f.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(x,b,_){return x===this.currentShader&&this.renderer.currentProgram===this.currentShader.program||(this.flush(),this.setVertexBuffer(_)&&!b&&(b=!0),x.bind(b,!1),this.currentShader=x),this},getShaderByName:function(x){for(var b=this.shaders,_=0;_<b.length;_++)if(b[_].name===x)return b[_]},setShadersFromConfig:function(x){var b,_=this.shaders,E=this.renderer;for(b=0;b<_.length;b++)_[b].destroy();var A="vertShader",D="fragShader",I="attributes",R=h(x,A,null),F=d.parseFragmentShaderMaxTextures(h(x,D,null),E.maxTextures),L=h(x,I,null),V=h(x,"shaders",[]),B=V.length;if(0===B)R&&F&&(this.shaders=[new g(this,"default",R,F,T(L))]);else{var G=[];for(b=0;b<B;b++){var H,K,tt,at,Q=V[b];if("string"==typeof Q?(H="default",K=R,tt=d.parseFragmentShaderMaxTextures(Q,E.maxTextures),at=L):(H=h(Q,"name","default"),K=h(Q,A,R),tt=d.parseFragmentShaderMaxTextures(h(Q,D,F),E.maxTextures),at=h(Q,I,L)),"default"===H){var J=tt.split("\n")[0].trim();J.indexOf("#define SHADER_NAME")>-1&&(H=J.substring(20))}K&&tt&&G.push(new g(this,H,K,tt,T(at)))}this.shaders=G}return 0===this.shaders.length?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(x){return this.currentBatch={start:this.vertexCount,count:0,texture:[x],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=x,this.batch.push(this.currentBatch),0},addTextureToBatch:function(x){var b=this.currentBatch;b&&(b.texture.push(x),b.unit++,b.maxUnit++)},pushBatch:function(x){if(!this.currentBatch||this.forceZero&&x!==this.currentTexture)return this.createBatch(x);if(x===this.currentTexture)return this.currentUnit;var b=this.currentBatch,_=b.texture.indexOf(x);return-1===_?b.texture.length===this.renderer.maxTextures?this.createBatch(x):(b.unit++,b.maxUnit++,b.texture.push(x),this.currentUnit=b.unit,this.currentTexture=x,b.unit):(this.currentUnit=_,this.currentTexture=x,_)},setGameObject:function(x,b){return void 0===b&&(b=x.frame),this.pushBatch(b.source.glTexture)},shouldFlush:function(x){return void 0===x&&(x=0),this.vertexCount+x>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(x,b){(x!==this.width||b!==this.height)&&this.flush(),this.width=x,this.height=b;for(var _=this.renderTargets,E=0;E<_.length;E++)_[E].resize(x,b);return this.setProjectionMatrix(x,b),this.resizeUniform&&this.set2f(this.resizeUniform,x,b),this.emit(f.RESIZE,x,b,this),this.onResize(x,b),this},setProjectionMatrix:function(x,b){var _=this.projectionMatrix;if(!_)return this;this.projectionWidth=x,this.projectionHeight=b,_.ortho(0,x,b,0,-1e3,1e3);for(var E=this.shaders,A="uProjectionMatrix",D=0;D<E.length;D++){var I=E[D];I.hasUniform(A)&&(I.resetUniform(A),I.setMatrix4fv(A,!1,_.val,I))}return this},flipProjectionMatrix:function(x){void 0===x&&(x=!0);var b=this.projectionMatrix;if(!b)return this;var _=this.projectionWidth,E=this.projectionHeight;x?b.ortho(0,_,0,E,-1e3,1e3):b.ortho(0,_,E,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,b.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var x=this.renderer.projectionWidth,b=this.renderer.projectionHeight;(this.projectionWidth!==x||this.projectionHeight!==b)&&this.setProjectionMatrix(x,b)}},bind:function(x){if(void 0===x&&(x=this.currentShader),this.glReset)return this.rebind(x);var b=!1,_=this.gl;return _.getParameter(_.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(_.bindBuffer(_.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,b=!0),x.bind(b),this.currentShader=x,this.activeTextures.length=0,this.emit(f.BIND,this,x),this.onActive(x),this},rebind:function(x){this.activeBuffer=null,this.setVertexBuffer();for(var b=this.shaders,_=b.length-1;_>=0;_--){var E=b[_].rebind();(!x||E===x)&&(this.currentShader=E)}return this.activeTextures.length=0,this.emit(f.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var x=this.shaders,b=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,b&&this.setVertexBuffer();for(var _=0;_<x.length;_++){var E=x[_];E.syncUniforms(),b&&E.rebind()}},setVertexBuffer:function(x){return void 0===x&&(x=this.vertexBuffer),x!==this.activeBuffer&&(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,x.webGLBuffer),this.activeBuffer=x,!0)},preBatch:function(x){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(x),this},postBatch:function(x){return this.onDraw(this.currentRenderTarget),this.onPostBatch(x),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(x){if(void 0===x&&(x=!1),this.vertexCount>0){this.emit(f.BEFORE_FLUSH,this,x),this.onBeforeFlush(x);var b=this.gl,_=this.vertexCount,E=this.currentShader.vertexSize,A=this.topology;if(this.active){this.setVertexBuffer(),_===this.vertexCapacity?b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.DYNAMIC_DRAW):b.bufferSubData(b.ARRAY_BUFFER,0,this.bytes.subarray(0,_*E));var D,I,R,F=this.batch,L=this.activeTextures;if(this.forceZero)for(L[0]||b.activeTexture(b.TEXTURE0),D=0;D<F.length;D++)L[0]!==(R=(I=F[D]).texture[0])&&(b.bindTexture(b.TEXTURE_2D,R.webGLTexture),L[0]=R),b.drawArrays(A,I.start,I.count);else for(D=0;D<F.length;D++){I=F[D];for(var V=0;V<=I.maxUnit;V++)L[V]!==(R=I.texture[V])&&(b.activeTexture(b.TEXTURE0+V),b.bindTexture(b.TEXTURE_2D,R.webGLTexture),L[V]=R);b.drawArrays(A,I.start,I.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(f.AFTER_FLUSH,this,x),this.onAfterFlush(x)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(x,b,_,E,A,D,I){var R=this.vertexViewF32,F=this.vertexViewU32,L=this.vertexCount*this.currentShader.vertexComponentCount-1;R[++L]=x,R[++L]=b,R[++L]=_,R[++L]=E,R[++L]=A,R[++L]=D,F[++L]=I,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(x,b,_,E,A,D,I,R,F,L,V,B,G,Q,H,K,tt,at,lt,J){void 0===J&&(J=this.currentUnit);var it=!1;this.shouldFlush(6)&&(this.flush(),it=!0),this.currentBatch||(J=this.setTexture2D(lt));var Y=this.vertexViewF32,X=this.vertexViewU32,nt=this.vertexCount*this.currentShader.vertexComponentCount-1;return Y[++nt]=b,Y[++nt]=_,Y[++nt]=L,Y[++nt]=V,Y[++nt]=J,Y[++nt]=at,X[++nt]=Q,Y[++nt]=E,Y[++nt]=A,Y[++nt]=L,Y[++nt]=G,Y[++nt]=J,Y[++nt]=at,X[++nt]=K,Y[++nt]=D,Y[++nt]=I,Y[++nt]=B,Y[++nt]=G,Y[++nt]=J,Y[++nt]=at,X[++nt]=tt,Y[++nt]=b,Y[++nt]=_,Y[++nt]=L,Y[++nt]=V,Y[++nt]=J,Y[++nt]=at,X[++nt]=Q,Y[++nt]=D,Y[++nt]=I,Y[++nt]=B,Y[++nt]=G,Y[++nt]=J,Y[++nt]=at,X[++nt]=tt,Y[++nt]=R,Y[++nt]=F,Y[++nt]=B,Y[++nt]=V,Y[++nt]=J,Y[++nt]=at,X[++nt]=H,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),it},batchTri:function(x,b,_,E,A,D,I,R,F,L,V,B,G,Q,H,K,tt){void 0===tt&&(tt=this.currentUnit);var at=!1;this.shouldFlush(3)&&(this.flush(),at=!0),this.currentBatch||(tt=this.setTexture2D(K));var lt=this.vertexViewF32,J=this.vertexViewU32,it=this.vertexCount*this.currentShader.vertexComponentCount-1;return lt[++it]=b,lt[++it]=_,lt[++it]=R,lt[++it]=F,lt[++it]=tt,lt[++it]=H,J[++it]=B,lt[++it]=E,lt[++it]=A,lt[++it]=R,lt[++it]=V,lt[++it]=tt,lt[++it]=H,J[++it]=G,lt[++it]=D,lt[++it]=I,lt[++it]=L,lt[++it]=V,lt[++it]=tt,lt[++it]=H,J[++it]=Q,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),at},drawFillRect:function(x,b,_,E,A,D,I,R){void 0===I&&(I=this.renderer.whiteTexture),void 0===R&&(R=!0),x=Math.floor(x),b=Math.floor(b);var F=Math.floor(x+_),L=Math.floor(b+E),V=this.setTexture2D(I),B=d.getTintAppendFloatAlphaAndSwap(A,D),Q=0,K=1;R&&(Q=1,K=0),this.batchQuad(null,x,b,x,L,F,L,F,b,0,Q,1,K,B,B,B,B,0,I,V)},setTexture2D:function(x){return void 0===x&&(x=this.renderer.whiteTexture),this.pushBatch(x)},bindTexture:function(x,b){void 0===b&&(b=0);var _=this.gl;return _.activeTexture(_.TEXTURE0+b),_.bindTexture(_.TEXTURE_2D,x.webGLTexture),this},bindRenderTarget:function(x,b){return this.bindTexture(x.texture,b)},setTime:function(x,b){return this.set1f(x,this.game.loop.getDuration(),b),this},setBoolean:function(x,b,_){return void 0===_&&(_=this.currentShader),_.setBoolean(x,b),this},set1f:function(x,b,_){return void 0===_&&(_=this.currentShader),_.set1f(x,b),this},set2f:function(x,b,_,E){return void 0===E&&(E=this.currentShader),E.set2f(x,b,_),this},set3f:function(x,b,_,E,A){return void 0===A&&(A=this.currentShader),A.set3f(x,b,_,E),this},set4f:function(x,b,_,E,A,D){return void 0===D&&(D=this.currentShader),D.set4f(x,b,_,E,A),this},set1fv:function(x,b,_){return void 0===_&&(_=this.currentShader),_.set1fv(x,b),this},set2fv:function(x,b,_){return void 0===_&&(_=this.currentShader),_.set2fv(x,b),this},set3fv:function(x,b,_){return void 0===_&&(_=this.currentShader),_.set3fv(x,b),this},set4fv:function(x,b,_){return void 0===_&&(_=this.currentShader),_.set4fv(x,b),this},set1iv:function(x,b,_){return void 0===_&&(_=this.currentShader),_.set1iv(x,b),this},set2iv:function(x,b,_){return void 0===_&&(_=this.currentShader),_.set2iv(x,b),this},set3iv:function(x,b,_){return void 0===_&&(_=this.currentShader),_.set3iv(x,b),this},set4iv:function(x,b,_){return void 0===_&&(_=this.currentShader),_.set4iv(x,b),this},set1i:function(x,b,_){return void 0===_&&(_=this.currentShader),_.set1i(x,b),this},set2i:function(x,b,_,E){return void 0===E&&(E=this.currentShader),E.set2i(x,b,_),this},set3i:function(x,b,_,E,A){return void 0===A&&(A=this.currentShader),A.set3i(x,b,_,E),this},set4i:function(x,b,_,E,A,D){return void 0===D&&(D=this.currentShader),D.set4i(x,b,_,E,A),this},setMatrix2fv:function(x,b,_,E){return void 0===E&&(E=this.currentShader),E.setMatrix2fv(x,b,_),this},setMatrix3fv:function(x,b,_,E){return void 0===E&&(E=this.currentShader),E.setMatrix3fv(x,b,_),this},setMatrix4fv:function(x,b,_,E){return void 0===E&&(E=this.currentShader),E.setMatrix4fv(x,b,_),this},destroy:function(){this.emit(f.DESTROY,this);var x,b=this.shaders;for(x=0;x<b.length;x++)b[x].destroy();var _=this.renderTargets;for(x=0;x<_.length;x++)_[x].destroy();var E=this.renderer;return E.deleteBuffer(this.vertexBuffer),E.off(u.RESIZE,this.resize,this),E.off(u.PRE_RENDER,this.onPreRender,this),E.off(u.RENDER,this.onRender,this),E.off(u.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});C.exports=v},74797:(C,k,a)=>{var y=a(95428),T=a(72905),m=a(19715),f=a(83419),h=a(8054),c=a(50792),u=a(92503),p=a(50030),d=a(37867),g=a(29747),v=a(7530),x=a(32302),b=a(97480),_=a(69442),E=a(70554),A=a(88815),D=a(26128),I=a(1482),R=a(82751),F=a(84387),L=a(93567),V=a(57183),Q=new f({Extends:c,initialize:function(K){c.call(this);var tt=K.config;this.config={clearBeforeRender:tt.clearBeforeRender,antialias:tt.antialias,backgroundColor:tt.backgroundColor,contextCreation:{alpha:tt.transparent,desynchronized:tt.desynchronized,depth:!0,antialias:tt.antialiasGL,premultipliedAlpha:tt.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:tt.failIfMajorPerformanceCaveat,powerPreference:tt.powerPreference,preserveDrawingBuffer:tt.preserveDrawingBuffer,willReadFrequently:!1},roundPixels:tt.roundPixels,maxTextures:tt.maxTextures,maxTextureSize:tt.maxTextureSize,batchSize:tt.batchSize,maxLights:tt.maxLights,mipmapFilter:tt.mipmapFilter},this.game=K,this.type=h.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=K.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=g,this.contextRestoredHandler=g,this.previousContextLostHandler=g,this.previousContextRestoredHandler=g,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(H){var K,tt=this.game,at=this.canvas,lt=H.backgroundColor;if(!(K=tt.config.context?tt.config.context:at.getContext("webgl",H.contextCreation)||at.getContext("experimental-webgl",H.contextCreation))||K.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=K,this.setExtensions(),this.setContextHandlers(),tt.context=K;for(var J=0;J<=27;J++)this.blendModes.push({func:[K.ONE,K.ONE_MINUS_SRC_ALPHA],equation:K.FUNC_ADD});return this.blendModes[1].func=[K.ONE,K.DST_ALPHA],this.blendModes[2].func=[K.DST_COLOR,K.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[K.ONE,K.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[K.ZERO,K.ONE_MINUS_SRC_ALPHA],equation:K.FUNC_REVERSE_SUBTRACT},this.glFormats=[K.BYTE,K.SHORT,K.UNSIGNED_BYTE,K.UNSIGNED_SHORT,K.FLOAT],this.glFuncMap={mat2:{func:K.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:K.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:K.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:K.uniform1f,length:1},"1fv":{func:K.uniform1fv,length:1},"1i":{func:K.uniform1i,length:1},"1iv":{func:K.uniform1iv,length:1},"2f":{func:K.uniform2f,length:2},"2fv":{func:K.uniform2fv,length:1},"2i":{func:K.uniform2i,length:2},"2iv":{func:K.uniform2iv,length:1},"3f":{func:K.uniform3f,length:3},"3fv":{func:K.uniform3fv,length:1},"3i":{func:K.uniform3i,length:3},"3iv":{func:K.uniform3iv,length:1},"4f":{func:K.uniform4f,length:4},"4fv":{func:K.uniform4fv,length:1},"4i":{func:K.uniform4i,length:4},"4iv":{func:K.uniform4iv,length:1}},(!H.maxTextures||-1===H.maxTextures)&&(H.maxTextures=K.getParameter(K.MAX_TEXTURE_IMAGE_UNITS)),H.maxTextureSize||(H.maxTextureSize=K.getParameter(K.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),K.disable(K.DEPTH_TEST),K.disable(K.CULL_FACE),K.enable(K.BLEND),K.clearColor(lt.redGL,lt.greenGL,lt.blueGL,lt.alphaGL),-1!==["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"].indexOf(H.mipmapFilter)&&(this.mipmapFilter=K[H.mipmapFilter]),this.maxTextures=E.checkShaderMax(K,H.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new v(this),this.setBlendMode(h.BlendModes.NORMAL),this.projectionMatrix=(new d).identity(),tt.textures.once(_.READY,this.boot,this),this},boot:function(){var H=this.game,K=this.pipelines,tt=H.scale.baseSize,at=tt.width,lt=tt.height;this.width=at,this.height=lt,this.isBooted=!0,this.renderTarget=new x(this,at,lt,1,0,!0,!0),this.maskTarget=new x(this,at,lt,1,0,!0,!0),this.maskSource=new x(this,at,lt,1,0,!0,!0);var J=H.config;K.boot(J.pipeline,J.defaultPipeline,J.autoMobilePipeline),this.blankTexture=H.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=H.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=H.textures.getFrame("__WHITE").glTexture;var it=this.gl;it.bindFramebuffer(it.FRAMEBUFFER,null),it.enable(it.SCISSOR_TEST),H.scale.on(b.RESIZE,this.onResize,this),this.resize(at,lt)},setExtensions:function(){var H=this.gl,K=H.getSupportedExtensions();this.supportedExtensions=K;var tt="ANGLE_instanced_arrays";this.instancedArraysExtension=K.indexOf(tt)>-1?H.getExtension(tt):null;var at="OES_vertex_array_object";this.vaoExtension=K.indexOf(at)>-1?H.getExtension(at):null},setContextHandlers:function(H,K){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),this.contextLostHandler="function"==typeof H?H.bind(this):this.dispatchContextLost.bind(this),this.contextRestoredHandler="function"==typeof K?K.bind(this):this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(H){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(u.LOSE_WEBGL,this),H.preventDefault()},dispatchContextRestored:function(H){var K=this.gl;if(K.isContextLost())console&&console.log("WebGL Context restored, but context is still lost");else{this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(h.BlendModes.NORMAL),K.disable(K.BLEND),K.disable(K.DEPTH_TEST),K.enable(K.CULL_FACE),this.compression=this.getCompressedTextures();var tt=function(at){at.createResource()};y(this.glTextureWrappers,tt),y(this.glBufferWrappers,tt),y(this.glFramebufferWrappers,tt),y(this.glProgramWrappers,tt),y(this.glAttribLocationWrappers,tt),y(this.glUniformLocationWrappers,tt),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(u.RESTORE_WEBGL,this),H.preventDefault()}},createTemporaryTextures:function(){for(var H=this.gl,K=0;K<this.maxTextures;K++){var tt=H.createTexture();H.activeTexture(H.TEXTURE0+K),H.bindTexture(H.TEXTURE_2D,tt),H.texImage2D(H.TEXTURE_2D,0,H.RGBA,1,1,0,H.RGBA,H.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(K)}},captureFrame:function(H,K){void 0===H&&(H=!1),void 0===K&&(K=!1)},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(H,K,tt){void 0===H&&(H=0),void 0===K&&(K=!1),void 0===tt&&(tt=!1)},stopCapture:function(){},onCapture:function(H){},onResize:function(H,K){(K.width!==this.width||K.height!==this.height)&&this.resize(K.width,K.height)},beginCapture:function(H,K){void 0===H&&(H=this.width),void 0===K&&(K=this.height),this.renderTarget.bind(!0,H,K),this.setProjectionMatrix(H,K)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(H,K){var tt=this.gl;return this.width=H,this.height=K,this.setProjectionMatrix(H,K),tt.viewport(0,0,H,K),this.drawingBufferHeight=tt.drawingBufferHeight,tt.scissor(0,tt.drawingBufferHeight-K,H,K),this.defaultScissor[2]=H,this.defaultScissor[3]=K,this.emit(u.RESIZE,H,K),this},getCompressedTextures:function(){var H="WEBGL_compressed_texture_",K="WEBKIT_"+H,at=function(J,it){var Y=J.getExtension(H+it)||J.getExtension(K+it)||J.getExtension("EXT_texture_compression_"+it);if(Y){var X={};for(var nt in Y)X[Y[nt]]=nt;return X}},lt=this.gl;return{ETC:at(lt,"etc"),ETC1:at(lt,"etc1"),ATC:at(lt,"atc"),ASTC:at(lt,"astc"),BPTC:at(lt,"bptc"),RGTC:at(lt,"rgtc"),PVRTC:at(lt,"pvrtc"),S3TC:at(lt,"s3tc"),S3TCSRGB:at(lt,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(H,K){var tt=this.compression[H.toUpperCase()];if(K in tt)return tt[K]},supportsCompressedTexture:function(H,K){var tt=this.compression[H.toUpperCase()];return!!tt&&(!K||K in tt)},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(H,K){return(H!==this.projectionWidth||K!==this.projectionHeight)&&(this.projectionWidth=H,this.projectionHeight=K,this.projectionMatrix.ortho(0,H,K,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(H){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(H)},getExtension:function(H){return this.hasExtension(H)?(H in this.extensions||(this.extensions[H]=this.gl.getExtension(H)),this.extensions[H]):null},flush:function(){this.pipelines.flush()},pushScissor:function(H,K,tt,at,lt){void 0===lt&&(lt=this.drawingBufferHeight);var it=[H,K,tt,at];return this.scissorStack.push(it),this.setScissor(H,K,tt,at,lt),this.currentScissor=it,it},setScissor:function(H,K,tt,at,lt){void 0===lt&&(lt=this.drawingBufferHeight);var J=this.gl,it=this.currentScissor,Y=tt>0&&at>0;it&&Y&&(Y=it[0]!==H||it[1]!==K||it[2]!==tt||it[3]!==at),Y&&(this.flush(),J.scissor(H,lt-K-at,tt,at))},resetScissor:function(){var H=this.gl;H.enable(H.SCISSOR_TEST);var K=this.currentScissor;if(K){var lt=K[2],J=K[3];lt>0&&J>0&&H.scissor(K[0],this.drawingBufferHeight-K[1]-J,lt,J)}},popScissor:function(){var H=this.scissorStack;H.pop();var K=H[H.length-1];K&&this.setScissor(K[0],K[1],K[2],K[3]),this.currentScissor=K},hasActiveStencilMask:function(){var H=this.currentMask.mask,K=this.currentCameraMask.mask;return H&&H.isStencil||K&&K.isStencil},resetViewport:function(){var H=this.gl;H.viewport(0,0,this.width,this.height),this.drawingBufferHeight=H.drawingBufferHeight},setBlendMode:function(H,K){void 0===K&&(K=!1);var tt=this.gl,at=this.blendModes[H];return!!(K||H!==h.BlendModes.SKIP_CHECK&&this.currentBlendMode!==H)&&(this.flush(),tt.enable(tt.BLEND),tt.blendEquation(at.equation),at.func.length>2?tt.blendFuncSeparate(at.func[0],at.func[1],at.func[2],at.func[3]):tt.blendFunc(at.func[0],at.func[1]),this.currentBlendMode=H,!0)},addBlendMode:function(H,K){return this.blendModes.push({func:H,equation:K})-1},updateBlendMode:function(H,K,tt){return this.blendModes[H]&&(this.blendModes[H].func=K,tt&&(this.blendModes[H].equation=tt)),this},removeBlendMode:function(H){return H>17&&this.blendModes[H]&&this.blendModes.splice(H,1),this},pushFramebuffer:function(H,K,tt,at,lt){return H===this.currentFramebuffer?this:(this.fboStack.push(H),this.setFramebuffer(H,K,tt,at,lt))},setFramebuffer:function(H,K,tt,at,lt){if(void 0===K&&(K=!1),void 0===tt&&(tt=!0),void 0===at&&(at=null),void 0===lt&&(lt=!1),H===this.currentFramebuffer)return this;var J=this.gl,it=this.width,Y=this.height;return H&&H.renderTexture&&tt?(it=H.renderTexture.width,Y=H.renderTexture.height):this.flush(),J.bindFramebuffer(J.FRAMEBUFFER,H?H.webGLFramebuffer:null),tt&&J.viewport(0,0,it,Y),at&&J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,at.webGLTexture,0),lt&&(J.clearColor(0,0,0,0),J.clear(J.COLOR_BUFFER_BIT)),K&&(H?(this.drawingBufferHeight=Y,this.pushScissor(0,0,it,Y)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=H,this},popFramebuffer:function(H,K){void 0===H&&(H=!1),void 0===K&&(K=!0);var tt=this.fboStack;tt.pop();var at=tt[tt.length-1];return at||(at=null),this.setFramebuffer(at,H,K),at},restoreFramebuffer:function(H,K){void 0===H&&(H=!1),void 0===K&&(K=!0);var tt=this.fboStack,at=tt[tt.length-1];at||(at=null),this.currentFramebuffer=null,this.setFramebuffer(at,H,K)},setProgram:function(H){return H!==this.currentProgram&&(this.flush(),this.gl.useProgram(H.webGLProgram),this.currentProgram=H,!0)},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(H,K,tt,at,lt){void 0===lt&&(lt=!1);var J=this.gl,it=J.NEAREST,Y=J.NEAREST,X=J.CLAMP_TO_EDGE,ht=p(K=H?H.width:K,tt=H?H.height:tt);if(ht&&!lt&&(X=J.REPEAT),at===h.ScaleModes.LINEAR&&this.config.antialias){var gt=H&&H.compressed;it=this.mipmapFilter&&(!gt&&ht||gt&&H.mipmaps.length>1)?this.mipmapFilter:J.LINEAR,Y=J.LINEAR}return H||"number"!=typeof K||"number"!=typeof tt?this.createTexture2D(0,it,Y,X,X,J.RGBA,H):this.createTexture2D(0,it,Y,X,X,J.RGBA,null,K,tt)},createTexture2D:function(H,K,tt,at,lt,J,it,Y,X,nt,ht,gt){"number"!=typeof Y&&(Y=it?it.width:1),"number"!=typeof X&&(X=it?it.height:1);var wt=new R(this.gl,H,K,tt,at,lt,J,it,Y,X,nt,ht,gt);return this.glTextureWrappers.push(wt),wt},createFramebuffer:function(H,K,tt,at){this.currentFramebuffer=null;var lt=new F(this.gl,H,K,tt,at);return this.glFramebufferWrappers.push(lt),lt},beginBitmapMask:function(H,K){this.gl&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==H&&(this.currentMask.mask=H,this.currentMask.camera=K))},drawBitmapMask:function(H,K,tt){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),H.renderWebGL(this,H,K),this.maskSource.unbind(!0),this.maskTarget.unbind();var at=this.gl,lt=this.getCurrentStencilMask();lt?(at.enable(at.STENCIL_TEST),lt.mask.applyStencil(this,lt.camera,!0)):this.currentMask.mask=null,this.pipelines.set(tt),at.activeTexture(at.TEXTURE0),at.bindTexture(at.TEXTURE_2D,this.maskTarget.texture.webGLTexture),at.activeTexture(at.TEXTURE1),at.bindTexture(at.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(H,K){var tt=new I(this.gl,H,K);return this.glProgramWrappers.push(tt),tt},createVertexBuffer:function(H,K){var tt=this.gl,at=new D(tt,H,tt.ARRAY_BUFFER,K);return this.glBufferWrappers.push(at),at},createAttribLocation:function(H,K){var tt=new L(this.gl,H,K);return this.glAttribLocationWrappers.push(tt),tt},createUniformLocation:function(H,K){var tt=new V(this.gl,H,K);return this.glUniformLocationWrappers.push(tt),tt},createIndexBuffer:function(H,K){var tt=this.gl,at=new D(tt,H,tt.ELEMENT_ARRAY_BUFFER,K);return this.glBufferWrappers.push(at),at},deleteTexture:function(H){if(H)return T(this.glTextureWrappers,H),H.destroy(),this},deleteFramebuffer:function(H){return H?(T(this.fboStack,H),T(this.glFramebufferWrappers,H),H.destroy(),this):this},deleteProgram:function(H){return H&&(T(this.glProgramWrappers,H),H.destroy()),this},deleteAttribLocation:function(H){return H&&(T(this.glAttribLocationWrappers,H),H.destroy()),this},deleteUniformLocation:function(H){return H&&(T(this.glUniformLocationWrappers,H),H.destroy()),this},deleteBuffer:function(H){return H?(T(this.glBufferWrappers,H),H.destroy(),this):this},preRenderCamera:function(H){var K=H.x,tt=H.y,at=H.width,lt=H.height,J=H.backgroundColor;H.emit(m.PRE_RENDER,H),this.pipelines.preBatchCamera(H),this.pushScissor(K,tt,at,lt),H.mask&&(this.currentCameraMask.mask=H.mask,this.currentCameraMask.camera=H._maskCamera,H.mask.preRenderWebGL(this,H,H._maskCamera)),J.alphaGL>0&&this.pipelines.setMulti().drawFillRect(K,tt,at,lt,E.getTintFromFloats(J.blueGL,J.greenGL,J.redGL,1),J.alphaGL)},getCurrentStencilMask:function(){var H=null,K=this.maskStack,tt=this.currentCameraMask;return K.length>0?H=K[K.length-1]:tt.mask&&tt.mask.isStencil&&(H=tt),H},postRenderCamera:function(H){var K=H.flashEffect,tt=H.fadeEffect;if(K.isRunning||tt.isRunning||tt.isComplete){var at=this.pipelines.setMulti();K.postRenderWebGL(at,E.getTintFromFloats),tt.postRenderWebGL(at,E.getTintFromFloats)}H.dirty=!1,this.popScissor(),H.mask&&(this.currentCameraMask.mask=null,H.mask.postRenderWebGL(this,H._maskCamera)),this.pipelines.postBatchCamera(H),H.emit(m.POST_RENDER,H)},preRender:function(){if(!this.contextLost){var H=this.gl;if(H.bindFramebuffer(H.FRAMEBUFFER,null),this.emit(u.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var K=this.config.backgroundColor;H.clearColor(K.redGL,K.greenGL,K.blueGL,K.alphaGL),H.clear(H.COLOR_BUFFER_BIT|H.DEPTH_BUFFER_BIT|H.STENCIL_BUFFER_BIT)}H.enable(H.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&H.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(u.PRE_RENDER)}},render:function(H,K,tt){if(!this.contextLost){var at=K.length;if(this.emit(u.RENDER,H,tt),this.preRenderCamera(tt),0===at)return this.setBlendMode(h.BlendModes.NORMAL),void this.postRenderCamera(tt);this.currentType="";for(var lt=this.currentMask,J=0;J<at;J++){this.finalType=J===at-1;var it=K[J],Y=it.mask;(lt=this.currentMask).mask&&lt.mask!==Y&&lt.mask.postRenderWebGL(this,lt.camera),Y&&lt.mask!==Y&&Y.preRenderWebGL(this,it,tt),it.blendMode!==this.currentBlendMode&&this.setBlendMode(it.blendMode);var X=it.type;X!==this.currentType&&(this.newType=!0,this.currentType=X),this.nextTypeMatch=!this.finalType&&K[J+1].type===this.currentType,it.renderWebGL(this,it,tt),this.newType=!1}(lt=this.currentMask).mask&&lt.mask.postRenderWebGL(this,lt.camera),this.setBlendMode(h.BlendModes.NORMAL),this.postRenderCamera(tt)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(u.POST_RENDER);var H=this.snapshotState;H.callback&&(A(this.gl,H),H.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var H=this.gl,K=this.getCurrentStencilMask();if(K){var tt=K.mask;H.enable(H.STENCIL_TEST),H.stencilFunc(tt.invertAlpha?H.NOTEQUAL:H.EQUAL,tt.level,255)}},snapshot:function(H,K,tt){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,H,K,tt)},snapshotArea:function(H,K,tt,at,lt,J,it){var Y=this.snapshotState;return Y.callback=lt,Y.type=J,Y.encoder=it,Y.getPixel=!1,Y.x=H,Y.y=K,Y.width=tt,Y.height=at,this},snapshotPixel:function(H,K,tt){return this.snapshotArea(H,K,1,1,tt),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(H,K,tt,at,lt,J,it,Y,X,nt,ht){void 0===lt&&(lt=!1),void 0===J&&(J=0),void 0===it&&(it=0),void 0===Y&&(Y=K),void 0===X&&(X=tt),"pixel"===nt&&(lt=!0,nt="image/png");var gt=this.currentFramebuffer;this.snapshotArea(J,it,Y,X,at,nt,ht);var wt=this.snapshotState;return wt.getPixel=lt,wt.isFramebuffer=!0,wt.bufferWidth=K,wt.bufferHeight=tt,wt.width=Math.min(wt.width,K),wt.height=Math.min(wt.height,tt),this.setFramebuffer(H),A(this.gl,wt),this.setFramebuffer(gt),wt.callback=null,wt.isFramebuffer=!1,this},canvasToTexture:function(H,K,tt,at){void 0===tt&&(tt=!1),void 0===at&&(at=!1);var lt=this.gl,J=lt.NEAREST,it=lt.NEAREST,Y=H.width,X=H.height,nt=lt.CLAMP_TO_EDGE,ht=p(Y,X);return!tt&&ht&&(nt=lt.REPEAT),this.config.antialias&&(J=ht&&this.mipmapFilter?this.mipmapFilter:lt.LINEAR,it=lt.LINEAR),K?(K.update(H,Y,X,at,nt,nt,J,it,K.format),K):this.createTexture2D(0,J,it,nt,nt,lt.RGBA,H,Y,X,!0,!1,at)},createCanvasTexture:function(H,K,tt){return void 0===K&&(K=!1),void 0===tt&&(tt=!1),this.canvasToTexture(H,null,K,tt)},updateCanvasTexture:function(H,K,tt,at){return void 0===tt&&(tt=!1),void 0===at&&(at=!1),this.canvasToTexture(H,K,at,tt)},videoToTexture:function(H,K,tt,at){void 0===tt&&(tt=!1),void 0===at&&(at=!1);var lt=this.gl,J=lt.NEAREST,it=lt.NEAREST,Y=H.videoWidth,X=H.videoHeight,nt=lt.CLAMP_TO_EDGE,ht=p(Y,X);return!tt&&ht&&(nt=lt.REPEAT),this.config.antialias&&(J=ht&&this.mipmapFilter?this.mipmapFilter:lt.LINEAR,it=lt.LINEAR),K?(K.update(H,Y,X,at,nt,nt,J,it,K.format),K):this.createTexture2D(0,J,it,nt,nt,lt.RGBA,H,Y,X,!0,!0,at)},createVideoTexture:function(H,K,tt){return void 0===K&&(K=!1),void 0===tt&&(tt=!1),this.videoToTexture(H,null,K,tt)},updateVideoTexture:function(H,K,tt,at){return void 0===tt&&(tt=!1),void 0===at&&(at=!1),this.videoToTexture(H,K,at,tt)},createUint8ArrayTexture:function(H,K,tt){var at=this.gl,lt=at.NEAREST,J=at.NEAREST,it=at.CLAMP_TO_EDGE;return p(K,tt)&&(it=at.REPEAT),this.createTexture2D(0,lt,J,it,it,at.RGBA,H,K,tt)},setTextureFilter:function(H,K){var tt=this.gl,at=0===K?tt.LINEAR:tt.NEAREST;tt.activeTexture(tt.TEXTURE0);var lt=tt.getParameter(tt.TEXTURE_BINDING_2D);return tt.bindTexture(tt.TEXTURE_2D,H.webGLTexture),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MIN_FILTER,at),tt.texParameteri(tt.TEXTURE_2D,tt.TEXTURE_MAG_FILTER,at),H.minFilter=at,H.magFilter=at,lt&&tt.bindTexture(tt.TEXTURE_2D,lt),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var H=function(K){K.destroy()};y(this.glAttribLocationWrappers,H),y(this.glBufferWrappers,H),y(this.glFramebufferWrappers,H),y(this.glProgramWrappers,H),y(this.glTextureWrappers,H),y(this.glUniformLocationWrappers,H),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});C.exports=Q},38683:(C,k,a)=>{var y=a(83419),T=a(95428),m=a(95540),f=a(14500),h=new y({initialize:function(u,p,d,g,v){this.pipeline=u,this.name=p,this.renderer=u.renderer,this.gl=this.renderer.gl,this.fragSrc=g,this.vertSrc=d,this.program=this.renderer.createProgram(d,g),this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(v),this.createUniforms()},createAttributes:function(c){var u=0,p=0,d=[];this.vertexComponentCount=0;for(var g=0;g<c.length;g++){var v=c[g],x=v.name,b=m(v,"size",1),_=m(v,"type",f.FLOAT),A=_.size;d.push({name:x,size:b,type:_.enum,normalized:!!v.normalized,offset:p,enabled:!1,location:-1}),4===A?u+=b:u++,p+=b*A}this.vertexSize=p,this.vertexComponentCount=u,this.attributes=d},bind:function(c,u){return void 0===c&&(c=!1),void 0===u&&(u=!1),u&&this.pipeline.flush(),this.renderer.setProgram(this.program),c&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(c){void 0===c&&(c=!1);for(var u=this.gl,p=this.renderer,d=this.vertexSize,g=this.attributes,v=this.program,x=0;x<g.length;x++){var b=g[x],_=b.size,E=b.type,A=b.offset,D=b.enabled,I=b.location,R=!!b.normalized;if(c){-1!==I&&p.deleteAttribLocation(I);var F=this.renderer.createAttribLocation(v,b.name);F.webGLAttribLocation>=0?(u.enableVertexAttribArray(F.webGLAttribLocation),u.vertexAttribPointer(F.webGLAttribLocation,_,E,R,d,A),b.enabled=!0,b.location=F):-1!==F.webGLAttribLocation&&u.disableVertexAttribArray(F.webGLAttribLocation)}else D?u.vertexAttribPointer(I.webGLAttribLocation,_,E,R,d,A):!D&&-1!==I&&I.webGLAttribLocation>-1&&(u.disableVertexAttribArray(I.webGLAttribLocation),b.location=-1)}return this},createUniforms:function(){var d,g,v,c=this.gl,u=this.program,p=this.uniforms,x=c.getProgramParameter(u.webGLProgram,c.ACTIVE_UNIFORMS);for(d=0;d<x;d++){var b=c.getActiveUniform(u.webGLProgram,d);if(b){null!==(v=this.renderer.createUniformLocation(u,g=b.name))&&(p[g]={name:g,location:v,setter:null,value1:null,value2:null,value3:null,value4:null});var _=g.indexOf("[");_>0&&(g=g.substr(0,_),p.hasOwnProperty(g)||null!==(v=this.renderer.createUniformLocation(u,g))&&(p[g]={name:g,location:v,setter:null,value1:null,value2:null,value3:null,value4:null}))}}return this},syncUniforms:function(){var c=this.gl;for(var u in this.renderer.setProgram(this.program),this.uniforms){var p=this.uniforms[u];p.setter&&p.setter.call(c,p.location.webGLUniformLocation,p.value1,p.value2,p.value3,p.value4)}},hasUniform:function(c){return this.uniforms.hasOwnProperty(c)},resetUniform:function(c){var u=this.uniforms[c];return u&&(u.value1=null,u.value2=null,u.value3=null,u.value4=null),this},setUniform1:function(c,u,p,d){var g=this.uniforms[u];return g?((d||g.value1!==p)&&(g.setter||(g.setter=c),g.value1=p,this.renderer.setProgram(this.program),c.call(this.gl,g.location.webGLUniformLocation,p),this.pipeline.currentShader=this),this):this},setUniform2:function(c,u,p,d,g){var v=this.uniforms[u];return v?((g||v.value1!==p||v.value2!==d)&&(v.setter||(v.setter=c),v.value1=p,v.value2=d,this.renderer.setProgram(this.program),c.call(this.gl,v.location.webGLUniformLocation,p,d),this.pipeline.currentShader=this),this):this},setUniform3:function(c,u,p,d,g,v){var x=this.uniforms[u];return x?((v||x.value1!==p||x.value2!==d||x.value3!==g)&&(x.setter||(x.setter=c),x.value1=p,x.value2=d,x.value3=g,this.renderer.setProgram(this.program),c.call(this.gl,x.location.webGLUniformLocation,p,d,g),this.pipeline.currentShader=this),this):this},setUniform4:function(c,u,p,d,g,v,x){var b=this.uniforms[u];return b?((x||b.value1!==p||b.value2!==d||b.value3!==g||b.value4!==v)&&(b.setter||(b.setter=c),b.value1=p,b.value2=d,b.value3=g,b.value4=v,this.renderer.setProgram(this.program),c.call(this.gl,b.location.webGLUniformLocation,p,d,g,v),this.pipeline.currentShader=this),this):this},setBoolean:function(c,u){return this.setUniform1(this.gl.uniform1i,c,Number(u))},set1f:function(c,u){return this.setUniform1(this.gl.uniform1f,c,u)},set2f:function(c,u,p){return this.setUniform2(this.gl.uniform2f,c,u,p)},set3f:function(c,u,p,d){return this.setUniform3(this.gl.uniform3f,c,u,p,d)},set4f:function(c,u,p,d,g){return this.setUniform4(this.gl.uniform4f,c,u,p,d,g)},set1fv:function(c,u){return this.setUniform1(this.gl.uniform1fv,c,u,!0)},set2fv:function(c,u){return this.setUniform1(this.gl.uniform2fv,c,u,!0)},set3fv:function(c,u){return this.setUniform1(this.gl.uniform3fv,c,u,!0)},set4fv:function(c,u){return this.setUniform1(this.gl.uniform4fv,c,u,!0)},set1iv:function(c,u){return this.setUniform1(this.gl.uniform1iv,c,u,!0)},set2iv:function(c,u){return this.setUniform1(this.gl.uniform2iv,c,u,!0)},set3iv:function(c,u){return this.setUniform1(this.gl.uniform3iv,c,u,!0)},set4iv:function(c,u){return this.setUniform1(this.gl.uniform4iv,c,u,!0)},set1i:function(c,u){return this.setUniform1(this.gl.uniform1i,c,u)},set2i:function(c,u,p){return this.setUniform2(this.gl.uniform2i,c,u,p)},set3i:function(c,u,p,d){return this.setUniform3(this.gl.uniform3i,c,u,p,d)},set4i:function(c,u,p,d,g){return this.setUniform4(this.gl.uniform4i,c,u,p,d,g)},setMatrix2fv:function(c,u,p){return this.setUniform2(this.gl.uniformMatrix2fv,c,u,p,!0)},setMatrix3fv:function(c,u,p){return this.setUniform2(this.gl.uniformMatrix3fv,c,u,p,!0)},setMatrix4fv:function(c,u,p){return this.setUniform2(this.gl.uniformMatrix4fv,c,u,p,!0)},createProgram:function(c,u){return void 0===c&&(c=this.vertSrc),void 0===u&&(u=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=c,this.fragSrc=u,this.program=this.renderer.createProgram(c,u),this.createUniforms(),this.rebind()},destroy:function(){var c=this.renderer;T(this.uniforms,function(u){c.deleteUniformLocation(u.location)}),this.uniforms=null,T(this.attributes,function(u){c.deleteAttribLocation(u.location)}),this.attributes=null,c.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});C.exports=h},14500:C=>{C.exports={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}}},4159:(C,k,a)=>{var y=a(14500),T=a(79291),m={PipelineManager:a(7530),Pipelines:a(96615),RenderTarget:a(32302),Utils:a(70554),WebGLPipeline:a(29100),WebGLRenderer:a(74797),WebGLShader:a(38683),Wrappers:a(9503)};m=T(!1,m,y),C.exports=m},31302:(C,k,a)=>{var y=a(83419),T=a(95540),m=a(78908),f=a(85191),h=a(14500),c=a(29100),u=new y({Extends:c,initialize:function(d){d.fragShader=T(d,"fragShader",m),d.vertShader=T(d,"vertShader",f),d.batchSize=T(d,"batchSize",1),d.vertices=T(d,"vertices",[-1,1,-1,-7,7,1]),d.attributes=T(d,"attributes",[{name:"inPosition",size:2,type:h.FLOAT}]),c.call(this,d)},boot:function(){c.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(p,d){c.prototype.resize.call(this,p,d),this.set2f("uResolution",p,d)},beginMask:function(p,d,g){this.renderer.beginBitmapMask(p,g)},endMask:function(p,d,g){var v=this.gl,b=p.bitmapMask;b&&v&&(this.renderer.drawBitmapMask(b,d,this),g&&this.set2f("uResolution",g.width,g.height),this.set1i("uInvertMaskAlpha",p.invertAlpha),v.drawArrays(this.topology,0,3),g&&this.set2f("uResolution",this.width,this.height),v.bindTexture(v.TEXTURE_2D,null))}});C.exports=u},92651:(C,k,a)=>{var y=a(83419),T=a(58918),m=a(14811),f=a(95540),h=a(43558),c=a(89350),u=a(70554),p=new y({Extends:h,initialize:function(g){g.shaders=[u.setGlowQuality(c.FXGlowFrag,g.game),c.FXShadowFrag,c.FXPixelateFrag,c.FXVignetteFrag,c.FXShineFrag,c.FXBlurLowFrag,c.FXBlurMedFrag,c.FXBlurHighFrag,c.FXGradientFrag,c.FXBloomFrag,c.ColorMatrixFrag,c.FXCircleFrag,c.FXBarrelFrag,c.FXDisplacementFrag,c.FXWipeFrag,c.FXBokehFrag],h.call(this,g);var v=this.game;this.glow=new T.Glow(v),this.shadow=new T.Shadow(v),this.pixelate=new T.Pixelate(v),this.vignette=new T.Vignette(v),this.shine=new T.Shine(v),this.gradient=new T.Gradient(v),this.circle=new T.Circle(v),this.barrel=new T.Barrel(v),this.wipe=new T.Wipe(v),this.bokeh=new T.Bokeh(v);var x=[];x[m.GLOW]=this.onGlow,x[m.SHADOW]=this.onShadow,x[m.PIXELATE]=this.onPixelate,x[m.VIGNETTE]=this.onVignette,x[m.SHINE]=this.onShine,x[m.BLUR]=this.onBlur,x[m.GRADIENT]=this.onGradient,x[m.BLOOM]=this.onBloom,x[m.COLOR_MATRIX]=this.onColorMatrix,x[m.CIRCLE]=this.onCircle,x[m.BARREL]=this.onBarrel,x[m.DISPLACEMENT]=this.onDisplacement,x[m.WIPE]=this.onWipe,x[m.BOKEH]=this.onBokeh,this.fxHandlers=x},onDraw:function(d,g,v){this.source=d,this.target=g,this.swap=v;var x=d.width,b=d.height,_=this.tempSprite,E=this.fxHandlers;if(_&&_.preFX)for(var A=_.preFX.list,D=0;D<A.length;D++){var I=A[D];I.active&&E[I.type].call(this,I,x,b)}this.drawToGame(this.source)},runDraw:function(){var d=this.source,g=this.target;this.copy(d,g),this.source=g,this.target=d},onGlow:function(d,g,v){var x=this.shaders[m.GLOW];this.setShader(x),this.glow.onPreRender(d,x,g,v),this.runDraw()},onShadow:function(d){var g=this.shaders[m.SHADOW];this.setShader(g),this.shadow.onPreRender(d,g),this.runDraw()},onPixelate:function(d,g,v){var x=this.shaders[m.PIXELATE];this.setShader(x),this.pixelate.onPreRender(d,x,g,v),this.runDraw()},onVignette:function(d){var g=this.shaders[m.VIGNETTE];this.setShader(g),this.vignette.onPreRender(d,g),this.runDraw()},onShine:function(d,g,v){var x=this.shaders[m.SHINE];this.setShader(x),this.shine.onPreRender(d,x,g,v),this.runDraw()},onBlur:function(d,g,v){var x=f(d,"quality");this.setShader(this.shaders[m.BLUR+x]),this.set1i("uMainSampler",0),this.set2f("resolution",g,v),this.set1f("strength",f(d,"strength")),this.set3fv("color",f(d,"glcolor"));for(var _=f(d,"x"),E=f(d,"y"),A=f(d,"steps"),D=0;D<A;D++)this.set2f("offset",_,0),this.runDraw(),this.set2f("offset",0,E),this.runDraw()},onGradient:function(d){var g=this.shaders[m.GRADIENT];this.setShader(g),this.gradient.onPreRender(d,g),this.runDraw()},onBloom:function(d,g,v){var x=this.shaders[m.BLOOM];this.copySprite(this.source,this.swap),this.setShader(x),this.set1i("uMainSampler",0),this.set1f("strength",f(d,"blurStrength")),this.set3fv("color",f(d,"glcolor"));for(var b=2/g*f(d,"offsetX"),_=2/v*f(d,"offsetY"),E=f(d,"steps"),A=0;A<E;A++)this.set2f("offset",b,0),this.runDraw(),this.set2f("offset",0,_),this.runDraw();this.blendFrames(this.swap,this.source,this.target,f(d,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(d){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",d.getData()),this.set1f("uAlpha",d.alpha),this.runDraw()},onCircle:function(d,g,v){var x=this.shaders[m.CIRCLE];this.setShader(x),this.circle.onPreRender(d,x,g,v),this.runDraw()},onBarrel:function(d){var g=this.shaders[m.BARREL];this.setShader(g),this.barrel.onPreRender(d,g),this.runDraw()},onDisplacement:function(d){this.setShader(this.shaders[m.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",d.x,d.y),this.bindTexture(d.glTexture,1),this.runDraw()},onWipe:function(d){var g=this.shaders[m.WIPE];this.setShader(g),this.wipe.onPreRender(d,g),this.runDraw()},onBokeh:function(d,g,v){var x=this.shaders[m.BOKEH];this.setShader(x),this.bokeh.onPreRender(d,x,g,v),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,h.prototype.destroy.call(this),this}});C.exports=p},96569:(C,k,a)=>{var y=a(83419),T=a(95540),m=a(31063),f=a(57516),h=a(61340),c=a(26099),u=a(29100),p=new y({Extends:f,initialize:function(g){var v=T(g,"fragShader",m);g.fragShader=v.replace("%LIGHT_COUNT%",g.game.renderer.config.maxLights),f.call(this,g),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.lightsActive=!0,this.tempVec2=new c,this._tempMatrix=new h,this._tempMatrix2=new h},boot:function(){u.prototype.boot.call(this)},onRender:function(d,g){var v=d.sys.lights;if(this.lightsActive=!1,v&&v.active){var x=v.getLights(g),b=x.length;this.lightsActive=!0;var _,A=this.renderer.height,D=g.matrix,I=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",g.x,g.y,g.rotation,g.zoom),this.set3f("uAmbientLightColor",v.ambientColor.r,v.ambientColor.g,v.ambientColor.b),this.set1i("uLightCount",b),_=0;_<b;_++){var R=x[_].light,F=R.color,L="uLights["+_+"].";D.transformPoint(R.x,R.y,I),this.set2f(L+"position",I.x-g.scrollX*R.scrollFactorX*g.zoom,A-(I.y-g.scrollY*R.scrollFactorY*g.zoom)),this.set3f(L+"color",F.r,F.g,F.b),this.set1f(L+"intensity",R.intensity),this.set1f(L+"radius",R.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(d){if(d!==this.currentNormalMapRotation||0===this.vertexCount){this.vertexCount>0&&this.flush();var g=this.inverseRotationMatrix;if(d){var v=-d,x=Math.cos(v),b=Math.sin(v);g[1]=b,g[3]=-b,g[0]=g[4]=x}else g[0]=g[4]=1,g[1]=g[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,g),this.currentNormalMapRotation=d}},setTexture2D:function(d,g){void 0===d&&(d=this.renderer.whiteTexture);var x=this.getNormalMap(g);this.isNewNormalMap(d,x)&&(this.flush(),this.createBatch(d),this.addTextureToBatch(x),this.currentNormalMap=x);var b=0;return g&&g.parentContainer?b=g.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2).rotationNormalized:g&&(b=g.rotation),null===this.currentBatch&&(this.createBatch(d),this.addTextureToBatch(x)),this.setNormalMapRotation(b),0},setGameObject:function(d,g){void 0===g&&(g=d.frame);var v=g.glTexture,x=this.getNormalMap(d);if(this.isNewNormalMap(v,x)&&(this.flush(),this.createBatch(v),this.addTextureToBatch(x),this.currentNormalMap=x),d.parentContainer){var b=d.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(b.rotationNormalized)}else this.setNormalMapRotation(d.rotation);return null===this.currentBatch&&(this.createBatch(v),this.addTextureToBatch(x)),0},isNewNormalMap:function(d,g){return this.currentTexture!==d||this.currentNormalMap!==g},getNormalMap:function(d){var g;return d?(d.displayTexture?g=d.displayTexture.dataSource[d.displayFrame.sourceIndex]:d.texture?g=d.texture.dataSource[d.frame.sourceIndex]:d.tileset&&(g=Array.isArray(d.tileset)?d.tileset[0].image.dataSource[0]:d.tileset.image.dataSource[0]),g?g.glTexture:this.renderer.normalTexture):this.renderer.normalTexture},batchSprite:function(d,g,v){this.lightsActive&&f.prototype.batchSprite.call(this,d,g,v)},batchTexture:function(d,g,v,x,b,_,E,A,D,I,R,F,L,V,B,G,Q,H,K,tt,at,lt,J,it,Y,X,nt,ht,gt,wt,St,Vt){this.lightsActive&&f.prototype.batchTexture.call(this,d,g,v,x,b,_,E,A,D,I,R,F,L,V,B,G,Q,H,K,tt,at,lt,J,it,Y,X,nt,ht,gt,wt,St,Vt)},batchTextureFrame:function(d,g,v,x,b,_,E){this.lightsActive&&f.prototype.batchTextureFrame.call(this,d,g,v,x,b,_,E)}});C.exports=p},56527:(C,k,a)=>{var y=a(83419),T=a(95540),m=a(57516),f=a(45561),h=a(60722),c=a(14500),u=a(29100),p=new y({Extends:m,initialize:function(g){g.fragShader=T(g,"fragShader",f),g.vertShader=T(g,"vertShader",h),g.attributes=T(g,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:c.UNSIGNED_BYTE,normalized:!0}]),g.forceZero=!0,g.resizeUniform="uResolution",m.call(this,g)},boot:function(){u.prototype.boot.call(this);var d=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",d.width,d.height)}});C.exports=p},57516:(C,k,a)=>{var y=a(83419),T=a(94811),m=a(95540),f=a(98840),h=a(44667),c=a(61340),u=a(70554),p=a(14500),d=a(29100),g=new y({Extends:d,initialize:function(x){var b=x.game.renderer,_=m(x,"fragShader",f);x.fragShader=u.parseFragmentShaderMaxTextures(_,b.maxTextures),x.vertShader=m(x,"vertShader",h),x.attributes=m(x,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:p.UNSIGNED_BYTE,normalized:!0}]),x.resizeUniform="uResolution",d.call(this,x),this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.calcMatrix=new c,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){d.prototype.boot.call(this);var v=this.renderer;this.set1iv("uMainSampler",v.textureIndexes),this.set2f("uResolution",v.width,v.height)},batchSprite:function(v,x,b){this.manager.set(this,v);var _=this._tempMatrix1,E=this._tempMatrix2,A=this._tempMatrix3,D=v.frame,I=D.glTexture,R=D.u0,F=D.v0,L=D.u1,V=D.v1,B=D.x,G=D.y,Q=D.cutWidth,H=D.cutHeight,K=D.customPivot,tt=v.displayOriginX,at=v.displayOriginY,lt=-tt+B,J=-at+G;if(v.isCropped){var it=v._crop;(it.flipX!==v.flipX||it.flipY!==v.flipY)&&D.updateCropUVs(it,v.flipX,v.flipY),R=it.u0,F=it.v0,L=it.u1,V=it.v1,Q=it.width,H=it.height,lt=-tt+(B=it.x),J=-at+(G=it.y)}var Y=1,X=1;v.flipX&&(K||(lt+=2*tt-D.realWidth),Y=-1),v.flipY&&(K||(J+=2*at-D.realHeight),X=-1);var nt=v.x,ht=v.y;x.roundPixels&&(nt=Math.floor(nt),ht=Math.floor(ht)),E.applyITRS(nt,ht,v.rotation,v.scaleX*Y,v.scaleY*X),_.copyFrom(x.matrix),b?(_.multiplyWithOffset(b,-x.scrollX*v.scrollFactorX,-x.scrollY*v.scrollFactorY),E.e=nt,E.f=ht):(E.e-=x.scrollX*v.scrollFactorX,E.f-=x.scrollY*v.scrollFactorY),_.multiply(E,A);var gt=A.setQuad(lt,J,lt+Q,J+H,x.renderRoundPixels),wt=u.getTintAppendFloatAlpha,St=x.alpha,Vt=wt(v.tintTopLeft,St*v._alphaTL),Zt=wt(v.tintTopRight,St*v._alphaTR),Jt=wt(v.tintBottomLeft,St*v._alphaBL),ie=wt(v.tintBottomRight,St*v._alphaBR);this.shouldFlush(6)&&this.flush();var ae=this.setGameObject(v,D);this.manager.preBatch(v),this.batchQuad(v,gt[0],gt[1],gt[2],gt[3],gt[4],gt[5],gt[6],gt[7],R,F,L,V,Vt,Zt,Jt,ie,v.tintFill,I,ae),this.manager.postBatch(v)},batchTexture:function(v,x,b,_,E,A,D,I,R,F,L,V,B,G,Q,H,K,tt,at,lt,J,it,Y,X,nt,ht,gt,wt,St,Vt,Zt,Jt,ie){void 0===ie&&(ie=!1),this.manager.set(this,v);var ae=this._tempMatrix1,fe=this._tempMatrix2,Pe=this._tempMatrix3,Xe=tt/b+gt,Re=at/_+wt,$e=(tt+lt)/b+gt,Ce=(at+J)/_+wt,Je=D,ii=I,Ni=-H,Ji=-K;if(v.isCropped){var an=v._crop,on=an.width,dn=an.height;Je=on,ii=dn,D=on,I=dn;var Mr=tt=an.x,Ur=at=an.y;V&&(Mr=lt-an.x-on),B&&(Ur=J-an.y-dn),Xe=Mr/b+gt,Re=Ur/_+wt,$e=(Mr+on)/b+gt,Ce=(Ur+dn)/_+wt,Ni=-H+tt,Ji=-K+at}V&&(Je*=-1,Ni+=D),(B^=!Zt&&x.isRenderTexture?1:0)&&(ii*=-1,Ji+=I),St.roundPixels&&(E=Math.floor(E),A=Math.floor(A)),fe.applyITRS(E,A,L,R,F),ae.copyFrom(St.matrix),Vt?(ae.multiplyWithOffset(Vt,-St.scrollX*G,-St.scrollY*Q),fe.e=E,fe.f=A):(fe.e-=St.scrollX*G,fe.f-=St.scrollY*Q),ae.multiply(fe,Pe);var un=Pe.setQuad(Ni,Ji,Ni+Je,Ji+ii,St.renderRoundPixels);null==Jt&&(Jt=this.setTexture2D(x)),v&&!ie&&this.manager.preBatch(v),this.batchQuad(v,un[0],un[1],un[2],un[3],un[4],un[5],un[6],un[7],Xe,Re,$e,Ce,it,Y,X,nt,ht,x,Jt),v&&!ie&&this.manager.postBatch(v)},batchTextureFrame:function(v,x,b,_,E,A,D){this.manager.set(this);var I=this._tempMatrix1.copyFrom(A),R=this._tempMatrix2;D?I.multiply(D,R):R=I;var F=R.setQuad(x,b,x+v.width,b+v.height),L=this.setTexture2D(v.source.glTexture);_=u.getTintAppendFloatAlpha(_,E),this.batchQuad(null,F[0],F[1],F[2],F[3],F[4],F[5],F[6],F[7],v.u0,v.v0,v.u1,v.v1,_,_,_,_,0,v.glTexture,L)},batchFillRect:function(v,x,b,_,E,A){this.renderer.pipelines.set(this);var D=this.calcMatrix;A&&A.multiply(E,D);var I=D.setQuad(v,x,v+b,x+_),R=this.fillTint;this.batchQuad(null,I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],0,0,1,1,R.TL,R.TR,R.BL,R.BR,2)},batchFillTriangle:function(v,x,b,_,E,A,D,I){this.renderer.pipelines.set(this);var R=this.calcMatrix;I&&I.multiply(D,R);var F=R.getX(v,x),L=R.getY(v,x),V=R.getX(b,_),B=R.getY(b,_),G=R.getX(E,A),Q=R.getY(E,A),H=this.fillTint;this.batchTri(null,F,L,V,B,G,Q,0,0,1,1,H.TL,H.TR,H.BL,2)},batchStrokeTriangle:function(v,x,b,_,E,A,D,I,R){var F=this.tempTriangle;F[0].x=v,F[0].y=x,F[0].width=D,F[1].x=b,F[1].y=_,F[1].width=D,F[2].x=E,F[2].y=A,F[2].width=D,F[3].x=v,F[3].y=x,F[3].width=D,this.batchStrokePath(F,D,!1,I,R)},batchFillPath:function(v,x,b){this.renderer.pipelines.set(this);var _=this.calcMatrix;b&&b.multiply(x,_);for(var D,I,E=v.length,A=this.polygonCache,R=this.fillTint.TL,F=this.fillTint.TR,L=this.fillTint.BL,V=0;V<E;++V)A.push((I=v[V]).x,I.y);E=(D=T(A)).length;for(var B=0;B<E;B+=3){var G=2*D[B+0],Q=2*D[B+1],H=2*D[B+2],K=A[G+0],tt=A[G+1],at=A[Q+0],lt=A[Q+1],J=A[H+0],it=A[H+1],Y=_.getX(K,tt),X=_.getY(K,tt),nt=_.getX(at,lt),ht=_.getY(at,lt),gt=_.getX(J,it),wt=_.getY(J,it);this.batchTri(null,Y,X,nt,ht,gt,wt,0,0,1,1,R,F,L,2)}A.length=0},batchStrokePath:function(v,x,b,_,E){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var A=v.length-1,D=0;D<A;D++){var I=v[D],R=v[D+1];this.batchLine(I.x,I.y,R.x,R.y,I.width/2,R.width/2,x,D,!b&&D===A-1,_,E)}},batchLine:function(v,x,b,_,E,A,D,I,R,F,L){this.renderer.pipelines.set(this);var V=this.calcMatrix;L&&L.multiply(F,V);var B=b-v,G=_-x,Q=Math.sqrt(B*B+G*G);if(0!==Q){var H=E*(_-x)/Q,K=E*(v-b)/Q,tt=A*(_-x)/Q,at=A*(v-b)/Q,lt=b-tt,J=_-at,it=v-H,Y=x-K,X=b+tt,nt=_+at,ht=v+H,gt=x+K,wt=V.getX(lt,J),St=V.getY(lt,J),Vt=V.getX(it,Y),Zt=V.getY(it,Y),Jt=V.getX(X,nt),ie=V.getY(X,nt),ae=V.getX(ht,gt),fe=V.getY(ht,gt),Pe=this.strokeTint,Xe=Pe.TL,Re=Pe.TR,$e=Pe.BL,Ce=Pe.BR;if(this.batchQuad(null,ae,fe,Vt,Zt,wt,St,Jt,ie,0,0,1,1,Xe,Re,$e,Ce,2),!(D<=2)){var Je=this.prevQuad,ii=this.firstQuad;I>0&&Je[4]?this.batchQuad(null,ae,fe,Vt,Zt,Je[0],Je[1],Je[2],Je[3],0,0,1,1,Xe,Re,$e,Ce,2):(ii[0]=ae,ii[1]=fe,ii[2]=Vt,ii[3]=Zt,ii[4]=1),R&&ii[4]?this.batchQuad(null,wt,St,Jt,ie,ii[0],ii[1],ii[2],ii[3],0,0,1,1,Xe,Re,$e,Ce,2):(Je[0]=wt,Je[1]=St,Je[2]=Jt,Je[3]=ie,Je[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,d.prototype.destroy.call(this),this}});C.exports=g},43439:(C,k,a)=>{var y=a(83419),T=a(95540),m=a(4127),f=a(89924),h=a(29100),c=new y({Extends:h,initialize:function(p){p.vertShader=T(p,"vertShader",f),p.fragShader=T(p,"fragShader",m),p.attributes=T(p,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),h.call(this,p)},onRender:function(u,p){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",p.zoom)},batchPointLight:function(u,p,d,g,v,x,b,_,E,A,D,I){var R=u.color,F=u.intensity,L=u.radius,V=u.attenuation,B=R.r*F,G=R.g*F,Q=R.b*F,H=p.alpha*u.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(d,g,D,I,L,V,B,G,Q,H),this.batchLightVert(v,x,D,I,L,V,B,G,Q,H),this.batchLightVert(b,_,D,I,L,V,B,G,Q,H),this.batchLightVert(d,g,D,I,L,V,B,G,Q,H),this.batchLightVert(b,_,D,I,L,V,B,G,Q,H),this.batchLightVert(E,A,D,I,L,V,B,G,Q,H),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(u,p,d,g,v,x,b,_,E,A){var D=this.vertexViewF32,I=this.vertexCount*this.currentShader.vertexComponentCount-1;D[++I]=u,D[++I]=p,D[++I]=d,D[++I]=g,D[++I]=v,D[++I]=x,D[++I]=b,D[++I]=_,D[++I]=E,D[++I]=A,this.vertexCount++}});C.exports=c},84057:(C,k,a)=>{var y=a(83419),T=a(89422),m=a(95540),f=a(27681),h=a(49627),c=a(29100),u=new y({Extends:c,initialize:function(d){d.renderTarget=m(d,"renderTarget",1),d.fragShader=m(d,"fragShader",f),d.vertShader=m(d,"vertShader",h),d.attributes=m(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.batchSize=1,d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],c.call(this,d),this.isPostFX=!0,this.colorMatrix=new T,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){c.prototype.boot.call(this);var p=this.manager.UTILITY_PIPELINE;this.fullFrame1=p.fullFrame1,this.fullFrame2=p.fullFrame2,this.halfFrame1=p.halfFrame1,this.halfFrame2=p.halfFrame2;var d=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",d.width,d.height);for(var g=this.renderTargets,v=0;v<g.length;v++)g[v].autoResize=!0},postBatch:function(p){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(p),this},onDraw:function(p){this.bindAndDraw(p)},getController:function(p){return void 0!==p?p:this.controller?this.controller:this},copySprite:function(p,d,g){void 0===g&&(g=!1);var v=this.gl;v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,p.texture.webGLTexture);var x=v.getParameter(v.FRAMEBUFFER_BINDING);v.bindFramebuffer(v.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,d.texture.webGLTexture,0),v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),g&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,x))},copyFrame:function(p,d,g,v,x){this.manager.copyFrame(p,d,g,v,x)},copyToGame:function(p){this.manager.copyToGame(p)},drawFrame:function(p,d,g){this.manager.drawFrame(p,d,g,this.colorMatrix)},blendFrames:function(p,d,g,v,x){this.manager.blendFrames(p,d,g,v,x)},blendFramesAdditive:function(p,d,g,v,x){this.manager.blendFramesAdditive(p,d,g,v,x)},clearFrame:function(p,d){this.manager.clearFrame(p,d)},blitFrame:function(p,d,g,v,x,b){this.manager.blitFrame(p,d,g,v,x,b)},copyFrameRect:function(p,d,g,v,x,b,_,E){this.manager.copyFrameRect(p,d,g,v,x,b,_,E)},bindAndDraw:function(p,d,g,v,x){void 0===g&&(g=!0),void 0===v&&(v=!0);var b=this.gl,_=this.renderer;this.bind(x),this.set1i("uMainSampler",0),d?(b.viewport(0,0,d.width,d.height),b.bindFramebuffer(b.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,d.texture.webGLTexture,0),g&&(b.clearColor(0,0,0,v?0:1),b.clear(b.COLOR_BUFFER_BIT))):(_.popFramebuffer(!1,!1),_.currentFramebuffer||b.viewport(0,0,_.width,_.height)),_.restoreStencilMask(),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,p.texture.webGLTexture),b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.STATIC_DRAW),b.drawArrays(b.TRIANGLES,0,6),d&&(b.bindTexture(b.TEXTURE_2D,null),b.bindFramebuffer(b.FRAMEBUFFER,_.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),c.prototype.destroy.call(this),this}});C.exports=u},43558:(C,k,a)=>{var y=a(10312),T=a(67502),m=a(83419),f=a(96293),h=a(95540),c=a(57516),u=a(27681),p=a(87841),d=a(32302),g=a(45561),v=a(60722),x=a(29100),b=new m({Extends:c,initialize:function(E){var A=h(E,"fragShader",u),D=h(E,"vertShader",v),I=h(E,"drawShader",u),R=[{name:"DrawSprite",fragShader:g,vertShader:v},{name:"CopySprite",fragShader:A,vertShader:D},{name:"DrawGame",fragShader:I,vertShader:v},{name:"ColorMatrix",fragShader:f}],F=h(E,"shaders",[]);E.shaders=R.concat(F),E.vertShader||(E.vertShader=D),E.batchSize=1,c.call(this,E),this.isPreFX=!0,this.customMainSampler=null,this.spriteBounds=new p,this.targetBounds=new p,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){x.prototype.boot.call(this);var _=this.shaders,E=this.renderer;this.drawSpriteShader=_[0],this.copyShader=_[1],this.gameShader=_[2],this.colorMatrixShader=_[3],this.fsTarget=new d(E,E.width,E.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var A=new ArrayBuffer(168);this.quadVertexData=A,this.quadVertexViewF32=new Float32Array(A),this.quadVertexBuffer=E.createVertexBuffer(A,this.gl.STATIC_DRAW),this.onResize(E.width,E.height),this.currentShader=this.copyShader,this.set2f("uResolution",E.width,E.height)},onResize:function(_,E){var A=this.quadVertexViewF32;A[1]=E,A[22]=E,A[14]=_,A[28]=_,A[35]=_,A[36]=E},batchQuad:function(_,E,A,D,I,R,F,L,V,B,G,Q,H,K,tt,at,lt,J,it){var Y=Math.min(E,D,R,L),X=Math.min(A,I,F,V),gt=Math.max(E,D,R,L)-Y,wt=Math.max(A,I,F,V)-X,St=this.spriteBounds.setTo(Y,X,gt,wt),Vt=_?_.preFX.padding:0,ie=Math.abs(Math.max(gt+2*Vt,wt+2*Vt)),ae=this.manager.getRenderTarget(ie),fe=this.targetBounds.setTo(0,0,ae.width,ae.height);T(fe,Math.round(St.centerX),Math.round(St.centerY)),this.tempSprite=_;var Pe=this.gl,Xe=this.renderer;Xe.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Xe.width,Xe.height),this.flipProjectionMatrix(!0),_&&(this.onDrawSprite(_,ae),_.preFX.onFX(this));var Re=this.fsTarget;return this.flush(),Pe.viewport(0,0,Xe.width,Xe.height),Pe.bindFramebuffer(Pe.FRAMEBUFFER,Re.framebuffer.webGLFramebuffer),Pe.framebufferTexture2D(Pe.FRAMEBUFFER,Pe.COLOR_ATTACHMENT0,Pe.TEXTURE_2D,Re.texture.webGLTexture,0),Pe.clearColor(0,0,0,0),Pe.clear(Pe.COLOR_BUFFER_BIT),this.setTexture2D(it),this.batchVert(E,A,B,G,0,J,K),this.batchVert(D,I,B,H,0,J,at),this.batchVert(R,F,Q,H,0,J,lt),this.batchVert(E,A,B,G,0,J,K),this.batchVert(R,F,Q,H,0,J,lt),this.batchVert(L,V,Q,G,0,J,tt),this.flush(),this.flipProjectionMatrix(!1),Pe.activeTexture(Pe.TEXTURE0),Pe.bindTexture(Pe.TEXTURE_2D,ae.texture.webGLTexture),Pe.copyTexSubImage2D(Pe.TEXTURE_2D,0,0,0,fe.x,fe.y,fe.width,fe.height),Pe.bindFramebuffer(Pe.FRAMEBUFFER,null),Pe.bindTexture(Pe.TEXTURE_2D,null),this.onBatch(_),this.currentShader=this.copyShader,this.onDraw(ae,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(_,E,A,D,I,R,F){void 0===A&&(A=!0),void 0===D&&(D=!0),void 0===I&&(I=!1),void 0===F&&(F=this.copyShader);var L=this.gl,V=this.tempSprite;R&&(F=this.colorMatrixShader),this.currentShader=F;var B=this.setVertexBuffer(this.quadVertexBuffer);F.bind(B,!1);var G=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",G.width,G.height),V.preFX.onFXCopy(this),this.onCopySprite(_,E,V),R&&(this.set1fv("uColorMatrix",R.getData()),this.set1f("uAlpha",R.alpha)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,_.texture.webGLTexture),_.height>E.height?(L.viewport(0,0,_.width,_.height),this.setTargetUVs(_,E)):(L.viewport(0,E.height-_.height,_.width,_.height),this.resetUVs()),L.bindFramebuffer(L.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,E.texture.webGLTexture,0),A&&(L.clearColor(0,0,0,+!D),L.clear(L.COLOR_BUFFER_BIT)),I){var H=this.renderer.currentBlendMode;this.renderer.setBlendMode(y.ERASE)}L.bufferData(L.ARRAY_BUFFER,this.quadVertexData,L.STATIC_DRAW),L.drawArrays(L.TRIANGLES,0,6),I&&this.renderer.setBlendMode(H),L.bindFramebuffer(L.FRAMEBUFFER,null)},copy:function(_,E){var A=this.gl;this.set1i("uMainSampler",0),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,_.texture.webGLTexture),A.viewport(0,0,_.width,_.height),this.setUVs(0,0,0,1,1,1,1,0),A.bindFramebuffer(A.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,E.texture.webGLTexture,0),A.clearColor(0,0,0,0),A.clear(A.COLOR_BUFFER_BIT),A.bufferData(A.ARRAY_BUFFER,this.quadVertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null)},blendFrames:function(_,E,A,D,I){this.manager.blendFrames(_,E,A,D,I)},blendFramesAdditive:function(_,E,A,D,I){this.manager.blendFramesAdditive(_,E,A,D,I)},drawToGame:function(_){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(_)},copyToGame:function(_){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(_)},bindAndDraw:function(_){var E=this.gl,A=this.renderer;this.set1i("uMainSampler",0),this.setTexture2D(this.customMainSampler?this.customMainSampler:_.texture);var D=this._tempMatrix1.loadIdentity(),I=this.targetBounds.x,R=this.targetBounds.y,F=I+_.width,L=R+_.height,V=D.getX(I,R),B=D.getX(I,L),G=D.getX(F,L),Q=D.getX(F,R),H=D.getY(I,R),K=D.getY(I,L),tt=D.getY(F,L),at=D.getY(F,R),lt=16777215;this.batchVert(V,H,0,0,0,0,lt),this.batchVert(B,K,0,1,0,0,lt),this.batchVert(G,tt,1,1,0,0,lt),this.batchVert(V,H,0,0,0,0,lt),this.batchVert(G,tt,1,1,0,0,lt),this.batchVert(Q,at,1,0,0,0,lt),A.restoreFramebuffer(!1,!0),A.currentFramebuffer||E.viewport(0,0,A.width,A.height),A.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(_){this.drawToGame(_)},setUVs:function(_,E,A,D,I,R,F,L){var V=this.quadVertexViewF32;V[2]=_,V[3]=E,V[9]=A,V[10]=D,V[16]=I,V[17]=R,V[23]=_,V[24]=E,V[30]=I,V[31]=R,V[37]=F,V[38]=L},setTargetUVs:function(_,E){var A=E.height/_.height;this.setUVs(0,A=A>.5?.5-(A-.5):.5-A+.5,0,1+A,1,1+A,1,A)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,c.prototype.destroy.call(this),this}});C.exports=b},81041:(C,k,a)=>{var y=a(83419),T=a(95540),m=a(57516),f=new y({Extends:m,initialize:function(c){c.topology=5,c.batchSize=T(c,"batchSize",256),m.call(this,c)}});C.exports=f},12385:(C,k,a)=>{var y=a(83419),T=a(95540),m=a(57516),f=a(45561),h=a(60722),c=a(29100),u=new y({Extends:m,initialize:function(d){d.fragShader=T(d,"fragShader",f),d.vertShader=T(d,"vertShader",h),d.forceZero=!0,m.call(this,d)},boot:function(){c.prototype.boot.call(this);var p=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",p.width,p.height)}});C.exports=u},7589:(C,k,a)=>{var y=a(35407),T=a(10312),m=a(83419),f=a(89422),h=a(96293),c=a(36682),u=a(95540),p=a(48247),d=a(49627),g=a(29100),v=new m({Extends:g,initialize:function(b){b.renderTarget=u(b,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),b.vertShader=u(b,"vertShader",d),b.shaders=u(b,"shaders",[{name:"Copy",fragShader:c},{name:"AddBlend",fragShader:y},{name:"LinearBlend",fragShader:p},{name:"ColorMatrix",fragShader:h}]),b.attributes=u(b,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),b.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],b.batchSize=1,g.call(this,b),this.colorMatrix=new f},boot:function(){g.prototype.boot.call(this);var x=this.shaders,b=this.renderTargets;this.copyShader=x[0],this.addShader=x[1],this.linearShader=x[2],this.colorMatrixShader=x[3],this.fullFrame1=b[0],this.fullFrame2=b[1],this.halfFrame1=b[2],this.halfFrame2=b[3]},copyFrame:function(x,b,_,E,A){void 0===_&&(_=1),void 0===E&&(E=!0),void 0===A&&(A=!0);var D=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",_),D.activeTexture(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,x.texture.webGLTexture),b?(D.viewport(0,0,b.width,b.height),D.bindFramebuffer(D.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,b.texture.webGLTexture,0)):D.viewport(0,0,x.width,x.height),E&&(D.clearColor(0,0,0,A?0:1),D.clear(D.COLOR_BUFFER_BIT)),D.bufferData(D.ARRAY_BUFFER,this.vertexData,D.STATIC_DRAW),D.drawArrays(D.TRIANGLES,0,6),D.bindFramebuffer(D.FRAMEBUFFER,null),D.bindTexture(D.TEXTURE_2D,null)},blitFrame:function(x,b,_,E,A,D,I){void 0===_&&(_=1),void 0===E&&(E=!0),void 0===A&&(A=!0),void 0===D&&(D=!1),void 0===I&&(I=!1);var R=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",_),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,x.texture.webGLTexture),x.height>b.height?(R.viewport(0,0,x.width,x.height),this.setTargetUVs(x,b)):R.viewport(0,b.height-x.height,x.width,x.height),R.bindFramebuffer(R.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,b.texture.webGLTexture,0),E&&(R.clearColor(0,0,0,A?0:1),R.clear(R.COLOR_BUFFER_BIT)),D){var L=this.renderer.currentBlendMode;this.renderer.setBlendMode(T.ERASE)}I&&this.flipY(),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),D&&this.renderer.setBlendMode(L),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(x,b,_,E,A,D,I,R){void 0===I&&(I=!0),void 0===R&&(R=!0);var F=this.gl;F.bindFramebuffer(F.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,x.texture.webGLTexture,0),I&&(F.clearColor(0,0,0,R?0:1),F.clear(F.COLOR_BUFFER_BIT)),F.activeTexture(F.TEXTURE0),F.bindTexture(F.TEXTURE_2D,b.texture.webGLTexture),F.copyTexSubImage2D(F.TEXTURE_2D,0,0,0,_,E,A,D),F.bindFramebuffer(F.FRAMEBUFFER,null),F.bindTexture(F.TEXTURE_2D,null)},copyToGame:function(x){var b=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,x.texture.webGLTexture),b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.STATIC_DRAW),b.drawArrays(b.TRIANGLES,0,6)},drawFrame:function(x,b,_,E){void 0===_&&(_=!0),void 0===E&&(E=this.colorMatrix);var A=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",E.getData()),this.set1f("uAlpha",E.alpha),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,x.texture.webGLTexture),b?(A.viewport(0,0,b.width,b.height),A.bindFramebuffer(A.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,b.texture.webGLTexture,0)):A.viewport(0,0,x.width,x.height),A.clearColor(0,0,0,_?0:1),A.clear(A.COLOR_BUFFER_BIT),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},blendFrames:function(x,b,_,E,A,D){void 0===E&&(E=1),void 0===A&&(A=!0),void 0===D&&(D=this.linearShader);var I=this.gl;this.setShader(D),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",E),I.activeTexture(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,x.texture.webGLTexture),I.activeTexture(I.TEXTURE1),I.bindTexture(I.TEXTURE_2D,b.texture.webGLTexture),_?(I.bindFramebuffer(I.FRAMEBUFFER,_.framebuffer.webGLFramebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,_.texture.webGLTexture,0),I.viewport(0,0,_.width,_.height)):I.viewport(0,0,x.width,x.height),I.clearColor(0,0,0,A?0:1),I.clear(I.COLOR_BUFFER_BIT),I.bufferData(I.ARRAY_BUFFER,this.vertexData,I.STATIC_DRAW),I.drawArrays(I.TRIANGLES,0,6),I.bindFramebuffer(I.FRAMEBUFFER,null),I.bindTexture(I.TEXTURE_2D,null)},blendFramesAdditive:function(x,b,_,E,A){this.blendFrames(x,b,_,E,A,this.addShader)},clearFrame:function(x,b){void 0===b&&(b=!0);var _=this.gl;_.viewport(0,0,x.width,x.height),_.bindFramebuffer(_.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),_.clearColor(0,0,0,b?0:1),_.clear(_.COLOR_BUFFER_BIT),_.bindFramebuffer(_.FRAMEBUFFER,this.renderer.currentFramebuffer.webGLFramebuffer)},setUVs:function(x,b,_,E,A,D,I,R){var F=this.vertexViewF32;F[2]=x,F[3]=b,F[6]=_,F[7]=E,F[10]=A,F[11]=D,F[14]=x,F[15]=b,F[18]=A,F[19]=D,F[22]=I,F[23]=R},setTargetUVs:function(x,b){var _=b.height/x.height;this.setUVs(0,_=_>.5?.5-(_-.5):.5-_+.5,0,1+_,1,1+_,1,_)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});C.exports=v},36060:C=>{C.exports={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"}},84817:C=>{C.exports="pipelineafterflush"},36712:C=>{C.exports="pipelinebeforeflush"},40285:C=>{C.exports="pipelinebind"},65918:C=>{C.exports="pipelineboot"},92852:C=>{C.exports="pipelinedestroy"},56072:C=>{C.exports="pipelinerebind"},57566:C=>{C.exports="pipelineresize"},77085:(C,k,a)=>{C.exports={AFTER_FLUSH:a(84817),BEFORE_FLUSH:a(36712),BIND:a(40285),BOOT:a(65918),DESTROY:a(92852),REBIND:a(56072),RESIZE:a(57566)}},54812:(C,k,a)=>{var y=a(83419),T=a(99155),m=a(84057),f=new y({Extends:m,initialize:function(c){m.call(this,{game:c,fragShader:T}),this.amount=1},onPreRender:function(h,c){h=this.getController(h),this.set1f("amount",h.amount,c)}});C.exports=f},67329:(C,k,a)=>{var y=a(83419),T=a(24400),m=a(84057),f=new y({Extends:m,initialize:function(c){m.call(this,{game:c,fragShader:T}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(h){h=this.getController(h),this.set1f("strength",h.blurStrength),this.set3fv("color",h.glcolor)},onDraw:function(h){var c=this.getController(),u=this.fullFrame1,p=this.fullFrame2;this.copyFrame(h,p);for(var d=2/h.width*c.offsetX,g=2/h.height*c.offsetY,v=0;v<c.steps;v++)this.set2f("offset",d,0),this.copySprite(h,u),this.set2f("offset",0,g),this.copySprite(u,h);this.blendFrames(p,h,u,c.strength),this.copyToGame(u)}});C.exports=f},8861:(C,k,a)=>{var y=a(83419),T=a(41514),m=a(51078),f=a(94328),h=a(84057),c=new y({Extends:h,initialize:function(p){h.call(this,{game:p,shaders:[{name:"Gaussian5",fragShader:T},{name:"Gaussian9",fragShader:m},{name:"Gaussian13",fragShader:f}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(u){var p=this.getController(),d=this.gl,g=this.fullFrame1,v=d.getParameter(d.FRAMEBUFFER_BINDING);this.bind(this.shaders[p.quality]),d.activeTexture(d.TEXTURE0),d.viewport(0,0,u.width,u.height),this.set1i("uMainSampler",0),this.set2f("resolution",u.width,u.height),this.set1f("strength",p.strength),this.set3fv("color",p.glcolor);for(var x=0;x<p.steps;x++)this.set2f("offset",p.x,0),this.copySprite(u,g),this.set2f("offset",0,p.y),this.copySprite(g,u);d.bindFramebuffer(d.FRAMEBUFFER,v),d.bindTexture(d.TEXTURE_2D,null),this.copyToGame(u)}});C.exports=c},51051:(C,k,a)=>{var y=a(83419),T=a(90610),m=a(84057),f=new y({Extends:m,initialize:function(c){m.call(this,{game:c,fragShader:T}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(h,c,u,p){h=this.getController(h),this.set1f("radius",h.radius,c),this.set1f("amount",h.amount,c),this.set1f("contrast",h.contrast,c),this.set1f("strength",h.strength,c),this.set2f("blur",h.blurX,h.blurY,c),this.setBoolean("isTiltShift",h.isTiltShift,c),u&&p&&this.set2f("resolution",u,p,c)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});C.exports=f},89428:(C,k,a)=>{var y=a(83419),T=a(91899),m=a(84057),f=new y({Extends:m,initialize:function(c){m.call(this,{game:c,fragShader:T}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(h,c,u,p){h=this.getController(h),this.set1f("scale",h.scale,c),this.set1f("feather",h.feather,c),this.set1f("thickness",h.thickness,c),this.set3fv("color",h.glcolor,c),this.set4fv("backgroundColor",h.glcolor2,c),u&&p&&this.set2f("resolution",u,p,c)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});C.exports=f},88904:(C,k,a)=>{var y=a(83419),T=a(84057),m=new y({Extends:T,initialize:function(h){T.call(this,{game:h})},onDraw:function(f){var h=this.fullFrame1;this.controller?this.manager.drawFrame(f,h,!0,this.controller):this.drawFrame(f,h),this.copyToGame(h)}});C.exports=m},63563:(C,k,a)=>{var y=a(83419),T=a(47838),m=a(84057),f=new y({Extends:m,initialize:function(c){m.call(this,{game:c,fragShader:T}),this.x=.005,this.y=.005},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(h){var c=this.game.textures.getFrame(h);c&&(this.glTexture=c.glTexture)},onDraw:function(h){var c=this.getController(),u=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",c.x,c.y),this.bindTexture(c.glTexture,1),this.copySprite(h,u),this.copyToGame(u)}});C.exports=f},94045:(C,k,a)=>{var y=a(83419),T=a(95540),m=a(98656),f=a(84057),h=a(70554),c=new y({Extends:f,initialize:function(p,d){var g=T(d,"quality",.1),v=T(d,"distance",10);f.call(this,{game:p,fragShader:h.setGlowQuality(m,p,g,v)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(u,p,d,g){u=this.getController(u),this.set1f("outerStrength",u.outerStrength,p),this.set1f("innerStrength",u.innerStrength,p),this.set4fv("glowColor",u.glcolor,p),this.setBoolean("knockout",u.knockout,p),d&&g&&this.set2f("resolution",d,g,p)},onDraw:function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)}});C.exports=c},74088:(C,k,a)=>{var y=a(83419),T=a(70463),m=a(84057),f=new y({Extends:m,initialize:function(c){m.call(this,{game:c,fragShader:T}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(h,c){h=this.getController(h),this.set1f("alpha",h.alpha,c),this.set1i("size",h.size,c),this.set3fv("color1",h.glcolor1,c),this.set3fv("color2",h.glcolor2,c),this.set2f("positionFrom",h.fromX,h.fromY,c),this.set2f("positionTo",h.toX,h.toY,c)}});C.exports=f},99636:(C,k,a)=>{var y=a(83419),T=a(50831),m=a(84057),f=new y({Extends:m,initialize:function(c){m.call(this,{game:c,fragShader:T}),this.amount=1},onPreRender:function(h,c,u,p){h=this.getController(h),this.set1f("amount",h.amount,c),u&&p&&this.set2f("resolution",u,p,c)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});C.exports=f},34700:(C,k,a)=>{var y=a(83419),T=a(92595),m=a(84057),f=new y({Extends:m,initialize:function(c){m.call(this,{game:c,fragShader:T}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(h,c){var u=(h=this.getController(h)).samples;this.set1i("samples",u,c),this.set1f("intensity",h.intensity,c),this.set1f("decay",h.decay,c),this.set1f("power",h.power/u,c),this.set2f("lightPosition",h.x,h.y,c),this.set4fv("color",h.glcolor,c)}});C.exports=f},91157:(C,k,a)=>{var y=a(83419),T=a(72464),m=a(84057),f=new y({Extends:m,initialize:function(c){m.call(this,{game:c,fragShader:T}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(h,c,u,p){h=this.getController(h),this.setTime("time",c),this.set1f("speed",h.speed,c),this.set1f("lineWidth",h.lineWidth,c),this.set1f("gradient",h.gradient,c),this.setBoolean("reveal",h.reveal,c),u&&p&&this.set2f("resolution",u,p,c)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});C.exports=f},27797:(C,k,a)=>{var y=a(83419),T=a(39249),m=a(84057),f=new y({Extends:m,initialize:function(c){m.call(this,{game:c,fragShader:T}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(h,c){h=this.getController(h),this.set1f("radius",h.radius,c),this.set1f("strength",h.strength,c),this.set2f("position",h.x,h.y,c)}});C.exports=f},67603:(C,k,a)=>{var y=a(83419),T=a(2878),m=a(84057),f=new y({Extends:m,initialize:function(c){m.call(this,{game:c,fragShader:T}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(h,c){h=this.getController(h),this.set4f("config",h.progress,h.wipeWidth,h.direction,h.axis,c),this.setBoolean("reveal",h.reveal,c)}});C.exports=f},58918:(C,k,a)=>{var y={Barrel:a(54812),Bloom:a(67329),Blur:a(8861),Bokeh:a(51051),Circle:a(89428),ColorMatrix:a(88904),Displacement:a(63563),Glow:a(94045),Gradient:a(74088),Pixelate:a(99636),Shadow:a(34700),Shine:a(91157),Vignette:a(27797),Wipe:a(67603)};C.exports=y},96615:(C,k,a)=>{var y=a(36060),T=a(79291),m={FX:a(58918),BitmapMaskPipeline:a(31302),Events:a(77085),FXPipeline:a(92651),LightPipeline:a(96569),MobilePipeline:a(56527),MultiPipeline:a(57516),PointLightPipeline:a(43439),PostFXPipeline:a(84057),PreFXPipeline:a(43558),RopePipeline:a(81041),SinglePipeline:a(12385),UtilityPipeline:a(7589)};m=T(!1,m,y),C.exports=m},35407:C=>{C.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join("\n")},78908:C=>{C.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join("\n")},85191:C=>{C.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join("\n")},96293:C=>{C.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join("\n")},36682:C=>{C.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join("\n")},99155:C=>{C.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join("\n")},24400:C=>{C.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join("\n")},94328:C=>{C.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},41514:C=>{C.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},51078:C=>{C.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join("\n")},90610:C=>{C.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join("\n")},91899:C=>{C.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join("\n")},47838:C=>{C.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join("\n")},98656:C=>{C.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join("\n")},70463:C=>{C.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join("\n")},50831:C=>{C.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join("\n")},92595:C=>{C.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join("\n")},72464:C=>{C.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","\tvec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join("\n")},39249:C=>{C.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    \tcol = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join("\n")},2878:C=>{C.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join("\n")},31063:C=>{C.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join("\n")},48247:C=>{C.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join("\n")},41214:C=>{C.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join("\n")},39653:C=>{C.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join("\n")},62143:C=>{C.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},47940:C=>{C.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},98840:C=>{C.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},44667:C=>{C.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},4127:C=>{C.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join("\n")},89924:C=>{C.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join("\n")},27681:C=>{C.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join("\n")},49627:C=>{C.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join("\n")},45561:C=>{C.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join("\n")},60722:C=>{C.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join("\n")},89350:(C,k,a)=>{C.exports={AddBlendFrag:a(35407),BitmapMaskFrag:a(78908),BitmapMaskVert:a(85191),ColorMatrixFrag:a(96293),CopyFrag:a(36682),FXBarrelFrag:a(99155),FXBloomFrag:a(24400),FXBlurHighFrag:a(94328),FXBlurLowFrag:a(41514),FXBlurMedFrag:a(51078),FXBokehFrag:a(90610),FXCircleFrag:a(91899),FXDisplacementFrag:a(47838),FXGlowFrag:a(98656),FXGradientFrag:a(70463),FXPixelateFrag:a(50831),FXShadowFrag:a(92595),FXShineFrag:a(72464),FXVignetteFrag:a(39249),FXWipeFrag:a(2878),LightFrag:a(31063),LinearBlendFrag:a(48247),MeshFrag:a(41214),MeshVert:a(39653),MobileFrag:a(62143),MobileVert:a(47940),MultiFrag:a(98840),MultiVert:a(44667),PointLightFrag:a(4127),PointLightVert:a(89924),PostFXFrag:a(27681),QuadVert:a(49627),SingleFrag:a(45561),SingleVert:a(60722)}},93567:(C,k,a)=>{var T=new(a(83419))({initialize:function(f,h,c){this.webGLAttribLocation=-1,this.gl=f,this.program=h,this.name=c,this.createResource()},createResource:function(){if(null!==this.program.webGLProgram){var m=this.gl;m.isContextLost()||(this.webGLAttribLocation=m.getAttribLocation(this.program.webGLProgram,this.name))}else this.webGLAttribLocation=-1},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});C.exports=T},26128:(C,k,a)=>{var T=new(a(83419))({initialize:function(f,h,c,u){this.webGLBuffer=null,this.gl=f,this.initialDataOrSize=h,this.bufferType=c,this.bufferUsage=u,this.createResource()},createResource:function(){if(null!==this.initialDataOrSize){var m=this.gl;if(!m.isContextLost()){var f=this.bufferType,h=m.createBuffer();this.webGLBuffer=h,m.bindBuffer(f,this.webGLBuffer),m.bufferData(f,this.initialDataOrSize,this.bufferUsage),m.bindBuffer(f,null)}}},destroy:function(){var m=this.gl;m.isContextLost()||m.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});C.exports=T},84387:(C,k,a)=>{var y=a(83419),T={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},m=new y({initialize:function(h,c,u,p,d){this.webGLFramebuffer=null,this.gl=h,this.width=c,this.height=u,this.renderTexture=p,this.addDepthStencilBuffer=!!d,this.createResource()},createResource:function(){var f=this.gl;if(!f.isContextLost()){var c,h=this.renderTexture,u=f.createFramebuffer();if(this.webGLFramebuffer=u,f.bindFramebuffer(f.FRAMEBUFFER,u),h.isRenderTexture=!0,h.isAlphaPremultiplied=!1,f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,h.webGLTexture,0),(c=f.checkFramebufferStatus(f.FRAMEBUFFER))!==f.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(T[c]||c));if(this.addDepthStencilBuffer){var p=f.createRenderbuffer();f.bindRenderbuffer(f.RENDERBUFFER,p),f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_STENCIL,this.width,this.height),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,p)}f.bindFramebuffer(f.FRAMEBUFFER,null)}},destroy:function(){if(null!==this.webGLFramebuffer){var f=this.gl;if(!f.isContextLost()){f.bindFramebuffer(f.FRAMEBUFFER,this.webGLFramebuffer);var h=f.getFramebufferAttachmentParameter(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==h&&(f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,null,0),f.deleteTexture(h));var c=f.getFramebufferAttachmentParameter(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);null!==c&&f.deleteRenderbuffer(c),f.bindFramebuffer(f.FRAMEBUFFER,null),f.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});C.exports=m},1482:(C,k,a)=>{var T=new(a(83419))({initialize:function(f,h,c){this.webGLProgram=null,this.gl=f,this.vertexSource=h,this.fragmentSource=c,this.createResource()},createResource:function(){var m=this.gl;if(!m.isContextLost()){var f=m.createProgram(),h=m.createShader(m.VERTEX_SHADER),c=m.createShader(m.FRAGMENT_SHADER);m.shaderSource(h,this.vertexSource),m.shaderSource(c,this.fragmentSource),m.compileShader(h),m.compileShader(c);var u="Shader failed:\n";if(!m.getShaderParameter(h,m.COMPILE_STATUS))throw new Error("Vertex "+u+m.getShaderInfoLog(h));if(!m.getShaderParameter(c,m.COMPILE_STATUS))throw new Error("Fragment "+u+m.getShaderInfoLog(c));if(m.attachShader(f,h),m.attachShader(f,c),m.linkProgram(f),!m.getProgramParameter(f,m.LINK_STATUS))throw new Error("Link "+u+m.getProgramInfoLog(f));m.useProgram(f),this.webGLProgram=f}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});C.exports=T},82751:(C,k,a)=>{var y=a(83419),T=a(50030),m=new y({initialize:function(h,c,u,p,d,g,v,x,b,_,E,A,D){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=h,this.mipLevel=c,this.minFilter=u,this.magFilter=p,this.wrapT=d,this.wrapS=g,this.format=v,this.pixels=x,this.width=b,this.height=_,this.pma=E??!0,this.forceSize=!!A,this.flipY=!!D,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var f=this.gl;if(!f.isContextLost()){if(this.pixels instanceof m)return void(this.webGLTexture=this.pixels.webGLTexture);var h=f.createTexture();h.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=h,this._processTexture()}},update:function(f,h,c,u,p,d,g,v,x){0!==h&&0!==c&&(this.pixels=f,this.width=h,this.height=c,this.flipY=u,this.wrapS=p,this.wrapT=d,this.minFilter=g,this.magFilter=v,this.format=x,this.gl.isContextLost()||this._processTexture())},_processTexture:function(){var f=this.gl;f.activeTexture(f.TEXTURE0);var h=f.getParameter(f.TEXTURE_BINDING_2D);f.bindTexture(f.TEXTURE_2D,this.webGLTexture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,this.minFilter),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,this.magFilter),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,this.wrapS),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,this.wrapT),f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,this.flipY);var c=this.pixels,u=this.mipLevel,p=this.width,d=this.height,g=this.format,v=!1;if(null==c)f.texImage2D(f.TEXTURE_2D,u,g,p,d,0,g,f.UNSIGNED_BYTE,null),v=T(p,d);else if(c.compressed){p=c.width,d=c.height,v=c.generateMipmap;for(var x=0;x<c.mipmaps.length;x++)f.compressedTexImage2D(f.TEXTURE_2D,x,c.internalFormat,c.mipmaps[x].width,c.mipmaps[x].height,0,c.mipmaps[x].data)}else c instanceof Uint8Array?(f.texImage2D(f.TEXTURE_2D,u,g,p,d,0,g,f.UNSIGNED_BYTE,c),v=T(p,d)):(this.forceSize||(p=c.width,d=c.height),f.texImage2D(f.TEXTURE_2D,u,g,g,f.UNSIGNED_BYTE,c),v=T(p,d));v&&f.generateMipmap(f.TEXTURE_2D),f.bindTexture(f.TEXTURE_2D,h||null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(f){this.__SPECTOR_Metadata=f,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=f)}},destroy:function(){null!==this.webGLTexture&&(this.gl.isContextLost()||this.pixels instanceof m||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});C.exports=m},57183:(C,k,a)=>{var T=new(a(83419))({initialize:function(f,h,c){this.webGLUniformLocation=null,this.gl=f,this.program=h,this.name=c,this.createResource()},createResource:function(){if(null!==this.program.webGLProgram){var m=this.gl;m.isContextLost()||(this.webGLUniformLocation=m.getUniformLocation(this.program.webGLProgram,this.name))}else this.webGLUniformLocation=null},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});C.exports=T},9503:(C,k,a)=>{var y={WebGLAttribLocationWrapper:a(93567),WebGLBufferWrapper:a(26128),WebGLProgramWrapper:a(1482),WebGLTextureWrapper:a(82751),WebGLFramebufferWrapper:a(84387),WebGLUniformLocationWrapper:a(57183)};C.exports=y},76531:(C,k,a)=>{var y=a(13560),T=a(83419),m=a(50792),f=a(97480),h=a(8443),c=a(57811),u=a(74403),p=a(45818),d=a(29747),g=a(87841),v=a(86555),x=a(56583),b=a(26099),_=a(38058),E=new T({Extends:m,initialize:function(D){m.call(this),this.game=D,this.canvasBounds=new g,this.parent=null,this.parentIsWindow=!1,this.parentSize=new v,this.gameSize=new v,this.baseSize=new v,this.displaySize=new v,this.scaleMode=y.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new b(1,1),this.autoRound=!1,this.autoCenter=y.CENTER.NO_CENTER,this.orientation=y.ORIENTATION.LANDSCAPE,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:d,windowResize:d,fullScreenChange:d,fullScreenError:d}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(h.BOOT,this.boot,this)},boot:function(){var A=this.game;this.canvas=A.canvas,this.fullscreen=A.device.fullscreen;var D=this.scaleMode;D!==y.SCALE_MODE.RESIZE&&D!==y.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(D),D===y.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),A.events.on(h.PRE_STEP,this.step,this),A.events.once(h.READY,this.refresh,this),A.events.once(h.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(A){this.getParent(A),this.getParentBounds();var D=A.width,I=A.height,R=A.scaleMode,F=A.zoom,L=A.autoRound;if("string"==typeof D)if("%"!==D.substr(-1))D=parseInt(D,10);else{var V=this.parentSize.width;0===V&&(V=window.innerWidth);var B=parseInt(D,10)/100;D=Math.floor(V*B)}if("string"==typeof I)if("%"!==I.substr(-1))I=parseInt(I,10);else{var G=this.parentSize.height;0===G&&(G=window.innerHeight);var Q=parseInt(I,10)/100;I=Math.floor(G*Q)}this.scaleMode=R,this.autoRound=L,this.autoCenter=A.autoCenter,this.resizeInterval=A.resizeInterval,L&&(D=Math.floor(D),I=Math.floor(I)),this.gameSize.setSize(D,I),F===y.ZOOM.MAX_ZOOM&&(F=this.getMaxZoom()),this.zoom=F,1!==F&&(this._resetZoom=!0),this.baseSize.setSize(D,I),L&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),A.minWidth>0&&this.displaySize.setMin(A.minWidth*F,A.minHeight*F),A.maxWidth>0&&this.displaySize.setMax(A.maxWidth*F,A.maxHeight*F),this.displaySize.setSize(D,I),(A.snapWidth>0||A.snapHeight>0)&&this.displaySize.setSnap(A.snapWidth,A.snapHeight),this.orientation=p(D,I)},getParent:function(A){var D=A.parent;if(null!==D){if(this.parent=u(D),this.parentIsWindow=this.parent===document.body,A.expandParent&&A.scaleMode!==y.SCALE_MODE.NONE){var I=this.parent.getBoundingClientRect();(this.parentIsWindow||0===I.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",I=this.parent.getBoundingClientRect(),!this.parentIsWindow&&0===I.height&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}A.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=u(A.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var A=this.parentSize,D=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(D.height=c(!0));var I=D.width,R=D.height;if(A.width!==I||A.height!==R)return A.setSize(I,R),!0;if(this.canvas){var F=this.canvasBounds,L=this.canvas.getBoundingClientRect();if(L.x!==F.x||L.y!==F.y)return!0}return!1},lockOrientation:function(A){var D=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!D&&D.call(screen,A)},setParentSize:function(A,D){return this.parentSize.setSize(A,D),this.refresh()},setGameSize:function(A,D){var I=this.autoRound;I&&(A=Math.floor(A),D=Math.floor(D));var R=this.width,F=this.height;return this.gameSize.resize(A,D),this.baseSize.resize(A,D),I&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(A/D),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(R,F)},resize:function(A,D){var I=this.zoom,R=this.autoRound;R&&(A=Math.floor(A),D=Math.floor(D));var F=this.width,L=this.height;this.gameSize.resize(A,D),this.baseSize.resize(A,D),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(A*I,D*I),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var V=this.canvas.style,B=A*I,G=D*I;return R&&(B=Math.floor(B),G=Math.floor(G)),(B!==A||G!==D)&&(V.width=B+"px",V.height=G+"px"),this.refresh(F,L)},setZoom:function(A){return this.zoom=A,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(A,D){return void 0===A&&(A=0),void 0===D&&(D=A),this.displaySize.setSnap(A,D),this.refresh()},refresh:function(A,D){void 0===A&&(A=this.width),void 0===D&&(D=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var I=this.game.domContainer;if(I){this.baseSize.setCSS(I);var R=this.canvas.style,F=I.style;F.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",F.marginLeft=R.marginLeft,F.marginTop=R.marginTop}return this.emit(f.RESIZE,this.gameSize,this.baseSize,this.displaySize,A,D),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var A=p(this.width,this.height);A!==this.orientation&&(this.orientation=A,this.emit(f.ORIENTATION_CHANGE,A))}},updateScale:function(){var R,F,A=this.canvas.style,L=this.zoom,V=this.autoRound;if(this.scaleMode===y.SCALE_MODE.NONE)this.displaySize.setSize(this.gameSize.width*L,this.gameSize.height*L),R=this.displaySize.width,F=this.displaySize.height,V&&(R=Math.floor(R),F=Math.floor(F)),this._resetZoom&&(A.width=R+"px",A.height=F+"px",this._resetZoom=!1);else if(this.scaleMode===y.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),R=this.displaySize.width,F=this.displaySize.height,V&&(R=Math.floor(R),F=Math.floor(F)),this.canvas.width=R,this.canvas.height=F;else if(this.scaleMode===y.SCALE_MODE.EXPAND){var B=this.game.config.width,G=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,F=this.displaySize.height,V&&(R=Math.floor(R),F=Math.floor(F)),A.width=R+"px",A.height=F+"px";var Q=this.parentSize.width/B,H=this.parentSize.height/G;Q<H&&0!==Q?this.baseSize.setSize(B,this.parentSize.height/Q):0!==H&&this.baseSize.setSize(this.displaySize.width/H,G),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),R=this.baseSize.width,F=this.baseSize.height,V&&(R=Math.floor(R),F=Math.floor(F)),this.canvas.width=R,this.canvas.height=F}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,F=this.displaySize.height,V&&(R=Math.floor(R),F=Math.floor(F)),A.width=R+"px",A.height=F+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var A=x(this.parentSize.width,this.gameSize.width,0,!0),D=x(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(A,D),1)},updateCenter:function(){var A=this.autoCenter;if(A!==y.CENTER.NO_CENTER){var D=this.canvas,I=D.style,R=D.getBoundingClientRect(),L=R.height,V=Math.floor((this.parentSize.width-R.width)/2),B=Math.floor((this.parentSize.height-L)/2);A===y.CENTER.CENTER_HORIZONTALLY?B=0:A===y.CENTER.CENTER_VERTICALLY&&(V=0),I.marginLeft=V+"px",I.marginTop=B+"px"}},updateBounds:function(){var A=this.canvasBounds,D=this.canvas.getBoundingClientRect();A.x=D.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),A.y=D.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),A.width=D.width,A.height=D.height},transformX:function(A){return(A-this.canvasBounds.left)*this.displayScale.x},transformY:function(A){return(A-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(A){void 0===A&&(A={navigationUI:"hide"});var D=this.fullscreen;if(D.available){if(!D.active){this.getFullscreenTarget()[D.request](D.keyboard?Element.ALLOW_KEYBOARD_INPUT:A)}}else this.emit(f.FULLSCREEN_UNSUPPORTED)},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(f.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(A){this.removeFullscreenTarget(),this.emit(f.FULLSCREEN_FAILED,A)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var A=document.createElement("div");A.style.margin="0",A.style.padding="0",A.style.width="100%",A.style.height="100%",this.fullscreenTarget=A,this._createdFullscreenTarget=!0}return this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)),this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var A=this.fullscreenTarget;if(A&&A.parentNode){var D=A.parentNode;D.insertBefore(this.canvas,A),D.removeChild(A)}}},stopFullscreen:function(){var A=this.fullscreen;if(!A.available)return this.emit(f.FULLSCREEN_UNSUPPORTED),!1;A.active&&document[A.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(f.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(A){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(A)},startListeners:function(){var A=this,D=this.domlisteners;D.orientationChange=function(){A.updateBounds(),A._checkOrientation=!0,A.dirty=!0,A.refresh()},D.windowResize=function(){A.updateBounds(),A.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",D.orientationChange,!1):window.addEventListener("orientationchange",D.orientationChange,!1),window.addEventListener("resize",D.windowResize,!1),this.fullscreen.available&&(D.fullScreenChange=function(R){return A.onFullScreenChange(R)},D.fullScreenError=function(R){return A.onFullScreenError(R)},["webkit","moz",""].forEach(function(R){document.addEventListener(R+"fullscreenchange",D.fullScreenChange,!1),document.addEventListener(R+"fullscreenerror",D.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",D.fullScreenChange,!1),document.addEventListener("MSFullscreenError",D.fullScreenError,!1))},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(A,D){A instanceof _||(D=A,A=void 0),void 0===D&&(D=new g);var I=this.baseSize,R=this.parentSize,F=this.canvasBounds,L=this.displayScale;return D.setTo(F.x>=0?0:-F.x*L.x,F.y>=0?0:-F.y*L.y,R.width>=F.width?I.width:I.width-(F.width-R.width)*L.x,R.height>=F.height?I.height:I.height-(F.height-R.height)*L.y),A&&(D.width/=A.zoomX,D.height/=A.zoomY,D.centerX=A.centerX+A.scrollX,D.centerY=A.centerY+A.scrollY),D},step:function(A,D){this.parent&&(this._lastCheck+=D,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var A=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",A.orientationChange,!1):window.removeEventListener("orientationchange",A.orientationChange,!1),window.removeEventListener("resize",A.windowResize,!1),["webkit","moz",""].forEach(function(I){document.removeEventListener(I+"fullscreenchange",A.fullScreenChange,!1),document.removeEventListener(I+"fullscreenerror",A.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",A.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",A.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===y.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===y.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});C.exports=E},64743:C=>{C.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:C=>{C.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:C=>{C.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:C=>{C.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(C,k,a)=>{var y={CENTER:a(64743),ORIENTATION:a(39218),SCALE_MODE:a(81050),ZOOM:a(80805)};C.exports=y},56139:C=>{C.exports="enterfullscreen"},2336:C=>{C.exports="fullscreenfailed"},47412:C=>{C.exports="fullscreenunsupported"},51452:C=>{C.exports="leavefullscreen"},20666:C=>{C.exports="orientationchange"},47945:C=>{C.exports="resize"},97480:(C,k,a)=>{C.exports={ENTER_FULLSCREEN:a(56139),FULLSCREEN_FAILED:a(2336),FULLSCREEN_UNSUPPORTED:a(47412),LEAVE_FULLSCREEN:a(51452),ORIENTATION_CHANGE:a(20666),RESIZE:a(47945)}},93364:(C,k,a)=>{var y=a(79291),T=a(13560),m={Center:a(64743),Events:a(97480),Orientation:a(39218),ScaleManager:a(76531),ScaleModes:a(81050),Zoom:a(80805)};m=y(!1,m,T.CENTER),m=y(!1,m,T.ORIENTATION),m=y(!1,m,T.SCALE_MODE),m=y(!1,m,T.ZOOM),C.exports=m},27397:(C,k,a)=>{var y=a(95540),T=a(35355);C.exports=function(f){var h=f.game.config.defaultPhysicsSystem,c=y(f.settings,"physics",!1);if(h||c){var u=[];if(h&&u.push(T(h+"Physics")),c)for(var p in c)p=T(p.concat("Physics")),-1===u.indexOf(p)&&u.push(p);return u}}},52106:(C,k,a)=>{var y=a(95540);C.exports=function(m){var f=m.plugins.getDefaultScenePlugins(),h=y(m.settings,"plugins",!1);return Array.isArray(h)?h:f||[]}},87033:C=>{C.exports={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},97482:(C,k,a)=>{var y=a(83419),T=a(2368),m=new y({initialize:function(h){this.sys=new T(this,h)},update:function(){}});C.exports=m},60903:(C,k,a)=>{var y=a(83419),T=a(89993),m=a(44594),f=a(8443),h=a(35154),c=a(54899),u=a(29747),p=a(97482),d=a(2368),g=new y({initialize:function(x,b){if(this.game=x,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,b){Array.isArray(b)||(b=[b]);for(var _=0;_<b.length;_++)this._pending.push({key:"default",scene:b[_],autoStart:0===_,data:{}})}x.events.once(f.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var v,x,b,_;for(this.systemScene=this.createSceneFromInstance("__SYSTEM",new p),this.game.events.emit(f.SYSTEM_READY,this.systemScene,this),v=0;v<this._pending.length;v++){var E;b=(x=this._pending[v]).key,(_=x.scene)instanceof p?E=this.createSceneFromInstance(b,_):"object"==typeof _?E=this.createSceneFromObject(b,_):"function"==typeof _&&(E=this.createSceneFromFunction(b,_)),this.keys[b=E.sys.settings.key]=E,this.scenes.push(E),this._data[b]&&(E.sys.settings.data=this._data[b].data,this._data[b].autoStart&&(x.autoStart=!0)),(x.autoStart||E.sys.settings.active)&&this._start.push(b)}for(this._pending.length=0,this._data={},this.isBooted=!0,v=0;v<this._start.length;v++)this.start(x=this._start[v]);this._start.length=0}},processQueue:function(){var v=this._pending.length;if(0!==v||0!==this._queue.length){var b,_;if(v){for(b=0;b<v;b++)this.add((_=this._pending[b]).key,_.scene,_.autoStart,_.data);for(b=0;b<this._start.length;b++)this.start(_=this._start[b]);this._start.length=0,this._pending.length=0}for(b=0;b<this._queue.length;b++)this[(_=this._queue[b]).op](_.keyA,_.keyB,_.data);this._queue.length=0}},add:function(v,x,b,_){return void 0===b&&(b=!1),void 0===_&&(_={}),this.isProcessing||!this.isBooted?(this._pending.push({key:v,scene:x,autoStart:b,data:_}),this.isBooted||(this._data[v]={data:_}),null):(v=this.getKey(v,x),x instanceof p?E=this.createSceneFromInstance(v,x):"object"==typeof x?(x.key=v,E=this.createSceneFromObject(v,x)):"function"==typeof x&&(E=this.createSceneFromFunction(v,x)),E.sys.settings.data=_,this.keys[v=E.sys.settings.key]=E,this.scenes.push(E),(b||E.sys.settings.active)&&(this._pending.length?this._start.push(v):this.start(v)),E);var E},remove:function(v){if(this.isProcessing)return this.queueOp("remove",v);var x=this.getScene(v);if(!x||x.sys.isTransitioning())return this;var b=this.scenes.indexOf(x),_=x.sys.settings.key;return b>-1&&(delete this.keys[_],this.scenes.splice(b,1),this._start.indexOf(_)>-1&&(b=this._start.indexOf(_),this._start.splice(b,1)),x.sys.destroy()),this},bootScene:function(v){var _,x=v.sys,b=x.settings;x.sceneUpdate=u,v.init&&(v.init.call(v,b.data),b.status=T.INIT,b.isTransition&&x.events.emit(m.TRANSITION_INIT,b.transitionFrom,b.transitionDuration)),x.load&&(_=x.load).reset(),_&&v.preload?(v.preload.call(v),b.status=T.LOADING,_.once(c.COMPLETE,this.loadComplete,this),_.start()):this.create(v)},loadComplete:function(v){this.create(v.scene)},payloadComplete:function(v){this.bootScene(v.scene)},update:function(v,x){this.processQueue(),this.isProcessing=!0;for(var b=this.scenes.length-1;b>=0;b--){var _=this.scenes[b].sys;_.settings.status>T.START&&_.settings.status<=T.RUNNING&&_.step(v,x),_.scenePlugin&&_.scenePlugin._target&&_.scenePlugin.step(v,x)}},render:function(v){for(var x=0;x<this.scenes.length;x++){var b=this.scenes[x].sys;b.settings.visible&&b.settings.status>=T.LOADING&&b.settings.status<T.SLEEPING&&b.render(v)}this.isProcessing=!1},create:function(v){var x=v.sys,b=x.settings;v.create&&(b.status=T.CREATING,v.create.call(v,b.data),b.status===T.DESTROYED)||(b.isTransition&&x.events.emit(m.TRANSITION_START,b.transitionFrom,b.transitionDuration),v.update&&(x.sceneUpdate=v.update),b.status=T.RUNNING,x.events.emit(m.CREATE,v))},createSceneFromFunction:function(v,x){var b=new x;if(b instanceof p){var _=b.sys.settings.key;if(""!==_&&(v=_),this.keys.hasOwnProperty(v))throw new Error("Cannot add Scene with duplicate key: "+v);return this.createSceneFromInstance(v,b)}return b.sys=new d(b),b.sys.settings.key=v,b.sys.init(this.game),b},createSceneFromInstance:function(v,x){return""===x.sys.settings.key&&(x.sys.settings.key=v),x.sys.init(this.game),x},createSceneFromObject:function(v,x){var b=new p(x),_=b.sys.settings.key;""!==_?v=_:b.sys.settings.key=v,b.sys.init(this.game);for(var E=["init","preload","create","update","render"],A=0;A<E.length;A++){var D=h(x,E[A],null);D&&(b[E[A]]=D)}if(x.hasOwnProperty("extend"))for(var I in x.extend)if(x.extend.hasOwnProperty(I)){var R=x.extend[I];"data"===I&&b.hasOwnProperty("data")&&"object"==typeof R?b.data.merge(R):"sys"!==I&&(b[I]=R)}return b},getKey:function(v,x){if(v||(v="default"),"function"==typeof x)return v;if(x instanceof p?v=x.sys.settings.key:"object"==typeof x&&x.hasOwnProperty("key")&&(v=x.key),this.keys.hasOwnProperty(v))throw new Error("Cannot add Scene with duplicate key: "+v);return v},getScenes:function(v,x){void 0===v&&(v=!0),void 0===x&&(x=!1);for(var b=[],_=this.scenes,E=0;E<_.length;E++){var A=_[E];A&&(!v||v&&A.sys.isActive())&&b.push(A)}return x?b.reverse():b},getScene:function(v){if("string"==typeof v){if(this.keys[v])return this.keys[v]}else for(var x=0;x<this.scenes.length;x++)if(v===this.scenes[x])return v;return null},isActive:function(v){var x=this.getScene(v);return x?x.sys.isActive():null},isPaused:function(v){var x=this.getScene(v);return x?x.sys.isPaused():null},isVisible:function(v){var x=this.getScene(v);return x?x.sys.isVisible():null},isSleeping:function(v){var x=this.getScene(v);return x?x.sys.isSleeping():null},pause:function(v,x){var b=this.getScene(v);return b&&b.sys.pause(x),this},resume:function(v,x){var b=this.getScene(v);return b&&b.sys.resume(x),this},sleep:function(v,x){var b=this.getScene(v);return b&&!b.sys.isTransitioning()&&b.sys.sleep(x),this},wake:function(v,x){var b=this.getScene(v);return b&&b.sys.wake(x),this},run:function(v,x){var b=this.getScene(v);if(!b){for(var _=0;_<this._pending.length;_++)if(this._pending[_].key===v){this.queueOp("start",v,x);break}return this}b.sys.isSleeping()?b.sys.wake(x):b.sys.isPaused()?b.sys.resume(x):this.start(v,x)},start:function(v,x){if(!this.isBooted)return this._data[v]={autoStart:!0,data:x},this;var b=this.getScene(v);if(!b)return console.warn("Scene key not found: "+v),this;var A,_=b.sys,E=_.settings.status;if(E>=T.START&&E<=T.CREATING)return this;if(E>=T.RUNNING&&E<=T.SLEEPING)_.shutdown(),_.sceneUpdate=u,_.start(x);else if(_.sceneUpdate=u,_.start(x),_.load&&(A=_.load),A&&_.settings.hasOwnProperty("pack")&&(A.reset(),A.addPack({payload:_.settings.pack})))return _.settings.status=T.LOADING,A.once(c.COMPLETE,this.payloadComplete,this),A.start(),this;return this.bootScene(b),this},stop:function(v,x){var b=this.getScene(v);if(b&&!b.sys.isTransitioning()&&b.sys.settings.status!==T.SHUTDOWN){var _=b.sys.load;_&&(_.off(c.COMPLETE,this.loadComplete,this),_.off(c.COMPLETE,this.payloadComplete,this)),b.sys.shutdown(x)}return this},switch:function(v,x,b){var _=this.getScene(v),E=this.getScene(x);return _&&E&&_!==E&&(this.sleep(v),this.isSleeping(x)?this.wake(x,b):this.start(x,b)),this},getAt:function(v){return this.scenes[v]},getIndex:function(v){var x=this.getScene(v);return this.scenes.indexOf(x)},bringToTop:function(v){if(this.isProcessing)return this.queueOp("bringToTop",v);var x=this.getIndex(v),b=this.scenes;if(-1!==x&&x<b.length){var _=this.getScene(v);b.splice(x,1),b.push(_)}return this},sendToBack:function(v){if(this.isProcessing)return this.queueOp("sendToBack",v);var x=this.getIndex(v);if(-1!==x&&x>0){var b=this.getScene(v);this.scenes.splice(x,1),this.scenes.unshift(b)}return this},moveDown:function(v){if(this.isProcessing)return this.queueOp("moveDown",v);var x=this.getIndex(v);if(x>0){var b=x-1,_=this.getScene(v),E=this.getAt(b);this.scenes[x]=E,this.scenes[b]=_}return this},moveUp:function(v){if(this.isProcessing)return this.queueOp("moveUp",v);var x=this.getIndex(v);if(x<this.scenes.length-1){var b=x+1,_=this.getScene(v),E=this.getAt(b);this.scenes[x]=E,this.scenes[b]=_}return this},moveAbove:function(v,x){if(v===x)return this;if(this.isProcessing)return this.queueOp("moveAbove",v,x);var b=this.getIndex(v),_=this.getIndex(x);if(-1!==b&&-1!==_&&_<b){var E=this.getAt(_);this.scenes.splice(_,1),this.scenes.splice(b+(_>b),0,E)}return this},moveBelow:function(v,x){if(v===x)return this;if(this.isProcessing)return this.queueOp("moveBelow",v,x);var b=this.getIndex(v),_=this.getIndex(x);if(-1!==b&&-1!==_&&_>b){var E=this.getAt(_);this.scenes.splice(_,1),0===b?this.scenes.unshift(E):this.scenes.splice(b-(_<b),0,E)}return this},queueOp:function(v,x,b,_){return this._queue.push({op:v,keyA:x,keyB:b,data:_}),this},swapPosition:function(v,x){if(v===x)return this;if(this.isProcessing)return this.queueOp("swapPosition",v,x);var b=this.getIndex(v),_=this.getIndex(x);if(b!==_&&-1!==b&&-1!==_){var E=this.getAt(b);this.scenes[b]=this.scenes[_],this.scenes[_]=E}return this},dump:function(){for(var v=[],x=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],b=0;b<this.scenes.length;b++){var _=this.scenes[b].sys,E=!_.settings.visible||_.settings.status!==T.RUNNING&&_.settings.status!==T.PAUSED?"[-] ":"[*] ";v.push(E+=_.settings.key+" ("+x[_.settings.status]+")")}console.log(v.join("\n"))},destroy:function(){for(var v=0;v<this.scenes.length;v++)this.scenes[v].sys.destroy();this.systemScene.sys.destroy(),this.update=u,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});C.exports=g},52209:(C,k,a)=>{var y=a(45319),T=a(83419),m=a(44594),f=a(95540),h=a(37277),c=new T({initialize:function(p){this.scene=p,this.systems=p.sys,this.settings=p.sys.settings,this.key=p.sys.settings.key,this.manager=p.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._willSleep=!1,this._willRemove=!1,p.sys.events.once(m.BOOT,this.boot,this),p.sys.events.on(m.START,this.pluginStart,this)},boot:function(){this.systems.events.once(m.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(m.SHUTDOWN,this.shutdown,this)},start:function(u,p){return void 0===u&&(u=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",u,p),this},restart:function(u){var p=this.key;return this.manager.queueOp("stop",p),this.manager.queueOp("start",p,u),this},transition:function(u){void 0===u&&(u={});var p=f(u,"target",!1),d=this.manager.getScene(p);if(!p||!this.checkValidTransition(d))return!1;var g=f(u,"duration",1e3);this._elapsed=0,this._target=d,this._duration=g,this._willSleep=f(u,"sleep",!1),this._willRemove=f(u,"remove",!1);var v=f(u,"onUpdate",null);v&&(this._onUpdate=v,this._onUpdateScope=f(u,"onUpdateScope",this.scene));var x=f(u,"allowInput",!1);this.settings.transitionAllowInput=x;var b=d.sys.settings;b.isTransition=!0,b.transitionFrom=this.scene,b.transitionDuration=g,b.transitionAllowInput=x,f(u,"moveAbove",!1)?this.manager.moveAbove(this.key,p):f(u,"moveBelow",!1)&&this.manager.moveBelow(this.key,p),d.sys.isSleeping()?d.sys.wake(f(u,"data")):this.manager.start(p,f(u,"data"));var _=f(u,"onStart",null),E=f(u,"onStartScope",this.scene);return _&&_.call(E,this.scene,d,g),this.systems.events.emit(m.TRANSITION_OUT,d,g),!0},checkValidTransition:function(u){return!(!u||u.sys.isActive()||u.sys.isTransitioning()||u===this.scene||this.systems.isTransitioning())},step:function(u,p){this._elapsed+=p,this.transitionProgress=y(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var p=this._target.sys.settings;this._target.sys.events.emit(m.TRANSITION_COMPLETE,this.scene),p.isTransition=!1,p.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(u,p,d,g){return this.manager.add(u,p,d,g)},launch:function(u,p){return u&&u!==this.key&&this.manager.queueOp("start",u,p),this},run:function(u,p){return u&&u!==this.key&&this.manager.queueOp("run",u,p),this},pause:function(u,p){return void 0===u&&(u=this.key),this.manager.queueOp("pause",u,p),this},resume:function(u,p){return void 0===u&&(u=this.key),this.manager.queueOp("resume",u,p),this},sleep:function(u,p){return void 0===u&&(u=this.key),this.manager.queueOp("sleep",u,p),this},wake:function(u,p){return void 0===u&&(u=this.key),this.manager.queueOp("wake",u,p),this},switch:function(u,p){return u!==this.key&&this.manager.queueOp("switch",this.key,u,p),this},stop:function(u,p){return void 0===u&&(u=this.key),this.manager.queueOp("stop",u,p),this},setActive:function(u,p,d){void 0===p&&(p=this.key);var g=this.manager.getScene(p);return g&&g.sys.setActive(u,d),this},setVisible:function(u,p){void 0===p&&(p=this.key);var d=this.manager.getScene(p);return d&&d.sys.setVisible(u),this},isSleeping:function(u){return void 0===u&&(u=this.key),this.manager.isSleeping(u)},isActive:function(u){return void 0===u&&(u=this.key),this.manager.isActive(u)},isPaused:function(u){return void 0===u&&(u=this.key),this.manager.isPaused(u)},isVisible:function(u){return void 0===u&&(u=this.key),this.manager.isVisible(u)},swapPosition:function(u,p){return void 0===p&&(p=this.key),u!==p&&this.manager.swapPosition(u,p),this},moveAbove:function(u,p){return void 0===p&&(p=this.key),u!==p&&this.manager.moveAbove(u,p),this},moveBelow:function(u,p){return void 0===p&&(p=this.key),u!==p&&this.manager.moveBelow(u,p),this},remove:function(u){return void 0===u&&(u=this.key),this.manager.remove(u),this},moveUp:function(u){return void 0===u&&(u=this.key),this.manager.moveUp(u),this},moveDown:function(u){return void 0===u&&(u=this.key),this.manager.moveDown(u),this},bringToTop:function(u){return void 0===u&&(u=this.key),this.manager.bringToTop(u),this},sendToBack:function(u){return void 0===u&&(u=this.key),this.manager.sendToBack(u),this},get:function(u){return this.manager.getScene(u)},getStatus:function(u){var p=this.manager.getScene(u);if(p)return p.sys.getStatus()},getIndex:function(u){return void 0===u&&(u=this.key),this.manager.getIndex(u)},shutdown:function(){var u=this.systems.events;u.off(m.SHUTDOWN,this.shutdown,this),u.off(m.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(m.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});h.register("ScenePlugin",c,"scenePlugin"),C.exports=c},55681:(C,k,a)=>{var y=a(89993),T=a(35154),m=a(46975),f=a(87033);C.exports={create:function(c){return"string"==typeof c?c={key:c}:void 0===c&&(c={}),{status:y.PENDING,key:T(c,"key",""),active:T(c,"active",!1),visible:T(c,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:T(c,"pack",!1),cameras:T(c,"cameras",null),map:T(c,"map",m(f,T(c,"mapAdd",{}))),physics:T(c,"physics",{}),loader:T(c,"loader",{}),plugins:T(c,"plugins",!1),input:T(c,"input",{})}}}},2368:(C,k,a)=>{var y=a(83419),T=a(89993),m=a(42363),f=a(44594),h=a(27397),c=a(52106),u=a(29747),p=a(55681),d=new y({initialize:function(v,x){this.scene=v,this.config=x,this.settings=p.create(x),this.sceneUpdate=u},init:function(g){this.settings.status=T.INIT,this.sceneUpdate=u,this.game=g,this.renderer=g.renderer,this.canvas=g.canvas,this.context=g.context;var v=g.plugins;this.plugins=v,v.addToScene(this,m.Global,[m.CoreScene,c(this),h(this)]),this.events.emit(f.BOOT,this),this.settings.isBooted=!0},step:function(g,v){var x=this.events;x.emit(f.PRE_UPDATE,g,v),x.emit(f.UPDATE,g,v),this.sceneUpdate.call(this.scene,g,v),x.emit(f.POST_UPDATE,g,v)},render:function(g){var v=this.displayList;v.depthSort(),this.events.emit(f.PRE_RENDER,g),this.cameras.render(g,v),this.events.emit(f.RENDER,g)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(g){var v=this.settings,x=this.getStatus();return x!==T.CREATING&&x!==T.RUNNING?console.warn("Cannot pause non-running Scene",v.key):this.settings.active&&(v.status=T.PAUSED,v.active=!1,this.events.emit(f.PAUSE,this,g)),this},resume:function(g){var v=this.events,x=this.settings;return this.settings.active||(x.status=T.RUNNING,x.active=!0,v.emit(f.RESUME,this,g)),this},sleep:function(g){var v=this.settings,x=this.getStatus();return x!==T.CREATING&&x!==T.RUNNING?console.warn("Cannot sleep non-running Scene",v.key):(v.status=T.SLEEPING,v.active=!1,v.visible=!1,this.events.emit(f.SLEEP,this,g)),this},wake:function(g){var v=this.events,x=this.settings;return x.status=T.RUNNING,x.active=!0,x.visible=!0,v.emit(f.WAKE,this,g),x.isTransition&&v.emit(f.TRANSITION_WAKE,x.transitionFrom,x.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var g=this.settings.status;return g>T.PENDING&&g<=T.RUNNING},isSleeping:function(){return this.settings.status===T.SLEEPING},isActive:function(){return this.settings.status===T.RUNNING},isPaused:function(){return this.settings.status===T.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(g){return this.settings.visible=g,this},setActive:function(g,v){return g?this.resume(v):this.pause(v)},start:function(g){var v=this.events,x=this.settings;g&&(x.data=g),x.status=T.START,x.active=!0,x.visible=!0,v.emit(f.START,this),v.emit(f.READY,this,g)},shutdown:function(g){var v=this.events,x=this.settings;v.off(f.TRANSITION_INIT),v.off(f.TRANSITION_START),v.off(f.TRANSITION_COMPLETE),v.off(f.TRANSITION_OUT),x.status=T.SHUTDOWN,x.active=!1,x.visible=!1,v.emit(f.SHUTDOWN,this,g)},destroy:function(){var g=this.events,v=this.settings;v.status=T.DESTROYED,v.active=!1,v.visible=!1,g.emit(f.DESTROY,this),g.removeAllListeners();for(var x=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],b=0;b<x.length;b++)this[x[b]]=null}});C.exports=d},89993:C=>{C.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},69830:C=>{C.exports="addedtoscene"},7919:C=>{C.exports="boot"},46763:C=>{C.exports="create"},11763:C=>{C.exports="destroy"},71555:C=>{C.exports="pause"},36735:C=>{C.exports="postupdate"},3809:C=>{C.exports="prerender"},90716:C=>{C.exports="preupdate"},58262:C=>{C.exports="ready"},91633:C=>{C.exports="removedfromscene"},10319:C=>{C.exports="render"},87132:C=>{C.exports="resume"},81961:C=>{C.exports="shutdown"},90194:C=>{C.exports="sleep"},6265:C=>{C.exports="start"},33178:C=>{C.exports="transitioncomplete"},43063:C=>{C.exports="transitioninit"},11259:C=>{C.exports="transitionout"},61611:C=>{C.exports="transitionstart"},45209:C=>{C.exports="transitionwake"},22966:C=>{C.exports="update"},21747:C=>{C.exports="wake"},44594:(C,k,a)=>{C.exports={ADDED_TO_SCENE:a(69830),BOOT:a(7919),CREATE:a(46763),DESTROY:a(11763),PAUSE:a(71555),POST_UPDATE:a(36735),PRE_RENDER:a(3809),PRE_UPDATE:a(90716),READY:a(58262),REMOVED_FROM_SCENE:a(91633),RENDER:a(10319),RESUME:a(87132),SHUTDOWN:a(81961),SLEEP:a(90194),START:a(6265),TRANSITION_COMPLETE:a(33178),TRANSITION_INIT:a(43063),TRANSITION_OUT:a(11259),TRANSITION_START:a(61611),TRANSITION_WAKE:a(45209),UPDATE:a(22966),WAKE:a(21747)}},62194:(C,k,a)=>{var y=a(89993),T=a(79291),m={Events:a(44594),GetPhysicsPlugins:a(27397),GetScenePlugins:a(52106),SceneManager:a(60903),ScenePlugin:a(52209),Settings:a(55681),Systems:a(2368)};m=T(!1,m,y),C.exports=m},30341:(C,k,a)=>{var y=a(83419),T=a(50792),m=a(14463),f=a(79291),h=a(29747),c=new y({Extends:T,initialize:function(p,d,g){T.call(this),this.manager=p,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=f(this.config,g),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(u){return!(!u||!u.name||"string"!=typeof u.name||(this.markers[u.name]?(console.error("addMarker "+u.name+" already exists in Sound"),1):(u=f(!0,{name:"",start:0,duration:this.totalDuration-(u.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},u),this.markers[u.name]=u,0)))},updateMarker:function(u){return!(!u||!u.name||"string"!=typeof u.name||(this.markers[u.name]?(this.markers[u.name]=f(!0,this.markers[u.name],u),0):(console.warn("Audio Marker: "+u.name+" missing in Sound: "+this.key),1)))},removeMarker:function(u){var p=this.markers[u];return p?(this.markers[u]=null,p):null},play:function(u,p){if(void 0===u&&(u=""),"object"==typeof u&&(p=u,u=""),"string"!=typeof u)return!1;if(u){if(!this.markers[u])return console.warn("Marker: "+u+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[u],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=f(this.currentConfig,p),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!(this.isPaused||!this.isPlaying||(this.isPlaying=!1,this.isPaused=!0,0))},resume:function(){return!(!this.isPaused||this.isPlaying||(this.isPlaying=!0,this.isPaused=!1,0))},stop:function(){return!(!this.isPaused&&!this.isPlaying||(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),0))},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:h,calculateRate:function(){var d=Math.pow(1.0005777895065548,this.currentConfig.detune+this.manager.detune);this.totalRate=this.currentConfig.rate*this.manager.rate*d},destroy:function(){this.pendingRemove||(this.stop(),this.emit(m.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});C.exports=c},85034:(C,k,a)=>{var y=a(83419),T=a(41786),m=a(50792),f=a(14463),h=a(8443),c=a(46710),u=a(58731),p=a(29747),d=a(26099),g=new y({Extends:m,initialize:function(x){m.call(this),this.game=x,this.jsonCache=x.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new d,x.events.on(h.BLUR,this.onGameBlur,this),x.events.on(h.FOCUS,this.onGameFocus,this),x.events.on(h.PRE_STEP,this.update,this),x.events.once(h.DESTROY,this.destroy,this)},add:p,addAudioSprite:function(v,x){void 0===x&&(x={});var b=this.add(v,x);for(var _ in b.spritemap=this.jsonCache.get(v).spritemap,b.spritemap)if(b.spritemap.hasOwnProperty(_)){var E=T(x),A=b.spritemap[_];E.loop=!!A.hasOwnProperty("loop")&&A.loop,b.addMarker({name:_,start:A.start,duration:A.end-A.start,config:E})}return b},get:function(v){return u(this.sounds,"key",v)},getAll:function(v){return v?c(this.sounds,"key",v):c(this.sounds)},getAllPlaying:function(){return c(this.sounds,"isPlaying",!0)},play:function(v,x){var b=this.add(v);return b.once(f.COMPLETE,b.destroy,b),x?x.name?(b.addMarker(x),b.play(x.name)):b.play(x):b.play()},playAudioSprite:function(v,x,b){var _=this.addAudioSprite(v);return _.once(f.COMPLETE,_.destroy,_),_.play(x,b)},remove:function(v){var x=this.sounds.indexOf(v);return-1!==x&&(v.destroy(),this.sounds.splice(x,1),!0)},removeAll:function(){this.sounds.forEach(function(v){v.destroy()}),this.sounds.length=0},removeByKey:function(v){for(var x=0,b=this.sounds.length-1;b>=0;b--){var _=this.sounds[b];_.key===v&&(_.destroy(),this.sounds.splice(b,1),x++)}return x},pauseAll:function(){this.forEachActiveSound(function(v){v.pause()}),this.emit(f.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(v){v.resume()}),this.emit(f.RESUME_ALL,this)},setListenerPosition:p,stopAll:function(){this.forEachActiveSound(function(v){v.stop()}),this.emit(f.STOP_ALL,this)},stopByKey:function(v){var x=0;return this.getAll(v).forEach(function(b){b.stop()&&x++}),x},isPlaying:function(v){var _,b=this.sounds.length-1;if(void 0===v){for(;b>=0;b--)if((_=this.sounds[b]).isPlaying)return!0}else for(;b>=0;b--)if((_=this.sounds[b]).key===v&&_.isPlaying)return!0;return!1},unlock:p,onBlur:p,onFocus:p,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(v,x){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(f.UNLOCKED,this));for(var b=this.sounds.length-1;b>=0;b--)this.sounds[b].pendingRemove&&this.sounds.splice(b,1);this.sounds.forEach(function(_){_.update(v,x)})},destroy:function(){this.game.events.off(h.BLUR,this.onGameBlur,this),this.game.events.off(h.FOCUS,this.onGameFocus,this),this.game.events.off(h.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(v,x){var b=this;this.sounds.forEach(function(_,E){_&&!_.pendingRemove&&v.call(x||b,_,E,b.sounds)})},setRate:function(v){return this.rate=v,this},rate:{get:function(){return this._rate},set:function(v){this._rate=v,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(f.GLOBAL_RATE,this,v)}},setDetune:function(v){return this.detune=v,this},detune:{get:function(){return this._detune},set:function(v){this._detune=v,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(f.GLOBAL_DETUNE,this,v)}}});C.exports=g},14747:(C,k,a)=>{var y=a(33684),T=a(25960),m=a(57490);C.exports={create:function(h){var c=h.config.audio,u=h.device.audio;return c.noAudio||!u.webAudio&&!u.audioData?new T(h):u.webAudio&&!c.disableWebAudio?new m(h):new y(h)}}},19723:C=>{C.exports="complete"},98882:C=>{C.exports="decodedall"},57506:C=>{C.exports="decoded"},73146:C=>{C.exports="destroy"},11305:C=>{C.exports="detune"},40577:C=>{C.exports="detune"},30333:C=>{C.exports="mute"},20394:C=>{C.exports="rate"},21802:C=>{C.exports="volume"},1299:C=>{C.exports="looped"},99190:C=>{C.exports="loop"},97125:C=>{C.exports="mute"},89259:C=>{C.exports="pan"},79986:C=>{C.exports="pauseall"},17586:C=>{C.exports="pause"},19618:C=>{C.exports="play"},42306:C=>{C.exports="rate"},10387:C=>{C.exports="resumeall"},48959:C=>{C.exports="resume"},9960:C=>{C.exports="seek"},19180:C=>{C.exports="stopall"},98328:C=>{C.exports="stop"},50401:C=>{C.exports="unlocked"},52498:C=>{C.exports="volume"},14463:(C,k,a)=>{C.exports={COMPLETE:a(19723),DECODED:a(57506),DECODED_ALL:a(98882),DESTROY:a(73146),DETUNE:a(11305),GLOBAL_DETUNE:a(40577),GLOBAL_MUTE:a(30333),GLOBAL_RATE:a(20394),GLOBAL_VOLUME:a(21802),LOOP:a(99190),LOOPED:a(1299),MUTE:a(97125),PAN:a(89259),PAUSE_ALL:a(79986),PAUSE:a(17586),PLAY:a(19618),RATE:a(42306),RESUME_ALL:a(10387),RESUME:a(48959),SEEK:a(9960),STOP_ALL:a(19180),STOP:a(98328),UNLOCKED:a(50401),VOLUME:a(52498)}},64895:(C,k,a)=>{var y=a(30341),T=a(83419),m=a(14463),f=a(45319),h=new T({Extends:y,initialize:function(u,p,d){if(void 0===d&&(d={}),this.tags=u.game.cache.audio.get(p),!this.tags)throw new Error('No cached audio asset with key "'+p);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,y.call(this,u,p,d)},play:function(c,u){return!(this.manager.isLocked(this,"play",[c,u])||!y.prototype.play.call(this,c,u)||!this.pickAndPlayAudioTag()||(this.emit(m.PLAY,this),0))},pause:function(){return!(this.manager.isLocked(this,"pause")||this.startTime>0||!y.prototype.pause.call(this)||(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(m.PAUSE,this),0))},resume:function(){return!(this.manager.isLocked(this,"resume")||this.startTime>0||!y.prototype.resume.call(this)||!this.pickAndPlayAudioTag()||(this.emit(m.RESUME,this),0))},stop:function(){return!(this.manager.isLocked(this,"stop")||!y.prototype.stop.call(this)||(this.stopAndReleaseAudioTag(),this.emit(m.STOP,this),0))},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var u=this.currentConfig.delay,p=(this.currentMarker?this.currentMarker.start:0)+this.currentConfig.seek;return this.previousTime=p,this.audio.currentTime=p,this.applyConfig(),0===u?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*u,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var c=0;c<this.tags.length;c++){var u=this.tags[c];if("false"===u.dataset.used)return u.dataset.used="true",this.audio=u,!0}if(!this.manager.override)return!1;var p=[];this.manager.forEachActiveSound(function(g){g.key===this.key&&g.audio&&p.push(g)},this),p.sort(function(g,v){return g.loop===v.loop?v.seek/v.duration-g.seek/g.duration:g.loop?1:-1});var d=p[0];return this.audio=d.audio,d.reset(),d.audio=null,d.startTime=0,d.previousTime=0,!0},playCatchPromise:function(){var c=this.audio.play();c&&c.catch(function(u){console.warn(u)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){y.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(c){if(this.isPlaying){if(this.startTime>0)return void(this.startTime<c-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,c-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise()));var u=this.currentMarker?this.currentMarker.start:0,p=u+this.duration,d=this.audio.currentTime;if(this.currentConfig.loop)d>=p-this.manager.loopEndOffset?(this.audio.currentTime=u+Math.max(0,d-p),d=this.audio.currentTime):d<u&&(this.audio.currentTime+=u,d=this.audio.currentTime),d<this.previousTime&&this.emit(m.LOOPED,this);else if(d>=p)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit(m.COMPLETE,this);this.previousTime=d}},destroy:function(){y.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=f(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){y.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(c){this.currentConfig.mute=c,!this.manager.isLocked(this,"mute",c)&&(this.updateMute(),this.emit(m.MUTE,this,c))}},setMute:function(c){return this.mute=c,this},volume:{get:function(){return this.currentConfig.volume},set:function(c){this.currentConfig.volume=c,!this.manager.isLocked(this,"volume",c)&&(this.updateVolume(),this.emit(m.VOLUME,this,c))}},setVolume:function(c){return this.volume=c,this},rate:{get:function(){return this.currentConfig.rate},set:function(c){this.currentConfig.rate=c,!this.manager.isLocked(this,m.RATE,c)&&(this.calculateRate(),this.emit(m.RATE,this,c))}},setRate:function(c){return this.rate=c,this},detune:{get:function(){return this.currentConfig.detune},set:function(c){this.currentConfig.detune=c,!this.manager.isLocked(this,m.DETUNE,c)&&(this.calculateRate(),this.emit(m.DETUNE,this,c))}},setDetune:function(c){return this.detune=c,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(c){this.manager.isLocked(this,"seek",c)||this.startTime>0||(this.isPlaying||this.isPaused)&&(c=Math.min(Math.max(0,c),this.duration),this.isPlaying?(this.previousTime=c,this.audio.currentTime=c):this.isPaused&&(this.currentConfig.seek=c),this.emit(m.SEEK,this,c))}},setSeek:function(c){return this.seek=c,this},loop:{get:function(){return this.currentConfig.loop},set:function(c){this.currentConfig.loop=c,!this.manager.isLocked(this,"loop",c)&&(this.audio&&(this.audio.loop=c),this.emit(m.LOOP,this,c))}},setLoop:function(c){return this.loop=c,this},pan:{get:function(){return this.currentConfig.pan},set:function(c){this.currentConfig.pan=c,this.emit(m.PAN,this,c)}},setPan:function(c){return this.pan=c,this}});C.exports=h},33684:(C,k,a)=>{var y=a(85034),T=a(83419),m=a(14463),f=a(64895),h=new T({Extends:y,initialize:function(u){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,y.call(this,u)},add:function(c,u){var p=new f(this,c,u);return this.sounds.push(p),p},unlock:function(){this.locked=!1;var c=this;if(this.game.cache.audio.entries.each(function(g,v){for(var x=0;x<v.length;x++)if("true"===v[x].dataset.locked)return c.locked=!0,!1;return!0}),this.locked){var u=!1,p=function(){u=!0},d=function(){if(u)u=!1;else{document.body.removeEventListener("touchmove",p),document.body.removeEventListener("touchend",d);var g=[];if(c.game.cache.audio.entries.each(function(x,b){for(var _=0;_<b.length;_++){var E=b[_];"true"===E.dataset.locked&&g.push(E)}return!0}),0!==g.length){var v=g[g.length-1];v.oncanplaythrough=function(){v.oncanplaythrough=null,g.forEach(function(x){x.dataset.locked="false"}),c.unlocked=!0},g.forEach(function(x){x.load()})}}};this.once(m.UNLOCKED,function(){for(this.forEachActiveSound(function(v){null===v.currentMarker&&0===v.duration&&(v.duration=v.tags[0].duration),v.totalDuration=v.tags[0].duration});this.lockedActionsQueue.length;){var g=this.lockedActionsQueue.shift();g.sound[g.prop].apply?g.sound[g.prop].apply(g.sound,g.value||[]):g.sound[g.prop]=g.value}},this),document.body.addEventListener("touchmove",p,!1),document.body.addEventListener("touchend",d,!1)}},onBlur:function(){this.forEachActiveSound(function(c){c.isPlaying&&(this.onBlurPausedSounds.push(c),c.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(c){c.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){y.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(c,u,p){return"true"===c.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:c,prop:u,value:p}),!0)},setMute:function(c){return this.mute=c,this},mute:{get:function(){return this._mute},set:function(c){this._mute=c,this.forEachActiveSound(function(u){u.updateMute()}),this.emit(m.GLOBAL_MUTE,this,c)}},setVolume:function(c){return this.volume=c,this},volume:{get:function(){return this._volume},set:function(c){this._volume=c,this.forEachActiveSound(function(u){u.updateVolume()}),this.emit(m.GLOBAL_VOLUME,this,c)}}});C.exports=h},23717:(C,k,a)=>{C.exports={SoundManagerCreator:a(14747),Events:a(14463),BaseSound:a(30341),BaseSoundManager:a(85034),WebAudioSound:a(71741),WebAudioSoundManager:a(57490),HTML5AudioSound:a(64895),HTML5AudioSoundManager:a(33684),NoAudioSound:a(4603),NoAudioSoundManager:a(25960)}},4603:(C,k,a)=>{var y=a(30341),T=a(83419),m=a(50792),f=a(79291),h=a(29747),c=function(){return!1},u=function(){return null},p=function(){return this},d=new T({Extends:m,initialize:function(v,x,b){void 0===b&&(b={}),m.call(this),this.manager=v,this.key=x,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=f({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},b),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:c,updateMarker:c,removeMarker:u,play:c,pause:c,resume:c,stop:c,setMute:p,setVolume:p,setRate:p,setDetune:p,setSeek:p,setLoop:p,setPan:p,applyConfig:u,resetConfig:u,update:h,calculateRate:u,destroy:function(){y.prototype.destroy.call(this)}});C.exports=d},25960:(C,k,a)=>{var y=a(85034),T=a(83419),m=a(50792),f=a(4603),h=a(29747),c=new T({Extends:m,initialize:function(p){m.call(this),this.game=p,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(u,p){var d=new f(this,u,p);return this.sounds.push(d),d},addAudioSprite:function(u,p){var d=this.add(u,p);return d.spritemap={},d},get:function(u){return y.prototype.get.call(this,u)},getAll:function(u){return y.prototype.getAll.call(this,u)},play:function(u,p){return!1},playAudioSprite:function(u,p,d){return!1},remove:function(u){return y.prototype.remove.call(this,u)},removeAll:function(){return y.prototype.removeAll.call(this)},removeByKey:function(u){return y.prototype.removeByKey.call(this,u)},stopByKey:function(u){return y.prototype.stopByKey.call(this,u)},onBlur:h,onFocus:h,onGameBlur:h,onGameFocus:h,pauseAll:h,resumeAll:h,stopAll:h,update:h,setRate:h,setDetune:h,setMute:h,setVolume:h,unlock:h,forEachActiveSound:function(u,p){y.prototype.forEachActiveSound.call(this,u,p)},destroy:function(){y.prototype.destroy.call(this)}});C.exports=c},71741:(C,k,a)=>{var y=a(30341),T=a(83419),m=a(14463),f=a(95540),h=new T({Extends:y,initialize:function(u,p,d){if(void 0===d&&(d={}),this.audioBuffer=u.game.cache.audio.get(p),!this.audioBuffer)throw new Error('Audio key "'+p+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=u.context.createGain(),this.volumeNode=u.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),u.context.createPanner&&(this.spatialNode=u.context.createPanner(),this.volumeNode.connect(this.spatialNode)),u.context.createStereoPanner?(this.pannerNode=u.context.createStereoPanner(),u.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(u.destination)):u.context.createPanner?this.spatialNode.connect(u.destination):this.volumeNode.connect(u.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,y.call(this,u,p,d)},play:function(c,u){return!!y.prototype.play.call(this,c,u)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(m.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime||!y.prototype.pause.call(this)||(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(m.PAUSE,this),0))},resume:function(){return!(this.manager.context.currentTime<this.startTime||!y.prototype.resume.call(this)||(this.createAndStartBufferSource(),this.emit(m.RESUME,this),0))},stop:function(){return!!y.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(m.STOP,this),!0)},createAndStartBufferSource:function(){var c=this.currentConfig.seek,p=this.manager.context.currentTime+this.currentConfig.delay,d=(this.currentMarker?this.currentMarker.start:0)+c,g=this.duration-c;this.playTime=p-c,this.startTime=p,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,p),Math.max(0,d),Math.max(0,g)),this.resetConfig()},createAndStartLoopBufferSource:function(){var c=this.getLoopTime(),u=this.currentMarker?this.currentMarker.start:0,p=this.duration;this.loopTime=c,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,c),Math.max(0,u),Math.max(0,p))},createBufferSource:function(){var c=this,u=this.manager.context.createBufferSource();return u.buffer=this.audioBuffer,u.connect(this.muteNode),u.onended=function(p){var d=p.target;(d===c.source||d===c.loopSource)&&(c.currentConfig.loop?c.hasLooped=!0:c.hasEnded=!0)},u},stopAndRemoveBufferSource:function(){if(this.source){var c=this.source;this.source=null,c.stop(),c.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var c=this.currentConfig.source;if(c&&this.manager.context.createPanner){var u=this.spatialNode;u.panningModel=f(c,"panningModel","equalpower"),u.distanceModel=f(c,"distanceModel","inverse"),u.orientationX.value=f(c,"orientationX",0),u.orientationY.value=f(c,"orientationY",0),u.orientationZ.value=f(c,"orientationZ",-1),u.refDistance=f(c,"refDistance",1),u.maxDistance=f(c,"maxDistance",1e4),u.rolloffFactor=f(c,"rolloffFactor",1),u.coneInnerAngle=f(c,"coneInnerAngle",360),u.coneOuterAngle=f(c,"coneOuterAngle",0),u.coneOuterGain=f(c,"coneOuterGain",0),this.spatialSource=f(c,"follow",null),this.spatialSource||(u.positionX.value=f(c,"x",0),u.positionY.value=f(c,"y",0),u.positionZ.value=f(c,"z",0))}y.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(c){this.spatialNode&&(this.spatialNode.positionX.value=c)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(c){this.spatialNode&&(this.spatialNode.positionY.value=c)}},update:function(){if(this.isPlaying&&this.spatialSource){var c=f(this.spatialSource,"x",null),u=f(this.spatialSource,"y",null);c&&c!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=c),u&&u!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=u)}this.hasEnded?(y.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(m.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(m.LOOPED,this))},destroy:function(){this.pendingRemove||(y.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){y.prototype.calculateRate.call(this);var c=this.manager.context.currentTime;this.source&&"number"==typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,c),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,c)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var c=0,u=0;u<this.rateUpdates.length;u++)c+=((u<this.rateUpdates.length-1?this.rateUpdates[u+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[u].time)*this.rateUpdates[u].rate;return c},getLoopTime:function(){for(var c=0,u=0;u<this.rateUpdates.length-1;u++)c+=(this.rateUpdates[u+1].time-this.rateUpdates[u].time)*this.rateUpdates[u].rate;var p=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+p.time+(this.duration-c)/p.rate},rate:{get:function(){return this.currentConfig.rate},set:function(c){this.currentConfig.rate=c,this.calculateRate(),this.emit(m.RATE,this,c)}},setRate:function(c){return this.rate=c,this},detune:{get:function(){return this.currentConfig.detune},set:function(c){this.currentConfig.detune=c,this.calculateRate(),this.emit(m.DETUNE,this,c)}},setDetune:function(c){return this.detune=c,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(c){this.currentConfig.mute=c,this.muteNode.gain.setValueAtTime(c?0:1,0),this.emit(m.MUTE,this,c)}},setMute:function(c){return this.mute=c,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(c){this.currentConfig.volume=c,this.volumeNode.gain.setValueAtTime(c,0),this.emit(m.VOLUME,this,c)}},setVolume:function(c){return this.volume=c,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(c){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(c=Math.min(Math.max(0,c),this.duration),this.currentConfig.seek=c,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(m.SEEK,this,c))}},setSeek:function(c){return this.seek=c,this},loop:{get:function(){return this.currentConfig.loop},set:function(c){this.currentConfig.loop=c,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),c&&this.createAndStartLoopBufferSource()),this.emit(m.LOOP,this,c)}},setLoop:function(c){return this.loop=c,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(c){this.currentConfig.pan=c,this.pannerNode&&this.pannerNode.pan.setValueAtTime(c,this.manager.context.currentTime),this.emit(m.PAN,this,c)}},setPan:function(c){return this.pan=c,this}});C.exports=h},57490:(C,k,a)=>{var y=a(53134),T=a(85034),m=a(83419),f=a(14463),h=a(8443),c=a(71741),u=a(95540),p=new m({Extends:T,initialize:function(g){this.context=this.createAudioContext(g),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),T.call(this,g),this.locked&&g.isBooted?this.unlock():g.events.once(h.BOOT,this.unlock,this)},createAudioContext:function(d){var g=d.config.audio;return g.context?(g.context.resume(),g.context):window.hasOwnProperty("AudioContext")?new AudioContext:window.hasOwnProperty("webkitAudioContext")?new window.webkitAudioContext:void 0},setAudioContext:function(d){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=d,this.masterMuteNode=d.createGain(),this.masterVolumeNode=d.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(d.destination),this.destination=this.masterMuteNode,this},add:function(d,g){var v=new c(this,d,g);return this.sounds.push(v),v},decodeAudio:function(d,g){var v;v=Array.isArray(d)?d:[{key:d,data:g}];for(var x=this.game.cache.audio,b=v.length,_=0;_<v.length;_++){var E=v[_],A=E.key,D=E.data;"string"==typeof D&&(D=y(D));var I=function(F,L){x.add(F,L),this.emit(f.DECODED,F),0==--b&&this.emit(f.DECODED_ALL)}.bind(this,A),R=function(F,L){console.error("Error decoding audio: "+F+" - ",L?L.message:""),0==--b&&this.emit(f.DECODED_ALL)}.bind(this,A);this.context.decodeAudioData(D,I,R)}},setListenerPosition:function(d,g){return void 0===d&&(d=this.game.scale.width/2),void 0===g&&(g=this.game.scale.height/2),this.listenerPosition.set(d,g),this},unlock:function(){var d=this,g=document.body,v=function x(){if(d.context&&g){var b=g.removeEventListener.bind(g);d.context.resume().then(function(){b("touchstart",x),b("touchend",x),b("click",x),b("keydown",x),d.unlocked=!0},function(){b("touchstart",x),b("touchend",x),b("click",x),b("keydown",x)})}};g&&(g.addEventListener("touchstart",v,!1),g.addEventListener("touchend",v,!1),g.addEventListener("click",v,!1),g.addEventListener("keydown",v,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var d=this.context;d&&!this.locked&&("suspended"===d.state||"interrupted"===d.state)&&d.resume()},update:function(d,g){var v=this.context.listener;if(v&&void 0!==v.positionX){var x=u(this.listenerPosition,"x",null),b=u(this.listenerPosition,"y",null);x&&x!==this._spatialx&&(this._spatialx=v.positionX.value=x),b&&b!==this._spatialy&&(this._spatialy=v.positionY.value=b)}T.prototype.update.call(this,d,g),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var d=this;this.context.close().then(function(){d.context=null})}T.prototype.destroy.call(this)},setMute:function(d){return this.mute=d,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(d){this.masterMuteNode.gain.setValueAtTime(d?0:1,0),this.emit(f.GLOBAL_MUTE,this,d)}},setVolume:function(d){return this.volume=d,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(d){this.masterVolumeNode.gain.setValueAtTime(d,0),this.emit(f.GLOBAL_VOLUME,this,d)}}});C.exports=p},73162:(C,k,a)=>{var y=a(37105),T=a(83419),m=a(29747),f=a(19186),h=new T({initialize:function(u){this.parent=u,this.list=[],this.position=0,this.addCallback=m,this.removeCallback=m,this._sortKey=""},add:function(c,u){return u?y.Add(this.list,c):y.Add(this.list,c,0,this.addCallback,this)},addAt:function(c,u,p){return p?y.AddAt(this.list,c,u):y.AddAt(this.list,c,u,0,this.addCallback,this)},getAt:function(c){return this.list[c]},getIndex:function(c){return this.list.indexOf(c)},sort:function(c,u){return c?(void 0===u&&(u=function(p,d){return p[c]-d[c]}),f(this.list,u),this):this},getByName:function(c){return y.GetFirst(this.list,"name",c)},getRandom:function(c,u){return y.GetRandom(this.list,c,u)},getFirst:function(c,u,p,d){return y.GetFirst(this.list,c,u,p,d)},getAll:function(c,u,p,d){return y.GetAll(this.list,c,u,p,d)},count:function(c,u){return y.CountAllMatching(this.list,c,u)},swap:function(c,u){y.Swap(this.list,c,u)},moveTo:function(c,u){return y.MoveTo(this.list,c,u)},moveAbove:function(c,u){return y.MoveAbove(this.list,c,u)},moveBelow:function(c,u){return y.MoveBelow(this.list,c,u)},remove:function(c,u){return u?y.Remove(this.list,c):y.Remove(this.list,c,this.removeCallback,this)},removeAt:function(c,u){return u?y.RemoveAt(this.list,c):y.RemoveAt(this.list,c,this.removeCallback,this)},removeBetween:function(c,u,p){return p?y.RemoveBetween(this.list,c,u):y.RemoveBetween(this.list,c,u,this.removeCallback,this)},removeAll:function(c){for(var u=this.list.length;u--;)this.remove(this.list[u],c);return this},bringToTop:function(c){return y.BringToTop(this.list,c)},sendToBack:function(c){return y.SendToBack(this.list,c)},moveUp:function(c){return y.MoveUp(this.list,c),c},moveDown:function(c){return y.MoveDown(this.list,c),c},reverse:function(){return this.list.reverse(),this},shuffle:function(){return y.Shuffle(this.list),this},replace:function(c,u){return y.Replace(this.list,c,u)},exists:function(c){return this.list.indexOf(c)>-1},setAll:function(c,u,p,d){return y.SetAll(this.list,c,u,p,d),this},each:function(c,u){for(var p=[null],d=2;d<arguments.length;d++)p.push(arguments[d]);for(d=0;d<this.list.length;d++)p[0]=this.list[d],c.apply(u,p)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});C.exports=h},90330:(C,k,a)=>{var T=new(a(83419))({initialize:function(f){this.entries={},this.size=0,this.setAll(f)},setAll:function(m){if(Array.isArray(m))for(var f=0;f<m.length;f++)this.set(m[f][0],m[f][1]);return this},set:function(m,f){return this.has(m)||this.size++,this.entries[m]=f,this},get:function(m){if(this.has(m))return this.entries[m]},getArray:function(){var m=[],f=this.entries;for(var h in f)m.push(f[h]);return m},has:function(m){return this.entries.hasOwnProperty(m)},delete:function(m){return this.has(m)&&(delete this.entries[m],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(m){delete this.entries[m]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var m=[],f=this.entries;for(var h in f)m.push(f[h]);return m},dump:function(){var m=this.entries;for(var f in console.group("Map"),m)console.log(f,m[f]);console.groupEnd()},each:function(m){var f=this.entries;for(var h in f)if(!1===m(h,f[h]))break;return this},contains:function(m){var f=this.entries;for(var h in f)if(f[h]===m)return!0;return!1},merge:function(m,f){void 0===f&&(f=!1);var h=this.entries,c=m.entries;for(var u in c)h.hasOwnProperty(u)&&f?h[u]=c[u]:this.set(u,c[u]);return this}});C.exports=T},25774:(C,k,a)=>{var y=a(83419),T=a(50792),m=a(82348),f=new y({Extends:T,initialize:function(){T.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(h){return this._active.indexOf(h)>-1},isPending:function(h){return this._toProcess>0&&this._pending.indexOf(h)>-1},isDestroying:function(h){return this._destroy.indexOf(h)>-1},add:function(h){return this.checkQueue&&this.isActive(h)&&!this.isDestroying(h)||this.isPending(h)||(this._pending.push(h),this._toProcess++),h},remove:function(h){if(this.isPending(h)){var c=this._pending,u=c.indexOf(h);-1!==u&&c.splice(u,1)}else this.isActive(h)&&(this._destroy.push(h),this._toProcess++);return h},removeAll:function(){for(var h=this._active,c=this._destroy,u=h.length;u--;)c.push(h[u]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var u,p,h=this._destroy,c=this._active;for(u=0;u<h.length;u++){var d=c.indexOf(p=h[u]);-1!==d&&(c.splice(d,1),this.emit(m.PROCESS_QUEUE_REMOVE,p))}for(h.length=0,h=this._pending,u=0;u<h.length;u++)p=h[u],(!this.checkQueue||this.checkQueue&&-1===c.indexOf(p))&&(c.push(p),this.emit(m.PROCESS_QUEUE_ADD,p));return h.length=0,this._toProcess=0,c},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});C.exports=f},59542:(C,k,a)=>{var y=a(43886);function T(D){if(!(this instanceof T))return new T(D,[".left",".top",".right",".bottom"]);this._maxEntries=Math.max(4,D||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function m(D,I,R){if(!R)return I.indexOf(D);for(var F=0;F<I.length;F++)if(R(D,I[F]))return F;return-1}function f(D,I){h(D,0,D.children.length,I,D)}function h(D,I,R,F,L){L||(L=E(null)),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0;for(var B,V=I;V<R;V++)B=D.children[V],c(L,D.leaf?F(B):B);return L}function c(D,I){return D.minX=Math.min(D.minX,I.minX),D.minY=Math.min(D.minY,I.minY),D.maxX=Math.max(D.maxX,I.maxX),D.maxY=Math.max(D.maxY,I.maxY),D}function u(D,I){return D.minX-I.minX}function p(D,I){return D.minY-I.minY}function d(D){return(D.maxX-D.minX)*(D.maxY-D.minY)}function g(D){return D.maxX-D.minX+(D.maxY-D.minY)}function v(D,I){return(Math.max(I.maxX,D.maxX)-Math.min(I.minX,D.minX))*(Math.max(I.maxY,D.maxY)-Math.min(I.minY,D.minY))}function x(D,I){var R=Math.max(D.minX,I.minX),F=Math.max(D.minY,I.minY),L=Math.min(D.maxX,I.maxX),V=Math.min(D.maxY,I.maxY);return Math.max(0,L-R)*Math.max(0,V-F)}function b(D,I){return D.minX<=I.minX&&D.minY<=I.minY&&I.maxX<=D.maxX&&I.maxY<=D.maxY}function _(D,I){return I.minX<=D.maxX&&I.minY<=D.maxY&&I.maxX>=D.minX&&I.maxY>=D.minY}function E(D){return{children:D,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function A(D,I,R,F,L){for(var B,V=[I,R];V.length;)!((R=V.pop())-(I=V.pop())<=F)&&(B=I+Math.ceil((R-I)/F/2)*F,y(D,B,I,R,L),V.push(I,B,B,R))}T.prototype={all:function(){return this._all(this.data,[])},search:function(D){var I=this.data,R=[],F=this.toBBox;if(!_(D,I))return R;for(var V,B,G,Q,L=[];I;){for(V=0,B=I.children.length;V<B;V++)G=I.children[V],_(D,Q=I.leaf?F(G):G)&&(I.leaf?R.push(G):b(D,Q)?this._all(G,R):L.push(G));I=L.pop()}return R},collides:function(D){var I=this.data,R=this.toBBox;if(!_(D,I))return!1;for(var L,V,B,G,F=[];I;){for(L=0,V=I.children.length;L<V;L++)if(B=I.children[L],_(D,G=I.leaf?R(B):B)){if(I.leaf||b(D,G))return!0;F.push(B)}I=F.pop()}return!1},load:function(D){if(!D||!D.length)return this;if(D.length<this._minEntries){for(var I=0,R=D.length;I<R;I++)this.insert(D[I]);return this}var F=this._build(D.slice(),0,D.length-1,0);if(this.data.children.length)if(this.data.height===F.height)this._splitRoot(this.data,F);else{if(this.data.height<F.height){var L=this.data;this.data=F,F=L}this._insert(F,this.data.height-F.height-1,!0)}else this.data=F;return this},insert:function(D){return D&&this._insert(D,this.data.height-1),this},clear:function(){return this.data=E([]),this},remove:function(D,I){if(!D)return this;for(var B,G,Q,H,R=this.data,F=this.toBBox(D),L=[],V=[];R||L.length;){if(R||(R=L.pop(),G=L[L.length-1],B=V.pop(),H=!0),R.leaf&&-1!==(Q=m(D,R.children,I)))return R.children.splice(Q,1),L.push(R),this._condense(L),this;H||R.leaf||!b(R,F)?G?(B++,R=G.children[B],H=!1):R=null:(L.push(R),V.push(B),B=0,G=R,R=R.children[0])}return this},toBBox:function(D){return D},compareMinX:u,compareMinY:p,toJSON:function(){return this.data},fromJSON:function(D){return this.data=D,this},_all:function(D,I){for(var R=[];D;)D.leaf?I.push.apply(I,D.children):R.push.apply(R,D.children),D=R.pop();return I},_build:function(D,I,R,F){var B,L=R-I+1,V=this._maxEntries;if(L<=V)return f(B=E(D.slice(I,R+1)),this.toBBox),B;F||(F=Math.ceil(Math.log(L)/Math.log(V)),V=Math.ceil(L/Math.pow(V,F-1))),(B=E([])).leaf=!1,B.height=F;var H,K,tt,at,G=Math.ceil(L/V),Q=G*Math.ceil(Math.sqrt(V));for(A(D,I,R,Q,this.compareMinX),H=I;H<=R;H+=Q)for(A(D,H,tt=Math.min(H+Q-1,R),G,this.compareMinY),K=H;K<=tt;K+=G)at=Math.min(K+G-1,tt),B.children.push(this._build(D,K,at,F-1));return f(B,this.toBBox),B},_chooseSubtree:function(D,I,R,F){for(var L,V,B,G,Q,H,K,tt;F.push(I),!I.leaf&&F.length-1!==R;){for(K=tt=1/0,L=0,V=I.children.length;L<V;L++)Q=d(B=I.children[L]),(H=v(D,B)-Q)<tt?(tt=H,K=Q<K?Q:K,G=B):H===tt&&Q<K&&(K=Q,G=B);I=G||I.children[0]}return I},_insert:function(D,I,R){var L=R?D:(0,this.toBBox)(D),V=[],B=this._chooseSubtree(L,this.data,I,V);for(B.children.push(D),c(B,L);I>=0&&V[I].children.length>this._maxEntries;)this._split(V,I),I--;this._adjustParentBBoxes(L,V,I)},_split:function(D,I){var R=D[I],F=R.children.length,L=this._minEntries;this._chooseSplitAxis(R,L,F);var V=this._chooseSplitIndex(R,L,F),B=E(R.children.splice(V,R.children.length-V));B.height=R.height,B.leaf=R.leaf,f(R,this.toBBox),f(B,this.toBBox),I?D[I-1].children.push(B):this._splitRoot(R,B)},_splitRoot:function(D,I){this.data=E([D,I]),this.data.height=D.height+1,this.data.leaf=!1,f(this.data,this.toBBox)},_chooseSplitIndex:function(D,I,R){var F,L,V,B,G,Q,H,K;for(Q=H=1/0,F=I;F<=R-I;F++)B=x(L=h(D,0,F,this.toBBox),V=h(D,F,R,this.toBBox)),G=d(L)+d(V),B<Q?(Q=B,K=F,H=G<H?G:H):B===Q&&G<H&&(H=G,K=F);return K},_chooseSplitAxis:function(D,I,R){var F=D.leaf?this.compareMinX:u,L=D.leaf?this.compareMinY:p;this._allDistMargin(D,I,R,F)<this._allDistMargin(D,I,R,L)&&D.children.sort(F)},_allDistMargin:function(D,I,R,F){D.children.sort(F);var Q,H,L=this.toBBox,V=h(D,0,I,L),B=h(D,R-I,R,L),G=g(V)+g(B);for(Q=I;Q<R-I;Q++)H=D.children[Q],c(V,D.leaf?L(H):H),G+=g(V);for(Q=R-I-1;Q>=I;Q--)H=D.children[Q],c(B,D.leaf?L(H):H),G+=g(B);return G},_adjustParentBBoxes:function(D,I,R){for(var F=R;F>=0;F--)c(I[F],D)},_condense:function(D){for(var R,I=D.length-1;I>=0;I--)0===D[I].children.length?I>0?(R=D[I-1].children).splice(R.indexOf(D[I]),1):this.clear():f(D[I],this.toBBox)},compareMinX:function(D,I){return D.left-I.left},compareMinY:function(D,I){return D.top-I.top},toBBox:function(D){return{minX:D.left,minY:D.top,maxX:D.right,maxY:D.bottom}}},C.exports=T},35072:(C,k,a)=>{var T=new(a(83419))({initialize:function(f){if(this.entries=[],Array.isArray(f))for(var h=0;h<f.length;h++)this.set(f[h])},set:function(m){return-1===this.entries.indexOf(m)&&this.entries.push(m),this},get:function(m,f){for(var h=0;h<this.entries.length;h++){var c=this.entries[h];if(c[m]===f)return c}},getArray:function(){return this.entries.slice(0)},delete:function(m){var f=this.entries.indexOf(m);return f>-1&&this.entries.splice(f,1),this},dump:function(){console.group("Set");for(var m=0;m<this.entries.length;m++)console.log(this.entries[m]);console.groupEnd()},each:function(m,f){var h,c=this.entries.slice(),u=c.length;if(f)for(h=0;h<u&&!1!==m.call(f,c[h],h);h++);else for(h=0;h<u&&!1!==m(c[h],h);h++);return this},iterate:function(m,f){var h,c=this.entries.length;if(f)for(h=0;h<c&&!1!==m.call(f,this.entries[h],h);h++);else for(h=0;h<c&&!1!==m(this.entries[h],h);h++);return this},iterateLocal:function(m){var f,h=[];for(f=1;f<arguments.length;f++)h.push(arguments[f]);var c=this.entries.length;for(f=0;f<c;f++){var u=this.entries[f];u[m].apply(u,h)}return this},clear:function(){return this.entries.length=0,this},contains:function(m){return this.entries.indexOf(m)>-1},union:function(m){var f=new T;return m.entries.forEach(function(h){f.set(h)}),this.entries.forEach(function(h){f.set(h)}),f},intersect:function(m){var f=new T;return this.entries.forEach(function(h){m.contains(h)&&f.set(h)}),f},difference:function(m){var f=new T;return this.entries.forEach(function(h){m.contains(h)||f.set(h)}),f},size:{get:function(){return this.entries.length},set:function(m){return m<this.entries.length?this.entries.length=m:this.entries.length}}});C.exports=T},86555:(C,k,a)=>{var y=a(45319),T=a(83419),m=a(56583),f=a(26099),h=new T({initialize:function(u,p,d,g){void 0===u&&(u=0),void 0===p&&(p=u),void 0===d&&(d=0),void 0===g&&(g=null),this._width=u,this._height=p,this._parent=g,this.aspectMode=d,this.aspectRatio=0===p?1:u/p,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new f},setAspectMode:function(c){return void 0===c&&(c=0),this.aspectMode=c,this.setSize(this._width,this._height)},setSnap:function(c,u){return void 0===c&&(c=0),void 0===u&&(u=c),this.snapTo.set(c,u),this.setSize(this._width,this._height)},setParent:function(c){return this._parent=c,this.setSize(this._width,this._height)},setMin:function(c,u){return void 0===c&&(c=0),void 0===u&&(u=c),this.minWidth=y(c,0,this.maxWidth),this.minHeight=y(u,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(c,u){return void 0===c&&(c=Number.MAX_VALUE),void 0===u&&(u=c),this.maxWidth=y(c,this.minWidth,Number.MAX_VALUE),this.maxHeight=y(u,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(c,u){switch(void 0===c&&(c=0),void 0===u&&(u=c),this.aspectMode){case h.NONE:this._width=this.getNewWidth(m(c,this.snapTo.x)),this._height=this.getNewHeight(m(u,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height;break;case h.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(m(c,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case h.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(m(u,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case h.FIT:this.constrain(c,u,!0);break;case h.ENVELOP:this.constrain(c,u,!1)}return this},setAspectRatio:function(c){return this.aspectRatio=c,this.setSize(this._width,this._height)},resize:function(c,u){return this._width=this.getNewWidth(m(c,this.snapTo.x)),this._height=this.getNewHeight(m(u,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height,this},getNewWidth:function(c,u){return void 0===u&&(u=!0),c=y(c,this.minWidth,this.maxWidth),u&&this._parent&&c>this._parent.width&&(c=Math.max(this.minWidth,this._parent.width)),c},getNewHeight:function(c,u){return void 0===u&&(u=!0),c=y(c,this.minHeight,this.maxHeight),u&&this._parent&&c>this._parent.height&&(c=Math.max(this.minHeight,this._parent.height)),c},constrain:function(c,u,p){void 0===c&&(c=0),void 0===u&&(u=c),void 0===p&&(p=!0),c=this.getNewWidth(c),u=this.getNewHeight(u);var d=this.snapTo,g=0===u?1:c/u;return p&&this.aspectRatio>g||!p&&this.aspectRatio<g?(u=(c=m(c,d.x))/this.aspectRatio,d.y>0&&(c=(u=m(u,d.y))*this.aspectRatio)):(p&&this.aspectRatio<g||!p&&this.aspectRatio>g)&&(c=(u=m(u,d.y))*this.aspectRatio,d.x>0&&(u=(c=m(c,d.x))*(1/this.aspectRatio))),this._width=c,this._height=u,this},fitTo:function(c,u){return this.constrain(c,u,!0)},envelop:function(c,u){return this.constrain(c,u,!1)},setWidth:function(c){return this.setSize(c,this._height)},setHeight:function(c){return this.setSize(this._width,c)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(c){c&&c.style&&(c.style.width=this._width+"px",c.style.height=this._height+"px")},copy:function(c){return c.setAspectMode(this.aspectMode),c.aspectRatio=this.aspectRatio,c.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(c){this.setSize(c,this._height)}},height:{get:function(){return this._height},set:function(c){this.setSize(this._width,c)}}});h.NONE=0,h.WIDTH_CONTROLS_HEIGHT=1,h.HEIGHT_CONTROLS_WIDTH=2,h.FIT=3,h.ENVELOP=4,C.exports=h},15238:C=>{C.exports="add"},56187:C=>{C.exports="remove"},82348:(C,k,a)=>{C.exports={PROCESS_QUEUE_ADD:a(15238),PROCESS_QUEUE_REMOVE:a(56187)}},41392:(C,k,a)=>{C.exports={Events:a(82348),List:a(73162),Map:a(90330),ProcessQueue:a(25774),RTree:a(59542),Set:a(35072),Size:a(86555)}},57382:(C,k,a)=>{var y=a(83419),T=a(45319),m=a(40987),f=a(8054),h=a(50030),c=a(79237),u=new y({Extends:c,initialize:function(d,g,v,x,b){c.call(this,d,g,v,x,b),this.add("__BASE",0,0,0,x,b),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=x,this.height=b,this.imageData=this.context.getImageData(0,0,x,b),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===f.WEBGL&&this.refresh(),this},draw:function(p,d,g,v){return void 0===v&&(v=!0),this.context.drawImage(g,p,d),v&&this.update(),this},drawFrame:function(p,d,g,v,x){void 0===g&&(g=0),void 0===v&&(v=0),void 0===x&&(x=!0);var b=this.manager.getFrame(p,d);if(b){var _=b.canvasData,E=b.cutWidth,A=b.cutHeight,D=b.source.resolution;this.context.drawImage(b.source.image,_.x,_.y,E,A,g,v,E/D,A/D),x&&this.update()}return this},setPixel:function(p,d,g,v,x,b){if(void 0===b&&(b=255),p=Math.abs(Math.floor(p)),d=Math.abs(Math.floor(d)),this.getIndex(p,d)>-1){var E=this.context.getImageData(p,d,1,1);E.data[0]=g,E.data[1]=v,E.data[2]=x,E.data[3]=b,this.context.putImageData(E,p,d)}return this},putData:function(p,d,g,v,x,b,_){return void 0===v&&(v=0),void 0===x&&(x=0),void 0===b&&(b=p.width),void 0===_&&(_=p.height),this.context.putImageData(p,d,g,v,x,b,_),this},getData:function(p,d,g,v){return p=T(Math.floor(p),0,this.width-1),d=T(Math.floor(d),0,this.height-1),g=T(g,1,this.width-p),v=T(v,1,this.height-d),this.context.getImageData(p,d,g,v)},getPixel:function(p,d,g){g||(g=new m);var v=this.getIndex(p,d);if(v>-1){var x=this.data;g.setTo(x[v+0],x[v+1],x[v+2],x[v+3])}return g},getPixels:function(p,d,g,v){void 0===p&&(p=0),void 0===d&&(d=0),void 0===g&&(g=this.width),void 0===v&&(v=g),p=Math.abs(Math.round(p)),d=Math.abs(Math.round(d));for(var x=T(p,0,this.width),b=T(p+g,0,this.width),_=T(d,0,this.height),E=T(d+v,0,this.height),A=new m,D=[],I=_;I<E;I++){for(var R=[],F=x;F<b;F++)A=this.getPixel(F,I,A),R.push({x:F,y:I,color:A.color,alpha:A.alphaGL});D.push(R)}return D},getIndex:function(p,d){return p=Math.abs(Math.round(p)),d=Math.abs(Math.round(d)),p<this.width&&d<this.height?4*(p+d*this.width):-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(p,d,g,v,x){return void 0===p&&(p=0),void 0===d&&(d=0),void 0===g&&(g=this.width),void 0===v&&(v=this.height),void 0===x&&(x=!0),this.context.clearRect(p,d,g,v),x&&this.update(),this},setSize:function(p,d){return void 0===d&&(d=p),(p!==this.width||d!==this.height)&&(this.canvas.width=p,this.canvas.height=d,this._source.width=p,this._source.height=d,this._source.isPowerOf2=h(p,d),this.frames.__BASE.setSize(p,d,0,0),this.width=p,this.height=d,this.refresh()),this},destroy:function(){c.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});C.exports=u},81320:(C,k,a)=>{var y=a(10312),T=a(38058),m=a(27919),f=a(83419),h=a(8054),c=a(4327),u=a(95540),p=a(36060),d=a(32302),g=a(79237),v=a(70554),x=new f({Extends:g,initialize:function(_,E,A,D){void 0===A&&(A=256),void 0===D&&(D=256),this.type="DynamicTexture";var I=_.game.renderer,R=I&&I.type===h.CANVAS,F=R?m.create2D(this,A,D):[this];g.call(this,_,E,F,A,D),this.add("__BASE",0,0,0,A,D),this.renderer=I,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=R?F:null,this.context=R?F.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new T(0,0,A,D).setScene(_.game.scene.systemScene,!1),this.renderTarget=R?null:new d(I,A,D,1,0,!1,!1,!0,!1),this.pipeline=R?null:I.pipelines.get(p.SINGLE_PIPELINE),this.setSize(A,D)},setSize:function(b,_){void 0===_&&(_=b);var E=this.get(),A=E.source;if(b!==this.width||_!==this.height){this.canvas&&(this.canvas.width=b,this.canvas.height=_);var D=this.renderTarget;D&&(D.willResize(b,_)&&D.resize(b,_),D.texture!==A.glTexture&&this.renderer.deleteTexture(A.glTexture),this.setFromRenderTarget()),this.camera.setSize(b,_),A.width=b,A.height=_,E.setSize(b,_),this.width=b,this.height=_}else{var I=this.getSourceImage();E.cutX+b>I.width&&(b=I.width-E.cutX),E.cutY+_>I.height&&(_=I.height-E.cutY),E.setSize(b,_,E.cutX,E.cutY)}return this},setFromRenderTarget:function(){var _=this.get().source,E=this.renderTarget;return _.isRenderTexture=!0,_.isGLTexture=!0,_.glTexture=E.texture,this},setIsSpriteTexture:function(b){return this.isSpriteTexture=b,this},fill:function(b,_,E,A,D,I){var F=this.renderer;void 0===_&&(_=1),void 0===E&&(E=0),void 0===A&&(A=0),void 0===D&&(D=this.width),void 0===I&&(I=this.height);var L=b>>16&255,V=b>>8&255,B=255&b,G=this.renderTarget;if(this.camera.preRender(),G){G.bind(!0);var Q=this.pipeline.manager.set(this.pipeline),H=F.width/G.width,K=F.height/G.height;Q.drawFillRect(E*H,(G.height-(A+I))*K,D*H,I*K,v.getTintFromFloats(B/255,V/255,L/255,1),_),G.unbind(!0)}else{var at=this.context;F.setContext(at),at.globalCompositeOperation="source-over",at.fillStyle="rgba("+L+","+V+","+B+","+_+")",at.fillRect(E,A,D,I),F.setContext()}return this.dirty=!0,this},clear:function(b,_,E,A){if(this.dirty){var D=this.context,I=this.renderTarget;I?I.clear(b,_,E,A):D&&(void 0!==b&&void 0!==_&&void 0!==E&&void 0!==A?D.clearRect(b,_,E,A):(D.save(),D.setTransform(1,0,0,1,0,0),D.clearRect(0,0,this.width,this.height),D.restore())),this.dirty=!1}return this},stamp:function(b,_,E,A,D){void 0===E&&(E=0),void 0===A&&(A=0);var I=u(D,"alpha",1),R=u(D,"tint",16777215),F=u(D,"angle",0),L=u(D,"rotation",0),V=u(D,"scale",1),B=u(D,"scaleX",V),G=u(D,"scaleY",V),Q=u(D,"originX",.5),H=u(D,"originY",.5),K=u(D,"blendMode",0),tt=u(D,"erase",!1),at=u(D,"skipBatch",!1),lt=this.manager.resetStamp(I,R);return lt.setAngle(0),0!==F?lt.setAngle(F):0!==L&&lt.setRotation(L),lt.setScale(B,G),lt.setTexture(b,_),lt.setOrigin(Q,H),lt.setBlendMode(K),tt&&(this._eraseMode=!0),at?this.batchGameObject(lt,E,A):this.draw(lt,E,A),tt&&(this._eraseMode=!1),this},erase:function(b,_,E){return this._eraseMode=!0,this.draw(b,_,E),this._eraseMode=!1,this},draw:function(b,_,E,A,D){return this.beginDraw(),this.batchDraw(b,_,E,A,D),this.endDraw(),this},drawFrame:function(b,_,E,A,D,I){return this.beginDraw(),this.batchDrawFrame(b,_,E,A,D,I),this.endDraw(),this},repeat:function(b,_,E,A,D,I,R,F,L){if(void 0===E&&(E=0),void 0===A&&(A=0),void 0===D&&(D=this.width),void 0===I&&(I=this.height),void 0===R&&(R=1),void 0===F&&(F=16777215),void 0===L&&(L=!1),!(_=b instanceof c?b:this.manager.getFrame(b,_)))return this;var V=this.manager.resetStamp(R,F);V.setFrame(_),V.setOrigin(0);var B=_.width,G=_.height;D=Math.floor(D),I=Math.floor(I);var Q=Math.ceil(D/B),H=Math.ceil(I/G),K=Q*B-D,tt=H*G-I;K>0&&(K=B-K),tt>0&&(tt=G-tt),E<0&&(Q+=Math.ceil(Math.abs(E)/B)),A<0&&(H+=Math.ceil(Math.abs(A)/G));var at=E,lt=A,J=!1,it=this.manager.stampCrop.setTo(0,0,B,G);L||this.beginDraw();for(var Y=0;Y<H;Y++)if(lt+G<0)lt+=G;else{for(var X=0;X<Q;X++)J=!1,at+B<0||(at<0&&(J=!0,it.width=B+at,it.x=B-it.width),lt<0&&(J=!0,it.height=G+lt,it.y=G-it.height),K>0&&X===Q-1&&(J=!0,it.width=K),tt>0&&Y===H-1&&(J=!0,it.height=tt),J&&V.setCrop(it),this.batchGameObject(V,at,lt),V.isCropped=!1,it.setTo(0,0,B,G)),at+=B;at=E,lt+=G}return L||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var _=this.renderer,E=this.renderTarget;this.camera.preRender(),E?_.beginCapture(E.width,E.height):_.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(b,_,E,A,D){return Array.isArray(b)||(b=[b]),this.batchList(b,_,E,A,D),this},batchDrawFrame:function(b,_,E,A,D,I){void 0===E&&(E=0),void 0===A&&(A=0),void 0===D&&(D=1),void 0===I&&(I=16777215);var R=this.manager.getFrame(b,_);return R&&(this.renderTarget?this.pipeline.batchTextureFrame(R,E,A,I,D,this.camera.matrix,null):this.batchTextureFrame(R,E,A,D,I)),this},endDraw:function(b){if(void 0===b&&(b=this._eraseMode),this.isDrawing){var _=this.renderer,E=this.renderTarget;if(E){var A=_.endCapture();_.pipelines.setUtility().blitFrame(A,E,1,!1,!1,b,this.isSpriteTexture),_.resetScissor(),_.resetViewport()}else _.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(b,_,E,A,D){var I=b.length;if(0!==I)for(var R=0;R<I;R++){var F=b[R];!F||F===this||(F.renderWebGL||F.renderCanvas?this.batchGameObject(F,_,E):F.isParent||F.list?this.batchGroup(F.getChildren(),_,E):"string"==typeof F?this.batchTextureFrameKey(F,null,_,E,A,D):F instanceof c?this.batchTextureFrame(F,_,E,A,D):Array.isArray(F)&&this.batchList(F,_,E,A,D))}},batchGroup:function(b,_,E){void 0===_&&(_=0),void 0===E&&(E=0);for(var A=0;A<b.length;A++){var D=b[A];D.willRender(this.camera)&&this.batchGameObject(D,D.x+_,D.y+E)}},batchGameObject:function(b,_,E){void 0===_&&(_=b.x),void 0===E&&(E=b.y);var A=b.x,D=b.y,I=this.camera,R=this.renderer,F=this._eraseMode,L=b.mask;if(b.setPosition(_,E),this.canvas){if(F){var V=b.blendMode;b.blendMode=y.ERASE}L&&L.preRenderCanvas(R,b,I),b.renderCanvas(R,b,I,null),L&&L.postRenderCanvas(R,b,I),F&&(b.blendMode=V)}else R&&(L&&L.preRenderWebGL(R,b,I),F||R.setBlendMode(b.blendMode),b.renderWebGL(R,b,I),L&&L.postRenderWebGL(R,I,this.renderTarget));b.setPosition(A,D)},batchTextureFrameKey:function(b,_,E,A,D,I){var R=this.manager.getFrame(b,_);R&&this.batchTextureFrame(R,E,A,D,I)},batchTextureFrame:function(b,_,E,A,D){void 0===_&&(_=0),void 0===E&&(E=0),void 0===A&&(A=1),void 0===D&&(D=16777215);var I=this.camera.matrix;if(this.renderTarget)this.pipeline.batchTextureFrame(b,_,E,D,A,I,null);else{var F=this.context,L=b.canvasData,V=b.source.image;F.save(),F.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",F.globalAlpha=A,I.setToContext(F),L.width>0&&L.height>0&&F.drawImage(V,L.x,L.y,L.width,L.height,_,E,L.width,L.height),F.restore()}},snapshotArea:function(b,_,E,A,D,I,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,D,!1,b,_,E,A,I,R):this.renderer.snapshotCanvas(this.canvas,D,!1,b,_,E,A,I,R),this},snapshot:function(b,_,E){return this.snapshotArea(0,0,this.width,this.height,b,_,E)},snapshotPixel:function(b,_,E){return this.snapshotArea(b,_,1,1,E,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(b,_,E,A){var D=this.manager.resetStamp();D.setTexture(this),D.setOrigin(0),D.renderWebGL(b,D,E,A)},renderCanvas:function(){},destroy:function(){var b=this.manager.stamp;b&&b.texture===this&&this.manager.resetStamp(),g.prototype.destroy.call(this),m.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});C.exports=x},4327:(C,k,a)=>{var y=a(83419),T=a(45319),m=a(79291),f=new y({initialize:function(c,u,p,d,g,v,x){this.texture=c,this.name=u,this.source=c.source[p],this.sourceIndex=p,this.x=0,this.y=0,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(v,x,d,g)},setCutPosition:function(h,c){return void 0===h&&(h=0),void 0===c&&(c=0),this.cutX=h,this.cutY=c,this.updateUVs()},setCutSize:function(h,c){return this.cutWidth=h,this.cutHeight=c,this.updateUVs()},setSize:function(h,c,u,p){void 0===u&&(u=0),void 0===p&&(p=0),this.setCutPosition(u,p),this.setCutSize(h,c),this.width=h,this.height=c,this.halfWidth=Math.floor(.5*h),this.halfHeight=Math.floor(.5*c),this.centerX=Math.floor(h/2),this.centerY=Math.floor(c/2);var d=this.data,g=d.cut;g.x=u,g.y=p,g.w=h,g.h=c,g.r=u+h,g.b=p+c,d.sourceSize.w=h,d.sourceSize.h=c,d.spriteSourceSize.w=h,d.spriteSourceSize.h=c,d.radius=.5*Math.sqrt(h*h+c*c);var v=d.drawImage;return v.x=u,v.y=p,v.width=h,v.height=c,this.updateUVs()},setTrim:function(h,c,u,p,d,g){var v=this.data,x=v.spriteSourceSize;return v.trim=!0,v.sourceSize.w=h,v.sourceSize.h=c,x.x=u,x.y=p,x.w=d,x.h=g,x.r=u+d,x.b=p+g,this.x=u,this.y=p,this.width=d,this.height=g,this.halfWidth=.5*d,this.halfHeight=.5*g,this.centerX=Math.floor(d/2),this.centerY=Math.floor(g/2),this.updateUVs()},setScale9:function(h,c,u,p){var d=this.data;return d.scale9=!0,d.is3Slice=0===c&&p===this.height,d.scale9Borders.x=h,d.scale9Borders.y=c,d.scale9Borders.w=u,d.scale9Borders.h=p,this},setCropUVs:function(h,c,u,p,d,g,v){var x=this.cutX,b=this.cutY,_=this.cutWidth,E=this.cutHeight,A=this.realWidth,D=this.realHeight,I=x+(c=T(c,0,A)),R=b+(u=T(u,0,D)),F=p=T(p,0,A-c),L=d=T(d,0,D-u),V=this.data;if(V.trim){var B=V.spriteSourceSize,G=c+(p=T(p,0,_-c)),Q=u+(d=T(d,0,E-u));if(B.r<c||B.b<u||B.x>G||B.y>Q)I=0,R=0,F=0,L=0;else{var K=Math.max(B.x,c),tt=Math.max(B.y,u),at=Math.min(B.r,G)-K,lt=Math.min(B.b,Q)-tt;F=at,L=lt,I=g?x+(_-(K-B.x)-at):x+(K-B.x),R=v?b+(E-(tt-B.y)-lt):b+(tt-B.y),c=K,u=tt,p=at,d=lt}}else g&&(I=x+(_-c-p)),v&&(R=b+(E-u-d));var J=this.source.width,it=this.source.height;return h.u0=Math.max(0,I/J),h.v0=Math.max(0,R/it),h.u1=Math.min(1,(I+F)/J),h.v1=Math.min(1,(R+L)/it),h.x=c,h.y=u,h.cx=I,h.cy=R,h.cw=F,h.ch=L,h.width=p,h.height=d,h.flipX=g,h.flipY=v,h},updateCropUVs:function(h,c,u){return this.setCropUVs(h,h.x,h.y,h.width,h.height,c,u)},setUVs:function(h,c,u,p,d,g){var v=this.data.drawImage;return v.width=h,v.height=c,this.u0=u,this.v0=p,this.u1=d,this.v1=g,this},updateUVs:function(){var h=this.cutX,c=this.cutY,u=this.cutWidth,p=this.cutHeight,d=this.data.drawImage;d.width=u,d.height=p;var g=this.source.width,v=this.source.height;return this.u0=h/g,this.v0=c/v,this.u1=(h+u)/g,this.v1=(c+p)/v,this},updateUVsInverted:function(){var h=this.source.width,c=this.source.height;return this.u0=(this.cutX+this.cutHeight)/h,this.v0=this.cutY/c,this.u1=this.cutX/h,this.v1=(this.cutY+this.cutWidth)/c,this},clone:function(){var h=new f(this.texture,this.name,this.sourceIndex);return h.cutX=this.cutX,h.cutY=this.cutY,h.cutWidth=this.cutWidth,h.cutHeight=this.cutHeight,h.x=this.x,h.y=this.y,h.width=this.width,h.height=this.height,h.halfWidth=this.halfWidth,h.halfHeight=this.halfHeight,h.centerX=this.centerX,h.centerY=this.centerY,h.rotated=this.rotated,h.data=m(!0,h.data,this.data),h.updateUVs(),h},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});C.exports=f},79237:(C,k,a)=>{var y=a(83419),T=a(4327),m=a(11876),f='Texture "%s" has no frame "%s"',h=new y({initialize:function(u,p,d,g,v){Array.isArray(d)||(d=[d]),this.manager=u,this.key=p,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var x=0;x<d.length;x++)this.source.push(new m(this,d[x],g,v))},add:function(c,u,p,d,g,v){if(this.has(c))return null;var x=new T(this,c,u,p,d,g,v);return this.frames[c]=x,"__BASE"===this.firstFrame&&(this.firstFrame=c),this.frameTotal++,x},remove:function(c){return!!this.has(c)&&(this.get(c).destroy(),delete this.frames[c],!0)},has:function(c){return this.frames.hasOwnProperty(c)},get:function(c){c||(c=this.firstFrame);var u=this.frames[c];return u||(console.warn(f,this.key,c),u=this.frames[this.firstFrame]),u},getTextureSourceIndex:function(c){for(var u=0;u<this.source.length;u++)if(this.source[u]===c)return u;return-1},getFramesFromTextureSource:function(c,u){void 0===u&&(u=!1);var p=[];for(var d in this.frames)if("__BASE"!==d||u){var g=this.frames[d];g.sourceIndex===c&&p.push(g)}return p},getFrameBounds:function(c){void 0===c&&(c=0);for(var u=this.getFramesFromTextureSource(c,!0),p=u[0],d=p.cutX,g=p.cutY,v=p.cutX+p.cutWidth,x=p.cutY+p.cutHeight,b=1;b<u.length;b++){var _=u[b];_.cutX<d&&(d=_.cutX),_.cutY<g&&(g=_.cutY),_.cutX+_.cutWidth>v&&(v=_.cutX+_.cutWidth),_.cutY+_.cutHeight>x&&(x=_.cutY+_.cutHeight)}return{x:d,y:g,width:v-d,height:x-g}},getFrameNames:function(c){void 0===c&&(c=!1);var u=Object.keys(this.frames);if(!c){var p=u.indexOf("__BASE");-1!==p&&u.splice(p,1)}return u},getSourceImage:function(c){(null==c||1===this.frameTotal)&&(c="__BASE");var u=this.frames[c];return u?u.source.image:(console.warn(f,this.key,c),this.frames.__BASE.source.image)},getDataSourceImage:function(c){(null==c||1===this.frameTotal)&&(c="__BASE");var p,u=this.frames[c];return u?p=u.sourceIndex:(console.warn(f,this.key,c),p=this.frames.__BASE.sourceIndex),this.dataSource[p].image},setDataSource:function(c){Array.isArray(c)||(c=[c]);for(var u=0;u<c.length;u++){var p=this.source[u];this.dataSource.push(new m(this,c[u],p.width,p.height))}},setFilter:function(c){var u;for(u=0;u<this.source.length;u++)this.source[u].setFilter(c);for(u=0;u<this.dataSource.length;u++)this.dataSource[u].setFilter(c)},destroy:function(){var c,u=this.source,p=this.dataSource;for(c=0;c<u.length;c++)u[c]&&u[c].destroy();for(c=0;c<p.length;c++)p[c]&&p[c].destroy();for(var d in this.frames){var g=this.frames[d];g&&g.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});C.exports=h},17130:(C,k,a)=>{var y=a(27919),T=a(57382),m=a(83419),f=a(40987),h=a(8054),c=a(81320),u=a(50792),p=a(69442),d=a(4327),g=a(8443),v=a(99584),x=a(35154),b=a(88571),_=a(41212),E=a(61309),A=a(87841),D=a(79237),I=new m({Extends:u,initialize:function(F){u.call(this),this.game=F,this.name="TextureManager",this.list={},this._tempCanvas=y.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stampCrop=new A,this.silentWarnings=!1,F.events.once(g.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(p.LOAD,this.updatePending,this),this.on(p.ERROR,this.updatePending,this);var R=this.game.config;null!==R.defaultImage&&this.addBase64("__DEFAULT",R.defaultImage),null!==R.missingImage&&this.addBase64("__MISSING",R.missingImage),null!==R.whiteImage&&this.addBase64("__WHITE",R.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(g.DESTROY,this.destroy,this),this.game.events.once(g.SYSTEM_READY,function(F){this.stamp=new b(F).setOrigin(0)},this)},updatePending:function(){this._pending--,0===this._pending&&(this.off(p.LOAD),this.off(p.ERROR),this.emit(p.READY))},checkKey:function(R){return!(!R||"string"!=typeof R||this.exists(R))||(this.silentWarnings||console.error("Texture key already in use: "+R),!1)},remove:function(R){if("string"==typeof R){if(!this.exists(R))return this.silentWarnings||console.warn("No texture found matching key: "+R),this;R=this.get(R)}var F=R.key;return this.list.hasOwnProperty(F)&&(R.destroy(),this.emit(p.REMOVE,F),this.emit(p.REMOVE_KEY+F)),this},removeKey:function(R){return this.list.hasOwnProperty(R)&&delete this.list[R],this},addBase64:function(R,F){if(this.checkKey(R)){var L=this,V=new Image;V.onerror=function(){L.emit(p.ERROR,R)},V.onload=function(){var B=L.create(R,V);E.Image(B,0),L.emit(p.ADD,R,B),L.emit(p.ADD_KEY+R,B),L.emit(p.LOAD,R,B)},V.src=F}return this},getBase64:function(R,F,L,V){void 0===L&&(L="image/png"),void 0===V&&(V=.92);var B="",G=this.getFrame(R,F);if(G&&(G.source.isRenderTexture||G.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(G){var Q=G.canvasData,H=y.create2D(this,Q.width,Q.height),K=H.getContext("2d",{willReadFrequently:!0});Q.width>0&&Q.height>0&&K.drawImage(G.source.image,Q.x,Q.y,Q.width,Q.height,0,0,Q.width,Q.height),B=H.toDataURL(L,V),y.remove(H)}return B},addImage:function(R,F,L){var V=null;return this.checkKey(R)&&(V=this.create(R,F),E.Image(V,0),L&&V.setDataSource(L),this.emit(p.ADD,R,V),this.emit(p.ADD_KEY+R,V)),V},addGLTexture:function(R,F){var L=null;if(this.checkKey(R)){var V=F.width,B=F.height;(L=this.create(R,F,V,B)).add("__BASE",0,0,0,V,B),this.emit(p.ADD,R,L),this.emit(p.ADD_KEY+R,L)}return L},addCompressedTexture:function(R,F,L){var V=null;if(this.checkKey(R)){if((V=this.create(R,F)).add("__BASE",0,0,0,F.width,F.height),L){var B=function(Q,H,K){Array.isArray(K.textures)||Array.isArray(K.frames)?E.JSONArray(Q,H,K):E.JSONHash(Q,H,K)};if(Array.isArray(L))for(var G=0;G<L.length;G++)B(V,G,L[G]);else B(V,0,L)}this.emit(p.ADD,R,V),this.emit(p.ADD_KEY+R,V)}return V},addRenderTexture:function(R,F){var L=null;return this.checkKey(R)&&((L=this.create(R,F)).add("__BASE",0,0,0,F.width,F.height),this.emit(p.ADD,R,L),this.emit(p.ADD_KEY+R,L)),L},generate:function(R,F){if(this.checkKey(R)){var L=y.create(this,1,1);return F.canvas=L,v(F),this.addCanvas(R,L)}return null},createCanvas:function(R,F,L){if(void 0===F&&(F=256),void 0===L&&(L=256),this.checkKey(R)){var V=y.create(this,F,L,h.CANVAS,!0);return this.addCanvas(R,V)}return null},addCanvas:function(R,F,L){void 0===L&&(L=!1);var V=null;return L?V=new T(this,R,F,F.width,F.height):this.checkKey(R)&&(V=new T(this,R,F,F.width,F.height),this.list[R]=V,this.emit(p.ADD,R,V),this.emit(p.ADD_KEY+R,V)),V},addDynamicTexture:function(R,F,L){var V=null;return"string"!=typeof R||this.exists(R)?R=(V=R).key:V=new c(this,R,F,L),this.checkKey(R)?(this.list[R]=V,this.emit(p.ADD,R,V),this.emit(p.ADD_KEY+R,V)):V=null,V},addAtlas:function(R,F,L,V){return Array.isArray(L.textures)||Array.isArray(L.frames)?this.addAtlasJSONArray(R,F,L,V):this.addAtlasJSONHash(R,F,L,V)},addAtlasJSONArray:function(R,F,L,V){var B=null;if(F instanceof D?(R=F.key,B=F):this.checkKey(R)&&(B=this.create(R,F)),B){if(Array.isArray(L))for(var G=1===L.length,Q=0;Q<B.source.length;Q++)E.JSONArray(B,Q,G?L[0]:L[Q]);else E.JSONArray(B,0,L);V&&B.setDataSource(V),this.emit(p.ADD,R,B),this.emit(p.ADD_KEY+R,B)}return B},addAtlasJSONHash:function(R,F,L,V){var B=null;if(F instanceof D?(R=F.key,B=F):this.checkKey(R)&&(B=this.create(R,F)),B){if(Array.isArray(L))for(var G=0;G<L.length;G++)E.JSONHash(B,G,L[G]);else E.JSONHash(B,0,L);V&&B.setDataSource(V),this.emit(p.ADD,R,B),this.emit(p.ADD_KEY+R,B)}return B},addAtlasXML:function(R,F,L,V){var B=null;return F instanceof D?(R=F.key,B=F):this.checkKey(R)&&(B=this.create(R,F)),B&&(E.AtlasXML(B,0,L),V&&B.setDataSource(V),this.emit(p.ADD,R,B),this.emit(p.ADD_KEY+R,B)),B},addUnityAtlas:function(R,F,L,V){var B=null;return F instanceof D?(R=F.key,B=F):this.checkKey(R)&&(B=this.create(R,F)),B&&(E.UnityYAML(B,0,L),V&&B.setDataSource(V),this.emit(p.ADD,R,B),this.emit(p.ADD_KEY+R,B)),B},addSpriteSheet:function(R,F,L,V){var B=null;return F instanceof D?(R=F.key,B=F):this.checkKey(R)&&(B=this.create(R,F)),B&&(E.SpriteSheet(B,0,0,0,B.source[0].width,B.source[0].height,L),V&&B.setDataSource(V),this.emit(p.ADD,R,B),this.emit(p.ADD_KEY+R,B)),B},addSpriteSheetFromAtlas:function(R,F){if(!this.checkKey(R))return null;var L=x(F,"atlas",null),V=x(F,"frame",null);if(L&&V){var G=this.get(L).get(V);if(G){var Q=G.source.image;Q||(Q=G.source.glTexture);var H=this.create(R,Q);return G.trimmed?E.SpriteSheetFromAtlas(H,G,F):E.SpriteSheet(H,0,G.cutX,G.cutY,G.cutWidth,G.cutHeight,F),this.emit(p.ADD,R,H),this.emit(p.ADD_KEY+R,H),H}}},addUint8Array:function(R,F,L,V){if(!this.checkKey(R)||F.length/4!=L*V)return null;var B=this.create(R,F,L,V);return B.add("__BASE",0,0,0,L,V),this.emit(p.ADD,R,B),this.emit(p.ADD_KEY+R,B),B},create:function(R,F,L,V){var B=null;return this.checkKey(R)&&(B=new D(this,R,F,L,V),this.list[R]=B),B},exists:function(R){return this.list.hasOwnProperty(R)},get:function(R){return void 0===R&&(R="__DEFAULT"),this.list[R]?this.list[R]:R instanceof D?R:R instanceof d?R.texture:this.list.__MISSING},cloneFrame:function(R,F){if(this.list[R])return this.list[R].get(F).clone()},getFrame:function(R,F){if(this.list[R])return this.list[R].get(F)},parseFrame:function(R){if(R)return"string"==typeof R?this.getFrame(R):Array.isArray(R)&&2===R.length?this.getFrame(R[0],R[1]):_(R)?this.getFrame(R.key,R.frame):R instanceof D?R.get():R instanceof d?R:void 0},getTextureKeys:function(){var R=[];for(var F in this.list)"__DEFAULT"!==F&&"__MISSING"!==F&&"__WHITE"!==F&&"__NORMAL"!==F&&R.push(F);return R},getPixel:function(R,F,L,V){var B=this.getFrame(L,V);if(B){R-=B.x,F-=B.y;var G=B.data.cut;if(F+=G.y,(R+=G.x)>=G.x&&R<G.r&&F>=G.y&&F<G.b){var Q=this._tempContext;Q.clearRect(0,0,1,1),Q.drawImage(B.source.image,R,F,1,1,0,0,1,1);var H=Q.getImageData(0,0,1,1);return new f(H.data[0],H.data[1],H.data[2],H.data[3])}}return null},getPixelAlpha:function(R,F,L,V){var B=this.getFrame(L,V);if(B){R-=B.x,F-=B.y;var G=B.data.cut;if(F+=G.y,(R+=G.x)>=G.x&&R<G.r&&F>=G.y&&F<G.b){var Q=this._tempContext;return Q.clearRect(0,0,1,1),Q.drawImage(B.source.image,R,F,1,1,0,0,1,1),Q.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(R,F,L){return this.list[F]&&(R.texture=this.list[F],R.frame=R.texture.get(L)),R},renameTexture:function(R,F){var L=this.get(R);return!(!L||R===F||(L.key=F,this.list[F]=L,delete this.list[R],0))},each:function(R,F){for(var L=[null],V=1;V<arguments.length;V++)L.push(arguments[V]);for(var B in this.list)L[0]=this.list[B],R.apply(F,L)},resetStamp:function(R,F){void 0===R&&(R=1),void 0===F&&(F=16777215);var L=this.stamp;return L.setCrop(),L.setPosition(0),L.setAngle(0),L.setScale(1),L.setAlpha(R),L.setTint(F),L.setTexture("__WHITE"),L},destroy:function(){for(var R in this.list)this.list[R].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,y.remove(this._tempCanvas)}});C.exports=I},11876:(C,k,a)=>{var y=a(27919),T=a(83419),m=a(50030),f=a(29795),h=a(82751),c=new T({initialize:function(p,d,g,v,x){void 0===x&&(x=!1);var b=p.manager.game;this.renderer=b.renderer,this.texture=p,this.source=d,this.image=d.compressed?null:d,this.compressionAlgorithm=d.compressed?d.format:null,this.resolution=1,this.width=g||d.naturalWidth||d.videoWidth||d.width||0,this.height=v||d.naturalHeight||d.videoHeight||d.height||0,this.scaleMode=f.DEFAULT,this.isCanvas=d instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&d instanceof HTMLVideoElement,this.isRenderTexture="RenderTexture"===d.type||"DynamicTexture"===d.type,this.isGLTexture=d instanceof h,this.isPowerOf2=m(this.width,this.height),this.glTexture=null,this.flipY=x,this.init(b)},init:function(u){var p=this.renderer;if(p){var d=this.source;if(p.gl){var g=this.image,v=this.flipY,x=this.width,b=this.height,_=this.scaleMode;this.glTexture=this.isCanvas?p.createCanvasTexture(g,!1,v):this.isVideo?p.createVideoTexture(g,!1,v):this.isRenderTexture?p.createTextureFromSource(null,x,b,_):this.isGLTexture?d:this.compressionAlgorithm?p.createTextureFromSource(d,void 0,void 0,_):d instanceof Uint8Array?p.createUint8ArrayTexture(d,x,b,_):p.createTextureFromSource(g,x,b,_)}else this.isRenderTexture&&(this.image=d.canvas)}u.config.antialias||this.setFilter(1)},setFilter:function(u){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,u),this.scaleMode=u},setFlipY:function(u){return void 0===u&&(u=!0),u===this.flipY||(this.flipY=u,this.update()),this},update:function(){var u=this.renderer,p=this.image,d=this.flipY,g=u.gl;g&&this.isCanvas?u.updateCanvasTexture(p,this.glTexture,d):g&&this.isVideo&&u.updateVideoTexture(p,this.glTexture,d)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&y.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});C.exports=c},19673:C=>{C.exports={LINEAR:0,NEAREST:1}},44538:C=>{C.exports="addtexture"},63486:C=>{C.exports="addtexture-"},94851:C=>{C.exports="onerror"},29099:C=>{C.exports="onload"},8678:C=>{C.exports="ready"},86415:C=>{C.exports="removetexture"},30879:C=>{C.exports="removetexture-"},69442:(C,k,a)=>{C.exports={ADD:a(44538),ADD_KEY:a(63486),ERROR:a(94851),LOAD:a(29099),READY:a(8678),REMOVE:a(86415),REMOVE_KEY:a(30879)}},27458:(C,k,a)=>{var y=a(79291),T=a(19673),m={CanvasTexture:a(57382),DynamicTexture:a(81320),Events:a(69442),FilterMode:T,Frame:a(4327),Parsers:a(61309),Texture:a(79237),TextureManager:a(17130),TextureSource:a(11876)};m=y(!1,m,T),C.exports=m},89905:C=>{C.exports=function(a,y,T){if(T.getElementsByTagName("TextureAtlas")){var m=a.source[y];a.add("__BASE",y,0,0,m.width,m.height);for(var h,f=T.getElementsByTagName("SubTexture"),c=0;c<f.length;c++){var u=f[c].attributes,p=u.name.value,d=parseInt(u.x.value,10),g=parseInt(u.y.value,10),v=parseInt(u.width.value,10),x=parseInt(u.height.value,10);if(h=a.add(p,y,d,g,v,x),u.frameX){var b=Math.abs(parseInt(u.frameX.value,10)),_=Math.abs(parseInt(u.frameY.value,10)),E=parseInt(u.frameWidth.value,10),A=parseInt(u.frameHeight.value,10);h.setTrim(v,x,b,_,E,A)}}return a}console.warn("Invalid Texture Atlas XML given")}},72893:C=>{C.exports=function(a,y){var T=a.source[y];return a.add("__BASE",y,0,0,T.width,T.height),a}},4832:C=>{C.exports=function(a,y){var T=a.source[y];return a.add("__BASE",y,0,0,T.width,T.height),a}},78566:(C,k,a)=>{var y=a(41786);C.exports=function(m,f,h){if(h.frames||h.textures){var c=m.source[f];m.add("__BASE",f,0,0,c.width,c.height);for(var p,u=Array.isArray(h.textures)?h.textures[f].frames:h.frames,d=0;d<u.length;d++){var g=u[d];if(p=m.add(g.filename,f,g.frame.x,g.frame.y,g.frame.w,g.frame.h)){g.trimmed&&p.setTrim(g.sourceSize.w,g.sourceSize.h,g.spriteSourceSize.x,g.spriteSourceSize.y,g.spriteSourceSize.w,g.spriteSourceSize.h),g.rotated&&(p.rotated=!0,p.updateUVsInverted());var v=g.anchor||g.pivot;v&&(p.customPivot=!0,p.pivotX=v.x,p.pivotY=v.y),g.scale9Borders&&p.setScale9(g.scale9Borders.x,g.scale9Borders.y,g.scale9Borders.w,g.scale9Borders.h),p.customData=y(g)}else console.warn("Invalid atlas json, frame already exists: "+g.filename)}for(var x in h)"frames"!==x&&(m.customData[x]=Array.isArray(h[x])?h[x].slice(0):h[x]);return m}console.warn("Invalid Texture Atlas JSON Array")}},39711:(C,k,a)=>{var y=a(41786);C.exports=function(m,f,h){if(h.frames){var c=m.source[f];m.add("__BASE",f,0,0,c.width,c.height);var p,u=h.frames;for(var d in u)if(u.hasOwnProperty(d)){var g=u[d];if(!(p=m.add(d,f,g.frame.x,g.frame.y,g.frame.w,g.frame.h))){console.warn("Invalid atlas json, frame already exists: "+d);continue}g.trimmed&&p.setTrim(g.sourceSize.w,g.sourceSize.h,g.spriteSourceSize.x,g.spriteSourceSize.y,g.spriteSourceSize.w,g.spriteSourceSize.h),g.rotated&&(p.rotated=!0,p.updateUVsInverted());var v=g.anchor||g.pivot;v&&(p.customPivot=!0,p.pivotX=v.x,p.pivotY=v.y),g.scale9Borders&&p.setScale9(g.scale9Borders.x,g.scale9Borders.y,g.scale9Borders.w,g.scale9Borders.h),p.customData=y(g)}for(var x in h)"frames"!==x&&(m.customData[x]=Array.isArray(h[x])?h[x].slice(0):h[x]);return m}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")}},31403:C=>{C.exports=function(a){var T,y=[171,75,84,88,32,49,49,187,13,10,26,10],m=new Uint8Array(a,0,12);for(T=0;T<m.length;T++)if(m[T]!==y[T])return void console.warn("KTXParser - Invalid file format");var f=Uint32Array.BYTES_PER_ELEMENT,h=new DataView(a,12,13*f),c=67305985===h.getUint32(0,!0);if(0===h.getUint32(1*f,c)){var p=h.getUint32(4*f,c),d=h.getUint32(6*f,c),g=h.getUint32(7*f,c),v=Math.max(1,h.getUint32(11*f,c)),x=h.getUint32(12*f,c),b=new Array(v),_=64+x,E=d,A=g;for(T=0;T<v;T++){var D=new Int32Array(a,_,1)[0];_+=4,b[T]={data:new Uint8Array(a,_,D),width:E,height:A},E=Math.max(1,E>>1),A=Math.max(1,A>>1),_+=D}return{mipmaps:b,width:d,height:g,internalFormat:p,compressed:!0,generateMipmap:!1}}console.warn("KTXParser - Only compressed formats supported")}},82038:C=>{function k(F,L,V,B,G,Q,H){return void 0===H&&(H=16),Math.floor((F+V)/G)*Math.floor((L+B)/Q)*H}function a(F,L){return(F=Math.max(F,16))*(L=Math.max(L,8))/4}function y(F,L){return(F=Math.max(F,8))*(L=Math.max(L,8))/2}function T(F,L){return Math.ceil(F/4)*Math.ceil(L/4)*16}function m(F,L){return k(F,L,3,3,4,4,8)}function f(F,L){return k(F,L,3,3,4,4)}var I={0:{sizeFunc:a,glFormat:[35841]},1:{sizeFunc:a,glFormat:[35843]},2:{sizeFunc:y,glFormat:[35840]},3:{sizeFunc:y,glFormat:[35842]},6:{sizeFunc:m,glFormat:[36196]},7:{sizeFunc:m,glFormat:[33776,35916]},8:{sizeFunc:f,glFormat:[33777,35917]},9:{sizeFunc:f,glFormat:[33778,35918]},11:{sizeFunc:f,glFormat:[33779,35919]},14:{sizeFunc:T,glFormat:[36494,36495]},15:{sizeFunc:T,glFormat:[36492,36493]},22:{sizeFunc:m,glFormat:[37492,37493]},23:{sizeFunc:f,glFormat:[37496,37497]},24:{sizeFunc:m,glFormat:[37494,37495]},25:{sizeFunc:m,glFormat:[37488]},26:{sizeFunc:f,glFormat:[37490]},27:{sizeFunc:f,glFormat:[37808,37840]},28:{sizeFunc:function h(F,L){return k(F,L,4,3,5,4)},glFormat:[37809,37841]},29:{sizeFunc:function c(F,L){return k(F,L,4,4,5,5)},glFormat:[37810,37842]},30:{sizeFunc:function u(F,L){return k(F,L,5,4,6,5)},glFormat:[37811,37843]},31:{sizeFunc:function p(F,L){return k(F,L,5,5,6,6)},glFormat:[37812,37844]},32:{sizeFunc:function d(F,L){return k(F,L,7,4,8,5)},glFormat:[37813,37845]},33:{sizeFunc:function g(F,L){return k(F,L,7,5,8,6)},glFormat:[37814,37846]},34:{sizeFunc:function v(F,L){return k(F,L,7,7,8,8)},glFormat:[37815,37847]},35:{sizeFunc:function x(F,L){return k(F,L,9,4,10,5)},glFormat:[37816,37848]},36:{sizeFunc:function b(F,L){return k(F,L,9,5,10,6)},glFormat:[37817,37849]},37:{sizeFunc:function _(F,L){return k(F,L,9,7,10,8)},glFormat:[37818,37850]},38:{sizeFunc:function E(F,L){return k(F,L,9,9,10,10)},glFormat:[37819,37851]},39:{sizeFunc:function A(F,L){return k(F,L,11,9,12,10)},glFormat:[37820,37852]},40:{sizeFunc:function D(F,L){return k(F,L,11,11,12,12)},glFormat:[37821,37853]}};C.exports=function(F){for(var L=new Uint32Array(F,0,13),G=55727696===L[0]?L[2]:L[3],H=I[G].glFormat[L[4]],K=I[G].sizeFunc,tt=L[11],at=L[7],lt=L[6],it=new Uint8Array(F,52+L[12]),Y=new Array(tt),X=0,nt=at,ht=lt,gt=0;gt<tt;gt++){var wt=K(nt,ht);Y[gt]={data:new Uint8Array(it.buffer,it.byteOffset+X,wt),width:nt,height:ht},nt=Math.max(1,nt>>1),ht=Math.max(1,ht>>1),X+=wt}return{mipmaps:Y,width:at,height:lt,internalFormat:H,compressed:!0,generateMipmap:!1}}},75549:(C,k,a)=>{var y=a(95540);C.exports=function(m,f,h,c,u,p,d){var g=y(d,"frameWidth",null),v=y(d,"frameHeight",g);if(null===g)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var x=m.source[f];m.add("__BASE",f,0,0,x.width,x.height);var b=y(d,"startFrame",0),_=y(d,"endFrame",-1),E=y(d,"margin",0),A=y(d,"spacing",0),R=Math.floor((u-E+A)/(g+A))*Math.floor((p-E+A)/(v+A));0===R&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",m.key),(b>R||b<-R)&&(b=0),b<0&&(b=R+b),(-1===_||_>R||_<b)&&(_=R);for(var F=E,L=E,V=0,B=0,G=0,Q=0;Q<R;Q++){V=0,B=0;var H=F+g,K=L+v;H>u&&(V=H-u),K>p&&(B=K-p),Q>=b&&Q<=_&&(m.add(G,f,h+F,c+L,g-V,v-B),G++),(F+=g+A)+g>u&&(F=E,L+=v+A)}return m}},47534:(C,k,a)=>{var y=a(95540);C.exports=function(m,f,h){var c=y(h,"frameWidth",null),u=y(h,"frameHeight",c);if(!c)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var p=m.source[0];m.add("__BASE",0,0,0,p.width,p.height);var d=y(h,"startFrame",0),g=y(h,"endFrame",-1),v=y(h,"margin",0),x=y(h,"spacing",0),b=f.cutX,_=f.cutY,E=f.cutWidth,A=f.cutHeight,D=f.realWidth,I=f.realHeight,R=Math.floor((D-v+x)/(c+x)),F=Math.floor((I-v+x)/(u+x)),L=R*F,V=f.x,B=c-V,G=c-(D-E-V),Q=f.y,H=u-Q,K=u-(I-A-Q);(d>L||d<-L)&&(d=0),d<0&&(d=L+d),-1!==g&&(L=d+(g+1));for(var tt,at=v,lt=v,J=0,Y=0;Y<F;Y++){for(var X=0===Y,nt=Y===F-1,ht=0;ht<R;ht++){var gt=0===ht,wt=ht===R-1;if(tt=m.add(J,0,b+at,_+lt,c,u),gt||X||wt||nt){var St=gt?V:0,Vt=X?Q:0,Zt=0,Jt=0;gt&&(Zt+=c-B),wt&&(Zt+=c-G),X&&(Jt+=u-H),nt&&(Jt+=u-K);var ie=c-Zt,ae=u-Jt;tt.cutWidth=ie,tt.cutHeight=ae,tt.setTrim(c,u,St,Vt,ie,ae)}at+=x,at+=gt?B:wt?G:c,J++}at=v,lt+=x,lt+=X?H:nt?K:u}return m}},86147:C=>{var k=0,a=function(T,m,f,h){T.add(f,m,h.x,k-h.y-h.height,h.width,h.height)};C.exports=function(T,m,f){var h=T.source[m];T.add("__BASE",m,0,0,h.width,h.height),k=h.height;for(var c=f.split("\n"),u=/^[ ]*(- )*(\w+)+[: ]+(.*)/,p="",d="",g={x:0,y:0,width:0,height:0},v=0;v<c.length;v++){var x=c[v].match(u);if(x){var _=x[2],E=x[3];if("- "===x[1]&&(d!==p&&(a(T,m,d,g),p=d),g={x:0,y:0,width:0,height:0}),"name"===_){d=E;continue}switch(_){case"x":case"y":case"width":case"height":g[_]=parseInt(E,10)}}}return d!==p&&a(T,m,d,g),T}},55222:(C,k,a)=>{var y=a(50030);function m(p){for(var d=p.mipmaps,g=0;g<d.length;g++){var v=d[g].width,x=d[g].height;if((v<<g)%4!=0||(x<<g)%4!=0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+g+" is "+v+"x"+x),!1}return!0}function f(){return!0}function h(p){var g=p.mipmaps[0];return!!y(g.width,g.height)||(console.warn("PVRTC base dimensions must be power of two. Base level is "+g.width+"x"+g.height),!1)}function c(p){var g=p.mipmaps[0];return g.width%4==0&&g.height%4==0||(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+g.width+"x"+g.height+" pixels"),!1)}var u={37488:f,37489:f,37490:f,37491:f,37492:f,37493:f,37494:f,37495:f,37496:f,37497:f,36196:f,37808:f,37809:f,37810:f,37811:f,37812:f,37813:f,37814:f,37815:f,37816:f,37817:f,37818:f,37819:f,37820:f,37821:f,37840:f,37841:f,37842:f,37843:f,37844:f,37845:f,37846:f,37847:f,37848:f,37849:f,37850:f,37851:f,37852:f,37853:f,36492:m,36493:m,36494:m,36495:m,36283:m,36284:m,36285:m,36286:m,35840:h,35841:h,35842:h,35843:h,33776:m,33777:m,33778:m,33779:m,35916:c,35917:c,35918:c,35919:c};C.exports=function(p){for(var d=p.mipmaps,g=1;g<d.length;g++){var v=d[g].width,x=d[g].height;if(!y(v,x))return console.warn("Mip level "+g+" is not a power-of-two size: "+v+"x"+x),!1}var b=u[p.internalFormat];return b?b(p):(console.warn("No format checker found for internal format "+p.internalFormat+". Assuming valid."),!0)}},61309:(C,k,a)=>{C.exports={AtlasXML:a(89905),Canvas:a(72893),Image:a(4832),JSONArray:a(78566),JSONHash:a(39711),KTXParser:a(31403),PVRParser:a(82038),SpriteSheet:a(75549),SpriteSheetFromAtlas:a(47534),UnityYAML:a(86147)}},80341:C=>{C.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(C,k,a)=>{var T=new(a(83419))({initialize:function(f,h,c,u,p,d,g){(void 0===c||c<=0)&&(c=32),(void 0===u||u<=0)&&(u=32),void 0===p&&(p=0),void 0===d&&(d=0),this.name=f,this.firstgid=0|h,this.imageWidth=0|c,this.imageHeight=0|u,this.imageMargin=0|p,this.imageSpacing=0|d,this.properties=g||{},this.images=[],this.total=0},containsImageIndex:function(m){return m>=this.firstgid&&m<this.firstgid+this.total},addImage:function(m,f){return this.images.push({gid:m,image:f}),this.total++,this}});C.exports=T},27462:(C,k,a)=>{var T=new(a(83419))({initialize:function(f){if(this.gids=[],void 0!==f)for(var h=0;h<f.length;++h)for(var c=f[h],u=0;u<c.total;++u)this.gids[c.firstgid+u]=c;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(m){this.gids=m?this._gids:void 0}},getTypeIncludingTile:function(m){if(void 0!==m.type&&""!==m.type)return m.type;if(this.gids&&void 0!==m.gid){var f=this.gids[m.gid];if(f){var h=f.getTileData(m.gid);if(h)return h.type}}},setTextureAndFrame:function(m,f,h,c){if(null===f&&this.gids&&void 0!==c.gid){var u=this.gids[c.gid];u&&(null===f&&void 0!==u.image&&(f=u.image.key),null===h&&(h=c.gid-u.firstgid),m.scene.textures.getFrame(f,h)||(f=null,h=null))}m.setTexture(f,h)},setPropertiesFromTiledObject:function(m,f){if(void 0!==this.gids&&void 0!==f.gid){var h=this.gids[f.gid];void 0!==h&&this.setFromJSON(m,h.getTileProperties(f.gid))}this.setFromJSON(m,f.properties)},setFromJSON:function(m,f){if(f){if(Array.isArray(f)){for(var h=0;h<f.length;h++){var c=f[h];void 0!==m[c.name]?m[c.name]=c.value:m.setData(c.name,c.value)}return}for(var u in f)void 0!==m[u]?m[u]=f[u]:m.setData(u,f[u])}}});C.exports=T},31989:(C,k,a)=>{var y=a(80341),T=a(87010),m=a(46177),f=a(49075);C.exports=function(c,u,p,d,g,v,x,b){void 0===p&&(p=32),void 0===d&&(d=32),void 0===g&&(g=10),void 0===v&&(v=10),void 0===b&&(b=!1);var _=null;if(Array.isArray(x))_=m(void 0!==u?u:"map",y.ARRAY_2D,x,p,d,b);else if(void 0!==u){var A=c.cache.tilemap.get(u);A?_=m(u,A.format,A.data,p,d,b):console.warn("No map data found for key "+u)}return null===_&&(_=new T({tileWidth:p,tileHeight:d,width:g,height:v})),new f(c,_)}},23029:(C,k,a)=>{var y=a(83419),T=a(31401),m=a(91907),f=a(62644),h=a(93232),c=new y({Mixins:[T.AlphaSingle,T.Flip,T.Visible],initialize:function(p,d,g,v,x,b,_,E){this.layer=p,this.index=d,this.x=g,this.y=v,this.width=x,this.height=b,this.baseWidth=void 0!==_?_:x,this.baseHeight=void 0!==E?E:b,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(u,p){return!(u<this.pixelX||p<this.pixelY||u>this.right||p>this.bottom)},copy:function(u){return this.index=u.index,this.alpha=u.alpha,this.properties=f(u.properties),this.visible=u.visible,this.setFlip(u.flipX,u.flipY),this.tint=u.tint,this.rotation=u.rotation,this.collideUp=u.collideUp,this.collideDown=u.collideDown,this.collideLeft=u.collideLeft,this.collideRight=u.collideRight,this.collisionCallback=u.collisionCallback,this.collisionCallbackContext=u.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(u){var p=this.tilemapLayer;return p?p.tileToWorldXY(this.x,this.y,void 0,u).x:this.x*this.baseWidth},getRight:function(u){var p=this.tilemapLayer;return p?this.getLeft(u)+this.width*p.scaleX:this.getLeft(u)+this.width},getTop:function(u){var p=this.tilemapLayer;return p?p.tileToWorldXY(this.x,this.y,void 0,u).y:this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(u){var p=this.tilemapLayer;return p?this.getTop(u)+this.height*p.scaleY:this.getTop(u)+this.height},getBounds:function(u,p){return void 0===p&&(p=new h),p.x=this.getLeft(u),p.y=this.getTop(u),p.width=this.getRight(u)-p.x,p.height=this.getBottom(u)-p.y,p},getCenterX:function(u){return(this.getLeft(u)+this.getRight(u))/2},getCenterY:function(u){return(this.getTop(u)+this.getBottom(u))/2},intersects:function(u,p,d,g){return!(d<=this.pixelX||g<=this.pixelY||u>=this.right||p>=this.bottom)},isInteresting:function(u,p){return u&&p?this.canCollide||this.hasInterestingFace:u?this.collides:!!p&&this.hasInterestingFace},resetCollision:function(u){return void 0===u&&(u=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,u&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(u,p,d,g,v){return void 0===p&&(p=u),void 0===d&&(d=u),void 0===g&&(g=u),void 0===v&&(v=!0),this.collideLeft=u,this.collideRight=p,this.collideUp=d,this.collideDown=g,this.faceLeft=u,this.faceRight=p,this.faceTop=d,this.faceBottom=g,v&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},setCollisionCallback:function(u,p){return null===u?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=u,this.collisionCallbackContext=p),this},setSize:function(u,p,d,g){return void 0!==u&&(this.width=u),void 0!==p&&(this.height=p),void 0!==d&&(this.baseWidth=d),void 0!==g&&(this.baseHeight=g),this.updatePixelXY(),this},updatePixelXY:function(){var u=this.layer.orientation;if(u===m.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(u===m.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(u===m.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(u===m.HEXAGONAL){var x,p=this.layer.staggerAxis,d=this.layer.staggerIndex,g=this.layer.hexSideLength;"y"===p?(x=(this.baseHeight-g)/2+g,this.pixelX="odd"===d?this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*x):"x"===p&&(this.pixelX=this.x*((this.baseWidth-g)/2+g),this.pixelY="odd"===d?this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||void 0!==this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var u=this.layer.tilemapLayer;if(u){var p=u.gidMap[this.index];if(p)return p}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var u=this.tilemapLayer;return u?u.tilemap:null}}});C.exports=c},49075:(C,k,a)=>{var y=a(84101),T=a(83419),m=a(39506),f=a(80341),h=a(95540),c=a(14977),u=a(27462),p=a(91907),d=a(36305),g=a(19133),v=a(68287),x=a(23029),b=a(81086),_=a(20442),E=a(33629),A=new T({initialize:function(I,R){this.scene=I,this.tileWidth=R.tileWidth,this.tileHeight=R.tileHeight,this.width=R.width,this.height=R.height,this.orientation=R.orientation,this.renderOrder=R.renderOrder,this.format=R.format,this.version=R.version,this.properties=R.properties,this.widthInPixels=R.widthInPixels,this.heightInPixels=R.heightInPixels,this.imageCollections=R.imageCollections,this.images=R.images,this.layers=R.layers,this.tiles=R.tiles,this.tilesets=R.tilesets,this.objects=R.objects,this.currentLayerIndex=0,this.hexSideLength=R.hexSideLength;var F=this.orientation;this._convert={WorldToTileXY:b.GetWorldToTileXYFunction(F),WorldToTileX:b.GetWorldToTileXFunction(F),WorldToTileY:b.GetWorldToTileYFunction(F),TileToWorldXY:b.GetTileToWorldXYFunction(F),TileToWorldX:b.GetTileToWorldXFunction(F),TileToWorldY:b.GetTileToWorldYFunction(F),GetTileCorners:b.GetTileCornersFunction(F)}},setRenderOrder:function(D){var I=["right-down","left-down","right-up","left-up"];return"number"==typeof D&&(D=I[D]),I.indexOf(D)>-1&&(this.renderOrder=D),this},addTilesetImage:function(D,I,R,F,L,V,B,G){if(void 0===D)return null;null==I&&(I=D);var Q=this.scene.sys.textures;if(!Q.exists(I))return console.warn('Texture key "%s" not found',I),null;var H=Q.get(I),K=this.getTilesetIndex(D);if(null===K&&this.format===f.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',D,this.tilesets),null;var tt=this.tilesets[K];return tt?((R||F)&&tt.setTileSize(R,F),(L||V)&&tt.setSpacing(L,V),tt.setImage(H),tt):(void 0===R&&(R=this.tileWidth),void 0===F&&(F=this.tileHeight),void 0===L&&(L=0),void 0===V&&(V=0),void 0===B&&(B=0),void 0===G&&(G={x:0,y:0}),(tt=new E(D,B,R,F,L,V,void 0,void 0,G)).setImage(H),this.tilesets.push(tt),this.tiles=y(this),tt)},copy:function(D,I,R,F,L,V,B,G){return null!==(G=this.getLayer(G))?(b.Copy(D,I,R,F,L,V,B,G),this):null},createBlankLayer:function(D,I,R,F,L,V,B,G){if(void 0===R&&(R=0),void 0===F&&(F=0),void 0===L&&(L=this.width),void 0===V&&(V=this.height),void 0===B&&(B=this.tileWidth),void 0===G&&(G=this.tileHeight),null!==this.getLayerIndex(D))return console.warn("Invalid Tilemap Layer ID: "+D),null;for(var K,H=new c({name:D,tileWidth:B,tileHeight:G,width:L,height:V,orientation:this.orientation}),tt=0;tt<V;tt++){K=[];for(var at=0;at<L;at++)K.push(new x(H,-1,at,tt,B,G,this.tileWidth,this.tileHeight));H.data.push(K)}this.layers.push(H),this.currentLayerIndex=this.layers.length-1;var lt=new _(this.scene,this,this.currentLayerIndex,I,R,F);return lt.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(lt),lt},createLayer:function(D,I,R,F){var L=this.getLayerIndex(D);if(null===L)return console.warn("Invalid Tilemap Layer ID: "+D),"string"==typeof D&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var V=this.layers[L];if(V.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+D),null;this.currentLayerIndex=L,void 0===R&&(R=V.x),void 0===F&&(F=V.y);var B=new _(this.scene,this,L,I,R,F);return B.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(B),B},createFromObjects:function(D,I,R){void 0===R&&(R=!0);var F=[],L=this.getObjectLayer(D);if(!L)return console.warn("createFromObjects: Invalid objectLayerName given: "+D),F;var V=new u(R?this.tilesets:void 0);Array.isArray(I)||(I=[I]);for(var B=L.objects,G=0;G<I.length;G++){var Q=I[G],H=h(Q,"id",null),K=h(Q,"gid",null),tt=h(Q,"name",null),at=h(Q,"type",null);V.enabled=!h(Q,"ignoreTileset",null);for(var lt,J=[],it=0;it<B.length;it++)lt=B[it],(null===H&&null===K&&null===tt&&null===at||null!==H&&lt.id===H||null!==K&&lt.gid===K||null!==tt&&lt.name===tt||null!==at&&V.getTypeIncludingTile(lt)===at)&&J.push(lt);for(var Y=h(Q,"classType",v),X=h(Q,"scene",this.scene),nt=h(Q,"container",null),ht=h(Q,"key",null),gt=h(Q,"frame",null),wt=0;wt<J.length;wt++){lt=J[wt];var St=new Y(X);if(St.setName(lt.name),St.setPosition(lt.x,lt.y),V.setTextureAndFrame(St,ht,gt,lt),lt.width&&(St.displayWidth=lt.width),lt.height&&(St.displayHeight=lt.height),this.orientation===p.ISOMETRIC){var Zt={x:St.x-St.y,y:(St.x+St.y)/(this.tileWidth/this.tileHeight)};St.x=Zt.x,St.y=Zt.y}var Jt={x:St.originX*lt.width,y:(St.originY-(lt.gid?1:0))*lt.height};if(lt.rotation){var ie=m(lt.rotation);d(Jt,ie),St.rotation=ie}St.x+=Jt.x,St.y+=Jt.y,(void 0!==lt.flippedHorizontal||void 0!==lt.flippedVertical)&&St.setFlip(lt.flippedHorizontal,lt.flippedVertical),lt.visible||(St.visible=!1),V.setPropertiesFromTiledObject(St,lt),nt?nt.add(St):X.add.existing(St),F.push(St)}}return F},createFromTiles:function(D,I,R,F,L,V){return null===(V=this.getLayer(V))?null:b.CreateFromTiles(D,I,R,F,L,V)},fill:function(D,I,R,F,L,V,B){return void 0===V&&(V=!0),null===(B=this.getLayer(B))?null:(b.Fill(D,I,R,F,L,V,B),this)},filterObjects:function(D,I,R){if("string"==typeof D){var F=D;if(!(D=this.getObjectLayer(D)))return console.warn("No object layer found with the name: "+F),null}return D.objects.filter(I,R)},filterTiles:function(D,I,R,F,L,V,B,G){return null===(G=this.getLayer(G))?null:b.FilterTiles(D,I,R,F,L,V,B,G)},findByIndex:function(D,I,R,F){return null===(F=this.getLayer(F))?null:b.FindByIndex(D,I,R,F)},findObject:function(D,I,R){if("string"==typeof D){var F=D;if(!(D=this.getObjectLayer(D)))return console.warn("No object layer found with the name: "+F),null}return D.objects.find(I,R)||null},findTile:function(D,I,R,F,L,V,B,G){return null===(G=this.getLayer(G))?null:b.FindTile(D,I,R,F,L,V,B,G)},forEachTile:function(D,I,R,F,L,V,B,G){return null===(G=this.getLayer(G))?null:(b.ForEachTile(D,I,R,F,L,V,B,G),this)},getImageIndex:function(D){return this.getIndex(this.images,D)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map(function(D){return D.name}):[]},getIndex:function(D,I){for(var R=0;R<D.length;R++)if(D[R].name===I)return R;return null},getLayer:function(D){var I=this.getLayerIndex(D);return null!==I?this.layers[I]:null},getObjectLayer:function(D){var I=this.getIndex(this.objects,D);return null!==I?this.objects[I]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map(function(D){return D.name}):[]},getLayerIndex:function(D){return void 0===D?this.currentLayerIndex:"string"==typeof D?this.getLayerIndexByName(D):"number"==typeof D&&D<this.layers.length?D:D instanceof _&&D.tilemap===this?D.layerIndex:null},getLayerIndexByName:function(D){return this.getIndex(this.layers,D)},getTileAt:function(D,I,R,F){return null===(F=this.getLayer(F))?null:b.GetTileAt(D,I,R,F)},getTileAtWorldXY:function(D,I,R,F,L){return null===(L=this.getLayer(L))?null:b.GetTileAtWorldXY(D,I,R,F,L)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map(function(D){return D.name}):[]},getTilesWithin:function(D,I,R,F,L,V){return null===(V=this.getLayer(V))?null:b.GetTilesWithin(D,I,R,F,L,V)},getTilesWithinShape:function(D,I,R,F){return null===(F=this.getLayer(F))?null:b.GetTilesWithinShape(D,I,R,F)},getTilesWithinWorldXY:function(D,I,R,F,L,V,B){return null===(B=this.getLayer(B))?null:b.GetTilesWithinWorldXY(D,I,R,F,L,V,B)},getTileset:function(D){var I=this.getIndex(this.tilesets,D);return null!==I?this.tilesets[I]:null},getTilesetIndex:function(D){return this.getIndex(this.tilesets,D)},hasTileAt:function(D,I,R){return null===(R=this.getLayer(R))?null:b.HasTileAt(D,I,R)},hasTileAtWorldXY:function(D,I,R,F){return null===(F=this.getLayer(F))?null:b.HasTileAtWorldXY(D,I,R,F)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(D){this.setLayer(D)}},putTileAt:function(D,I,R,F,L){return void 0===F&&(F=!0),null===(L=this.getLayer(L))?null:b.PutTileAt(D,I,R,F,L)},putTileAtWorldXY:function(D,I,R,F,L,V){return void 0===F&&(F=!0),null===(V=this.getLayer(V))?null:b.PutTileAtWorldXY(D,I,R,F,L,V)},putTilesAt:function(D,I,R,F,L){return void 0===F&&(F=!0),null===(L=this.getLayer(L))?null:(b.PutTilesAt(D,I,R,F,L),this)},randomize:function(D,I,R,F,L,V){return null===(V=this.getLayer(V))?null:(b.Randomize(D,I,R,F,L,V),this)},calculateFacesAt:function(D,I,R){return null===(R=this.getLayer(R))?null:(b.CalculateFacesAt(D,I,R),this)},calculateFacesWithin:function(D,I,R,F,L){return null===(L=this.getLayer(L))?null:(b.CalculateFacesWithin(D,I,R,F,L),this)},removeLayer:function(D){var I=this.getLayerIndex(D);if(null!==I){g(this.layers,I);for(var R=I;R<this.layers.length;R++)this.layers[R].tilemapLayer&&this.layers[R].tilemapLayer.layerIndex--;return this.currentLayerIndex===I&&(this.currentLayerIndex=0),this}return null},destroyLayer:function(D){var I=this.getLayerIndex(D);return null!==I?((D=this.layers[I]).tilemapLayer.destroy(),g(this.layers,I),this.currentLayerIndex===I&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var D=this.layers,I=0;I<D.length;I++)D[I].tilemapLayer&&D[I].tilemapLayer.destroy(!1);return D.length=0,this.currentLayerIndex=0,this},removeTile:function(D,I,R){void 0===I&&(I=-1),void 0===R&&(R=!0);var F=[];Array.isArray(D)||(D=[D]);for(var L=0;L<D.length;L++){var V=D[L];F.push(this.removeTileAt(V.x,V.y,!0,R,V.tilemapLayer)),I>-1&&this.putTileAt(I,V.x,V.y,R,V.tilemapLayer)}return F},removeTileAt:function(D,I,R,F,L){return void 0===R&&(R=!0),void 0===F&&(F=!0),null===(L=this.getLayer(L))?null:b.RemoveTileAt(D,I,R,F,L)},removeTileAtWorldXY:function(D,I,R,F,L,V){return void 0===R&&(R=!0),void 0===F&&(F=!0),null===(V=this.getLayer(V))?null:b.RemoveTileAtWorldXY(D,I,R,F,L,V)},renderDebug:function(D,I,R){return null===(R=this.getLayer(R))?null:(this.orientation===p.ORTHOGONAL&&b.RenderDebug(D,I,R),this)},renderDebugFull:function(D,I){for(var R=this.layers,F=0;F<R.length;F++)b.RenderDebug(D,I,R[F]);return this},replaceByIndex:function(D,I,R,F,L,V,B){return null===(B=this.getLayer(B))?null:(b.ReplaceByIndex(D,I,R,F,L,V,B),this)},setCollision:function(D,I,R,F,L){return void 0===I&&(I=!0),void 0===R&&(R=!0),void 0===L&&(L=!0),null===(F=this.getLayer(F))?null:(b.SetCollision(D,I,R,F,L),this)},setCollisionBetween:function(D,I,R,F,L){return void 0===R&&(R=!0),void 0===F&&(F=!0),null===(L=this.getLayer(L))?null:(b.SetCollisionBetween(D,I,R,F,L),this)},setCollisionByProperty:function(D,I,R,F){return void 0===I&&(I=!0),void 0===R&&(R=!0),null===(F=this.getLayer(F))?null:(b.SetCollisionByProperty(D,I,R,F),this)},setCollisionByExclusion:function(D,I,R,F){return void 0===I&&(I=!0),void 0===R&&(R=!0),null===(F=this.getLayer(F))?null:(b.SetCollisionByExclusion(D,I,R,F),this)},setCollisionFromCollisionGroup:function(D,I,R){return void 0===D&&(D=!0),void 0===I&&(I=!0),null===(R=this.getLayer(R))?null:(b.SetCollisionFromCollisionGroup(D,I,R),this)},setTileIndexCallback:function(D,I,R,F){return null===(F=this.getLayer(F))?null:(b.SetTileIndexCallback(D,I,R,F),this)},setTileLocationCallback:function(D,I,R,F,L,V,B){return null===(B=this.getLayer(B))?null:(b.SetTileLocationCallback(D,I,R,F,L,V,B),this)},setLayer:function(D){var I=this.getLayerIndex(D);return null!==I&&(this.currentLayerIndex=I),this},setBaseTileSize:function(D,I){this.tileWidth=D,this.tileHeight=I,this.widthInPixels=this.width*D,this.heightInPixels=this.height*I;for(var R=0;R<this.layers.length;R++){this.layers[R].baseTileWidth=D,this.layers[R].baseTileHeight=I;for(var F=this.layers[R].data,L=this.layers[R].width,V=this.layers[R].height,B=0;B<V;B++)for(var G=0;G<L;G++){var Q=F[B][G];null!==Q&&Q.setSize(void 0,void 0,D,I)}}return this},setLayerTileSize:function(D,I,R){if(null===(R=this.getLayer(R)))return this;R.tileWidth=D,R.tileHeight=I;for(var F=R.data,L=R.width,V=R.height,B=0;B<V;B++)for(var G=0;G<L;G++){var Q=F[B][G];null!==Q&&Q.setSize(D,I)}return this},shuffle:function(D,I,R,F,L){return null===(L=this.getLayer(L))?null:(b.Shuffle(D,I,R,F,L),this)},swapByIndex:function(D,I,R,F,L,V,B){return null===(B=this.getLayer(B))?null:(b.SwapByIndex(D,I,R,F,L,V,B),this)},tileToWorldX:function(D,I,R){return null===(R=this.getLayer(R))?null:this._convert.TileToWorldX(D,I,R)},tileToWorldY:function(D,I,R){return null===(R=this.getLayer(R))?null:this._convert.TileToWorldY(D,I,R)},tileToWorldXY:function(D,I,R,F,L){return null===(L=this.getLayer(L))?null:this._convert.TileToWorldXY(D,I,R,F,L)},getTileCorners:function(D,I,R,F){return null===(F=this.getLayer(F))?null:this._convert.GetTileCorners(D,I,R,F)},weightedRandomize:function(D,I,R,F,L,V){return null===(V=this.getLayer(V))?null:(b.WeightedRandomize(I,R,F,L,D,V),this)},worldToTileX:function(D,I,R,F){return null===(F=this.getLayer(F))?null:this._convert.WorldToTileX(D,I,R,F)},worldToTileY:function(D,I,R,F){return null===(F=this.getLayer(F))?null:this._convert.WorldToTileY(D,I,R,F)},worldToTileXY:function(D,I,R,F,L,V){return null===(V=this.getLayer(V))?null:this._convert.WorldToTileXY(D,I,R,F,L,V)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});C.exports=A},45939:(C,k,a)=>{var y=a(44603),T=a(31989);y.register("tilemap",function(m){var f=void 0!==m?m:{};return T(this.scene,f.key,f.tileWidth,f.tileHeight,f.width,f.height,f.data,f.insertNull)})},46029:(C,k,a)=>{var y=a(39429),T=a(31989);y.register("tilemap",function(m,f,h,c,u,p,d){return null===m&&(m=void 0),null===f&&(f=void 0),null===h&&(h=void 0),null===c&&(c=void 0),null===u&&(u=void 0),T(this.scene,m,f,h,c,u,p,d)})},20442:(C,k,a)=>{var y=a(83419),T=a(78389),m=a(31401),f=a(95643),h=a(81086),c=a(19218),u=a(26099),p=new y({Extends:f,Mixins:[m.Alpha,m.BlendMode,m.ComputedSize,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.Transform,m.Visible,m.ScrollFactor,T,c],initialize:function(g,v,x,b,_,E){f.call(this,g,"TilemapLayer"),this.isTilemap=!0,this.tilemap=v,this.layerIndex=x,this.layer=v.layers[x],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=h.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new u,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(b),this.setAlpha(this.layer.alpha),this.setPosition(_,E),this.setOrigin(0,0),this.setSize(v.tileWidth*this.layer.width,v.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(d){var g=[],v=[],x=this.tilemap;Array.isArray(d)||(d=[d]);for(var b=0;b<d.length;b++){var _=d[b];if("string"==typeof _&&(_=x.getTileset(_)),_){v.push(_);for(var E=_.firstgid,A=0;A<_.total;A++)g[E+A]=_}}this.gidMap=g,this.tileset=v},setRenderOrder:function(d){return"string"==typeof d&&(d=["right-down","left-down","right-up","left-up"].indexOf(d)),d>=0&&d<4&&(this._renderOrder=d),this},calculateFacesAt:function(d,g){return h.CalculateFacesAt(d,g,this.layer),this},calculateFacesWithin:function(d,g,v,x){return h.CalculateFacesWithin(d,g,v,x,this.layer),this},createFromTiles:function(d,g,v,x,b){return h.CreateFromTiles(d,g,v,x,b,this.layer)},cull:function(d){return this.cullCallback(this.layer,d,this.culledTiles,this._renderOrder)},copy:function(d,g,v,x,b,_,E){return h.Copy(d,g,v,x,b,_,E,this.layer),this},fill:function(d,g,v,x,b,_){return h.Fill(d,g,v,x,b,_,this.layer),this},filterTiles:function(d,g,v,x,b,_,E){return h.FilterTiles(d,g,v,x,b,_,E,this.layer)},findByIndex:function(d,g,v){return h.FindByIndex(d,g,v,this.layer)},findTile:function(d,g,v,x,b,_,E){return h.FindTile(d,g,v,x,b,_,E,this.layer)},forEachTile:function(d,g,v,x,b,_,E){return h.ForEachTile(d,g,v,x,b,_,E,this.layer),this},setTint:function(d,g,v,x,b,_){return void 0===d&&(d=16777215),this.forEachTile(function(A){A.tint=d,A.tintFill=!1},this,g,v,x,b,_)},setTintFill:function(d,g,v,x,b,_){return void 0===d&&(d=16777215),this.forEachTile(function(A){A.tint=d,A.tintFill=!0},this,g,v,x,b,_)},getTileAt:function(d,g,v){return h.GetTileAt(d,g,v,this.layer)},getTileAtWorldXY:function(d,g,v,x){return h.GetTileAtWorldXY(d,g,v,x,this.layer)},getIsoTileAtWorldXY:function(d,g,v,x,b){void 0===v&&(v=!0);var _=this.tempVec;return h.IsometricWorldToTileXY(d,g,!0,_,b,this.layer,v),this.getTileAt(_.x,_.y,x)},getTilesWithin:function(d,g,v,x,b){return h.GetTilesWithin(d,g,v,x,b,this.layer)},getTilesWithinShape:function(d,g,v){return h.GetTilesWithinShape(d,g,v,this.layer)},getTilesWithinWorldXY:function(d,g,v,x,b,_){return h.GetTilesWithinWorldXY(d,g,v,x,b,_,this.layer)},hasTileAt:function(d,g){return h.HasTileAt(d,g,this.layer)},hasTileAtWorldXY:function(d,g,v){return h.HasTileAtWorldXY(d,g,v,this.layer)},putTileAt:function(d,g,v,x){return h.PutTileAt(d,g,v,x,this.layer)},putTileAtWorldXY:function(d,g,v,x,b){return h.PutTileAtWorldXY(d,g,v,x,b,this.layer)},putTilesAt:function(d,g,v,x){return h.PutTilesAt(d,g,v,x,this.layer),this},randomize:function(d,g,v,x,b){return h.Randomize(d,g,v,x,b,this.layer),this},removeTileAt:function(d,g,v,x){return h.RemoveTileAt(d,g,v,x,this.layer)},removeTileAtWorldXY:function(d,g,v,x,b){return h.RemoveTileAtWorldXY(d,g,v,x,b,this.layer)},renderDebug:function(d,g){return h.RenderDebug(d,g,this.layer),this},replaceByIndex:function(d,g,v,x,b,_){return h.ReplaceByIndex(d,g,v,x,b,_,this.layer),this},setSkipCull:function(d){return void 0===d&&(d=!0),this.skipCull=d,this},setCullPadding:function(d,g){return void 0===d&&(d=1),void 0===g&&(g=1),this.cullPaddingX=d,this.cullPaddingY=g,this},setCollision:function(d,g,v,x){return h.SetCollision(d,g,v,this.layer,x),this},setCollisionBetween:function(d,g,v,x){return h.SetCollisionBetween(d,g,v,x,this.layer),this},setCollisionByProperty:function(d,g,v){return h.SetCollisionByProperty(d,g,v,this.layer),this},setCollisionByExclusion:function(d,g,v){return h.SetCollisionByExclusion(d,g,v,this.layer),this},setCollisionFromCollisionGroup:function(d,g){return h.SetCollisionFromCollisionGroup(d,g,this.layer),this},setTileIndexCallback:function(d,g,v){return h.SetTileIndexCallback(d,g,v,this.layer),this},setTileLocationCallback:function(d,g,v,x,b,_){return h.SetTileLocationCallback(d,g,v,x,b,_,this.layer),this},shuffle:function(d,g,v,x){return h.Shuffle(d,g,v,x,this.layer),this},swapByIndex:function(d,g,v,x,b,_){return h.SwapByIndex(d,g,v,x,b,_,this.layer),this},tileToWorldX:function(d,g){return this.tilemap.tileToWorldX(d,g,this)},tileToWorldY:function(d,g){return this.tilemap.tileToWorldY(d,g,this)},tileToWorldXY:function(d,g,v,x){return this.tilemap.tileToWorldXY(d,g,v,x,this)},getTileCorners:function(d,g,v){return this.tilemap.getTileCorners(d,g,v,this)},weightedRandomize:function(d,g,v,x,b){return h.WeightedRandomize(g,v,x,b,d,this.layer),this},worldToTileX:function(d,g,v){return this.tilemap.worldToTileX(d,g,v,this)},worldToTileY:function(d,g,v){return this.tilemap.worldToTileY(d,g,v,this)},worldToTileXY:function(d,g,v,x,b){return this.tilemap.worldToTileXY(d,g,v,x,b,this)},destroy:function(d){void 0===d&&(d=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),d&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],f.prototype.destroy.call(this))}});C.exports=p},16153:(C,k,a)=>{var y=a(61340),T=new y,m=new y,f=new y;C.exports=function(c,u,p,d){var g=u.cull(p),v=g.length,x=p.alpha*u.alpha;if(!(0===v||x<=0)){var b=T,_=m,E=f;_.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),b.copyFrom(p.matrix);var A=c.currentContext,D=u.gidMap;A.save(),d?(b.multiplyWithOffset(d,-p.scrollX*u.scrollFactorX,-p.scrollY*u.scrollFactorY),_.e=u.x,_.f=u.y,b.multiply(_,E),E.copyToContext(A)):(_.e-=p.scrollX*u.scrollFactorX,_.f-=p.scrollY*u.scrollFactorY,_.copyToContext(A)),(!c.antialias||u.scaleX>1||u.scaleY>1)&&(A.imageSmoothingEnabled=!1);for(var I=0;I<v;I++){var R=g[I],F=D[R.index];if(F){var L=F.image.getSourceImage(),V=F.getTileTextureCoordinates(R.index),B=F.tileWidth,G=F.tileHeight;if(null!==V&&0!==B&&0!==G){var Q=.5*B,H=.5*G;V.x+=F.tileOffset.x,V.y+=F.tileOffset.y,A.save(),A.translate(R.pixelX+Q,R.pixelY+H),0!==R.rotation&&A.rotate(R.rotation),(R.flipX||R.flipY)&&A.scale(R.flipX?-1:1,R.flipY?-1:1),A.globalAlpha=x*R.alpha,A.drawImage(L,V.x,V.y,B,G,-Q,-H,B,G),A.restore()}}}A.restore()}}},19218:(C,k,a)=>{var T,m;a(29747),T=a(99558),m=a(16153),C.exports={renderWebGL:T,renderCanvas:m}},99558:(C,k,a)=>{var y=a(70554);C.exports=function(m,f,h){var c=f.cull(h),u=c.length,p=h.alpha*f.alpha;if(!(0===u||p<=0)){var d=f.gidMap,g=m.pipelines.set(f.pipeline,f),v=y.getTintAppendFloatAlpha,x=f.scrollFactorX,b=f.scrollFactorY,_=f.x,E=f.y,A=f.scaleX,D=f.scaleY;m.pipelines.preBatch(f);for(var I=0;I<u;I++){var R=c[I],F=d[R.index];if(F){var L=F.getTileTextureCoordinates(R.index),V=F.tileWidth,B=F.tileHeight;if(L&&0!==V&&0!==B){var G=.5*V,Q=.5*B,H=F.glTexture,K=g.setTexture2D(H,f),tt=V,at=B,lt=L.x,J=L.y,it=F.tileOffset.x,Y=F.tileOffset.y,X=v(R.tint,p*R.alpha);g.batchTexture(f,H,H.width,H.height,_+R.pixelX*A+(G*A-it),E+R.pixelY*D+(Q*D-Y),V,B,A,D,R.rotation,R.flipX,R.flipY,x,b,G,Q,lt,J,tt,at,X,X,X,X,R.tintFill,0,0,h,null,!0,K,!0)}}}m.pipelines.postBatch(f)}}},33629:(C,k,a)=>{var y=a(83419),T=a(26099),m=new y({initialize:function(h,c,u,p,d,g,v,x,b){(void 0===u||u<=0)&&(u=32),(void 0===p||p<=0)&&(p=32),void 0===d&&(d=0),void 0===g&&(g=0),void 0===v&&(v={}),void 0===x&&(x={}),this.name=h,this.firstgid=c,this.tileWidth=u,this.tileHeight=p,this.tileMargin=d,this.tileSpacing=g,this.tileProperties=v,this.tileData=x,this.tileOffset=new T,void 0!==b&&this.tileOffset.set(b.x,b.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(f){return this.containsTileIndex(f)?this.tileProperties[f-this.firstgid]:null},getTileData:function(f){return this.containsTileIndex(f)?this.tileData[f-this.firstgid]:null},getTileCollisionGroup:function(f){var h=this.getTileData(f);return h&&h.objectgroup?h.objectgroup:null},containsTileIndex:function(f){return f>=this.firstgid&&f<this.firstgid+this.total},getTileTextureCoordinates:function(f){return this.containsTileIndex(f)?this.texCoordinates[f-this.firstgid]:null},setImage:function(f){this.image=f;var h=f.get(),c=f.getFrameBounds();return this.glTexture=h.source.glTexture,h.width>c.width||h.height>c.height?this.updateTileData(h.width,h.height):this.updateTileData(c.width,c.height,c.x,c.y),this},setTileSize:function(f,h){return void 0!==f&&(this.tileWidth=f),void 0!==h&&(this.tileHeight=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(f,h){return void 0!==f&&(this.tileMargin=f),void 0!==h&&(this.tileSpacing=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(f,h,c,u){void 0===c&&(c=0),void 0===u&&(u=0);var p=(h-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),d=(f-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(p%1!=0||d%1!=0)&&console.warn("Image tile area not tile size multiple in: "+this.name),p=Math.floor(p),d=Math.floor(d),this.rows=p,this.columns=d,this.total=p*d,this.texCoordinates.length=0;for(var g=this.tileMargin+c,v=this.tileMargin+u,x=0;x<this.rows;x++){for(var b=0;b<this.columns;b++)this.texCoordinates.push({x:g,y:v}),g+=this.tileWidth+this.tileSpacing;g=this.tileMargin+c,v+=this.tileHeight+this.tileSpacing}return this}});C.exports=m},72023:(C,k,a)=>{var y=a(7423);C.exports=function(m,f,h){var c=y(m,f,!0,h),u=y(m,f-1,!0,h),p=y(m,f+1,!0,h),d=y(m-1,f,!0,h),g=y(m+1,f,!0,h),v=c&&c.collides;return v&&(c.faceTop=!0,c.faceBottom=!0,c.faceLeft=!0,c.faceRight=!0),u&&u.collides&&(v&&(c.faceTop=!1),u.faceBottom=!v),p&&p.collides&&(v&&(c.faceBottom=!1),p.faceTop=!v),d&&d.collides&&(v&&(c.faceLeft=!1),d.faceRight=!v),g&&g.collides&&(v&&(c.faceRight=!1),g.faceLeft=!v),c&&!c.collides&&c.resetFaces(),c}},42573:(C,k,a)=>{var y=a(7423),T=a(7386);C.exports=function(f,h,c,u,p){for(var d=null,g=null,v=null,x=null,b=T(f,h,c,u,null,p),_=0;_<b.length;_++){var E=b[_];E&&(E.collides?(d=y(E.x,E.y-1,!0,p),g=y(E.x,E.y+1,!0,p),v=y(E.x-1,E.y,!0,p),x=y(E.x+1,E.y,!0,p),E.faceTop=!(d&&d.collides),E.faceBottom=!(g&&g.collides),E.faceLeft=!(v&&v.collides),E.faceRight=!(x&&x.collides)):E.resetFaces())}}},33528:(C,k,a)=>{var T=new(a(26099));C.exports=function(f,h,c,u){var p=c.tilemapLayer,d=p.cullPaddingX,g=p.cullPaddingY,v=p.tilemap.tileToWorldXY(f,h,T,u,p);return v.x>u.worldView.x+p.scaleX*c.tileWidth*(-d-.5)&&v.x<u.worldView.right+p.scaleX*c.tileWidth*(d-.5)&&v.y>u.worldView.y+p.scaleY*c.tileHeight*(-g-1)&&v.y<u.worldView.bottom+p.scaleY*c.tileHeight*(g-.5)}},1785:(C,k,a)=>{var y=a(42573),T=a(7386),m=a(62991),f=a(23029);C.exports=function(c,u,p,d,g,v,x,b){void 0===x&&(x=!0);var _=T(c,u,p,d,null,b),E=[];_.forEach(function(V){var B=new f(V.layer,V.index,V.x,V.y,V.width,V.height,V.baseWidth,V.baseHeight);B.copy(V),E.push(B)});for(var A=g-c,D=v-u,I=0;I<E.length;I++){var R=E[I],F=R.x+A,L=R.y+D;m(F,L,b)&&b.data[L][F]&&(R.x=F,R.y=L,R.updatePixelXY(),b.data[L][F]=R)}x&&y(g-1,v-1,p+2,d+2,b),_.length=0,E.length=0}},78419:(C,k,a)=>{var y=a(62644),T=a(7386),m=a(27987);C.exports=function(h,c,u,p,d,g){u||(u={}),Array.isArray(h)||(h=[h]);var v=g.tilemapLayer;p||(p=v.scene),d||(d=p.cameras.main);var A,x=g.width,b=g.height,_=T(0,0,x,b,null,g),E=[],D=function(L,V,B){for(var G=0;G<B.length;G++){var Q=B[G];L.hasOwnProperty(Q)||(L[Q]=V[Q])}};for(A=0;A<_.length;A++){var I=_[A],R=y(u);if(-1!==h.indexOf(I.index)){var F=v.tileToWorldXY(I.x,I.y,void 0,d,g);R.x=F.x,R.y=F.y,D(R,I,["rotation","flipX","flipY","alpha","visible","tint"]),R.hasOwnProperty("origin")||(R.x+=.5*I.width,R.y+=.5*I.height),R.hasOwnProperty("useSpriteSheet")&&(R.key=I.tileset.image,R.frame=I.index-1),E.push(p.make.sprite(R))}}if(Array.isArray(c))for(A=0;A<h.length;A++)m(h[A],c[A],0,0,x,b,g);else if(null!==c)for(A=0;A<h.length;A++)m(h[A],c,0,0,x,b,g);return E}},19545:(C,k,a)=>{var y=a(87841),T=a(63448),m=a(56583),f=new y;C.exports=function(c,u){var p=c.tilemapLayer.tilemap,d=c.tilemapLayer,g=Math.floor(p.tileWidth*d.scaleX),v=Math.floor(p.tileHeight*d.scaleY),x=m(u.worldView.x-d.x,g,0,!0)-d.cullPaddingX,b=T(u.worldView.right-d.x,g,0,!0)+d.cullPaddingX,_=m(u.worldView.y-d.y,v,0,!0)-d.cullPaddingY,E=T(u.worldView.bottom-d.y,v,0,!0)+d.cullPaddingY;return f.setTo(x,_,b-x,E-_)}},30003:(C,k,a)=>{var y=a(19545),T=a(32483);C.exports=function(f,h,c,u){void 0===c&&(c=[]),void 0===u&&(u=0),c.length=0;var p=f.tilemapLayer,d=y(f,h);return(p.skipCull||1!==p.scrollFactorX||1!==p.scrollFactorY)&&(d.left=0,d.right=f.width,d.top=0,d.bottom=f.height),T(f,d,u,c),c}},35137:(C,k,a)=>{var y=a(7386),T=a(42573),m=a(20576);C.exports=function(h,c,u,p,d,g,v){for(var x=-1!==v.collideIndexes.indexOf(h),b=y(c,u,p,d,null,v),_=0;_<b.length;_++)b[_].index=h,m(b[_],x);g&&T(c-1,u-1,p+2,d+2,v)}},40253:(C,k,a)=>{var y=a(7386);C.exports=function(m,f,h,c,u,p,d,g){return y(h,c,u,p,d,g).filter(m,f)}},52692:C=>{C.exports=function(a,y,T,m){void 0===y&&(y=0),void 0===T&&(T=!1);var h,c,u,f=0;if(T){for(c=m.height-1;c>=0;c--)for(h=m.width-1;h>=0;h--)if((u=m.data[c][h])&&u.index===a){if(f===y)return u;f+=1}}else for(c=0;c<m.height;c++)for(h=0;h<m.width;h++)if((u=m.data[c][h])&&u.index===a){if(f===y)return u;f+=1}return null}},66151:(C,k,a)=>{var y=a(7386);C.exports=function(m,f,h,c,u,p,d,g){return y(h,c,u,p,d,g).find(m,f)||null}},97560:(C,k,a)=>{var y=a(7386);C.exports=function(m,f,h,c,u,p,d,g){y(h,c,u,p,d,g).forEach(m,f)}},43305:(C,k,a)=>{var y=a(91907),T=a(30003),m=a(9474),f=a(14018),h=a(29747),c=a(54503);C.exports=function(p){return p===y.ORTHOGONAL?T:p===y.HEXAGONAL?m:p===y.STAGGERED?c:p===y.ISOMETRIC?f:h}},7423:(C,k,a)=>{var y=a(62991);C.exports=function(m,f,h,c){if(y(m,f,c)){var u=c.data[f][m]||null;return u?-1===u.index?h?u:null:u:null}return null}},60540:(C,k,a)=>{var y=a(7423),m=new(a(26099));C.exports=function(h,c,u,p,d){return d.tilemapLayer.worldToTileXY(h,c,!0,m,p),y(m.x,m.y,u,d)}},55826:(C,k,a)=>{var y=a(26099);C.exports=function(m,f,h,c){var u=c.baseTileWidth,p=c.baseTileHeight,d=c.tilemapLayer,g=0,v=0;d&&(h||(h=d.scene.cameras.main),g=d.x+h.scrollX*(1-d.scrollFactorX),v=d.y+h.scrollY*(1-d.scrollFactorY),u*=d.scaleX,p*=d.scaleY);var x=g+m*u,b=v+f*p;return[new y(x,b),new y(x+u,b),new y(x+u,b+p),new y(x,b+p)]}},11758:(C,k,a)=>{var y=a(91907),T=a(27229),m=a(29747),f=a(55826);C.exports=function(c){return c===y.ORTHOGONAL?f:c===y.ISOMETRIC?m:c===y.HEXAGONAL?T:m}},39167:(C,k,a)=>{var y=a(91907),T=a(29747),m=a(97281);C.exports=function(h){return h===y.ORTHOGONAL?m:T}},62e3:(C,k,a)=>{var y=a(91907),T=a(19951),m=a(14127),f=a(29747),h=a(97202),c=a(70326);C.exports=function(p){return p===y.ORTHOGONAL?c:p===y.ISOMETRIC?m:p===y.HEXAGONAL?T:p===y.STAGGERED?h:f}},5984:(C,k,a)=>{var y=a(91907),T=a(29747),m=a(28054),f=a(29650);C.exports=function(c){return c===y.ORTHOGONAL?f:c===y.STAGGERED?m:T}},7386:(C,k,a)=>{var y=a(95540);C.exports=function(m,f,h,c,u,p){void 0===m&&(m=0),void 0===f&&(f=0),void 0===h&&(h=p.width),void 0===c&&(c=p.height),u||(u={});var d=y(u,"isNotEmpty",!1),g=y(u,"isColliding",!1),v=y(u,"hasInterestingFace",!1);m<0&&(h+=m,m=0),f<0&&(c+=f,f=0),m+h>p.width&&(h=Math.max(p.width-m,0)),f+c>p.height&&(c=Math.max(p.height-f,0));for(var x=[],b=f;b<f+c;b++)for(var _=m;_<m+h;_++){var E=p.data[b][_];if(null!==E){if(d&&-1===E.index||g&&!E.collides||v&&!E.hasInterestingFace)continue;x.push(E)}}return x}},91141:(C,k,a)=>{var y=a(55738),T=a(7386),m=a(91865),f=a(29747),h=a(26099),c=function(v,x){return m.RectangleToTriangle(x,v)},u=new h,p=new h,d=new h;C.exports=function(v,x,b,_){if(void 0===v)return[];var E=f;v instanceof y.Circle?E=m.CircleToRectangle:v instanceof y.Rectangle?E=m.RectangleToRectangle:v instanceof y.Triangle?E=c:v instanceof y.Line&&(E=m.LineToRectangle),_.tilemapLayer.worldToTileXY(v.left,v.top,!0,p,b);var A=p.x,D=p.y;_.tilemapLayer.worldToTileXY(v.right,v.bottom,!1,d,b);var I=Math.ceil(d.x),R=Math.ceil(d.y),F=Math.max(I-A,1),L=Math.max(R-D,1),V=T(A,D,F,L,x,_),B=_.tileWidth,G=_.tileHeight;_.tilemapLayer&&(B*=_.tilemapLayer.scaleX,G*=_.tilemapLayer.scaleY);for(var Q=[],H=new y.Rectangle(0,0,B,G),K=0;K<V.length;K++){var tt=V[K];_.tilemapLayer.tileToWorldXY(tt.x,tt.y,u,b),H.x=u.x,H.y=u.y,E(v,H)&&Q.push(tt)}return Q}},96523:(C,k,a)=>{var y=a(7386),T=a(26099),m=new T,f=new T;C.exports=function(c,u,p,d,g,v,x){var b=x.tilemapLayer.tilemap._convert.WorldToTileXY;b(c,u,!0,m,v,x);var _=m.x,E=m.y;b(c+p,u+d,!1,f,v,x);var A=Math.ceil(f.x),D=Math.ceil(f.y);return y(_,E,A-_,D-E,g,x)}},96113:(C,k,a)=>{var y=a(91907),T=a(20242),m=a(10095);C.exports=function(h){return h===y.ORTHOGONAL?m:T}},16926:(C,k,a)=>{var y=a(91907),T=a(86625),m=a(96897),f=a(29747),h=a(15108),c=a(85896);C.exports=function(p){return p===y.ORTHOGONAL?c:p===y.ISOMETRIC?m:p===y.HEXAGONAL?T:p===y.STAGGERED?h:f}},55762:(C,k,a)=>{var y=a(91907),T=a(20242),m=a(51900),f=a(63288);C.exports=function(c){return c===y.ORTHOGONAL?f:c===y.STAGGERED?m:T}},45091:(C,k,a)=>{var y=a(62991);C.exports=function(m,f,h){if(y(m,f,h)){var c=h.data[f][m];return null!==c&&c.index>-1}return!1}},24152:(C,k,a)=>{var y=a(45091),m=new(a(26099));C.exports=function(h,c,u,p){return p.tilemapLayer.worldToTileXY(h,c,!0,m,u),y(m.x,m.y,p)}},90454:(C,k,a)=>{var y=a(63448),T=a(56583);C.exports=function(f,h){var v,x,b,_,c=f.tilemapLayer.tilemap,u=f.tilemapLayer,p=Math.floor(c.tileWidth*u.scaleX),d=Math.floor(c.tileHeight*u.scaleY),g=f.hexSideLength;if("y"===f.staggerAxis){var E=(d-g)/2+g;v=T(h.worldView.x-u.x,p,0,!0)-u.cullPaddingX,x=y(h.worldView.right-u.x,p,0,!0)+u.cullPaddingX,b=T(h.worldView.y-u.y,E,0,!0)-u.cullPaddingY,_=y(h.worldView.bottom-u.y,E,0,!0)+u.cullPaddingY}else{var A=(p-g)/2+g;v=T(h.worldView.x-u.x,A,0,!0)-u.cullPaddingX,x=y(h.worldView.right-u.x,A,0,!0)+u.cullPaddingX,b=T(h.worldView.y-u.y,d,0,!0)-u.cullPaddingY,_=y(h.worldView.bottom-u.y,d,0,!0)+u.cullPaddingY}return{left:v,right:x,top:b,bottom:_}}},9474:(C,k,a)=>{var y=a(90454),T=a(32483);C.exports=function(f,h,c,u){void 0===c&&(c=[]),void 0===u&&(u=0),c.length=0;var p=f.tilemapLayer,d=y(f,h);return p.skipCull&&1===p.scrollFactorX&&1===p.scrollFactorY&&(d.left=0,d.right=f.width,d.top=0,d.bottom=f.height),T(f,d,u,c),c}},27229:(C,k,a)=>{var y=a(19951),T=a(26099),m=new T;C.exports=function(h,c,u,p){var d=p.baseTileWidth,g=p.baseTileHeight,v=p.tilemapLayer;v&&(d*=v.scaleX,g*=v.scaleY);var E,A,x=y(h,c,m,u,p),b=[],_=.5773502691896257;"y"===p.staggerAxis?(E=_*d,A=g/2):(E=d/2,A=_*g);for(var D=0;D<6;D++){var I=2*Math.PI*(.5-D)/6;b.push(new T(x.x+E*Math.cos(I),x.y+A*Math.sin(I)))}return b}},19951:(C,k,a)=>{var y=a(26099);C.exports=function(m,f,h,c,u){h||(h=new y);var p=u.baseTileWidth,d=u.baseTileHeight,g=u.tilemapLayer,v=0,x=0;g&&(c||(c=g.scene.cameras.main),v=g.x+c.scrollX*(1-g.scrollFactorX),x=g.y+c.scrollY*(1-g.scrollFactorY),p*=g.scaleX,d*=g.scaleY);var E,A,b=p/2,_=d/2,D=u.staggerAxis,I=u.staggerIndex;return"y"===D?(E=v+p*m+p,A=x+1.5*f*_+_,f%2==0&&("odd"===I?E-=b:E+=b)):"x"===D&&"odd"===I&&(E=v+1.5*m*b+b,A=x+d*m+d,m%2==0&&("odd"===I?A-=_:A+=_)),h.set(E,A)}},86625:(C,k,a)=>{var y=a(26099);C.exports=function(m,f,h,c,u,p){c||(c=new y);var d=p.baseTileWidth,g=p.baseTileHeight,v=p.tilemapLayer;v&&(u||(u=v.scene.cameras.main),m-=v.x+u.scrollX*(1-v.scrollFactorX),f-=v.y+u.scrollY*(1-v.scrollFactorY),d*=v.scaleX,g*=v.scaleY);var I,R,F,L,V,x=.5773502691896257,b=-.3333333333333333,E=.6666666666666666,A=d/2,D=g/2;"y"===p.staggerAxis?(F=x*(I=(m-A)/(x*d))+b*(R=(f-D)/D),L=0*I+E*R):(F=b*(I=(m-A)/A)+x*(R=(f-D)/(x*g)),L=E*I+0*R),V=-F-L;var B=Math.round(F),G=Math.round(L),Q=Math.round(V),H=Math.abs(B-F),K=Math.abs(G-L),tt=Math.abs(Q-V);return H>K&&H>tt?B=-G-Q:K>tt&&(G=-B-Q),c.set("odd"===p.staggerIndex?G%2==0?G/2+B:G/2+B-.5:G%2==0?G/2+B:G/2+B+.5,G)}},62991:C=>{C.exports=function(a,y,T){return a>=0&&a<T.width&&y>=0&&y<T.height}},14018:(C,k,a)=>{var y=a(33528);C.exports=function(m,f,h,c){void 0===h&&(h=[]),void 0===c&&(c=0),h.length=0;var A,D,I,u=m.tilemapLayer,p=m.data,d=m.width,g=m.height,v=u.skipCull,b=d,E=g;if(0===c)for(D=0;D<E;D++)for(A=0;A<b;A++)(I=p[D][A])&&-1!==I.index&&I.visible&&0!==I.alpha&&(!v&&!y(A,D,m,f)||h.push(I));else if(1===c)for(D=0;D<E;D++)for(A=b;A>=0;A--)(I=p[D][A])&&-1!==I.index&&I.visible&&0!==I.alpha&&(!v&&!y(A,D,m,f)||h.push(I));else if(2===c)for(D=E;D>=0;D--)for(A=0;A<b;A++)(I=p[D][A])&&-1!==I.index&&I.visible&&0!==I.alpha&&(!v&&!y(A,D,m,f)||h.push(I));else if(3===c)for(D=E;D>=0;D--)for(A=b;A>=0;A--)(I=p[D][A])&&-1!==I.index&&I.visible&&0!==I.alpha&&(!v&&!y(A,D,m,f)||h.push(I));return u.tilesDrawn=h.length,u.tilesTotal=d*g,h}},14127:(C,k,a)=>{var y=a(26099);C.exports=function(m,f,h,c,u){h||(h=new y);var p=u.baseTileWidth,d=u.baseTileHeight,g=u.tilemapLayer,v=0,x=0;return g&&(c||(c=g.scene.cameras.main),v=g.x+c.scrollX*(1-g.scrollFactorX),p*=g.scaleX,x=g.y+c.scrollY*(1-g.scrollFactorY),d*=g.scaleY),h.set(v+p/2*(m-f),x+(m+f)*(d/2))}},96897:(C,k,a)=>{var y=a(26099);C.exports=function(m,f,h,c,u,p,d){c||(c=new y);var g=p.baseTileWidth,v=p.baseTileHeight,x=p.tilemapLayer;x&&(u||(u=x.scene.cameras.main),f-=x.y+u.scrollY*(1-x.scrollFactorY),v*=x.scaleY,m-=x.x+u.scrollX*(1-x.scrollFactorX),g*=x.scaleX);var b=g/2,_=v/2;d||(f-=v);var E=.5*((m-=b)/b+f/_),A=.5*(-m/b+f/_);return h&&(E=Math.floor(E),A=Math.floor(A)),c.set(E,A)}},71558:(C,k,a)=>{var y=a(23029),T=a(62991),m=a(72023),f=a(20576);C.exports=function(c,u,p,d,g){if(void 0===d&&(d=!0),!T(u,p,g))return null;var v,x=g.data[p][u],b=x&&x.collides;c instanceof y?(null===g.data[p][u]&&(g.data[p][u]=new y(g,c.index,u,p,g.tileWidth,g.tileHeight)),g.data[p][u].copy(c)):(v=c,null===g.data[p][u]?g.data[p][u]=new y(g,v,u,p,g.tileWidth,g.tileHeight):g.data[p][u].index=v);var _=g.data[p][u],E=-1!==g.collideIndexes.indexOf(_.index);if(-1===(v=c instanceof y?c.index:c))_.width=g.tileWidth,_.height=g.tileHeight;else{var A=g.tilemapLayer.tilemap,R=A.tilesets[A.tiles[v][2]];_.width=R.tileWidth,_.height=R.tileHeight}return f(_,E),d&&b!==_.collides&&m(u,p,g),_}},26303:(C,k,a)=>{var y=a(71558),m=new(a(26099));C.exports=function(h,c,u,p,d,g){return g.tilemapLayer.worldToTileXY(c,u,!0,m,d,g),y(h,m.x,m.y,p,g)}},14051:(C,k,a)=>{var y=a(42573),T=a(71558);C.exports=function(f,h,c,u,p){if(void 0===u&&(u=!0),!Array.isArray(f))return null;Array.isArray(f[0])||(f=[f]);for(var d=f.length,g=f[0].length,v=0;v<d;v++)for(var x=0;x<g;x++)T(f[v][x],h+x,c+v,!1,p);u&&y(h-1,c-1,g+2,d+2,p)}},77389:(C,k,a)=>{var y=a(7386),T=a(26546);C.exports=function(f,h,c,u,p,d){var g,v=y(f,h,c,u,{},d);if(!p)for(p=[],g=0;g<v.length;g++)-1===p.indexOf(v[g].index)&&p.push(v[g].index);for(g=0;g<v.length;g++)v[g].index=T(p)}},63557:(C,k,a)=>{var y=a(23029),T=a(62991),m=a(72023);C.exports=function(h,c,u,p,d){if(void 0===u&&(u=!0),void 0===p&&(p=!0),!T(h,c,d))return null;var g=d.data[c][h];return g?(d.data[c][h]=u?null:new y(d,-1,h,c,d.tileWidth,d.tileHeight),p&&g&&g.collides&&m(h,c,d),g):null}},94178:(C,k,a)=>{var y=a(63557),m=new(a(26099));C.exports=function(h,c,u,p,d,g){return g.tilemapLayer.worldToTileXY(h,c,!0,m,d,g),y(m.x,m.y,u,p,g)}},15533:(C,k,a)=>{var y=a(7386),T=a(3956),m=new T(105,210,231,150),f=new T(243,134,48,200),h=new T(40,39,37,150);C.exports=function(u,p,d){void 0===p&&(p={});var g=void 0!==p.tileColor?p.tileColor:m,v=void 0!==p.collidingTileColor?p.collidingTileColor:f,x=void 0!==p.faceColor?p.faceColor:h,b=y(0,0,d.width,d.height,null,d);u.translateCanvas(d.tilemapLayer.x,d.tilemapLayer.y),u.scaleCanvas(d.tilemapLayer.scaleX,d.tilemapLayer.scaleY);for(var _=0;_<b.length;_++){var E=b[_],A=E.width,D=E.height,I=E.pixelX,R=E.pixelY,F=E.collides?v:g;null!==F&&(u.fillStyle(F.color,F.alpha/255),u.fillRect(I,R,A,D)),I+=1,R+=1,A-=2,D-=2,null!==x&&(u.lineStyle(1,x.color,x.alpha/255),E.faceTop&&u.lineBetween(I,R,I+A,R),E.faceRight&&u.lineBetween(I+A,R,I+A,R+D),E.faceBottom&&u.lineBetween(I,R+D,I+A,R+D),E.faceLeft&&u.lineBetween(I,R,I,R+D))}}},27987:(C,k,a)=>{var y=a(7386);C.exports=function(m,f,h,c,u,p,d){for(var g=y(h,c,u,p,null,d),v=0;v<g.length;v++)g[v]&&g[v].index===m&&(g[v].index=f)}},32483:C=>{C.exports=function(a,y,T,m){var x,b,_,f=a.data,h=a.width,c=a.height,u=a.tilemapLayer,p=Math.max(0,y.left),d=Math.min(h,y.right),g=Math.max(0,y.top),v=Math.min(c,y.bottom);if(0===T)for(b=g;b<v;b++)for(x=p;f[b]&&x<d;x++)(_=f[b][x])&&-1!==_.index&&_.visible&&0!==_.alpha&&m.push(_);else if(1===T)for(b=g;b<v;b++)for(x=d;f[b]&&x>=p;x--)(_=f[b][x])&&-1!==_.index&&_.visible&&0!==_.alpha&&m.push(_);else if(2===T)for(b=v;b>=g;b--)for(x=p;f[b]&&x<d;x++)(_=f[b][x])&&-1!==_.index&&_.visible&&0!==_.alpha&&m.push(_);else if(3===T)for(b=v;b>=g;b--)for(x=d;f[b]&&x>=p;x--)(_=f[b][x])&&-1!==_.index&&_.visible&&0!==_.alpha&&m.push(_);return u.tilesDrawn=m.length,u.tilesTotal=h*c,m}},57068:(C,k,a)=>{var y=a(20576),T=a(42573),m=a(9589);C.exports=function(h,c,u,p,d){void 0===c&&(c=!0),void 0===u&&(u=!0),void 0===d&&(d=!0),Array.isArray(h)||(h=[h]);for(var g=0;g<h.length;g++)m(h[g],c,p);if(d)for(var v=0;v<p.height;v++)for(var x=0;x<p.width;x++){var b=p.data[v][x];b&&-1!==h.indexOf(b.index)&&y(b,c)}u&&T(0,0,p.width,p.height,p)}},37266:(C,k,a)=>{var y=a(20576),T=a(42573),m=a(9589);C.exports=function(h,c,u,p,d,g){if(void 0===u&&(u=!0),void 0===p&&(p=!0),void 0===g&&(g=!0),!(h>c)){for(var v=h;v<=c;v++)m(v,u,d);if(g)for(var x=0;x<d.height;x++)for(var b=0;b<d.width;b++){var _=d.data[x][b];_&&_.index>=h&&_.index<=c&&y(_,u)}p&&T(0,0,d.width,d.height,d)}}},75661:(C,k,a)=>{var y=a(20576),T=a(42573),m=a(9589);C.exports=function(h,c,u,p){void 0===c&&(c=!0),void 0===u&&(u=!0),Array.isArray(h)||(h=[h]);for(var d=0;d<p.height;d++)for(var g=0;g<p.width;g++){var v=p.data[d][g];v&&-1===h.indexOf(v.index)&&(y(v,c),m(v.index,c,p))}u&&T(0,0,p.width,p.height,p)}},64740:(C,k,a)=>{var y=a(20576),T=a(42573),m=a(97022);C.exports=function(h,c,u,p){void 0===c&&(c=!0),void 0===u&&(u=!0);for(var d=0;d<p.height;d++)for(var g=0;g<p.width;g++){var v=p.data[d][g];if(v)for(var x in h)if(m(v.properties,x)){var b=h[x];Array.isArray(b)||(b=[b]);for(var _=0;_<b.length;_++)v.properties[x]===b[_]&&y(v,c)}}u&&T(0,0,p.width,p.height,p)}},63307:(C,k,a)=>{var y=a(20576),T=a(42573);C.exports=function(f,h,c){void 0===f&&(f=!0),void 0===h&&(h=!0);for(var u=0;u<c.height;u++)for(var p=0;p<c.width;p++){var d=c.data[u][p];if(d){var g=d.getCollisionGroup();g&&g.objects&&g.objects.length>0&&y(d,f)}}h&&T(0,0,c.width,c.height,c)}},9589:C=>{C.exports=function(a,y,T){var m=T.collideIndexes.indexOf(a);y&&-1===m?T.collideIndexes.push(a):!y&&-1!==m&&T.collideIndexes.splice(m,1)}},20576:C=>{C.exports=function(a,y){y?a.setCollision(!0,!0,!0,!0,!1):a.resetCollision(!1)}},79583:C=>{C.exports=function(a,y,T,m){if("number"==typeof a)m.callbacks[a]=null!==y?{callback:y,callbackContext:T}:void 0;else for(var f=0,h=a.length;f<h;f++)m.callbacks[a[f]]=null!==y?{callback:y,callbackContext:T}:void 0}},93254:(C,k,a)=>{var y=a(7386);C.exports=function(m,f,h,c,u,p,d){for(var g=y(m,f,h,c,null,d),v=0;v<g.length;v++)g[v].setCollisionCallback(u,p)}},32903:(C,k,a)=>{var y=a(7386),T=a(33680);C.exports=function(f,h,c,u,p){var d=y(f,h,c,u,null,p),g=d.map(function(x){return x.index});T(g);for(var v=0;v<d.length;v++)d[v].index=g[v]}},61325:(C,k,a)=>{var y=a(63448),T=a(56583);C.exports=function(f,h){var c=f.tilemapLayer.tilemap,u=f.tilemapLayer,p=Math.floor(c.tileWidth*u.scaleX),d=Math.floor(c.tileHeight*u.scaleY);return{left:T(h.worldView.x-u.x,p,0,!0)-u.cullPaddingX,right:y(h.worldView.right-u.x,p,0,!0)+u.cullPaddingX,top:T(h.worldView.y-u.y,d/2,0,!0)-u.cullPaddingY,bottom:y(h.worldView.bottom-u.y,d/2,0,!0)+u.cullPaddingY}}},54503:(C,k,a)=>{var y=a(61325),T=a(32483);C.exports=function(f,h,c,u){void 0===c&&(c=[]),void 0===u&&(u=0),c.length=0;var p=f.tilemapLayer,d=y(f,h);return p.skipCull&&1===p.scrollFactorX&&1===p.scrollFactorY&&(d.left=0,d.right=f.width,d.top=0,d.bottom=f.height),T(f,d,u,c),c}},97202:(C,k,a)=>{var y=a(26099);C.exports=function(m,f,h,c,u){h||(h=new y);var p=u.baseTileWidth,d=u.baseTileHeight,g=u.tilemapLayer,v=0,x=0;return g&&(c||(c=g.scene.cameras.main),v=g.x+c.scrollX*(1-g.scrollFactorX),p*=g.scaleX,x=g.y+c.scrollY*(1-g.scrollFactorY),d*=g.scaleY),h.set(v+m*p+f%2*(p/2),x+f*(d/2))}},28054:C=>{C.exports=function(a,y,T){var m=T.baseTileHeight,f=T.tilemapLayer,h=0;return f&&(void 0===y&&(y=f.scene.cameras.main),h=f.y+y.scrollY*(1-f.scrollFactorY),m*=f.scaleY),h+a*(m/2)+m}},15108:(C,k,a)=>{var y=a(26099);C.exports=function(m,f,h,c,u,p){c||(c=new y);var d=p.baseTileWidth,g=p.baseTileHeight,v=p.tilemapLayer;v&&(u||(u=v.scene.cameras.main),f-=v.y+u.scrollY*(1-v.scrollFactorY),g*=v.scaleY,m-=v.x+u.scrollX*(1-v.scrollFactorX),d*=v.scaleX);var x=h?Math.floor(f/(g/2)):f/(g/2),b=h?Math.floor((m+x%2*.5*d)/d):(m+x%2*.5*d)/d;return c.set(b,x)}},51900:C=>{C.exports=function(a,y,T,m){var f=m.baseTileHeight,h=m.tilemapLayer;return h&&(T||(T=h.scene.cameras.main),a-=h.y+T.scrollY*(1-h.scrollFactorY),f*=h.scaleY),y?Math.floor(a/(f/2)):a/(f/2)}},86560:(C,k,a)=>{var y=a(7386);C.exports=function(m,f,h,c,u,p,d){for(var g=y(h,c,u,p,null,d),v=0;v<g.length;v++)g[v]&&(g[v].index===m?g[v].index=f:g[v].index===f&&(g[v].index=m))}},97281:C=>{C.exports=function(a,y,T){var m=T.baseTileWidth,f=T.tilemapLayer,h=0;return f&&(y||(y=f.scene.cameras.main),h=f.x+y.scrollX*(1-f.scrollFactorX),m*=f.scaleX),h+a*m}},70326:(C,k,a)=>{var y=a(97281),T=a(29650),m=a(26099);C.exports=function(h,c,u,p,d){return u||(u=new m(0,0)),u.x=y(h,p,d),u.y=T(c,p,d),u}},29650:C=>{C.exports=function(a,y,T){var m=T.baseTileHeight,f=T.tilemapLayer,h=0;return f&&(y||(y=f.scene.cameras.main),h=f.y+y.scrollY*(1-f.scrollFactorY),m*=f.scaleY),h+a*m}},77366:(C,k,a)=>{var y=a(7386),T=a(75508);C.exports=function(f,h,c,u,p,d){if(p){var g,v=y(f,h,c,u,null,d),x=0;for(g=0;g<p.length;g++)x+=p[g].weight;if(!(x<=0))for(g=0;g<v.length;g++){for(var b=T.RND.frac()*x,_=0,E=-1,A=0;A<p.length;A++)if(b<=(_+=p[A].weight)){var D=p[A].index;E=Array.isArray(D)?D[Math.floor(T.RND.frac()*D.length)]:D;break}v[g].index=E}}}},10095:(C,k,a)=>{var y=a(85896),m=new(a(26099));C.exports=function(h,c,u,p){return y(h,0,c,m,u,p),m.x}},85896:(C,k,a)=>{var y=a(26099);C.exports=function(m,f,h,c,u,p){void 0===h&&(h=!0),c||(c=new y);var d=p.baseTileWidth,g=p.baseTileHeight,v=p.tilemapLayer;v&&(u||(u=v.scene.cameras.main),m-=v.x+u.scrollX*(1-v.scrollFactorX),f-=v.y+u.scrollY*(1-v.scrollFactorY),d*=v.scaleX,g*=v.scaleY);var x=m/d,b=f/g;return h&&(x=Math.floor(x),b=Math.floor(b)),c.set(x,b)}},63288:(C,k,a)=>{var y=a(85896),m=new(a(26099));C.exports=function(h,c,u,p){return y(0,h,c,m,u,p),m.y}},81086:(C,k,a)=>{C.exports={CalculateFacesAt:a(72023),CalculateFacesWithin:a(42573),CheckIsoBounds:a(33528),Copy:a(1785),CreateFromTiles:a(78419),CullBounds:a(19545),CullTiles:a(30003),Fill:a(35137),FilterTiles:a(40253),FindByIndex:a(52692),FindTile:a(66151),ForEachTile:a(97560),GetCullTilesFunction:a(43305),GetTileAt:a(7423),GetTileAtWorldXY:a(60540),GetTileCorners:a(55826),GetTileCornersFunction:a(11758),GetTilesWithin:a(7386),GetTilesWithinShape:a(91141),GetTilesWithinWorldXY:a(96523),GetTileToWorldXFunction:a(39167),GetTileToWorldXYFunction:a(62e3),GetTileToWorldYFunction:a(5984),GetWorldToTileXFunction:a(96113),GetWorldToTileXYFunction:a(16926),GetWorldToTileYFunction:a(55762),HasTileAt:a(45091),HasTileAtWorldXY:a(24152),HexagonalCullBounds:a(90454),HexagonalCullTiles:a(9474),HexagonalGetTileCorners:a(27229),HexagonalTileToWorldXY:a(19951),HexagonalWorldToTileXY:a(86625),IsInLayerBounds:a(62991),IsometricCullTiles:a(14018),IsometricTileToWorldXY:a(14127),IsometricWorldToTileXY:a(96897),PutTileAt:a(71558),PutTileAtWorldXY:a(26303),PutTilesAt:a(14051),Randomize:a(77389),RemoveTileAt:a(63557),RemoveTileAtWorldXY:a(94178),RenderDebug:a(15533),ReplaceByIndex:a(27987),RunCull:a(32483),SetCollision:a(57068),SetCollisionBetween:a(37266),SetCollisionByExclusion:a(75661),SetCollisionByProperty:a(64740),SetCollisionFromCollisionGroup:a(63307),SetLayerCollisionIndex:a(9589),SetTileCollision:a(20576),SetTileIndexCallback:a(79583),SetTileLocationCallback:a(93254),Shuffle:a(32903),StaggeredCullBounds:a(61325),StaggeredCullTiles:a(54503),StaggeredTileToWorldXY:a(97202),StaggeredTileToWorldY:a(28054),StaggeredWorldToTileXY:a(15108),StaggeredWorldToTileY:a(51900),SwapByIndex:a(86560),TileToWorldX:a(97281),TileToWorldXY:a(70326),TileToWorldY:a(29650),WeightedRandomize:a(77366),WorldToTileX:a(10095),WorldToTileXY:a(85896),WorldToTileY:a(63288)}},91907:C=>{C.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(C,k,a)=>{var y={ORIENTATION:a(91907)};C.exports=y},62501:(C,k,a)=>{var y=a(79291),T=a(21829),m={Components:a(81086),Parsers:a(57442),Formats:a(80341),ImageCollection:a(16536),ParseToTilemap:a(31989),Tile:a(23029),Tilemap:a(49075),TilemapCreator:a(45939),TilemapFactory:a(46029),Tileset:a(33629),TilemapLayer:a(20442),Orientation:a(91907),LayerData:a(14977),MapData:a(87010),ObjectLayer:a(48700)};m=y(!1,m,T.ORIENTATION),C.exports=m},14977:(C,k,a)=>{var y=a(83419),T=a(91907),m=a(95540),f=new y({initialize:function(c){void 0===c&&(c={}),this.name=m(c,"name","layer"),this.id=m(c,"id",0),this.x=m(c,"x",0),this.y=m(c,"y",0),this.width=m(c,"width",0),this.height=m(c,"height",0),this.tileWidth=m(c,"tileWidth",0),this.tileHeight=m(c,"tileHeight",0),this.baseTileWidth=m(c,"baseTileWidth",this.tileWidth),this.baseTileHeight=m(c,"baseTileHeight",this.tileHeight),this.orientation=m(c,"orientation",T.ORTHOGONAL),this.widthInPixels=m(c,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=m(c,"heightInPixels",this.height*this.baseTileHeight),this.alpha=m(c,"alpha",1),this.visible=m(c,"visible",!0),this.properties=m(c,"properties",[]),this.indexes=m(c,"indexes",[]),this.collideIndexes=m(c,"collideIndexes",[]),this.callbacks=m(c,"callbacks",[]),this.bodies=m(c,"bodies",[]),this.data=m(c,"data",[]),this.tilemapLayer=m(c,"tilemapLayer",null),this.hexSideLength=m(c,"hexSideLength",0),this.staggerAxis=m(c,"staggerAxis","y"),this.staggerIndex=m(c,"staggerIndex","odd")}});C.exports=f},87010:(C,k,a)=>{var y=a(83419),T=a(91907),m=a(95540),f=new y({initialize:function(c){void 0===c&&(c={}),this.name=m(c,"name","map"),this.width=m(c,"width",0),this.height=m(c,"height",0),this.infinite=m(c,"infinite",!1),this.tileWidth=m(c,"tileWidth",0),this.tileHeight=m(c,"tileHeight",0),this.widthInPixels=m(c,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=m(c,"heightInPixels",this.height*this.tileHeight),this.format=m(c,"format",null),this.orientation=m(c,"orientation",T.ORTHOGONAL),this.renderOrder=m(c,"renderOrder","right-down"),this.version=m(c,"version","1"),this.properties=m(c,"properties",{}),this.layers=m(c,"layers",[]),this.images=m(c,"images",[]),this.objects=m(c,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=m(c,"collision",{}),this.tilesets=m(c,"tilesets",[]),this.imageCollections=m(c,"imageCollections",[]),this.tiles=m(c,"tiles",[]),this.hexSideLength=m(c,"hexSideLength",0),this.staggerAxis=m(c,"staggerAxis","y"),this.staggerIndex=m(c,"staggerIndex","odd")}});C.exports=f},48700:(C,k,a)=>{var y=a(83419),T=a(95540),m=new y({initialize:function(h){void 0===h&&(h={}),this.name=T(h,"name","object layer"),this.id=T(h,"id",0),this.opacity=T(h,"opacity",1),this.properties=T(h,"properties",{}),this.propertyTypes=T(h,"propertytypes",{}),this.type=T(h,"type","objectgroup"),this.visible=T(h,"visible",!0),this.objects=T(h,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});C.exports=m},6641:(C,k,a)=>{var y=a(91907);C.exports=function(m){return"isometric"===(m=m.toLowerCase())?y.ISOMETRIC:"staggered"===m?y.STAGGERED:"hexagonal"===m?y.HEXAGONAL:y.ORTHOGONAL}},46177:(C,k,a)=>{var y=a(80341),T=a(2342),m=a(82593),f=a(46594),h=a(87021);C.exports=function(u,p,d,g,v,x){var b;switch(p){case y.ARRAY_2D:b=T(u,d,g,v,x);break;case y.CSV:b=m(u,d,g,v,x);break;case y.TILED_JSON:b=f(u,d,x);break;case y.WELTMEISTER:b=h(u,d,x);break;default:console.warn("Unrecognized tilemap data format: "+p),b=null}return b}},2342:(C,k,a)=>{var y=a(80341),T=a(14977),m=a(87010),f=a(23029);C.exports=function(c,u,p,d,g){for(var v=new T({tileWidth:p,tileHeight:d}),x=new m({name:c,tileWidth:p,tileHeight:d,format:y.ARRAY_2D,layers:[v]}),b=[],_=u.length,E=0,A=0;A<u.length;A++){b[A]=[];for(var D=u[A],I=0;I<D.length;I++){var R=parseInt(D[I],10);b[A][I]=isNaN(R)||-1===R?g?null:new f(v,-1,I,A,p,d):new f(v,R,I,A,p,d)}0===E&&(E=D.length)}return x.width=v.width=E,x.height=v.height=_,x.widthInPixels=v.widthInPixels=E*p,x.heightInPixels=v.heightInPixels=_*d,v.data=b,x}},82593:(C,k,a)=>{var y=a(80341),T=a(2342);C.exports=function(f,h,c,u,p){var d=h.trim().split("\n").map(function(v){return v.split(",")}),g=T(f,d,c,u,p);return g.format=y.CSV,g}},6656:(C,k,a)=>{var y=a(14977),T=a(23029);C.exports=function(f,h){for(var c=[],u=0;u<f.layer.length;u++){for(var p=f.layer[u],d=new y({name:p.name,width:p.width,height:p.height,tileWidth:p.tilesize,tileHeight:p.tilesize,visible:1===p.visible}),g=[],v=[],x=0;x<p.data.length;x++){for(var b=0;b<p.data[x].length;b++){var E,_=p.data[x][b]-1;E=_>-1?new T(d,_,b,x,p.tilesize,p.tilesize):h?null:new T(d,-1,b,x,p.tilesize,p.tilesize),g.push(E)}v.push(g),g=[]}d.data=v,c.push(d)}return c}},96483:(C,k,a)=>{var y=a(33629);C.exports=function(m){for(var f=[],h=[],c=0;c<m.layer.length;c++){var u=m.layer[c],p=u.tilesetName;""!==p&&-1===h.indexOf(p)&&(h.push(p),f.push(new y(p,0,u.tilesize,u.tilesize,0,0)))}return f}},87021:(C,k,a)=>{var y=a(80341),T=a(87010),m=a(6656),f=a(96483);C.exports=function(c,u,p){if(0===u.layer.length)return console.warn("No layers found in the Weltmeister map: "+c),null;for(var d=0,g=0,v=0;v<u.layer.length;v++)u.layer[v].width>d&&(d=u.layer[v].width),u.layer[v].height>g&&(g=u.layer[v].height);var x=new T({width:d,height:g,name:c,tileWidth:u.layer[0].tilesize,tileHeight:u.layer[0].tilesize,format:y.WELTMEISTER});return x.layers=m(u,p),x.tilesets=f(u),x}},52833:(C,k,a)=>{C.exports={ParseTileLayers:a(6656),ParseTilesets:a(96483),ParseWeltmeister:a(87021)}},57442:(C,k,a)=>{C.exports={FromOrientationString:a(6641),Parse:a(46177),Parse2DArray:a(2342),ParseCSV:a(82593),Impact:a(52833),Tiled:a(96761)}},51233:(C,k,a)=>{var y=a(79291);C.exports=function(m){for(var f,h,u,p,d=0;d<m.layers.length;d++){f=m.layers[d],u=null;for(var g=0;g<f.data.length;g++){p=f.data[g];for(var v=0;v<p.length;v++)!(null===(h=p[v])||h.index<0)&&(h.width=(u=m.tilesets[m.tiles[h.index][2]]).tileWidth,h.height=u.tileHeight,u.tileProperties&&u.tileProperties[h.index-u.firstgid]&&(h.properties=y(h.properties,u.tileProperties[h.index-u.firstgid])))}}}},41868:C=>{C.exports=function(a){for(var y=window.atob(a),T=y.length,m=new Array(T/4),f=0;f<T;f+=4)m[f/4]=(y.charCodeAt(f)|y.charCodeAt(f+1)<<8|y.charCodeAt(f+2)<<16|y.charCodeAt(f+3)<<24)>>>0;return m}},84101:(C,k,a)=>{var y=a(33629);C.exports=function(m){var f,h,c=[];for(f=0;f<m.imageCollections.length;f++)for(var u=m.imageCollections[f],p=u.images,d=0;d<p.length;d++){var g=p[d];(h=new y(g.image,g.gid,u.imageWidth,u.imageHeight,0,0)).updateTileData(u.imageWidth,u.imageHeight),m.tilesets.push(h)}for(f=0;f<m.tilesets.length;f++)for(var v=(h=m.tilesets[f]).tileMargin,x=h.tileMargin,b=0,_=0,E=0,A=h.firstgid;A<h.firstgid+h.total&&(c[A]=[v,x,f],v+=h.tileWidth+h.tileSpacing,++b!==h.total&&(++_!==h.columns||(v=h.tileMargin,x+=h.tileHeight+h.tileSpacing,_=0,++E!==h.rows)));A++);return c}},79677:(C,k,a)=>{var y=a(95540);C.exports=function(m,f,h){if(!f)return{i:0,layers:m.layers,name:"",opacity:1,visible:!0,x:0,y:0};var c=f.x+y(f,"startx",0)*m.tilewidth+y(f,"offsetx",0),u=f.y+y(f,"starty",0)*m.tileheight+y(f,"offsety",0);return{i:0,layers:f.layers,name:h.name+f.name+"/",opacity:h.opacity*f.opacity,visible:h.visible&&f.visible,x:h.x+c,y:h.y+u}}},29920:C=>{var k=2147483648,a=1073741824,y=536870912;C.exports=function(m){var f=!!(m&k),h=!!(m&a),c=!!(m&y);m&=~(k|a|y);var u=0,p=!1;return f&&h&&c?(u=Math.PI/2,p=!0):f&&h&&!c?(u=Math.PI,p=!1):f&&!h&&c?(u=Math.PI/2,p=!1):!f||h||c?!f&&h&&c?(u=3*Math.PI/2,p=!1):f||!h||c?f||h||!c?!f&&!h&&!c&&(u=0,p=!1):(u=3*Math.PI/2,p=!0):(u=Math.PI,p=!0):(u=0,p=!0),{gid:m,flippedHorizontal:f,flippedVertical:h,flippedAntiDiagonal:c,rotation:u,flipped:p}}},12635:(C,k,a)=>{var y=a(95540),T=a(79677);C.exports=function(f){for(var h=[],c=[],u=T(f);u.i<u.layers.length||c.length>0;)if(u.i>=u.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}u=c.pop()}else{var p=u.layers[u.i];if(u.i++,"imagelayer"===p.type){var g=y(p,"offsetx",0)+y(p,"startx",0),v=y(p,"offsety",0)+y(p,"starty",0);h.push({name:u.name+p.name,image:p.image,x:u.x+g+p.x,y:u.y+v+p.y,alpha:u.opacity*p.opacity,visible:u.visible&&p.visible,properties:y(p,"properties",{})})}else if("group"===p.type){var d=T(f,p,u);c.push(u),u=d}}return h}},46594:(C,k,a)=>{var y=a(51233),T=a(84101),m=a(91907),f=a(62644),h=a(80341),c=a(6641),u=a(87010),p=a(12635),d=a(22611),g=a(28200),v=a(24619);C.exports=function(b,_,E){var A=f(_),D=new u({width:A.width,height:A.height,name:b,tileWidth:A.tilewidth,tileHeight:A.tileheight,orientation:c(A.orientation),format:h.TILED_JSON,version:A.version,properties:A.properties,renderOrder:A.renderorder,infinite:A.infinite});D.orientation===m.HEXAGONAL&&(D.hexSideLength=A.hexsidelength,D.staggerAxis=A.staggeraxis,D.staggerIndex=A.staggerindex),D.layers=g(A,E),D.images=p(A);var I=v(A);return D.tilesets=I.tilesets,D.imageCollections=I.imageCollections,D.objects=d(A),D.tiles=T(D),y(D),D}},52205:(C,k,a)=>{var y=a(18254),T=a(29920),m=function(c){return{x:c.x,y:c.y}},f=["id","name","type","rotation","properties","visible","x","y","width","height"];C.exports=function(c,u,p){void 0===u&&(u=0),void 0===p&&(p=0);var d=y(c,f);if(d.x+=u,d.y+=p,c.gid){var g=T(c.gid);d.gid=g.gid,d.flippedHorizontal=g.flippedHorizontal,d.flippedVertical=g.flippedVertical,d.flippedAntiDiagonal=g.flippedAntiDiagonal}else c.polyline?d.polyline=c.polyline.map(m):c.polygon?d.polygon=c.polygon.map(m):c.ellipse?d.ellipse=c.ellipse:c.text?d.text=c.text:c.point?d.point=!0:d.rectangle=!0;return d}},22611:(C,k,a)=>{var y=a(95540),T=a(52205),m=a(48700),f=a(79677);C.exports=function(c){for(var u=[],p=[],d=f(c);d.i<d.layers.length||p.length>0;)if(d.i>=d.layers.length){if(p.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=p.pop()}else{var g=d.layers[d.i];if(d.i++,g.opacity*=d.opacity,g.visible=d.visible&&g.visible,"objectgroup"===g.type){g.name=d.name+g.name;for(var x=d.x+y(g,"startx",0)+y(g,"offsetx",0),b=d.y+y(g,"starty",0)+y(g,"offsety",0),_=[],E=0;E<g.objects.length;E++){var A=T(g.objects[E],x,b);_.push(A)}var D=new m(g);D.objects=_,u.push(D)}else if("group"===g.type){var v=f(c,g,d);p.push(d),d=v}}return u}},28200:(C,k,a)=>{var y=a(41868),T=a(91907),m=a(79677),f=a(6641),h=a(95540),c=a(14977),u=a(29920),p=a(23029);C.exports=function(g,v){for(var x=h(g,"infinite",!1),b=[],_=[],E=m(g);E.i<E.layers.length||_.length>0;)if(E.i>=E.layers.length){if(_.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}E=_.pop()}else{var A=E.layers[E.i];if(E.i++,"tilelayer"===A.type)if(A.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+A.name+"'");else{if(A.encoding&&"base64"===A.encoding){if(A.chunks)for(var I=0;I<A.chunks.length;I++)A.chunks[I].data=y(A.chunks[I].data);A.data&&(A.data=y(A.data)),delete A.encoding}var R,F,L,V,B=[],G=0;if(x){var Q=h(A,"startx",0)+A.x,H=h(A,"starty",0)+A.y;(R=new c({name:E.name+A.name,id:A.id,x:E.x+h(A,"offsetx",0)+Q*g.tilewidth,y:E.y+h(A,"offsety",0)+H*g.tileheight,width:A.width,height:A.height,tileWidth:g.tilewidth,tileHeight:g.tileheight,alpha:E.opacity*A.opacity,visible:E.visible&&A.visible,properties:h(A,"properties",[]),orientation:f(g.orientation)})).orientation===T.HEXAGONAL&&(R.hexSideLength=g.hexsidelength,R.staggerAxis=g.staggeraxis,R.staggerIndex=g.staggerindex);for(var K=0;K<A.height;K++){B[K]=[null];for(var tt=0;tt<A.width;tt++)B[K][tt]=null}for(K=0,St=A.chunks.length;K<St;K++)for(var at=A.chunks[K],lt=at.x-Q,J=at.y-H,it=0,Y=0,X=at.data.length;Y<X;Y++){var nt=G+lt,ht=it+J;(F=u(at.data[Y])).gid>0?((L=new p(R,F.gid,nt,ht,g.tilewidth,g.tileheight)).rotation=F.rotation,L.flipX=F.flipped,B[ht][nt]=L):(V=v?null:new p(R,-1,nt,ht,g.tilewidth,g.tileheight),B[ht][nt]=V),++G===at.width&&(it++,G=0)}}else{(R=new c({name:E.name+A.name,id:A.id,x:E.x+h(A,"offsetx",0)+A.x,y:E.y+h(A,"offsety",0)+A.y,width:A.width,height:A.height,tileWidth:g.tilewidth,tileHeight:g.tileheight,alpha:E.opacity*A.opacity,visible:E.visible&&A.visible,properties:h(A,"properties",[]),orientation:f(g.orientation)})).orientation===T.HEXAGONAL&&(R.hexSideLength=g.hexsidelength,R.staggerAxis=g.staggeraxis,R.staggerIndex=g.staggerindex);for(var gt=[],wt=0,St=A.data.length;wt<St;wt++)(F=u(A.data[wt])).gid>0?((L=new p(R,F.gid,G,B.length,g.tilewidth,g.tileheight)).rotation=F.rotation,L.flipX=F.flipped,gt.push(L)):(V=v?null:new p(R,-1,G,B.length,g.tilewidth,g.tileheight),gt.push(V)),++G===A.width&&(B.push(gt),G=0,gt=[])}R.data=B,b.push(R)}else if("group"===A.type){var D=m(g,A,E);_.push(E),E=D}}return b}},24619:(C,k,a)=>{var y=a(33629),T=a(16536),m=a(52205),f=a(57880);C.exports=function(c){for(var g,u=[],p=[],d=null,v=0;v<c.tilesets.length;v++){var x=c.tilesets[v];if(x.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(x.image){var b=new y(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,void 0,void 0,x.tileoffset);if(c.version>1){var _=void 0,E=void 0;if(Array.isArray(x.tiles)){_=_||{},E=E||{};for(var A=0;A<x.tiles.length;A++){var D=x.tiles[A];if(D.properties){var I={};D.properties.forEach(function(K){I[K.name]=K.value}),E[D.id]=I}if(D.objectgroup&&((_[D.id]||(_[D.id]={})).objectgroup=D.objectgroup,D.objectgroup.objects)){var R=D.objectgroup.objects.map(function(K){return m(K)});_[D.id].objectgroup.objects=R}D.animation&&((_[D.id]||(_[D.id]={})).animation=D.animation),D.type&&((_[D.id]||(_[D.id]={})).type=D.type)}}Array.isArray(x.wangsets)&&(E=E||{},f(x.wangsets,_=_||{})),_&&(b.tileData=_,b.tileProperties=E)}else if(x.tileproperties&&(b.tileProperties=x.tileproperties),x.tiles)for(g in b.tileData=x.tiles,b.tileData){var F=b.tileData[g].objectgroup;if(F&&F.objects){var L=F.objects.map(function(K){return m(K)});b.tileData[g].objectgroup.objects=L}}b.updateTileData(x.imagewidth,x.imageheight),u.push(b)}else{var V=new T(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,x.properties),B=0;for(A=0;A<x.tiles.length;A++){var G=(D=x.tiles[A]).image,Q=parseInt(D.id,10);V.addImage(x.firstgid+Q,G),B=Math.max(Q,B)}V.maxId=B,p.push(V)}d&&(d.lastgid=x.firstgid-1),d=x}return{tilesets:u,imageCollections:p}}},57880:C=>{C.exports=function(a,y){for(var T=0;T<a.length;T++){var m=a[T],f=T;if(m.name&&""!==m.name&&(f=m.name),Array.isArray(m.wangtiles)&&m.wangtiles.length>0){var u,p,d,h={},c={};if(Array.isArray(m.edgecolors))for(u=0;u<m.edgecolors.length;u++)d=1+u,""!==(p=m.edgecolors[u]).name&&(h[d]=p.name);if(Array.isArray(m.cornercolors))for(u=0;u<m.cornercolors.length;u++)d=1+u,""!==(p=m.cornercolors[u]).name&&(c[d]=p.name);if(Array.isArray(m.colors))for(u=0;u<m.colors.length;u++)d=1+u,""!==(p=m.colors[u]).name&&(h[d]=c[d]=p.name);for(var g=[h,c,h,c,h,c,h,c],v=0;v<m.wangtiles.length;v++){var x=m.wangtiles[v],b=y[x.tileid]||(y[x.tileid]={});b=b.wangid||(b.wangid={});for(var _=[],E=0;E<Math.min(g.length,x.wangid.length);E++)if(0!==(p=x.wangid[E])){var A=g[E][p];_.push(void 0===A?p:A)}else _.push(void 0);b[f]=_}}}}},96761:(C,k,a)=>{C.exports={AssignTileProperties:a(51233),Base64Decode:a(41868),BuildTilesetIndex:a(84101),CreateGroupLayer:a(79677),ParseGID:a(29920),ParseImageLayers:a(12635),ParseJSONTiled:a(46594),ParseObject:a(52205),ParseObjectLayers:a(22611),ParseTileLayers:a(28200),ParseTilesets:a(24619)}},33385:(C,k,a)=>{var y=a(83419),T=a(37277),m=a(44594),f=a(94880),h=a(72905),c=new y({initialize:function(p){this.scene=p,this.systems=p.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],p.sys.events.once(m.BOOT,this.boot,this),p.sys.events.on(m.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(m.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var u=this.systems.events;u.on(m.PRE_UPDATE,this.preUpdate,this),u.on(m.UPDATE,this.update,this),u.once(m.SHUTDOWN,this.shutdown,this)},addEvent:function(u){var p;return u instanceof f?(this.removeEvent(p=u),p.elapsed=p.startAt,p.hasDispatched=!1,p.repeatCount=-1===p.repeat||p.loop?999999999999:p.repeat):p=new f(u),this._pendingInsertion.push(p),p},delayedCall:function(u,p,d,g){return this.addEvent({delay:u,callback:p,args:d,callbackScope:g})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(u){Array.isArray(u)||(u=[u]);for(var p=0;p<u.length;p++){var d=u[p];h(this._pendingRemoval,d),h(this._pendingInsertion,d),h(this._active,d)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var u=this._pendingRemoval.length,p=this._pendingInsertion.length;if(0!==u||0!==p){var d,g;for(d=0;d<u;d++){var v=this._active.indexOf(g=this._pendingRemoval[d]);v>-1&&this._active.splice(v,1),g.destroy()}for(d=0;d<p;d++)this._active.push(g=this._pendingInsertion[d]);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(u,p){if(this.now=u,!this.paused){p*=this.timeScale;for(var d=0;d<this._active.length;d++){var g=this._active[d];if(!g.paused&&(g.elapsed+=p*g.timeScale,g.elapsed>=g.delay)){var v=g.elapsed-g.delay;if(g.elapsed=g.delay,!g.hasDispatched&&g.callback&&(g.hasDispatched=!0,g.callback.apply(g.callbackScope,g.args)),g.repeatCount>0){if(g.repeatCount--,v>=g.delay)for(;v>=g.delay&&g.repeatCount>0;)g.callback&&g.callback.apply(g.callbackScope,g.args),v-=g.delay,g.repeatCount--;g.elapsed=v,g.hasDispatched=!1}else g.hasDispatched&&this._pendingRemoval.push(g)}}}},shutdown:function(){var u;for(u=0;u<this._pendingInsertion.length;u++)this._pendingInsertion[u].destroy();for(u=0;u<this._active.length;u++)this._active[u].destroy();for(u=0;u<this._pendingRemoval.length;u++)this._pendingRemoval[u].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var p=this.systems.events;p.off(m.PRE_UPDATE,this.preUpdate,this),p.off(m.UPDATE,this.update,this),p.off(m.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(m.START,this.start,this),this.scene=null,this.systems=null}});T.register("Clock",c,"time"),C.exports=c},96120:(C,k,a)=>{var y=a(83419),T=a(50792),m=a(39429),f=a(95540),h=a(44594),c=a(89809),u=new y({Extends:T,initialize:function(d,g){T.call(this),this.scene=d,this.systems=d.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var v=this.systems.events;v.on(h.PRE_UPDATE,this.preUpdate,this),v.on(h.UPDATE,this.update,this),v.once(h.SHUTDOWN,this.destroy,this),g&&this.add(g)},preUpdate:function(p,d){this.paused||(this.elapsed+=d*this.timeScale)},update:function(){if(!this.paused&&!this.complete){var p,x,d=this.events,g=!1,v=this.systems;for(p=0;p<d.length;p++){var b=d[p];if(!b.complete&&b.time<=this.elapsed){if(b.complete=!0,this.totalComplete++,x=b.target?b.target:this,b.if&&!b.if.call(x,b))continue;if(b.once&&(g=!0),b.set&&b.target)for(var _ in b.set)b.target[_]=b.set[_];this.iteration&&b.repeat++,b.loop&&b.repeat&&b.loop.call(x),b.tween&&(b.tweenInstance=v.tweens.add(b.tween)),b.sound&&("string"==typeof b.sound?v.sound.play(b.sound):v.sound.play(b.sound.key,b.sound.config)),b.event&&this.emit(b.event,x),b.run&&b.run.call(x),b.stop&&this.stop()}}if(g)for(p=0;p<d.length;p++)d[p].complete&&d[p].once&&(d.splice(p,1),p--);this.totalComplete>=d.length&&(0!==this.loop&&(-1===this.loop||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(c.COMPLETE,this)}},play:function(p){return void 0===p&&(p=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,p&&this.reset(),this},pause:function(){this.paused=!0;for(var p=this.events,d=0;d<p.length;d++){var g=p[d];g.tweenInstance&&(g.tweenInstance.paused=!0)}return this},repeat:function(p){return(void 0===p||!0===p)&&(p=-1),!1===p&&(p=0),this.loop=p,this},resume:function(){this.paused=!1;for(var p=this.events,d=0;d<p.length;d++){var g=p[d];g.tweenInstance&&(g.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(p){void 0===p&&(p=!1),this.elapsed=0,p||(this.iteration=0);for(var d=this.events,g=0;g<d.length;g++){var v=d[g];v.complete=!1,p||(v.repeat=0),v.tweenInstance&&v.tweenInstance.stop()}return this.play(!1)},add:function(p){Array.isArray(p)||(p=[p]);var d=this.events,g=0;d.length>0&&(g=d[d.length-1].time);for(var v=0;v<p.length;v++){var x=p[v],b=f(x,"at",0),_=f(x,"in",null);null!==_&&(b=this.elapsed+_);var E=f(x,"from",null);null!==E&&(b=g+E),d.push({complete:!1,time:b,repeat:0,if:f(x,"if",null),run:f(x,"run",null),loop:f(x,"loop",null),event:f(x,"event",null),target:f(x,"target",null),set:f(x,"set",null),tween:f(x,"tween",null),sound:f(x,"sound",null),once:f(x,"once",!1),stop:f(x,"stop",!1)}),g=b}return this.complete=!1,this},clear:function(){for(var p=this.events,d=0;d<p.length;d++){var g=p[d];g.tweenInstance&&g.tweenInstance.stop()}return p=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){return Math.min(this.totalComplete,this.events.length)/this.events.length},destroy:function(){var p=this.systems.events;p.off(h.PRE_UPDATE,this.preUpdate,this),p.off(h.UPDATE,this.update,this),p.off(h.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});m.register("timeline",function(p){return new u(this.scene,p)}),C.exports=u},94880:(C,k,a)=>{var y=a(83419),T=a(95540),m=new y({initialize:function(h){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(h)},reset:function(f){if(this.delay=T(f,"delay",0),this.repeat=T(f,"repeat",0),this.loop=T(f,"loop",!1),this.callback=T(f,"callback",void 0),this.callbackScope=T(f,"callbackScope",this),this.args=T(f,"args",[]),this.timeScale=T(f,"timeScale",1),this.startAt=T(f,"startAt",0),this.paused=T(f,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,0===this.delay&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){return this.repeat>0?(this.elapsed+this.delay*(this.repeat-this.repeatCount))/(this.delay+this.delay*this.repeat):this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return.001*this.getRemaining()},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return.001*this.getOverallRemaining()},remove:function(f){void 0===f&&(f=!1),this.elapsed=this.delay,this.hasDispatched=!f,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});C.exports=m},35945:C=>{C.exports="complete"},89809:(C,k,a)=>{C.exports={COMPLETE:a(35945)}},90291:(C,k,a)=>{C.exports={Clock:a(33385),Events:a(89809),Timeline:a(96120),TimerEvent:a(94880)}},40382:(C,k,a)=>{var y=a(72905),T=a(83419),m=a(43491),f=a(88032),h=a(37277),c=a(44594),u=a(93109),p=a(86081),d=a(8357),g=a(43960),v=a(26012),x=new T({initialize:function(_){this.scene=_,this.events=_.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},boot:function(){this.events.once(c.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(c.UPDATE,this.update,this),this.events.once(c.SHUTDOWN,this.shutdown,this)},create:function(b){Array.isArray(b)||(b=[b]);for(var _=[],E=0;E<b.length;E++){var A=b[E];A instanceof p||A instanceof g?_.push(A):Array.isArray(A.tweens)?_.push(v(this,A)):_.push(d(this,A))}return 1===_.length?_[0]:_},add:function(b){var _=b,E=this.tweens;return _ instanceof p||_ instanceof g||(_=Array.isArray(_.tweens)?v(this,_):d(this,_)),E.push(_.reset()),_},addMultiple:function(b){for(var _,E=[],A=this.tweens,D=0;D<b.length;D++)(_=b[D])instanceof p||_ instanceof g||(_=Array.isArray(_.tweens)?v(this,_):d(this,_)),A.push(_.reset()),E.push(_);return E},chain:function(b){var _=v(this,b);return this.tweens.push(_.init()),_},getChainedTweens:function(b){return b.getChainedTweens()},has:function(b){return this.tweens.indexOf(b)>-1},existing:function(b){return this.has(b)||this.tweens.push(b.reset()),this},addCounter:function(b){var _=f(this,b);return this.tweens.push(_.reset()),_},stagger:function(b,_){return u(b,_)},setLagSmooth:function(b,_){return void 0===b&&(b=1/1e-8),void 0===_&&(_=0),this.maxLag=b,this.lagSkip=Math.min(_,this.maxLag),this},setFps:function(b){return void 0===b&&(b=240),this.gap=1e3/b,this.nextTime=1e3*this.time+this.gap,this},getDelta:function(b){var _=Date.now()-this.prevTime;_>this.maxLag&&(this.startTime+=_-this.lagSkip),this.prevTime+=_;var E=this.prevTime-this.startTime,A=E-this.nextTime,D=E-1e3*this.time;return A>0||b?(this.time=E/=1e3,this.nextTime+=A+(A>=this.gap?4:this.gap-A)):D=0,D},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(b){void 0===b&&(b=!1);var _=this.getDelta(b);if(!(_<=0)){this.processing=!0;var E,A,D=[],I=this.tweens;for(E=0;E<I.length;E++)(A=I[E]).update(_)&&D.push(A);var R=D.length;if(R&&I.length>0){for(E=0;E<R;E++){var F=I.indexOf(A=D[E]);F>-1&&(A.isPendingRemove()||A.isDestroyed())&&(I.splice(F,1),A.destroy())}D.length=0}this.processing=!1}},remove:function(b){return this.processing?b.setPendingRemoveState():(y(this.tweens,b),b.setRemovedState()),this},reset:function(b){return this.existing(b),b.seek(),b.setActiveState(),this},makeActive:function(b){return this.existing(b),b.setActiveState(),this},each:function(b,_){var E,A=[null];for(E=1;E<arguments.length;E++)A.push(arguments[E]);return this.tweens.forEach(function(D){A[0]=D,b.apply(_,A)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(b){for(var _=[],E=this.tweens,A=(b=Array.isArray(b)?m(b):[b]).length,D=0;D<E.length;D++)for(var I=E[D],R=0;R<A;R++)!I.isDestroyed()&&I.hasTarget(b[R])&&_.push(I);return _},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(b){return this.timeScale=b,this},isTweening:function(b){for(var E,_=this.tweens,A=0;A<_.length;A++)if((E=_[A]).isPlaying()&&E.hasTarget(b))return!0;return!1},killAll:function(){for(var b=this.processing?this.getTweens():this.tweens,_=0;_<b.length;_++)b[_].destroy();return this.processing||(b.length=0),this},killTweensOf:function(b){for(var _=this.getTweensOf(b),E=0;E<_.length;E++)_[E].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(c.UPDATE,this.update,this),this.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.events=null}});h.register("TweenManager",x,"tweens"),C.exports=x},57355:C=>{C.exports=function(a,y,T){return a&&a.hasOwnProperty(y)?a[y]:T}},6113:(C,k,a)=>{var y=a(62640),T=a(35355);C.exports=function(f,h){var c=y.Power0;if("string"==typeof f)if(y.hasOwnProperty(f))c=y[f];else{var u="";if(f.indexOf(".")){var p=(u=f.substring(f.indexOf(".")+1)).toLowerCase();"in"===p?u="easeIn":"out"===p?u="easeOut":"inout"===p&&(u="easeInOut")}f=T(f.substring(0,f.indexOf(".")+1)+u),y.hasOwnProperty(f)&&(c=y[f])}else"function"==typeof f&&(c=f);if(!h)return c;var d=h.slice(0);return d.unshift(0),function(g){return d[0]=g,c.apply(this,d)}}},91389:(C,k,a)=>{var y=a(89318),T=a(77259),f={bezier:y,catmull:T,catmullrom:T,linear:a(28392)};C.exports=function(c){if(null===c)return null;var u=f.linear;return"string"==typeof c?f.hasOwnProperty(c)&&(u=f[c]):"function"==typeof c&&(u=c),u}},55292:C=>{C.exports=function(a,y,T){return a.hasOwnProperty(y)?"function"==typeof a[y]?function(h,c,u,p,d,g){return a[y](h,c,u,p,d,g)}:function(){return a[y]}:"function"==typeof T?T:function(){return T}}},82985:(C,k,a)=>{var y=a(81076);C.exports=function(m){var f,h=[];if(m.hasOwnProperty("props"))for(f in m.props)"_"!==f.substring(0,1)&&h.push({key:f,value:m.props[f]});else for(f in m)-1===y.indexOf(f)&&"_"!==f.substring(0,1)&&h.push({key:f,value:m[f]});return h}},62329:(C,k,a)=>{var y=a(35154);C.exports=function(m){var f=y(m,"targets",null);return null===f||("function"==typeof f&&(f=f.call()),Array.isArray(f)||(f=[f])),f}},17777:(C,k,a)=>{var y=a(30976),T=a(99472);function m(p){return!!p.getActive&&"function"==typeof p.getActive}function f(p){return!!p.getStart&&"function"==typeof p.getStart}function h(p){return!!p.getEnd&&"function"==typeof p.getEnd}var u=function(p,d){var g,v=function(at,lt,J){return J},x=function(at,lt,J){return J},b=null,_=typeof d;if("number"===_)v=function(){return d};else if(Array.isArray(d))x=function(){return d[0]},v=function(){return d[d.length-1]};else if("string"===_){var E=d.toLowerCase(),A="random"===E.substring(0,6),D="int"===E.substring(0,3);if(A||D){var I=E.indexOf("("),R=E.indexOf(")"),F=E.indexOf(",");if(!(I&&R&&F))throw new Error("invalid random() format");var L=parseFloat(E.substring(I+1,F)),V=parseFloat(E.substring(F+1,R));v=A?function(){return T(L,V)}:function(){return y(L,V)}}else{E=E[0];var B=parseFloat(d.substr(2));switch(E){case"+":v=function(at,lt,J){return J+B};break;case"-":v=function(at,lt,J){return J-B};break;case"*":v=function(at,lt,J){return J*B};break;case"/":v=function(at,lt,J){return J/B};break;default:v=function(){return parseFloat(d)}}}}else if("function"===_)v=d;else if("object"===_)if(function c(p){return f(p)||h(p)||m(p)}(d))m(d)&&(b=d.getActive),h(d)&&(v=d.getEnd),f(d)&&(x=d.getStart);else if(d.hasOwnProperty("value"))g=u(p,d.value);else{var G=d.hasOwnProperty("to"),Q=d.hasOwnProperty("from"),H=d.hasOwnProperty("start");if(G&&(Q||H)){if(g=u(p,d.to),H){var K=u(p,d.start);g.getActive=K.getEnd}if(Q){var tt=u(p,d.from);g.getStart=tt.getEnd}}}return g||(g={getActive:b,getEnd:v,getStart:x}),g};C.exports=u},88032:(C,k,a)=>{var y=a(70402),T=a(69902),m=a(23568),f=a(57355),h=a(6113),c=a(55292),u=a(35154),p=a(17777),d=a(269),g=a(86081);C.exports=function(x,b,_){if(b instanceof g)return b.parent=x,b;_=void 0===_?T:d(T,_);var E=u(b,"from",0),A=u(b,"to",1),D=[{value:E}],I=u(b,"delay",_.delay),R=u(b,"easeParams",_.easeParams),F=u(b,"ease",_.ease),L=p("value",A),V=new g(x,D),B=V.add(0,"value",L.getEnd,L.getStart,L.getActive,h(u(b,"ease",F),u(b,"easeParams",R)),c(b,"delay",I),u(b,"duration",_.duration),f(b,"yoyo",_.yoyo),u(b,"hold",_.hold),u(b,"repeat",_.repeat),u(b,"repeatDelay",_.repeatDelay),!1,!1);B.start=E,B.current=E,V.completeDelay=m(b,"completeDelay",0),V.loop=Math.round(m(b,"loop",0)),V.loopDelay=Math.round(m(b,"loopDelay",0)),V.paused=f(b,"paused",!1),V.persist=f(b,"persist",!1),V.callbackScope=u(b,"callbackScope",V);for(var G=y.TYPES,Q=0;Q<G.length;Q++){var H=G[Q],K=u(b,H,!1);if(K){var tt=u(b,H+"Params",[]);V.setCallback(H,K,tt)}}return V}},93109:(C,k,a)=>{var y=a(6113),T=a(35154),m=a(36383);C.exports=function(h,c){void 0===c&&(c={});var p=T(c,"start",0),d=T(c,"ease",null),g=T(c,"grid",null),v=T(c,"from",0),x="first"===v,b="center"===v,_="last"===v,E="number"==typeof v,A=Array.isArray(h),D=parseFloat(A?h[0]:h),I=A?parseFloat(h[1]):0,R=Math.max(D,I);if(A&&(p+=D),g){var F=g[0],L=g[1],V=0,B=0,G=0,Q=0,H=[];_?(V=F-1,B=L-1):E?(V=v%F,B=Math.floor(v/F)):b&&(V=(F-1)/2,B=(L-1)/2);for(var K=m.MIN_SAFE_INTEGER,tt=0;tt<L;tt++){H[tt]=[];for(var at=0;at<F;at++){G=V-at,Q=B-tt;var lt=Math.sqrt(G*G+Q*Q);lt>K&&(K=lt),H[tt][at]=lt}}}var J=d?y(d):null;return g?function(it,Y,X,nt){var St,ht=0,gt=nt%F,wt=Math.floor(nt/F);if(gt>=0&&gt<F&&wt>=0&&wt<L&&(ht=H[wt][gt]),A){var Vt=I-D;St=J?ht/K*Vt*J(ht/K):ht/K*Vt}else St=J?ht*D*J(ht/K):ht*D;return St+p}:function(it,Y,X,nt,ht){var gt,wt,St;return ht--,x?gt=nt:b?gt=Math.abs(ht/2-nt):_?gt=ht-nt:E&&(gt=Math.abs(v-nt)),A?(St=b?(I-D)/ht*(2*gt):(I-D)/ht*gt,wt=J?St*J(gt/ht):St):wt=J?ht*R*J(gt/ht):gt*D,wt+p}}},8357:(C,k,a)=>{var y=a(70402),T=a(69902),m=a(23568),f=a(57355),h=a(6113),c=a(91389),u=a(55292),p=a(82985),d=a(62329),g=a(35154),v=a(17777),x=a(269),b=a(86081);C.exports=function(E,A,D){if(A instanceof b)return A.parent=E,A;D=void 0===D?T:x(T,D);var I=d(A);!I&&D.targets&&(I=D.targets);for(var R=p(A),F=g(A,"delay",D.delay),L=g(A,"duration",D.duration),V=g(A,"easeParams",D.easeParams),B=g(A,"ease",D.ease),G=g(A,"hold",D.hold),Q=g(A,"repeat",D.repeat),H=g(A,"repeatDelay",D.repeatDelay),K=f(A,"yoyo",D.yoyo),tt=f(A,"flipX",D.flipX),at=f(A,"flipY",D.flipY),lt=g(A,"interpolation",D.interpolation),J=function(Jt,ie,ae,fe){if("texture"===ae){var Pe=fe,Xe=void 0;Array.isArray(fe)?(Pe=fe[0],Xe=fe[1]):fe.hasOwnProperty("value")?(Pe=fe.value,Array.isArray(fe.value)?(Pe=fe.value[0],Xe=fe.value[1]):"string"==typeof fe.value&&(Pe=fe.value)):"string"==typeof fe&&(Pe=fe),Jt.addFrame(ie,Pe,Xe,u(fe,"delay",F),g(fe,"duration",L),g(fe,"hold",G),g(fe,"repeat",Q),g(fe,"repeatDelay",H),f(fe,"flipX",tt),f(fe,"flipY",at))}else{var Re=v(ae,fe),$e=c(g(fe,"interpolation",lt));Jt.add(ie,ae,Re.getEnd,Re.getStart,Re.getActive,h(g(fe,"ease",B),g(fe,"easeParams",V)),u(fe,"delay",F),g(fe,"duration",L),f(fe,"yoyo",K),g(fe,"hold",G),g(fe,"repeat",Q),g(fe,"repeatDelay",H),f(fe,"flipX",tt),f(fe,"flipY",at),$e,$e?fe:null)}},it=new b(E,I),Y=0;Y<R.length;Y++)for(var X=R[Y].key,nt=R[Y].value,ht=0;ht<I.length;ht++)"scale"!==X||I[ht].hasOwnProperty("scale")?J(it,ht,X,nt):(J(it,ht,"scaleX",nt),J(it,ht,"scaleY",nt));it.completeDelay=m(A,"completeDelay",0),it.loop=Math.round(m(A,"loop",0)),it.loopDelay=Math.round(m(A,"loopDelay",0)),it.paused=f(A,"paused",!1),it.persist=f(A,"persist",!1),it.callbackScope=g(A,"callbackScope",it);for(var gt=y.TYPES,wt=0;wt<gt.length;wt++){var St=gt[wt],Vt=g(A,St,!1);if(Vt){var Zt=g(A,St+"Params",[]);it.setCallback(St,Vt,Zt)}}return it}},26012:(C,k,a)=>{var y=a(70402),T=a(23568),m=a(57355),f=a(62329),h=a(35154),c=a(8357),u=a(43960);C.exports=function(d,g){if(g instanceof u)return g.parent=d,g;var v=new u(d);v.startDelay=h(g,"delay",0),v.completeDelay=T(g,"completeDelay",0),v.loop=Math.round(T(g,"loop",h(g,"repeat",0))),v.loopDelay=Math.round(T(g,"loopDelay",h(g,"repeatDelay",0))),v.paused=m(g,"paused",!1),v.persist=m(g,"persist",!1),v.callbackScope=h(g,"callbackScope",v);var x,b=y.TYPES;for(x=0;x<b.length;x++){var _=b[x],E=h(g,_,!1);if(E){var A=h(g,_+"Params",[]);v.setCallback(_,E,A)}}var D=h(g,"tweens",null);if(Array.isArray(D)){var I=[],R=f(g),F=void 0;for(R&&(F={targets:R}),x=0;x<D.length;x++)I.push(c(v,D[x],F));v.add(I)}return v}},30231:(C,k,a)=>{C.exports={GetBoolean:a(57355),GetEaseFunction:a(6113),GetInterpolationFunction:a(91389),GetNewValue:a(55292),GetProps:a(82985),GetTargets:a(62329),GetValueOp:a(17777),NumberTweenBuilder:a(88032),StaggerBuilder:a(93109),TweenBuilder:a(8357)}},73685:C=>{C.exports="active"},98540:C=>{C.exports="complete"},67233:C=>{C.exports="loop"},2859:C=>{C.exports="pause"},98336:C=>{C.exports="repeat"},25764:C=>{C.exports="resume"},32193:C=>{C.exports="start"},84371:C=>{C.exports="stop"},70766:C=>{C.exports="update"},55659:C=>{C.exports="yoyo"},842:(C,k,a)=>{C.exports={TWEEN_ACTIVE:a(73685),TWEEN_COMPLETE:a(98540),TWEEN_LOOP:a(67233),TWEEN_PAUSE:a(2859),TWEEN_RESUME:a(25764),TWEEN_REPEAT:a(98336),TWEEN_START:a(32193),TWEEN_STOP:a(84371),TWEEN_UPDATE:a(70766),TWEEN_YOYO:a(55659)}},43066:(C,k,a)=>{var y={States:a(86353),Builders:a(30231),Events:a(842),TweenManager:a(40382),Tween:a(86081),TweenData:a(48177),TweenFrameData:a(42220),BaseTween:a(70402),TweenChain:a(43960)};C.exports=y},70402:(C,k,a)=>{var y=a(83419),T=a(50792),m=a(842),f=a(86353),h=new y({Extends:T,initialize:function(u){T.call(this),this.parent=u,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=f.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.persist=!1},setTimeScale:function(c){return this.timeScale=c,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(m.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(m.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(m.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(m.TWEEN_COMPLETE,"onComplete")},complete:function(c){return void 0===c&&(c=0),c?(this.setCompleteDelayState(),this.countdown=c):this.onCompleteHandler(),this},completeAfterLoop:function(c){return void 0===c&&(c=0),this.loopCounter>c&&(this.loopCounter=c),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(m.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(c){this.countdown-=c,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(m.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(c){return this.countdown-=c,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(m.TWEEN_START,"onStart"),c=0),c},updateCompleteDelay:function(c){this.countdown-=c,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(c,u,p){return void 0===p&&(p=[]),this.callbacks.hasOwnProperty(c)&&(this.callbacks[c]={func:u,params:p}),this},setPendingState:function(){this.state=f.PENDING},setActiveState:function(){this.state=f.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=f.LOOP_DELAY},setCompleteDelayState:function(){this.state=f.COMPLETE_DELAY},setStartDelayState:function(){this.state=f.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=f.PENDING_REMOVE},setRemovedState:function(){this.state=f.REMOVED},setFinishedState:function(){this.state=f.FINISHED},setDestroyedState:function(){this.state=f.DESTROYED},isPending:function(){return this.state===f.PENDING},isActive:function(){return this.state===f.ACTIVE},isLoopDelayed:function(){return this.state===f.LOOP_DELAY},isCompleteDelayed:function(){return this.state===f.COMPLETE_DELAY},isStartDelayed:function(){return this.state===f.START_DELAY},isPendingRemove:function(){return this.state===f.PENDING_REMOVE},isRemoved:function(){return this.state===f.REMOVED},isFinished:function(){return this.state===f.FINISHED},isDestroyed:function(){return this.state===f.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(c){c.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});h.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],C.exports=h},95042:(C,k,a)=>{var y=a(83419),T=a(842),m=a(86353),f=new y({initialize:function(c,u,p,d,g,v,x,b,_,E){this.tween=c,this.targetIndex=u,this.duration=d,this.totalDuration=0,this.delay=0,this.getDelay=p,this.yoyo=g,this.hold=v,this.repeat=x,this.repeatDelay=b,this.repeatCounter=0,this.flipX=_,this.flipY=E,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(h){void 0===h&&(h=this.current),this.tween.targets[this.targetIndex][this.key]=h},setCreatedState:function(){this.state=m.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=m.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=m.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=m.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=m.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=m.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=m.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=m.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===m.CREATED},isDelayed:function(){return this.state===m.DELAY},isPendingRender:function(){return this.state===m.PENDING_RENDER},isPlayingForward:function(){return this.state===m.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===m.PLAYING_BACKWARD},isHolding:function(){return this.state===m.HOLD_DELAY},isRepeating:function(){return this.state===m.REPEAT_DELAY},isComplete:function(){return this.state===m.COMPLETE},setStateFromEnd:function(h){this.yoyo?this.onRepeat(h,!0,!0):this.repeatCounter>0?this.onRepeat(h,!0,!1):this.setCompleteState()},setStateFromStart:function(h){this.repeatCounter>0?this.onRepeat(h,!1):this.setCompleteState()},reset:function(){var h=this.tween,c=h.totalTargets,u=this.targetIndex,p=h.targets[u],d=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(p,d,0,u,c,h),this.repeatCounter=-1===this.repeat?m.MAX:this.repeat,this.setPendingRenderState();var g=this.duration+this.hold;this.yoyo&&(g+=this.duration);var v=g+this.repeatDelay;this.totalDuration=this.delay+g,-1===this.repeat?(this.totalDuration+=v*m.MAX,h.isInfinite=!0):this.repeat>0&&(this.totalDuration+=v*this.repeat),this.totalDuration>h.duration&&(h.duration=this.totalDuration),this.delay<h.startDelay&&(h.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(h,c,u){var p=this.tween,d=p.totalTargets,g=this.targetIndex,v=p.targets[g],x=this.key,b="texture"!==x;if(this.elapsed=h,this.progress=h/this.duration,this.flipX&&v.toggleFlipX(),this.flipY&&v.toggleFlipY(),b&&(c||u)&&(this.start=this.getStartValue(v,x,this.start,g,d,p)),u)return this.setPlayingBackwardState(),void this.dispatchEvent(T.TWEEN_YOYO,"onYoyo");this.repeatCounter--,b&&(this.end=this.getEndValue(v,x,this.start,g,d,p)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-h,b&&(this.current=this.start,v[x]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(T.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});C.exports=f},69902:C=>{C.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null}},81076:C=>{C.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(C,k,a)=>{var y=a(70402),T=a(83419),m=a(842),f=a(44603),h=a(39429),c=a(36383),u=a(86353),p=a(48177),d=a(42220),g=new T({Extends:y,initialize:function(x,b){y.call(this,x),this.targets=b,this.totalTargets=b.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(v,x,b,_,E,A,D,I,R,F,L,V,B,G,Q,H){var K=new p(this,v,x,b,_,E,A,D,I,R,F,L,V,B,G,Q,H);return this.totalData=this.data.push(K),K},addFrame:function(v,x,b,_,E,A,D,I,R,F){var L=new d(this,v,x,b,_,E,A,D,I,R,F);return this.totalData=this.data.push(L),L},getValue:function(v){void 0===v&&(v=0);var x=null;return this.data&&(x=this.data[v].current),x},hasTarget:function(v){return this.targets&&-1!==this.targets.indexOf(v)},updateTo:function(v,x,b){if(void 0===b&&(b=!1),"texture"!==v)for(var _=0;_<this.totalData;_++){var E=this.data[_];E.key===v&&(E.isPlayingForward()||E.isPlayingBackward())&&(E.end=x,b&&(E.start=E.current))}return this},restart:function(){switch(this.state){case u.REMOVED:case u.FINISHED:this.seek(),this.parent.makeActive(this);break;case u.PENDING:case u.PENDING_REMOVE:this.parent.reset(this);break;case u.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek()}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(m.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,y.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(v,x,b){if(void 0===v&&(v=0),void 0===x&&(x=16.6),void 0===b&&(b=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;b||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(m.TWEEN_ACTIVE,"onActive");var _=this.paused;if(this.paused=!1,v>0){for(var E=Math.floor(v/x),A=v-E*x,D=0;D<E;D++)this.update(x);A>0&&this.update(A)}return this.paused=_,this.isSeeking=!1,this},initTweenData:function(v){void 0===v&&(v=!1),this.duration=0,this.startDelay=c.MAX_SAFE_INTEGER;for(var x=this.data,b=0;b<this.totalData;b++)x[b].reset(v);this.duration=Math.max(this.duration,.01);var _=this.duration,E=this.completeDelay,A=this.loopCounter;this.totalDuration=A>0?_+E+(_+this.loopDelay)*A:_+E},reset:function(v){return void 0===v&&(v=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,-1===this.loop&&(this.isInfinite=!0,this.loopCounter=u.MAX),v||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(m.TWEEN_ACTIVE,"onActive")),this},update:function(v){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(v*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(v),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(v),!1;this.hasStarted||(this.startDelay-=v,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(m.TWEEN_START,"onStart"),v=0));var x=!1;if(this.isActive())for(var b=this.data,_=0;_<this.totalData;_++)b[_].update(v)&&(x=!0);this.elapsed+=v,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=v,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),x||this.nextState();var E=this.isPendingRemove();return E&&this.persist&&(this.setFinishedState(),E=!1),E},forward:function(v){return this.update(v),this},rewind:function(v){return this.update(-v),this},dispatchEvent:function(v,x){if(!this.isSeeking){this.emit(v,this,this.targets);var b=this.callbacks[x];b&&b.func.apply(this.callbackScope,[this,this.targets].concat(b.params))}},destroy:function(){y.prototype.destroy.call(this),this.targets=null}});h.register("tween",function(v){return this.scene.sys.tweens.add(v)}),f.register("tween",function(v){return this.scene.sys.tweens.create(v)}),C.exports=g},43960:(C,k,a)=>{var y=a(72905),T=a(70402),m=a(83419),f=a(842),h=a(44603),c=a(39429),u=a(86353),p=new m({Extends:T,initialize:function(g){T.call(this,g),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=-1===this.loop?u.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(d){var g=this.parent.create(d);Array.isArray(g)||(g=[g]);for(var v=this.data,x=0;x<g.length;x++){var b=g[x];b.parent=this,v.push(b.reset())}return this.totalData=v.length,this},remove:function(d){return y(this.data,d),d.setRemovedState(),d===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(d){for(var g=this.data,v=0;v<this.totalData;v++)if(g[v].hasTarget(d))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(d){return d.seek(),d.setActiveState(),this},makeActive:function(d){return d.reset(),d.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"));else{if(!(this.completeDelay>0))return this.onCompleteHandler(),!0;this.countdown=this.completeDelay,this.setCompleteDelayState()}return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var d=this.data,g=this.totalData,v=0;v<g;v++)d[v].reset(!1);this.setCurrentTween(0)},update:function(d){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;d*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(d):this.isCompleteDelayed()?this.updateCompleteDelay(d):this.isStartDelayed()&&(d=this.updateStartCountdown(d));var g=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(d)&&this.nextTween()&&this.nextState(),(g=this.isPendingRemove())&&this.persist&&(this.setFinishedState(),g=!1)),g},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData||(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(d){this.currentIndex=d,this.currentTween=this.data[d],this.currentTween.setActiveState()},dispatchEvent:function(d,g){this.emit(d,this);var v=this.callbacks[g];v&&v.func.apply(this.callbackScope,[this].concat(v.params))},destroy:function(){T.prototype.destroy.call(this),this.currentTween=null}});c.register("tweenchain",function(d){return this.scene.sys.tweens.chain(d)}),h.register("tweenchain",function(d){return this.scene.sys.tweens.create(d)}),C.exports=p},48177:(C,k,a)=>{var y=a(95042),T=a(45319),m=a(83419),f=a(842),h=new m({Extends:y,initialize:function(u,p,d,g,v,x,b,_,E,A,D,I,R,F,L,V,B){y.call(this,u,p,_,E,A,D,I,R,F,L),this.key=d,this.getActiveValue=x,this.getEndValue=g,this.getStartValue=v,this.ease=b,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=V,this.interpolationData=B},reset:function(c){y.prototype.reset.call(this);var u=this.tween.targets[this.targetIndex],p=this.key;c&&(u[p]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(u[p]=this.getActiveValue(u,p,0))},update:function(c){var u=this.tween,p=u.totalTargets,d=this.targetIndex,g=u.targets[d],v=this.key;if(!g)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=c,this.elapsed<=0&&(this.elapsed=0,c=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(f.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(g,v,g[v],d,p,u),this.end=this.getEndValue(g,v,this.start,d,p,u),this.current=this.start,g[v]=this.start,this.setPlayingForwardState(),!0;var x=this.isPlayingForward(),b=this.isPlayingBackward();if(x||b){var _=this.elapsed,E=this.duration,A=0,D=!1;(_+=c)>=E?(A=_-E,_=E,D=!0):_<0&&(_=0);var I=T(_/E,0,1);this.elapsed=_,this.progress=I,this.previous=this.current,x||(I=1-I);var R=this.ease(I);this.current=this.interpolation?this.interpolation(this.interpolationData,R):this.start+(this.end-this.start)*R,g[v]=this.current,D&&(x?this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(A):this.setStateFromStart(A)),this.dispatchEvent(f.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(c,u){var p=this.tween;if(!p.isSeeking){var d=p.targets[this.targetIndex],g=this.key,v=this.current,x=this.previous;p.emit(c,p,g,d,v,x);var b=p.callbacks[u];b&&b.func.apply(p.callbackScope,[p,d,g,v,x].concat(b.params))}},destroy:function(){y.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});C.exports=h},42220:(C,k,a)=>{var y=a(95042),T=a(45319),m=a(83419),f=a(842),h=new m({Extends:y,initialize:function(u,p,d,g,v,x,b,_,E,A,D){y.call(this,u,p,v,x,!1,b,_,E,A,D),this.key="texture",this.startTexture=null,this.endTexture=d,this.startFrame=null,this.endFrame=g,this.yoyo=0!==_},reset:function(c){y.prototype.reset.call(this);var u=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=u.texture.key,this.startFrame=u.frame.name),c&&u.setTexture(this.startTexture,this.startFrame)},update:function(c){var d=this.tween.targets[this.targetIndex];if(!d)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=c,this.elapsed<=0&&(this.elapsed=0,c=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(f.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&d.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var g=this.isPlayingForward(),v=this.isPlayingBackward();if(g||v){var x=this.elapsed,b=this.duration,_=0,E=!1;(x+=c)>=b?(_=x-b,x=b,E=!0):x<0&&(x=0);var A=T(x/b,0,1);this.elapsed=x,this.progress=A,E&&(g?(d.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(_)):(d.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(_))),this.dispatchEvent(f.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(c,u){var p=this.tween;if(!p.isSeeking){var d=p.targets[this.targetIndex],g=this.key;p.emit(c,p,g,d);var v=p.callbacks[u];v&&v.func.apply(p.callbackScope,[p,d,g].concat(v.params))}},destroy:function(){y.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});C.exports=h},86353:C=>{C.exports={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999}},83419:C=>{function a(h,c,u){var p=u?h[c]:Object.getOwnPropertyDescriptor(h,c);return!u&&p.value&&"object"==typeof p.value&&(p=p.value),!(!p||!function k(h){return!!h.get&&"function"==typeof h.get||!!h.set&&"function"==typeof h.set}(p))&&(typeof p.enumerable>"u"&&(p.enumerable=!0),typeof p.configurable>"u"&&(p.configurable=!0),p)}function y(h,c){var u=Object.getOwnPropertyDescriptor(h,c);return!!u&&(u.value&&"object"==typeof u.value&&(u=u.value),!1===u.configurable)}function T(h,c,u,p){for(var d in c)if(c.hasOwnProperty(d)){var g=a(c,d,u);if(!1!==g){if(y((p||h).prototype,d)){if(f.ignoreFinals)continue;throw new Error("cannot override final property '"+d+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(h.prototype,d,g)}else h.prototype[d]=c[d]}}function m(h,c){if(c){Array.isArray(c)||(c=[c]);for(var u=0;u<c.length;u++)T(h,c[u].prototype||c[u])}}function f(h){var c,u;if(h||(h={}),h.initialize){if("function"!=typeof h.initialize)throw new Error("initialize must be a function");c=h.initialize,delete h.initialize}else if(h.Extends){var p=h.Extends;c=function(){p.apply(this,arguments)}}else c=function(){};h.Extends?(c.prototype=Object.create(h.Extends.prototype),c.prototype.constructor=c,u=h.Extends,delete h.Extends):c.prototype.constructor=c;var d=null;return h.Mixins&&(d=h.Mixins,delete h.Mixins),m(c,d),T(c,h,!0,u),c}f.extend=T,f.mixin=m,f.ignoreFinals=!1,C.exports=f},29747:C=>{C.exports=function(){}},20242:C=>{C.exports=function(){return null}},71146:C=>{C.exports=function(a,y,T,m,f){if(void 0===f&&(f=a),T>0){var h=T-a.length;if(h<=0)return null}if(!Array.isArray(y))return-1===a.indexOf(y)?(a.push(y),m&&m.call(f,y),y):null;for(var c=y.length-1;c>=0;)-1!==a.indexOf(y[c])&&y.splice(c,1),c--;if(0===(c=y.length))return null;T>0&&c>h&&(y.splice(h),c=h);for(var u=0;u<c;u++){var p=y[u];a.push(p),m&&m.call(f,p)}return y}},51067:C=>{C.exports=function(a,y,T,m,f,h){if(void 0===T&&(T=0),void 0===h&&(h=a),m>0){var c=m-a.length;if(c<=0)return null}if(!Array.isArray(y))return-1===a.indexOf(y)?(a.splice(T,0,y),f&&f.call(h,y),y):null;for(var u=y.length-1;u>=0;)-1!==a.indexOf(y[u])&&y.pop(),u--;if(0===(u=y.length))return null;m>0&&u>c&&(y.splice(c),u=c);for(var p=u-1;p>=0;p--){var d=y[p];a.splice(T,0,d),f&&f.call(h,d)}return y}},66905:C=>{C.exports=function(a,y){var T=a.indexOf(y);return-1!==T&&T<a.length&&(a.splice(T,1),a.push(y)),y}},21612:(C,k,a)=>{var y=a(82011);C.exports=function(m,f,h,c,u){void 0===c&&(c=0),void 0===u&&(u=m.length);var p=0;if(y(m,c,u))for(var d=c;d<u;d++)m[d][f]===h&&p++;return p}},95428:C=>{C.exports=function(a,y,T){var m,f=[null];for(m=3;m<arguments.length;m++)f.push(arguments[m]);for(m=0;m<a.length;m++)f[0]=a[m],y.apply(T,f);return a}},36914:(C,k,a)=>{var y=a(82011);C.exports=function(m,f,h,c,u){if(void 0===c&&(c=0),void 0===u&&(u=m.length),y(m,c,u)){var p,d=[null];for(p=5;p<arguments.length;p++)d.push(arguments[p]);for(p=c;p<u;p++)d[0]=m[p],f.apply(h,d)}return m}},81957:C=>{C.exports=function(a,y,T){if(!y.length)return NaN;if(1===y.length)return y[0];var f,h,m=1;if(T){if(a<y[0][T])return y[0];for(;y[m][T]<a;)m++}else for(;y[m]<a;)m++;return m>y.length&&(m=y.length),T?(h=y[m][T])-a<=a-(f=y[m-1][T])?y[m]:y[m-1]:(h=y[m])-a<=a-(f=y[m-1])?h:f}},43491:C=>{var k=function(a,y){void 0===y&&(y=[]);for(var T=0;T<a.length;T++)Array.isArray(a[T])?k(a[T],y):y.push(a[T]);return y};C.exports=k},46710:(C,k,a)=>{var y=a(82011);C.exports=function(m,f,h,c,u){void 0===c&&(c=0),void 0===u&&(u=m.length);var p=[];if(y(m,c,u))for(var d=c;d<u;d++){var g=m[d];(!f||f&&void 0===h&&g.hasOwnProperty(f)||f&&void 0!==h&&g[f]===h)&&p.push(g)}return p}},58731:(C,k,a)=>{var y=a(82011);C.exports=function(m,f,h,c,u){if(void 0===c&&(c=0),void 0===u&&(u=m.length),y(m,c,u))for(var p=c;p<u;p++){var d=m[p];if(!f||f&&void 0===h&&d.hasOwnProperty(f)||f&&void 0!==h&&d[f]===h)return d}return null}},26546:C=>{C.exports=function(a,y,T){void 0===y&&(y=0),void 0===T&&(T=a.length);var m=y+Math.floor(Math.random()*T);return void 0===a[m]?null:a[m]}},85835:C=>{C.exports=function(a,y,T){if(y===T)return a;var m=a.indexOf(y),f=a.indexOf(T);if(m<0||f<0)throw new Error("Supplied items must be elements of the same array");return m>f||(a.splice(m,1),f=a.indexOf(T),a.splice(f+1,0,y)),a}},83371:C=>{C.exports=function(a,y,T){if(y===T)return a;var m=a.indexOf(y),f=a.indexOf(T);if(m<0||f<0)throw new Error("Supplied items must be elements of the same array");return m<f||(a.splice(m,1),0===f?a.unshift(y):a.splice(f,0,y)),a}},70864:C=>{C.exports=function(a,y){var T=a.indexOf(y);if(T>0){var m=a[T-1],f=a.indexOf(m);a[T]=m,a[f]=y}return a}},69693:C=>{C.exports=function(a,y,T){var m=a.indexOf(y);if(-1===m||T<0||T>=a.length)throw new Error("Supplied index out of bounds");return m!==T&&(a.splice(m,1),a.splice(T,0,y)),y}},40853:C=>{C.exports=function(a,y){var T=a.indexOf(y);if(-1!==T&&T<a.length-1){var m=a[T+1],f=a.indexOf(m);a[T]=m,a[f]=y}return a}},20283:C=>{C.exports=function(a,y,T,m){var h,f=[],c=!1;if((T||m)&&(c=!0,T||(T=""),m||(m="")),y<a)for(h=a;h>=y;h--)f.push(c?T+h.toString()+m:h);else for(h=a;h<=y;h++)f.push(c?T+h.toString()+m:h);return f}},593:(C,k,a)=>{var y=a(2284);C.exports=function(m,f,h){void 0===m&&(m=0),void 0===f&&(f=null),void 0===h&&(h=1),null===f&&(f=m,m=0);for(var c=[],u=Math.max(y((f-m)/(h||1)),0),p=0;p<u;p++)c.push(m),m+=h;return c}},43886:C=>{function k(T,m,f){var h=T[m];T[m]=T[f],T[f]=h}function a(T,m){return T<m?-1:T>m?1:0}var y=function(T,m,f,h,c){for(void 0===f&&(f=0),void 0===h&&(h=T.length-1),void 0===c&&(c=a);h>f;){if(h-f>600){var u=h-f+1,p=m-f+1,d=Math.log(u),g=.5*Math.exp(2*d/3),v=.5*Math.sqrt(d*g*(u-g)/u)*(p-u/2<0?-1:1),x=Math.max(f,Math.floor(m-p*g/u+v)),b=Math.min(h,Math.floor(m+(u-p)*g/u+v));y(T,m,x,b,c)}var _=T[m],E=f,A=h;for(k(T,f,m),c(T[h],_)>0&&k(T,f,h);E<A;){for(k(T,E,A),E++,A--;c(T[E],_)<0;)E++;for(;c(T[A],_)>0;)A--}0===c(T[f],_)?k(T,f,A):k(T,++A,h),A<=m&&(f=A+1),m<=A&&(h=A-1)}};C.exports=y},88492:(C,k,a)=>{var y=a(35154),T=a(33680),m=function(h,c,u){for(var p=[],d=0;d<h.length;d++)for(var g=0;g<c.length;g++)for(var v=0;v<u;v++)p.push({a:h[d],b:c[g]});return p};C.exports=function(h,c,u){var p=y(u,"max",0),d=y(u,"qty",1),g=y(u,"random",!1),v=y(u,"randomB",!1),x=y(u,"repeat",0),b=y(u,"yoyo",!1),_=[];if(v&&T(c),-1===x)if(0===p)x=0;else{var E=h.length*c.length*d;b&&(E*=2),x=Math.ceil(p/E)}for(var A=0;A<=x;A++){var D=m(h,c,d);g&&T(D),_=_.concat(D),b&&(D.reverse(),_=_.concat(D))}return p&&_.splice(p),_}},72905:(C,k,a)=>{var y=a(19133);C.exports=function(m,f,h,c){var u;if(void 0===c&&(c=m),!Array.isArray(f))return-1!==(u=m.indexOf(f))?(y(m,u),h&&h.call(c,f),f):null;for(var p=f.length-1,d=[];p>=0;){var g=f[p];-1!==(u=m.indexOf(g))&&(y(m,u),d.push(g),h&&h.call(c,g)),p--}return d}},60248:(C,k,a)=>{var y=a(19133);C.exports=function(m,f,h,c){if(void 0===c&&(c=m),f<0||f>m.length-1)throw new Error("Index out of bounds");var u=y(m,f);return h&&h.call(c,u),u}},81409:(C,k,a)=>{var y=a(82011);C.exports=function(m,f,h,c,u){if(void 0===f&&(f=0),void 0===h&&(h=m.length),void 0===u&&(u=m),y(m,f,h)){var d=m.splice(f,h-f);if(c)for(var g=0;g<d.length;g++)c.call(u,d[g]);return d}return[]}},31856:(C,k,a)=>{var y=a(19133);C.exports=function(m,f,h){void 0===f&&(f=0),void 0===h&&(h=m.length);var c=f+Math.floor(Math.random()*h);return y(m,c)}},42169:C=>{C.exports=function(a,y,T){var m=a.indexOf(y),f=a.indexOf(T);return-1!==m&&-1===f&&(a[m]=T,!0)}},86003:C=>{C.exports=function(a,y){void 0===y&&(y=1);for(var T=null,m=0;m<y;m++)T=a.shift(),a.push(T);return T}},49498:C=>{C.exports=function(a,y){void 0===y&&(y=1);for(var T=null,m=0;m<y;m++)T=a.pop(),a.unshift(T);return T}},82011:C=>{C.exports=function(a,y,T,m){var f=a.length;if(y<0||y>f||y>=T||T>f){if(m)throw new Error("Range Error: Values outside acceptable range");return!1}return!0}},89545:C=>{C.exports=function(a,y){var T=a.indexOf(y);return-1!==T&&T>0&&(a.splice(T,1),a.unshift(y)),y}},17810:(C,k,a)=>{var y=a(82011);C.exports=function(m,f,h,c,u){if(void 0===c&&(c=0),void 0===u&&(u=m.length),y(m,c,u))for(var p=c;p<u;p++){var d=m[p];d.hasOwnProperty(f)&&(d[f]=h)}return m}},33680:C=>{C.exports=function(a){for(var y=a.length-1;y>0;y--){var T=Math.floor(Math.random()*(y+1)),m=a[y];a[y]=a[T],a[T]=m}return a}},90126:C=>{C.exports=function(a){var y=/\D/g;return a.sort(function(T,m){return parseInt(T.replace(y,""),10)-parseInt(m.replace(y,""),10)}),a}},19133:C=>{C.exports=function(a,y){if(!(y>=a.length)){for(var T=a.length-1,m=a[y],f=y;f<T;f++)a[f]=a[f+1];return a.length=T,m}}},19186:(C,k,a)=>{var y=a(82264);function T(c,u){return String(c).localeCompare(u)}function f(c,u,p,d){var b,_,E,A,D,g=c.length,v=0,x=2*p;for(b=0;b<g;b+=x)for(E=(_=b+p)+p,_>g&&(_=g),E>g&&(E=g),A=b,D=_;;)if(A<_&&D<E)u(c[A],c[D])<=0?d[v++]=c[A++]:d[v++]=c[D++];else if(A<_)d[v++]=c[A++];else{if(!(D<E))break;d[v++]=c[D++]}}C.exports=function(c,u){if(void 0===u&&(u=T),!c||c.length<2)return c;if(y.features.stableSort)return c.sort(u);var p=function m(c,u){var p=c.length;if(p<=1)return c;for(var d=new Array(p),g=1;g<p;g*=2){f(c,u,g,d);var v=c;c=d,d=v}return c}(c,u);return p!==c&&f(p,null,c.length,c),c}},25630:C=>{C.exports=function(a,y,T){if(y===T)return a;var m=a.indexOf(y),f=a.indexOf(T);if(m<0||f<0)throw new Error("Supplied items must be elements of the same array");return a[m]=T,a[f]=y,a}},37105:(C,k,a)=>{C.exports={Matrix:a(54915),Add:a(71146),AddAt:a(51067),BringToTop:a(66905),CountAllMatching:a(21612),Each:a(95428),EachInRange:a(36914),FindClosestInSorted:a(81957),Flatten:a(43491),GetAll:a(46710),GetFirst:a(58731),GetRandom:a(26546),MoveDown:a(70864),MoveTo:a(69693),MoveUp:a(40853),MoveAbove:a(85835),MoveBelow:a(83371),NumberArray:a(20283),NumberArrayStep:a(593),QuickSelect:a(43886),Range:a(88492),Remove:a(72905),RemoveAt:a(60248),RemoveBetween:a(81409),RemoveRandomElement:a(31856),Replace:a(42169),RotateLeft:a(86003),RotateRight:a(49498),SafeRange:a(82011),SendToBack:a(89545),SetAll:a(17810),Shuffle:a(33680),SortByDigits:a(90126),SpliceOne:a(19133),StableSort:a(19186),Swap:a(25630)}},86922:C=>{C.exports=function(a){if(!Array.isArray(a)||!Array.isArray(a[0]))return!1;for(var y=a[0].length,T=1;T<a.length;T++)if(a[T].length!==y)return!1;return!0}},63362:(C,k,a)=>{var y=a(41836),T=a(86922);C.exports=function(f){var h="";if(!T(f))return h;for(var c=0;c<f.length;c++){for(var u=0;u<f[c].length;u++){var p=f[c][u].toString();h+="undefined"!==p?y(p,2):"?",u<f[c].length-1&&(h+=" |")}if(c<f.length-1){h+="\n";for(var d=0;d<f[c].length;d++)h+="---",d<f[c].length-1&&(h+="+");h+="\n"}}return h}},92598:C=>{C.exports=function(a){return a.reverse()}},21224:C=>{C.exports=function(a){for(var y=0;y<a.length;y++)a[y].reverse();return a}},98717:(C,k,a)=>{var y=a(37829);C.exports=function(m){return y(m,180)}},44657:(C,k,a)=>{var y=a(37829);C.exports=function(m,f){void 0===f&&(f=1);for(var h=0;h<f;h++)m=y(m,90);return m}},37829:(C,k,a)=>{var y=a(86922),T=a(2429);C.exports=function(f,h){if(void 0===h&&(h=90),!y(f))return null;if("string"!=typeof h&&(h=(h%360+360)%360),90===h||-270===h||"rotateLeft"===h)(f=T(f)).reverse();else if(-90===h||270===h||"rotateRight"===h)f.reverse(),f=T(f);else if(180===Math.abs(h)||"rotate180"===h){for(var c=0;c<f.length;c++)f[c].reverse();f.reverse()}return f}},92632:(C,k,a)=>{var y=a(37829);C.exports=function(m,f){void 0===f&&(f=1);for(var h=0;h<f;h++)m=y(m,-90);return m}},69512:(C,k,a)=>{var y=a(86003),T=a(49498);C.exports=function(f,h,c){if(void 0===h&&(h=0),void 0===c&&(c=0),0!==c&&(c<0?y(f,Math.abs(c)):T(f,c)),0!==h)for(var u=0;u<f.length;u++){var p=f[u];h<0?y(p,Math.abs(h)):T(p,h)}return f}},2429:C=>{C.exports=function(a){for(var y=a.length,T=a[0].length,m=new Array(T),f=0;f<T;f++){m[f]=new Array(y);for(var h=y-1;h>-1;h--)m[f][h]=a[h][f]}return m}},54915:(C,k,a)=>{C.exports={CheckMatrix:a(86922),MatrixToString:a(63362),ReverseColumns:a(92598),ReverseRows:a(21224),Rotate180:a(98717),RotateLeft:a(44657),RotateMatrix:a(37829),RotateRight:a(92632),Translate:a(69512),TransposeMatrix:a(2429)}},71334:C=>{var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";C.exports=function(y,T){for(var m=new Uint8Array(y),f=m.length,h=T?"data:"+T+";base64,":"",c=0;c<f;c+=3)h+=k[m[c]>>2],h+=k[(3&m[c])<<4|m[c+1]>>4],h+=k[(15&m[c+1])<<2|m[c+2]>>6],h+=k[63&m[c+2]];return f%3==2?h=h.substring(0,h.length-1)+"=":f%3==1&&(h=h.substring(0,h.length-2)+"=="),h}},53134:C=>{for(var a=new Uint8Array(256),y=0;y<64;y++)a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(y)]=y;C.exports=function(m){var u,p,d,g,f=(m=m.substr(m.indexOf(",")+1)).length,h=.75*f,c=0;"="===m[f-1]&&(h--,"="===m[f-2]&&h--);for(var v=new ArrayBuffer(h),x=new Uint8Array(v),b=0;b<f;b+=4)u=a[m.charCodeAt(b)],p=a[m.charCodeAt(b+1)],d=a[m.charCodeAt(b+2)],g=a[m.charCodeAt(b+3)],x[c++]=u<<2|p>>4,x[c++]=(15&p)<<4|d>>2,x[c++]=(3&d)<<6|63&g;return v}},65839:(C,k,a)=>{C.exports={ArrayBufferToBase64:a(71334),Base64ToArrayBuffer:a(53134)}},91799:(C,k,a)=>{C.exports={Array:a(37105),Base64:a(65839),Objects:a(1183),String:a(31749),NOOP:a(29747),NULL:a(20242)}},41786:C=>{C.exports=function(a){var y={};for(var T in a)y[T]=Array.isArray(a[T])?a[T].slice(0):a[T];return y}},62644:C=>{var k=function(a){var y,m;if("object"!=typeof a||null===a)return a;for(m in y=Array.isArray(a)?[]:{},a)y[m]=k(a[m]);return y};C.exports=k},79291:(C,k,a)=>{var y=a(41212),T=function(){var m,f,h,c,u,p,d=arguments[0]||{},g=1,v=arguments.length,x=!1;for("boolean"==typeof d&&(x=d,d=arguments[1]||{},g=2),v===g&&(d=this,--g);g<v;g++)if(null!=(m=arguments[g]))for(f in m)h=d[f],d!==(c=m[f])&&(x&&c&&(y(c)||(u=Array.isArray(c)))?(u?(u=!1,p=h&&Array.isArray(h)?h:[]):p=h&&y(h)?h:{},d[f]=T(x,p,c)):void 0!==c&&(d[f]=c));return d};C.exports=T},23568:(C,k,a)=>{var y=a(75508),T=a(35154);C.exports=function(f,h,c){var u=T(f,h,null);if(null===u)return c;if(Array.isArray(u))return y.RND.pick(u);if("object"==typeof u){if(u.hasOwnProperty("randInt"))return y.RND.integerInRange(u.randInt[0],u.randInt[1]);if(u.hasOwnProperty("randFloat"))return y.RND.realInRange(u.randFloat[0],u.randFloat[1])}else if("function"==typeof u)return u(h);return u}},95540:C=>{C.exports=function(a,y,T){var m=typeof a;return a&&"number"!==m&&"string"!==m&&a.hasOwnProperty(y)&&void 0!==a[y]?a[y]:T}},82840:(C,k,a)=>{var y=a(35154),T=a(45319);C.exports=function(f,h,c,u,p){void 0===p&&(p=c);var d=y(f,h,p);return T(d,c,u)}},35154:C=>{C.exports=function(a,y,T,m){if(!a&&!m||"number"==typeof a)return T;if(a&&a.hasOwnProperty(y))return a[y];if(m&&m.hasOwnProperty(y))return m[y];if(-1!==y.indexOf(".")){for(var f=y.split("."),h=a,c=m,u=T,p=T,d=!0,g=!0,v=0;v<f.length;v++)h&&h.hasOwnProperty(f[v])?(u=h[f[v]],h=h[f[v]]):d=!1,c&&c.hasOwnProperty(f[v])?(p=c[f[v]],c=c[f[v]]):g=!1;return d?u:g?p:T}return T}},69036:C=>{C.exports=function(a,y){for(var T=0;T<y.length;T++)if(!a.hasOwnProperty(y[T]))return!1;return!0}},1985:C=>{C.exports=function(a,y){for(var T=0;T<y.length;T++)if(a.hasOwnProperty(y[T]))return!0;return!1}},97022:C=>{C.exports=function(a,y){return a.hasOwnProperty(y)}},41212:C=>{C.exports=function(a){if(!a||"object"!=typeof a||a.nodeType||a===a.window)return!1;try{if(a.constructor&&!{}.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0}},46975:(C,k,a)=>{var y=a(41786);C.exports=function(m,f){var h=y(m);for(var c in f)h.hasOwnProperty(c)||(h[c]=f[c]);return h}},269:(C,k,a)=>{var y=a(41786);C.exports=function(m,f){var h=y(m);for(var c in f)h.hasOwnProperty(c)&&(h[c]=f[c]);return h}},18254:(C,k,a)=>{var y=a(97022);C.exports=function(m,f){for(var h={},c=0;c<f.length;c++){var u=f[c];y(m,u)&&(h[u]=m[u])}return h}},61622:C=>{C.exports=function(a,y,T){if(!a||"number"==typeof a)return!1;if(a.hasOwnProperty(y))return a[y]=T,!0;if(-1!==y.indexOf(".")){for(var m=y.split("."),f=a,h=a,c=0;c<m.length;c++){if(!f.hasOwnProperty(m[c]))return!1;h=f,f=f[m[c]]}return h[m[m.length-1]]=T,!0}return!1}},1183:(C,k,a)=>{C.exports={Clone:a(41786),DeepCopy:a(62644),Extend:a(79291),GetAdvancedValue:a(23568),GetFastValue:a(95540),GetMinMaxValue:a(82840),GetValue:a(35154),HasAll:a(69036),HasAny:a(1985),HasValue:a(97022),IsPlainObject:a(41212),Merge:a(46975),MergeRight:a(269),Pick:a(18254),SetValue:a(61622)}},27902:C=>{C.exports=function(a,y){return a.replace(/%([0-9]+)/g,function(T,m){return y[Number(m)-1]})}},41836:C=>{C.exports=function(a,y,T,m){void 0===y&&(y=0),void 0===T&&(T=" "),void 0===m&&(m=3);var f=0;if(y+1>=(a=a.toString()).length)switch(m){case 1:a=new Array(y+1-a.length).join(T)+a;break;case 3:var h=Math.ceil((f=y-a.length)/2);a=new Array(f-h+1).join(T)+a+new Array(h+1).join(T);break;default:a+=new Array(y+1-a.length).join(T)}return a}},33628:C=>{C.exports=function(a,y){return 0===y?a.slice(1):a.slice(0,y)+a.slice(y+1)}},27671:C=>{C.exports=function(a){return a.split("").reverse().join("")}},45650:C=>{C.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var y=16*Math.random()|0;return("x"===a?y:3&y|8).toString(16)})}},35355:C=>{C.exports=function(a){return a&&a[0].toUpperCase()+a.slice(1)}},31749:(C,k,a)=>{C.exports={Format:a(27902),Pad:a(41836),RemoveAt:a(33628),Reverse:a(27671),UppercaseFirst:a(35355),UUID:a(45650)}}},It={};function Xt(C){var k=It[C];if(void 0!==k)return k.exports;var a=It[C]={exports:{}};return he[C](a,a.exports,Xt),a.exports}return Xt.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Xt(85454)})(),Wt.exports=Xt()},6293:Wt=>{"use strict";Wt.exports=JSON.parse('{"a":["ahole","anus","ash0le","ash0les","asholes","ass","Ass Monkey","Assface","assh0le","assh0lez","asshole","assholes","assholz","asswipe","azzhole","bassterds","bastard","bastards","bastardz","basterds","basterdz","Biatch","bitch","bitches","Blow Job","boffing","butthole","buttwipe","c0ck","c0cks","c0k","Carpet Muncher","cawk","cawks","Clit","cnts","cntz","cock","cockhead","cock-head","cocks","CockSucker","cock-sucker","crap","cum","cunt","cunts","cuntz","dick","dild0","dild0s","dildo","dildos","dilld0","dilld0s","dominatricks","dominatrics","dominatrix","dyke","enema","f u c k","f u c k e r","fag","fag1t","faget","fagg1t","faggit","faggot","fagg0t","fagit","fags","fagz","faig","faigs","fart","flipping the bird","fuck","fucker","fuckin","fucking","fucks","Fudge Packer","fuk","Fukah","Fuken","fuker","Fukin","Fukk","Fukkah","Fukken","Fukker","Fukkin","g00k","God-damned","h00r","h0ar","h0re","hells","hoar","hoor","hoore","jackoff","jap","japs","jerk-off","jisim","jiss","jizm","jizz","knob","knobs","knobz","kunt","kunts","kuntz","Lezzian","Lipshits","Lipshitz","masochist","masokist","massterbait","masstrbait","masstrbate","masterbaiter","masterbate","masterbates","Motha Fucker","Motha Fuker","Motha Fukkah","Motha Fukker","Mother Fucker","Mother Fukah","Mother Fuker","Mother Fukkah","Mother Fukker","mother-fucker","Mutha Fucker","Mutha Fukah","Mutha Fuker","Mutha Fukkah","Mutha Fukker","n1gr","nastt","nigger;","nigur;","niiger;","niigr;","orafis","orgasim;","orgasm","orgasum","oriface","orifice","orifiss","packi","packie","packy","paki","pakie","paky","pecker","peeenus","peeenusss","peenus","peinus","pen1s","penas","penis","penis-breath","penus","penuus","Phuc","Phuck","Phuk","Phuker","Phukker","polac","polack","polak","Poonani","pr1c","pr1ck","pr1k","pusse","pussee","pussy","puuke","puuker","qweir","recktum","rectum","retard","sadist","scank","schlong","screwing","semen","sex","sexy","Sh!t","sh1t","sh1ter","sh1ts","sh1tter","sh1tz","shit","shits","shitter","Shitty","Shity","shitz","Shyt","Shyte","Shytty","Shyty","skanck","skank","skankee","skankey","skanks","Skanky","slag","slut","sluts","Slutty","slutz","son-of-a-bitch","tit","turd","va1jina","vag1na","vagiina","vagina","vaj1na","vajina","vullva","vulva","w0p","wh00r","wh0re","whore","xrated","xxx","b!+ch","bitch","blowjob","clit","arschloch","fuck","shit","ass","asshole","b!tch","b17ch","b1tch","bastard","bi+ch","boiolas","buceta","c0ck","cawk","chink","cipa","clits","cock","cum","cunt","dildo","dirsa","ejakulate","fatass","fcuk","fuk","fux0r","hoer","hore","jism","kawk","l3itch","l3i+ch","masturbate","masterbat*","masterbat3","motherfucker","s.o.b.","mofo","nazi","nigga","nigger","nutsack","phuck","pimpis","pusse","pussy","scrotum","sh!t","shemale","shi+","sh!+","slut","smut","teets","tits","boobs","b00bs","teez","testical","testicle","titt","w00se","jackoff","wank","whoar","whore","*damn","*dyke","*fuck*","*shit*","@$$","amcik","andskota","arse*","assrammer","ayir","bi7ch","bitch*","bollock*","breasts","butt-pirate","cabron","cazzo","chraa","chuj","Cock*","cunt*","d4mn","daygo","dego","dick*","dike*","dupa","dziwka","ejackulate","Ekrem*","Ekto","enculer","faen","fag*","fanculo","fanny","feces","feg","Felcher","ficken","fitt*","Flikker","foreskin","Fotze","Fu(*","fuk*","futkretzn","gook","guiena","h0r","h4x0r","hell","helvete","hoer*","honkey","Huevon","hui","injun","jizz","kanker*","kike","klootzak","kraut","knulle","kuk","kuksuger","Kurac","kurwa","kusi*","kyrpa*","lesbo","mamhoon","masturbat*","merd*","mibun","monkleigh","mouliewop","muie","mulkku","muschi","nazis","nepesaurio","nigger*","orospu","paska*","perse","picka","pierdol*","pillu*","pimmel","piss*","pizda","poontsee","poop","porn","p0rn","pr0n","preteen","pula","pule","puta","puto","qahbeh","queef*","rautenberg","schaffer","scheiss*","schlampe","schmuck","screw","sh!t*","sharmuta","sharmute","shipal","shiz","skribz","skurwysyn","sphencter","spic","spierdalaj","splooge","suka","b00b*","testicle*","titt*","twat","vittu","wank*","wetback*","wichser","wop*","yed","zabourah"]}')}},Wt=>{Wt(Wt.s=4914)}]);